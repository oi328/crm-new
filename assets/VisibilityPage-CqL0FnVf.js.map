{"version":3,"file":"VisibilityPage-CqL0FnVf.js","sources":["../../src/pages/settings/company-setup/components/VisibilityMatrix.jsx","../../src/pages/settings/company-setup/visibility/VisibilityPage.jsx"],"sourcesContent":["import React from 'react'\n\nconst MODULES = ['leads','clients','deals','reservations','contracts','operations','matching','billing','reports','notifications','integrations']\n\nexport default function VisibilityMatrix({ departments = [], visibility = {}, onChange }) {\n  const toggle = (deptName, moduleKey) => {\n    const cur = visibility[deptName] || []\n    const has = cur.includes(moduleKey)\n    const nextDept = has ? cur.filter(m => m !== moduleKey) : [...cur, moduleKey]\n    const next = { ...visibility, [deptName]: nextDept }\n    onChange && onChange(next)\n  }\n\n  return (\n    <div className=\"overflow-x-auto\">\n      <table className=\"company-table nova-table w-full text-xs sm:text-sm min-w-[720px]\">\n        <thead>\n          <tr>\n            <th className=\"text-left p-2\">Department</th>\n            {MODULES.map(m => (\n              <th key={m} className=\"p-2 text-[10px] sm:text-xs font-medium company-setup-desc\">{m}</th>\n            ))}\n          </tr>\n        </thead>\n        <tbody>\n          {departments.map(d => (\n            <tr key={d.id}>\n              <td className=\"p-2 font-medium\">{d.name}</td>\n              {MODULES.map(m => {\n                const checked = (visibility[d.name] || []).includes(m)\n                return (\n                  <td key={m} className=\"p-2 text-center\">\n                    <input type=\"checkbox\" checked={checked} onChange={() => toggle(d.name, m)} />\n                  </td>\n                )\n              })}\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  )\n}","import React from 'react'\nimport PageHeader from '../components/PageHeader'\nimport Card from '../components/Card'\nimport SaveButton from '../components/SaveButton'\nimport VisibilityMatrix from '../components/VisibilityMatrix'\nimport { useCompanySetup } from '../store/CompanySetupContext'\n\nexport default function VisibilityPage() {\n  const { companySetup, updateVisibility } = useCompanySetup()\n\n  return (\n    <>\n      <div className=\"company-setup-page p-3 sm:p-4\">\n        <PageHeader title=\"Visibility Matrix\" description=\"Assign module access per department\" />\n        <Card>\n          <VisibilityMatrix departments={companySetup.departments} visibility={companySetup.visibility} onChange={updateVisibility} />\n        </Card>\n        <SaveButton onClick={() => updateVisibility(companySetup.visibility)} />\n      </div>\n    </>\n  )\n}\n"],"names":["MODULES","VisibilityMatrix","departments","visibility","onChange","toggle","deptName","moduleKey","cur","nextDept","m","next","jsxs","jsx","d","checked","VisibilityPage","companySetup","updateVisibility","useCompanySetup","Fragment","PageHeader","Card","SaveButton"],"mappings":"0GAEA,MAAMA,EAAU,CAAC,QAAQ,UAAU,QAAQ,eAAe,YAAY,aAAa,WAAW,UAAU,UAAU,gBAAgB,cAAc,EAEhJ,SAAwBC,EAAiB,CAAE,YAAAC,EAAc,CAAA,EAAI,WAAAC,EAAa,CAAA,EAAI,SAAAC,GAAY,CACxF,MAAMC,EAAS,CAACC,EAAUC,IAAc,CACtC,MAAMC,EAAML,EAAWG,CAAQ,GAAK,CAAA,EAE9BG,EADMD,EAAI,SAASD,CAAS,EACXC,EAAI,OAAOE,GAAKA,IAAMH,CAAS,EAAI,CAAC,GAAGC,EAAKD,CAAS,EACtEI,EAAO,CAAE,GAAGR,EAAY,CAACG,CAAQ,EAAGG,CAAA,EAC1CL,GAAYA,EAASO,CAAI,CAC3B,EAEA,aACG,MAAA,CAAI,UAAU,kBACb,SAAAC,EAAAA,KAAC,QAAA,CAAM,UAAU,mEACf,SAAA,CAAAC,EAAAA,IAAC,QAAA,CACC,gBAAC,KAAA,CACC,SAAA,CAAAA,EAAAA,IAAC,KAAA,CAAG,UAAU,gBAAgB,SAAA,aAAU,EACvCb,EAAQ,IAAIU,GACXG,EAAAA,IAAC,MAAW,UAAU,4DAA6D,SAAAH,CAAA,EAA1EA,CAA4E,CACtF,CAAA,CAAA,CACH,CAAA,CACF,QACC,QAAA,CACE,SAAAR,EAAY,IAAIY,UACd,KAAA,CACC,SAAA,CAAAD,EAAAA,IAAC,KAAA,CAAG,UAAU,kBAAmB,SAAAC,EAAE,KAAK,EACvCd,EAAQ,IAAIU,GAAK,CAChB,MAAMK,GAAWZ,EAAWW,EAAE,IAAI,GAAK,CAAA,GAAI,SAASJ,CAAC,EACrD,aACG,KAAA,CAAW,UAAU,kBACpB,SAAAG,EAAAA,IAAC,SAAM,KAAK,WAAW,QAAAE,EAAkB,SAAU,IAAMV,EAAOS,EAAE,KAAMJ,CAAC,CAAA,CAAG,GADrEA,CAET,CAEJ,CAAC,CAAA,GATMI,EAAE,EAUX,CACD,CAAA,CACH,CAAA,CAAA,CACF,CAAA,CACF,CAEJ,CCnCA,SAAwBE,GAAiB,CACvC,KAAM,CAAE,aAAAC,EAAc,iBAAAC,CAAA,EAAqBC,EAAA,EAE3C,OACEN,EAAAA,IAAAO,WAAA,CACE,SAAAR,EAAAA,KAAC,MAAA,CAAI,UAAU,gCACb,SAAA,CAAAC,EAAAA,IAACQ,EAAA,CAAW,MAAM,oBAAoB,YAAY,sCAAsC,EACxFR,EAAAA,IAACS,EAAA,CACC,SAAAT,EAAAA,IAACZ,EAAA,CAAiB,YAAagB,EAAa,YAAa,WAAYA,EAAa,WAAY,SAAUC,CAAA,CAAkB,EAC5H,QACCK,EAAA,CAAW,QAAS,IAAML,EAAiBD,EAAa,UAAU,CAAA,CAAG,CAAA,CAAA,CACxE,CAAA,CACF,CAEJ"}