import{r as d,j as e,u as f}from"./index-BRdVjKpW.js";import{P as w,C as b,S as y}from"./SaveButton-Cn46NJbN.js";function C({departments:i,onAdd:o,onUpdate:m,onDelete:u}){const[n,h]=d.useState(""),[r,p]=d.useState(null),[t,l]=d.useState({name:"",role:"Sales",users:0}),j=d.useMemo(()=>i.filter(s=>!n||`${s.name} ${s.role}`.toLowerCase().includes(n.toLowerCase())),[i,n]),g=s=>{p(s.id),l({name:s.name,role:s.role,users:s.users})},x=()=>{p(null),l({name:"",role:"Sales",users:0})},N=()=>{m&&m(r,t),x()},v=()=>{t.name&&(o&&o({...t}),l({name:"",role:"Sales",users:0}))};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-between gap-2 sm:gap-3 mb-3",children:[e.jsx("input",{className:"input w-full sm:w-64",placeholder:"Search departments",value:n,onChange:s=>h(s.target.value)}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-2",children:[e.jsx("input",{className:"input w-full sm:w-auto",placeholder:"Name",value:t.name,onChange:s=>l(a=>({...a,name:s.target.value}))}),e.jsx("select",{className:"input w-full sm:w-auto",value:t.role,onChange:s=>l(a=>({...a,role:s.target.value})),children:["Sales","Ops","Finance"].map(s=>e.jsx("option",{value:s,children:s},s))}),e.jsx("input",{className:"input w-24 sm:w-24",type:"number",value:t.users,onChange:s=>l(a=>({...a,users:Number(s.target.value||0)}))}),e.jsx("button",{className:"px-3 py-2 bg-green-600 text-white rounded w-full sm:w-auto",onClick:v,children:"Add"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"company-table nova-table w-full text-xs sm:text-sm min-w-[560px]",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left border-b",children:[e.jsx("th",{className:"py-2",children:"Name"}),e.jsx("th",{className:"py-2",children:"Role"}),e.jsx("th",{className:"py-2",children:"Users"}),e.jsx("th",{className:"py-2",children:"Actions"})]})}),e.jsx("tbody",{children:j.map(s=>e.jsxs("tr",{children:[e.jsx("td",{className:"py-2",children:r===s.id?e.jsx("input",{className:"input w-full",value:t.name,onChange:a=>l(c=>({...c,name:a.target.value}))}):s.name}),e.jsx("td",{className:"py-2",children:r===s.id?e.jsx("select",{className:"input w-full",value:t.role,onChange:a=>l(c=>({...c,role:a.target.value})),children:["Sales","Ops","Finance"].map(a=>e.jsx("option",{value:a,children:a},a))}):s.role}),e.jsx("td",{className:"py-2",children:r===s.id?e.jsx("input",{className:"input w-24",type:"number",value:t.users,onChange:a=>l(c=>({...c,users:Number(a.target.value||0)}))}):s.users}),e.jsx("td",{className:"py-2",children:r===s.id?e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-2 py-1 bg-indigo-600 text-white rounded",onClick:N,children:"Save"}),e.jsx("button",{className:"px-2 py-1 bg-gray-300 rounded",onClick:x,children:"Cancel"})]}):e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-2 py-1 bg-yellow-500 text-white rounded",onClick:()=>g(s),children:"Edit"}),e.jsx("button",{className:"px-2 py-1 bg-red-600 text-white rounded",onClick:()=>u&&u(s.id),children:"Delete"})]})})]},s.id))})]})})]})}function k(){const{companySetup:i,addDepartment:o,updateDepartment:m}=f(),u=n=>alert(`Delete ${n} (mock)`);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"company-setup-page p-3 sm:p-4",children:[e.jsx(w,{title:"Departments",description:"Manage departments and roles"}),e.jsx(b,{children:e.jsx(C,{departments:i.departments,onAdd:o,onUpdate:m,onDelete:u})}),e.jsx(y,{onClick:()=>{}})]})})}export{k as default};
//# sourceMappingURL=DepartmentsPage-D9RhtsUV.js.map
