{"version":3,"file":"DepartmentsPage-NUBDuJjz.js","sources":["../../src/pages/settings/company-setup/components/DepartmentsTable.jsx","../../src/pages/settings/company-setup/departments/DepartmentsPage.jsx"],"sourcesContent":["import React, { useMemo, useState } from 'react'\n\nexport default function DepartmentsTable({ departments, onAdd, onUpdate, onDelete }) {\n  const [q, setQ] = useState('')\n  const [editing, setEditing] = useState(null)\n  const [draft, setDraft] = useState({ name: '', role: 'Sales', users: 0 })\n\n  const filtered = useMemo(() => (\n    departments.filter(d => !q || `${d.name} ${d.role}`.toLowerCase().includes(q.toLowerCase()))\n  ), [departments, q])\n\n  const startEdit = (d) => { setEditing(d.id); setDraft({ name: d.name, role: d.role, users: d.users }) }\n  const cancelEdit = () => { setEditing(null); setDraft({ name: '', role: 'Sales', users: 0 }) }\n  const saveEdit = () => { onUpdate && onUpdate(editing, draft); cancelEdit() }\n\n  const addDept = () => {\n    if (!draft.name) return\n    onAdd && onAdd({ ...draft })\n    setDraft({ name: '', role: 'Sales', users: 0 })\n  }\n\n  return (\n    <div>\n      <div className=\"flex flex-col sm:flex-row items-stretch sm:items-center justify-between gap-2 sm:gap-3 mb-3\">\n        <input className=\"input w-full sm:w-64\" placeholder=\"Search departments\" value={q} onChange={e => setQ(e.target.value)} />\n        <div className=\"flex flex-wrap items-center gap-2 sm:gap-2\">\n          <input className=\"input w-full sm:w-auto\" placeholder=\"Name\" value={draft.name} onChange={e => setDraft(prev => ({ ...prev, name: e.target.value }))} />\n          <select className=\"input w-full sm:w-auto\" value={draft.role} onChange={e => setDraft(prev => ({ ...prev, role: e.target.value }))}>\n            {['Sales','Ops','Finance'].map(r => <option key={r} value={r}>{r}</option>)}\n          </select>\n          <input className=\"input w-24 sm:w-24\" type=\"number\" value={draft.users} onChange={e => setDraft(prev => ({ ...prev, users: Number(e.target.value || 0) }))} />\n          <button className=\"px-3 py-2 bg-green-600 text-white rounded w-full sm:w-auto\" onClick={addDept}>Add</button>\n        </div>\n      </div>\n\n      {/* Desktop Table */}\n      <div className=\"hidden md:block overflow-x-auto\">\n        <table className=\"company-table nova-table w-full text-xs sm:text-sm min-w-[560px]\">\n          <thead>\n            <tr className=\"text-left border-b\">\n              <th className=\"py-2\">Name</th>\n              <th className=\"py-2\">Role</th>\n              <th className=\"py-2\">Users</th>\n              <th className=\"py-2\">Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            {filtered.map(d => (\n              <tr key={d.id}>\n                <td className=\"py-2\">\n                  {editing === d.id ? (\n                  <input className=\"input w-full\" value={draft.name} onChange={e => setDraft(prev => ({ ...prev, name: e.target.value }))} />\n                  ) : d.name}\n                </td>\n                <td className=\"py-2\">\n                  {editing === d.id ? (\n                  <select className=\"input w-full\" value={draft.role} onChange={e => setDraft(prev => ({ ...prev, role: e.target.value }))}>\n                    {['Sales','Ops','Finance'].map(r => <option key={r} value={r}>{r}</option>)}\n                  </select>\n                  ) : d.role}\n                </td>\n                <td className=\"py-2\">\n                  {editing === d.id ? (\n                  <input className=\"input w-24\" type=\"number\" value={draft.users} onChange={e => setDraft(prev => ({ ...prev, users: Number(e.target.value || 0) }))} />\n                  ) : d.users}\n                </td>\n                <td className=\"py-2\">\n                  {editing === d.id ? (\n                  <div className=\"flex gap-2\">\n                    <button className=\"px-2 py-1 bg-indigo-600 text-white rounded\" onClick={saveEdit}>Save</button>\n                    <button className=\"px-2 py-1 bg-gray-300 rounded\" onClick={cancelEdit}>Cancel</button>\n                  </div>\n                  ) : (\n                  <div className=\"flex gap-2\">\n                    <button className=\"px-2 py-1 bg-yellow-500 text-white rounded\" onClick={() => startEdit(d)}>Edit</button>\n                    <button className=\"px-2 py-1 bg-red-600 text-white rounded\" onClick={() => onDelete && onDelete(d.id)}>Delete</button>\n                  </div>\n                  )}\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n\n      {/* Mobile List View */}\n      <div className=\"md:hidden space-y-3\">\n        {filtered.map(d => (\n          <div key={d.id} className=\"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-100 dark:border-gray-700\">\n            {editing === d.id ? (\n              <div className=\"space-y-3\">\n                <div>\n                  <label className=\"text-xs font-medium text-gray-500 mb-1 block\">Name</label>\n                  <input className=\"input w-full\" value={draft.name} onChange={e => setDraft(prev => ({ ...prev, name: e.target.value }))} />\n                </div>\n                <div>\n                  <label className=\"text-xs font-medium text-gray-500 mb-1 block\">Role</label>\n                  <select className=\"input w-full\" value={draft.role} onChange={e => setDraft(prev => ({ ...prev, role: e.target.value }))}>\n                    {['Sales','Ops','Finance'].map(r => <option key={r} value={r}>{r}</option>)}\n                  </select>\n                </div>\n                <div>\n                  <label className=\"text-xs font-medium text-gray-500 mb-1 block\">Users</label>\n                  <input className=\"input w-full\" type=\"number\" value={draft.users} onChange={e => setDraft(prev => ({ ...prev, users: Number(e.target.value || 0) }))} />\n                </div>\n                <div className=\"flex gap-2 pt-2\">\n                  <button className=\"flex-1 py-2 bg-indigo-600 text-white rounded text-sm font-medium\" onClick={saveEdit}>Save</button>\n                  <button className=\"flex-1 py-2 bg-gray-200 text-gray-700 dark:bg-gray-700 dark:text-gray-300 rounded text-sm font-medium\" onClick={cancelEdit}>Cancel</button>\n                </div>\n              </div>\n            ) : (\n              <div className=\"space-y-3\">\n                <div className=\"flex justify-between items-start\">\n                  <div>\n                    <h3 className=\"font-semibold text-gray-900 dark:text-white\">{d.name}</h3>\n                    <span className=\"inline-block px-2 py-0.5 mt-1 text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300 rounded-full\">\n                      {d.role}\n                    </span>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                     <button className=\"p-2 text-yellow-600 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg\" onClick={() => startEdit(d)}>Edit</button>\n                     <button className=\"p-2 text-red-600 bg-red-50 dark:bg-red-900/20 rounded-lg\" onClick={() => onDelete && onDelete(d.id)}>Delete</button>\n                  </div>\n                </div>\n                <div className=\"text-sm text-gray-500 dark:text-gray-400\">\n                  <span className=\"font-medium text-gray-700 dark:text-gray-300\">{d.users}</span> Users\n                </div>\n              </div>\n            )}\n          </div>\n        ))}\n      </div>\n    </div>\n  )\n}","import React from 'react'\nimport PageHeader from '../components/PageHeader'\nimport Card from '../components/Card'\nimport SaveButton from '../components/SaveButton'\nimport DepartmentsTable from '../components/DepartmentsTable'\nimport { useCompanySetup } from '../store/CompanySetupContext'\n\nexport default function DepartmentsPage() {\n  const { companySetup, addDepartment, updateDepartment } = useCompanySetup()\n  const onDelete = (id) => alert(`Delete ${id} (mock)`) // could update context as well\n\n  return (\n    <>\n      <div className=\"company-setup-page p-3 sm:p-4\">\n        <PageHeader title=\"Departments\" description=\"Manage departments and roles\" />\n        <Card>\n          <DepartmentsTable departments={companySetup.departments} onAdd={addDepartment} onUpdate={updateDepartment} onDelete={onDelete} />\n        </Card>\n        <SaveButton onClick={() => {}} />\n      </div>\n    </>\n  )\n}\n"],"names":["DepartmentsTable","departments","onAdd","onUpdate","onDelete","q","setQ","useState","editing","setEditing","draft","setDraft","filtered","useMemo","d","startEdit","cancelEdit","saveEdit","addDept","jsxs","jsx","e","prev","r","DepartmentsPage","companySetup","addDepartment","updateDepartment","useCompanySetup","id","Fragment","PageHeader","Card","SaveButton"],"mappings":"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"}