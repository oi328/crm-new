const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CompanyInfoPage-BUNcHE4F.js","assets/SaveButton-C4SR9l5b.js","assets/SubscriptionPage-C8duW2Z7.js","assets/ModulesPage-DT_3VtFc.js","assets/DepartmentsPage-CGicAiA7.js","assets/VisibilityPage-B6_5my3A.js"])))=>i.map(i=>d[i]);
function cee(e,t){for(var a=0;a<t.length;a++){const r=t[a];if(typeof r!="string"&&!Array.isArray(r)){for(const n in r)if(n!=="default"&&!(n in e)){const i=Object.getOwnPropertyDescriptor(r,n);i&&Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:()=>r[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function a(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=a(n);fetch(n.href,i)}})();var Yze=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var d5={exports:{}},Bg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R7;function dee(){if(R7)return Bg;R7=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function a(r,n,i){var l=null;if(i!==void 0&&(l=""+i),n.key!==void 0&&(l=""+n.key),"key"in n){i={};for(var o in n)o!=="key"&&(i[o]=n[o])}else i=n;return n=i.ref,{$$typeof:e,type:r,key:l,ref:n!==void 0?n:null,props:i}}return Bg.Fragment=t,Bg.jsx=a,Bg.jsxs=a,Bg}var F7;function uee(){return F7||(F7=1,d5.exports=dee()),d5.exports}var s=uee(),u5={exports:{}},ls={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I7;function hee(){if(I7)return ls;I7=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),f=Symbol.iterator;function p(X){return X===null||typeof X!="object"?null:(X=f&&X[f]||X["@@iterator"],typeof X=="function"?X:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,g={};function b(X,le,O){this.props=X,this.context=le,this.refs=g,this.updater=O||m}b.prototype.isReactComponent={},b.prototype.setState=function(X,le){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,le,"setState")},b.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function j(){}j.prototype=b.prototype;function k(X,le,O){this.props=X,this.context=le,this.refs=g,this.updater=O||m}var S=k.prototype=new j;S.constructor=k,v(S,b.prototype),S.isPureReactComponent=!0;var N=Array.isArray,A={H:null,A:null,T:null,S:null,V:null},_=Object.prototype.hasOwnProperty;function E(X,le,O,q,W,te){return O=te.ref,{$$typeof:e,type:X,key:le,ref:O!==void 0?O:null,props:te}}function D(X,le){return E(X.type,le,void 0,void 0,void 0,X.props)}function R(X){return typeof X=="object"&&X!==null&&X.$$typeof===e}function I(X){var le={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(O){return le[O]})}var M=/\/+/g;function U(X,le){return typeof X=="object"&&X!==null&&X.key!=null?I(""+X.key):le.toString(36)}function P(){}function F(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(P,P):(X.status="pending",X.then(function(le){X.status==="pending"&&(X.status="fulfilled",X.value=le)},function(le){X.status==="pending"&&(X.status="rejected",X.reason=le)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function K(X,le,O,q,W){var te=typeof X;(te==="undefined"||te==="boolean")&&(X=null);var re=!1;if(X===null)re=!0;else switch(te){case"bigint":case"string":case"number":re=!0;break;case"object":switch(X.$$typeof){case e:case t:re=!0;break;case u:return re=X._init,K(re(X._payload),le,O,q,W)}}if(re)return W=W(X),re=q===""?"."+U(X,0):q,N(W)?(O="",re!=null&&(O=re.replace(M,"$&/")+"/"),K(W,le,O,"",function(G){return G})):W!=null&&(R(W)&&(W=D(W,O+(W.key==null||X&&X.key===W.key?"":(""+W.key).replace(M,"$&/")+"/")+re)),le.push(W)),1;re=0;var oe=q===""?".":q+":";if(N(X))for(var ce=0;ce<X.length;ce++)q=X[ce],te=oe+U(q,ce),re+=K(q,le,O,te,W);else if(ce=p(X),typeof ce=="function")for(X=ce.call(X),ce=0;!(q=X.next()).done;)q=q.value,te=oe+U(q,ce++),re+=K(q,le,O,te,W);else if(te==="object"){if(typeof X.then=="function")return K(F(X),le,O,q,W);throw le=String(X),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return re}function V(X,le,O){if(X==null)return X;var q=[],W=0;return K(X,q,"","",function(te){return le.call(O,te,W++)}),q}function J(X){if(X._status===-1){var le=X._result;le=le(),le.then(function(O){(X._status===0||X._status===-1)&&(X._status=1,X._result=O)},function(O){(X._status===0||X._status===-1)&&(X._status=2,X._result=O)}),X._status===-1&&(X._status=0,X._result=le)}if(X._status===1)return X._result.default;throw X._result}var Q=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)};function z(){}return ls.Children={map:V,forEach:function(X,le,O){V(X,function(){le.apply(this,arguments)},O)},count:function(X){var le=0;return V(X,function(){le++}),le},toArray:function(X){return V(X,function(le){return le})||[]},only:function(X){if(!R(X))throw Error("React.Children.only expected to receive a single React element child.");return X}},ls.Component=b,ls.Fragment=a,ls.Profiler=n,ls.PureComponent=k,ls.StrictMode=r,ls.Suspense=c,ls.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,ls.__COMPILER_RUNTIME={__proto__:null,c:function(X){return A.H.useMemoCache(X)}},ls.cache=function(X){return function(){return X.apply(null,arguments)}},ls.cloneElement=function(X,le,O){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var q=v({},X.props),W=X.key,te=void 0;if(le!=null)for(re in le.ref!==void 0&&(te=void 0),le.key!==void 0&&(W=""+le.key),le)!_.call(le,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&le.ref===void 0||(q[re]=le[re]);var re=arguments.length-2;if(re===1)q.children=O;else if(1<re){for(var oe=Array(re),ce=0;ce<re;ce++)oe[ce]=arguments[ce+2];q.children=oe}return E(X.type,W,void 0,void 0,te,q)},ls.createContext=function(X){return X={$$typeof:l,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:i,_context:X},X},ls.createElement=function(X,le,O){var q,W={},te=null;if(le!=null)for(q in le.key!==void 0&&(te=""+le.key),le)_.call(le,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(W[q]=le[q]);var re=arguments.length-2;if(re===1)W.children=O;else if(1<re){for(var oe=Array(re),ce=0;ce<re;ce++)oe[ce]=arguments[ce+2];W.children=oe}if(X&&X.defaultProps)for(q in re=X.defaultProps,re)W[q]===void 0&&(W[q]=re[q]);return E(X,te,void 0,void 0,null,W)},ls.createRef=function(){return{current:null}},ls.forwardRef=function(X){return{$$typeof:o,render:X}},ls.isValidElement=R,ls.lazy=function(X){return{$$typeof:u,_payload:{_status:-1,_result:X},_init:J}},ls.memo=function(X,le){return{$$typeof:d,type:X,compare:le===void 0?null:le}},ls.startTransition=function(X){var le=A.T,O={};A.T=O;try{var q=X(),W=A.S;W!==null&&W(O,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(z,Q)}catch(te){Q(te)}finally{A.T=le}},ls.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},ls.use=function(X){return A.H.use(X)},ls.useActionState=function(X,le,O){return A.H.useActionState(X,le,O)},ls.useCallback=function(X,le){return A.H.useCallback(X,le)},ls.useContext=function(X){return A.H.useContext(X)},ls.useDebugValue=function(){},ls.useDeferredValue=function(X,le){return A.H.useDeferredValue(X,le)},ls.useEffect=function(X,le,O){var q=A.H;if(typeof O=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return q.useEffect(X,le)},ls.useId=function(){return A.H.useId()},ls.useImperativeHandle=function(X,le,O){return A.H.useImperativeHandle(X,le,O)},ls.useInsertionEffect=function(X,le){return A.H.useInsertionEffect(X,le)},ls.useLayoutEffect=function(X,le){return A.H.useLayoutEffect(X,le)},ls.useMemo=function(X,le){return A.H.useMemo(X,le)},ls.useOptimistic=function(X,le){return A.H.useOptimistic(X,le)},ls.useReducer=function(X,le,O){return A.H.useReducer(X,le,O)},ls.useRef=function(X){return A.H.useRef(X)},ls.useState=function(X){return A.H.useState(X)},ls.useSyncExternalStore=function(X,le,O){return A.H.useSyncExternalStore(X,le,O)},ls.useTransition=function(){return A.H.useTransition()},ls.version="19.1.1",ls}var B7;function _x(){return B7||(B7=1,u5.exports=hee()),u5.exports}var y=_x();const Ws=kh(y),fee=cee({__proto__:null,default:Ws},[y]);var h5={exports:{}},$g={},f5={exports:{}},m5={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $7;function mee(){return $7||($7=1,(function(e){function t(V,J){var Q=V.length;V.push(J);e:for(;0<Q;){var z=Q-1>>>1,X=V[z];if(0<n(X,J))V[z]=J,V[Q]=X,Q=z;else break e}}function a(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var J=V[0],Q=V.pop();if(Q!==J){V[0]=Q;e:for(var z=0,X=V.length,le=X>>>1;z<le;){var O=2*(z+1)-1,q=V[O],W=O+1,te=V[W];if(0>n(q,Q))W<X&&0>n(te,q)?(V[z]=te,V[W]=Q,z=W):(V[z]=q,V[O]=Q,z=O);else if(W<X&&0>n(te,Q))V[z]=te,V[W]=Q,z=W;else break e}}return J}function n(V,J){var Q=V.sortIndex-J.sortIndex;return Q!==0?Q:V.id-J.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,f=null,p=3,m=!1,v=!1,g=!1,b=!1,j=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function N(V){for(var J=a(d);J!==null;){if(J.callback===null)r(d);else if(J.startTime<=V)r(d),J.sortIndex=J.expirationTime,t(c,J);else break;J=a(d)}}function A(V){if(g=!1,N(V),!v)if(a(c)!==null)v=!0,_||(_=!0,U());else{var J=a(d);J!==null&&K(A,J.startTime-V)}}var _=!1,E=-1,D=5,R=-1;function I(){return b?!0:!(e.unstable_now()-R<D)}function M(){if(b=!1,_){var V=e.unstable_now();R=V;var J=!0;try{e:{v=!1,g&&(g=!1,k(E),E=-1),m=!0;var Q=p;try{t:{for(N(V),f=a(c);f!==null&&!(f.expirationTime>V&&I());){var z=f.callback;if(typeof z=="function"){f.callback=null,p=f.priorityLevel;var X=z(f.expirationTime<=V);if(V=e.unstable_now(),typeof X=="function"){f.callback=X,N(V),J=!0;break t}f===a(c)&&r(c),N(V)}else r(c);f=a(c)}if(f!==null)J=!0;else{var le=a(d);le!==null&&K(A,le.startTime-V),J=!1}}break e}finally{f=null,p=Q,m=!1}J=void 0}}finally{J?U():_=!1}}}var U;if(typeof S=="function")U=function(){S(M)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,F=P.port2;P.port1.onmessage=M,U=function(){F.postMessage(null)}}else U=function(){j(M,0)};function K(V,J){E=j(function(){V(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(V){switch(p){case 1:case 2:case 3:var J=3;break;default:J=p}var Q=p;p=J;try{return V()}finally{p=Q}},e.unstable_requestPaint=function(){b=!0},e.unstable_runWithPriority=function(V,J){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Q=p;p=V;try{return J()}finally{p=Q}},e.unstable_scheduleCallback=function(V,J,Q){var z=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?z+Q:z):Q=z,V){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=Q+X,V={id:u++,callback:J,priorityLevel:V,startTime:Q,expirationTime:X,sortIndex:-1},Q>z?(V.sortIndex=Q,t(d,V),a(c)===null&&V===a(d)&&(g?(k(E),E=-1):g=!0,K(A,Q-z))):(V.sortIndex=X,t(c,V),v||m||(v=!0,_||(_=!0,U()))),V},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(V){var J=p;return function(){var Q=p;p=J;try{return V.apply(this,arguments)}finally{p=Q}}}})(m5)),m5}var U7;function pee(){return U7||(U7=1,f5.exports=mee()),f5.exports}var p5={exports:{}},rl={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z7;function xee(){if(z7)return rl;z7=1;var e=_x();function t(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)d+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var r={d:{f:a,r:function(){throw Error(t(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},n=Symbol.for("react.portal");function i(c,d,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:n,key:f==null?null:""+f,children:c,containerInfo:d,implementation:u}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return rl.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,rl.createPortal=function(c,d){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return i(c,d,null,u)},rl.flushSync=function(c){var d=l.T,u=r.p;try{if(l.T=null,r.p=2,c)return c()}finally{l.T=d,r.p=u,r.d.f()}},rl.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(c,d))},rl.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},rl.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var u=d.as,f=o(u,d.crossOrigin),p=typeof d.integrity=="string"?d.integrity:void 0,m=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;u==="style"?r.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:f,integrity:p,fetchPriority:m}):u==="script"&&r.d.X(c,{crossOrigin:f,integrity:p,fetchPriority:m,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},rl.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var u=o(d.as,d.crossOrigin);r.d.M(c,{crossOrigin:u,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(c)},rl.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var u=d.as,f=o(u,d.crossOrigin);r.d.L(c,u,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},rl.preloadModule=function(c,d){if(typeof c=="string")if(d){var u=o(d.as,d.crossOrigin);r.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:u,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(c)},rl.requestFormReset=function(c){r.d.r(c)},rl.unstable_batchedUpdates=function(c,d){return c(d)},rl.useFormState=function(c,d,u){return l.H.useFormState(c,d,u)},rl.useFormStatus=function(){return l.H.useHostTransitionStatus()},rl.version="19.1.1",rl}var H7;function T$(){if(H7)return p5.exports;H7=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),p5.exports=xee(),p5.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V7;function gee(){if(V7)return $g;V7=1;var e=pee(),t=_x(),a=T$();function r(h){var x="https://react.dev/errors/"+h;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)x+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+h+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function i(h){var x=h,w=h;if(h.alternate)for(;x.return;)x=x.return;else{h=x;do x=h,(x.flags&4098)!==0&&(w=x.return),h=x.return;while(h)}return x.tag===3?w:null}function l(h){if(h.tag===13){var x=h.memoizedState;if(x===null&&(h=h.alternate,h!==null&&(x=h.memoizedState)),x!==null)return x.dehydrated}return null}function o(h){if(i(h)!==h)throw Error(r(188))}function c(h){var x=h.alternate;if(!x){if(x=i(h),x===null)throw Error(r(188));return x!==h?null:h}for(var w=h,C=x;;){var L=w.return;if(L===null)break;var H=L.alternate;if(H===null){if(C=L.return,C!==null){w=C;continue}break}if(L.child===H.child){for(H=L.child;H;){if(H===w)return o(L),h;if(H===C)return o(L),x;H=H.sibling}throw Error(r(188))}if(w.return!==C.return)w=L,C=H;else{for(var de=!1,be=L.child;be;){if(be===w){de=!0,w=L,C=H;break}if(be===C){de=!0,C=L,w=H;break}be=be.sibling}if(!de){for(be=H.child;be;){if(be===w){de=!0,w=H,C=L;break}if(be===C){de=!0,C=H,w=L;break}be=be.sibling}if(!de)throw Error(r(189))}}if(w.alternate!==C)throw Error(r(190))}if(w.tag!==3)throw Error(r(188));return w.stateNode.current===w?h:x}function d(h){var x=h.tag;if(x===5||x===26||x===27||x===6)return h;for(h=h.child;h!==null;){if(x=d(h),x!==null)return x;h=h.sibling}return null}var u=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),S=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(h){return h===null||typeof h!="object"?null:(h=M&&h[M]||h["@@iterator"],typeof h=="function"?h:null)}var P=Symbol.for("react.client.reference");function F(h){if(h==null)return null;if(typeof h=="function")return h.$$typeof===P?null:h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case v:return"Fragment";case b:return"Profiler";case g:return"StrictMode";case A:return"Suspense";case _:return"SuspenseList";case R:return"Activity"}if(typeof h=="object")switch(h.$$typeof){case m:return"Portal";case S:return(h.displayName||"Context")+".Provider";case k:return(h._context.displayName||"Context")+".Consumer";case N:var x=h.render;return h=h.displayName,h||(h=x.displayName||x.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case E:return x=h.displayName||null,x!==null?x:F(h.type)||"Memo";case D:x=h._payload,h=h._init;try{return F(h(x))}catch{}}return null}var K=Array.isArray,V=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},z=[],X=-1;function le(h){return{current:h}}function O(h){0>X||(h.current=z[X],z[X]=null,X--)}function q(h,x){X++,z[X]=h.current,h.current=x}var W=le(null),te=le(null),re=le(null),oe=le(null);function ce(h,x){switch(q(re,x),q(te,h),q(W,null),x.nodeType){case 9:case 11:h=(h=x.documentElement)&&(h=h.namespaceURI)?d7(h):0;break;default:if(h=x.tagName,x=x.namespaceURI)x=d7(x),h=u7(x,h);else switch(h){case"svg":h=1;break;case"math":h=2;break;default:h=0}}O(W),q(W,h)}function G(){O(W),O(te),O(re)}function ie(h){h.memoizedState!==null&&q(oe,h);var x=W.current,w=u7(x,h.type);x!==w&&(q(te,h),q(W,w))}function ye(h){te.current===h&&(O(W),O(te)),oe.current===h&&(O(oe),Lg._currentValue=Q)}var se=Object.prototype.hasOwnProperty,Ie=e.unstable_scheduleCallback,pe=e.unstable_cancelCallback,ae=e.unstable_shouldYield,ge=e.unstable_requestPaint,Re=e.unstable_now,ue=e.unstable_getCurrentPriorityLevel,Z=e.unstable_ImmediatePriority,Se=e.unstable_UserBlockingPriority,Ne=e.unstable_NormalPriority,Ye=e.unstable_LowPriority,gt=e.unstable_IdlePriority,qt=e.log,at=e.unstable_setDisableYieldValue,$t=null,ze=null;function Ke(h){if(typeof qt=="function"&&at(h),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode($t,h)}catch{}}var Ze=Math.clz32?Math.clz32:Mt,ht=Math.log,At=Math.LN2;function Mt(h){return h>>>=0,h===0?32:31-(ht(h)/At|0)|0}var Pt=256,Gt=4194304;function Ae(h){var x=h&42;if(x!==0)return x;switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return h&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return h}}function Tt(h,x,w){var C=h.pendingLanes;if(C===0)return 0;var L=0,H=h.suspendedLanes,de=h.pingedLanes;h=h.warmLanes;var be=C&134217727;return be!==0?(C=be&~H,C!==0?L=Ae(C):(de&=be,de!==0?L=Ae(de):w||(w=be&~h,w!==0&&(L=Ae(w))))):(be=C&~H,be!==0?L=Ae(be):de!==0?L=Ae(de):w||(w=C&~h,w!==0&&(L=Ae(w)))),L===0?0:x!==0&&x!==L&&(x&H)===0&&(H=L&-L,w=x&-x,H>=w||H===32&&(w&4194048)!==0)?x:L}function We(h,x){return(h.pendingLanes&~(h.suspendedLanes&~h.pingedLanes)&x)===0}function Ot(h,x){switch(h){case 1:case 2:case 4:case 8:case 64:return x+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rt(){var h=Pt;return Pt<<=1,(Pt&4194048)===0&&(Pt=256),h}function na(){var h=Gt;return Gt<<=1,(Gt&62914560)===0&&(Gt=4194304),h}function pt(h){for(var x=[],w=0;31>w;w++)x.push(h);return x}function lt(h,x){h.pendingLanes|=x,x!==268435456&&(h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0)}function dt(h,x,w,C,L,H){var de=h.pendingLanes;h.pendingLanes=w,h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0,h.expiredLanes&=w,h.entangledLanes&=w,h.errorRecoveryDisabledLanes&=w,h.shellSuspendCounter=0;var be=h.entanglements,$e=h.expirationTimes,ct=h.hiddenUpdates;for(w=de&~w;0<w;){var Et=31-Ze(w),Bt=1<<Et;be[Et]=0,$e[Et]=-1;var ft=ct[Et];if(ft!==null)for(ct[Et]=null,Et=0;Et<ft.length;Et++){var xt=ft[Et];xt!==null&&(xt.lane&=-536870913)}w&=~Bt}C!==0&&mt(h,C,0),H!==0&&L===0&&h.tag!==0&&(h.suspendedLanes|=H&~(de&~x))}function mt(h,x,w){h.pendingLanes|=x,h.suspendedLanes&=~x;var C=31-Ze(x);h.entangledLanes|=x,h.entanglements[C]=h.entanglements[C]|1073741824|w&4194090}function ut(h,x){var w=h.entangledLanes|=x;for(h=h.entanglements;w;){var C=31-Ze(w),L=1<<C;L&x|h[C]&x&&(h[C]|=x),w&=~L}}function ra(h){switch(h){case 2:h=1;break;case 8:h=4;break;case 32:h=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:h=128;break;case 268435456:h=134217728;break;default:h=0}return h}function Aa(h){return h&=-h,2<h?8<h?(h&134217727)!==0?32:268435456:8:2}function ua(){var h=J.p;return h!==0?h:(h=window.event,h===void 0?32:T7(h.type))}function oa(h,x){var w=J.p;try{return J.p=h,x()}finally{J.p=w}}var _s=Math.random().toString(36).slice(2),ps="__reactFiber$"+_s,Fe="__reactProps$"+_s,Ha="__reactContainer$"+_s,is="__reactEvents$"+_s,us="__reactListeners$"+_s,me="__reactHandles$"+_s,De="__reactResources$"+_s,ke="__reactMarker$"+_s;function _e(h){delete h[ps],delete h[Fe],delete h[is],delete h[us],delete h[me]}function Te(h){var x=h[ps];if(x)return x;for(var w=h.parentNode;w;){if(x=w[Ha]||w[ps]){if(w=x.alternate,x.child!==null||w!==null&&w.child!==null)for(h=p7(h);h!==null;){if(w=h[ps])return w;h=p7(h)}return x}h=w,w=h.parentNode}return null}function Me(h){if(h=h[ps]||h[Ha]){var x=h.tag;if(x===5||x===6||x===13||x===26||x===27||x===3)return h}return null}function Qe(h){var x=h.tag;if(x===5||x===26||x===27||x===6)return h.stateNode;throw Error(r(33))}function vt(h){var x=h[De];return x||(x=h[De]={hoistableStyles:new Map,hoistableScripts:new Map}),x}function qe(h){h[ke]=!0}var st=new Set,it={};function Ft(h,x){Yt(h,x),Yt(h+"Capture",x)}function Yt(h,x){for(it[h]=x,h=0;h<x.length;h++)st.add(x[h])}var ea=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Kt={},Xt={};function ya(h){return se.call(Xt,h)?!0:se.call(Kt,h)?!1:ea.test(h)?Xt[h]=!0:(Kt[h]=!0,!1)}function cs(h,x,w){if(ya(x))if(w===null)h.removeAttribute(x);else{switch(typeof w){case"undefined":case"function":case"symbol":h.removeAttribute(x);return;case"boolean":var C=x.toLowerCase().slice(0,5);if(C!=="data-"&&C!=="aria-"){h.removeAttribute(x);return}}h.setAttribute(x,""+w)}}function wa(h,x,w){if(w===null)h.removeAttribute(x);else{switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":h.removeAttribute(x);return}h.setAttribute(x,""+w)}}function La(h,x,w,C){if(C===null)h.removeAttribute(w);else{switch(typeof C){case"undefined":case"function":case"symbol":case"boolean":h.removeAttribute(w);return}h.setAttributeNS(x,w,""+C)}}var an,Jn;function Ra(h){if(an===void 0)try{throw Error()}catch(w){var x=w.stack.trim().match(/\n( *(at )?)/);an=x&&x[1]||"",Jn=-1<w.stack.indexOf(`
    at`)?" (<anonymous>)":-1<w.stack.indexOf("@")?"@unknown:0:0":""}return`
`+an+h+Jn}var Ps=!1;function Zi(h,x){if(!h||Ps)return"";Ps=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var C={DetermineComponentFrameRoot:function(){try{if(x){var Bt=function(){throw Error()};if(Object.defineProperty(Bt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Bt,[])}catch(xt){var ft=xt}Reflect.construct(h,[],Bt)}else{try{Bt.call()}catch(xt){ft=xt}h.call(Bt.prototype)}}else{try{throw Error()}catch(xt){ft=xt}(Bt=h())&&typeof Bt.catch=="function"&&Bt.catch(function(){})}}catch(xt){if(xt&&ft&&typeof xt.stack=="string")return[xt.stack,ft.stack]}return[null,null]}};C.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var L=Object.getOwnPropertyDescriptor(C.DetermineComponentFrameRoot,"name");L&&L.configurable&&Object.defineProperty(C.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var H=C.DetermineComponentFrameRoot(),de=H[0],be=H[1];if(de&&be){var $e=de.split(`
`),ct=be.split(`
`);for(L=C=0;C<$e.length&&!$e[C].includes("DetermineComponentFrameRoot");)C++;for(;L<ct.length&&!ct[L].includes("DetermineComponentFrameRoot");)L++;if(C===$e.length||L===ct.length)for(C=$e.length-1,L=ct.length-1;1<=C&&0<=L&&$e[C]!==ct[L];)L--;for(;1<=C&&0<=L;C--,L--)if($e[C]!==ct[L]){if(C!==1||L!==1)do if(C--,L--,0>L||$e[C]!==ct[L]){var Et=`
`+$e[C].replace(" at new "," at ");return h.displayName&&Et.includes("<anonymous>")&&(Et=Et.replace("<anonymous>",h.displayName)),Et}while(1<=C&&0<=L);break}}}finally{Ps=!1,Error.prepareStackTrace=w}return(w=h?h.displayName||h.name:"")?Ra(w):""}function sn(h){switch(h.tag){case 26:case 27:case 5:return Ra(h.type);case 16:return Ra("Lazy");case 13:return Ra("Suspense");case 19:return Ra("SuspenseList");case 0:case 15:return Zi(h.type,!1);case 11:return Zi(h.type.render,!1);case 1:return Zi(h.type,!0);case 31:return Ra("Activity");default:return""}}function Gs(h){try{var x="";do x+=sn(h),h=h.return;while(h);return x}catch(w){return`
Error generating stack: `+w.message+`
`+w.stack}}function hs(h){switch(typeof h){case"bigint":case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function Vc(h){var x=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(x==="checkbox"||x==="radio")}function Md(h){var x=Vc(h)?"checked":"value",w=Object.getOwnPropertyDescriptor(h.constructor.prototype,x),C=""+h[x];if(!h.hasOwnProperty(x)&&typeof w<"u"&&typeof w.get=="function"&&typeof w.set=="function"){var L=w.get,H=w.set;return Object.defineProperty(h,x,{configurable:!0,get:function(){return L.call(this)},set:function(de){C=""+de,H.call(this,de)}}),Object.defineProperty(h,x,{enumerable:w.enumerable}),{getValue:function(){return C},setValue:function(de){C=""+de},stopTracking:function(){h._valueTracker=null,delete h[x]}}}}function rn(h){h._valueTracker||(h._valueTracker=Md(h))}function Kl(h){if(!h)return!1;var x=h._valueTracker;if(!x)return!0;var w=x.getValue(),C="";return h&&(C=Vc(h)?h.checked?"true":"false":h.value),h=C,h!==w?(x.setValue(h),!0):!1}function Qn(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}var Xo=/[\n"\\]/g;function bs(h){return h.replace(Xo,function(x){return"\\"+x.charCodeAt(0).toString(16)+" "})}function Jo(h,x,w,C,L,H,de,be){h.name="",de!=null&&typeof de!="function"&&typeof de!="symbol"&&typeof de!="boolean"?h.type=de:h.removeAttribute("type"),x!=null?de==="number"?(x===0&&h.value===""||h.value!=x)&&(h.value=""+hs(x)):h.value!==""+hs(x)&&(h.value=""+hs(x)):de!=="submit"&&de!=="reset"||h.removeAttribute("value"),x!=null?Wc(h,de,hs(x)):w!=null?Wc(h,de,hs(w)):C!=null&&h.removeAttribute("value"),L==null&&H!=null&&(h.defaultChecked=!!H),L!=null&&(h.checked=L&&typeof L!="function"&&typeof L!="symbol"),be!=null&&typeof be!="function"&&typeof be!="symbol"&&typeof be!="boolean"?h.name=""+hs(be):h.removeAttribute("name")}function Ld(h,x,w,C,L,H,de,be){if(H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"&&(h.type=H),x!=null||w!=null){if(!(H!=="submit"&&H!=="reset"||x!=null))return;w=w!=null?""+hs(w):"",x=x!=null?""+hs(x):w,be||x===h.value||(h.value=x),h.defaultValue=x}C=C??L,C=typeof C!="function"&&typeof C!="symbol"&&!!C,h.checked=be?h.checked:!!C,h.defaultChecked=!!C,de!=null&&typeof de!="function"&&typeof de!="symbol"&&typeof de!="boolean"&&(h.name=de)}function Wc(h,x,w){x==="number"&&Qn(h.ownerDocument)===h||h.defaultValue===""+w||(h.defaultValue=""+w)}function Yl(h,x,w,C){if(h=h.options,x){x={};for(var L=0;L<w.length;L++)x["$"+w[L]]=!0;for(w=0;w<h.length;w++)L=x.hasOwnProperty("$"+h[w].value),h[w].selected!==L&&(h[w].selected=L),L&&C&&(h[w].defaultSelected=!0)}else{for(w=""+hs(w),x=null,L=0;L<h.length;L++){if(h[L].value===w){h[L].selected=!0,C&&(h[L].defaultSelected=!0);return}x!==null||h[L].disabled||(x=h[L])}x!==null&&(x.selected=!0)}}function vi(h,x,w){if(x!=null&&(x=""+hs(x),x!==h.value&&(h.value=x),w==null)){h.defaultValue!==x&&(h.defaultValue=x);return}h.defaultValue=w!=null?""+hs(w):""}function Od(h,x,w,C){if(x==null){if(C!=null){if(w!=null)throw Error(r(92));if(K(C)){if(1<C.length)throw Error(r(93));C=C[0]}w=C}w==null&&(w=""),x=w}w=hs(x),h.defaultValue=w,C=h.textContent,C===w&&C!==""&&C!==null&&(h.value=C)}function nn(h,x){if(x){var w=h.firstChild;if(w&&w===h.lastChild&&w.nodeType===3){w.nodeValue=x;return}}h.textContent=x}var Al=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function el(h,x,w){var C=x.indexOf("--")===0;w==null||typeof w=="boolean"||w===""?C?h.setProperty(x,""):x==="float"?h.cssFloat="":h[x]="":C?h.setProperty(x,w):typeof w!="number"||w===0||Al.has(x)?x==="float"?h.cssFloat=w:h[x]=(""+w).trim():h[x]=w+"px"}function Rd(h,x,w){if(x!=null&&typeof x!="object")throw Error(r(62));if(h=h.style,w!=null){for(var C in w)!w.hasOwnProperty(C)||x!=null&&x.hasOwnProperty(C)||(C.indexOf("--")===0?h.setProperty(C,""):C==="float"?h.cssFloat="":h[C]="");for(var L in x)C=x[L],x.hasOwnProperty(L)&&w[L]!==C&&el(h,L,C)}else for(var H in x)x.hasOwnProperty(H)&&el(h,H,x[H])}function Ee(h){if(h.indexOf("-")===-1)return!1;switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var et=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ta=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ia(h){return ta.test(""+h)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":h}var Fa=null;function Fs(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var Ja=null,we=null;function Be(h){var x=Me(h);if(x&&(h=x.stateNode)){var w=h[Fe]||null;e:switch(h=x.stateNode,x.type){case"input":if(Jo(h,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name),x=w.name,w.type==="radio"&&x!=null){for(w=h;w.parentNode;)w=w.parentNode;for(w=w.querySelectorAll('input[name="'+bs(""+x)+'"][type="radio"]'),x=0;x<w.length;x++){var C=w[x];if(C!==h&&C.form===h.form){var L=C[Fe]||null;if(!L)throw Error(r(90));Jo(C,L.value,L.defaultValue,L.defaultValue,L.checked,L.defaultChecked,L.type,L.name)}}for(x=0;x<w.length;x++)C=w[x],C.form===h.form&&Kl(C)}break e;case"textarea":vi(h,w.value,w.defaultValue);break e;case"select":x=w.value,x!=null&&Yl(h,!!w.multiple,x,!1)}}}var Dt=!1;function Ut(h,x,w){if(Dt)return h(x,w);Dt=!0;try{var C=h(x);return C}finally{if(Dt=!1,(Ja!==null||we!==null)&&(ly(),Ja&&(x=Ja,h=we,we=Ja=null,Be(x),h)))for(x=0;x<h.length;x++)Be(h[x])}}function _a(h,x){var w=h.stateNode;if(w===null)return null;var C=w[Fe]||null;if(C===null)return null;w=C[x];e:switch(x){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(C=!C.disabled)||(h=h.type,C=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!C;break e;default:h=!1}if(h)return null;if(w&&typeof w!="function")throw Error(r(231,x,typeof w));return w}var Qa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ds=!1;if(Qa)try{var Is={};Object.defineProperty(Is,"passive",{get:function(){ds=!0}}),window.addEventListener("test",Is,Is),window.removeEventListener("test",Is,Is)}catch{ds=!1}var Va=null,ts=null,ln=null;function Zn(){if(ln)return ln;var h,x=ts,w=x.length,C,L="value"in Va?Va.value:Va.textContent,H=L.length;for(h=0;h<w&&x[h]===L[h];h++);var de=w-h;for(C=1;C<=de&&x[w-C]===L[H-C];C++);return ln=L.slice(h,1<C?1-C:void 0)}function vr(h){var x=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&x===13&&(h=13)):h=x,h===10&&(h=13),32<=h||h===13?h:0}function ei(){return!0}function _l(){return!1}function Er(h){function x(w,C,L,H,de){this._reactName=w,this._targetInst=L,this.type=C,this.nativeEvent=H,this.target=de,this.currentTarget=null;for(var be in h)h.hasOwnProperty(be)&&(w=h[be],this[be]=w?w(H):H[be]);return this.isDefaultPrevented=(H.defaultPrevented!=null?H.defaultPrevented:H.returnValue===!1)?ei:_l,this.isPropagationStopped=_l,this}return u(x.prototype,{preventDefault:function(){this.defaultPrevented=!0;var w=this.nativeEvent;w&&(w.preventDefault?w.preventDefault():typeof w.returnValue!="unknown"&&(w.returnValue=!1),this.isDefaultPrevented=ei)},stopPropagation:function(){var w=this.nativeEvent;w&&(w.stopPropagation?w.stopPropagation():typeof w.cancelBubble!="unknown"&&(w.cancelBubble=!0),this.isPropagationStopped=ei)},persist:function(){},isPersistent:ei}),x}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xl=Er(Oi),Ri=u({},Oi,{view:0,detail:0}),No=Er(Ri),ko,Qo,So,Zo=u({},Ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ca,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==So&&(So&&h.type==="mousemove"?(ko=h.screenX-So.screenX,Qo=h.screenY-So.screenY):Qo=ko=0,So=h),ko)},movementY:function(h){return"movementY"in h?h.movementY:Qo}}),r0=Er(Zo),Ym=u({},Zo,{dataTransfer:0}),qc=Er(Ym),Gc=u({},Ri,{relatedTarget:0}),Oh=Er(Gc),Xm=u({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),Nu=Er(Xm),Jm=u({},Oi,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),Y=Er(Jm),he=u({},Oi,{data:0}),Oe=Er(he),Ue={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Je={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_t={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zt(h){var x=this.nativeEvent;return x.getModifierState?x.getModifierState(h):(h=_t[h])?!!x[h]:!1}function ca(){return zt}var ba=u({},Ri,{key:function(h){if(h.key){var x=Ue[h.key]||h.key;if(x!=="Unidentified")return x}return h.type==="keypress"?(h=vr(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?Je[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ca,charCode:function(h){return h.type==="keypress"?vr(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?vr(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),Ia=Er(ba),Ka=u({},Zo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Es=Er(Ka),br=u({},Ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ca}),on=Er(br),sr=u({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),wn=Er(sr),cn=u({},Zo,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),ti=Er(cn),Jl=u({},Oi,{newState:0,oldState:0}),tl=Er(Jl),Qm=[9,13,27,32],Fd=Qa&&"CompositionEvent"in window,Co=null;Qa&&"documentMode"in document&&(Co=document.documentMode);var Id=Qa&&"TextEvent"in window&&!Co,Bd=Qa&&(!Fd||Co&&8<Co&&11>=Co),$d=" ",Ud=!1;function ai(h,x){switch(h){case"keyup":return Qm.indexOf(x.keyCode)!==-1;case"keydown":return x.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zd(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var Ql=!1;function n0(h,x){switch(h){case"compositionend":return zd(x);case"keypress":return x.which!==32?null:(Ud=!0,$d);case"textInput":return h=x.data,h===$d&&Ud?null:h;default:return null}}function i0(h,x){if(Ql)return h==="compositionend"||!Fd&&ai(h,x)?(h=Zn(),ln=ts=Va=null,Ql=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(x.ctrlKey||x.altKey||x.metaKey)||x.ctrlKey&&x.altKey){if(x.char&&1<x.char.length)return x.char;if(x.which)return String.fromCharCode(x.which)}return null;case"compositionend":return Bd&&x.locale!=="ko"?null:x.data;default:return null}}var Tr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ec(h){var x=h&&h.nodeName&&h.nodeName.toLowerCase();return x==="input"?!!Tr[h.type]:x==="textarea"}function ku(h,x,w,C){Ja?we?we.push(C):we=[C]:Ja=C,x=fy(x,"onChange"),0<x.length&&(w=new Xl("onChange","change",null,w,C),h.push({event:w,listeners:x}))}var Hd=null,bi=null;function Su(h){n7(h,0)}function Vd(h){var x=Qe(h);if(Kl(x))return h}function Rh(h,x){if(h==="change")return x}var Kc=!1;if(Qa){var Yc;if(Qa){var Fi="oninput"in document;if(!Fi){var al=document.createElement("div");al.setAttribute("oninput","return;"),Fi=typeof al.oninput=="function"}Yc=Fi}else Yc=!1;Kc=Yc&&(!document.documentMode||9<document.documentMode)}function Xc(){Hd&&(Hd.detachEvent("onpropertychange",tc),bi=Hd=null)}function tc(h){if(h.propertyName==="value"&&Vd(bi)){var x=[];ku(x,bi,h,Fs(h)),Ut(Su,x)}}function Wd(h,x,w){h==="focusin"?(Xc(),Hd=x,bi=w,Hd.attachEvent("onpropertychange",tc)):h==="focusout"&&Xc()}function l0(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return Vd(bi)}function Fh(h,x){if(h==="click")return Vd(x)}function Kr(h,x){if(h==="input"||h==="change")return Vd(x)}function Zm(h,x){return h===x&&(h!==0||1/h===1/x)||h!==h&&x!==x}var Dr=typeof Object.is=="function"?Object.is:Zm;function sl(h,x){if(Dr(h,x))return!0;if(typeof h!="object"||h===null||typeof x!="object"||x===null)return!1;var w=Object.keys(h),C=Object.keys(x);if(w.length!==C.length)return!1;for(C=0;C<w.length;C++){var L=w[C];if(!se.call(x,L)||!Dr(h[L],x[L]))return!1}return!0}function Ih(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function Bh(h,x){var w=Ih(h);h=0;for(var C;w;){if(w.nodeType===3){if(C=h+w.textContent.length,h<=x&&C>=x)return{node:w,offset:x-h};h=C}e:{for(;w;){if(w.nextSibling){w=w.nextSibling;break e}w=w.parentNode}w=void 0}w=Ih(w)}}function $h(h,x){return h&&x?h===x?!0:h&&h.nodeType===3?!1:x&&x.nodeType===3?$h(h,x.parentNode):"contains"in h?h.contains(x):h.compareDocumentPosition?!!(h.compareDocumentPosition(x)&16):!1:!1}function Uh(h){h=h!=null&&h.ownerDocument!=null&&h.ownerDocument.defaultView!=null?h.ownerDocument.defaultView:window;for(var x=Qn(h.document);x instanceof h.HTMLIFrameElement;){try{var w=typeof x.contentWindow.location.href=="string"}catch{w=!1}if(w)h=x.contentWindow;else break;x=Qn(h.document)}return x}function ac(h){var x=h&&h.nodeName&&h.nodeName.toLowerCase();return x&&(x==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||x==="textarea"||h.contentEditable==="true")}var qd=Qa&&"documentMode"in document&&11>=document.documentMode,El=null,Jc=null,Zl=null,Qc=!1;function Tl(h,x,w){var C=w.window===w?w.document:w.nodeType===9?w:w.ownerDocument;Qc||El==null||El!==Qn(C)||(C=El,"selectionStart"in C&&ac(C)?C={start:C.selectionStart,end:C.selectionEnd}:(C=(C.ownerDocument&&C.ownerDocument.defaultView||window).getSelection(),C={anchorNode:C.anchorNode,anchorOffset:C.anchorOffset,focusNode:C.focusNode,focusOffset:C.focusOffset}),Zl&&sl(Zl,C)||(Zl=C,C=fy(Jc,"onSelect"),0<C.length&&(x=new Xl("onSelect","select",null,x,w),h.push({event:x,listeners:C}),x.target=El)))}function yi(h,x){var w={};return w[h.toLowerCase()]=x.toLowerCase(),w["Webkit"+h]="webkit"+x,w["Moz"+h]="moz"+x,w}var ys={animationend:yi("Animation","AnimationEnd"),animationiteration:yi("Animation","AnimationIteration"),animationstart:yi("Animation","AnimationStart"),transitionrun:yi("Transition","TransitionRun"),transitionstart:yi("Transition","TransitionStart"),transitioncancel:yi("Transition","TransitionCancel"),transitionend:yi("Transition","TransitionEnd")},Hs={},Pr={};Qa&&(Pr=document.createElement("div").style,"AnimationEvent"in window||(delete ys.animationend.animation,delete ys.animationiteration.animation,delete ys.animationstart.animation),"TransitionEvent"in window||delete ys.transitionend.transition);function dr(h){if(Hs[h])return Hs[h];if(!ys[h])return h;var x=ys[h],w;for(w in x)if(x.hasOwnProperty(w)&&w in Pr)return Hs[h]=x[w];return h}var sc=dr("animationend"),zh=dr("animationiteration"),Cu=dr("animationstart"),ep=dr("transitionrun"),Eb=dr("transitionstart"),Tb=dr("transitioncancel"),eg=dr("transitionend"),tg=new Map,tp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tp.push("scrollEnd");function eo(h,x){tg.set(h,x),Ft(x,[h])}var Hh=new WeakMap;function Dl(h,x){if(typeof h=="object"&&h!==null){var w=Hh.get(h);return w!==void 0?w:(x={value:h,source:x,stack:Gs(x)},Hh.set(h,x),x)}return{value:h,source:x,stack:Gs(x)}}var Pl=[],Au=0,ap=0;function o0(){for(var h=Au,x=ap=Au=0;x<h;){var w=Pl[x];Pl[x++]=null;var C=Pl[x];Pl[x++]=null;var L=Pl[x];Pl[x++]=null;var H=Pl[x];if(Pl[x++]=null,C!==null&&L!==null){var de=C.pending;de===null?L.next=L:(L.next=de.next,de.next=L),C.pending=L}H!==0&&rp(w,L,H)}}function c0(h,x,w,C){Pl[Au++]=h,Pl[Au++]=x,Pl[Au++]=w,Pl[Au++]=C,ap|=C,h.lanes|=C,h=h.alternate,h!==null&&(h.lanes|=C)}function sp(h,x,w,C){return c0(h,x,w,C),Eu(h)}function _u(h,x){return c0(h,null,null,x),Eu(h)}function rp(h,x,w){h.lanes|=w;var C=h.alternate;C!==null&&(C.lanes|=w);for(var L=!1,H=h.return;H!==null;)H.childLanes|=w,C=H.alternate,C!==null&&(C.childLanes|=w),H.tag===22&&(h=H.stateNode,h===null||h._visibility&1||(L=!0)),h=H,H=H.return;return h.tag===3?(H=h.stateNode,L&&x!==null&&(L=31-Ze(w),h=H.hiddenUpdates,C=h[L],C===null?h[L]=[x]:C.push(x),x.lane=w|536870912),H):null}function Eu(h){if(50<Cg)throw Cg=0,L4=null,Error(r(185));for(var x=h.return;x!==null;)h=x,x=h.return;return h.tag===3?h.stateNode:null}var zn={};function to(h,x,w,C){this.tag=h,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=x,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wi(h,x,w,C){return new to(h,x,w,C)}function Vh(h){return h=h.prototype,!(!h||!h.isReactComponent)}function rc(h,x){var w=h.alternate;return w===null?(w=wi(h.tag,x,h.key,h.mode),w.elementType=h.elementType,w.type=h.type,w.stateNode=h.stateNode,w.alternate=h,h.alternate=w):(w.pendingProps=x,w.type=h.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=h.flags&65011712,w.childLanes=h.childLanes,w.lanes=h.lanes,w.child=h.child,w.memoizedProps=h.memoizedProps,w.memoizedState=h.memoizedState,w.updateQueue=h.updateQueue,x=h.dependencies,w.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext},w.sibling=h.sibling,w.index=h.index,w.ref=h.ref,w.refCleanup=h.refCleanup,w}function d0(h,x){h.flags&=65011714;var w=h.alternate;return w===null?(h.childLanes=0,h.lanes=x,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=w.childLanes,h.lanes=w.lanes,h.child=w.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=w.memoizedProps,h.memoizedState=w.memoizedState,h.updateQueue=w.updateQueue,h.type=w.type,x=w.dependencies,h.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext}),h}function Tu(h,x,w,C,L,H){var de=0;if(C=h,typeof h=="function")Vh(h)&&(de=1);else if(typeof h=="string")de=XZ(h,w,W.current)?26:h==="html"||h==="head"||h==="body"?27:5;else e:switch(h){case R:return h=wi(31,w,x,L),h.elementType=R,h.lanes=H,h;case v:return Zc(w.children,L,H,x);case g:de=8,L|=24;break;case b:return h=wi(12,w,x,L|2),h.elementType=b,h.lanes=H,h;case A:return h=wi(13,w,x,L),h.elementType=A,h.lanes=H,h;case _:return h=wi(19,w,x,L),h.elementType=_,h.lanes=H,h;default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case j:case S:de=10;break e;case k:de=9;break e;case N:de=11;break e;case E:de=14;break e;case D:de=16,C=null;break e}de=29,w=Error(r(130,h===null?"null":typeof h,"")),C=null}return x=wi(de,w,x,L),x.elementType=h,x.type=C,x.lanes=H,x}function Zc(h,x,w,C){return h=wi(7,h,C,x),h.lanes=w,h}function np(h,x,w){return h=wi(6,h,null,x),h.lanes=w,h}function u0(h,x,w){return x=wi(4,h.children!==null?h.children:[],h.key,x),x.lanes=w,x.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},x}var Gd=[],ed=0,Wh=null,ip=0,ao=[],Ml=0,Du=null,td=1,ad="";function Pu(h,x){Gd[ed++]=ip,Gd[ed++]=Wh,Wh=h,ip=x}function Db(h,x,w){ao[Ml++]=td,ao[Ml++]=ad,ao[Ml++]=Du,Du=h;var C=td;h=ad;var L=32-Ze(C)-1;C&=~(1<<L),w+=1;var H=32-Ze(x)+L;if(30<H){var de=L-L%5;H=(C&(1<<de)-1).toString(32),C>>=de,L-=de,td=1<<32-Ze(x)+L|w<<L|C,ad=H+h}else td=1<<H|w<<L|C,ad=h}function h0(h){h.return!==null&&(Pu(h,1),Db(h,1,0))}function f0(h){for(;h===Wh;)Wh=Gd[--ed],Gd[ed]=null,ip=Gd[--ed],Gd[ed]=null;for(;h===Du;)Du=ao[--Ml],ao[Ml]=null,ad=ao[--Ml],ao[Ml]=null,td=ao[--Ml],ao[Ml]=null}var jn=null,Mr=null,Ms=!1,Kd=null,nc=!1,ag=Error(r(519));function Mu(h){var x=Error(r(418,""));throw qh(Dl(x,h)),ag}function Pb(h){var x=h.stateNode,w=h.type,C=h.memoizedProps;switch(x[ps]=h,x[Fe]=C,w){case"dialog":js("cancel",x),js("close",x);break;case"iframe":case"object":case"embed":js("load",x);break;case"video":case"audio":for(w=0;w<_g.length;w++)js(_g[w],x);break;case"source":js("error",x);break;case"img":case"image":case"link":js("error",x),js("load",x);break;case"details":js("toggle",x);break;case"input":js("invalid",x),Ld(x,C.value,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name,!0),rn(x);break;case"select":js("invalid",x);break;case"textarea":js("invalid",x),Od(x,C.value,C.defaultValue,C.children),rn(x)}w=C.children,typeof w!="string"&&typeof w!="number"&&typeof w!="bigint"||x.textContent===""+w||C.suppressHydrationWarning===!0||c7(x.textContent,w)?(C.popover!=null&&(js("beforetoggle",x),js("toggle",x)),C.onScroll!=null&&js("scroll",x),C.onScrollEnd!=null&&js("scrollend",x),C.onClick!=null&&(x.onclick=my),x=!0):x=!1,x||Mu(h)}function sd(h){for(jn=h.return;jn;)switch(jn.tag){case 5:case 13:nc=!1;return;case 27:case 3:nc=!0;return;default:jn=jn.return}}function Ii(h){if(h!==jn)return!1;if(!Ms)return sd(h),Ms=!0,!1;var x=h.tag,w;if((w=x!==3&&x!==27)&&((w=x===5)&&(w=h.type,w=!(w!=="form"&&w!=="button")||X4(h.type,h.memoizedProps)),w=!w),w&&Mr&&Mu(h),sd(h),x===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));e:{for(h=h.nextSibling,x=0;h;){if(h.nodeType===8)if(w=h.data,w==="/$"){if(x===0){Mr=ud(h.nextSibling);break e}x--}else w!=="$"&&w!=="$!"&&w!=="$?"||x++;h=h.nextSibling}Mr=null}}else x===27?(x=Mr,cf(h.type)?(h=e5,e5=null,Mr=h):Mr=x):Mr=jn?ud(h.stateNode.nextSibling):null;return!0}function Ll(){Mr=jn=null,Ms=!1}function Mb(){var h=Kd;return h!==null&&(ro===null?ro=h:ro.push.apply(ro,h),Kd=null),h}function qh(h){Kd===null?Kd=[h]:Kd.push(h)}var ic=le(null),Hn=null,rd=null;function Yd(h,x,w){q(ic,x._currentValue),x._currentValue=w}function lc(h){h._currentValue=ic.current,O(ic)}function lp(h,x,w){for(;h!==null;){var C=h.alternate;if((h.childLanes&x)!==x?(h.childLanes|=x,C!==null&&(C.childLanes|=x)):C!==null&&(C.childLanes&x)!==x&&(C.childLanes|=x),h===w)break;h=h.return}}function op(h,x,w,C){var L=h.child;for(L!==null&&(L.return=h);L!==null;){var H=L.dependencies;if(H!==null){var de=L.child;H=H.firstContext;e:for(;H!==null;){var be=H;H=L;for(var $e=0;$e<x.length;$e++)if(be.context===x[$e]){H.lanes|=w,be=H.alternate,be!==null&&(be.lanes|=w),lp(H.return,w,h),C||(de=null);break e}H=be.next}}else if(L.tag===18){if(de=L.return,de===null)throw Error(r(341));de.lanes|=w,H=de.alternate,H!==null&&(H.lanes|=w),lp(de,w,h),de=null}else de=L.child;if(de!==null)de.return=L;else for(de=L;de!==null;){if(de===h){de=null;break}if(L=de.sibling,L!==null){L.return=de.return,de=L;break}de=de.return}L=de}}function Gh(h,x,w,C){h=null;for(var L=x,H=!1;L!==null;){if(!H){if((L.flags&524288)!==0)H=!0;else if((L.flags&262144)!==0)break}if(L.tag===10){var de=L.alternate;if(de===null)throw Error(r(387));if(de=de.memoizedProps,de!==null){var be=L.type;Dr(L.pendingProps.value,de.value)||(h!==null?h.push(be):h=[be])}}else if(L===oe.current){if(de=L.alternate,de===null)throw Error(r(387));de.memoizedState.memoizedState!==L.memoizedState.memoizedState&&(h!==null?h.push(Lg):h=[Lg])}L=L.return}h!==null&&op(x,h,w,C),x.flags|=262144}function cp(h){for(h=h.firstContext;h!==null;){if(!Dr(h.context._currentValue,h.memoizedValue))return!0;h=h.next}return!1}function oc(h){Hn=h,rd=null,h=h.dependencies,h!==null&&(h.firstContext=null)}function Nn(h){return dp(Hn,h)}function Xd(h,x){return Hn===null&&oc(h),dp(h,x)}function dp(h,x){var w=x._currentValue;if(x={context:x,memoizedValue:w,next:null},rd===null){if(h===null)throw Error(r(308));rd=x,h.dependencies={lanes:0,firstContext:x},h.flags|=524288}else rd=rd.next=x;return w}var n4=typeof AbortController<"u"?AbortController:function(){var h=[],x=this.signal={aborted:!1,addEventListener:function(w,C){h.push(C)}};this.abort=function(){x.aborted=!0,h.forEach(function(w){return w()})}},Lb=e.unstable_scheduleCallback,i4=e.unstable_NormalPriority,kn={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sg(){return{controller:new n4,data:new Map,refCount:0}}function m0(h){h.refCount--,h.refCount===0&&Lb(i4,function(){h.controller.abort()})}var p0=null,rg=0,Lu=0,nd=null;function l4(h,x){if(p0===null){var w=p0=[];rg=0,Lu=U4(),nd={status:"pending",value:void 0,then:function(C){w.push(C)}}}return rg++,x.then(Ob,Ob),x}function Ob(){if(--rg===0&&p0!==null){nd!==null&&(nd.status="fulfilled");var h=p0;p0=null,Lu=0,nd=null;for(var x=0;x<h.length;x++)(0,h[x])()}}function Rb(h,x){var w=[],C={status:"pending",value:null,reason:null,then:function(L){w.push(L)}};return h.then(function(){C.status="fulfilled",C.value=x;for(var L=0;L<w.length;L++)(0,w[L])(x)},function(L){for(C.status="rejected",C.reason=L,L=0;L<w.length;L++)(0,w[L])(void 0)}),C}var T=V.S;V.S=function(h,x){typeof x=="object"&&x!==null&&typeof x.then=="function"&&l4(h,x),T!==null&&T(h,x)};var B=le(null);function ee(){var h=B.current;return h!==null?h:pr.pooledCache}function ne(h,x){x===null?q(B,B.current):q(B,x.pool)}function fe(){var h=ee();return h===null?null:{parent:kn._currentValue,pool:h}}var xe=Error(r(460)),ve=Error(r(474)),je=Error(r(542)),Ce={then:function(){}};function Le(h){return h=h.status,h==="fulfilled"||h==="rejected"}function He(){}function ot(h,x,w){switch(w=h[w],w===void 0?h.push(x):w!==x&&(x.then(He,He),x=w),x.status){case"fulfilled":return x.value;case"rejected":throw h=x.reason,tt(h),h;default:if(typeof x.status=="string")x.then(He,He);else{if(h=pr,h!==null&&100<h.shellSuspendCounter)throw Error(r(482));h=x,h.status="pending",h.then(function(C){if(x.status==="pending"){var L=x;L.status="fulfilled",L.value=C}},function(C){if(x.status==="pending"){var L=x;L.status="rejected",L.reason=C}})}switch(x.status){case"fulfilled":return x.value;case"rejected":throw h=x.reason,tt(h),h}throw Pe=x,xe}}var Pe=null;function Ge(){if(Pe===null)throw Error(r(459));var h=Pe;return Pe=null,h}function tt(h){if(h===xe||h===je)throw Error(r(483))}var wt=!1;function nt(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nt(h,x){h=h.updateQueue,x.updateQueue===h&&(x.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,callbacks:null})}function jt(h){return{lane:h,tag:0,payload:null,callback:null,next:null}}function Vt(h,x,w){var C=h.updateQueue;if(C===null)return null;if(C=C.shared,(Ys&2)!==0){var L=C.pending;return L===null?x.next=x:(x.next=L.next,L.next=x),C.pending=x,x=Eu(h),rp(h,null,w),x}return c0(h,C,x,w),Eu(h)}function It(h,x,w){if(x=x.updateQueue,x!==null&&(x=x.shared,(w&4194048)!==0)){var C=x.lanes;C&=h.pendingLanes,w|=C,x.lanes=w,ut(h,w)}}function va(h,x){var w=h.updateQueue,C=h.alternate;if(C!==null&&(C=C.updateQueue,w===C)){var L=null,H=null;if(w=w.firstBaseUpdate,w!==null){do{var de={lane:w.lane,tag:w.tag,payload:w.payload,callback:null,next:null};H===null?L=H=de:H=H.next=de,w=w.next}while(w!==null);H===null?L=H=x:H=H.next=x}else L=H=x;w={baseState:C.baseState,firstBaseUpdate:L,lastBaseUpdate:H,shared:C.shared,callbacks:C.callbacks},h.updateQueue=w;return}h=w.lastBaseUpdate,h===null?w.firstBaseUpdate=x:h.next=x,w.lastBaseUpdate=x}var la=!1;function Wa(){if(la){var h=nd;if(h!==null)throw h}}function da(h,x,w,C){la=!1;var L=h.updateQueue;wt=!1;var H=L.firstBaseUpdate,de=L.lastBaseUpdate,be=L.shared.pending;if(be!==null){L.shared.pending=null;var $e=be,ct=$e.next;$e.next=null,de===null?H=ct:de.next=ct,de=$e;var Et=h.alternate;Et!==null&&(Et=Et.updateQueue,be=Et.lastBaseUpdate,be!==de&&(be===null?Et.firstBaseUpdate=ct:be.next=ct,Et.lastBaseUpdate=$e))}if(H!==null){var Bt=L.baseState;de=0,Et=ct=$e=null,be=H;do{var ft=be.lane&-536870913,xt=ft!==be.lane;if(xt?(Ds&ft)===ft:(C&ft)===ft){ft!==0&&ft===Lu&&(la=!0),Et!==null&&(Et=Et.next={lane:0,tag:be.tag,payload:be.payload,callback:null,next:null});e:{var $a=h,Da=be;ft=x;var ir=w;switch(Da.tag){case 1:if($a=Da.payload,typeof $a=="function"){Bt=$a.call(ir,Bt,ft);break e}Bt=$a;break e;case 3:$a.flags=$a.flags&-65537|128;case 0:if($a=Da.payload,ft=typeof $a=="function"?$a.call(ir,Bt,ft):$a,ft==null)break e;Bt=u({},Bt,ft);break e;case 2:wt=!0}}ft=be.callback,ft!==null&&(h.flags|=64,xt&&(h.flags|=8192),xt=L.callbacks,xt===null?L.callbacks=[ft]:xt.push(ft))}else xt={lane:ft,tag:be.tag,payload:be.payload,callback:be.callback,next:null},Et===null?(ct=Et=xt,$e=Bt):Et=Et.next=xt,de|=ft;if(be=be.next,be===null){if(be=L.shared.pending,be===null)break;xt=be,be=xt.next,xt.next=null,L.lastBaseUpdate=xt,L.shared.pending=null}}while(!0);Et===null&&($e=Bt),L.baseState=$e,L.firstBaseUpdate=ct,L.lastBaseUpdate=Et,H===null&&(L.shared.lanes=0),rf|=de,h.lanes=de,h.memoizedState=Bt}}function xs(h,x){if(typeof h!="function")throw Error(r(191,h));h.call(x)}function dn(h,x){var w=h.callbacks;if(w!==null)for(h.callbacks=null,h=0;h<w.length;h++)xs(w[h],x)}var Ba=le(null),ha=le(0);function aa(h,x){h=zu,q(ha,h),q(Ba,x),zu=h|x.baseLanes}function yr(){q(ha,zu),q(Ba,Ba.current)}function qa(){zu=ha.current,O(Ba),O(ha)}var as=0,ma=null,Ya=null,ks=null,ur=!1,Yr=!1,Xr=!1,Lr=0,fs=0,Ss=null,Or=0;function Ta(){throw Error(r(321))}function Sn(h,x){if(x===null)return!1;for(var w=0;w<x.length&&w<h.length;w++)if(!Dr(h[w],x[w]))return!1;return!0}function Ol(h,x,w,C,L,H){return as=H,ma=x,x.memoizedState=null,x.updateQueue=null,x.lanes=0,V.H=h===null||h.memoizedState===null?HE:VE,Xr=!1,H=w(C,L),Xr=!1,Yr&&(H=Bi(x,w,C,L)),Rr(h),H}function Rr(h){V.H=Kb;var x=Ya!==null&&Ya.next!==null;if(as=0,ks=Ya=ma=null,ur=!1,fs=0,Ss=null,x)throw Error(r(300));h===null||Ni||(h=h.dependencies,h!==null&&cp(h)&&(Ni=!0))}function Bi(h,x,w,C){ma=h;var L=0;do{if(Yr&&(Ss=null),fs=0,Yr=!1,25<=L)throw Error(r(301));if(L+=1,ks=Ya=null,h.updateQueue!=null){var H=h.updateQueue;H.lastEffect=null,H.events=null,H.stores=null,H.memoCache!=null&&(H.memoCache.index=0)}V.H=lZ,H=x(w,C)}while(Yr);return H}function Ks(){var h=V.H,x=h.useState()[0];return x=typeof x.then=="function"?ri(x):x,h=h.useState()[0],(Ya!==null?Ya.memoizedState:null)!==h&&(ma.flags|=1024),x}function Jr(){var h=Lr!==0;return Lr=0,h}function $i(h,x,w){x.updateQueue=h.updateQueue,x.flags&=-2053,h.lanes&=~w}function si(h){if(ur){for(h=h.memoizedState;h!==null;){var x=h.queue;x!==null&&(x.pending=null),h=h.next}ur=!1}as=0,ks=Ya=ma=null,Yr=!1,fs=Lr=0,Ss=null}function rr(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ks===null?ma.memoizedState=ks=h:ks=ks.next=h,ks}function Ts(){if(Ya===null){var h=ma.alternate;h=h!==null?h.memoizedState:null}else h=Ya.next;var x=ks===null?ma.memoizedState:ks.next;if(x!==null)ks=x,Ya=h;else{if(h===null)throw ma.alternate===null?Error(r(467)):Error(r(310));Ya=h,h={memoizedState:Ya.memoizedState,baseState:Ya.baseState,baseQueue:Ya.baseQueue,queue:Ya.queue,next:null},ks===null?ma.memoizedState=ks=h:ks=ks.next=h}return ks}function ji(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ri(h){var x=fs;return fs+=1,Ss===null&&(Ss=[]),h=ot(Ss,h,x),x=ma,(ks===null?x.memoizedState:ks.next)===null&&(x=x.alternate,V.H=x===null||x.memoizedState===null?HE:VE),h}function Vs(h){if(h!==null&&typeof h=="object"){if(typeof h.then=="function")return ri(h);if(h.$$typeof===S)return Nn(h)}throw Error(r(438,String(h)))}function Ui(h){var x=null,w=ma.updateQueue;if(w!==null&&(x=w.memoCache),x==null){var C=ma.alternate;C!==null&&(C=C.updateQueue,C!==null&&(C=C.memoCache,C!=null&&(x={data:C.data.map(function(L){return L.slice()}),index:0})))}if(x==null&&(x={data:[],index:0}),w===null&&(w=ji(),ma.updateQueue=w),w.memoCache=x,w=x.data[x.index],w===void 0)for(w=x.data[x.index]=Array(h),C=0;C<h;C++)w[C]=I;return x.index++,w}function Cn(h,x){return typeof x=="function"?x(h):x}function cc(h){var x=Ts();return Ao(x,Ya,h)}function Ao(h,x,w){var C=h.queue;if(C===null)throw Error(r(311));C.lastRenderedReducer=w;var L=h.baseQueue,H=C.pending;if(H!==null){if(L!==null){var de=L.next;L.next=H.next,H.next=de}x.baseQueue=L=H,C.pending=null}if(H=h.baseState,L===null)h.memoizedState=H;else{x=L.next;var be=de=null,$e=null,ct=x,Et=!1;do{var Bt=ct.lane&-536870913;if(Bt!==ct.lane?(Ds&Bt)===Bt:(as&Bt)===Bt){var ft=ct.revertLane;if(ft===0)$e!==null&&($e=$e.next={lane:0,revertLane:0,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null}),Bt===Lu&&(Et=!0);else if((as&ft)===ft){ct=ct.next,ft===Lu&&(Et=!0);continue}else Bt={lane:0,revertLane:ct.revertLane,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null},$e===null?(be=$e=Bt,de=H):$e=$e.next=Bt,ma.lanes|=ft,rf|=ft;Bt=ct.action,Xr&&w(H,Bt),H=ct.hasEagerState?ct.eagerState:w(H,Bt)}else ft={lane:Bt,revertLane:ct.revertLane,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null},$e===null?(be=$e=ft,de=H):$e=$e.next=ft,ma.lanes|=Bt,rf|=Bt;ct=ct.next}while(ct!==null&&ct!==x);if($e===null?de=H:$e.next=be,!Dr(H,h.memoizedState)&&(Ni=!0,Et&&(w=nd,w!==null)))throw w;h.memoizedState=H,h.baseState=de,h.baseQueue=$e,C.lastRenderedState=H}return L===null&&(C.lanes=0),[h.memoizedState,C.dispatch]}function An(h){var x=Ts(),w=x.queue;if(w===null)throw Error(r(311));w.lastRenderedReducer=h;var C=w.dispatch,L=w.pending,H=x.memoizedState;if(L!==null){w.pending=null;var de=L=L.next;do H=h(H,de.action),de=de.next;while(de!==L);Dr(H,x.memoizedState)||(Ni=!0),x.memoizedState=H,x.baseQueue===null&&(x.baseState=H),w.lastRenderedState=H}return[H,C]}function x0(h,x,w){var C=ma,L=Ts(),H=Ms;if(H){if(w===void 0)throw Error(r(407));w=w()}else w=x();var de=!Dr((Ya||L).memoizedState,w);de&&(L.memoizedState=w,Ni=!0),L=L.queue;var be=Kh.bind(null,C,L,h);if(Jh(2048,8,be,[h]),L.getSnapshot!==x||de||ks!==null&&ks.memoizedState.tag&1){if(C.flags|=2048,ld(9,y0(),g0.bind(null,C,L,w,x),null),pr===null)throw Error(r(349));H||(as&124)!==0||up(C,x,w)}return w}function up(h,x,w){h.flags|=16384,h={getSnapshot:x,value:w},x=ma.updateQueue,x===null?(x=ji(),ma.updateQueue=x,x.stores=[h]):(w=x.stores,w===null?x.stores=[h]:w.push(h))}function g0(h,x,w,C){x.value=w,x.getSnapshot=C,Fb(x)&&Ib(h)}function Kh(h,x,w){return w(function(){Fb(x)&&Ib(h)})}function Fb(h){var x=h.getSnapshot;h=h.value;try{var w=x();return!Dr(h,w)}catch{return!0}}function Ib(h){var x=_u(h,2);x!==null&&Mo(x,h,2)}function v0(h){var x=rr();if(typeof h=="function"){var w=h;if(h=w(),Xr){Ke(!0);try{w()}finally{Ke(!1)}}}return x.memoizedState=x.baseState=h,x.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:h},x}function id(h,x,w,C){return h.baseState=w,Ao(h,Ya,typeof C=="function"?C:Cn)}function o4(h,x,w,C,L){if(Gb(h))throw Error(r(485));if(h=x.action,h!==null){var H={payload:L,action:h,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(de){H.listeners.push(de)}};V.T!==null?w(!0):H.isTransition=!1,C(H),w=x.pending,w===null?(H.next=x.pending=H,Bb(x,H)):(H.next=w.next,x.pending=w.next=H)}}function Bb(h,x){var w=x.action,C=x.payload,L=h.state;if(x.isTransition){var H=V.T,de={};V.T=de;try{var be=w(L,C),$e=V.S;$e!==null&&$e(de,be),$b(h,x,be)}catch(ct){Yh(h,x,ct)}finally{V.T=H}}else try{H=w(L,C),$b(h,x,H)}catch(ct){Yh(h,x,ct)}}function $b(h,x,w){w!==null&&typeof w=="object"&&typeof w.then=="function"?w.then(function(C){ng(h,x,C)},function(C){return Yh(h,x,C)}):ng(h,x,w)}function ng(h,x,w){x.status="fulfilled",x.value=w,ig(x),h.state=w,x=h.pending,x!==null&&(w=x.next,w===x?h.pending=null:(w=w.next,x.next=w,Bb(h,w)))}function Yh(h,x,w){var C=h.pending;if(h.pending=null,C!==null){C=C.next;do x.status="rejected",x.reason=w,ig(x),x=x.next;while(x!==C)}h.action=null}function ig(h){h=h.listeners;for(var x=0;x<h.length;x++)(0,h[x])()}function lg(h,x){return x}function b0(h,x){if(Ms){var w=pr.formState;if(w!==null){e:{var C=ma;if(Ms){if(Mr){t:{for(var L=Mr,H=nc;L.nodeType!==8;){if(!H){L=null;break t}if(L=ud(L.nextSibling),L===null){L=null;break t}}H=L.data,L=H==="F!"||H==="F"?L:null}if(L){Mr=ud(L.nextSibling),C=L.data==="F!";break e}}Mu(C)}C=!1}C&&(x=w[0])}}return w=rr(),w.memoizedState=w.baseState=x,C={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lg,lastRenderedState:x},w.queue=C,w=$E.bind(null,ma,C),C.dispatch=w,C=v0(!1),H=c4.bind(null,ma,!1,C.queue),C=rr(),L={state:x,dispatch:null,action:h,pending:null},C.queue=L,w=o4.bind(null,ma,L,H,w),L.dispatch=w,C.memoizedState=h,[x,w,!1]}function hp(h){var x=Ts();return Xh(x,Ya,h)}function Xh(h,x,w){if(x=Ao(h,x,lg)[0],h=cc(Cn)[0],typeof x=="object"&&x!==null&&typeof x.then=="function")try{var C=ri(x)}catch(de){throw de===xe?je:de}else C=x;x=Ts();var L=x.queue,H=L.dispatch;return w!==x.memoizedState&&(ma.flags|=2048,ld(9,y0(),Ub.bind(null,L,w),null)),[C,H,h]}function Ub(h,x){h.action=x}function zb(h){var x=Ts(),w=Ya;if(w!==null)return Xh(x,w,h);Ts(),x=x.memoizedState,w=Ts();var C=w.queue.dispatch;return w.memoizedState=h,[x,C,!1]}function ld(h,x,w,C){return h={tag:h,create:w,deps:C,inst:x,next:null},x=ma.updateQueue,x===null&&(x=ji(),ma.updateQueue=x),w=x.lastEffect,w===null?x.lastEffect=h.next=h:(C=w.next,w.next=h,h.next=C,x.lastEffect=h),h}function y0(){return{destroy:void 0,resource:void 0}}function fp(){return Ts().memoizedState}function _o(h,x,w,C){var L=rr();C=C===void 0?null:C,ma.flags|=h,L.memoizedState=ld(1|x,y0(),w,C)}function Jh(h,x,w,C){var L=Ts();C=C===void 0?null:C;var H=L.memoizedState.inst;Ya!==null&&C!==null&&Sn(C,Ya.memoizedState.deps)?L.memoizedState=ld(x,H,w,C):(ma.flags|=h,L.memoizedState=ld(1|x,H,w,C))}function og(h,x){_o(8390656,8,h,x)}function Hb(h,x){Jh(2048,8,h,x)}function cg(h,x){return Jh(4,2,h,x)}function Ou(h,x){return Jh(4,4,h,x)}function Vb(h,x){if(typeof x=="function"){h=h();var w=x(h);return function(){typeof w=="function"?w():x(null)}}if(x!=null)return h=h(),x.current=h,function(){x.current=null}}function dg(h,x,w){w=w!=null?w.concat([h]):null,Jh(4,4,Vb.bind(null,x,h),w)}function ug(){}function hg(h,x){var w=Ts();x=x===void 0?null:x;var C=w.memoizedState;return x!==null&&Sn(x,C[1])?C[0]:(w.memoizedState=[h,x],h)}function Wb(h,x){var w=Ts();x=x===void 0?null:x;var C=w.memoizedState;if(x!==null&&Sn(x,C[1]))return C[0];if(C=h(),Xr){Ke(!0);try{h()}finally{Ke(!1)}}return w.memoizedState=[C,x],C}function Ru(h,x,w){return w===void 0||(as&1073741824)!==0?h.memoizedState=x:(h.memoizedState=w,h=RT(),ma.lanes|=h,rf|=h,w)}function mp(h,x,w,C){return Dr(w,x)?w:Ba.current!==null?(h=Ru(h,w,C),Dr(h,x)||(Ni=!0),h):(as&42)===0?(Ni=!0,h.memoizedState=w):(h=RT(),ma.lanes|=h,rf|=h,x)}function w0(h,x,w,C,L){var H=J.p;J.p=H!==0&&8>H?H:8;var de=V.T,be={};V.T=be,c4(h,!1,x,w);try{var $e=L(),ct=V.S;if(ct!==null&&ct(be,$e),$e!==null&&typeof $e=="object"&&typeof $e.then=="function"){var Et=Rb($e,C);xg(h,x,Et,Po(h))}else xg(h,x,C,Po(h))}catch(Bt){xg(h,x,{then:function(){},status:"rejected",reason:Bt},Po())}finally{J.p=H,V.T=de}}function od(){}function dc(h,x,w,C){if(h.tag!==5)throw Error(r(476));var L=cd(h).queue;w0(h,L,x,Q,w===null?od:function(){return j0(h),w(C)})}function cd(h){var x=h.memoizedState;if(x!==null)return x;x={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:Q},next:null};var w={};return x.next={memoizedState:w,baseState:w,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:w},next:null},h.memoizedState=x,h=h.alternate,h!==null&&(h.memoizedState=x),x}function j0(h){var x=cd(h).next.queue;xg(h,x,{},Po())}function N0(){return Nn(Lg)}function fg(){return Ts().memoizedState}function qb(){return Ts().memoizedState}function mg(h){for(var x=h.return;x!==null;){switch(x.tag){case 24:case 3:var w=Po();h=jt(w);var C=Vt(x,h,w);C!==null&&(Mo(C,x,w),It(C,x,w)),x={cache:sg()},h.payload=x;return}x=x.return}}function pg(h,x,w){var C=Po();w={lane:C,revertLane:0,action:w,hasEagerState:!1,eagerState:null,next:null},Gb(h)?UE(x,w):(w=sp(h,x,w,C),w!==null&&(Mo(w,h,C),zE(w,x,C)))}function $E(h,x,w){var C=Po();xg(h,x,w,C)}function xg(h,x,w,C){var L={lane:C,revertLane:0,action:w,hasEagerState:!1,eagerState:null,next:null};if(Gb(h))UE(x,L);else{var H=h.alternate;if(h.lanes===0&&(H===null||H.lanes===0)&&(H=x.lastRenderedReducer,H!==null))try{var de=x.lastRenderedState,be=H(de,w);if(L.hasEagerState=!0,L.eagerState=be,Dr(be,de))return c0(h,x,L,0),pr===null&&o0(),!1}catch{}finally{}if(w=sp(h,x,L,C),w!==null)return Mo(w,h,C),zE(w,x,C),!0}return!1}function c4(h,x,w,C){if(C={lane:2,revertLane:U4(),action:C,hasEagerState:!1,eagerState:null,next:null},Gb(h)){if(x)throw Error(r(479))}else x=sp(h,w,C,2),x!==null&&Mo(x,h,2)}function Gb(h){var x=h.alternate;return h===ma||x!==null&&x===ma}function UE(h,x){Yr=ur=!0;var w=h.pending;w===null?x.next=x:(x.next=w.next,w.next=x),h.pending=x}function zE(h,x,w){if((w&4194048)!==0){var C=x.lanes;C&=h.pendingLanes,w|=C,x.lanes=w,ut(h,w)}}var Kb={readContext:Nn,use:Vs,useCallback:Ta,useContext:Ta,useEffect:Ta,useImperativeHandle:Ta,useLayoutEffect:Ta,useInsertionEffect:Ta,useMemo:Ta,useReducer:Ta,useRef:Ta,useState:Ta,useDebugValue:Ta,useDeferredValue:Ta,useTransition:Ta,useSyncExternalStore:Ta,useId:Ta,useHostTransitionStatus:Ta,useFormState:Ta,useActionState:Ta,useOptimistic:Ta,useMemoCache:Ta,useCacheRefresh:Ta},HE={readContext:Nn,use:Vs,useCallback:function(h,x){return rr().memoizedState=[h,x===void 0?null:x],h},useContext:Nn,useEffect:og,useImperativeHandle:function(h,x,w){w=w!=null?w.concat([h]):null,_o(4194308,4,Vb.bind(null,x,h),w)},useLayoutEffect:function(h,x){return _o(4194308,4,h,x)},useInsertionEffect:function(h,x){_o(4,2,h,x)},useMemo:function(h,x){var w=rr();x=x===void 0?null:x;var C=h();if(Xr){Ke(!0);try{h()}finally{Ke(!1)}}return w.memoizedState=[C,x],C},useReducer:function(h,x,w){var C=rr();if(w!==void 0){var L=w(x);if(Xr){Ke(!0);try{w(x)}finally{Ke(!1)}}}else L=x;return C.memoizedState=C.baseState=L,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:L},C.queue=h,h=h.dispatch=pg.bind(null,ma,h),[C.memoizedState,h]},useRef:function(h){var x=rr();return h={current:h},x.memoizedState=h},useState:function(h){h=v0(h);var x=h.queue,w=$E.bind(null,ma,x);return x.dispatch=w,[h.memoizedState,w]},useDebugValue:ug,useDeferredValue:function(h,x){var w=rr();return Ru(w,h,x)},useTransition:function(){var h=v0(!1);return h=w0.bind(null,ma,h.queue,!0,!1),rr().memoizedState=h,[!1,h]},useSyncExternalStore:function(h,x,w){var C=ma,L=rr();if(Ms){if(w===void 0)throw Error(r(407));w=w()}else{if(w=x(),pr===null)throw Error(r(349));(Ds&124)!==0||up(C,x,w)}L.memoizedState=w;var H={value:w,getSnapshot:x};return L.queue=H,og(Kh.bind(null,C,H,h),[h]),C.flags|=2048,ld(9,y0(),g0.bind(null,C,H,w,x),null),w},useId:function(){var h=rr(),x=pr.identifierPrefix;if(Ms){var w=ad,C=td;w=(C&~(1<<32-Ze(C)-1)).toString(32)+w,x=""+x+"R"+w,w=Lr++,0<w&&(x+="H"+w.toString(32)),x+=""}else w=Or++,x=""+x+"r"+w.toString(32)+"";return h.memoizedState=x},useHostTransitionStatus:N0,useFormState:b0,useActionState:b0,useOptimistic:function(h){var x=rr();x.memoizedState=x.baseState=h;var w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return x.queue=w,x=c4.bind(null,ma,!0,w),w.dispatch=x,[h,x]},useMemoCache:Ui,useCacheRefresh:function(){return rr().memoizedState=mg.bind(null,ma)}},VE={readContext:Nn,use:Vs,useCallback:hg,useContext:Nn,useEffect:Hb,useImperativeHandle:dg,useInsertionEffect:cg,useLayoutEffect:Ou,useMemo:Wb,useReducer:cc,useRef:fp,useState:function(){return cc(Cn)},useDebugValue:ug,useDeferredValue:function(h,x){var w=Ts();return mp(w,Ya.memoizedState,h,x)},useTransition:function(){var h=cc(Cn)[0],x=Ts().memoizedState;return[typeof h=="boolean"?h:ri(h),x]},useSyncExternalStore:x0,useId:fg,useHostTransitionStatus:N0,useFormState:hp,useActionState:hp,useOptimistic:function(h,x){var w=Ts();return id(w,Ya,h,x)},useMemoCache:Ui,useCacheRefresh:qb},lZ={readContext:Nn,use:Vs,useCallback:hg,useContext:Nn,useEffect:Hb,useImperativeHandle:dg,useInsertionEffect:cg,useLayoutEffect:Ou,useMemo:Wb,useReducer:An,useRef:fp,useState:function(){return An(Cn)},useDebugValue:ug,useDeferredValue:function(h,x){var w=Ts();return Ya===null?Ru(w,h,x):mp(w,Ya.memoizedState,h,x)},useTransition:function(){var h=An(Cn)[0],x=Ts().memoizedState;return[typeof h=="boolean"?h:ri(h),x]},useSyncExternalStore:x0,useId:fg,useHostTransitionStatus:N0,useFormState:zb,useActionState:zb,useOptimistic:function(h,x){var w=Ts();return Ya!==null?id(w,Ya,h,x):(w.baseState=h,[h,w.queue.dispatch])},useMemoCache:Ui,useCacheRefresh:qb},pp=null,gg=0;function Yb(h){var x=gg;return gg+=1,pp===null&&(pp=[]),ot(pp,h,x)}function vg(h,x){x=x.props.ref,h.ref=x!==void 0?x:null}function Xb(h,x){throw x.$$typeof===f?Error(r(525)):(h=Object.prototype.toString.call(x),Error(r(31,h==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":h)))}function WE(h){var x=h._init;return x(h._payload)}function qE(h){function x(Xe,Ve){if(h){var rt=Xe.deletions;rt===null?(Xe.deletions=[Ve],Xe.flags|=16):rt.push(Ve)}}function w(Xe,Ve){if(!h)return null;for(;Ve!==null;)x(Xe,Ve),Ve=Ve.sibling;return null}function C(Xe){for(var Ve=new Map;Xe!==null;)Xe.key!==null?Ve.set(Xe.key,Xe):Ve.set(Xe.index,Xe),Xe=Xe.sibling;return Ve}function L(Xe,Ve){return Xe=rc(Xe,Ve),Xe.index=0,Xe.sibling=null,Xe}function H(Xe,Ve,rt){return Xe.index=rt,h?(rt=Xe.alternate,rt!==null?(rt=rt.index,rt<Ve?(Xe.flags|=67108866,Ve):rt):(Xe.flags|=67108866,Ve)):(Xe.flags|=1048576,Ve)}function de(Xe){return h&&Xe.alternate===null&&(Xe.flags|=67108866),Xe}function be(Xe,Ve,rt,Lt){return Ve===null||Ve.tag!==6?(Ve=np(rt,Xe.mode,Lt),Ve.return=Xe,Ve):(Ve=L(Ve,rt),Ve.return=Xe,Ve)}function $e(Xe,Ve,rt,Lt){var xa=rt.type;return xa===v?Et(Xe,Ve,rt.props.children,Lt,rt.key):Ve!==null&&(Ve.elementType===xa||typeof xa=="object"&&xa!==null&&xa.$$typeof===D&&WE(xa)===Ve.type)?(Ve=L(Ve,rt.props),vg(Ve,rt),Ve.return=Xe,Ve):(Ve=Tu(rt.type,rt.key,rt.props,null,Xe.mode,Lt),vg(Ve,rt),Ve.return=Xe,Ve)}function ct(Xe,Ve,rt,Lt){return Ve===null||Ve.tag!==4||Ve.stateNode.containerInfo!==rt.containerInfo||Ve.stateNode.implementation!==rt.implementation?(Ve=u0(rt,Xe.mode,Lt),Ve.return=Xe,Ve):(Ve=L(Ve,rt.children||[]),Ve.return=Xe,Ve)}function Et(Xe,Ve,rt,Lt,xa){return Ve===null||Ve.tag!==7?(Ve=Zc(rt,Xe.mode,Lt,xa),Ve.return=Xe,Ve):(Ve=L(Ve,rt),Ve.return=Xe,Ve)}function Bt(Xe,Ve,rt){if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint")return Ve=np(""+Ve,Xe.mode,rt),Ve.return=Xe,Ve;if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case p:return rt=Tu(Ve.type,Ve.key,Ve.props,null,Xe.mode,rt),vg(rt,Ve),rt.return=Xe,rt;case m:return Ve=u0(Ve,Xe.mode,rt),Ve.return=Xe,Ve;case D:var Lt=Ve._init;return Ve=Lt(Ve._payload),Bt(Xe,Ve,rt)}if(K(Ve)||U(Ve))return Ve=Zc(Ve,Xe.mode,rt,null),Ve.return=Xe,Ve;if(typeof Ve.then=="function")return Bt(Xe,Yb(Ve),rt);if(Ve.$$typeof===S)return Bt(Xe,Xd(Xe,Ve),rt);Xb(Xe,Ve)}return null}function ft(Xe,Ve,rt,Lt){var xa=Ve!==null?Ve.key:null;if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return xa!==null?null:be(Xe,Ve,""+rt,Lt);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case p:return rt.key===xa?$e(Xe,Ve,rt,Lt):null;case m:return rt.key===xa?ct(Xe,Ve,rt,Lt):null;case D:return xa=rt._init,rt=xa(rt._payload),ft(Xe,Ve,rt,Lt)}if(K(rt)||U(rt))return xa!==null?null:Et(Xe,Ve,rt,Lt,null);if(typeof rt.then=="function")return ft(Xe,Ve,Yb(rt),Lt);if(rt.$$typeof===S)return ft(Xe,Ve,Xd(Xe,rt),Lt);Xb(Xe,rt)}return null}function xt(Xe,Ve,rt,Lt,xa){if(typeof Lt=="string"&&Lt!==""||typeof Lt=="number"||typeof Lt=="bigint")return Xe=Xe.get(rt)||null,be(Ve,Xe,""+Lt,xa);if(typeof Lt=="object"&&Lt!==null){switch(Lt.$$typeof){case p:return Xe=Xe.get(Lt.key===null?rt:Lt.key)||null,$e(Ve,Xe,Lt,xa);case m:return Xe=Xe.get(Lt.key===null?rt:Lt.key)||null,ct(Ve,Xe,Lt,xa);case D:var gs=Lt._init;return Lt=gs(Lt._payload),xt(Xe,Ve,rt,Lt,xa)}if(K(Lt)||U(Lt))return Xe=Xe.get(rt)||null,Et(Ve,Xe,Lt,xa,null);if(typeof Lt.then=="function")return xt(Xe,Ve,rt,Yb(Lt),xa);if(Lt.$$typeof===S)return xt(Xe,Ve,rt,Xd(Ve,Lt),xa);Xb(Ve,Lt)}return null}function $a(Xe,Ve,rt,Lt){for(var xa=null,gs=null,ja=Ve,Pa=Ve=0,Si=null;ja!==null&&Pa<rt.length;Pa++){ja.index>Pa?(Si=ja,ja=null):Si=ja.sibling;var Bs=ft(Xe,ja,rt[Pa],Lt);if(Bs===null){ja===null&&(ja=Si);break}h&&ja&&Bs.alternate===null&&x(Xe,ja),Ve=H(Bs,Ve,Pa),gs===null?xa=Bs:gs.sibling=Bs,gs=Bs,ja=Si}if(Pa===rt.length)return w(Xe,ja),Ms&&Pu(Xe,Pa),xa;if(ja===null){for(;Pa<rt.length;Pa++)ja=Bt(Xe,rt[Pa],Lt),ja!==null&&(Ve=H(ja,Ve,Pa),gs===null?xa=ja:gs.sibling=ja,gs=ja);return Ms&&Pu(Xe,Pa),xa}for(ja=C(ja);Pa<rt.length;Pa++)Si=xt(ja,Xe,Pa,rt[Pa],Lt),Si!==null&&(h&&Si.alternate!==null&&ja.delete(Si.key===null?Pa:Si.key),Ve=H(Si,Ve,Pa),gs===null?xa=Si:gs.sibling=Si,gs=Si);return h&&ja.forEach(function(mf){return x(Xe,mf)}),Ms&&Pu(Xe,Pa),xa}function Da(Xe,Ve,rt,Lt){if(rt==null)throw Error(r(151));for(var xa=null,gs=null,ja=Ve,Pa=Ve=0,Si=null,Bs=rt.next();ja!==null&&!Bs.done;Pa++,Bs=rt.next()){ja.index>Pa?(Si=ja,ja=null):Si=ja.sibling;var mf=ft(Xe,ja,Bs.value,Lt);if(mf===null){ja===null&&(ja=Si);break}h&&ja&&mf.alternate===null&&x(Xe,ja),Ve=H(mf,Ve,Pa),gs===null?xa=mf:gs.sibling=mf,gs=mf,ja=Si}if(Bs.done)return w(Xe,ja),Ms&&Pu(Xe,Pa),xa;if(ja===null){for(;!Bs.done;Pa++,Bs=rt.next())Bs=Bt(Xe,Bs.value,Lt),Bs!==null&&(Ve=H(Bs,Ve,Pa),gs===null?xa=Bs:gs.sibling=Bs,gs=Bs);return Ms&&Pu(Xe,Pa),xa}for(ja=C(ja);!Bs.done;Pa++,Bs=rt.next())Bs=xt(ja,Xe,Pa,Bs.value,Lt),Bs!==null&&(h&&Bs.alternate!==null&&ja.delete(Bs.key===null?Pa:Bs.key),Ve=H(Bs,Ve,Pa),gs===null?xa=Bs:gs.sibling=Bs,gs=Bs);return h&&ja.forEach(function(oee){return x(Xe,oee)}),Ms&&Pu(Xe,Pa),xa}function ir(Xe,Ve,rt,Lt){if(typeof rt=="object"&&rt!==null&&rt.type===v&&rt.key===null&&(rt=rt.props.children),typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case p:e:{for(var xa=rt.key;Ve!==null;){if(Ve.key===xa){if(xa=rt.type,xa===v){if(Ve.tag===7){w(Xe,Ve.sibling),Lt=L(Ve,rt.props.children),Lt.return=Xe,Xe=Lt;break e}}else if(Ve.elementType===xa||typeof xa=="object"&&xa!==null&&xa.$$typeof===D&&WE(xa)===Ve.type){w(Xe,Ve.sibling),Lt=L(Ve,rt.props),vg(Lt,rt),Lt.return=Xe,Xe=Lt;break e}w(Xe,Ve);break}else x(Xe,Ve);Ve=Ve.sibling}rt.type===v?(Lt=Zc(rt.props.children,Xe.mode,Lt,rt.key),Lt.return=Xe,Xe=Lt):(Lt=Tu(rt.type,rt.key,rt.props,null,Xe.mode,Lt),vg(Lt,rt),Lt.return=Xe,Xe=Lt)}return de(Xe);case m:e:{for(xa=rt.key;Ve!==null;){if(Ve.key===xa)if(Ve.tag===4&&Ve.stateNode.containerInfo===rt.containerInfo&&Ve.stateNode.implementation===rt.implementation){w(Xe,Ve.sibling),Lt=L(Ve,rt.children||[]),Lt.return=Xe,Xe=Lt;break e}else{w(Xe,Ve);break}else x(Xe,Ve);Ve=Ve.sibling}Lt=u0(rt,Xe.mode,Lt),Lt.return=Xe,Xe=Lt}return de(Xe);case D:return xa=rt._init,rt=xa(rt._payload),ir(Xe,Ve,rt,Lt)}if(K(rt))return $a(Xe,Ve,rt,Lt);if(U(rt)){if(xa=U(rt),typeof xa!="function")throw Error(r(150));return rt=xa.call(rt),Da(Xe,Ve,rt,Lt)}if(typeof rt.then=="function")return ir(Xe,Ve,Yb(rt),Lt);if(rt.$$typeof===S)return ir(Xe,Ve,Xd(Xe,rt),Lt);Xb(Xe,rt)}return typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint"?(rt=""+rt,Ve!==null&&Ve.tag===6?(w(Xe,Ve.sibling),Lt=L(Ve,rt),Lt.return=Xe,Xe=Lt):(w(Xe,Ve),Lt=np(rt,Xe.mode,Lt),Lt.return=Xe,Xe=Lt),de(Xe)):w(Xe,Ve)}return function(Xe,Ve,rt,Lt){try{gg=0;var xa=ir(Xe,Ve,rt,Lt);return pp=null,xa}catch(ja){if(ja===xe||ja===je)throw ja;var gs=wi(29,ja,null,Xe.mode);return gs.lanes=Lt,gs.return=Xe,gs}finally{}}}var xp=qE(!0),GE=qE(!1),uc=le(null),Jd=null;function Qh(h){var x=h.alternate;q(ni,ni.current&1),q(uc,h),Jd===null&&(x===null||Ba.current!==null||x.memoizedState!==null)&&(Jd=h)}function KE(h){if(h.tag===22){if(q(ni,ni.current),q(uc,h),Jd===null){var x=h.alternate;x!==null&&x.memoizedState!==null&&(Jd=h)}}else Zh()}function Zh(){q(ni,ni.current),q(uc,uc.current)}function Fu(h){O(uc),Jd===h&&(Jd=null),O(ni)}var ni=le(0);function Jb(h){for(var x=h;x!==null;){if(x.tag===13){var w=x.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||w.data==="$?"||Z4(w)))return x}else if(x.tag===19&&x.memoizedProps.revealOrder!==void 0){if((x.flags&128)!==0)return x}else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===h)break;for(;x.sibling===null;){if(x.return===null||x.return===h)return null;x=x.return}x.sibling.return=x.return,x=x.sibling}return null}function d4(h,x,w,C){x=h.memoizedState,w=w(C,x),w=w==null?x:u({},x,w),h.memoizedState=w,h.lanes===0&&(h.updateQueue.baseState=w)}var u4={enqueueSetState:function(h,x,w){h=h._reactInternals;var C=Po(),L=jt(C);L.payload=x,w!=null&&(L.callback=w),x=Vt(h,L,C),x!==null&&(Mo(x,h,C),It(x,h,C))},enqueueReplaceState:function(h,x,w){h=h._reactInternals;var C=Po(),L=jt(C);L.tag=1,L.payload=x,w!=null&&(L.callback=w),x=Vt(h,L,C),x!==null&&(Mo(x,h,C),It(x,h,C))},enqueueForceUpdate:function(h,x){h=h._reactInternals;var w=Po(),C=jt(w);C.tag=2,x!=null&&(C.callback=x),x=Vt(h,C,w),x!==null&&(Mo(x,h,w),It(x,h,w))}};function YE(h,x,w,C,L,H,de){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(C,H,de):x.prototype&&x.prototype.isPureReactComponent?!sl(w,C)||!sl(L,H):!0}function XE(h,x,w,C){h=x.state,typeof x.componentWillReceiveProps=="function"&&x.componentWillReceiveProps(w,C),typeof x.UNSAFE_componentWillReceiveProps=="function"&&x.UNSAFE_componentWillReceiveProps(w,C),x.state!==h&&u4.enqueueReplaceState(x,x.state,null)}function k0(h,x){var w=x;if("ref"in x){w={};for(var C in x)C!=="ref"&&(w[C]=x[C])}if(h=h.defaultProps){w===x&&(w=u({},w));for(var L in h)w[L]===void 0&&(w[L]=h[L])}return w}var Qb=typeof reportError=="function"?reportError:function(h){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var x=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof h=="object"&&h!==null&&typeof h.message=="string"?String(h.message):String(h),error:h});if(!window.dispatchEvent(x))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",h);return}console.error(h)};function JE(h){Qb(h)}function QE(h){console.error(h)}function ZE(h){Qb(h)}function Zb(h,x){try{var w=h.onUncaughtError;w(x.value,{componentStack:x.stack})}catch(C){setTimeout(function(){throw C})}}function eT(h,x,w){try{var C=h.onCaughtError;C(w.value,{componentStack:w.stack,errorBoundary:x.tag===1?x.stateNode:null})}catch(L){setTimeout(function(){throw L})}}function h4(h,x,w){return w=jt(w),w.tag=3,w.payload={element:null},w.callback=function(){Zb(h,x)},w}function tT(h){return h=jt(h),h.tag=3,h}function aT(h,x,w,C){var L=w.type.getDerivedStateFromError;if(typeof L=="function"){var H=C.value;h.payload=function(){return L(H)},h.callback=function(){eT(x,w,C)}}var de=w.stateNode;de!==null&&typeof de.componentDidCatch=="function"&&(h.callback=function(){eT(x,w,C),typeof L!="function"&&(nf===null?nf=new Set([this]):nf.add(this));var be=C.stack;this.componentDidCatch(C.value,{componentStack:be!==null?be:""})})}function oZ(h,x,w,C,L){if(w.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){if(x=w.alternate,x!==null&&Gh(x,w,L,!0),w=uc.current,w!==null){switch(w.tag){case 13:return Jd===null?R4():w.alternate===null&&un===0&&(un=3),w.flags&=-257,w.flags|=65536,w.lanes=L,C===Ce?w.flags|=16384:(x=w.updateQueue,x===null?w.updateQueue=new Set([C]):x.add(C),I4(h,C,L)),!1;case 22:return w.flags|=65536,C===Ce?w.flags|=16384:(x=w.updateQueue,x===null?(x={transitions:null,markerInstances:null,retryQueue:new Set([C])},w.updateQueue=x):(w=x.retryQueue,w===null?x.retryQueue=new Set([C]):w.add(C)),I4(h,C,L)),!1}throw Error(r(435,w.tag))}return I4(h,C,L),R4(),!1}if(Ms)return x=uc.current,x!==null?((x.flags&65536)===0&&(x.flags|=256),x.flags|=65536,x.lanes=L,C!==ag&&(h=Error(r(422),{cause:C}),qh(Dl(h,w)))):(C!==ag&&(x=Error(r(423),{cause:C}),qh(Dl(x,w))),h=h.current.alternate,h.flags|=65536,L&=-L,h.lanes|=L,C=Dl(C,w),L=h4(h.stateNode,C,L),va(h,L),un!==4&&(un=2)),!1;var H=Error(r(520),{cause:C});if(H=Dl(H,w),Sg===null?Sg=[H]:Sg.push(H),un!==4&&(un=2),x===null)return!0;C=Dl(C,w),w=x;do{switch(w.tag){case 3:return w.flags|=65536,h=L&-L,w.lanes|=h,h=h4(w.stateNode,C,h),va(w,h),!1;case 1:if(x=w.type,H=w.stateNode,(w.flags&128)===0&&(typeof x.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(nf===null||!nf.has(H))))return w.flags|=65536,L&=-L,w.lanes|=L,L=tT(L),aT(L,h,w,C),va(w,L),!1}w=w.return}while(w!==null);return!1}var sT=Error(r(461)),Ni=!1;function zi(h,x,w,C){x.child=h===null?GE(x,null,w,C):xp(x,h.child,w,C)}function rT(h,x,w,C,L){w=w.render;var H=x.ref;if("ref"in C){var de={};for(var be in C)be!=="ref"&&(de[be]=C[be])}else de=C;return oc(x),C=Ol(h,x,w,de,H,L),be=Jr(),h!==null&&!Ni?($i(h,x,L),Iu(h,x,L)):(Ms&&be&&h0(x),x.flags|=1,zi(h,x,C,L),x.child)}function nT(h,x,w,C,L){if(h===null){var H=w.type;return typeof H=="function"&&!Vh(H)&&H.defaultProps===void 0&&w.compare===null?(x.tag=15,x.type=H,iT(h,x,H,C,L)):(h=Tu(w.type,null,C,x,x.mode,L),h.ref=x.ref,h.return=x,x.child=h)}if(H=h.child,!y4(h,L)){var de=H.memoizedProps;if(w=w.compare,w=w!==null?w:sl,w(de,C)&&h.ref===x.ref)return Iu(h,x,L)}return x.flags|=1,h=rc(H,C),h.ref=x.ref,h.return=x,x.child=h}function iT(h,x,w,C,L){if(h!==null){var H=h.memoizedProps;if(sl(H,C)&&h.ref===x.ref)if(Ni=!1,x.pendingProps=C=H,y4(h,L))(h.flags&131072)!==0&&(Ni=!0);else return x.lanes=h.lanes,Iu(h,x,L)}return f4(h,x,w,C,L)}function lT(h,x,w){var C=x.pendingProps,L=C.children,H=h!==null?h.memoizedState:null;if(C.mode==="hidden"){if((x.flags&128)!==0){if(C=H!==null?H.baseLanes|w:w,h!==null){for(L=x.child=h.child,H=0;L!==null;)H=H|L.lanes|L.childLanes,L=L.sibling;x.childLanes=H&~C}else x.childLanes=0,x.child=null;return oT(h,x,C,w)}if((w&536870912)!==0)x.memoizedState={baseLanes:0,cachePool:null},h!==null&&ne(x,H!==null?H.cachePool:null),H!==null?aa(x,H):yr(),KE(x);else return x.lanes=x.childLanes=536870912,oT(h,x,H!==null?H.baseLanes|w:w,w)}else H!==null?(ne(x,H.cachePool),aa(x,H),Zh(),x.memoizedState=null):(h!==null&&ne(x,null),yr(),Zh());return zi(h,x,L,w),x.child}function oT(h,x,w,C){var L=ee();return L=L===null?null:{parent:kn._currentValue,pool:L},x.memoizedState={baseLanes:w,cachePool:L},h!==null&&ne(x,null),yr(),KE(x),h!==null&&Gh(h,x,C,!0),null}function ey(h,x){var w=x.ref;if(w===null)h!==null&&h.ref!==null&&(x.flags|=4194816);else{if(typeof w!="function"&&typeof w!="object")throw Error(r(284));(h===null||h.ref!==w)&&(x.flags|=4194816)}}function f4(h,x,w,C,L){return oc(x),w=Ol(h,x,w,C,void 0,L),C=Jr(),h!==null&&!Ni?($i(h,x,L),Iu(h,x,L)):(Ms&&C&&h0(x),x.flags|=1,zi(h,x,w,L),x.child)}function cT(h,x,w,C,L,H){return oc(x),x.updateQueue=null,w=Bi(x,C,w,L),Rr(h),C=Jr(),h!==null&&!Ni?($i(h,x,H),Iu(h,x,H)):(Ms&&C&&h0(x),x.flags|=1,zi(h,x,w,H),x.child)}function dT(h,x,w,C,L){if(oc(x),x.stateNode===null){var H=zn,de=w.contextType;typeof de=="object"&&de!==null&&(H=Nn(de)),H=new w(C,H),x.memoizedState=H.state!==null&&H.state!==void 0?H.state:null,H.updater=u4,x.stateNode=H,H._reactInternals=x,H=x.stateNode,H.props=C,H.state=x.memoizedState,H.refs={},nt(x),de=w.contextType,H.context=typeof de=="object"&&de!==null?Nn(de):zn,H.state=x.memoizedState,de=w.getDerivedStateFromProps,typeof de=="function"&&(d4(x,w,de,C),H.state=x.memoizedState),typeof w.getDerivedStateFromProps=="function"||typeof H.getSnapshotBeforeUpdate=="function"||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(de=H.state,typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount(),de!==H.state&&u4.enqueueReplaceState(H,H.state,null),da(x,C,H,L),Wa(),H.state=x.memoizedState),typeof H.componentDidMount=="function"&&(x.flags|=4194308),C=!0}else if(h===null){H=x.stateNode;var be=x.memoizedProps,$e=k0(w,be);H.props=$e;var ct=H.context,Et=w.contextType;de=zn,typeof Et=="object"&&Et!==null&&(de=Nn(Et));var Bt=w.getDerivedStateFromProps;Et=typeof Bt=="function"||typeof H.getSnapshotBeforeUpdate=="function",be=x.pendingProps!==be,Et||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(be||ct!==de)&&XE(x,H,C,de),wt=!1;var ft=x.memoizedState;H.state=ft,da(x,C,H,L),Wa(),ct=x.memoizedState,be||ft!==ct||wt?(typeof Bt=="function"&&(d4(x,w,Bt,C),ct=x.memoizedState),($e=wt||YE(x,w,$e,C,ft,ct,de))?(Et||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount()),typeof H.componentDidMount=="function"&&(x.flags|=4194308)):(typeof H.componentDidMount=="function"&&(x.flags|=4194308),x.memoizedProps=C,x.memoizedState=ct),H.props=C,H.state=ct,H.context=de,C=$e):(typeof H.componentDidMount=="function"&&(x.flags|=4194308),C=!1)}else{H=x.stateNode,Nt(h,x),de=x.memoizedProps,Et=k0(w,de),H.props=Et,Bt=x.pendingProps,ft=H.context,ct=w.contextType,$e=zn,typeof ct=="object"&&ct!==null&&($e=Nn(ct)),be=w.getDerivedStateFromProps,(ct=typeof be=="function"||typeof H.getSnapshotBeforeUpdate=="function")||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(de!==Bt||ft!==$e)&&XE(x,H,C,$e),wt=!1,ft=x.memoizedState,H.state=ft,da(x,C,H,L),Wa();var xt=x.memoizedState;de!==Bt||ft!==xt||wt||h!==null&&h.dependencies!==null&&cp(h.dependencies)?(typeof be=="function"&&(d4(x,w,be,C),xt=x.memoizedState),(Et=wt||YE(x,w,Et,C,ft,xt,$e)||h!==null&&h.dependencies!==null&&cp(h.dependencies))?(ct||typeof H.UNSAFE_componentWillUpdate!="function"&&typeof H.componentWillUpdate!="function"||(typeof H.componentWillUpdate=="function"&&H.componentWillUpdate(C,xt,$e),typeof H.UNSAFE_componentWillUpdate=="function"&&H.UNSAFE_componentWillUpdate(C,xt,$e)),typeof H.componentDidUpdate=="function"&&(x.flags|=4),typeof H.getSnapshotBeforeUpdate=="function"&&(x.flags|=1024)):(typeof H.componentDidUpdate!="function"||de===h.memoizedProps&&ft===h.memoizedState||(x.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||de===h.memoizedProps&&ft===h.memoizedState||(x.flags|=1024),x.memoizedProps=C,x.memoizedState=xt),H.props=C,H.state=xt,H.context=$e,C=Et):(typeof H.componentDidUpdate!="function"||de===h.memoizedProps&&ft===h.memoizedState||(x.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||de===h.memoizedProps&&ft===h.memoizedState||(x.flags|=1024),C=!1)}return H=C,ey(h,x),C=(x.flags&128)!==0,H||C?(H=x.stateNode,w=C&&typeof w.getDerivedStateFromError!="function"?null:H.render(),x.flags|=1,h!==null&&C?(x.child=xp(x,h.child,null,L),x.child=xp(x,null,w,L)):zi(h,x,w,L),x.memoizedState=H.state,h=x.child):h=Iu(h,x,L),h}function uT(h,x,w,C){return Ll(),x.flags|=256,zi(h,x,w,C),x.child}var m4={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function p4(h){return{baseLanes:h,cachePool:fe()}}function x4(h,x,w){return h=h!==null?h.childLanes&~w:0,x&&(h|=hc),h}function hT(h,x,w){var C=x.pendingProps,L=!1,H=(x.flags&128)!==0,de;if((de=H)||(de=h!==null&&h.memoizedState===null?!1:(ni.current&2)!==0),de&&(L=!0,x.flags&=-129),de=(x.flags&32)!==0,x.flags&=-33,h===null){if(Ms){if(L?Qh(x):Zh(),Ms){var be=Mr,$e;if($e=be){e:{for($e=be,be=nc;$e.nodeType!==8;){if(!be){be=null;break e}if($e=ud($e.nextSibling),$e===null){be=null;break e}}be=$e}be!==null?(x.memoizedState={dehydrated:be,treeContext:Du!==null?{id:td,overflow:ad}:null,retryLane:536870912,hydrationErrors:null},$e=wi(18,null,null,0),$e.stateNode=be,$e.return=x,x.child=$e,jn=x,Mr=null,$e=!0):$e=!1}$e||Mu(x)}if(be=x.memoizedState,be!==null&&(be=be.dehydrated,be!==null))return Z4(be)?x.lanes=32:x.lanes=536870912,null;Fu(x)}return be=C.children,C=C.fallback,L?(Zh(),L=x.mode,be=ty({mode:"hidden",children:be},L),C=Zc(C,L,w,null),be.return=x,C.return=x,be.sibling=C,x.child=be,L=x.child,L.memoizedState=p4(w),L.childLanes=x4(h,de,w),x.memoizedState=m4,C):(Qh(x),g4(x,be))}if($e=h.memoizedState,$e!==null&&(be=$e.dehydrated,be!==null)){if(H)x.flags&256?(Qh(x),x.flags&=-257,x=v4(h,x,w)):x.memoizedState!==null?(Zh(),x.child=h.child,x.flags|=128,x=null):(Zh(),L=C.fallback,be=x.mode,C=ty({mode:"visible",children:C.children},be),L=Zc(L,be,w,null),L.flags|=2,C.return=x,L.return=x,C.sibling=L,x.child=C,xp(x,h.child,null,w),C=x.child,C.memoizedState=p4(w),C.childLanes=x4(h,de,w),x.memoizedState=m4,x=L);else if(Qh(x),Z4(be)){if(de=be.nextSibling&&be.nextSibling.dataset,de)var ct=de.dgst;de=ct,C=Error(r(419)),C.stack="",C.digest=de,qh({value:C,source:null,stack:null}),x=v4(h,x,w)}else if(Ni||Gh(h,x,w,!1),de=(w&h.childLanes)!==0,Ni||de){if(de=pr,de!==null&&(C=w&-w,C=(C&42)!==0?1:ra(C),C=(C&(de.suspendedLanes|w))!==0?0:C,C!==0&&C!==$e.retryLane))throw $e.retryLane=C,_u(h,C),Mo(de,h,C),sT;be.data==="$?"||R4(),x=v4(h,x,w)}else be.data==="$?"?(x.flags|=192,x.child=h.child,x=null):(h=$e.treeContext,Mr=ud(be.nextSibling),jn=x,Ms=!0,Kd=null,nc=!1,h!==null&&(ao[Ml++]=td,ao[Ml++]=ad,ao[Ml++]=Du,td=h.id,ad=h.overflow,Du=x),x=g4(x,C.children),x.flags|=4096);return x}return L?(Zh(),L=C.fallback,be=x.mode,$e=h.child,ct=$e.sibling,C=rc($e,{mode:"hidden",children:C.children}),C.subtreeFlags=$e.subtreeFlags&65011712,ct!==null?L=rc(ct,L):(L=Zc(L,be,w,null),L.flags|=2),L.return=x,C.return=x,C.sibling=L,x.child=C,C=L,L=x.child,be=h.child.memoizedState,be===null?be=p4(w):($e=be.cachePool,$e!==null?(ct=kn._currentValue,$e=$e.parent!==ct?{parent:ct,pool:ct}:$e):$e=fe(),be={baseLanes:be.baseLanes|w,cachePool:$e}),L.memoizedState=be,L.childLanes=x4(h,de,w),x.memoizedState=m4,C):(Qh(x),w=h.child,h=w.sibling,w=rc(w,{mode:"visible",children:C.children}),w.return=x,w.sibling=null,h!==null&&(de=x.deletions,de===null?(x.deletions=[h],x.flags|=16):de.push(h)),x.child=w,x.memoizedState=null,w)}function g4(h,x){return x=ty({mode:"visible",children:x},h.mode),x.return=h,h.child=x}function ty(h,x){return h=wi(22,h,null,x),h.lanes=0,h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},h}function v4(h,x,w){return xp(x,h.child,null,w),h=g4(x,x.pendingProps.children),h.flags|=2,x.memoizedState=null,h}function fT(h,x,w){h.lanes|=x;var C=h.alternate;C!==null&&(C.lanes|=x),lp(h.return,x,w)}function b4(h,x,w,C,L){var H=h.memoizedState;H===null?h.memoizedState={isBackwards:x,rendering:null,renderingStartTime:0,last:C,tail:w,tailMode:L}:(H.isBackwards=x,H.rendering=null,H.renderingStartTime=0,H.last=C,H.tail=w,H.tailMode=L)}function mT(h,x,w){var C=x.pendingProps,L=C.revealOrder,H=C.tail;if(zi(h,x,C.children,w),C=ni.current,(C&2)!==0)C=C&1|2,x.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=x.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&fT(h,w,x);else if(h.tag===19)fT(h,w,x);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===x)break e;for(;h.sibling===null;){if(h.return===null||h.return===x)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}C&=1}switch(q(ni,C),L){case"forwards":for(w=x.child,L=null;w!==null;)h=w.alternate,h!==null&&Jb(h)===null&&(L=w),w=w.sibling;w=L,w===null?(L=x.child,x.child=null):(L=w.sibling,w.sibling=null),b4(x,!1,L,w,H);break;case"backwards":for(w=null,L=x.child,x.child=null;L!==null;){if(h=L.alternate,h!==null&&Jb(h)===null){x.child=L;break}h=L.sibling,L.sibling=w,w=L,L=h}b4(x,!0,w,null,H);break;case"together":b4(x,!1,null,null,void 0);break;default:x.memoizedState=null}return x.child}function Iu(h,x,w){if(h!==null&&(x.dependencies=h.dependencies),rf|=x.lanes,(w&x.childLanes)===0)if(h!==null){if(Gh(h,x,w,!1),(w&x.childLanes)===0)return null}else return null;if(h!==null&&x.child!==h.child)throw Error(r(153));if(x.child!==null){for(h=x.child,w=rc(h,h.pendingProps),x.child=w,w.return=x;h.sibling!==null;)h=h.sibling,w=w.sibling=rc(h,h.pendingProps),w.return=x;w.sibling=null}return x.child}function y4(h,x){return(h.lanes&x)!==0?!0:(h=h.dependencies,!!(h!==null&&cp(h)))}function cZ(h,x,w){switch(x.tag){case 3:ce(x,x.stateNode.containerInfo),Yd(x,kn,h.memoizedState.cache),Ll();break;case 27:case 5:ie(x);break;case 4:ce(x,x.stateNode.containerInfo);break;case 10:Yd(x,x.type,x.memoizedProps.value);break;case 13:var C=x.memoizedState;if(C!==null)return C.dehydrated!==null?(Qh(x),x.flags|=128,null):(w&x.child.childLanes)!==0?hT(h,x,w):(Qh(x),h=Iu(h,x,w),h!==null?h.sibling:null);Qh(x);break;case 19:var L=(h.flags&128)!==0;if(C=(w&x.childLanes)!==0,C||(Gh(h,x,w,!1),C=(w&x.childLanes)!==0),L){if(C)return mT(h,x,w);x.flags|=128}if(L=x.memoizedState,L!==null&&(L.rendering=null,L.tail=null,L.lastEffect=null),q(ni,ni.current),C)break;return null;case 22:case 23:return x.lanes=0,lT(h,x,w);case 24:Yd(x,kn,h.memoizedState.cache)}return Iu(h,x,w)}function pT(h,x,w){if(h!==null)if(h.memoizedProps!==x.pendingProps)Ni=!0;else{if(!y4(h,w)&&(x.flags&128)===0)return Ni=!1,cZ(h,x,w);Ni=(h.flags&131072)!==0}else Ni=!1,Ms&&(x.flags&1048576)!==0&&Db(x,ip,x.index);switch(x.lanes=0,x.tag){case 16:e:{h=x.pendingProps;var C=x.elementType,L=C._init;if(C=L(C._payload),x.type=C,typeof C=="function")Vh(C)?(h=k0(C,h),x.tag=1,x=dT(null,x,C,h,w)):(x.tag=0,x=f4(null,x,C,h,w));else{if(C!=null){if(L=C.$$typeof,L===N){x.tag=11,x=rT(null,x,C,h,w);break e}else if(L===E){x.tag=14,x=nT(null,x,C,h,w);break e}}throw x=F(C)||C,Error(r(306,x,""))}}return x;case 0:return f4(h,x,x.type,x.pendingProps,w);case 1:return C=x.type,L=k0(C,x.pendingProps),dT(h,x,C,L,w);case 3:e:{if(ce(x,x.stateNode.containerInfo),h===null)throw Error(r(387));C=x.pendingProps;var H=x.memoizedState;L=H.element,Nt(h,x),da(x,C,null,w);var de=x.memoizedState;if(C=de.cache,Yd(x,kn,C),C!==H.cache&&op(x,[kn],w,!0),Wa(),C=de.element,H.isDehydrated)if(H={element:C,isDehydrated:!1,cache:de.cache},x.updateQueue.baseState=H,x.memoizedState=H,x.flags&256){x=uT(h,x,C,w);break e}else if(C!==L){L=Dl(Error(r(424)),x),qh(L),x=uT(h,x,C,w);break e}else{switch(h=x.stateNode.containerInfo,h.nodeType){case 9:h=h.body;break;default:h=h.nodeName==="HTML"?h.ownerDocument.body:h}for(Mr=ud(h.firstChild),jn=x,Ms=!0,Kd=null,nc=!0,w=GE(x,null,C,w),x.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling}else{if(Ll(),C===L){x=Iu(h,x,w);break e}zi(h,x,C,w)}x=x.child}return x;case 26:return ey(h,x),h===null?(w=b7(x.type,null,x.pendingProps,null))?x.memoizedState=w:Ms||(w=x.type,h=x.pendingProps,C=py(re.current).createElement(w),C[ps]=x,C[Fe]=h,Vi(C,w,h),qe(C),x.stateNode=C):x.memoizedState=b7(x.type,h.memoizedProps,x.pendingProps,h.memoizedState),null;case 27:return ie(x),h===null&&Ms&&(C=x.stateNode=x7(x.type,x.pendingProps,re.current),jn=x,nc=!0,L=Mr,cf(x.type)?(e5=L,Mr=ud(C.firstChild)):Mr=L),zi(h,x,x.pendingProps.children,w),ey(h,x),h===null&&(x.flags|=4194304),x.child;case 5:return h===null&&Ms&&((L=C=Mr)&&(C=FZ(C,x.type,x.pendingProps,nc),C!==null?(x.stateNode=C,jn=x,Mr=ud(C.firstChild),nc=!1,L=!0):L=!1),L||Mu(x)),ie(x),L=x.type,H=x.pendingProps,de=h!==null?h.memoizedProps:null,C=H.children,X4(L,H)?C=null:de!==null&&X4(L,de)&&(x.flags|=32),x.memoizedState!==null&&(L=Ol(h,x,Ks,null,null,w),Lg._currentValue=L),ey(h,x),zi(h,x,C,w),x.child;case 6:return h===null&&Ms&&((h=w=Mr)&&(w=IZ(w,x.pendingProps,nc),w!==null?(x.stateNode=w,jn=x,Mr=null,h=!0):h=!1),h||Mu(x)),null;case 13:return hT(h,x,w);case 4:return ce(x,x.stateNode.containerInfo),C=x.pendingProps,h===null?x.child=xp(x,null,C,w):zi(h,x,C,w),x.child;case 11:return rT(h,x,x.type,x.pendingProps,w);case 7:return zi(h,x,x.pendingProps,w),x.child;case 8:return zi(h,x,x.pendingProps.children,w),x.child;case 12:return zi(h,x,x.pendingProps.children,w),x.child;case 10:return C=x.pendingProps,Yd(x,x.type,C.value),zi(h,x,C.children,w),x.child;case 9:return L=x.type._context,C=x.pendingProps.children,oc(x),L=Nn(L),C=C(L),x.flags|=1,zi(h,x,C,w),x.child;case 14:return nT(h,x,x.type,x.pendingProps,w);case 15:return iT(h,x,x.type,x.pendingProps,w);case 19:return mT(h,x,w);case 31:return C=x.pendingProps,w=x.mode,C={mode:C.mode,children:C.children},h===null?(w=ty(C,w),w.ref=x.ref,x.child=w,w.return=x,x=w):(w=rc(h.child,C),w.ref=x.ref,x.child=w,w.return=x,x=w),x;case 22:return lT(h,x,w);case 24:return oc(x),C=Nn(kn),h===null?(L=ee(),L===null&&(L=pr,H=sg(),L.pooledCache=H,H.refCount++,H!==null&&(L.pooledCacheLanes|=w),L=H),x.memoizedState={parent:C,cache:L},nt(x),Yd(x,kn,L)):((h.lanes&w)!==0&&(Nt(h,x),da(x,null,null,w),Wa()),L=h.memoizedState,H=x.memoizedState,L.parent!==C?(L={parent:C,cache:C},x.memoizedState=L,x.lanes===0&&(x.memoizedState=x.updateQueue.baseState=L),Yd(x,kn,C)):(C=H.cache,Yd(x,kn,C),C!==L.cache&&op(x,[kn],w,!0))),zi(h,x,x.pendingProps.children,w),x.child;case 29:throw x.pendingProps}throw Error(r(156,x.tag))}function Bu(h){h.flags|=4}function xT(h,x){if(x.type!=="stylesheet"||(x.state.loading&4)!==0)h.flags&=-16777217;else if(h.flags|=16777216,!k7(x)){if(x=uc.current,x!==null&&((Ds&4194048)===Ds?Jd!==null:(Ds&62914560)!==Ds&&(Ds&536870912)===0||x!==Jd))throw Pe=Ce,ve;h.flags|=8192}}function ay(h,x){x!==null&&(h.flags|=4),h.flags&16384&&(x=h.tag!==22?na():536870912,h.lanes|=x,yp|=x)}function bg(h,x){if(!Ms)switch(h.tailMode){case"hidden":x=h.tail;for(var w=null;x!==null;)x.alternate!==null&&(w=x),x=x.sibling;w===null?h.tail=null:w.sibling=null;break;case"collapsed":w=h.tail;for(var C=null;w!==null;)w.alternate!==null&&(C=w),w=w.sibling;C===null?x||h.tail===null?h.tail=null:h.tail.sibling=null:C.sibling=null}}function Qr(h){var x=h.alternate!==null&&h.alternate.child===h.child,w=0,C=0;if(x)for(var L=h.child;L!==null;)w|=L.lanes|L.childLanes,C|=L.subtreeFlags&65011712,C|=L.flags&65011712,L.return=h,L=L.sibling;else for(L=h.child;L!==null;)w|=L.lanes|L.childLanes,C|=L.subtreeFlags,C|=L.flags,L.return=h,L=L.sibling;return h.subtreeFlags|=C,h.childLanes=w,x}function dZ(h,x,w){var C=x.pendingProps;switch(f0(x),x.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qr(x),null;case 1:return Qr(x),null;case 3:return w=x.stateNode,C=null,h!==null&&(C=h.memoizedState.cache),x.memoizedState.cache!==C&&(x.flags|=2048),lc(kn),G(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(h===null||h.child===null)&&(Ii(x)?Bu(x):h===null||h.memoizedState.isDehydrated&&(x.flags&256)===0||(x.flags|=1024,Mb())),Qr(x),null;case 26:return w=x.memoizedState,h===null?(Bu(x),w!==null?(Qr(x),xT(x,w)):(Qr(x),x.flags&=-16777217)):w?w!==h.memoizedState?(Bu(x),Qr(x),xT(x,w)):(Qr(x),x.flags&=-16777217):(h.memoizedProps!==C&&Bu(x),Qr(x),x.flags&=-16777217),null;case 27:ye(x),w=re.current;var L=x.type;if(h!==null&&x.stateNode!=null)h.memoizedProps!==C&&Bu(x);else{if(!C){if(x.stateNode===null)throw Error(r(166));return Qr(x),null}h=W.current,Ii(x)?Pb(x):(h=x7(L,C,w),x.stateNode=h,Bu(x))}return Qr(x),null;case 5:if(ye(x),w=x.type,h!==null&&x.stateNode!=null)h.memoizedProps!==C&&Bu(x);else{if(!C){if(x.stateNode===null)throw Error(r(166));return Qr(x),null}if(h=W.current,Ii(x))Pb(x);else{switch(L=py(re.current),h){case 1:h=L.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:h=L.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":h=L.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":h=L.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":h=L.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof C.is=="string"?L.createElement("select",{is:C.is}):L.createElement("select"),C.multiple?h.multiple=!0:C.size&&(h.size=C.size);break;default:h=typeof C.is=="string"?L.createElement(w,{is:C.is}):L.createElement(w)}}h[ps]=x,h[Fe]=C;e:for(L=x.child;L!==null;){if(L.tag===5||L.tag===6)h.appendChild(L.stateNode);else if(L.tag!==4&&L.tag!==27&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===x)break e;for(;L.sibling===null;){if(L.return===null||L.return===x)break e;L=L.return}L.sibling.return=L.return,L=L.sibling}x.stateNode=h;e:switch(Vi(h,w,C),w){case"button":case"input":case"select":case"textarea":h=!!C.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Bu(x)}}return Qr(x),x.flags&=-16777217,null;case 6:if(h&&x.stateNode!=null)h.memoizedProps!==C&&Bu(x);else{if(typeof C!="string"&&x.stateNode===null)throw Error(r(166));if(h=re.current,Ii(x)){if(h=x.stateNode,w=x.memoizedProps,C=null,L=jn,L!==null)switch(L.tag){case 27:case 5:C=L.memoizedProps}h[ps]=x,h=!!(h.nodeValue===w||C!==null&&C.suppressHydrationWarning===!0||c7(h.nodeValue,w)),h||Mu(x)}else h=py(h).createTextNode(C),h[ps]=x,x.stateNode=h}return Qr(x),null;case 13:if(C=x.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(L=Ii(x),C!==null&&C.dehydrated!==null){if(h===null){if(!L)throw Error(r(318));if(L=x.memoizedState,L=L!==null?L.dehydrated:null,!L)throw Error(r(317));L[ps]=x}else Ll(),(x.flags&128)===0&&(x.memoizedState=null),x.flags|=4;Qr(x),L=!1}else L=Mb(),h!==null&&h.memoizedState!==null&&(h.memoizedState.hydrationErrors=L),L=!0;if(!L)return x.flags&256?(Fu(x),x):(Fu(x),null)}if(Fu(x),(x.flags&128)!==0)return x.lanes=w,x;if(w=C!==null,h=h!==null&&h.memoizedState!==null,w){C=x.child,L=null,C.alternate!==null&&C.alternate.memoizedState!==null&&C.alternate.memoizedState.cachePool!==null&&(L=C.alternate.memoizedState.cachePool.pool);var H=null;C.memoizedState!==null&&C.memoizedState.cachePool!==null&&(H=C.memoizedState.cachePool.pool),H!==L&&(C.flags|=2048)}return w!==h&&w&&(x.child.flags|=8192),ay(x,x.updateQueue),Qr(x),null;case 4:return G(),h===null&&W4(x.stateNode.containerInfo),Qr(x),null;case 10:return lc(x.type),Qr(x),null;case 19:if(O(ni),L=x.memoizedState,L===null)return Qr(x),null;if(C=(x.flags&128)!==0,H=L.rendering,H===null)if(C)bg(L,!1);else{if(un!==0||h!==null&&(h.flags&128)!==0)for(h=x.child;h!==null;){if(H=Jb(h),H!==null){for(x.flags|=128,bg(L,!1),h=H.updateQueue,x.updateQueue=h,ay(x,h),x.subtreeFlags=0,h=w,w=x.child;w!==null;)d0(w,h),w=w.sibling;return q(ni,ni.current&1|2),x.child}h=h.sibling}L.tail!==null&&Re()>ny&&(x.flags|=128,C=!0,bg(L,!1),x.lanes=4194304)}else{if(!C)if(h=Jb(H),h!==null){if(x.flags|=128,C=!0,h=h.updateQueue,x.updateQueue=h,ay(x,h),bg(L,!0),L.tail===null&&L.tailMode==="hidden"&&!H.alternate&&!Ms)return Qr(x),null}else 2*Re()-L.renderingStartTime>ny&&w!==536870912&&(x.flags|=128,C=!0,bg(L,!1),x.lanes=4194304);L.isBackwards?(H.sibling=x.child,x.child=H):(h=L.last,h!==null?h.sibling=H:x.child=H,L.last=H)}return L.tail!==null?(x=L.tail,L.rendering=x,L.tail=x.sibling,L.renderingStartTime=Re(),x.sibling=null,h=ni.current,q(ni,C?h&1|2:h&1),x):(Qr(x),null);case 22:case 23:return Fu(x),qa(),C=x.memoizedState!==null,h!==null?h.memoizedState!==null!==C&&(x.flags|=8192):C&&(x.flags|=8192),C?(w&536870912)!==0&&(x.flags&128)===0&&(Qr(x),x.subtreeFlags&6&&(x.flags|=8192)):Qr(x),w=x.updateQueue,w!==null&&ay(x,w.retryQueue),w=null,h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),C=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(C=x.memoizedState.cachePool.pool),C!==w&&(x.flags|=2048),h!==null&&O(B),null;case 24:return w=null,h!==null&&(w=h.memoizedState.cache),x.memoizedState.cache!==w&&(x.flags|=2048),lc(kn),Qr(x),null;case 25:return null;case 30:return null}throw Error(r(156,x.tag))}function uZ(h,x){switch(f0(x),x.tag){case 1:return h=x.flags,h&65536?(x.flags=h&-65537|128,x):null;case 3:return lc(kn),G(),h=x.flags,(h&65536)!==0&&(h&128)===0?(x.flags=h&-65537|128,x):null;case 26:case 27:case 5:return ye(x),null;case 13:if(Fu(x),h=x.memoizedState,h!==null&&h.dehydrated!==null){if(x.alternate===null)throw Error(r(340));Ll()}return h=x.flags,h&65536?(x.flags=h&-65537|128,x):null;case 19:return O(ni),null;case 4:return G(),null;case 10:return lc(x.type),null;case 22:case 23:return Fu(x),qa(),h!==null&&O(B),h=x.flags,h&65536?(x.flags=h&-65537|128,x):null;case 24:return lc(kn),null;case 25:return null;default:return null}}function gT(h,x){switch(f0(x),x.tag){case 3:lc(kn),G();break;case 26:case 27:case 5:ye(x);break;case 4:G();break;case 13:Fu(x);break;case 19:O(ni);break;case 10:lc(x.type);break;case 22:case 23:Fu(x),qa(),h!==null&&O(B);break;case 24:lc(kn)}}function yg(h,x){try{var w=x.updateQueue,C=w!==null?w.lastEffect:null;if(C!==null){var L=C.next;w=L;do{if((w.tag&h)===h){C=void 0;var H=w.create,de=w.inst;C=H(),de.destroy=C}w=w.next}while(w!==L)}}catch(be){hr(x,x.return,be)}}function ef(h,x,w){try{var C=x.updateQueue,L=C!==null?C.lastEffect:null;if(L!==null){var H=L.next;C=H;do{if((C.tag&h)===h){var de=C.inst,be=de.destroy;if(be!==void 0){de.destroy=void 0,L=x;var $e=w,ct=be;try{ct()}catch(Et){hr(L,$e,Et)}}}C=C.next}while(C!==H)}}catch(Et){hr(x,x.return,Et)}}function vT(h){var x=h.updateQueue;if(x!==null){var w=h.stateNode;try{dn(x,w)}catch(C){hr(h,h.return,C)}}}function bT(h,x,w){w.props=k0(h.type,h.memoizedProps),w.state=h.memoizedState;try{w.componentWillUnmount()}catch(C){hr(h,x,C)}}function wg(h,x){try{var w=h.ref;if(w!==null){switch(h.tag){case 26:case 27:case 5:var C=h.stateNode;break;case 30:C=h.stateNode;break;default:C=h.stateNode}typeof w=="function"?h.refCleanup=w(C):w.current=C}}catch(L){hr(h,x,L)}}function Qd(h,x){var w=h.ref,C=h.refCleanup;if(w!==null)if(typeof C=="function")try{C()}catch(L){hr(h,x,L)}finally{h.refCleanup=null,h=h.alternate,h!=null&&(h.refCleanup=null)}else if(typeof w=="function")try{w(null)}catch(L){hr(h,x,L)}else w.current=null}function yT(h){var x=h.type,w=h.memoizedProps,C=h.stateNode;try{e:switch(x){case"button":case"input":case"select":case"textarea":w.autoFocus&&C.focus();break e;case"img":w.src?C.src=w.src:w.srcSet&&(C.srcset=w.srcSet)}}catch(L){hr(h,h.return,L)}}function w4(h,x,w){try{var C=h.stateNode;PZ(C,h.type,w,x),C[Fe]=x}catch(L){hr(h,h.return,L)}}function wT(h){return h.tag===5||h.tag===3||h.tag===26||h.tag===27&&cf(h.type)||h.tag===4}function j4(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||wT(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.tag===27&&cf(h.type)||h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function N4(h,x,w){var C=h.tag;if(C===5||C===6)h=h.stateNode,x?(w.nodeType===9?w.body:w.nodeName==="HTML"?w.ownerDocument.body:w).insertBefore(h,x):(x=w.nodeType===9?w.body:w.nodeName==="HTML"?w.ownerDocument.body:w,x.appendChild(h),w=w._reactRootContainer,w!=null||x.onclick!==null||(x.onclick=my));else if(C!==4&&(C===27&&cf(h.type)&&(w=h.stateNode,x=null),h=h.child,h!==null))for(N4(h,x,w),h=h.sibling;h!==null;)N4(h,x,w),h=h.sibling}function sy(h,x,w){var C=h.tag;if(C===5||C===6)h=h.stateNode,x?w.insertBefore(h,x):w.appendChild(h);else if(C!==4&&(C===27&&cf(h.type)&&(w=h.stateNode),h=h.child,h!==null))for(sy(h,x,w),h=h.sibling;h!==null;)sy(h,x,w),h=h.sibling}function jT(h){var x=h.stateNode,w=h.memoizedProps;try{for(var C=h.type,L=x.attributes;L.length;)x.removeAttributeNode(L[0]);Vi(x,C,w),x[ps]=h,x[Fe]=w}catch(H){hr(h,h.return,H)}}var $u=!1,_n=!1,k4=!1,NT=typeof WeakSet=="function"?WeakSet:Set,ki=null;function hZ(h,x){if(h=h.containerInfo,K4=wy,h=Uh(h),ac(h)){if("selectionStart"in h)var w={start:h.selectionStart,end:h.selectionEnd};else e:{w=(w=h.ownerDocument)&&w.defaultView||window;var C=w.getSelection&&w.getSelection();if(C&&C.rangeCount!==0){w=C.anchorNode;var L=C.anchorOffset,H=C.focusNode;C=C.focusOffset;try{w.nodeType,H.nodeType}catch{w=null;break e}var de=0,be=-1,$e=-1,ct=0,Et=0,Bt=h,ft=null;t:for(;;){for(var xt;Bt!==w||L!==0&&Bt.nodeType!==3||(be=de+L),Bt!==H||C!==0&&Bt.nodeType!==3||($e=de+C),Bt.nodeType===3&&(de+=Bt.nodeValue.length),(xt=Bt.firstChild)!==null;)ft=Bt,Bt=xt;for(;;){if(Bt===h)break t;if(ft===w&&++ct===L&&(be=de),ft===H&&++Et===C&&($e=de),(xt=Bt.nextSibling)!==null)break;Bt=ft,ft=Bt.parentNode}Bt=xt}w=be===-1||$e===-1?null:{start:be,end:$e}}else w=null}w=w||{start:0,end:0}}else w=null;for(Y4={focusedElem:h,selectionRange:w},wy=!1,ki=x;ki!==null;)if(x=ki,h=x.child,(x.subtreeFlags&1024)!==0&&h!==null)h.return=x,ki=h;else for(;ki!==null;){switch(x=ki,H=x.alternate,h=x.flags,x.tag){case 0:break;case 11:case 15:break;case 1:if((h&1024)!==0&&H!==null){h=void 0,w=x,L=H.memoizedProps,H=H.memoizedState,C=w.stateNode;try{var $a=k0(w.type,L,w.elementType===w.type);h=C.getSnapshotBeforeUpdate($a,H),C.__reactInternalSnapshotBeforeUpdate=h}catch(Da){hr(w,w.return,Da)}}break;case 3:if((h&1024)!==0){if(h=x.stateNode.containerInfo,w=h.nodeType,w===9)Q4(h);else if(w===1)switch(h.nodeName){case"HEAD":case"HTML":case"BODY":Q4(h);break;default:h.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((h&1024)!==0)throw Error(r(163))}if(h=x.sibling,h!==null){h.return=x.return,ki=h;break}ki=x.return}}function kT(h,x,w){var C=w.flags;switch(w.tag){case 0:case 11:case 15:tf(h,w),C&4&&yg(5,w);break;case 1:if(tf(h,w),C&4)if(h=w.stateNode,x===null)try{h.componentDidMount()}catch(de){hr(w,w.return,de)}else{var L=k0(w.type,x.memoizedProps);x=x.memoizedState;try{h.componentDidUpdate(L,x,h.__reactInternalSnapshotBeforeUpdate)}catch(de){hr(w,w.return,de)}}C&64&&vT(w),C&512&&wg(w,w.return);break;case 3:if(tf(h,w),C&64&&(h=w.updateQueue,h!==null)){if(x=null,w.child!==null)switch(w.child.tag){case 27:case 5:x=w.child.stateNode;break;case 1:x=w.child.stateNode}try{dn(h,x)}catch(de){hr(w,w.return,de)}}break;case 27:x===null&&C&4&&jT(w);case 26:case 5:tf(h,w),x===null&&C&4&&yT(w),C&512&&wg(w,w.return);break;case 12:tf(h,w);break;case 13:tf(h,w),C&4&&AT(h,w),C&64&&(h=w.memoizedState,h!==null&&(h=h.dehydrated,h!==null&&(w=wZ.bind(null,w),BZ(h,w))));break;case 22:if(C=w.memoizedState!==null||$u,!C){x=x!==null&&x.memoizedState!==null||_n,L=$u;var H=_n;$u=C,(_n=x)&&!H?af(h,w,(w.subtreeFlags&8772)!==0):tf(h,w),$u=L,_n=H}break;case 30:break;default:tf(h,w)}}function ST(h){var x=h.alternate;x!==null&&(h.alternate=null,ST(x)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(x=h.stateNode,x!==null&&_e(x)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}var Fr=null,so=!1;function Uu(h,x,w){for(w=w.child;w!==null;)CT(h,x,w),w=w.sibling}function CT(h,x,w){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount($t,w)}catch{}switch(w.tag){case 26:_n||Qd(w,x),Uu(h,x,w),w.memoizedState?w.memoizedState.count--:w.stateNode&&(w=w.stateNode,w.parentNode.removeChild(w));break;case 27:_n||Qd(w,x);var C=Fr,L=so;cf(w.type)&&(Fr=w.stateNode,so=!1),Uu(h,x,w),Tg(w.stateNode),Fr=C,so=L;break;case 5:_n||Qd(w,x);case 6:if(C=Fr,L=so,Fr=null,Uu(h,x,w),Fr=C,so=L,Fr!==null)if(so)try{(Fr.nodeType===9?Fr.body:Fr.nodeName==="HTML"?Fr.ownerDocument.body:Fr).removeChild(w.stateNode)}catch(H){hr(w,x,H)}else try{Fr.removeChild(w.stateNode)}catch(H){hr(w,x,H)}break;case 18:Fr!==null&&(so?(h=Fr,m7(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,w.stateNode),Ig(h)):m7(Fr,w.stateNode));break;case 4:C=Fr,L=so,Fr=w.stateNode.containerInfo,so=!0,Uu(h,x,w),Fr=C,so=L;break;case 0:case 11:case 14:case 15:_n||ef(2,w,x),_n||ef(4,w,x),Uu(h,x,w);break;case 1:_n||(Qd(w,x),C=w.stateNode,typeof C.componentWillUnmount=="function"&&bT(w,x,C)),Uu(h,x,w);break;case 21:Uu(h,x,w);break;case 22:_n=(C=_n)||w.memoizedState!==null,Uu(h,x,w),_n=C;break;default:Uu(h,x,w)}}function AT(h,x){if(x.memoizedState===null&&(h=x.alternate,h!==null&&(h=h.memoizedState,h!==null&&(h=h.dehydrated,h!==null))))try{Ig(h)}catch(w){hr(x,x.return,w)}}function fZ(h){switch(h.tag){case 13:case 19:var x=h.stateNode;return x===null&&(x=h.stateNode=new NT),x;case 22:return h=h.stateNode,x=h._retryCache,x===null&&(x=h._retryCache=new NT),x;default:throw Error(r(435,h.tag))}}function S4(h,x){var w=fZ(h);x.forEach(function(C){var L=jZ.bind(null,h,C);w.has(C)||(w.add(C),C.then(L,L))})}function Eo(h,x){var w=x.deletions;if(w!==null)for(var C=0;C<w.length;C++){var L=w[C],H=h,de=x,be=de;e:for(;be!==null;){switch(be.tag){case 27:if(cf(be.type)){Fr=be.stateNode,so=!1;break e}break;case 5:Fr=be.stateNode,so=!1;break e;case 3:case 4:Fr=be.stateNode.containerInfo,so=!0;break e}be=be.return}if(Fr===null)throw Error(r(160));CT(H,de,L),Fr=null,so=!1,H=L.alternate,H!==null&&(H.return=null),L.return=null}if(x.subtreeFlags&13878)for(x=x.child;x!==null;)_T(x,h),x=x.sibling}var dd=null;function _T(h,x){var w=h.alternate,C=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:Eo(x,h),To(h),C&4&&(ef(3,h,h.return),yg(3,h),ef(5,h,h.return));break;case 1:Eo(x,h),To(h),C&512&&(_n||w===null||Qd(w,w.return)),C&64&&$u&&(h=h.updateQueue,h!==null&&(C=h.callbacks,C!==null&&(w=h.shared.hiddenCallbacks,h.shared.hiddenCallbacks=w===null?C:w.concat(C))));break;case 26:var L=dd;if(Eo(x,h),To(h),C&512&&(_n||w===null||Qd(w,w.return)),C&4){var H=w!==null?w.memoizedState:null;if(C=h.memoizedState,w===null)if(C===null)if(h.stateNode===null){e:{C=h.type,w=h.memoizedProps,L=L.ownerDocument||L;t:switch(C){case"title":H=L.getElementsByTagName("title")[0],(!H||H[ke]||H[ps]||H.namespaceURI==="http://www.w3.org/2000/svg"||H.hasAttribute("itemprop"))&&(H=L.createElement(C),L.head.insertBefore(H,L.querySelector("head > title"))),Vi(H,C,w),H[ps]=h,qe(H),C=H;break e;case"link":var de=j7("link","href",L).get(C+(w.href||""));if(de){for(var be=0;be<de.length;be++)if(H=de[be],H.getAttribute("href")===(w.href==null||w.href===""?null:w.href)&&H.getAttribute("rel")===(w.rel==null?null:w.rel)&&H.getAttribute("title")===(w.title==null?null:w.title)&&H.getAttribute("crossorigin")===(w.crossOrigin==null?null:w.crossOrigin)){de.splice(be,1);break t}}H=L.createElement(C),Vi(H,C,w),L.head.appendChild(H);break;case"meta":if(de=j7("meta","content",L).get(C+(w.content||""))){for(be=0;be<de.length;be++)if(H=de[be],H.getAttribute("content")===(w.content==null?null:""+w.content)&&H.getAttribute("name")===(w.name==null?null:w.name)&&H.getAttribute("property")===(w.property==null?null:w.property)&&H.getAttribute("http-equiv")===(w.httpEquiv==null?null:w.httpEquiv)&&H.getAttribute("charset")===(w.charSet==null?null:w.charSet)){de.splice(be,1);break t}}H=L.createElement(C),Vi(H,C,w),L.head.appendChild(H);break;default:throw Error(r(468,C))}H[ps]=h,qe(H),C=H}h.stateNode=C}else N7(L,h.type,h.stateNode);else h.stateNode=w7(L,C,h.memoizedProps);else H!==C?(H===null?w.stateNode!==null&&(w=w.stateNode,w.parentNode.removeChild(w)):H.count--,C===null?N7(L,h.type,h.stateNode):w7(L,C,h.memoizedProps)):C===null&&h.stateNode!==null&&w4(h,h.memoizedProps,w.memoizedProps)}break;case 27:Eo(x,h),To(h),C&512&&(_n||w===null||Qd(w,w.return)),w!==null&&C&4&&w4(h,h.memoizedProps,w.memoizedProps);break;case 5:if(Eo(x,h),To(h),C&512&&(_n||w===null||Qd(w,w.return)),h.flags&32){L=h.stateNode;try{nn(L,"")}catch(xt){hr(h,h.return,xt)}}C&4&&h.stateNode!=null&&(L=h.memoizedProps,w4(h,L,w!==null?w.memoizedProps:L)),C&1024&&(k4=!0);break;case 6:if(Eo(x,h),To(h),C&4){if(h.stateNode===null)throw Error(r(162));C=h.memoizedProps,w=h.stateNode;try{w.nodeValue=C}catch(xt){hr(h,h.return,xt)}}break;case 3:if(vy=null,L=dd,dd=xy(x.containerInfo),Eo(x,h),dd=L,To(h),C&4&&w!==null&&w.memoizedState.isDehydrated)try{Ig(x.containerInfo)}catch(xt){hr(h,h.return,xt)}k4&&(k4=!1,ET(h));break;case 4:C=dd,dd=xy(h.stateNode.containerInfo),Eo(x,h),To(h),dd=C;break;case 12:Eo(x,h),To(h);break;case 13:Eo(x,h),To(h),h.child.flags&8192&&h.memoizedState!==null!=(w!==null&&w.memoizedState!==null)&&(D4=Re()),C&4&&(C=h.updateQueue,C!==null&&(h.updateQueue=null,S4(h,C)));break;case 22:L=h.memoizedState!==null;var $e=w!==null&&w.memoizedState!==null,ct=$u,Et=_n;if($u=ct||L,_n=Et||$e,Eo(x,h),_n=Et,$u=ct,To(h),C&8192)e:for(x=h.stateNode,x._visibility=L?x._visibility&-2:x._visibility|1,L&&(w===null||$e||$u||_n||S0(h)),w=null,x=h;;){if(x.tag===5||x.tag===26){if(w===null){$e=w=x;try{if(H=$e.stateNode,L)de=H.style,typeof de.setProperty=="function"?de.setProperty("display","none","important"):de.display="none";else{be=$e.stateNode;var Bt=$e.memoizedProps.style,ft=Bt!=null&&Bt.hasOwnProperty("display")?Bt.display:null;be.style.display=ft==null||typeof ft=="boolean"?"":(""+ft).trim()}}catch(xt){hr($e,$e.return,xt)}}}else if(x.tag===6){if(w===null){$e=x;try{$e.stateNode.nodeValue=L?"":$e.memoizedProps}catch(xt){hr($e,$e.return,xt)}}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===h)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===h)break e;for(;x.sibling===null;){if(x.return===null||x.return===h)break e;w===x&&(w=null),x=x.return}w===x&&(w=null),x.sibling.return=x.return,x=x.sibling}C&4&&(C=h.updateQueue,C!==null&&(w=C.retryQueue,w!==null&&(C.retryQueue=null,S4(h,w))));break;case 19:Eo(x,h),To(h),C&4&&(C=h.updateQueue,C!==null&&(h.updateQueue=null,S4(h,C)));break;case 30:break;case 21:break;default:Eo(x,h),To(h)}}function To(h){var x=h.flags;if(x&2){try{for(var w,C=h.return;C!==null;){if(wT(C)){w=C;break}C=C.return}if(w==null)throw Error(r(160));switch(w.tag){case 27:var L=w.stateNode,H=j4(h);sy(h,H,L);break;case 5:var de=w.stateNode;w.flags&32&&(nn(de,""),w.flags&=-33);var be=j4(h);sy(h,be,de);break;case 3:case 4:var $e=w.stateNode.containerInfo,ct=j4(h);N4(h,ct,$e);break;default:throw Error(r(161))}}catch(Et){hr(h,h.return,Et)}h.flags&=-3}x&4096&&(h.flags&=-4097)}function ET(h){if(h.subtreeFlags&1024)for(h=h.child;h!==null;){var x=h;ET(x),x.tag===5&&x.flags&1024&&x.stateNode.reset(),h=h.sibling}}function tf(h,x){if(x.subtreeFlags&8772)for(x=x.child;x!==null;)kT(h,x.alternate,x),x=x.sibling}function S0(h){for(h=h.child;h!==null;){var x=h;switch(x.tag){case 0:case 11:case 14:case 15:ef(4,x,x.return),S0(x);break;case 1:Qd(x,x.return);var w=x.stateNode;typeof w.componentWillUnmount=="function"&&bT(x,x.return,w),S0(x);break;case 27:Tg(x.stateNode);case 26:case 5:Qd(x,x.return),S0(x);break;case 22:x.memoizedState===null&&S0(x);break;case 30:S0(x);break;default:S0(x)}h=h.sibling}}function af(h,x,w){for(w=w&&(x.subtreeFlags&8772)!==0,x=x.child;x!==null;){var C=x.alternate,L=h,H=x,de=H.flags;switch(H.tag){case 0:case 11:case 15:af(L,H,w),yg(4,H);break;case 1:if(af(L,H,w),C=H,L=C.stateNode,typeof L.componentDidMount=="function")try{L.componentDidMount()}catch(ct){hr(C,C.return,ct)}if(C=H,L=C.updateQueue,L!==null){var be=C.stateNode;try{var $e=L.shared.hiddenCallbacks;if($e!==null)for(L.shared.hiddenCallbacks=null,L=0;L<$e.length;L++)xs($e[L],be)}catch(ct){hr(C,C.return,ct)}}w&&de&64&&vT(H),wg(H,H.return);break;case 27:jT(H);case 26:case 5:af(L,H,w),w&&C===null&&de&4&&yT(H),wg(H,H.return);break;case 12:af(L,H,w);break;case 13:af(L,H,w),w&&de&4&&AT(L,H);break;case 22:H.memoizedState===null&&af(L,H,w),wg(H,H.return);break;case 30:break;default:af(L,H,w)}x=x.sibling}}function C4(h,x){var w=null;h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),h=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(h=x.memoizedState.cachePool.pool),h!==w&&(h!=null&&h.refCount++,w!=null&&m0(w))}function A4(h,x){h=null,x.alternate!==null&&(h=x.alternate.memoizedState.cache),x=x.memoizedState.cache,x!==h&&(x.refCount++,h!=null&&m0(h))}function Zd(h,x,w,C){if(x.subtreeFlags&10256)for(x=x.child;x!==null;)TT(h,x,w,C),x=x.sibling}function TT(h,x,w,C){var L=x.flags;switch(x.tag){case 0:case 11:case 15:Zd(h,x,w,C),L&2048&&yg(9,x);break;case 1:Zd(h,x,w,C);break;case 3:Zd(h,x,w,C),L&2048&&(h=null,x.alternate!==null&&(h=x.alternate.memoizedState.cache),x=x.memoizedState.cache,x!==h&&(x.refCount++,h!=null&&m0(h)));break;case 12:if(L&2048){Zd(h,x,w,C),h=x.stateNode;try{var H=x.memoizedProps,de=H.id,be=H.onPostCommit;typeof be=="function"&&be(de,x.alternate===null?"mount":"update",h.passiveEffectDuration,-0)}catch($e){hr(x,x.return,$e)}}else Zd(h,x,w,C);break;case 13:Zd(h,x,w,C);break;case 23:break;case 22:H=x.stateNode,de=x.alternate,x.memoizedState!==null?H._visibility&2?Zd(h,x,w,C):jg(h,x):H._visibility&2?Zd(h,x,w,C):(H._visibility|=2,gp(h,x,w,C,(x.subtreeFlags&10256)!==0)),L&2048&&C4(de,x);break;case 24:Zd(h,x,w,C),L&2048&&A4(x.alternate,x);break;default:Zd(h,x,w,C)}}function gp(h,x,w,C,L){for(L=L&&(x.subtreeFlags&10256)!==0,x=x.child;x!==null;){var H=h,de=x,be=w,$e=C,ct=de.flags;switch(de.tag){case 0:case 11:case 15:gp(H,de,be,$e,L),yg(8,de);break;case 23:break;case 22:var Et=de.stateNode;de.memoizedState!==null?Et._visibility&2?gp(H,de,be,$e,L):jg(H,de):(Et._visibility|=2,gp(H,de,be,$e,L)),L&&ct&2048&&C4(de.alternate,de);break;case 24:gp(H,de,be,$e,L),L&&ct&2048&&A4(de.alternate,de);break;default:gp(H,de,be,$e,L)}x=x.sibling}}function jg(h,x){if(x.subtreeFlags&10256)for(x=x.child;x!==null;){var w=h,C=x,L=C.flags;switch(C.tag){case 22:jg(w,C),L&2048&&C4(C.alternate,C);break;case 24:jg(w,C),L&2048&&A4(C.alternate,C);break;default:jg(w,C)}x=x.sibling}}var Ng=8192;function vp(h){if(h.subtreeFlags&Ng)for(h=h.child;h!==null;)DT(h),h=h.sibling}function DT(h){switch(h.tag){case 26:vp(h),h.flags&Ng&&h.memoizedState!==null&&QZ(dd,h.memoizedState,h.memoizedProps);break;case 5:vp(h);break;case 3:case 4:var x=dd;dd=xy(h.stateNode.containerInfo),vp(h),dd=x;break;case 22:h.memoizedState===null&&(x=h.alternate,x!==null&&x.memoizedState!==null?(x=Ng,Ng=16777216,vp(h),Ng=x):vp(h));break;default:vp(h)}}function PT(h){var x=h.alternate;if(x!==null&&(h=x.child,h!==null)){x.child=null;do x=h.sibling,h.sibling=null,h=x;while(h!==null)}}function kg(h){var x=h.deletions;if((h.flags&16)!==0){if(x!==null)for(var w=0;w<x.length;w++){var C=x[w];ki=C,LT(C,h)}PT(h)}if(h.subtreeFlags&10256)for(h=h.child;h!==null;)MT(h),h=h.sibling}function MT(h){switch(h.tag){case 0:case 11:case 15:kg(h),h.flags&2048&&ef(9,h,h.return);break;case 3:kg(h);break;case 12:kg(h);break;case 22:var x=h.stateNode;h.memoizedState!==null&&x._visibility&2&&(h.return===null||h.return.tag!==13)?(x._visibility&=-3,ry(h)):kg(h);break;default:kg(h)}}function ry(h){var x=h.deletions;if((h.flags&16)!==0){if(x!==null)for(var w=0;w<x.length;w++){var C=x[w];ki=C,LT(C,h)}PT(h)}for(h=h.child;h!==null;){switch(x=h,x.tag){case 0:case 11:case 15:ef(8,x,x.return),ry(x);break;case 22:w=x.stateNode,w._visibility&2&&(w._visibility&=-3,ry(x));break;default:ry(x)}h=h.sibling}}function LT(h,x){for(;ki!==null;){var w=ki;switch(w.tag){case 0:case 11:case 15:ef(8,w,x);break;case 23:case 22:if(w.memoizedState!==null&&w.memoizedState.cachePool!==null){var C=w.memoizedState.cachePool.pool;C!=null&&C.refCount++}break;case 24:m0(w.memoizedState.cache)}if(C=w.child,C!==null)C.return=w,ki=C;else e:for(w=h;ki!==null;){C=ki;var L=C.sibling,H=C.return;if(ST(C),C===w){ki=null;break e}if(L!==null){L.return=H,ki=L;break e}ki=H}}}var mZ={getCacheForType:function(h){var x=Nn(kn),w=x.data.get(h);return w===void 0&&(w=h(),x.data.set(h,w)),w}},pZ=typeof WeakMap=="function"?WeakMap:Map,Ys=0,pr=null,ws=null,Ds=0,Xs=0,Do=null,sf=!1,bp=!1,_4=!1,zu=0,un=0,rf=0,C0=0,E4=0,hc=0,yp=0,Sg=null,ro=null,T4=!1,D4=0,ny=1/0,iy=null,nf=null,Hi=0,lf=null,wp=null,jp=0,P4=0,M4=null,OT=null,Cg=0,L4=null;function Po(){if((Ys&2)!==0&&Ds!==0)return Ds&-Ds;if(V.T!==null){var h=Lu;return h!==0?h:U4()}return ua()}function RT(){hc===0&&(hc=(Ds&536870912)===0||Ms?Rt():536870912);var h=uc.current;return h!==null&&(h.flags|=32),hc}function Mo(h,x,w){(h===pr&&(Xs===2||Xs===9)||h.cancelPendingCommit!==null)&&(Np(h,0),of(h,Ds,hc,!1)),lt(h,w),((Ys&2)===0||h!==pr)&&(h===pr&&((Ys&2)===0&&(C0|=w),un===4&&of(h,Ds,hc,!1)),eu(h))}function FT(h,x,w){if((Ys&6)!==0)throw Error(r(327));var C=!w&&(x&124)===0&&(x&h.expiredLanes)===0||We(h,x),L=C?vZ(h,x):F4(h,x,!0),H=C;do{if(L===0){bp&&!C&&of(h,x,0,!1);break}else{if(w=h.current.alternate,H&&!xZ(w)){L=F4(h,x,!1),H=!1;continue}if(L===2){if(H=x,h.errorRecoveryDisabledLanes&H)var de=0;else de=h.pendingLanes&-536870913,de=de!==0?de:de&536870912?536870912:0;if(de!==0){x=de;e:{var be=h;L=Sg;var $e=be.current.memoizedState.isDehydrated;if($e&&(Np(be,de).flags|=256),de=F4(be,de,!1),de!==2){if(_4&&!$e){be.errorRecoveryDisabledLanes|=H,C0|=H,L=4;break e}H=ro,ro=L,H!==null&&(ro===null?ro=H:ro.push.apply(ro,H))}L=de}if(H=!1,L!==2)continue}}if(L===1){Np(h,0),of(h,x,0,!0);break}e:{switch(C=h,H=L,H){case 0:case 1:throw Error(r(345));case 4:if((x&4194048)!==x)break;case 6:of(C,x,hc,!sf);break e;case 2:ro=null;break;case 3:case 5:break;default:throw Error(r(329))}if((x&62914560)===x&&(L=D4+300-Re(),10<L)){if(of(C,x,hc,!sf),Tt(C,0,!0)!==0)break e;C.timeoutHandle=h7(IT.bind(null,C,w,ro,iy,T4,x,hc,C0,yp,sf,H,2,-0,0),L);break e}IT(C,w,ro,iy,T4,x,hc,C0,yp,sf,H,0,-0,0)}}break}while(!0);eu(h)}function IT(h,x,w,C,L,H,de,be,$e,ct,Et,Bt,ft,xt){if(h.timeoutHandle=-1,Bt=x.subtreeFlags,(Bt&8192||(Bt&16785408)===16785408)&&(Mg={stylesheets:null,count:0,unsuspend:JZ},DT(x),Bt=ZZ(),Bt!==null)){h.cancelPendingCommit=Bt(WT.bind(null,h,x,H,w,C,L,de,be,$e,Et,1,ft,xt)),of(h,H,de,!ct);return}WT(h,x,H,w,C,L,de,be,$e)}function xZ(h){for(var x=h;;){var w=x.tag;if((w===0||w===11||w===15)&&x.flags&16384&&(w=x.updateQueue,w!==null&&(w=w.stores,w!==null)))for(var C=0;C<w.length;C++){var L=w[C],H=L.getSnapshot;L=L.value;try{if(!Dr(H(),L))return!1}catch{return!1}}if(w=x.child,x.subtreeFlags&16384&&w!==null)w.return=x,x=w;else{if(x===h)break;for(;x.sibling===null;){if(x.return===null||x.return===h)return!0;x=x.return}x.sibling.return=x.return,x=x.sibling}}return!0}function of(h,x,w,C){x&=~E4,x&=~C0,h.suspendedLanes|=x,h.pingedLanes&=~x,C&&(h.warmLanes|=x),C=h.expirationTimes;for(var L=x;0<L;){var H=31-Ze(L),de=1<<H;C[H]=-1,L&=~de}w!==0&&mt(h,w,x)}function ly(){return(Ys&6)===0?(Ag(0),!1):!0}function O4(){if(ws!==null){if(Xs===0)var h=ws.return;else h=ws,rd=Hn=null,si(h),pp=null,gg=0,h=ws;for(;h!==null;)gT(h.alternate,h),h=h.return;ws=null}}function Np(h,x){var w=h.timeoutHandle;w!==-1&&(h.timeoutHandle=-1,LZ(w)),w=h.cancelPendingCommit,w!==null&&(h.cancelPendingCommit=null,w()),O4(),pr=h,ws=w=rc(h.current,null),Ds=x,Xs=0,Do=null,sf=!1,bp=We(h,x),_4=!1,yp=hc=E4=C0=rf=un=0,ro=Sg=null,T4=!1,(x&8)!==0&&(x|=x&32);var C=h.entangledLanes;if(C!==0)for(h=h.entanglements,C&=x;0<C;){var L=31-Ze(C),H=1<<L;x|=h[L],C&=~H}return zu=x,o0(),w}function BT(h,x){ma=null,V.H=Kb,x===xe||x===je?(x=Ge(),Xs=3):x===ve?(x=Ge(),Xs=4):Xs=x===sT?8:x!==null&&typeof x=="object"&&typeof x.then=="function"?6:1,Do=x,ws===null&&(un=1,Zb(h,Dl(x,h.current)))}function $T(){var h=V.H;return V.H=Kb,h===null?Kb:h}function UT(){var h=V.A;return V.A=mZ,h}function R4(){un=4,sf||(Ds&4194048)!==Ds&&uc.current!==null||(bp=!0),(rf&134217727)===0&&(C0&134217727)===0||pr===null||of(pr,Ds,hc,!1)}function F4(h,x,w){var C=Ys;Ys|=2;var L=$T(),H=UT();(pr!==h||Ds!==x)&&(iy=null,Np(h,x)),x=!1;var de=un;e:do try{if(Xs!==0&&ws!==null){var be=ws,$e=Do;switch(Xs){case 8:O4(),de=6;break e;case 3:case 2:case 9:case 6:uc.current===null&&(x=!0);var ct=Xs;if(Xs=0,Do=null,kp(h,be,$e,ct),w&&bp){de=0;break e}break;default:ct=Xs,Xs=0,Do=null,kp(h,be,$e,ct)}}gZ(),de=un;break}catch(Et){BT(h,Et)}while(!0);return x&&h.shellSuspendCounter++,rd=Hn=null,Ys=C,V.H=L,V.A=H,ws===null&&(pr=null,Ds=0,o0()),de}function gZ(){for(;ws!==null;)zT(ws)}function vZ(h,x){var w=Ys;Ys|=2;var C=$T(),L=UT();pr!==h||Ds!==x?(iy=null,ny=Re()+500,Np(h,x)):bp=We(h,x);e:do try{if(Xs!==0&&ws!==null){x=ws;var H=Do;t:switch(Xs){case 1:Xs=0,Do=null,kp(h,x,H,1);break;case 2:case 9:if(Le(H)){Xs=0,Do=null,HT(x);break}x=function(){Xs!==2&&Xs!==9||pr!==h||(Xs=7),eu(h)},H.then(x,x);break e;case 3:Xs=7;break e;case 4:Xs=5;break e;case 7:Le(H)?(Xs=0,Do=null,HT(x)):(Xs=0,Do=null,kp(h,x,H,7));break;case 5:var de=null;switch(ws.tag){case 26:de=ws.memoizedState;case 5:case 27:var be=ws;if(!de||k7(de)){Xs=0,Do=null;var $e=be.sibling;if($e!==null)ws=$e;else{var ct=be.return;ct!==null?(ws=ct,oy(ct)):ws=null}break t}}Xs=0,Do=null,kp(h,x,H,5);break;case 6:Xs=0,Do=null,kp(h,x,H,6);break;case 8:O4(),un=6;break e;default:throw Error(r(462))}}bZ();break}catch(Et){BT(h,Et)}while(!0);return rd=Hn=null,V.H=C,V.A=L,Ys=w,ws!==null?0:(pr=null,Ds=0,o0(),un)}function bZ(){for(;ws!==null&&!ae();)zT(ws)}function zT(h){var x=pT(h.alternate,h,zu);h.memoizedProps=h.pendingProps,x===null?oy(h):ws=x}function HT(h){var x=h,w=x.alternate;switch(x.tag){case 15:case 0:x=cT(w,x,x.pendingProps,x.type,void 0,Ds);break;case 11:x=cT(w,x,x.pendingProps,x.type.render,x.ref,Ds);break;case 5:si(x);default:gT(w,x),x=ws=d0(x,zu),x=pT(w,x,zu)}h.memoizedProps=h.pendingProps,x===null?oy(h):ws=x}function kp(h,x,w,C){rd=Hn=null,si(x),pp=null,gg=0;var L=x.return;try{if(oZ(h,L,x,w,Ds)){un=1,Zb(h,Dl(w,h.current)),ws=null;return}}catch(H){if(L!==null)throw ws=L,H;un=1,Zb(h,Dl(w,h.current)),ws=null;return}x.flags&32768?(Ms||C===1?h=!0:bp||(Ds&536870912)!==0?h=!1:(sf=h=!0,(C===2||C===9||C===3||C===6)&&(C=uc.current,C!==null&&C.tag===13&&(C.flags|=16384))),VT(x,h)):oy(x)}function oy(h){var x=h;do{if((x.flags&32768)!==0){VT(x,sf);return}h=x.return;var w=dZ(x.alternate,x,zu);if(w!==null){ws=w;return}if(x=x.sibling,x!==null){ws=x;return}ws=x=h}while(x!==null);un===0&&(un=5)}function VT(h,x){do{var w=uZ(h.alternate,h);if(w!==null){w.flags&=32767,ws=w;return}if(w=h.return,w!==null&&(w.flags|=32768,w.subtreeFlags=0,w.deletions=null),!x&&(h=h.sibling,h!==null)){ws=h;return}ws=h=w}while(h!==null);un=6,ws=null}function WT(h,x,w,C,L,H,de,be,$e){h.cancelPendingCommit=null;do cy();while(Hi!==0);if((Ys&6)!==0)throw Error(r(327));if(x!==null){if(x===h.current)throw Error(r(177));if(H=x.lanes|x.childLanes,H|=ap,dt(h,w,H,de,be,$e),h===pr&&(ws=pr=null,Ds=0),wp=x,lf=h,jp=w,P4=H,M4=L,OT=C,(x.subtreeFlags&10256)!==0||(x.flags&10256)!==0?(h.callbackNode=null,h.callbackPriority=0,NZ(Ne,function(){return XT(),null})):(h.callbackNode=null,h.callbackPriority=0),C=(x.flags&13878)!==0,(x.subtreeFlags&13878)!==0||C){C=V.T,V.T=null,L=J.p,J.p=2,de=Ys,Ys|=4;try{hZ(h,x,w)}finally{Ys=de,J.p=L,V.T=C}}Hi=1,qT(),GT(),KT()}}function qT(){if(Hi===1){Hi=0;var h=lf,x=wp,w=(x.flags&13878)!==0;if((x.subtreeFlags&13878)!==0||w){w=V.T,V.T=null;var C=J.p;J.p=2;var L=Ys;Ys|=4;try{_T(x,h);var H=Y4,de=Uh(h.containerInfo),be=H.focusedElem,$e=H.selectionRange;if(de!==be&&be&&be.ownerDocument&&$h(be.ownerDocument.documentElement,be)){if($e!==null&&ac(be)){var ct=$e.start,Et=$e.end;if(Et===void 0&&(Et=ct),"selectionStart"in be)be.selectionStart=ct,be.selectionEnd=Math.min(Et,be.value.length);else{var Bt=be.ownerDocument||document,ft=Bt&&Bt.defaultView||window;if(ft.getSelection){var xt=ft.getSelection(),$a=be.textContent.length,Da=Math.min($e.start,$a),ir=$e.end===void 0?Da:Math.min($e.end,$a);!xt.extend&&Da>ir&&(de=ir,ir=Da,Da=de);var Xe=Bh(be,Da),Ve=Bh(be,ir);if(Xe&&Ve&&(xt.rangeCount!==1||xt.anchorNode!==Xe.node||xt.anchorOffset!==Xe.offset||xt.focusNode!==Ve.node||xt.focusOffset!==Ve.offset)){var rt=Bt.createRange();rt.setStart(Xe.node,Xe.offset),xt.removeAllRanges(),Da>ir?(xt.addRange(rt),xt.extend(Ve.node,Ve.offset)):(rt.setEnd(Ve.node,Ve.offset),xt.addRange(rt))}}}}for(Bt=[],xt=be;xt=xt.parentNode;)xt.nodeType===1&&Bt.push({element:xt,left:xt.scrollLeft,top:xt.scrollTop});for(typeof be.focus=="function"&&be.focus(),be=0;be<Bt.length;be++){var Lt=Bt[be];Lt.element.scrollLeft=Lt.left,Lt.element.scrollTop=Lt.top}}wy=!!K4,Y4=K4=null}finally{Ys=L,J.p=C,V.T=w}}h.current=x,Hi=2}}function GT(){if(Hi===2){Hi=0;var h=lf,x=wp,w=(x.flags&8772)!==0;if((x.subtreeFlags&8772)!==0||w){w=V.T,V.T=null;var C=J.p;J.p=2;var L=Ys;Ys|=4;try{kT(h,x.alternate,x)}finally{Ys=L,J.p=C,V.T=w}}Hi=3}}function KT(){if(Hi===4||Hi===3){Hi=0,ge();var h=lf,x=wp,w=jp,C=OT;(x.subtreeFlags&10256)!==0||(x.flags&10256)!==0?Hi=5:(Hi=0,wp=lf=null,YT(h,h.pendingLanes));var L=h.pendingLanes;if(L===0&&(nf=null),Aa(w),x=x.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot($t,x,void 0,(x.current.flags&128)===128)}catch{}if(C!==null){x=V.T,L=J.p,J.p=2,V.T=null;try{for(var H=h.onRecoverableError,de=0;de<C.length;de++){var be=C[de];H(be.value,{componentStack:be.stack})}}finally{V.T=x,J.p=L}}(jp&3)!==0&&cy(),eu(h),L=h.pendingLanes,(w&4194090)!==0&&(L&42)!==0?h===L4?Cg++:(Cg=0,L4=h):Cg=0,Ag(0)}}function YT(h,x){(h.pooledCacheLanes&=x)===0&&(x=h.pooledCache,x!=null&&(h.pooledCache=null,m0(x)))}function cy(h){return qT(),GT(),KT(),XT()}function XT(){if(Hi!==5)return!1;var h=lf,x=P4;P4=0;var w=Aa(jp),C=V.T,L=J.p;try{J.p=32>w?32:w,V.T=null,w=M4,M4=null;var H=lf,de=jp;if(Hi=0,wp=lf=null,jp=0,(Ys&6)!==0)throw Error(r(331));var be=Ys;if(Ys|=4,MT(H.current),TT(H,H.current,de,w),Ys=be,Ag(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot($t,H)}catch{}return!0}finally{J.p=L,V.T=C,YT(h,x)}}function JT(h,x,w){x=Dl(w,x),x=h4(h.stateNode,x,2),h=Vt(h,x,2),h!==null&&(lt(h,2),eu(h))}function hr(h,x,w){if(h.tag===3)JT(h,h,w);else for(;x!==null;){if(x.tag===3){JT(x,h,w);break}else if(x.tag===1){var C=x.stateNode;if(typeof x.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(nf===null||!nf.has(C))){h=Dl(w,h),w=tT(2),C=Vt(x,w,2),C!==null&&(aT(w,C,x,h),lt(C,2),eu(C));break}}x=x.return}}function I4(h,x,w){var C=h.pingCache;if(C===null){C=h.pingCache=new pZ;var L=new Set;C.set(x,L)}else L=C.get(x),L===void 0&&(L=new Set,C.set(x,L));L.has(w)||(_4=!0,L.add(w),h=yZ.bind(null,h,x,w),x.then(h,h))}function yZ(h,x,w){var C=h.pingCache;C!==null&&C.delete(x),h.pingedLanes|=h.suspendedLanes&w,h.warmLanes&=~w,pr===h&&(Ds&w)===w&&(un===4||un===3&&(Ds&62914560)===Ds&&300>Re()-D4?(Ys&2)===0&&Np(h,0):E4|=w,yp===Ds&&(yp=0)),eu(h)}function QT(h,x){x===0&&(x=na()),h=_u(h,x),h!==null&&(lt(h,x),eu(h))}function wZ(h){var x=h.memoizedState,w=0;x!==null&&(w=x.retryLane),QT(h,w)}function jZ(h,x){var w=0;switch(h.tag){case 13:var C=h.stateNode,L=h.memoizedState;L!==null&&(w=L.retryLane);break;case 19:C=h.stateNode;break;case 22:C=h.stateNode._retryCache;break;default:throw Error(r(314))}C!==null&&C.delete(x),QT(h,w)}function NZ(h,x){return Ie(h,x)}var dy=null,Sp=null,B4=!1,uy=!1,$4=!1,A0=0;function eu(h){h!==Sp&&h.next===null&&(Sp===null?dy=Sp=h:Sp=Sp.next=h),uy=!0,B4||(B4=!0,SZ())}function Ag(h,x){if(!$4&&uy){$4=!0;do for(var w=!1,C=dy;C!==null;){if(h!==0){var L=C.pendingLanes;if(L===0)var H=0;else{var de=C.suspendedLanes,be=C.pingedLanes;H=(1<<31-Ze(42|h)+1)-1,H&=L&~(de&~be),H=H&201326741?H&201326741|1:H?H|2:0}H!==0&&(w=!0,a7(C,H))}else H=Ds,H=Tt(C,C===pr?H:0,C.cancelPendingCommit!==null||C.timeoutHandle!==-1),(H&3)===0||We(C,H)||(w=!0,a7(C,H));C=C.next}while(w);$4=!1}}function kZ(){ZT()}function ZT(){uy=B4=!1;var h=0;A0!==0&&(MZ()&&(h=A0),A0=0);for(var x=Re(),w=null,C=dy;C!==null;){var L=C.next,H=e7(C,x);H===0?(C.next=null,w===null?dy=L:w.next=L,L===null&&(Sp=w)):(w=C,(h!==0||(H&3)!==0)&&(uy=!0)),C=L}Ag(h)}function e7(h,x){for(var w=h.suspendedLanes,C=h.pingedLanes,L=h.expirationTimes,H=h.pendingLanes&-62914561;0<H;){var de=31-Ze(H),be=1<<de,$e=L[de];$e===-1?((be&w)===0||(be&C)!==0)&&(L[de]=Ot(be,x)):$e<=x&&(h.expiredLanes|=be),H&=~be}if(x=pr,w=Ds,w=Tt(h,h===x?w:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),C=h.callbackNode,w===0||h===x&&(Xs===2||Xs===9)||h.cancelPendingCommit!==null)return C!==null&&C!==null&&pe(C),h.callbackNode=null,h.callbackPriority=0;if((w&3)===0||We(h,w)){if(x=w&-w,x===h.callbackPriority)return x;switch(C!==null&&pe(C),Aa(w)){case 2:case 8:w=Se;break;case 32:w=Ne;break;case 268435456:w=gt;break;default:w=Ne}return C=t7.bind(null,h),w=Ie(w,C),h.callbackPriority=x,h.callbackNode=w,x}return C!==null&&C!==null&&pe(C),h.callbackPriority=2,h.callbackNode=null,2}function t7(h,x){if(Hi!==0&&Hi!==5)return h.callbackNode=null,h.callbackPriority=0,null;var w=h.callbackNode;if(cy()&&h.callbackNode!==w)return null;var C=Ds;return C=Tt(h,h===pr?C:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),C===0?null:(FT(h,C,x),e7(h,Re()),h.callbackNode!=null&&h.callbackNode===w?t7.bind(null,h):null)}function a7(h,x){if(cy())return null;FT(h,x,!0)}function SZ(){OZ(function(){(Ys&6)!==0?Ie(Z,kZ):ZT()})}function U4(){return A0===0&&(A0=Rt()),A0}function s7(h){return h==null||typeof h=="symbol"||typeof h=="boolean"?null:typeof h=="function"?h:ia(""+h)}function r7(h,x){var w=x.ownerDocument.createElement("input");return w.name=x.name,w.value=x.value,h.id&&w.setAttribute("form",h.id),x.parentNode.insertBefore(w,x),h=new FormData(h),w.parentNode.removeChild(w),h}function CZ(h,x,w,C,L){if(x==="submit"&&w&&w.stateNode===L){var H=s7((L[Fe]||null).action),de=C.submitter;de&&(x=(x=de[Fe]||null)?s7(x.formAction):de.getAttribute("formAction"),x!==null&&(H=x,de=null));var be=new Xl("action","action",null,C,L);h.push({event:be,listeners:[{instance:null,listener:function(){if(C.defaultPrevented){if(A0!==0){var $e=de?r7(L,de):new FormData(L);dc(w,{pending:!0,data:$e,method:L.method,action:H},null,$e)}}else typeof H=="function"&&(be.preventDefault(),$e=de?r7(L,de):new FormData(L),dc(w,{pending:!0,data:$e,method:L.method,action:H},H,$e))},currentTarget:L}]})}}for(var z4=0;z4<tp.length;z4++){var H4=tp[z4],AZ=H4.toLowerCase(),_Z=H4[0].toUpperCase()+H4.slice(1);eo(AZ,"on"+_Z)}eo(sc,"onAnimationEnd"),eo(zh,"onAnimationIteration"),eo(Cu,"onAnimationStart"),eo("dblclick","onDoubleClick"),eo("focusin","onFocus"),eo("focusout","onBlur"),eo(ep,"onTransitionRun"),eo(Eb,"onTransitionStart"),eo(Tb,"onTransitionCancel"),eo(eg,"onTransitionEnd"),Yt("onMouseEnter",["mouseout","mouseover"]),Yt("onMouseLeave",["mouseout","mouseover"]),Yt("onPointerEnter",["pointerout","pointerover"]),Yt("onPointerLeave",["pointerout","pointerover"]),Ft("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ft("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ft("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ft("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ft("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ft("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _g="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EZ=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_g));function n7(h,x){x=(x&4)!==0;for(var w=0;w<h.length;w++){var C=h[w],L=C.event;C=C.listeners;e:{var H=void 0;if(x)for(var de=C.length-1;0<=de;de--){var be=C[de],$e=be.instance,ct=be.currentTarget;if(be=be.listener,$e!==H&&L.isPropagationStopped())break e;H=be,L.currentTarget=ct;try{H(L)}catch(Et){Qb(Et)}L.currentTarget=null,H=$e}else for(de=0;de<C.length;de++){if(be=C[de],$e=be.instance,ct=be.currentTarget,be=be.listener,$e!==H&&L.isPropagationStopped())break e;H=be,L.currentTarget=ct;try{H(L)}catch(Et){Qb(Et)}L.currentTarget=null,H=$e}}}}function js(h,x){var w=x[is];w===void 0&&(w=x[is]=new Set);var C=h+"__bubble";w.has(C)||(i7(x,h,2,!1),w.add(C))}function V4(h,x,w){var C=0;x&&(C|=4),i7(w,h,C,x)}var hy="_reactListening"+Math.random().toString(36).slice(2);function W4(h){if(!h[hy]){h[hy]=!0,st.forEach(function(w){w!=="selectionchange"&&(EZ.has(w)||V4(w,!1,h),V4(w,!0,h))});var x=h.nodeType===9?h:h.ownerDocument;x===null||x[hy]||(x[hy]=!0,V4("selectionchange",!1,x))}}function i7(h,x,w,C){switch(T7(x)){case 2:var L=aee;break;case 8:L=see;break;default:L=n5}w=L.bind(null,x,w,h),L=void 0,!ds||x!=="touchstart"&&x!=="touchmove"&&x!=="wheel"||(L=!0),C?L!==void 0?h.addEventListener(x,w,{capture:!0,passive:L}):h.addEventListener(x,w,!0):L!==void 0?h.addEventListener(x,w,{passive:L}):h.addEventListener(x,w,!1)}function q4(h,x,w,C,L){var H=C;if((x&1)===0&&(x&2)===0&&C!==null)e:for(;;){if(C===null)return;var de=C.tag;if(de===3||de===4){var be=C.stateNode.containerInfo;if(be===L)break;if(de===4)for(de=C.return;de!==null;){var $e=de.tag;if(($e===3||$e===4)&&de.stateNode.containerInfo===L)return;de=de.return}for(;be!==null;){if(de=Te(be),de===null)return;if($e=de.tag,$e===5||$e===6||$e===26||$e===27){C=H=de;continue e}be=be.parentNode}}C=C.return}Ut(function(){var ct=H,Et=Fs(w),Bt=[];e:{var ft=tg.get(h);if(ft!==void 0){var xt=Xl,$a=h;switch(h){case"keypress":if(vr(w)===0)break e;case"keydown":case"keyup":xt=Ia;break;case"focusin":$a="focus",xt=Oh;break;case"focusout":$a="blur",xt=Oh;break;case"beforeblur":case"afterblur":xt=Oh;break;case"click":if(w.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xt=r0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xt=qc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xt=on;break;case sc:case zh:case Cu:xt=Nu;break;case eg:xt=wn;break;case"scroll":case"scrollend":xt=No;break;case"wheel":xt=ti;break;case"copy":case"cut":case"paste":xt=Y;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xt=Es;break;case"toggle":case"beforetoggle":xt=tl}var Da=(x&4)!==0,ir=!Da&&(h==="scroll"||h==="scrollend"),Xe=Da?ft!==null?ft+"Capture":null:ft;Da=[];for(var Ve=ct,rt;Ve!==null;){var Lt=Ve;if(rt=Lt.stateNode,Lt=Lt.tag,Lt!==5&&Lt!==26&&Lt!==27||rt===null||Xe===null||(Lt=_a(Ve,Xe),Lt!=null&&Da.push(Eg(Ve,Lt,rt))),ir)break;Ve=Ve.return}0<Da.length&&(ft=new xt(ft,$a,null,w,Et),Bt.push({event:ft,listeners:Da}))}}if((x&7)===0){e:{if(ft=h==="mouseover"||h==="pointerover",xt=h==="mouseout"||h==="pointerout",ft&&w!==Fa&&($a=w.relatedTarget||w.fromElement)&&(Te($a)||$a[Ha]))break e;if((xt||ft)&&(ft=Et.window===Et?Et:(ft=Et.ownerDocument)?ft.defaultView||ft.parentWindow:window,xt?($a=w.relatedTarget||w.toElement,xt=ct,$a=$a?Te($a):null,$a!==null&&(ir=i($a),Da=$a.tag,$a!==ir||Da!==5&&Da!==27&&Da!==6)&&($a=null)):(xt=null,$a=ct),xt!==$a)){if(Da=r0,Lt="onMouseLeave",Xe="onMouseEnter",Ve="mouse",(h==="pointerout"||h==="pointerover")&&(Da=Es,Lt="onPointerLeave",Xe="onPointerEnter",Ve="pointer"),ir=xt==null?ft:Qe(xt),rt=$a==null?ft:Qe($a),ft=new Da(Lt,Ve+"leave",xt,w,Et),ft.target=ir,ft.relatedTarget=rt,Lt=null,Te(Et)===ct&&(Da=new Da(Xe,Ve+"enter",$a,w,Et),Da.target=rt,Da.relatedTarget=ir,Lt=Da),ir=Lt,xt&&$a)t:{for(Da=xt,Xe=$a,Ve=0,rt=Da;rt;rt=Cp(rt))Ve++;for(rt=0,Lt=Xe;Lt;Lt=Cp(Lt))rt++;for(;0<Ve-rt;)Da=Cp(Da),Ve--;for(;0<rt-Ve;)Xe=Cp(Xe),rt--;for(;Ve--;){if(Da===Xe||Xe!==null&&Da===Xe.alternate)break t;Da=Cp(Da),Xe=Cp(Xe)}Da=null}else Da=null;xt!==null&&l7(Bt,ft,xt,Da,!1),$a!==null&&ir!==null&&l7(Bt,ir,$a,Da,!0)}}e:{if(ft=ct?Qe(ct):window,xt=ft.nodeName&&ft.nodeName.toLowerCase(),xt==="select"||xt==="input"&&ft.type==="file")var xa=Rh;else if(ec(ft))if(Kc)xa=Kr;else{xa=l0;var gs=Wd}else xt=ft.nodeName,!xt||xt.toLowerCase()!=="input"||ft.type!=="checkbox"&&ft.type!=="radio"?ct&&Ee(ct.elementType)&&(xa=Rh):xa=Fh;if(xa&&(xa=xa(h,ct))){ku(Bt,xa,w,Et);break e}gs&&gs(h,ft,ct),h==="focusout"&&ct&&ft.type==="number"&&ct.memoizedProps.value!=null&&Wc(ft,"number",ft.value)}switch(gs=ct?Qe(ct):window,h){case"focusin":(ec(gs)||gs.contentEditable==="true")&&(El=gs,Jc=ct,Zl=null);break;case"focusout":Zl=Jc=El=null;break;case"mousedown":Qc=!0;break;case"contextmenu":case"mouseup":case"dragend":Qc=!1,Tl(Bt,w,Et);break;case"selectionchange":if(qd)break;case"keydown":case"keyup":Tl(Bt,w,Et)}var ja;if(Fd)e:{switch(h){case"compositionstart":var Pa="onCompositionStart";break e;case"compositionend":Pa="onCompositionEnd";break e;case"compositionupdate":Pa="onCompositionUpdate";break e}Pa=void 0}else Ql?ai(h,w)&&(Pa="onCompositionEnd"):h==="keydown"&&w.keyCode===229&&(Pa="onCompositionStart");Pa&&(Bd&&w.locale!=="ko"&&(Ql||Pa!=="onCompositionStart"?Pa==="onCompositionEnd"&&Ql&&(ja=Zn()):(Va=Et,ts="value"in Va?Va.value:Va.textContent,Ql=!0)),gs=fy(ct,Pa),0<gs.length&&(Pa=new Oe(Pa,h,null,w,Et),Bt.push({event:Pa,listeners:gs}),ja?Pa.data=ja:(ja=zd(w),ja!==null&&(Pa.data=ja)))),(ja=Id?n0(h,w):i0(h,w))&&(Pa=fy(ct,"onBeforeInput"),0<Pa.length&&(gs=new Oe("onBeforeInput","beforeinput",null,w,Et),Bt.push({event:gs,listeners:Pa}),gs.data=ja)),CZ(Bt,h,ct,w,Et)}n7(Bt,x)})}function Eg(h,x,w){return{instance:h,listener:x,currentTarget:w}}function fy(h,x){for(var w=x+"Capture",C=[];h!==null;){var L=h,H=L.stateNode;if(L=L.tag,L!==5&&L!==26&&L!==27||H===null||(L=_a(h,w),L!=null&&C.unshift(Eg(h,L,H)),L=_a(h,x),L!=null&&C.push(Eg(h,L,H))),h.tag===3)return C;h=h.return}return[]}function Cp(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5&&h.tag!==27);return h||null}function l7(h,x,w,C,L){for(var H=x._reactName,de=[];w!==null&&w!==C;){var be=w,$e=be.alternate,ct=be.stateNode;if(be=be.tag,$e!==null&&$e===C)break;be!==5&&be!==26&&be!==27||ct===null||($e=ct,L?(ct=_a(w,H),ct!=null&&de.unshift(Eg(w,ct,$e))):L||(ct=_a(w,H),ct!=null&&de.push(Eg(w,ct,$e)))),w=w.return}de.length!==0&&h.push({event:x,listeners:de})}var TZ=/\r\n?/g,DZ=/\u0000|\uFFFD/g;function o7(h){return(typeof h=="string"?h:""+h).replace(TZ,`
`).replace(DZ,"")}function c7(h,x){return x=o7(x),o7(h)===x}function my(){}function nr(h,x,w,C,L,H){switch(w){case"children":typeof C=="string"?x==="body"||x==="textarea"&&C===""||nn(h,C):(typeof C=="number"||typeof C=="bigint")&&x!=="body"&&nn(h,""+C);break;case"className":wa(h,"class",C);break;case"tabIndex":wa(h,"tabindex",C);break;case"dir":case"role":case"viewBox":case"width":case"height":wa(h,w,C);break;case"style":Rd(h,C,H);break;case"data":if(x!=="object"){wa(h,"data",C);break}case"src":case"href":if(C===""&&(x!=="a"||w!=="href")){h.removeAttribute(w);break}if(C==null||typeof C=="function"||typeof C=="symbol"||typeof C=="boolean"){h.removeAttribute(w);break}C=ia(""+C),h.setAttribute(w,C);break;case"action":case"formAction":if(typeof C=="function"){h.setAttribute(w,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof H=="function"&&(w==="formAction"?(x!=="input"&&nr(h,x,"name",L.name,L,null),nr(h,x,"formEncType",L.formEncType,L,null),nr(h,x,"formMethod",L.formMethod,L,null),nr(h,x,"formTarget",L.formTarget,L,null)):(nr(h,x,"encType",L.encType,L,null),nr(h,x,"method",L.method,L,null),nr(h,x,"target",L.target,L,null)));if(C==null||typeof C=="symbol"||typeof C=="boolean"){h.removeAttribute(w);break}C=ia(""+C),h.setAttribute(w,C);break;case"onClick":C!=null&&(h.onclick=my);break;case"onScroll":C!=null&&js("scroll",h);break;case"onScrollEnd":C!=null&&js("scrollend",h);break;case"dangerouslySetInnerHTML":if(C!=null){if(typeof C!="object"||!("__html"in C))throw Error(r(61));if(w=C.__html,w!=null){if(L.children!=null)throw Error(r(60));h.innerHTML=w}}break;case"multiple":h.multiple=C&&typeof C!="function"&&typeof C!="symbol";break;case"muted":h.muted=C&&typeof C!="function"&&typeof C!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(C==null||typeof C=="function"||typeof C=="boolean"||typeof C=="symbol"){h.removeAttribute("xlink:href");break}w=ia(""+C),h.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",w);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":C!=null&&typeof C!="function"&&typeof C!="symbol"?h.setAttribute(w,""+C):h.removeAttribute(w);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":C&&typeof C!="function"&&typeof C!="symbol"?h.setAttribute(w,""):h.removeAttribute(w);break;case"capture":case"download":C===!0?h.setAttribute(w,""):C!==!1&&C!=null&&typeof C!="function"&&typeof C!="symbol"?h.setAttribute(w,C):h.removeAttribute(w);break;case"cols":case"rows":case"size":case"span":C!=null&&typeof C!="function"&&typeof C!="symbol"&&!isNaN(C)&&1<=C?h.setAttribute(w,C):h.removeAttribute(w);break;case"rowSpan":case"start":C==null||typeof C=="function"||typeof C=="symbol"||isNaN(C)?h.removeAttribute(w):h.setAttribute(w,C);break;case"popover":js("beforetoggle",h),js("toggle",h),cs(h,"popover",C);break;case"xlinkActuate":La(h,"http://www.w3.org/1999/xlink","xlink:actuate",C);break;case"xlinkArcrole":La(h,"http://www.w3.org/1999/xlink","xlink:arcrole",C);break;case"xlinkRole":La(h,"http://www.w3.org/1999/xlink","xlink:role",C);break;case"xlinkShow":La(h,"http://www.w3.org/1999/xlink","xlink:show",C);break;case"xlinkTitle":La(h,"http://www.w3.org/1999/xlink","xlink:title",C);break;case"xlinkType":La(h,"http://www.w3.org/1999/xlink","xlink:type",C);break;case"xmlBase":La(h,"http://www.w3.org/XML/1998/namespace","xml:base",C);break;case"xmlLang":La(h,"http://www.w3.org/XML/1998/namespace","xml:lang",C);break;case"xmlSpace":La(h,"http://www.w3.org/XML/1998/namespace","xml:space",C);break;case"is":cs(h,"is",C);break;case"innerText":case"textContent":break;default:(!(2<w.length)||w[0]!=="o"&&w[0]!=="O"||w[1]!=="n"&&w[1]!=="N")&&(w=et.get(w)||w,cs(h,w,C))}}function G4(h,x,w,C,L,H){switch(w){case"style":Rd(h,C,H);break;case"dangerouslySetInnerHTML":if(C!=null){if(typeof C!="object"||!("__html"in C))throw Error(r(61));if(w=C.__html,w!=null){if(L.children!=null)throw Error(r(60));h.innerHTML=w}}break;case"children":typeof C=="string"?nn(h,C):(typeof C=="number"||typeof C=="bigint")&&nn(h,""+C);break;case"onScroll":C!=null&&js("scroll",h);break;case"onScrollEnd":C!=null&&js("scrollend",h);break;case"onClick":C!=null&&(h.onclick=my);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!it.hasOwnProperty(w))e:{if(w[0]==="o"&&w[1]==="n"&&(L=w.endsWith("Capture"),x=w.slice(2,L?w.length-7:void 0),H=h[Fe]||null,H=H!=null?H[w]:null,typeof H=="function"&&h.removeEventListener(x,H,L),typeof C=="function")){typeof H!="function"&&H!==null&&(w in h?h[w]=null:h.hasAttribute(w)&&h.removeAttribute(w)),h.addEventListener(x,C,L);break e}w in h?h[w]=C:C===!0?h.setAttribute(w,""):cs(h,w,C)}}}function Vi(h,x,w){switch(x){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":js("error",h),js("load",h);var C=!1,L=!1,H;for(H in w)if(w.hasOwnProperty(H)){var de=w[H];if(de!=null)switch(H){case"src":C=!0;break;case"srcSet":L=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,x));default:nr(h,x,H,de,w,null)}}L&&nr(h,x,"srcSet",w.srcSet,w,null),C&&nr(h,x,"src",w.src,w,null);return;case"input":js("invalid",h);var be=H=de=L=null,$e=null,ct=null;for(C in w)if(w.hasOwnProperty(C)){var Et=w[C];if(Et!=null)switch(C){case"name":L=Et;break;case"type":de=Et;break;case"checked":$e=Et;break;case"defaultChecked":ct=Et;break;case"value":H=Et;break;case"defaultValue":be=Et;break;case"children":case"dangerouslySetInnerHTML":if(Et!=null)throw Error(r(137,x));break;default:nr(h,x,C,Et,w,null)}}Ld(h,H,be,$e,ct,de,L,!1),rn(h);return;case"select":js("invalid",h),C=de=H=null;for(L in w)if(w.hasOwnProperty(L)&&(be=w[L],be!=null))switch(L){case"value":H=be;break;case"defaultValue":de=be;break;case"multiple":C=be;default:nr(h,x,L,be,w,null)}x=H,w=de,h.multiple=!!C,x!=null?Yl(h,!!C,x,!1):w!=null&&Yl(h,!!C,w,!0);return;case"textarea":js("invalid",h),H=L=C=null;for(de in w)if(w.hasOwnProperty(de)&&(be=w[de],be!=null))switch(de){case"value":C=be;break;case"defaultValue":L=be;break;case"children":H=be;break;case"dangerouslySetInnerHTML":if(be!=null)throw Error(r(91));break;default:nr(h,x,de,be,w,null)}Od(h,C,L,H),rn(h);return;case"option":for($e in w)if(w.hasOwnProperty($e)&&(C=w[$e],C!=null))switch($e){case"selected":h.selected=C&&typeof C!="function"&&typeof C!="symbol";break;default:nr(h,x,$e,C,w,null)}return;case"dialog":js("beforetoggle",h),js("toggle",h),js("cancel",h),js("close",h);break;case"iframe":case"object":js("load",h);break;case"video":case"audio":for(C=0;C<_g.length;C++)js(_g[C],h);break;case"image":js("error",h),js("load",h);break;case"details":js("toggle",h);break;case"embed":case"source":case"link":js("error",h),js("load",h);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ct in w)if(w.hasOwnProperty(ct)&&(C=w[ct],C!=null))switch(ct){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,x));default:nr(h,x,ct,C,w,null)}return;default:if(Ee(x)){for(Et in w)w.hasOwnProperty(Et)&&(C=w[Et],C!==void 0&&G4(h,x,Et,C,w,void 0));return}}for(be in w)w.hasOwnProperty(be)&&(C=w[be],C!=null&&nr(h,x,be,C,w,null))}function PZ(h,x,w,C){switch(x){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var L=null,H=null,de=null,be=null,$e=null,ct=null,Et=null;for(xt in w){var Bt=w[xt];if(w.hasOwnProperty(xt)&&Bt!=null)switch(xt){case"checked":break;case"value":break;case"defaultValue":$e=Bt;default:C.hasOwnProperty(xt)||nr(h,x,xt,null,C,Bt)}}for(var ft in C){var xt=C[ft];if(Bt=w[ft],C.hasOwnProperty(ft)&&(xt!=null||Bt!=null))switch(ft){case"type":H=xt;break;case"name":L=xt;break;case"checked":ct=xt;break;case"defaultChecked":Et=xt;break;case"value":de=xt;break;case"defaultValue":be=xt;break;case"children":case"dangerouslySetInnerHTML":if(xt!=null)throw Error(r(137,x));break;default:xt!==Bt&&nr(h,x,ft,xt,C,Bt)}}Jo(h,de,be,$e,ct,Et,H,L);return;case"select":xt=de=be=ft=null;for(H in w)if($e=w[H],w.hasOwnProperty(H)&&$e!=null)switch(H){case"value":break;case"multiple":xt=$e;default:C.hasOwnProperty(H)||nr(h,x,H,null,C,$e)}for(L in C)if(H=C[L],$e=w[L],C.hasOwnProperty(L)&&(H!=null||$e!=null))switch(L){case"value":ft=H;break;case"defaultValue":be=H;break;case"multiple":de=H;default:H!==$e&&nr(h,x,L,H,C,$e)}x=be,w=de,C=xt,ft!=null?Yl(h,!!w,ft,!1):!!C!=!!w&&(x!=null?Yl(h,!!w,x,!0):Yl(h,!!w,w?[]:"",!1));return;case"textarea":xt=ft=null;for(be in w)if(L=w[be],w.hasOwnProperty(be)&&L!=null&&!C.hasOwnProperty(be))switch(be){case"value":break;case"children":break;default:nr(h,x,be,null,C,L)}for(de in C)if(L=C[de],H=w[de],C.hasOwnProperty(de)&&(L!=null||H!=null))switch(de){case"value":ft=L;break;case"defaultValue":xt=L;break;case"children":break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(91));break;default:L!==H&&nr(h,x,de,L,C,H)}vi(h,ft,xt);return;case"option":for(var $a in w)if(ft=w[$a],w.hasOwnProperty($a)&&ft!=null&&!C.hasOwnProperty($a))switch($a){case"selected":h.selected=!1;break;default:nr(h,x,$a,null,C,ft)}for($e in C)if(ft=C[$e],xt=w[$e],C.hasOwnProperty($e)&&ft!==xt&&(ft!=null||xt!=null))switch($e){case"selected":h.selected=ft&&typeof ft!="function"&&typeof ft!="symbol";break;default:nr(h,x,$e,ft,C,xt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Da in w)ft=w[Da],w.hasOwnProperty(Da)&&ft!=null&&!C.hasOwnProperty(Da)&&nr(h,x,Da,null,C,ft);for(ct in C)if(ft=C[ct],xt=w[ct],C.hasOwnProperty(ct)&&ft!==xt&&(ft!=null||xt!=null))switch(ct){case"children":case"dangerouslySetInnerHTML":if(ft!=null)throw Error(r(137,x));break;default:nr(h,x,ct,ft,C,xt)}return;default:if(Ee(x)){for(var ir in w)ft=w[ir],w.hasOwnProperty(ir)&&ft!==void 0&&!C.hasOwnProperty(ir)&&G4(h,x,ir,void 0,C,ft);for(Et in C)ft=C[Et],xt=w[Et],!C.hasOwnProperty(Et)||ft===xt||ft===void 0&&xt===void 0||G4(h,x,Et,ft,C,xt);return}}for(var Xe in w)ft=w[Xe],w.hasOwnProperty(Xe)&&ft!=null&&!C.hasOwnProperty(Xe)&&nr(h,x,Xe,null,C,ft);for(Bt in C)ft=C[Bt],xt=w[Bt],!C.hasOwnProperty(Bt)||ft===xt||ft==null&&xt==null||nr(h,x,Bt,ft,C,xt)}var K4=null,Y4=null;function py(h){return h.nodeType===9?h:h.ownerDocument}function d7(h){switch(h){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function u7(h,x){if(h===0)switch(x){case"svg":return 1;case"math":return 2;default:return 0}return h===1&&x==="foreignObject"?0:h}function X4(h,x){return h==="textarea"||h==="noscript"||typeof x.children=="string"||typeof x.children=="number"||typeof x.children=="bigint"||typeof x.dangerouslySetInnerHTML=="object"&&x.dangerouslySetInnerHTML!==null&&x.dangerouslySetInnerHTML.__html!=null}var J4=null;function MZ(){var h=window.event;return h&&h.type==="popstate"?h===J4?!1:(J4=h,!0):(J4=null,!1)}var h7=typeof setTimeout=="function"?setTimeout:void 0,LZ=typeof clearTimeout=="function"?clearTimeout:void 0,f7=typeof Promise=="function"?Promise:void 0,OZ=typeof queueMicrotask=="function"?queueMicrotask:typeof f7<"u"?function(h){return f7.resolve(null).then(h).catch(RZ)}:h7;function RZ(h){setTimeout(function(){throw h})}function cf(h){return h==="head"}function m7(h,x){var w=x,C=0,L=0;do{var H=w.nextSibling;if(h.removeChild(w),H&&H.nodeType===8)if(w=H.data,w==="/$"){if(0<C&&8>C){w=C;var de=h.ownerDocument;if(w&1&&Tg(de.documentElement),w&2&&Tg(de.body),w&4)for(w=de.head,Tg(w),de=w.firstChild;de;){var be=de.nextSibling,$e=de.nodeName;de[ke]||$e==="SCRIPT"||$e==="STYLE"||$e==="LINK"&&de.rel.toLowerCase()==="stylesheet"||w.removeChild(de),de=be}}if(L===0){h.removeChild(H),Ig(x);return}L--}else w==="$"||w==="$?"||w==="$!"?L++:C=w.charCodeAt(0)-48;else C=0;w=H}while(w);Ig(x)}function Q4(h){var x=h.firstChild;for(x&&x.nodeType===10&&(x=x.nextSibling);x;){var w=x;switch(x=x.nextSibling,w.nodeName){case"HTML":case"HEAD":case"BODY":Q4(w),_e(w);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(w.rel.toLowerCase()==="stylesheet")continue}h.removeChild(w)}}function FZ(h,x,w,C){for(;h.nodeType===1;){var L=w;if(h.nodeName.toLowerCase()!==x.toLowerCase()){if(!C&&(h.nodeName!=="INPUT"||h.type!=="hidden"))break}else if(C){if(!h[ke])switch(x){case"meta":if(!h.hasAttribute("itemprop"))break;return h;case"link":if(H=h.getAttribute("rel"),H==="stylesheet"&&h.hasAttribute("data-precedence"))break;if(H!==L.rel||h.getAttribute("href")!==(L.href==null||L.href===""?null:L.href)||h.getAttribute("crossorigin")!==(L.crossOrigin==null?null:L.crossOrigin)||h.getAttribute("title")!==(L.title==null?null:L.title))break;return h;case"style":if(h.hasAttribute("data-precedence"))break;return h;case"script":if(H=h.getAttribute("src"),(H!==(L.src==null?null:L.src)||h.getAttribute("type")!==(L.type==null?null:L.type)||h.getAttribute("crossorigin")!==(L.crossOrigin==null?null:L.crossOrigin))&&H&&h.hasAttribute("async")&&!h.hasAttribute("itemprop"))break;return h;default:return h}}else if(x==="input"&&h.type==="hidden"){var H=L.name==null?null:""+L.name;if(L.type==="hidden"&&h.getAttribute("name")===H)return h}else return h;if(h=ud(h.nextSibling),h===null)break}return null}function IZ(h,x,w){if(x==="")return null;for(;h.nodeType!==3;)if((h.nodeType!==1||h.nodeName!=="INPUT"||h.type!=="hidden")&&!w||(h=ud(h.nextSibling),h===null))return null;return h}function Z4(h){return h.data==="$!"||h.data==="$?"&&h.ownerDocument.readyState==="complete"}function BZ(h,x){var w=h.ownerDocument;if(h.data!=="$?"||w.readyState==="complete")x();else{var C=function(){x(),w.removeEventListener("DOMContentLoaded",C)};w.addEventListener("DOMContentLoaded",C),h._reactRetry=C}}function ud(h){for(;h!=null;h=h.nextSibling){var x=h.nodeType;if(x===1||x===3)break;if(x===8){if(x=h.data,x==="$"||x==="$!"||x==="$?"||x==="F!"||x==="F")break;if(x==="/$")return null}}return h}var e5=null;function p7(h){h=h.previousSibling;for(var x=0;h;){if(h.nodeType===8){var w=h.data;if(w==="$"||w==="$!"||w==="$?"){if(x===0)return h;x--}else w==="/$"&&x++}h=h.previousSibling}return null}function x7(h,x,w){switch(x=py(w),h){case"html":if(h=x.documentElement,!h)throw Error(r(452));return h;case"head":if(h=x.head,!h)throw Error(r(453));return h;case"body":if(h=x.body,!h)throw Error(r(454));return h;default:throw Error(r(451))}}function Tg(h){for(var x=h.attributes;x.length;)h.removeAttributeNode(x[0]);_e(h)}var fc=new Map,g7=new Set;function xy(h){return typeof h.getRootNode=="function"?h.getRootNode():h.nodeType===9?h:h.ownerDocument}var Hu=J.d;J.d={f:$Z,r:UZ,D:zZ,C:HZ,L:VZ,m:WZ,X:GZ,S:qZ,M:KZ};function $Z(){var h=Hu.f(),x=ly();return h||x}function UZ(h){var x=Me(h);x!==null&&x.tag===5&&x.type==="form"?j0(x):Hu.r(h)}var Ap=typeof document>"u"?null:document;function v7(h,x,w){var C=Ap;if(C&&typeof x=="string"&&x){var L=bs(x);L='link[rel="'+h+'"][href="'+L+'"]',typeof w=="string"&&(L+='[crossorigin="'+w+'"]'),g7.has(L)||(g7.add(L),h={rel:h,crossOrigin:w,href:x},C.querySelector(L)===null&&(x=C.createElement("link"),Vi(x,"link",h),qe(x),C.head.appendChild(x)))}}function zZ(h){Hu.D(h),v7("dns-prefetch",h,null)}function HZ(h,x){Hu.C(h,x),v7("preconnect",h,x)}function VZ(h,x,w){Hu.L(h,x,w);var C=Ap;if(C&&h&&x){var L='link[rel="preload"][as="'+bs(x)+'"]';x==="image"&&w&&w.imageSrcSet?(L+='[imagesrcset="'+bs(w.imageSrcSet)+'"]',typeof w.imageSizes=="string"&&(L+='[imagesizes="'+bs(w.imageSizes)+'"]')):L+='[href="'+bs(h)+'"]';var H=L;switch(x){case"style":H=_p(h);break;case"script":H=Ep(h)}fc.has(H)||(h=u({rel:"preload",href:x==="image"&&w&&w.imageSrcSet?void 0:h,as:x},w),fc.set(H,h),C.querySelector(L)!==null||x==="style"&&C.querySelector(Dg(H))||x==="script"&&C.querySelector(Pg(H))||(x=C.createElement("link"),Vi(x,"link",h),qe(x),C.head.appendChild(x)))}}function WZ(h,x){Hu.m(h,x);var w=Ap;if(w&&h){var C=x&&typeof x.as=="string"?x.as:"script",L='link[rel="modulepreload"][as="'+bs(C)+'"][href="'+bs(h)+'"]',H=L;switch(C){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":H=Ep(h)}if(!fc.has(H)&&(h=u({rel:"modulepreload",href:h},x),fc.set(H,h),w.querySelector(L)===null)){switch(C){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(w.querySelector(Pg(H)))return}C=w.createElement("link"),Vi(C,"link",h),qe(C),w.head.appendChild(C)}}}function qZ(h,x,w){Hu.S(h,x,w);var C=Ap;if(C&&h){var L=vt(C).hoistableStyles,H=_p(h);x=x||"default";var de=L.get(H);if(!de){var be={loading:0,preload:null};if(de=C.querySelector(Dg(H)))be.loading=5;else{h=u({rel:"stylesheet",href:h,"data-precedence":x},w),(w=fc.get(H))&&t5(h,w);var $e=de=C.createElement("link");qe($e),Vi($e,"link",h),$e._p=new Promise(function(ct,Et){$e.onload=ct,$e.onerror=Et}),$e.addEventListener("load",function(){be.loading|=1}),$e.addEventListener("error",function(){be.loading|=2}),be.loading|=4,gy(de,x,C)}de={type:"stylesheet",instance:de,count:1,state:be},L.set(H,de)}}}function GZ(h,x){Hu.X(h,x);var w=Ap;if(w&&h){var C=vt(w).hoistableScripts,L=Ep(h),H=C.get(L);H||(H=w.querySelector(Pg(L)),H||(h=u({src:h,async:!0},x),(x=fc.get(L))&&a5(h,x),H=w.createElement("script"),qe(H),Vi(H,"link",h),w.head.appendChild(H)),H={type:"script",instance:H,count:1,state:null},C.set(L,H))}}function KZ(h,x){Hu.M(h,x);var w=Ap;if(w&&h){var C=vt(w).hoistableScripts,L=Ep(h),H=C.get(L);H||(H=w.querySelector(Pg(L)),H||(h=u({src:h,async:!0,type:"module"},x),(x=fc.get(L))&&a5(h,x),H=w.createElement("script"),qe(H),Vi(H,"link",h),w.head.appendChild(H)),H={type:"script",instance:H,count:1,state:null},C.set(L,H))}}function b7(h,x,w,C){var L=(L=re.current)?xy(L):null;if(!L)throw Error(r(446));switch(h){case"meta":case"title":return null;case"style":return typeof w.precedence=="string"&&typeof w.href=="string"?(x=_p(w.href),w=vt(L).hoistableStyles,C=w.get(x),C||(C={type:"style",instance:null,count:0,state:null},w.set(x,C)),C):{type:"void",instance:null,count:0,state:null};case"link":if(w.rel==="stylesheet"&&typeof w.href=="string"&&typeof w.precedence=="string"){h=_p(w.href);var H=vt(L).hoistableStyles,de=H.get(h);if(de||(L=L.ownerDocument||L,de={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},H.set(h,de),(H=L.querySelector(Dg(h)))&&!H._p&&(de.instance=H,de.state.loading=5),fc.has(h)||(w={rel:"preload",as:"style",href:w.href,crossOrigin:w.crossOrigin,integrity:w.integrity,media:w.media,hrefLang:w.hrefLang,referrerPolicy:w.referrerPolicy},fc.set(h,w),H||YZ(L,h,w,de.state))),x&&C===null)throw Error(r(528,""));return de}if(x&&C!==null)throw Error(r(529,""));return null;case"script":return x=w.async,w=w.src,typeof w=="string"&&x&&typeof x!="function"&&typeof x!="symbol"?(x=Ep(w),w=vt(L).hoistableScripts,C=w.get(x),C||(C={type:"script",instance:null,count:0,state:null},w.set(x,C)),C):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,h))}}function _p(h){return'href="'+bs(h)+'"'}function Dg(h){return'link[rel="stylesheet"]['+h+"]"}function y7(h){return u({},h,{"data-precedence":h.precedence,precedence:null})}function YZ(h,x,w,C){h.querySelector('link[rel="preload"][as="style"]['+x+"]")?C.loading=1:(x=h.createElement("link"),C.preload=x,x.addEventListener("load",function(){return C.loading|=1}),x.addEventListener("error",function(){return C.loading|=2}),Vi(x,"link",w),qe(x),h.head.appendChild(x))}function Ep(h){return'[src="'+bs(h)+'"]'}function Pg(h){return"script[async]"+h}function w7(h,x,w){if(x.count++,x.instance===null)switch(x.type){case"style":var C=h.querySelector('style[data-href~="'+bs(w.href)+'"]');if(C)return x.instance=C,qe(C),C;var L=u({},w,{"data-href":w.href,"data-precedence":w.precedence,href:null,precedence:null});return C=(h.ownerDocument||h).createElement("style"),qe(C),Vi(C,"style",L),gy(C,w.precedence,h),x.instance=C;case"stylesheet":L=_p(w.href);var H=h.querySelector(Dg(L));if(H)return x.state.loading|=4,x.instance=H,qe(H),H;C=y7(w),(L=fc.get(L))&&t5(C,L),H=(h.ownerDocument||h).createElement("link"),qe(H);var de=H;return de._p=new Promise(function(be,$e){de.onload=be,de.onerror=$e}),Vi(H,"link",C),x.state.loading|=4,gy(H,w.precedence,h),x.instance=H;case"script":return H=Ep(w.src),(L=h.querySelector(Pg(H)))?(x.instance=L,qe(L),L):(C=w,(L=fc.get(H))&&(C=u({},w),a5(C,L)),h=h.ownerDocument||h,L=h.createElement("script"),qe(L),Vi(L,"link",C),h.head.appendChild(L),x.instance=L);case"void":return null;default:throw Error(r(443,x.type))}else x.type==="stylesheet"&&(x.state.loading&4)===0&&(C=x.instance,x.state.loading|=4,gy(C,w.precedence,h));return x.instance}function gy(h,x,w){for(var C=w.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),L=C.length?C[C.length-1]:null,H=L,de=0;de<C.length;de++){var be=C[de];if(be.dataset.precedence===x)H=be;else if(H!==L)break}H?H.parentNode.insertBefore(h,H.nextSibling):(x=w.nodeType===9?w.head:w,x.insertBefore(h,x.firstChild))}function t5(h,x){h.crossOrigin==null&&(h.crossOrigin=x.crossOrigin),h.referrerPolicy==null&&(h.referrerPolicy=x.referrerPolicy),h.title==null&&(h.title=x.title)}function a5(h,x){h.crossOrigin==null&&(h.crossOrigin=x.crossOrigin),h.referrerPolicy==null&&(h.referrerPolicy=x.referrerPolicy),h.integrity==null&&(h.integrity=x.integrity)}var vy=null;function j7(h,x,w){if(vy===null){var C=new Map,L=vy=new Map;L.set(w,C)}else L=vy,C=L.get(w),C||(C=new Map,L.set(w,C));if(C.has(h))return C;for(C.set(h,null),w=w.getElementsByTagName(h),L=0;L<w.length;L++){var H=w[L];if(!(H[ke]||H[ps]||h==="link"&&H.getAttribute("rel")==="stylesheet")&&H.namespaceURI!=="http://www.w3.org/2000/svg"){var de=H.getAttribute(x)||"";de=h+de;var be=C.get(de);be?be.push(H):C.set(de,[H])}}return C}function N7(h,x,w){h=h.ownerDocument||h,h.head.insertBefore(w,x==="title"?h.querySelector("head > title"):null)}function XZ(h,x,w){if(w===1||x.itemProp!=null)return!1;switch(h){case"meta":case"title":return!0;case"style":if(typeof x.precedence!="string"||typeof x.href!="string"||x.href==="")break;return!0;case"link":if(typeof x.rel!="string"||typeof x.href!="string"||x.href===""||x.onLoad||x.onError)break;switch(x.rel){case"stylesheet":return h=x.disabled,typeof x.precedence=="string"&&h==null;default:return!0}case"script":if(x.async&&typeof x.async!="function"&&typeof x.async!="symbol"&&!x.onLoad&&!x.onError&&x.src&&typeof x.src=="string")return!0}return!1}function k7(h){return!(h.type==="stylesheet"&&(h.state.loading&3)===0)}var Mg=null;function JZ(){}function QZ(h,x,w){if(Mg===null)throw Error(r(475));var C=Mg;if(x.type==="stylesheet"&&(typeof w.media!="string"||matchMedia(w.media).matches!==!1)&&(x.state.loading&4)===0){if(x.instance===null){var L=_p(w.href),H=h.querySelector(Dg(L));if(H){h=H._p,h!==null&&typeof h=="object"&&typeof h.then=="function"&&(C.count++,C=by.bind(C),h.then(C,C)),x.state.loading|=4,x.instance=H,qe(H);return}H=h.ownerDocument||h,w=y7(w),(L=fc.get(L))&&t5(w,L),H=H.createElement("link"),qe(H);var de=H;de._p=new Promise(function(be,$e){de.onload=be,de.onerror=$e}),Vi(H,"link",w),x.instance=H}C.stylesheets===null&&(C.stylesheets=new Map),C.stylesheets.set(x,h),(h=x.state.preload)&&(x.state.loading&3)===0&&(C.count++,x=by.bind(C),h.addEventListener("load",x),h.addEventListener("error",x))}}function ZZ(){if(Mg===null)throw Error(r(475));var h=Mg;return h.stylesheets&&h.count===0&&s5(h,h.stylesheets),0<h.count?function(x){var w=setTimeout(function(){if(h.stylesheets&&s5(h,h.stylesheets),h.unsuspend){var C=h.unsuspend;h.unsuspend=null,C()}},6e4);return h.unsuspend=x,function(){h.unsuspend=null,clearTimeout(w)}}:null}function by(){if(this.count--,this.count===0){if(this.stylesheets)s5(this,this.stylesheets);else if(this.unsuspend){var h=this.unsuspend;this.unsuspend=null,h()}}}var yy=null;function s5(h,x){h.stylesheets=null,h.unsuspend!==null&&(h.count++,yy=new Map,x.forEach(eee,h),yy=null,by.call(h))}function eee(h,x){if(!(x.state.loading&4)){var w=yy.get(h);if(w)var C=w.get(null);else{w=new Map,yy.set(h,w);for(var L=h.querySelectorAll("link[data-precedence],style[data-precedence]"),H=0;H<L.length;H++){var de=L[H];(de.nodeName==="LINK"||de.getAttribute("media")!=="not all")&&(w.set(de.dataset.precedence,de),C=de)}C&&w.set(null,C)}L=x.instance,de=L.getAttribute("data-precedence"),H=w.get(de)||C,H===C&&w.set(null,L),w.set(de,L),this.count++,C=by.bind(this),L.addEventListener("load",C),L.addEventListener("error",C),H?H.parentNode.insertBefore(L,H.nextSibling):(h=h.nodeType===9?h.head:h,h.insertBefore(L,h.firstChild)),x.state.loading|=4}}var Lg={$$typeof:S,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function tee(h,x,w,C,L,H,de,be){this.tag=1,this.containerInfo=h,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pt(0),this.hiddenUpdates=pt(null),this.identifierPrefix=C,this.onUncaughtError=L,this.onCaughtError=H,this.onRecoverableError=de,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=be,this.incompleteTransitions=new Map}function S7(h,x,w,C,L,H,de,be,$e,ct,Et,Bt){return h=new tee(h,x,w,de,be,$e,ct,Bt),x=1,H===!0&&(x|=24),H=wi(3,null,null,x),h.current=H,H.stateNode=h,x=sg(),x.refCount++,h.pooledCache=x,x.refCount++,H.memoizedState={element:C,isDehydrated:w,cache:x},nt(H),h}function C7(h){return h?(h=zn,h):zn}function A7(h,x,w,C,L,H){L=C7(L),C.context===null?C.context=L:C.pendingContext=L,C=jt(x),C.payload={element:w},H=H===void 0?null:H,H!==null&&(C.callback=H),w=Vt(h,C,x),w!==null&&(Mo(w,h,x),It(w,h,x))}function _7(h,x){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var w=h.retryLane;h.retryLane=w!==0&&w<x?w:x}}function r5(h,x){_7(h,x),(h=h.alternate)&&_7(h,x)}function E7(h){if(h.tag===13){var x=_u(h,67108864);x!==null&&Mo(x,h,67108864),r5(h,67108864)}}var wy=!0;function aee(h,x,w,C){var L=V.T;V.T=null;var H=J.p;try{J.p=2,n5(h,x,w,C)}finally{J.p=H,V.T=L}}function see(h,x,w,C){var L=V.T;V.T=null;var H=J.p;try{J.p=8,n5(h,x,w,C)}finally{J.p=H,V.T=L}}function n5(h,x,w,C){if(wy){var L=i5(C);if(L===null)q4(h,x,C,jy,w),D7(h,C);else if(nee(L,h,x,w,C))C.stopPropagation();else if(D7(h,C),x&4&&-1<ree.indexOf(h)){for(;L!==null;){var H=Me(L);if(H!==null)switch(H.tag){case 3:if(H=H.stateNode,H.current.memoizedState.isDehydrated){var de=Ae(H.pendingLanes);if(de!==0){var be=H;for(be.pendingLanes|=2,be.entangledLanes|=2;de;){var $e=1<<31-Ze(de);be.entanglements[1]|=$e,de&=~$e}eu(H),(Ys&6)===0&&(ny=Re()+500,Ag(0))}}break;case 13:be=_u(H,2),be!==null&&Mo(be,H,2),ly(),r5(H,2)}if(H=i5(C),H===null&&q4(h,x,C,jy,w),H===L)break;L=H}L!==null&&C.stopPropagation()}else q4(h,x,C,null,w)}}function i5(h){return h=Fs(h),l5(h)}var jy=null;function l5(h){if(jy=null,h=Te(h),h!==null){var x=i(h);if(x===null)h=null;else{var w=x.tag;if(w===13){if(h=l(x),h!==null)return h;h=null}else if(w===3){if(x.stateNode.current.memoizedState.isDehydrated)return x.tag===3?x.stateNode.containerInfo:null;h=null}else x!==h&&(h=null)}}return jy=h,null}function T7(h){switch(h){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ue()){case Z:return 2;case Se:return 8;case Ne:case Ye:return 32;case gt:return 268435456;default:return 32}default:return 32}}var o5=!1,df=null,uf=null,hf=null,Og=new Map,Rg=new Map,ff=[],ree="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function D7(h,x){switch(h){case"focusin":case"focusout":df=null;break;case"dragenter":case"dragleave":uf=null;break;case"mouseover":case"mouseout":hf=null;break;case"pointerover":case"pointerout":Og.delete(x.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rg.delete(x.pointerId)}}function Fg(h,x,w,C,L,H){return h===null||h.nativeEvent!==H?(h={blockedOn:x,domEventName:w,eventSystemFlags:C,nativeEvent:H,targetContainers:[L]},x!==null&&(x=Me(x),x!==null&&E7(x)),h):(h.eventSystemFlags|=C,x=h.targetContainers,L!==null&&x.indexOf(L)===-1&&x.push(L),h)}function nee(h,x,w,C,L){switch(x){case"focusin":return df=Fg(df,h,x,w,C,L),!0;case"dragenter":return uf=Fg(uf,h,x,w,C,L),!0;case"mouseover":return hf=Fg(hf,h,x,w,C,L),!0;case"pointerover":var H=L.pointerId;return Og.set(H,Fg(Og.get(H)||null,h,x,w,C,L)),!0;case"gotpointercapture":return H=L.pointerId,Rg.set(H,Fg(Rg.get(H)||null,h,x,w,C,L)),!0}return!1}function P7(h){var x=Te(h.target);if(x!==null){var w=i(x);if(w!==null){if(x=w.tag,x===13){if(x=l(w),x!==null){h.blockedOn=x,oa(h.priority,function(){if(w.tag===13){var C=Po();C=ra(C);var L=_u(w,C);L!==null&&Mo(L,w,C),r5(w,C)}});return}}else if(x===3&&w.stateNode.current.memoizedState.isDehydrated){h.blockedOn=w.tag===3?w.stateNode.containerInfo:null;return}}}h.blockedOn=null}function Ny(h){if(h.blockedOn!==null)return!1;for(var x=h.targetContainers;0<x.length;){var w=i5(h.nativeEvent);if(w===null){w=h.nativeEvent;var C=new w.constructor(w.type,w);Fa=C,w.target.dispatchEvent(C),Fa=null}else return x=Me(w),x!==null&&E7(x),h.blockedOn=w,!1;x.shift()}return!0}function M7(h,x,w){Ny(h)&&w.delete(x)}function iee(){o5=!1,df!==null&&Ny(df)&&(df=null),uf!==null&&Ny(uf)&&(uf=null),hf!==null&&Ny(hf)&&(hf=null),Og.forEach(M7),Rg.forEach(M7)}function ky(h,x){h.blockedOn===x&&(h.blockedOn=null,o5||(o5=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,iee)))}var Sy=null;function L7(h){Sy!==h&&(Sy=h,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Sy===h&&(Sy=null);for(var x=0;x<h.length;x+=3){var w=h[x],C=h[x+1],L=h[x+2];if(typeof C!="function"){if(l5(C||w)===null)continue;break}var H=Me(w);H!==null&&(h.splice(x,3),x-=3,dc(H,{pending:!0,data:L,method:w.method,action:C},C,L))}}))}function Ig(h){function x($e){return ky($e,h)}df!==null&&ky(df,h),uf!==null&&ky(uf,h),hf!==null&&ky(hf,h),Og.forEach(x),Rg.forEach(x);for(var w=0;w<ff.length;w++){var C=ff[w];C.blockedOn===h&&(C.blockedOn=null)}for(;0<ff.length&&(w=ff[0],w.blockedOn===null);)P7(w),w.blockedOn===null&&ff.shift();if(w=(h.ownerDocument||h).$$reactFormReplay,w!=null)for(C=0;C<w.length;C+=3){var L=w[C],H=w[C+1],de=L[Fe]||null;if(typeof H=="function")de||L7(w);else if(de){var be=null;if(H&&H.hasAttribute("formAction")){if(L=H,de=H[Fe]||null)be=de.formAction;else if(l5(L)!==null)continue}else be=de.action;typeof be=="function"?w[C+1]=be:(w.splice(C,3),C-=3),L7(w)}}}function c5(h){this._internalRoot=h}Cy.prototype.render=c5.prototype.render=function(h){var x=this._internalRoot;if(x===null)throw Error(r(409));var w=x.current,C=Po();A7(w,C,h,x,null,null)},Cy.prototype.unmount=c5.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var x=h.containerInfo;A7(h.current,2,null,h,null,null),ly(),x[Ha]=null}};function Cy(h){this._internalRoot=h}Cy.prototype.unstable_scheduleHydration=function(h){if(h){var x=ua();h={blockedOn:null,target:h,priority:x};for(var w=0;w<ff.length&&x!==0&&x<ff[w].priority;w++);ff.splice(w,0,h),w===0&&P7(h)}};var O7=t.version;if(O7!=="19.1.1")throw Error(r(527,O7,"19.1.1"));J.findDOMNode=function(h){var x=h._reactInternals;if(x===void 0)throw typeof h.render=="function"?Error(r(188)):(h=Object.keys(h).join(","),Error(r(268,h)));return h=c(x),h=h!==null?d(h):null,h=h===null?null:h.stateNode,h};var lee={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ay=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ay.isDisabled&&Ay.supportsFiber)try{$t=Ay.inject(lee),ze=Ay}catch{}}return $g.createRoot=function(h,x){if(!n(h))throw Error(r(299));var w=!1,C="",L=JE,H=QE,de=ZE,be=null;return x!=null&&(x.unstable_strictMode===!0&&(w=!0),x.identifierPrefix!==void 0&&(C=x.identifierPrefix),x.onUncaughtError!==void 0&&(L=x.onUncaughtError),x.onCaughtError!==void 0&&(H=x.onCaughtError),x.onRecoverableError!==void 0&&(de=x.onRecoverableError),x.unstable_transitionCallbacks!==void 0&&(be=x.unstable_transitionCallbacks)),x=S7(h,1,!1,null,null,w,C,L,H,de,be,null),h[Ha]=x.current,W4(h),new c5(x)},$g.hydrateRoot=function(h,x,w){if(!n(h))throw Error(r(299));var C=!1,L="",H=JE,de=QE,be=ZE,$e=null,ct=null;return w!=null&&(w.unstable_strictMode===!0&&(C=!0),w.identifierPrefix!==void 0&&(L=w.identifierPrefix),w.onUncaughtError!==void 0&&(H=w.onUncaughtError),w.onCaughtError!==void 0&&(de=w.onCaughtError),w.onRecoverableError!==void 0&&(be=w.onRecoverableError),w.unstable_transitionCallbacks!==void 0&&($e=w.unstable_transitionCallbacks),w.formState!==void 0&&(ct=w.formState)),x=S7(h,1,!0,x,w??null,C,L,H,de,be,$e,ct),x.context=C7(null),w=x.current,C=Po(),C=ra(C),L=jt(C),L.callback=null,Vt(w,L,C),w=C,x.current.lanes=w,lt(x,w),eu(x),h[Ha]=x.current,W4(h),new Cy(x)},$g.version="19.1.1",$g}var W7;function vee(){if(W7)return h5.exports;W7=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),h5.exports=gee(),h5.exports}var bee=vee(),Mj=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},yee={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},wee=class{#e=yee;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},MS=new wee;function jee(e){setTimeout(e,0)}var Lj=typeof window>"u"||"Deno"in globalThis;function pd(){}function Nee(e,t){return typeof e=="function"?e(t):e}function kee(e){return typeof e=="number"&&e>=0&&e!==1/0}function See(e,t){return Math.max(e+(t||0)-Date.now(),0)}function LS(e,t){return typeof e=="function"?e(t):e}function Cee(e,t){return typeof e=="function"?e(t):e}function q7(e,t){const{type:a="all",exact:r,fetchStatus:n,predicate:i,queryKey:l,stale:o}=e;if(l){if(r){if(t.queryHash!==tA(l,t.options))return!1}else if(!Jv(t.queryKey,l))return!1}if(a!=="all"){const c=t.isActive();if(a==="active"&&!c||a==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||n&&n!==t.state.fetchStatus||i&&!i(t))}function G7(e,t){const{exact:a,status:r,predicate:n,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(a){if(Xv(t.options.mutationKey)!==Xv(i))return!1}else if(!Jv(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||n&&!n(t))}function tA(e,t){return(t?.queryKeyHashFn||Xv)(e)}function Xv(e){return JSON.stringify(e,(t,a)=>OS(a)?Object.keys(a).sort().reduce((r,n)=>(r[n]=a[n],r),{}):a)}function Jv(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(a=>Jv(e[a],t[a])):!1}var Aee=Object.prototype.hasOwnProperty;function D$(e,t){if(e===t)return e;const a=K7(e)&&K7(t);if(!a&&!(OS(e)&&OS(t)))return t;const n=(a?e:Object.keys(e)).length,i=a?t:Object.keys(t),l=i.length,o=a?new Array(l):{};let c=0;for(let d=0;d<l;d++){const u=a?d:i[d],f=e[u],p=t[u];if(f===p){o[u]=f,(a?d<n:Aee.call(e,u))&&c++;continue}if(f===null||p===null||typeof f!="object"||typeof p!="object"){o[u]=p;continue}const m=D$(f,p);o[u]=m,m===f&&c++}return n===l&&c===n?e:o}function K7(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function OS(e){if(!Y7(e))return!1;const t=e.constructor;if(t===void 0)return!0;const a=t.prototype;return!(!Y7(a)||!a.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Y7(e){return Object.prototype.toString.call(e)==="[object Object]"}function _ee(e){return new Promise(t=>{MS.setTimeout(t,e)})}function Eee(e,t,a){return typeof a.structuralSharing=="function"?a.structuralSharing(e,t):a.structuralSharing!==!1?D$(e,t):t}function Tee(e,t,a=0){const r=[...e,t];return a&&r.length>a?r.slice(1):r}function Dee(e,t,a=0){const r=[t,...e];return a&&r.length>a?r.slice(0,-1):r}var aA=Symbol();function P$(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===aA?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Pee=class extends Mj{#e;#t;#a;constructor(){super(),this.#a=e=>{if(!Lj&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#a)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#a=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},M$=new Pee;function Mee(){let e,t;const a=new Promise((n,i)=>{e=n,t=i});a.status="pending",a.catch(()=>{});function r(n){Object.assign(a,n),delete a.resolve,delete a.reject}return a.resolve=n=>{r({status:"fulfilled",value:n}),e(n)},a.reject=n=>{r({status:"rejected",reason:n}),t(n)},a}var Lee=jee;function Oee(){let e=[],t=0,a=o=>{o()},r=o=>{o()},n=Lee;const i=o=>{t?e.push(o):n(()=>{a(o)})},l=()=>{const o=e;e=[],o.length&&n(()=>{r(()=>{o.forEach(c=>{a(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||l()}return c},batchCalls:o=>(...c)=>{i(()=>{o(...c)})},schedule:i,setNotifyFunction:o=>{a=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{n=o}}}var Il=Oee(),Ree=class extends Mj{#e=!0;#t;#a;constructor(){super(),this.#a=e=>{if(!Lj&&window.addEventListener){const t=()=>e(!0),a=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",a)}}}}onSubscribe(){this.#t||this.setEventListener(this.#a)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#a=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(a=>{a(e)}))}isOnline(){return this.#e}},Z2=new Ree;function Fee(e){return Math.min(1e3*2**e,3e4)}function L$(e){return(e??"online")==="online"?Z2.isOnline():!0}var RS=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function O$(e){let t=!1,a=0,r;const n=Mee(),i=()=>n.status!=="pending",l=g=>{if(!i()){const b=new RS(g);p(b),e.onCancel?.(b)}},o=()=>{t=!0},c=()=>{t=!1},d=()=>M$.isFocused()&&(e.networkMode==="always"||Z2.isOnline())&&e.canRun(),u=()=>L$(e.networkMode)&&e.canRun(),f=g=>{i()||(r?.(),n.resolve(g))},p=g=>{i()||(r?.(),n.reject(g))},m=()=>new Promise(g=>{r=b=>{(i()||d())&&g(b)},e.onPause?.()}).then(()=>{r=void 0,i()||e.onContinue?.()}),v=()=>{if(i())return;let g;const b=a===0?e.initialPromise:void 0;try{g=b??e.fn()}catch(j){g=Promise.reject(j)}Promise.resolve(g).then(f).catch(j=>{if(i())return;const k=e.retry??(Lj?0:3),S=e.retryDelay??Fee,N=typeof S=="function"?S(a,j):S,A=k===!0||typeof k=="number"&&a<k||typeof k=="function"&&k(a,j);if(t||!A){p(j);return}a++,e.onFail?.(a,j),_ee(N).then(()=>d()?void 0:m()).then(()=>{t?p(j):v()})})};return{promise:n,status:()=>n.status,cancel:l,continue:()=>(r?.(),n),cancelRetry:o,continueRetry:c,canStart:u,start:()=>(u()?v():m().then(v),n)}}var R$=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),kee(this.gcTime)&&(this.#e=MS.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Lj?1/0:300*1e3))}clearGcTimeout(){this.#e&&(MS.clearTimeout(this.#e),this.#e=void 0)}},Iee=class extends R${#e;#t;#a;#r;#s;#i;#l;constructor(e){super(),this.#l=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.client,this.#a=this.#r.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=X7(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){if(this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=X7(this.options);t.data!==void 0&&(this.setData(t.data,{updatedAt:t.dataUpdatedAt,manual:!0}),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#a.remove(this)}setData(e,t){const a=Eee(this.state.data,e,this.options);return this.#n({data:a,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),a}setState(e,t){this.#n({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#s?.promise;return this.#s?.cancel(e),t?t.then(pd).catch(pd):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Cee(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===aA||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>LS(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!See(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#a.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#s&&(this.#l?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#a.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#n({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const o=this.observers.find(c=>c.options.queryFn);o&&this.setOptions(o.options)}const a=new AbortController,r=o=>{Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(this.#l=!0,a.signal)})},n=()=>{const o=P$(this.options,t),d=(()=>{const u={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(u),u})();return this.#l=!1,this.options.persister?this.options.persister(o,d,this):o(d)},l=(()=>{const o={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:n};return r(o),o})();this.options.behavior?.onFetch(l,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#n({type:"fetch",meta:l.fetchOptions?.meta}),this.#s=O$({initialPromise:t?.initialPromise,fn:l.fetchFn,onCancel:o=>{o instanceof RS&&o.revert&&this.setState({...this.#t,fetchStatus:"idle"}),a.abort()},onFail:(o,c)=>{this.#n({type:"failed",failureCount:o,error:c})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0});try{const o=await this.#s.start();if(o===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(o),this.#a.config.onSuccess?.(o,this),this.#a.config.onSettled?.(o,this.state.error,this),o}catch(o){if(o instanceof RS){if(o.silent)return this.#s.promise;if(o.revert){if(this.state.data===void 0)throw o;return this.state.data}}throw this.#n({type:"error",error:o}),this.#a.config.onError?.(o,this),this.#a.config.onSettled?.(this.state.data,o,this),o}finally{this.scheduleGc()}}#n(e){const t=a=>{switch(e.type){case"failed":return{...a,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...Bee(a.data,this.options),fetchMeta:e.meta??null};case"success":const r={...a,data:e.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?r:void 0,r;case"error":const n=e.error;return{...a,error:n,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...e.state}}};this.state=t(this.state),Il.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),this.#a.notify({query:this,type:"updated",action:e})})}};function Bee(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:L$(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function X7(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,a=t!==void 0,r=a?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:a?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:a?"success":"pending",fetchStatus:"idle"}}function J7(e){return{onFetch:(t,a)=>{const r=t.options,n=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],l=t.state.data?.pageParams||[];let o={pages:[],pageParams:[]},c=0;const d=async()=>{let u=!1;const f=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(t.signal.aborted?u=!0:t.signal.addEventListener("abort",()=>{u=!0}),t.signal)})},p=P$(t.options,t.fetchOptions),m=async(v,g,b)=>{if(u)return Promise.reject();if(g==null&&v.pages.length)return Promise.resolve(v);const k=(()=>{const _={client:t.client,queryKey:t.queryKey,pageParam:g,direction:b?"backward":"forward",meta:t.options.meta};return f(_),_})(),S=await p(k),{maxPages:N}=t.options,A=b?Dee:Tee;return{pages:A(v.pages,S,N),pageParams:A(v.pageParams,g,N)}};if(n&&i.length){const v=n==="backward",g=v?$ee:Q7,b={pages:i,pageParams:l},j=g(r,b);o=await m(b,j,v)}else{const v=e??i.length;do{const g=c===0?l[0]??r.initialPageParam:Q7(r,o);if(c>0&&g==null)break;o=await m(o,g),c++}while(c<v)}return o};t.options.persister?t.fetchFn=()=>t.options.persister?.(d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},a):t.fetchFn=d}}}function Q7(e,{pages:t,pageParams:a}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,a[r],a):void 0}function $ee(e,{pages:t,pageParams:a}){return t.length>0?e.getPreviousPageParam?.(t[0],t,a[0],a):void 0}var Uee=class extends R${#e;#t;#a;#r;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#a=e.mutationCache,this.#t=[],this.state=e.state||zee(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#a.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#a.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#a.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#s({type:"continue"})},a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#r=O$({fn:()=>this.options.mutationFn?this.options.mutationFn(e,a):Promise.reject(new Error("No mutationFn found")),onFail:(i,l)=>{this.#s({type:"failed",failureCount:i,error:l})},onPause:()=>{this.#s({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#a.canRun(this)});const r=this.state.status==="pending",n=!this.#r.canStart();try{if(r)t();else{this.#s({type:"pending",variables:e,isPaused:n}),await this.#a.config.onMutate?.(e,this,a);const l=await this.options.onMutate?.(e,a);l!==this.state.context&&this.#s({type:"pending",context:l,variables:e,isPaused:n})}const i=await this.#r.start();return await this.#a.config.onSuccess?.(i,e,this.state.context,this,a),await this.options.onSuccess?.(i,e,this.state.context,a),await this.#a.config.onSettled?.(i,null,this.state.variables,this.state.context,this,a),await this.options.onSettled?.(i,null,e,this.state.context,a),this.#s({type:"success",data:i}),i}catch(i){try{throw await this.#a.config.onError?.(i,e,this.state.context,this,a),await this.options.onError?.(i,e,this.state.context,a),await this.#a.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,a),await this.options.onSettled?.(void 0,i,e,this.state.context,a),i}finally{this.#s({type:"error",error:i})}}finally{this.#a.runNext(this)}}#s(e){const t=a=>{switch(e.type){case"failed":return{...a,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...a,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:e.error,failureCount:a.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Il.batch(()=>{this.#t.forEach(a=>{a.onMutationUpdate(e)}),this.#a.notify({mutation:this,type:"updated",action:e})})}};function zee(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Hee=class extends Mj{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#a=0}#e;#t;#a;build(e,t,a){const r=new Uee({client:e,mutationCache:this,mutationId:++this.#a,options:e.defaultMutationOptions(t),state:a});return this.add(r),r}add(e){this.#e.add(e);const t=_y(e);if(typeof t=="string"){const a=this.#t.get(t);a?a.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=_y(e);if(typeof t=="string"){const a=this.#t.get(t);if(a)if(a.length>1){const r=a.indexOf(e);r!==-1&&a.splice(r,1)}else a[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=_y(e);if(typeof t=="string"){const r=this.#t.get(t)?.find(n=>n.state.status==="pending");return!r||r===e}else return!0}runNext(e){const t=_y(e);return typeof t=="string"?this.#t.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Il.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(a=>G7(t,a))}findAll(e={}){return this.getAll().filter(t=>G7(e,t))}notify(e){Il.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Il.batch(()=>Promise.all(e.map(t=>t.continue().catch(pd))))}};function _y(e){return e.options.scope?.id}var Vee=class extends Mj{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,a){const r=t.queryKey,n=t.queryHash??tA(r,t);let i=this.get(n);return i||(i=new Iee({client:e,queryKey:r,queryHash:n,options:e.defaultQueryOptions(t),state:a,defaultOptions:e.getQueryDefaults(r)}),this.add(i)),i}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Il.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(a=>q7(t,a))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(a=>q7(e,a)):t}notify(e){Il.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Il.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Il.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Wee=class{#e;#t;#a;#r;#s;#i;#l;#n;constructor(e={}){this.#e=e.queryCache||new Vee,this.#t=e.mutationCache||new Hee,this.#a=e.defaultOptions||{},this.#r=new Map,this.#s=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#l=M$.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#n=Z2.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#l?.(),this.#l=void 0,this.#n?.(),this.#n=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),a=this.#e.build(this,t),r=a.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&a.isStaleByTime(LS(t.staleTime,a))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:a})=>{const r=a.data;return[t,r]})}setQueryData(e,t,a){const r=this.defaultQueryOptions({queryKey:e}),i=this.#e.get(r.queryHash)?.state.data,l=Nee(t,i);if(l!==void 0)return this.#e.build(this,r).setData(l,{...a,manual:!0})}setQueriesData(e,t,a){return Il.batch(()=>this.#e.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,a)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;Il.batch(()=>{t.findAll(e).forEach(a=>{t.remove(a)})})}resetQueries(e,t){const a=this.#e;return Il.batch(()=>(a.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const a={revert:!0,...t},r=Il.batch(()=>this.#e.findAll(e).map(n=>n.cancel(a)));return Promise.all(r).then(pd).catch(pd)}invalidateQueries(e,t={}){return Il.batch(()=>(this.#e.findAll(e).forEach(a=>{a.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const a={...t,cancelRefetch:t.cancelRefetch??!0},r=Il.batch(()=>this.#e.findAll(e).filter(n=>!n.isDisabled()&&!n.isStatic()).map(n=>{let i=n.fetch(void 0,a);return a.throwOnError||(i=i.catch(pd)),n.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(pd)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const a=this.#e.build(this,t);return a.isStaleByTime(LS(t.staleTime,a))?a.fetch(t):Promise.resolve(a.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(pd).catch(pd)}fetchInfiniteQuery(e){return e.behavior=J7(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(pd).catch(pd)}ensureInfiniteQueryData(e){return e.behavior=J7(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Z2.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#a}setDefaultOptions(e){this.#a=e}setQueryDefaults(e,t){this.#r.set(Xv(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#r.values()],a={};return t.forEach(r=>{Jv(e,r.queryKey)&&Object.assign(a,r.defaultOptions)}),a}setMutationDefaults(e,t){this.#s.set(Xv(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#s.values()],a={};return t.forEach(r=>{Jv(e,r.mutationKey)&&Object.assign(a,r.defaultOptions)}),a}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#a.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=tA(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===aA&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#a.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},qee=y.createContext(void 0),Gee=({client:e,children:t})=>(y.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(qee.Provider,{value:e,children:t}));/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Z7="popstate";function Kee(e={}){function t(n,i){let{pathname:l="/",search:o="",hash:c=""}=Om(n.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),FS("",{pathname:l,search:o,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function a(n,i){let l=n.document.querySelector("base"),o="";if(l&&l.getAttribute("href")){let c=n.location.href,d=c.indexOf("#");o=d===-1?c:c.slice(0,d)}return o+"#"+(typeof i=="string"?i:Qv(i))}function r(n,i){Mc(n.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return Xee(t,a,r,e)}function Hr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Mc(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Yee(){return Math.random().toString(36).substring(2,10)}function eD(e,t){return{usr:e.state,key:e.key,idx:t}}function FS(e,t,a=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Om(t):t,state:a,key:t&&t.key||r||Yee()}}function Qv({pathname:e="/",search:t="",hash:a=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),a&&a!=="#"&&(e+=a.charAt(0)==="#"?a:"#"+a),e}function Om(e){let t={};if(e){let a=e.indexOf("#");a>=0&&(t.hash=e.substring(a),e=e.substring(0,a));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Xee(e,t,a,r={}){let{window:n=document.defaultView,v5Compat:i=!1}=r,l=n.history,o="POP",c=null,d=u();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function u(){return(l.state||{idx:null}).idx}function f(){o="POP";let b=u(),j=b==null?null:b-d;d=b,c&&c({action:o,location:g.location,delta:j})}function p(b,j){o="PUSH";let k=FS(g.location,b,j);a&&a(k,b),d=u()+1;let S=eD(k,d),N=g.createHref(k);try{l.pushState(S,"",N)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;n.location.assign(N)}i&&c&&c({action:o,location:g.location,delta:1})}function m(b,j){o="REPLACE";let k=FS(g.location,b,j);a&&a(k,b),d=u();let S=eD(k,d),N=g.createHref(k);l.replaceState(S,"",N),i&&c&&c({action:o,location:g.location,delta:0})}function v(b){return Jee(b)}let g={get action(){return o},get location(){return e(n,l)},listen(b){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(Z7,f),c=b,()=>{n.removeEventListener(Z7,f),c=null}},createHref(b){return t(n,b)},createURL:v,encodeLocation(b){let j=v(b);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:p,replace:m,go(b){return l.go(b)}};return g}function Jee(e,t=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),Hr(a,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Qv(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=a+r),new URL(r,a)}function F$(e,t,a="/"){return Qee(e,t,a,!1)}function Qee(e,t,a,r){let n=typeof t=="string"?Om(t):t,i=mh(n.pathname||"/",a);if(i==null)return null;let l=I$(e);Zee(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let d=dte(i);o=ote(l[c],d,r)}return o}function I$(e,t=[],a=[],r="",n=!1){let i=(l,o,c=n,d)=>{let u={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(r)&&c)return;Hr(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length)}let f=ih([r,u.relativePath]),p=a.concat(u);l.children&&l.children.length>0&&(Hr(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),I$(l.children,t,p,f,c)),!(l.path==null&&!l.index)&&t.push({path:f,score:ite(f,l.index),routesMeta:p})};return e.forEach((l,o)=>{if(l.path===""||!l.path?.includes("?"))i(l,o);else for(let c of B$(l.path))i(l,o,!0,c)}),t}function B$(e){let t=e.split("/");if(t.length===0)return[];let[a,...r]=t,n=a.endsWith("?"),i=a.replace(/\?$/,"");if(r.length===0)return n?[i,""]:[i];let l=B$(r.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),n&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function Zee(e){e.sort((t,a)=>t.score!==a.score?a.score-t.score:lte(t.routesMeta.map(r=>r.childrenIndex),a.routesMeta.map(r=>r.childrenIndex)))}var ete=/^:[\w-]+$/,tte=3,ate=2,ste=1,rte=10,nte=-2,tD=e=>e==="*";function ite(e,t){let a=e.split("/"),r=a.length;return a.some(tD)&&(r+=nte),t&&(r+=ate),a.filter(n=>!tD(n)).reduce((n,i)=>n+(ete.test(i)?tte:i===""?ste:rte),r)}function lte(e,t){return e.length===t.length&&e.slice(0,-1).every((r,n)=>r===t[n])?e[e.length-1]-t[t.length-1]:0}function ote(e,t,a=!1){let{routesMeta:r}=e,n={},i="/",l=[];for(let o=0;o<r.length;++o){let c=r[o],d=o===r.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=ew({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),p=c.route;if(!f&&d&&a&&!r[r.length-1].route.index&&(f=ew({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!f)return null;Object.assign(n,f.params),l.push({params:n,pathname:ih([i,f.pathname]),pathnameBase:mte(ih([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=ih([i,f.pathnameBase]))}return l}function ew(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[a,r]=cte(e.path,e.caseSensitive,e.end),n=t.match(a);if(!n)return null;let i=n[0],l=i.replace(/(.)\/+$/,"$1"),o=n.slice(1);return{params:r.reduce((d,{paramName:u,isOptional:f},p)=>{if(u==="*"){let v=o[p]||"";l=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const m=o[p];return f&&!m?d[u]=void 0:d[u]=(m||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:l,pattern:e}}function cte(e,t=!1,a=!0){Mc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),r]}function dte(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Mc(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function mh(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,r=e.charAt(a);return r&&r!=="/"?null:e.slice(a)||"/"}function ute(e,t="/"){let{pathname:a,search:r="",hash:n=""}=typeof e=="string"?Om(e):e;return{pathname:a?a.startsWith("/")?a:hte(a,t):t,search:pte(r),hash:xte(n)}}function hte(e,t){let a=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?a.length>1&&a.pop():n!=="."&&a.push(n)}),a.length>1?a.join("/"):"/"}function x5(e,t,a,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fte(e){return e.filter((t,a)=>a===0||t.route.path&&t.route.path.length>0)}function sA(e){let t=fte(e);return t.map((a,r)=>r===t.length-1?a.pathname:a.pathnameBase)}function rA(e,t,a,r=!1){let n;typeof e=="string"?n=Om(e):(n={...e},Hr(!n.pathname||!n.pathname.includes("?"),x5("?","pathname","search",n)),Hr(!n.pathname||!n.pathname.includes("#"),x5("#","pathname","hash",n)),Hr(!n.search||!n.search.includes("#"),x5("#","search","hash",n)));let i=e===""||n.pathname==="",l=i?"/":n.pathname,o;if(l==null)o=a;else{let f=t.length-1;if(!r&&l.startsWith("..")){let p=l.split("/");for(;p[0]==="..";)p.shift(),f-=1;n.pathname=p.join("/")}o=f>=0?t[f]:"/"}let c=ute(n,o),d=l&&l!=="/"&&l.endsWith("/"),u=(i||l===".")&&a.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}var ih=e=>e.join("/").replace(/\/\/+/g,"/"),mte=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),pte=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,xte=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function gte(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var $$=["POST","PUT","PATCH","DELETE"];new Set($$);var vte=["GET",...$$];new Set(vte);var Ex=y.createContext(null);Ex.displayName="DataRouter";var Oj=y.createContext(null);Oj.displayName="DataRouterState";y.createContext(!1);var U$=y.createContext({isTransitioning:!1});U$.displayName="ViewTransition";var bte=y.createContext(new Map);bte.displayName="Fetchers";var yte=y.createContext(null);yte.displayName="Await";var _d=y.createContext(null);_d.displayName="Navigation";var V1=y.createContext(null);V1.displayName="Location";var $c=y.createContext({outlet:null,matches:[],isDataRoute:!1});$c.displayName="Route";var nA=y.createContext(null);nA.displayName="RouteError";function wte(e,{relative:t}={}){Hr(Tx(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:r}=y.useContext(_d),{hash:n,pathname:i,search:l}=W1(e,{relative:t}),o=i;return a!=="/"&&(o=i==="/"?a:ih([a,i])),r.createHref({pathname:o,search:l,hash:n})}function Tx(){return y.useContext(V1)!=null}function Uc(){return Hr(Tx(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(V1).location}var z$="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function H$(e){y.useContext(_d).static||y.useLayoutEffect(e)}function In(){let{isDataRoute:e}=y.useContext($c);return e?Fte():jte()}function jte(){Hr(Tx(),"useNavigate() may be used only in the context of a <Router> component.");let e=y.useContext(Ex),{basename:t,navigator:a}=y.useContext(_d),{matches:r}=y.useContext($c),{pathname:n}=Uc(),i=JSON.stringify(sA(r)),l=y.useRef(!1);return H$(()=>{l.current=!0}),y.useCallback((c,d={})=>{if(Mc(l.current,z$),!l.current)return;if(typeof c=="number"){a.go(c);return}let u=rA(c,JSON.parse(i),n,d.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:ih([t,u.pathname])),(d.replace?a.replace:a.push)(u,d.state,d)},[t,a,i,n,e])}var Nte=y.createContext(null);function kte(e){let t=y.useContext($c).outlet;return y.useMemo(()=>t&&y.createElement(Nte.Provider,{value:e},t),[t,e])}function Ste(){let{matches:e}=y.useContext($c),t=e[e.length-1];return t?t.params:{}}function W1(e,{relative:t}={}){let{matches:a}=y.useContext($c),{pathname:r}=Uc(),n=JSON.stringify(sA(a));return y.useMemo(()=>rA(e,JSON.parse(n),r,t==="path"),[e,n,r,t])}function Cte(e,t){return V$(e,t)}function V$(e,t,a,r,n){Hr(Tx(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=y.useContext(_d),{matches:l}=y.useContext($c),o=l[l.length-1],c=o?o.params:{},d=o?o.pathname:"/",u=o?o.pathnameBase:"/",f=o&&o.route;{let k=f&&f.path||"";W$(d,!f||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let p=Uc(),m;if(t){let k=typeof t=="string"?Om(t):t;Hr(u==="/"||k.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${k.pathname}" was given in the \`location\` prop.`),m=k}else m=p;let v=m.pathname||"/",g=v;if(u!=="/"){let k=u.replace(/^\//,"").split("/");g="/"+v.replace(/^\//,"").split("/").slice(k.length).join("/")}let b=F$(e,{pathname:g});Mc(f||b!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Mc(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=Dte(b&&b.map(k=>Object.assign({},k,{params:Object.assign({},c,k.params),pathname:ih([u,i.encodeLocation?i.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?u:ih([u,i.encodeLocation?i.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),l,a,r,n);return t&&j?y.createElement(V1.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},j):j}function Ate(){let e=Rte(),t=gte(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",n={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=y.createElement(y.Fragment,null,y.createElement("p",null," Hey developer "),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:i},"ErrorBoundary")," or"," ",y.createElement("code",{style:i},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),a?y.createElement("pre",{style:n},a):null,l)}var _te=y.createElement(Ate,null),Ete=class extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?y.createElement($c.Provider,{value:this.props.routeContext},y.createElement(nA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Tte({routeContext:e,match:t,children:a}){let r=y.useContext(Ex);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),y.createElement($c.Provider,{value:e},a)}function Dte(e,t=[],a=null,r=null,n=null){if(e==null){if(!a)return null;if(a.errors)e=a.matches;else if(t.length===0&&!a.initialized&&a.matches.length>0)e=a.matches;else return null}let i=e,l=a?.errors;if(l!=null){let d=i.findIndex(u=>u.route.id&&l?.[u.route.id]!==void 0);Hr(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let o=!1,c=-1;if(a)for(let d=0;d<i.length;d++){let u=i[d];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(c=d),u.route.id){let{loaderData:f,errors:p}=a,m=u.route.loader&&!f.hasOwnProperty(u.route.id)&&(!p||p[u.route.id]===void 0);if(u.route.lazy||m){o=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,u,f)=>{let p,m=!1,v=null,g=null;a&&(p=l&&u.route.id?l[u.route.id]:void 0,v=u.route.errorElement||_te,o&&(c<0&&f===0?(W$("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,g=null):c===f&&(m=!0,g=u.route.hydrateFallbackElement||null)));let b=t.concat(i.slice(0,f+1)),j=()=>{let k;return p?k=v:m?k=g:u.route.Component?k=y.createElement(u.route.Component,null):u.route.element?k=u.route.element:k=d,y.createElement(Tte,{match:u,routeContext:{outlet:d,matches:b,isDataRoute:a!=null},children:k})};return a&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?y.createElement(Ete,{location:a.location,revalidation:a.revalidation,component:v,error:p,children:j(),routeContext:{outlet:null,matches:b,isDataRoute:!0},unstable_onError:r}):j()},null)}function iA(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Pte(e){let t=y.useContext(Ex);return Hr(t,iA(e)),t}function Mte(e){let t=y.useContext(Oj);return Hr(t,iA(e)),t}function Lte(e){let t=y.useContext($c);return Hr(t,iA(e)),t}function lA(e){let t=Lte(e),a=t.matches[t.matches.length-1];return Hr(a.route.id,`${e} can only be used on routes that contain a unique "id"`),a.route.id}function Ote(){return lA("useRouteId")}function Rte(){let e=y.useContext(nA),t=Mte("useRouteError"),a=lA("useRouteError");return e!==void 0?e:t.errors?.[a]}function Fte(){let{router:e}=Pte("useNavigate"),t=lA("useNavigate"),a=y.useRef(!1);return H$(()=>{a.current=!0}),y.useCallback(async(n,i={})=>{Mc(a.current,z$),a.current&&(typeof n=="number"?e.navigate(n):await e.navigate(n,{fromRouteId:t,...i}))},[e,t])}var aD={};function W$(e,t,a){!t&&!aD[e]&&(aD[e]=!0,Mc(!1,a))}y.memo(Ite);function Ite({routes:e,future:t,state:a,unstable_onError:r}){return V$(e,void 0,a,r,t)}function g5({to:e,replace:t,state:a,relative:r}){Hr(Tx(),"<Navigate> may be used only in the context of a <Router> component.");let{static:n}=y.useContext(_d);Mc(!n,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=y.useContext($c),{pathname:l}=Uc(),o=In(),c=rA(e,sA(i),l,r==="path"),d=JSON.stringify(c);return y.useEffect(()=>{o(JSON.parse(d),{replace:t,state:a,relative:r})},[o,d,r,t,a]),null}function Rj(e){return kte(e.context)}function Ct(e){Hr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Bte({basename:e="/",children:t=null,location:a,navigationType:r="POP",navigator:n,static:i=!1}){Hr(!Tx(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),o=y.useMemo(()=>({basename:l,navigator:n,static:i,future:{}}),[l,n,i]);typeof a=="string"&&(a=Om(a));let{pathname:c="/",search:d="",hash:u="",state:f=null,key:p="default"}=a,m=y.useMemo(()=>{let v=mh(c,l);return v==null?null:{location:{pathname:v,search:d,hash:u,state:f,key:p},navigationType:r}},[l,c,d,u,f,p,r]);return Mc(m!=null,`<Router basename="${l}"> is not able to match the URL "${c}${d}${u}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:y.createElement(_d.Provider,{value:o},y.createElement(V1.Provider,{children:t,value:m}))}function $te({children:e,location:t}){return Cte(IS(e),t)}function IS(e,t=[]){let a=[];return y.Children.forEach(e,(r,n)=>{if(!y.isValidElement(r))return;let i=[...t,n];if(r.type===y.Fragment){a.push.apply(a,IS(r.props.children,i));return}Hr(r.type===Ct,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Hr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=IS(r.props.children,i)),a.push(l)}),a}var I2="get",B2="application/x-www-form-urlencoded";function Fj(e){return e!=null&&typeof e.tagName=="string"}function Ute(e){return Fj(e)&&e.tagName.toLowerCase()==="button"}function zte(e){return Fj(e)&&e.tagName.toLowerCase()==="form"}function Hte(e){return Fj(e)&&e.tagName.toLowerCase()==="input"}function Vte(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Wte(e,t){return e.button===0&&(!t||t==="_self")&&!Vte(e)}var Ey=null;function qte(){if(Ey===null)try{new FormData(document.createElement("form"),0),Ey=!1}catch{Ey=!0}return Ey}var Gte=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function v5(e){return e!=null&&!Gte.has(e)?(Mc(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${B2}"`),null):e}function Kte(e,t){let a,r,n,i,l;if(zte(e)){let o=e.getAttribute("action");r=o?mh(o,t):null,a=e.getAttribute("method")||I2,n=v5(e.getAttribute("enctype"))||B2,i=new FormData(e)}else if(Ute(e)||Hte(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||o.getAttribute("action");if(r=c?mh(c,t):null,a=e.getAttribute("formmethod")||o.getAttribute("method")||I2,n=v5(e.getAttribute("formenctype"))||v5(o.getAttribute("enctype"))||B2,i=new FormData(o,e),!qte()){let{name:d,type:u,value:f}=e;if(u==="image"){let p=d?`${d}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else d&&i.append(d,f)}}else{if(Fj(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=I2,r=null,n=B2,l=e}return i&&n==="text/plain"&&(l=i,i=void 0),{action:r,method:a.toLowerCase(),encType:n,formData:i,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function oA(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Yte(e,t,a){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${a}`:t&&mh(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${a}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${a}`,r}async function Xte(e,t){if(e.id in t)return t[e.id];try{let a=await import(e.module);return t[e.id]=a,a}catch(a){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Jte(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Qte(e,t,a){let r=await Promise.all(e.map(async n=>{let i=t.routes[n.route.id];if(i){let l=await Xte(i,a);return l.links?l.links():[]}return[]}));return aae(r.flat(1).filter(Jte).filter(n=>n.rel==="stylesheet"||n.rel==="preload").map(n=>n.rel==="stylesheet"?{...n,rel:"prefetch",as:"style"}:{...n,rel:"prefetch"}))}function sD(e,t,a,r,n,i){let l=(c,d)=>a[d]?c.route.id!==a[d].route.id:!0,o=(c,d)=>a[d].pathname!==c.pathname||a[d].route.path?.endsWith("*")&&a[d].params["*"]!==c.params["*"];return i==="assets"?t.filter((c,d)=>l(c,d)||o(c,d)):i==="data"?t.filter((c,d)=>{let u=r.routes[c.route.id];if(!u||!u.hasLoader)return!1;if(l(c,d)||o(c,d))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(n.pathname+n.search+n.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function Zte(e,t,{includeHydrateFallback:a}={}){return eae(e.map(r=>{let n=t.routes[r.route.id];if(!n)return[];let i=[n.module];return n.clientActionModule&&(i=i.concat(n.clientActionModule)),n.clientLoaderModule&&(i=i.concat(n.clientLoaderModule)),a&&n.hydrateFallbackModule&&(i=i.concat(n.hydrateFallbackModule)),n.imports&&(i=i.concat(n.imports)),i}).flat(1))}function eae(e){return[...new Set(e)]}function tae(e){let t={},a=Object.keys(e).sort();for(let r of a)t[r]=e[r];return t}function aae(e,t){let a=new Set;return new Set(t),e.reduce((r,n)=>{let i=JSON.stringify(tae(n));return a.has(i)||(a.add(i),r.push({key:i,link:n})),r},[])}function q$(){let e=y.useContext(Ex);return oA(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function sae(){let e=y.useContext(Oj);return oA(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var cA=y.createContext(void 0);cA.displayName="FrameworkContext";function G$(){let e=y.useContext(cA);return oA(e,"You must render this element inside a <HydratedRouter> element"),e}function rae(e,t){let a=y.useContext(cA),[r,n]=y.useState(!1),[i,l]=y.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:f}=t,p=y.useRef(null);y.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let g=j=>{j.forEach(k=>{l(k.isIntersecting)})},b=new IntersectionObserver(g,{threshold:.5});return p.current&&b.observe(p.current),()=>{b.disconnect()}}},[e]),y.useEffect(()=>{if(r){let g=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(g)}}},[r]);let m=()=>{n(!0)},v=()=>{n(!1),l(!1)};return a?e!=="intent"?[i,p,{}]:[i,p,{onFocus:Ug(o,m),onBlur:Ug(c,v),onMouseEnter:Ug(d,m),onMouseLeave:Ug(u,v),onTouchStart:Ug(f,m)}]:[!1,p,{}]}function Ug(e,t){return a=>{e&&e(a),a.defaultPrevented||t(a)}}function nae({page:e,...t}){let{router:a}=q$(),r=y.useMemo(()=>F$(a.routes,e,a.basename),[a.routes,e,a.basename]);return r?y.createElement(lae,{page:e,matches:r,...t}):null}function iae(e){let{manifest:t,routeModules:a}=G$(),[r,n]=y.useState([]);return y.useEffect(()=>{let i=!1;return Qte(e,t,a).then(l=>{i||n(l)}),()=>{i=!0}},[e,t,a]),r}function lae({page:e,matches:t,...a}){let r=Uc(),{manifest:n,routeModules:i}=G$(),{basename:l}=q$(),{loaderData:o,matches:c}=sae(),d=y.useMemo(()=>sD(e,t,c,n,r,"data"),[e,t,c,n,r]),u=y.useMemo(()=>sD(e,t,c,n,r,"assets"),[e,t,c,n,r]),f=y.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let v=new Set,g=!1;if(t.forEach(j=>{let k=n.routes[j.route.id];!k||!k.hasLoader||(!d.some(S=>S.route.id===j.route.id)&&j.route.id in o&&i[j.route.id]?.shouldRevalidate||k.hasClientLoader?g=!0:v.add(j.route.id))}),v.size===0)return[];let b=Yte(e,l,"data");return g&&v.size>0&&b.searchParams.set("_routes",t.filter(j=>v.has(j.route.id)).map(j=>j.route.id).join(",")),[b.pathname+b.search]},[l,o,r,n,d,t,e,i]),p=y.useMemo(()=>Zte(u,n),[u,n]),m=iae(u);return y.createElement(y.Fragment,null,f.map(v=>y.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...a})),p.map(v=>y.createElement("link",{key:v,rel:"modulepreload",href:v,...a})),m.map(({key:v,link:g})=>y.createElement("link",{key:v,nonce:a.nonce,...g})))}function oae(...e){return t=>{e.forEach(a=>{typeof a=="function"?a(t):a!=null&&(a.current=t)})}}var K$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{K$&&(window.__reactRouterVersion="7.9.3")}catch{}function cae({basename:e,children:t,window:a}){let r=y.useRef();r.current==null&&(r.current=Kee({window:a,v5Compat:!0}));let n=r.current,[i,l]=y.useState({action:n.action,location:n.location}),o=y.useCallback(c=>{y.startTransition(()=>l(c))},[l]);return y.useLayoutEffect(()=>n.listen(o),[n,o]),y.createElement(Bte,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:n})}var Y$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cs=y.forwardRef(function({onClick:t,discover:a="render",prefetch:r="none",relative:n,reloadDocument:i,replace:l,state:o,target:c,to:d,preventScrollReset:u,viewTransition:f,...p},m){let{basename:v}=y.useContext(_d),g=typeof d=="string"&&Y$.test(d),b,j=!1;if(typeof d=="string"&&g&&(b=d,K$))try{let R=new URL(window.location.href),I=d.startsWith("//")?new URL(R.protocol+d):new URL(d),M=mh(I.pathname,v);I.origin===R.origin&&M!=null?d=M+I.search+I.hash:j=!0}catch{Mc(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=wte(d,{relative:n}),[S,N,A]=rae(r,p),_=hae(d,{replace:l,state:o,target:c,preventScrollReset:u,relative:n,viewTransition:f});function E(R){t&&t(R),R.defaultPrevented||_(R)}let D=y.createElement("a",{...p,...A,href:b||k,onClick:j||i?t:E,ref:oae(m,N),target:c,"data-discover":!g&&a==="render"?"true":void 0});return S&&!g?y.createElement(y.Fragment,null,D,y.createElement(nae,{page:k})):D});Cs.displayName="Link";var Wt=y.forwardRef(function({"aria-current":t="page",caseSensitive:a=!1,className:r="",end:n=!1,style:i,to:l,viewTransition:o,children:c,...d},u){let f=W1(l,{relative:d.relative}),p=Uc(),m=y.useContext(Oj),{navigator:v,basename:g}=y.useContext(_d),b=m!=null&&gae(f)&&o===!0,j=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,k=p.pathname,S=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;a||(k=k.toLowerCase(),S=S?S.toLowerCase():null,j=j.toLowerCase()),S&&g&&(S=mh(S,g)||S);const N=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let A=k===j||!n&&k.startsWith(j)&&k.charAt(N)==="/",_=S!=null&&(S===j||!n&&S.startsWith(j)&&S.charAt(j.length)==="/"),E={isActive:A,isPending:_,isTransitioning:b},D=A?t:void 0,R;typeof r=="function"?R=r(E):R=[r,A?"active":null,_?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let I=typeof i=="function"?i(E):i;return y.createElement(Cs,{...d,"aria-current":D,className:R,ref:u,style:I,to:l,viewTransition:o},typeof c=="function"?c(E):c)});Wt.displayName="NavLink";var dae=y.forwardRef(({discover:e="render",fetcherKey:t,navigate:a,reloadDocument:r,replace:n,state:i,method:l=I2,action:o,onSubmit:c,relative:d,preventScrollReset:u,viewTransition:f,...p},m)=>{let v=pae(),g=xae(o,{relative:d}),b=l.toLowerCase()==="get"?"get":"post",j=typeof o=="string"&&Y$.test(o),k=S=>{if(c&&c(S),S.defaultPrevented)return;S.preventDefault();let N=S.nativeEvent.submitter,A=N?.getAttribute("formmethod")||l;v(N||S.currentTarget,{fetcherKey:t,method:A,navigate:a,replace:n,state:i,relative:d,preventScrollReset:u,viewTransition:f})};return y.createElement("form",{ref:m,method:b,action:g,onSubmit:r?c:k,...p,"data-discover":!j&&e==="render"?"true":void 0})});dae.displayName="Form";function uae(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function X$(e){let t=y.useContext(Ex);return Hr(t,uae(e)),t}function hae(e,{target:t,replace:a,state:r,preventScrollReset:n,relative:i,viewTransition:l}={}){let o=In(),c=Uc(),d=W1(e,{relative:i});return y.useCallback(u=>{if(Wte(u,t)){u.preventDefault();let f=a!==void 0?a:Qv(c)===Qv(d);o(e,{replace:f,state:r,preventScrollReset:n,relative:i,viewTransition:l})}},[c,o,d,a,r,t,e,n,i,l])}var fae=0,mae=()=>`__${String(++fae)}__`;function pae(){let{router:e}=X$("useSubmit"),{basename:t}=y.useContext(_d),a=Ote();return y.useCallback(async(r,n={})=>{let{action:i,method:l,encType:o,formData:c,body:d}=Kte(r,t);if(n.navigate===!1){let u=n.fetcherKey||mae();await e.fetch(u,a,n.action||i,{preventScrollReset:n.preventScrollReset,formData:c,body:d,formMethod:n.method||l,formEncType:n.encType||o,flushSync:n.flushSync})}else await e.navigate(n.action||i,{preventScrollReset:n.preventScrollReset,formData:c,body:d,formMethod:n.method||l,formEncType:n.encType||o,replace:n.replace,state:n.state,fromRouteId:a,flushSync:n.flushSync,viewTransition:n.viewTransition})},[e,t,a])}function xae(e,{relative:t}={}){let{basename:a}=y.useContext(_d),r=y.useContext($c);Hr(r,"useFormAction must be used inside a RouteContext");let[n]=r.matches.slice(-1),i={...W1(e||".",{relative:t})},l=Uc();if(e==null){i.search=l.search;let o=new URLSearchParams(i.search),c=o.getAll("index");if(c.some(u=>u==="")){o.delete("index"),c.filter(f=>f).forEach(f=>o.append("index",f));let u=o.toString();i.search=u?`?${u}`:""}}return(!e||e===".")&&n.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(i.pathname=i.pathname==="/"?a:ih([a,i.pathname])),Qv(i)}function gae(e,{relative:t}={}){let a=y.useContext(U$);Hr(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=X$("useViewTransitionState"),n=W1(e,{relative:t});if(!a.isTransitioning)return!1;let i=mh(a.currentLocation.pathname,r)||a.currentLocation.pathname,l=mh(a.nextLocation.pathname,r)||a.nextLocation.pathname;return ew(n.pathname,l)!=null||ew(n.pathname,i)!=null}var lx=T$();const vae=(e,t,a,r)=>{const n=[a,{code:t,...r||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(n,"warn","react-i18next::",!0);J0(n[0])&&(n[0]=`react-i18next:: ${n[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...n):console?.warn&&console.warn(...n)},rD={},BS=(e,t,a,r)=>{J0(a)&&rD[a]||(J0(a)&&(rD[a]=new Date),vae(e,t,a,r))},J$=(e,t)=>()=>{if(e.isInitialized)t();else{const a=()=>{setTimeout(()=>{e.off("initialized",a)},0),t()};e.on("initialized",a)}},$S=(e,t,a)=>{e.loadNamespaces(t,J$(e,a))},nD=(e,t,a,r)=>{if(J0(a)&&(a=[a]),e.options.preload&&e.options.preload.indexOf(t)>-1)return $S(e,a,r);a.forEach(n=>{e.options.ns.indexOf(n)<0&&e.options.ns.push(n)}),e.loadLanguages(t,J$(e,r))},bae=(e,t,a={})=>!t.languages||!t.languages.length?(BS(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:a.lng,precheck:(r,n)=>{if(a.bindI18n&&a.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!n(r.isLanguageChangingTo,e))return!1}}),J0=e=>typeof e=="string",yae=e=>typeof e=="object"&&e!==null,wae=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,jae={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Nae=e=>jae[e],kae=e=>e.replace(wae,Nae);let US={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:kae};const Sae=(e={})=>{US={...US,...e}},Cae=()=>US;let Q$;const Aae=e=>{Q$=e},_ae=()=>Q$,Eae={type:"3rdParty",init(e){Sae(e.options.react),Aae(e)}},Z$=y.createContext();class Tae{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(a=>{this.usedNamespaces[a]||(this.usedNamespaces[a]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Dae=(e,t)=>{const a=y.useRef();return y.useEffect(()=>{a.current=e},[e,t]),a.current},eU=(e,t,a,r)=>e.getFixedT(t,a,r),Pae=(e,t,a,r)=>y.useCallback(eU(e,t,a,r),[e,t,a,r]),St=(e,t={})=>{const{i18n:a}=t,{i18n:r,defaultNS:n}=y.useContext(Z$)||{},i=a||r||_ae();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new Tae),!i){BS(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const N=(_,E)=>J0(E)?E:yae(E)&&J0(E.defaultValue)?E.defaultValue:Array.isArray(_)?_[_.length-1]:_,A=[N,{},!1];return A.t=N,A.i18n={},A.ready=!1,A}i.options.react?.wait&&BS(i,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const l={...Cae(),...i.options.react,...t},{useSuspense:o,keyPrefix:c}=l;let d=n||i.options?.defaultNS;d=J0(d)?[d]:d||["translation"],i.reportNamespaces.addUsedNamespaces?.(d);const u=(i.isInitialized||i.initializedStoreOnce)&&d.every(N=>bae(N,i,l)),f=Pae(i,t.lng||null,l.nsMode==="fallback"?d:d[0],c),p=()=>f,m=()=>eU(i,t.lng||null,l.nsMode==="fallback"?d:d[0],c),[v,g]=y.useState(p);let b=d.join();t.lng&&(b=`${t.lng}${b}`);const j=Dae(b),k=y.useRef(!0);y.useEffect(()=>{const{bindI18n:N,bindI18nStore:A}=l;k.current=!0,!u&&!o&&(t.lng?nD(i,t.lng,d,()=>{k.current&&g(m)}):$S(i,d,()=>{k.current&&g(m)})),u&&j&&j!==b&&k.current&&g(m);const _=()=>{k.current&&g(m)};return N&&i?.on(N,_),A&&i?.store.on(A,_),()=>{k.current=!1,i&&N&&N?.split(" ").forEach(E=>i.off(E,_)),A&&i&&A.split(" ").forEach(E=>i.store.off(E,_))}},[i,b]),y.useEffect(()=>{k.current&&u&&g(p)},[i,c,u]);const S=[v,i,u];if(S.t=v,S.i18n=i,S.ready=u,u||!u&&!o)return S;throw new Promise(N=>{t.lng?nD(i,t.lng,d,()=>N()):$S(i,d,()=>N())})};function Mae({i18n:e,defaultNS:t,children:a}){const r=y.useMemo(()=>({i18n:e,defaultNS:t}),[e,t]);return y.createElement(Z$.Provider,{value:r},a)}const Lae="modulepreload",Oae=function(e){return"/crm-new/"+e},iD={},pn=function(t,a,r){let n=Promise.resolve();if(a&&a.length>0){let c=function(d){return Promise.all(d.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=l?.nonce||l?.getAttribute("nonce");n=c(a.map(d=>{if(d=Oae(d),d in iD)return;iD[d]=!0;const u=d.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${f}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":Lae,u||(p.as="script"),p.crossOrigin="",p.href=d,o&&p.setAttribute("nonce",o),document.head.appendChild(p),u)return new Promise((m,v)=>{p.addEventListener("load",m),p.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return n.then(l=>{for(const o of l||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function q1(e){return e+.5|0}const Nf=(e,t,a)=>Math.max(Math.min(e,a),t);function fv(e){return Nf(q1(e*2.55),0,255)}function Ef(e){return Nf(q1(e*255),0,255)}function Yu(e){return Nf(q1(e/2.55)/100,0,1)}function lD(e){return Nf(q1(e*100),0,100)}const mc={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},zS=[..."0123456789ABCDEF"],Rae=e=>zS[e&15],Fae=e=>zS[(e&240)>>4]+zS[e&15],Ty=e=>(e&240)>>4===(e&15),Iae=e=>Ty(e.r)&&Ty(e.g)&&Ty(e.b)&&Ty(e.a);function Bae(e){var t=e.length,a;return e[0]==="#"&&(t===4||t===5?a={r:255&mc[e[1]]*17,g:255&mc[e[2]]*17,b:255&mc[e[3]]*17,a:t===5?mc[e[4]]*17:255}:(t===7||t===9)&&(a={r:mc[e[1]]<<4|mc[e[2]],g:mc[e[3]]<<4|mc[e[4]],b:mc[e[5]]<<4|mc[e[6]],a:t===9?mc[e[7]]<<4|mc[e[8]]:255})),a}const $ae=(e,t)=>e<255?t(e):"";function Uae(e){var t=Iae(e)?Rae:Fae;return e?"#"+t(e.r)+t(e.g)+t(e.b)+$ae(e.a,t):void 0}const zae=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function tU(e,t,a){const r=t*Math.min(a,1-a),n=(i,l=(i+e/30)%12)=>a-r*Math.max(Math.min(l-3,9-l,1),-1);return[n(0),n(8),n(4)]}function Hae(e,t,a){const r=(n,i=(n+e/60)%6)=>a-a*t*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function Vae(e,t,a){const r=tU(e,1,.5);let n;for(t+a>1&&(n=1/(t+a),t*=n,a*=n),n=0;n<3;n++)r[n]*=1-t-a,r[n]+=t;return r}function Wae(e,t,a,r,n){return e===n?(t-a)/r+(t<a?6:0):t===n?(a-e)/r+2:(e-t)/r+4}function dA(e){const a=e.r/255,r=e.g/255,n=e.b/255,i=Math.max(a,r,n),l=Math.min(a,r,n),o=(i+l)/2;let c,d,u;return i!==l&&(u=i-l,d=o>.5?u/(2-i-l):u/(i+l),c=Wae(a,r,n,u,i),c=c*60+.5),[c|0,d||0,o]}function uA(e,t,a,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,a,r)).map(Ef)}function hA(e,t,a){return uA(tU,e,t,a)}function qae(e,t,a){return uA(Vae,e,t,a)}function Gae(e,t,a){return uA(Hae,e,t,a)}function aU(e){return(e%360+360)%360}function Kae(e){const t=zae.exec(e);let a=255,r;if(!t)return;t[5]!==r&&(a=t[6]?fv(+t[5]):Ef(+t[5]));const n=aU(+t[2]),i=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?r=qae(n,i,l):t[1]==="hsv"?r=Gae(n,i,l):r=hA(n,i,l),{r:r[0],g:r[1],b:r[2],a}}function Yae(e,t){var a=dA(e);a[0]=aU(a[0]+t),a=hA(a),e.r=a[0],e.g=a[1],e.b=a[2]}function Xae(e){if(!e)return;const t=dA(e),a=t[0],r=lD(t[1]),n=lD(t[2]);return e.a<255?`hsla(${a}, ${r}%, ${n}%, ${Yu(e.a)})`:`hsl(${a}, ${r}%, ${n}%)`}const oD={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},cD={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Jae(){const e={},t=Object.keys(cD),a=Object.keys(oD);let r,n,i,l,o;for(r=0;r<t.length;r++){for(l=o=t[r],n=0;n<a.length;n++)i=a[n],o=o.replace(i,oD[i]);i=parseInt(cD[l],16),e[o]=[i>>16&255,i>>8&255,i&255]}return e}let Dy;function Qae(e){Dy||(Dy=Jae(),Dy.transparent=[0,0,0,0]);const t=Dy[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Zae=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function ese(e){const t=Zae.exec(e);let a=255,r,n,i;if(t){if(t[7]!==r){const l=+t[7];a=t[8]?fv(l):Nf(l*255,0,255)}return r=+t[1],n=+t[3],i=+t[5],r=255&(t[2]?fv(r):Nf(r,0,255)),n=255&(t[4]?fv(n):Nf(n,0,255)),i=255&(t[6]?fv(i):Nf(i,0,255)),{r,g:n,b:i,a}}}function tse(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Yu(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const b5=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Tp=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function ase(e,t,a){const r=Tp(Yu(e.r)),n=Tp(Yu(e.g)),i=Tp(Yu(e.b));return{r:Ef(b5(r+a*(Tp(Yu(t.r))-r))),g:Ef(b5(n+a*(Tp(Yu(t.g))-n))),b:Ef(b5(i+a*(Tp(Yu(t.b))-i))),a:e.a+a*(t.a-e.a)}}function Py(e,t,a){if(e){let r=dA(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*a,t===0?360:1)),r=hA(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function sU(e,t){return e&&Object.assign(t||{},e)}function dD(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Ef(e[3]))):(t=sU(e,{r:0,g:0,b:0,a:1}),t.a=Ef(t.a)),t}function sse(e){return e.charAt(0)==="r"?ese(e):Kae(e)}let rU=class HS{constructor(t){if(t instanceof HS)return t;const a=typeof t;let r;a==="object"?r=dD(t):a==="string"&&(r=Bae(t)||Qae(t)||sse(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=sU(this._rgb);return t&&(t.a=Yu(t.a)),t}set rgb(t){this._rgb=dD(t)}rgbString(){return this._valid?tse(this._rgb):void 0}hexString(){return this._valid?Uae(this._rgb):void 0}hslString(){return this._valid?Xae(this._rgb):void 0}mix(t,a){if(t){const r=this.rgb,n=t.rgb;let i;const l=a===i?.5:a,o=2*l-1,c=r.a-n.a,d=((o*c===-1?o:(o+c)/(1+o*c))+1)/2;i=1-d,r.r=255&d*r.r+i*n.r+.5,r.g=255&d*r.g+i*n.g+.5,r.b=255&d*r.b+i*n.b+.5,r.a=l*r.a+(1-l)*n.a,this.rgb=r}return this}interpolate(t,a){return t&&(this._rgb=ase(this._rgb,t._rgb,a)),this}clone(){return new HS(this.rgb)}alpha(t){return this._rgb.a=Ef(t),this}clearer(t){const a=this._rgb;return a.a*=1-t,this}greyscale(){const t=this._rgb,a=q1(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=a,this}opaquer(t){const a=this._rgb;return a.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Py(this._rgb,2,t),this}darken(t){return Py(this._rgb,2,-t),this}saturate(t){return Py(this._rgb,1,t),this}desaturate(t){return Py(this._rgb,1,-t),this}rotate(t){return Yae(this._rgb,t),this}};/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Vu(){}const rse=(()=>{let e=0;return()=>e++})();function Ns(e){return e==null}function Br(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function As(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function xn(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Fo(e,t){return xn(e)?e:t}function es(e,t){return typeof e>"u"?t:e}const nse=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,nU=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function xr(e,t,a){if(e&&typeof e.call=="function")return e.apply(a,t)}function Zs(e,t,a,r){let n,i,l;if(Br(e))for(i=e.length,n=0;n<i;n++)t.call(a,e[n],n);else if(As(e))for(l=Object.keys(e),i=l.length,n=0;n<i;n++)t.call(a,e[l[n]],l[n])}function tw(e,t){let a,r,n,i;if(!e||!t||e.length!==t.length)return!1;for(a=0,r=e.length;a<r;++a)if(n=e[a],i=t[a],n.datasetIndex!==i.datasetIndex||n.index!==i.index)return!1;return!0}function aw(e){if(Br(e))return e.map(aw);if(As(e)){const t=Object.create(null),a=Object.keys(e),r=a.length;let n=0;for(;n<r;++n)t[a[n]]=aw(e[a[n]]);return t}return e}function iU(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function ise(e,t,a,r){if(!iU(e))return;const n=t[e],i=a[e];As(n)&&As(i)?Zv(n,i,r):t[e]=aw(i)}function Zv(e,t,a){const r=Br(t)?t:[t],n=r.length;if(!As(e))return e;a=a||{};const i=a.merger||ise;let l;for(let o=0;o<n;++o){if(l=r[o],!As(l))continue;const c=Object.keys(l);for(let d=0,u=c.length;d<u;++d)i(c[d],e,l,a)}return e}function Nv(e,t){return Zv(e,t,{merger:lse})}function lse(e,t,a){if(!iU(e))return;const r=t[e],n=a[e];As(r)&&As(n)?Nv(r,n):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=aw(n))}const uD={"":e=>e,x:e=>e.x,y:e=>e.y};function ose(e){const t=e.split("."),a=[];let r="";for(const n of t)r+=n,r.endsWith("\\")?r=r.slice(0,-1)+".":(a.push(r),r="");return a}function cse(e){const t=ose(e);return a=>{for(const r of t){if(r==="")break;a=a&&a[r]}return a}}function Pf(e,t){return(uD[t]||(uD[t]=cse(t)))(e)}function fA(e){return e.charAt(0).toUpperCase()+e.slice(1)}const e1=e=>typeof e<"u",Mf=e=>typeof e=="function",hD=(e,t)=>{if(e.size!==t.size)return!1;for(const a of e)if(!t.has(a))return!1;return!0};function dse(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Us=Math.PI,kr=2*Us,use=kr+Us,sw=Number.POSITIVE_INFINITY,hse=Us/180,On=Us/2,_0=Us/4,fD=Us*2/3,kf=Math.log10,fu=Math.sign;function kv(e,t,a){return Math.abs(e-t)<a}function mD(e){const t=Math.round(e);e=kv(e,t,e/1e3)?t:e;const a=Math.pow(10,Math.floor(kf(e))),r=e/a;return(r<=1?1:r<=2?2:r<=5?5:10)*a}function fse(e){const t=[],a=Math.sqrt(e);let r;for(r=1;r<a;r++)e%r===0&&(t.push(r),t.push(e/r));return a===(a|0)&&t.push(a),t.sort((n,i)=>n-i).pop(),t}function mse(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function ox(e){return!mse(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function pse(e,t){const a=Math.round(e);return a-t<=e&&a+t>=e}function lU(e,t,a){let r,n,i;for(r=0,n=e.length;r<n;r++)i=e[r][a],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function bd(e){return e*(Us/180)}function mA(e){return e*(180/Us)}function pD(e){if(!xn(e))return;let t=1,a=0;for(;Math.round(e*t)/t!==e;)t*=10,a++;return a}function oU(e,t){const a=t.x-e.x,r=t.y-e.y,n=Math.sqrt(a*a+r*r);let i=Math.atan2(r,a);return i<-.5*Us&&(i+=kr),{angle:i,distance:n}}function VS(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function xse(e,t){return(e-t+use)%kr-Us}function fl(e){return(e%kr+kr)%kr}function t1(e,t,a,r){const n=fl(e),i=fl(t),l=fl(a),o=fl(i-n),c=fl(l-n),d=fl(n-i),u=fl(n-l);return n===i||n===l||r&&i===l||o>c&&d<u}function Ei(e,t,a){return Math.max(t,Math.min(a,e))}function gse(e){return Ei(e,-32768,32767)}function Zu(e,t,a,r=1e-6){return e>=Math.min(t,a)-r&&e<=Math.max(t,a)+r}function pA(e,t,a){a=a||(l=>e[l]<t);let r=e.length-1,n=0,i;for(;r-n>1;)i=n+r>>1,a(i)?n=i:r=i;return{lo:n,hi:r}}const eh=(e,t,a,r)=>pA(e,a,r?n=>{const i=e[n][t];return i<a||i===a&&e[n+1][t]===a}:n=>e[n][t]<a),vse=(e,t,a)=>pA(e,a,r=>e[r][t]>=a);function bse(e,t,a){let r=0,n=e.length;for(;r<n&&e[r]<t;)r++;for(;n>r&&e[n-1]>a;)n--;return r>0||n<e.length?e.slice(r,n):e}const cU=["push","pop","shift","splice","unshift"];function yse(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),cU.forEach(a=>{const r="_onData"+fA(a),n=e[a];Object.defineProperty(e,a,{configurable:!0,enumerable:!1,value(...i){const l=n.apply(this,i);return e._chartjs.listeners.forEach(o=>{typeof o[r]=="function"&&o[r](...i)}),l}})})}function xD(e,t){const a=e._chartjs;if(!a)return;const r=a.listeners,n=r.indexOf(t);n!==-1&&r.splice(n,1),!(r.length>0)&&(cU.forEach(i=>{delete e[i]}),delete e._chartjs)}function dU(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const uU=(function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame})();function hU(e,t){let a=[],r=!1;return function(...n){a=n,r||(r=!0,uU.call(window,()=>{r=!1,e.apply(t,a)}))}}function wse(e,t){let a;return function(...r){return t?(clearTimeout(a),a=setTimeout(e,t,r)):e.apply(this,r),t}}const xA=e=>e==="start"?"left":e==="end"?"right":"center",dl=(e,t,a)=>e==="start"?t:e==="end"?a:(t+a)/2,jse=(e,t,a,r)=>e===(r?"left":"right")?a:e==="center"?(t+a)/2:t;function fU(e,t,a){const r=t.length;let n=0,i=r;if(e._sorted){const{iScale:l,vScale:o,_parsed:c}=e,d=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=l.axis,{min:f,max:p,minDefined:m,maxDefined:v}=l.getUserBounds();if(m){if(n=Math.min(eh(c,u,f).lo,a?r:eh(t,u,l.getPixelForValue(f)).lo),d){const g=c.slice(0,n+1).reverse().findIndex(b=>!Ns(b[o.axis]));n-=Math.max(0,g)}n=Ei(n,0,r-1)}if(v){let g=Math.max(eh(c,l.axis,p,!0).hi+1,a?0:eh(t,u,l.getPixelForValue(p),!0).hi+1);if(d){const b=c.slice(g-1).findIndex(j=>!Ns(j[o.axis]));g+=Math.max(0,b)}i=Ei(g,n,r)-n}else i=r-n}return{start:n,count:i}}function mU(e){const{xScale:t,yScale:a,_scaleRanges:r}=e,n={xmin:t.min,xmax:t.max,ymin:a.min,ymax:a.max};if(!r)return e._scaleRanges=n,!0;const i=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==a.min||r.ymax!==a.max;return Object.assign(r,n),i}const My=e=>e===0||e===1,gD=(e,t,a)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*kr/a)),vD=(e,t,a)=>Math.pow(2,-10*e)*Math.sin((e-t)*kr/a)+1,Sv={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*On)+1,easeOutSine:e=>Math.sin(e*On),easeInOutSine:e=>-.5*(Math.cos(Us*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>My(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>My(e)?e:gD(e,.075,.3),easeOutElastic:e=>My(e)?e:vD(e,.075,.3),easeInOutElastic(e){return My(e)?e:e<.5?.5*gD(e*2,.1125,.45):.5+.5*vD(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Sv.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Sv.easeInBounce(e*2)*.5:Sv.easeOutBounce(e*2-1)*.5+.5};function gA(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function bD(e){return gA(e)?e:new rU(e)}function y5(e){return gA(e)?e:new rU(e).saturate(.5).darken(.1).hexString()}const Nse=["x","y","borderWidth","radius","tension"],kse=["color","borderColor","backgroundColor"];function Sse(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:kse},numbers:{type:"number",properties:Nse}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Cse(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const yD=new Map;function Ase(e,t){t=t||{};const a=e+JSON.stringify(t);let r=yD.get(a);return r||(r=new Intl.NumberFormat(e,t),yD.set(a,r)),r}function G1(e,t,a){return Ase(t,a).format(e)}const pU={values(e){return Br(e)?e:""+e},numeric(e,t,a){if(e===0)return"0";const r=this.chart.options.locale;let n,i=e;if(a.length>1){const d=Math.max(Math.abs(a[0].value),Math.abs(a[a.length-1].value));(d<1e-4||d>1e15)&&(n="scientific"),i=_se(e,a)}const l=kf(Math.abs(i)),o=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),c={notation:n,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(c,this.options.ticks.format),G1(e,r,c)},logarithmic(e,t,a){if(e===0)return"0";const r=a[t].significand||e/Math.pow(10,Math.floor(kf(e)));return[1,2,3,5,10,15].includes(r)||t>.8*a.length?pU.numeric.call(this,e,t,a):""}};function _se(e,t){let a=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(a)>=1&&e!==Math.floor(e)&&(a=e-Math.floor(e)),a}var Ij={formatters:pU};function Ese(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,a)=>a.lineWidth,tickColor:(t,a)=>a.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ij.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const pm=Object.create(null),WS=Object.create(null);function Cv(e,t){if(!t)return e;const a=t.split(".");for(let r=0,n=a.length;r<n;++r){const i=a[r];e=e[i]||(e[i]=Object.create(null))}return e}function w5(e,t,a){return typeof t=="string"?Zv(Cv(e,t),a):Zv(Cv(e,""),t)}class Tse{constructor(t,a){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,n)=>y5(n.backgroundColor),this.hoverBorderColor=(r,n)=>y5(n.borderColor),this.hoverColor=(r,n)=>y5(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(a)}set(t,a){return w5(this,t,a)}get(t){return Cv(this,t)}describe(t,a){return w5(WS,t,a)}override(t,a){return w5(pm,t,a)}route(t,a,r,n){const i=Cv(this,t),l=Cv(this,r),o="_"+a;Object.defineProperties(i,{[o]:{value:i[a],writable:!0},[a]:{enumerable:!0,get(){const c=this[o],d=l[n];return As(c)?Object.assign({},d,c):es(c,d)},set(c){this[o]=c}}})}apply(t){t.forEach(a=>a(this))}}var $r=new Tse({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Sse,Cse,Ese]);function Dse(e){return!e||Ns(e.size)||Ns(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function rw(e,t,a,r,n){let i=t[n];return i||(i=t[n]=e.measureText(n).width,a.push(n)),i>r&&(r=i),r}function Pse(e,t,a,r){r=r||{};let n=r.data=r.data||{},i=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(n=r.data={},i=r.garbageCollect=[],r.font=t),e.save(),e.font=t;let l=0;const o=a.length;let c,d,u,f,p;for(c=0;c<o;c++)if(f=a[c],f!=null&&!Br(f))l=rw(e,n,i,l,f);else if(Br(f))for(d=0,u=f.length;d<u;d++)p=f[d],p!=null&&!Br(p)&&(l=rw(e,n,i,l,p));e.restore();const m=i.length/2;if(m>a.length){for(c=0;c<m;c++)delete n[i[c]];i.splice(0,m)}return l}function E0(e,t,a){const r=e.currentDevicePixelRatio,n=a!==0?Math.max(a/2,.5):0;return Math.round((t-n)*r)/r+n}function wD(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function qS(e,t,a,r){xU(e,t,a,r,null)}function xU(e,t,a,r,n){let i,l,o,c,d,u,f,p;const m=t.pointStyle,v=t.rotation,g=t.radius;let b=(v||0)*hse;if(m&&typeof m=="object"&&(i=m.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){e.save(),e.translate(a,r),e.rotate(b),e.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),e.restore();return}if(!(isNaN(g)||g<=0)){switch(e.beginPath(),m){default:n?e.ellipse(a,r,n/2,g,0,0,kr):e.arc(a,r,g,0,kr),e.closePath();break;case"triangle":u=n?n/2:g,e.moveTo(a+Math.sin(b)*u,r-Math.cos(b)*g),b+=fD,e.lineTo(a+Math.sin(b)*u,r-Math.cos(b)*g),b+=fD,e.lineTo(a+Math.sin(b)*u,r-Math.cos(b)*g),e.closePath();break;case"rectRounded":d=g*.516,c=g-d,l=Math.cos(b+_0)*c,f=Math.cos(b+_0)*(n?n/2-d:c),o=Math.sin(b+_0)*c,p=Math.sin(b+_0)*(n?n/2-d:c),e.arc(a-f,r-o,d,b-Us,b-On),e.arc(a+p,r-l,d,b-On,b),e.arc(a+f,r+o,d,b,b+On),e.arc(a-p,r+l,d,b+On,b+Us),e.closePath();break;case"rect":if(!v){c=Math.SQRT1_2*g,u=n?n/2:c,e.rect(a-u,r-c,2*u,2*c);break}b+=_0;case"rectRot":f=Math.cos(b)*(n?n/2:g),l=Math.cos(b)*g,o=Math.sin(b)*g,p=Math.sin(b)*(n?n/2:g),e.moveTo(a-f,r-o),e.lineTo(a+p,r-l),e.lineTo(a+f,r+o),e.lineTo(a-p,r+l),e.closePath();break;case"crossRot":b+=_0;case"cross":f=Math.cos(b)*(n?n/2:g),l=Math.cos(b)*g,o=Math.sin(b)*g,p=Math.sin(b)*(n?n/2:g),e.moveTo(a-f,r-o),e.lineTo(a+f,r+o),e.moveTo(a+p,r-l),e.lineTo(a-p,r+l);break;case"star":f=Math.cos(b)*(n?n/2:g),l=Math.cos(b)*g,o=Math.sin(b)*g,p=Math.sin(b)*(n?n/2:g),e.moveTo(a-f,r-o),e.lineTo(a+f,r+o),e.moveTo(a+p,r-l),e.lineTo(a-p,r+l),b+=_0,f=Math.cos(b)*(n?n/2:g),l=Math.cos(b)*g,o=Math.sin(b)*g,p=Math.sin(b)*(n?n/2:g),e.moveTo(a-f,r-o),e.lineTo(a+f,r+o),e.moveTo(a+p,r-l),e.lineTo(a-p,r+l);break;case"line":l=n?n/2:Math.cos(b)*g,o=Math.sin(b)*g,e.moveTo(a-l,r-o),e.lineTo(a+l,r+o);break;case"dash":e.moveTo(a,r),e.lineTo(a+Math.cos(b)*(n?n/2:g),r+Math.sin(b)*g);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function th(e,t,a){return a=a||.5,!t||e&&e.x>t.left-a&&e.x<t.right+a&&e.y>t.top-a&&e.y<t.bottom+a}function Bj(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function $j(e){e.restore()}function Mse(e,t,a,r,n){if(!t)return e.lineTo(a.x,a.y);if(n==="middle"){const i=(t.x+a.x)/2;e.lineTo(i,t.y),e.lineTo(i,a.y)}else n==="after"!=!!r?e.lineTo(t.x,a.y):e.lineTo(a.x,t.y);e.lineTo(a.x,a.y)}function Lse(e,t,a,r){if(!t)return e.lineTo(a.x,a.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?a.cp2x:a.cp1x,r?a.cp2y:a.cp1y,a.x,a.y)}function Ose(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Ns(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function Rse(e,t,a,r,n){if(n.strikethrough||n.underline){const i=e.measureText(r),l=t-i.actualBoundingBoxLeft,o=t+i.actualBoundingBoxRight,c=a-i.actualBoundingBoxAscent,d=a+i.actualBoundingBoxDescent,u=n.strikethrough?(c+d)/2:d;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=n.decorationWidth||2,e.moveTo(l,u),e.lineTo(o,u),e.stroke()}}function Fse(e,t){const a=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=a}function xm(e,t,a,r,n,i={}){const l=Br(t)?t:[t],o=i.strokeWidth>0&&i.strokeColor!=="";let c,d;for(e.save(),e.font=n.string,Ose(e,i),c=0;c<l.length;++c)d=l[c],i.backdrop&&Fse(e,i.backdrop),o&&(i.strokeColor&&(e.strokeStyle=i.strokeColor),Ns(i.strokeWidth)||(e.lineWidth=i.strokeWidth),e.strokeText(d,a,r,i.maxWidth)),e.fillText(d,a,r,i.maxWidth),Rse(e,a,r,d,i),r+=Number(n.lineHeight);e.restore()}function a1(e,t){const{x:a,y:r,w:n,h:i,radius:l}=t;e.arc(a+l.topLeft,r+l.topLeft,l.topLeft,1.5*Us,Us,!0),e.lineTo(a,r+i-l.bottomLeft),e.arc(a+l.bottomLeft,r+i-l.bottomLeft,l.bottomLeft,Us,On,!0),e.lineTo(a+n-l.bottomRight,r+i),e.arc(a+n-l.bottomRight,r+i-l.bottomRight,l.bottomRight,On,0,!0),e.lineTo(a+n,r+l.topRight),e.arc(a+n-l.topRight,r+l.topRight,l.topRight,0,-On,!0),e.lineTo(a+l.topLeft,r)}const Ise=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Bse=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function $se(e,t){const a=(""+e).match(Ise);if(!a||a[1]==="normal")return t*1.2;switch(e=+a[2],a[3]){case"px":return e;case"%":e/=100;break}return t*e}const Use=e=>+e||0;function vA(e,t){const a={},r=As(t),n=r?Object.keys(t):t,i=As(e)?r?l=>es(e[l],e[t[l]]):l=>e[l]:()=>e;for(const l of n)a[l]=Use(i(l));return a}function gU(e){return vA(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Q0(e){return vA(e,["topLeft","topRight","bottomLeft","bottomRight"])}function jl(e){const t=gU(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ci(e,t){e=e||{},t=t||$r.font;let a=es(e.size,t.size);typeof a=="string"&&(a=parseInt(a,10));let r=es(e.style,t.style);r&&!(""+r).match(Bse)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const n={family:es(e.family,t.family),lineHeight:$se(es(e.lineHeight,t.lineHeight),a),size:a,style:r,weight:es(e.weight,t.weight),string:""};return n.string=Dse(n),n}function mv(e,t,a,r){let n,i,l;for(n=0,i=e.length;n<i;++n)if(l=e[n],l!==void 0&&l!==void 0)return l}function zse(e,t,a){const{min:r,max:n}=e,i=nU(t,(n-r)/2),l=(o,c)=>a&&o===0?0:o+c;return{min:l(r,-Math.abs(i)),max:l(n,i)}}function qf(e,t){return Object.assign(Object.create(e),t)}function bA(e,t=[""],a,r,n=()=>e[0]){const i=a||e;typeof r>"u"&&(r=wU("_fallback",e));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:r,_getTarget:n,override:o=>bA([o,...e],t,i,r)};return new Proxy(l,{deleteProperty(o,c){return delete o[c],delete o._keys,delete e[0][c],!0},get(o,c){return bU(o,c,()=>Xse(c,t,e,o))},getOwnPropertyDescriptor(o,c){return Reflect.getOwnPropertyDescriptor(o._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(o,c){return ND(o).includes(c)},ownKeys(o){return ND(o)},set(o,c,d){const u=o._storage||(o._storage=n());return o[c]=u[c]=d,delete o._keys,!0}})}function cx(e,t,a,r){const n={_cacheable:!1,_proxy:e,_context:t,_subProxy:a,_stack:new Set,_descriptors:vU(e,r),setContext:i=>cx(e,i,a,r),override:i=>cx(e.override(i),t,a,r)};return new Proxy(n,{deleteProperty(i,l){return delete i[l],delete e[l],!0},get(i,l,o){return bU(i,l,()=>Vse(i,l,o))},getOwnPropertyDescriptor(i,l){return i._descriptors.allKeys?Reflect.has(e,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,l)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(i,l){return Reflect.has(e,l)},ownKeys(){return Reflect.ownKeys(e)},set(i,l,o){return e[l]=o,delete i[l],!0}})}function vU(e,t={scriptable:!0,indexable:!0}){const{_scriptable:a=t.scriptable,_indexable:r=t.indexable,_allKeys:n=t.allKeys}=e;return{allKeys:n,scriptable:a,indexable:r,isScriptable:Mf(a)?a:()=>a,isIndexable:Mf(r)?r:()=>r}}const Hse=(e,t)=>e?e+fA(t):t,yA=(e,t)=>As(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function bU(e,t,a){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const r=a();return e[t]=r,r}function Vse(e,t,a){const{_proxy:r,_context:n,_subProxy:i,_descriptors:l}=e;let o=r[t];return Mf(o)&&l.isScriptable(t)&&(o=Wse(t,o,e,a)),Br(o)&&o.length&&(o=qse(t,o,e,l.isIndexable)),yA(t,o)&&(o=cx(o,n,i&&i[t],l)),o}function Wse(e,t,a,r){const{_proxy:n,_context:i,_subProxy:l,_stack:o}=a;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let c=t(i,l||r);return o.delete(e),yA(e,c)&&(c=wA(n._scopes,n,e,c)),c}function qse(e,t,a,r){const{_proxy:n,_context:i,_subProxy:l,_descriptors:o}=a;if(typeof i.index<"u"&&r(e))return t[i.index%t.length];if(As(t[0])){const c=t,d=n._scopes.filter(u=>u!==c);t=[];for(const u of c){const f=wA(d,n,e,u);t.push(cx(f,i,l&&l[e],o))}}return t}function yU(e,t,a){return Mf(e)?e(t,a):e}const Gse=(e,t)=>e===!0?t:typeof e=="string"?Pf(t,e):void 0;function Kse(e,t,a,r,n){for(const i of t){const l=Gse(a,i);if(l){e.add(l);const o=yU(l._fallback,a,n);if(typeof o<"u"&&o!==a&&o!==r)return o}else if(l===!1&&typeof r<"u"&&a!==r)return null}return!1}function wA(e,t,a,r){const n=t._rootScopes,i=yU(t._fallback,a,r),l=[...e,...n],o=new Set;o.add(r);let c=jD(o,l,a,i||a,r);return c===null||typeof i<"u"&&i!==a&&(c=jD(o,l,i,c,r),c===null)?!1:bA(Array.from(o),[""],n,i,()=>Yse(t,a,r))}function jD(e,t,a,r,n){for(;a;)a=Kse(e,t,a,r,n);return a}function Yse(e,t,a){const r=e._getTarget();t in r||(r[t]={});const n=r[t];return Br(n)&&As(a)?a:n||{}}function Xse(e,t,a,r){let n;for(const i of t)if(n=wU(Hse(i,e),a),typeof n<"u")return yA(e,n)?wA(a,r,e,n):n}function wU(e,t){for(const a of t){if(!a)continue;const r=a[e];if(typeof r<"u")return r}}function ND(e){let t=e._keys;return t||(t=e._keys=Jse(e._scopes)),t}function Jse(e){const t=new Set;for(const a of e)for(const r of Object.keys(a).filter(n=>!n.startsWith("_")))t.add(r);return Array.from(t)}function jU(e,t,a,r){const{iScale:n}=e,{key:i="r"}=this._parsing,l=new Array(r);let o,c,d,u;for(o=0,c=r;o<c;++o)d=o+a,u=t[d],l[o]={r:n.parse(Pf(u,i),d)};return l}const Qse=Number.EPSILON||1e-14,dx=(e,t)=>t<e.length&&!e[t].skip&&e[t],NU=e=>e==="x"?"y":"x";function Zse(e,t,a,r){const n=e.skip?t:e,i=t,l=a.skip?t:a,o=VS(i,n),c=VS(l,i);let d=o/(o+c),u=c/(o+c);d=isNaN(d)?0:d,u=isNaN(u)?0:u;const f=r*d,p=r*u;return{previous:{x:i.x-f*(l.x-n.x),y:i.y-f*(l.y-n.y)},next:{x:i.x+p*(l.x-n.x),y:i.y+p*(l.y-n.y)}}}function ere(e,t,a){const r=e.length;let n,i,l,o,c,d=dx(e,0);for(let u=0;u<r-1;++u)if(c=d,d=dx(e,u+1),!(!c||!d)){if(kv(t[u],0,Qse)){a[u]=a[u+1]=0;continue}n=a[u]/t[u],i=a[u+1]/t[u],o=Math.pow(n,2)+Math.pow(i,2),!(o<=9)&&(l=3/Math.sqrt(o),a[u]=n*l*t[u],a[u+1]=i*l*t[u])}}function tre(e,t,a="x"){const r=NU(a),n=e.length;let i,l,o,c=dx(e,0);for(let d=0;d<n;++d){if(l=o,o=c,c=dx(e,d+1),!o)continue;const u=o[a],f=o[r];l&&(i=(u-l[a])/3,o[`cp1${a}`]=u-i,o[`cp1${r}`]=f-i*t[d]),c&&(i=(c[a]-u)/3,o[`cp2${a}`]=u+i,o[`cp2${r}`]=f+i*t[d])}}function are(e,t="x"){const a=NU(t),r=e.length,n=Array(r).fill(0),i=Array(r);let l,o,c,d=dx(e,0);for(l=0;l<r;++l)if(o=c,c=d,d=dx(e,l+1),!!c){if(d){const u=d[t]-c[t];n[l]=u!==0?(d[a]-c[a])/u:0}i[l]=o?d?fu(n[l-1])!==fu(n[l])?0:(n[l-1]+n[l])/2:n[l-1]:n[l]}ere(e,n,i),tre(e,i,t)}function Ly(e,t,a){return Math.max(Math.min(e,a),t)}function sre(e,t){let a,r,n,i,l,o=th(e[0],t);for(a=0,r=e.length;a<r;++a)l=i,i=o,o=a<r-1&&th(e[a+1],t),i&&(n=e[a],l&&(n.cp1x=Ly(n.cp1x,t.left,t.right),n.cp1y=Ly(n.cp1y,t.top,t.bottom)),o&&(n.cp2x=Ly(n.cp2x,t.left,t.right),n.cp2y=Ly(n.cp2y,t.top,t.bottom)))}function rre(e,t,a,r,n){let i,l,o,c;if(t.spanGaps&&(e=e.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")are(e,n);else{let d=r?e[e.length-1]:e[0];for(i=0,l=e.length;i<l;++i)o=e[i],c=Zse(d,o,e[Math.min(i+1,l-(r?0:1))%l],t.tension),o.cp1x=c.previous.x,o.cp1y=c.previous.y,o.cp2x=c.next.x,o.cp2y=c.next.y,d=o}t.capBezierPoints&&sre(e,a)}function jA(){return typeof window<"u"&&typeof document<"u"}function NA(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function nw(e,t,a){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*t.parentNode[a])):r=e,r}const Uj=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function nre(e,t){return Uj(e).getPropertyValue(t)}const ire=["top","right","bottom","left"];function Z0(e,t,a){const r={};a=a?"-"+a:"";for(let n=0;n<4;n++){const i=ire[n];r[i]=parseFloat(e[t+"-"+i+a])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const lre=(e,t,a)=>(e>0||t>0)&&(!a||!a.shadowRoot);function ore(e,t){const a=e.touches,r=a&&a.length?a[0]:e,{offsetX:n,offsetY:i}=r;let l=!1,o,c;if(lre(n,i,e.target))o=n,c=i;else{const d=t.getBoundingClientRect();o=r.clientX-d.left,c=r.clientY-d.top,l=!0}return{x:o,y:c,box:l}}function L0(e,t){if("native"in e)return e;const{canvas:a,currentDevicePixelRatio:r}=t,n=Uj(a),i=n.boxSizing==="border-box",l=Z0(n,"padding"),o=Z0(n,"border","width"),{x:c,y:d,box:u}=ore(e,a),f=l.left+(u&&o.left),p=l.top+(u&&o.top);let{width:m,height:v}=t;return i&&(m-=l.width+o.width,v-=l.height+o.height),{x:Math.round((c-f)/m*a.width/r),y:Math.round((d-p)/v*a.height/r)}}function cre(e,t,a){let r,n;if(t===void 0||a===void 0){const i=e&&NA(e);if(!i)t=e.clientWidth,a=e.clientHeight;else{const l=i.getBoundingClientRect(),o=Uj(i),c=Z0(o,"border","width"),d=Z0(o,"padding");t=l.width-d.width-c.width,a=l.height-d.height-c.height,r=nw(o.maxWidth,i,"clientWidth"),n=nw(o.maxHeight,i,"clientHeight")}}return{width:t,height:a,maxWidth:r||sw,maxHeight:n||sw}}const Oy=e=>Math.round(e*10)/10;function dre(e,t,a,r){const n=Uj(e),i=Z0(n,"margin"),l=nw(n.maxWidth,e,"clientWidth")||sw,o=nw(n.maxHeight,e,"clientHeight")||sw,c=cre(e,t,a);let{width:d,height:u}=c;if(n.boxSizing==="content-box"){const p=Z0(n,"border","width"),m=Z0(n,"padding");d-=m.width+p.width,u-=m.height+p.height}return d=Math.max(0,d-i.width),u=Math.max(0,r?d/r:u-i.height),d=Oy(Math.min(d,l,c.maxWidth)),u=Oy(Math.min(u,o,c.maxHeight)),d&&!u&&(u=Oy(d/2)),(t!==void 0||a!==void 0)&&r&&c.height&&u>c.height&&(u=c.height,d=Oy(Math.floor(u*r))),{width:d,height:u}}function kD(e,t,a){const r=t||1,n=Math.floor(e.height*r),i=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const l=e.canvas;return l.style&&(a||!l.style.height&&!l.style.width)&&(l.style.height=`${e.height}px`,l.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||l.height!==n||l.width!==i?(e.currentDevicePixelRatio=r,l.height=n,l.width=i,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}const ure=(function(){let e=!1;try{const t={get passive(){return e=!0,!1}};jA()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e})();function SD(e,t){const a=nre(e,t),r=a&&a.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function O0(e,t,a,r){return{x:e.x+a*(t.x-e.x),y:e.y+a*(t.y-e.y)}}function hre(e,t,a,r){return{x:e.x+a*(t.x-e.x),y:r==="middle"?a<.5?e.y:t.y:r==="after"?a<1?e.y:t.y:a>0?t.y:e.y}}function fre(e,t,a,r){const n={x:e.cp2x,y:e.cp2y},i={x:t.cp1x,y:t.cp1y},l=O0(e,n,a),o=O0(n,i,a),c=O0(i,t,a),d=O0(l,o,a),u=O0(o,c,a);return O0(d,u,a)}const mre=function(e,t){return{x(a){return e+e+t-a},setWidth(a){t=a},textAlign(a){return a==="center"?a:a==="right"?"left":"right"},xPlus(a,r){return a-r},leftForLtr(a,r){return a-r}}},pre=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Qp(e,t,a){return e?mre(t,a):pre()}function kU(e,t){let a,r;(t==="ltr"||t==="rtl")&&(a=e.canvas.style,r=[a.getPropertyValue("direction"),a.getPropertyPriority("direction")],a.setProperty("direction",t,"important"),e.prevTextDirection=r)}function SU(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function CU(e){return e==="angle"?{between:t1,compare:xse,normalize:fl}:{between:Zu,compare:(t,a)=>t-a,normalize:t=>t}}function CD({start:e,end:t,count:a,loop:r,style:n}){return{start:e%a,end:t%a,loop:r&&(t-e+1)%a===0,style:n}}function xre(e,t,a){const{property:r,start:n,end:i}=a,{between:l,normalize:o}=CU(r),c=t.length;let{start:d,end:u,loop:f}=e,p,m;if(f){for(d+=c,u+=c,p=0,m=c;p<m&&l(o(t[d%c][r]),n,i);++p)d--,u--;d%=c,u%=c}return u<d&&(u+=c),{start:d,end:u,loop:f,style:e.style}}function AU(e,t,a){if(!a)return[e];const{property:r,start:n,end:i}=a,l=t.length,{compare:o,between:c,normalize:d}=CU(r),{start:u,end:f,loop:p,style:m}=xre(e,t,a),v=[];let g=!1,b=null,j,k,S;const N=()=>c(n,S,j)&&o(n,S)!==0,A=()=>o(i,j)===0||c(i,S,j),_=()=>g||N(),E=()=>!g||A();for(let D=u,R=u;D<=f;++D)k=t[D%l],!k.skip&&(j=d(k[r]),j!==S&&(g=c(j,n,i),b===null&&_()&&(b=o(j,n)===0?D:R),b!==null&&E()&&(v.push(CD({start:b,end:D,loop:p,count:l,style:m})),b=null),R=D,S=j));return b!==null&&v.push(CD({start:b,end:f,loop:p,count:l,style:m})),v}function _U(e,t){const a=[],r=e.segments;for(let n=0;n<r.length;n++){const i=AU(r[n],e.points,t);i.length&&a.push(...i)}return a}function gre(e,t,a,r){let n=0,i=t-1;if(a&&!r)for(;n<t&&!e[n].skip;)n++;for(;n<t&&e[n].skip;)n++;for(n%=t,a&&(i+=n);i>n&&e[i%t].skip;)i--;return i%=t,{start:n,end:i}}function vre(e,t,a,r){const n=e.length,i=[];let l=t,o=e[t],c;for(c=t+1;c<=a;++c){const d=e[c%n];d.skip||d.stop?o.skip||(r=!1,i.push({start:t%n,end:(c-1)%n,loop:r}),t=l=d.stop?c:null):(l=c,o.skip&&(t=c)),o=d}return l!==null&&i.push({start:t%n,end:l%n,loop:r}),i}function bre(e,t){const a=e.points,r=e.options.spanGaps,n=a.length;if(!n)return[];const i=!!e._loop,{start:l,end:o}=gre(a,n,i,r);if(r===!0)return AD(e,[{start:l,end:o,loop:i}],a,t);const c=o<l?o+n:o,d=!!e._fullLoop&&l===0&&o===n-1;return AD(e,vre(a,l,c,d),a,t)}function AD(e,t,a,r){return!r||!r.setContext||!a?t:yre(e,t,a,r)}function yre(e,t,a,r){const n=e._chart.getContext(),i=_D(e.options),{_datasetIndex:l,options:{spanGaps:o}}=e,c=a.length,d=[];let u=i,f=t[0].start,p=f;function m(v,g,b,j){const k=o?-1:1;if(v!==g){for(v+=c;a[v%c].skip;)v-=k;for(;a[g%c].skip;)g+=k;v%c!==g%c&&(d.push({start:v%c,end:g%c,loop:b,style:j}),u=j,f=g%c)}}for(const v of t){f=o?f:v.start;let g=a[f%c],b;for(p=f+1;p<=v.end;p++){const j=a[p%c];b=_D(r.setContext(qf(n,{type:"segment",p0:g,p1:j,p0DataIndex:(p-1)%c,p1DataIndex:p%c,datasetIndex:l}))),wre(b,u)&&m(f,p-1,v.loop,u),g=j,u=b}f<p-1&&m(f,p-1,v.loop,u)}return d}function _D(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function wre(e,t){if(!t)return!1;const a=[],r=function(n,i){return gA(i)?(a.includes(i)||a.push(i),a.indexOf(i)):i};return JSON.stringify(e,r)!==JSON.stringify(t,r)}function Ry(e,t,a){return e.options.clip?e[a]:t[a]}function jre(e,t){const{xScale:a,yScale:r}=e;return a&&r?{left:Ry(a,t,"left"),right:Ry(a,t,"right"),top:Ry(r,t,"top"),bottom:Ry(r,t,"bottom")}:t}function EU(e,t){const a=t._clip;if(a.disabled)return!1;const r=jre(t,e.chartArea);return{left:a.left===!1?0:r.left-(a.left===!0?0:a.left),right:a.right===!1?e.width:r.right+(a.right===!0?0:a.right),top:a.top===!1?0:r.top-(a.top===!0?0:a.top),bottom:a.bottom===!1?e.height:r.bottom+(a.bottom===!0?0:a.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Nre{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,a,r,n){const i=a.listeners[n],l=a.duration;i.forEach(o=>o({chart:t,initial:a.initial,numSteps:l,currentStep:Math.min(r-a.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=uU.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let a=0;this._charts.forEach((r,n)=>{if(!r.running||!r.items.length)return;const i=r.items;let l=i.length-1,o=!1,c;for(;l>=0;--l)c=i[l],c._active?(c._total>r.duration&&(r.duration=c._total),c.tick(t),o=!0):(i[l]=i[i.length-1],i.pop());o&&(n.draw(),this._notify(n,r,t,"progress")),i.length||(r.running=!1,this._notify(n,r,t,"complete"),r.initial=!1),a+=i.length}),this._lastDate=t,a===0&&(this._running=!1)}_getAnims(t){const a=this._charts;let r=a.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},a.set(t,r)),r}listen(t,a,r){this._getAnims(t).listeners[a].push(r)}add(t,a){!a||!a.length||this._getAnims(t).items.push(...a)}has(t){return this._getAnims(t).items.length>0}start(t){const a=this._charts.get(t);a&&(a.running=!0,a.start=Date.now(),a.duration=a.items.reduce((r,n)=>Math.max(r,n._duration),0),this._refresh())}running(t){if(!this._running)return!1;const a=this._charts.get(t);return!(!a||!a.running||!a.items.length)}stop(t){const a=this._charts.get(t);if(!a||!a.items.length)return;const r=a.items;let n=r.length-1;for(;n>=0;--n)r[n].cancel();a.items=[],this._notify(t,a,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Gu=new Nre;const ED="transparent",kre={boolean(e,t,a){return a>.5?t:e},color(e,t,a){const r=bD(e||ED),n=r.valid&&bD(t||ED);return n&&n.valid?n.mix(r,a).hexString():t},number(e,t,a){return e+(t-e)*a}};class Sre{constructor(t,a,r,n){const i=a[r];n=mv([t.to,n,i,t.from]);const l=mv([t.from,i,n]);this._active=!0,this._fn=t.fn||kre[t.type||typeof l],this._easing=Sv[t.easing]||Sv.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=a,this._prop=r,this._from=l,this._to=n,this._promises=void 0}active(){return this._active}update(t,a,r){if(this._active){this._notify(!1);const n=this._target[this._prop],i=r-this._start,l=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=mv([t.to,a,n,t.from]),this._from=mv([t.from,n,a])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const a=t-this._start,r=this._duration,n=this._prop,i=this._from,l=this._loop,o=this._to;let c;if(this._active=i!==o&&(l||a<r),!this._active){this._target[n]=o,this._notify(!0);return}if(a<0){this._target[n]=i;return}c=a/r%2,c=l&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[n]=this._fn(i,o,c)}wait(){const t=this._promises||(this._promises=[]);return new Promise((a,r)=>{t.push({res:a,rej:r})})}_notify(t){const a=t?"res":"rej",r=this._promises||[];for(let n=0;n<r.length;n++)r[n][a]()}}class TU{constructor(t,a){this._chart=t,this._properties=new Map,this.configure(a)}configure(t){if(!As(t))return;const a=Object.keys($r.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(n=>{const i=t[n];if(!As(i))return;const l={};for(const o of a)l[o]=i[o];(Br(i.properties)&&i.properties||[n]).forEach(o=>{(o===n||!r.has(o))&&r.set(o,l)})})}_animateOptions(t,a){const r=a.options,n=Are(t,r);if(!n)return[];const i=this._createAnimations(n,r);return r.$shared&&Cre(t.options.$animations,r).then(()=>{t.options=r},()=>{}),i}_createAnimations(t,a){const r=this._properties,n=[],i=t.$animations||(t.$animations={}),l=Object.keys(a),o=Date.now();let c;for(c=l.length-1;c>=0;--c){const d=l[c];if(d.charAt(0)==="$")continue;if(d==="options"){n.push(...this._animateOptions(t,a));continue}const u=a[d];let f=i[d];const p=r.get(d);if(f)if(p&&f.active()){f.update(p,u,o);continue}else f.cancel();if(!p||!p.duration){t[d]=u;continue}i[d]=f=new Sre(p,t,d,u),n.push(f)}return n}update(t,a){if(this._properties.size===0){Object.assign(t,a);return}const r=this._createAnimations(t,a);if(r.length)return Gu.add(this._chart,r),!0}}function Cre(e,t){const a=[],r=Object.keys(t);for(let n=0;n<r.length;n++){const i=e[r[n]];i&&i.active()&&a.push(i.wait())}return Promise.all(a)}function Are(e,t){if(!t)return;let a=e.options;if(!a){e.options=t;return}return a.$shared&&(e.options=a=Object.assign({},a,{$shared:!1,$animations:{}})),a}function TD(e,t){const a=e&&e.options||{},r=a.reverse,n=a.min===void 0?t:0,i=a.max===void 0?t:0;return{start:r?i:n,end:r?n:i}}function _re(e,t,a){if(a===!1)return!1;const r=TD(e,a),n=TD(t,a);return{top:n.end,right:r.end,bottom:n.start,left:r.start}}function Ere(e){let t,a,r,n;return As(e)?(t=e.top,a=e.right,r=e.bottom,n=e.left):t=a=r=n=e,{top:t,right:a,bottom:r,left:n,disabled:e===!1}}function DU(e,t){const a=[],r=e._getSortedDatasetMetas(t);let n,i;for(n=0,i=r.length;n<i;++n)a.push(r[n].index);return a}function DD(e,t,a,r={}){const n=e.keys,i=r.mode==="single";let l,o,c,d;if(t===null)return;let u=!1;for(l=0,o=n.length;l<o;++l){if(c=+n[l],c===a){if(u=!0,r.all)continue;break}d=e.values[c],xn(d)&&(i||t===0||fu(t)===fu(d))&&(t+=d)}return!u&&!r.all?0:t}function Tre(e,t){const{iScale:a,vScale:r}=t,n=a.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",l=Object.keys(e),o=new Array(l.length);let c,d,u;for(c=0,d=l.length;c<d;++c)u=l[c],o[c]={[n]:u,[i]:e[u]};return o}function j5(e,t){const a=e&&e.options.stacked;return a||a===void 0&&t.stack!==void 0}function Dre(e,t,a){return`${e.id}.${t.id}.${a.stack||a.type}`}function Pre(e){const{min:t,max:a,minDefined:r,maxDefined:n}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:n?a:Number.POSITIVE_INFINITY}}function Mre(e,t,a){const r=e[t]||(e[t]={});return r[a]||(r[a]={})}function PD(e,t,a,r){for(const n of t.getMatchingVisibleMetas(r).reverse()){const i=e[n.index];if(a&&i>0||!a&&i<0)return n.index}return null}function MD(e,t){const{chart:a,_cachedMeta:r}=e,n=a._stacks||(a._stacks={}),{iScale:i,vScale:l,index:o}=r,c=i.axis,d=l.axis,u=Dre(i,l,r),f=t.length;let p;for(let m=0;m<f;++m){const v=t[m],{[c]:g,[d]:b}=v,j=v._stacks||(v._stacks={});p=j[d]=Mre(n,u,g),p[o]=b,p._top=PD(p,l,!0,r.type),p._bottom=PD(p,l,!1,r.type);const k=p._visualValues||(p._visualValues={});k[o]=b}}function N5(e,t){const a=e.scales;return Object.keys(a).filter(r=>a[r].axis===t).shift()}function Lre(e,t){return qf(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Ore(e,t,a){return qf(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:a,index:t,mode:"default",type:"data"})}function zg(e,t){const a=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const n of t){const i=n._stacks;if(!i||i[r]===void 0||i[r][a]===void 0)return;delete i[r][a],i[r]._visualValues!==void 0&&i[r]._visualValues[a]!==void 0&&delete i[r]._visualValues[a]}}}const k5=e=>e==="reset"||e==="none",LD=(e,t)=>t?e:Object.assign({},e),Rre=(e,t,a)=>e&&!t.hidden&&t._stacked&&{keys:DU(a,!0),values:null};class Gf{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,a){this.chart=t,this._ctx=t.ctx,this.index=a,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=j5(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&zg(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,a=this._cachedMeta,r=this.getDataset(),n=(f,p,m,v)=>f==="x"?p:f==="r"?v:m,i=a.xAxisID=es(r.xAxisID,N5(t,"x")),l=a.yAxisID=es(r.yAxisID,N5(t,"y")),o=a.rAxisID=es(r.rAxisID,N5(t,"r")),c=a.indexAxis,d=a.iAxisID=n(c,i,l,o),u=a.vAxisID=n(c,l,i,o);a.xScale=this.getScaleForId(i),a.yScale=this.getScaleForId(l),a.rScale=this.getScaleForId(o),a.iScale=this.getScaleForId(d),a.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const a=this._cachedMeta;return t===a.iScale?a.vScale:a.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&xD(this._data,this),t._stacked&&zg(t)}_dataCheck(){const t=this.getDataset(),a=t.data||(t.data=[]),r=this._data;if(As(a)){const n=this._cachedMeta;this._data=Tre(a,n)}else if(r!==a){if(r){xD(r,this);const n=this._cachedMeta;zg(n),n._parsed=[]}a&&Object.isExtensible(a)&&yse(a,this),this._syncList=[],this._data=a}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const a=this._cachedMeta,r=this.getDataset();let n=!1;this._dataCheck();const i=a._stacked;a._stacked=j5(a.vScale,a),a.stack!==r.stack&&(n=!0,zg(a),a.stack=r.stack),this._resyncElements(t),(n||i!==a._stacked)&&(MD(this,a._parsed),a._stacked=j5(a.vScale,a))}configure(){const t=this.chart.config,a=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),a,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,a){const{_cachedMeta:r,_data:n}=this,{iScale:i,_stacked:l}=r,o=i.axis;let c=t===0&&a===n.length?!0:r._sorted,d=t>0&&r._parsed[t-1],u,f,p;if(this._parsing===!1)r._parsed=n,r._sorted=!0,p=n;else{Br(n[t])?p=this.parseArrayData(r,n,t,a):As(n[t])?p=this.parseObjectData(r,n,t,a):p=this.parsePrimitiveData(r,n,t,a);const m=()=>f[o]===null||d&&f[o]<d[o];for(u=0;u<a;++u)r._parsed[u+t]=f=p[u],c&&(m()&&(c=!1),d=f);r._sorted=c}l&&MD(this,p)}parsePrimitiveData(t,a,r,n){const{iScale:i,vScale:l}=t,o=i.axis,c=l.axis,d=i.getLabels(),u=i===l,f=new Array(n);let p,m,v;for(p=0,m=n;p<m;++p)v=p+r,f[p]={[o]:u||i.parse(d[v],v),[c]:l.parse(a[v],v)};return f}parseArrayData(t,a,r,n){const{xScale:i,yScale:l}=t,o=new Array(n);let c,d,u,f;for(c=0,d=n;c<d;++c)u=c+r,f=a[u],o[c]={x:i.parse(f[0],u),y:l.parse(f[1],u)};return o}parseObjectData(t,a,r,n){const{xScale:i,yScale:l}=t,{xAxisKey:o="x",yAxisKey:c="y"}=this._parsing,d=new Array(n);let u,f,p,m;for(u=0,f=n;u<f;++u)p=u+r,m=a[p],d[u]={x:i.parse(Pf(m,o),p),y:l.parse(Pf(m,c),p)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,a,r){const n=this.chart,i=this._cachedMeta,l=a[t.axis],o={keys:DU(n,!0),values:a._stacks[t.axis]._visualValues};return DD(o,l,i.index,{mode:r})}updateRangeFromParsed(t,a,r,n){const i=r[a.axis];let l=i===null?NaN:i;const o=n&&r._stacks[a.axis];n&&o&&(n.values=o,l=DD(n,i,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,a){const r=this._cachedMeta,n=r._parsed,i=r._sorted&&t===r.iScale,l=n.length,o=this._getOtherScale(t),c=Rre(a,r,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:f}=Pre(o);let p,m;function v(){m=n[p];const g=m[o.axis];return!xn(m[t.axis])||u>g||f<g}for(p=0;p<l&&!(!v()&&(this.updateRangeFromParsed(d,t,m,c),i));++p);if(i){for(p=l-1;p>=0;--p)if(!v()){this.updateRangeFromParsed(d,t,m,c);break}}return d}getAllParsedValues(t){const a=this._cachedMeta._parsed,r=[];let n,i,l;for(n=0,i=a.length;n<i;++n)l=a[n][t.axis],xn(l)&&r.push(l);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const a=this._cachedMeta,r=a.iScale,n=a.vScale,i=this.getParsed(t);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:n?""+n.getLabelForValue(i[n.axis]):""}}_update(t){const a=this._cachedMeta;this.update(t||"default"),a._clip=Ere(es(this.options.clip,_re(a.xScale,a.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,a=this.chart,r=this._cachedMeta,n=r.data||[],i=a.chartArea,l=[],o=this._drawStart||0,c=this._drawCount||n.length-o,d=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(t,i,o,c),u=o;u<o+c;++u){const f=n[u];f.hidden||(f.active&&d?l.push(f):f.draw(t,i))}for(u=0;u<l.length;++u)l[u].draw(t,i)}getStyle(t,a){const r=a?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,a,r){const n=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];i=l.$context||(l.$context=Ore(this.getContext(),t,l)),i.parsed=this.getParsed(t),i.raw=n.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=Lre(this.chart.getContext(),this.index)),i.dataset=n,i.index=i.datasetIndex=this.index;return i.active=!!a,i.mode=r,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,a){return this._resolveElementOptions(this.dataElementType.id,a,t)}_resolveElementOptions(t,a="default",r){const n=a==="active",i=this._cachedDataOpts,l=t+"-"+a,o=i[l],c=this.enableOptionSharing&&e1(r);if(o)return LD(o,c);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,t),f=n?[`${t}Hover`,"hover",t,""]:[t,""],p=d.getOptionScopes(this.getDataset(),u),m=Object.keys($r.elements[t]),v=()=>this.getContext(r,n,a),g=d.resolveNamedOptions(p,m,v,f);return g.$shared&&(g.$shared=c,i[l]=Object.freeze(LD(g,c))),g}_resolveAnimations(t,a,r){const n=this.chart,i=this._cachedDataOpts,l=`animation-${a}`,o=i[l];if(o)return o;let c;if(n.options.animation!==!1){const u=this.chart.config,f=u.datasetAnimationScopeKeys(this._type,a),p=u.getOptionScopes(this.getDataset(),f);c=u.createResolver(p,this.getContext(t,r,a))}const d=new TU(n,c&&c.animations);return c&&c._cacheable&&(i[l]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,a){return!a||k5(t)||this.chart._animationsDisabled}_getSharedOptions(t,a){const r=this.resolveDataElementOptions(t,a),n=this._sharedOptions,i=this.getSharedOptions(r),l=this.includeOptions(a,i)||i!==n;return this.updateSharedOptions(i,a,r),{sharedOptions:i,includeOptions:l}}updateElement(t,a,r,n){k5(n)?Object.assign(t,r):this._resolveAnimations(a,n).update(t,r)}updateSharedOptions(t,a,r){t&&!k5(a)&&this._resolveAnimations(void 0,a).update(t,r)}_setStyle(t,a,r,n){t.active=n;const i=this.getStyle(a,n);this._resolveAnimations(a,r,n).update(t,{options:!n&&this.getSharedOptions(i)||i})}removeHoverStyle(t,a,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,a,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const a=this._data,r=this._cachedMeta.data;for(const[o,c,d]of this._syncList)this[o](c,d);this._syncList=[];const n=r.length,i=a.length,l=Math.min(i,n);l&&this.parse(0,l),i>n?this._insertElements(n,i-n,t):i<n&&this._removeElements(i,n-i)}_insertElements(t,a,r=!0){const n=this._cachedMeta,i=n.data,l=t+a;let o;const c=d=>{for(d.length+=a,o=d.length-1;o>=l;o--)d[o]=d[o-a]};for(c(i),o=t;o<l;++o)i[o]=new this.dataElementType;this._parsing&&c(n._parsed),this.parse(t,a),r&&this.updateElements(i,t,a,"reset")}updateElements(t,a,r,n){}_removeElements(t,a){const r=this._cachedMeta;if(this._parsing){const n=r._parsed.splice(t,a);r._stacked&&zg(r,n)}r.data.splice(t,a)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[a,r,n]=t;this[a](r,n)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,a){a&&this._sync(["_removeElements",t,a]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Fre(e,t){if(!e._cache.$bar){const a=e.getMatchingVisibleMetas(t);let r=[];for(let n=0,i=a.length;n<i;n++)r=r.concat(a[n].controller.getAllParsedValues(e));e._cache.$bar=dU(r.sort((n,i)=>n-i))}return e._cache.$bar}function Ire(e){const t=e.iScale,a=Fre(t,e.type);let r=t._length,n,i,l,o;const c=()=>{l===32767||l===-32768||(e1(o)&&(r=Math.min(r,Math.abs(l-o)||r)),o=l)};for(n=0,i=a.length;n<i;++n)l=t.getPixelForValue(a[n]),c();for(o=void 0,n=0,i=t.ticks.length;n<i;++n)l=t.getPixelForTick(n),c();return r}function Bre(e,t,a,r){const n=a.barThickness;let i,l;return Ns(n)?(i=t.min*a.categoryPercentage,l=a.barPercentage):(i=n*r,l=1),{chunk:i/r,ratio:l,start:t.pixels[e]-i/2}}function $re(e,t,a,r){const n=t.pixels,i=n[e];let l=e>0?n[e-1]:null,o=e<n.length-1?n[e+1]:null;const c=a.categoryPercentage;l===null&&(l=i-(o===null?t.end-t.start:o-i)),o===null&&(o=i+i-l);const d=i-(i-Math.min(l,o))/2*c;return{chunk:Math.abs(o-l)/2*c/r,ratio:a.barPercentage,start:d}}function Ure(e,t,a,r){const n=a.parse(e[0],r),i=a.parse(e[1],r),l=Math.min(n,i),o=Math.max(n,i);let c=l,d=o;Math.abs(l)>Math.abs(o)&&(c=o,d=l),t[a.axis]=d,t._custom={barStart:c,barEnd:d,start:n,end:i,min:l,max:o}}function PU(e,t,a,r){return Br(e)?Ure(e,t,a,r):t[a.axis]=a.parse(e,r),t}function OD(e,t,a,r){const n=e.iScale,i=e.vScale,l=n.getLabels(),o=n===i,c=[];let d,u,f,p;for(d=a,u=a+r;d<u;++d)p=t[d],f={},f[n.axis]=o||n.parse(l[d],d),c.push(PU(p,f,i,d));return c}function S5(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function zre(e,t,a){return e!==0?fu(e):(t.isHorizontal()?1:-1)*(t.min>=a?1:-1)}function Hre(e){let t,a,r,n,i;return e.horizontal?(t=e.base>e.x,a="left",r="right"):(t=e.base<e.y,a="bottom",r="top"),t?(n="end",i="start"):(n="start",i="end"),{start:a,end:r,reverse:t,top:n,bottom:i}}function Vre(e,t,a,r){let n=t.borderSkipped;const i={};if(!n){e.borderSkipped=i;return}if(n===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:o,reverse:c,top:d,bottom:u}=Hre(e);n==="middle"&&a&&(e.enableBorderRadius=!0,(a._top||0)===r?n=d:(a._bottom||0)===r?n=u:(i[RD(u,l,o,c)]=!0,n=d)),i[RD(n,l,o,c)]=!0,e.borderSkipped=i}function RD(e,t,a,r){return r?(e=Wre(e,t,a),e=FD(e,a,t)):e=FD(e,t,a),e}function Wre(e,t,a){return e===t?a:e===a?t:e}function FD(e,t,a){return e==="start"?t:e==="end"?a:e}function qre(e,{inflateAmount:t},a){e.inflateAmount=t==="auto"?a===1?.33:0:t}class MU extends Gf{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,a,r,n){return OD(t,a,r,n)}parseArrayData(t,a,r,n){return OD(t,a,r,n)}parseObjectData(t,a,r,n){const{iScale:i,vScale:l}=t,{xAxisKey:o="x",yAxisKey:c="y"}=this._parsing,d=i.axis==="x"?o:c,u=l.axis==="x"?o:c,f=[];let p,m,v,g;for(p=r,m=r+n;p<m;++p)g=a[p],v={},v[i.axis]=i.parse(Pf(g,d),p),f.push(PU(Pf(g,u),v,l,p));return f}updateRangeFromParsed(t,a,r,n){super.updateRangeFromParsed(t,a,r,n);const i=r._custom;i&&a===this._cachedMeta.vScale&&(t.min=Math.min(t.min,i.min),t.max=Math.max(t.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const a=this._cachedMeta,{iScale:r,vScale:n}=a,i=this.getParsed(t),l=i._custom,o=S5(l)?"["+l.start+", "+l.end+"]":""+n.getLabelForValue(i[n.axis]);return{label:""+r.getLabelForValue(i[r.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const a=this._cachedMeta;this.updateElements(a.data,0,a.data.length,t)}updateElements(t,a,r,n){const i=n==="reset",{index:l,_cachedMeta:{vScale:o}}=this,c=o.getBasePixel(),d=o.isHorizontal(),u=this._getRuler(),{sharedOptions:f,includeOptions:p}=this._getSharedOptions(a,n);for(let m=a;m<a+r;m++){const v=this.getParsed(m),g=i||Ns(v[o.axis])?{base:c,head:c}:this._calculateBarValuePixels(m),b=this._calculateBarIndexPixels(m,u),j=(v._stacks||{})[o.axis],k={horizontal:d,base:g.base,enableBorderRadius:!j||S5(v._custom)||l===j._top||l===j._bottom,x:d?g.head:b.center,y:d?b.center:g.head,height:d?b.size:Math.abs(g.size),width:d?Math.abs(g.size):b.size};p&&(k.options=f||this.resolveDataElementOptions(m,t[m].active?"active":n));const S=k.options||t[m].options;Vre(k,S,j,l),qre(k,S,u.ratio),this.updateElement(t[m],m,k,n)}}_getStacks(t,a){const{iScale:r}=this._cachedMeta,n=r.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),i=r.options.stacked,l=[],o=this._cachedMeta.controller.getParsed(a),c=o&&o[r.axis],d=u=>{const f=u._parsed.find(m=>m[r.axis]===c),p=f&&f[u.vScale.axis];if(Ns(p)||isNaN(p))return!0};for(const u of n)if(!(a!==void 0&&d(u))&&((i===!1||l.indexOf(u.stack)===-1||i===void 0&&u.stack===void 0)&&l.push(u.stack),u.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,a=this.chart.options.indexAxis;return Object.keys(t).filter(r=>t[r].axis===a).shift()}_getAxis(){const t={},a=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)t[es(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,a)]=!0;return Object.keys(t)}_getStackIndex(t,a,r){const n=this._getStacks(t,r),i=a!==void 0?n.indexOf(a):-1;return i===-1?n.length-1:i}_getRuler(){const t=this.options,a=this._cachedMeta,r=a.iScale,n=[];let i,l;for(i=0,l=a.data.length;i<l;++i)n.push(r.getPixelForValue(this.getParsed(i)[r.axis],i));const o=t.barThickness;return{min:o||Ire(a),pixels:n,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:o?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:a,_stacked:r,index:n},options:{base:i,minBarLength:l}}=this,o=i||0,c=this.getParsed(t),d=c._custom,u=S5(d);let f=c[a.axis],p=0,m=r?this.applyStack(a,c,r):f,v,g;m!==f&&(p=m-f,m=f),u&&(f=d.barStart,m=d.barEnd-d.barStart,f!==0&&fu(f)!==fu(d.barEnd)&&(p=0),p+=f);const b=!Ns(i)&&!u?i:p;let j=a.getPixelForValue(b);if(this.chart.getDataVisibility(t)?v=a.getPixelForValue(p+m):v=j,g=v-j,Math.abs(g)<l){g=zre(g,a,o)*l,f===o&&(j-=g/2);const k=a.getPixelForDecimal(0),S=a.getPixelForDecimal(1),N=Math.min(k,S),A=Math.max(k,S);j=Math.max(Math.min(j,A),N),v=j+g,r&&!u&&(c._stacks[a.axis]._visualValues[n]=a.getValueForPixel(v)-a.getValueForPixel(j))}if(j===a.getPixelForValue(o)){const k=fu(g)*a.getLineWidthForValue(o)/2;j+=k,g-=k}return{size:g,base:j,head:v,center:v+g/2}}_calculateBarIndexPixels(t,a){const r=a.scale,n=this.options,i=n.skipNull,l=es(n.maxBarThickness,1/0);let o,c;const d=this._getAxisCount();if(a.grouped){const u=i?this._getStackCount(t):a.stackCount,f=n.barThickness==="flex"?$re(t,a,n,u*d):Bre(t,a,n,u*d),p=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,m=this._getAxis().indexOf(es(p,this.getFirstScaleIdForIndexAxis())),v=this._getStackIndex(this.index,this._cachedMeta.stack,i?t:void 0)+m;o=f.start+f.chunk*v+f.chunk/2,c=Math.min(l,f.chunk*f.ratio)}else o=r.getPixelForValue(this.getParsed(t)[r.axis],t),c=Math.min(l,a.min*a.ratio);return{base:o-c/2,head:o+c/2,center:o,size:c}}draw(){const t=this._cachedMeta,a=t.vScale,r=t.data,n=r.length;let i=0;for(;i<n;++i)this.getParsed(i)[a.axis]!==null&&!r[i].hidden&&r[i].draw(this._ctx)}}class Gre extends Gf{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,a,r,n){const i=super.parsePrimitiveData(t,a,r,n);for(let l=0;l<i.length;l++)i[l]._custom=this.resolveDataElementOptions(l+r).radius;return i}parseArrayData(t,a,r,n){const i=super.parseArrayData(t,a,r,n);for(let l=0;l<i.length;l++){const o=a[r+l];i[l]._custom=es(o[2],this.resolveDataElementOptions(l+r).radius)}return i}parseObjectData(t,a,r,n){const i=super.parseObjectData(t,a,r,n);for(let l=0;l<i.length;l++){const o=a[r+l];i[l]._custom=es(o&&o.r&&+o.r,this.resolveDataElementOptions(l+r).radius)}return i}getMaxOverflow(){const t=this._cachedMeta.data;let a=0;for(let r=t.length-1;r>=0;--r)a=Math.max(a,t[r].size(this.resolveDataElementOptions(r))/2);return a>0&&a}getLabelAndValue(t){const a=this._cachedMeta,r=this.chart.data.labels||[],{xScale:n,yScale:i}=a,l=this.getParsed(t),o=n.getLabelForValue(l.x),c=i.getLabelForValue(l.y),d=l._custom;return{label:r[t]||"",value:"("+o+", "+c+(d?", "+d:"")+")"}}update(t){const a=this._cachedMeta.data;this.updateElements(a,0,a.length,t)}updateElements(t,a,r,n){const i=n==="reset",{iScale:l,vScale:o}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(a,n),u=l.axis,f=o.axis;for(let p=a;p<a+r;p++){const m=t[p],v=!i&&this.getParsed(p),g={},b=g[u]=i?l.getPixelForDecimal(.5):l.getPixelForValue(v[u]),j=g[f]=i?o.getBasePixel():o.getPixelForValue(v[f]);g.skip=isNaN(b)||isNaN(j),d&&(g.options=c||this.resolveDataElementOptions(p,m.active?"active":n),i&&(g.options.radius=0)),this.updateElement(m,p,g,n)}}resolveDataElementOptions(t,a){const r=this.getParsed(t);let n=super.resolveDataElementOptions(t,a);n.$shared&&(n=Object.assign({},n,{$shared:!1}));const i=n.radius;return a!=="active"&&(n.radius=0),n.radius+=es(r&&r._custom,i),n}}function Kre(e,t,a){let r=1,n=1,i=0,l=0;if(t<kr){const o=e,c=o+t,d=Math.cos(o),u=Math.sin(o),f=Math.cos(c),p=Math.sin(c),m=(S,N,A)=>t1(S,o,c,!0)?1:Math.max(N,N*a,A,A*a),v=(S,N,A)=>t1(S,o,c,!0)?-1:Math.min(N,N*a,A,A*a),g=m(0,d,f),b=m(On,u,p),j=v(Us,d,f),k=v(Us+On,u,p);r=(g-j)/2,n=(b-k)/2,i=-(g+j)/2,l=-(b+k)/2}return{ratioX:r,ratioY:n,offsetX:i,offsetY:l}}class zj extends Gf{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const a=t.data;if(a.labels.length&&a.datasets.length){const{labels:{pointStyle:r,color:n}}=t.legend.options;return a.labels.map((i,l)=>{const c=t.getDatasetMeta(0).controller.getStyle(l);return{text:i,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:n,lineWidth:c.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,a,r){r.chart.toggleDataVisibility(a.index),r.chart.update()}}}};constructor(t,a){super(t,a),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,a){const r=this.getDataset().data,n=this._cachedMeta;if(this._parsing===!1)n._parsed=r;else{let i=c=>+r[c];if(As(r[t])){const{key:c="value"}=this._parsing;i=d=>+Pf(r[d],c)}let l,o;for(l=t,o=t+a;l<o;++l)n._parsed[l]=i(l)}}_getRotation(){return bd(this.options.rotation-90)}_getCircumference(){return bd(this.options.circumference)}_getRotationExtents(){let t=kr,a=-kr;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const n=this.chart.getDatasetMeta(r).controller,i=n._getRotation(),l=n._getCircumference();t=Math.min(t,i),a=Math.max(a,i+l)}return{rotation:t,circumference:a-t}}update(t){const a=this.chart,{chartArea:r}=a,n=this._cachedMeta,i=n.data,l=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,o=Math.max((Math.min(r.width,r.height)-l)/2,0),c=Math.min(nse(this.options.cutout,o),1),d=this._getRingWeight(this.index),{circumference:u,rotation:f}=this._getRotationExtents(),{ratioX:p,ratioY:m,offsetX:v,offsetY:g}=Kre(f,u,c),b=(r.width-l)/p,j=(r.height-l)/m,k=Math.max(Math.min(b,j)/2,0),S=nU(this.options.radius,k),N=Math.max(S*c,0),A=(S-N)/this._getVisibleDatasetWeightTotal();this.offsetX=v*S,this.offsetY=g*S,n.total=this.calculateTotal(),this.outerRadius=S-A*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-A*d,0),this.updateElements(i,0,i.length,t)}_circumference(t,a){const r=this.options,n=this._cachedMeta,i=this._getCircumference();return a&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||n._parsed[t]===null||n.data[t].hidden?0:this.calculateCircumference(n._parsed[t]*i/kr)}updateElements(t,a,r,n){const i=n==="reset",l=this.chart,o=l.chartArea,d=l.options.animation,u=(o.left+o.right)/2,f=(o.top+o.bottom)/2,p=i&&d.animateScale,m=p?0:this.innerRadius,v=p?0:this.outerRadius,{sharedOptions:g,includeOptions:b}=this._getSharedOptions(a,n);let j=this._getRotation(),k;for(k=0;k<a;++k)j+=this._circumference(k,i);for(k=a;k<a+r;++k){const S=this._circumference(k,i),N=t[k],A={x:u+this.offsetX,y:f+this.offsetY,startAngle:j,endAngle:j+S,circumference:S,outerRadius:v,innerRadius:m};b&&(A.options=g||this.resolveDataElementOptions(k,N.active?"active":n)),j+=S,this.updateElement(N,k,A,n)}}calculateTotal(){const t=this._cachedMeta,a=t.data;let r=0,n;for(n=0;n<a.length;n++){const i=t._parsed[n];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(n)&&!a[n].hidden&&(r+=Math.abs(i))}return r}calculateCircumference(t){const a=this._cachedMeta.total;return a>0&&!isNaN(t)?kr*(Math.abs(t)/a):0}getLabelAndValue(t){const a=this._cachedMeta,r=this.chart,n=r.data.labels||[],i=G1(a._parsed[t],r.options.locale);return{label:n[t]||"",value:i}}getMaxBorderWidth(t){let a=0;const r=this.chart;let n,i,l,o,c;if(!t){for(n=0,i=r.data.datasets.length;n<i;++n)if(r.isDatasetVisible(n)){l=r.getDatasetMeta(n),t=l.data,o=l.controller;break}}if(!t)return 0;for(n=0,i=t.length;n<i;++n)c=o.resolveDataElementOptions(n),c.borderAlign!=="inner"&&(a=Math.max(a,c.borderWidth||0,c.hoverBorderWidth||0));return a}getMaxOffset(t){let a=0;for(let r=0,n=t.length;r<n;++r){const i=this.resolveDataElementOptions(r);a=Math.max(a,i.offset||0,i.hoverOffset||0)}return a}_getRingWeightOffset(t){let a=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(a+=this._getRingWeight(r));return a}_getRingWeight(t){return Math.max(es(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class LU extends Gf{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const a=this._cachedMeta,{dataset:r,data:n=[],_dataset:i}=a,l=this.chart._animationsDisabled;let{start:o,count:c}=fU(a,n,l);this._drawStart=o,this._drawCount=c,mU(a)&&(o=0,c=n.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=n;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(r,void 0,{animated:!l,options:d},t),this.updateElements(n,o,c,t)}updateElements(t,a,r,n){const i=n==="reset",{iScale:l,vScale:o,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:f}=this._getSharedOptions(a,n),p=l.axis,m=o.axis,{spanGaps:v,segment:g}=this.options,b=ox(v)?v:Number.POSITIVE_INFINITY,j=this.chart._animationsDisabled||i||n==="none",k=a+r,S=t.length;let N=a>0&&this.getParsed(a-1);for(let A=0;A<S;++A){const _=t[A],E=j?_:{};if(A<a||A>=k){E.skip=!0;continue}const D=this.getParsed(A),R=Ns(D[m]),I=E[p]=l.getPixelForValue(D[p],A),M=E[m]=i||R?o.getBasePixel():o.getPixelForValue(c?this.applyStack(o,D,c):D[m],A);E.skip=isNaN(I)||isNaN(M)||R,E.stop=A>0&&Math.abs(D[p]-N[p])>b,g&&(E.parsed=D,E.raw=d.data[A]),f&&(E.options=u||this.resolveDataElementOptions(A,_.active?"active":n)),j||this.updateElement(_,A,E,n),N=D}}getMaxOverflow(){const t=this._cachedMeta,a=t.dataset,r=a.options&&a.options.borderWidth||0,n=t.data||[];if(!n.length)return r;const i=n[0].size(this.resolveDataElementOptions(0)),l=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(r,i,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class OU extends Gf{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const a=t.data;if(a.labels.length&&a.datasets.length){const{labels:{pointStyle:r,color:n}}=t.legend.options;return a.labels.map((i,l)=>{const c=t.getDatasetMeta(0).controller.getStyle(l);return{text:i,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:n,lineWidth:c.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,a,r){r.chart.toggleDataVisibility(a.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,a){super(t,a),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const a=this._cachedMeta,r=this.chart,n=r.data.labels||[],i=G1(a._parsed[t].r,r.options.locale);return{label:n[t]||"",value:i}}parseObjectData(t,a,r,n){return jU.bind(this)(t,a,r,n)}update(t){const a=this._cachedMeta.data;this._updateRadius(),this.updateElements(a,0,a.length,t)}getMinMax(){const t=this._cachedMeta,a={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((r,n)=>{const i=this.getParsed(n).r;!isNaN(i)&&this.chart.getDataVisibility(n)&&(i<a.min&&(a.min=i),i>a.max&&(a.max=i))}),a}_updateRadius(){const t=this.chart,a=t.chartArea,r=t.options,n=Math.min(a.right-a.left,a.bottom-a.top),i=Math.max(n/2,0),l=Math.max(r.cutoutPercentage?i/100*r.cutoutPercentage:1,0),o=(i-l)/t.getVisibleDatasetCount();this.outerRadius=i-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(t,a,r,n){const i=n==="reset",l=this.chart,c=l.options.animation,d=this._cachedMeta.rScale,u=d.xCenter,f=d.yCenter,p=d.getIndexAngle(0)-.5*Us;let m=p,v;const g=360/this.countVisibleElements();for(v=0;v<a;++v)m+=this._computeAngle(v,n,g);for(v=a;v<a+r;v++){const b=t[v];let j=m,k=m+this._computeAngle(v,n,g),S=l.getDataVisibility(v)?d.getDistanceFromCenterForValue(this.getParsed(v).r):0;m=k,i&&(c.animateScale&&(S=0),c.animateRotate&&(j=k=p));const N={x:u,y:f,innerRadius:0,outerRadius:S,startAngle:j,endAngle:k,options:this.resolveDataElementOptions(v,b.active?"active":n)};this.updateElement(b,v,N,n)}}countVisibleElements(){const t=this._cachedMeta;let a=0;return t.data.forEach((r,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&a++}),a}_computeAngle(t,a,r){return this.chart.getDataVisibility(t)?bd(this.resolveDataElementOptions(t,a).angle||r):0}}class RU extends zj{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class Yre extends Gf{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const a=this._cachedMeta.vScale,r=this.getParsed(t);return{label:a.getLabels()[t],value:""+a.getLabelForValue(r[a.axis])}}parseObjectData(t,a,r,n){return jU.bind(this)(t,a,r,n)}update(t){const a=this._cachedMeta,r=a.dataset,n=a.data||[],i=a.iScale.getLabels();if(r.points=n,t!=="resize"){const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0);const o={_loop:!0,_fullLoop:i.length===n.length,options:l};this.updateElement(r,void 0,o,t)}this.updateElements(n,0,n.length,t)}updateElements(t,a,r,n){const i=this._cachedMeta.rScale,l=n==="reset";for(let o=a;o<a+r;o++){const c=t[o],d=this.resolveDataElementOptions(o,c.active?"active":n),u=i.getPointPositionForValue(o,this.getParsed(o).r),f=l?i.xCenter:u.x,p=l?i.yCenter:u.y,m={x:f,y:p,angle:u.angle,skip:isNaN(f)||isNaN(p),options:d};this.updateElement(c,o,m,n)}}}class Xre extends Gf{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const a=this._cachedMeta,r=this.chart.data.labels||[],{xScale:n,yScale:i}=a,l=this.getParsed(t),o=n.getLabelForValue(l.x),c=i.getLabelForValue(l.y);return{label:r[t]||"",value:"("+o+", "+c+")"}}update(t){const a=this._cachedMeta,{data:r=[]}=a,n=this.chart._animationsDisabled;let{start:i,count:l}=fU(a,r,n);if(this._drawStart=i,this._drawCount=l,mU(a)&&(i=0,l=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:o,_dataset:c}=a;o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!c._decimated,o.points=r;const d=this.resolveDatasetElementOptions(t);d.segment=this.options.segment,this.updateElement(o,void 0,{animated:!n,options:d},t)}else this.datasetElementType&&(delete a.dataset,this.datasetElementType=!1);this.updateElements(r,i,l,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,a,r,n){const i=n==="reset",{iScale:l,vScale:o,_stacked:c,_dataset:d}=this._cachedMeta,u=this.resolveDataElementOptions(a,n),f=this.getSharedOptions(u),p=this.includeOptions(n,f),m=l.axis,v=o.axis,{spanGaps:g,segment:b}=this.options,j=ox(g)?g:Number.POSITIVE_INFINITY,k=this.chart._animationsDisabled||i||n==="none";let S=a>0&&this.getParsed(a-1);for(let N=a;N<a+r;++N){const A=t[N],_=this.getParsed(N),E=k?A:{},D=Ns(_[v]),R=E[m]=l.getPixelForValue(_[m],N),I=E[v]=i||D?o.getBasePixel():o.getPixelForValue(c?this.applyStack(o,_,c):_[v],N);E.skip=isNaN(R)||isNaN(I)||D,E.stop=N>0&&Math.abs(_[m]-S[m])>j,b&&(E.parsed=_,E.raw=d.data[N]),p&&(E.options=f||this.resolveDataElementOptions(N,A.active?"active":n)),k||this.updateElement(A,N,E,n),S=_}this.updateSharedOptions(f,n,u)}getMaxOverflow(){const t=this._cachedMeta,a=t.data||[];if(!this.options.showLine){let o=0;for(let c=a.length-1;c>=0;--c)o=Math.max(o,a[c].size(this.resolveDataElementOptions(c))/2);return o>0&&o}const r=t.dataset,n=r.options&&r.options.borderWidth||0;if(!a.length)return n;const i=a[0].size(this.resolveDataElementOptions(0)),l=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(n,i,l)/2}}var Jre=Object.freeze({__proto__:null,BarController:MU,BubbleController:Gre,DoughnutController:zj,LineController:LU,PieController:RU,PolarAreaController:OU,RadarController:Yre,ScatterController:Xre});function T0(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class kA{static override(t){Object.assign(kA.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return T0()}parse(){return T0()}format(){return T0()}add(){return T0()}diff(){return T0()}startOf(){return T0()}endOf(){return T0()}}var Qre={_date:kA};function Zre(e,t,a,r){const{controller:n,data:i,_sorted:l}=e,o=n._cachedMeta.iScale,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(o&&t===o.axis&&t!=="r"&&l&&i.length){const d=o._reversePixels?vse:eh;if(r){if(n._sharedOptions){const u=i[0],f=typeof u.getRange=="function"&&u.getRange(t);if(f){const p=d(i,t,a-f),m=d(i,t,a+f);return{lo:p.lo,hi:m.hi}}}}else{const u=d(i,t,a);if(c){const{vScale:f}=n._cachedMeta,{_parsed:p}=e,m=p.slice(0,u.lo+1).reverse().findIndex(g=>!Ns(g[f.axis]));u.lo-=Math.max(0,m);const v=p.slice(u.hi).findIndex(g=>!Ns(g[f.axis]));u.hi+=Math.max(0,v)}return u}}return{lo:0,hi:i.length-1}}function Hj(e,t,a,r,n){const i=e.getSortedVisibleDatasetMetas(),l=a[t];for(let o=0,c=i.length;o<c;++o){const{index:d,data:u}=i[o],{lo:f,hi:p}=Zre(i[o],t,l,n);for(let m=f;m<=p;++m){const v=u[m];v.skip||r(v,d,m)}}}function ene(e){const t=e.indexOf("x")!==-1,a=e.indexOf("y")!==-1;return function(r,n){const i=t?Math.abs(r.x-n.x):0,l=a?Math.abs(r.y-n.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(l,2))}}function C5(e,t,a,r,n){const i=[];return!n&&!e.isPointInArea(t)||Hj(e,a,t,function(o,c,d){!n&&!th(o,e.chartArea,0)||o.inRange(t.x,t.y,r)&&i.push({element:o,datasetIndex:c,index:d})},!0),i}function tne(e,t,a,r){let n=[];function i(l,o,c){const{startAngle:d,endAngle:u}=l.getProps(["startAngle","endAngle"],r),{angle:f}=oU(l,{x:t.x,y:t.y});t1(f,d,u)&&n.push({element:l,datasetIndex:o,index:c})}return Hj(e,a,t,i),n}function ane(e,t,a,r,n,i){let l=[];const o=ene(a);let c=Number.POSITIVE_INFINITY;function d(u,f,p){const m=u.inRange(t.x,t.y,n);if(r&&!m)return;const v=u.getCenterPoint(n);if(!(!!i||e.isPointInArea(v))&&!m)return;const b=o(t,v);b<c?(l=[{element:u,datasetIndex:f,index:p}],c=b):b===c&&l.push({element:u,datasetIndex:f,index:p})}return Hj(e,a,t,d),l}function A5(e,t,a,r,n,i){return!i&&!e.isPointInArea(t)?[]:a==="r"&&!r?tne(e,t,a,n):ane(e,t,a,r,n,i)}function ID(e,t,a,r,n){const i=[],l=a==="x"?"inXRange":"inYRange";let o=!1;return Hj(e,a,t,(c,d,u)=>{c[l]&&c[l](t[a],n)&&(i.push({element:c,datasetIndex:d,index:u}),o=o||c.inRange(t.x,t.y,n))}),r&&!o?[]:i}var sne={modes:{index(e,t,a,r){const n=L0(t,e),i=a.axis||"x",l=a.includeInvisible||!1,o=a.intersect?C5(e,n,i,r,l):A5(e,n,i,!1,r,l),c=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach(d=>{const u=o[0].index,f=d.data[u];f&&!f.skip&&c.push({element:f,datasetIndex:d.index,index:u})}),c):[]},dataset(e,t,a,r){const n=L0(t,e),i=a.axis||"xy",l=a.includeInvisible||!1;let o=a.intersect?C5(e,n,i,r,l):A5(e,n,i,!1,r,l);if(o.length>0){const c=o[0].datasetIndex,d=e.getDatasetMeta(c).data;o=[];for(let u=0;u<d.length;++u)o.push({element:d[u],datasetIndex:c,index:u})}return o},point(e,t,a,r){const n=L0(t,e),i=a.axis||"xy",l=a.includeInvisible||!1;return C5(e,n,i,r,l)},nearest(e,t,a,r){const n=L0(t,e),i=a.axis||"xy",l=a.includeInvisible||!1;return A5(e,n,i,a.intersect,r,l)},x(e,t,a,r){const n=L0(t,e);return ID(e,n,"x",a.intersect,r)},y(e,t,a,r){const n=L0(t,e);return ID(e,n,"y",a.intersect,r)}}};const FU=["left","top","right","bottom"];function Hg(e,t){return e.filter(a=>a.pos===t)}function BD(e,t){return e.filter(a=>FU.indexOf(a.pos)===-1&&a.box.axis===t)}function Vg(e,t){return e.sort((a,r)=>{const n=t?r:a,i=t?a:r;return n.weight===i.weight?n.index-i.index:n.weight-i.weight})}function rne(e){const t=[];let a,r,n,i,l,o;for(a=0,r=(e||[]).length;a<r;++a)n=e[a],{position:i,options:{stack:l,stackWeight:o=1}}=n,t.push({index:a,box:n,pos:i,horizontal:n.isHorizontal(),weight:n.weight,stack:l&&i+l,stackWeight:o});return t}function nne(e){const t={};for(const a of e){const{stack:r,pos:n,stackWeight:i}=a;if(!r||!FU.includes(n))continue;const l=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=i}return t}function ine(e,t){const a=nne(e),{vBoxMaxWidth:r,hBoxMaxHeight:n}=t;let i,l,o;for(i=0,l=e.length;i<l;++i){o=e[i];const{fullSize:c}=o.box,d=a[o.stack],u=d&&o.stackWeight/d.weight;o.horizontal?(o.width=u?u*r:c&&t.availableWidth,o.height=n):(o.width=r,o.height=u?u*n:c&&t.availableHeight)}return a}function lne(e){const t=rne(e),a=Vg(t.filter(d=>d.box.fullSize),!0),r=Vg(Hg(t,"left"),!0),n=Vg(Hg(t,"right")),i=Vg(Hg(t,"top"),!0),l=Vg(Hg(t,"bottom")),o=BD(t,"x"),c=BD(t,"y");return{fullSize:a,leftAndTop:r.concat(i),rightAndBottom:n.concat(c).concat(l).concat(o),chartArea:Hg(t,"chartArea"),vertical:r.concat(n).concat(c),horizontal:i.concat(l).concat(o)}}function $D(e,t,a,r){return Math.max(e[a],t[a])+Math.max(e[r],t[r])}function IU(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function one(e,t,a,r){const{pos:n,box:i}=a,l=e.maxPadding;if(!As(n)){a.size&&(e[n]-=a.size);const f=r[a.stack]||{size:0,count:1};f.size=Math.max(f.size,a.horizontal?i.height:i.width),a.size=f.size/f.count,e[n]+=a.size}i.getPadding&&IU(l,i.getPadding());const o=Math.max(0,t.outerWidth-$D(l,e,"left","right")),c=Math.max(0,t.outerHeight-$D(l,e,"top","bottom")),d=o!==e.w,u=c!==e.h;return e.w=o,e.h=c,a.horizontal?{same:d,other:u}:{same:u,other:d}}function cne(e){const t=e.maxPadding;function a(r){const n=Math.max(t[r]-e[r],0);return e[r]+=n,n}e.y+=a("top"),e.x+=a("left"),a("right"),a("bottom")}function dne(e,t){const a=t.maxPadding;function r(n){const i={left:0,top:0,right:0,bottom:0};return n.forEach(l=>{i[l]=Math.max(t[l],a[l])}),i}return r(e?["left","right"]:["top","bottom"])}function pv(e,t,a,r){const n=[];let i,l,o,c,d,u;for(i=0,l=e.length,d=0;i<l;++i){o=e[i],c=o.box,c.update(o.width||t.w,o.height||t.h,dne(o.horizontal,t));const{same:f,other:p}=one(t,a,o,r);d|=f&&n.length,u=u||p,c.fullSize||n.push(o)}return d&&pv(n,t,a,r)||u}function Fy(e,t,a,r,n){e.top=a,e.left=t,e.right=t+r,e.bottom=a+n,e.width=r,e.height=n}function UD(e,t,a,r){const n=a.padding;let{x:i,y:l}=t;for(const o of e){const c=o.box,d=r[o.stack]||{placed:0,weight:1},u=o.stackWeight/d.weight||1;if(o.horizontal){const f=t.w*u,p=d.size||c.height;e1(d.start)&&(l=d.start),c.fullSize?Fy(c,n.left,l,a.outerWidth-n.right-n.left,p):Fy(c,t.left+d.placed,l,f,p),d.start=l,d.placed+=f,l=c.bottom}else{const f=t.h*u,p=d.size||c.width;e1(d.start)&&(i=d.start),c.fullSize?Fy(c,i,n.top,p,a.outerHeight-n.bottom-n.top):Fy(c,i,t.top+d.placed,p,f),d.start=i,d.placed+=f,i=c.right}}t.x=i,t.y=l}var bl={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(a){t.draw(a)}}]},e.boxes.push(t)},removeBox(e,t){const a=e.boxes?e.boxes.indexOf(t):-1;a!==-1&&e.boxes.splice(a,1)},configure(e,t,a){t.fullSize=a.fullSize,t.position=a.position,t.weight=a.weight},update(e,t,a,r){if(!e)return;const n=jl(e.options.layout.padding),i=Math.max(t-n.width,0),l=Math.max(a-n.height,0),o=lne(e.boxes),c=o.vertical,d=o.horizontal;Zs(e.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=c.reduce((g,b)=>b.box.options&&b.box.options.display===!1?g:g+1,0)||1,f=Object.freeze({outerWidth:t,outerHeight:a,padding:n,availableWidth:i,availableHeight:l,vBoxMaxWidth:i/2/u,hBoxMaxHeight:l/2}),p=Object.assign({},n);IU(p,jl(r));const m=Object.assign({maxPadding:p,w:i,h:l,x:n.left,y:n.top},n),v=ine(c.concat(d),f);pv(o.fullSize,m,f,v),pv(c,m,f,v),pv(d,m,f,v)&&pv(c,m,f,v),cne(m),UD(o.leftAndTop,m,f,v),m.x+=m.w,m.y+=m.h,UD(o.rightAndBottom,m,f,v),e.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},Zs(o.chartArea,g=>{const b=g.box;Object.assign(b,e.chartArea),b.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class BU{acquireContext(t,a){}releaseContext(t){return!1}addEventListener(t,a,r){}removeEventListener(t,a,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,a,r,n){return a=Math.max(0,a||t.width),r=r||t.height,{width:a,height:Math.max(0,n?Math.floor(a/n):r)}}isAttached(t){return!0}updateConfig(t){}}class une extends BU{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const $2="$chartjs",hne={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},zD=e=>e===null||e==="";function fne(e,t){const a=e.style,r=e.getAttribute("height"),n=e.getAttribute("width");if(e[$2]={initial:{height:r,width:n,style:{display:a.display,height:a.height,width:a.width}}},a.display=a.display||"block",a.boxSizing=a.boxSizing||"border-box",zD(n)){const i=SD(e,"width");i!==void 0&&(e.width=i)}if(zD(r))if(e.style.height==="")e.height=e.width/(t||2);else{const i=SD(e,"height");i!==void 0&&(e.height=i)}return e}const $U=ure?{passive:!0}:!1;function mne(e,t,a){e&&e.addEventListener(t,a,$U)}function pne(e,t,a){e&&e.canvas&&e.canvas.removeEventListener(t,a,$U)}function xne(e,t){const a=hne[e.type]||e.type,{x:r,y:n}=L0(e,t);return{type:a,chart:t,native:e,x:r!==void 0?r:null,y:n!==void 0?n:null}}function iw(e,t){for(const a of e)if(a===t||a.contains(t))return!0}function gne(e,t,a){const r=e.canvas,n=new MutationObserver(i=>{let l=!1;for(const o of i)l=l||iw(o.addedNodes,r),l=l&&!iw(o.removedNodes,r);l&&a()});return n.observe(document,{childList:!0,subtree:!0}),n}function vne(e,t,a){const r=e.canvas,n=new MutationObserver(i=>{let l=!1;for(const o of i)l=l||iw(o.removedNodes,r),l=l&&!iw(o.addedNodes,r);l&&a()});return n.observe(document,{childList:!0,subtree:!0}),n}const s1=new Map;let HD=0;function UU(){const e=window.devicePixelRatio;e!==HD&&(HD=e,s1.forEach((t,a)=>{a.currentDevicePixelRatio!==e&&t()}))}function bne(e,t){s1.size||window.addEventListener("resize",UU),s1.set(e,t)}function yne(e){s1.delete(e),s1.size||window.removeEventListener("resize",UU)}function wne(e,t,a){const r=e.canvas,n=r&&NA(r);if(!n)return;const i=hU((o,c)=>{const d=n.clientWidth;a(o,c),d<n.clientWidth&&a()},window),l=new ResizeObserver(o=>{const c=o[0],d=c.contentRect.width,u=c.contentRect.height;d===0&&u===0||i(d,u)});return l.observe(n),bne(e,i),l}function _5(e,t,a){a&&a.disconnect(),t==="resize"&&yne(e)}function jne(e,t,a){const r=e.canvas,n=hU(i=>{e.ctx!==null&&a(xne(i,e))},e);return mne(r,t,n),n}class Nne extends BU{acquireContext(t,a){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(fne(t,a),r):null}releaseContext(t){const a=t.canvas;if(!a[$2])return!1;const r=a[$2].initial;["height","width"].forEach(i=>{const l=r[i];Ns(l)?a.removeAttribute(i):a.setAttribute(i,l)});const n=r.style||{};return Object.keys(n).forEach(i=>{a.style[i]=n[i]}),a.width=a.width,delete a[$2],!0}addEventListener(t,a,r){this.removeEventListener(t,a);const n=t.$proxies||(t.$proxies={}),l={attach:gne,detach:vne,resize:wne}[a]||jne;n[a]=l(t,a,r)}removeEventListener(t,a){const r=t.$proxies||(t.$proxies={}),n=r[a];if(!n)return;({attach:_5,detach:_5,resize:_5}[a]||pne)(t,a,n),r[a]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,a,r,n){return dre(t,a,r,n)}isAttached(t){const a=t&&NA(t);return!!(a&&a.isConnected)}}function kne(e){return!jA()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?une:Nne}let Sh=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:a,y:r}=this.getProps(["x","y"],t);return{x:a,y:r}}hasValue(){return ox(this.x)&&ox(this.y)}getProps(t,a){const r=this.$animations;if(!a||!r)return this;const n={};return t.forEach(i=>{n[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),n}};function Sne(e,t){const a=e.options.ticks,r=Cne(e),n=Math.min(a.maxTicksLimit||r,r),i=a.major.enabled?_ne(t):[],l=i.length,o=i[0],c=i[l-1],d=[];if(l>n)return Ene(t,d,i,l/n),d;const u=Ane(i,t,n);if(l>0){let f,p;const m=l>1?Math.round((c-o)/(l-1)):null;for(Iy(t,d,u,Ns(m)?0:o-m,o),f=0,p=l-1;f<p;f++)Iy(t,d,u,i[f],i[f+1]);return Iy(t,d,u,c,Ns(m)?t.length:c+m),d}return Iy(t,d,u),d}function Cne(e){const t=e.options.offset,a=e._tickSize(),r=e._length/a+(t?0:1),n=e._maxLength/a;return Math.floor(Math.min(r,n))}function Ane(e,t,a){const r=Tne(e),n=t.length/a;if(!r)return Math.max(n,1);const i=fse(r);for(let l=0,o=i.length-1;l<o;l++){const c=i[l];if(c>n)return c}return Math.max(n,1)}function _ne(e){const t=[];let a,r;for(a=0,r=e.length;a<r;a++)e[a].major&&t.push(a);return t}function Ene(e,t,a,r){let n=0,i=a[0],l;for(r=Math.ceil(r),l=0;l<e.length;l++)l===i&&(t.push(e[l]),n++,i=a[n*r])}function Iy(e,t,a,r,n){const i=es(r,0),l=Math.min(es(n,e.length),e.length);let o=0,c,d,u;for(a=Math.ceil(a),n&&(c=n-r,a=c/Math.floor(c/a)),u=i;u<0;)o++,u=Math.round(i+o*a);for(d=Math.max(i,0);d<l;d++)d===u&&(t.push(e[d]),o++,u=Math.round(i+o*a))}function Tne(e){const t=e.length;let a,r;if(t<2)return!1;for(r=e[0],a=1;a<t;++a)if(e[a]-e[a-1]!==r)return!1;return r}const Dne=e=>e==="left"?"right":e==="right"?"left":e,VD=(e,t,a)=>t==="top"||t==="left"?e[t]+a:e[t]-a,WD=(e,t)=>Math.min(t||e,e);function qD(e,t){const a=[],r=e.length/t,n=e.length;let i=0;for(;i<n;i+=r)a.push(e[Math.floor(i)]);return a}function Pne(e,t,a){const r=e.ticks.length,n=Math.min(t,r-1),i=e._startPixel,l=e._endPixel,o=1e-6;let c=e.getPixelForTick(n),d;if(!(a&&(r===1?d=Math.max(c-i,l-c):t===0?d=(e.getPixelForTick(1)-c)/2:d=(c-e.getPixelForTick(n-1))/2,c+=n<t?d:-d,c<i-o||c>l+o)))return c}function Mne(e,t){Zs(e,a=>{const r=a.gc,n=r.length/2;let i;if(n>t){for(i=0;i<n;++i)delete a.data[r[i]];r.splice(0,n)}})}function Wg(e){return e.drawTicks?e.tickLength:0}function GD(e,t){if(!e.display)return 0;const a=ci(e.font,t),r=jl(e.padding);return(Br(e.text)?e.text.length:1)*a.lineHeight+r.height}function Lne(e,t){return qf(e,{scale:t,type:"scale"})}function One(e,t,a){return qf(e,{tick:a,index:t,type:"tick"})}function Rne(e,t,a){let r=xA(e);return(a&&t!=="right"||!a&&t==="right")&&(r=Dne(r)),r}function Fne(e,t,a,r){const{top:n,left:i,bottom:l,right:o,chart:c}=e,{chartArea:d,scales:u}=c;let f=0,p,m,v;const g=l-n,b=o-i;if(e.isHorizontal()){if(m=dl(r,i,o),As(a)){const j=Object.keys(a)[0],k=a[j];v=u[j].getPixelForValue(k)+g-t}else a==="center"?v=(d.bottom+d.top)/2+g-t:v=VD(e,a,t);p=o-i}else{if(As(a)){const j=Object.keys(a)[0],k=a[j];m=u[j].getPixelForValue(k)-b+t}else a==="center"?m=(d.left+d.right)/2-b+t:m=VD(e,a,t);v=dl(r,l,n),f=a==="left"?-On:On}return{titleX:m,titleY:v,maxWidth:p,rotation:f}}class Rm extends Sh{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,a){return t}getUserBounds(){let{_userMin:t,_userMax:a,_suggestedMin:r,_suggestedMax:n}=this;return t=Fo(t,Number.POSITIVE_INFINITY),a=Fo(a,Number.NEGATIVE_INFINITY),r=Fo(r,Number.POSITIVE_INFINITY),n=Fo(n,Number.NEGATIVE_INFINITY),{min:Fo(t,r),max:Fo(a,n),minDefined:xn(t),maxDefined:xn(a)}}getMinMax(t){let{min:a,max:r,minDefined:n,maxDefined:i}=this.getUserBounds(),l;if(n&&i)return{min:a,max:r};const o=this.getMatchingVisibleMetas();for(let c=0,d=o.length;c<d;++c)l=o[c].controller.getMinMax(this,t),n||(a=Math.min(a,l.min)),i||(r=Math.max(r,l.max));return a=i&&a>r?r:a,r=n&&a>r?a:r,{min:Fo(a,Fo(r,a)),max:Fo(r,Fo(a,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){xr(this.options.beforeUpdate,[this])}update(t,a,r){const{beginAtZero:n,grace:i,ticks:l}=this.options,o=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=a,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=zse(this,i,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=o<this.ticks.length;this._convertTicksToLabels(c?qD(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=Sne(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,a,r;this.isHorizontal()?(a=this.left,r=this.right):(a=this.top,r=this.bottom,t=!t),this._startPixel=a,this._endPixel=r,this._reversePixels=t,this._length=r-a,this._alignToPixels=this.options.alignToPixels}afterUpdate(){xr(this.options.afterUpdate,[this])}beforeSetDimensions(){xr(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){xr(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),xr(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){xr(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const a=this.options.ticks;let r,n,i;for(r=0,n=t.length;r<n;r++)i=t[r],i.label=xr(a.callback,[i.value,r,t],this)}afterTickToLabelConversion(){xr(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){xr(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,a=t.ticks,r=WD(this.ticks.length,t.ticks.maxTicksLimit),n=a.minRotation||0,i=a.maxRotation;let l=n,o,c,d;if(!this._isVisible()||!a.display||n>=i||r<=1||!this.isHorizontal()){this.labelRotation=n;return}const u=this._getLabelSizes(),f=u.widest.width,p=u.highest.height,m=Ei(this.chart.width-f,0,this.maxWidth);o=t.offset?this.maxWidth/r:m/(r-1),f+6>o&&(o=m/(r-(t.offset?.5:1)),c=this.maxHeight-Wg(t.grid)-a.padding-GD(t.title,this.chart.options.font),d=Math.sqrt(f*f+p*p),l=mA(Math.min(Math.asin(Ei((u.highest.height+6)/o,-1,1)),Math.asin(Ei(c/d,-1,1))-Math.asin(Ei(p/d,-1,1)))),l=Math.max(n,Math.min(i,l))),this.labelRotation=l}afterCalculateLabelRotation(){xr(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){xr(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:a,options:{ticks:r,title:n,grid:i}}=this,l=this._isVisible(),o=this.isHorizontal();if(l){const c=GD(n,a.options.font);if(o?(t.width=this.maxWidth,t.height=Wg(i)+c):(t.height=this.maxHeight,t.width=Wg(i)+c),r.display&&this.ticks.length){const{first:d,last:u,widest:f,highest:p}=this._getLabelSizes(),m=r.padding*2,v=bd(this.labelRotation),g=Math.cos(v),b=Math.sin(v);if(o){const j=r.mirror?0:b*f.width+g*p.height;t.height=Math.min(this.maxHeight,t.height+j+m)}else{const j=r.mirror?0:g*f.width+b*p.height;t.width=Math.min(this.maxWidth,t.width+j+m)}this._calculatePadding(d,u,b,g)}}this._handleMargins(),o?(this.width=this._length=a.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=a.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,a,r,n){const{ticks:{align:i,padding:l},position:o}=this.options,c=this.labelRotation!==0,d=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,m=0;c?d?(p=n*t.width,m=r*a.height):(p=r*t.height,m=n*a.width):i==="start"?m=a.width:i==="end"?p=t.width:i!=="inner"&&(p=t.width/2,m=a.width/2),this.paddingLeft=Math.max((p-u+l)*this.width/(this.width-u),0),this.paddingRight=Math.max((m-f+l)*this.width/(this.width-f),0)}else{let u=a.height/2,f=t.height/2;i==="start"?(u=0,f=t.height):i==="end"&&(u=a.height,f=0),this.paddingTop=u+l,this.paddingBottom=f+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){xr(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:a}=this.options;return a==="top"||a==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let a,r;for(a=0,r=t.length;a<r;a++)Ns(t[a].label)&&(t.splice(a,1),r--,a--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const a=this.options.ticks.sampleSize;let r=this.ticks;a<r.length&&(r=qD(r,a)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,a,r){const{ctx:n,_longestTextCache:i}=this,l=[],o=[],c=Math.floor(a/WD(a,r));let d=0,u=0,f,p,m,v,g,b,j,k,S,N,A;for(f=0;f<a;f+=c){if(v=t[f].label,g=this._resolveTickFontOptions(f),n.font=b=g.string,j=i[b]=i[b]||{data:{},gc:[]},k=g.lineHeight,S=N=0,!Ns(v)&&!Br(v))S=rw(n,j.data,j.gc,S,v),N=k;else if(Br(v))for(p=0,m=v.length;p<m;++p)A=v[p],!Ns(A)&&!Br(A)&&(S=rw(n,j.data,j.gc,S,A),N+=k);l.push(S),o.push(N),d=Math.max(S,d),u=Math.max(N,u)}Mne(i,a);const _=l.indexOf(d),E=o.indexOf(u),D=R=>({width:l[R]||0,height:o[R]||0});return{first:D(0),last:D(a-1),widest:D(_),highest:D(E),widths:l,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,a){return NaN}getValueForPixel(t){}getPixelForTick(t){const a=this.ticks;return t<0||t>a.length-1?null:this.getPixelForValue(a[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const a=this._startPixel+t*this._length;return gse(this._alignToPixels?E0(this.chart,a,0):a)}getDecimalForPixel(t){const a=(t-this._startPixel)/this._length;return this._reversePixels?1-a:a}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:a}=this;return t<0&&a<0?a:t>0&&a>0?t:0}getContext(t){const a=this.ticks||[];if(t>=0&&t<a.length){const r=a[t];return r.$context||(r.$context=One(this.getContext(),t,r))}return this.$context||(this.$context=Lne(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,a=bd(this.labelRotation),r=Math.abs(Math.cos(a)),n=Math.abs(Math.sin(a)),i=this._getLabelSizes(),l=t.autoSkipPadding||0,o=i?i.widest.width+l:0,c=i?i.highest.height+l:0;return this.isHorizontal()?c*r>o*n?o/r:c/n:c*n<o*r?c/r:o/n}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const a=this.axis,r=this.chart,n=this.options,{grid:i,position:l,border:o}=n,c=i.offset,d=this.isHorizontal(),f=this.ticks.length+(c?1:0),p=Wg(i),m=[],v=o.setContext(this.getContext()),g=v.display?v.width:0,b=g/2,j=function(V){return E0(r,V,g)};let k,S,N,A,_,E,D,R,I,M,U,P;if(l==="top")k=j(this.bottom),E=this.bottom-p,R=k-b,M=j(t.top)+b,P=t.bottom;else if(l==="bottom")k=j(this.top),M=t.top,P=j(t.bottom)-b,E=k+b,R=this.top+p;else if(l==="left")k=j(this.right),_=this.right-p,D=k-b,I=j(t.left)+b,U=t.right;else if(l==="right")k=j(this.left),I=t.left,U=j(t.right)-b,_=k+b,D=this.left+p;else if(a==="x"){if(l==="center")k=j((t.top+t.bottom)/2+.5);else if(As(l)){const V=Object.keys(l)[0],J=l[V];k=j(this.chart.scales[V].getPixelForValue(J))}M=t.top,P=t.bottom,E=k+b,R=E+p}else if(a==="y"){if(l==="center")k=j((t.left+t.right)/2);else if(As(l)){const V=Object.keys(l)[0],J=l[V];k=j(this.chart.scales[V].getPixelForValue(J))}_=k-b,D=_-p,I=t.left,U=t.right}const F=es(n.ticks.maxTicksLimit,f),K=Math.max(1,Math.ceil(f/F));for(S=0;S<f;S+=K){const V=this.getContext(S),J=i.setContext(V),Q=o.setContext(V),z=J.lineWidth,X=J.color,le=Q.dash||[],O=Q.dashOffset,q=J.tickWidth,W=J.tickColor,te=J.tickBorderDash||[],re=J.tickBorderDashOffset;N=Pne(this,S,c),N!==void 0&&(A=E0(r,N,z),d?_=D=I=U=A:E=R=M=P=A,m.push({tx1:_,ty1:E,tx2:D,ty2:R,x1:I,y1:M,x2:U,y2:P,width:z,color:X,borderDash:le,borderDashOffset:O,tickWidth:q,tickColor:W,tickBorderDash:te,tickBorderDashOffset:re}))}return this._ticksLength=f,this._borderValue=k,m}_computeLabelItems(t){const a=this.axis,r=this.options,{position:n,ticks:i}=r,l=this.isHorizontal(),o=this.ticks,{align:c,crossAlign:d,padding:u,mirror:f}=i,p=Wg(r.grid),m=p+u,v=f?-u:m,g=-bd(this.labelRotation),b=[];let j,k,S,N,A,_,E,D,R,I,M,U,P="middle";if(n==="top")_=this.bottom-v,E=this._getXAxisLabelAlignment();else if(n==="bottom")_=this.top+v,E=this._getXAxisLabelAlignment();else if(n==="left"){const K=this._getYAxisLabelAlignment(p);E=K.textAlign,A=K.x}else if(n==="right"){const K=this._getYAxisLabelAlignment(p);E=K.textAlign,A=K.x}else if(a==="x"){if(n==="center")_=(t.top+t.bottom)/2+m;else if(As(n)){const K=Object.keys(n)[0],V=n[K];_=this.chart.scales[K].getPixelForValue(V)+m}E=this._getXAxisLabelAlignment()}else if(a==="y"){if(n==="center")A=(t.left+t.right)/2-m;else if(As(n)){const K=Object.keys(n)[0],V=n[K];A=this.chart.scales[K].getPixelForValue(V)}E=this._getYAxisLabelAlignment(p).textAlign}a==="y"&&(c==="start"?P="top":c==="end"&&(P="bottom"));const F=this._getLabelSizes();for(j=0,k=o.length;j<k;++j){S=o[j],N=S.label;const K=i.setContext(this.getContext(j));D=this.getPixelForTick(j)+i.labelOffset,R=this._resolveTickFontOptions(j),I=R.lineHeight,M=Br(N)?N.length:1;const V=M/2,J=K.color,Q=K.textStrokeColor,z=K.textStrokeWidth;let X=E;l?(A=D,E==="inner"&&(j===k-1?X=this.options.reverse?"left":"right":j===0?X=this.options.reverse?"right":"left":X="center"),n==="top"?d==="near"||g!==0?U=-M*I+I/2:d==="center"?U=-F.highest.height/2-V*I+I:U=-F.highest.height+I/2:d==="near"||g!==0?U=I/2:d==="center"?U=F.highest.height/2-V*I:U=F.highest.height-M*I,f&&(U*=-1),g!==0&&!K.showLabelBackdrop&&(A+=I/2*Math.sin(g))):(_=D,U=(1-M)*I/2);let le;if(K.showLabelBackdrop){const O=jl(K.backdropPadding),q=F.heights[j],W=F.widths[j];let te=U-O.top,re=0-O.left;switch(P){case"middle":te-=q/2;break;case"bottom":te-=q;break}switch(E){case"center":re-=W/2;break;case"right":re-=W;break;case"inner":j===k-1?re-=W:j>0&&(re-=W/2);break}le={left:re,top:te,width:W+O.width,height:q+O.height,color:K.backdropColor}}b.push({label:N,font:R,textOffset:U,options:{rotation:g,color:J,strokeColor:Q,strokeWidth:z,textAlign:X,textBaseline:P,translation:[A,_],backdrop:le}})}return b}_getXAxisLabelAlignment(){const{position:t,ticks:a}=this.options;if(-bd(this.labelRotation))return t==="top"?"left":"right";let n="center";return a.align==="start"?n="left":a.align==="end"?n="right":a.align==="inner"&&(n="inner"),n}_getYAxisLabelAlignment(t){const{position:a,ticks:{crossAlign:r,mirror:n,padding:i}}=this.options,l=this._getLabelSizes(),o=t+i,c=l.widest.width;let d,u;return a==="left"?n?(u=this.right+i,r==="near"?d="left":r==="center"?(d="center",u+=c/2):(d="right",u+=c)):(u=this.right-o,r==="near"?d="right":r==="center"?(d="center",u-=c/2):(d="left",u=this.left)):a==="right"?n?(u=this.left+i,r==="near"?d="right":r==="center"?(d="center",u-=c/2):(d="left",u-=c)):(u=this.left+o,r==="near"?d="left":r==="center"?(d="center",u+=c/2):(d="right",u=this.right)):d="right",{textAlign:d,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,a=this.options.position;if(a==="left"||a==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(a==="top"||a==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:a},left:r,top:n,width:i,height:l}=this;a&&(t.save(),t.fillStyle=a,t.fillRect(r,n,i,l),t.restore())}getLineWidthForValue(t){const a=this.options.grid;if(!this._isVisible()||!a.display)return 0;const n=this.ticks.findIndex(i=>i.value===t);return n>=0?a.setContext(this.getContext(n)).lineWidth:0}drawGrid(t){const a=this.options.grid,r=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,l;const o=(c,d,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(d.x,d.y),r.stroke(),r.restore())};if(a.display)for(i=0,l=n.length;i<l;++i){const c=n[i];a.drawOnChartArea&&o({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),a.drawTicks&&o({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:a,options:{border:r,grid:n}}=this,i=r.setContext(this.getContext()),l=r.display?i.width:0;if(!l)return;const o=n.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,u,f,p;this.isHorizontal()?(d=E0(t,this.left,l)-l/2,u=E0(t,this.right,o)+o/2,f=p=c):(f=E0(t,this.top,l)-l/2,p=E0(t,this.bottom,o)+o/2,d=u=c),a.save(),a.lineWidth=i.width,a.strokeStyle=i.color,a.beginPath(),a.moveTo(d,f),a.lineTo(u,p),a.stroke(),a.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,n=this._computeLabelArea();n&&Bj(r,n);const i=this.getLabelItems(t);for(const l of i){const o=l.options,c=l.font,d=l.label,u=l.textOffset;xm(r,d,0,u,c,o)}n&&$j(r)}drawTitle(){const{ctx:t,options:{position:a,title:r,reverse:n}}=this;if(!r.display)return;const i=ci(r.font),l=jl(r.padding),o=r.align;let c=i.lineHeight/2;a==="bottom"||a==="center"||As(a)?(c+=l.bottom,Br(r.text)&&(c+=i.lineHeight*(r.text.length-1))):c+=l.top;const{titleX:d,titleY:u,maxWidth:f,rotation:p}=Fne(this,c,a,o);xm(t,r.text,0,0,i,{color:r.color,maxWidth:f,rotation:p,textAlign:Rne(o,a,n),textBaseline:"middle",translation:[d,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,a=t.ticks&&t.ticks.z||0,r=es(t.grid&&t.grid.z,-1),n=es(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Rm.prototype.draw?[{z:a,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:a,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(t){const a=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",n=[];let i,l;for(i=0,l=a.length;i<l;++i){const o=a[i];o[r]===this.id&&(!t||o.type===t)&&n.push(o)}return n}_resolveTickFontOptions(t){const a=this.options.ticks.setContext(this.getContext(t));return ci(a.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class By{constructor(t,a,r){this.type=t,this.scope=a,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const a=Object.getPrototypeOf(t);let r;$ne(a)&&(r=this.register(a));const n=this.items,i=t.id,l=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in n||(n[i]=t,Ine(t,l,r),this.override&&$r.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const a=this.items,r=t.id,n=this.scope;r in a&&delete a[r],n&&r in $r[n]&&(delete $r[n][r],this.override&&delete pm[r])}}function Ine(e,t,a){const r=Zv(Object.create(null),[a?$r.get(a):{},$r.get(t),e.defaults]);$r.set(t,r),e.defaultRoutes&&Bne(t,e.defaultRoutes),e.descriptors&&$r.describe(t,e.descriptors)}function Bne(e,t){Object.keys(t).forEach(a=>{const r=a.split("."),n=r.pop(),i=[e].concat(r).join("."),l=t[a].split("."),o=l.pop(),c=l.join(".");$r.route(i,n,c,o)})}function $ne(e){return"id"in e&&"defaults"in e}class Une{constructor(){this.controllers=new By(Gf,"datasets",!0),this.elements=new By(Sh,"elements"),this.plugins=new By(Object,"plugins"),this.scales=new By(Rm,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,a,r){[...a].forEach(n=>{const i=r||this._getRegistryForType(n);r||i.isForType(n)||i===this.plugins&&n.id?this._exec(t,i,n):Zs(n,l=>{const o=r||this._getRegistryForType(l);this._exec(t,o,l)})})}_exec(t,a,r){const n=fA(t);xr(r["before"+n],[],r),a[t](r),xr(r["after"+n],[],r)}_getRegistryForType(t){for(let a=0;a<this._typedRegistries.length;a++){const r=this._typedRegistries[a];if(r.isForType(t))return r}return this.plugins}_get(t,a,r){const n=a.get(t);if(n===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return n}}var ou=new Une;class zne{constructor(){this._init=[]}notify(t,a,r,n){a==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const i=n?this._descriptors(t).filter(n):this._descriptors(t),l=this._notify(i,t,a,r);return a==="afterDestroy"&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,a,r,n){n=n||{};for(const i of t){const l=i.plugin,o=l[r],c=[a,n,i.options];if(xr(o,c,l)===!1&&n.cancelable)return!1}return!0}invalidate(){Ns(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const a=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),a}_createDescriptors(t,a){const r=t&&t.config,n=es(r.options&&r.options.plugins,{}),i=Hne(r);return n===!1&&!a?[]:Wne(t,i,n,a)}_notifyStateChanges(t){const a=this._oldCache||[],r=this._cache,n=(i,l)=>i.filter(o=>!l.some(c=>o.plugin.id===c.plugin.id));this._notify(n(a,r),t,"stop"),this._notify(n(r,a),t,"start")}}function Hne(e){const t={},a=[],r=Object.keys(ou.plugins.items);for(let i=0;i<r.length;i++)a.push(ou.getPlugin(r[i]));const n=e.plugins||[];for(let i=0;i<n.length;i++){const l=n[i];a.indexOf(l)===-1&&(a.push(l),t[l.id]=!0)}return{plugins:a,localIds:t}}function Vne(e,t){return!t&&e===!1?null:e===!0?{}:e}function Wne(e,{plugins:t,localIds:a},r,n){const i=[],l=e.getContext();for(const o of t){const c=o.id,d=Vne(r[c],n);d!==null&&i.push({plugin:o,options:qne(e.config,{plugin:o,local:a[c]},d,l)})}return i}function qne(e,{plugin:t,local:a},r,n){const i=e.pluginScopeKeys(t),l=e.getOptionScopes(r,i);return a&&t.defaults&&l.push(t.defaults),e.createResolver(l,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function GS(e,t){const a=$r.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||a.indexAxis||"x"}function Gne(e,t){let a=e;return e==="_index_"?a=t:e==="_value_"&&(a=t==="x"?"y":"x"),a}function Kne(e,t){return e===t?"_index_":"_value_"}function KD(e){if(e==="x"||e==="y"||e==="r")return e}function Yne(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function KS(e,...t){if(KD(e))return e;for(const a of t){const r=a.axis||Yne(a.position)||e.length>1&&KD(e[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function YD(e,t,a){if(a[t+"AxisID"]===e)return{axis:t}}function Xne(e,t){if(t.data&&t.data.datasets){const a=t.data.datasets.filter(r=>r.xAxisID===e||r.yAxisID===e);if(a.length)return YD(e,"x",a[0])||YD(e,"y",a[0])}return{}}function Jne(e,t){const a=pm[e.type]||{scales:{}},r=t.scales||{},n=GS(e.type,t),i=Object.create(null);return Object.keys(r).forEach(l=>{const o=r[l];if(!As(o))return console.error(`Invalid scale configuration for scale: ${l}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const c=KS(l,o,Xne(l,e),$r.scales[o.type]),d=Kne(c,n),u=a.scales||{};i[l]=Nv(Object.create(null),[{axis:c},o,u[c],u[d]])}),e.data.datasets.forEach(l=>{const o=l.type||e.type,c=l.indexAxis||GS(o,t),u=(pm[o]||{}).scales||{};Object.keys(u).forEach(f=>{const p=Gne(f,c),m=l[p+"AxisID"]||p;i[m]=i[m]||Object.create(null),Nv(i[m],[{axis:p},r[m],u[f]])})}),Object.keys(i).forEach(l=>{const o=i[l];Nv(o,[$r.scales[o.type],$r.scale])}),i}function zU(e){const t=e.options||(e.options={});t.plugins=es(t.plugins,{}),t.scales=Jne(e,t)}function HU(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function Qne(e){return e=e||{},e.data=HU(e.data),zU(e),e}const XD=new Map,VU=new Set;function $y(e,t){let a=XD.get(e);return a||(a=t(),XD.set(e,a),VU.add(a)),a}const qg=(e,t,a)=>{const r=Pf(t,a);r!==void 0&&e.add(r)};class Zne{constructor(t){this._config=Qne(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=HU(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),zU(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return $y(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,a){return $y(`${t}.transition.${a}`,()=>[[`datasets.${t}.transitions.${a}`,`transitions.${a}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,a){return $y(`${t}-${a}`,()=>[[`datasets.${t}.elements.${a}`,`datasets.${t}`,`elements.${a}`,""]])}pluginScopeKeys(t){const a=t.id,r=this.type;return $y(`${r}-plugin-${a}`,()=>[[`plugins.${a}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,a){const r=this._scopeCache;let n=r.get(t);return(!n||a)&&(n=new Map,r.set(t,n)),n}getOptionScopes(t,a,r){const{options:n,type:i}=this,l=this._cachedScopes(t,r),o=l.get(a);if(o)return o;const c=new Set;a.forEach(u=>{t&&(c.add(t),u.forEach(f=>qg(c,t,f))),u.forEach(f=>qg(c,n,f)),u.forEach(f=>qg(c,pm[i]||{},f)),u.forEach(f=>qg(c,$r,f)),u.forEach(f=>qg(c,WS,f))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),VU.has(a)&&l.set(a,d),d}chartOptionScopes(){const{options:t,type:a}=this;return[t,pm[a]||{},$r.datasets[a]||{},{type:a},$r,WS]}resolveNamedOptions(t,a,r,n=[""]){const i={$shared:!0},{resolver:l,subPrefixes:o}=JD(this._resolverCache,t,n);let c=l;if(tie(l,a)){i.$shared=!1,r=Mf(r)?r():r;const d=this.createResolver(t,r,o);c=cx(l,r,d)}for(const d of a)i[d]=c[d];return i}createResolver(t,a,r=[""],n){const{resolver:i}=JD(this._resolverCache,t,r);return As(a)?cx(i,a,void 0,n):i}}function JD(e,t,a){let r=e.get(t);r||(r=new Map,e.set(t,r));const n=a.join();let i=r.get(n);return i||(i={resolver:bA(t,a),subPrefixes:a.filter(o=>!o.toLowerCase().includes("hover"))},r.set(n,i)),i}const eie=e=>As(e)&&Object.getOwnPropertyNames(e).some(t=>Mf(e[t]));function tie(e,t){const{isScriptable:a,isIndexable:r}=vU(e);for(const n of t){const i=a(n),l=r(n),o=(l||i)&&e[n];if(i&&(Mf(o)||eie(o))||l&&Br(o))return!0}return!1}var aie="4.5.0";const sie=["top","bottom","left","right","chartArea"];function QD(e,t){return e==="top"||e==="bottom"||sie.indexOf(e)===-1&&t==="x"}function ZD(e,t){return function(a,r){return a[e]===r[e]?a[t]-r[t]:a[e]-r[e]}}function eP(e){const t=e.chart,a=t.options.animation;t.notifyPlugins("afterRender"),xr(a&&a.onComplete,[e],t)}function rie(e){const t=e.chart,a=t.options.animation;xr(a&&a.onProgress,[e],t)}function WU(e){return jA()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const U2={},tP=e=>{const t=WU(e);return Object.values(U2).filter(a=>a.canvas===t).pop()};function nie(e,t,a){const r=Object.keys(e);for(const n of r){const i=+n;if(i>=t){const l=e[n];delete e[n],(a>0||i>t)&&(e[i+a]=l)}}}function iie(e,t,a,r){return!a||e.type==="mouseout"?null:r?t:e}let Ls=class{static defaults=$r;static instances=U2;static overrides=pm;static registry=ou;static version=aie;static getChart=tP;static register(...t){ou.add(...t),aP()}static unregister(...t){ou.remove(...t),aP()}constructor(t,a){const r=this.config=new Zne(a),n=WU(t),i=tP(n);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const l=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||kne(n)),this.platform.updateConfig(r);const o=this.platform.acquireContext(n,l.aspectRatio),c=o&&o.canvas,d=c&&c.height,u=c&&c.width;if(this.id=rse(),this.ctx=o,this.canvas=c,this.width=u,this.height=d,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new zne,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=wse(f=>this.update(f),l.resizeDelay||0),this._dataChanges=[],U2[this.id]=this,!o||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Gu.listen(this,"complete",eP),Gu.listen(this,"progress",rie),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:a},width:r,height:n,_aspectRatio:i}=this;return Ns(t)?a&&i?i:n?r/n:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return ou}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():kD(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return wD(this.canvas,this.ctx),this}stop(){return Gu.stop(this),this}resize(t,a){Gu.running(this)?this._resizeBeforeDraw={width:t,height:a}:this._resize(t,a)}_resize(t,a){const r=this.options,n=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(n,t,a,i),o=r.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,kD(this,o,!0)&&(this.notifyPlugins("resize",{size:l}),xr(r.onResize,[this,l],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const a=this.options.scales||{};Zs(a,(r,n)=>{r.id=n})}buildOrUpdateScales(){const t=this.options,a=t.scales,r=this.scales,n=Object.keys(r).reduce((l,o)=>(l[o]=!1,l),{});let i=[];a&&(i=i.concat(Object.keys(a).map(l=>{const o=a[l],c=KS(l,o),d=c==="r",u=c==="x";return{options:o,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),Zs(i,l=>{const o=l.options,c=o.id,d=KS(c,o),u=es(o.type,l.dtype);(o.position===void 0||QD(o.position,d)!==QD(l.dposition))&&(o.position=l.dposition),n[c]=!0;let f=null;if(c in r&&r[c].type===u)f=r[c];else{const p=ou.getScale(u);f=new p({id:c,type:u,ctx:this.ctx,chart:this}),r[f.id]=f}f.init(o,t)}),Zs(n,(l,o)=>{l||delete r[o]}),Zs(r,l=>{bl.configure(this,l,l.options),bl.addBox(this,l)})}_updateMetasets(){const t=this._metasets,a=this.data.datasets.length,r=t.length;if(t.sort((n,i)=>n.index-i.index),r>a){for(let n=a;n<r;++n)this._destroyDatasetMeta(n);t.splice(a,r-a)}this._sortedMetasets=t.slice(0).sort(ZD("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:a}}=this;t.length>a.length&&delete this._stacks,t.forEach((r,n)=>{a.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const t=[],a=this.data.datasets;let r,n;for(this._removeUnreferencedMetasets(),r=0,n=a.length;r<n;r++){const i=a[r];let l=this.getDatasetMeta(r);const o=i.type||this.config.type;if(l.type&&l.type!==o&&(this._destroyDatasetMeta(r),l=this.getDatasetMeta(r)),l.type=o,l.indexAxis=i.indexAxis||GS(o,this.options),l.order=i.order||0,l.index=r,l.label=""+i.label,l.visible=this.isDatasetVisible(r),l.controller)l.controller.updateIndex(r),l.controller.linkScales();else{const c=ou.getController(o),{datasetElementType:d,dataElementType:u}=$r.datasets[o];Object.assign(c,{dataElementType:ou.getElement(u),datasetElementType:d&&ou.getElement(d)}),l.controller=new c(this,r),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){Zs(this.data.datasets,(t,a)=>{this.getDatasetMeta(a).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const a=this.config;a.update();const r=this._options=a.createResolver(a.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let d=0,u=this.data.datasets.length;d<u;d++){const{controller:f}=this.getDatasetMeta(d),p=!n&&i.indexOf(f)===-1;f.buildOrUpdateElements(p),l=Math.max(+f.getMaxOverflow(),l)}l=this._minPadding=r.layout.autoPadding?l:0,this._updateLayout(l),n||Zs(i,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(ZD("z","_idx"));const{_active:o,_lastEvent:c}=this;c?this._eventHandler(c,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){Zs(this.scales,t=>{bl.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,a=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!hD(a,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,a=this._getUniformDataChanges()||[];for(const{method:r,start:n,count:i}of a){const l=r==="_removeElements"?-i:i;nie(t,n,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const a=this.data.datasets.length,r=i=>new Set(t.filter(l=>l[0]===i).map((l,o)=>o+","+l.splice(1).join(","))),n=r(0);for(let i=1;i<a;i++)if(!hD(n,r(i)))return;return Array.from(n).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;bl.update(this,this.width,this.height,t);const a=this.chartArea,r=a.width<=0||a.height<=0;this._layers=[],Zs(this.boxes,n=>{r&&n.position==="chartArea"||(n.configure&&n.configure(),this._layers.push(...n._layers()))},this),this._layers.forEach((n,i)=>{n._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let a=0,r=this.data.datasets.length;a<r;++a)this.getDatasetMeta(a).controller.configure();for(let a=0,r=this.data.datasets.length;a<r;++a)this._updateDataset(a,Mf(t)?t({datasetIndex:a}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,a){const r=this.getDatasetMeta(t),n={meta:r,index:t,mode:a,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",n)!==!1&&(r.controller._update(a),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Gu.has(this)?this.attached&&!Gu.running(this)&&Gu.start(this):(this.draw(),eP({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:n}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,n)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const a=this._layers;for(t=0;t<a.length&&a[t].z<=0;++t)a[t].draw(this.chartArea);for(this._drawDatasets();t<a.length;++t)a[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const a=this._sortedMetasets,r=[];let n,i;for(n=0,i=a.length;n<i;++n){const l=a[n];(!t||l.visible)&&r.push(l)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let a=t.length-1;a>=0;--a)this._drawDataset(t[a]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const a=this.ctx,r={meta:t,index:t.index,cancelable:!0},n=EU(this,t);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(n&&Bj(a,n),t.controller.draw(),n&&$j(a),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return th(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,a,r,n){const i=sne.modes[a];return typeof i=="function"?i(this,t,r,n):[]}getDatasetMeta(t){const a=this.data.datasets[t],r=this._metasets;let n=r.filter(i=>i&&i._dataset===a).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:a&&a.order||0,index:t,_dataset:a,_parsed:[],_sorted:!1},r.push(n)),n}getContext(){return this.$context||(this.$context=qf(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const a=this.data.datasets[t];if(!a)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!a.hidden}setDatasetVisibility(t,a){const r=this.getDatasetMeta(t);r.hidden=!a}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,a,r){const n=r?"show":"hide",i=this.getDatasetMeta(t),l=i.controller._resolveAnimations(void 0,n);e1(a)?(i.data[a].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),l.update(i,{visible:r}),this.update(o=>o.datasetIndex===t?n:void 0))}hide(t,a){this._updateVisibility(t,a,!1)}show(t,a){this._updateVisibility(t,a,!0)}_destroyDatasetMeta(t){const a=this._metasets[t];a&&a.controller&&a.controller._destroy(),delete this._metasets[t]}_stop(){let t,a;for(this.stop(),Gu.remove(this),t=0,a=this.data.datasets.length;t<a;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:a}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),wD(t,a),this.platform.releaseContext(a),this.canvas=null,this.ctx=null),delete U2[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,a=this.platform,r=(i,l)=>{a.addEventListener(this,i,l),t[i]=l},n=(i,l,o)=>{i.offsetX=l,i.offsetY=o,this._eventHandler(i)};Zs(this.options.events,i=>r(i,n))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,a=this.platform,r=(c,d)=>{a.addEventListener(this,c,d),t[c]=d},n=(c,d)=>{t[c]&&(a.removeEventListener(this,c,d),delete t[c])},i=(c,d)=>{this.canvas&&this.resize(c,d)};let l;const o=()=>{n("attach",o),this.attached=!0,this.resize(),r("resize",i),r("detach",l)};l=()=>{this.attached=!1,n("resize",i),this._stop(),this._resize(0,0),r("attach",o)},a.isAttached(this.canvas)?o():l()}unbindEvents(){Zs(this._listeners,(t,a)=>{this.platform.removeEventListener(this,a,t)}),this._listeners={},Zs(this._responsiveListeners,(t,a)=>{this.platform.removeEventListener(this,a,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,a,r){const n=r?"set":"remove";let i,l,o,c;for(a==="dataset"&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+n+"DatasetHoverStyle"]()),o=0,c=t.length;o<c;++o){l=t[o];const d=l&&this.getDatasetMeta(l.datasetIndex).controller;d&&d[n+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const a=this._active||[],r=t.map(({datasetIndex:i,index:l})=>{const o=this.getDatasetMeta(i);if(!o)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:o.data[l],index:l}});!tw(r,a)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,a))}notifyPlugins(t,a,r){return this._plugins.notify(this,t,a,r)}isPluginEnabled(t){return this._plugins._cache.filter(a=>a.plugin.id===t).length===1}_updateHoverStyles(t,a,r){const n=this.options.hover,i=(c,d)=>c.filter(u=>!d.some(f=>u.datasetIndex===f.datasetIndex&&u.index===f.index)),l=i(a,t),o=r?t:i(t,a);l.length&&this.updateHoverStyle(l,n.mode,!1),o.length&&n.mode&&this.updateHoverStyle(o,n.mode,!0)}_eventHandler(t,a){const r={event:t,replay:a,cancelable:!0,inChartArea:this.isPointInArea(t)},n=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,n)===!1)return;const i=this._handleEvent(t,a,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,n),(i||r.changed)&&this.render(),this}_handleEvent(t,a,r){const{_active:n=[],options:i}=this,l=a,o=this._getActiveElements(t,n,r,l),c=dse(t),d=iie(t,this._lastEvent,r,c);r&&(this._lastEvent=null,xr(i.onHover,[t,o,this],this),c&&xr(i.onClick,[t,o,this],this));const u=!tw(o,n);return(u||a)&&(this._active=o,this._updateHoverStyles(o,n,a)),this._lastEvent=d,u}_getActiveElements(t,a,r,n){if(t.type==="mouseout")return[];if(!r)return a;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,n)}};function aP(){return Zs(Ls.instances,e=>e._plugins.invalidate())}function lie(e,t,a){const{startAngle:r,x:n,y:i,outerRadius:l,innerRadius:o,options:c}=t,{borderWidth:d,borderJoinStyle:u}=c,f=Math.min(d/l,fl(r-a));if(e.beginPath(),e.arc(n,i,l-d/2,r+f/2,a-f/2),o>0){const p=Math.min(d/o,fl(r-a));e.arc(n,i,o+d/2,a-p/2,r+p/2,!0)}else{const p=Math.min(d/2,l*fl(r-a));if(u==="round")e.arc(n,i,p,a-Us/2,r+Us/2,!0);else if(u==="bevel"){const m=2*p*p,v=-m*Math.cos(a+Us/2)+n,g=-m*Math.sin(a+Us/2)+i,b=m*Math.cos(r+Us/2)+n,j=m*Math.sin(r+Us/2)+i;e.lineTo(v,g),e.lineTo(b,j)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function oie(e,t,a){const{startAngle:r,pixelMargin:n,x:i,y:l,outerRadius:o,innerRadius:c}=t;let d=n/o;e.beginPath(),e.arc(i,l,o,r-d,a+d),c>n?(d=n/c,e.arc(i,l,c,a+d,r-d,!0)):e.arc(i,l,n,a+On,r-On),e.closePath(),e.clip()}function cie(e){return vA(e,["outerStart","outerEnd","innerStart","innerEnd"])}function die(e,t,a,r){const n=cie(e.options.borderRadius),i=(a-t)/2,l=Math.min(i,r*t/2),o=c=>{const d=(a-Math.min(i,c))*r/2;return Ei(c,0,Math.min(i,d))};return{outerStart:o(n.outerStart),outerEnd:o(n.outerEnd),innerStart:Ei(n.innerStart,0,l),innerEnd:Ei(n.innerEnd,0,l)}}function Dp(e,t,a,r){return{x:a+e*Math.cos(t),y:r+e*Math.sin(t)}}function lw(e,t,a,r,n,i){const{x:l,y:o,startAngle:c,pixelMargin:d,innerRadius:u}=t,f=Math.max(t.outerRadius+r+a-d,0),p=u>0?u+r+a+d:0;let m=0;const v=n-c;if(r){const K=u>0?u-r:0,V=f>0?f-r:0,J=(K+V)/2,Q=J!==0?v*J/(J+r):v;m=(v-Q)/2}const g=Math.max(.001,v*f-a/Us)/f,b=(v-g)/2,j=c+b+m,k=n-b-m,{outerStart:S,outerEnd:N,innerStart:A,innerEnd:_}=die(t,p,f,k-j),E=f-S,D=f-N,R=j+S/E,I=k-N/D,M=p+A,U=p+_,P=j+A/M,F=k-_/U;if(e.beginPath(),i){const K=(R+I)/2;if(e.arc(l,o,f,R,K),e.arc(l,o,f,K,I),N>0){const z=Dp(D,I,l,o);e.arc(z.x,z.y,N,I,k+On)}const V=Dp(U,k,l,o);if(e.lineTo(V.x,V.y),_>0){const z=Dp(U,F,l,o);e.arc(z.x,z.y,_,k+On,F+Math.PI)}const J=(k-_/p+(j+A/p))/2;if(e.arc(l,o,p,k-_/p,J,!0),e.arc(l,o,p,J,j+A/p,!0),A>0){const z=Dp(M,P,l,o);e.arc(z.x,z.y,A,P+Math.PI,j-On)}const Q=Dp(E,j,l,o);if(e.lineTo(Q.x,Q.y),S>0){const z=Dp(E,R,l,o);e.arc(z.x,z.y,S,j-On,R)}}else{e.moveTo(l,o);const K=Math.cos(R)*f+l,V=Math.sin(R)*f+o;e.lineTo(K,V);const J=Math.cos(I)*f+l,Q=Math.sin(I)*f+o;e.lineTo(J,Q)}e.closePath()}function uie(e,t,a,r,n){const{fullCircles:i,startAngle:l,circumference:o}=t;let c=t.endAngle;if(i){lw(e,t,a,r,c,n);for(let d=0;d<i;++d)e.fill();isNaN(o)||(c=l+(o%kr||kr))}return lw(e,t,a,r,c,n),e.fill(),c}function hie(e,t,a,r,n){const{fullCircles:i,startAngle:l,circumference:o,options:c}=t,{borderWidth:d,borderJoinStyle:u,borderDash:f,borderDashOffset:p,borderRadius:m}=c,v=c.borderAlign==="inner";if(!d)return;e.setLineDash(f||[]),e.lineDashOffset=p,v?(e.lineWidth=d*2,e.lineJoin=u||"round"):(e.lineWidth=d,e.lineJoin=u||"bevel");let g=t.endAngle;if(i){lw(e,t,a,r,g,n);for(let b=0;b<i;++b)e.stroke();isNaN(o)||(g=l+(o%kr||kr))}v&&oie(e,t,g),c.selfJoin&&g-l>=Us&&m===0&&u!=="miter"&&lie(e,t,g),i||(lw(e,t,a,r,g,n),e.stroke())}class Fm extends Sh{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,a,r){const n=this.getProps(["x","y"],r),{angle:i,distance:l}=oU(n,{x:t,y:a}),{startAngle:o,endAngle:c,innerRadius:d,outerRadius:u,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),p=(this.options.spacing+this.options.borderWidth)/2,m=es(f,c-o),v=t1(i,o,c)&&o!==c,g=m>=kr||v,b=Zu(l,d+p,u+p);return g&&b}getCenterPoint(t){const{x:a,y:r,startAngle:n,endAngle:i,innerRadius:l,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:c,spacing:d}=this.options,u=(n+i)/2,f=(l+o+d+c)/2;return{x:a+Math.cos(u)*f,y:r+Math.sin(u)*f}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:a,circumference:r}=this,n=(a.offset||0)/4,i=(a.spacing||0)/2,l=a.circular;if(this.pixelMargin=a.borderAlign==="inner"?.33:0,this.fullCircles=r>kr?Math.floor(r/kr):0,r===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const o=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(o)*n,Math.sin(o)*n);const c=1-Math.sin(Math.min(Us,r||0)),d=n*c;t.fillStyle=a.backgroundColor,t.strokeStyle=a.borderColor,uie(t,this,d,i,l),hie(t,this,d,i,l),t.restore()}}function qU(e,t,a=t){e.lineCap=es(a.borderCapStyle,t.borderCapStyle),e.setLineDash(es(a.borderDash,t.borderDash)),e.lineDashOffset=es(a.borderDashOffset,t.borderDashOffset),e.lineJoin=es(a.borderJoinStyle,t.borderJoinStyle),e.lineWidth=es(a.borderWidth,t.borderWidth),e.strokeStyle=es(a.borderColor,t.borderColor)}function fie(e,t,a){e.lineTo(a.x,a.y)}function mie(e){return e.stepped?Mse:e.tension||e.cubicInterpolationMode==="monotone"?Lse:fie}function GU(e,t,a={}){const r=e.length,{start:n=0,end:i=r-1}=a,{start:l,end:o}=t,c=Math.max(n,l),d=Math.min(i,o),u=n<l&&i<l||n>o&&i>o;return{count:r,start:c,loop:t.loop,ilen:d<c&&!u?r+d-c:d-c}}function pie(e,t,a,r){const{points:n,options:i}=t,{count:l,start:o,loop:c,ilen:d}=GU(n,a,r),u=mie(i);let{move:f=!0,reverse:p}=r||{},m,v,g;for(m=0;m<=d;++m)v=n[(o+(p?d-m:m))%l],!v.skip&&(f?(e.moveTo(v.x,v.y),f=!1):u(e,g,v,p,i.stepped),g=v);return c&&(v=n[(o+(p?d:0))%l],u(e,g,v,p,i.stepped)),!!c}function xie(e,t,a,r){const n=t.points,{count:i,start:l,ilen:o}=GU(n,a,r),{move:c=!0,reverse:d}=r||{};let u=0,f=0,p,m,v,g,b,j;const k=N=>(l+(d?o-N:N))%i,S=()=>{g!==b&&(e.lineTo(u,b),e.lineTo(u,g),e.lineTo(u,j))};for(c&&(m=n[k(0)],e.moveTo(m.x,m.y)),p=0;p<=o;++p){if(m=n[k(p)],m.skip)continue;const N=m.x,A=m.y,_=N|0;_===v?(A<g?g=A:A>b&&(b=A),u=(f*u+N)/++f):(S(),e.lineTo(N,A),v=_,f=0,g=b=A),j=A}S()}function YS(e){const t=e.options,a=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!a?xie:pie}function gie(e){return e.stepped?hre:e.tension||e.cubicInterpolationMode==="monotone"?fre:O0}function vie(e,t,a,r){let n=t._path;n||(n=t._path=new Path2D,t.path(n,a,r)&&n.closePath()),qU(e,t.options),e.stroke(n)}function bie(e,t,a,r){const{segments:n,options:i}=t,l=YS(t);for(const o of n)qU(e,i,o.style),e.beginPath(),l(e,t,o,{start:a,end:a+r-1})&&e.closePath(),e.stroke()}const yie=typeof Path2D=="function";function wie(e,t,a,r){yie&&!t.options.segment?vie(e,t,a,r):bie(e,t,a,r)}class hi extends Sh{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,a){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const n=r.spanGaps?this._loop:this._fullLoop;rre(this._points,r,t,n,a),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=bre(this,this.options.segment))}first(){const t=this.segments,a=this.points;return t.length&&a[t[0].start]}last(){const t=this.segments,a=this.points,r=t.length;return r&&a[t[r-1].end]}interpolate(t,a){const r=this.options,n=t[a],i=this.points,l=_U(this,{property:a,start:n,end:n});if(!l.length)return;const o=[],c=gie(r);let d,u;for(d=0,u=l.length;d<u;++d){const{start:f,end:p}=l[d],m=i[f],v=i[p];if(m===v){o.push(m);continue}const g=Math.abs((n-m[a])/(v[a]-m[a])),b=c(m,v,g,r.stepped);b[a]=t[a],o.push(b)}return o.length===1?o[0]:o}pathSegment(t,a,r){return YS(this)(t,this,a,r)}path(t,a,r){const n=this.segments,i=YS(this);let l=this._loop;a=a||0,r=r||this.points.length-a;for(const o of n)l&=i(t,this,o,{start:a,end:a+r-1});return!!l}draw(t,a,r,n){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(t.save(),wie(t,this,r,n),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function sP(e,t,a,r){const n=e.options,{[a]:i}=e.getProps([a],r);return Math.abs(t-i)<n.radius+n.hitRadius}class Sl extends Sh{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,a,r){const n=this.options,{x:i,y:l}=this.getProps(["x","y"],r);return Math.pow(t-i,2)+Math.pow(a-l,2)<Math.pow(n.hitRadius+n.radius,2)}inXRange(t,a){return sP(this,t,"x",a)}inYRange(t,a){return sP(this,t,"y",a)}getCenterPoint(t){const{x:a,y:r}=this.getProps(["x","y"],t);return{x:a,y:r}}size(t){t=t||this.options||{};let a=t.radius||0;a=Math.max(a,a&&t.hoverRadius||0);const r=a&&t.borderWidth||0;return(a+r)*2}draw(t,a){const r=this.options;this.skip||r.radius<.1||!th(this,a,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,qS(t,r,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function KU(e,t){const{x:a,y:r,base:n,width:i,height:l}=e.getProps(["x","y","base","width","height"],t);let o,c,d,u,f;return e.horizontal?(f=l/2,o=Math.min(a,n),c=Math.max(a,n),d=r-f,u=r+f):(f=i/2,o=a-f,c=a+f,d=Math.min(r,n),u=Math.max(r,n)),{left:o,top:d,right:c,bottom:u}}function Sf(e,t,a,r){return e?0:Ei(t,a,r)}function jie(e,t,a){const r=e.options.borderWidth,n=e.borderSkipped,i=gU(r);return{t:Sf(n.top,i.top,0,a),r:Sf(n.right,i.right,0,t),b:Sf(n.bottom,i.bottom,0,a),l:Sf(n.left,i.left,0,t)}}function Nie(e,t,a){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),n=e.options.borderRadius,i=Q0(n),l=Math.min(t,a),o=e.borderSkipped,c=r||As(n);return{topLeft:Sf(!c||o.top||o.left,i.topLeft,0,l),topRight:Sf(!c||o.top||o.right,i.topRight,0,l),bottomLeft:Sf(!c||o.bottom||o.left,i.bottomLeft,0,l),bottomRight:Sf(!c||o.bottom||o.right,i.bottomRight,0,l)}}function kie(e){const t=KU(e),a=t.right-t.left,r=t.bottom-t.top,n=jie(e,a/2,r/2),i=Nie(e,a/2,r/2);return{outer:{x:t.left,y:t.top,w:a,h:r,radius:i},inner:{x:t.left+n.l,y:t.top+n.t,w:a-n.l-n.r,h:r-n.t-n.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,i.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(n.b,n.r))}}}}function E5(e,t,a,r){const n=t===null,i=a===null,o=e&&!(n&&i)&&KU(e,r);return o&&(n||Zu(t,o.left,o.right))&&(i||Zu(a,o.top,o.bottom))}function Sie(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function Cie(e,t){e.rect(t.x,t.y,t.w,t.h)}function T5(e,t,a={}){const r=e.x!==a.x?-t:0,n=e.y!==a.y?-t:0,i=(e.x+e.w!==a.x+a.w?t:0)-r,l=(e.y+e.h!==a.y+a.h?t:0)-n;return{x:e.x+r,y:e.y+n,w:e.w+i,h:e.h+l,radius:e.radius}}class Xn extends Sh{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:a,options:{borderColor:r,backgroundColor:n}}=this,{inner:i,outer:l}=kie(this),o=Sie(l.radius)?a1:Cie;t.save(),(l.w!==i.w||l.h!==i.h)&&(t.beginPath(),o(t,T5(l,a,i)),t.clip(),o(t,T5(i,-a,l)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),o(t,T5(i,a)),t.fillStyle=n,t.fill(),t.restore()}inRange(t,a,r){return E5(this,t,a,r)}inXRange(t,a){return E5(this,t,null,a)}inYRange(t,a){return E5(this,null,t,a)}getCenterPoint(t){const{x:a,y:r,base:n,horizontal:i}=this.getProps(["x","y","base","horizontal"],t);return{x:i?(a+n)/2:a,y:i?r:(r+n)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}var Aie=Object.freeze({__proto__:null,ArcElement:Fm,BarElement:Xn,LineElement:hi,PointElement:Sl});const XS=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],rP=XS.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function YU(e){return XS[e%XS.length]}function XU(e){return rP[e%rP.length]}function _ie(e,t){return e.borderColor=YU(t),e.backgroundColor=XU(t),++t}function Eie(e,t){return e.backgroundColor=e.data.map(()=>YU(t++)),t}function Tie(e,t){return e.backgroundColor=e.data.map(()=>XU(t++)),t}function Die(e){let t=0;return(a,r)=>{const n=e.getDatasetMeta(r).controller;n instanceof zj?t=Eie(a,t):n instanceof OU?t=Tie(a,t):n&&(t=_ie(a,t))}}function nP(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function Pie(e){return e&&(e.borderColor||e.backgroundColor)}function Mie(){return $r.borderColor!=="rgba(0,0,0,0.1)"||$r.backgroundColor!=="rgba(0,0,0,0.1)"}var Lie={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,a){if(!a.enabled)return;const{data:{datasets:r},options:n}=e.config,{elements:i}=n,l=nP(r)||Pie(n)||i&&nP(i)||Mie();if(!a.forceOverride&&l)return;const o=Die(e);r.forEach(o)}};function Oie(e,t,a,r,n){const i=n.samples||r;if(i>=a)return e.slice(t,t+a);const l=[],o=(a-2)/(i-2);let c=0;const d=t+a-1;let u=t,f,p,m,v,g;for(l[c++]=e[u],f=0;f<i-2;f++){let b=0,j=0,k;const S=Math.floor((f+1)*o)+1+t,N=Math.min(Math.floor((f+2)*o)+1,a)+t,A=N-S;for(k=S;k<N;k++)b+=e[k].x,j+=e[k].y;b/=A,j/=A;const _=Math.floor(f*o)+1+t,E=Math.min(Math.floor((f+1)*o)+1,a)+t,{x:D,y:R}=e[u];for(m=v=-1,k=_;k<E;k++)v=.5*Math.abs((D-b)*(e[k].y-R)-(D-e[k].x)*(j-R)),v>m&&(m=v,p=e[k],g=k);l[c++]=p,u=g}return l[c++]=e[d],l}function Rie(e,t,a,r){let n=0,i=0,l,o,c,d,u,f,p,m,v,g;const b=[],j=t+a-1,k=e[t].x,N=e[j].x-k;for(l=t;l<t+a;++l){o=e[l],c=(o.x-k)/N*r,d=o.y;const A=c|0;if(A===u)d<v?(v=d,f=l):d>g&&(g=d,p=l),n=(i*n+o.x)/++i;else{const _=l-1;if(!Ns(f)&&!Ns(p)){const E=Math.min(f,p),D=Math.max(f,p);E!==m&&E!==_&&b.push({...e[E],x:n}),D!==m&&D!==_&&b.push({...e[D],x:n})}l>0&&_!==m&&b.push(e[_]),b.push(o),u=A,i=0,v=g=d,f=p=m=l}}return b}function JU(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function iP(e){e.data.datasets.forEach(t=>{JU(t)})}function Fie(e,t){const a=t.length;let r=0,n;const{iScale:i}=e,{min:l,max:o,minDefined:c,maxDefined:d}=i.getUserBounds();return c&&(r=Ei(eh(t,i.axis,l).lo,0,a-1)),d?n=Ei(eh(t,i.axis,o).hi+1,r,a)-r:n=a-r,{start:r,count:n}}var Iie={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,a)=>{if(!a.enabled){iP(e);return}const r=e.width;e.data.datasets.forEach((n,i)=>{const{_data:l,indexAxis:o}=n,c=e.getDatasetMeta(i),d=l||n.data;if(mv([o,e.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;const u=e.scales[c.xAxisID];if(u.type!=="linear"&&u.type!=="time"||e.options.parsing)return;let{start:f,count:p}=Fie(c,d);const m=a.threshold||4*r;if(p<=m){JU(n);return}Ns(l)&&(n._data=d,delete n.data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let v;switch(a.algorithm){case"lttb":v=Oie(d,f,p,r,a);break;case"min-max":v=Rie(d,f,p,r);break;default:throw new Error(`Unsupported decimation algorithm '${a.algorithm}'`)}n._decimated=v})},destroy(e){iP(e)}};function Bie(e,t,a){const r=e.segments,n=e.points,i=t.points,l=[];for(const o of r){let{start:c,end:d}=o;d=Vj(c,d,n);const u=JS(a,n[c],n[d],o.loop);if(!t.segments){l.push({source:o,target:u,start:n[c],end:n[d]});continue}const f=_U(t,u);for(const p of f){const m=JS(a,i[p.start],i[p.end],p.loop),v=AU(o,n,m);for(const g of v)l.push({source:g,target:p,start:{[a]:lP(u,m,"start",Math.max)},end:{[a]:lP(u,m,"end",Math.min)}})}}return l}function JS(e,t,a,r){if(r)return;let n=t[e],i=a[e];return e==="angle"&&(n=fl(n),i=fl(i)),{property:e,start:n,end:i}}function $ie(e,t){const{x:a=null,y:r=null}=e||{},n=t.points,i=[];return t.segments.forEach(({start:l,end:o})=>{o=Vj(l,o,n);const c=n[l],d=n[o];r!==null?(i.push({x:c.x,y:r}),i.push({x:d.x,y:r})):a!==null&&(i.push({x:a,y:c.y}),i.push({x:a,y:d.y}))}),i}function Vj(e,t,a){for(;t>e;t--){const r=a[t];if(!isNaN(r.x)&&!isNaN(r.y))break}return t}function lP(e,t,a,r){return e&&t?r(e[a],t[a]):e?e[a]:t?t[a]:0}function QU(e,t){let a=[],r=!1;return Br(e)?(r=!0,a=e):a=$ie(e,t),a.length?new hi({points:a,options:{tension:0},_loop:r,_fullLoop:r}):null}function oP(e){return e&&e.fill!==!1}function Uie(e,t,a){let n=e[t].fill;const i=[t];let l;if(!a)return n;for(;n!==!1&&i.indexOf(n)===-1;){if(!xn(n))return n;if(l=e[n],!l)return!1;if(l.visible)return n;i.push(n),n=l.fill}return!1}function zie(e,t,a){const r=qie(e);if(As(r))return isNaN(r.value)?!1:r;let n=parseFloat(r);return xn(n)&&Math.floor(n)===n?Hie(r[0],t,n,a):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function Hie(e,t,a,r){return(e==="-"||e==="+")&&(a=t+a),a===t||a<0||a>=r?!1:a}function Vie(e,t){let a=null;return e==="start"?a=t.bottom:e==="end"?a=t.top:As(e)?a=t.getPixelForValue(e.value):t.getBasePixel&&(a=t.getBasePixel()),a}function Wie(e,t,a){let r;return e==="start"?r=a:e==="end"?r=t.options.reverse?t.min:t.max:As(e)?r=e.value:r=t.getBaseValue(),r}function qie(e){const t=e.options,a=t.fill;let r=es(a&&a.target,a);return r===void 0&&(r=!!t.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function Gie(e){const{scale:t,index:a,line:r}=e,n=[],i=r.segments,l=r.points,o=Kie(t,a);o.push(QU({x:null,y:t.bottom},r));for(let c=0;c<i.length;c++){const d=i[c];for(let u=d.start;u<=d.end;u++)Yie(n,l[u],o)}return new hi({points:n,options:{}})}function Kie(e,t){const a=[],r=e.getMatchingVisibleMetas("line");for(let n=0;n<r.length;n++){const i=r[n];if(i.index===t)break;i.hidden||a.unshift(i.dataset)}return a}function Yie(e,t,a){const r=[];for(let n=0;n<a.length;n++){const i=a[n],{first:l,last:o,point:c}=Xie(i,t,"x");if(!(!c||l&&o)){if(l)r.unshift(c);else if(e.push(c),!o)break}}e.push(...r)}function Xie(e,t,a){const r=e.interpolate(t,a);if(!r)return{};const n=r[a],i=e.segments,l=e.points;let o=!1,c=!1;for(let d=0;d<i.length;d++){const u=i[d],f=l[u.start][a],p=l[u.end][a];if(Zu(n,f,p)){o=n===f,c=n===p;break}}return{first:o,last:c,point:r}}class ZU{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,a,r){const{x:n,y:i,radius:l}=this;return a=a||{start:0,end:kr},t.arc(n,i,l,a.end,a.start,!0),!r.bounds}interpolate(t){const{x:a,y:r,radius:n}=this,i=t.angle;return{x:a+Math.cos(i)*n,y:r+Math.sin(i)*n,angle:i}}}function Jie(e){const{chart:t,fill:a,line:r}=e;if(xn(a))return Qie(t,a);if(a==="stack")return Gie(e);if(a==="shape")return!0;const n=Zie(e);return n instanceof ZU?n:QU(n,r)}function Qie(e,t){const a=e.getDatasetMeta(t);return a&&e.isDatasetVisible(t)?a.dataset:null}function Zie(e){return(e.scale||{}).getPointPositionForValue?tle(e):ele(e)}function ele(e){const{scale:t={},fill:a}=e,r=Vie(a,t);if(xn(r)){const n=t.isHorizontal();return{x:n?r:null,y:n?null:r}}return null}function tle(e){const{scale:t,fill:a}=e,r=t.options,n=t.getLabels().length,i=r.reverse?t.max:t.min,l=Wie(a,t,i),o=[];if(r.grid.circular){const c=t.getPointPositionForValue(0,i);return new ZU({x:c.x,y:c.y,radius:t.getDistanceFromCenterForValue(l)})}for(let c=0;c<n;++c)o.push(t.getPointPositionForValue(c,l));return o}function D5(e,t,a){const r=Jie(t),{chart:n,index:i,line:l,scale:o,axis:c}=t,d=l.options,u=d.fill,f=d.backgroundColor,{above:p=f,below:m=f}=u||{},v=n.getDatasetMeta(i),g=EU(n,v);r&&l.points.length&&(Bj(e,a),ale(e,{line:l,target:r,above:p,below:m,area:a,scale:o,axis:c,clip:g}),$j(e))}function ale(e,t){const{line:a,target:r,above:n,below:i,area:l,scale:o,clip:c}=t,d=a._loop?"angle":t.axis;e.save();let u=i;i!==n&&(d==="x"?(cP(e,r,l.top),P5(e,{line:a,target:r,color:n,scale:o,property:d,clip:c}),e.restore(),e.save(),cP(e,r,l.bottom)):d==="y"&&(dP(e,r,l.left),P5(e,{line:a,target:r,color:i,scale:o,property:d,clip:c}),e.restore(),e.save(),dP(e,r,l.right),u=n)),P5(e,{line:a,target:r,color:u,scale:o,property:d,clip:c}),e.restore()}function cP(e,t,a){const{segments:r,points:n}=t;let i=!0,l=!1;e.beginPath();for(const o of r){const{start:c,end:d}=o,u=n[c],f=n[Vj(c,d,n)];i?(e.moveTo(u.x,u.y),i=!1):(e.lineTo(u.x,a),e.lineTo(u.x,u.y)),l=!!t.pathSegment(e,o,{move:l}),l?e.closePath():e.lineTo(f.x,a)}e.lineTo(t.first().x,a),e.closePath(),e.clip()}function dP(e,t,a){const{segments:r,points:n}=t;let i=!0,l=!1;e.beginPath();for(const o of r){const{start:c,end:d}=o,u=n[c],f=n[Vj(c,d,n)];i?(e.moveTo(u.x,u.y),i=!1):(e.lineTo(a,u.y),e.lineTo(u.x,u.y)),l=!!t.pathSegment(e,o,{move:l}),l?e.closePath():e.lineTo(a,f.y)}e.lineTo(a,t.first().y),e.closePath(),e.clip()}function P5(e,t){const{line:a,target:r,property:n,color:i,scale:l,clip:o}=t,c=Bie(a,r,n);for(const{source:d,target:u,start:f,end:p}of c){const{style:{backgroundColor:m=i}={}}=d,v=r!==!0;e.save(),e.fillStyle=m,sle(e,l,o,v&&JS(n,f,p)),e.beginPath();const g=!!a.pathSegment(e,d);let b;if(v){g?e.closePath():uP(e,r,p,n);const j=!!r.pathSegment(e,u,{move:g,reverse:!0});b=g&&j,b||uP(e,r,f,n)}e.closePath(),e.fill(b?"evenodd":"nonzero"),e.restore()}}function sle(e,t,a,r){const n=t.chart.chartArea,{property:i,start:l,end:o}=r||{};if(i==="x"||i==="y"){let c,d,u,f;i==="x"?(c=l,d=n.top,u=o,f=n.bottom):(c=n.left,d=l,u=n.right,f=o),e.beginPath(),a&&(c=Math.max(c,a.left),u=Math.min(u,a.right),d=Math.max(d,a.top),f=Math.min(f,a.bottom)),e.rect(c,d,u-c,f-d),e.clip()}}function uP(e,t,a,r){const n=t.interpolate(a,r);n&&e.lineTo(n.x,n.y)}var rle={id:"filler",afterDatasetsUpdate(e,t,a){const r=(e.data.datasets||[]).length,n=[];let i,l,o,c;for(l=0;l<r;++l)i=e.getDatasetMeta(l),o=i.dataset,c=null,o&&o.options&&o instanceof hi&&(c={visible:e.isDatasetVisible(l),index:l,fill:zie(o,l,r),chart:e,axis:i.controller.options.indexAxis,scale:i.vScale,line:o}),i.$filler=c,n.push(c);for(l=0;l<r;++l)c=n[l],!(!c||c.fill===!1)&&(c.fill=Uie(n,l,a.propagate))},beforeDraw(e,t,a){const r=a.drawTime==="beforeDraw",n=e.getSortedVisibleDatasetMetas(),i=e.chartArea;for(let l=n.length-1;l>=0;--l){const o=n[l].$filler;o&&(o.line.updateControlPoints(i,o.axis),r&&o.fill&&D5(e.ctx,o,i))}},beforeDatasetsDraw(e,t,a){if(a.drawTime!=="beforeDatasetsDraw")return;const r=e.getSortedVisibleDatasetMetas();for(let n=r.length-1;n>=0;--n){const i=r[n].$filler;oP(i)&&D5(e.ctx,i,e.chartArea)}},beforeDatasetDraw(e,t,a){const r=t.meta.$filler;!oP(r)||a.drawTime!=="beforeDatasetDraw"||D5(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const hP=(e,t)=>{let{boxHeight:a=t,boxWidth:r=t}=e;return e.usePointStyle&&(a=Math.min(a,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:a,itemHeight:Math.max(t,a)}},nle=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class fP extends Sh{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,a,r){this.maxWidth=t,this.maxHeight=a,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let a=xr(t.generateLabels,[this.chart],this)||[];t.filter&&(a=a.filter(r=>t.filter(r,this.chart.data))),t.sort&&(a=a.sort((r,n)=>t.sort(r,n,this.chart.data))),this.options.reverse&&a.reverse(),this.legendItems=a}fit(){const{options:t,ctx:a}=this;if(!t.display){this.width=this.height=0;return}const r=t.labels,n=ci(r.font),i=n.size,l=this._computeTitleHeight(),{boxWidth:o,itemHeight:c}=hP(r,i);let d,u;a.font=n.string,this.isHorizontal()?(d=this.maxWidth,u=this._fitRows(l,i,o,c)+10):(u=this.maxHeight,d=this._fitCols(l,n,o,c)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,a,r,n){const{ctx:i,maxWidth:l,options:{labels:{padding:o}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],u=n+o;let f=t;i.textAlign="left",i.textBaseline="middle";let p=-1,m=-u;return this.legendItems.forEach((v,g)=>{const b=r+a/2+i.measureText(v.text).width;(g===0||d[d.length-1]+b+2*o>l)&&(f+=u,d[d.length-(g>0?0:1)]=0,m+=u,p++),c[g]={left:0,top:m,row:p,width:b,height:n},d[d.length-1]+=b+o}),f}_fitCols(t,a,r,n){const{ctx:i,maxHeight:l,options:{labels:{padding:o}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],u=l-t;let f=o,p=0,m=0,v=0,g=0;return this.legendItems.forEach((b,j)=>{const{itemWidth:k,itemHeight:S}=ile(r,a,i,b,n);j>0&&m+S+2*o>u&&(f+=p+o,d.push({width:p,height:m}),v+=p+o,g++,p=m=0),c[j]={left:v,top:m,col:g,width:k,height:S},p=Math.max(p,k),m+=S+o}),f+=p,d.push({width:p,height:m}),f}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:a,options:{align:r,labels:{padding:n},rtl:i}}=this,l=Qp(i,this.left,this.width);if(this.isHorizontal()){let o=0,c=dl(r,this.left+n,this.right-this.lineWidths[o]);for(const d of a)o!==d.row&&(o=d.row,c=dl(r,this.left+n,this.right-this.lineWidths[o])),d.top+=this.top+t+n,d.left=l.leftForLtr(l.x(c),d.width),c+=d.width+n}else{let o=0,c=dl(r,this.top+t+n,this.bottom-this.columnSizes[o].height);for(const d of a)d.col!==o&&(o=d.col,c=dl(r,this.top+t+n,this.bottom-this.columnSizes[o].height)),d.top=c,d.left+=this.left+n,d.left=l.leftForLtr(l.x(d.left),d.width),c+=d.height+n}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Bj(t,this),this._draw(),$j(t)}}_draw(){const{options:t,columnSizes:a,lineWidths:r,ctx:n}=this,{align:i,labels:l}=t,o=$r.color,c=Qp(t.rtl,this.left,this.width),d=ci(l.font),{padding:u}=l,f=d.size,p=f/2;let m;this.drawTitle(),n.textAlign=c.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=d.string;const{boxWidth:v,boxHeight:g,itemHeight:b}=hP(l,f),j=function(_,E,D){if(isNaN(v)||v<=0||isNaN(g)||g<0)return;n.save();const R=es(D.lineWidth,1);if(n.fillStyle=es(D.fillStyle,o),n.lineCap=es(D.lineCap,"butt"),n.lineDashOffset=es(D.lineDashOffset,0),n.lineJoin=es(D.lineJoin,"miter"),n.lineWidth=R,n.strokeStyle=es(D.strokeStyle,o),n.setLineDash(es(D.lineDash,[])),l.usePointStyle){const I={radius:g*Math.SQRT2/2,pointStyle:D.pointStyle,rotation:D.rotation,borderWidth:R},M=c.xPlus(_,v/2),U=E+p;xU(n,I,M,U,l.pointStyleWidth&&v)}else{const I=E+Math.max((f-g)/2,0),M=c.leftForLtr(_,v),U=Q0(D.borderRadius);n.beginPath(),Object.values(U).some(P=>P!==0)?a1(n,{x:M,y:I,w:v,h:g,radius:U}):n.rect(M,I,v,g),n.fill(),R!==0&&n.stroke()}n.restore()},k=function(_,E,D){xm(n,D.text,_,E+b/2,d,{strikethrough:D.hidden,textAlign:c.textAlign(D.textAlign)})},S=this.isHorizontal(),N=this._computeTitleHeight();S?m={x:dl(i,this.left+u,this.right-r[0]),y:this.top+u+N,line:0}:m={x:this.left+u,y:dl(i,this.top+N+u,this.bottom-a[0].height),line:0},kU(this.ctx,t.textDirection);const A=b+u;this.legendItems.forEach((_,E)=>{n.strokeStyle=_.fontColor,n.fillStyle=_.fontColor;const D=n.measureText(_.text).width,R=c.textAlign(_.textAlign||(_.textAlign=l.textAlign)),I=v+p+D;let M=m.x,U=m.y;c.setWidth(this.width),S?E>0&&M+I+u>this.right&&(U=m.y+=A,m.line++,M=m.x=dl(i,this.left+u,this.right-r[m.line])):E>0&&U+A>this.bottom&&(M=m.x=M+a[m.line].width+u,m.line++,U=m.y=dl(i,this.top+N+u,this.bottom-a[m.line].height));const P=c.x(M);if(j(P,U,_),M=jse(R,M+v+p,S?M+I:this.right,t.rtl),k(c.x(M),U,_),S)m.x+=I+u;else if(typeof _.text!="string"){const F=d.lineHeight;m.y+=ez(_,F)+u}else m.y+=A}),SU(this.ctx,t.textDirection)}drawTitle(){const t=this.options,a=t.title,r=ci(a.font),n=jl(a.padding);if(!a.display)return;const i=Qp(t.rtl,this.left,this.width),l=this.ctx,o=a.position,c=r.size/2,d=n.top+c;let u,f=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),u=this.top+d,f=dl(t.align,f,this.right-p);else{const v=this.columnSizes.reduce((g,b)=>Math.max(g,b.height),0);u=d+dl(t.align,this.top,this.bottom-v-t.labels.padding-this._computeTitleHeight())}const m=dl(o,f,f+p);l.textAlign=i.textAlign(xA(o)),l.textBaseline="middle",l.strokeStyle=a.color,l.fillStyle=a.color,l.font=r.string,xm(l,a.text,m,u,r)}_computeTitleHeight(){const t=this.options.title,a=ci(t.font),r=jl(t.padding);return t.display?a.lineHeight+r.height:0}_getLegendItemAt(t,a){let r,n,i;if(Zu(t,this.left,this.right)&&Zu(a,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(n=i[r],Zu(t,n.left,n.left+n.width)&&Zu(a,n.top,n.top+n.height))return this.legendItems[r]}return null}handleEvent(t){const a=this.options;if(!cle(t.type,a))return;const r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const n=this._hoveredItem,i=nle(n,r);n&&!i&&xr(a.onLeave,[t,n,this],this),this._hoveredItem=r,r&&!i&&xr(a.onHover,[t,r,this],this)}else r&&xr(a.onClick,[t,r,this],this)}}function ile(e,t,a,r,n){const i=lle(r,e,t,a),l=ole(n,r,t.lineHeight);return{itemWidth:i,itemHeight:l}}function lle(e,t,a,r){let n=e.text;return n&&typeof n!="string"&&(n=n.reduce((i,l)=>i.length>l.length?i:l)),t+a.size/2+r.measureText(n).width}function ole(e,t,a){let r=e;return typeof t.text!="string"&&(r=ez(t,a)),r}function ez(e,t){const a=e.text?e.text.length:0;return t*a}function cle(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var bn={id:"legend",_element:fP,start(e,t,a){const r=e.legend=new fP({ctx:e.ctx,options:a,chart:e});bl.configure(e,r,a),bl.addBox(e,r)},stop(e){bl.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,a){const r=e.legend;bl.configure(e,r,a),r.options=a},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,a){const r=t.datasetIndex,n=a.chart;n.isDatasetVisible(r)?(n.hide(r),t.hidden=!0):(n.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:a,pointStyle:r,textAlign:n,color:i,useBorderRadius:l,borderRadius:o}}=e.legend.options;return e._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(a?0:void 0),u=jl(d.borderWidth);return{text:t[c.index].label,fillStyle:d.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:d.borderColor,pointStyle:r||d.pointStyle,rotation:d.rotation,textAlign:n||d.textAlign,borderRadius:l&&(o||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class SA extends Sh{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,a){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=a;const n=Br(r.text)?r.text.length:1;this._padding=jl(r.padding);const i=n*ci(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:a,left:r,bottom:n,right:i,options:l}=this,o=l.align;let c=0,d,u,f;return this.isHorizontal()?(u=dl(o,r,i),f=a+t,d=i-r):(l.position==="left"?(u=r+t,f=dl(o,n,a),c=Us*-.5):(u=i-t,f=dl(o,a,n),c=Us*.5),d=n-a),{titleX:u,titleY:f,maxWidth:d,rotation:c}}draw(){const t=this.ctx,a=this.options;if(!a.display)return;const r=ci(a.font),i=r.lineHeight/2+this._padding.top,{titleX:l,titleY:o,maxWidth:c,rotation:d}=this._drawArgs(i);xm(t,a.text,0,0,r,{color:a.color,maxWidth:c,rotation:d,textAlign:xA(a.align),textBaseline:"middle",translation:[l,o]})}}function dle(e,t){const a=new SA({ctx:e.ctx,options:t,chart:e});bl.configure(e,a,t),bl.addBox(e,a),e.titleBlock=a}var Dx={id:"title",_element:SA,start(e,t,a){dle(e,a)},stop(e){const t=e.titleBlock;bl.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,a){const r=e.titleBlock;bl.configure(e,r,a),r.options=a},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Uy=new WeakMap;var ule={id:"subtitle",start(e,t,a){const r=new SA({ctx:e.ctx,options:a,chart:e});bl.configure(e,r,a),bl.addBox(e,r),Uy.set(e,r)},stop(e){bl.removeBox(e,Uy.get(e)),Uy.delete(e)},beforeUpdate(e,t,a){const r=Uy.get(e);bl.configure(e,r,a),r.options=a},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const xv={average(e){if(!e.length)return!1;let t,a,r=new Set,n=0,i=0;for(t=0,a=e.length;t<a;++t){const o=e[t].element;if(o&&o.hasValue()){const c=o.tooltipPosition();r.add(c.x),n+=c.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((o,c)=>o+c)/r.size,y:n/i}},nearest(e,t){if(!e.length)return!1;let a=t.x,r=t.y,n=Number.POSITIVE_INFINITY,i,l,o;for(i=0,l=e.length;i<l;++i){const c=e[i].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),u=VS(t,d);u<n&&(n=u,o=c)}}if(o){const c=o.tooltipPosition();a=c.x,r=c.y}return{x:a,y:r}}};function ru(e,t){return t&&(Br(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Ku(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function hle(e,t){const{element:a,datasetIndex:r,index:n}=t,i=e.getDatasetMeta(r).controller,{label:l,value:o}=i.getLabelAndValue(n);return{chart:e,label:l,parsed:i.getParsed(n),raw:e.data.datasets[r].data[n],formattedValue:o,dataset:i.getDataset(),dataIndex:n,datasetIndex:r,element:a}}function mP(e,t){const a=e.chart.ctx,{body:r,footer:n,title:i}=e,{boxWidth:l,boxHeight:o}=t,c=ci(t.bodyFont),d=ci(t.titleFont),u=ci(t.footerFont),f=i.length,p=n.length,m=r.length,v=jl(t.padding);let g=v.height,b=0,j=r.reduce((N,A)=>N+A.before.length+A.lines.length+A.after.length,0);if(j+=e.beforeBody.length+e.afterBody.length,f&&(g+=f*d.lineHeight+(f-1)*t.titleSpacing+t.titleMarginBottom),j){const N=t.displayColors?Math.max(o,c.lineHeight):c.lineHeight;g+=m*N+(j-m)*c.lineHeight+(j-1)*t.bodySpacing}p&&(g+=t.footerMarginTop+p*u.lineHeight+(p-1)*t.footerSpacing);let k=0;const S=function(N){b=Math.max(b,a.measureText(N).width+k)};return a.save(),a.font=d.string,Zs(e.title,S),a.font=c.string,Zs(e.beforeBody.concat(e.afterBody),S),k=t.displayColors?l+2+t.boxPadding:0,Zs(r,N=>{Zs(N.before,S),Zs(N.lines,S),Zs(N.after,S)}),k=0,a.font=u.string,Zs(e.footer,S),a.restore(),b+=v.width,{width:b,height:g}}function fle(e,t){const{y:a,height:r}=t;return a<r/2?"top":a>e.height-r/2?"bottom":"center"}function mle(e,t,a,r){const{x:n,width:i}=r,l=a.caretSize+a.caretPadding;if(e==="left"&&n+i+l>t.width||e==="right"&&n-i-l<0)return!0}function ple(e,t,a,r){const{x:n,width:i}=a,{width:l,chartArea:{left:o,right:c}}=e;let d="center";return r==="center"?d=n<=(o+c)/2?"left":"right":n<=i/2?d="left":n>=l-i/2&&(d="right"),mle(d,e,t,a)&&(d="center"),d}function pP(e,t,a){const r=a.yAlign||t.yAlign||fle(e,a);return{xAlign:a.xAlign||t.xAlign||ple(e,t,a,r),yAlign:r}}function xle(e,t){let{x:a,width:r}=e;return t==="right"?a-=r:t==="center"&&(a-=r/2),a}function gle(e,t,a){let{y:r,height:n}=e;return t==="top"?r+=a:t==="bottom"?r-=n+a:r-=n/2,r}function xP(e,t,a,r){const{caretSize:n,caretPadding:i,cornerRadius:l}=e,{xAlign:o,yAlign:c}=a,d=n+i,{topLeft:u,topRight:f,bottomLeft:p,bottomRight:m}=Q0(l);let v=xle(t,o);const g=gle(t,c,d);return c==="center"?o==="left"?v+=d:o==="right"&&(v-=d):o==="left"?v-=Math.max(u,p)+n:o==="right"&&(v+=Math.max(f,m)+n),{x:Ei(v,0,r.width-t.width),y:Ei(g,0,r.height-t.height)}}function zy(e,t,a){const r=jl(a.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-r.right:e.x+r.left}function gP(e){return ru([],Ku(e))}function vle(e,t,a){return qf(e,{tooltip:t,tooltipItems:a,type:"tooltip"})}function vP(e,t){const a=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return a?e.override(a):e}const tz={beforeTitle:Vu,title(e){if(e.length>0){const t=e[0],a=t.chart.data.labels,r=a?a.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return a[t.dataIndex]}return""},afterTitle:Vu,beforeBody:Vu,beforeLabel:Vu,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const a=e.formattedValue;return Ns(a)||(t+=a),t},labelColor(e){const a=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:a.borderColor,backgroundColor:a.backgroundColor,borderWidth:a.borderWidth,borderDash:a.borderDash,borderDashOffset:a.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const a=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:a.pointStyle,rotation:a.rotation}},afterLabel:Vu,afterBody:Vu,beforeFooter:Vu,footer:Vu,afterFooter:Vu};function no(e,t,a,r){const n=e[t].call(a,r);return typeof n>"u"?tz[t].call(a,r):n}let bP=class extends Sh{static positioners=xv;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const a=this.chart,r=this.options.setContext(this.getContext()),n=r.enabled&&a.options.animation&&r.animations,i=new TU(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=vle(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,a){const{callbacks:r}=a,n=no(r,"beforeTitle",this,t),i=no(r,"title",this,t),l=no(r,"afterTitle",this,t);let o=[];return o=ru(o,Ku(n)),o=ru(o,Ku(i)),o=ru(o,Ku(l)),o}getBeforeBody(t,a){return gP(no(a.callbacks,"beforeBody",this,t))}getBody(t,a){const{callbacks:r}=a,n=[];return Zs(t,i=>{const l={before:[],lines:[],after:[]},o=vP(r,i);ru(l.before,Ku(no(o,"beforeLabel",this,i))),ru(l.lines,no(o,"label",this,i)),ru(l.after,Ku(no(o,"afterLabel",this,i))),n.push(l)}),n}getAfterBody(t,a){return gP(no(a.callbacks,"afterBody",this,t))}getFooter(t,a){const{callbacks:r}=a,n=no(r,"beforeFooter",this,t),i=no(r,"footer",this,t),l=no(r,"afterFooter",this,t);let o=[];return o=ru(o,Ku(n)),o=ru(o,Ku(i)),o=ru(o,Ku(l)),o}_createItems(t){const a=this._active,r=this.chart.data,n=[],i=[],l=[];let o=[],c,d;for(c=0,d=a.length;c<d;++c)o.push(hle(this.chart,a[c]));return t.filter&&(o=o.filter((u,f,p)=>t.filter(u,f,p,r))),t.itemSort&&(o=o.sort((u,f)=>t.itemSort(u,f,r))),Zs(o,u=>{const f=vP(t.callbacks,u);n.push(no(f,"labelColor",this,u)),i.push(no(f,"labelPointStyle",this,u)),l.push(no(f,"labelTextColor",this,u))}),this.labelColors=n,this.labelPointStyles=i,this.labelTextColors=l,this.dataPoints=o,o}update(t,a){const r=this.options.setContext(this.getContext()),n=this._active;let i,l=[];if(!n.length)this.opacity!==0&&(i={opacity:0});else{const o=xv[r.position].call(this,n,this._eventPosition);l=this._createItems(r),this.title=this.getTitle(l,r),this.beforeBody=this.getBeforeBody(l,r),this.body=this.getBody(l,r),this.afterBody=this.getAfterBody(l,r),this.footer=this.getFooter(l,r);const c=this._size=mP(this,r),d=Object.assign({},o,c),u=pP(this.chart,r,d),f=xP(r,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:f.x,y:f.y,width:c.width,height:c.height,caretX:o.x,caretY:o.y}}this._tooltipItems=l,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:a})}drawCaret(t,a,r,n){const i=this.getCaretPosition(t,r,n);a.lineTo(i.x1,i.y1),a.lineTo(i.x2,i.y2),a.lineTo(i.x3,i.y3)}getCaretPosition(t,a,r){const{xAlign:n,yAlign:i}=this,{caretSize:l,cornerRadius:o}=r,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:f}=Q0(o),{x:p,y:m}=t,{width:v,height:g}=a;let b,j,k,S,N,A;return i==="center"?(N=m+g/2,n==="left"?(b=p,j=b-l,S=N+l,A=N-l):(b=p+v,j=b+l,S=N-l,A=N+l),k=b):(n==="left"?j=p+Math.max(c,u)+l:n==="right"?j=p+v-Math.max(d,f)-l:j=this.caretX,i==="top"?(S=m,N=S-l,b=j-l,k=j+l):(S=m+g,N=S+l,b=j+l,k=j-l),A=S),{x1:b,x2:j,x3:k,y1:S,y2:N,y3:A}}drawTitle(t,a,r){const n=this.title,i=n.length;let l,o,c;if(i){const d=Qp(r.rtl,this.x,this.width);for(t.x=zy(this,r.titleAlign,r),a.textAlign=d.textAlign(r.titleAlign),a.textBaseline="middle",l=ci(r.titleFont),o=r.titleSpacing,a.fillStyle=r.titleColor,a.font=l.string,c=0;c<i;++c)a.fillText(n[c],d.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+o,c+1===i&&(t.y+=r.titleMarginBottom-o)}}_drawColorBox(t,a,r,n,i){const l=this.labelColors[r],o=this.labelPointStyles[r],{boxHeight:c,boxWidth:d}=i,u=ci(i.bodyFont),f=zy(this,"left",i),p=n.x(f),m=c<u.lineHeight?(u.lineHeight-c)/2:0,v=a.y+m;if(i.usePointStyle){const g={radius:Math.min(d,c)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},b=n.leftForLtr(p,d)+d/2,j=v+c/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,qS(t,g,b,j),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,qS(t,g,b,j)}else{t.lineWidth=As(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const g=n.leftForLtr(p,d),b=n.leftForLtr(n.xPlus(p,1),d-2),j=Q0(l.borderRadius);Object.values(j).some(k=>k!==0)?(t.beginPath(),t.fillStyle=i.multiKeyBackground,a1(t,{x:g,y:v,w:d,h:c,radius:j}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),a1(t,{x:b,y:v+1,w:d-2,h:c-2,radius:j}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(g,v,d,c),t.strokeRect(g,v,d,c),t.fillStyle=l.backgroundColor,t.fillRect(b,v+1,d-2,c-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,a,r){const{body:n}=this,{bodySpacing:i,bodyAlign:l,displayColors:o,boxHeight:c,boxWidth:d,boxPadding:u}=r,f=ci(r.bodyFont);let p=f.lineHeight,m=0;const v=Qp(r.rtl,this.x,this.width),g=function(D){a.fillText(D,v.x(t.x+m),t.y+p/2),t.y+=p+i},b=v.textAlign(l);let j,k,S,N,A,_,E;for(a.textAlign=l,a.textBaseline="middle",a.font=f.string,t.x=zy(this,b,r),a.fillStyle=r.bodyColor,Zs(this.beforeBody,g),m=o&&b!=="right"?l==="center"?d/2+u:d+2+u:0,N=0,_=n.length;N<_;++N){for(j=n[N],k=this.labelTextColors[N],a.fillStyle=k,Zs(j.before,g),S=j.lines,o&&S.length&&(this._drawColorBox(a,t,N,v,r),p=Math.max(f.lineHeight,c)),A=0,E=S.length;A<E;++A)g(S[A]),p=f.lineHeight;Zs(j.after,g)}m=0,p=f.lineHeight,Zs(this.afterBody,g),t.y-=i}drawFooter(t,a,r){const n=this.footer,i=n.length;let l,o;if(i){const c=Qp(r.rtl,this.x,this.width);for(t.x=zy(this,r.footerAlign,r),t.y+=r.footerMarginTop,a.textAlign=c.textAlign(r.footerAlign),a.textBaseline="middle",l=ci(r.footerFont),a.fillStyle=r.footerColor,a.font=l.string,o=0;o<i;++o)a.fillText(n[o],c.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+r.footerSpacing}}drawBackground(t,a,r,n){const{xAlign:i,yAlign:l}=this,{x:o,y:c}=t,{width:d,height:u}=r,{topLeft:f,topRight:p,bottomLeft:m,bottomRight:v}=Q0(n.cornerRadius);a.fillStyle=n.backgroundColor,a.strokeStyle=n.borderColor,a.lineWidth=n.borderWidth,a.beginPath(),a.moveTo(o+f,c),l==="top"&&this.drawCaret(t,a,r,n),a.lineTo(o+d-p,c),a.quadraticCurveTo(o+d,c,o+d,c+p),l==="center"&&i==="right"&&this.drawCaret(t,a,r,n),a.lineTo(o+d,c+u-v),a.quadraticCurveTo(o+d,c+u,o+d-v,c+u),l==="bottom"&&this.drawCaret(t,a,r,n),a.lineTo(o+m,c+u),a.quadraticCurveTo(o,c+u,o,c+u-m),l==="center"&&i==="left"&&this.drawCaret(t,a,r,n),a.lineTo(o,c+f),a.quadraticCurveTo(o,c,o+f,c),a.closePath(),a.fill(),n.borderWidth>0&&a.stroke()}_updateAnimationTarget(t){const a=this.chart,r=this.$animations,n=r&&r.x,i=r&&r.y;if(n||i){const l=xv[t.position].call(this,this._active,this._eventPosition);if(!l)return;const o=this._size=mP(this,t),c=Object.assign({},l,this._size),d=pP(a,t,c),u=xP(t,c,d,a);(n._to!==u.x||i._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=o.width,this.height=o.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const a=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(a);const n={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const l=jl(a.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;a.enabled&&o&&(t.save(),t.globalAlpha=r,this.drawBackground(i,t,n,a),kU(t,a.textDirection),i.y+=l.top,this.drawTitle(i,t,a),this.drawBody(i,t,a),this.drawFooter(i,t,a),SU(t,a.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,a){const r=this._active,n=t.map(({datasetIndex:o,index:c})=>{const d=this.chart.getDatasetMeta(o);if(!d)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:d.data[c],index:c}}),i=!tw(r,n),l=this._positionChanged(n,a);(i||l)&&(this._active=n,this._eventPosition=a,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,a,r=!0){if(a&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,i=this._active||[],l=this._getActiveElements(t,i,a,r),o=this._positionChanged(l,t),c=a||!tw(l,i)||o;return c&&(this._active=l,(n.enabled||n.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,a))),c}_getActiveElements(t,a,r,n){const i=this.options;if(t.type==="mouseout")return[];if(!n)return a.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,i.mode,i,r);return i.reverse&&l.reverse(),l}_positionChanged(t,a){const{caretX:r,caretY:n,options:i}=this,l=xv[i.position].call(this,t,a);return l!==!1&&(r!==l.x||n!==l.y)}};var yn={id:"tooltip",_element:bP,positioners:xv,afterInit(e,t,a){a&&(e.tooltip=new bP({chart:e,options:a}))},beforeUpdate(e,t,a){e.tooltip&&e.tooltip.initialize(a)},reset(e,t,a){e.tooltip&&e.tooltip.initialize(a)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const a={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...a,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",a)}},afterEvent(e,t){if(e.tooltip){const a=t.replay;e.tooltip.handleEvent(t.event,a,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:tz},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},ble=Object.freeze({__proto__:null,Colors:Lie,Decimation:Iie,Filler:rle,Legend:bn,SubTitle:ule,Title:Dx,Tooltip:yn});const yle=(e,t,a,r)=>(typeof t=="string"?(a=e.push(t)-1,r.unshift({index:a,label:t})):isNaN(t)&&(a=null),a);function wle(e,t,a,r){const n=e.indexOf(t);if(n===-1)return yle(e,t,a,r);const i=e.lastIndexOf(t);return n!==i?a:n}const jle=(e,t)=>e===null?null:Ei(Math.round(e),0,t);function yP(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Bn extends Rm{static id="category";static defaults={ticks:{callback:yP}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const a=this._addedLabels;if(a.length){const r=this.getLabels();for(const{index:n,label:i}of a)r[n]===i&&r.splice(n,1);this._addedLabels=[]}super.init(t)}parse(t,a){if(Ns(t))return null;const r=this.getLabels();return a=isFinite(a)&&r[a]===t?a:wle(r,t,es(a,t),this._addedLabels),jle(a,r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:a}=this.getUserBounds();let{min:r,max:n}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),a||(n=this.getLabels().length-1)),this.min=r,this.max=n}buildTicks(){const t=this.min,a=this.max,r=this.options.offset,n=[];let i=this.getLabels();i=t===0&&a===i.length-1?i:i.slice(t,a+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let l=t;l<=a;l++)n.push({value:l});return n}getLabelForValue(t){return yP.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const a=this.ticks;return t<0||t>a.length-1?null:this.getPixelForValue(a[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function Nle(e,t){const a=[],{bounds:n,step:i,min:l,max:o,precision:c,count:d,maxTicks:u,maxDigits:f,includeBounds:p}=e,m=i||1,v=u-1,{min:g,max:b}=t,j=!Ns(l),k=!Ns(o),S=!Ns(d),N=(b-g)/(f+1);let A=mD((b-g)/v/m)*m,_,E,D,R;if(A<1e-14&&!j&&!k)return[{value:g},{value:b}];R=Math.ceil(b/A)-Math.floor(g/A),R>v&&(A=mD(R*A/v/m)*m),Ns(c)||(_=Math.pow(10,c),A=Math.ceil(A*_)/_),n==="ticks"?(E=Math.floor(g/A)*A,D=Math.ceil(b/A)*A):(E=g,D=b),j&&k&&i&&pse((o-l)/i,A/1e3)?(R=Math.round(Math.min((o-l)/A,u)),A=(o-l)/R,E=l,D=o):S?(E=j?l:E,D=k?o:D,R=d-1,A=(D-E)/R):(R=(D-E)/A,kv(R,Math.round(R),A/1e3)?R=Math.round(R):R=Math.ceil(R));const I=Math.max(pD(A),pD(E));_=Math.pow(10,Ns(c)?I:c),E=Math.round(E*_)/_,D=Math.round(D*_)/_;let M=0;for(j&&(p&&E!==l?(a.push({value:l}),E<l&&M++,kv(Math.round((E+M*A)*_)/_,l,wP(l,N,e))&&M++):E<l&&M++);M<R;++M){const U=Math.round((E+M*A)*_)/_;if(k&&U>o)break;a.push({value:U})}return k&&p&&D!==o?a.length&&kv(a[a.length-1].value,o,wP(o,N,e))?a[a.length-1].value=o:a.push({value:o}):(!k||D===o)&&a.push({value:D}),a}function wP(e,t,{horizontal:a,minRotation:r}){const n=bd(r),i=(a?Math.sin(n):Math.cos(n))||.001,l=.75*t*(""+e).length;return Math.min(t/i,l)}class ow extends Rm{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,a){return Ns(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:a,maxDefined:r}=this.getUserBounds();let{min:n,max:i}=this;const l=c=>n=a?n:c,o=c=>i=r?i:c;if(t){const c=fu(n),d=fu(i);c<0&&d<0?o(0):c>0&&d>0&&l(0)}if(n===i){let c=i===0?1:Math.abs(i*.05);o(i+c),t||l(n-c)}this.min=n,this.max=i}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:a,stepSize:r}=t,n;return r?(n=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,n>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${n} ticks. Limiting to 1000.`),n=1e3)):(n=this.computeTickLimit(),a=a||11),a&&(n=Math.min(a,n)),n}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,a=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const n={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:a.precision,step:a.stepSize,count:a.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:a.minRotation||0,includeBounds:a.includeBounds!==!1},i=this._range||this,l=Nle(n,i);return t.bounds==="ticks"&&lU(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let a=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const n=(r-a)/Math.max(t.length-1,1)/2;a-=n,r+=n}this._startValue=a,this._endValue=r,this._valueRange=r-a}getLabelForValue(t){return G1(t,this.chart.options.locale,this.options.ticks.format)}}class $n extends ow{static id="linear";static defaults={ticks:{callback:Ij.formatters.numeric}};determineDataLimits(){const{min:t,max:a}=this.getMinMax(!0);this.min=xn(t)?t:0,this.max=xn(a)?a:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),a=t?this.width:this.height,r=bd(this.options.ticks.minRotation),n=(t?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(a/Math.min(40,i.lineHeight/n))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const r1=e=>Math.floor(kf(e)),D0=(e,t)=>Math.pow(10,r1(e)+t);function jP(e){return e/Math.pow(10,r1(e))===1}function NP(e,t,a){const r=Math.pow(10,a),n=Math.floor(e/r);return Math.ceil(t/r)-n}function kle(e,t){const a=t-e;let r=r1(a);for(;NP(e,t,r)>10;)r++;for(;NP(e,t,r)<10;)r--;return Math.min(r,r1(e))}function Sle(e,{min:t,max:a}){t=Fo(e.min,t);const r=[],n=r1(t);let i=kle(t,a),l=i<0?Math.pow(10,Math.abs(i)):1;const o=Math.pow(10,i),c=n>i?Math.pow(10,n):0,d=Math.round((t-c)*l)/l,u=Math.floor((t-c)/o/10)*o*10;let f=Math.floor((d-u)/Math.pow(10,i)),p=Fo(e.min,Math.round((c+u+f*Math.pow(10,i))*l)/l);for(;p<a;)r.push({value:p,major:jP(p),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(i++,f=2,l=i>=0?1:l),p=Math.round((c+u+f*Math.pow(10,i))*l)/l;const m=Fo(e.max,p);return r.push({value:m,major:jP(m),significand:f}),r}class Cle extends Rm{static id="logarithmic";static defaults={ticks:{callback:Ij.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,a){const r=ow.prototype.parse.apply(this,[t,a]);if(r===0){this._zero=!0;return}return xn(r)&&r>0?r:null}determineDataLimits(){const{min:t,max:a}=this.getMinMax(!0);this.min=xn(t)?Math.max(0,t):null,this.max=xn(a)?Math.max(0,a):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!xn(this._userMin)&&(this.min=t===D0(this.min,0)?D0(this.min,-1):D0(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:a}=this.getUserBounds();let r=this.min,n=this.max;const i=o=>r=t?r:o,l=o=>n=a?n:o;r===n&&(r<=0?(i(1),l(10)):(i(D0(r,-1)),l(D0(n,1)))),r<=0&&i(D0(n,-1)),n<=0&&l(D0(r,1)),this.min=r,this.max=n}buildTicks(){const t=this.options,a={min:this._userMin,max:this._userMax},r=Sle(a,this);return t.bounds==="ticks"&&lU(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(t){return t===void 0?"0":G1(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=kf(t),this._valueRange=kf(this.max)-kf(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(kf(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const a=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+a*this._valueRange)}}function QS(e){const t=e.ticks;if(t.display&&e.display){const a=jl(t.backdropPadding);return es(t.font&&t.font.size,$r.font.size)+a.height}return 0}function Ale(e,t,a){return a=Br(a)?a:[a],{w:Pse(e,t.string,a),h:a.length*t.lineHeight}}function kP(e,t,a,r,n){return e===r||e===n?{start:t-a/2,end:t+a/2}:e<r||e>n?{start:t-a,end:t}:{start:t,end:t+a}}function _le(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},a=Object.assign({},t),r=[],n=[],i=e._pointLabels.length,l=e.options.pointLabels,o=l.centerPointLabels?Us/i:0;for(let c=0;c<i;c++){const d=l.setContext(e.getPointLabelContext(c));n[c]=d.padding;const u=e.getPointPosition(c,e.drawingArea+n[c],o),f=ci(d.font),p=Ale(e.ctx,f,e._pointLabels[c]);r[c]=p;const m=fl(e.getIndexAngle(c)+o),v=Math.round(mA(m)),g=kP(v,u.x,p.w,0,180),b=kP(v,u.y,p.h,90,270);Ele(a,t,m,g,b)}e.setCenterPoint(t.l-a.l,a.r-t.r,t.t-a.t,a.b-t.b),e._pointLabelItems=Ple(e,r,n)}function Ele(e,t,a,r,n){const i=Math.abs(Math.sin(a)),l=Math.abs(Math.cos(a));let o=0,c=0;r.start<t.l?(o=(t.l-r.start)/i,e.l=Math.min(e.l,t.l-o)):r.end>t.r&&(o=(r.end-t.r)/i,e.r=Math.max(e.r,t.r+o)),n.start<t.t?(c=(t.t-n.start)/l,e.t=Math.min(e.t,t.t-c)):n.end>t.b&&(c=(n.end-t.b)/l,e.b=Math.max(e.b,t.b+c))}function Tle(e,t,a){const r=e.drawingArea,{extra:n,additionalAngle:i,padding:l,size:o}=a,c=e.getPointPosition(t,r+n+l,i),d=Math.round(mA(fl(c.angle+On))),u=Ole(c.y,o.h,d),f=Mle(d),p=Lle(c.x,o.w,f);return{visible:!0,x:c.x,y:u,textAlign:f,left:p,top:u,right:p+o.w,bottom:u+o.h}}function Dle(e,t){if(!t)return!0;const{left:a,top:r,right:n,bottom:i}=e;return!(th({x:a,y:r},t)||th({x:a,y:i},t)||th({x:n,y:r},t)||th({x:n,y:i},t))}function Ple(e,t,a){const r=[],n=e._pointLabels.length,i=e.options,{centerPointLabels:l,display:o}=i.pointLabels,c={extra:QS(i)/2,additionalAngle:l?Us/n:0};let d;for(let u=0;u<n;u++){c.padding=a[u],c.size=t[u];const f=Tle(e,u,c);r.push(f),o==="auto"&&(f.visible=Dle(f,d),f.visible&&(d=f))}return r}function Mle(e){return e===0||e===180?"center":e<180?"left":"right"}function Lle(e,t,a){return a==="right"?e-=t:a==="center"&&(e-=t/2),e}function Ole(e,t,a){return a===90||a===270?e-=t/2:(a>270||a<90)&&(e-=t),e}function Rle(e,t,a){const{left:r,top:n,right:i,bottom:l}=a,{backdropColor:o}=t;if(!Ns(o)){const c=Q0(t.borderRadius),d=jl(t.backdropPadding);e.fillStyle=o;const u=r-d.left,f=n-d.top,p=i-r+d.width,m=l-n+d.height;Object.values(c).some(v=>v!==0)?(e.beginPath(),a1(e,{x:u,y:f,w:p,h:m,radius:c}),e.fill()):e.fillRect(u,f,p,m)}}function Fle(e,t){const{ctx:a,options:{pointLabels:r}}=e;for(let n=t-1;n>=0;n--){const i=e._pointLabelItems[n];if(!i.visible)continue;const l=r.setContext(e.getPointLabelContext(n));Rle(a,l,i);const o=ci(l.font),{x:c,y:d,textAlign:u}=i;xm(a,e._pointLabels[n],c,d+o.lineHeight/2,o,{color:l.color,textAlign:u,textBaseline:"middle"})}}function az(e,t,a,r){const{ctx:n}=e;if(a)n.arc(e.xCenter,e.yCenter,t,0,kr);else{let i=e.getPointPosition(0,t);n.moveTo(i.x,i.y);for(let l=1;l<r;l++)i=e.getPointPosition(l,t),n.lineTo(i.x,i.y)}}function Ile(e,t,a,r,n){const i=e.ctx,l=t.circular,{color:o,lineWidth:c}=t;!l&&!r||!o||!c||a<0||(i.save(),i.strokeStyle=o,i.lineWidth=c,i.setLineDash(n.dash||[]),i.lineDashOffset=n.dashOffset,i.beginPath(),az(e,a,l,r),i.closePath(),i.stroke(),i.restore())}function Ble(e,t,a){return qf(e,{label:a,index:t,type:"pointLabel"})}class $le extends ow{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ij.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=jl(QS(this.options)/2),a=this.width=this.maxWidth-t.width,r=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+a/2+t.left),this.yCenter=Math.floor(this.top+r/2+t.top),this.drawingArea=Math.floor(Math.min(a,r)/2)}determineDataLimits(){const{min:t,max:a}=this.getMinMax(!1);this.min=xn(t)&&!isNaN(t)?t:0,this.max=xn(a)&&!isNaN(a)?a:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/QS(this.options))}generateTickLabels(t){ow.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((a,r)=>{const n=xr(this.options.pointLabels.callback,[a,r],this);return n||n===0?n:""}).filter((a,r)=>this.chart.getDataVisibility(r))}fit(){const t=this.options;t.display&&t.pointLabels.display?_le(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,a,r,n){this.xCenter+=Math.floor((t-a)/2),this.yCenter+=Math.floor((r-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,a,r,n))}getIndexAngle(t){const a=kr/(this._pointLabels.length||1),r=this.options.startAngle||0;return fl(t*a+bd(r))}getDistanceFromCenterForValue(t){if(Ns(t))return NaN;const a=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*a:(t-this.min)*a}getValueForDistanceFromCenter(t){if(Ns(t))return NaN;const a=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-a:this.min+a}getPointLabelContext(t){const a=this._pointLabels||[];if(t>=0&&t<a.length){const r=a[t];return Ble(this.getContext(),t,r)}}getPointPosition(t,a,r=0){const n=this.getIndexAngle(t)-On+r;return{x:Math.cos(n)*a+this.xCenter,y:Math.sin(n)*a+this.yCenter,angle:n}}getPointPositionForValue(t,a){return this.getPointPosition(t,this.getDistanceFromCenterForValue(a))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:a,top:r,right:n,bottom:i}=this._pointLabelItems[t];return{left:a,top:r,right:n,bottom:i}}drawBackground(){const{backgroundColor:t,grid:{circular:a}}=this.options;if(t){const r=this.ctx;r.save(),r.beginPath(),az(this,this.getDistanceFromCenterForValue(this._endValue),a,this._pointLabels.length),r.closePath(),r.fillStyle=t,r.fill(),r.restore()}}drawGrid(){const t=this.ctx,a=this.options,{angleLines:r,grid:n,border:i}=a,l=this._pointLabels.length;let o,c,d;if(a.pointLabels.display&&Fle(this,l),n.display&&this.ticks.forEach((u,f)=>{if(f!==0||f===0&&this.min<0){c=this.getDistanceFromCenterForValue(u.value);const p=this.getContext(f),m=n.setContext(p),v=i.setContext(p);Ile(this,m,c,l,v)}}),r.display){for(t.save(),o=l-1;o>=0;o--){const u=r.setContext(this.getPointLabelContext(o)),{color:f,lineWidth:p}=u;!p||!f||(t.lineWidth=p,t.strokeStyle=f,t.setLineDash(u.borderDash),t.lineDashOffset=u.borderDashOffset,c=this.getDistanceFromCenterForValue(a.reverse?this.min:this.max),d=this.getPointPosition(o,c),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(d.x,d.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,a=this.options,r=a.ticks;if(!r.display)return;const n=this.getIndexAngle(0);let i,l;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(n),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((o,c)=>{if(c===0&&this.min>=0&&!a.reverse)return;const d=r.setContext(this.getContext(c)),u=ci(d.font);if(i=this.getDistanceFromCenterForValue(this.ticks[c].value),d.showLabelBackdrop){t.font=u.string,l=t.measureText(o.label).width,t.fillStyle=d.backdropColor;const f=jl(d.backdropPadding);t.fillRect(-l/2-f.left,-i-u.size/2-f.top,l+f.width,u.size+f.height)}xm(t,o.label,0,-i,u,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),t.restore()}drawTitle(){}}const Wj={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},uo=Object.keys(Wj);function SP(e,t){return e-t}function CP(e,t){if(Ns(t))return null;const a=e._adapter,{parser:r,round:n,isoWeekday:i}=e._parseOpts;let l=t;return typeof r=="function"&&(l=r(l)),xn(l)||(l=typeof r=="string"?a.parse(l,r):a.parse(l)),l===null?null:(n&&(l=n==="week"&&(ox(i)||i===!0)?a.startOf(l,"isoWeek",i):a.startOf(l,n)),+l)}function AP(e,t,a,r){const n=uo.length;for(let i=uo.indexOf(e);i<n-1;++i){const l=Wj[uo[i]],o=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((a-t)/(o*l.size))<=r)return uo[i]}return uo[n-1]}function Ule(e,t,a,r,n){for(let i=uo.length-1;i>=uo.indexOf(a);i--){const l=uo[i];if(Wj[l].common&&e._adapter.diff(n,r,l)>=t-1)return l}return uo[a?uo.indexOf(a):0]}function zle(e){for(let t=uo.indexOf(e)+1,a=uo.length;t<a;++t)if(Wj[uo[t]].common)return uo[t]}function _P(e,t,a){if(!a)e[t]=!0;else if(a.length){const{lo:r,hi:n}=pA(a,t),i=a[r]>=t?a[r]:a[n];e[i]=!0}}function Hle(e,t,a,r){const n=e._adapter,i=+n.startOf(t[0].value,r),l=t[t.length-1].value;let o,c;for(o=i;o<=l;o=+n.add(o,1,r))c=a[o],c>=0&&(t[c].major=!0);return t}function EP(e,t,a){const r=[],n={},i=t.length;let l,o;for(l=0;l<i;++l)o=t[l],n[o]=l,r.push({value:o,major:!1});return i===0||!a?r:Hle(e,r,n,a)}class ZS extends Rm{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,a={}){const r=t.time||(t.time={}),n=this._adapter=new Qre._date(t.adapters.date);n.init(a),Nv(r.displayFormats,n.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=a.normalized}parse(t,a){return t===void 0?null:CP(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,a=this._adapter,r=t.time.unit||"day";let{min:n,max:i,minDefined:l,maxDefined:o}=this.getUserBounds();function c(d){!l&&!isNaN(d.min)&&(n=Math.min(n,d.min)),!o&&!isNaN(d.max)&&(i=Math.max(i,d.max))}(!l||!o)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),n=xn(n)&&!isNaN(n)?n:+a.startOf(Date.now(),r),i=xn(i)&&!isNaN(i)?i:+a.endOf(Date.now(),r)+1,this.min=Math.min(n,i-1),this.max=Math.max(n+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let a=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(a=t[0],r=t[t.length-1]),{min:a,max:r}}buildTicks(){const t=this.options,a=t.time,r=t.ticks,n=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const i=this.min,l=this.max,o=bse(n,i,l);return this._unit=a.unit||(r.autoSkip?AP(a.minUnit,this.min,this.max,this._getLabelCapacity(i)):Ule(this,o.length,a.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:zle(this._unit),this.initOffsets(n),t.reverse&&o.reverse(),EP(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let a=0,r=0,n,i;this.options.offset&&t.length&&(n=this.getDecimalForValue(t[0]),t.length===1?a=1-n:a=(this.getDecimalForValue(t[1])-n)/2,i=this.getDecimalForValue(t[t.length-1]),t.length===1?r=i:r=(i-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;a=Ei(a,0,l),r=Ei(r,0,l),this._offsets={start:a,end:r,factor:1/(a+1+r)}}_generate(){const t=this._adapter,a=this.min,r=this.max,n=this.options,i=n.time,l=i.unit||AP(i.minUnit,a,r,this._getLabelCapacity(a)),o=es(n.ticks.stepSize,1),c=l==="week"?i.isoWeekday:!1,d=ox(c)||c===!0,u={};let f=a,p,m;if(d&&(f=+t.startOf(f,"isoWeek",c)),f=+t.startOf(f,d?"day":l),t.diff(r,a,l)>1e5*o)throw new Error(a+" and "+r+" are too far apart with stepSize of "+o+" "+l);const v=n.ticks.source==="data"&&this.getDataTimestamps();for(p=f,m=0;p<r;p=+t.add(p,o,l),m++)_P(u,p,v);return(p===r||n.bounds==="ticks"||m===1)&&_P(u,p,v),Object.keys(u).sort(SP).map(g=>+g)}getLabelForValue(t){const a=this._adapter,r=this.options.time;return r.tooltipFormat?a.format(t,r.tooltipFormat):a.format(t,r.displayFormats.datetime)}format(t,a){const n=this.options.time.displayFormats,i=this._unit,l=a||n[i];return this._adapter.format(t,l)}_tickFormatFunction(t,a,r,n){const i=this.options,l=i.ticks.callback;if(l)return xr(l,[t,a,r],this);const o=i.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&o[c],f=d&&o[d],p=r[a],m=d&&f&&p&&p.major;return this._adapter.format(t,n||(m?f:u))}generateTickLabels(t){let a,r,n;for(a=0,r=t.length;a<r;++a)n=t[a],n.label=this._tickFormatFunction(n.value,a,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const a=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((a.start+r)*a.factor)}getValueForPixel(t){const a=this._offsets,r=this.getDecimalForPixel(t)/a.factor-a.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const a=this.options.ticks,r=this.ctx.measureText(t).width,n=bd(this.isHorizontal()?a.maxRotation:a.minRotation),i=Math.cos(n),l=Math.sin(n),o=this._resolveTickFontOptions(0).size;return{w:r*i+o*l,h:r*l+o*i}}_getLabelCapacity(t){const a=this.options.time,r=a.displayFormats,n=r[a.unit]||r.millisecond,i=this._tickFormatFunction(t,0,EP(this,[t],this._majorUnit),n),l=this._getLabelSize(i),o=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return o>0?o:1}getDataTimestamps(){let t=this._cache.data||[],a,r;if(t.length)return t;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(a=0,r=n.length;a<r;++a)t=t.concat(n[a].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let a,r;if(t.length)return t;const n=this.getLabels();for(a=0,r=n.length;a<r;++a)t.push(CP(this,n[a]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return dU(t.sort(SP))}}function Hy(e,t,a){let r=0,n=e.length-1,i,l,o,c;a?(t>=e[r].pos&&t<=e[n].pos&&({lo:r,hi:n}=eh(e,"pos",t)),{pos:i,time:o}=e[r],{pos:l,time:c}=e[n]):(t>=e[r].time&&t<=e[n].time&&({lo:r,hi:n}=eh(e,"time",t)),{time:i,pos:o}=e[r],{time:l,pos:c}=e[n]);const d=l-i;return d?o+(c-o)*(t-i)/d:o}class Vle extends ZS{static id="timeseries";static defaults=ZS.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),a=this._table=this.buildLookupTable(t);this._minPos=Hy(a,this.min),this._tableRange=Hy(a,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:a,max:r}=this,n=[],i=[];let l,o,c,d,u;for(l=0,o=t.length;l<o;++l)d=t[l],d>=a&&d<=r&&n.push(d);if(n.length<2)return[{time:a,pos:0},{time:r,pos:1}];for(l=0,o=n.length;l<o;++l)u=n[l+1],c=n[l-1],d=n[l],Math.round((u+c)/2)!==d&&i.push({time:d,pos:l/(o-1)});return i}_generate(){const t=this.min,a=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(a)||r.length===1)&&r.push(a),r.sort((n,i)=>n-i)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const a=this.getDataTimestamps(),r=this.getLabelTimestamps();return a.length&&r.length?t=this.normalize(a.concat(r)):t=a.length?a:r,t=this._cache.all=t,t}getDecimalForValue(t){return(Hy(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const a=this._offsets,r=this.getDecimalForPixel(t)/a.factor-a.end;return Hy(this._table,r*this._tableRange+this._minPos,!0)}}var Wle=Object.freeze({__proto__:null,CategoryScale:Bn,LinearScale:$n,LogarithmicScale:Cle,RadialLinearScale:$le,TimeScale:ZS,TimeSeriesScale:Vle});const qle=[Jre,Aie,ble,Wle],sz="label";function TP(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function Gle(e,t){const a=e.options;a&&t&&Object.assign(a,t)}function rz(e,t){e.labels=t}function nz(e,t){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:sz;const r=[];e.datasets=t.map(n=>{const i=e.datasets.find(l=>l[a]===n[a]);return!i||!n.data||r.includes(i)?{...n}:(r.push(i),Object.assign(i,n),i)})}function Kle(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:sz;const a={labels:[],datasets:[]};return rz(a,e.labels),nz(a,e.datasets,t),a}function Yle(e,t){const{height:a=150,width:r=300,redraw:n=!1,datasetIdKey:i,type:l,data:o,options:c,plugins:d=[],fallbackContent:u,updateMode:f,...p}=e,m=y.useRef(null),v=y.useRef(null),g=()=>{m.current&&(v.current=new Ls(m.current,{type:l,data:Kle(o,i),options:c&&{...c},plugins:d}),TP(t,v.current))},b=()=>{TP(t,null),v.current&&(v.current.destroy(),v.current=null)};return y.useEffect(()=>{!n&&v.current&&c&&Gle(v.current,c)},[n,c]),y.useEffect(()=>{!n&&v.current&&rz(v.current.config.data,o.labels)},[n,o.labels]),y.useEffect(()=>{!n&&v.current&&o.datasets&&nz(v.current.config.data,o.datasets,i)},[n,o.datasets]),y.useEffect(()=>{v.current&&(n?(b(),setTimeout(g)):v.current.update(f))},[n,c,o.labels,o.datasets,f]),y.useEffect(()=>{v.current&&(b(),setTimeout(g))},[l]),y.useEffect(()=>(g(),()=>b()),[]),Ws.createElement("canvas",{ref:m,role:"img",height:a,width:r,...p},u)}const Xle=y.forwardRef(Yle);function qj(e,t){return Ls.register(t),y.forwardRef((a,r)=>Ws.createElement(Xle,{...a,ref:r,type:e}))}const yo=qj("line",LU),Vr=qj("bar",MU),Gj=qj("doughnut",zj),iz=qj("pie",RU);Ls.register(Fm,yn,bn);const di=({percentage:e=2,segments:t=[],centerValue:a,centerValueSuffix:r,centerLabel:n,size:i=160,centerLabelPosition:l="below",subLabel:o,primaryColor:c,secondaryColor:d,cutout:u="70%",spacing:f=0,borderRadius:p=0,centerValueClass:m,centerLabelClass:v,subLabelClass:g,innerTrack:b=!0,innerTrackRadius:j="92%",innerTrackCutout:k="86%",innerTrackColor:S,animateCenterCountUp:N=!1,centerValueDuration:A=700})=>{const _=document.documentElement.classList.contains("dark"),E=t&&t.length>0?{labels:t.map(I=>I.label),datasets:[{data:t.map(I=>I.value),backgroundColor:t.map(I=>I.color),borderColor:_?"#111827":"#ffffff",borderWidth:_?1:0,cutout:u,hoverOffset:6,spacing:2,borderRadius:p}]}:{labels:["Completed","Remaining"],datasets:[...b?[{data:[100],backgroundColor:[S||(_?"#3f4a5a":"#cbd5e1")],borderColor:_?"#111827":"#ffffff",borderWidth:0,hoverOffset:0,spacing:0,radius:j,cutout:k}]:[],{data:[e,100-e],backgroundColor:[c||"#2dd4bf",d||(_?"#475569":"#e5e7eb")],borderColor:_?"#111827":"#ffffff",borderWidth:0,cutout:u,hoverOffset:6,spacing:f,borderRadius:p,radius:"100%"}]},D={responsive:!0,maintainAspectRatio:!1,devicePixelRatio:2,plugins:{legend:{display:!1},tooltip:{callbacks:{label:I=>{const M=I.parsed,U=I.dataset.data.reduce((F,K)=>F+K,0),P=U?Math.round(M/U*100):0;return`${I.label}: ${M} (${P}%)`}}}},animation:{animateRotate:!0,animateScale:!0}};function R({value:I,duration:M}){const[U,P]=Ws.useState(I),F=Ws.useRef(I);return Ws.useEffect(()=>{if(typeof I!="number"){P(I);return}const K=typeof F.current=="number"?F.current:0,V=I;F.current=V;const J=performance.now(),Q=z=>{const X=Math.min(1,(z-J)/M),le=Math.round(K+(V-K)*X);P(le),X<1&&requestAnimationFrame(Q)};requestAnimationFrame(Q)},[I,M]),s.jsx("span",{children:U})}return s.jsxs("div",{className:"relative flex items-center justify-center",children:[s.jsx("div",{style:{width:i,height:i},children:s.jsx(Gj,{data:E,options:D})}),(a!==void 0||n)&&s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[n&&l==="above"&&s.jsx("div",{className:"text-xs text-[var(--muted-text)] mb-1",children:n}),a!==void 0&&s.jsxs("div",{className:m||"text-2xl font-bold flex items-baseline gap-1",children:[N&&typeof a=="number"?s.jsx(R,{value:a,duration:A}):s.jsx("span",{children:a}),r&&s.jsx("span",{className:"text-xs opacity-70",children:r})]}),n&&l!=="above"&&s.jsx("div",{className:v||"text-xs text-[var(--muted-text)] mt-1",children:n}),o&&s.jsx("div",{className:g||"text-[10px] text-[var(--muted-text)] mt-0.5",children:o})]})]})};var lz={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},DP=Ws.createContext&&Ws.createContext(lz),Jle=["attr","size","title"];function Qle(e,t){if(e==null)return{};var a=Zle(e,t),r,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Zle(e,t){if(e==null)return{};var a={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;a[r]=e[r]}return a}function cw(){return cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},cw.apply(this,arguments)}function PP(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function dw(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?PP(Object(a),!0).forEach(function(r){eoe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):PP(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function eoe(e,t,a){return t=toe(t),t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function toe(e){var t=aoe(e,"string");return typeof t=="symbol"?t:t+""}function aoe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oz(e){return e&&e.map((t,a)=>Ws.createElement(t.tag,dw({key:a},t.attr),oz(t.child)))}function Jt(e){return t=>Ws.createElement(soe,cw({attr:dw({},e.attr)},t),oz(e.child))}function soe(e){var t=a=>{var{attr:r,size:n,title:i}=e,l=Qle(e,Jle),o=n||a.size||"1em",c;return a.className&&(c=a.className),e.className&&(c=(c?c+" ":"")+e.className),Ws.createElement("svg",cw({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},a.attr,r,l,{className:c,style:dw(dw({color:e.color||a.color},a.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),i&&Ws.createElement("title",null,i),e.children)};return DP!==void 0?Ws.createElement(DP.Consumer,null,a=>t(a)):t(lz)}function uw(e){return Jt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M2 13H8V21H2V13ZM16 8H22V21H16V8ZM9 3H15V21H9V3ZM4 15V19H6V15H4ZM11 5V19H13V5H11ZM18 10V19H20V10H18Z"},child:[]}]})(e)}function roe(e){return Jt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M9 1V3H15V1H17V3H21C21.5523 3 22 3.44772 22 4V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V4C2 3.44772 2.44772 3 3 3H7V1H9ZM20 10H4V19H20V10ZM15.0355 11.136L16.4497 12.5503L11.5 17.5L7.96447 13.9645L9.37868 12.5503L11.5 14.6716L15.0355 11.136ZM7 5H4V8H20V5H17V6H15V5H9V6H7V5Z"},child:[]}]})(e)}function cz(e){return Jt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5 3V19H21V21H3V3H5ZM20.2929 6.29289L21.7071 7.70711L16 13.4142L13 10.415L8.70711 14.7071L7.29289 13.2929L13 7.58579L16 10.585L20.2929 6.29289Z"},child:[]}]})(e)}function dz(e){return Jt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M9 2.4578V4.58152C6.06817 5.76829 4 8.64262 4 12C4 16.4183 7.58172 20 12 20C15.3574 20 18.2317 17.9318 19.4185 15H21.5422C20.2679 19.0571 16.4776 22 12 22C6.47715 22 2 17.5228 2 12C2 7.52236 4.94289 3.73207 9 2.4578ZM12 2C17.5228 2 22 6.47715 22 12C22 12.3375 21.9833 12.6711 21.9506 13H11V2.04938C11.3289 2.01672 11.6625 2 12 2ZM13 4.06189V11H19.9381C19.4869 7.38128 16.6187 4.51314 13 4.06189Z"},child:[]}]})(e)}function noe(e){return Jt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M20.0833 15.1999L21.2854 15.9212C21.5221 16.0633 21.5989 16.3704 21.4569 16.6072C21.4146 16.6776 21.3557 16.7365 21.2854 16.7787L12.5144 22.0412C12.1977 22.2313 11.8021 22.2313 11.4854 22.0412L2.71451 16.7787C2.47772 16.6366 2.40093 16.3295 2.54301 16.0927C2.58523 16.0223 2.64413 15.9634 2.71451 15.9212L3.9166 15.1999L11.9999 20.0499L20.0833 15.1999ZM20.0833 10.4999L21.2854 11.2212C21.5221 11.3633 21.5989 11.6704 21.4569 11.9072C21.4146 11.9776 21.3557 12.0365 21.2854 12.0787L11.9999 17.6499L2.71451 12.0787C2.47772 11.9366 2.40093 11.6295 2.54301 11.3927C2.58523 11.3223 2.64413 11.2634 2.71451 11.2212L3.9166 10.4999L11.9999 15.3499L20.0833 10.4999ZM12.5144 1.30864L21.2854 6.5712C21.5221 6.71327 21.5989 7.0204 21.4569 7.25719C21.4146 7.32757 21.3557 7.38647 21.2854 7.42869L11.9999 12.9999L2.71451 7.42869C2.47772 7.28662 2.40093 6.97949 2.54301 6.7427C2.58523 6.67232 2.64413 6.61343 2.71451 6.5712L11.4854 1.30864C11.8021 1.11864 12.1977 1.11864 12.5144 1.30864ZM11.9999 3.33233L5.88723 6.99995L11.9999 10.6676L18.1126 6.99995L11.9999 3.33233Z"},child:[]}]})(e)}function ioe(e){return Jt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z"},child:[]}]})(e)}function uz(e){return Jt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13.2 12L16 16H13.6L12 13.7143L10.4 16H8L10.8 12L8 8H10.4L12 10.2857L13.6 8H15V4H5V20H19V8H16L13.2 12ZM3 2.9918C3 2.44405 3.44749 2 3.9985 2H16L20.9997 7L21 20.9925C21 21.5489 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5447 3 21.0082V2.9918Z"},child:[]}]})(e)}function hz(e){return Jt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 16H8V8H12C14.2091 8 16 9.79086 16 12C16 14.2091 14.2091 16 12 16ZM10 10V14H12C13.1046 14 14 13.1046 14 12C14 10.8954 13.1046 10 12 10H10ZM15 4H5V20H19V8H15V4ZM3 2.9918C3 2.44405 3.44749 2 3.9985 2H16L20.9997 7L21 20.9925C21 21.5489 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5447 3 21.0082V2.9918Z"},child:[]}]})(e)}function loe(e){return Jt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 4H21V6H8V4ZM4.5 6.5C3.67157 6.5 3 5.82843 3 5C3 4.17157 3.67157 3.5 4.5 3.5C5.32843 3.5 6 4.17157 6 5C6 5.82843 5.32843 6.5 4.5 6.5ZM4.5 13.5C3.67157 13.5 3 12.8284 3 12C3 11.1716 3.67157 10.5 4.5 10.5C5.32843 10.5 6 11.1716 6 12C6 12.8284 5.32843 13.5 4.5 13.5ZM4.5 20.4C3.67157 20.4 3 19.7284 3 18.9C3 18.0716 3.67157 17.4 4.5 17.4C5.32843 17.4 6 18.0716 6 18.9C6 19.7284 5.32843 20.4 4.5 20.4ZM8 11H21V13H8V11ZM8 18H21V20H8V18Z"},child:[]}]})(e)}function ooe(e){return Jt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13 10V14H19V10H13ZM11 10H5V14H11V10ZM13 19H19V16H13V19ZM11 19V16H5V19H11ZM13 5V8H19V5H13ZM11 5H5V8H11V5ZM4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3Z"},child:[]}]})(e)}function coe(e){return Jt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M11.9997 10.5865L16.9495 5.63672L18.3637 7.05093L13.4139 12.0007L18.3637 16.9504L16.9495 18.3646L11.9997 13.4149L7.04996 18.3646L5.63574 16.9504L10.5855 12.0007L5.63574 7.05093L7.04996 5.63672L11.9997 10.5865Z"},child:[]}]})(e)}function M5(e){return Jt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 19H21V21H3V19ZM13 13.1716L19.0711 7.1005L20.4853 8.51472L12 17L3.51472 8.51472L4.92893 7.1005L11 13.1716V2H13V13.1716Z"},child:[]}]})(e)}function doe(e){return Jt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M21 4V6H20L15 13.5V22H9V13.5L4 6H3V4H21ZM6.4037 6L11 12.8944V20H13V12.8944L17.5963 6H6.4037Z"},child:[]}]})(e)}function CA(e){return Jt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5.46257 4.43262C7.21556 2.91688 9.5007 2 12 2C17.5228 2 22 6.47715 22 12C22 14.1361 21.3302 16.1158 20.1892 17.7406L17 12H20C20 7.58172 16.4183 4 12 4C9.84982 4 7.89777 4.84827 6.46023 6.22842L5.46257 4.43262ZM18.5374 19.5674C16.7844 21.0831 14.4993 22 12 22C6.47715 22 2 17.5228 2 12C2 9.86386 2.66979 7.88416 3.8108 6.25944L7 12H4C4 16.4183 7.58172 20 12 20C14.1502 20 16.1022 19.1517 17.5398 17.7716L18.5374 19.5674Z"},child:[]}]})(e)}function uoe(e){return Jt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M18.031 16.6168L22.3137 20.8995L20.8995 22.3137L16.6168 18.031C15.0769 19.263 13.124 20 11 20C6.032 20 2 15.968 2 11C2 6.032 6.032 2 11 2C15.968 2 20 6.032 20 11C20 13.124 19.263 15.0769 18.031 16.6168ZM16.0247 15.8748C17.2475 14.6146 18 12.8956 18 11C18 7.1325 14.8675 4 11 4C7.1325 4 4 7.1325 4 11C4 14.8675 7.1325 18 11 18C12.8956 18 14.6146 17.2475 15.8748 16.0247L16.0247 15.8748Z"},child:[]}]})(e)}function hoe(e){return Jt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM13 12H17V14H11V7H13V12Z"},child:[]}]})(e)}function MP(e){return Jt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 19H21V21H3V19ZM13 5.82843V17H11V5.82843L4.92893 11.8995L3.51472 10.4853L12 2L20.4853 10.4853L19.0711 11.8995L13 5.82843Z"},child:[]}]})(e)}function foe(e){return Jt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 14V16C8.68629 16 6 18.6863 6 22H4C4 17.5817 7.58172 14 12 14ZM12 13C8.685 13 6 10.315 6 7C6 3.685 8.685 1 12 1C15.315 1 18 3.685 18 7C18 10.315 15.315 13 12 13ZM12 11C14.21 11 16 9.21 16 7C16 4.79 14.21 3 12 3C9.79 3 8 4.79 8 7C8 9.21 9.79 11 12 11ZM14.5946 18.8115C14.5327 18.5511 14.5 18.2794 14.5 18C14.5 17.7207 14.5327 17.449 14.5945 17.1886L13.6029 16.6161L14.6029 14.884L15.5952 15.4569C15.9883 15.0851 16.4676 14.8034 17 14.6449V13.5H19V14.6449C19.5324 14.8034 20.0116 15.0851 20.4047 15.4569L21.3971 14.8839L22.3972 16.616L21.4055 17.1885C21.4673 17.449 21.5 17.7207 21.5 18C21.5 18.2793 21.4673 18.551 21.4055 18.8114L22.3972 19.3839L21.3972 21.116L20.4048 20.543C20.0117 20.9149 19.5325 21.1966 19.0001 21.355V22.5H17.0001V21.3551C16.4677 21.1967 15.9884 20.915 15.5953 20.5431L14.603 21.1161L13.6029 19.384L14.5946 18.8115ZM18 19.5C18.8284 19.5 19.5 18.8284 19.5 18C19.5 17.1716 18.8284 16.5 18 16.5C17.1716 16.5 16.5 17.1716 16.5 18C16.5 18.8284 17.1716 19.5 18 19.5Z"},child:[]}]})(e)}function moe(e){return Jt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 14V16C8.68629 16 6 18.6863 6 22H4C4 17.5817 7.58172 14 12 14ZM12 13C8.685 13 6 10.315 6 7C6 3.685 8.685 1 12 1C15.315 1 18 3.685 18 7C18 10.315 15.315 13 12 13ZM12 11C14.21 11 16 9.21 16 7C16 4.79 14.21 3 12 3C9.79 3 8 4.79 8 7C8 9.21 9.79 11 12 11ZM18 21.5L15.0611 23.0451L15.6224 19.7725L13.2447 17.4549L16.5305 16.9775L18 14L19.4695 16.9775L22.7553 17.4549L20.3776 19.7725L20.9389 23.0451L18 21.5Z"},child:[]}]})(e)}const poe={primary:"#2563eb",secondary:"#64748b",success:"#16a34a",danger:"#dc2626",warning:"#f59e0b"},xoe={heading:"ui-sans-serif, system-ui, Segoe UI",body:"ui-sans-serif, system-ui, Segoe UI"},fz=y.createContext({theme:"dark",setTheme:()=>{}}),goe=({children:e})=>{const[t,a]=y.useState(()=>{try{const r=localStorage.getItem("systemPrefs");if(r){const i=JSON.parse(r);if(i&&(i.theme==="light"||i.theme==="dark"))return i.theme}return localStorage.getItem("theme")==="light"?"light":"dark"}catch{return"dark"}});return y.useEffect(()=>{const r=document.documentElement;t==="dark"?(r.classList.add("dark"),r.classList.remove("light")):(r.classList.remove("dark"),r.classList.add("light"));try{localStorage.setItem("theme",t);const n=localStorage.getItem("systemPrefs"),i=n?JSON.parse(n):{};i.theme=t,localStorage.setItem("systemPrefs",JSON.stringify(i))}catch{}},[t]),y.useEffect(()=>{try{const r=localStorage.getItem("systemPrefs");if(r){const n=JSON.parse(r),i=document.documentElement;if(n&&n.density){i.classList.remove("density-compact","density-comfortable","density-default");const l=`density-${n.density}`;i.classList.add(l)}n&&n.direction&&(document.dir=n.direction==="rtl"?"rtl":"ltr")}}catch{}},[]),s.jsx(fz.Provider,{value:{theme:t,setTheme:a,palette:poe,fonts:xoe},children:e})},Ar=()=>y.useContext(fz);function voe({users:e=[]}){const{t,i18n:a}=St(),r=a.language||"en",{theme:n}=Ar(),i=n==="light",[l,o]=y.useState(!1),c=3,d=60,u=`
    .scrollbar-thin-blue { scrollbar-width: thin; scrollbar-color: #94a3b8 transparent; }
    .scrollbar-thin-blue::-webkit-scrollbar { width: 8px; }
    .scrollbar-thin-blue::-webkit-scrollbar-track { background: transparent; }
    .scrollbar-thin-blue::-webkit-scrollbar-thumb { background-color: #94a3b8; border-radius: 9999px; }
    .scrollbar-thin-blue:hover::-webkit-scrollbar-thumb { background-color: #64748b; }
    .dark .scrollbar-thin-blue { scrollbar-color: #2563eb transparent; }
    .dark .scrollbar-thin-blue::-webkit-scrollbar-thumb { background-color: #2563eb; }
    .dark .scrollbar-thin-blue:hover::-webkit-scrollbar-thumb { background-color: #1d4ed8; }
  `,f=y.useRef(null),p=y.useRef(null),m=y.useRef(null),[v,g]=y.useState(null);y.useEffect(()=>{const I=()=>{const M=f.current?.clientHeight||0,U=p.current?.clientHeight||0,P=m.current?.clientHeight||0,F=Math.max(M-U-P,0);g(F||null)};return I(),window.addEventListener("resize",I),()=>window.removeEventListener("resize",I)},[]);const b=[{name:r==="ar"?" ":"Ibrahim Ahmed",active:!0,lastSeen:new Date,role:r==="ar"?"":"Manager",avatar:""},{name:r==="ar"?" ":"Adam Mohamed",active:!1,lastSeen:new Date(Date.now()-12300*1e3),role:r==="ar"?"":"Developer",avatar:""},{name:r==="ar"?" ":"Sara Ali",active:!0,lastSeen:new Date(Date.now()-900*1e3),role:r==="ar"?"":"Designer",avatar:""},{name:r==="ar"?" ":"Mohamed Hassan",active:!1,lastSeen:new Date(Date.now()-1565*60*1e3),role:r==="ar"?"":"Analyst",avatar:""},{name:r==="ar"?" ":"Fatima Khaled",active:!0,lastSeen:new Date(Date.now()-300*1e3),role:r==="ar"?"":"Marketer",avatar:""},{name:r==="ar"?" ":"Zeinab Hossam",active:!0,lastSeen:new Date(Date.now()-420*1e3),role:r==="ar"?" ":"Marketing Manager",avatar:""},{name:r==="ar"?" ":"Karim Salah",active:!1,lastSeen:new Date(Date.now()-10800*1e3),role:r==="ar"?" ":"Security Developer",avatar:""},{name:r==="ar"?" ":"Hoda Abdullah",active:!0,lastSeen:new Date(Date.now()-1200*1e3),role:r==="ar"?" ":"Graphic Designer",avatar:""},{name:r==="ar"?" ":"Tarek Fouad",active:!0,lastSeen:new Date(Date.now()-120*1e3),role:r==="ar"?" DevOps":"DevOps Engineer",avatar:""},{name:r==="ar"?" ":"Rana Samir",active:!1,lastSeen:new Date(Date.now()-14400*1e3),role:r==="ar"?" ":"Content Writer",avatar:""},{name:r==="ar"?" ":"Hossam Eldeen",active:!0,lastSeen:new Date(Date.now()-600*1e3),role:r==="ar"?" ":"Mobile Developer",avatar:""},{name:r==="ar"?" ":"Mariam Adel",active:!1,lastSeen:new Date(Date.now()-300*60*1e3),role:r==="ar"?"":"Accountant",avatar:""},{name:r==="ar"?" ":"Khaled Waleed",active:!0,lastSeen:new Date(Date.now()-1500*1e3),role:r==="ar"?"  ":"HR Manager",avatar:""},{name:r==="ar"?" ":"Dina Mohamed",active:!0,lastSeen:new Date(Date.now()-360*1e3),role:r==="ar"?"  ":"Database Developer",avatar:""},{name:r==="ar"?" ":"Abdulrahman Ahmed",active:!1,lastSeen:new Date(Date.now()-9e3*1e3),role:r==="ar"?" ":"Network Engineer",avatar:""}],j=e.length?e:b,k=()=>{o(!0),setTimeout(()=>o(!1),1e3)},S=I=>{try{return new Intl.DateTimeFormat(r,{hour:"2-digit",minute:"2-digit",hour12:!1}).format(I)}catch{const M=U=>String(U).padStart(2,"0");return`${M(I.getHours())}:${M(I.getMinutes())}`}},N=I=>{const M=Date.now()-I.getTime(),U=Math.floor(M/6e4),P=Math.floor(U/60),F=U%60;return r==="ar"?P<=0?` ${F} `:` ${P}  ${F} `:P<=0?`${F} min ago`:`${P}h ${F}m ago`},A=I=>{const M=Math.floor(Math.max(I,0)/60),U=Math.max(I,0)%60;return r==="ar"?`${M}  ${U} `:`${M}h ${U}m`},_=()=>{const I=new Date;return I.setHours(9,0,0,0),I},E=I=>{const M=_().getTime(),U=I.active?Date.now():I.lastSeen?.getTime?.()||Date.now();return Math.floor((U-M)/6e4)},D=j.filter(I=>I.active).length,R=j.length;return s.jsxs("div",{ref:f,className:"bg-white dark:bg-gray-900 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden h-full flex flex-col",children:[s.jsx("div",{ref:p,className:`${i?"bg-gradient-to-r from-blue-50 to-purple-100 text-slate-900 border-b border-gray-200":"bg-gray-900 text-white border-b border-gray-700"} p-3 flex-shrink-0`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${i?"bg-white":"bg-gray-800"}`,children:s.jsx(moe,{className:"text-2xl"})}),s.jsxs("div",{children:[s.jsx("div",{className:`flex items-center ${r==="ar"?"flex-row-reverse":""} gap-2`,children:s.jsx("h3",{className:`text-lg font-bold ${i?"text-slate-900":"text-white"}`,children:t("Active Users")})}),s.jsxs("p",{className:`${i?"text-gray-600":"text-gray-300"} text-sm`,children:[D," ",r==="ar"?" ":"active of"," ",R," ",r==="ar"?"":"users"]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{onClick:k,className:`p-2 rounded-lg transition-all duration-200 hover:scale-105 ${i?"bg-white hover:bg-gray-100":"bg-gray-800 hover:bg-gray-700 text-white"} ${l?"animate-spin":""}`,title:t("Refresh"),children:s.jsx(CA,{className:"text-lg"})})})]})}),s.jsx("style",{children:u}),s.jsx("div",{className:"flex-1 overflow-hidden",children:s.jsx("div",{className:"h-full overflow-y-auto overflow-x-hidden scrollbar-thin-blue",style:{maxHeight:Array.isArray(j)&&j.length<=3?Math.min(j.length,3)*d:v||c*d},children:s.jsx("div",{className:"p-2 space-y-2",children:j.map((I,M)=>s.jsxs("div",{className:`grid grid-cols-[auto,1fr,auto] items-center gap-2 p-2 rounded-lg border ${I.active?"bg-emerald-50 border-emerald-200":"bg-red-50 border-red-200"}`,children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-9 h-9 bg-gradient-to-br from-blue-200 to-purple-300 dark:from-blue-400 dark:to-purple-500 rounded-full flex items-center justify-center text-[var(--content-text)] dark:text-white text-sm font-bold shadow dark:shadow-lg",children:I.avatar||I.name.charAt(0)}),s.jsx("div",{className:`absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-white dark:border-gray-700 ${I.active?"bg-emerald-500":"bg-red-500"}`,children:s.jsx(ioe,{className:"w-full h-full"})})]}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("span",{className:"font-bold text-[15px] sm:text-base truncate max-w-[14rem] text-black",children:I.name})}),s.jsxs("div",{className:"flex items-center gap-1 text-xs text-black",children:[s.jsx(foe,{className:`text-xs ${i?I.active?"text-emerald-700":"text-red-700":"text-gray-300"}`}),s.jsx("span",{className:"truncate max-w-[12rem] text-black",children:I.role})]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"flex items-center gap-2",children:I.active?s.jsx("span",{className:"px-2 py-1 bg-emerald-100 dark:bg-emerald-900 text-emerald-800 dark:text-emerald-300 text-sm rounded-full font-semibold",children:r==="ar"?"":"Online"}):s.jsx("span",{className:"px-2 py-1 bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-300 text-sm rounded-full font-semibold",children:r==="ar"?"":"Offline"})}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-black mt-0.5",children:[s.jsx(hoe,{className:`text-xs ${i?I.active?"text-emerald-700":"text-red-700":"text-gray-300"}`}),s.jsxs("span",{children:[r==="ar"?" ":"Working Hours",": ",A(E(I))]}),!I.active&&s.jsxs("span",{className:"opacity-80",children:[" ",r==="ar"?" ":"Last Active",": ",S(I.lastSeen)]})]}),s.jsx("div",{className:"text-[11px] mt-0.5 text-black",children:N(I.lastSeen)})]})]},M))})})}),s.jsx("div",{ref:m,className:`px-3 py-2 border-t flex-shrink-0 ${i?"bg-[var(--lm-muted-surface)] border-white":"dark:bg-gray-700 dark:border-gray-600"}`,children:s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-emerald-500 rounded-full"}),s.jsxs("span",{className:"text-black font-bold dark:text-white",children:[D," ",r==="ar"?"":"Active"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),s.jsxs("span",{className:"text-black font-bold dark:text-white",children:[R-D," ",r==="ar"?" ":"Inactive"]})]})]}),s.jsxs("div",{className:"text-black font-semibold dark:text-gray-300",children:[r==="ar"?" :":"Last updated:"," ",S(new Date)]})]})})]})}function boe({segments:e,employee:t,dateFrom:a,dateTo:r}){const{t:n,i18n:i}=St(),[l,o]=y.useState(!0),c=i.language||"en",d=c==="ar",{theme:u}=Ar(),f=u==="light",p=[{name:c==="ar"?" ":"Summer Promo",status:"onTrack",owner:"Osama Sales",lastActivity:"2025-01-10",openRate:32,clickRate:4.1,conversionRate:5.2},{name:c==="ar"?" ":"Winback Series",status:"atRisk",owner:"Youssef Hemeda",lastActivity:"2025-01-08",openRate:18,clickRate:2.3,conversionRate:2.1},{name:c==="ar"?" ":"Product Launch",status:"paused",owner:"Ahmed Ibrahim",lastActivity:"2025-01-06",openRate:0,clickRate:0,conversionRate:0},{name:c==="ar"?" ":"Market Expansion",status:"onTrack",owner:"Ahmed Ibrahim",lastActivity:"2025-01-05",openRate:25,clickRate:3.2,conversionRate:4},{name:c==="ar"?" ":"Upgrade Drive",status:"atRisk",owner:"Osama Sales",lastActivity:"2025-01-03",openRate:14,clickRate:1.8,conversionRate:1.5}],m=P=>{if(!a&&!r)return!0;const F=new Date(P);if(isNaN(F))return!0;const K=new Date(F.getFullYear(),F.getMonth(),F.getDate());if(a){const V=new Date(a);if(V.setHours(0,0,0,0),K<V)return!1}if(r){const V=new Date(r);if(V.setHours(0,0,0,0),K>V)return!1}return!0},v=p.filter(P=>(!t||P.owner===t)&&m(P.lastActivity)),g={onTrack:v.filter(P=>P.status==="onTrack").length,atRisk:v.filter(P=>P.status==="atRisk").length,paused:v.filter(P=>P.status==="paused").length},b=[{label:n("On Track"),value:g.onTrack,color:"#22c55e"},{label:n("At Risk"),value:g.atRisk,color:"#f59e0b"},{label:n("Paused"),value:g.paused,color:"#ef4444"}],j=l?b:b.filter(P=>P.label!==n("Paused")),k=g.onTrack+g.atRisk,S=v.filter(P=>P.status!=="paused"),N=S.length?Math.round(S.reduce((P,F)=>P+F.openRate,0)/S.length):0,A=S.length?Number((S.reduce((P,F)=>P+F.clickRate,0)/S.length).toFixed(1)):0,_=S.length?Number((S.reduce((P,F)=>P+F.conversionRate,0)/S.length).toFixed(1)):0,E=P=>P==="onTrack"?"bg-emerald-500":P==="atRisk"?"bg-amber-500":"bg-red-500",D=P=>n(P==="onTrack"?"On Track":P==="atRisk"?"At Risk":"Paused"),R=P=>f?P==="onTrack"?"bg-emerald-200 text-emerald-800 border border-emerald-300":P==="atRisk"?"bg-amber-200 text-amber-800 border border-amber-300":"bg-red-200 text-red-800 border border-red-300":P==="onTrack"?"bg-emerald-900/30 text-emerald-300":P==="atRisk"?"bg-amber-900/30 text-amber-300":"bg-red-900/30 text-red-300",I=P=>{try{return new Intl.DateTimeFormat(c==="ar"?"ar-EG":"en-US",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(P))}catch{return P}},M=!a&&!r?n("Last 30 Days"):a&&r?c==="ar"?` ${I(a)}  ${I(r)}`:`From ${I(a)} To ${I(r)}`:a?c==="ar"?` ${I(a)}`:`From ${I(a)}`:c==="ar"?` ${I(r)}`:`To ${I(r)}`;return s.jsxs("div",{children:[s.jsxs("div",{dir:i.dir()==="rtl"?"rtl":"ltr",className:"flex flex-wrap items-center justify-between gap-2 mb-2",children:[s.jsx("div",{className:`flex items-center w-full ${i.dir()==="rtl"?"flex-row-reverse":""} gap-2`,children:s.jsx("h3",{className:`flex-1 ${f?"text-black":"dark:text-gray-100"} text-lg md:text-xl font-bold ${i.dir()==="rtl"?"text-right":"text-left"}`,children:n("Active Campaigns")})}),s.jsx("span",{className:`${f?"text-blue-700 font-bold":"dark:text-blue-200"} text-sm`,children:M})]}),"npm run build",s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 mb-4",children:[s.jsxs("div",{className:`${f?"p-4 rounded-xl bg-[var(--lm-muted-surface)] border border-[var(--lm-border)] shadow-md":"p-3 rounded-lg dark:bg-blue-900"}`,children:[s.jsx("div",{className:f?"text-sm font-medium text-black":"text-xs text-gray-600 dark:text-gray-300",children:n("Avg. Open Rate")}),s.jsxs("div",{className:f?"text-2xl font-bold text-black":"text-lg font-semibold dark:text-gray-100",children:[N,"%"]})]}),s.jsxs("div",{className:`${f?"p-4 rounded-xl bg-[var(--lm-muted-surface)] border border-[var(--lm-border)] shadow-md":"p-3 rounded-lg dark:bg-blue-900"}`,children:[s.jsx("div",{className:f?"text-sm font-medium text-black":"text-xs text-gray-600 dark:text-gray-300",children:n("Avg. Click Rate")}),s.jsxs("div",{className:f?"text-2xl font-bold text-black":"text-lg font-semibold dark:text-gray-100",children:[A,"%"]})]}),s.jsxs("div",{className:`${f?"p-4 rounded-xl bg-[var(--lm-muted-surface)] border border-[var(--lm-border)] shadow-md":"p-3 rounded-lg dark:bg-blue-900"}`,children:[s.jsx("div",{className:f?"text-sm font-medium text-black":"text-xs text-gray-600 dark:text-gray-300",children:n("Conversion Rate")}),s.jsxs("div",{className:f?"text-2xl font-bold text-black":"text-lg font-semibold dark:text-gray-100",children:[_,"%"]})]})]}),s.jsxs("div",{className:"flex flex-col items-start gap-3 md:gap-4",children:[s.jsxs("div",{className:`flex ${d?"flex-row-reverse":"flex-row"} items-start gap-3 md:gap-4 w-full`,children:[s.jsx("div",{className:"shrink-0 self-start",children:s.jsx(di,{segments:j,centerValue:k,centerLabel:n("Total Active"),size:125})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:`${f?"text-black":"dark:text-gray-100"} text-sm font-semibold`,children:n("Active Campaigns Overview")}),s.jsx("button",{type:"button",onClick:()=>o(P=>!P),className:`${f?"btn-reset text-xs px-2 py-1":"text-xs px-2 py-1 rounded border border-blue-700 text-gray-200 hover:bg-blue-800"}`,children:n(l?"Hide Paused":"Show Paused")})]}),s.jsx("div",{className:"space-y-2 mb-4",children:j.map((P,F)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:P.color}}),s.jsx("span",{className:`${f?"text-sm text-black":"text-sm dark:text-gray-300"}`,children:P.label}),s.jsx("span",{className:`${f?"text-sm font-medium text-black":"text-sm font-medium dark:text-gray-100"}`,children:P.value})]},F))})]})]}),s.jsxs("div",{className:"w-full",children:[s.jsx("h4",{className:`${f?"text-black":"dark:text-gray-100"} text-sm font-semibold mt-3`,children:n("Top Campaigns")}),s.jsx("style",{children:`
    .scrollbar-thin-blue { scrollbar-width: thin; scrollbar-color: #2563eb transparent; }
    .scrollbar-thin-blue::-webkit-scrollbar { height: 6px; }
    .scrollbar-thin-blue::-webkit-scrollbar-track { background: transparent; }
    .scrollbar-thin-blue::-webkit-scrollbar-thumb { background-color: #2563eb; border-radius: 9999px; }
    .scrollbar-thin-blue:hover::-webkit-scrollbar-thumb { background-color: #1d4ed8; }
  `}),s.jsx("div",{className:"flex flex-row flex-nowrap gap-3 w-full items-stretch overflow-x-auto overflow-y-hidden pr-1 snap-x snap-mandatory scrollbar-thin-blue",children:v.map((P,F)=>s.jsxs("div",{className:`${f?"flex flex-col p-3 rounded-xl bg-white border border-[var(--lm-border)] shadow-sm hover:shadow-md":"flex flex-col p-3 rounded-xl border dark:border-blue-700 bg-transparent dark:bg-transparent shadow-sm hover:shadow-md"} transition-shadow duration-200 h-full min-h-[120px] flex-shrink-0 w-fit max-w-[200px] md:max-w-[220px] snap-start`,children:[s.jsxs("div",{className:"flex flex-col items-start gap-1 min-w-0",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 min-w-0",children:[s.jsx("span",{className:`inline-block w-3 h-3 rounded-full ${E(P.status)}`}),s.jsx("span",{className:`${f?"text-sm font-medium text-gray-900":"text-sm font-medium dark:text-gray-200"} whitespace-normal break-words`,children:P.name})]}),s.jsx("span",{className:`text-[10px] md:text-xs px-2 py-0.5 rounded-full font-medium ${R(P.status)}`,children:D(P.status)})]}),s.jsxs("div",{className:`${f?"mt-2 flex flex-col gap-1 text-xs md:text-sm text-gray-800":"mt-2 flex flex-col gap-1 text-xs md:text-sm text-[var(--muted-text)]"}`,children:[s.jsxs("div",{className:f?"text-black":"",children:[n("Open Rate"),": ",P.openRate,"%"]}),s.jsxs("div",{className:f?"text-black":"",children:[n("Click Rate"),": ",P.clickRate,"%"]}),s.jsxs("div",{className:f?"text-black":"",children:[n("Conversion Rate"),": ",P.conversionRate,"%"]})]})]},F))})]})]})]})}function L5(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(e)}function Vy(e){return Jt({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(e)}function Hl(e){return Jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(e)}function yoe(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.034 8 8 119.033 8 256s111.034 248 248 248 248-111.034 248-248S392.967 8 256 8zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676zM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676z"},child:[]}]})(e)}function AA(e){return Jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(e)}function woe(e){return Jt({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm0 432c-101.69 0-184-82.29-184-184 0-101.69 82.29-184 184-184 101.69 0 184 82.29 184 184 0 101.69-82.29 184-184 184zm0-312c-70.69 0-128 57.31-128 128s57.31 128 128 128 128-57.31 128-128-57.31-128-128-128zm0 192c-35.29 0-64-28.71-64-64s28.71-64 64-64 64 28.71 64 64-28.71 64-64 64z"},child:[]}]})(e)}function gm(e){return Jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function eC(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(e)}function joe(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function Noe(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function Na(e){return Jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function LP(e){return Jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(e)}function koe(e){return Jt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm121.2 231.8l-143 141.8c-4.7 4.7-12.3 4.6-17-.1l-82.6-83.3c-4.7-4.7-4.6-12.3.1-17L99.1 285c4.7-4.7 12.3-4.6 17 .1l46 46.4 106-105.2c4.7-4.7 12.3-4.6 17 .1l28.2 28.4c4.7 4.8 4.6 12.3-.1 17z"},child:[]}]})(e)}function Soe(e){return Jt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(e)}function hw(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function Coe(e){return Jt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z"},child:[]}]})(e)}function Aoe(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(e)}function _oe(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM224 416H64V160h160v256zm224 0H288V160h160v256z"},child:[]}]})(e)}function xd(e){return Jt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(e)}function mz(e){return Jt({attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M209.2 233.4l-108-31.6C88.7 198.2 80 186.5 80 173.5c0-16.3 13.2-29.5 29.5-29.5h66.3c12.2 0 24.2 3.7 34.2 10.5 6.1 4.1 14.3 3.1 19.5-2l34.8-34c7.1-6.9 6.1-18.4-1.8-24.5C238 74.8 207.4 64.1 176 64V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48h-2.5C45.8 64-5.4 118.7.5 183.6c4.2 46.1 39.4 83.6 83.8 96.6l102.5 30c12.5 3.7 21.2 15.3 21.2 28.3 0 16.3-13.2 29.5-29.5 29.5h-66.3C100 368 88 364.3 78 357.5c-6.1-4.1-14.3-3.1-19.5 2l-34.8 34c-7.1 6.9-6.1 18.4 1.8 24.5 24.5 19.2 55.1 29.9 86.5 30v48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-48.2c46.6-.9 90.3-28.6 105.7-72.7 21.5-61.6-14.6-124.8-72.5-141.7z"},child:[]}]})(e)}function lh(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function Lf(e){return Jt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function Eoe(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"},child:[]}]})(e)}function Toe(e){return Jt({attr:{viewBox:"0 0 192 512"},child:[{tag:"path",attr:{d:"M96 184c39.8 0 72 32.2 72 72s-32.2 72-72 72-72-32.2-72-72 32.2-72 72-72zM24 80c0 39.8 32.2 72 72 72s72-32.2 72-72S135.8 8 96 8 24 40.2 24 80zm0 352c0 39.8 32.2 72 72 72s72-32.2 72-72-32.2-72-72-72-72 32.2-72 72z"},child:[]}]})(e)}function Di(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function gu(e){return Jt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function _A(e){return Jt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function pz(e){return Jt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm60.1 106.5L224 336l60.1 93.5c5.1 8-.6 18.5-10.1 18.5h-34.9c-4.4 0-8.5-2.4-10.6-6.3C208.9 405.5 192 373 192 373c-6.4 14.8-10 20-36.6 68.8-2.1 3.9-6.1 6.3-10.5 6.3H110c-9.5 0-15.2-10.5-10.1-18.5l60.3-93.5-60.3-93.5c-5.2-8 .6-18.5 10.1-18.5h34.8c4.4 0 8.5 2.4 10.6 6.3 26.1 48.8 20 33.6 36.6 68.5 0 0 6.1-11.7 36.6-68.5 2.1-3.9 6.2-6.3 10.6-6.3H274c9.5-.1 15.2 10.4 10.1 18.4zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function Doe(e){return Jt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z"},child:[]}]})(e)}function Poe(e){return Jt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(e)}function Moe(e){return Jt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M218.17 424.14c-2.95-5.92-8.09-6.52-10.17-6.52s-7.22.59-10.02 6.19l-7.67 15.34c-6.37 12.78-25.03 11.37-29.48-2.09L144 386.59l-10.61 31.88c-5.89 17.66-22.38 29.53-41 29.53H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h12.39c4.83 0 9.11-3.08 10.64-7.66l18.19-54.64c3.3-9.81 12.44-16.41 22.78-16.41s19.48 6.59 22.77 16.41l13.88 41.64c19.75-16.19 54.06-9.7 66 14.16 1.89 3.78 5.49 5.95 9.36 6.26v-82.12l128-127.09V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24v-40l-128-.11c-16.12-.31-30.58-9.28-37.83-23.75zM384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1zm-96 225.06V416h68.99l161.68-162.78-67.88-67.88L288 346.96zm280.54-179.63l-31.87-31.87c-9.94-9.94-26.07-9.94-36.01 0l-27.25 27.25 67.88 67.88 27.25-27.25c9.95-9.94 9.95-26.07 0-36.01z"},child:[]}]})(e)}function ux(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(e)}function xz(e){return Jt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M434.7 64h-85.9c-8 0-15.7 3-21.6 8.4l-98.3 90c-.1.1-.2.3-.3.4-16.6 15.6-16.3 40.5-2.1 56 12.7 13.9 39.4 17.6 56.1 2.7.1-.1.3-.1.4-.2l79.9-73.2c6.5-5.9 16.7-5.5 22.6 1 6 6.5 5.5 16.6-1 22.6l-26.1 23.9L504 313.8c2.9 2.4 5.5 5 7.9 7.7V128l-54.6-54.6c-5.9-6-14.1-9.4-22.6-9.4zM544 128.2v223.9c0 17.7 14.3 32 32 32h64V128.2h-96zm48 223.9c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zM0 384h64c17.7 0 32-14.3 32-32V128.2H0V384zm48-63.9c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16c0-8.9 7.2-16 16-16zm435.9 18.6L334.6 217.5l-30 27.5c-29.7 27.1-75.2 24.5-101.7-4.4-26.9-29.4-24.8-74.9 4.4-101.7L289.1 64h-83.8c-8.5 0-16.6 3.4-22.6 9.4L128 128v223.9h18.3l90.5 81.9c27.4 22.3 67.7 18.1 90-9.3l.2-.2 17.9 15.5c15.9 13 39.4 10.5 52.3-5.4l31.4-38.6 5.4 4.4c13.7 11.1 33.9 9.1 45-4.7l9.5-11.7c11.2-13.8 9.1-33.9-4.6-45.1z"},child:[]}]})(e)}function Gg(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"},child:[]}]})(e)}function Loe(e){return Jt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM144 32h96c8.8 0 16 7.2 16 16s-7.2 16-16 16h-96c-8.8 0-16-7.2-16-16s7.2-16 16-16zm48 128c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zm112 236.8c0 10.6-10 19.2-22.4 19.2H102.4C90 416 80 407.4 80 396.8v-19.2c0-31.8 30.1-57.6 67.2-57.6h5c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h5c37.1 0 67.2 25.8 67.2 57.6v19.2z"},child:[]}]})(e)}function OP(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(e)}function O5(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(e)}function Ooe(e){return Jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(e)}function R5(e){return Jt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M160 448c-25.6 0-51.2-22.4-64-32-64-44.8-83.2-60.8-96-70.4V480c0 17.67 14.33 32 32 32h256c17.67 0 32-14.33 32-32V345.6c-12.8 9.6-32 25.6-96 70.4-12.8 9.6-38.4 32-64 32zm128-192H32c-17.67 0-32 14.33-32 32v16c25.6 19.2 22.4 19.2 115.2 86.4 9.6 6.4 28.8 25.6 44.8 25.6s35.2-19.2 44.8-22.4c92.8-67.2 89.6-67.2 115.2-86.4V288c0-17.67-14.33-32-32-32zm256-96H224c-17.67 0-32 14.33-32 32v32h96c33.21 0 60.59 25.42 63.71 57.82l.29-.22V416h192c17.67 0 32-14.33 32-32V192c0-17.67-14.33-32-32-32zm-32 128h-64v-64h64v64zm-352-96c0-35.29 28.71-64 64-64h224V32c0-17.67-14.33-32-32-32H96C78.33 0 64 14.33 64 32v192h96v-32z"},child:[]}]})(e)}function EA(e){return Jt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function Ji(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(e)}function ho(e){return Jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function Roe(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 192V77.25c0-8.49-3.37-16.62-9.37-22.63L393.37 9.37c-6-6-14.14-9.37-22.63-9.37H96C78.33 0 64 14.33 64 32v160c-35.35 0-64 28.65-64 64v112c0 8.84 7.16 16 16 16h48v96c0 17.67 14.33 32 32 32h320c17.67 0 32-14.33 32-32v-96h48c8.84 0 16-7.16 16-16V256c0-35.35-28.65-64-64-64zm-64 256H128v-96h256v96zm0-224H128V64h192v48c0 8.84 7.16 16 16 16h48v96zm48 72c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},child:[]}]})(e)}function Foe(e){return Jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(e)}function Kj(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function gz(e){return Jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 320c-22.608 0-43.387 7.819-59.79 20.895l-102.486-64.054a96.551 96.551 0 0 0 0-41.683l102.486-64.054C308.613 184.181 329.392 192 352 192c53.019 0 96-42.981 96-96S405.019 0 352 0s-96 42.981-96 96c0 7.158.79 14.13 2.276 20.841L155.79 180.895C139.387 167.819 118.608 160 96 160c-53.019 0-96 42.981-96 96s42.981 96 96 96c22.608 0 43.387-7.819 59.79-20.895l102.486 64.054A96.301 96.301 0 0 0 256 416c0 53.019 42.981 96 96 96s96-42.981 96-96-42.981-96-96-96z"},child:[]}]})(e)}function RP(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M139.61 35.5a12 12 0 0 0-17 0L58.93 98.81l-22.7-22.12a12 12 0 0 0-17 0L3.53 92.41a12 12 0 0 0 0 17l47.59 47.4a12.78 12.78 0 0 0 17.61 0l15.59-15.62L156.52 69a12.09 12.09 0 0 0 .09-17zm0 159.19a12 12 0 0 0-17 0l-63.68 63.72-22.7-22.1a12 12 0 0 0-17 0L3.53 252a12 12 0 0 0 0 17L51 316.5a12.77 12.77 0 0 0 17.6 0l15.7-15.69 72.2-72.22a12 12 0 0 0 .09-16.9zM64 368c-26.49 0-48.59 21.5-48.59 48S37.53 464 64 464a48 48 0 0 0 0-96zm432 16H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(e)}function Ioe(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(e)}function Lc(e){return Jt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function Boe(e){return Jt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 64H192C85.961 64 0 149.961 0 256s85.961 192 192 192h192c106.039 0 192-85.961 192-192S490.039 64 384 64zM64 256c0-70.741 57.249-128 128-128 70.741 0 128 57.249 128 128 0 70.741-57.249 128-128 128-70.741 0-128-57.249-128-128zm320 128h-48.905c65.217-72.858 65.236-183.12 0-256H384c70.741 0 128 57.249 128 128 0 70.74-57.249 128-128 128z"},child:[]}]})(e)}function $oe(e){return Jt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 64H192C86 64 0 150 0 256s86 192 192 192h192c106 0 192-86 192-192S490 64 384 64zm0 320c-70.8 0-128-57.3-128-128 0-70.8 57.3-128 128-128 70.8 0 128 57.3 128 128 0 70.8-57.3 128-128 128z"},child:[]}]})(e)}function Px(e){return Jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function FP(e){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z"},child:[]}]})(e)}function IP(e){return Jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 256H152V152.9c0-39.6 31.7-72.5 71.3-72.9 40-.4 72.7 32.1 72.7 72v16c0 13.3 10.7 24 24 24h32c13.3 0 24-10.7 24-24v-16C376 68 307.5-.3 223.5 0 139.5.3 72 69.5 72 153.5V256H48c-26.5 0-48 21.5-48 48v160c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function F5(e){return Jt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4zm323-128.4l-27.8-28.1c-4.6-4.7-12.1-4.7-16.8-.1l-104.8 104-45.5-45.8c-4.6-4.7-12.1-4.7-16.8-.1l-28.1 27.9c-4.7 4.6-4.7 12.1-.1 16.8l81.7 82.3c4.6 4.7 12.1 4.7 16.8.1l141.3-140.2c4.6-4.7 4.7-12.2.1-16.8z"},child:[]}]})(e)}function Uoe(e){return Jt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h274.9c-2.4-6.8-3.4-14-2.6-21.3l6.8-60.9 1.2-11.1 7.9-7.9 77.3-77.3c-24.5-27.7-60-45.5-99.9-45.5zm45.3 145.3l-6.8 61c-1.1 10.2 7.5 18.8 17.6 17.6l60.9-6.8 137.9-137.9-71.7-71.7-137.9 137.8zM633 268.9L595.1 231c-9.3-9.3-24.5-9.3-33.8 0l-37.8 37.8-4.1 4.1 71.8 71.7 41.8-41.8c9.3-9.4 9.3-24.5 0-33.9z"},child:[]}]})(e)}function zoe(e){return Jt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function Hoe(e){return Jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm95.8 32.6L272 480l-32-136 32-56h-96l32 56-32 136-47.8-191.4C56.9 292 0 350.3 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-72.1-56.9-130.4-128.2-133.8z"},child:[]}]})(e)}function Cc(e){return Jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function Voe(e){return Jt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}function fw(e){return Jt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"},child:[]}]})(e)}Ls.register(Bn,$n,Xn,hi,Sl,Fm,Dx,yn,bn);const Woe=({selectedEmployee:e,dateFrom:t,dateTo:a})=>{const{t:r,i18n:n}=St(),i=n.language||"en",{theme:l}=Ar(),o=l==="light",[c,d]=y.useState("count"),[u,f]=y.useState("bar"),[p,m]=y.useState("sum"),[v,g]=y.useState("2025"),[b,j]=y.useState(""),[k,S]=y.useState(!1),[N,A]=y.useState({employee:"",dateFrom:"",dateTo:"",valueMin:"",valueMax:"",stage:"",leadName:""}),_=[{date:"2025-01-01",employee:"Osama Sales",leadName:"Ahmed Ali",stage:"New",value:5e3,prorated:1e3},{date:"2025-01-02",employee:"Youssef Hemeda",leadName:"Sara Mohamed",stage:"Qualified",value:7500,prorated:3750},{date:"2025-01-03",employee:"Ahmed Ibrahim",leadName:"Omar Hassan",stage:"Proposal",value:12e3,prorated:9e3},{date:"2025-01-04",employee:"Noura",leadName:"Fatima Ahmed",stage:"Negotiation",value:8500,prorated:6800},{date:"2025-01-05",employee:"Ali",leadName:"Khaled Mahmoud",stage:"Closed Won",value:15e3,prorated:15e3},{date:"2025-01-06",employee:"Osama Sales",leadName:"Mona Saleh",stage:"Closed Lost",value:6e3,prorated:0},{date:"2025-01-07",employee:"Youssef Hemeda",leadName:"Tamer Farouk",stage:"New",value:4500,prorated:900},{date:"2025-01-08",employee:"Ahmed Ibrahim",leadName:"Layla Nasser",stage:"Qualified",value:9e3,prorated:4500},{date:"2025-01-09",employee:"Noura",leadName:"Youssef Ali",stage:"Proposal",value:11e3,prorated:8250},{date:"2025-01-10",employee:"Ali",leadName:"Dina Mostafa",stage:"Negotiation",value:13500,prorated:10800}],E=["New","Qualified","Proposal","Negotiation","Closed Won","Closed Lost"],D=["Osama Sales","Youssef Hemeda","Ahmed Ibrahim","Noura","Ali"],R=oe=>{const ce=new Date(oe);return ce.setFullYear(parseInt(v)),ce.toLocaleDateString()},I=y.useMemo(()=>_.filter(oe=>{const ce=!b||oe.stage.toLowerCase().includes(b.toLowerCase())||oe.leadName.toLowerCase().includes(b.toLowerCase()),G=N.employee||e,ie=!G||oe.employee===G,ye=!N.stage||oe.stage===N.stage,se=!N.leadName||oe.leadName.toLowerCase().includes(N.leadName.toLowerCase()),Ie=!N.valueMin||oe.value>=parseFloat(N.valueMin),pe=!N.valueMax||oe.value<=parseFloat(N.valueMax),ae=N.dateFrom||t,ge=N.dateTo||a,Re=!ae||oe.date>=ae,ue=!ge||oe.date<=ge;return ce&&ie&&ye&&se&&Ie&&pe&&Re&&ue}),[_,b,N,e,t,a]),M=y.useMemo(()=>{const oe={};return E.forEach(ce=>{if(oe[ce]=I.filter(G=>G.stage===ce).reduce((G,ie)=>{const ye=c==="count"?1:c==="value"?ie.value:ie.prorated;return p==="sum"||p==="avg"?G+ye:p==="min"?Math.min(G,ye):p==="max"?Math.max(G,ye):G+ye},p==="min"?1/0:p==="max"?-1/0:0),p==="avg"){const G=I.filter(ie=>ie.stage===ce).length;oe[ce]=G>0?oe[ce]/G:0}}),oe},[I,c,p,E]),U={labels:E,datasets:[{label:r(c),data:E.map(oe=>M[oe]||0),backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"rgba(59, 130, 246, 1)",borderWidth:1}]},P={labels:I.map(oe=>R(oe.date)),datasets:[{label:r(c),data:I.map(oe=>c==="count"?1:c==="value"?oe.value:oe.prorated),borderColor:"rgba(59, 130, 246, 1)",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4}]},F={labels:E,datasets:[{data:E.map(oe=>M[oe]||0),backgroundColor:["rgba(239, 68, 68, 0.8)","rgba(245, 158, 11, 0.8)","rgba(59, 130, 246, 0.8)","rgba(16, 185, 129, 0.8)","rgba(139, 92, 246, 0.8)","rgba(236, 72, 153, 0.8)"]}]};typeof document<"u"&&document.documentElement.classList.contains("dark");const K=o?"#0f172a":"#e5e7eb",V=typeof window<"u"&&window.innerWidth<=480,J=c==="count"?i==="ar"?"  ":"No. of Leads":c==="value"?i==="ar"?" ":"Deal Value":i==="ar"?" ":"Prorated Revenue",Q=p==="sum"?i==="ar"?"":"Sum":p==="avg"?i==="ar"?"":"Average":p==="min"?i==="ar"?"":"Minimum":i==="ar"?"":"Maximum",z=i==="ar"?"":"Stage",X=`${J} (${Q})`,le=i==="ar"?"":"Date",O=J,q={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:K,font:{size:V?10:13}}},title:{display:!0,text:i==="ar"?`${r("Pipeline Analysis")} - ${J} ( )`:`${r("Pipeline Analysis")} - ${r(c)} (${r("by Stage")})`,color:K,font:{size:V?12:14,weight:"bold"}}},scales:{x:{grid:{display:!1},ticks:{color:K,font:{size:V?10:13,weight:600}},title:{display:!0,text:z,color:K,font:{size:V?10:13,weight:600}}},y:{beginAtZero:!0,grid:{display:!1},ticks:{color:K,font:{size:V?10:13,weight:600}},title:{display:!0,text:X,color:K,font:{size:V?10:13,weight:600}}}}},W={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:K,font:{size:V?10:13}}},title:{display:!0,text:`${r("Pipeline Analysis")} - ${r(c)} (${r("Over Time")})`,color:K,font:{size:V?12:14,weight:"bold"}}},scales:{x:{grid:{display:!1},ticks:{color:K,font:{size:V?10:13,weight:600}},title:{display:!0,text:le,color:K,font:{size:V?10:13,weight:600}}},y:{grid:{display:!1},ticks:{color:K,font:{size:V?10:13,weight:600}},title:{display:!0,text:O,color:K,font:{size:V?10:13,weight:600}}}}},te=y.useMemo(()=>E.map(oe=>{const ce=D.map(ie=>{const ye=I.filter(Ie=>Ie.stage===oe&&Ie.employee===ie),se=ye.reduce((Ie,pe)=>{const ae=c==="count"?1:c==="value"?pe.value:pe.prorated;return p==="sum"||p==="avg"?Ie+ae:p==="min"?Math.min(Ie,ae):p==="max"?Math.max(Ie,ae):Ie+ae},p==="min"?1/0:p==="max"?-1/0:0);return p==="avg"&&ye.length>0?se/ye.length:ye.length===0&&(p==="min"||p==="max")?0:se}),G=ce.reduce((ie,ye)=>ie+ye,0);return{stage:oe,values:ce,total:G}}),[I,c,p,E,D]),re=y.useMemo(()=>I,[I]);return s.jsxs("div",{className:"w-full",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3 justify-end",children:[s.jsx("span",{className:`${o?"text-blue-700 font-semibold":"dark:text-gray-300"} text-sm`,children:u==="bar"?i==="ar"?"  ":"Bar Chart":u==="line"?i==="ar"?"  ":"Line Chart":u==="pie"?i==="ar"?"  ":"Pie Chart":u==="pivot"?i==="ar"?" ":"Pivot Table":i==="ar"?"":"List"}),s.jsxs("div",{className:"flex items-center gap-2 p-1 bg-gray-100 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[s.jsx("button",{onClick:()=>f("bar"),title:r("Bar"),"aria-label":r("Bar"),className:`group relative flex items-center justify-center px-2 py-1 sm:px-3 sm:py-2 rounded-md transition-all duration-300 ease-in-out ${u==="bar"?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-lg shadow-blue-500/25 scale-105":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-gray-600 hover:text-blue-600 dark:hover:text-blue-400 hover:scale-105"} border border-gray-200 dark:border-gray-600 hover:border-blue-300 dark:hover:border-blue-500`,children:s.jsx(uw,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),s.jsx("button",{onClick:()=>f("line"),title:r("Line"),"aria-label":r("Line"),className:`group relative flex items-center justify-center px-2 py-1 sm:px-3 sm:py-2 rounded-md transition-all duration-300 ease-in-out ${u==="line"?"bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-lg shadow-purple-500/25 scale-105":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-purple-50 dark:hover:bg-gray-600 hover:text-purple-600 dark:hover:text-purple-400 hover:scale-105"} border border-gray-200 dark:border-gray-600 hover:border-purple-300 dark:hover:border-purple-500`,children:s.jsx(cz,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),s.jsx("button",{onClick:()=>f("pie"),title:r("Pie"),"aria-label":r("Pie"),className:`group relative flex items-center justify-center px-2 py-1 sm:px-3 sm:py-2 rounded-md transition-all duration-300 ease-in-out ${u==="pie"?"bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-lg shadow-orange-500/25 scale-105":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-orange-50 dark:hover:bg-gray-600 hover:text-orange-600 dark:hover:text-orange-400 hover:scale-105"} border border-gray-200 dark:border-gray-600 hover:border-orange-300 dark:hover:border-orange-500`,children:s.jsx(dz,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),s.jsx("button",{onClick:()=>f("pivot"),title:r("Pivot"),"aria-label":r("Pivot"),className:`group relative flex items-center justify-center px-2 py-1 sm:px-3 sm:py-2 rounded-md transition-all duration-300 ease-in-out ${u==="pivot"?"bg-gradient-to-r from-teal-500 to-teal-600 text-white shadow-lg shadow-teal-500/25 scale-105":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-teal-50 dark:hover:bg-gray-600 hover:text-teal-600 dark:hover:text-teal-400 hover:scale-105"} border border-gray-200 dark:border-gray-600 hover:border-teal-300 dark:hover:border-teal-500`,children:s.jsx(ooe,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),s.jsx("button",{onClick:()=>f("list"),title:r("List"),"aria-label":r("List"),className:`group relative flex items-center justify-center px-2 py-1 sm:px-3 sm:py-2 rounded-md transition-all duration-300 ease-in-out ${u==="list"?"bg-gradient-to-r from-green-500 to-green-600 text-white shadow-lg shadow-green-500/25 scale-105":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-green-50 dark:hover:bg-gray-600 hover:text-green-600 dark:hover:text-green-400 hover:scale-105"} border border-gray-200 dark:border-gray-600 hover:border-green-300 dark:hover:border-green-500`,children:s.jsx(loe,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]})]}),!1,u==="bar"&&s.jsx("div",{className:"w-full h-56 sm:h-72",children:s.jsx(Vr,{options:q,data:U})}),u==="line"&&s.jsx("div",{className:"w-full h-56 sm:h-72",children:s.jsx(yo,{options:W,data:P})}),u==="pie"&&s.jsx("div",{className:"w-full h-56 sm:h-72",children:s.jsx(iz,{options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:V?"bottom":"right",labels:{color:K,font:{size:V?10:13}}},title:{display:!0,text:i==="ar"?`${r("Pipeline Analysis")} - ${J} ( )`:`${r("Pipeline Analysis")} - ${r(c)} (${r("by Stage")})`,color:K,font:{size:V?12:14,weight:"bold"}}}},data:F})}),u==="pivot"&&s.jsx("div",{className:"w-full overflow-x-auto",children:s.jsxs("table",{className:"min-w-max text-sm whitespace-nowrap border border-gray-200 dark:border-gray-700 rounded-md",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white",children:[s.jsx("th",{className:"px-3 py-2 text-left border-b border-gray-200 dark:border-gray-700 whitespace-nowrap min-w-[120px]",children:r("Stage")}),D.map((oe,ce)=>s.jsx("th",{className:"px-3 py-2 text-left border-b border-gray-200 dark:border-gray-700 whitespace-nowrap min-w-[120px]",children:oe},ce)),s.jsxs("th",{className:"px-3 py-2 text-left border-b border-gray-200 dark:border-gray-700 whitespace-nowrap min-w-[140px]",children:[r("Total")," (",r(p),")"]})]})}),s.jsx("tbody",{children:te.map((oe,ce)=>s.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-700",children:[s.jsx("td",{className:`px-3 py-2 font-medium whitespace-nowrap min-w-[120px] ${o?"text-black":"dark:text-white"}`,children:oe.stage}),oe.values.map((G,ie)=>s.jsx("td",{className:`px-3 py-2 whitespace-nowrap min-w-[120px] ${o?"text-black":"dark:text-gray-300"}`,children:G},ie)),s.jsx("td",{className:`px-3 py-2 font-semibold whitespace-nowrap min-w-[140px] ${o?"text-black":"dark:text-gray-100"}`,children:Math.round(oe.total*100)/100})]},ce))})]})}),u==="list"&&s.jsx("div",{className:"w-full overflow-x-auto",children:s.jsxs("table",{className:"min-w-max text-sm whitespace-nowrap border border-gray-200 dark:border-gray-700 rounded-md",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white",children:[s.jsx("th",{className:"px-3 py-2 text-left border-b border-gray-200 dark:border-gray-700 whitespace-nowrap min-w-[110px]",children:r("Date")}),s.jsx("th",{className:"px-3 py-2 text-left border-b border-gray-200 dark:border-gray-700 whitespace-nowrap min-w-[140px]",children:r("Employee")}),s.jsx("th",{className:"px-3 py-2 text-left border-b border-gray-200 dark:border-gray-700 whitespace-nowrap min-w-[150px]",children:r("Lead name")}),s.jsx("th",{className:"px-3 py-2 text-left border-b border-gray-200 dark:border-gray-700 whitespace-nowrap min-w-[140px]",children:r("Stage name")}),s.jsx("th",{className:"px-3 py-2 text-left border-b border-gray-200 dark:border-gray-700 whitespace-nowrap min-w-[120px]",children:r("Value")}),s.jsx("th",{className:"px-3 py-2 text-left border-b border-gray-200 dark:border-gray-700 whitespace-nowrap min-w-[160px]",children:r("Prorated Revenue")})]})}),s.jsx("tbody",{children:re.map((oe,ce)=>s.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-700",children:[s.jsx("td",{className:`px-3 py-2 whitespace-nowrap ${o?"text-black":"dark:text-gray-300"}`,children:R(oe.date)}),s.jsx("td",{className:`px-3 py-2 whitespace-nowrap ${o?"text-black":"dark:text-gray-300"}`,children:oe.employee}),s.jsx("td",{className:`px-3 py-2 whitespace-nowrap ${o?"text-black":"dark:text-gray-300"}`,children:oe.leadName}),s.jsx("td",{className:`px-3 py-2 whitespace-nowrap ${o?"text-black":"dark:text-gray-300"}`,children:oe.stage}),s.jsx("td",{className:`px-3 py-2 whitespace-nowrap ${o?"text-black":"dark:text-gray-300"}`,children:oe.value}),s.jsx("td",{className:`px-3 py-2 whitespace-nowrap ${o?"text-black":"dark:text-gray-300"}`,children:oe.prorated})]},ce))})]})})]})},Mx=({isOpen:e,onClose:t,onSave:a,lead:r,inline:n=!1})=>{const{i18n:i}=St(),{theme:l}=Ar(),o=l==="light",[c,d]=y.useState({type:"call",actionType:"call",nextAction:"follow_up",title:"",description:"",date:new Date().toISOString().split("T")[0],time:new Date().toTimeString().slice(0,5),status:"pending",priority:"medium",assignedTo:"",notes:"",meetingType:"introduction",meetingLocation:"indoor",answerStatus:"answer",selectedQuickOption:null,proposalAmount:"",proposalDiscount:"",proposalValidityDays:"",proposalAttachmentUrl:"",reservationProject:"",reservationUnit:"",reservationAmount:"",rentUnit:"",rentStart:"",rentEnd:"",rentAmount:""}),u=i.language==="ar",f=[{value:"call",label:u?"":"Call",icon:Ji,color:"bg-blue-500"},{value:"whatsapp",label:"WhatsApp",icon:xd,color:"bg-green-500"},{value:"email",label:u?"":"Email",icon:Di,color:"bg-yellow-500"},{value:"google_meet",label:"Google Meet",icon:gm,color:"bg-purple-500"},{value:"send_offer",label:u?"  ":"Send Offer",icon:_A,color:"bg-teal-500"}],p=[{value:"follow_up",label:u?"":"Follow Up"},{value:"meeting",label:u?"":"Meeting"},{value:"proposal",label:u?" ":"Proposal"},{value:"reservation",label:u?"":"Reservation"},{value:"closing_deals",label:u?" ":"Closing Deals"},{value:"rent",label:u?"":"Rent"},{value:"cancel",label:u?"":"Cancel"}],m=[{value:"introduction",label:u?" ":"Introduction Meeting"},{value:"follow_up",label:u?" ":"Follow-up Meeting"},{value:"presentation",label:u?" ":"Presentation Meeting"},{value:"negotiation",label:u?" ":"Negotiation Meeting"}],v=[{value:"indoor",label:u?"":"Indoor"},{value:"outdoor",label:u?"":"Outdoor"},{value:"online",label:u?" ":"Online"},{value:"client_office",label:u?" ":"Client Office"}],g=[{value:"",label:u?"":"Select"},{value:"project_a",label:u?" A":"Project A"},{value:"project_b",label:u?" B":"Project B"},{value:"project_c",label:u?" C":"Project C"}],b=[{value:"",label:u?"":"Select"},{value:"unit_101",label:"Unit 101"},{value:"unit_202",label:"Unit 202"},{value:"unit_303",label:"Unit 303"}],j=D=>{const{name:R,value:I,type:M,checked:U}=D.target;d(P=>({...P,[R]:M==="checkbox"?U:I,...R==="actionType"?{type:I}:{}}))},k=D=>{const R=new Date;let I;switch(D){case"after_1_hour":I=new Date(R.getTime()+3600*1e3);break;case"after_2_hours":I=new Date(R.getTime()+7200*1e3);break;case"tomorrow":I=new Date(R),I.setDate(I.getDate()+1),I.setHours(9,0,0,0);break;case"next_week":I=new Date(R),I.setDate(I.getDate()+7),I.setHours(9,0,0,0);break;default:return}d(M=>({...M,date:I.toISOString().split("T")[0],time:I.toTimeString().slice(0,5),selectedQuickOption:D}))},S=D=>{D.preventDefault();const R={...c,type:c.actionType,id:Date.now(),leadId:r?.id,leadName:r?.name,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};a(R),console.log(u?"  :":"Adding new action:",R),d({type:"call",actionType:"call",nextAction:"follow_up",title:"",description:"",date:new Date().toISOString().split("T")[0],time:new Date().toTimeString().slice(0,5),status:"pending",priority:"medium",assignedTo:"",notes:"",meetingType:"introduction",meetingLocation:"indoor",answerStatus:"answer",selectedQuickOption:null,proposalAmount:"",proposalDiscount:"",proposalValidityDays:"",proposalAttachmentUrl:"",reservationProject:"",reservationUnit:"",reservationAmount:"",rentUnit:"",rentStart:"",rentEnd:"",rentAmount:""}),t()};f.find(D=>D.value===c.type)?.icon;const A=n?"relative p-0":"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] p-0 sm:p-6",_=n?`${o?"bg-white text-slate-800":"bg-gray-800 text-white"} sm:rounded-lg shadow-xl w-full h-auto`:`${o?"bg-white text-slate-800":"bg-gray-800 text-white"} sm:rounded-lg shadow-xl w-full sm:max-w-2xl max-h-[85vh] h-auto overflow-y-auto m-0 sm:m-4`;y.useEffect(()=>{if(!n&&e){const D=document.body.style.overflow;return document.body.style.overflow="hidden",window.scrollTo({top:0,behavior:"smooth"}),()=>{document.body.style.overflow=D}}},[n,e]);const E=s.jsx("div",{className:A,children:s.jsxs("div",{className:_,children:[s.jsxs("div",{className:`flex items-center justify-between p-8 border-b ${o?"border-gray-200":"border-gray-700"}`,children:[s.jsx("div",{className:"flex items-center gap-3",children:s.jsx("h2",{className:`text-xl font-semibold ${o?"text-slate-900":"text-white"}`,children:u?" ":"Add Action"})}),!n&&s.jsx("div",{className:"flex items-center gap-3",children:s.jsx("button",{onClick:t,className:`${o?"text-slate-500 hover:text-slate-700":"text-gray-400 hover:text-gray-300"} transition-colors`,children:s.jsx(Lc,{className:"text-lg"})})})]}),s.jsx("div",{className:"px-8 pt-6",children:s.jsx("p",{className:`${o?"text-slate-600":"text-gray-400"} text-sm`,children:u?c.nextAction==="meeting"?"  ":"    ":c.nextAction==="meeting"?"Choose meeting details":"Select action type and schedule details"})}),s.jsxs("form",{onSubmit:S,className:"p-8 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-3 ${o?"text-slate-900":"text-gray-300"}`,children:u?"  ":"Next action"}),s.jsxs("div",{className:"relative",children:[s.jsx("select",{name:"nextAction",value:c.nextAction,onChange:j,className:`${o?"w-full px-3 py-2 pr-10 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-slate-900":"w-full px-3 py-2 pr-10 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white"}`,children:p.map(D=>s.jsx("option",{value:D.value,children:D.label},D.value))}),s.jsx(Na,{className:`absolute right-3 top-1/2 -translate-y-1/2 ${o?"text-slate-500":"text-gray-300"} pointer-events-none`})]})]}),c.nextAction!=="meeting"&&s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-3 ${o?"text-slate-900":"text-gray-300"}`,children:u?" ":"Action Type"}),s.jsxs("div",{className:"relative",children:[s.jsx("select",{name:"actionType",value:c.actionType,onChange:j,className:`${o?"w-full px-3 py-2 pr-10 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-slate-900":"w-full px-3 py-2 pr-10 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white"}`,children:f.map(D=>s.jsx("option",{value:D.value,children:D.label},D.value))}),s.jsx(Na,{className:`absolute right-3 top-1/2 -translate-y-1/2 ${o?"text-slate-500":"text-gray-300"} pointer-events-none`})]})]}),c.type&&s.jsx("div",{className:`flex ${u?"justify-start":"justify-end"}`,children:s.jsx("button",{type:"button",onClick:()=>d(D=>({...D,answerStatus:D.answerStatus==="answer"?"no_answer":"answer",notes:D.answerStatus==="answer"?"no answer":D.notes==="no answer"?"":D.notes})),className:`flex items-center gap-3 px-6 py-4 rounded-xl transition-all font-medium backdrop-blur-md bg-white/10 hover:bg-white/20 shadow-2xl shadow-black/30 hover:shadow-black/50 border ${c.answerStatus==="answer"?"text-green-300 hover:text-green-200 shadow-green-500/20 border-green-400/40":"text-red-300 hover:text-red-200 shadow-red-500/20 border-red-400/40"}`,children:c.answerStatus==="answer"?s.jsxs(s.Fragment,{children:[s.jsx($oe,{className:"text-lg text-green-400"}),s.jsx("span",{children:u?"":"Answer"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Boe,{className:"text-lg text-red-400"}),s.jsx("span",{children:u?"  ":"No Answer"})]})})}),c.nextAction==="meeting"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:u?" ":"Meeting Type"}),s.jsxs("div",{className:"relative",children:[s.jsx("select",{name:"meetingType",value:c.meetingType,onChange:j,className:`${o?"w-full px-3 py-2 pr-10 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-slate-900":"w-full px-3 py-2 pr-10 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white"}`,children:m.map(D=>s.jsx("option",{value:D.value,children:D.label},D.value))}),s.jsx(Na,{className:`absolute right-3 top-1/2 -translate-y-1/2 ${o?"text-slate-500":"text-gray-300"} pointer-events-none`})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:u?" ":"Meeting Location"}),s.jsxs("div",{className:"relative",children:[s.jsx("select",{name:"meetingLocation",value:c.meetingLocation,onChange:j,className:`${o?"w-full px-3 py-2 pr-10 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-slate-900":"w-full px-3 py-2 pr-10 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white"}`,children:v.map(D=>s.jsx("option",{value:D.value,children:D.label},D.value))}),s.jsx(Na,{className:`absolute right-3 top-1/2 -translate-y-1/2 ${o?"text-slate-500":"text-gray-300"} pointer-events-none`})]})]})]}),c.nextAction==="proposal"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:u?" ":"Proposal Amount"}),s.jsx("input",{name:"proposalAmount",type:"number",value:c.proposalAmount,onChange:j,className:`${o?"w-full px-3 py-2 bg-white border border-gray-300 rounded-md text-slate-900":"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white"}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:u?" %":"Discount %"}),s.jsx("input",{name:"proposalDiscount",type:"number",value:c.proposalDiscount,onChange:j,className:`${o?"w-full px-3 py-2 bg-white border border-gray-300 rounded-md text-slate-900":"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white"}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:u?"  ()":"Validity Days"}),s.jsx("input",{name:"proposalValidityDays",type:"number",value:c.proposalValidityDays,onChange:j,className:`${o?"w-full px-3 py-2 bg-white border border-gray-300 rounded-md text-slate-900":"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white"}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:u?" ":"Attachment URL"}),s.jsx("input",{name:"proposalAttachmentUrl",type:"url",value:c.proposalAttachmentUrl,onChange:j,placeholder:"https://...",className:`${o?"w-full px-3 py-2 bg-white border border-gray-300 rounded-md text-slate-900":"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white"}`})]})]}),c.nextAction==="reservation"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:u?"":"Project"}),s.jsxs("div",{className:"relative",children:[s.jsx("select",{name:"reservationProject",value:c.reservationProject,onChange:j,className:`${o?"w-full appearance-none px-3 py-2 pr-10 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-slate-900":"w-full appearance-none px-3 py-2 pr-10 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white"}`,children:g.map(D=>s.jsx("option",{value:D.value,children:D.label},D.value))}),s.jsx(Na,{className:`absolute right-3 top-1/2 -translate-y-1/2 ${o?"text-slate-500":"text-gray-300"} pointer-events-none`})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:u?"":"Unit"}),s.jsxs("div",{className:"relative",children:[s.jsx("select",{name:"reservationUnit",value:c.reservationUnit,onChange:j,className:`${o?"w-full appearance-none px-3 py-2 pr-10 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-slate-900":"w-full appearance-none px-3 py-2 pr-10 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white"}`,children:b.map(D=>s.jsx("option",{value:D.value,children:D.label},D.value))}),s.jsx(Na,{className:`absolute right-3 top-1/2 -translate-y-1/2 ${o?"text-slate-500":"text-gray-300"} pointer-events-none`})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:u?" ":"Reservation Amount"}),s.jsx("input",{name:"reservationAmount",type:"number",value:c.reservationAmount,onChange:j,className:`${o?"w-full px-3 py-2 bg-white border border-gray-300 rounded-md text-slate-900":"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white"}`})]})]}),c.nextAction==="rent"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:u?"":"Unit"}),s.jsxs("div",{className:"relative",children:[s.jsx("select",{name:"rentUnit",value:c.rentUnit,onChange:j,className:`${o?"w-full appearance-none px-3 py-2 pr-10 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-slate-900":"w-full appearance-none px-3 py-2 pr-10 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white"}`,children:b.map(D=>s.jsx("option",{value:D.value,children:D.label},D.value))}),s.jsx(Na,{className:`absolute right-3 top-1/2 -translate-y-1/2 ${o?"text-slate-500":"text-gray-300"} pointer-events-none`})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:u?" ":"Rent Start"}),s.jsx("input",{name:"rentStart",type:"date",value:c.rentStart,onChange:j,className:`${o?"w-full px-3 py-2 bg-white border border-gray-300 rounded-md text-slate-900":"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white"}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:u?" ":"Rent End"}),s.jsx("input",{name:"rentEnd",type:"date",value:c.rentEnd,onChange:j,className:`${o?"w-full px-3 py-2 bg-white border border-gray-300 rounded-md text-slate-900":"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white"}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:u?" ":"Rent Amount"}),s.jsx("input",{name:"rentAmount",type:"number",value:c.rentAmount,onChange:j,className:`${o?"w-full px-3 py-2 bg-white border border-gray-300 rounded-md text-slate-900":"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white"}`})]})]}),!["closing_deals","cancel"].includes(c.nextAction)&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:`text-lg font-medium ${o?"text-slate-900":"text-white"}`,children:u?" ":"Schedule Date"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsx("div",{className:"relative",children:s.jsx("input",{type:"datetime-local",name:"date",value:`${c.date}T${c.time}`,onChange:D=>{const[R,I]=D.target.value.split("T");d(M=>({...M,date:R,time:I}))},className:`${o?"w-full px-4 py-3 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-slate-900 text-sm pr-12":"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-white text-sm pr-12"}`,placeholder:"05/12/2025 23:58:53"})}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("button",{type:"button",onClick:()=>k("after_1_hour"),className:`px-4 py-2 text-sm rounded-lg border-2 transition-colors ${c.selectedQuickOption==="after_1_hour"?"bg-teal-600 text-white border-teal-500 ring-2 ring-teal-400/40":o?"bg-gray-100 text-slate-700 border-gray-300 hover:bg-gray-200":"bg-gray-700 text-gray-300 border-gray-500 hover:bg-gray-600"}`,children:u?" ":"After 1 hour"}),s.jsx("button",{type:"button",onClick:()=>k("after_2_hours"),className:`px-4 py-2 text-sm rounded-lg border-2 transition-colors ${c.selectedQuickOption==="after_2_hours"?"bg-teal-600 text-white border-teal-500 ring-2 ring-teal-400/40":o?"bg-gray-100 text-slate-700 border-gray-300 hover:bg-gray-200":"bg-gray-700 text-gray-300 border-gray-500 hover:bg-gray-600"}`,children:u?" ":"After 2 hours"})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("button",{type:"button",onClick:()=>k("tomorrow"),className:`px-4 py-2 text-sm rounded-lg border-2 transition-colors ${c.selectedQuickOption==="tomorrow"?"bg-teal-600 text-white border-teal-500 ring-2 ring-teal-400/40":o?"bg-gray-100 text-slate-700 border-gray-300 hover:bg-gray-200":"bg-gray-700 text-gray-300 border-gray-500 hover:bg-gray-600"}`,children:u?"":"Tomorrow"}),s.jsx("button",{type:"button",onClick:()=>k("next_week"),className:`px-4 py-2 text-sm rounded-lg border-2 transition-colors ${c.selectedQuickOption==="next_week"?"bg-teal-600 text-white border-teal-500 ring-2 ring-teal-400/40":o?"bg-gray-100 text-slate-700 border-gray-300 hover:bg-gray-200":"bg-gray-700 text-gray-300 border-gray-500 hover:bg-gray-600"}`,children:u?" ":"Next Week"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${o?"text-slate-700":"text-gray-300"}`,children:u?" *":"Comment *"}),s.jsx("textarea",{name:"notes",value:c.notes,onChange:j,placeholder:u?"  .      ...":"Write your comment here. Unlimited words are allowed...",rows:"4",className:`${o?"w-full px-3 py-2 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-slate-900 placeholder-gray-400":"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white placeholder-gray-400"} resize-none`,required:!0})]}),s.jsxs("div",{className:"flex justify-between gap-2 pt-4",children:[s.jsx("button",{type:"button",onClick:t,className:`${o?"px-6 py-2 text-slate-700 bg-gray-100 hover:bg-gray-200":"px-6 py-2 text-gray-300 bg-gray-700 hover:bg-gray-600"} rounded-md transition-colors`,children:u?"":"Cancel"}),s.jsx("button",{type:"submit",className:"px-6 py-2 bg-teal-600 hover:bg-teal-700 text-white rounded-md transition-colors",children:u?" ":"Save Action"})]})]})]})});return n?E:e?lx.createPortal(E,document.body):null},vz=({isOpen:e,onClose:t,onSave:a,lead:r})=>{const{i18n:n}=St(),i=n.language==="ar",{theme:l}=Ar(),o=l==="light",[c,d]=y.useState({fullName:"",mobile:"",email:"",company:"",location:"",status:"New",priority:"Medium",source:"Website",assignedTo:"Unassigned",estimatedValue:"",probability:"50",notes:""});y.useEffect(()=>{r&&d({fullName:r.fullName||"",mobile:r.mobile||"",email:r.email||"",company:r.company||"",location:r.location||"",status:r.status||"New",priority:r.priority||"Medium",source:r.source||"Website",assignedTo:r.assignedTo||"Unassigned",estimatedValue:r.estimatedValue||"",probability:r.probability||"50",notes:r.notes||""})},[r]);const u=p=>{const{name:m,value:v}=p.target;d(g=>({...g,[m]:v}))},f=p=>{p.preventDefault();const m={...r,...c,lastModified:new Date().toLocaleDateString(i?"ar-EG":"en-US")};a(m),t()};return!e||!r?null:s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:`${o?"bg-white text-gray-800":"bg-slate-800 text-white"} sm:rounded-lg shadow-xl w-full h-screen sm:max-w-4xl sm:max-h-[90vh] sm:h-auto sm:mx-4 mx-0 overflow-y-auto`,children:[s.jsxs("div",{className:`flex items-center justify-between p-6 border-b ${o?"border-gray-200":"border-slate-700"}`,children:[s.jsxs("h2",{className:`text-xl font-semibold flex items-center ${o?"text-gray-800":"text-white"}`,children:[s.jsx(Cc,{className:"mr-2 text-blue-600"}),i?"   ":"Edit Lead"]}),s.jsx("button",{onClick:t,className:`${o?"text-gray-400 hover:text-gray-600":"text-gray-300 hover:text-gray-200"} transition-colors`,title:i?"":"Close",children:s.jsx(Lc,{size:20})})]}),s.jsxs("form",{onSubmit:f,className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:`text-lg font-medium mb-4 border-b pb-2 ${o?"text-gray-800 border-gray-200":"text-white border-slate-700"}`,children:i?" ":"Basic Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:`block text-sm font-medium mb-2 ${o?"text-gray-700":"text-gray-300"}`,children:[s.jsx(Cc,{className:"inline mr-1"}),i?"  *":"Full Name *"]}),s.jsx("input",{type:"text",name:"fullName",value:c.fullName,onChange:u,required:!0,className:`${o?"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500":"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white"}`,placeholder:i?"  ":"Enter full name"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:`block text-sm font-medium mb-2 ${o?"text-gray-700":"text-gray-300"}`,children:[s.jsx(Ji,{className:"inline mr-1"}),i?"  *":"Phone Number *"]}),s.jsx("input",{type:"tel",name:"mobile",value:c.mobile,onChange:u,required:!0,className:`${o?"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500":"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white"}`,placeholder:i?"  ":"Enter phone number"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:`block text-sm font-medium mb-2 ${o?"text-gray-700":"text-gray-300"}`,children:[s.jsx(Di,{className:"inline mr-1"}),i?" ":"Email"]}),s.jsx("input",{type:"email",name:"email",value:c.email,onChange:u,className:`${o?"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500":"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white"}`,placeholder:i?"  ":"Enter email"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:`block text-sm font-medium mb-2 ${o?"text-gray-700":"text-gray-300"}`,children:[s.jsx(AA,{className:"inline mr-1"}),i?"":"Company"]}),s.jsx("input",{type:"text",name:"company",value:c.company,onChange:u,className:`${o?"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500":"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white"}`,placeholder:i?"  ":"Enter company name"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:`block text-sm font-medium mb-2 ${o?"text-gray-700":"text-gray-300"}`,children:[s.jsx(EA,{className:"inline mr-1"}),i?"":"Location"]}),s.jsx("input",{type:"text",name:"location",value:c.location,onChange:u,className:`${o?"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500":"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white"}`,placeholder:i?" ":"Enter location"})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:`text-lg font-medium mb-4 border-b pb-2 ${o?"text-gray-800 border-gray-200":"text-white border-slate-700"}`,children:i?"  ":"Lead Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${o?"text-gray-700":"text-gray-300"}`,children:i?"":"Status"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{name:"status",value:c.status,onChange:u,className:`${o?"w-full appearance-none px-3 py-2 pr-10 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500":"w-full appearance-none px-3 py-2 pr-10 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white"}`,children:[s.jsx("option",{value:"New",children:i?"":"New"}),s.jsx("option",{value:"Contacted",children:i?" ":"Contacted"}),s.jsx("option",{value:"Qualified",children:i?"":"Qualified"}),s.jsx("option",{value:"Proposal",children:i?"":"Proposal"}),s.jsx("option",{value:"Negotiation",children:i?"":"Negotiation"}),s.jsx("option",{value:"Closed Won",children:i?" - ":"Closed Won"}),s.jsx("option",{value:"Closed Lost",children:i?" - ":"Closed Lost"})]}),s.jsx(Na,{className:`${o?"text-slate-500":"text-gray-300"} absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none`})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${o?"text-gray-700":"text-gray-300"}`,children:i?"":"Priority"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{name:"priority",value:c.priority,onChange:u,className:`${o?"w-full appearance-none px-3 py-2 pr-10 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500":"w-full appearance-none px-3 py-2 pr-10 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white"}`,children:[s.jsx("option",{value:"Low",children:i?"":"Low"}),s.jsx("option",{value:"Medium",children:i?"":"Medium"}),s.jsx("option",{value:"High",children:i?"":"High"}),s.jsx("option",{value:"Urgent",children:i?"":"Urgent"})]}),s.jsx(Na,{className:`${o?"text-slate-500":"text-gray-300"} absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none`})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${o?"text-gray-700":"text-gray-300"}`,children:i?"":"Source"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{name:"source",value:c.source,onChange:u,className:`${o?"w-full appearance-none px-3 py-2 pr-10 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500":"w-full appearance-none px-3 py-2 pr-10 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white"}`,children:[s.jsx("option",{value:"Website",children:i?" ":"Website"}),s.jsx("option",{value:"Social Media",children:i?"  ":"Social Media"}),s.jsx("option",{value:"Referral",children:i?"":"Referral"}),s.jsx("option",{value:"Cold Call",children:i?" ":"Cold Call"}),s.jsx("option",{value:"Email Campaign",children:i?"  ":"Email Campaign"}),s.jsx("option",{value:"Event",children:i?"":"Event"}),s.jsx("option",{value:"Other",children:i?"":"Other"})]}),s.jsx(Na,{className:`${o?"text-slate-500":"text-gray-300"} absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none`})]})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:`text-lg font-medium mb-4 border-b pb-2 ${o?"text-gray-800 border-gray-200":"text-white border-slate-700"}`,children:i?" ":"Additional Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${o?"text-gray-700":"text-gray-300"}`,children:i?" ":"Assigned To"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{name:"assignedTo",value:c.assignedTo,onChange:u,className:`${o?"w-full appearance-none px-3 py-2 pr-10 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500":"w-full appearance-none px-3 py-2 pr-10 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white"}`,children:[s.jsx("option",{value:"Unassigned",children:i?" ":"Unassigned"}),s.jsx("option",{value:"Ahmed Ali",children:i?" ":"Ahmed Ali"}),s.jsx("option",{value:"Sara Mohamed",children:i?" ":"Sara Mohamed"}),s.jsx("option",{value:"Omar Hassan",children:i?" ":"Omar Hassan"}),s.jsx("option",{value:"Fatima Ibrahim",children:i?" ":"Fatima Ibrahim"})]}),s.jsx(Na,{className:`${o?"text-slate-500":"text-gray-300"} absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none`})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:`block text-sm font-medium mb-2 ${o?"text-gray-700":"text-gray-300"}`,children:[s.jsx(mz,{className:"inline mr-1"}),i?" ":"Estimated Value"]}),s.jsx("input",{type:"number",name:"estimatedValue",value:c.estimatedValue,onChange:u,className:`${o?"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500":"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white"}`,placeholder:i?"  ":"Enter estimated value"})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${o?"text-gray-700":"text-gray-300"}`,children:i?" (%)":"Probability (%)"}),s.jsx("input",{type:"number",name:"probability",value:c.probability,onChange:u,min:"0",max:"100",className:`${o?"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500":"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white"}`,placeholder:i?" ":"Enter probability"})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${o?"text-gray-700":"text-gray-300"}`,children:i?"":"Notes"}),s.jsx("textarea",{name:"notes",value:c.notes,onChange:u,rows:"4",className:`${o?"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500":"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white"}`,placeholder:i?"   ...":"Enter any additional notes..."})]}),s.jsxs("div",{className:`flex justify-end space-x-3 pt-4 border-t ${o?"border-gray-200":"border-slate-700"}`,children:[s.jsx("button",{type:"button",onClick:t,className:`${o?"px-4 py-2 text-gray-600 bg-gray-100 rounded-md hover:bg-gray-200":"px-4 py-2 text-gray-300 bg-gray-700 rounded-md hover:bg-gray-600"} transition-colors`,children:i?"":"Cancel"}),s.jsxs("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center",children:[s.jsx(Foe,{className:"mr-2"}),i?" ":"Save Changes"]})]})]})]})})},Kf=()=>{const[e,t]=y.useState([]),[a,r]=y.useState([]),n=o=>Array.isArray(o)?o.length===0?[]:typeof o[0]=="string"?o.map(d=>({name:d,nameAr:"",color:"#3b82f6",icon:""})):o.map(d=>({name:d.name||String(d),nameAr:d.nameAr||"",color:d.color||"#3b82f6",icon:d.icon||""})):[],i=()=>{try{const o=JSON.parse(localStorage.getItem("crmStages")||"[]"),c=n(o);return t(c),c}catch{return t([]),[]}},l=()=>{try{const o=JSON.parse(localStorage.getItem("crmStatuses")||"[]"),c=n(o);return r(c),c}catch{return r([]),[]}};return y.useEffect(()=>{i(),l();const o=c=>{c.key==="crmStages"?i():c.key==="crmStatuses"&&l()};return window.addEventListener("storage",o),()=>{window.removeEventListener("storage",o)}},[]),{stages:e,statuses:a,loadStages:i,loadStatuses:l}},K1=({lead:e,isOpen:t,onClose:a,isArabic:r=!1,theme:n="light"})=>{const[i,l]=y.useState("overview"),[o,c]=y.useState(""),[d,u]=y.useState("all"),[f,p]=y.useState("all"),[m,v]=y.useState("date"),[g,b]=y.useState("timeline"),[j,k]=y.useState([]),[S,N]=y.useState(!1),[A,_]=y.useState(!1),[E,D]=y.useState("all"),[R,I]=y.useState(!1),[M,U]=y.useState(""),[P,F]=y.useState(""),[K,V]=y.useState(!1),J=y.useRef(null),Q=y.useRef(null);y.useEffect(()=>{const ge=Re=>{if(!K)return;const ue=J.current,Z=Q.current;ue&&!ue.contains(Re.target)&&Z&&!Z.contains(Re.target)&&V(!1)};return document.addEventListener("mousedown",ge),document.addEventListener("touchstart",ge),()=>{document.removeEventListener("mousedown",ge),document.removeEventListener("touchstart",ge)}},[K]);const z=[{id:1,type:"call",title:r?"   ":"Phone call with client",description:r?"    ":"Discuss project details and basic requirements",date:"2024-01-15",time:"10:30",status:"completed",priority:"high",assignee:r?" ":"Ahmed Mohamed",duration:r?"25 ":"25 min",demo:!0},{id:2,type:"email",title:r?"  ":"Send quotation",description:r?"     ":"Send detailed quotation for requested project",date:"2024-01-14",time:"14:15",status:"completed",priority:"medium",assignee:r?" ":"Sara Ahmed",duration:null,demo:!0},{id:3,type:"meeting",title:r?"   ":"Meeting with sales team",description:r?"    ":"Review client handling strategy",date:"2024-01-16",time:"11:00",status:"scheduled",priority:"high",assignee:r?" ":"Mohamed Ali",duration:r?"60 ":"60 min",demo:!0},{id:4,type:"note",title:r?" ":"Follow-up notes",description:r?"     ":"Record notes about client interest",date:"2024-01-13",time:"16:45",status:"completed",priority:"low",assignee:r?" ":"Fatma Hassan",duration:null,demo:!0},{id:5,type:"task",title:r?"  ":"Prepare presentation",description:r?"    ":"Prepare comprehensive client presentation",date:"2024-01-17",time:"09:00",status:"pending",priority:"medium",assignee:r?" ":"Khaled Ahmed",duration:r?"120 ":"120 min",demo:!0}],[X,le]=y.useState(z);if(Ws.useEffect(()=>{le(z)},[r]),!t)return null;const O=ge=>{console.log("  :",ge),le(Re=>[{...ge,assignee:ge.assignedTo||ge.assignee||" "},...Re]),N(!1)},q={name:e?.fullName||e?.leadName||e?.name||" ",phone:e?.mobile||e?.phone||"+966512345698",email:e?.email||"lead28@example.com",company:e?.company||"   ",location:e?.location||"Not specified",source:e?.source||"referral",createdDate:e?.createdDate||"Not specified",status:e?.status||"qualified",priority:e?.priority||"high",stage:e?.stage||(r?"":"New")},{stages:W}=Kf(),te=String(q.stage).toLowerCase(),re=(Array.isArray(W)?W:[]).find(ge=>{const Re=typeof ge=="string"?ge:ge?.name,ue=typeof ge=="string"?"":ge?.nameAr;return String(Re||"").toLowerCase()===te||String(ue||"").toLowerCase()===te}),oe=re?typeof re!="string"&&typeof re.color=="string"?re.color.trim().startsWith("#")?{backgroundColor:re.color}:{background:`var(--stage-${re.color}-swatch, ${re.color})`}:{}:{},ce=`px-3 py-1 text-white text-sm rounded-full font-medium${re?"":" bg-blue-500"}`,G=X.filter(ge=>{const Re=ge.title.toLowerCase().includes(o.toLowerCase())||ge.description.toLowerCase().includes(o.toLowerCase()),ue=d==="all"||ge.status===d,Z=f==="all"||ge.type===f;return Re&&ue&&Z}).sort((ge,Re)=>{switch(m){case"date":const ue=new Date(`${ge.date}T${ge.time||"00:00"}`);return new Date(`${Re.date}T${Re.time||"00:00"}`)-ue;case"priority":const Se={high:3,medium:2,low:1};return Se[Re.priority]-Se[ge.priority];case"status":return ge.status.localeCompare(Re.status);default:return 0}});X.length,X.filter(ge=>ge.status==="completed").length,X.filter(ge=>ge.status==="pending").length,X.filter(ge=>ge.status==="scheduled").length;const ie=ge=>{switch(ge){case"call":return s.jsx(Ji,{className:"text-blue-400"});case"email":return s.jsx(Di,{className:"text-green-400"});case"meeting":return s.jsx(gm,{className:"text-purple-400"});case"note":return s.jsx(Lf,{className:"text-yellow-400"});case"task":return s.jsx(O5,{className:"text-orange-400"});default:return s.jsx(Aoe,{className:"text-gray-400"})}},ye=ge=>{switch(ge){case"high":return"text-green-400 border-green-400";case"medium":return"text-yellow-400 border-yellow-400";case"low":return"text-red-400 border-red-400";default:return"text-gray-400 border-gray-400"}},se=ge=>{switch(String(ge).toLowerCase()){case"call":return"text-blue-400 border-blue-400";case"email":return"text-yellow-400 border-yellow-400";case"meeting":return"text-purple-400 border-purple-400";case"task":return"text-orange-400 border-orange-400";case"note":return"text-slate-300 border-slate-400";default:return"text-gray-400 border-gray-400"}},Ie=ge=>{switch(String(ge).toLowerCase()){case"call":return r?"":"Call";case"email":return r?"":"Email";case"meeting":return r?"":"Meeting";case"task":return r?"":"Task";case"note":return r?"":"Note";default:return r?" ":"Unknown"}},pe=[{id:"overview",label:"Overview"},{id:"all-actions",label:"All Actions"},{id:"communication",label:"Communication"}],ae=n==="light";return lx.createPortal(s.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] p-0",children:[s.jsxs("div",{className:`${ae?"bg-white/70 backdrop-blur-md text-slate-800":"bg-slate-800 text-white"} w-full sm:max-w-5xl max-h-[85vh] h-auto sm:rounded-3xl overflow-y-auto shadow-2xl p-3 sm:p-4`,children:[s.jsx("div",{className:`${ae?"bg-white/60 border-gray-200":"bg-slate-800 border-slate-700"} p-3 sm:p-4 border-b`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:[s.jsx("div",{className:"w-12 h-12 bg-slate-600 rounded-full flex items-center justify-center",children:s.jsx(Cc,{className:"text-2xl text-slate-300"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:`text-lg font-semibold mb-0.5 ${ae?"text-slate-900":"text-white"}`,children:q.name}),s.jsx("p",{className:`${ae?"text-slate-600":"text-slate-300"} text-xs mb-0.5`,children:q.phone}),s.jsx("p",{className:`${ae?"text-slate-500":"text-slate-400"} text-xs`,children:q.email})]})]}),s.jsxs("div",{className:"flex flex-col items-end space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between gap-2 w-[220px] sm:w-[280px] relative",children:[!S&&s.jsx("button",{onClick:()=>N(!0),"aria-label":r?" ":"Add Action",title:r?" ":"Add Action",className:"btn-icon bg-emerald-500 hover:bg-emerald-600 text-white",children:s.jsx(ho,{className:"text-sm"})}),s.jsx("button",{onClick:()=>{},"aria-label":r?"":"Assign",title:r?"":"Assign",className:"btn-icon",children:s.jsx(F5,{className:"text-sm"})}),s.jsx("button",{onClick:()=>_(!0),"aria-label":r?"":"Edit",title:r?"":"Edit",className:"btn-icon",children:s.jsx(Lf,{className:"text-sm"})}),s.jsx("button",{ref:Q,onClick:()=>V(ge=>!ge),"aria-label":r?"":"More",title:r?"":"More",className:"btn-icon",children:s.jsx(Toe,{className:"text-sm"})}),K&&s.jsxs("div",{ref:J,className:`${ae?"bg-white/70 backdrop-blur-md border border-gray-200 text-slate-800":"bg-slate-900/70 backdrop-blur-md border border-slate-700 text-white"} absolute right-12 top-10 z-50 rounded-xl shadow-xl min-w-[180px] p-2`,onMouseLeave:()=>V(!1),children:[s.jsxs("button",{onClick:()=>{V(!1),N(!0)},className:"flex items-center gap-3 w-full px-3 py-2 rounded-lg hover:bg-black/5",children:[s.jsx(O5,{className:"text-blue-500"}),s.jsx("span",{className:"text-sm font-medium",children:r?" ":"Add Request"})]}),s.jsxs("button",{onClick:()=>{V(!1),N(!0)},className:"flex items-center gap-3 w-full px-3 py-2 rounded-lg hover:bg-black/5",children:[s.jsx(mz,{className:"text-emerald-500"}),s.jsx("span",{className:"text-sm font-medium",children:r?" ":"Payment Plan"})]}),s.jsxs("button",{onClick:()=>{V(!1),N(!0)},className:"flex items-center gap-3 w-full px-3 py-2 rounded-lg hover:bg-black/5",children:[s.jsx(Ji,{className:"text-indigo-500"}),s.jsx("span",{className:"text-sm font-medium",children:r?" ":"Add Call"})]}),s.jsxs("button",{onClick:()=>{V(!1),window.confirm(r?"      ":"Convert this lead to a customer?")&&console.log(r?"   ":"Converted to customer")},className:"flex items-center gap-3 w-full px-3 py-2 rounded-lg hover:bg-black/5",children:[s.jsx(F5,{className:"text-yellow-500"}),s.jsx("span",{className:"text-sm font-medium",children:r?"  ":"Convert to Customer"})]})]}),s.jsx("button",{onClick:a,"aria-label":r?"":"Close",className:"btn-icon",children:s.jsx(Lc,{className:"text-lg"})})]}),s.jsx("div",{className:"w-full h-px"}),s.jsxs("div",{className:"flex space-x-6 rtl:space-x-reverse",children:[s.jsx("span",{className:"px-3 py-1 bg-emerald-500 text-white text-sm rounded-full font-medium",children:"qualified"}),s.jsx("span",{className:"px-3 py-1 bg-orange-500 text-white text-sm rounded-full font-medium",children:"high"}),s.jsx("span",{className:ce,style:oe,children:q.stage})]})]})]})}),s.jsx(vz,{isOpen:A,onClose:()=>_(!1),onSave:ge=>{},lead:e}),S&&s.jsx("div",{className:"px-0 sm:px-0",children:s.jsx(Mx,{isOpen:S,onClose:()=>N(!1),onSave:O,lead:e,inline:!0})}),s.jsx("div",{className:`${ae?"bg-white/60 border-gray-200":"bg-slate-800 border-slate-700"} px-6 border-b ${S?"hidden":""}`,children:s.jsx("div",{className:"flex justify-between w-full",children:pe.map(ge=>s.jsx("button",{onClick:()=>l(ge.id),className:`flex-1 py-4 px-4 text-sm font-medium border-b-2 transition-all duration-200 text-center ${i===ge.id?`${ae?"border-emerald-500 text-slate-900 bg-emerald-50 rounded-t-lg shadow-lg shadow-emerald-200/50 font-semibold":"border-emerald-400 text-white bg-emerald-500/20 rounded-t-lg shadow-lg shadow-emerald-500/10 font-semibold"}`:`${ae?"border-transparent text-slate-500 hover:text-slate-900 hover:border-slate-300 hover:bg-slate-100":"border-transparent text-slate-400 hover:text-white hover:border-slate-500 hover:bg-slate-700/30"}`}`,children:ge.label},ge.id))})}),s.jsxs("div",{className:`flex-1 overflow-y-auto p-6 ${ae?"bg-white/70":"bg-slate-800"} ${S?"hidden":""}`,children:[i==="overview"&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:`${ae?"text-black border-gray-300":"text-white border-slate-700"} font-semibold mb-3 border-b pb-2 text-left`,children:"Current Status"}),s.jsxs("div",{className:"flex justify-start items-center gap-16 mb-6",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"relative w-24 h-24 rounded-full mb-2 bg-[conic-gradient(#34d399_0_12%,_#334155_12%)]",children:s.jsx("div",{className:`absolute inset-2 rounded-full flex items-center justify-center ${ae?"bg-white border border-gray-300":"bg-slate-700 border border-slate-600"}`,children:s.jsx("span",{className:`text-2xl font-bold ${ae?"text-black":"text-white"}`,children:"3"})})}),s.jsx("span",{className:`text-xs font-medium ${ae?"text-slate-600":"text-slate-400"}`,children:"Total Actions"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"relative w-24 h-24 rounded-full mb-2 bg-[conic-gradient(#10b981_0_100%)]",children:s.jsx("div",{className:`absolute inset-2 rounded-full flex items-center justify-center ${ae?"bg-white border border-emerald-300":"bg-slate-700 border border-emerald-400"}`,children:s.jsx("span",{className:`text-2xl font-bold ${ae?"text-black":"text-white"}`,children:"2"})})}),s.jsx("span",{className:`text-xs font-medium ${ae?"text-slate-600":"text-slate-400"}`,children:"Completed"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"relative w-24 h-24 rounded-full mb-2 bg-[conic-gradient(#f59e0b_0_100%)]",children:s.jsx("div",{className:`absolute inset-2 rounded-full flex items-center justify-center ${ae?"bg-white border border-orange-300":"bg-slate-700 border border-orange-400"}`,children:s.jsx("span",{className:`text-2xl font-bold ${ae?"text-black":"text-white"}`,children:"1"})})}),s.jsx("span",{className:`text-xs font-medium ${ae?"text-slate-600":"text-slate-400"}`,children:"Pending"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:`text-lg font-semibold mb-4 border-b pb-2 ${ae?"text-black border-gray-300":"text-white border-slate-700"}`,children:"Lead Information"}),s.jsxs("div",{className:`space-y-4 p-4 rounded-lg ${ae?"bg-white border border-gray-200":"bg-slate-700"}`,children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:`${ae?"text-slate-600":"text-slate-300"} text-sm`,children:"Company:"}),s.jsx("span",{className:`${ae?"text-black":"text-white"} text-sm font-medium text-right`,children:q.company})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:`${ae?"text-slate-600":"text-slate-300"} text-sm`,children:"Location:"}),s.jsx("span",{className:`${ae?"text-black":"text-white"} text-sm`,children:q.location})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:`${ae?"text-slate-600":"text-slate-300"} text-sm`,children:"Source:"}),s.jsx("span",{className:`${ae?"text-black":"text-white"} text-sm`,children:q.source})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:`${ae?"text-slate-600":"text-slate-300"} text-sm`,children:"Created Date:"}),s.jsx("span",{className:`${ae?"text-black":"text-white"} text-sm`,children:q.createdDate})]})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:`${ae?"text-black border-gray-300":"text-white border-slate-700"} font-semibold mb-3 border-b pb-2`,children:"Quick Actions"}),s.jsxs("div",{className:"flex items-center justify-between gap-4 rtl:flex-row-reverse",children:[s.jsxs("button",{onClick:()=>N(!0),className:"bg-emerald-500 hover:bg-emerald-600 text-white py-2 px-3 rounded-full font-medium transition-colors flex items-center justify-center gap-2",children:[s.jsx("span",{className:"w-5 h-5 rounded-full bg-emerald-400 flex items-center justify-center",children:s.jsx(ho,{className:"text-xs"})}),s.jsx("span",{className:"text-sm",children:"+ Add New Action"})]}),s.jsxs("button",{onClick:()=>{window.confirm(r?"      ":"Convert this lead to a customer?")&&console.log(r?"   ":"Converted to customer")},className:`${ae?"bg-white text-slate-700 border border-gray-300 hover:bg-slate-100":"bg-slate-700 hover:bg-slate-600 text-slate-200 border border-slate-600"} py-2 px-3 rounded-full font-medium transition-colors flex items-center justify-center gap-2`,children:[s.jsx("span",{className:"w-5 h-5 rounded-full bg-yellow-600 flex items-center justify-center",children:s.jsx(F5,{className:"text-xs text-white"})}),s.jsx("span",{className:"text-sm",children:r?"  ":"Convert to Customer"})]})]})]})})]}),i==="all-actions"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[s.jsxs("button",{onClick:()=>{p("all"),u("all")},className:`${ae?"bg-white border border-gray-200 hover:bg-slate-100":"bg-slate-700 border border-slate-600 hover:bg-slate-600"} p-5 rounded-xl text-center transition-colors`,children:[s.jsx("div",{className:`text-2xl font-bold ${ae?"text-black":"text-white"}`,children:X.length}),s.jsx("div",{className:`${ae?"text-slate-600":"text-slate-400"} text-sm`,children:r?" ":"All Actions"})]}),s.jsxs("button",{onClick:()=>{p("call"),u("completed")},className:`${ae?"bg-white border border-green-300 hover:bg-slate-100":"bg-slate-700 border border-green-600 hover:bg-slate-600"} p-5 rounded-xl text-center transition-colors`,children:[s.jsx("div",{className:"text-2xl font-bold text-green-400",children:X.filter(ge=>ge.type==="call"&&ge.status==="completed").length}),s.jsx("div",{className:`${ae?"text-slate-600":"text-slate-400"} text-sm`,children:r?" ":"Calls Done"})]}),s.jsxs("button",{onClick:()=>{p("email"),u("all")},className:`${ae?"bg-white border border-blue-300 hover:bg-slate-100":"bg-slate-700 border border-blue-600 hover:bg-slate-600"} p-5 rounded-xl text-center transition-colors`,children:[s.jsx("div",{className:"text-2xl font-bold text-blue-400",children:X.filter(ge=>ge.type==="email").length}),s.jsx("div",{className:`${ae?"text-slate-600":"text-slate-400"} text-sm`,children:r?"":"Messages"})]}),s.jsxs("button",{onClick:()=>{p("meeting"),u("all")},className:`${ae?"bg-white border border-purple-300 hover:bg-slate-100":"bg-slate-700 border border-purple-600 hover:bg-slate-600"} p-5 rounded-xl text-center transition-colors`,children:[s.jsx("div",{className:"text-2xl font-bold text-purple-400",children:X.filter(ge=>ge.type==="meeting").length}),s.jsx("div",{className:`${ae?"text-slate-600":"text-slate-400"} text-sm`,children:r?"":"Meetings"})]})]}),s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:`${ae?"text-black":"text-white"} font-semibold`,children:r?"":"Actions"}),s.jsxs("button",{onClick:()=>N(!0),className:"bg-emerald-500 hover:bg-emerald-600 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2",children:[s.jsx(ho,{}),r?"  ":"Add New Action"]})]}),s.jsx("div",{className:`${ae?"bg-white border border-gray-200":"bg-slate-700"} p-4 rounded-lg space-y-3 mb-2`,children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-center",children:[s.jsxs("div",{className:"flex-1 relative w-full",children:[s.jsx(Kj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),s.jsx("input",{type:"text",placeholder:r?"  ...":"Search actions...",value:o,onChange:ge=>c(ge.target.value),className:`w-full pl-10 pr-4 py-2 rounded-lg placeholder-slate-400 focus:outline-none ${ae?"bg-white border border-gray-300 text-black focus:border-emerald-500":"bg-slate-600 border border-slate-500 text-white focus:border-emerald-400"}`})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ux,{className:`${ae?"text-slate-500":"text-slate-400"}`}),s.jsxs("select",{value:d,onChange:ge=>u(ge.target.value),className:`rounded-lg px-3 py-2 text-sm focus:outline-none ${ae?"bg-white border border-gray-300 text-black focus:border-emerald-500":"bg-slate-600 border border-slate-500 text-white focus:border-emerald-400"}`,children:[s.jsx("option",{value:"all",children:r?" ":"All statuses"}),s.jsx("option",{value:"completed",children:r?"":"Completed"}),s.jsx("option",{value:"pending",children:r?"":"Pending"}),s.jsx("option",{value:"scheduled",children:r?"":"Scheduled"})]}),s.jsxs("select",{value:f,onChange:ge=>p(ge.target.value),className:`rounded-lg px-3 py-2 text-sm focus:outline-none ${ae?"bg-white border border-gray-300 text-black focus:border-emerald-500":"bg-slate-600 border border-slate-500 text-white focus:border-emerald-400"}`,children:[s.jsx("option",{value:"all",children:r?" ":"All types"}),s.jsx("option",{value:"call",children:r?"":"Call"}),s.jsx("option",{value:"email",children:r?"":"Email"}),s.jsx("option",{value:"meeting",children:r?"":"Meeting"}),s.jsx("option",{value:"task",children:r?"":"Task"}),s.jsx("option",{value:"note",children:r?"":"Note"})]})]})]})}),s.jsx("div",{className:"space-y-4",children:G.length===0?s.jsxs("div",{className:`text-center py-12 rounded-lg ${ae?"bg-white border border-gray-200":"bg-slate-700"}`,children:[s.jsx(O5,{className:"mx-auto text-4xl mb-4 text-slate-500"}),s.jsx("h3",{className:`text-lg font-medium mb-2 ${ae?"text-black":"text-slate-300"}`,children:"  "}),s.jsx("p",{className:`${ae?"text-slate-600":"text-slate-400"} mb-4`,children:o||d!=="all"||f!=="all"?"         ":"     "}),s.jsxs("button",{onClick:()=>N(!0),className:"bg-emerald-500 hover:bg-emerald-600 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:[s.jsx(ho,{className:"inline mr-2"}),"  "]})]}):s.jsx("div",{className:`rounded-xl overflow-hidden ${ae?"bg-white border border-gray-200 divide-y divide-gray-200":"border border-slate-600 divide-y divide-slate-700"}`,children:G.map(ge=>s.jsxs("div",{className:`flex items-start gap-4 p-4 transition-colors ${ae?"bg-white hover:bg-slate-50":"bg-slate-700 hover:bg-slate-600"} ${j.includes(ge.id)?ae?"bg-emerald-50":"bg-emerald-500/5":""}`,children:[s.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center ${ae?"bg-slate-200":"bg-slate-600"}`,children:ie(ge.type)}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:`${r?"text-right":""}`,children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-x-6 gap-y-2 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-1 min-w-0",children:[s.jsx("span",{className:`${ae?"text-slate-600":"text-slate-400"} text-xs`,children:r?" :":"Lead Name:"}),s.jsx("span",{className:`${ae?"text-black":"text-white"} font-semibold max-w-[220px] break-words`,children:q.name})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:`${ae?"text-slate-600":"text-slate-400"} text-xs`,children:r?":":"Stage:"}),s.jsx("span",{className:ce,style:oe,children:q.stage})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:`${ae?"text-slate-600":"text-slate-400"} text-xs`,children:r?":":"Priority:"}),s.jsx("span",{className:`px-2 py-1 rounded border text-xs ${ye(ge.priority)}`,children:r?ge.priority==="high"?"":ge.priority==="medium"?"":"":ge.priority==="high"?"High":ge.priority==="medium"?"Medium":"Low"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:`${ae?"text-slate-600":"text-slate-400"} text-xs`,children:r?" :":"Action Type:"}),s.jsx("span",{className:`px-2 py-1 rounded border text-xs ${se(ge.type)}`,children:Ie(ge.type)})]}),s.jsxs("div",{className:"flex items-center gap-1 min-w-0",children:[s.jsx("span",{className:`${ae?"text-slate-600":"text-slate-400"} text-xs`,children:r?" :":"Sales Man:"}),s.jsx("span",{className:`${ae?"text-slate-800":"text-slate-300"} max-w-[200px] break-words`,children:ge.assignee})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:`${ae?"text-slate-600":"text-slate-400"} text-xs`,children:r?" :":"Date & Time:"}),s.jsx("span",{className:`${ae?"text-slate-800":"text-slate-300"} whitespace-nowrap`,children:`${ge.date} ${ge.time||""}`})]})]}),s.jsxs("div",{className:"mt-2 w-full",children:[s.jsx("div",{className:`${ae?"text-slate-600":"text-slate-400"} text-xs mb-1`,children:r?":":"Comment:"}),s.jsx("div",{className:`${ae?"text-black":"text-slate-300"} text-sm break-words whitespace-pre-line`,children:ge.description})]})]})})]},ge.id))})})]}),i==="communication"&&s.jsxs("div",{className:"p-8 space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-6 border border-blue-100 shadow-sm",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-xl font-semibold text-gray-800 flex items-center",children:[s.jsx("div",{className:"bg-blue-500 p-2 rounded-xl mr-3",children:s.jsx(xd,{className:"text-white text-sm"})}),r?"  ":"Client Communication",s.jsx("span",{className:"ml-3 bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:"3"})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("button",{className:"p-2 text-gray-500 hover:text-blue-500 transition-colors",children:s.jsx(ux,{})})})]})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[s.jsxs("button",{onClick:()=>{const ge=e?.phone||"",Re=String(ge).replace(/[^0-9]/g,"");Re&&window.open(`tel:${Re}`,"_blank")},className:`${ae?"bg-white/70 backdrop-blur-md text-slate-800 border border-gray-200 hover:bg-white/80":"bg-slate-800/70 backdrop-blur-md text-white border border-slate-700 hover:bg-slate-800/80"} flex flex-col items-center justify-center p-4 rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl`,children:[s.jsx(Ji,{className:"text-2xl mb-2",style:{color:"#2563EB"}}),s.jsx("span",{className:"text-sm font-medium",children:r?"":"Call"})]}),s.jsxs("button",{onClick:()=>{const ge=e?.phone||"",Re=String(ge).replace(/[^0-9]/g,"");Re&&window.open(`https://wa.me/${Re}`,"_blank")},className:`${ae?"bg-white/70 backdrop-blur-md text-slate-800 border border-gray-200 hover:bg-white/80":"bg-slate-800/70 backdrop-blur-md text-white border border-slate-700 hover:bg-slate-800/80"} flex flex-col items-center justify-center p-4 rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl`,children:[s.jsx(Hl,{className:"text-2xl mb-2",style:{color:"#25D366"}}),s.jsx("span",{className:"text-sm font-medium",children:r?"":"WhatsApp"})]}),s.jsxs("button",{onClick:()=>{e?.email&&window.open(`mailto:${e.email}`,"_blank")},className:`${ae?"bg-white/70 backdrop-blur-md text-slate-800 border border-gray-200 hover:bg-white/80":"bg-slate-800/70 backdrop-blur-md text-white border border-slate-700 hover:bg-slate-800/80"} flex flex-col items-center justify-center p-4 rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl`,children:[s.jsx(Di,{className:"text-2xl mb-2",style:{color:"#FFA726"}}),s.jsx("span",{className:"text-sm font-medium",children:r?" ":"Email"})]}),s.jsxs("button",{onClick:()=>window.open("https://meet.google.com/new","_blank"),className:`${ae?"bg-white/70 backdrop-blur-md text-slate-800 border border-gray-200 hover:bg-white/80":"bg-slate-800/70 backdrop-blur-md text-white border border-slate-700 hover:bg-slate-800/80"} flex flex-col items-center justify-center p-4 rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl`,children:[s.jsx("img",{alt:"Google Meet",className:"w-6 h-6 mb-2",src:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='48' height='48' viewBox='0 0 24 24'><rect x='2' y='4' width='12' height='16' rx='3' fill='%23ffffff'/><rect x='2' y='4' width='12' height='4' rx='2' fill='%234285F4'/><rect x='2' y='4' width='4' height='16' rx='2' fill='%2334A853'/><rect x='10' y='4' width='4' height='16' rx='2' fill='%23FBBC05'/><rect x='2' y='16' width='12' height='4' rx='2' fill='%23EA4335'/><polygon points='14,9 22,5 22,19 14,15' fill='%2334A853'/></svg>"}),s.jsx("span",{className:"text-sm font-medium",children:"Google Meet"})]})]}),s.jsx("div",{className:`${ae?"bg-white rounded-xl p-4 border border-gray-100 shadow-sm":"bg-slate-900/60 backdrop-blur-md rounded-xl p-4 border border-slate-700 shadow-sm"}`,children:s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("span",{className:`text-sm font-medium ${ae?"text-gray-600":"text-white"}`,children:r?":":"Filter:"}),s.jsx("button",{onClick:()=>D("all"),className:`px-3 py-1 rounded-full text-xs transition-colors ${E==="all"?ae?"bg-blue-100 text-blue-700":"bg-blue-500/30 text-white border border-blue-500":ae?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-slate-800/60 text-white border border-slate-700 hover:bg-slate-800/80"}`,children:r?"":"All"}),s.jsx("button",{onClick:()=>D("whatsapp"),className:`px-3 py-1 rounded-full text-xs transition-colors ${E==="whatsapp"?ae?"bg-green-100 text-green-700":"bg-green-500/30 text-white border border-green-500":ae?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-slate-800/60 text-white border border-slate-700 hover:bg-slate-800/80"}`,children:"WhatsApp"}),s.jsx("button",{onClick:()=>D("email"),className:`px-3 py-1 rounded-full text-xs transition-colors ${E==="email"?ae?"bg-blue-100 text-blue-700":"bg-blue-500/30 text-white border border-blue-500":ae?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-slate-800/60 text-white border border-slate-700 hover:bg-slate-800/80"}`,children:"Email"}),s.jsx("button",{onClick:()=>D("meet"),className:`px-3 py-1 rounded-full text-xs transition-colors ${E==="meet"?ae?"bg-emerald-100 text-emerald-700":"bg-emerald-500/30 text-white border border-emerald-500":ae?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-slate-800/60 text-white border border-slate-700 hover:bg-slate-800/80"}`,children:"Google Meet"}),s.jsx("button",{onClick:()=>D("calls"),className:`px-3 py-1 rounded-full text-xs transition-colors ${E==="calls"?ae?"bg-purple-100 text-purple-700":"bg-purple-500/30 text-white border border-purple-500":ae?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-slate-800/60 text-white border border-slate-700 hover:bg-slate-800/80"}`,children:r?"":"Calls"}),s.jsx("button",{onClick:()=>D("unread"),className:`px-3 py-1 rounded-full text-xs transition-colors ${E==="unread"?ae?"bg-red-100 text-red-700":"bg-red-500/30 text-white border border-red-500":ae?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-slate-800/60 text-white border border-slate-700 hover:bg-slate-800/80"}`,children:r?" ":"Unread"})]})}),s.jsxs("div",{className:`${ae?"bg-white rounded-2xl p-6 border border-gray-100 shadow-sm":"bg-slate-900/60 backdrop-blur-md rounded-2xl p-6 border border-slate-700 shadow-sm"}`,children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h4",{className:`text-lg font-medium ${ae?"text-black":"text-white"}`,children:r?" ":"Communication Timeline"}),s.jsxs("button",{onClick:()=>I(ge=>!ge),className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors flex items-center space-x-2",children:[s.jsx(ho,{className:"text-sm"}),s.jsx("span",{className:"text-sm",children:r?" ":"Add Message"})]})]}),R&&s.jsxs("div",{className:`${ae?"bg-white rounded-2xl p-6 border border-gray-100 shadow-sm mb-6":"bg-slate-900/60 backdrop-blur-md rounded-2xl p-6 border border-slate-700 shadow-sm mb-6"}`,children:[s.jsx("h4",{className:`text-lg font-medium mb-4 ${ae?"text-black":"text-white"}`,children:r?"  ":"Compose New Message"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${ae?"text-gray-700":"text-white"}`,children:r?"":"Channel"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{className:`w-full px-3 py-2 pr-10 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${ae?"border-gray-300":"bg-slate-800/70 text-white border-slate-700"}`,children:[s.jsx("option",{children:r?"":"WhatsApp"}),s.jsx("option",{children:r?" ":"Email"}),s.jsx("option",{children:r?" ":"Google Meet"}),s.jsx("option",{children:r?"":"Calls"})]}),s.jsx(Na,{className:`absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none ${ae?"text-slate-500":"text-white/70"}`})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${ae?"text-gray-700":"text-white"}`,children:r?"":"Template"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{className:`w-full px-3 py-2 pr-10 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${ae?"border-gray-300":"bg-slate-800/70 text-white border-slate-700"}`,children:[s.jsx("option",{children:r?" ":"Custom Message"}),s.jsx("option",{children:r?"  ":"Quote Follow-up"}),s.jsx("option",{children:r?" ":"Appointment Confirmation"}),s.jsx("option",{children:r?" ":"Document Request"}),s.jsx("option",{children:r?"  ":"Post-call Thank You"})]}),s.jsx(Na,{className:`absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none ${ae?"text-slate-500":"text-white/70"}`})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${ae?"text-gray-700":"text-white"}`,children:r?" ()":"Subject (for Email)"}),s.jsx("input",{type:"text",placeholder:r?" ...":"Message subject...",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${ae?"border-gray-300":"bg-slate-800/70 text-white border-slate-700 placeholder-slate-300"}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${ae?"text-gray-700":"text-white"}`,children:r?" ":"Message Content"}),s.jsx("textarea",{rows:"4",placeholder:r?"  ...   {}  {_}  ":"Type your message here... You can use {name} and {quote_number} as dynamic variables",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${ae?"border-gray-300":"bg-slate-800/70 text-white border-slate-700 placeholder-slate-300"}`})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",className:"mr-2"}),s.jsx("span",{className:`text-sm ${ae?"text-gray-600":"text-white"}`,children:r?" ":"Schedule Send"})]}),s.jsx("input",{type:"datetime-local",className:`px-3 py-1 border rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 ${ae?"border-gray-300":"bg-slate-800/70 text-white border-slate-700"}`})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{className:`px-4 py-2 rounded-lg transition-colors ${ae?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-slate-800/70 text-white border border-slate-700 hover:bg-slate-800/80"}`,children:r?" ":"Save Draft"}),s.jsx("button",{onClick:()=>I(!1),className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:r?"":"Send"})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[(E==="all"||E==="whatsapp"||E==="unread")&&s.jsx("div",{className:"p-4 bg-gradient-to-r from-green-50 to-green-100 rounded-xl border-l-4 border-green-500 hover:shadow-md transition-shadow cursor-pointer",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center mr-3 shadow-md",children:s.jsx(Hl,{className:"text-white text-sm"})}),s.jsxs("div",{children:[s.jsx("h5",{className:`font-semibold ${ae?"text-black":"text-gray-800"}`,children:e?.name||(r?" ":"Mohamed Ali")}),s.jsx("p",{className:"text-xs text-gray-500",children:r?"   ":"WhatsApp Message  Incoming"})]})]}),s.jsx("p",{className:`text-sm ${ae?"text-black":"text-gray-700"} bg-white p-3 rounded-lg shadow-sm`,children:r?"     .         ":"Hello, thank you for the proposal. Can we schedule a meeting to discuss the project details and pricing?"}),s.jsxs("div",{className:"flex items-center mt-2 space-x-2",children:[s.jsx("button",{className:"text-xs text-blue-500 hover:underline",children:r?"":"Reply"}),s.jsx("button",{className:"text-xs text-gray-500 hover:underline",children:r?"":"Copy"}),s.jsx("button",{className:"text-xs text-purple-500 hover:underline",children:r?" ":"Create Follow-up"})]})]}),s.jsxs("div",{className:"text-xs text-gray-500 ml-4 text-center",children:[s.jsx("div",{className:"bg-green-500 text-white px-2 py-1 rounded-full mb-1",children:"10:30 AM"}),s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mx-auto animate-pulse"})]})]})}),(E==="all"||E==="email")&&s.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-blue-100 rounded-xl border-l-4 border-blue-500 hover:shadow-md transition-shadow cursor-pointer",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center mr-3 shadow-md",children:s.jsx(Di,{className:"text-white text-sm"})}),s.jsxs("div",{children:[s.jsx("h5",{className:`font-semibold ${ae?"text-black":"text-gray-800"}`,children:r?"":"You"}),s.jsx("p",{className:"text-xs text-gray-500",children:r?"   ":"Email  Outgoing"})]})]}),s.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm",children:[s.jsx("h6",{className:`font-medium mb-1 ${ae?"text-black":"text-gray-800"}`,children:r?":   ":"Subject: Updated Financial Proposal"}),s.jsx("p",{className:`text-sm ${ae?"text-black":"text-gray-700"}`,children:r?"       .       . : __.pdf":"Updated financial proposal sent with requested modifications. Please review and respond at your earliest convenience. Attachment: updated_quote.pdf"})]}),s.jsxs("div",{className:"flex items-center mt-2 space-x-2",children:[s.jsx("button",{className:"text-xs text-blue-500 hover:underline",children:r?" ":"Resend"}),s.jsx("button",{className:"text-xs text-gray-500 hover:underline",children:r?"":"Copy"}),s.jsx("button",{className:"text-xs text-green-500 hover:underline",children:r?" ":"Delivered"})]})]}),s.jsxs("div",{className:"text-xs text-gray-500 ml-4 text-center",children:[s.jsx("div",{className:"bg-blue-500 text-white px-2 py-1 rounded-full mb-1",children:"9:15 AM"}),s.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full mx-auto"})]})]})}),(E==="all"||E==="calls")&&s.jsx("div",{className:"p-4 bg-gradient-to-r from-purple-50 to-purple-100 rounded-xl border-l-4 border-purple-500 hover:shadow-md transition-shadow cursor-pointer",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-500 rounded-full flex items-center justify-center mr-3 shadow-md",children:s.jsx(Ji,{className:"text-white text-sm"})}),s.jsxs("div",{children:[s.jsx("h5",{className:`font-semibold ${ae?"text-black":"text-gray-800"}`,children:r?" ":"Phone Call"}),s.jsx("p",{className:"text-xs text-gray-500",children:r?"   15 ":"Outgoing Call  15 minutes"})]})]}),s.jsx("p",{className:`text-sm ${ae?"text-black":"text-gray-700"} bg-white p-3 rounded-lg shadow-sm`,children:r?"   .        .     .":"Successful call with client. Discussed all important points and clarified project details. Client is interested and wants to proceed."}),s.jsxs("div",{className:"flex items-center mt-2 space-x-2",children:[s.jsx("button",{className:"text-xs text-purple-500 hover:underline",children:r?" ":"Call Again"}),s.jsx("button",{className:"text-xs text-gray-500 hover:underline",children:r?" ":"Add Note"}),s.jsx("button",{className:"text-xs text-green-500 hover:underline",children:r?" ":"Schedule Follow-up"})]})]}),s.jsxs("div",{className:"text-xs text-gray-500 ml-4 text-center",children:[s.jsx("div",{className:"bg-purple-500 text-white px-2 py-1 rounded-full mb-1",children:"Yesterday"}),s.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full mx-auto"})]})]})}),s.jsx("div",{className:"p-4 bg-gradient-to-r from-red-50 to-red-100 rounded-xl border-l-4 border-red-500 hover:shadow-md transition-shadow cursor-pointer",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-10 h-10 bg-red-500 rounded-full flex items-center justify-center mr-3 shadow-md",children:s.jsx(fw,{className:"text-white text-sm"})}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-semibold text-gray-800",children:r?" Google Meet":"Google Meet Session"}),s.jsx("p",{className:"text-xs text-gray-500",children:r?"   45 ":"Video Meeting  45 minutes"})]})]}),s.jsx("p",{className:"text-sm text-gray-700 bg-white p-3 rounded-lg shadow-sm",children:r?"   -      .      .    3 .":"Successful video meeting - Comprehensive project presentation to client and their team. All technical and financial details clarified. Response expected within 3 days."}),s.jsxs("div",{className:"flex items-center mt-2 space-x-2",children:[s.jsx("button",{className:"text-xs text-red-500 hover:underline",children:r?"  ":"Schedule New Meeting"}),s.jsx("button",{className:"text-xs text-gray-500 hover:underline",children:r?" ":"Share Recording"}),s.jsx("button",{className:"text-xs text-blue-500 hover:underline",children:r?" ":"Send Summary"})]})]}),s.jsxs("div",{className:"text-xs text-gray-500 ml-4 text-center",children:[s.jsx("div",{className:"bg-red-500 text-white px-2 py-1 rounded-full mb-1",children:"2 days ago"}),s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full mx-auto"})]})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-green-100 p-4 rounded-xl border border-green-200",children:[s.jsx("h5",{className:"font-medium text-green-800 mb-2",children:r?"  ":"Best Response Channel"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:"WhatsApp"}),s.jsx("p",{className:"text-sm text-green-600",children:r?"85%  ":"85% Response Rate"})]}),s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 p-4 rounded-xl border border-blue-200",children:[s.jsx("h5",{className:"font-medium text-blue-800 mb-2",children:r?"  ":"Avg Response Time"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"2.5h"}),s.jsx("p",{className:"text-sm text-blue-600",children:r?"  15%":"15% Improvement"})]}),s.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 p-4 rounded-xl border border-purple-200",children:[s.jsx("h5",{className:"font-medium text-purple-800 mb-2",children:r?"  ":"This Week Activity"}),s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:"12"}),s.jsx("p",{className:"text-sm text-purple-600",children:r?" ":"New Interactions"})]})]})]}),i!=="overview"&&i!=="all-actions"&&i!=="communication"&&s.jsx("div",{className:"text-center py-12",children:s.jsxs("p",{className:"text-slate-400",children:["Content for ",i," tab will be implemented here."]})})]})]}),!1]}),document.body)},qoe=({employee:e,dateFrom:t,dateTo:a,stageFilter:r})=>{const{t:n,i18n:i}=St(),[l,o]=y.useState(null),[c,d]=y.useState(!1),{theme:u}=Ar(),f=u==="light",p=`
    .scrollbar-thin-blue { scrollbar-width: thin; scrollbar-color: #2563eb transparent; }
    .scrollbar-thin-blue::-webkit-scrollbar { width: 8px; }
    .scrollbar-thin-blue::-webkit-scrollbar-track { background: transparent; }
    .scrollbar-thin-blue::-webkit-scrollbar-thumb { background-color: #2563eb; border-radius: 9999px; }
    .scrollbar-thin-blue:hover::-webkit-scrollbar-thumb { background-color: #1d4ed8; }
  `,v=[{id:1,employeeName:" ",leadName:" ",comment:"       ",timestamp:" 5 ",type:"follow_up",priority:"high"},{id:2,employeeName:" ",leadName:" ",comment:"     ",timestamp:" 15 ",type:"proposal",priority:"medium"},{id:3,employeeName:" ",leadName:" ",comment:"       ",timestamp:" 30 ",type:"inquiry",priority:"low"},{id:4,employeeName:" ",leadName:" ",comment:"       ",timestamp:" ",type:"support",priority:"medium"},{id:5,employeeName:" ",leadName:" ",comment:"     3   ",timestamp:" ",type:"meeting",priority:"high"},{id:6,employeeName:" ",leadName:" ",comment:"       ",timestamp:" 3 ",type:"follow_up",priority:"low"},{id:7,employeeName:" ",leadName:" ",comment:"       ",timestamp:" 4 ",type:"proposal",priority:"high"},{id:8,employeeName:" ",leadName:" ",comment:"       ",timestamp:" 5 ",type:"inquiry",priority:"medium"},{id:9,employeeName:" ",leadName:" ",comment:"      ",timestamp:" 6 ",type:"support",priority:"low"},{id:10,employeeName:" ",leadName:" ",comment:"       ",timestamp:" 7 ",type:"meeting",priority:"high"}].map((A,_)=>({...A,createdAt:new Date(Date.now()-(_+1)*20*60*1e3).toISOString()})),g=A=>{if(!t&&!a)return!0;const _=new Date(A);if(isNaN(_))return!0;const E=new Date(_.getFullYear(),_.getMonth(),_.getDate());if(t){const D=new Date(t);if(D.setHours(0,0,0,0),E<D)return!1}if(a){const D=new Date(a);if(D.setHours(0,0,0,0),E>D)return!1}return!0},b=A=>{const _=String(r||"").toLowerCase();return _?_==="pending"?["follow_up","proposal","inquiry"].includes(String(A.type||"").toLowerCase()):_==="followup"?["follow_up","meeting"].includes(String(A.type||"").toLowerCase()):!(_==="coldcalls"||_==="duplicate"):!0},j=v.filter(A=>b(A)&&(!e||A.employeeName===e)&&g(A.createdAt)),k=A=>{if(f)return"border-white bg-[var(--lm-muted-surface)]";switch(A){case"high":return"dark:bg-red-900/20 dark:border-red-700";case"medium":return"dark:bg-yellow-900/20 dark:border-yellow-700";case"low":return"dark:bg-green-900/20 dark:border-green-700";default:return"dark:bg-gray-800 dark:border-gray-600"}},S=A=>{switch(A){case"high":return"bg-red-500";case"medium":return"bg-yellow-500";case"low":return"bg-green-500";default:return"bg-gray-500"}},N=A=>{switch(A){case"follow_up":return s.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})});case"proposal":return s.jsx("svg",{className:"w-4 h-4 text-purple-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z"})});case"inquiry":return s.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})});case"support":return s.jsx("svg",{className:"w-4 h-4 text-orange-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})});case"meeting":return s.jsx("svg",{className:"w-4 h-4 text-indigo-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})});default:return s.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})})}};return s.jsxs(s.Fragment,{children:[s.jsx("style",{children:p}),s.jsxs("div",{className:`overflow-x-auto scrollbar-thin-blue ${j.length>5?"max-h-80 overflow-y-auto":""}`,children:[s.jsx("div",{className:"sm:hidden space-y-3",children:j.map(A=>s.jsxs("div",{className:`p-3 rounded-lg border ${k(A.priority)} hover:shadow-md transition-shadow`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[N(A.type),s.jsx("div",{className:`w-2 h-2 rounded-full ${S(A.priority)}`})]}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:A.timestamp})]}),s.jsxs("div",{className:"space-y-2 mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:`text-xs font-medium ${f?"text-gray-700":"text-gray-400"}`,children:[n("Employee"),":"]}),s.jsx("span",{className:`text-sm font-medium ${f?"text-gray-900":"text-gray-200"}`,children:A.employeeName})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:`text-xs font-medium ${f?"text-gray-700":"text-gray-400"}`,children:[n("Lead"),":"]}),s.jsx("span",{className:`text-sm font-medium ${f?"text-gray-900":"text-gray-200"}`,children:A.leadName})]})]}),s.jsx("div",{className:"mt-2 p-2 bg-[var(--lm-surface)] dark:bg-gray-700 rounded text-sm text-gray-700 dark:text-gray-300",children:A.comment}),s.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[n("Priority"),": ",n(A.priority)]}),s.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[n("Stage"),": ",n(A.type)]})]}),s.jsx("button",{className:"px-3 py-1 text-xs bg-blue-500 hover:bg-blue-600 text-white rounded-md transition-colors",onClick:()=>{o({fullName:A.leadName}),d(!0)},children:n("View Lead")})]})]},A.id))}),s.jsx("div",{className:"hidden sm:block",children:s.jsxs("table",{className:"comments-table w-full min-w-max text-sm text-left",children:[s.jsx("thead",{className:`text-xs uppercase sticky top-0 ${f?"bg-gray-200":"bg-gray-900"}`,children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3",children:n("Employee")}),s.jsx("th",{scope:"col",className:"px-6 py-3",children:n("Lead")}),s.jsx("th",{scope:"col",className:"px-6 py-3",children:n("Last Comments")}),s.jsx("th",{scope:"col",className:"px-6 py-3",children:n("Priority")}),s.jsx("th",{scope:"col",className:"px-6 py-3",children:n("Stage")}),s.jsx("th",{scope:"col",className:"px-6 py-3",children:n("Actions")}),s.jsx("th",{scope:"col",className:"px-6 py-3",children:n("Action time")})]})}),s.jsx("tbody",{children:j.map(A=>s.jsxs("tr",{className:`border-b ${f?"bg-white border-gray-200 hover:bg-gray-50":"bg-gray-800 border-gray-700 dark:hover:bg-blue-900/25"}`,children:[s.jsx("td",{className:"px-6 py-4",children:A.employeeName}),s.jsx("td",{className:"px-6 py-4",children:A.leadName}),s.jsx("td",{className:"px-6 py-4",children:A.comment}),s.jsx("td",{className:"px-6 py-4",children:n(A.priority)}),s.jsx("td",{className:"px-6 py-4",children:n(A.type)}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("button",{className:"px-3 py-1 text-xs bg-blue-500 hover:bg-blue-600 text-white rounded-md transition-colors",onClick:()=>{o({fullName:A.leadName}),d(!0)},children:n("View Lead")})}),s.jsx("td",{className:"px-6 py-4",children:A.timestamp})]},A.id))})]})})]}),s.jsx(K1,{isOpen:c,lead:l,onClose:()=>d(!1),isArabic:i.language==="ar"})]})},Goe=({employee:e,dateFrom:t,dateTo:a,stageFilter:r})=>{const{t:n,i18n:i}=St(),{theme:l}=Ar(),c=!(typeof document<"u"?document.documentElement.classList.contains("dark"):l==="dark"),[d,u]=y.useState(null),[f,p]=y.useState(!1),m=`
    .scrollbar-thin-blue { scrollbar-width: thin; scrollbar-color: #2563eb transparent; }
    .scrollbar-thin-blue::-webkit-scrollbar { width: 8px; }
    .scrollbar-thin-blue::-webkit-scrollbar-track { background: transparent; }
    .scrollbar-thin-blue::-webkit-scrollbar-thumb { background-color: #2563eb; border-radius: 9999px; }
    .scrollbar-thin-blue:hover::-webkit-scrollbar-thumb { background-color: #1d4ed8; }
  `,g=[{id:1,employeeName:" ",leadName:" ",phoneNumber:"+966 50 123 4567",callType:"outgoing",duration:"15:30",timestamp:" 5 ",status:"answered",notes:"       "},{id:2,employeeName:" ",leadName:" ",phoneNumber:"+966 55 234 5678",callType:"incoming",duration:"08:45",timestamp:" 12 ",status:"answered",notes:"   "},{id:3,employeeName:" ",leadName:" ",phoneNumber:"+966 50 345 6789",callType:"outgoing",duration:"22:15",timestamp:" 25 ",status:"answered",notes:"      "},{id:4,employeeName:" ",leadName:" ",phoneNumber:"+966 55 456 7890",callType:"missed",duration:"00:00",timestamp:" ",status:"missed",notes:"    "},{id:5,employeeName:" ",leadName:" ",phoneNumber:"+966 50 567 8901",callType:"incoming",duration:"18:20",timestamp:" ",status:"answered",notes:"    -   "},{id:6,employeeName:" ",leadName:" ",phoneNumber:"+966 50 678 9012",callType:"outgoing",duration:"12:45",timestamp:" 3 ",status:"answered",notes:"      "},{id:7,employeeName:" ",leadName:" ",phoneNumber:"+966 55 789 0123",callType:"incoming",duration:"25:30",timestamp:" 4 ",status:"answered",notes:"     "},{id:8,employeeName:" ",leadName:" ",phoneNumber:"+966 50 890 1234",callType:"missed",duration:"00:00",timestamp:" 5 ",status:"missed",notes:"      "},{id:9,employeeName:" ",leadName:" ",phoneNumber:"+966 55 901 2345",callType:"outgoing",duration:"19:15",timestamp:" 6 ",status:"answered",notes:"      "},{id:10,employeeName:" ",leadName:" ",phoneNumber:"+966 50 012 3456",callType:"incoming",duration:"14:20",timestamp:" 7 ",status:"answered",notes:"      "}].map((_,E)=>({..._,createdAt:new Date(Date.now()-(E+1)*15*60*1e3).toISOString()})),b=_=>{try{const E=new Date(_),D=i.language==="ar"?"ar-EG":"en-US";return new Intl.DateTimeFormat(D,{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(E)}catch{return _||""}},j=_=>{if(!t&&!a)return!0;const E=new Date(_);if(isNaN(E))return!0;const D=new Date(E.getFullYear(),E.getMonth(),E.getDate());if(t){const R=new Date(t);if(R.setHours(0,0,0,0),D<R)return!1}if(a){const R=new Date(a);if(R.setHours(0,0,0,0),D>R)return!1}return!0},k=_=>{const E=String(r||"").toLowerCase();return E?E==="coldcalls"?String(_.callType||"").toLowerCase()==="outgoing":E==="pending"?["incoming","outgoing"].includes(String(_.callType||"").toLowerCase()):E==="followup"?String(_.callType||"").toLowerCase()==="outgoing":E!=="duplicate":!0},S=g.filter(_=>k(_)&&(!e||_.employeeName===e)&&j(_.createdAt)),N=_=>{switch(_){case"outgoing":return s.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})});case"incoming":return s.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M2 5a2 2 0 012-2h12a2 2 0 012 2v10a2 2 0 01-2 2H4a2 2 0 01-2-2V5zm3.293 1.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L7.586 11H5a1 1 0 110-2h2.586l-1.293-1.293a1 1 0 010-1.414zM11 5a1 1 0 011 1v2.586l1.293-1.293a1 1 0 011.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 111.414-1.414L10 8.586V6a1 1 0 011-1z",clipRule:"evenodd"})});case"missed":return s.jsx("svg",{className:"w-4 h-4 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})});default:return null}},A=_=>{switch(_){case"outgoing":return n("Outgoing");case"incoming":return n("Incoming");case"missed":return n("Missed");default:return _}};return s.jsxs(s.Fragment,{children:[s.jsx("style",{children:m}),s.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto scrollbar-thin-blue",children:S.map(_=>s.jsxs("div",{className:`p-3 rounded-lg border hover:shadow-md transition-shadow ${c?_.callType==="missed"?"bg-red-50 border-white":_.callType==="outgoing"?"bg-emerald-50 border-white":"bg-blue-50 border-white":"dark:bg-gray-800 dark:border-gray-700 dark:text-white"}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[N(_.callType),s.jsx("span",{className:`text-xs font-semibold inline-flex items-center px-1.5 py-0.5 rounded ${_.callType==="outgoing"?c?"text-emerald-700 bg-emerald-100 border border-emerald-200":"text-emerald-300 bg-emerald-900/30 border border-emerald-700":_.callType==="incoming"?c?"text-blue-700 bg-blue-100 border border-blue-200":"text-blue-300 bg-blue-900/30 border border-blue-700":_.callType==="missed"?c?"text-red-700 bg-red-100 border border-red-200":"text-red-300 bg-red-900/30 border border-red-700":c?"text-gray-700 bg-gray-100 border border-gray-200":"text-gray-300 bg-gray-900/30 border border-gray-700"}`,children:A(_.callType)})]}),s.jsx("span",{className:`text-xs ${c?"text-gray-800":"dark:text-gray-200"}`,children:b(_.createdAt)})]}),s.jsxs("div",{className:"space-y-1 mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:`text-xs font-semibold ${c?"text-gray-700":"dark:text-gray-200"}`,children:[n("Employee"),":"]}),s.jsx("span",{className:`text-sm ${c?"text-gray-900":"dark:text-white"}`,children:_.employeeName})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:`text-xs font-semibold ${c?"text-gray-700":"dark:text-gray-200"}`,children:[n("Lead"),":"]}),s.jsx("span",{className:`text-sm ${c?"text-gray-900":"dark:text-white"}`,children:_.leadName})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:`text-xs font-semibold ${c?"text-gray-700":"dark:text-gray-200"}`,children:[n("Phone"),":"]}),s.jsx("span",{className:`text-sm ${c?"text-gray-900":"dark:text-white"}`,children:_.phoneNumber})]}),_.duration!=="00:00"&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:`text-xs font-semibold ${c?"text-gray-700":"dark:text-gray-200"}`,children:[n("Duration"),":"]}),s.jsx("span",{className:`text-sm ${c?"text-gray-900":"dark:text-white"}`,children:_.duration})]})]}),_.notes&&s.jsxs("div",{className:"mt-2 p-2 bg-[var(--lm-surface)] dark:bg-gray-700 rounded text-xs text-gray-600 dark:text-white",children:[s.jsxs("span",{className:"font-medium",children:[n("Notes"),":"]})," ",_.notes]}),s.jsx("div",{className:"mt-2 flex justify-end",children:s.jsx("button",{className:"px-3 py-1 text-xs bg-blue-500 hover:bg-blue-600 text-white rounded-md transition-colors",onClick:()=>{u({fullName:_.leadName,mobile:_.phoneNumber}),p(!0)},children:n("View Lead")})})]},_.id))}),s.jsx(K1,{isOpen:f,lead:d,onClose:()=>p(!1),isArabic:i.language==="ar"})]})},bz=({lead:e,position:t,onAction:a,isRtl:r,onMouseEnter:n,onMouseLeave:i,innerRef:l})=>{const o=[{id:"view",icon:gu,label:r?"":"View",color:"text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20"},{id:"call",icon:Ji,label:r?"":"Call",color:"text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20"},{id:"whatsapp",icon:Hl,label:r?"":"WhatsApp",color:"text-green-500 hover:bg-green-50 dark:hover:bg-green-900/20"},{id:"email",icon:Di,label:r?"":"Email",color:"text-purple-600 hover:bg-purple-50 dark:hover:bg-purple-900/20"},{id:"video",icon:fw,label:r?"":"Video",color:"text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20"},{id:"convert",icon:zoe,label:r?" ":"Convert",color:"text-teal-600 hover:bg-teal-50 dark:hover:bg-teal-900/20"},{id:"delete",icon:Px,label:r?"":"Delete",color:"text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20"}];return s.jsx("div",{className:"fixed z-[9999]",style:{left:`${t.x}px`,top:`${t.y}px`,transform:"translate(-50%, -100%)",pointerEvents:"none",userSelect:"none"},children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl border border-gray-200 dark:border-gray-600 p-3 min-w-[220px] max-w-[280px]",style:{pointerEvents:"auto"},ref:l,onMouseEnter:n,onMouseLeave:i,children:[s.jsxs("div",{className:"px-2 py-2 border-b border-gray-200 dark:border-gray-600 mb-3",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:e?.name||e?.leadName||""}),s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:e?.email||e?.phone||e?.mobile||""})]}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:o.map(c=>{const d=c.icon;return s.jsxs("button",{onClick:u=>{u.preventDefault(),u.stopPropagation(),a(c.id)},className:`flex flex-col items-center justify-center p-3 rounded-lg transition-all duration-200 ${c.color} hover:scale-105 hover:shadow-md cursor-pointer`,title:c.label,children:[s.jsx(d,{className:"w-4 h-4 mb-1"}),s.jsx("span",{className:"text-xs font-medium",children:c.label})]},c.id)})}),s.jsx("div",{className:"absolute w-0 h-0 border-l-[6px] border-r-[6px] border-t-[6px] border-transparent border-t-white dark:border-t-gray-800",style:{bottom:"-6px",left:"50%",transform:"translateX(-50%)"}})]})})},Koe=({dateFrom:e,dateTo:t,selectedEmployee:a,stageFilter:r})=>{const{t:n,i18n:i}=St(),{theme:l}=Ar(),o="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='48' height='48' viewBox='0 0 24 24'><rect x='2' y='4' width='12' height='16' rx='3' fill='%23ffffff'/><rect x='2' y='4' width='12' height='4' rx='2' fill='%234285F4'/><rect x='2' y='4' width='4' height='16' rx='2' fill='%2334A853'/><rect x='10' y='4' width='4' height='16' rx='2' fill='%23FBBC05'/><rect x='2' y='16' width='12' height='4' rx='2' fill='%23EA4335'/><polygon points='14,9 22,5 22,19 14,15' fill='%2334A853'/></svg>",c=`
    .scrollbar-thin-blue { scrollbar-width: thin; scrollbar-color: #2563eb transparent; }
    .scrollbar-thin-blue::-webkit-scrollbar { height: 6px; }
    .scrollbar-thin-blue::-webkit-scrollbar-track { background: transparent; }
    .scrollbar-thin-blue::-webkit-scrollbar-thumb { background-color: #2563eb; border-radius: 9999px; }
    .scrollbar-thin-blue:hover::-webkit-scrollbar-thumb { background-color: #1d4ed8; }
  `,d=`
    .icon-whatsapp { color: #25D366; }
    .icon-call { color: #007AFF; }
    .icon-email { color: #FFA726; }
    .icon-preview { color: #616161; }
    .icon-googlemeet { color: #00897B; }
    .btn-preview { background-color: #eeeeee; color: #1f2937; }
    .btn-preview:hover { background-color: #e0e0e0; }
    .btn-addaction { background-color: #2563EB; color: #ffffff; }
    .btn-addaction:hover { background-color: #1D4ED8; }
  `,u="userActionsByDate",f=()=>{try{return JSON.parse(localStorage.getItem(u)||"{}")}catch{return{}}},p=pe=>{try{localStorage.setItem(u,JSON.stringify(pe))}catch{}},[m,v]=y.useState(!1),g=pe=>{try{const ae=f(),ge=pe?.date||new Date().toISOString().slice(0,10),Re=(pe?.title||"").trim()||(pe?.notes?String(pe.notes).slice(0,60):`${pe?.type||"action"}`);ae[ge]=[...ae[ge]||[],Re],p(ae)}finally{v(!1)}},[b,j]=y.useState(null),[k,S]=y.useState(!1),[N,A]=y.useState(!1),[_,E]=y.useState(null),[D,R]=y.useState(null),[I,M]=y.useState({x:0,y:0}),[U,P]=y.useState(!1),F=y.useRef(null),K=y.useRef(null);y.useEffect(()=>{if(N){const pe=document.body.style.overflow;return document.body.style.overflow="hidden",window.scrollTo({top:0,behavior:"smooth"}),()=>{document.body.style.overflow=pe}}},[N]);const V=y.useMemo(()=>{try{const pe=localStorage.getItem("leadsData");if(!pe)return[];const ae=JSON.parse(pe),ge=Array.isArray(ae)?ae:[];return a?ge.filter(Re=>(Re.assignedTo||Re.employee||"").trim()===a):ge}catch(pe){return console.warn("Failed to parse leadsData from localStorage in DelayLeads.",pe?.message),[]}},[a]),J=[{id:"DL-1001",name:"Ahmed Ali",email:"ahmed@example.com",phone:"0501234567",stage:"new",company:"Alpha Co",status:"new",priority:"high",source:"Website",createdAt:new Date(Date.now()-360*3600*1e3).toISOString(),lastContact:new Date(Date.now()-216*3600*1e3).toISOString(),notes:"   "},{id:"DL-1002",name:"Sara Mohamed",email:"sara@example.com",phone:"0559876543",stage:"Duplicate",company:"Beta Ltd",status:"in-progress",priority:"medium",source:"Facebook Ads",createdAt:new Date(Date.now()-504*3600*1e3).toISOString(),lastContact:new Date(Date.now()-288*3600*1e3).toISOString(),notes:"     "},{id:"DL-1003",name:"Hassan Youssef",email:"hassan@example.com",phone:"0563332211",stage:"Pending",company:"Gamma Inc",status:"qualified",priority:"low",source:"Referral",createdAt:new Date(Date.now()-720*3600*1e3).toISOString(),lastContact:new Date(Date.now()-480*3600*1e3).toISOString(),notes:"    "},{id:"DL-1003",name:"Hassan Youssef",email:"hassan@example.com",phone:"0563332211",stage:"Cold Calls",company:"Gamma Inc",status:"qualified",priority:"low",source:"Referral",createdAt:new Date(Date.now()-720*3600*1e3).toISOString(),lastContact:new Date(Date.now()-480*3600*1e3).toISOString(),notes:"    "},{id:"DL-1003",name:"Hassan Youssef",email:"hassan@example.com",phone:"0563332211",stage:"Cold Calls",company:"Gamma Inc",status:"qualified",priority:"low",source:"Referral",createdAt:new Date(Date.now()-720*3600*1e3).toISOString(),lastContact:new Date(Date.now()-480*3600*1e3).toISOString(),notes:"    "},{id:"DL-1003",name:"Hassan Youssef",email:"hassan@example.com",phone:"0563332211",stage:"Cold Calls",company:"Gamma Inc",status:"qualified",priority:"low",source:"Referral",createdAt:new Date(Date.now()-720*3600*1e3).toISOString(),lastContact:new Date(Date.now()-480*3600*1e3).toISOString(),notes:"    "}],Q=V.length>0?V:J,z=y.useMemo(()=>["new","duplicate","pending","coldcalls","followup"],[]),X=7,le=pe=>{const ae=(pe?.notes||"").toLowerCase();return ae.includes("meeting")||ae.includes("")?"followUpAfterMeeting":ae.includes("reschedule")||ae.includes("")?"rescheduleMeeting":ae.includes("no answer")||ae.includes(" ")?"noAnswer1stCall":"followUp"},O=pe=>{const ae=String(pe?.status||"").toLowerCase(),ge=String(pe?.stage||"").toLowerCase(),Re=String(pe?.source||"").toLowerCase(),ue=String(pe?.callType||"").toLowerCase(),Se=(gt=>String(gt||"").toLowerCase().replace(/\s+/g,"").replace(/-/g,""))(ge);if(Se){if(Se==="new")return"new";if(Se==="duplicate")return"duplicate";if(Se==="inprogress"||Se==="pending")return"pending";if(Se==="coldcalls"||Se==="coldcall")return"coldcalls";if(Se==="followup")return"followup"}const Ne=String(ge||""),Ye=String(ae||"");return Ne.includes("")||Ye.includes("")?"new":Ne.includes("")||Ye.includes("")?"duplicate":Ne.includes("")||Ye.includes("")||Ne.includes("")||Ye.includes("")?"pending":Ne.includes(" ")||Ne.includes(" ")||Ne.includes("")||Ye.includes(" ")||Ye.includes(" ")?"coldcalls":Ne.includes("")||Ye.includes("")?"followup":ge==="new"||ae==="new"?"new":pe?.isDuplicate===!0||String(pe?.duplicateStatus||"").toLowerCase()==="duplicate"?"duplicate":ge==="in-progress"||ae==="in-progress"||ae==="pending"?"pending":Re==="cold-call"||Re==="direct"||Re==="coldcalls"?"coldcalls":ue==="follow-up"||ge==="follow-up"||ae==="follow-up"?"followup":"new"},q=pe=>{const ae=String(pe?.status||""),ge=ae.toLowerCase().replace(/\s+/g,"").replace(/-/g,""),Re=ae.includes("")||ae.includes("")||ae.includes("")||ae.includes(" ")||ae.includes("");if(!(ge==="new"||ge==="qualified"||ge==="inprogress"||Re))return!1;const Z=pe?.lastContact||pe?.createdAt,Se=new Date(Z);return isNaN(Se)?!1:Math.floor((new Date-Se)/(1e3*60*60*24))>X},W=y.useMemo(()=>Q.filter(q).map(ae=>({id:ae.id,name:ae.name,email:ae.email,phone:ae.phone,company:ae.company,status:ae.status,priority:ae.priority,source:ae.source,createdAt:ae.createdAt,lastContact:ae.lastContact,notes:ae.notes,employeeName:ae.assignedTo||ae.employee||"",leadName:ae.name,mobile:ae.phone?`(${String(ae.phone).slice(0,3)}*****)`:"",actionDate:ae.lastContact||ae.createdAt,lastComment:ae.notes||"",category:le(ae),pipelineStage:O(ae)})),[Q]),te=pe=>{try{const ae=new Date(pe);return new Intl.DateTimeFormat(i.language==="ar"?"ar-EG":"en-US",{year:"numeric",month:"2-digit",day:"2-digit"}).format(ae)}catch{return pe||""}},re=pe=>{const ae=String(pe||"").toLowerCase(),ge=i.language==="ar",Re=ae==="new"?ge?"":"New":ae==="duplicate"?ge?"":"Duplicate":ae==="pending"?ge?"":"Pending":ae==="coldcalls"?ge?" ":"Cold Calls":ae==="followup"?ge?"":"Follow-up":pe||"-";if(ye){const Z=ae==="new"?"bg-green-100/60 text-green-700 border border-green-300":ae==="duplicate"?"bg-red-100/60 text-red-700 border border-red-300":ae==="pending"?"bg-yellow-100/60 text-yellow-700 border border-yellow-300":ae==="coldcalls"?"bg-orange-100/60 text-orange-700 border border-orange-300":ae==="followup"?"bg-purple-100/60 text-purple-700 border border-purple-300":"bg-gray-100 text-gray-700 border border-gray-300";return s.jsx("span",{className:`inline-flex items-center text-[11px] font-semibold px-1.5 py-[2px] rounded-md ${Z}`,children:Re})}const ue=ae==="new"?"dark:bg-green-500/20 dark:text-green-200 dark:border dark:border-green-500":ae==="duplicate"?"dark:bg-red-500/20 dark:text-red-200 dark:border dark:border-red-500":ae==="pending"?"dark:bg-yellow-500/20 dark:text-yellow-200 dark:border dark:border-yellow-500":ae==="coldcalls"?"dark:bg-orange-500/20 dark:text-orange-200 dark:border dark:border-orange-500":ae==="followup"?"dark:bg-purple-500/20 dark:text-purple-200 dark:border dark:border-purple-500":"dark:bg-gray-500/20 dark:text-gray-200 dark:border dark:border-gray-500";return s.jsx("span",{className:`inline-flex items-center text-[11px] font-semibold px-1.5 py-[2px] rounded-md ${ue}`,children:Re})},oe=pe=>{if(!e&&!t)return!0;const ae=new Date(pe);if(isNaN(ae))return!0;const ge=new Date(ae.getFullYear(),ae.getMonth(),ae.getDate());if(e){const Re=new Date(e);if(Re.setHours(0,0,0,0),ge<Re)return!1}if(t){const Re=new Date(t);if(Re.setHours(0,0,0,0),ge>Re)return!1}return!0},ce=y.useMemo(()=>{const pe=Object.fromEntries(z.map(ge=>[ge,0]));return W.filter(ge=>oe(ge.actionDate)).forEach(ge=>{const Re=String(ge?.pipelineStage||"").toLowerCase(),ue=z.find(Z=>String(Z).toLowerCase()===Re);ue&&(pe[ue]=(pe[ue]||0)+1)}),pe},[W,e,t,z]),G=y.useMemo(()=>{const pe=W.filter(Z=>oe(Z.actionDate)),ae=Z=>{const Se=String(b||"").toLowerCase();if(!Se)return!0;const Ne=String(Z?.pipelineStage||"").toLowerCase();return Se?Ne===Se:!0},ge=pe.filter(ae);return ge.length>0?ge:J.map(Z=>({id:Z.id,name:Z.name,email:Z.email,phone:Z.phone,company:Z.company,status:Z.status,priority:Z.priority,source:Z.source,createdAt:Z.createdAt,lastContact:Z.lastContact,notes:Z.notes,leadName:Z.name,mobile:Z.phone?`(${String(Z.phone).slice(0,3)}*****)`:"",actionDate:Z.lastContact||Z.createdAt,lastComment:Z.notes||"",category:le(Z),pipelineStage:O(Z)})).filter(Z=>oe(Z.actionDate)).filter(ae)},[W,b,e,t]),ie=G.length>5,ye=l==="light",se=ye?"bg-gray-100":"bg-gray-900",Ie=ye?"text-gray-800":"text-gray-100";return y.useEffect(()=>{const pe=ae=>{U&&(F.current&&F.current.contains(ae.target)||K.current&&K.current.contains(ae.target)||(P(!1),R(null),K.current=null))};return document.addEventListener("mousedown",pe),()=>document.removeEventListener("mousedown",pe)},[U]),s.jsxs("div",{className:`p-4 ${se} h-full overflow-auto rounded-lg shadow-md border ${ye?"border-gray-200":"border-gray-700"} ${Ie}`,children:[s.jsx("div",{className:"hidden",children:(()=>{const pe=z.map(ae=>({key:ae,label:ae,count:ce[ae]||0}));return s.jsxs(s.Fragment,{children:[pe.slice(0,2).map(ae=>s.jsxs("button",{onClick:()=>j(ae.key),className:`px-3 py-2 text-xs sm:px-2 sm:py-1 sm:text-sm rounded ${b===ae.key?"bg-blue-600 text-white":ye?"text-gray-600 hover:bg-gray-100":"text-gray-300 hover:bg-gray-700"}`,children:[s.jsx("span",{children:ae.label}),s.jsx("span",{className:"ml-1",children:ae.count})]},ae.key)),!k&&pe.length>2&&s.jsxs("button",{onClick:()=>S(!0),className:`px-3 py-2 text-xs sm:px-2 sm:py-1 sm:text-sm rounded border-2 border-dashed ${ye?"border-blue-300 bg-blue-50 text-blue-600":"border-blue-600 bg-blue-900/20 text-blue-400"}`,children:[s.jsxs("span",{className:"hidden sm:inline",children:[n("Show More")," (",pe.length-2,")"]}),s.jsxs("span",{className:"sm:hidden",children:["+",pe.length-2]})]}),k&&pe.slice(2).map(ae=>s.jsxs("button",{onClick:()=>j(ae.key),className:`px-3 py-2 text-xs sm:px-2 sm:py-1 sm:text-sm rounded ${b===ae.key?"bg-blue-600 text-white":ye?"text-gray-600 hover:bg-gray-100":"text-gray-300 hover:bg-gray-700"}`,children:[s.jsx("span",{children:ae.label}),s.jsx("span",{className:"ml-1",children:ae.count})]},ae.key)),b&&s.jsx("button",{onClick:()=>j(null),className:`px-3 py-2 text-xs sm:px-2 sm:py-1 sm:text-sm rounded ${ye?"text-gray-600 hover:bg-gray-100":"text-gray-300 hover:bg-gray-700"}`,children:n("Show All")}),k&&s.jsxs("button",{onClick:()=>S(!1),className:`px-3 py-2 text-xs sm:px-2 sm:py-1 sm:text-sm rounded border-2 border-dashed ${ye?"border-gray-300 bg-gray-50 text-gray-600":"border-gray-600 bg-gray-800 text-gray-400"}`,children:[s.jsx("span",{className:"hidden sm:inline",children:n("Show Less")}),s.jsx("span",{className:"sm:hidden",children:""})]})]})})()}),s.jsx("style",{children:c}),s.jsx("style",{children:d}),s.jsxs("div",{className:`overflow-x-auto scrollbar-thin-blue ${ie?"max-h-80 overflow-y-auto":""}`,children:[s.jsx("div",{className:"sm:hidden",children:G.map((pe,ae)=>s.jsxs("div",{className:`p-3 mb-2 rounded-lg border ${ye?"bg-white border-gray-200":"bg-gray-800 border-gray-700"} cursor-default`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-sm",children:pe.leadName}),s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:pe.mobile}),s.jsx("div",{className:"mt-1",children:re(pe.pipelineStage)})]}),s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:te(pe.actionDate)})]}),s.jsx("div",{className:"text-sm mb-3",children:pe.lastComment}),s.jsxs("div",{className:"flex items-center justify-end gap-2 flex-nowrap",children:[s.jsx("button",{title:n("Preview"),onClick:ge=>{ge.stopPropagation(),E(pe),A(!0)},className:`inline-flex items-center justify-center ${ye?"text-gray-700 hover:text-blue-500":"text-indigo-300 hover:text-indigo-400"}`,children:s.jsx(gu,{size:16,className:`${ye?"text-gray-700":"text-indigo-300"}`})}),s.jsx("button",{title:n("Add Action"),onClick:ge=>{ge.stopPropagation(),E(pe),v(!0)},className:`inline-flex items-center justify-center ${ye?"text-gray-700 hover:text-blue-500":"text-emerald-300 hover:text-emerald-400"}`,children:s.jsx(ho,{size:16,className:`${ye?"text-gray-700":"text-emerald-300"}`})}),s.jsx("button",{title:n("Call"),onClick:ge=>{ge.stopPropagation();const Re=pe.phone||pe.mobile||"",ue=String(Re).replace(/[^0-9]/g,"");ue&&window.open(`tel:${ue}`)},className:"inline-flex items-center justify-center text-blue-600 dark:text-blue-400 hover:text-blue-500",children:s.jsx(Ji,{size:16,className:"icon-call"})}),s.jsx("button",{title:"WhatsApp",onClick:ge=>{ge.stopPropagation();const Re=pe.phone||pe.mobile||"",ue=String(Re).replace(/[^0-9]/g,"");ue&&window.open(`https://wa.me/${ue}`)},className:"inline-flex items-center justify-center text-green-600 dark:text-green-400 hover:text-green-500",children:s.jsx(Hl,{size:16,className:"icon-whatsapp"})}),s.jsx("button",{title:n("Email"),onClick:ge=>{ge.stopPropagation(),pe.email&&window.open(`mailto:${pe.email}`)},className:"inline-flex items-center justify-center text-gray-700 dark:text-gray-200 hover:text-blue-500",children:s.jsx(Di,{size:16,className:"icon-email"})}),s.jsx("button",{title:"Google Meet",onClick:ge=>{ge.stopPropagation(),window.open("https://meet.google.com/","_blank")},className:"inline-flex items-center justify-center text-gray-700 dark:text-gray-200 hover:text-blue-500",children:s.jsx("img",{src:o,alt:"Google Meet",className:"w-4 h-4"})})]})]},ae))}),s.jsx("div",{className:"hidden sm:block",children:s.jsxs("table",{dir:i.dir()==="rtl"?"rtl":"ltr",className:`delay-table w-full min-w-max text-sm ${i.dir()==="rtl"?"text-right":"text-left"}`,children:[s.jsx("thead",{className:"text-xs uppercase",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3",children:n("Lead Name")}),s.jsx("th",{scope:"col",className:"px-6 py-3",children:n("Mobile")}),s.jsx("th",{scope:"col",className:"px-6 py-3",children:n("Actions")}),s.jsx("th",{scope:"col",className:"px-6 py-3",children:n("Employee")}),s.jsx("th",{scope:"col",className:"px-6 py-3",children:n("Stage")}),s.jsx("th",{scope:"col",className:"px-6 py-3",children:n("Last Comment")}),s.jsx("th",{scope:"col",className:"px-6 py-3",children:n("Action Date")})]})}),s.jsx("tbody",{children:G.map((pe,ae)=>s.jsxs("tr",{className:`border-b ${ye?"bg-white border-gray-200 hover:bg-gray-50":"bg-gray-800 border-gray-700 dark:hover:bg-blue-900/25 dark:hover:shadow-md dark:hover:shadow-black/40"}`,children:[s.jsx("td",{className:"px-6 py-4",children:pe.leadName}),s.jsx("td",{className:"px-6 py-4",children:pe.mobile}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-2 flex-nowrap",children:[s.jsx("button",{title:n("Preview"),onClick:ge=>{ge.stopPropagation(),E(pe),A(!0)},className:`inline-flex items-center justify-center ${ye?"text-gray-700 hover:text-blue-500":"text-indigo-300 hover:text-indigo-400"}`,children:s.jsx(gu,{size:16,className:`${ye?"text-gray-700":"text-indigo-300"}`})}),s.jsx("button",{title:n("Add Action"),onClick:ge=>{ge.stopPropagation(),E(pe),v(!0)},className:`inline-flex items-center justify-center ${ye?"text-gray-700 hover:text-blue-500":"text-emerald-300 hover:text-emerald-400"}`,children:s.jsx(ho,{size:16,className:`${ye?"text-gray-700":"text-emerald-300"}`})}),s.jsx("button",{title:n("Call"),onClick:ge=>{ge.stopPropagation();const Re=pe.phone||pe.mobile||"",ue=String(Re).replace(/[^0-9]/g,"");ue&&window.open(`tel:${ue}`)},className:"inline-flex items-center justify-center text-blue-600 dark:text-blue-400 hover:text-blue-500",children:s.jsx(Ji,{size:16,className:"icon-call"})}),s.jsx("button",{title:"WhatsApp",onClick:ge=>{ge.stopPropagation();const Re=pe.phone||pe.mobile||"",ue=String(Re).replace(/[^0-9]/g,"");ue&&window.open(`https://wa.me/${ue}`)},className:"inline-flex items-center justify-center text-green-600 dark:text-green-400 hover:text-green-500",children:s.jsx(Hl,{size:16,className:"icon-whatsapp"})}),s.jsx("button",{title:n("Email"),onClick:ge=>{ge.stopPropagation(),pe.email&&window.open(`mailto:${pe.email}`)},className:"inline-flex items-center justify-center text-gray-700 dark:text-gray-200 hover:text-blue-500",children:s.jsx(Di,{size:16,className:"icon-email"})}),s.jsx("button",{title:"Google Meet",onClick:ge=>{ge.stopPropagation(),window.open("https://meet.google.com/","_blank")},className:"inline-flex items-center justify-center text-gray-700 dark:text-gray-200 hover:text-blue-500",children:s.jsx("img",{src:o,alt:"Google Meet",className:"w-4 h-4"})})]})}),s.jsx("td",{className:"px-6 py-4",children:pe.employeeName||"-"}),s.jsx("td",{className:`px-6 py-4 ${ye?"stage-cell":""}`,children:re(pe.pipelineStage)}),s.jsx("td",{className:"px-6 py-4",children:pe.lastComment}),s.jsx("td",{className:"px-6 py-4",children:te(pe.actionDate)})]},ae))})]})})]}),N&&s.jsx(K1,{isOpen:N,onClose:()=>{A(!1),E(null)},lead:_,isArabic:i.language==="ar",theme:l}),m&&s.jsx(Mx,{isOpen:!0,onClose:()=>v(!1),onSave:g,lead:_})]})};Ls.register(Bn,$n,Xn,Sl,hi,Dx,yn,bn);const Yoe=({data:e,chartType:t="bar",filters:a={},legendLabel:r="No. of Leads"})=>{const{t:n,i18n:i}=St(),l=i.language||"en",{theme:o}=Ar(),c=o==="light",d=typeof window<"u"&&window.innerWidth<=480,u=l==="ar"?"":"Months",f=l==="ar"?"  ":"No. of Leads",[p,m]=y.useState([]),[v,g]=y.useState(0),[b,j]=y.useState(!1),[k,S]=y.useState(""),[N,A]=y.useState({employee:"",stage:"",leadName:"",dateFrom:"",dateTo:"",valueMin:"",valueMax:""});n("New"),n("Contacted"),n("Qualified"),n("Proposal"),n("Negotiation"),n("Closed Won"),n("Closed Lost");const _={monthly:[{label:n("January"),value:120,converted:45,lost:25,inProgress:50,employee:" ",stage:"qualified",leadName:" ",date:"2024-01-15"},{label:n("February"),value:98,converted:38,lost:20,inProgress:40,employee:" ",stage:"contacted",leadName:" ",date:"2024-02-10"},{label:n("March"),value:145,converted:55,lost:30,inProgress:60,employee:" ",stage:"proposal",leadName:" ",date:"2024-03-20"},{label:n("April"),value:167,converted:62,lost:35,inProgress:70,employee:" ",stage:"new",leadName:" ",date:"2024-04-05"},{label:n("May"),value:134,converted:48,lost:28,inProgress:58,employee:" ",stage:"negotiation",leadName:" ",date:"2024-05-12"},{label:n("June"),value:189,converted:71,lost:40,inProgress:78,employee:" ",stage:"closed_won",leadName:" ",date:"2024-06-18"},{label:n("July"),value:175,converted:68,lost:36,inProgress:71,employee:" ",stage:"qualified",leadName:" ",date:"2024-07-14"},{label:n("August"),value:160,converted:63,lost:31,inProgress:66,employee:" ",stage:"proposal",leadName:" ",date:"2024-08-09"},{label:n("September"),value:142,converted:56,lost:29,inProgress:57,employee:" ",stage:"contacted",leadName:" ",date:"2024-09-21"},{label:n("October"),value:153,converted:60,lost:30,inProgress:63,employee:" ",stage:"negotiation",leadName:" ",date:"2024-10-11"},{label:n("November"),value:171,converted:67,lost:34,inProgress:70,employee:" ",stage:"qualified",leadName:" ",date:"2024-11-16"},{label:n("December"),value:196,converted:74,lost:41,inProgress:81,employee:" ",stage:"closed_won",leadName:" ",date:"2024-12-19"}],weekly:[{label:n("Week 1"),value:45,converted:18,lost:8,inProgress:19},{label:n("Week 2"),value:52,converted:22,lost:10,inProgress:20},{label:n("Week 3"),value:38,converted:15,lost:7,inProgress:16},{label:n("Week 4"),value:61,converted:25,lost:12,inProgress:24}],bySource:[{label:n("Website"),value:245,converted:98,lost:47,inProgress:100},{label:n("Social Media"),value:189,converted:76,lost:38,inProgress:75},{label:n("Email Campaign"),value:156,converted:62,lost:31,inProgress:63},{label:n("Referral"),value:134,converted:54,lost:27,inProgress:53},{label:n("Direct"),value:98,converted:39,lost:20,inProgress:39}],byStatus:[{label:n("New"),value:234,color:"#3B82F6"},{label:n("Contacted"),value:189,color:"#10B981"},{label:n("Qualified"),value:145,color:"#F59E0B"},{label:n("Proposal"),value:98,color:"#8B5CF6"},{label:n("Negotiation"),value:67,color:"#EF4444"},{label:n("Closed Won"),value:156,color:"#059669"},{label:n("Closed Lost"),value:89,color:"#DC2626"}]},E=P=>{let F=P;k&&(F=F.filter(Q=>Q.label?.toLowerCase().includes(k.toLowerCase())||Q.leadName?.toLowerCase().includes(k.toLowerCase())||Q.employee?.toLowerCase().includes(k.toLowerCase())));const K=a?.employee||N.employee,V=a?.dateFrom||N.dateFrom,J=a?.dateTo||N.dateTo;return K&&(F=F.filter(Q=>Q.employee===K)),N.stage&&(F=F.filter(Q=>Q.stage===N.stage)),N.leadName&&(F=F.filter(Q=>Q.leadName?.toLowerCase().includes(N.leadName.toLowerCase()))),V&&(F=F.filter(Q=>{const z=new Date(Q.date),X=new Date(V);return z>=X})),J&&(F=F.filter(Q=>{const z=new Date(Q.date),X=new Date(J);return z<=X})),N.valueMin&&(F=F.filter(Q=>Q.value>=parseFloat(N.valueMin))),N.valueMax&&(F=F.filter(Q=>Q.value<=parseFloat(N.valueMax))),F};y.useEffect(()=>{const P=e||_[a.dataType||"monthly"],F=E(P);m(F),g(t==="pie"||t==="doughnut"?F.reduce((K,V)=>K+V.value,0):Math.max(...F.map(K=>K.value))*1.2)},[e,a,t,k,N]);const D=()=>{const P=p.map(J=>J.label),F=p.map(J=>J.value||0),K={labels:P,datasets:[{label:n(r),data:F,backgroundColor:"rgba(59, 130, 246, 0.7)",borderColor:"rgba(59, 130, 246, 1)",borderWidth:1,borderSkipped:!1,borderRadius:6,maxBarThickness:36}]},V={responsive:!0,maintainAspectRatio:!1,devicePixelRatio:2,plugins:{legend:{position:"top",display:!0,labels:{usePointStyle:!0,boxWidth:8,color:c?"#0f172a":"#ffffff",font:{size:d?10:12}}},tooltip:{enabled:!0}},scales:{x:{grid:{display:!1},ticks:{maxRotation:0,minRotation:0,color:c?"#0f172a":"#ffffff",font:{size:d?10:12}},title:{display:!0,text:u,color:c?"#0f172a":"#ffffff",font:{size:d?10:13,weight:600}}},y:{beginAtZero:!0,grid:{display:!0,color:c?"rgba(15,23,42,0.08)":"rgba(255,255,255,0.12)"},ticks:{precision:0,color:c?"#0f172a":"#ffffff",font:{size:d?10:12}},title:{display:!0,text:f,color:c?"#0f172a":"#ffffff",font:{size:d?10:13,weight:600}}}}};return s.jsx("div",{className:"w-full h-40 sm:h-48 px-2",children:s.jsx(Vr,{data:K,options:V})})},R=()=>{const P=p.map(z=>z.label),F=p.map(z=>z.converted||0),K=p.map(z=>z.inProgress||0),V=p.map(z=>z.lost||0),J={labels:P,datasets:[{label:n("Converted"),data:F,backgroundColor:"#22c55e",stack:"status"},{label:n("In Progress"),data:K,backgroundColor:"#eab308",stack:"status"},{label:n("Lost"),data:V,backgroundColor:"#ef4444",stack:"status"}]},Q={responsive:!0,maintainAspectRatio:!1,devicePixelRatio:2,plugins:{legend:{position:"top",labels:{usePointStyle:!0,boxWidth:8,color:c?"#0f172a":"#ffffff",font:{size:d?10:12}}},tooltip:{enabled:!0}},scales:{x:{stacked:!0,grid:{display:!1},ticks:{maxRotation:0,minRotation:0,color:c?"#0f172a":"#ffffff",font:{size:d?10:12}},title:{display:!0,text:u,color:c?"#0f172a":"#ffffff",font:{size:d?10:13,weight:600}}},y:{stacked:!0,beginAtZero:!0,grid:{display:!0},ticks:{precision:0,color:c?"#0f172a":"#ffffff",font:{size:d?10:12}},title:{display:!0,text:f,color:c?"#0f172a":"#ffffff",font:{size:d?10:13,weight:600}}}}};return s.jsx("div",{className:"w-full h-40 sm:h-48 px-2",children:s.jsx(Vr,{data:J,options:Q})})},I=()=>{const P=p.map(J=>J.label),F=p.map(J=>J.value||0),K={labels:P,datasets:[{label:n(r),data:F,borderColor:"#3B82F6",backgroundColor:"rgba(59, 130, 246, 0.15)",tension:.35,pointRadius:3,pointBackgroundColor:"#3B82F6",fill:!0}]},V={responsive:!0,maintainAspectRatio:!1,devicePixelRatio:2,plugins:{legend:{position:"top",display:!0,labels:{usePointStyle:!0,boxWidth:8,color:c?"#0f172a":"#ffffff",font:{size:d?10:12}}},tooltip:{enabled:!0}},scales:{x:{grid:{display:!1},ticks:{maxRotation:0,minRotation:0,color:c?"#0f172a":"#ffffff",font:{size:d?10:12}},title:{display:!0,text:u,color:c?"#0f172a":"#ffffff",font:{size:d?10:13,weight:600}}},y:{beginAtZero:!0,grid:{display:!0},ticks:{precision:0,color:c?"#0f172a":"#ffffff",font:{size:d?10:12}},title:{display:!0,text:f,color:c?"#0f172a":"#ffffff",font:{size:d?10:13,weight:600}}}}};return s.jsx("div",{className:"w-full h-40 sm:h-48 px-2",children:s.jsx(yo,{data:K,options:V})})},M=()=>{const P=p.reduce((V,J)=>V+(J.value||0),0),F=["#2563eb","#06b6d4","#22c55e","#a3e635","#f59e0b","#f97316","#ef4444","#f43f5e","#a78bfa","#8b5cf6"],K=p.map((V,J)=>({label:V.label,value:V.value||0,color:F[J%F.length]}));return s.jsxs("div",{className:"flex items-center justify-center h-48",children:[s.jsx(di,{segments:K,centerValue:P,centerLabel:n("Total Leads"),size:192}),s.jsx("div",{className:"ml-6 space-y-2",children:K.map((V,J)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:V.color}}),s.jsx("span",{className:"text-sm",style:{color:c?"#0f172a":"#ffffff"},children:V.label}),s.jsx("span",{className:"text-sm font-medium",style:{color:c?"#0f172a":"#ffffff"},children:V.value})]},J))})]})},U=()=>{switch(t){case"bar":return D();case"stackedBar":return R();case"line":return I();case"pie":return M();default:return D()}};return s.jsx("div",{className:"w-full",children:U()})},Wy=({title:e,value:t,change:a,changeType:r,icon:n,color:i,compact:l=!1})=>{const{theme:o}=Ar(),c=o==="light",d=()=>r==="positive"?"text-green-600 dark:text-green-400":r==="negative"?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400",u=()=>r==="positive"?"":r==="negative"?"":"";return s.jsxs("div",{className:`relative bg-transparent ${l?"p-2":"p-3"} rounded-lg shadow-none border-none h-full flex flex-col justify-between`,children:[s.jsxs("div",{className:`flex items-center justify-between ${l?"mb-0.5":"mb-1.5"}`,children:[s.jsx("div",{className:`rounded-lg ${l?"p-1":"p-1.5"} ${i}`,children:s.jsx("span",{className:`text-white ${l?"text-sm":"text-base"}`,children:n})}),s.jsxs("div",{className:`${l?"text-[10px]":"text-xs"} font-medium ${d()}`,children:[u()," ",a]})]}),s.jsx("h4",{className:`${l?"text-[11px]":"text-xs"} font-semibold ${c?"text-black":"text-white"} ${l?"mb-0":"mb-1"}`,children:e}),s.jsx("p",{className:`${l?"text-base":"text-xl"} font-bold ${c?"text-black":"text-white"}`,children:t})]})};function Xoe(e){return(e||[]).map(t=>typeof t=="string"?{value:t,label:t}:{value:t.value,label:t.label??String(t.value)})}function ss({options:e,value:t,onChange:a,placeholder:r,className:n="",disabled:i=!1,children:l,menuWidth:o,usePortal:c=!0}){const{i18n:d}=St(),u=d.language==="ar",{theme:f}=Ar(),p=f==="light",m=y.useMemo(()=>{if(!e&&l){const R=[];return Ws.Children.forEach(l,I=>{if(!(!I||typeof I!="object")&&I.type==="option"){const M=I.props?.value??(Array.isArray(I.props?.children)?I.props.children.join(" "):I.props?.children),U=Array.isArray(I.props?.children)?I.props.children.join(" "):I.props?.children;R.push({value:String(M??U??""),label:String(U??M??"")})}}),R}return Xoe(e)},[e,l]),[v,g]=y.useState(!1),[b,j]=y.useState(""),k=y.useRef(null),S=y.useRef(null),N=y.useRef(null),[A,_]=y.useState({}),E=y.useMemo(()=>{const R=(b||"").toLowerCase();return R?m.filter(I=>(I.label||"").toLowerCase().includes(R)):m},[m,b]),D=y.useMemo(()=>{const R=m.find(I=>I.value===t);return R?R.label:""},[m,t]);return y.useEffect(()=>{const R=I=>{if(!k.current)return;const M=k.current.contains(I.target),U=S.current&&S.current.contains(I.target);!M&&!U&&g(!1)};return document.addEventListener("mousedown",R),()=>document.removeEventListener("mousedown",R)},[]),y.useEffect(()=>{const R=()=>{if(!v||!k.current)return;const M=k.current.getBoundingClientRect();_(c?{position:"fixed",left:`${M.left}px`,top:`${M.bottom+4}px`,width:o?`${o}px`:`${M.width}px`,zIndex:9999}:{position:"absolute",left:0,top:"calc(100% + 4px)",width:o?`${o}px`:"100%",zIndex:9999})};if(R(),!v)return;const I=()=>R();return window.addEventListener("resize",I),window.addEventListener("scroll",I,!0),()=>{window.removeEventListener("resize",I),window.removeEventListener("scroll",I,!0)}},[v]),y.useEffect(()=>{if(v&&N.current)try{N.current.focus({preventScroll:!0})}catch{N.current.focus()}},[v]),s.jsxs("div",{ref:k,className:`relative ${i?"opacity-60 pointer-events-none":""}`,children:[s.jsxs("button",{type:"button",className:`input w-full flex items-center justify-between ${n}`,onClick:()=>g(R=>!R),"aria-haspopup":"listbox","aria-expanded":v,children:[s.jsx("span",{className:`truncate ${D?"":"text-[var(--muted-text)]"}`,children:D||(r??(u?"...":"Select..."))}),s.jsx("svg",{className:"w-4 h-4 opacity-80",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M6 9l6 6 6-6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),v&&(c?lx.createPortal(s.jsxs("div",{ref:S,style:A,className:`rounded-md shadow-xl ${p?"bg-white border border-gray-200":"bg-gray-900/95 border border-gray-700"}`,onMouseDown:R=>R.stopPropagation(),children:[s.jsx("div",{className:"p-2 border-b border-base-300",children:s.jsx("input",{className:"input input-sm w-full",placeholder:u?" ...":"Type to search...",value:b,onChange:R=>j(R.target.value),ref:N})}),s.jsxs("ul",{role:"listbox",className:"max-h-44 overflow-auto py-1",children:[E.length===0&&s.jsx("li",{className:"px-3 py-2 text-sm text-[var(--muted-text)]",children:u?"  ":"No results"}),E.map(R=>s.jsx("li",{role:"option","aria-selected":R.value===t,className:`px-3 py-2 text-sm cursor-pointer hover:bg-[var(--table-row-hover)] ${R.value===t?"bg-[var(--table-row-hover)]":""} ${p?"text-gray-900":"text-gray-100"}`,onClick:()=>{a&&a(R.value),g(!1),j("")},children:R.label},R.value))]})]}),document.body):s.jsxs("div",{ref:S,style:A,className:`rounded-md shadow-xl ${p?"bg-white border border-gray-200":"bg-gray-900/95 border border-gray-700"}`,onMouseDown:R=>R.stopPropagation(),children:[s.jsx("div",{className:"p-2 border-b border-base-300",children:s.jsx("input",{className:"input input-sm w-full",placeholder:u?" ...":"Type to search...",value:b,onChange:R=>j(R.target.value),ref:N})}),s.jsxs("ul",{role:"listbox",className:"max-h-44 overflow-auto py-1",children:[E.length===0&&s.jsx("li",{className:"px-3 py-2 text-sm text-[var(--muted-text)]",children:u?"  ":"No results"}),E.map(R=>s.jsx("li",{role:"option","aria-selected":R.value===t,className:`px-3 py-2 text-sm cursor-pointer hover:bg-[var(--table-row-hover)] ${R.value===t?"bg-[var(--table-row-hover)]":""} ${p?"text-gray-900":"text-gray-100"}`,onClick:()=>{a&&a(R.value),g(!1),j("")},children:R.label},R.value))]})]}))]})}const Joe=()=>{const{t:e,i18n:t}=St(),{theme:a}=Ar(),r=a==="light",[n,i]=y.useState(""),[l,o]=y.useState(""),[c,d]=y.useState(""),[u,f]=y.useState(""),[p,m]=y.useState(!1),[v,g]=y.useState(!1),[b,j]=y.useState(!1),[k,S]=y.useState(!1),[N,A]=y.useState(!0),[_,E]=y.useState(!0),[D,R]=y.useState(!0),[I,M]=y.useState(!0),[U,P]=y.useState(!0),[F,K]=y.useState(!0),[V,J]=y.useState(!0),[Q,z]=y.useState(!0),[X,le]=y.useState(""),[O,q]=y.useState("all"),[W,te]=y.useState("Count"),[re,oe]=y.useState("active"),[ce,G]=y.useState("2025"),[ie,ye]=y.useState([]),[se,Ie]=y.useState(0),pe=y.useRef(null),ae=y.useRef(null),[ge,Re]=y.useState(null);y.useEffect(()=>{const We=()=>{pe.current&&Re(pe.current.clientHeight)};return requestAnimationFrame(We),window.addEventListener("resize",We),()=>window.removeEventListener("resize",We)},[]);const Z=y.useMemo(()=>({all:[{id:1,name:e("Youssef Hemeda"),avatar:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='32' height='32'><rect width='100%' height='100%' fill='%239ca3af'/><text x='50%' y='58%' font-family='system-ui,Segoe UI,Arial' font-size='18' fill='white' text-anchor='middle'>Y</text></svg>",score:3329,isCrowned:!0},{id:2,name:e("Osama Sales"),avatar:"",score:1968,isCrowned:!1},{id:3,name:e("Engaz CRM Demo"),avatar:"",score:1661,isCrowned:!1}],today:[{id:1,name:e("Osama Sales"),avatar:"",score:245,isCrowned:!0},{id:2,name:e("Youssef Hemeda"),avatar:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='32' height='32'><rect width='100%' height='100%' fill='%239ca3af'/><text x='50%' y='58%' font-family='system-ui,Segoe UI,Arial' font-size='18' fill='white' text-anchor='middle'>Y</text></svg>",score:187,isCrowned:!1},{id:3,name:e("Ahmed Ibrahim"),avatar:"",score:142,isCrowned:!1}],weekly:[{id:1,name:e("Youssef Hemeda"),avatar:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='32' height='32'><rect width='100%' height='100%' fill='%239ca3af'/><text x='50%' y='58%' font-family='system-ui,Segoe UI,Arial' font-size='18' fill='white' text-anchor='middle'>Y</text></svg>",score:1245,isCrowned:!0},{id:2,name:e("Engaz CRM Demo"),avatar:"",score:876,isCrowned:!1},{id:3,name:e("Osama Sales"),avatar:"",score:654,isCrowned:!1}],monthly:[{id:1,name:e("Youssef Hemeda"),avatar:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='32' height='32'><rect width='100%' height='100%' fill='%239ca3af'/><text x='50%' y='58%' font-family='system-ui,Segoe UI,Arial' font-size='18' fill='white' text-anchor='middle'>Y</text></svg>",score:3329,isCrowned:!0},{id:2,name:e("Osama Sales"),avatar:"",score:1968,isCrowned:!1},{id:3,name:e("Engaz CRM Demo"),avatar:"",score:1661,isCrowned:!1}]}),[e])[O]||[],Se=Z[0],Ne=We=>{const Ot=(We||"").toLowerCase();return Ot.includes("convert")?"":Ot.includes("progress")?"":Ot.includes("lost")?"":Ot.includes("new")?"":Ot.includes("qual")?"":""},Ye=We=>{const Ot=(We||"").toLowerCase();return Ot.includes("convert")?"#10b981":Ot.includes("progress")?"#f59e0b":Ot.includes("lost")?"#ef4444":Ot.includes("new")?"#3b82f6":Ot.includes("qual")?"#8b5cf6":"#3b82f6"},[gt,qt]=y.useState("bar"),[at,$t]=y.useState("monthly"),[ze,Ke]=y.useState("all"),[Ze,ht]=y.useState("all"),At={Count:[{label:"April 2025",value:25,color:"bg-blue-500"},{label:"May 2025",value:28,color:"bg-blue-500"},{label:"June 2025",value:15,color:"bg-blue-500"},{label:"July 2025",value:20,color:"bg-blue-500"},{label:"August 2025",value:42,color:"bg-blue-500"},{label:"September 2025",value:90,color:"bg-blue-500"}],"Days to Assign":[{label:"April 2025",value:3.2,color:"bg-green-500"},{label:"May 2025",value:2.8,color:"bg-green-500"},{label:"June 2025",value:4.1,color:"bg-green-500"},{label:"July 2025",value:3.7,color:"bg-green-500"},{label:"August 2025",value:2.5,color:"bg-green-500"},{label:"September 2025",value:1.8,color:"bg-green-500"}],"Expected Revenue":[{label:"April 2025",value:125e3,color:"bg-purple-500"},{label:"May 2025",value:145e3,color:"bg-purple-500"},{label:"June 2025",value:98e3,color:"bg-purple-500"},{label:"July 2025",value:112e3,color:"bg-purple-500"},{label:"August 2025",value:189e3,color:"bg-purple-500"},{label:"September 2025",value:234e3,color:"bg-purple-500"}]},Mt=()=>At[W]||At.Count,Pt=()=>Mt().map(Ot=>({...Ot,label:Ot.label.replace(/\b\d{4}\b/,ce)}));y.useEffect(()=>{const We=()=>m(window.innerWidth<640);return We(),window.addEventListener("resize",We),()=>window.removeEventListener("resize",We)},[]),y.useEffect(()=>{const We=()=>j(window.innerWidth>=1024);return We(),window.addEventListener("resize",We),()=>window.removeEventListener("resize",We)},[]),y.useEffect(()=>{try{const We=JSON.parse(localStorage.getItem("crmStages")||"[]"),Ot=Array.isArray(We)?typeof We[0]=="string"?We.map(Rt=>({name:Rt,color:Ye(Rt),icon:Ne(Rt)})):We.map(Rt=>({name:Rt.name||String(Rt),color:Rt.color||Ye(Rt.name||String(Rt)),icon:Rt.icon||Ne(Rt.name||String(Rt))})):[];ye(Ot)}catch{ye([])}},[]);const Gt={blue:{container:"border-blue-400 dark:border-blue-500 bg-gradient-to-br from-blue-100 via-blue-200 to-blue-300 dark:from-blue-800 dark:via-blue-700 dark:to-blue-600 shadow-blue-300/50 dark:shadow-blue-500/25",containerLight:"border-blue-400 bg-gradient-to-br from-blue-100/75 via-blue-100/65 to-blue-100/55 backdrop-blur-sm shadow-blue-300/30",containerDark:"border-blue-500 bg-transparent shadow-blue-500/25",patternFrom:"from-blue-200",patternTo:"to-blue-300",patternFromLight:"from-blue-200/40",patternToLight:"to-blue-300/30",iconBg:"bg-blue-600 dark:bg-blue-500",iconBgLight:"bg-blue-600/80",iconBgDark:"bg-blue-500",badgeLightBg:"bg-blue-100/60",badgeLightText:"text-blue-700",badgeLightBorder:"border-blue-300"},green:{container:"border-green-400 dark:border-green-500 bg-gradient-to-br from-green-100 via-green-200 to-green-300 dark:from-green-800 dark:via-green-700 dark:to-green-600 shadow-green-300/50 dark:shadow-green-500/25",containerLight:"border-green-400 bg-gradient-to-br from-green-100/75 via-green-100/65 to-green-100/55 backdrop-blur-sm shadow-green-300/30",containerDark:"border-green-500 bg-transparent shadow-green-500/25",patternFrom:"from-green-200",patternTo:"to-green-300",patternFromLight:"from-green-200/40",patternToLight:"to-green-300/30",iconBg:"bg-green-600 dark:bg-green-500",iconBgLight:"bg-green-600/80",iconBgDark:"bg-green-500",badgeLightBg:"bg-green-100/60",badgeLightText:"text-green-700",badgeLightBorder:"border-green-300"},yellow:{container:"border-yellow-400 dark:border-yellow-500 bg-gradient-to-br from-yellow-100 via-yellow-200 to-yellow-300 dark:from-yellow-800 dark:via-yellow-700 dark:to-yellow-600 shadow-yellow-300/50 dark:shadow-yellow-500/25",containerLight:"border-yellow-400 bg-gradient-to-br from-yellow-100/75 via-yellow-100/65 to-yellow-100/55 backdrop-blur-sm shadow-yellow-300/30",containerDark:"border-yellow-500 bg-transparent shadow-yellow-500/25",patternFrom:"from-yellow-200",patternTo:"to-yellow-300",patternFromLight:"from-yellow-200/40",patternToLight:"to-yellow-300/30",iconBg:"bg-yellow-600 dark:bg-yellow-500",iconBgLight:"bg-yellow-600/80",iconBgDark:"bg-yellow-500",badgeLightBg:"bg-yellow-100/60",badgeLightText:"text-yellow-700",badgeLightBorder:"border-yellow-300"},red:{container:"border-red-400 dark:border-red-500 bg-gradient-to-br from-red-100 via-red-200 to-red-300 dark:from-red-800 dark:via-red-700 dark:to-red-600 shadow-red-300/50 dark:shadow-red-500/25",containerLight:"border-red-400 bg-gradient-to-br from-red-100/75 via-red-100/65 to-red-100/55 backdrop-blur-sm shadow-red-300/30",containerDark:"border-red-500 bg-transparent shadow-red-500/25",patternFrom:"from-red-200",patternTo:"to-red-300",patternFromLight:"from-red-200/40",patternToLight:"to-red-300/30",iconBg:"bg-red-600 dark:bg-red-500",iconBgLight:"bg-red-600/80",iconBgDark:"bg-red-500",badgeLightBg:"bg-red-100/60",badgeLightText:"text-red-700",badgeLightBorder:"border-red-300"},purple:{container:"border-purple-400 dark:border-purple-500 bg-gradient-to-br from-purple-100 via-purple-200 to-purple-300 dark:from-purple-800 dark:via-purple-700 dark:to-purple-600 shadow-purple-300/50 dark:shadow-purple-500/25",containerLight:"border-purple-400 bg-gradient-to-br from-purple-100/75 via-purple-100/65 to-purple-100/55 backdrop-blur-sm shadow-purple-300/30",containerDark:"border-purple-500 bg-transparent shadow-purple-500/25",patternFrom:"from-purple-200",patternTo:"to-purple-300",patternFromLight:"from-purple-200/40",patternToLight:"to-purple-300/30",iconBg:"bg-purple-600 dark:bg-purple-500",iconBgLight:"bg-purple-600/80",iconBgDark:"bg-purple-500",badgeLightBg:"bg-purple-100/60",badgeLightText:"text-purple-700",badgeLightBorder:"border-purple-300"},orange:{container:"border-orange-400 dark:border-orange-500 bg-gradient-to-br from-orange-100 via-orange-200 to-orange-300 dark:from-orange-800 dark:via-orange-700 dark:to-orange-600 shadow-orange-300/50 dark:shadow-orange-500/25",containerLight:"border-orange-400 bg-gradient-to-br from-orange-100/75 via-orange-100/65 to-orange-100/55 backdrop-blur-sm shadow-orange-300/30",containerDark:"border-orange-500 bg-transparent shadow-orange-500/25",patternFrom:"from-orange-200",patternTo:"to-orange-300",patternFromLight:"from-orange-200/40",patternToLight:"to-orange-300/30",iconBg:"bg-orange-600 dark:bg-orange-500",iconBgLight:"bg-orange-600/80",iconBgDark:"bg-orange-500",badgeLightBg:"bg-orange-100/60",badgeLightText:"text-orange-700",badgeLightBorder:"border-orange-300"}},Ae=y.useMemo(()=>{const We=dt=>{try{const mt=localStorage.getItem(dt);return mt?JSON.parse(mt):[]}catch{return[]}},Ot=[...We("leadsData"),...We("leads")],Rt=new Map;Ot.forEach(dt=>{Rt.set(dt?.id??Math.random(),dt)});const na=Array.from(Rt.values()),pt=(u||c||"").trim(),lt=dt=>{if(!n&&!l)return!0;const mt=dt?.lastContact||dt?.createdAt,ut=new Date(mt);if(isNaN(ut))return!0;const ra=new Date(ut.getFullYear(),ut.getMonth(),ut.getDate());if(n){const Aa=new Date(n);if(Aa.setHours(0,0,0,0),ra<Aa)return!1}if(l){const Aa=new Date(l);if(Aa.setHours(0,0,0,0),ra>Aa)return!1}return!0};return na.filter(dt=>(!pt||(dt.assignedTo||dt.employee||"").trim()===pt)&&lt(dt))},[se,u,c,n,l]);y.useEffect(()=>{const We=()=>{Ie(Ot=>Ot+1)};return window.addEventListener("storage",We),window.addEventListener("leadsDataUpdated",We),Ie(Ot=>Ot+1),()=>{window.removeEventListener("storage",We),window.removeEventListener("leadsDataUpdated",We)}},[]);const Tt=y.useMemo(()=>{const We=Ae.length,Ot=Ae.filter(lt=>lt.stage==="new"||lt.status==="new").length,Rt=Ae.filter(lt=>lt.isDuplicate).length,na=Ae.filter(lt=>lt.stage==="in-progress"||lt.status==="in-progress").length,pt=Ae.filter(lt=>lt.source==="direct"||lt.source==="cold-call").length;return{total:We,new:Ot,duplicate:Rt,pending:na,coldCall:pt}},[Ae]);return t.language,Tt.total.toLocaleString(),`${e("of all system leads")}`,Tt.duplicate.toLocaleString(),`${Tt.total>0?(Tt.duplicate/Tt.total*100).toFixed(1):0}${e("of all system leads")}`,Tt.new.toLocaleString(),`${Tt.total>0?(Tt.new/Tt.total*100).toFixed(1):0}${e("of all system leads")}`,Tt.coldCall.toLocaleString(),`${Tt.total>0?(Tt.coldCall/Tt.total*100).toFixed(1):0}${e("of all system leads")}`,t.language,Tt.pending.toLocaleString(),`${Tt.total>0?(Tt.pending/Tt.total*100).toFixed(1):0}${e("of all system leads")}`,s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mt-1 mb-3",children:s.jsxs("div",{className:`relative inline-flex items-center ${t.language==="ar"?"flex-row-reverse":""} gap-2`,children:[s.jsx("h1",{className:"page-title text-[18px] font-bold text-primary",children:e("Dashboard")}),s.jsx("span",{"aria-hidden":!0,className:"absolute block h-[1px] rounded bg-gradient-to-r from-blue-500 via-purple-500 to-transparent",style:{width:"calc(100% + 8px)",left:t.language==="ar"?"auto":"-4px",right:t.language==="ar"?"-4px":"auto",bottom:"-4px"}})]})}),s.jsxs("section",{className:"p-1.5 rounded-lg shadow-md glass-panel filter-card w-full mb-3",children:[s.jsx("style",{children:`
              .lm-input::placeholder{font-size:11px}
              @media (max-width:480px){.lm-input::placeholder{font-size:10px}}
            `}),s.jsxs("div",{className:"flex items-center justify-between mb-1 pb-1 border-b border-gray-200 dark:border-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex items-center justify-center w-5 h-5 bg-blue-600 rounded-md",children:s.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.707A1 1 0 013 7V4z"})})}),s.jsx("h3",{className:`text-[12px] font-bold ${r?"text-black":"text-white"}`,children:e("Filters")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>{d(""),f(""),i(""),o("")},className:"btn-reset flex items-center gap-1 text-[9px] px-1 py-0.5 font-medium transform hover:scale-105 transition-all duration-200 focus:outline-none",children:[s.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),e("Reset")]}),s.jsx("button",{onClick:()=>A(We=>!We),className:"md:hidden flex items-center justify-center w-6 h-6 rounded-full border border-gray-300 dark:border-gray-600",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]})]}),s.jsxs("div",{className:`${N?"grid":"hidden"} grid-cols-2 gap-1.5 md:hidden`,children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:`flex items-center gap-2 text-[11px] font-medium ${r?"text-gray-900":"text-white"}`,children:[s.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),e("Manager")]}),s.jsxs(ss,{value:c,onChange:d,placeholder:e("Manager"),className:"lm-input !w-[9rem] text-[9px] px-1 py-[2px]",children:[s.jsx("option",{value:"Manager 1",children:"Manager 1"}),s.jsx("option",{value:"Manager 2",children:"Manager 2"}),s.jsx("option",{value:"Manager 3",children:"Manager 3"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:`flex items-center gap-2 text-[11px] font-medium ${r?"text-gray-900":"text-white"}`,children:[s.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),e("Employees")]}),s.jsxs(ss,{value:u,onChange:f,placeholder:e("Employee"),className:"lm-input !w-[9rem] text-[9px] px-1 py-[2px]",children:[s.jsx("option",{value:"Employee 1",children:"Employee 1"}),s.jsx("option",{value:"Employee 2",children:"Employee 2"}),s.jsx("option",{value:"Employee 3",children:"Employee 3"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:`flex items-center gap-2 text-[10px] font-medium ${r?"text-gray-900":"text-white"}`,children:[s.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e("From Date")]}),s.jsx("input",{type:"date",value:n,onChange:We=>i(We.target.value),max:l||void 0,lang:t.language==="ar"?"ar-EG":"en-US",dir:t.language==="ar"?"rtl":"ltr",placeholder:e("Date Input Placeholder"),className:"lm-input !w-[9.25rem] text-[9px] px-1 py-[2px]"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:`flex items-center gap-2 text-[10px] font-medium ${r?"text-gray-900":"text-white"}`,children:[s.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e("To Date")]}),s.jsx("input",{type:"date",value:l,onChange:We=>o(We.target.value),min:n||void 0,lang:t.language==="ar"?"ar-EG":"en-US",dir:t.language==="ar"?"rtl":"ltr",placeholder:e("Date Input Placeholder"),className:"lm-input !w-[9.25rem] text-[9px] px-1 py-[2px]"})]})]})]}),s.jsxs("div",{className:"hidden md:grid md:grid-cols-2 lg:grid-cols-4 gap-1.5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:`flex items-center gap-2 text-[11px] font-medium ${r?"text-gray-900":"text-white"}`,children:[s.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),e("Manager")]}),s.jsxs(ss,{value:c,onChange:d,placeholder:e("Manager"),className:"lm-input !w-[9rem] text-[9px] px-1 py-[2px]",children:[s.jsx("option",{value:"Manager 1",children:"Manager 1"}),s.jsx("option",{value:"Manager 2",children:"Manager 2"}),s.jsx("option",{value:"Manager 3",children:"Manager 3"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:`flex items-center gap-2 text-[11px] font-medium ${r?"text-gray-900":"text-white"}`,children:[s.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),e("Employees")]}),s.jsxs(ss,{value:u,onChange:f,placeholder:e("Employee"),className:"lm-input !w-[9rem] text-[9px] px-1 py-[2px]",children:[s.jsx("option",{value:"Employee 1",children:"Employee 1"}),s.jsx("option",{value:"Employee 2",children:"Employee 2"}),s.jsx("option",{value:"Employee 3",children:"Employee 3"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:`flex items-center gap-2 text-[10px] font-medium ${r?"text-gray-900":"text-white"}`,children:[s.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e("From Date")]}),s.jsx("input",{type:"date",value:n,onChange:We=>i(We.target.value),max:l||void 0,lang:t.language==="ar"?"ar-EG":"en-US",dir:t.language==="ar"?"rtl":"ltr",placeholder:e("Date Input Placeholder"),className:"lm-input !w-[9.25rem] text-[9px] px-1 py-[2px]"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:`flex items-center gap-2 text-[10px] font-medium ${r?"text-gray-900":"text-white"}`,children:[s.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e("To Date")]}),s.jsx("input",{type:"date",value:l,onChange:We=>o(We.target.value),min:n||void 0,lang:t.language==="ar"?"ar-EG":"en-US",dir:t.language==="ar"?"rtl":"ltr",placeholder:e("Date Input Placeholder"),className:"lm-input !w-[9.25rem] text-[9px] px-1 py-[2px]"})]})]})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("div",{className:"flex items-center gap-3",children:s.jsx("h2",{className:`text-[20px] font-bold ${r?"text-gray-900":"bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent"}`,children:e("Quick Numbers")})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>{p?g(We=>!We):b?S(We=>!We):g(We=>!We)},className:"inline-flex items-center justify-center text-xs px-2 py-0.5 rounded-md bg-transparent border-none shadow-none hover:bg-transparent",children:(()=>{const We=p?v:b?k:v,Ot=s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-3 h-3",children:s.jsx("path",{d:"M6 9l6 6 6-6"})}),Rt=s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-3 h-3",children:s.jsx("path",{d:"M18 15l-6-6-6 6"})});return We?s.jsxs("span",{className:"inline-flex items-center gap-1 text-blue-600",children:[e("Show Less"),Rt]}):s.jsxs("span",{className:"inline-flex items-center gap-1 text-blue-600",children:[e("Show More"),Ot]})})()}),s.jsx("button",{onClick:()=>E(We=>!We),className:"md:hidden flex items-center justify-center w-6 h-6 rounded-full border border-gray-300 dark:border-gray-600",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]})]}),s.jsx("div",{className:`${_?"grid":"hidden"} md:grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-5 gap-2 mb-10`,children:(()=>{const We=Ae.filter(ua=>ua.stage==="new"||ua.status==="new").length,Ot=Ae.filter(ua=>ua.isDuplicate||ua.duplicateStatus==="duplicate").length,Rt=Ae.filter(ua=>ua.stage==="in-progress"||ua.status==="in-progress"||ua.status==="pending").length,na=Ae.filter(ua=>ua.callType==="cold-call"||ua.source==="cold-call"||ua.source==="direct").length,pt=Ae.filter(ua=>ua.callType==="follow-up"||ua.stage==="follow-up"||ua.status==="follow-up").length,lt=s.jsxs("div",{className:"relative overflow-hidden rounded-2xl p-1 group border-2 border-blue-400 bg-gradient-to-br from-blue-100/75 via-blue-100/65 to-blue-100/55 backdrop-blur-sm shadow-blue-300/30 shadow-2xl hover:shadow-3xl transform hover:scale-[1.02] hover:-translate-y-1 transition-all duration-500",onClick:()=>le(""),role:"button",tabIndex:0,children:[s.jsxs("div",{className:"absolute inset-0 opacity-15 dark:hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-gradient-to-br from-blue-200/30 to-blue-300/25 rounded-full transform translate-x-12 -translate-y-12 group-hover:scale-110 transition-transform duration-700"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-12 h-12 bg-gradient-to-tr from-blue-200/30 to-blue-300/25 rounded-full transform -translate-x-10 translate-y-10 group-hover:scale-105 transition-transform duration-500"})]}),s.jsx("div",{className:"relative z-20",children:s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1 pr-2",children:[s.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-wider mb-0.5 block text-black",children:e("Total Leads")}),s.jsx("div",{className:"text-xl font-black mb-0 tracking-tight text-black",children:Ae.length})]}),s.jsx("div",{className:`flex items-center justify-center w-6 h-6 ${r?"bg-blue-600/80":"bg-blue-500"} rounded-md shadow-xl group-hover:scale-105 group-hover:rotate-3 transition-all duration-500 border-2 border-white/30`,children:s.jsx("span",{className:"text-lg text-white",children:""})})]})}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/15 to-transparent -skew-x-12 transform -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out"})]},"__fixed_total__"),dt=[{key:"__fixed_new__",title:e("New"),count:We,percent:Ae.length>0?Math.round(We/Ae.length*100):0,icon:"",color:"green",borderClass:"border-green-400 dark:border-green-500"},{key:"__fixed_duplicate__",title:e("Duplicate"),count:Ot,percent:Ae.length>0?Math.round(Ot/Ae.length*100):0,icon:"",color:"red",borderClass:"border-red-400 dark:border-red-500"},{key:"__fixed_pending__",title:t.language==="ar"?"":e("Pending"),count:Rt,percent:Ae.length>0?Math.round(Rt/Ae.length*100):0,icon:"",color:"yellow",borderClass:"border-yellow-400 dark:border-yellow-500"},{key:"__fixed_coldcalls__",title:e("Cold Calls"),count:na,percent:Ae.length>0?Math.round(na/Ae.length*100):0,icon:"",color:"orange",borderClass:"border-orange-400 dark:border-orange-500"},{key:"__fixed_followup__",title:t.language==="ar"?"":e("Follow-up"),count:pt,percent:Ae.length>0?Math.round(pt/Ae.length*100):0,icon:"",color:"purple",borderClass:"border-purple-400 dark:border-purple-500"}].map(({key:ua,title:oa,count:_s,percent:ps,icon:Fe,color:Ha,borderClass:is})=>{const us=Gt[Ha],me=ua==="__fixed_new__"?"new":ua==="__fixed_duplicate__"?"duplicate":ua==="__fixed_pending__"?"pending":ua==="__fixed_coldcalls__"?"coldcalls":ua==="__fixed_followup__"?"followup":"";return s.jsxs("div",{className:`relative overflow-hidden rounded-2xl p-1 group ${us.containerLight} border-2 shadow-2xl hover:shadow-3xl transform hover:scale-[1.02] hover:-translate-y-1 transition-all duration-500 ${X===me?"ring-2 ring-blue-500":""}`,onClick:()=>le(me),role:"button",tabIndex:0,children:[s.jsxs("div",{className:"absolute inset-0 opacity-15 dark:hidden",children:[s.jsx("div",{className:`absolute top-0 right-0 w-16 h-16 bg-gradient-to-br ${us.patternFromLight} ${us.patternToLight} rounded-full transform translate-x-12 -translate-y-12 group-hover:scale-110 transition-transform duration-700`}),s.jsx("div",{className:`absolute bottom-0 left-0 w-12 h-12 bg-gradient-to-tr ${us.patternFromLight} ${us.patternToLight} rounded-full transform -translate-x-10 translate-y-10 group-hover:scale-105 transition-transform duration-500`})]}),s.jsxs("div",{className:"relative z-20",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1 pr-2",children:[s.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-wider mb-0.5 block text-black",children:oa}),s.jsx("div",{className:"text-xl font-black mb-0 tracking-tight text-black",children:_s})]}),s.jsx("div",{className:`flex items-center justify-center w-6 h-6 rounded-md shadow-xl group-hover:scale-105 group-hover:rotate-3 transition-all duration-500 border-2 border-white/30 ${us.iconBgLight}`,children:s.jsx("span",{className:"text-lg text-white",children:Fe})})]}),s.jsxs("div",{className:`inline-flex items-center text-[11px] font-semibold px-1.5 py-[2px] rounded-md border ${us.badgeLightBg} ${us.badgeLightText} ${us.badgeLightBorder}`,children:[e("Stage share of total"),": ",ps,"%"]})]}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/15 to-transparent -skew-x-12 transform -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out"})]},ua)}),mt=[lt,...dt],ut=p?v:b?k:v,ra=p?4:5;return ut?mt:mt.slice(0,ra)})()}),s.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 mb-12 mt-8",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"p-4 glass-panel h-full overflow-auto rounded-lg shadow-md",children:[s.jsxs("div",{className:"section-header flex items-center w-full justify-between gap-2 mb-3",children:[s.jsx("h3",{className:`flex-1 text-xl font-semibold text-primary ${t.dir()==="rtl"?"text-right":"text-left"}`,children:e("Delay Leads")}),s.jsx("button",{onClick:()=>P(We=>!We),className:"close-btn md:hidden flex items-center justify-center w-6 h-6 rounded-full border border-gray-300 dark:border-gray-600",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsx("div",{className:`${U?"block":"hidden"} md:block`,children:s.jsx(Koe,{dateFrom:n,dateTo:l,selectedEmployee:u||c,stageFilter:X})})]})}),s.jsx("div",{className:"lg:col-span-1",children:s.jsx("div",{className:"p-4 glass-panel h-full overflow-auto rounded-lg shadow-md",children:s.jsxs("div",{className:"best-section-wrapper",children:[s.jsxs("div",{className:"section-header flex items-center w-full justify-between gap-2 mb-3",children:[s.jsx("h3",{className:`flex-1 text-xl font-semibold text-primary ${t.dir()==="rtl"?"text-right":"text-left"}`,children:e("The Best")}),s.jsx("button",{onClick:()=>K(We=>!We),className:"close-btn md:hidden flex items-center justify-center w-6 h-6 rounded-full border border-gray-300 dark:border-gray-600",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsxs("div",{className:`${F?"block":"hidden"} md:block`,children:[s.jsx("p",{className:`text-sm mb-4 ${r?"text-gray-700 font-medium":"text-gray-400"}`,children:e("Your top agents for the number of actions.")}),F&&s.jsxs("div",{className:"md:block",children:[Se&&s.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-800/30 p-3 rounded-lg flex items-center justify-between mb-4 border border-white dark:border-yellow-700",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[s.jsxs("div",{className:"relative",children:[Se.avatar?s.jsx("img",{className:"w-10 h-10 rounded-full",src:Se.avatar,alt:Se.name}):s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-sm",children:Se.name.split(" ").map(We=>We[0]).join("").toUpperCase()}),s.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-yellow-400 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-xs",children:""})})]}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"font-semibold text-slate-900 dark:text-gray-100 truncate",children:Se.name}),s.jsxs("p",{className:"text-sm font-semibold text-slate-900 dark:text-gray-300",children:[Se.score.toLocaleString()," ",e("actions")]})]})]}),s.jsx("div",{className:"text-2xl",children:""})]}),s.jsx("div",{className:"flex gap-1 mb-4 bg-gray-100 dark:bg-gray-700 p-1 rounded-lg",children:[{key:"all",label:e("All Time")},{key:"monthly",label:e("Monthly")},{key:"weekly",label:e("Weekly")},{key:"today",label:e("Today")}].map(({key:We,label:Ot})=>s.jsx("button",{onClick:()=>q(We),className:`flex-1 px-2 py-1 text-xs rounded-md transition-all ${O===We?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white"}`,children:Ot},We))}),s.jsx("div",{className:"space-y-3",children:Z.map((We,Ot)=>s.jsxs("div",{className:`flex items-center gap-3 p-2 rounded-lg ${r?"bg-[var(--lm-muted-surface)] border border-[var(--lm-border)] hover:bg-[var(--lm-surface)]":"bg-gray-800 border border-gray-700 hover:bg-gray-700"} transition-colors`,children:[s.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-gray-200 dark:bg-gray-600 text-xs font-bold text-gray-700 dark:text-gray-300",children:Ot+1}),s.jsxs("div",{className:"relative",children:[We.avatar?s.jsx("img",{className:"w-8 h-8 rounded-full",src:We.avatar,alt:We.name}):s.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-xs",children:We.name.split(" ").map(Rt=>Rt[0]).join("").toUpperCase()}),We.isCrowned&&s.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-yellow-400 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-xs",children:""})})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:`font-semibold truncate text-sm ${r?"text-slate-900":"text-white"}`,children:We.name}),s.jsxs("p",{className:`text-xs ${r?"text-slate-700":"text-gray-300"}`,children:[We.score.toLocaleString()," ",e("actions")]})]})]},We.id))})]})]})]})})})]}),s.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-12",children:[s.jsxs("div",{className:"p-4 glass-panel rounded-lg shadow-md lg:col-span-2",children:[s.jsxs("div",{className:"section-header flex items-center w-full justify-between gap-2 mb-4",children:[s.jsx("h3",{className:`flex-1 text-2xl font-bold text-primary ${t.dir()==="rtl"?"text-right":"text-left"}`,children:e("Last Comments")}),s.jsx("button",{onClick:()=>J(We=>!We),className:"close-btn md:hidden flex items-center justify-center w-6 h-6 rounded-full border border-gray-300 dark:border-gray-600",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsx("div",{className:`${V?"block":"hidden"} md:block`,children:s.jsx(qoe,{employee:u||c,dateFrom:n,dateTo:l,stageFilter:X})})]}),s.jsxs("div",{className:"p-4 glass-panel rounded-lg shadow-md lg:col-span-1",children:[s.jsxs("div",{className:"section-header flex items-center w-full justify-between gap-2 mb-4",children:[s.jsx("h3",{className:`flex-1 text-2xl font-bold text-primary ${t.dir()==="rtl"?"text-right":"text-left"}`,children:e("Recent Phone Calls")}),s.jsx("button",{onClick:()=>z(We=>!We),className:"close-btn md:hidden flex items-center justify-center w-6 h-6 rounded-full border border-gray-300 dark:border-gray-600",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsx("div",{className:`${Q?"block":"hidden"} md:block`,children:s.jsx(Goe,{employee:u||c,dateFrom:n,dateTo:l,stageFilter:X})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 mb-10 items-stretch",children:[s.jsx("div",{ref:ae,className:"p-3 glass-panel rounded-lg shadow-md h-full lg:col-span-4",style:ge?{maxHeight:`${ge}px`}:void 0,children:s.jsx(voe,{})}),s.jsxs("div",{ref:pe,className:"p-3 glass-panel rounded-lg shadow-md lg:col-span-3 h-full flex flex-col min-h-0",children:[s.jsxs("div",{dir:t.dir()==="rtl"?"rtl":"ltr",className:`section-header flex items-center w-full ${t.dir()==="rtl"?"flex-row-reverse":""} gap-2 mb-2 rounded-md p-2 ${r?"bg-gray-100 border border-gray-200 shadow-sm":"bg-gray-800/40 border border-gray-700 shadow-sm"}`,children:[s.jsx("div",{className:`p-1.5 rounded-md ${r?"bg-blue-100 border border-blue-200":"bg-gray-700 border border-gray-600"}`,children:s.jsx(uw,{className:`${r?"text-blue-600":"text-blue-300"} w-4 h-4`})}),s.jsx("h3",{className:`flex-1 text-lg font-bold text-primary ${t.dir()==="rtl"?"text-right":"text-left"}`,children:e("Leads Status")})]}),s.jsxs("div",{className:`flex-1 min-h-0 grid grid-rows-4 gap-2 ${r?"text-black":"text-white"}`,children:[s.jsx(Wy,{title:e("Total Leads"),value:"16,766",change:"+12.5%",changeType:"positive",icon:"",color:"bg-blue-500",compact:!0}),s.jsx(Wy,{title:e("Conversion Rate"),value:"24.3%",change:"+3.2%",changeType:"positive",icon:"",color:"bg-green-500",compact:!0}),s.jsx(Wy,{title:e("Avg Response Time"),value:"2.4h",change:"-15min",changeType:"positive",icon:"",color:"bg-purple-500",compact:!0}),s.jsx(Wy,{title:e("Hot Leads"),value:"253",change:"+18",changeType:"positive",icon:"",color:"bg-red-500",compact:!0})]})]}),s.jsx("div",{className:"p-3 glass-panel rounded-lg shadow-md lg:col-span-5 h-full",children:s.jsx(boe,{employee:u||c,dateFrom:n,dateTo:l})})]}),s.jsx("div",{className:"grid grid-cols-1 gap-4 mb-12",children:s.jsxs("div",{className:"col-span-1 p-4 glass-panel rounded-lg shadow-md",children:[s.jsxs("div",{className:"section-header flex items-center w-full justify-between gap-2 mb-3",children:[s.jsx("h3",{className:`flex-1 text-2xl font-bold text-primary ${t.dir()==="rtl"?"text-right":"text-left"}`,children:e("Leads Analysis")}),s.jsx("button",{onClick:()=>R(We=>!We),className:"close-btn md:hidden flex items-center justify-center w-6 h-6 rounded-full border border-gray-300 dark:border-gray-600",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsxs("div",{className:`${D?"flex":"hidden"} md:flex flex-wrap items-center gap-2 mb-3 justify-end`,children:[s.jsx("span",{className:`${r?"text-blue-700 font-semibold":"dark:text-gray-300"} text-sm`,children:gt==="bar"?t.language==="ar"?"  ":"Bar Chart":gt==="stackedBar"?t.language==="ar"?"   ":"Stacked Bar Chart":gt==="line"?t.language==="ar"?"  ":"Line Chart":t.language==="ar"?"  ":"Pie Chart"}),s.jsxs("div",{className:"flex items-center gap-2 p-1 bg-gray-100 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[s.jsxs("button",{onClick:()=>qt("bar"),className:`
                      group relative flex items-center justify-center px-2 py-1 sm:px-3 sm:py-2 rounded-md transition-all duration-300 ease-in-out
                      ${gt==="bar"?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-lg shadow-blue-500/25 scale-105":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-gray-600 hover:text-blue-600 dark:hover:text-blue-400 hover:scale-105"}
                      border border-gray-200 dark:border-gray-600 hover:border-blue-300 dark:hover:border-blue-500
                    `,title:t.language==="ar"?"  ":"Bar Chart",children:[s.jsx(uw,{className:"w-3 h-3 sm:w-4 sm:h-4"}),gt==="bar"&&s.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-blue-500 rounded-full"})]}),s.jsxs("button",{onClick:()=>qt("stackedBar"),className:`
                      group relative flex items-center justify-center px-2 py-1 sm:px-3 sm:py-2 rounded-md transition-all duration-300 ease-in-out
                      ${gt==="stackedBar"?"bg-gradient-to-r from-green-500 to-green-600 text-white shadow-lg shadow-green-500/25 scale-105":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-green-50 dark:hover:bg-gray-600 hover:text-green-600 dark:hover:text-green-400 hover:scale-105"}
                      border border-gray-200 dark:border-gray-600 hover:border-green-300 dark:hover:border-green-500
                    `,title:t.language==="ar"?"   ":"Stacked Bar Chart",children:[s.jsx(noe,{className:"w-3 h-3 sm:w-4 sm:h-4"}),gt==="stackedBar"&&s.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-green-500 rounded-full"})]}),s.jsxs("button",{onClick:()=>qt("line"),className:`
                      group relative flex items-center justify-center px-2 py-1 sm:px-3 sm:py-2 rounded-md transition-all duration-300 ease-in-out
                      ${gt==="line"?"bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-lg shadow-purple-500/25 scale-105":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-purple-50 dark:hover:bg-gray-600 hover:text-purple-600 dark:hover:text-purple-400 hover:scale-105"}
                      border border-gray-200 dark:border-gray-600 hover:border-purple-300 dark:hover:border-purple-500
                    `,title:t.language==="ar"?"  ":"Line Chart",children:[s.jsx(cz,{className:"w-3 h-3 sm:w-4 sm:h-4"}),gt==="line"&&s.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-purple-500 rounded-full"})]}),s.jsxs("button",{onClick:()=>qt("pie"),className:`
                      group relative flex items-center justify-center px-2 py-1 sm:px-3 sm:py-2 rounded-md transition-all duration-300 ease-in-out
                      ${gt==="pie"?"bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-lg shadow-orange-500/25 scale-105":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-orange-50 dark:hover:bg-gray-600 hover:text-orange-600 dark:hover:text-orange-400 hover:scale-105"}
                      border border-gray-200 dark:border-gray-600 hover:border-orange-300 dark:hover:border-orange-500
                    `,title:t.language==="ar"?"  ":"Pie Chart",children:[s.jsx(dz,{className:"w-3 h-3 sm:w-4 sm:h-4"}),gt==="pie"&&s.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-orange-500 rounded-full"})]})]})]}),s.jsx("div",{className:`${D?"block":"hidden"} md:block h-auto`,children:s.jsx(Yoe,{data:Pt(),chartType:gt,filters:{dataType:"monthly",status:re,year:ce,employee:u||c,dateFrom:n,dateTo:l}})})]})}),s.jsx("section",{className:"grid grid-cols-1 gap-4 mt-4",children:s.jsx("div",{className:"lg:col-span-3",children:s.jsxs("div",{className:"p-4 glass-panel h-full overflow-auto rounded-lg shadow-md",children:[s.jsxs("div",{className:"section-header flex items-center w-full justify-between gap-2 mb-4",children:[s.jsx("h3",{className:`flex-1 text-2xl font-bold text-primary ${t.dir()==="rtl"?"text-right":"text-left"}`,children:e("Pipeline Analysis")}),s.jsx("button",{onClick:()=>M(We=>!We),className:"close-btn md:hidden flex items-center justify-center w-6 h-6 rounded-full border border-gray-300 dark:border-gray-600",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsx("div",{className:`${I?"block":"hidden"} md:block`,children:s.jsx(Woe,{selectedEmployee:u||c,dateFrom:n,dateTo:l})})]})})})]})};function yz(e,t){return function(){return e.apply(t,arguments)}}const{toString:Qoe}=Object.prototype,{getPrototypeOf:TA}=Object,{iterator:Yj,toStringTag:wz}=Symbol,Xj=(e=>t=>{const a=Qoe.call(t);return e[a]||(e[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),Ed=e=>(e=e.toLowerCase(),t=>Xj(t)===e),Jj=e=>t=>typeof t===e,{isArray:Lx}=Array,hx=Jj("undefined");function Y1(e){return e!==null&&!hx(e)&&e.constructor!==null&&!hx(e.constructor)&&xo(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const jz=Ed("ArrayBuffer");function Zoe(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&jz(e.buffer),t}const ece=Jj("string"),xo=Jj("function"),Nz=Jj("number"),X1=e=>e!==null&&typeof e=="object",tce=e=>e===!0||e===!1,z2=e=>{if(Xj(e)!=="object")return!1;const t=TA(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(wz in e)&&!(Yj in e)},ace=e=>{if(!X1(e)||Y1(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},sce=Ed("Date"),rce=Ed("File"),nce=Ed("Blob"),ice=Ed("FileList"),lce=e=>X1(e)&&xo(e.pipe),oce=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||xo(e.append)&&((t=Xj(e))==="formdata"||t==="object"&&xo(e.toString)&&e.toString()==="[object FormData]"))},cce=Ed("URLSearchParams"),[dce,uce,hce,fce]=["ReadableStream","Request","Response","Headers"].map(Ed),mce=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function J1(e,t,{allOwnKeys:a=!1}={}){if(e===null||typeof e>"u")return;let r,n;if(typeof e!="object"&&(e=[e]),Lx(e))for(r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else{if(Y1(e))return;const i=a?Object.getOwnPropertyNames(e):Object.keys(e),l=i.length;let o;for(r=0;r<l;r++)o=i[r],t.call(null,e[o],o,e)}}function kz(e,t){if(Y1(e))return null;t=t.toLowerCase();const a=Object.keys(e);let r=a.length,n;for(;r-- >0;)if(n=a[r],t===n.toLowerCase())return n;return null}const H0=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Sz=e=>!hx(e)&&e!==H0;function tC(){const{caseless:e,skipUndefined:t}=Sz(this)&&this||{},a={},r=(n,i)=>{const l=e&&kz(a,i)||i;z2(a[l])&&z2(n)?a[l]=tC(a[l],n):z2(n)?a[l]=tC({},n):Lx(n)?a[l]=n.slice():(!t||!hx(n))&&(a[l]=n)};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&J1(arguments[n],r);return a}const pce=(e,t,a,{allOwnKeys:r}={})=>(J1(t,(n,i)=>{a&&xo(n)?e[i]=yz(n,a):e[i]=n},{allOwnKeys:r}),e),xce=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),gce=(e,t,a,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),a&&Object.assign(e.prototype,a)},vce=(e,t,a,r)=>{let n,i,l;const o={};if(t=t||{},e==null)return t;do{for(n=Object.getOwnPropertyNames(e),i=n.length;i-- >0;)l=n[i],(!r||r(l,e,t))&&!o[l]&&(t[l]=e[l],o[l]=!0);e=a!==!1&&TA(e)}while(e&&(!a||a(e,t))&&e!==Object.prototype);return t},bce=(e,t,a)=>{e=String(e),(a===void 0||a>e.length)&&(a=e.length),a-=t.length;const r=e.indexOf(t,a);return r!==-1&&r===a},yce=e=>{if(!e)return null;if(Lx(e))return e;let t=e.length;if(!Nz(t))return null;const a=new Array(t);for(;t-- >0;)a[t]=e[t];return a},wce=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&TA(Uint8Array)),jce=(e,t)=>{const r=(e&&e[Yj]).call(e);let n;for(;(n=r.next())&&!n.done;){const i=n.value;t.call(e,i[0],i[1])}},Nce=(e,t)=>{let a;const r=[];for(;(a=e.exec(t))!==null;)r.push(a);return r},kce=Ed("HTMLFormElement"),Sce=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,r,n){return r.toUpperCase()+n}),BP=(({hasOwnProperty:e})=>(t,a)=>e.call(t,a))(Object.prototype),Cce=Ed("RegExp"),Cz=(e,t)=>{const a=Object.getOwnPropertyDescriptors(e),r={};J1(a,(n,i)=>{let l;(l=t(n,i,e))!==!1&&(r[i]=l||n)}),Object.defineProperties(e,r)},Ace=e=>{Cz(e,(t,a)=>{if(xo(e)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const r=e[a];if(xo(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},_ce=(e,t)=>{const a={},r=n=>{n.forEach(i=>{a[i]=!0})};return Lx(e)?r(e):r(String(e).split(t)),a},Ece=()=>{},Tce=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Dce(e){return!!(e&&xo(e.append)&&e[wz]==="FormData"&&e[Yj])}const Pce=e=>{const t=new Array(10),a=(r,n)=>{if(X1(r)){if(t.indexOf(r)>=0)return;if(Y1(r))return r;if(!("toJSON"in r)){t[n]=r;const i=Lx(r)?[]:{};return J1(r,(l,o)=>{const c=a(l,n+1);!hx(c)&&(i[o]=c)}),t[n]=void 0,i}}return r};return a(e,0)},Mce=Ed("AsyncFunction"),Lce=e=>e&&(X1(e)||xo(e))&&xo(e.then)&&xo(e.catch),Az=((e,t)=>e?setImmediate:t?((a,r)=>(H0.addEventListener("message",({source:n,data:i})=>{n===H0&&i===a&&r.length&&r.shift()()},!1),n=>{r.push(n),H0.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",xo(H0.postMessage)),Oce=typeof queueMicrotask<"u"?queueMicrotask.bind(H0):typeof process<"u"&&process.nextTick||Az,Rce=e=>e!=null&&xo(e[Yj]),bt={isArray:Lx,isArrayBuffer:jz,isBuffer:Y1,isFormData:oce,isArrayBufferView:Zoe,isString:ece,isNumber:Nz,isBoolean:tce,isObject:X1,isPlainObject:z2,isEmptyObject:ace,isReadableStream:dce,isRequest:uce,isResponse:hce,isHeaders:fce,isUndefined:hx,isDate:sce,isFile:rce,isBlob:nce,isRegExp:Cce,isFunction:xo,isStream:lce,isURLSearchParams:cce,isTypedArray:wce,isFileList:ice,forEach:J1,merge:tC,extend:pce,trim:mce,stripBOM:xce,inherits:gce,toFlatObject:vce,kindOf:Xj,kindOfTest:Ed,endsWith:bce,toArray:yce,forEachEntry:jce,matchAll:Nce,isHTMLForm:kce,hasOwnProperty:BP,hasOwnProp:BP,reduceDescriptors:Cz,freezeMethods:Ace,toObjectSet:_ce,toCamelCase:Sce,noop:Ece,toFiniteNumber:Tce,findKey:kz,global:H0,isContextDefined:Sz,isSpecCompliantForm:Dce,toJSONObject:Pce,isAsyncFn:Mce,isThenable:Lce,setImmediate:Az,asap:Oce,isIterable:Rce};function rs(e,t,a,r,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),a&&(this.config=a),r&&(this.request=r),n&&(this.response=n,this.status=n.status?n.status:null)}bt.inherits(rs,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:bt.toJSONObject(this.config),code:this.code,status:this.status}}});const _z=rs.prototype,Ez={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Ez[e]={value:e}});Object.defineProperties(rs,Ez);Object.defineProperty(_z,"isAxiosError",{value:!0});rs.from=(e,t,a,r,n,i)=>{const l=Object.create(_z);bt.toFlatObject(e,l,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const o=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return rs.call(l,o,c,a,r,n),e&&l.cause==null&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",i&&Object.assign(l,i),l};const Fce=null;function aC(e){return bt.isPlainObject(e)||bt.isArray(e)}function Tz(e){return bt.endsWith(e,"[]")?e.slice(0,-2):e}function $P(e,t,a){return e?e.concat(t).map(function(n,i){return n=Tz(n),!a&&i?"["+n+"]":n}).join(a?".":""):t}function Ice(e){return bt.isArray(e)&&!e.some(aC)}const Bce=bt.toFlatObject(bt,{},null,function(t){return/^is[A-Z]/.test(t)});function Qj(e,t,a){if(!bt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,a=bt.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,b){return!bt.isUndefined(b[g])});const r=a.metaTokens,n=a.visitor||u,i=a.dots,l=a.indexes,c=(a.Blob||typeof Blob<"u"&&Blob)&&bt.isSpecCompliantForm(t);if(!bt.isFunction(n))throw new TypeError("visitor must be a function");function d(v){if(v===null)return"";if(bt.isDate(v))return v.toISOString();if(bt.isBoolean(v))return v.toString();if(!c&&bt.isBlob(v))throw new rs("Blob is not supported. Use a Buffer instead.");return bt.isArrayBuffer(v)||bt.isTypedArray(v)?c&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function u(v,g,b){let j=v;if(v&&!b&&typeof v=="object"){if(bt.endsWith(g,"{}"))g=r?g:g.slice(0,-2),v=JSON.stringify(v);else if(bt.isArray(v)&&Ice(v)||(bt.isFileList(v)||bt.endsWith(g,"[]"))&&(j=bt.toArray(v)))return g=Tz(g),j.forEach(function(S,N){!(bt.isUndefined(S)||S===null)&&t.append(l===!0?$P([g],N,i):l===null?g:g+"[]",d(S))}),!1}return aC(v)?!0:(t.append($P(b,g,i),d(v)),!1)}const f=[],p=Object.assign(Bce,{defaultVisitor:u,convertValue:d,isVisitable:aC});function m(v,g){if(!bt.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(v),bt.forEach(v,function(j,k){(!(bt.isUndefined(j)||j===null)&&n.call(t,j,bt.isString(k)?k.trim():k,g,p))===!0&&m(j,g?g.concat(k):[k])}),f.pop()}}if(!bt.isObject(e))throw new TypeError("data must be an object");return m(e),t}function UP(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function DA(e,t){this._pairs=[],e&&Qj(e,this,t)}const Dz=DA.prototype;Dz.append=function(t,a){this._pairs.push([t,a])};Dz.toString=function(t){const a=t?function(r){return t.call(this,r,UP)}:UP;return this._pairs.map(function(n){return a(n[0])+"="+a(n[1])},"").join("&")};function $ce(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Pz(e,t,a){if(!t)return e;const r=a&&a.encode||$ce;bt.isFunction(a)&&(a={serialize:a});const n=a&&a.serialize;let i;if(n?i=n(t,a):i=bt.isURLSearchParams(t)?t.toString():new DA(t,a).toString(r),i){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class zP{constructor(){this.handlers=[]}use(t,a,r){return this.handlers.push({fulfilled:t,rejected:a,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){bt.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Mz={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Uce=typeof URLSearchParams<"u"?URLSearchParams:DA,zce=typeof FormData<"u"?FormData:null,Hce=typeof Blob<"u"?Blob:null,Vce={isBrowser:!0,classes:{URLSearchParams:Uce,FormData:zce,Blob:Hce},protocols:["http","https","file","blob","url","data"]},PA=typeof window<"u"&&typeof document<"u",sC=typeof navigator=="object"&&navigator||void 0,Wce=PA&&(!sC||["ReactNative","NativeScript","NS"].indexOf(sC.product)<0),qce=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Gce=PA&&window.location.href||"http://localhost",Kce=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:PA,hasStandardBrowserEnv:Wce,hasStandardBrowserWebWorkerEnv:qce,navigator:sC,origin:Gce},Symbol.toStringTag,{value:"Module"})),gl={...Kce,...Vce};function Yce(e,t){return Qj(e,new gl.classes.URLSearchParams,{visitor:function(a,r,n,i){return gl.isNode&&bt.isBuffer(a)?(this.append(r,a.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function Xce(e){return bt.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Jce(e){const t={},a=Object.keys(e);let r;const n=a.length;let i;for(r=0;r<n;r++)i=a[r],t[i]=e[i];return t}function Lz(e){function t(a,r,n,i){let l=a[i++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),c=i>=a.length;return l=!l&&bt.isArray(n)?n.length:l,c?(bt.hasOwnProp(n,l)?n[l]=[n[l],r]:n[l]=r,!o):((!n[l]||!bt.isObject(n[l]))&&(n[l]=[]),t(a,r,n[l],i)&&bt.isArray(n[l])&&(n[l]=Jce(n[l])),!o)}if(bt.isFormData(e)&&bt.isFunction(e.entries)){const a={};return bt.forEachEntry(e,(r,n)=>{t(Xce(r),n,a,0)}),a}return null}function Qce(e,t,a){if(bt.isString(e))try{return(t||JSON.parse)(e),bt.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(a||JSON.stringify)(e)}const Q1={transitional:Mz,adapter:["xhr","http","fetch"],transformRequest:[function(t,a){const r=a.getContentType()||"",n=r.indexOf("application/json")>-1,i=bt.isObject(t);if(i&&bt.isHTMLForm(t)&&(t=new FormData(t)),bt.isFormData(t))return n?JSON.stringify(Lz(t)):t;if(bt.isArrayBuffer(t)||bt.isBuffer(t)||bt.isStream(t)||bt.isFile(t)||bt.isBlob(t)||bt.isReadableStream(t))return t;if(bt.isArrayBufferView(t))return t.buffer;if(bt.isURLSearchParams(t))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Yce(t,this.formSerializer).toString();if((o=bt.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Qj(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||n?(a.setContentType("application/json",!1),Qce(t)):t}],transformResponse:[function(t){const a=this.transitional||Q1.transitional,r=a&&a.forcedJSONParsing,n=this.responseType==="json";if(bt.isResponse(t)||bt.isReadableStream(t))return t;if(t&&bt.isString(t)&&(r&&!this.responseType||n)){const l=!(a&&a.silentJSONParsing)&&n;try{return JSON.parse(t,this.parseReviver)}catch(o){if(l)throw o.name==="SyntaxError"?rs.from(o,rs.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:gl.classes.FormData,Blob:gl.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};bt.forEach(["delete","get","head","post","put","patch"],e=>{Q1.headers[e]={}});const Zce=bt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ede=e=>{const t={};let a,r,n;return e&&e.split(`
`).forEach(function(l){n=l.indexOf(":"),a=l.substring(0,n).trim().toLowerCase(),r=l.substring(n+1).trim(),!(!a||t[a]&&Zce[a])&&(a==="set-cookie"?t[a]?t[a].push(r):t[a]=[r]:t[a]=t[a]?t[a]+", "+r:r)}),t},HP=Symbol("internals");function Kg(e){return e&&String(e).trim().toLowerCase()}function H2(e){return e===!1||e==null?e:bt.isArray(e)?e.map(H2):String(e)}function tde(e){const t=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=a.exec(e);)t[r[1]]=r[2];return t}const ade=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function I5(e,t,a,r,n){if(bt.isFunction(r))return r.call(this,t,a);if(n&&(t=a),!!bt.isString(t)){if(bt.isString(r))return t.indexOf(r)!==-1;if(bt.isRegExp(r))return r.test(t)}}function sde(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,a,r)=>a.toUpperCase()+r)}function rde(e,t){const a=bt.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+a,{value:function(n,i,l){return this[r].call(this,t,n,i,l)},configurable:!0})})}let go=class{constructor(t){t&&this.set(t)}set(t,a,r){const n=this;function i(o,c,d){const u=Kg(c);if(!u)throw new Error("header name must be a non-empty string");const f=bt.findKey(n,u);(!f||n[f]===void 0||d===!0||d===void 0&&n[f]!==!1)&&(n[f||c]=H2(o))}const l=(o,c)=>bt.forEach(o,(d,u)=>i(d,u,c));if(bt.isPlainObject(t)||t instanceof this.constructor)l(t,a);else if(bt.isString(t)&&(t=t.trim())&&!ade(t))l(ede(t),a);else if(bt.isObject(t)&&bt.isIterable(t)){let o={},c,d;for(const u of t){if(!bt.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[d=u[0]]=(c=o[d])?bt.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}l(o,a)}else t!=null&&i(a,t,r);return this}get(t,a){if(t=Kg(t),t){const r=bt.findKey(this,t);if(r){const n=this[r];if(!a)return n;if(a===!0)return tde(n);if(bt.isFunction(a))return a.call(this,n,r);if(bt.isRegExp(a))return a.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,a){if(t=Kg(t),t){const r=bt.findKey(this,t);return!!(r&&this[r]!==void 0&&(!a||I5(this,this[r],r,a)))}return!1}delete(t,a){const r=this;let n=!1;function i(l){if(l=Kg(l),l){const o=bt.findKey(r,l);o&&(!a||I5(r,r[o],o,a))&&(delete r[o],n=!0)}}return bt.isArray(t)?t.forEach(i):i(t),n}clear(t){const a=Object.keys(this);let r=a.length,n=!1;for(;r--;){const i=a[r];(!t||I5(this,this[i],i,t,!0))&&(delete this[i],n=!0)}return n}normalize(t){const a=this,r={};return bt.forEach(this,(n,i)=>{const l=bt.findKey(r,i);if(l){a[l]=H2(n),delete a[i];return}const o=t?sde(i):String(i).trim();o!==i&&delete a[i],a[o]=H2(n),r[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const a=Object.create(null);return bt.forEach(this,(r,n)=>{r!=null&&r!==!1&&(a[n]=t&&bt.isArray(r)?r.join(", "):r)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,a])=>t+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...a){const r=new this(t);return a.forEach(n=>r.set(n)),r}static accessor(t){const r=(this[HP]=this[HP]={accessors:{}}).accessors,n=this.prototype;function i(l){const o=Kg(l);r[o]||(rde(n,l),r[o]=!0)}return bt.isArray(t)?t.forEach(i):i(t),this}};go.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);bt.reduceDescriptors(go.prototype,({value:e},t)=>{let a=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[a]=r}}});bt.freezeMethods(go);function B5(e,t){const a=this||Q1,r=t||a,n=go.from(r.headers);let i=r.data;return bt.forEach(e,function(o){i=o.call(a,i,n.normalize(),t?t.status:void 0)}),n.normalize(),i}function Oz(e){return!!(e&&e.__CANCEL__)}function Ox(e,t,a){rs.call(this,e??"canceled",rs.ERR_CANCELED,t,a),this.name="CanceledError"}bt.inherits(Ox,rs,{__CANCEL__:!0});function Rz(e,t,a){const r=a.config.validateStatus;!a.status||!r||r(a.status)?e(a):t(new rs("Request failed with status code "+a.status,[rs.ERR_BAD_REQUEST,rs.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function nde(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function ide(e,t){e=e||10;const a=new Array(e),r=new Array(e);let n=0,i=0,l;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=r[i];l||(l=d),a[n]=c,r[n]=d;let f=i,p=0;for(;f!==n;)p+=a[f++],f=f%e;if(n=(n+1)%e,n===i&&(i=(i+1)%e),d-l<t)return;const m=u&&d-u;return m?Math.round(p*1e3/m):void 0}}function lde(e,t){let a=0,r=1e3/t,n,i;const l=(d,u=Date.now())=>{a=u,n=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const u=Date.now(),f=u-a;f>=r?l(d,u):(n=d,i||(i=setTimeout(()=>{i=null,l(n)},r-f)))},()=>n&&l(n)]}const mw=(e,t,a=3)=>{let r=0;const n=ide(50,250);return lde(i=>{const l=i.loaded,o=i.lengthComputable?i.total:void 0,c=l-r,d=n(c),u=l<=o;r=l;const f={loaded:l,total:o,progress:o?l/o:void 0,bytes:c,rate:d||void 0,estimated:d&&o&&u?(o-l)/d:void 0,event:i,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(f)},a)},VP=(e,t)=>{const a=e!=null;return[r=>t[0]({lengthComputable:a,total:e,loaded:r}),t[1]]},WP=e=>(...t)=>bt.asap(()=>e(...t)),ode=gl.hasStandardBrowserEnv?((e,t)=>a=>(a=new URL(a,gl.origin),e.protocol===a.protocol&&e.host===a.host&&(t||e.port===a.port)))(new URL(gl.origin),gl.navigator&&/(msie|trident)/i.test(gl.navigator.userAgent)):()=>!0,cde=gl.hasStandardBrowserEnv?{write(e,t,a,r,n,i){const l=[e+"="+encodeURIComponent(t)];bt.isNumber(a)&&l.push("expires="+new Date(a).toGMTString()),bt.isString(r)&&l.push("path="+r),bt.isString(n)&&l.push("domain="+n),i===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function dde(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function ude(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Fz(e,t,a){let r=!dde(t);return e&&(r||a==!1)?ude(e,t):t}const qP=e=>e instanceof go?{...e}:e;function vm(e,t){t=t||{};const a={};function r(d,u,f,p){return bt.isPlainObject(d)&&bt.isPlainObject(u)?bt.merge.call({caseless:p},d,u):bt.isPlainObject(u)?bt.merge({},u):bt.isArray(u)?u.slice():u}function n(d,u,f,p){if(bt.isUndefined(u)){if(!bt.isUndefined(d))return r(void 0,d,f,p)}else return r(d,u,f,p)}function i(d,u){if(!bt.isUndefined(u))return r(void 0,u)}function l(d,u){if(bt.isUndefined(u)){if(!bt.isUndefined(d))return r(void 0,d)}else return r(void 0,u)}function o(d,u,f){if(f in t)return r(d,u);if(f in e)return r(void 0,d)}const c={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(d,u,f)=>n(qP(d),qP(u),f,!0)};return bt.forEach(Object.keys({...e,...t}),function(u){const f=c[u]||n,p=f(e[u],t[u],u);bt.isUndefined(p)&&f!==o||(a[u]=p)}),a}const Iz=e=>{const t=vm({},e);let{data:a,withXSRFToken:r,xsrfHeaderName:n,xsrfCookieName:i,headers:l,auth:o}=t;if(t.headers=l=go.from(l),t.url=Pz(Fz(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),bt.isFormData(a)){if(gl.hasStandardBrowserEnv||gl.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(bt.isFunction(a.getHeaders)){const c=a.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,f])=>{d.includes(u.toLowerCase())&&l.set(u,f)})}}if(gl.hasStandardBrowserEnv&&(r&&bt.isFunction(r)&&(r=r(t)),r||r!==!1&&ode(t.url))){const c=n&&i&&cde.read(i);c&&l.set(n,c)}return t},hde=typeof XMLHttpRequest<"u",fde=hde&&function(e){return new Promise(function(a,r){const n=Iz(e);let i=n.data;const l=go.from(n.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:d}=n,u,f,p,m,v;function g(){m&&m(),v&&v(),n.cancelToken&&n.cancelToken.unsubscribe(u),n.signal&&n.signal.removeEventListener("abort",u)}let b=new XMLHttpRequest;b.open(n.method.toUpperCase(),n.url,!0),b.timeout=n.timeout;function j(){if(!b)return;const S=go.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),A={data:!o||o==="text"||o==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:S,config:e,request:b};Rz(function(E){a(E),g()},function(E){r(E),g()},A),b=null}"onloadend"in b?b.onloadend=j:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(j)},b.onabort=function(){b&&(r(new rs("Request aborted",rs.ECONNABORTED,e,b)),b=null)},b.onerror=function(N){const A=N&&N.message?N.message:"Network Error",_=new rs(A,rs.ERR_NETWORK,e,b);_.event=N||null,r(_),b=null},b.ontimeout=function(){let N=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const A=n.transitional||Mz;n.timeoutErrorMessage&&(N=n.timeoutErrorMessage),r(new rs(N,A.clarifyTimeoutError?rs.ETIMEDOUT:rs.ECONNABORTED,e,b)),b=null},i===void 0&&l.setContentType(null),"setRequestHeader"in b&&bt.forEach(l.toJSON(),function(N,A){b.setRequestHeader(A,N)}),bt.isUndefined(n.withCredentials)||(b.withCredentials=!!n.withCredentials),o&&o!=="json"&&(b.responseType=n.responseType),d&&([p,v]=mw(d,!0),b.addEventListener("progress",p)),c&&b.upload&&([f,m]=mw(c),b.upload.addEventListener("progress",f),b.upload.addEventListener("loadend",m)),(n.cancelToken||n.signal)&&(u=S=>{b&&(r(!S||S.type?new Ox(null,e,b):S),b.abort(),b=null)},n.cancelToken&&n.cancelToken.subscribe(u),n.signal&&(n.signal.aborted?u():n.signal.addEventListener("abort",u)));const k=nde(n.url);if(k&&gl.protocols.indexOf(k)===-1){r(new rs("Unsupported protocol "+k+":",rs.ERR_BAD_REQUEST,e));return}b.send(i||null)})},mde=(e,t)=>{const{length:a}=e=e?e.filter(Boolean):[];if(t||a){let r=new AbortController,n;const i=function(d){if(!n){n=!0,o();const u=d instanceof Error?d:this.reason;r.abort(u instanceof rs?u:new Ox(u instanceof Error?u.message:u))}};let l=t&&setTimeout(()=>{l=null,i(new rs(`timeout ${t} of ms exceeded`,rs.ETIMEDOUT))},t);const o=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>bt.asap(o),c}},pde=function*(e,t){let a=e.byteLength;if(a<t){yield e;return}let r=0,n;for(;r<a;)n=r+t,yield e.slice(r,n),r=n},xde=async function*(e,t){for await(const a of gde(e))yield*pde(a,t)},gde=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:a,value:r}=await t.read();if(a)break;yield r}}finally{await t.cancel()}},GP=(e,t,a,r)=>{const n=xde(e,t);let i=0,l,o=c=>{l||(l=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await n.next();if(d){o(),c.close();return}let f=u.byteLength;if(a){let p=i+=f;a(p)}c.enqueue(new Uint8Array(u))}catch(d){throw o(d),d}},cancel(c){return o(c),n.return()}},{highWaterMark:2})},KP=64*1024,{isFunction:qy}=bt,vde=(({Request:e,Response:t})=>({Request:e,Response:t}))(bt.global),{ReadableStream:YP,TextEncoder:XP}=bt.global,JP=(e,...t)=>{try{return!!e(...t)}catch{return!1}},bde=e=>{e=bt.merge.call({skipUndefined:!0},vde,e);const{fetch:t,Request:a,Response:r}=e,n=t?qy(t):typeof fetch=="function",i=qy(a),l=qy(r);if(!n)return!1;const o=n&&qy(YP),c=n&&(typeof XP=="function"?(v=>g=>v.encode(g))(new XP):async v=>new Uint8Array(await new a(v).arrayBuffer())),d=i&&o&&JP(()=>{let v=!1;const g=new a(gl.origin,{body:new YP,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!g}),u=l&&o&&JP(()=>bt.isReadableStream(new r("").body)),f={stream:u&&(v=>v.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!f[v]&&(f[v]=(g,b)=>{let j=g&&g[v];if(j)return j.call(g);throw new rs(`Response type '${v}' is not supported`,rs.ERR_NOT_SUPPORT,b)})});const p=async v=>{if(v==null)return 0;if(bt.isBlob(v))return v.size;if(bt.isSpecCompliantForm(v))return(await new a(gl.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(bt.isArrayBufferView(v)||bt.isArrayBuffer(v))return v.byteLength;if(bt.isURLSearchParams(v)&&(v=v+""),bt.isString(v))return(await c(v)).byteLength},m=async(v,g)=>{const b=bt.toFiniteNumber(v.getContentLength());return b??p(g)};return async v=>{let{url:g,method:b,data:j,signal:k,cancelToken:S,timeout:N,onDownloadProgress:A,onUploadProgress:_,responseType:E,headers:D,withCredentials:R="same-origin",fetchOptions:I}=Iz(v),M=t||fetch;E=E?(E+"").toLowerCase():"text";let U=mde([k,S&&S.toAbortSignal()],N),P=null;const F=U&&U.unsubscribe&&(()=>{U.unsubscribe()});let K;try{if(_&&d&&b!=="get"&&b!=="head"&&(K=await m(D,j))!==0){let le=new a(g,{method:"POST",body:j,duplex:"half"}),O;if(bt.isFormData(j)&&(O=le.headers.get("content-type"))&&D.setContentType(O),le.body){const[q,W]=VP(K,mw(WP(_)));j=GP(le.body,KP,q,W)}}bt.isString(R)||(R=R?"include":"omit");const V=i&&"credentials"in a.prototype,J={...I,signal:U,method:b.toUpperCase(),headers:D.normalize().toJSON(),body:j,duplex:"half",credentials:V?R:void 0};P=i&&new a(g,J);let Q=await(i?M(P,I):M(g,J));const z=u&&(E==="stream"||E==="response");if(u&&(A||z&&F)){const le={};["status","statusText","headers"].forEach(te=>{le[te]=Q[te]});const O=bt.toFiniteNumber(Q.headers.get("content-length")),[q,W]=A&&VP(O,mw(WP(A),!0))||[];Q=new r(GP(Q.body,KP,q,()=>{W&&W(),F&&F()}),le)}E=E||"text";let X=await f[bt.findKey(f,E)||"text"](Q,v);return!z&&F&&F(),await new Promise((le,O)=>{Rz(le,O,{data:X,headers:go.from(Q.headers),status:Q.status,statusText:Q.statusText,config:v,request:P})})}catch(V){throw F&&F(),V&&V.name==="TypeError"&&/Load failed|fetch/i.test(V.message)?Object.assign(new rs("Network Error",rs.ERR_NETWORK,v,P),{cause:V.cause||V}):rs.from(V,V&&V.code,v,P)}}},yde=new Map,Bz=e=>{let t=e?e.env:{};const{fetch:a,Request:r,Response:n}=t,i=[r,n,a];let l=i.length,o=l,c,d,u=yde;for(;o--;)c=i[o],d=u.get(c),d===void 0&&u.set(c,d=o?new Map:bde(t)),u=d;return d};Bz();const rC={http:Fce,xhr:fde,fetch:{get:Bz}};bt.forEach(rC,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const QP=e=>`- ${e}`,wde=e=>bt.isFunction(e)||e===null||e===!1,$z={getAdapter:(e,t)=>{e=bt.isArray(e)?e:[e];const{length:a}=e;let r,n;const i={};for(let l=0;l<a;l++){r=e[l];let o;if(n=r,!wde(r)&&(n=rC[(o=String(r)).toLowerCase()],n===void 0))throw new rs(`Unknown adapter '${o}'`);if(n&&(bt.isFunction(n)||(n=n.get(t))))break;i[o||"#"+l]=n}if(!n){const l=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=a?l.length>1?`since :
`+l.map(QP).join(`
`):" "+QP(l[0]):"as no adapter specified";throw new rs("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:rC};function $5(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ox(null,e)}function ZP(e){return $5(e),e.headers=go.from(e.headers),e.data=B5.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),$z.getAdapter(e.adapter||Q1.adapter,e)(e).then(function(r){return $5(e),r.data=B5.call(e,e.transformResponse,r),r.headers=go.from(r.headers),r},function(r){return Oz(r)||($5(e),r&&r.response&&(r.response.data=B5.call(e,e.transformResponse,r.response),r.response.headers=go.from(r.response.headers))),Promise.reject(r)})}const Uz="1.12.2",Zj={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Zj[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const eM={};Zj.transitional=function(t,a,r){function n(i,l){return"[Axios v"+Uz+"] Transitional option '"+i+"'"+l+(r?". "+r:"")}return(i,l,o)=>{if(t===!1)throw new rs(n(l," has been removed"+(a?" in "+a:"")),rs.ERR_DEPRECATED);return a&&!eM[l]&&(eM[l]=!0,console.warn(n(l," has been deprecated since v"+a+" and will be removed in the near future"))),t?t(i,l,o):!0}};Zj.spelling=function(t){return(a,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function jde(e,t,a){if(typeof e!="object")throw new rs("options must be an object",rs.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let n=r.length;for(;n-- >0;){const i=r[n],l=t[i];if(l){const o=e[i],c=o===void 0||l(o,i,e);if(c!==!0)throw new rs("option "+i+" must be "+c,rs.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new rs("Unknown option "+i,rs.ERR_BAD_OPTION)}}const V2={assertOptions:jde,validators:Zj},tu=V2.validators;let em=class{constructor(t){this.defaults=t||{},this.interceptors={request:new zP,response:new zP}}async request(t,a){try{return await this._request(t,a)}catch(r){if(r instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,a){typeof t=="string"?(a=a||{},a.url=t):a=t||{},a=vm(this.defaults,a);const{transitional:r,paramsSerializer:n,headers:i}=a;r!==void 0&&V2.assertOptions(r,{silentJSONParsing:tu.transitional(tu.boolean),forcedJSONParsing:tu.transitional(tu.boolean),clarifyTimeoutError:tu.transitional(tu.boolean)},!1),n!=null&&(bt.isFunction(n)?a.paramsSerializer={serialize:n}:V2.assertOptions(n,{encode:tu.function,serialize:tu.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),V2.assertOptions(a,{baseUrl:tu.spelling("baseURL"),withXsrfToken:tu.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let l=i&&bt.merge(i.common,i[a.method]);i&&bt.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),a.headers=go.concat(l,i);const o=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(a)===!1||(c=c&&g.synchronous,o.unshift(g.fulfilled,g.rejected))});const d=[];this.interceptors.response.forEach(function(g){d.push(g.fulfilled,g.rejected)});let u,f=0,p;if(!c){const v=[ZP.bind(this),void 0];for(v.unshift(...o),v.push(...d),p=v.length,u=Promise.resolve(a);f<p;)u=u.then(v[f++],v[f++]);return u}p=o.length;let m=a;for(;f<p;){const v=o[f++],g=o[f++];try{m=v(m)}catch(b){g.call(this,b);break}}try{u=ZP.call(this,m)}catch(v){return Promise.reject(v)}for(f=0,p=d.length;f<p;)u=u.then(d[f++],d[f++]);return u}getUri(t){t=vm(this.defaults,t);const a=Fz(t.baseURL,t.url,t.allowAbsoluteUrls);return Pz(a,t.params,t.paramsSerializer)}};bt.forEach(["delete","get","head","options"],function(t){em.prototype[t]=function(a,r){return this.request(vm(r||{},{method:t,url:a,data:(r||{}).data}))}});bt.forEach(["post","put","patch"],function(t){function a(r){return function(i,l,o){return this.request(vm(o||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}em.prototype[t]=a(),em.prototype[t+"Form"]=a(!0)});let Nde=class zz{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(i){a=i});const r=this;this.promise.then(n=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](n);r._listeners=null}),this.promise.then=n=>{let i;const l=new Promise(o=>{r.subscribe(o),i=o}).then(n);return l.cancel=function(){r.unsubscribe(i)},l},t(function(i,l,o){r.reason||(r.reason=new Ox(i,l,o),a(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const a=this._listeners.indexOf(t);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const t=new AbortController,a=r=>{t.abort(r)};return this.subscribe(a),t.signal.unsubscribe=()=>this.unsubscribe(a),t.signal}static source(){let t;return{token:new zz(function(n){t=n}),cancel:t}}};function kde(e){return function(a){return e.apply(null,a)}}function Sde(e){return bt.isObject(e)&&e.isAxiosError===!0}const nC={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(nC).forEach(([e,t])=>{nC[t]=e});function Hz(e){const t=new em(e),a=yz(em.prototype.request,t);return bt.extend(a,em.prototype,t,{allOwnKeys:!0}),bt.extend(a,t,null,{allOwnKeys:!0}),a.create=function(n){return Hz(vm(e,n))},a}const Fn=Hz(Q1);Fn.Axios=em;Fn.CanceledError=Ox;Fn.CancelToken=Nde;Fn.isCancel=Oz;Fn.VERSION=Uz;Fn.toFormData=Qj;Fn.AxiosError=rs;Fn.Cancel=Fn.CanceledError;Fn.all=function(t){return Promise.all(t)};Fn.spread=kde;Fn.isAxiosError=Sde;Fn.mergeConfig=vm;Fn.AxiosHeaders=go;Fn.formToJSON=e=>Lz(bt.isHTMLForm(e)?new FormData(e):e);Fn.getAdapter=$z.getAdapter;Fn.HttpStatusCode=nC;Fn.default=Fn;const{Axios:tHe,AxiosError:aHe,CanceledError:sHe,isCancel:rHe,CancelToken:nHe,VERSION:iHe,all:lHe,Cancel:oHe,isAxiosError:cHe,spread:dHe,toFormData:uHe,AxiosHeaders:hHe,HttpStatusCode:fHe,formToJSON:mHe,getAdapter:pHe,mergeConfig:xHe}=Fn,Cde="/",Sa=Fn.create({baseURL:Cde});Sa.interceptors.request.use(e=>{try{const t=window.localStorage.getItem("token");t&&(e.headers=e.headers||{},e.headers.Authorization=`Bearer ${t}`)}catch{}return e});Sa.interceptors.response.use(e=>e,e=>{try{if(e?.response?.status===401){window.localStorage.removeItem("token");const a=new CustomEvent("app:toast",{detail:{type:"error",message:"Authentication required"}});window.dispatchEvent(a),typeof window<"u"&&(window.location.hash="#/login")}else{const a=e?.response?.data?.message||e?.message||"Request failed",r=new CustomEvent("app:toast",{detail:{type:"error",message:a}});window.dispatchEvent(r)}}catch{}return Promise.reject(e)});function Ade(e,t){return t.startsWith("/api/users")?e==="GET"?/\/api\/users\/.+/.test(t)?{id:1,name:"Demo User",email:"demo@example.com",role:"admin"}:[{id:1,name:"Demo User",role:"admin"},{id:2,name:"Agent 1",role:"agent"}]:{ok:!0}:t.startsWith("/api/customers")?e==="GET"?/\/api\/customers\/.+/.test(t)?{id:101,name:"Acme Corp",phone:"+201234567890"}:[{id:101,name:"Acme Corp",phone:"+201234567890"},{id:102,name:"Globex",phone:"+201112223334"}]:{ok:!0}:t.startsWith("/api/visits")?e==="GET"?/\/api\/visits\/.+/.test(t)?{id:201,customerId:101,date:"2025-01-01",notes:"Site visit"}:[{id:201,customerId:101,date:"2025-01-01",notes:"Site visit"},{id:202,customerId:102,date:"2025-01-02",notes:"Follow-up"}]:{ok:!0}:t.startsWith("/api/tasks")?e==="GET"?/\/api\/tasks\/.+/.test(t)?{id:301,title:"Call customer",status:"open",assigneeId:1}:[{id:301,title:"Call customer",status:"open",assigneeId:1},{id:302,title:"Prepare quotation",status:"in_progress",assigneeId:2}]:{ok:!0}:t.startsWith("/api/reports")?{summary:{leads:120,deals:35,revenue:25e4},activities:[{id:1,action:"login",user:"Demo User"}]}:t.startsWith("/api/login")?{token:"demo-token"}:t.startsWith("/api/company-info")?{user:{id:1,name:"Demo User",role:"admin"},company:{id:1,name:"Demo Company"},activeModules:["leads","campaigns","settings"],subscription:{status:"active"}}:{ok:!0}}{const e=t=>async(a,r)=>({data:Ade(t,a)});Sa.get=e("GET"),Sa.post=e("POST"),Sa.put=e("PUT"),Sa.delete=e("DELETE")}const _de=async(e,t)=>{const a=await Sa.post("/api/login",{email:e,password:t}),r=a?.data?.data?.token||a?.data?.token;r&&window.localStorage.setItem("token",r);const n=new CustomEvent("app:toast",{detail:{type:"success",message:"Logged in"}});return window.dispatchEvent(n),r},tM=async()=>{try{await Sa.post("/api/logout")}catch{}window.localStorage.removeItem("token");const e=new CustomEvent("app:toast",{detail:{type:"success",message:"Logged out"}});window.dispatchEvent(e)},Ede=async()=>{const e=await Sa.get("/api/company-info");return e?.data?.data||e?.data};function Tde(){try{const e=typeof navigator<"u"?navigator:{},t=typeof screen<"u"?screen:{},a=[e.userAgent||"-",e.platform||"-",e.language||"-",(t.width||"-")+"x"+(t.height||"-")].join("|");let r=0;for(let n=0;n<a.length;n++)r=(r<<5)-r+a.charCodeAt(n),r|=0;return"dev-"+Math.abs(r).toString(36)}catch{return"dev-unknown"}}function Dde(){const e=typeof navigator<"u"&&navigator.userAgent||"";return/iPhone|iPad|iPod/i.test(e)?"iOS Device":/Android/i.test(e)?"Android Device":/Macintosh/i.test(e)?"Mac":/Windows/i.test(e)?"Windows PC":/Linux/i.test(e)?"Linux PC":"Unknown Device"}function Pde(){const e=typeof navigator<"u"&&navigator.userAgent||"";return/Chrome\//i.test(e)&&!/Edg\//i.test(e)?"Chrome":/Safari\//i.test(e)&&!/Chrome\//i.test(e)?"Safari":/Edg\//i.test(e)?"Edge":/Firefox\//i.test(e)?"Firefox":"Unknown"}function Mde(){const e=Tde(),t=Dde(),a=Pde(),r=typeof navigator<"u"&&navigator.platform||"unknown",n=typeof navigator<"u"&&navigator.userAgent||"",i=typeof screen<"u"?`${screen.width||"-"}x${screen.height||"-"}`:"-";return{deviceId:e,device:t,browser:a,platform:r,userAgent:n,resolution:i,ip:"N/A",at:new Date().toISOString()}}function Lde(e){try{const t=window.localStorage.getItem(`user_devices_${e}`);return t?JSON.parse(t):[]}catch{return[]}}function Ode(e,t){if(!(!e||!t))try{const a=`user_devices_${e}`,r=Lde(e),i=r.some(l=>l.deviceId===t.deviceId)?r.map(l=>l.deviceId===t.deviceId?{...t}:l):[t,...r];window.localStorage.setItem(a,JSON.stringify(i))}catch{}}const Vz=y.createContext(null);function Rde({children:e}){const[t,a]=y.useState({id:1,name:"Demo User",role:"admin"}),[r,n]=y.useState({id:1,name:"Demo Company"}),[i,l]=y.useState({status:"active",end_date:null}),[o,c]=y.useState(["leads","campaigns","settings"]),[d,u]=y.useState(!0),f=y.useMemo(()=>{if(!i||String(i.status||"").toLowerCase()!=="active")return!1;const k=i.end_date?new Date(i.end_date):null;return k?k.getTime()>=Date.now():!0},[i]),p=y.useCallback(j=>{j&&(a(j.user||{id:1,name:"Demo User",role:"admin"}),n(j.company||{id:1,name:"Demo Company"}),l(j.subscription||{status:"active",end_date:null}),c(Array.isArray(j.activeModules)?j.activeModules:["leads","campaigns","settings"]))},[]),m=y.useCallback(async()=>{const j=await Ede();return p(j),j},[p]),v=y.useCallback(async(j,k)=>{const S=await _de(j,k),N=await m();try{const A=N?.user?.id||j,_=Mde();Ode(A,_)}catch{}return S},[m]),g=y.useCallback(j=>j?o.includes(j):!1,[o]),b=y.useMemo(()=>({user:t,company:r,subscription:i,activeModules:o,isSubscriptionActive:f,setProfile:p,fetchCompanyInfo:m,login:v,canAccess:g,bootstrapped:d}),[t,r,i,o,f,p,m,v,g,d]);return y.useEffect(()=>{u(!0)},[]),s.jsx(Vz.Provider,{value:b,children:e})}function eN(){const e=y.useContext(Vz);if(!e)throw new Error("useAppState must be used within AppStateProvider");return e}function Fde(){const e=In(),{login:t}=eN(),[a,r]=y.useState(""),[n,i]=y.useState(""),[l,o]=y.useState(null),[c,d]=y.useState(!1),u=async f=>{f.preventDefault(),o(null),d(!0);try{const p=(a||"").trim(),m=(n||"").trim();await t(p,m),e("/dashboard")}catch{o("Invalid credentials")}finally{d(!1)}};return s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-sky-200 via-cyan-200 to-teal-300 dark:from-slate-900 dark:via-cyan-900/80 dark:to-teal-900 p-4",children:s.jsxs("form",{onSubmit:u,className:"w-full max-w-sm p-8 rounded-3xl bg-white/30 dark:bg-gray-800/30 backdrop-blur-md border border-white/40 shadow-lg space-y-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4 text-center",children:"Login"}),s.jsx("input",{type:"email",value:a,onChange:f=>r(f.target.value),placeholder:"Email",required:!0,autoFocus:!0,className:"w-full p-3 rounded-xl border border-gray-300 dark:border-gray-700 bg-white/60 dark:bg-gray-700/50 text-gray-900 dark:text-white placeholder-gray-600 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-400"}),s.jsx("input",{type:"password",value:n,onChange:f=>i(f.target.value),placeholder:"Password",required:!0,className:"w-full p-3 rounded-xl border border-gray-300 dark:border-gray-700 bg-white/60 dark:bg-gray-700/50 text-gray-900 dark:text-white placeholder-gray-600 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-400"}),s.jsx("button",{type:"submit",disabled:c,className:"w-full p-3 rounded-xl bg-cyan-500 text-white font-semibold shadow-md hover:bg-cyan-600 focus:outline-none focus:ring-2 focus:ring-cyan-400 transition-all",children:c?"Loading":"Login"}),l&&s.jsx("p",{className:"text-red-600 text-sm text-center",children:l})]})})}const U5={name:"",phone:"",email:"",type:"Individual",country:"",city:"",addressLine:"",companyName:"",taxNumber:"",contacts:[],tags:[],notes:"",assignedSalesRep:""},aM=[{id:"CUST-001",name:" ",phone:"+201234567890",email:"ahmed@example.com",type:"Individual",country:"Egypt",city:"Cairo",addressLine:"Nasr City",companyName:"",taxNumber:"",contacts:[],tags:["VIP","Hot"],notes:"   ",assignedSalesRep:"Ibrahim",createdAt:new Date(Date.now()-864e5).toISOString()},{id:"CUST-002",name:"Techno LLC",phone:"+971555123456",email:"sales@techno.com",type:"Company",country:"UAE",city:"Dubai",addressLine:"Business Bay",companyName:"Techno LLC",taxNumber:"TRN-12345",contacts:[{name:"Sara Ali",phone:"+971555234567",email:"sara@techno.com"}],tags:["B2B"],notes:"    ",assignedSalesRep:"Adam",createdAt:new Date(Date.now()-36e5).toISOString()},{id:"CUST-003",name:"John Doe",phone:"+12025550123",email:"john.doe@example.com",type:"Individual",country:"USA",city:"New York",addressLine:"5th Avenue",companyName:"",taxNumber:"",contacts:[],tags:["Priority"],notes:"  ",assignedSalesRep:"Noura",createdAt:new Date().toISOString()}],Ide=()=>{const[e,t]=y.useState([]),[a,r]=y.useState(!1),[n,i]=y.useState(""),[l,o]=y.useState(U5),[c,d]=y.useState(null),[u,f]=y.useState(!1),[p,m]=y.useState(""),[v,g]=y.useState(""),[b,j]=y.useState(""),[k,S]=y.useState(""),[N,A]=y.useState(""),_=async()=>{try{r(!0),i("");const{data:K}=await Sa.get("/api/customers",{params:{q:p,type:v||void 0,assignedSalesRep:b||void 0,dateFrom:k||void 0,dateTo:N||void 0,limit:50}}),V=K?.data?.items||[];t(Array.isArray(V)&&V.length>0?V:aM)}catch{i("Failed to load customers"),t(aM)}finally{r(!1)}};y.useEffect(()=>{_()},[]),y.useEffect(()=>{const K=setTimeout(()=>{_()},300);return()=>clearTimeout(K)},[p,v,b,k,N]);const E=()=>{o(U5),d(null),f(!1)},D=async K=>{K?.preventDefault?.();try{r(!0),i("");const V={...l,tags:Array.isArray(l.tags)?l.tags:String(l.tags||"").split(",").map(J=>J.trim()).filter(Boolean),contacts:Array.isArray(l.contacts)?l.contacts:[]};c?await Sa.put(`/api/customers/${c}`,V):await Sa.post("/api/customers",V),await _(),E()}catch{i("Failed to save customer")}finally{r(!1)}},R=K=>{d(K.id),o({name:K.name||"",phone:K.phone||"",email:K.email||"",type:K.type||"Individual",country:K.country||"",city:K.city||"",addressLine:K.addressLine||"",companyName:K.companyName||"",taxNumber:K.taxNumber||"",contacts:K.contacts||[],tags:K.tags||[],notes:K.notes||"",assignedSalesRep:K.assignedSalesRep||K.assignedTo||""}),f(!0)},I=async K=>{try{r(!0),await Sa.delete(`/api/customers/${K}`),await _()}catch{i("Failed to delete customer")}finally{r(!1)}},M=async K=>{try{r(!0),await Sa.post(`/api/customers/${K}/restore`),await _()}catch{i("Failed to restore customer")}finally{r(!1)}},U=()=>{o(K=>({...K,contacts:[...K.contacts||[],{name:"",phone:"",email:""}]}))},P=(K,V,J)=>{o(Q=>{const z=[...Q.contacts||[]];return z[K]={...z[K],[V]:J},{...Q,contacts:z}})},F=K=>{o(V=>{const J=[...V.contacts||[]];return J.splice(K,1),{...V,contacts:J}})};return s.jsxs("div",{className:"space-y-4 bg-[var(--content-bg)] text-[var(--content-text)] overflow-x-hidden overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Customers"}),s.jsx("div",{children:s.jsx("button",{className:"btn btn-primary",onClick:()=>{f(!0),d(null),o(U5)},children:"Add Customer"})})]}),s.jsxs("section",{className:"nova-card glass-neon p-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[s.jsx("input",{className:"input w-full min-w-0",placeholder:"Search name/phone/email",value:p,onChange:K=>m(K.target.value)}),s.jsxs("select",{className:"input w-full min-w-0",value:v,onChange:K=>g(K.target.value),children:[s.jsx("option",{value:"",children:"All Types"}),s.jsx("option",{value:"Individual",children:"Individual"}),s.jsx("option",{value:"Company",children:"Company"})]}),s.jsx("input",{className:"input w-full min-w-0",placeholder:"Assigned Sales Rep",value:b,onChange:K=>j(K.target.value)}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("input",{type:"date",className:"input w-full min-w-0",value:k,onChange:K=>S(K.target.value)}),s.jsx("input",{type:"date",className:"input w-full min-w-0",value:N,onChange:K=>A(K.target.value)})]})]}),s.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:s.jsx("button",{className:"btn",onClick:()=>{m(""),g(""),j(""),S(""),A(""),_()},children:"Reset"})})]}),u&&s.jsx("section",{className:"nova-card glass-neon p-4",children:s.jsxs("form",{onSubmit:D,className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Customer Name *"}),s.jsx("input",{className:"input",value:l.name,onChange:K=>o({...l,name:K.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Phone *"}),s.jsx("input",{className:"input",value:l.phone,onChange:K=>o({...l,phone:K.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Email"}),s.jsx("input",{className:"input",value:l.email,onChange:K=>o({...l,email:K.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Customer Type"}),s.jsxs("select",{className:"input",value:l.type,onChange:K=>o({...l,type:K.target.value}),children:[s.jsx("option",{children:"Individual"}),s.jsx("option",{children:"Company"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Country"}),s.jsx("input",{className:"input",value:l.country,onChange:K=>o({...l,country:K.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"City"}),s.jsx("input",{className:"input",value:l.city,onChange:K=>o({...l,city:K.target.value})})]}),s.jsxs("div",{className:"lg:col-span-2",children:[s.jsx("label",{className:"label",children:"Address Line"}),s.jsx("input",{className:"input",value:l.addressLine,onChange:K=>o({...l,addressLine:K.target.value})})]}),l.type==="Company"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Company Name *"}),s.jsx("input",{className:"input",value:l.companyName,onChange:K=>o({...l,companyName:K.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Tax Number"}),s.jsx("input",{className:"input",value:l.taxNumber,onChange:K=>o({...l,taxNumber:K.target.value})})]}),s.jsxs("div",{className:"lg:col-span-2",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("label",{className:"label",children:"Contacts"}),s.jsx("button",{type:"button",className:"btn btn-secondary",onClick:U,children:"Add Contact"})]}),(l.contacts||[]).length===0&&s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:"No contacts"}),(l.contacts||[]).map((K,V)=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 mb-2",children:[s.jsx("input",{className:"input",placeholder:"Contact Name",value:K.name,onChange:J=>P(V,"name",J.target.value)}),s.jsx("input",{className:"input",placeholder:"Contact Phone",value:K.phone,onChange:J=>P(V,"phone",J.target.value)}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{className:"input",placeholder:"Contact Email",value:K.email,onChange:J=>P(V,"email",J.target.value)}),s.jsx("button",{type:"button",className:"btn",onClick:()=>F(V),children:"Remove"})]})]},V))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Tags (comma-separated)"}),s.jsx("input",{className:"input",value:Array.isArray(l.tags)?l.tags.join(", "):l.tags,onChange:K=>o({...l,tags:K.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Assigned Sales Rep"}),s.jsx("input",{className:"input",value:l.assignedSalesRep,onChange:K=>o({...l,assignedSalesRep:K.target.value})})]}),s.jsxs("div",{className:"lg:col-span-2",children:[s.jsx("label",{className:"label",children:"Notes"}),s.jsx("textarea",{className:"input",rows:3,value:l.notes,onChange:K=>o({...l,notes:K.target.value})})]}),s.jsxs("div",{className:"lg:col-span-2 flex gap-2",children:[s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a,children:c?"Save Changes":"Create Customer"}),s.jsx("button",{type:"button",className:"btn",onClick:E,children:"Cancel"})]}),n&&s.jsx("div",{className:"lg:col-span-2 text-red-500 text-sm",children:n})]})}),s.jsx("section",{className:"nova-card glass-neon p-4",children:s.jsx("div",{className:"overflow-auto -mx-4",children:s.jsxs("table",{className:"nova-table w-full text-sm min-w-[1000px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left bg-[var(--table-header-bg)]",children:[s.jsx("th",{className:"py-2 px-3",children:"Name"}),s.jsx("th",{className:"py-2 px-3",children:"Type"}),s.jsx("th",{className:"py-2 px-3",children:"Contact"}),s.jsx("th",{className:"py-2 px-3",children:"Company"}),s.jsx("th",{className:"py-2 px-3",children:"Tags"}),s.jsx("th",{className:"py-2 px-3",children:"Assigned Rep"}),s.jsx("th",{className:"py-2 px-3",children:"Created"}),s.jsx("th",{className:"py-2 px-3",children:"Actions"})]})}),s.jsxs("tbody",{children:[a&&s.jsx("tr",{children:s.jsx("td",{className:"py-3 px-3",colSpan:8,children:"Loading..."})}),!a&&e.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"py-3 px-3",colSpan:8,children:"No customers"})}),!a&&e.map(K=>s.jsxs("tr",{className:"border-t border-[var(--table-row-border)] odd:bg-[var(--table-row-bg)]",children:[s.jsxs("td",{className:"py-2 px-3",children:[s.jsx("div",{className:"font-medium",children:K.name}),s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:K.email}),s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:K.phone})]}),s.jsx("td",{className:"py-2 px-3",children:K.type||""}),s.jsx("td",{className:"py-2 px-3",children:Array.isArray(K.contacts)&&K.contacts.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-xs",children:K.contacts[0].name}),s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:K.contacts[0].phone}),K.contacts[0].email&&s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:K.contacts[0].email})]}):K.email||K.phone?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-xs",children:K.email||""}),K.phone&&s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:K.phone})]}):K.city?`${K.city}, ${K.country}`:K.country||""}),s.jsx("td",{className:"py-2 px-3",children:K.companyName||""}),s.jsx("td",{className:"py-2 px-3",children:Array.isArray(K.tags)?K.tags.join(", "):""}),s.jsx("td",{className:"py-2 px-3",children:K.assignedSalesRep||K.assignedTo||""}),s.jsx("td",{className:"py-2 px-3 text-xs",children:new Date(K.createdAt).toLocaleString()}),s.jsx("td",{className:"py-2 px-3",children:s.jsxs("div",{className:"flex gap-2",children:[!K.deletedAt&&s.jsx("button",{className:"btn btn-secondary",onClick:()=>R(K),children:"Edit"}),!K.deletedAt&&s.jsx("button",{className:"btn",onClick:()=>I(K.id),children:"Delete"}),K.deletedAt&&s.jsx("button",{className:"btn btn-secondary",onClick:()=>M(K.id),children:"Restore"})]})})]},K.id))]})]})})})]})},Bde=({isOpen:e,onClose:t,onSave:a})=>{const{t:r}=St(),n=()=>({name:"",phone:"",email:"",company:"",status:"new",priority:"medium",source:"direct",notes:"",assignedTo:"",estimatedValue:""}),[i,l]=y.useState([n()]),[o,c]=y.useState([]);y.useEffect(()=>{try{const m=JSON.parse(localStorage.getItem("crmStages")||"[]");if(Array.isArray(m)&&m.length>0){const v=m.map(g=>typeof g=="string"?g:g?.name).filter(Boolean);c(v)}else c(["new","qualified","in-progress","converted","lost"])}catch{c(["new","qualified","in-progress","converted","lost"])}},[e]);const d=(m,v,g)=>{l(b=>b.map((j,k)=>k===m?{...j,[v]:g}:j))},u=()=>l(m=>[...m,n()]),f=m=>l(v=>v.filter((g,b)=>b!==m)),p=()=>{const m=i.filter(v=>v.name?.trim()||v.phone?.trim()||v.email?.trim()).map((v,g)=>({id:Date.now()+g,name:v.name?.trim()||"",email:v.email?.trim()||"",phone:v.phone?.trim()||"",company:v.company?.trim()||"",status:v.status||"new",priority:v.priority||"medium",source:v.source||"direct",assignedTo:v.assignedTo?.trim()||"Unassigned",createdAt:new Date().toISOString(),lastContact:new Date().toISOString(),estimatedValue:isNaN(parseFloat(v.estimatedValue))?0:parseFloat(v.estimatedValue),notes:v.notes?.trim()||""}));if(m.length===0){t&&t();return}a&&a(m),t&&t(),l([n(),n(),n()])};return e?s.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white sm:rounded-2xl shadow-2xl border border-gray-200 w-full h-screen sm:max-w-[1100px] sm:max-h-[90vh] sm:h-auto sm:overflow-hidden overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add Leads"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",title:r("Close"),children:s.jsx(Lc,{size:20})})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"overflow-x-auto dribbble-card",children:s.jsxs("table",{className:"add-lead-table min-w-[1300px] w-full table-auto text-sm md:text-base text-gray-900",children:[s.jsx("thead",{className:"thead-soft sticky top-0",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 border-b text-right whitespace-nowrap",children:r("Lead")}),s.jsx("th",{className:"px-3 py-2 border-b text-right whitespace-nowrap",children:r("Contact")}),s.jsx("th",{className:"px-3 py-2 border-b text-right whitespace-nowrap",children:r("Source")}),s.jsx("th",{className:"px-3 py-2 border-b text-right whitespace-nowrap",children:r("Project")}),s.jsx("th",{className:"px-3 py-2 border-b text-right whitespace-nowrap",children:r("Sales")}),s.jsx("th",{className:"px-3 py-2 border-b text-right whitespace-nowrap",children:r("Last Comment")}),s.jsx("th",{className:"px-3 py-2 border-b text-right whitespace-nowrap",children:r("Stage")}),s.jsx("th",{className:"px-3 py-2 border-b text-right whitespace-nowrap",children:r("Expected Revenue")}),s.jsx("th",{className:"px-3 py-2 border-b text-right whitespace-nowrap",children:r("Priority")}),s.jsx("th",{className:"px-3 py-2 border-b text-right whitespace-nowrap",children:r("Status")}),s.jsx("th",{className:"px-3 py-2 border-b text-right whitespace-nowrap",children:"#"})]})}),s.jsx("tbody",{children:i.map((m,v)=>s.jsxs("tr",{className:"odd:bg-white even:bg-gray-50",children:[s.jsx("td",{className:"px-2 py-2 border-t align-top whitespace-nowrap",children:s.jsx("input",{type:"text",value:m.name,onChange:g=>d(v,"name",g.target.value),placeholder:r("Lead Name"),className:"input-soft w-full placeholder:text-gray-400"})}),s.jsx("td",{className:"px-2 py-2 border-t align-top whitespace-nowrap",children:s.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ji,{className:"text-gray-500"}),s.jsx("input",{type:"text",value:m.phone,onChange:g=>d(v,"phone",g.target.value),placeholder:r("Phone"),className:"input-soft w-full placeholder:text-gray-400"}),s.jsx(Hl,{className:"text-green-500"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Di,{className:"text-gray-500"}),s.jsx("input",{type:"email",value:m.email,onChange:g=>d(v,"email",g.target.value),placeholder:r("Email"),className:"input-soft w-full placeholder:text-gray-400"})]})]})}),s.jsx("td",{className:"px-2 py-2 border-t align-top whitespace-nowrap",children:s.jsxs("select",{value:m.source,onChange:g=>d(v,"source",g.target.value),className:"select-soft w-full",children:[s.jsx("option",{value:"website",children:r("Website")}),s.jsx("option",{value:"social-media",children:r("Social Media")}),s.jsx("option",{value:"referral",children:r("Referral")}),s.jsx("option",{value:"email-campaign",children:r("Email Campaign")}),s.jsx("option",{value:"direct",children:r("Direct")})]})}),s.jsx("td",{className:"px-2 py-2 border-t align-top whitespace-nowrap",children:s.jsx("input",{type:"text",value:m.company,onChange:g=>d(v,"company",g.target.value),placeholder:r("Project"),className:"input-soft w-full placeholder:text-gray-400"})}),s.jsx("td",{className:"px-2 py-2 border-t align-top whitespace-nowrap",children:s.jsx("input",{type:"text",value:m.assignedTo,onChange:g=>d(v,"assignedTo",g.target.value),placeholder:r("Sales"),className:"input-soft w-full placeholder:text-gray-400"})}),s.jsx("td",{className:"px-2 py-2 border-t align-top",children:s.jsx("input",{type:"text",value:m.notes,onChange:g=>d(v,"notes",g.target.value),placeholder:r("Last Comment"),className:"input-soft w-full placeholder:text-gray-400"})}),s.jsx("td",{className:"px-2 py-2 border-t align-top whitespace-nowrap",children:s.jsx("select",{value:m.status,onChange:g=>d(v,"status",g.target.value),className:"select-soft w-full",children:o.map(g=>s.jsx("option",{value:g,children:r(g)},g))})}),s.jsx("td",{className:"px-2 py-2 border-t align-top whitespace-nowrap",children:s.jsx("input",{type:"number",min:"0",step:"0.01",value:m.estimatedValue,onChange:g=>d(v,"estimatedValue",g.target.value),placeholder:r("Expected Revenue"),className:"input-soft w-full placeholder:text-gray-400"})}),s.jsx("td",{className:"px-2 py-2 border-t align-top whitespace-nowrap",children:s.jsxs("select",{value:m.priority,onChange:g=>d(v,"priority",g.target.value),className:"select-soft w-full",children:[s.jsx("option",{value:"low",children:r("Low")}),s.jsx("option",{value:"medium",children:r("Medium")}),s.jsx("option",{value:"high",children:r("High")}),s.jsx("option",{value:"urgent",children:r("Urgent")})]})}),s.jsx("td",{className:"px-2 py-2 border-t align-top whitespace-nowrap",children:s.jsx("select",{value:m.status,disabled:!0,className:"select-soft w-full bg-gray-100 text-gray-700",children:o.map(g=>s.jsx("option",{value:g,children:r(g)},g))})}),s.jsx("td",{className:"px-3 py-3 border-t text-center",children:s.jsx("button",{type:"button",onClick:()=>f(v),className:"px-2 py-1 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-full",title:r("Delete Row"),children:s.jsx(Px,{})})})]},v))})]})}),s.jsxs("div",{className:"flex items-center justify-between mt-6",children:[s.jsxs("button",{type:"button",onClick:u,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2 !bg-green-600 !hover:bg-green-700",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),r("Add Row")]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:r("Cancel")}),s.jsx("button",{type:"button",onClick:p,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:r("Save Leads")})]})]})]})]})}):null},$de=({isOpen:e,onClose:t,lead:a})=>{const{t:r,i18n:n}=St(),i=n.language==="ar",[l,o]=y.useState("details"),[c,d]=y.useState("all"),[u,f]=y.useState("date"),[p,m]=y.useState(""),[v,g]=y.useState(""),[b,j]=y.useState([{id:1,text:i?"         ":"Client is very interested in the project and wants to start as soon as possible",author:i?" ":"Ahmed Ali",date:"2024-01-15",time:"10:30 AM"},{id:2,text:i?"       ":"Financial proposal sent, waiting for response within a week",author:i?" ":"Sara Mohamed",date:"2024-01-16",time:"2:15 PM"},{id:3,text:i?"         ":"Client requested modifications to the proposal, updated version will be sent tomorrow",author:i?" ":"Omar Hassan",date:"2024-01-18",time:"11:00 AM"}]);if(!e||!a)return null;const k=()=>{if(v.trim()){const E={id:b.length+1,text:v,author:i?" ":"Current User",date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})};j([...b,E]),g("")}},S=[{id:1,type:"call",title:i?"   ":"Phone call with client",description:i?"   ":"Phone call with client",date:"2024-01-15",time:"10:30 AM",user:i?" ":"Ahmed Ali",status:"completed",priority:"high",notes:i?"     ":"Discussed project requirements and available budget"},{id:2,type:"email",title:i?"  ":"Send quotation",description:i?"  ":"Send quotation",date:"2024-01-16",time:"2:15 PM",user:i?" ":"Sara Mohamed",status:"completed",priority:"medium",notes:i?"     ":"Sent detailed project quotation"},{id:3,type:"meeting",title:i?"  ":"Office meeting",description:i?"  ":"Office meeting",date:"2024-01-18",time:"11:00 AM",user:i?" ":"Omar Hassan",status:"completed",priority:"high",notes:i?"    ":"Meeting to discuss technical project details"},{id:4,type:"follow_up",title:i?" ":"Follow up on proposal",description:i?" ":"Follow up on proposal",date:"2024-01-20",time:"9:45 AM",user:i?" ":"Fatima Ibrahim",status:"pending",priority:"medium",notes:i?"     ":"Follow up on client response to submitted proposal"},{id:5,type:"proposal",title:i?"  ":"Prepare technical proposal",description:i?"  ":"Prepare technical proposal",date:"2024-01-22",time:"3:30 PM",user:i?" ":"Mohamed Ahmed",status:"in_progress",priority:"high",notes:i?"    ":"Preparing comprehensive technical proposal"},{id:6,type:"document",title:i?" ":"Document review",description:i?" ":"Document review",date:"2024-01-24",time:"1:15 PM",user:i?" ":"Layla Hossam",status:"pending",priority:"low",notes:i?"   ":"Review required project documents"}],N=E=>{switch(E){case"call":return s.jsx(Ji,{className:"text-blue-500"});case"email":return s.jsx(Di,{className:"text-green-500"});case"meeting":return s.jsx(Cc,{className:"text-purple-500"});case"follow_up":return s.jsx(Gg,{className:"text-orange-500"});case"proposal":return s.jsx(xz,{className:"text-indigo-500"});case"document":return s.jsx(_A,{className:"text-gray-500"});default:return s.jsx(xd,{className:"text-gray-500"})}},A=E=>{if(i)switch(E){case"call":return"";case"email":return" ";case"meeting":return"";case"follow_up":return"";case"proposal":return" ";case"document":return"";default:return""}else switch(E){case"call":return"Call";case"email":return"Email";case"meeting":return"Meeting";case"follow_up":return"Follow Up";case"proposal":return"Proposal";case"document":return"Document";default:return"Other"}},_=S.filter(E=>c==="all"?!0:E.type===c).filter(E=>p?E.title.toLowerCase().includes(p.toLowerCase())||E.notes.toLowerCase().includes(p.toLowerCase())||E.user.toLowerCase().includes(p.toLowerCase()):!0).sort((E,D)=>{switch(u){case"date":return new Date(D.date)-new Date(E.date);case"type":return E.type.localeCompare(D.type);case"priority":const R={high:3,medium:2,low:1};return R[D.priority]-R[E.priority];case"status":return E.status.localeCompare(D.status);default:return 0}});return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-0 sm:p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white sm:rounded-2xl shadow-2xl w-full sm:max-w-4xl max-h-[85vh] h-auto overflow-y-auto transform transition-all duration-300 ease-out",children:[s.jsxs("div",{className:"relative bg-gradient-to-r from-blue-600 via-blue-700 to-indigo-700 p-8",children:[s.jsx("div",{className:"absolute inset-0 bg-black/10"}),s.jsx("div",{className:"relative z-10",children:s.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:[s.jsx("div",{className:"w-16 h-16 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center",children:s.jsx(Cc,{className:"text-white text-2xl"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:a.fullName||a.leadName||a.name}),s.jsx("p",{className:"text-blue-100 text-sm font-medium",children:i?"  ":"Lead Details"})]}),s.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[s.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl px-4 py-2",children:s.jsx("span",{className:"text-white text-sm font-medium",children:a.stage||(i?"":"New")})}),s.jsx("div",{className:"bg-green-500/20 backdrop-blur-sm rounded-xl px-4 py-2",children:s.jsx("span",{className:"text-green-100 text-sm font-medium",children:a.status||(i?"":"Active")})})]})]})}),s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/5 rounded-full -translate-y-16 translate-x-16"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white/5 rounded-full translate-y-12 -translate-x-12"})]}),s.jsx("div",{className:"bg-gray-50/50 px-8 pt-6",children:s.jsxs("div",{className:"flex space-x-1 rtl:space-x-reverse bg-gray-100 rounded-2xl p-1.5",children:[s.jsxs("button",{onClick:()=>o("details"),className:`flex-1 px-6 py-3 rounded-xl font-medium transition-all duration-300 flex items-center justify-center space-x-2 rtl:space-x-reverse ${l==="details"?"bg-white text-blue-600 shadow-lg shadow-blue-500/20 transform scale-[1.02]":"text-gray-600 hover:text-gray-800 hover:bg-white/50"}`,children:[s.jsx(Cc,{className:"text-sm"}),s.jsx("span",{children:i?" ":"Client Details"})]}),s.jsxs("button",{onClick:()=>o("actions"),className:`flex-1 px-6 py-3 rounded-xl font-medium transition-all duration-300 flex items-center justify-center space-x-2 rtl:space-x-reverse ${l==="actions"?"bg-white text-blue-600 shadow-lg shadow-blue-500/20 transform scale-[1.02]":"text-gray-600 hover:text-gray-800 hover:bg-white/50"}`,children:[s.jsx(Gg,{className:"text-sm"}),s.jsx("span",{children:i?" ":"Actions & Activities"}),s.jsx("div",{className:"bg-blue-100 text-blue-600 text-xs px-2 py-0.5 rounded-full ml-2 rtl:ml-0 rtl:mr-2",children:_.length})]}),s.jsxs("button",{onClick:()=>o("comments"),className:`flex-1 px-6 py-3 rounded-xl font-medium transition-all duration-300 flex items-center justify-center space-x-2 rtl:space-x-reverse ${l==="comments"?"bg-white text-blue-600 shadow-lg shadow-blue-500/20 transform scale-[1.02]":"text-gray-600 hover:text-gray-800 hover:bg-white/50"}`,children:[s.jsx(xd,{className:"text-sm"}),s.jsx("span",{children:i?"":"Comments"}),s.jsx("div",{className:"bg-blue-100 text-blue-600 text-xs px-2 py-0.5 rounded-full ml-2 rtl:ml-0 rtl:mr-2",children:b.length})]}),s.jsxs("button",{onClick:()=>o("communication"),className:`flex-1 px-6 py-3 rounded-xl font-medium transition-all duration-300 flex items-center justify-center space-x-2 rtl:space-x-reverse ${l==="communication"?"bg-white text-blue-600 shadow-lg shadow-blue-500/20 transform scale-[1.02]":"text-gray-600 hover:text-gray-800 hover:bg-white/50"}`,children:[s.jsx(OP,{className:"text-sm"})," ",s.jsx("span",{children:i?"":"Communication"})]})]})}),s.jsxs("div",{className:"p-8 overflow-y-auto max-h-[calc(85vh-200px)]",children:[l==="details"&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-6 border border-blue-100 shadow-sm",children:[s.jsxs("h3",{className:"text-xl font-semibold text-gray-800 mb-6 flex items-center",children:[s.jsx("div",{className:"bg-blue-500 p-2 rounded-xl mr-3",children:s.jsx(Cc,{className:"text-white text-sm"})}),i?" ":"Basic Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-2",children:i?" ":"Full Name"}),s.jsx("p",{className:"text-gray-800 font-semibold text-lg",children:a.fullName||a.leadName||a.name||(i?" ":"Not specified")})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-2",children:i?" ":"Phone Number"}),s.jsx("p",{className:"text-gray-800 font-medium",children:a.mobile||a.phone||(i?" ":"Not specified")})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-2",children:i?" ":"Email"}),s.jsx("p",{className:"text-gray-800 font-medium",children:a.email||(i?" ":"Not specified")})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-2",children:i?"":"Company"}),s.jsx("p",{className:"text-gray-800 font-medium",children:a.company||(i?" ":"Not specified")})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-2",children:i?"":"Location"}),s.jsx("p",{className:"text-gray-800 font-medium",children:a.location||(i?" ":"Not specified")})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-2",children:i?" ":"Stage Date"}),s.jsx("p",{className:"text-gray-800 font-medium",children:a.stageDate||(i?" ":"Not specified")})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl p-6 border border-purple-100 shadow-sm",children:[s.jsxs("h3",{className:"text-xl font-semibold text-gray-800 mb-6 flex items-center",children:[s.jsx("div",{className:"bg-purple-500 p-2 rounded-xl mr-3",children:s.jsx(eC,{className:"text-white text-sm"})}),i?" ":"Status Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-3",children:i?"":"Status"}),s.jsxs("span",{className:`inline-flex items-center px-4 py-2 rounded-xl text-sm font-semibold shadow-sm ${a.status==="New"?"bg-emerald-100 text-emerald-700 border border-emerald-200":a.status==="Contacted"?"bg-blue-100 text-blue-700 border border-blue-200":a.status==="Qualified"?"bg-amber-100 text-amber-700 border border-amber-200":"bg-gray-100 text-gray-700 border border-gray-200"}`,children:[s.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${a.status==="New"?"bg-emerald-500":a.status==="Contacted"?"bg-blue-500":a.status==="Qualified"?"bg-amber-500":"bg-gray-500"}`}),a.status||(i?" ":"Not specified")]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-3",children:i?"":"Priority"}),s.jsxs("span",{className:`inline-flex items-center px-4 py-2 rounded-xl text-sm font-semibold shadow-sm ${a.priority==="High"?"bg-red-100 text-red-700 border border-red-200":a.priority==="Medium"?"bg-yellow-100 text-yellow-700 border border-yellow-200":a.priority==="Low"?"bg-green-100 text-green-700 border border-green-200":"bg-gray-100 text-gray-700 border border-gray-200"}`,children:[s.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${a.priority==="High"?"bg-red-500":a.priority==="Medium"?"bg-yellow-500":a.priority==="Low"?"bg-green-500":"bg-gray-500"}`}),a.priority||(i?" ":"Not specified")]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-3",children:i?"":"Source"}),s.jsx("p",{className:"text-gray-800 font-medium",children:a.source||(i?" ":"Not specified")})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-teal-50 rounded-2xl p-6 border border-emerald-100 shadow-sm",children:[s.jsxs("h3",{className:"text-xl font-semibold text-gray-800 mb-6 flex items-center",children:[s.jsx("div",{className:"bg-emerald-500 p-2 rounded-xl mr-3",children:s.jsx(OP,{className:"text-white text-sm"})}),i?" ":"Additional Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-2",children:i?" ":"Assigned To"}),s.jsx("p",{className:"text-gray-800 font-medium",children:a.assignedTo||(i?" ":"Not assigned")})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-2",children:i?" ":"Estimated Value"}),s.jsx("p",{className:"text-gray-800 font-semibold text-lg text-emerald-600",children:a.estimatedValue?`$${a.estimatedValue}`:i?" ":"Not specified"})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-2",children:i?"":"Probability"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-emerald-500 h-2 rounded-full transition-all duration-300",style:{width:`${a.probability||0}%`}})}),s.jsx("span",{className:"text-gray-800 font-semibold",children:a.probability?`${a.probability}%`:"0%"})]})]})]})]}),a.notes&&s.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 rounded-2xl p-6 border border-amber-100 shadow-sm",children:[s.jsxs("h3",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx("div",{className:"bg-amber-500 p-2 rounded-xl mr-3",children:s.jsx(xd,{className:"text-white text-sm"})}),i?"":"Notes"]}),s.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:s.jsx("p",{className:"text-gray-700 leading-relaxed",children:a.notes})})]})]}),l==="actions"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-6 border border-blue-100",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-blue-500 p-3 rounded-xl mr-4",children:s.jsx(Gg,{className:"text-white text-lg"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:i?"  ":"Actions & Activities Log"}),s.jsx("p",{className:"text-gray-600 text-sm mt-1",children:i?"    ":"Track all client interactions"})]})]}),s.jsxs("button",{className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all duration-300 flex items-center shadow-lg hover:shadow-xl transform hover:scale-105",children:[s.jsx(ho,{className:"mr-2",size:14}),i?"  ":"Add New Activity"]})]}),s.jsx("div",{className:"space-y-4",children:_.map((E,D)=>s.jsx("div",{className:"bg-white border border-gray-100 rounded-2xl p-6 hover:shadow-lg transition-all duration-300 hover:border-blue-200 group",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-4 rtl:space-x-reverse flex-1",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:`p-3 rounded-xl ${E.type==="call"?"bg-green-100 text-green-600":E.type==="email"?"bg-blue-100 text-blue-600":E.type==="meeting"?"bg-purple-100 text-purple-600":E.type==="note"?"bg-amber-100 text-amber-600":"bg-gray-100 text-gray-600"}`,children:N(E.type)})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse mb-3",children:[s.jsx("h4",{className:"font-semibold text-gray-800 text-lg",children:E.description}),s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${E.type==="call"?"bg-green-100 text-green-700":E.type==="email"?"bg-blue-100 text-blue-700":E.type==="meeting"?"bg-purple-100 text-purple-700":E.type==="note"?"bg-amber-100 text-amber-700":"bg-gray-100 text-gray-700"}`,children:A(E.type)})]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-3 space-x-4 rtl:space-x-reverse",children:[s.jsxs("span",{className:"flex items-center space-x-1 rtl:space-x-reverse",children:[s.jsx(gm,{size:12}),s.jsx("span",{children:E.date})]}),s.jsxs("span",{className:"flex items-center space-x-1 rtl:space-x-reverse",children:[s.jsx(hw,{size:12}),s.jsx("span",{children:E.time})]}),s.jsxs("span",{className:"flex items-center space-x-1 rtl:space-x-reverse",children:[s.jsx(Cc,{size:12}),s.jsx("span",{children:E.user})]})]}),E.notes&&s.jsx("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-100",children:s.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:E.notes})})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[s.jsx("button",{className:"p-2 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-lg transition-all duration-200",title:i?"":"Edit",children:s.jsx(Lf,{size:14})}),s.jsx("button",{className:"p-2 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-lg transition-all duration-200",title:i?"":"Delete",children:s.jsx(Px,{size:14})})]})]})},E.id))}),S.length===0&&s.jsxs("div",{className:"text-center py-12 bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl border border-gray-200",children:[s.jsx("div",{className:"bg-gray-200 p-4 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center",children:s.jsx(Gg,{size:32,className:"text-gray-400"})}),s.jsx("h4",{className:"text-lg font-medium text-gray-600 mb-2",children:i?"  ":"No Activities"}),s.jsx("p",{className:"text-gray-500",children:i?"      ":"No activities recorded for this lead"})]})]}),l==="comments"&&s.jsx("div",{className:"p-6 bg-gradient-to-br from-gray-50 to-white min-h-[400px]",children:s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 p-6 rounded-xl shadow-lg mb-6",children:[s.jsxs("h3",{className:"text-xl font-bold text-white mb-2 flex items-center",children:[s.jsx("div",{className:"bg-white/20 p-2 rounded-lg ml-3",children:s.jsx(xd,{className:"text-white",size:20})}),i?" ":"Comments & Notes"]}),s.jsx("p",{className:"text-purple-100 text-sm",children:i?"    ":"Track all important comments and notes"})]}),s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-6 rounded-xl border border-blue-200 shadow-sm mb-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 p-2 rounded-lg ml-3",children:s.jsx(ho,{className:"text-white",size:16})}),s.jsx("h4",{className:"font-semibold text-gray-800",children:i?"  ":"Add New Comment"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("textarea",{value:v,onChange:E=>g(E.target.value),placeholder:i?"  ...":"Write your comment here...",className:"w-full p-4 border-2 border-blue-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none transition-all duration-200 bg-white/80 backdrop-blur-sm",rows:"4"}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("button",{onClick:k,disabled:!v.trim(),className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:from-blue-700 hover:to-purple-700 disabled:from-gray-400 disabled:to-gray-400 disabled:cursor-not-allowed transition-all duration-200 flex items-center shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:[s.jsx(ho,{className:"ml-2",size:14}),i?" ":"Add Comment"]})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-gradient-to-r from-green-500 to-teal-500 p-2 rounded-lg ml-3",children:s.jsx(Gg,{className:"text-white",size:16})}),s.jsx("h4",{className:"font-semibold text-gray-800",children:i?" ":"Comments History"})]}),s.jsx("div",{className:"bg-gradient-to-r from-green-100 to-teal-100 px-3 py-1 rounded-full",children:s.jsxs("span",{className:"text-green-700 font-medium text-sm",children:[b.length," ",i?"":"comments"]})})]}),b.length>0?s.jsx("div",{className:"space-y-4",children:b.map((E,D)=>s.jsxs("div",{className:"bg-white border-2 border-gray-100 rounded-xl p-5 shadow-md hover:shadow-lg transition-all duration-200 transform hover:-translate-y-1",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center shadow-lg",children:s.jsx(Cc,{className:"text-white",size:16})}),s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold text-gray-800 text-lg",children:E.author}),s.jsxs("div",{className:"flex items-center text-sm text-gray-500 mt-1",children:[s.jsx(hw,{className:"ml-1",size:12}),E.date," ",i?"":"at"," ",E.time]})]})]}),s.jsx("div",{className:"bg-gradient-to-r from-gray-100 to-gray-200 px-3 py-1 rounded-full",children:s.jsxs("span",{className:"text-gray-600 text-xs font-medium",children:["#",D+1]})})]}),s.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-blue-50 p-4 rounded-lg border-l-4 border-blue-500",children:s.jsx("p",{className:"text-gray-700 leading-relaxed",children:E.text})})]},E.id))}):s.jsxs("div",{className:"text-center py-12 bg-gradient-to-br from-gray-50 to-blue-50 rounded-xl border-2 border-dashed border-gray-300",children:[s.jsx("div",{className:"bg-gradient-to-r from-gray-400 to-blue-400 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(xd,{size:24,className:"text-white"})}),s.jsx("h4",{className:"text-lg font-medium text-gray-600 mb-2",children:i?"  ":"No Comments"}),s.jsx("p",{className:"text-gray-500",children:i?"     ":"No comments for this lead"})]})]})]})}),l==="communication"&&s.jsxs("div",{className:"p-8 space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-6 border border-blue-100 shadow-sm",children:s.jsxs("h3",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx("div",{className:"bg-blue-500 p-2 rounded-xl mr-3",children:s.jsx(xd,{className:"text-white text-sm"})}),i?"":"Communication"]})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[s.jsxs("button",{onClick:()=>window.open(`https://wa.me/${a?.phone}`,"_blank"),className:"flex flex-col items-center justify-center p-4 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:[s.jsx(Hl,{className:"text-2xl mb-2"}),s.jsx("span",{className:"text-sm font-medium",children:i?"":"WhatsApp"})]}),s.jsxs("button",{onClick:()=>window.open(`mailto:${a?.email}`,"_blank"),className:"flex flex-col items-center justify-center p-4 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:[s.jsx(Di,{className:"text-2xl mb-2"}),s.jsx("span",{className:"text-sm font-medium",children:i?" ":"Email"})]}),s.jsxs("button",{onClick:()=>window.open(`tel:${a?.phone}`,"_blank"),className:"flex flex-col items-center justify-center p-4 bg-purple-500 text-white rounded-xl hover:bg-purple-600 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:[s.jsx(Ji,{className:"text-2xl mb-2"}),s.jsx("span",{className:"text-sm font-medium",children:i?"":"Call"})]}),s.jsxs("button",{onClick:()=>alert(i?"    ":"Video app will open soon"),className:"flex flex-col items-center justify-center p-4 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:[s.jsx(fw,{className:"text-2xl mb-2"}),s.jsx("span",{className:"text-sm font-medium",children:i?" ":"Video Call"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-gray-100 shadow-sm",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h4",{className:"text-lg font-medium text-gray-700",children:i?" ":"Communication Feed"}),s.jsxs("button",{onClick:()=>alert(i?"   ":"New message will be added"),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors flex items-center space-x-2",children:[s.jsx(ho,{className:"text-sm"}),s.jsx("span",{className:"text-sm",children:i?" ":"Add Message"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"p-4 bg-gradient-to-r from-green-50 to-green-100 rounded-xl border-l-4 border-green-500 hover:shadow-md transition-shadow cursor-pointer",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center mr-3 shadow-md",children:s.jsx(Hl,{className:"text-white text-sm"})}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-semibold text-gray-800",children:i?" ":"Mohamed Ali"}),s.jsx("p",{className:"text-xs text-gray-500",children:i?" ":"WhatsApp Message"})]})]}),s.jsx("p",{className:"text-sm text-gray-700 bg-white p-3 rounded-lg shadow-sm",children:i?"        ":"Hello, can we schedule a meeting to discuss the project details?"})]}),s.jsxs("div",{className:"text-xs text-gray-500 ml-4 text-center",children:[s.jsx("div",{className:"bg-green-500 text-white px-2 py-1 rounded-full mb-1",children:"10:30 AM"}),s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mx-auto animate-pulse"})]})]})}),s.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-blue-100 rounded-xl border-l-4 border-blue-500 hover:shadow-md transition-shadow cursor-pointer",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center mr-3 shadow-md",children:s.jsx(Di,{className:"text-white text-sm"})}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-semibold text-gray-800",children:i?" ":"Sara Ahmed"}),s.jsx("p",{className:"text-xs text-gray-500",children:i?" ":"Email"})]})]}),s.jsx("p",{className:"text-sm text-gray-700 bg-white p-3 rounded-lg shadow-sm",children:i?"           ":"Updated financial proposal sent, please review and respond at your earliest convenience"})]}),s.jsxs("div",{className:"text-xs text-gray-500 ml-4 text-center",children:[s.jsx("div",{className:"bg-blue-500 text-white px-2 py-1 rounded-full mb-1",children:"9:15 AM"}),s.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full mx-auto"})]})]})}),s.jsx("div",{className:"p-4 bg-gradient-to-r from-purple-50 to-purple-100 rounded-xl border-l-4 border-purple-500 hover:shadow-md transition-shadow cursor-pointer",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-500 rounded-full flex items-center justify-center mr-3 shadow-md",children:s.jsx(Ji,{className:"text-white text-sm"})}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-semibold text-gray-800",children:i?" ":"Omar Hassan"}),s.jsx("p",{className:"text-xs text-gray-500",children:i?" ":"Phone Call"})]})]}),s.jsx("p",{className:"text-sm text-gray-700 bg-white p-3 rounded-lg shadow-sm",children:i?"   -  15 .     ":"Successful phone call - 15 minutes duration. All important points discussed"})]}),s.jsxs("div",{className:"text-xs text-gray-500 ml-4 text-center",children:[s.jsx("div",{className:"bg-purple-500 text-white px-2 py-1 rounded-full mb-1",children:"Yesterday"}),s.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full mx-auto"})]})]})}),s.jsx("div",{className:"p-4 bg-gradient-to-r from-red-50 to-red-100 rounded-xl border-l-4 border-red-500 hover:shadow-md transition-shadow cursor-pointer",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-10 h-10 bg-red-500 rounded-full flex items-center justify-center mr-3 shadow-md",children:s.jsx(fw,{className:"text-white text-sm"})}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-semibold text-gray-800",children:i?" ":"Ahmed Mohamed"}),s.jsx("p",{className:"text-xs text-gray-500",children:i?" ":"Video Meeting"})]})]}),s.jsx("p",{className:"text-sm text-gray-700 bg-white p-3 rounded-lg shadow-sm",children:i?"   -      ":"Successful video meeting - Project presentation and detailed explanation to client"})]}),s.jsxs("div",{className:"text-xs text-gray-500 ml-4 text-center",children:[s.jsx("div",{className:"bg-red-500 text-white px-2 py-1 rounded-full mb-1",children:"2 days ago"}),s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full mx-auto"})]})]})})]}),s.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-xl",children:[s.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:i?" ":"Quick Reply"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("input",{type:"text",placeholder:i?"  ...":"Type your message here...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("button",{onClick:()=>alert(i?"  ":"Message sent"),className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:i?"":"Send"})]})]})]})]})]}),s.jsx("div",{className:"flex justify-end space-x-3 space-x-reverse p-6 border-t border-gray-200 bg-gradient-to-r from-gray-50 to-white",children:s.jsxs("button",{onClick:t,className:"px-6 py-3 text-gray-600 bg-white border-2 border-gray-300 rounded-xl hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 shadow-md hover:shadow-lg transform hover:-translate-y-0.5 flex items-center",children:[s.jsx(Lc,{className:"ml-2",size:14}),i?"":"Close"]})})]})})},Wz=({isOpen:e,onClose:t,lead:a,theme:r="light"})=>{const{t:n}=St(),[i,l]=y.useState(!1),[o,c]=y.useState(!1),[d,u]=y.useState(!1),[f,p]=y.useState(!1);if(!e||!a)return null;const m=r==="light",v=m?"bg-white":"bg-gray-900",g=m?"text-gray-800":"text-gray-100",b=m?"border-gray-200":"border-gray-700",j=m?"text-gray-600":"text-gray-400",k=_=>{console.log("  :",_)},S=_=>{console.log("  :",_)},N=_=>{console.log("  :",_)},A=()=>{console.log("   :",a),u(!0)};return s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t,"aria-label":"Close modal"}),s.jsxs("div",{className:`relative w-full sm:w-[90%] sm:max-w-2xl max-h-[85vh] h-auto overflow-y-auto rounded-none sm:rounded-2xl border shadow-xl ${v} ${b} ${g}`,children:[s.jsxs("div",{className:`flex items-center justify-between px-6 py-4 border-b ${b}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Cc,{className:"text-blue-600",size:20}),s.jsx("h2",{className:"text-xl font-semibold text-transparent bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 bg-clip-text",children:n("Lead Details")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:A,className:`p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors ${j} hover:text-blue-600`,title:"View",children:s.jsx(gu,{size:16})}),s.jsx("button",{onClick:()=>p(!0),className:"p-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 transition-colors",title:"Add Action",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),s.jsx("button",{onClick:()=>c(!0),className:`p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors ${j} hover:text-green-600`,title:"Edit",children:s.jsx(Lf,{size:16})}),s.jsx("button",{onClick:()=>console.log("Assign lead:",a),className:`p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors ${j} hover:text-purple-600`,title:"Assign",children:s.jsx(Voe,{size:16})}),s.jsx("button",{onClick:()=>console.log("More options for lead:",a),className:`p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors ${j} hover:text-gray-600`,title:"More Options",children:s.jsx(Eoe,{size:16})}),s.jsx("button",{onClick:t,className:`p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors ${j} hover:text-red-600 ml-2`,children:s.jsx(Lc,{size:18})})]})]}),s.jsxs("div",{className:"px-6 py-4 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Cc,{className:j,size:16}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:`text-sm font-medium ${j}`,children:n("Full Name")}),s.jsx("p",{className:"text-lg font-semibold",children:a.leadName||a.name||"N/A"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ji,{className:j,size:16}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:`text-sm font-medium ${j}`,children:n("Mobile")}),s.jsx("p",{className:"text-lg",children:a.mobile||a.phone||"N/A"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Di,{className:j,size:16}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:`text-sm font-medium ${j}`,children:n("Email")}),s.jsx("p",{className:"text-lg",children:a.email||"N/A"})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(AA,{className:j,size:16}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:`text-sm font-medium ${j}`,children:n("Company")}),s.jsx("p",{className:"text-lg",children:a.company||"N/A"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(EA,{className:j,size:16}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:`text-sm font-medium ${j}`,children:n("Location")}),s.jsx("p",{className:"text-lg",children:a.location||a.address||"N/A"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(gm,{className:j,size:16}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:`text-sm font-medium ${j}`,children:n("Stage Date")}),s.jsx("p",{className:"text-lg",children:a.stageDate||a.createdAt||"N/A"})]})]})]})]}),s.jsx("div",{className:`p-4 rounded-lg border ${b} ${m?"bg-gray-50":"bg-gray-800"}`,children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:`text-sm font-medium ${j}`,children:n("Status")}),s.jsx("p",{className:"text-lg font-semibold text-blue-600",children:a.status||"Active"})]}),s.jsxs("div",{children:[s.jsx("label",{className:`text-sm font-medium ${j}`,children:n("Priority")}),s.jsx("p",{className:"text-lg",children:a.priority||"Medium"})]}),s.jsxs("div",{children:[s.jsx("label",{className:`text-sm font-medium ${j}`,children:n("Source")}),s.jsx("p",{className:"text-lg",children:a.source||"Direct"})]})]})}),(a.lastComment||a.notes||a.comment)&&s.jsx("div",{className:`p-4 rounded-lg border ${b} ${m?"bg-gray-50":"bg-gray-800"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(xd,{className:`${j} mt-1`,size:16}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:`text-sm font-medium ${j}`,children:n("Notes")}),s.jsx("p",{className:"text-base mt-1 leading-relaxed",children:a.lastComment||a.notes||a.comment})]})]})}),s.jsxs("div",{className:`p-4 rounded-lg border ${b} ${m?"bg-gray-50":"bg-gray-800"}`,children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:n("Additional Information")}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:`text-sm font-medium ${j}`,children:n("Assigned To")}),s.jsx("p",{className:"text-base",children:a.assignedTo||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:`text-sm font-medium ${j}`,children:n("Estimated Value")}),s.jsx("p",{className:"text-base",children:a.estimatedValue?`$${a.estimatedValue.toLocaleString()}`:"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:`text-sm font-medium ${j}`,children:n("Probability")}),s.jsx("p",{className:"text-base",children:a.probability!==void 0?`${a.probability}%`:"N/A"})]})]})]}),s.jsxs("div",{className:`p-4 rounded-lg border ${b} ${m?"bg-gray-50":"bg-gray-800"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(xd,{className:"text-blue-600"}),n("Recent Activities")]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>p(!0),className:"px-3 py-1.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm flex items-center gap-1",children:[s.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),n("Add Action")]}),s.jsxs("button",{onClick:A,className:"px-3 py-1.5 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors text-sm flex items-center gap-1",children:[s.jsx(gu,{size:12}),n("View All")]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center",children:s.jsx(Ji,{className:"text-blue-600 dark:text-blue-400",size:14})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium text-sm",children:n("Phone Call")}),s.jsx("span",{className:`text-xs ${j}`,children:"2024-01-20"})]}),s.jsx("p",{className:`text-sm mt-1 ${j}`,children:n("Follow-up call completed. Client interested in proposal.")})]})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600",children:[s.jsx("div",{className:"w-8 h-8 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center",children:s.jsx(Di,{className:"text-green-600 dark:text-green-400",size:14})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium text-sm",children:n("Email Sent")}),s.jsx("span",{className:`text-xs ${j}`,children:"2024-01-18"})]}),s.jsx("p",{className:`text-sm mt-1 ${j}`,children:n("Proposal document sent to client for review.")})]})]}),s.jsx("div",{className:"text-center py-2",children:s.jsxs("button",{onClick:A,className:`text-sm ${j} hover:text-blue-600 transition-colors`,children:[n("View all activities")," "]})})]})]})]}),s.jsxs("div",{className:`flex justify-end gap-3 px-6 py-4 border-t ${b}`,children:[s.jsx("button",{onClick:t,className:`px-4 py-2 rounded-lg border transition-colors ${b} ${j} hover:bg-gray-100 dark:hover:bg-gray-800`,children:n("Close")}),s.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",onClick:()=>{console.log("Edit lead:",a)},children:n("Edit Lead")})]})]}),s.jsx(Bde,{isOpen:i,onClose:()=>l(!1),onSave:k}),s.jsx(vz,{isOpen:o,onClose:()=>c(!1),onSave:N,lead:a}),s.jsx($de,{isOpen:d,onClose:()=>u(!1),lead:a}),s.jsx(Mx,{isOpen:f,onClose:()=>p(!1),onSave:S,lead:a})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var pw={};pw.version="0.18.5";var qz=1252,Ude=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],MA={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},LA=function(e){Ude.indexOf(e)!=-1&&(qz=MA[0]=e)};function zde(){LA(1252)}var yd=function(e){LA(e)};function OA(){yd(1200),zde()}function sM(e){for(var t=[],a=0,r=e.length;a<r;++a)t[a]=e.charCodeAt(a);return t}function Hde(e){for(var t=[],a=0;a<e.length>>1;++a)t[a]=String.fromCharCode(e.charCodeAt(2*a)+(e.charCodeAt(2*a+1)<<8));return t.join("")}function Gz(e){for(var t=[],a=0;a<e.length>>1;++a)t[a]=String.fromCharCode(e.charCodeAt(2*a+1)+(e.charCodeAt(2*a)<<8));return t.join("")}var gv=function(e){var t=e.charCodeAt(0),a=e.charCodeAt(1);return t==255&&a==254?Hde(e.slice(2)):t==254&&a==255?Gz(e.slice(2)):t==65279?e.slice(1):e},Gy=function(t){return String.fromCharCode(t)},rM=function(t){return String.fromCharCode(t)},n1,Cf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function i1(e){for(var t="",a=0,r=0,n=0,i=0,l=0,o=0,c=0,d=0;d<e.length;)a=e.charCodeAt(d++),i=a>>2,r=e.charCodeAt(d++),l=(a&3)<<4|r>>4,n=e.charCodeAt(d++),o=(r&15)<<2|n>>6,c=n&63,isNaN(r)?o=c=64:isNaN(n)&&(c=64),t+=Cf.charAt(i)+Cf.charAt(l)+Cf.charAt(o)+Cf.charAt(c);return t}function Go(e){var t="",a=0,r=0,n=0,i=0,l=0,o=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<e.length;)i=Cf.indexOf(e.charAt(d++)),l=Cf.indexOf(e.charAt(d++)),a=i<<2|l>>4,t+=String.fromCharCode(a),o=Cf.indexOf(e.charAt(d++)),r=(l&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(r)),c=Cf.indexOf(e.charAt(d++)),n=(o&3)<<6|c,c!==64&&(t+=String.fromCharCode(n));return t}var ms=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Ch=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,a){return a?new Buffer(t,a):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function Of(e){return ms?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function nM(e){return ms?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var zo=function(t){return ms?Ch(t,"binary"):t.split("").map(function(a){return a.charCodeAt(0)&255})};function tN(e){if(typeof ArrayBuffer>"u")return zo(e);for(var t=new ArrayBuffer(e.length),a=new Uint8Array(t),r=0;r!=e.length;++r)a[r]=e.charCodeAt(r)&255;return t}function Yf(e){if(Array.isArray(e))return e.map(function(r){return String.fromCharCode(r)}).join("");for(var t=[],a=0;a<e.length;++a)t[a]=String.fromCharCode(e[a]);return t.join("")}function Vde(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function RA(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return RA(new Uint8Array(e));for(var t=new Array(e.length),a=0;a<e.length;++a)t[a]=e[a];return t}var _i=ms?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Ch(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,a=0;for(t=0;t<e.length;++t)a+=e[t].length;var r=new Uint8Array(a),n=0;for(t=0,a=0;t<e.length;a+=n,++t)if(n=e[t].length,e[t]instanceof Uint8Array)r.set(e[t],a);else{if(typeof e[t]=="string")throw"wtf";r.set(new Uint8Array(e[t]),a)}return r}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function Wde(e){for(var t=[],a=0,r=e.length+250,n=Of(e.length+255),i=0;i<e.length;++i){var l=e.charCodeAt(i);if(l<128)n[a++]=l;else if(l<2048)n[a++]=192|l>>6&31,n[a++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var o=e.charCodeAt(++i)&1023;n[a++]=240|l>>8&7,n[a++]=128|l>>2&63,n[a++]=128|o>>6&15|(l&3)<<4,n[a++]=128|o&63}else n[a++]=224|l>>12&15,n[a++]=128|l>>6&63,n[a++]=128|l&63;a>r&&(t.push(n.slice(0,a)),a=0,n=Of(65535),r=65530)}return t.push(n.slice(0,a)),_i(t)}var Vl=/\u0000/g,vv=/[\u0001-\u0006]/g;function Zp(e){for(var t="",a=e.length-1;a>=0;)t+=e.charAt(a--);return t}function wd(e,t){var a=""+e;return a.length>=t?a:mn("0",t-a.length)+a}function FA(e,t){var a=""+e;return a.length>=t?a:mn(" ",t-a.length)+a}function xw(e,t){var a=""+e;return a.length>=t?a:a+mn(" ",t-a.length)}function qde(e,t){var a=""+Math.round(e);return a.length>=t?a:mn("0",t-a.length)+a}function Gde(e,t){var a=""+e;return a.length>=t?a:mn("0",t-a.length)+a}var iM=Math.pow(2,32);function Pp(e,t){if(e>iM||e<-iM)return qde(e,t);var a=Math.round(e);return Gde(a,t)}function gw(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var lM=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],z5=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Kde(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Ma={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},oM={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Yde={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function vw(e,t,a){for(var r=e<0?-1:1,n=e*r,i=0,l=1,o=0,c=1,d=0,u=0,f=Math.floor(n);d<t&&(f=Math.floor(n),o=f*l+i,u=f*d+c,!(n-f<5e-8));)n=1/(n-f),i=l,l=o,c=d,d=u;if(u>t&&(d>t?(u=c,o=i):(u=d,o=l)),!a)return[0,r*o,u];var p=Math.floor(r*o/u);return[p,r*o-p*u,u]}function V0(e,t,a){if(e>2958465||e<0)return null;var r=e|0,n=Math.floor(86400*(e-r)),i=0,l=[],o={D:r,T:n,u:86400*(e-r)-n,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(r+=1462),o.u>.9999&&(o.u=0,++n==86400&&(o.T=n=0,++r,++o.D)),r===60)l=a?[1317,10,29]:[1900,2,29],i=3;else if(r===0)l=a?[1317,8,29]:[1900,1,0],i=6;else{r>60&&--r;var c=new Date(1900,0,1);c.setDate(c.getDate()+r-1),l=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),r<60&&(i=(i+6)%7),a&&(i=tue(c,l))}return o.y=l[0],o.m=l[1],o.d=l[2],o.S=n%60,n=Math.floor(n/60),o.M=n%60,n=Math.floor(n/60),o.H=n,o.q=i,o}var Kz=new Date(1899,11,31,0,0,0),Xde=Kz.getTime(),Jde=new Date(1900,2,1,0,0,0);function Yz(e,t){var a=e.getTime();return t?a-=1461*24*60*60*1e3:e>=Jde&&(a+=1440*60*1e3),(a-(Xde+(e.getTimezoneOffset()-Kz.getTimezoneOffset())*6e4))/(1440*60*1e3)}function IA(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Qde(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Zde(e){var t=e<0?12:11,a=IA(e.toFixed(12));return a.length<=t||(a=e.toPrecision(10),a.length<=t)?a:e.toExponential(5)}function eue(e){var t=IA(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function l1(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),a;return t>=-4&&t<=-1?a=e.toPrecision(10+t):Math.abs(t)<=9?a=Zde(e):t===10?a=e.toFixed(10).substr(0,12):a=eue(e),IA(Qde(a.toUpperCase()))}function bm(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):l1(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Oc(14,Yz(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function tue(e,t){t[0]-=581;var a=e.getDay();return e<60&&(a=(a+6)%7),a}function aue(e,t,a,r){var n="",i=0,l=0,o=a.y,c,d=0;switch(e){case 98:o=a.y+543;case 121:switch(t.length){case 1:case 2:c=o%100,d=2;break;default:c=o%1e4,d=4;break}break;case 109:switch(t.length){case 1:case 2:c=a.m,d=t.length;break;case 3:return z5[a.m-1][1];case 5:return z5[a.m-1][0];default:return z5[a.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=a.d,d=t.length;break;case 3:return lM[a.q][0];default:return lM[a.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(a.H+11)%12,d=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=a.H,d=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=a.M,d=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return a.u===0&&(t=="s"||t=="ss")?wd(a.S,t.length):(r>=2?l=r===3?1e3:100:l=r===1?10:1,i=Math.round(l*(a.S+a.u)),i>=60*l&&(i=0),t==="s"?i===0?"0":""+i/l:(n=wd(i,2+r),t==="ss"?n.substr(0,2):"."+n.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=a.D*24+a.H;break;case"[m]":case"[mm]":c=(a.D*24+a.H)*60+a.M;break;case"[s]":case"[ss]":c=((a.D*24+a.H)*60+a.M)*60+Math.round(a.S+a.u);break;default:throw"bad abstime format: "+t}d=t.length===3?1:2;break;case 101:c=o,d=1;break}var u=d>0?wd(c,d):"";return u}function Af(e){var t=3;if(e.length<=t)return e;for(var a=e.length%t,r=e.substr(0,a);a!=e.length;a+=t)r+=(r.length>0?",":"")+e.substr(a,t);return r}var Xz=/%/g;function sue(e,t,a){var r=t.replace(Xz,""),n=t.length-r.length;return oh(e,r,a*Math.pow(10,2*n))+mn("%",n)}function rue(e,t,a){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return oh(e,t.substr(0,r),a/Math.pow(10,3*(t.length-r)))}function Jz(e,t){var a,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Jz(e,-t);var n=e.indexOf(".");n===-1&&(n=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%n;if(i<0&&(i+=n),a=(t/Math.pow(10,i)).toPrecision(r+1+(n+i)%n),a.indexOf("e")===-1){var l=Math.floor(Math.log(t)*Math.LOG10E);for(a.indexOf(".")===-1?a=a.charAt(0)+"."+a.substr(1)+"E+"+(l-a.length+i):a+="E+"+(l-i);a.substr(0,2)==="0.";)a=a.charAt(0)+a.substr(2,n)+"."+a.substr(2+n),a=a.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");a=a.replace(/\+-/,"-")}a=a.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,d,u){return c+d+u.substr(0,(n+i)%n)+"."+u.substr(i)+"E"})}else a=t.toExponential(r);return e.match(/E\+00$/)&&a.match(/e[+-]\d$/)&&(a=a.substr(0,a.length-1)+"0"+a.charAt(a.length-1)),e.match(/E\-/)&&a.match(/e\+/)&&(a=a.replace(/e\+/,"e")),a.replace("e","E")}var Qz=/# (\?+)( ?)\/( ?)(\d+)/;function nue(e,t,a){var r=parseInt(e[4],10),n=Math.round(t*r),i=Math.floor(n/r),l=n-i*r,o=r;return a+(i===0?"":""+i)+" "+(l===0?mn(" ",e[1].length+1+e[4].length):FA(l,e[1].length)+e[2]+"/"+e[3]+wd(o,e[4].length))}function iue(e,t,a){return a+(t===0?"":""+t)+mn(" ",e[1].length+2+e[4].length)}var Zz=/^#*0*\.([0#]+)/,eH=/\).*[0#]/,tH=/\(###\) ###\\?-####/;function Rl(e){for(var t="",a,r=0;r!=e.length;++r)switch(a=e.charCodeAt(r)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(a)}return t}function cM(e,t){var a=Math.pow(10,t);return""+Math.round(e*a)/a}function dM(e,t){var a=e-Math.floor(e),r=Math.pow(10,t);return t<(""+Math.round(a*r)).length?0:Math.round(a*r)}function lue(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function oue(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function bc(e,t,a){if(e.charCodeAt(0)===40&&!t.match(eH)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return a>=0?bc("n",r,a):"("+bc("n",r,-a)+")"}if(t.charCodeAt(t.length-1)===44)return rue(e,t,a);if(t.indexOf("%")!==-1)return sue(e,t,a);if(t.indexOf("E")!==-1)return Jz(t,a);if(t.charCodeAt(0)===36)return"$"+bc(e,t.substr(t.charAt(1)==" "?2:1),a);var n,i,l,o,c=Math.abs(a),d=a<0?"-":"";if(t.match(/^00+$/))return d+Pp(c,t.length);if(t.match(/^[#?]+$/))return n=Pp(a,0),n==="0"&&(n=""),n.length>t.length?n:Rl(t.substr(0,t.length-n.length))+n;if(i=t.match(Qz))return nue(i,c,d);if(t.match(/^#+0+$/))return d+Pp(c,t.length-t.indexOf("0"));if(i=t.match(Zz))return n=cM(a,i[1].length).replace(/^([^\.]+)$/,"$1."+Rl(i[1])).replace(/\.$/,"."+Rl(i[1])).replace(/\.(\d*)$/,function(v,g){return"."+g+mn("0",Rl(i[1]).length-g.length)}),t.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+cM(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+Af(Pp(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return a<0?"-"+bc(e,t,-a):Af(""+(Math.floor(a)+lue(a,i[1].length)))+"."+wd(dM(a,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return bc(e,t.replace(/^#,#*,/,""),a);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return n=Zp(bc(e,t.replace(/[\\-]/g,""),a)),l=0,Zp(Zp(t.replace(/\\/g,"")).replace(/[0#]/g,function(v){return l<n.length?n.charAt(l++):v==="0"?"0":""}));if(t.match(tH))return n=bc(e,"##########",a),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(i[4].length,7),o=vw(c,Math.pow(10,l)-1,!1),n=""+d,u=oh("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),n+=u+i[2]+"/"+i[3],u=xw(o[2],l),u.length<i[4].length&&(u=Rl(i[4].substr(i[4].length-u.length))+u),n+=u,n;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(i[1].length,i[4].length),7),o=vw(c,Math.pow(10,l)-1,!0),d+(o[0]||(o[1]?"":"0"))+" "+(o[1]?FA(o[1],l)+i[2]+"/"+i[3]+xw(o[2],l):mn(" ",2*l+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return n=Pp(a,0),t.length<=n.length?n:Rl(t.substr(0,t.length-n.length))+n;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){n=""+a.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),l=n.indexOf(".");var f=t.indexOf(".")-l,p=t.length-n.length-f;return Rl(t.substr(0,f)+n+t.substr(t.length-p))}if(i=t.match(/^00,000\.([#0]*0)$/))return l=dM(a,i[1].length),a<0?"-"+bc(e,t,-a):Af(oue(a)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?wd(0,3-v.length):"")+v})+"."+wd(l,i[1].length);switch(t){case"###,##0.00":return bc(e,"#,##0.00",a);case"###,###":case"##,###":case"#,###":var m=Af(Pp(c,0));return m!=="0"?d+m:"";case"###,###.00":return bc(e,"###,##0.00",a).replace(/^0\./,".");case"#,###.00":return bc(e,"#,##0.00",a).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function cue(e,t,a){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return oh(e,t.substr(0,r),a/Math.pow(10,3*(t.length-r)))}function due(e,t,a){var r=t.replace(Xz,""),n=t.length-r.length;return oh(e,r,a*Math.pow(10,2*n))+mn("%",n)}function aH(e,t){var a,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+aH(e,-t);var n=e.indexOf(".");n===-1&&(n=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%n;if(i<0&&(i+=n),a=(t/Math.pow(10,i)).toPrecision(r+1+(n+i)%n),!a.match(/[Ee]/)){var l=Math.floor(Math.log(t)*Math.LOG10E);a.indexOf(".")===-1?a=a.charAt(0)+"."+a.substr(1)+"E+"+(l-a.length+i):a+="E+"+(l-i),a=a.replace(/\+-/,"-")}a=a.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,d,u){return c+d+u.substr(0,(n+i)%n)+"."+u.substr(i)+"E"})}else a=t.toExponential(r);return e.match(/E\+00$/)&&a.match(/e[+-]\d$/)&&(a=a.substr(0,a.length-1)+"0"+a.charAt(a.length-1)),e.match(/E\-/)&&a.match(/e\+/)&&(a=a.replace(/e\+/,"e")),a.replace("e","E")}function nu(e,t,a){if(e.charCodeAt(0)===40&&!t.match(eH)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return a>=0?nu("n",r,a):"("+nu("n",r,-a)+")"}if(t.charCodeAt(t.length-1)===44)return cue(e,t,a);if(t.indexOf("%")!==-1)return due(e,t,a);if(t.indexOf("E")!==-1)return aH(t,a);if(t.charCodeAt(0)===36)return"$"+nu(e,t.substr(t.charAt(1)==" "?2:1),a);var n,i,l,o,c=Math.abs(a),d=a<0?"-":"";if(t.match(/^00+$/))return d+wd(c,t.length);if(t.match(/^[#?]+$/))return n=""+a,a===0&&(n=""),n.length>t.length?n:Rl(t.substr(0,t.length-n.length))+n;if(i=t.match(Qz))return iue(i,c,d);if(t.match(/^#+0+$/))return d+wd(c,t.length-t.indexOf("0"));if(i=t.match(Zz))return n=(""+a).replace(/^([^\.]+)$/,"$1."+Rl(i[1])).replace(/\.$/,"."+Rl(i[1])),n=n.replace(/\.(\d*)$/,function(v,g){return"."+g+mn("0",Rl(i[1]).length-g.length)}),t.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+Af(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return a<0?"-"+nu(e,t,-a):Af(""+a)+"."+mn("0",i[1].length);if(i=t.match(/^#,#*,#0/))return nu(e,t.replace(/^#,#*,/,""),a);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return n=Zp(nu(e,t.replace(/[\\-]/g,""),a)),l=0,Zp(Zp(t.replace(/\\/g,"")).replace(/[0#]/g,function(v){return l<n.length?n.charAt(l++):v==="0"?"0":""}));if(t.match(tH))return n=nu(e,"##########",a),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(i[4].length,7),o=vw(c,Math.pow(10,l)-1,!1),n=""+d,u=oh("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),n+=u+i[2]+"/"+i[3],u=xw(o[2],l),u.length<i[4].length&&(u=Rl(i[4].substr(i[4].length-u.length))+u),n+=u,n;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(i[1].length,i[4].length),7),o=vw(c,Math.pow(10,l)-1,!0),d+(o[0]||(o[1]?"":"0"))+" "+(o[1]?FA(o[1],l)+i[2]+"/"+i[3]+xw(o[2],l):mn(" ",2*l+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return n=""+a,t.length<=n.length?n:Rl(t.substr(0,t.length-n.length))+n;if(i=t.match(/^([#0]+)\.([#0]+)$/)){n=""+a.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),l=n.indexOf(".");var f=t.indexOf(".")-l,p=t.length-n.length-f;return Rl(t.substr(0,f)+n+t.substr(t.length-p))}if(i=t.match(/^00,000\.([#0]*0)$/))return a<0?"-"+nu(e,t,-a):Af(""+a).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?wd(0,3-v.length):"")+v})+"."+wd(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=Af(""+c);return m!=="0"?d+m:"";default:if(t.match(/\.[0#?]*$/))return nu(e,t.slice(0,t.lastIndexOf(".")),a)+Rl(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function oh(e,t,a){return(a|0)===a?nu(e,t,a):bc(e,t,a)}function uue(e){for(var t=[],a=!1,r=0,n=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:a=!a;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=e.substr(n,r-n),n=r+1}if(t[t.length]=e.substr(n),a===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var sH=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Rx(e){for(var t=0,a="",r="";t<e.length;)switch(a=e.charAt(t)){case"G":gw(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(r=a;e.charAt(t++)!=="]"&&t<e.length;)r+=e.charAt(t);if(r.match(sH))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(a=e.charAt(++t))>-1||a=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===a;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function hue(e,t,a,r){for(var n=[],i="",l=0,o="",c="t",d,u,f,p="H";l<e.length;)switch(o=e.charAt(l)){case"G":if(!gw(e,l))throw new Error("unrecognized character "+o+" in "+e);n[n.length]={t:"G",v:"General"},l+=7;break;case'"':for(i="";(f=e.charCodeAt(++l))!==34&&l<e.length;)i+=String.fromCharCode(f);n[n.length]={t:"t",v:i},++l;break;case"\\":var m=e.charAt(++l),v=m==="("||m===")"?m:"t";n[n.length]={t:v,v:m},++l;break;case"_":n[n.length]={t:"t",v:" "},l+=2;break;case"@":n[n.length]={t:"T",v:t},++l;break;case"B":case"b":if(e.charAt(l+1)==="1"||e.charAt(l+1)==="2"){if(d==null&&(d=V0(t,a,e.charAt(l+1)==="2"),d==null))return"";n[n.length]={t:"X",v:e.substr(l,2)},c=o,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||d==null&&(d=V0(t,a),d==null))return"";for(i=o;++l<e.length&&e.charAt(l).toLowerCase()===o;)i+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=p),n[n.length]={t:o,v:i},c=o;break;case"A":case"a":case"":var g={t:o,v:o};if(d==null&&(d=V0(t,a)),e.substr(l,3).toUpperCase()==="A/P"?(d!=null&&(g.v=d.H>=12?"P":"A"),g.t="T",p="h",l+=3):e.substr(l,5).toUpperCase()==="AM/PM"?(d!=null&&(g.v=d.H>=12?"PM":"AM"),g.t="T",l+=5,p="h"):e.substr(l,5).toUpperCase()==="/"?(d!=null&&(g.v=d.H>=12?"":""),g.t="T",l+=5,p="h"):(g.t="t",++l),d==null&&g.t==="T")return"";n[n.length]=g,c=o;break;case"[":for(i=o;e.charAt(l++)!=="]"&&l<e.length;)i+=e.charAt(l);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(sH)){if(d==null&&(d=V0(t,a),d==null))return"";n[n.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",Rx(e)||(n[n.length]={t:"t",v:i}));break;case".":if(d!=null){for(i=o;++l<e.length&&(o=e.charAt(l))==="0";)i+=o;n[n.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++l<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(l))>-1;)i+=o;n[n.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++l)===o;)i+=o;n[n.length]={t:o,v:i},c=o;break;case"*":++l,(e.charAt(l)==" "||e.charAt(l)=="*")&&++l;break;case"(":case")":n[n.length]={t:r===1?"t":o,v:o},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;l<e.length&&"0123456789".indexOf(e.charAt(++l))>-1;)i+=e.charAt(l);n[n.length]={t:"D",v:i};break;case" ":n[n.length]={t:o,v:o},++l;break;case"$":n[n.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);n[n.length]={t:"t",v:o},++l;break}var b=0,j=0,k;for(l=n.length-1,c="t";l>=0;--l)switch(n[l].t){case"h":case"H":n[l].t=p,c="h",b<1&&(b=1);break;case"s":(k=n[l].v.match(/\.0+$/))&&(j=Math.max(j,k[0].length-1)),b<3&&(b=3);case"d":case"y":case"M":case"e":c=n[l].t;break;case"m":c==="s"&&(n[l].t="M",b<2&&(b=2));break;case"X":break;case"Z":b<1&&n[l].v.match(/[Hh]/)&&(b=1),b<2&&n[l].v.match(/[Mm]/)&&(b=2),b<3&&n[l].v.match(/[Ss]/)&&(b=3)}switch(b){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var S="",N;for(l=0;l<n.length;++l)switch(n[l].t){case"t":case"T":case" ":case"D":break;case"X":n[l].v="",n[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":n[l].v=aue(n[l].t.charCodeAt(0),n[l].v,d,j),n[l].t="t";break;case"n":case"?":for(N=l+1;n[N]!=null&&((o=n[N].t)==="?"||o==="D"||(o===" "||o==="t")&&n[N+1]!=null&&(n[N+1].t==="?"||n[N+1].t==="t"&&n[N+1].v==="/")||n[l].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(n[N].v==="/"||n[N].v===" "&&n[N+1]!=null&&n[N+1].t=="?"));)n[l].v+=n[N].v,n[N]={v:"",t:";"},++N;S+=n[l].v,l=N-1;break;case"G":n[l].t="t",n[l].v=bm(t,a);break}var A="",_,E;if(S.length>0){S.charCodeAt(0)==40?(_=t<0&&S.charCodeAt(0)===45?-t:t,E=oh("n",S,_)):(_=t<0&&r>1?-t:t,E=oh("n",S,_),_<0&&n[0]&&n[0].t=="t"&&(E=E.substr(1),n[0].v="-"+n[0].v)),N=E.length-1;var D=n.length;for(l=0;l<n.length;++l)if(n[l]!=null&&n[l].t!="t"&&n[l].v.indexOf(".")>-1){D=l;break}var R=n.length;if(D===n.length&&E.indexOf("E")===-1){for(l=n.length-1;l>=0;--l)n[l]==null||"n?".indexOf(n[l].t)===-1||(N>=n[l].v.length-1?(N-=n[l].v.length,n[l].v=E.substr(N+1,n[l].v.length)):N<0?n[l].v="":(n[l].v=E.substr(0,N+1),N=-1),n[l].t="t",R=l);N>=0&&R<n.length&&(n[R].v=E.substr(0,N+1)+n[R].v)}else if(D!==n.length&&E.indexOf("E")===-1){for(N=E.indexOf(".")-1,l=D;l>=0;--l)if(!(n[l]==null||"n?".indexOf(n[l].t)===-1)){for(u=n[l].v.indexOf(".")>-1&&l===D?n[l].v.indexOf(".")-1:n[l].v.length-1,A=n[l].v.substr(u+1);u>=0;--u)N>=0&&(n[l].v.charAt(u)==="0"||n[l].v.charAt(u)==="#")&&(A=E.charAt(N--)+A);n[l].v=A,n[l].t="t",R=l}for(N>=0&&R<n.length&&(n[R].v=E.substr(0,N+1)+n[R].v),N=E.indexOf(".")+1,l=D;l<n.length;++l)if(!(n[l]==null||"n?(".indexOf(n[l].t)===-1&&l!==D)){for(u=n[l].v.indexOf(".")>-1&&l===D?n[l].v.indexOf(".")+1:0,A=n[l].v.substr(0,u);u<n[l].v.length;++u)N<E.length&&(A+=E.charAt(N++));n[l].v=A,n[l].t="t",R=l}}}for(l=0;l<n.length;++l)n[l]!=null&&"n?".indexOf(n[l].t)>-1&&(_=r>1&&t<0&&l>0&&n[l-1].v==="-"?-t:t,n[l].v=oh(n[l].t,n[l].v,_),n[l].t="t");var I="";for(l=0;l!==n.length;++l)n[l]!=null&&(I+=n[l].v);return I}var uM=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function hM(e,t){if(t==null)return!1;var a=parseFloat(t[2]);switch(t[1]){case"=":if(e==a)return!0;break;case">":if(e>a)return!0;break;case"<":if(e<a)return!0;break;case"<>":if(e!=a)return!0;break;case">=":if(e>=a)return!0;break;case"<=":if(e<=a)return!0;break}return!1}function fue(e,t){var a=uue(e),r=a.length,n=a[r-1].indexOf("@");if(r<4&&n>-1&&--r,a.length>4)throw new Error("cannot find right format for |"+a.join("|")+"|");if(typeof t!="number")return[4,a.length===4||n>-1?a[a.length-1]:"@"];switch(a.length){case 1:a=n>-1?["General","General","General",a[0]]:[a[0],a[0],a[0],"@"];break;case 2:a=n>-1?[a[0],a[0],a[0],a[1]]:[a[0],a[1],a[0],"@"];break;case 3:a=n>-1?[a[0],a[1],a[0],a[2]]:[a[0],a[1],a[2],"@"];break}var i=t>0?a[0]:t<0?a[1]:a[2];if(a[0].indexOf("[")===-1&&a[1].indexOf("[")===-1)return[r,i];if(a[0].match(/\[[=<>]/)!=null||a[1].match(/\[[=<>]/)!=null){var l=a[0].match(uM),o=a[1].match(uM);return hM(t,l)?[r,a[0]]:hM(t,o)?[r,a[1]]:[r,a[l!=null&&o!=null?2:1]]}return[r,i]}function Oc(e,t,a){a==null&&(a={});var r="";switch(typeof e){case"string":e=="m/d/yy"&&a.dateNF?r=a.dateNF:r=e;break;case"number":e==14&&a.dateNF?r=a.dateNF:r=(a.table!=null?a.table:Ma)[e],r==null&&(r=a.table&&a.table[oM[e]]||Ma[oM[e]]),r==null&&(r=Yde[e]||"General");break}if(gw(r,0))return bm(t,a);t instanceof Date&&(t=Yz(t,a.date1904));var n=fue(r,t);if(gw(n[1]))return bm(t,a);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return hue(n[1],t,a,n[0])}function ch(e,t){if(typeof t!="number"){t=+t||-1;for(var a=0;a<392;++a){if(Ma[a]==null){t<0&&(t=a);continue}if(Ma[a]==e){t=a;break}}t<0&&(t=391)}return Ma[t]=e,t}function aN(e){for(var t=0;t!=392;++t)e[t]!==void 0&&ch(e[t],t)}function Fx(){Ma=Kde()}var mue={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},rH=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function pue(e){var t=typeof e=="number"?Ma[e]:e;return t=t.replace(rH,"(\\d+)"),new RegExp("^"+t+"$")}function xue(e,t,a){var r=-1,n=-1,i=-1,l=-1,o=-1,c=-1;(t.match(rH)||[]).forEach(function(f,p){var m=parseInt(a[p+1],10);switch(f.toLowerCase().charAt(0)){case"y":r=m;break;case"d":i=m;break;case"h":l=m;break;case"s":c=m;break;case"m":l>=0?o=m:n=m;break}}),c>=0&&o==-1&&n>=0&&(o=n,n=-1);var d=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(n>=1?n:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var u=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return l==-1&&o==-1&&c==-1?d:r==-1&&n==-1&&i==-1?u:d+"T"+u}var gue=(function(){var e={};e.version="1.2.0";function t(){for(var E=0,D=new Array(256),R=0;R!=256;++R)E=R,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,D[R]=E;return typeof Int32Array<"u"?new Int32Array(D):D}var a=t();function r(E){var D=0,R=0,I=0,M=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(I=0;I!=256;++I)M[I]=E[I];for(I=0;I!=256;++I)for(R=E[I],D=256+I;D<4096;D+=256)R=M[D]=R>>>8^E[R&255];var U=[];for(I=1;I!=16;++I)U[I-1]=typeof Int32Array<"u"?M.subarray(I*256,I*256+256):M.slice(I*256,I*256+256);return U}var n=r(a),i=n[0],l=n[1],o=n[2],c=n[3],d=n[4],u=n[5],f=n[6],p=n[7],m=n[8],v=n[9],g=n[10],b=n[11],j=n[12],k=n[13],S=n[14];function N(E,D){for(var R=D^-1,I=0,M=E.length;I<M;)R=R>>>8^a[(R^E.charCodeAt(I++))&255];return~R}function A(E,D){for(var R=D^-1,I=E.length-15,M=0;M<I;)R=S[E[M++]^R&255]^k[E[M++]^R>>8&255]^j[E[M++]^R>>16&255]^b[E[M++]^R>>>24]^g[E[M++]]^v[E[M++]]^m[E[M++]]^p[E[M++]]^f[E[M++]]^u[E[M++]]^d[E[M++]]^c[E[M++]]^o[E[M++]]^l[E[M++]]^i[E[M++]]^a[E[M++]];for(I+=15;M<I;)R=R>>>8^a[(R^E[M++])&255];return~R}function _(E,D){for(var R=D^-1,I=0,M=E.length,U=0,P=0;I<M;)U=E.charCodeAt(I++),U<128?R=R>>>8^a[(R^U)&255]:U<2048?(R=R>>>8^a[(R^(192|U>>6&31))&255],R=R>>>8^a[(R^(128|U&63))&255]):U>=55296&&U<57344?(U=(U&1023)+64,P=E.charCodeAt(I++)&1023,R=R>>>8^a[(R^(240|U>>8&7))&255],R=R>>>8^a[(R^(128|U>>2&63))&255],R=R>>>8^a[(R^(128|P>>6&15|(U&3)<<4))&255],R=R>>>8^a[(R^(128|P&63))&255]):(R=R>>>8^a[(R^(224|U>>12&15))&255],R=R>>>8^a[(R^(128|U>>6&63))&255],R=R>>>8^a[(R^(128|U&63))&255]);return~R}return e.table=a,e.bstr=N,e.buf=A,e.str=_,e})(),ka=(function(){var t={};t.version="1.2.1";function a(me,De){for(var ke=me.split("/"),_e=De.split("/"),Te=0,Me=0,Qe=Math.min(ke.length,_e.length);Te<Qe;++Te){if(Me=ke[Te].length-_e[Te].length)return Me;if(ke[Te]!=_e[Te])return ke[Te]<_e[Te]?-1:1}return ke.length-_e.length}function r(me){if(me.charAt(me.length-1)=="/")return me.slice(0,-1).indexOf("/")===-1?me:r(me.slice(0,-1));var De=me.lastIndexOf("/");return De===-1?me:me.slice(0,De+1)}function n(me){if(me.charAt(me.length-1)=="/")return n(me.slice(0,-1));var De=me.lastIndexOf("/");return De===-1?me:me.slice(De+1)}function i(me,De){typeof De=="string"&&(De=new Date(De));var ke=De.getHours();ke=ke<<6|De.getMinutes(),ke=ke<<5|De.getSeconds()>>>1,me.write_shift(2,ke);var _e=De.getFullYear()-1980;_e=_e<<4|De.getMonth()+1,_e=_e<<5|De.getDate(),me.write_shift(2,_e)}function l(me){var De=me.read_shift(2)&65535,ke=me.read_shift(2)&65535,_e=new Date,Te=ke&31;ke>>>=5;var Me=ke&15;ke>>>=4,_e.setMilliseconds(0),_e.setFullYear(ke+1980),_e.setMonth(Me-1),_e.setDate(Te);var Qe=De&31;De>>>=5;var vt=De&63;return De>>>=6,_e.setHours(De),_e.setMinutes(vt),_e.setSeconds(Qe<<1),_e}function o(me){Yi(me,0);for(var De={},ke=0;me.l<=me.length-4;){var _e=me.read_shift(2),Te=me.read_shift(2),Me=me.l+Te,Qe={};switch(_e){case 21589:ke=me.read_shift(1),ke&1&&(Qe.mtime=me.read_shift(4)),Te>5&&(ke&2&&(Qe.atime=me.read_shift(4)),ke&4&&(Qe.ctime=me.read_shift(4))),Qe.mtime&&(Qe.mt=new Date(Qe.mtime*1e3));break}me.l=Me,De[_e]=Qe}return De}var c;function d(){return c||(c={})}function u(me,De){if(me[0]==80&&me[1]==75)return na(me,De);if((me[0]|32)==109&&(me[1]|32)==105)return oa(me,De);if(me.length<512)throw new Error("CFB file size "+me.length+" < 512");var ke=3,_e=512,Te=0,Me=0,Qe=0,vt=0,qe=0,st=[],it=me.slice(0,512);Yi(it,0);var Ft=f(it);switch(ke=Ft[0],ke){case 3:_e=512;break;case 4:_e=4096;break;case 0:if(Ft[1]==0)return na(me,De);default:throw new Error("Major Version: Expected 3 or 4 saw "+ke)}_e!==512&&(it=me.slice(0,_e),Yi(it,28));var Yt=me.slice(0,_e);p(it,ke);var ea=it.read_shift(4,"i");if(ke===3&&ea!==0)throw new Error("# Directory Sectors: Expected 0 saw "+ea);it.l+=4,Qe=it.read_shift(4,"i"),it.l+=4,it.chk("00100000","Mini Stream Cutoff Size: "),vt=it.read_shift(4,"i"),Te=it.read_shift(4,"i"),qe=it.read_shift(4,"i"),Me=it.read_shift(4,"i");for(var Kt=-1,Xt=0;Xt<109&&(Kt=it.read_shift(4,"i"),!(Kt<0));++Xt)st[Xt]=Kt;var ya=m(me,_e);b(qe,Me,ya,_e,st);var cs=k(ya,Qe,st,_e);cs[Qe].name="!Directory",Te>0&&vt!==P&&(cs[vt].name="!MiniFAT"),cs[st[0]].name="!FAT",cs.fat_addrs=st,cs.ssz=_e;var wa={},La=[],an=[],Jn=[];S(Qe,cs,ya,La,Te,wa,an,vt),v(an,Jn,La),La.shift();var Ra={FileIndex:an,FullPaths:Jn};return De&&De.raw&&(Ra.raw={header:Yt,sectors:ya}),Ra}function f(me){if(me[me.l]==80&&me[me.l+1]==75)return[0,0];me.chk(F,"Header Signature: "),me.l+=16;var De=me.read_shift(2,"u");return[me.read_shift(2,"u"),De]}function p(me,De){var ke=9;switch(me.l+=2,ke=me.read_shift(2)){case 9:if(De!=3)throw new Error("Sector Shift: Expected 9 saw "+ke);break;case 12:if(De!=4)throw new Error("Sector Shift: Expected 12 saw "+ke);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ke)}me.chk("0600","Mini Sector Shift: "),me.chk("000000000000","Reserved: ")}function m(me,De){for(var ke=Math.ceil(me.length/De)-1,_e=[],Te=1;Te<ke;++Te)_e[Te-1]=me.slice(Te*De,(Te+1)*De);return _e[ke-1]=me.slice(ke*De),_e}function v(me,De,ke){for(var _e=0,Te=0,Me=0,Qe=0,vt=0,qe=ke.length,st=[],it=[];_e<qe;++_e)st[_e]=it[_e]=_e,De[_e]=ke[_e];for(;vt<it.length;++vt)_e=it[vt],Te=me[_e].L,Me=me[_e].R,Qe=me[_e].C,st[_e]===_e&&(Te!==-1&&st[Te]!==Te&&(st[_e]=st[Te]),Me!==-1&&st[Me]!==Me&&(st[_e]=st[Me])),Qe!==-1&&(st[Qe]=_e),Te!==-1&&_e!=st[_e]&&(st[Te]=st[_e],it.lastIndexOf(Te)<vt&&it.push(Te)),Me!==-1&&_e!=st[_e]&&(st[Me]=st[_e],it.lastIndexOf(Me)<vt&&it.push(Me));for(_e=1;_e<qe;++_e)st[_e]===_e&&(Me!==-1&&st[Me]!==Me?st[_e]=st[Me]:Te!==-1&&st[Te]!==Te&&(st[_e]=st[Te]));for(_e=1;_e<qe;++_e)if(me[_e].type!==0){if(vt=_e,vt!=st[vt])do vt=st[vt],De[_e]=De[vt]+"/"+De[_e];while(vt!==0&&st[vt]!==-1&&vt!=st[vt]);st[_e]=-1}for(De[0]+="/",_e=1;_e<qe;++_e)me[_e].type!==2&&(De[_e]+="/")}function g(me,De,ke){for(var _e=me.start,Te=me.size,Me=[],Qe=_e;ke&&Te>0&&Qe>=0;)Me.push(De.slice(Qe*U,Qe*U+U)),Te-=U,Qe=U0(ke,Qe*4);return Me.length===0?kt(0):_i(Me).slice(0,me.size)}function b(me,De,ke,_e,Te){var Me=P;if(me===P){if(De!==0)throw new Error("DIFAT chain shorter than expected")}else if(me!==-1){var Qe=ke[me],vt=(_e>>>2)-1;if(!Qe)return;for(var qe=0;qe<vt&&(Me=U0(Qe,qe*4))!==P;++qe)Te.push(Me);b(U0(Qe,_e-4),De-1,ke,_e,Te)}}function j(me,De,ke,_e,Te){var Me=[],Qe=[];Te||(Te=[]);var vt=_e-1,qe=0,st=0;for(qe=De;qe>=0;){Te[qe]=!0,Me[Me.length]=qe,Qe.push(me[qe]);var it=ke[Math.floor(qe*4/_e)];if(st=qe*4&vt,_e<4+st)throw new Error("FAT boundary crossed: "+qe+" 4 "+_e);if(!me[it])break;qe=U0(me[it],st)}return{nodes:Me,data:kM([Qe])}}function k(me,De,ke,_e){var Te=me.length,Me=[],Qe=[],vt=[],qe=[],st=_e-1,it=0,Ft=0,Yt=0,ea=0;for(it=0;it<Te;++it)if(vt=[],Yt=it+De,Yt>=Te&&(Yt-=Te),!Qe[Yt]){qe=[];var Kt=[];for(Ft=Yt;Ft>=0;){Kt[Ft]=!0,Qe[Ft]=!0,vt[vt.length]=Ft,qe.push(me[Ft]);var Xt=ke[Math.floor(Ft*4/_e)];if(ea=Ft*4&st,_e<4+ea)throw new Error("FAT boundary crossed: "+Ft+" 4 "+_e);if(!me[Xt]||(Ft=U0(me[Xt],ea),Kt[Ft]))break}Me[Yt]={nodes:vt,data:kM([qe])}}return Me}function S(me,De,ke,_e,Te,Me,Qe,vt){for(var qe=0,st=_e.length?2:0,it=De[me].data,Ft=0,Yt=0,ea;Ft<it.length;Ft+=128){var Kt=it.slice(Ft,Ft+128);Yi(Kt,64),Yt=Kt.read_shift(2),ea=WA(Kt,0,Yt-st),_e.push(ea);var Xt={name:ea,type:Kt.read_shift(1),color:Kt.read_shift(1),L:Kt.read_shift(4,"i"),R:Kt.read_shift(4,"i"),C:Kt.read_shift(4,"i"),clsid:Kt.read_shift(16),state:Kt.read_shift(4,"i"),start:0,size:0},ya=Kt.read_shift(2)+Kt.read_shift(2)+Kt.read_shift(2)+Kt.read_shift(2);ya!==0&&(Xt.ct=N(Kt,Kt.l-8));var cs=Kt.read_shift(2)+Kt.read_shift(2)+Kt.read_shift(2)+Kt.read_shift(2);cs!==0&&(Xt.mt=N(Kt,Kt.l-8)),Xt.start=Kt.read_shift(4,"i"),Xt.size=Kt.read_shift(4,"i"),Xt.size<0&&Xt.start<0&&(Xt.size=Xt.type=0,Xt.start=P,Xt.name=""),Xt.type===5?(qe=Xt.start,Te>0&&qe!==P&&(De[qe].name="!StreamData")):Xt.size>=4096?(Xt.storage="fat",De[Xt.start]===void 0&&(De[Xt.start]=j(ke,Xt.start,De.fat_addrs,De.ssz)),De[Xt.start].name=Xt.name,Xt.content=De[Xt.start].data.slice(0,Xt.size)):(Xt.storage="minifat",Xt.size<0?Xt.size=0:qe!==P&&Xt.start!==P&&De[qe]&&(Xt.content=g(Xt,De[qe].data,(De[vt]||{}).data))),Xt.content&&Yi(Xt.content,0),Me[ea]=Xt,Qe.push(Xt)}}function N(me,De){return new Date(($o(me,De+4)/1e7*Math.pow(2,32)+$o(me,De)/1e7-11644473600)*1e3)}function A(me,De){return d(),u(c.readFileSync(me),De)}function _(me,De){var ke=De&&De.type;switch(ke||ms&&Buffer.isBuffer(me)&&(ke="buffer"),ke||"base64"){case"file":return A(me,De);case"base64":return u(zo(Go(me)),De);case"binary":return u(zo(me),De)}return u(me,De)}function E(me,De){var ke=De||{},_e=ke.root||"Root Entry";if(me.FullPaths||(me.FullPaths=[]),me.FileIndex||(me.FileIndex=[]),me.FullPaths.length!==me.FileIndex.length)throw new Error("inconsistent CFB structure");me.FullPaths.length===0&&(me.FullPaths[0]=_e+"/",me.FileIndex[0]={name:_e,type:5}),ke.CLSID&&(me.FileIndex[0].clsid=ke.CLSID),D(me)}function D(me){var De="Sh33tJ5";if(!ka.find(me,"/"+De)){var ke=kt(4);ke[0]=55,ke[1]=ke[3]=50,ke[2]=54,me.FileIndex.push({name:De,type:2,content:ke,size:4,L:69,R:69,C:69}),me.FullPaths.push(me.FullPaths[0]+De),R(me)}}function R(me,De){E(me);for(var ke=!1,_e=!1,Te=me.FullPaths.length-1;Te>=0;--Te){var Me=me.FileIndex[Te];switch(Me.type){case 0:_e?ke=!0:(me.FileIndex.pop(),me.FullPaths.pop());break;case 1:case 2:case 5:_e=!0,isNaN(Me.R*Me.L*Me.C)&&(ke=!0),Me.R>-1&&Me.L>-1&&Me.R==Me.L&&(ke=!0);break;default:ke=!0;break}}if(!(!ke&&!De)){var Qe=new Date(1987,1,19),vt=0,qe=Object.create?Object.create(null):{},st=[];for(Te=0;Te<me.FullPaths.length;++Te)qe[me.FullPaths[Te]]=!0,me.FileIndex[Te].type!==0&&st.push([me.FullPaths[Te],me.FileIndex[Te]]);for(Te=0;Te<st.length;++Te){var it=r(st[Te][0]);_e=qe[it],_e||(st.push([it,{name:n(it).replace("/",""),type:1,clsid:V,ct:Qe,mt:Qe,content:null}]),qe[it]=!0)}for(st.sort(function(ea,Kt){return a(ea[0],Kt[0])}),me.FullPaths=[],me.FileIndex=[],Te=0;Te<st.length;++Te)me.FullPaths[Te]=st[Te][0],me.FileIndex[Te]=st[Te][1];for(Te=0;Te<st.length;++Te){var Ft=me.FileIndex[Te],Yt=me.FullPaths[Te];if(Ft.name=n(Yt).replace("/",""),Ft.L=Ft.R=Ft.C=-(Ft.color=1),Ft.size=Ft.content?Ft.content.length:0,Ft.start=0,Ft.clsid=Ft.clsid||V,Te===0)Ft.C=st.length>1?1:-1,Ft.size=0,Ft.type=5;else if(Yt.slice(-1)=="/"){for(vt=Te+1;vt<st.length&&r(me.FullPaths[vt])!=Yt;++vt);for(Ft.C=vt>=st.length?-1:vt,vt=Te+1;vt<st.length&&r(me.FullPaths[vt])!=r(Yt);++vt);Ft.R=vt>=st.length?-1:vt,Ft.type=1}else r(me.FullPaths[Te+1]||"")==r(Yt)&&(Ft.R=Te+1),Ft.type=2}}}function I(me,De){var ke=De||{};if(ke.fileType=="mad")return _s(me,ke);switch(R(me),ke.fileType){case"zip":return lt(me,ke)}var _e=(function(ea){for(var Kt=0,Xt=0,ya=0;ya<ea.FileIndex.length;++ya){var cs=ea.FileIndex[ya];if(cs.content){var wa=cs.content.length;wa>0&&(wa<4096?Kt+=wa+63>>6:Xt+=wa+511>>9)}}for(var La=ea.FullPaths.length+3>>2,an=Kt+7>>3,Jn=Kt+127>>7,Ra=an+Xt+La+Jn,Ps=Ra+127>>7,Zi=Ps<=109?0:Math.ceil((Ps-109)/127);Ra+Ps+Zi+127>>7>Ps;)Zi=++Ps<=109?0:Math.ceil((Ps-109)/127);var sn=[1,Zi,Ps,Jn,La,Xt,Kt,0];return ea.FileIndex[0].size=Kt<<6,sn[7]=(ea.FileIndex[0].start=sn[0]+sn[1]+sn[2]+sn[3]+sn[4]+sn[5])+(sn[6]+7>>3),sn})(me),Te=kt(_e[7]<<9),Me=0,Qe=0;{for(Me=0;Me<8;++Me)Te.write_shift(1,K[Me]);for(Me=0;Me<8;++Me)Te.write_shift(2,0);for(Te.write_shift(2,62),Te.write_shift(2,3),Te.write_shift(2,65534),Te.write_shift(2,9),Te.write_shift(2,6),Me=0;Me<3;++Me)Te.write_shift(2,0);for(Te.write_shift(4,0),Te.write_shift(4,_e[2]),Te.write_shift(4,_e[0]+_e[1]+_e[2]+_e[3]-1),Te.write_shift(4,0),Te.write_shift(4,4096),Te.write_shift(4,_e[3]?_e[0]+_e[1]+_e[2]-1:P),Te.write_shift(4,_e[3]),Te.write_shift(-4,_e[1]?_e[0]-1:P),Te.write_shift(4,_e[1]),Me=0;Me<109;++Me)Te.write_shift(-4,Me<_e[2]?_e[1]+Me:-1)}if(_e[1])for(Qe=0;Qe<_e[1];++Qe){for(;Me<236+Qe*127;++Me)Te.write_shift(-4,Me<_e[2]?_e[1]+Me:-1);Te.write_shift(-4,Qe===_e[1]-1?P:Qe+1)}var vt=function(ea){for(Qe+=ea;Me<Qe-1;++Me)Te.write_shift(-4,Me+1);ea&&(++Me,Te.write_shift(-4,P))};for(Qe=Me=0,Qe+=_e[1];Me<Qe;++Me)Te.write_shift(-4,J.DIFSECT);for(Qe+=_e[2];Me<Qe;++Me)Te.write_shift(-4,J.FATSECT);vt(_e[3]),vt(_e[4]);for(var qe=0,st=0,it=me.FileIndex[0];qe<me.FileIndex.length;++qe)it=me.FileIndex[qe],it.content&&(st=it.content.length,!(st<4096)&&(it.start=Qe,vt(st+511>>9)));for(vt(_e[6]+7>>3);Te.l&511;)Te.write_shift(-4,J.ENDOFCHAIN);for(Qe=Me=0,qe=0;qe<me.FileIndex.length;++qe)it=me.FileIndex[qe],it.content&&(st=it.content.length,!(!st||st>=4096)&&(it.start=Qe,vt(st+63>>6)));for(;Te.l&511;)Te.write_shift(-4,J.ENDOFCHAIN);for(Me=0;Me<_e[4]<<2;++Me){var Ft=me.FullPaths[Me];if(!Ft||Ft.length===0){for(qe=0;qe<17;++qe)Te.write_shift(4,0);for(qe=0;qe<3;++qe)Te.write_shift(4,-1);for(qe=0;qe<12;++qe)Te.write_shift(4,0);continue}it=me.FileIndex[Me],Me===0&&(it.start=it.size?it.start-1:P);var Yt=Me===0&&ke.root||it.name;if(st=2*(Yt.length+1),Te.write_shift(64,Yt,"utf16le"),Te.write_shift(2,st),Te.write_shift(1,it.type),Te.write_shift(1,it.color),Te.write_shift(-4,it.L),Te.write_shift(-4,it.R),Te.write_shift(-4,it.C),it.clsid)Te.write_shift(16,it.clsid,"hex");else for(qe=0;qe<4;++qe)Te.write_shift(4,0);Te.write_shift(4,it.state||0),Te.write_shift(4,0),Te.write_shift(4,0),Te.write_shift(4,0),Te.write_shift(4,0),Te.write_shift(4,it.start),Te.write_shift(4,it.size),Te.write_shift(4,0)}for(Me=1;Me<me.FileIndex.length;++Me)if(it=me.FileIndex[Me],it.size>=4096)if(Te.l=it.start+1<<9,ms&&Buffer.isBuffer(it.content))it.content.copy(Te,Te.l,0,it.size),Te.l+=it.size+511&-512;else{for(qe=0;qe<it.size;++qe)Te.write_shift(1,it.content[qe]);for(;qe&511;++qe)Te.write_shift(1,0)}for(Me=1;Me<me.FileIndex.length;++Me)if(it=me.FileIndex[Me],it.size>0&&it.size<4096)if(ms&&Buffer.isBuffer(it.content))it.content.copy(Te,Te.l,0,it.size),Te.l+=it.size+63&-64;else{for(qe=0;qe<it.size;++qe)Te.write_shift(1,it.content[qe]);for(;qe&63;++qe)Te.write_shift(1,0)}if(ms)Te.l=Te.length;else for(;Te.l<Te.length;)Te.write_shift(1,0);return Te}function M(me,De){var ke=me.FullPaths.map(function(qe){return qe.toUpperCase()}),_e=ke.map(function(qe){var st=qe.split("/");return st[st.length-(qe.slice(-1)=="/"?2:1)]}),Te=!1;De.charCodeAt(0)===47?(Te=!0,De=ke[0].slice(0,-1)+De):Te=De.indexOf("/")!==-1;var Me=De.toUpperCase(),Qe=Te===!0?ke.indexOf(Me):_e.indexOf(Me);if(Qe!==-1)return me.FileIndex[Qe];var vt=!Me.match(vv);for(Me=Me.replace(Vl,""),vt&&(Me=Me.replace(vv,"!")),Qe=0;Qe<ke.length;++Qe)if((vt?ke[Qe].replace(vv,"!"):ke[Qe]).replace(Vl,"")==Me||(vt?_e[Qe].replace(vv,"!"):_e[Qe]).replace(Vl,"")==Me)return me.FileIndex[Qe];return null}var U=64,P=-2,F="d0cf11e0a1b11ae1",K=[208,207,17,224,161,177,26,225],V="00000000000000000000000000000000",J={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:P,FREESECT:-1,HEADER_SIGNATURE:F,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:V,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Q(me,De,ke){d();var _e=I(me,ke);c.writeFileSync(De,_e)}function z(me){for(var De=new Array(me.length),ke=0;ke<me.length;++ke)De[ke]=String.fromCharCode(me[ke]);return De.join("")}function X(me,De){var ke=I(me,De);switch(De&&De.type||"buffer"){case"file":return d(),c.writeFileSync(De.filename,ke),ke;case"binary":return typeof ke=="string"?ke:z(ke);case"base64":return i1(typeof ke=="string"?ke:z(ke));case"buffer":if(ms)return Buffer.isBuffer(ke)?ke:Ch(ke);case"array":return typeof ke=="string"?zo(ke):ke}return ke}var le;function O(me){try{var De=me.InflateRaw,ke=new De;if(ke._processChunk(new Uint8Array([3,0]),ke._finishFlushFlag),ke.bytesRead)le=me;else throw new Error("zlib does not expose bytesRead")}catch(_e){console.error("cannot use native zlib: "+(_e.message||_e))}}function q(me,De){if(!le)return Ot(me,De);var ke=le.InflateRaw,_e=new ke,Te=_e._processChunk(me.slice(me.l),_e._finishFlushFlag);return me.l+=_e.bytesRead,Te}function W(me){return le?le.deflateRawSync(me):ht(me)}var te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],re=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],oe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ce(me){var De=(me<<1|me<<11)&139536|(me<<5|me<<15)&558144;return(De>>16|De>>8|De)&255}for(var G=typeof Uint8Array<"u",ie=G?new Uint8Array(256):[],ye=0;ye<256;++ye)ie[ye]=ce(ye);function se(me,De){var ke=ie[me&255];return De<=8?ke>>>8-De:(ke=ke<<8|ie[me>>8&255],De<=16?ke>>>16-De:(ke=ke<<8|ie[me>>16&255],ke>>>24-De))}function Ie(me,De){var ke=De&7,_e=De>>>3;return(me[_e]|(ke<=6?0:me[_e+1]<<8))>>>ke&3}function pe(me,De){var ke=De&7,_e=De>>>3;return(me[_e]|(ke<=5?0:me[_e+1]<<8))>>>ke&7}function ae(me,De){var ke=De&7,_e=De>>>3;return(me[_e]|(ke<=4?0:me[_e+1]<<8))>>>ke&15}function ge(me,De){var ke=De&7,_e=De>>>3;return(me[_e]|(ke<=3?0:me[_e+1]<<8))>>>ke&31}function Re(me,De){var ke=De&7,_e=De>>>3;return(me[_e]|(ke<=1?0:me[_e+1]<<8))>>>ke&127}function ue(me,De,ke){var _e=De&7,Te=De>>>3,Me=(1<<ke)-1,Qe=me[Te]>>>_e;return ke<8-_e||(Qe|=me[Te+1]<<8-_e,ke<16-_e)||(Qe|=me[Te+2]<<16-_e,ke<24-_e)||(Qe|=me[Te+3]<<24-_e),Qe&Me}function Z(me,De,ke){var _e=De&7,Te=De>>>3;return _e<=5?me[Te]|=(ke&7)<<_e:(me[Te]|=ke<<_e&255,me[Te+1]=(ke&7)>>8-_e),De+3}function Se(me,De,ke){var _e=De&7,Te=De>>>3;return ke=(ke&1)<<_e,me[Te]|=ke,De+1}function Ne(me,De,ke){var _e=De&7,Te=De>>>3;return ke<<=_e,me[Te]|=ke&255,ke>>>=8,me[Te+1]=ke,De+8}function Ye(me,De,ke){var _e=De&7,Te=De>>>3;return ke<<=_e,me[Te]|=ke&255,ke>>>=8,me[Te+1]=ke&255,me[Te+2]=ke>>>8,De+16}function gt(me,De){var ke=me.length,_e=2*ke>De?2*ke:De+5,Te=0;if(ke>=De)return me;if(ms){var Me=nM(_e);if(me.copy)me.copy(Me);else for(;Te<me.length;++Te)Me[Te]=me[Te];return Me}else if(G){var Qe=new Uint8Array(_e);if(Qe.set)Qe.set(me);else for(;Te<ke;++Te)Qe[Te]=me[Te];return Qe}return me.length=_e,me}function qt(me){for(var De=new Array(me),ke=0;ke<me;++ke)De[ke]=0;return De}function at(me,De,ke){var _e=1,Te=0,Me=0,Qe=0,vt=0,qe=me.length,st=G?new Uint16Array(32):qt(32);for(Me=0;Me<32;++Me)st[Me]=0;for(Me=qe;Me<ke;++Me)me[Me]=0;qe=me.length;var it=G?new Uint16Array(qe):qt(qe);for(Me=0;Me<qe;++Me)st[Te=me[Me]]++,_e<Te&&(_e=Te),it[Me]=0;for(st[0]=0,Me=1;Me<=_e;++Me)st[Me+16]=vt=vt+st[Me-1]<<1;for(Me=0;Me<qe;++Me)vt=me[Me],vt!=0&&(it[Me]=st[vt+16]++);var Ft=0;for(Me=0;Me<qe;++Me)if(Ft=me[Me],Ft!=0)for(vt=se(it[Me],_e)>>_e-Ft,Qe=(1<<_e+4-Ft)-1;Qe>=0;--Qe)De[vt|Qe<<Ft]=Ft&15|Me<<4;return _e}var $t=G?new Uint16Array(512):qt(512),ze=G?new Uint16Array(32):qt(32);if(!G){for(var Ke=0;Ke<512;++Ke)$t[Ke]=0;for(Ke=0;Ke<32;++Ke)ze[Ke]=0}(function(){for(var me=[],De=0;De<32;De++)me.push(5);at(me,ze,32);var ke=[];for(De=0;De<=143;De++)ke.push(8);for(;De<=255;De++)ke.push(9);for(;De<=279;De++)ke.push(7);for(;De<=287;De++)ke.push(8);at(ke,$t,288)})();var Ze=(function(){for(var De=G?new Uint8Array(32768):[],ke=0,_e=0;ke<oe.length-1;++ke)for(;_e<oe[ke+1];++_e)De[_e]=ke;for(;_e<32768;++_e)De[_e]=29;var Te=G?new Uint8Array(259):[];for(ke=0,_e=0;ke<re.length-1;++ke)for(;_e<re[ke+1];++_e)Te[_e]=ke;function Me(vt,qe){for(var st=0;st<vt.length;){var it=Math.min(65535,vt.length-st),Ft=st+it==vt.length;for(qe.write_shift(1,+Ft),qe.write_shift(2,it),qe.write_shift(2,~it&65535);it-- >0;)qe[qe.l++]=vt[st++]}return qe.l}function Qe(vt,qe){for(var st=0,it=0,Ft=G?new Uint16Array(32768):[];it<vt.length;){var Yt=Math.min(65535,vt.length-it);if(Yt<10){for(st=Z(qe,st,+(it+Yt==vt.length)),st&7&&(st+=8-(st&7)),qe.l=st/8|0,qe.write_shift(2,Yt),qe.write_shift(2,~Yt&65535);Yt-- >0;)qe[qe.l++]=vt[it++];st=qe.l*8;continue}st=Z(qe,st,+(it+Yt==vt.length)+2);for(var ea=0;Yt-- >0;){var Kt=vt[it];ea=(ea<<5^Kt)&32767;var Xt=-1,ya=0;if((Xt=Ft[ea])&&(Xt|=it&-32768,Xt>it&&(Xt-=32768),Xt<it))for(;vt[Xt+ya]==vt[it+ya]&&ya<250;)++ya;if(ya>2){Kt=Te[ya],Kt<=22?st=Ne(qe,st,ie[Kt+1]>>1)-1:(Ne(qe,st,3),st+=5,Ne(qe,st,ie[Kt-23]>>5),st+=3);var cs=Kt<8?0:Kt-4>>2;cs>0&&(Ye(qe,st,ya-re[Kt]),st+=cs),Kt=De[it-Xt],st=Ne(qe,st,ie[Kt]>>3),st-=3;var wa=Kt<4?0:Kt-2>>1;wa>0&&(Ye(qe,st,it-Xt-oe[Kt]),st+=wa);for(var La=0;La<ya;++La)Ft[ea]=it&32767,ea=(ea<<5^vt[it])&32767,++it;Yt-=ya-1}else Kt<=143?Kt=Kt+48:st=Se(qe,st,1),st=Ne(qe,st,ie[Kt]),Ft[ea]=it&32767,++it}st=Ne(qe,st,0)-1}return qe.l=(st+7)/8|0,qe.l}return function(qe,st){return qe.length<8?Me(qe,st):Qe(qe,st)}})();function ht(me){var De=kt(50+Math.floor(me.length*1.1)),ke=Ze(me,De);return De.slice(0,ke)}var At=G?new Uint16Array(32768):qt(32768),Mt=G?new Uint16Array(32768):qt(32768),Pt=G?new Uint16Array(128):qt(128),Gt=1,Ae=1;function Tt(me,De){var ke=ge(me,De)+257;De+=5;var _e=ge(me,De)+1;De+=5;var Te=ae(me,De)+4;De+=4;for(var Me=0,Qe=G?new Uint8Array(19):qt(19),vt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],qe=1,st=G?new Uint8Array(8):qt(8),it=G?new Uint8Array(8):qt(8),Ft=Qe.length,Yt=0;Yt<Te;++Yt)Qe[te[Yt]]=Me=pe(me,De),qe<Me&&(qe=Me),st[Me]++,De+=3;var ea=0;for(st[0]=0,Yt=1;Yt<=qe;++Yt)it[Yt]=ea=ea+st[Yt-1]<<1;for(Yt=0;Yt<Ft;++Yt)(ea=Qe[Yt])!=0&&(vt[Yt]=it[ea]++);var Kt=0;for(Yt=0;Yt<Ft;++Yt)if(Kt=Qe[Yt],Kt!=0){ea=ie[vt[Yt]]>>8-Kt;for(var Xt=(1<<7-Kt)-1;Xt>=0;--Xt)Pt[ea|Xt<<Kt]=Kt&7|Yt<<3}var ya=[];for(qe=1;ya.length<ke+_e;)switch(ea=Pt[Re(me,De)],De+=ea&7,ea>>>=3){case 16:for(Me=3+Ie(me,De),De+=2,ea=ya[ya.length-1];Me-- >0;)ya.push(ea);break;case 17:for(Me=3+pe(me,De),De+=3;Me-- >0;)ya.push(0);break;case 18:for(Me=11+Re(me,De),De+=7;Me-- >0;)ya.push(0);break;default:ya.push(ea),qe<ea&&(qe=ea);break}var cs=ya.slice(0,ke),wa=ya.slice(ke);for(Yt=ke;Yt<286;++Yt)cs[Yt]=0;for(Yt=_e;Yt<30;++Yt)wa[Yt]=0;return Gt=at(cs,At,286),Ae=at(wa,Mt,30),De}function We(me,De){if(me[0]==3&&!(me[1]&3))return[Of(De),2];for(var ke=0,_e=0,Te=nM(De||1<<18),Me=0,Qe=Te.length>>>0,vt=0,qe=0;(_e&1)==0;){if(_e=pe(me,ke),ke+=3,_e>>>1)_e>>1==1?(vt=9,qe=5):(ke=Tt(me,ke),vt=Gt,qe=Ae);else{ke&7&&(ke+=8-(ke&7));var st=me[ke>>>3]|me[(ke>>>3)+1]<<8;if(ke+=32,st>0)for(!De&&Qe<Me+st&&(Te=gt(Te,Me+st),Qe=Te.length);st-- >0;)Te[Me++]=me[ke>>>3],ke+=8;continue}for(;;){!De&&Qe<Me+32767&&(Te=gt(Te,Me+32767),Qe=Te.length);var it=ue(me,ke,vt),Ft=_e>>>1==1?$t[it]:At[it];if(ke+=Ft&15,Ft>>>=4,(Ft>>>8&255)===0)Te[Me++]=Ft;else{if(Ft==256)break;Ft-=257;var Yt=Ft<8?0:Ft-4>>2;Yt>5&&(Yt=0);var ea=Me+re[Ft];Yt>0&&(ea+=ue(me,ke,Yt),ke+=Yt),it=ue(me,ke,qe),Ft=_e>>>1==1?ze[it]:Mt[it],ke+=Ft&15,Ft>>>=4;var Kt=Ft<4?0:Ft-2>>1,Xt=oe[Ft];for(Kt>0&&(Xt+=ue(me,ke,Kt),ke+=Kt),!De&&Qe<ea&&(Te=gt(Te,ea+100),Qe=Te.length);Me<ea;)Te[Me]=Te[Me-Xt],++Me}}}return De?[Te,ke+7>>>3]:[Te.slice(0,Me),ke+7>>>3]}function Ot(me,De){var ke=me.slice(me.l||0),_e=We(ke,De);return me.l+=_e[1],_e[0]}function Rt(me,De){if(me)typeof console<"u"&&console.error(De);else throw new Error(De)}function na(me,De){var ke=me;Yi(ke,0);var _e=[],Te=[],Me={FileIndex:_e,FullPaths:Te};E(Me,{root:De.root});for(var Qe=ke.length-4;(ke[Qe]!=80||ke[Qe+1]!=75||ke[Qe+2]!=5||ke[Qe+3]!=6)&&Qe>=0;)--Qe;ke.l=Qe+4,ke.l+=4;var vt=ke.read_shift(2);ke.l+=6;var qe=ke.read_shift(4);for(ke.l=qe,Qe=0;Qe<vt;++Qe){ke.l+=20;var st=ke.read_shift(4),it=ke.read_shift(4),Ft=ke.read_shift(2),Yt=ke.read_shift(2),ea=ke.read_shift(2);ke.l+=8;var Kt=ke.read_shift(4),Xt=o(ke.slice(ke.l+Ft,ke.l+Ft+Yt));ke.l+=Ft+Yt+ea;var ya=ke.l;ke.l=Kt+4,pt(ke,st,it,Me,Xt),ke.l=ya}return Me}function pt(me,De,ke,_e,Te){me.l+=2;var Me=me.read_shift(2),Qe=me.read_shift(2),vt=l(me);if(Me&8257)throw new Error("Unsupported ZIP encryption");for(var qe=me.read_shift(4),st=me.read_shift(4),it=me.read_shift(4),Ft=me.read_shift(2),Yt=me.read_shift(2),ea="",Kt=0;Kt<Ft;++Kt)ea+=String.fromCharCode(me[me.l++]);if(Yt){var Xt=o(me.slice(me.l,me.l+Yt));(Xt[21589]||{}).mt&&(vt=Xt[21589].mt),((Te||{})[21589]||{}).mt&&(vt=Te[21589].mt)}me.l+=Yt;var ya=me.slice(me.l,me.l+st);switch(Qe){case 8:ya=q(me,it);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Qe)}var cs=!1;Me&8&&(qe=me.read_shift(4),qe==134695760&&(qe=me.read_shift(4),cs=!0),st=me.read_shift(4),it=me.read_shift(4)),st!=De&&Rt(cs,"Bad compressed size: "+De+" != "+st),it!=ke&&Rt(cs,"Bad uncompressed size: "+ke+" != "+it),Fe(_e,ea,ya,{unsafe:!0,mt:vt})}function lt(me,De){var ke=De||{},_e=[],Te=[],Me=kt(1),Qe=ke.compression?8:0,vt=0,qe=0,st=0,it=0,Ft=0,Yt=me.FullPaths[0],ea=Yt,Kt=me.FileIndex[0],Xt=[],ya=0;for(qe=1;qe<me.FullPaths.length;++qe)if(ea=me.FullPaths[qe].slice(Yt.length),Kt=me.FileIndex[qe],!(!Kt.size||!Kt.content||ea=="Sh33tJ5")){var cs=it,wa=kt(ea.length);for(st=0;st<ea.length;++st)wa.write_shift(1,ea.charCodeAt(st)&127);wa=wa.slice(0,wa.l),Xt[Ft]=gue.buf(Kt.content,0);var La=Kt.content;Qe==8&&(La=W(La)),Me=kt(30),Me.write_shift(4,67324752),Me.write_shift(2,20),Me.write_shift(2,vt),Me.write_shift(2,Qe),Kt.mt?i(Me,Kt.mt):Me.write_shift(4,0),Me.write_shift(-4,Xt[Ft]),Me.write_shift(4,La.length),Me.write_shift(4,Kt.content.length),Me.write_shift(2,wa.length),Me.write_shift(2,0),it+=Me.length,_e.push(Me),it+=wa.length,_e.push(wa),it+=La.length,_e.push(La),Me=kt(46),Me.write_shift(4,33639248),Me.write_shift(2,0),Me.write_shift(2,20),Me.write_shift(2,vt),Me.write_shift(2,Qe),Me.write_shift(4,0),Me.write_shift(-4,Xt[Ft]),Me.write_shift(4,La.length),Me.write_shift(4,Kt.content.length),Me.write_shift(2,wa.length),Me.write_shift(2,0),Me.write_shift(2,0),Me.write_shift(2,0),Me.write_shift(2,0),Me.write_shift(4,0),Me.write_shift(4,cs),ya+=Me.l,Te.push(Me),ya+=wa.length,Te.push(wa),++Ft}return Me=kt(22),Me.write_shift(4,101010256),Me.write_shift(2,0),Me.write_shift(2,0),Me.write_shift(2,Ft),Me.write_shift(2,Ft),Me.write_shift(4,ya),Me.write_shift(4,it),Me.write_shift(2,0),_i([_i(_e),_i(Te),Me])}var dt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function mt(me,De){if(me.ctype)return me.ctype;var ke=me.name||"",_e=ke.match(/\.([^\.]+)$/);return _e&&dt[_e[1]]||De&&(_e=(ke=De).match(/[\.\\]([^\.\\])+$/),_e&&dt[_e[1]])?dt[_e[1]]:"application/octet-stream"}function ut(me){for(var De=i1(me),ke=[],_e=0;_e<De.length;_e+=76)ke.push(De.slice(_e,_e+76));return ke.join(`\r
`)+`\r
`}function ra(me){var De=me.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(st){var it=st.charCodeAt(0).toString(16).toUpperCase();return"="+(it.length==1?"0"+it:it)});De=De.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),De.charAt(0)==`
`&&(De="=0D"+De.slice(1)),De=De.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ke=[],_e=De.split(`\r
`),Te=0;Te<_e.length;++Te){var Me=_e[Te];if(Me.length==0){ke.push("");continue}for(var Qe=0;Qe<Me.length;){var vt=76,qe=Me.slice(Qe,Qe+vt);qe.charAt(vt-1)=="="?vt--:qe.charAt(vt-2)=="="?vt-=2:qe.charAt(vt-3)=="="&&(vt-=3),qe=Me.slice(Qe,Qe+vt),Qe+=vt,Qe<Me.length&&(qe+="="),ke.push(qe)}}return ke.join(`\r
`)}function Aa(me){for(var De=[],ke=0;ke<me.length;++ke){for(var _e=me[ke];ke<=me.length&&_e.charAt(_e.length-1)=="=";)_e=_e.slice(0,_e.length-1)+me[++ke];De.push(_e)}for(var Te=0;Te<De.length;++Te)De[Te]=De[Te].replace(/[=][0-9A-Fa-f]{2}/g,function(Me){return String.fromCharCode(parseInt(Me.slice(1),16))});return zo(De.join(`\r
`))}function ua(me,De,ke){for(var _e="",Te="",Me="",Qe,vt=0;vt<10;++vt){var qe=De[vt];if(!qe||qe.match(/^\s*$/))break;var st=qe.match(/^(.*?):\s*([^\s].*)$/);if(st)switch(st[1].toLowerCase()){case"content-location":_e=st[2].trim();break;case"content-type":Me=st[2].trim();break;case"content-transfer-encoding":Te=st[2].trim();break}}switch(++vt,Te.toLowerCase()){case"base64":Qe=zo(Go(De.slice(vt).join("")));break;case"quoted-printable":Qe=Aa(De.slice(vt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Te)}var it=Fe(me,_e.slice(ke.length),Qe,{unsafe:!0});Me&&(it.ctype=Me)}function oa(me,De){if(z(me.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ke=De&&De.root||"",_e=(ms&&Buffer.isBuffer(me)?me.toString("binary"):z(me)).split(`\r
`),Te=0,Me="";for(Te=0;Te<_e.length;++Te)if(Me=_e[Te],!!/^Content-Location:/i.test(Me)&&(Me=Me.slice(Me.indexOf("file")),ke||(ke=Me.slice(0,Me.lastIndexOf("/")+1)),Me.slice(0,ke.length)!=ke))for(;ke.length>0&&(ke=ke.slice(0,ke.length-1),ke=ke.slice(0,ke.lastIndexOf("/")+1),Me.slice(0,ke.length)!=ke););var Qe=(_e[1]||"").match(/boundary="(.*?)"/);if(!Qe)throw new Error("MAD cannot find boundary");var vt="--"+(Qe[1]||""),qe=[],st=[],it={FileIndex:qe,FullPaths:st};E(it);var Ft,Yt=0;for(Te=0;Te<_e.length;++Te){var ea=_e[Te];ea!==vt&&ea!==vt+"--"||(Yt++&&ua(it,_e.slice(Ft,Te),ke),Ft=Te)}return it}function _s(me,De){var ke=De||{},_e=ke.boundary||"SheetJS";_e="------="+_e;for(var Te=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+_e.slice(2)+'"',"","",""],Me=me.FullPaths[0],Qe=Me,vt=me.FileIndex[0],qe=1;qe<me.FullPaths.length;++qe)if(Qe=me.FullPaths[qe].slice(Me.length),vt=me.FileIndex[qe],!(!vt.size||!vt.content||Qe=="Sh33tJ5")){Qe=Qe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(ya){return"_x"+ya.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(ya){return"_u"+ya.charCodeAt(0).toString(16)+"_"});for(var st=vt.content,it=ms&&Buffer.isBuffer(st)?st.toString("binary"):z(st),Ft=0,Yt=Math.min(1024,it.length),ea=0,Kt=0;Kt<=Yt;++Kt)(ea=it.charCodeAt(Kt))>=32&&ea<128&&++Ft;var Xt=Ft>=Yt*4/5;Te.push(_e),Te.push("Content-Location: "+(ke.root||"file:///C:/SheetJS/")+Qe),Te.push("Content-Transfer-Encoding: "+(Xt?"quoted-printable":"base64")),Te.push("Content-Type: "+mt(vt,Qe)),Te.push(""),Te.push(Xt?ra(it):ut(it))}return Te.push(_e+`--\r
`),Te.join(`\r
`)}function ps(me){var De={};return E(De,me),De}function Fe(me,De,ke,_e){var Te=_e&&_e.unsafe;Te||E(me);var Me=!Te&&ka.find(me,De);if(!Me){var Qe=me.FullPaths[0];De.slice(0,Qe.length)==Qe?Qe=De:(Qe.slice(-1)!="/"&&(Qe+="/"),Qe=(Qe+De).replace("//","/")),Me={name:n(De),type:2},me.FileIndex.push(Me),me.FullPaths.push(Qe),Te||ka.utils.cfb_gc(me)}return Me.content=ke,Me.size=ke?ke.length:0,_e&&(_e.CLSID&&(Me.clsid=_e.CLSID),_e.mt&&(Me.mt=_e.mt),_e.ct&&(Me.ct=_e.ct)),Me}function Ha(me,De){E(me);var ke=ka.find(me,De);if(ke){for(var _e=0;_e<me.FileIndex.length;++_e)if(me.FileIndex[_e]==ke)return me.FileIndex.splice(_e,1),me.FullPaths.splice(_e,1),!0}return!1}function is(me,De,ke){E(me);var _e=ka.find(me,De);if(_e){for(var Te=0;Te<me.FileIndex.length;++Te)if(me.FileIndex[Te]==_e)return me.FileIndex[Te].name=n(ke),me.FullPaths[Te]=ke,!0}return!1}function us(me){R(me,!0)}return t.find=M,t.read=_,t.parse=u,t.write=X,t.writeFile=Q,t.utils={cfb_new:ps,cfb_add:Fe,cfb_del:Ha,cfb_mov:is,cfb_gc:us,ReadShift:Av,CheckField:CH,prep_blob:Yi,bconcat:_i,use_zlib:O,_deflateRaw:ht,_inflateRaw:Ot,consts:J},t})();function vue(e){return typeof e=="string"?tN(e):Array.isArray(e)?Vde(e):e}function Z1(e,t,a){if(typeof Deno<"u"){if(a&&typeof t=="string")switch(a){case"utf8":t=new TextEncoder(a).encode(t);break;case"binary":t=tN(t);break;default:throw new Error("Unsupported encoding "+a)}return Deno.writeFileSync(e,t)}var r=a=="utf8"?cu(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,e);if(typeof Blob<"u"){var n=new Blob([vue(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(n,e);if(typeof saveAs<"u")return saveAs(n,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(n);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=e,l.href=i,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=Yf(t)),o.write(t),o.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function bue(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var a=t.read();return t.close(),a}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+e)}function vn(e){for(var t=Object.keys(e),a=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(e,t[r])&&a.push(t[r]);return a}function fM(e,t){for(var a=[],r=vn(e),n=0;n!==r.length;++n)a[e[r[n]][t]]==null&&(a[e[r[n]][t]]=r[n]);return a}function sN(e){for(var t=[],a=vn(e),r=0;r!==a.length;++r)t[e[a[r]]]=a[r];return t}function rN(e){for(var t=[],a=vn(e),r=0;r!==a.length;++r)t[e[a[r]]]=parseInt(a[r],10);return t}function yue(e){for(var t=[],a=vn(e),r=0;r!==a.length;++r)t[e[a[r]]]==null&&(t[e[a[r]]]=[]),t[e[a[r]]].push(a[r]);return t}var bw=new Date(1899,11,30,0,0,0);function ui(e,t){var a=e.getTime(),r=bw.getTime()+(e.getTimezoneOffset()-bw.getTimezoneOffset())*6e4;return(a-r)/(1440*60*1e3)}var nH=new Date,wue=bw.getTime()+(nH.getTimezoneOffset()-bw.getTimezoneOffset())*6e4,mM=nH.getTimezoneOffset();function nN(e){var t=new Date;return t.setTime(e*24*60*60*1e3+wue),t.getTimezoneOffset()!==mM&&t.setTime(t.getTime()+(t.getTimezoneOffset()-mM)*6e4),t}function jue(e){var t=0,a=0,r=!1,n=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!n)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=n.length;++i)if(n[i]){switch(a=1,i>3&&(r=!0),n[i].slice(n[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+n[i].slice(n[i].length-1));case"D":a*=24;case"H":a*=60;case"M":if(r)a*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=a*parseInt(n[i],10)}return t}var pM=new Date("2017-02-19T19:06:09.000Z"),iH=isNaN(pM.getFullYear())?new Date("2/19/17"):pM,Nue=iH.getFullYear()==2017;function Sr(e,t){var a=new Date(e);if(Nue)return t>0?a.setTime(a.getTime()+a.getTimezoneOffset()*60*1e3):t<0&&a.setTime(a.getTime()-a.getTimezoneOffset()*60*1e3),a;if(e instanceof Date)return e;if(iH.getFullYear()==1917&&!isNaN(a.getFullYear())){var r=a.getFullYear();return e.indexOf(""+r)>-1||a.setFullYear(a.getFullYear()+100),a}var n=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+n[0],+n[1]-1,+n[2],+n[3]||0,+n[4]||0,+n[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function ym(e,t){if(ms&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return cu(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return cu(Gz(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return cu(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return cu(new TextDecoder("utf-16be").decode(e.slice(2)))}var a={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return a[i]||i})}catch{}for(var r=[],n=0;n!=e.length;++n)r.push(String.fromCharCode(e[n]));return r.join("")}function Cr(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=Cr(e[a]));return t}function mn(e,t){for(var a="";a.length<t;)a+=e;return a}function jd(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var a=1,r=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return a*=100,""});return!isNaN(t=Number(r))||(r=r.replace(/[(](.*)[)]/,function(n,i){return a=-a,i}),!isNaN(t=Number(r)))?t/a:t}var kue=["january","february","march","april","may","june","july","august","september","october","november","december"];function fx(e){var t=new Date(e),a=new Date(NaN),r=t.getYear(),n=t.getMonth(),i=t.getDate();if(isNaN(i))return a;var l=e.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&kue.indexOf(l)==-1)return a}else if(l.match(/[a-z]/))return a;return r<0||r>8099?a:(n>0||i>1)&&r!=101?t:e.match(/[^-0-9:,\/\\]/)?a:t}var Sue=(function(){var e="abacaba".split(/(:?b)/i).length==5;return function(a,r,n){if(e||typeof r=="string")return a.split(r);for(var i=a.split(r),l=[i[0]],o=1;o<i.length;++o)l.push(n),l.push(i[o]);return l}})();function lH(e){return e?e.content&&e.type?ym(e.content,!0):e.data?gv(e.data):e.asNodeBuffer&&ms?gv(e.asNodeBuffer().toString("binary")):e.asBinary?gv(e.asBinary()):e._data&&e._data.getContent?gv(ym(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function oH(e){if(!e)return null;if(e.data)return sM(e.data);if(e.asNodeBuffer&&ms)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?sM(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function Cue(e){return e&&e.name.slice(-4)===".bin"?oH(e):lH(e)}function kc(e,t){for(var a=e.FullPaths||vn(e.files),r=t.toLowerCase().replace(/[\/]/g,"\\"),n=r.replace(/\\/g,"/"),i=0;i<a.length;++i){var l=a[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==l||n==l)return e.files?e.files[a[i]]:e.FileIndex[i]}return null}function BA(e,t){var a=kc(e,t);if(a==null)throw new Error("Cannot find file "+t+" in zip");return a}function Wn(e,t,a){if(!a)return Cue(BA(e,t));if(!t)return null;try{return Wn(e,t)}catch{return null}}function Ho(e,t,a){if(!a)return lH(BA(e,t));if(!t)return null;try{return Ho(e,t)}catch{return null}}function Aue(e,t,a){return oH(BA(e,t))}function xM(e){for(var t=e.FullPaths||vn(e.files),a=[],r=0;r<t.length;++r)t[r].slice(-1)!="/"&&a.push(t[r].replace(/^Root Entry[\/]/,""));return a.sort()}function os(e,t,a){if(e.FullPaths){if(typeof a=="string"){var r;return ms?r=Ch(a):r=Wde(a),ka.utils.cfb_add(e,t,r)}ka.utils.cfb_add(e,t,a)}else e.file(t,a)}function $A(){return ka.utils.cfb_new()}function cH(e,t){switch(t.type){case"base64":return ka.read(e,{type:"base64"});case"binary":return ka.read(e,{type:"binary"});case"buffer":case"array":return ka.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function bv(e,t){if(e.charAt(0)=="/")return e.slice(1);var a=t.split("/");t.slice(-1)!="/"&&a.pop();for(var r=e.split("/");r.length!==0;){var n=r.shift();n===".."?a.pop():n!=="."&&a.push(n)}return a.join("/")}var Un=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,_ue=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,gM=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Eue=/<[^>]*>/g,Cl=Un.match(gM)?gM:Eue,Tue=/<\w*:/,Due=/<(\/?)\w+:/;function za(e,t,a){for(var r={},n=0,i=0;n!==e.length&&!((i=e.charCodeAt(n))===32||i===10||i===13);++n);if(t||(r[0]=e.slice(0,n)),n===e.length)return r;var l=e.match(_ue),o=0,c="",d=0,u="",f="",p=1;if(l)for(d=0;d!=l.length;++d){for(f=l[d],i=0;i!=f.length&&f.charCodeAt(i)!==61;++i);for(u=f.slice(0,i).trim();f.charCodeAt(i+1)==32;)++i;for(p=(n=f.charCodeAt(i+1))==34||n==39?1:0,c=f.slice(i+1+p,f.length-p),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),r[u]=c,r[u.toLowerCase()]=c;else{var m=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(r[m]&&u.slice(o-3,o)=="ext")continue;r[m]=c,r[m.toLowerCase()]=c}}return r}function yu(e){return e.replace(Due,"<$1")}var dH={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},UA=sN(dH),Os=(function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function a(r){var n=r+"",i=n.indexOf("<![CDATA[");if(i==-1)return n.replace(e,function(o,c){return dH[o]||String.fromCharCode(parseInt(c,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,c){return String.fromCharCode(parseInt(c,16))});var l=n.indexOf("]]>");return a(n.slice(0,i))+n.slice(i+9,l)+a(n.slice(l+3))}})(),zA=/[&<>'"]/g,Pue=/[\u0000-\u0008\u000b-\u001f]/g;function ar(e){var t=e+"";return t.replace(zA,function(a){return UA[a]}).replace(Pue,function(a){return"_x"+("000"+a.charCodeAt(0).toString(16)).slice(-4)+"_"})}function vM(e){return ar(e).replace(/ /g,"_x0020_")}var uH=/[\u0000-\u001f]/g;function HA(e){var t=e+"";return t.replace(zA,function(a){return UA[a]}).replace(/\n/g,"<br/>").replace(uH,function(a){return"&#x"+("000"+a.charCodeAt(0).toString(16)).slice(-4)+";"})}function Mue(e){var t=e+"";return t.replace(zA,function(a){return UA[a]}).replace(uH,function(a){return"&#x"+a.charCodeAt(0).toString(16).toUpperCase()+";"})}var bM=(function(){var e=/&#(\d+);/g;function t(a,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(e,t)}})();function Lue(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function jr(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function H5(e){for(var t="",a=0,r=0,n=0,i=0,l=0,o=0;a<e.length;){if(r=e.charCodeAt(a++),r<128){t+=String.fromCharCode(r);continue}if(n=e.charCodeAt(a++),r>191&&r<224){l=(r&31)<<6,l|=n&63,t+=String.fromCharCode(l);continue}if(i=e.charCodeAt(a++),r<240){t+=String.fromCharCode((r&15)<<12|(n&63)<<6|i&63);continue}l=e.charCodeAt(a++),o=((r&7)<<18|(n&63)<<12|(i&63)<<6|l&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function yM(e){var t=Of(2*e.length),a,r,n=1,i=0,l=0,o;for(r=0;r<e.length;r+=n)n=1,(o=e.charCodeAt(r))<128?a=o:o<224?(a=(o&31)*64+(e.charCodeAt(r+1)&63),n=2):o<240?(a=(o&15)*4096+(e.charCodeAt(r+1)&63)*64+(e.charCodeAt(r+2)&63),n=3):(n=4,a=(o&7)*262144+(e.charCodeAt(r+1)&63)*4096+(e.charCodeAt(r+2)&63)*64+(e.charCodeAt(r+3)&63),a-=65536,l=55296+(a>>>10&1023),a=56320+(a&1023)),l!==0&&(t[i++]=l&255,t[i++]=l>>>8,l=0),t[i++]=a%256,t[i++]=a>>>8;return t.slice(0,i).toString("ucs2")}function wM(e){return Ch(e,"binary").toString("utf8")}var Ky="foo bar baz",or=ms&&(wM(Ky)==H5(Ky)&&wM||yM(Ky)==H5(Ky)&&yM)||H5,cu=ms?function(e){return Ch(e,"utf8").toString("binary")}:function(e){for(var t=[],a=0,r=0,n=0;a<e.length;)switch(r=e.charCodeAt(a++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,n=e.charCodeAt(a++)-56320+(r<<10),t.push(String.fromCharCode(240+(n>>18&7))),t.push(String.fromCharCode(144+(n>>12&63))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(r&63)))}return t.join("")},o1=(function(){var e={};return function(a,r){var n=a+"|"+(r||"");return e[n]?e[n]:e[n]=new RegExp("<(?:\\w+:)?"+a+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+a+">",r||"")}})(),hH=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(a){for(var r=a.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),n=0;n<e.length;++n)r=r.replace(e[n][0],e[n][1]);return r}})(),Oue=(function(){var e={};return function(a){return e[a]!==void 0?e[a]:e[a]=new RegExp("<(?:vt:)?"+a+">([\\s\\S]*?)</(?:vt:)?"+a+">","g")}})(),Rue=/<\/?(?:vt:)?variant>/g,Fue=/<(?:vt:)([^>]*)>([\s\S]*)</;function jM(e,t){var a=za(e),r=e.match(Oue(a.baseType))||[],n=[];if(r.length!=a.size){if(t.WTF)throw new Error("unexpected vector length "+r.length+" != "+a.size);return n}return r.forEach(function(i){var l=i.replace(Rue,"").match(Fue);l&&n.push({v:or(l[2]),t:l[1]})}),n}var fH=/(^\s|\s$|\n)/;function Xi(e,t){return"<"+e+(t.match(fH)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function c1(e){return vn(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Qt(e,t,a){return"<"+e+(a!=null?c1(a):"")+(t!=null?(t.match(fH)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function iC(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(a){if(t)throw a}return""}function Iue(e,t){switch(typeof e){case"string":var a=Qt("vt:lpwstr",ar(e));return a=a.replace(/&quot;/g,"_x0022_"),a;case"number":return Qt((e|0)==e?"vt:i4":"vt:r8",ar(String(e)));case"boolean":return Qt("vt:bool",e?"true":"false")}if(e instanceof Date)return Qt("vt:filetime",iC(e));throw new Error("Unable to serialize "+e)}function VA(e){if(ms&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return or(Yf(RA(e)));throw new Error("Bad input format: expected Buffer or string")}var d1=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,oi={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Im=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Bo={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Bue(e,t){for(var a=1-2*(e[t+7]>>>7),r=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),n=e[t+6]&15,i=5;i>=0;--i)n=n*256+e[t+i];return r==2047?n==0?a*(1/0):NaN:(r==0?r=-1022:(r-=1023,n+=Math.pow(2,52)),a*Math.pow(2,r-52)*n)}function $ue(e,t,a){var r=(t<0||1/t==-1/0?1:0)<<7,n=0,i=0,l=r?-t:t;isFinite(l)?l==0?n=i=0:(n=Math.floor(Math.log(l)/Math.LN2),i=l*Math.pow(2,52-n),n<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?n=-1022:(i-=Math.pow(2,52),n+=1023)):(n=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[a+o]=i&255;e[a+6]=(n&15)<<4|i&15,e[a+7]=n>>4|r}var NM=function(e){for(var t=[],a=10240,r=0;r<e[0].length;++r)if(e[0][r])for(var n=0,i=e[0][r].length;n<i;n+=a)t.push.apply(t,e[0][r].slice(n,n+a));return t},kM=ms?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Ch(t)})):NM(e)}:NM,SM=function(e,t,a){for(var r=[],n=t;n<a;n+=2)r.push(String.fromCharCode(ah(e,n)));return r.join("").replace(Vl,"")},WA=ms?function(e,t,a){return Buffer.isBuffer(e)?e.toString("utf16le",t,a).replace(Vl,""):SM(e,t,a)}:SM,CM=function(e,t,a){for(var r=[],n=t;n<t+a;++n)r.push(("0"+e[n].toString(16)).slice(-2));return r.join("")},mH=ms?function(e,t,a){return Buffer.isBuffer(e)?e.toString("hex",t,t+a):CM(e,t,a)}:CM,AM=function(e,t,a){for(var r=[],n=t;n<a;n++)r.push(String.fromCharCode(zp(e,n)));return r.join("")},eb=ms?function(t,a,r){return Buffer.isBuffer(t)?t.toString("utf8",a,r):AM(t,a,r)}:AM,pH=function(e,t){var a=$o(e,t);return a>0?eb(e,t+4,t+4+a-1):""},xH=pH,gH=function(e,t){var a=$o(e,t);return a>0?eb(e,t+4,t+4+a-1):""},vH=gH,bH=function(e,t){var a=2*$o(e,t);return a>0?eb(e,t+4,t+4+a-1):""},yH=bH,wH=function(t,a){var r=$o(t,a);return r>0?WA(t,a+4,a+4+r):""},jH=wH,NH=function(e,t){var a=$o(e,t);return a>0?eb(e,t+4,t+4+a):""},kH=NH,SH=function(e,t){return Bue(e,t)},yw=SH,qA=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};ms&&(xH=function(t,a){if(!Buffer.isBuffer(t))return pH(t,a);var r=t.readUInt32LE(a);return r>0?t.toString("utf8",a+4,a+4+r-1):""},vH=function(t,a){if(!Buffer.isBuffer(t))return gH(t,a);var r=t.readUInt32LE(a);return r>0?t.toString("utf8",a+4,a+4+r-1):""},yH=function(t,a){if(!Buffer.isBuffer(t))return bH(t,a);var r=2*t.readUInt32LE(a);return t.toString("utf16le",a+4,a+4+r-1)},jH=function(t,a){if(!Buffer.isBuffer(t))return wH(t,a);var r=t.readUInt32LE(a);return t.toString("utf16le",a+4,a+4+r)},kH=function(t,a){if(!Buffer.isBuffer(t))return NH(t,a);var r=t.readUInt32LE(a);return t.toString("utf8",a+4,a+4+r)},yw=function(t,a){return Buffer.isBuffer(t)?t.readDoubleLE(a):SH(t,a)},qA=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var zp=function(e,t){return e[t]},ah=function(e,t){return e[t+1]*256+e[t]},Uue=function(e,t){var a=e[t+1]*256+e[t];return a<32768?a:(65535-a+1)*-1},$o=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},U0=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},zue=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Av(e,t){var a="",r,n,i=[],l,o,c,d;switch(t){case"dbcs":if(d=this.l,ms&&Buffer.isBuffer(this))a=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)a+=String.fromCharCode(ah(this,d)),d+=2;e*=2;break;case"utf8":a=eb(this,this.l,this.l+e);break;case"utf16le":e*=2,a=WA(this,this.l,this.l+e);break;case"wstr":return Av.call(this,e,"dbcs");case"lpstr-ansi":a=xH(this,this.l),e=4+$o(this,this.l);break;case"lpstr-cp":a=vH(this,this.l),e=4+$o(this,this.l);break;case"lpwstr":a=yH(this,this.l),e=4+2*$o(this,this.l);break;case"lpp4":e=4+$o(this,this.l),a=jH(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+$o(this,this.l),a=kH(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,a="";(l=zp(this,this.l+e++))!==0;)i.push(Gy(l));a=i.join("");break;case"_wstr":for(e=0,a="";(l=ah(this,this.l+e))!==0;)i.push(Gy(l)),e+=2;e+=2,a=i.join("");break;case"dbcs-cont":for(a="",d=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return l=zp(this,d),this.l=d+1,o=Av.call(this,e-c,l?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(Gy(ah(this,d))),d+=2}a=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(a="",d=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return l=zp(this,d),this.l=d+1,o=Av.call(this,e-c,l?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(Gy(zp(this,d))),d+=1}a=i.join("");break;default:switch(e){case 1:return r=zp(this,this.l),this.l++,r;case 2:return r=(t==="i"?Uue:ah)(this,this.l),this.l+=2,r;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(r=(e>0?U0:zue)(this,this.l),this.l+=4,r):(n=$o(this,this.l),this.l+=4,n);case 8:case-8:if(t==="f")return e==8?n=yw(this,this.l):n=yw([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,n;e=8;case 16:a=mH(this,this.l,e);break}}return this.l+=e,a}var Hue=function(e,t,a){e[a]=t&255,e[a+1]=t>>>8&255,e[a+2]=t>>>16&255,e[a+3]=t>>>24&255},Vue=function(e,t,a){e[a]=t&255,e[a+1]=t>>8&255,e[a+2]=t>>16&255,e[a+3]=t>>24&255},Wue=function(e,t,a){e[a]=t&255,e[a+1]=t>>>8&255};function que(e,t,a){var r=0,n=0;if(a==="dbcs"){for(n=0;n!=t.length;++n)Wue(this,t.charCodeAt(n),this.l+2*n);r=2*t.length}else if(a==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),n=0;n!=t.length;++n)this[this.l+n]=t.charCodeAt(n)&255;r=t.length}else if(a==="hex"){for(;n<e;++n)this[this.l++]=parseInt(t.slice(2*n,2*n+2),16)||0;return this}else if(a==="utf16le"){var i=Math.min(this.l+e,this.length);for(n=0;n<Math.min(t.length,e);++n){var l=t.charCodeAt(n);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:r=1,this[this.l]=t&255;break;case 2:r=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:r=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:r=4,Hue(this,t,this.l);break;case 8:if(r=8,a==="f"){$ue(this,t,this.l);break}case 16:break;case-4:r=4,Vue(this,t,this.l);break}return this.l+=r,this}function CH(e,t){var a=mH(this,this.l,e.length>>1);if(a!==e)throw new Error(t+"Expected "+e+" saw "+a);this.l+=e.length>>1}function Yi(e,t){e.l=t,e.read_shift=Av,e.chk=CH,e.write_shift=que}function Nl(e,t){e.l+=t}function kt(e){var t=Of(e);return Yi(t,0),t}function Ah(e,t,a){if(e){var r,n,i;Yi(e,e.l||0);for(var l=e.length,o=0,c=0;e.l<l;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var d=x1[o]||x1[65535];for(r=e.read_shift(1),i=r&127,n=1;n<4&&r&128;++n)i+=((r=e.read_shift(1))&127)<<7*n;c=e.l+i;var u=d.f&&d.f(e,i,a);if(e.l=c,t(u,d,o))return}}}function vo(){var e=[],t=ms?256:2048,a=function(d){var u=kt(d);return Yi(u,0),u},r=a(t),n=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&e.push(r),r=null)},i=function(d){return r&&d<r.length-r.l?r:(n(),r=a(Math.max(d+1,t)))},l=function(){return n(),_i(e)},o=function(d){n(),r=d,r.l==null&&(r.l=r.length),i(t)};return{next:i,push:o,end:l,_bufs:e}}function Ht(e,t,a,r){var n=+t,i;if(!isNaN(n)){r||(r=x1[n].p||(a||[]).length||0),i=1+(n>=128?1:0)+1,r>=128&&++i,r>=16384&&++i,r>=2097152&&++i;var l=e.next(i);n<=127?l.write_shift(1,n):(l.write_shift(1,(n&127)+128),l.write_shift(1,n>>7));for(var o=0;o!=4;++o)if(r>=128)l.write_shift(1,(r&127)+128),r>>=7;else{l.write_shift(1,r);break}r>0&&qA(a)&&e.push(a)}}function _v(e,t,a){var r=Cr(e);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!a||a.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function _M(e,t,a){var r=Cr(e);return r.s=_v(r.s,t.s,a),r.e=_v(r.e,t.s,a),r}function Ev(e,t){if(e.cRel&&e.c<0)for(e=Cr(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Cr(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var a=Oa(e);return!e.cRel&&e.cRel!=null&&(a=Yue(a)),!e.rRel&&e.rRel!=null&&(a=Gue(a)),a}function V5(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+en(e.s.c)+":"+(e.e.cRel?"":"$")+en(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Rn(e.s.r)+":"+(e.e.rRel?"":"$")+Rn(e.e.r):Ev(e.s,t.biff)+":"+Ev(e.e,t.biff)}function GA(e){return parseInt(Kue(e),10)-1}function Rn(e){return""+(e+1)}function Gue(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Kue(e){return e.replace(/\$(\d+)$/,"$1")}function KA(e){for(var t=Xue(e),a=0,r=0;r!==t.length;++r)a=26*a+t.charCodeAt(r)-64;return a-1}function en(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function Yue(e){return e.replace(/^([A-Z])/,"$$$1")}function Xue(e){return e.replace(/^\$([A-Z])/,"$1")}function Jue(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function tn(e){for(var t=0,a=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n>=48&&n<=57?t=10*t+(n-48):n>=65&&n<=90&&(a=26*a+(n-64))}return{c:a-1,r:t-1}}function Oa(e){for(var t=e.c+1,a="";t;t=(t-1)/26|0)a=String.fromCharCode((t-1)%26+65)+a;return a+(e.r+1)}function bo(e){var t=e.indexOf(":");return t==-1?{s:tn(e),e:tn(e)}:{s:tn(e.slice(0,t)),e:tn(e.slice(t+1))}}function ns(e,t){return typeof t>"u"||typeof t=="number"?ns(e.s,e.e):(typeof e!="string"&&(e=Oa(e)),typeof t!="string"&&(t=Oa(t)),e==t?e:e+":"+t)}function Rs(e){var t={s:{c:0,r:0},e:{c:0,r:0}},a=0,r=0,n=0,i=e.length;for(a=0;r<i&&!((n=e.charCodeAt(r)-64)<1||n>26);++r)a=26*a+n;for(t.s.c=--a,a=0;r<i&&!((n=e.charCodeAt(r)-48)<0||n>9);++r)a=10*a+n;if(t.s.r=--a,r===i||n!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,a=0;r!=i&&!((n=e.charCodeAt(r)-64)<1||n>26);++r)a=26*a+n;for(t.e.c=--a,a=0;r!=i&&!((n=e.charCodeAt(r)-48)<0||n>9);++r)a=10*a+n;return t.e.r=--a,t}function EM(e,t){var a=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Oc(e.z,a?ui(t):t)}catch{}try{return e.w=Oc((e.XF||{}).numFmtId||(a?14:0),a?ui(t):t)}catch{return""+t}}function ph(e,t,a){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&a&&a.dateNF&&(e.z=a.dateNF),e.t=="e"?_h[e.v]||e.v:t==null?EM(e,e.v):EM(e,t))}function Xf(e,t){var a=t&&t.sheet?t.sheet:"Sheet1",r={};return r[a]=e,{SheetNames:[a],Sheets:r}}function AH(e,t,a){var r=a||{},n=e?Array.isArray(e):r.dense,i=e||(n?[]:{}),l=0,o=0;if(i&&r.origin!=null){if(typeof r.origin=="number")l=r.origin;else{var c=typeof r.origin=="string"?tn(r.origin):r.origin;l=c.r,o=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=Rs(i["!ref"]);d.s.c=u.s.c,d.s.r=u.s.r,d.e.c=Math.max(d.e.c,u.e.c),d.e.r=Math.max(d.e.r,u.e.r),l==-1&&(d.e.r=l=u.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=t[f].length;++p)if(!(typeof t[f][p]>"u")){var m={v:t[f][p]},v=l+f,g=o+p;if(d.s.r>v&&(d.s.r=v),d.s.c>g&&(d.s.c=g),d.e.r<v&&(d.e.r=v),d.e.c<g&&(d.e.c=g),t[f][p]&&typeof t[f][p]=="object"&&!Array.isArray(t[f][p])&&!(t[f][p]instanceof Date))m=t[f][p];else if(Array.isArray(m.v)&&(m.f=t[f][p][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(r.nullError)m.t="e",m.v=0;else if(r.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=r.dateNF||Ma[14],r.cellDates?(m.t="d",m.w=Oc(m.z,ui(m.v))):(m.t="n",m.v=ui(m.v),m.w=Oc(m.z,m.v))):m.t="s";if(n)i[v]||(i[v]=[]),i[v][g]&&i[v][g].z&&(m.z=i[v][g].z),i[v][g]=m;else{var b=Oa({c:g,r:v});i[b]&&i[b].z&&(m.z=i[b].z),i[b]=m}}}return d.s.c<1e7&&(i["!ref"]=ns(d)),i}function Ix(e,t){return AH(null,e,t)}function Que(e){return e.read_shift(4,"i")}function Nd(e,t){return t||(t=kt(4)),t.write_shift(4,e),t}function wl(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Ti(e,t){var a=!1;return t==null&&(a=!0,t=kt(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),a?t.slice(0,t.l):t}function Zue(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function ehe(e,t){return t||(t=kt(4)),t.write_shift(2,0),t.write_shift(2,0),t}function YA(e,t){var a=e.l,r=e.read_shift(1),n=wl(e),i=[],l={t:n,h:n};if((r&1)!==0){for(var o=e.read_shift(4),c=0;c!=o;++c)i.push(Zue(e));l.r=i}else l.r=[{ich:0,ifnt:0}];return e.l=a+t,l}function the(e,t){var a=!1;return t==null&&(a=!0,t=kt(15+4*e.t.length)),t.write_shift(1,0),Ti(e.t,t),a?t.slice(0,t.l):t}var ahe=YA;function she(e,t){var a=!1;return t==null&&(a=!0,t=kt(23+4*e.t.length)),t.write_shift(1,1),Ti(e.t,t),t.write_shift(4,1),ehe({},t),a?t.slice(0,t.l):t}function zc(e){var t=e.read_shift(4),a=e.read_shift(2);return a+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:a}}function Bm(e,t){return t==null&&(t=kt(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function $m(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Um(e,t){return t==null&&(t=kt(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var rhe=wl,_H=Ti;function XA(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function ww(e,t){var a=!1;return t==null&&(a=!0,t=kt(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),a?t.slice(0,t.l):t}var nhe=wl,lC=XA,JA=ww;function QA(e){var t=e.slice(e.l,e.l+4),a=t[0]&1,r=t[0]&2;e.l+=4;var n=r===0?yw([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):U0(t,0)>>2;return a?n/100:n}function EH(e,t){t==null&&(t=kt(4));var a=0,r=0,n=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?r=1:n==(n|0)&&n>=-536870912&&n<1<<29&&(r=1,a=1),r)t.write_shift(-4,((a?n:e)<<2)+(a+2));else throw new Error("unsupported RkNumber "+e)}function TH(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function ihe(e,t){return t||(t=kt(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var zm=TH,Bx=ihe;function vl(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function wm(e,t){return(t||kt(8)).write_shift(8,e,"f")}function lhe(e){var t={},a=e.read_shift(1),r=a>>>1,n=e.read_shift(1),i=e.read_shift(2,"i"),l=e.read_shift(1),o=e.read_shift(1),c=e.read_shift(1);switch(e.l++,r){case 0:t.auto=1;break;case 1:t.index=n;var d=tm[n];d&&(t.rgb=h1(d));break;case 2:t.rgb=h1([l,o,c]);break;case 3:t.theme=n;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function jw(e,t){if(t||(t=kt(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var a=e.tint||0;if(a>0?a*=32767:a<0&&(a*=32768),t.write_shift(2,a),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var r=e.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),t.write_shift(1,parseInt(r.slice(0,2),16)),t.write_shift(1,parseInt(r.slice(2,4),16)),t.write_shift(1,parseInt(r.slice(4,6),16)),t.write_shift(1,255)}return t}function ohe(e){var t=e.read_shift(1);e.l++;var a={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return a}function che(e,t){t||(t=kt(2));var a=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,a),t.write_shift(1,0),t}function DH(e,t){var a={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=e.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return a[e.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function dhe(e){return DH(e,1)}function uhe(e){return DH(e,2)}var ZA=2,oo=3,Yy=11,TM=12,Nw=19,Xy=64,hhe=65,fhe=71,mhe=4108,phe=4126,Ci=80,PH=81,xhe=[Ci,PH],oC={1:{n:"CodePage",t:ZA},2:{n:"Category",t:Ci},3:{n:"PresentationFormat",t:Ci},4:{n:"ByteCount",t:oo},5:{n:"LineCount",t:oo},6:{n:"ParagraphCount",t:oo},7:{n:"SlideCount",t:oo},8:{n:"NoteCount",t:oo},9:{n:"HiddenCount",t:oo},10:{n:"MultimediaClipCount",t:oo},11:{n:"ScaleCrop",t:Yy},12:{n:"HeadingPairs",t:mhe},13:{n:"TitlesOfParts",t:phe},14:{n:"Manager",t:Ci},15:{n:"Company",t:Ci},16:{n:"LinksUpToDate",t:Yy},17:{n:"CharacterCount",t:oo},19:{n:"SharedDoc",t:Yy},22:{n:"HyperlinksChanged",t:Yy},23:{n:"AppVersion",t:oo,p:"version"},24:{n:"DigSig",t:hhe},26:{n:"ContentType",t:Ci},27:{n:"ContentStatus",t:Ci},28:{n:"Language",t:Ci},29:{n:"Version",t:Ci},255:{},2147483648:{n:"Locale",t:Nw},2147483651:{n:"Behavior",t:Nw},1919054434:{}},cC={1:{n:"CodePage",t:ZA},2:{n:"Title",t:Ci},3:{n:"Subject",t:Ci},4:{n:"Author",t:Ci},5:{n:"Keywords",t:Ci},6:{n:"Comments",t:Ci},7:{n:"Template",t:Ci},8:{n:"LastAuthor",t:Ci},9:{n:"RevNumber",t:Ci},10:{n:"EditTime",t:Xy},11:{n:"LastPrinted",t:Xy},12:{n:"CreatedDate",t:Xy},13:{n:"ModifiedDate",t:Xy},14:{n:"PageCount",t:oo},15:{n:"WordCount",t:oo},16:{n:"CharCount",t:oo},17:{n:"Thumbnail",t:fhe},18:{n:"Application",t:Ci},19:{n:"DocSecurity",t:oo},255:{},2147483648:{n:"Locale",t:Nw},2147483651:{n:"Behavior",t:Nw},1919054434:{}},DM={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},ghe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function vhe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var bhe=vhe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),tm=Cr(bhe),_h={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},MH={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},dC={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Jy={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function e8(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function yhe(e){var t=e8();if(!e||!e.match)return t;var a={};if((e.match(Cl)||[]).forEach(function(r){var n=za(r);switch(n[0].replace(Tue,"<")){case"<?xml":break;case"<Types":t.xmlns=n["xmlns"+(n[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":a[n.Extension]=n.ContentType;break;case"<Override":t[dC[n.ContentType]]!==void 0&&t[dC[n.ContentType]].push(n.PartName);break}}),t.xmlns!==oi.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=a,delete t.calcchains,t}function LH(e,t){var a=yue(dC),r=[],n;r[r.length]=Un,r[r.length]=Qt("Types",null,{xmlns:oi.CT,"xmlns:xsd":oi.xsd,"xmlns:xsi":oi.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return Qt("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(n=e[c][0],r[r.length]=Qt("Override",null,{PartName:(n[0]=="/"?"":"/")+n,ContentType:Jy[c][t.bookType]||Jy[c].xlsx}))},l=function(c){(e[c]||[]).forEach(function(d){r[r.length]=Qt("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:Jy[c][t.bookType]||Jy[c].xlsx})})},o=function(c){(e[c]||[]).forEach(function(d){r[r.length]=Qt("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:a[c][0]})})};return i("workbooks"),l("sheets"),l("charts"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),l("metadata"),o("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var vs={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function u1(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Tv(e,t){var a={"!id":{}};if(!e)return a;t.charAt(0)!=="/"&&(t="/"+t);var r={};return(e.match(Cl)||[]).forEach(function(n){var i=za(n);if(i[0]==="<Relationship"){var l={};l.Type=i.Type,l.Target=i.Target,l.Id=i.Id,i.TargetMode&&(l.TargetMode=i.TargetMode);var o=i.TargetMode==="External"?i.Target:bv(i.Target,t);a[o]=l,r[i.Id]=l}}),a["!id"]=r,a}function ex(e){var t=[Un,Qt("Relationships",null,{xmlns:oi.RELS})];return vn(e["!id"]).forEach(function(a){t[t.length]=Qt("Relationship",null,e["!id"][a])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Qs(e,t,a,r,n,i){if(n||(n={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,n.Id="rId"+t,n.Type=r,n.Target=a,[vs.HLINK,vs.XPATH,vs.XMISS].indexOf(n.Type)>-1&&(n.TargetMode="External"),e["!id"][n.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][n.Id]=n,e[("/"+n.Target).replace("//","/")]=n,t}var whe="application/vnd.oasis.opendocument.spreadsheet";function jhe(e,t){for(var a=VA(e),r,n;r=d1.exec(a);)switch(r[3]){case"manifest":break;case"file-entry":if(n=za(r[0],!1),n.path=="/"&&n.type!==whe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw r}}function Nhe(e){var t=[Un];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var a=0;a<e.length;++a)t.push('  <manifest:file-entry manifest:full-path="'+e[a][0]+'" manifest:media-type="'+e[a][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function PM(e,t,a){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(a||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function khe(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function She(e){var t=[Un];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var a=0;a!=e.length;++a)t.push(PM(e[a][0],e[a][1])),t.push(khe("",e[a][0]));return t.push(PM("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function OH(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+pw.version+"</meta:generator></office:meta></office:document-meta>"}var Dc=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Che=(function(){for(var e=new Array(Dc.length),t=0;t<Dc.length;++t){var a=Dc[t],r="(?:"+a[0].slice(0,a[0].indexOf(":"))+":)"+a[0].slice(a[0].indexOf(":")+1);e[t]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return e})();function RH(e){var t={};e=or(e);for(var a=0;a<Dc.length;++a){var r=Dc[a],n=e.match(Che[a]);n!=null&&n.length>0&&(t[r[1]]=Os(n[1])),r[2]==="date"&&t[r[1]]&&(t[r[1]]=Sr(t[r[1]]))}return t}function W5(e,t,a,r,n){n[e]!=null||t==null||t===""||(n[e]=t,t=ar(t),r[r.length]=a?Qt(e,t,a):Xi(e,t))}function FH(e,t){var a=t||{},r=[Un,Qt("cp:coreProperties",null,{"xmlns:cp":oi.CORE_PROPS,"xmlns:dc":oi.dc,"xmlns:dcterms":oi.dcterms,"xmlns:dcmitype":oi.dcmitype,"xmlns:xsi":oi.xsi})],n={};if(!e&&!a.Props)return r.join("");e&&(e.CreatedDate!=null&&W5("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:iC(e.CreatedDate,a.WTF),{"xsi:type":"dcterms:W3CDTF"},r,n),e.ModifiedDate!=null&&W5("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:iC(e.ModifiedDate,a.WTF),{"xsi:type":"dcterms:W3CDTF"},r,n));for(var i=0;i!=Dc.length;++i){var l=Dc[i],o=a.Props&&a.Props[l[1]]!=null?a.Props[l[1]]:e?e[l[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&W5(l[0],o,null,r,n)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var am=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],IH=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function BH(e,t,a,r){var n=[];if(typeof e=="string")n=jM(e,r);else for(var i=0;i<e.length;++i)n=n.concat(e[i].map(function(u){return{v:u}}));var l=typeof t=="string"?jM(t,r).map(function(u){return u.v}):t,o=0,c=0;if(l.length>0)for(var d=0;d!==n.length;d+=2){switch(c=+n[d+1].v,n[d].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":a.Worksheets=c,a.SheetNames=l.slice(o,o+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":a.NamedRanges=c,a.DefinedNames=l.slice(o,o+c);break;case"Charts":case"Diagramme":a.Chartsheets=c,a.ChartNames=l.slice(o,o+c);break}o+=c}}function Ahe(e,t,a){var r={};return t||(t={}),e=or(e),am.forEach(function(n){var i=(e.match(o1(n[0]))||[])[1];switch(n[2]){case"string":i&&(t[n[1]]=Os(i));break;case"bool":t[n[1]]=i==="true";break;case"raw":var l=e.match(new RegExp("<"+n[0]+"[^>]*>([\\s\\S]*?)</"+n[0]+">"));l&&l.length>0&&(r[n[1]]=l[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&BH(r.HeadingPairs,r.TitlesOfParts,t,a),t}function $H(e){var t=[],a=Qt;return e||(e={}),e.Application="SheetJS",t[t.length]=Un,t[t.length]=Qt("Properties",null,{xmlns:oi.EXT_PROPS,"xmlns:vt":oi.vt}),am.forEach(function(r){if(e[r[1]]!==void 0){var n;switch(r[2]){case"string":n=ar(String(e[r[1]]));break;case"bool":n=e[r[1]]?"true":"false";break}n!==void 0&&(t[t.length]=a(r[0],n))}}),t[t.length]=a("HeadingPairs",a("vt:vector",a("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+a("vt:variant",a("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=a("TitlesOfParts",a("vt:vector",e.SheetNames.map(function(r){return"<vt:lpstr>"+ar(r)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var _he=/<[^>]+>[^<]*/g;function Ehe(e,t){var a={},r="",n=e.match(_he);if(n)for(var i=0;i!=n.length;++i){var l=n[i],o=za(l);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":r=Os(o.name);break;case"</property>":r=null;break;default:if(l.indexOf("<vt:")===0){var c=l.split(">"),d=c[0].slice(4),u=c[1];switch(d){case"lpstr":case"bstr":case"lpwstr":a[r]=Os(u);break;case"bool":a[r]=jr(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":a[r]=parseInt(u,10);break;case"r4":case"r8":case"decimal":a[r]=parseFloat(u);break;case"filetime":case"date":a[r]=Sr(u);break;case"cy":case"error":a[r]=Os(u);break;default:if(d.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",l,d,c)}}else if(l.slice(0,2)!=="</"){if(t.WTF)throw new Error(l)}}}return a}function UH(e){var t=[Un,Qt("Properties",null,{xmlns:oi.CUST_PROPS,"xmlns:vt":oi.vt})];if(!e)return t.join("");var a=1;return vn(e).forEach(function(n){++a,t[t.length]=Qt("property",Iue(e[n]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:a,name:ar(n)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var uC={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},q5;function The(e,t,a){q5||(q5=sN(uC)),t=q5[t]||t,e[t]=a}function Dhe(e,t){var a=[];return vn(uC).map(function(r){for(var n=0;n<Dc.length;++n)if(Dc[n][1]==r)return Dc[n];for(n=0;n<am.length;++n)if(am[n][1]==r)return am[n];throw r}).forEach(function(r){if(e[r[1]]!=null){var n=t&&t.Props&&t.Props[r[1]]!=null?t.Props[r[1]]:e[r[1]];switch(r[2]){case"date":n=new Date(n).toISOString().replace(/\.\d*Z/,"Z");break}typeof n=="number"?n=String(n):n===!0||n===!1?n=n?"1":"0":n instanceof Date&&(n=new Date(n).toISOString().replace(/\.\d*Z/,"")),a.push(Xi(uC[r[1]]||r[1],n))}}),Qt("DocumentProperties",a.join(""),{xmlns:Bo.o})}function Phe(e,t){var a=["Worksheets","SheetNames"],r="CustomDocumentProperties",n=[];return e&&vn(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var l=0;l<Dc.length;++l)if(i==Dc[l][1])return;for(l=0;l<am.length;++l)if(i==am[l][1])return;for(l=0;l<a.length;++l)if(i==a[l])return;var o=e[i],c="string";typeof o=="number"?(c="float",o=String(o)):o===!0||o===!1?(c="boolean",o=o?"1":"0"):o=String(o),n.push(Qt(vM(i),o,{"dt:dt":c}))}}),t&&vn(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var l=t[i],o="string";typeof l=="number"?(o="float",l=String(l)):l===!0||l===!1?(o="boolean",l=l?"1":"0"):l instanceof Date?(o="dateTime.tz",l=l.toISOString()):l=String(l),n.push(Qt(vM(i),l,{"dt:dt":o}))}}),"<"+r+' xmlns="'+Bo.o+'">'+n.join("")+"</"+r+">"}function t8(e){var t=e.read_shift(4),a=e.read_shift(4);return new Date((a/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function Mhe(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,a=t.getTime()/1e3+11644473600,r=a%Math.pow(2,32),n=(a-r)/Math.pow(2,32);r*=1e7,n*=1e7;var i=r/Math.pow(2,32)|0;i>0&&(r=r%Math.pow(2,32),n+=i);var l=kt(8);return l.write_shift(4,r),l.write_shift(4,n),l}function zH(e,t,a){var r=e.l,n=e.read_shift(0,"lpstr-cp");if(a)for(;e.l-r&3;)++e.l;return n}function HH(e,t,a){var r=e.read_shift(0,"lpwstr");return r}function VH(e,t,a){return t===31?HH(e):zH(e,t,a)}function hC(e,t,a){return VH(e,t,a===!1?0:4)}function Lhe(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return VH(e,t,0)}function Ohe(e){for(var t=e.read_shift(4),a=[],r=0;r!=t;++r){var n=e.l;a[r]=e.read_shift(0,"lpwstr").replace(Vl,""),e.l-n&2&&(e.l+=2)}return a}function Rhe(e){for(var t=e.read_shift(4),a=[],r=0;r!=t;++r)a[r]=e.read_shift(0,"lpstr-cp").replace(Vl,"");return a}function Fhe(e){var t=e.l,a=kw(e,PH);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var r=kw(e,oo);return[a,r]}function Ihe(e){for(var t=e.read_shift(4),a=[],r=0;r<t/2;++r)a.push(Fhe(e));return a}function MM(e,t){for(var a=e.read_shift(4),r={},n=0;n!=a;++n){var i=e.read_shift(4),l=e.read_shift(4);r[i]=e.read_shift(l,t===1200?"utf16le":"utf8").replace(Vl,"").replace(vv,"!"),t===1200&&l%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),r}function WH(e){var t=e.read_shift(4),a=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),a}function Bhe(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function kw(e,t,a){var r=e.read_shift(2),n,i=a||{};if(e.l+=2,t!==TM&&r!==t&&xhe.indexOf(t)===-1&&!((t&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+t+" saw "+r);switch(t===TM?r:t){case 2:return n=e.read_shift(2,"i"),i.raw||(e.l+=2),n;case 3:return n=e.read_shift(4,"i"),n;case 11:return e.read_shift(4)!==0;case 19:return n=e.read_shift(4),n;case 30:return zH(e,r,4).replace(Vl,"");case 31:return HH(e);case 64:return t8(e);case 65:return WH(e);case 71:return Bhe(e);case 80:return hC(e,r,!i.raw).replace(Vl,"");case 81:return Lhe(e,r).replace(Vl,"");case 4108:return Ihe(e);case 4126:case 4127:return r==4127?Ohe(e):Rhe(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+r)}}function LM(e,t){var a=kt(4),r=kt(4);switch(a.write_shift(4,e==80?31:e),e){case 3:r.write_shift(-4,t);break;case 5:r=kt(8),r.write_shift(8,t,"f");break;case 11:r.write_shift(4,t?1:0);break;case 64:r=Mhe(t);break;case 31:case 80:for(r=kt(4+2*(t.length+1)+(t.length%2?0:2)),r.write_shift(4,t.length+1),r.write_shift(0,t,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return _i([a,r])}function OM(e,t){var a=e.l,r=e.read_shift(4),n=e.read_shift(4),i=[],l=0,o=0,c=-1,d={};for(l=0;l!=n;++l){var u=e.read_shift(4),f=e.read_shift(4);i[l]=[u,f+a]}i.sort(function(k,S){return k[1]-S[1]});var p={};for(l=0;l!=n;++l){if(e.l!==i[l][1]){var m=!0;if(l>0&&t)switch(t[i[l-1][0]].t){case 2:e.l+2===i[l][1]&&(e.l+=2,m=!1);break;case 80:e.l<=i[l][1]&&(e.l=i[l][1],m=!1);break;case 4108:e.l<=i[l][1]&&(e.l=i[l][1],m=!1);break}if((!t||l==0)&&e.l<=i[l][1]&&(m=!1,e.l=i[l][1]),m)throw new Error("Read Error: Expected address "+i[l][1]+" at "+e.l+" :"+l)}if(t){var v=t[i[l][0]];if(p[v.n]=kw(e,v.t,{raw:!0}),v.p==="version"&&(p[v.n]=String(p[v.n]>>16)+"."+("0000"+String(p[v.n]&65535)).slice(-4)),v.n=="CodePage")switch(p[v.n]){case 0:p[v.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:yd(o=p[v.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+p[v.n])}}else if(i[l][0]===1){if(o=p.CodePage=kw(e,ZA),yd(o),c!==-1){var g=e.l;e.l=i[c][1],d=MM(e,o),e.l=g}}else if(i[l][0]===0){if(o===0){c=l,e.l=i[l+1][1];continue}d=MM(e,o)}else{var b=d[i[l][0]],j;switch(e[e.l]){case 65:e.l+=4,j=WH(e);break;case 30:e.l+=4,j=hC(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,j=hC(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,j=e.read_shift(4,"i");break;case 19:e.l+=4,j=e.read_shift(4);break;case 5:e.l+=4,j=e.read_shift(8,"f");break;case 11:e.l+=4,j=En(e,4);break;case 64:e.l+=4,j=Sr(t8(e));break;default:throw new Error("unparsed value: "+e[e.l])}p[b]=j}}return e.l=a+r,p}var qH=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function $he(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function RM(e,t,a){var r=kt(8),n=[],i=[],l=8,o=0,c=kt(8),d=kt(8);if(c.write_shift(4,2),c.write_shift(4,1200),d.write_shift(4,1),i.push(c),n.push(d),l+=8+c.length,!t){d=kt(8),d.write_shift(4,0),n.unshift(d);var u=[kt(4)];for(u[0].write_shift(4,e.length),o=0;o<e.length;++o){var f=e[o][0];for(c=kt(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,o+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);u.push(c)}c=_i(u),i.unshift(c),l+=8+c.length}for(o=0;o<e.length;++o)if(!(t&&!t[e[o][0]])&&!(qH.indexOf(e[o][0])>-1||IH.indexOf(e[o][0])>-1)&&e[o][1]!=null){var p=e[o][1],m=0;if(t){m=+t[e[o][0]];var v=a[m];if(v.p=="version"&&typeof p=="string"){var g=p.split(".");p=(+g[0]<<16)+(+g[1]||0)}c=LM(v.t,p)}else{var b=$he(p);b==-1&&(b=31,p=String(p)),c=LM(b,p)}i.push(c),d=kt(8),d.write_shift(4,t?m:2+o),n.push(d),l+=8+c.length}var j=8*(i.length+1);for(o=0;o<i.length;++o)n[o].write_shift(4,j),j+=i[o].length;return r.write_shift(4,l),r.write_shift(4,i.length),_i([r].concat(n).concat(i))}function FM(e,t,a){var r=e.content;if(!r)return{};Yi(r,0);var n,i,l,o,c=0;r.chk("feff","Byte Order: "),r.read_shift(2);var d=r.read_shift(4),u=r.read_shift(16);if(u!==ka.utils.consts.HEADER_CLSID&&u!==a)throw new Error("Bad PropertySet CLSID "+u);if(n=r.read_shift(4),n!==1&&n!==2)throw new Error("Unrecognized #Sets: "+n);if(i=r.read_shift(16),o=r.read_shift(4),n===1&&o!==r.l)throw new Error("Length mismatch: "+o+" !== "+r.l);n===2&&(l=r.read_shift(16),c=r.read_shift(4));var f=OM(r,t),p={SystemIdentifier:d};for(var m in f)p[m]=f[m];if(p.FMTID=i,n===1)return p;if(c-r.l==2&&(r.l+=2),r.l!==c)throw new Error("Length mismatch 2: "+r.l+" !== "+c);var v;try{v=OM(r,null)}catch{}for(m in v)p[m]=v[m];return p.FMTID=[i,l],p}function IM(e,t,a,r,n,i){var l=kt(n?68:48),o=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,ka.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,n?2:1),l.write_shift(16,t,"hex"),l.write_shift(4,n?68:48);var c=RM(e,a,r);if(o.push(c),n){var d=RM(n,null,null);l.write_shift(16,i,"hex"),l.write_shift(4,68+c.length),o.push(d)}return _i(o)}function pf(e,t){return e.read_shift(t),null}function Uhe(e,t){t||(t=kt(e));for(var a=0;a<e;++a)t.write_shift(1,0);return t}function zhe(e,t,a){for(var r=[],n=e.l+t;e.l<n;)r.push(a(e,n-e.l));if(n!==e.l)throw new Error("Slurp error");return r}function En(e,t){return e.read_shift(t)===1}function Fl(e,t){return t||(t=kt(2)),t.write_shift(2,+!!e),t}function qn(e){return e.read_shift(2,"u")}function Sc(e,t){return t||(t=kt(2)),t.write_shift(2,e),t}function GH(e,t){return zhe(e,t,qn)}function Hhe(e){var t=e.read_shift(1),a=e.read_shift(1);return a===1?t:t===1}function KH(e,t,a){return a||(a=kt(2)),a.write_shift(1,t=="e"?+e:+!!e),a.write_shift(1,t=="e"?1:0),a}function tb(e,t,a){var r=e.read_shift(a&&a.biff>=12?2:1),n="sbcs-cont";if(a&&a.biff>=8,!a||a.biff==8){var i=e.read_shift(1);i&&(n="dbcs-cont")}else a.biff==12&&(n="wstr");a.biff>=2&&a.biff<=5&&(n="cpstr");var l=r?e.read_shift(r,n):"";return l}function Vhe(e){var t=e.read_shift(2),a=e.read_shift(1),r=a&4,n=a&8,i=1+(a&1),l=0,o,c={};n&&(l=e.read_shift(2)),r&&(o=e.read_shift(4));var d=i==2?"dbcs-cont":"sbcs-cont",u=t===0?"":e.read_shift(t,d);return n&&(e.l+=4*l),r&&(e.l+=o),c.t=u,n||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function Whe(e){var t=e.t||"",a=kt(3);a.write_shift(2,t.length),a.write_shift(1,1);var r=kt(2*t.length);r.write_shift(2*t.length,t,"utf16le");var n=[a,r];return _i(n)}function jm(e,t,a){var r;if(a){if(a.biff>=2&&a.biff<=5)return e.read_shift(t,"cpstr");if(a.biff>=12)return e.read_shift(t,"dbcs-cont")}var n=e.read_shift(1);return n===0?r=e.read_shift(t,"sbcs-cont"):r=e.read_shift(t,"dbcs-cont"),r}function ab(e,t,a){var r=e.read_shift(a&&a.biff==2?1:2);return r===0?(e.l++,""):jm(e,r,a)}function Hm(e,t,a){if(a.biff>5)return ab(e,t,a);var r=e.read_shift(1);return r===0?(e.l++,""):e.read_shift(r,a.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function YH(e,t,a){return a||(a=kt(3+2*e.length)),a.write_shift(2,e.length),a.write_shift(1,1),a.write_shift(31,e,"utf16le"),a}function qhe(e){var t=e.read_shift(1);e.l++;var a=e.read_shift(2);return e.l+=2,[t,a]}function Ghe(e){var t=e.read_shift(4),a=e.l,r=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),e.l=a);var n=e.read_shift((r?t-24:t)>>1,"utf16le").replace(Vl,"");return r&&(e.l+=24),n}function Khe(e){for(var t=e.read_shift(2),a="";t-- >0;)a+="../";var r=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var n=e.read_shift(4);if(n===0)return a+r.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var l=e.read_shift(i>>1,"utf16le").replace(Vl,"");return a+l}function Yhe(e,t){var a=e.read_shift(16);switch(a){case"e0c9ea79f9bace118c8200aa004ba90b":return Ghe(e);case"0303000000000000c000000000000046":return Khe(e);default:throw new Error("Unsupported Moniker "+a)}}function Qy(e){var t=e.read_shift(4),a=t>0?e.read_shift(t,"utf16le").replace(Vl,""):"";return a}function BM(e,t){t||(t=kt(6+e.length*2)),t.write_shift(4,1+e.length);for(var a=0;a<e.length;++a)t.write_shift(2,e.charCodeAt(a));return t.write_shift(2,0),t}function Xhe(e,t){var a=e.l+t,r=e.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var n=e.read_shift(2);e.l+=2;var i,l,o,c,d="",u,f;n&16&&(i=Qy(e,a-e.l)),n&128&&(l=Qy(e,a-e.l)),(n&257)===257&&(o=Qy(e,a-e.l)),(n&257)===1&&(c=Yhe(e,a-e.l)),n&8&&(d=Qy(e,a-e.l)),n&32&&(u=e.read_shift(16)),n&64&&(f=t8(e)),e.l=a;var p=l||o||c||"";p&&d&&(p+="#"+d),p||(p="#"+d),n&2&&p.charAt(0)=="/"&&p.charAt(1)!="/"&&(p="file://"+p);var m={Target:p};return u&&(m.guid=u),f&&(m.time=f),i&&(m.Tooltip=i),m}function Jhe(e){var t=kt(512),a=0,r=e.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var n=r.indexOf("#"),i=n>-1?31:23;switch(r.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var l=[8,6815827,6619237,4849780,83];for(a=0;a<l.length;++a)t.write_shift(4,l[a]);if(i==28)r=r.slice(1),BM(r,t);else if(i&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<l.length;++a)t.write_shift(1,parseInt(l[a],16));var o=n>-1?r.slice(0,n):r;for(t.write_shift(4,2*(o.length+1)),a=0;a<o.length;++a)t.write_shift(2,o.charCodeAt(a));t.write_shift(2,0),i&8&&BM(n>-1?r.slice(n+1):"",t)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),a=0;a<l.length;++a)t.write_shift(1,parseInt(l[a],16));for(var c=0;r.slice(c*3,c*3+3)=="../"||r.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,r.length-3*c+1),a=0;a<r.length-3*c;++a)t.write_shift(1,r.charCodeAt(a+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),a=0;a<6;++a)t.write_shift(4,0)}return t.slice(0,t.l)}function XH(e){var t=e.read_shift(1),a=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1);return[t,a,r,n]}function JH(e,t){var a=XH(e);return a[3]=0,a}function wu(e){var t=e.read_shift(2),a=e.read_shift(2),r=e.read_shift(2);return{r:t,c:a,ixfe:r}}function Nm(e,t,a,r){return r||(r=kt(6)),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(2,a||0),r}function Qhe(e){var t=e.read_shift(2),a=e.read_shift(2);return e.l+=8,{type:t,flags:a}}function Zhe(e,t,a){return t===0?"":Hm(e,t,a)}function efe(e,t,a){var r=a.biff>8?4:2,n=e.read_shift(r),i=e.read_shift(r,"i"),l=e.read_shift(r,"i");return[n,i,l]}function QH(e){var t=e.read_shift(2),a=QA(e);return[t,a]}function tfe(e,t,a){e.l+=4,t-=4;var r=e.l+t,n=tb(e,t,a),i=e.read_shift(2);if(r-=e.l,i!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+i);return e.l+=i,n}function iN(e){var t=e.read_shift(2),a=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{s:{c:r,r:t},e:{c:n,r:a}}}function ZH(e,t){return t||(t=kt(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function eV(e){var t=e.read_shift(2),a=e.read_shift(2),r=e.read_shift(1),n=e.read_shift(1);return{s:{c:r,r:t},e:{c:n,r:a}}}var afe=eV;function tV(e){e.l+=4;var t=e.read_shift(2),a=e.read_shift(2),r=e.read_shift(2);return e.l+=12,[a,t,r]}function sfe(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function rfe(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function nl(e){e.l+=2,e.l+=e.read_shift(2)}var nfe={0:nl,4:nl,5:nl,6:nl,7:rfe,8:nl,9:nl,10:nl,11:nl,12:nl,13:sfe,14:nl,15:nl,16:nl,17:nl,18:nl,19:nl,20:nl,21:tV};function ife(e,t){for(var a=e.l+t,r=[];e.l<a;){var n=e.read_shift(2);e.l-=2;try{r.push(nfe[n](e,a-e.l))}catch{return e.l=a,r}}return e.l!=a&&(e.l=a),r}function Zy(e,t){var a={BIFFVer:0,dt:0};switch(a.BIFFVer=e.read_shift(2),t-=2,t>=2&&(a.dt=e.read_shift(2),e.l-=2),a.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+a.BIFFVer)}return e.read_shift(t),a}function a8(e,t,a){var r=1536,n=16;switch(a.bookType){case"biff8":break;case"biff5":r=1280,n=8;break;case"biff4":r=4,n=6;break;case"biff3":r=3,n=6;break;case"biff2":r=2,n=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=kt(n);return i.write_shift(2,r),i.write_shift(2,t),n>4&&i.write_shift(2,29282),n>6&&i.write_shift(2,1997),n>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function lfe(e,t){return t===0||e.read_shift(2),1200}function ofe(e,t,a){if(a.enc)return e.l+=t,"";var r=e.l,n=Hm(e,0,a);return e.read_shift(t+r-e.l),n}function cfe(e,t){var a=!t||t.biff==8,r=kt(a?112:54);for(r.write_shift(t.biff==8?2:1,7),a&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(a?0:536870912));r.l<r.length;)r.write_shift(1,a?0:32);return r}function dfe(e,t,a){var r=a&&a.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function ufe(e,t,a){var r=e.read_shift(4),n=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var l=tb(e,0,a);return l.length===0&&(l="Sheet1"),{pos:r,hs:n,dt:i,name:l}}function hfe(e,t){var a=!t||t.biff>=8?2:1,r=kt(8+a*e.name.length);r.write_shift(4,e.pos),r.write_shift(1,e.hs||0),r.write_shift(1,e.dt),r.write_shift(1,e.name.length),t.biff>=8&&r.write_shift(1,1),r.write_shift(a*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var n=r.slice(0,r.l);return n.l=r.l,n}function ffe(e,t){for(var a=e.l+t,r=e.read_shift(4),n=e.read_shift(4),i=[],l=0;l!=n&&e.l<a;++l)i.push(Vhe(e));return i.Count=r,i.Unique=n,i}function mfe(e,t){var a=kt(8);a.write_shift(4,e.Count),a.write_shift(4,e.Unique);for(var r=[],n=0;n<e.length;++n)r[n]=Whe(e[n]);var i=_i([a].concat(r));return i.parts=[a.length].concat(r.map(function(l){return l.length})),i}function pfe(e,t){var a={};return a.dsst=e.read_shift(2),e.l+=t-2,a}function xfe(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var a=e.read_shift(2);e.l+=4;var r=e.read_shift(1);return e.l+=3,r&7&&(t.level=r&7),r&32&&(t.hidden=!0),r&64&&(t.hpt=a/20),t}function gfe(e){var t=Qhe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var a=e.read_shift(4);return a!==0}function vfe(e){return e.read_shift(2),e.read_shift(4)}function $M(e,t,a){var r=0;a&&a.biff==2||(r=e.read_shift(2));var n=e.read_shift(2);a&&a.biff==2&&(r=1-(n>>15),n&=32767);var i={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[i,n]}function bfe(e){var t=e.read_shift(2),a=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2),l=e.read_shift(2),o=e.read_shift(2),c=e.read_shift(2),d=e.read_shift(2);return{Pos:[t,a],Dim:[r,n],Flags:i,CurTab:l,FirstTab:o,Selected:c,TabRatio:d}}function yfe(){var e=kt(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function wfe(e,t,a){if(a&&a.biff>=2&&a.biff<5)return{};var r=e.read_shift(2);return{RTL:r&64}}function jfe(e){var t=kt(18),a=1718;return e&&e.RTL&&(a|=64),t.write_shift(2,a),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function Nfe(){}function kfe(e,t,a){var r={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(a&&a.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return r.name=tb(e,0,a),r}function Sfe(e,t){var a=e.name||"Arial",r=t&&t.biff==5,n=r?15+a.length:16+2*a.length,i=kt(n);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,a.length),r||i.write_shift(1,1),i.write_shift((r?1:2)*a.length,a,r?"sbcs":"utf16le"),i}function Cfe(e){var t=wu(e);return t.isst=e.read_shift(4),t}function Afe(e,t,a,r){var n=kt(10);return Nm(e,t,r,n),n.write_shift(4,a),n}function _fe(e,t,a){a.biffguess&&a.biff==2&&(a.biff=5);var r=e.l+t,n=wu(e);a.biff==2&&e.l++;var i=ab(e,r-e.l,a);return n.val=i,n}function Efe(e,t,a,r,n){var i=!n||n.biff==8,l=kt(8+ +i+(1+i)*a.length);return Nm(e,t,r,l),l.write_shift(2,a.length),i&&l.write_shift(1,1),l.write_shift((1+i)*a.length,a,i?"utf16le":"sbcs"),l}function Tfe(e,t,a){var r=e.read_shift(2),n=Hm(e,0,a);return[r,n]}function Dfe(e,t,a,r){var n=a&&a.biff==5;r||(r=kt(n?3+t.length:5+2*t.length)),r.write_shift(2,e),r.write_shift(n?1:2,t.length),n||r.write_shift(1,1),r.write_shift((n?1:2)*t.length,t,n?"sbcs":"utf16le");var i=r.length>r.l?r.slice(0,r.l):r;return i.l==null&&(i.l=i.length),i}var Pfe=Hm;function UM(e,t,a){var r=e.l+t,n=a.biff==8||!a.biff?4:2,i=e.read_shift(n),l=e.read_shift(n),o=e.read_shift(2),c=e.read_shift(2);return e.l=r,{s:{r:i,c:o},e:{r:l,c}}}function Mfe(e,t){var a=t.biff==8||!t.biff?4:2,r=kt(2*a+6);return r.write_shift(a,e.s.r),r.write_shift(a,e.e.r+1),r.write_shift(2,e.s.c),r.write_shift(2,e.e.c+1),r.write_shift(2,0),r}function Lfe(e){var t=e.read_shift(2),a=e.read_shift(2),r=QH(e);return{r:t,c:a,ixfe:r[0],rknum:r[1]}}function Ofe(e,t){for(var a=e.l+t-2,r=e.read_shift(2),n=e.read_shift(2),i=[];e.l<a;)i.push(QH(e));if(e.l!==a)throw new Error("MulRK read error");var l=e.read_shift(2);if(i.length!=l-n+1)throw new Error("MulRK length mismatch");return{r,c:n,C:l,rkrec:i}}function Rfe(e,t){for(var a=e.l+t-2,r=e.read_shift(2),n=e.read_shift(2),i=[];e.l<a;)i.push(e.read_shift(2));if(e.l!==a)throw new Error("MulBlank read error");var l=e.read_shift(2);if(i.length!=l-n+1)throw new Error("MulBlank length mismatch");return{r,c:n,C:l,ixfe:i}}function Ffe(e,t,a,r){var n={},i=e.read_shift(4),l=e.read_shift(4),o=e.read_shift(4),c=e.read_shift(2);return n.patternType=ghe[o>>26],r.cellStyles&&(n.alc=i&7,n.fWrap=i>>3&1,n.alcV=i>>4&7,n.fJustLast=i>>7&1,n.trot=i>>8&255,n.cIndent=i>>16&15,n.fShrinkToFit=i>>20&1,n.iReadOrder=i>>22&2,n.fAtrNum=i>>26&1,n.fAtrFnt=i>>27&1,n.fAtrAlc=i>>28&1,n.fAtrBdr=i>>29&1,n.fAtrPat=i>>30&1,n.fAtrProt=i>>31&1,n.dgLeft=l&15,n.dgRight=l>>4&15,n.dgTop=l>>8&15,n.dgBottom=l>>12&15,n.icvLeft=l>>16&127,n.icvRight=l>>23&127,n.grbitDiag=l>>30&3,n.icvTop=o&127,n.icvBottom=o>>7&127,n.icvDiag=o>>14&127,n.dgDiag=o>>21&15,n.icvFore=c&127,n.icvBack=c>>7&127,n.fsxButton=c>>14&1),n}function Ife(e,t,a){var r={};return r.ifnt=e.read_shift(2),r.numFmtId=e.read_shift(2),r.flags=e.read_shift(2),r.fStyle=r.flags>>2&1,t-=6,r.data=Ffe(e,t,r.fStyle,a),r}function zM(e,t,a,r){var n=a&&a.biff==5;r||(r=kt(n?16:20)),r.write_shift(2,0),e.style?(r.write_shift(2,e.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,e.numFmtId||0),r.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&n&&(i|=1024),r.write_shift(4,i),r.write_shift(4,0),n||r.write_shift(4,0),r.write_shift(2,0),r}function Bfe(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function $fe(e){var t=kt(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function HM(e,t,a){var r=wu(e);(a.biff==2||t==9)&&++e.l;var n=Hhe(e);return r.val=n,r.t=n===!0||n===!1?"b":"e",r}function Ufe(e,t,a,r,n,i){var l=kt(8);return Nm(e,t,r,l),KH(a,i,l),l}function zfe(e,t,a){a.biffguess&&a.biff==2&&(a.biff=5);var r=wu(e),n=vl(e);return r.val=n,r}function Hfe(e,t,a,r){var n=kt(14);return Nm(e,t,r,n),wm(a,n),n}var VM=Zhe;function Vfe(e,t,a){var r=e.l+t,n=e.read_shift(2),i=e.read_shift(2);if(a.sbcch=i,i==1025||i==14849)return[i,n];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var l=jm(e,i),o=[];r>e.l;)o.push(ab(e));return[i,n,l,o]}function WM(e,t,a){var r=e.read_shift(2),n,i={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return a.sbcch===14849&&(n=tfe(e,t-2,a)),i.body=n||e.read_shift(t-2),typeof n=="string"&&(i.Name=n),i}var Wfe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function qM(e,t,a){var r=e.l+t,n=e.read_shift(2),i=e.read_shift(1),l=e.read_shift(1),o=e.read_shift(a&&a.biff==2?1:2),c=0;(!a||a.biff>=5)&&(a.biff!=5&&(e.l+=2),c=e.read_shift(2),a.biff==5&&(e.l+=2),e.l+=4);var d=jm(e,l,a);n&32&&(d=Wfe[d.charCodeAt(0)]);var u=r-e.l;a&&a.biff==2&&--u;var f=r==e.l||o===0||!(u>0)?[]:ige(e,u,a,o);return{chKey:i,Name:d,itab:c,rgce:f}}function aV(e,t,a){if(a.biff<8)return qfe(e,t,a);for(var r=[],n=e.l+t,i=e.read_shift(a.biff>8?4:2);i--!==0;)r.push(efe(e,a.biff>8?12:6,a));if(e.l!=n)throw new Error("Bad ExternSheet: "+e.l+" != "+n);return r}function qfe(e,t,a){e[e.l+1]==3&&e[e.l]++;var r=tb(e,t,a);return r.charCodeAt(0)==3?r.slice(1):r}function Gfe(e,t,a){if(a.biff<8){e.l+=t;return}var r=e.read_shift(2),n=e.read_shift(2),i=jm(e,r,a),l=jm(e,n,a);return[i,l]}function Kfe(e,t,a){var r=eV(e);e.l++;var n=e.read_shift(1);return t-=8,[lge(e,t,a),n,r]}function GM(e,t,a){var r=afe(e);switch(a.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[r,rge(e,t,a)]}function Yfe(e){var t=e.read_shift(4)!==0,a=e.read_shift(4)!==0,r=e.read_shift(4);return[t,a,r]}function Xfe(e,t,a){if(!(a.biff<8)){var r=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2),l=e.read_shift(2),o=Hm(e,0,a);return a.biff<8&&e.read_shift(1),[{r,c:n},o,l,i]}}function Jfe(e,t,a){return Xfe(e,t,a)}function Qfe(e,t){for(var a=[],r=e.read_shift(2);r--;)a.push(iN(e));return a}function Zfe(e){var t=kt(2+e.length*8);t.write_shift(2,e.length);for(var a=0;a<e.length;++a)ZH(e[a],t);return t}function e0e(e,t,a){if(a&&a.biff<8)return a0e(e,t,a);var r=tV(e),n=ife(e,t-22,r[1]);return{cmo:r,ft:n}}var t0e={8:function(e,t){var a=e.l+t;e.l+=10;var r=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var n=e.read_shift(1);return e.l+=n,e.l=a,{fmt:r}}};function a0e(e,t,a){e.l+=4;var r=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var l=[];return l.push((t0e[r]||Nl)(e,t,a)),{cmo:[n,r,i],ft:l}}function s0e(e,t,a){var r=e.l,n="";try{e.l+=4;var i=(a.lastobj||{cmo:[0,0]}).cmo[1],l;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:l=qhe(e,6,a);var o=e.read_shift(2);e.read_shift(2),qn(e,2);var c=e.read_shift(2);e.l+=c;for(var d=1;d<e.lens.length-1;++d){if(e.l-r!=e.lens[d])throw new Error("TxO: bad continue record");var u=e[e.l],f=jm(e,e.lens[d+1]-e.lens[d]-1);if(n+=f,n.length>=(u?o:2*o))break}if(n.length!==o&&n.length!==o*2)throw new Error("cchText: "+o+" != "+n.length);return e.l=r+t,{t:n}}catch{return e.l=r+t,{t:n}}}function r0e(e,t){var a=iN(e);e.l+=16;var r=Xhe(e,t-24);return[a,r]}function n0e(e){var t=kt(24),a=tn(e[0]);t.write_shift(2,a.r),t.write_shift(2,a.r),t.write_shift(2,a.c),t.write_shift(2,a.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<16;++n)t.write_shift(1,parseInt(r[n],16));return _i([t,Jhe(e[1])])}function i0e(e,t){e.read_shift(2);var a=iN(e),r=e.read_shift((t-10)/2,"dbcs-cont");return r=r.replace(Vl,""),[a,r]}function l0e(e){var t=e[1].Tooltip,a=kt(10+2*(t.length+1));a.write_shift(2,2048);var r=tn(e[0]);a.write_shift(2,r.r),a.write_shift(2,r.r),a.write_shift(2,r.c),a.write_shift(2,r.c);for(var n=0;n<t.length;++n)a.write_shift(2,t.charCodeAt(n));return a.write_shift(2,0),a}function o0e(e){var t=[0,0],a;return a=e.read_shift(2),t[0]=DM[a]||a,a=e.read_shift(2),t[1]=DM[a]||a,t}function c0e(e){return e||(e=kt(4)),e.write_shift(2,1),e.write_shift(2,1),e}function d0e(e){for(var t=e.read_shift(2),a=[];t-- >0;)a.push(JH(e));return a}function u0e(e){for(var t=e.read_shift(2),a=[];t-- >0;)a.push(JH(e));return a}function h0e(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function sV(e,t,a){if(!a.cellStyles)return Nl(e,t);var r=a&&a.biff>=12?4:2,n=e.read_shift(r),i=e.read_shift(r),l=e.read_shift(r),o=e.read_shift(r),c=e.read_shift(2);r==2&&(e.l+=2);var d={s:n,e:i,w:l,ixfe:o,flags:c};return(a.biff>=5||!a.biff)&&(d.level=c>>8&7),d}function f0e(e,t){var a=kt(12);a.write_shift(2,t),a.write_shift(2,t),a.write_shift(2,e.width*256),a.write_shift(2,0);var r=0;return e.hidden&&(r|=1),a.write_shift(1,r),r=e.level||0,a.write_shift(1,r),a.write_shift(2,0),a}function m0e(e,t){var a={};return t<32||(e.l+=16,a.header=vl(e),a.footer=vl(e),e.l+=2),a}function p0e(e,t,a){var r={area:!1};if(a.biff!=5)return e.l+=t,r;var n=e.read_shift(1);return e.l+=3,n&16&&(r.area=!0),r}function x0e(e){for(var t=kt(2*e),a=0;a<e;++a)t.write_shift(2,a+1);return t}var g0e=wu,v0e=GH,b0e=ab;function y0e(e){var t=e.read_shift(2),a=e.read_shift(2),r=e.read_shift(4),n={fmt:t,env:a,len:r,data:e.slice(e.l,e.l+r)};return e.l+=r,n}function w0e(e,t,a){a.biffguess&&a.biff==5&&(a.biff=2);var r=wu(e);++e.l;var n=Hm(e,t-7,a);return r.t="str",r.val=n,r}function j0e(e){var t=wu(e);++e.l;var a=vl(e);return t.t="n",t.val=a,t}function N0e(e,t,a){var r=kt(15);return ib(r,e,t),r.write_shift(8,a,"f"),r}function k0e(e){var t=wu(e);++e.l;var a=e.read_shift(2);return t.t="n",t.val=a,t}function S0e(e,t,a){var r=kt(9);return ib(r,e,t),r.write_shift(2,a),r}function C0e(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function A0e(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function _0e(e,t,a){var r=e.l+t,n=wu(e),i=e.read_shift(2),l=jm(e,i,a);return e.l=r,n.t="str",n.val=l,n}var E0e=[2,3,48,49,131,139,140,245],fC=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=sN({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function a(o,c){var d=[],u=Of(1);switch(c.type){case"base64":u=zo(Go(o));break;case"binary":u=zo(o);break;case"buffer":case"array":u=o;break}Yi(u,0);var f=u.read_shift(1),p=!!(f&136),m=!1,v=!1;switch(f){case 2:break;case 3:break;case 48:m=!0,p=!0;break;case 49:m=!0,p=!0;break;case 131:break;case 139:break;case 140:v=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var g=0,b=521;f==2&&(g=u.read_shift(2)),u.l+=3,f!=2&&(g=u.read_shift(4)),g>1048576&&(g=1e6),f!=2&&(b=u.read_shift(2));var j=u.read_shift(2),k=c.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(k=e[u[u.l]]),u.l+=1,u.l+=2),v&&(u.l+=36);for(var S=[],N={},A=Math.min(u.length,f==2?521:b-10-(m?264:0)),_=v?32:11;u.l<A&&u[u.l]!=13;)switch(N={},N.name=n1.utils.decode(k,u.slice(u.l,u.l+_)).replace(/[\u0000\r\n].*$/g,""),u.l+=_,N.type=String.fromCharCode(u.read_shift(1)),f!=2&&!v&&(N.offset=u.read_shift(4)),N.len=u.read_shift(1),f==2&&(N.offset=u.read_shift(2)),N.dec=u.read_shift(1),N.name.length&&S.push(N),f!=2&&(u.l+=v?13:14),N.type){case"B":(!m||N.len!=8)&&c.WTF&&console.log("Skipping "+N.name+":"+N.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+N.name+":"+N.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+N.type)}if(u[u.l]!==13&&(u.l=b-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=b;var E=0,D=0;for(d[0]=[],D=0;D!=S.length;++D)d[0][D]=S[D].name;for(;g-- >0;){if(u[u.l]===42){u.l+=j;continue}for(++u.l,d[++E]=[],D=0,D=0;D!=S.length;++D){var R=u.slice(u.l,u.l+S[D].len);u.l+=S[D].len,Yi(R,0);var I=n1.utils.decode(k,R);switch(S[D].type){case"C":I.trim().length&&(d[E][D]=I.replace(/\s+$/,""));break;case"D":I.length===8?d[E][D]=new Date(+I.slice(0,4),+I.slice(4,6)-1,+I.slice(6,8)):d[E][D]=I;break;case"F":d[E][D]=parseFloat(I.trim());break;case"+":case"I":d[E][D]=v?R.read_shift(-4,"i")^2147483648:R.read_shift(4,"i");break;case"L":switch(I.trim().toUpperCase()){case"Y":case"T":d[E][D]=!0;break;case"N":case"F":d[E][D]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+I+"|")}break;case"M":if(!p)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));d[E][D]="##MEMO##"+(v?parseInt(I.trim(),10):R.read_shift(4));break;case"N":I=I.replace(/\u0000/g,"").trim(),I&&I!="."&&(d[E][D]=+I||0);break;case"@":d[E][D]=new Date(R.read_shift(-8,"f")-621356832e5);break;case"T":d[E][D]=new Date((R.read_shift(4)-2440588)*864e5+R.read_shift(4));break;case"Y":d[E][D]=R.read_shift(4,"i")/1e4+R.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[E][D]=-R.read_shift(-8,"f");break;case"B":if(m&&S[D].len==8){d[E][D]=R.read_shift(8,"f");break}case"G":case"P":R.l+=S[D].len;break;case"0":if(S[D].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+S[D].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return c&&c.sheetRows&&(d=d.slice(0,c.sheetRows)),c.DBF=S,d}function r(o,c){var d=c||{};d.dateNF||(d.dateNF="yyyymmdd");var u=Ix(a(o,d),d);return u["!cols"]=d.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete d.DBF,u}function n(o,c){try{return Xf(r(o,c),c)}catch(d){if(c&&c.WTF)throw d}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function l(o,c){var d=c||{};if(+d.codepage>=0&&yd(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var u=vo(),f=Aw(o,{header:1,raw:!0,cellDates:!0}),p=f[0],m=f.slice(1),v=o["!cols"]||[],g=0,b=0,j=0,k=1;for(g=0;g<p.length;++g){if(((v[g]||{}).DBF||{}).name){p[g]=v[g].DBF.name,++j;continue}if(p[g]!=null){if(++j,typeof p[g]=="number"&&(p[g]=p[g].toString(10)),typeof p[g]!="string")throw new Error("DBF Invalid column name "+p[g]+" |"+typeof p[g]+"|");if(p.indexOf(p[g])!==g){for(b=0;b<1024;++b)if(p.indexOf(p[g]+"_"+b)==-1){p[g]+="_"+b;break}}}}var S=Rs(o["!ref"]),N=[],A=[],_=[];for(g=0;g<=S.e.c-S.s.c;++g){var E="",D="",R=0,I=[];for(b=0;b<m.length;++b)m[b][g]!=null&&I.push(m[b][g]);if(I.length==0||p[g]==null){N[g]="?";continue}for(b=0;b<I.length;++b){switch(typeof I[b]){case"number":D="B";break;case"string":D="C";break;case"boolean":D="L";break;case"object":D=I[b]instanceof Date?"D":"C";break;default:D="C"}R=Math.max(R,String(I[b]).length),E=E&&E!=D?"C":D}R>250&&(R=250),D=((v[g]||{}).DBF||{}).type,D=="C"&&v[g].DBF.len>R&&(R=v[g].DBF.len),E=="B"&&D=="N"&&(E="N",_[g]=v[g].DBF.dec,R=v[g].DBF.len),A[g]=E=="C"||D=="N"?R:i[E]||0,k+=A[g],N[g]=E}var M=u.next(32);for(M.write_shift(4,318902576),M.write_shift(4,m.length),M.write_shift(2,296+32*j),M.write_shift(2,k),g=0;g<4;++g)M.write_shift(4,0);for(M.write_shift(4,0|(+t[qz]||3)<<8),g=0,b=0;g<p.length;++g)if(p[g]!=null){var U=u.next(32),P=(p[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);U.write_shift(1,P,"sbcs"),U.write_shift(1,N[g]=="?"?"C":N[g],"sbcs"),U.write_shift(4,b),U.write_shift(1,A[g]||i[N[g]]||0),U.write_shift(1,_[g]||0),U.write_shift(1,2),U.write_shift(4,0),U.write_shift(1,0),U.write_shift(4,0),U.write_shift(4,0),b+=A[g]||i[N[g]]||0}var F=u.next(264);for(F.write_shift(4,13),g=0;g<65;++g)F.write_shift(4,0);for(g=0;g<m.length;++g){var K=u.next(k);for(K.write_shift(1,0),b=0;b<p.length;++b)if(p[b]!=null)switch(N[b]){case"L":K.write_shift(1,m[g][b]==null?63:m[g][b]?84:70);break;case"B":K.write_shift(8,m[g][b]||0,"f");break;case"N":var V="0";for(typeof m[g][b]=="number"&&(V=m[g][b].toFixed(_[b]||0)),j=0;j<A[b]-V.length;++j)K.write_shift(1,32);K.write_shift(1,V,"sbcs");break;case"D":m[g][b]?(K.write_shift(4,("0000"+m[g][b].getFullYear()).slice(-4),"sbcs"),K.write_shift(2,("00"+(m[g][b].getMonth()+1)).slice(-2),"sbcs"),K.write_shift(2,("00"+m[g][b].getDate()).slice(-2),"sbcs")):K.write_shift(8,"00000000","sbcs");break;case"C":var J=String(m[g][b]!=null?m[g][b]:"").slice(0,A[b]);for(K.write_shift(1,J,"sbcs"),j=0;j<A[b]-J.length;++j)K.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:n,to_sheet:r,from_sheet:l}})(),rV=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+vn(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),a=function(p,m){var v=e[m];return typeof v=="number"?rM(v):v},r=function(p,m,v){var g=m.charCodeAt(0)-32<<4|v.charCodeAt(0)-48;return g==59?p:rM(g)};e["|"]=254;function n(p,m){switch(m.type){case"base64":return i(Go(p),m);case"binary":return i(p,m);case"buffer":return i(ms&&Buffer.isBuffer(p)?p.toString("binary"):Yf(p),m);case"array":return i(ym(p),m)}throw new Error("Unrecognized type "+m.type)}function i(p,m){var v=p.split(/[\n\r]+/),g=-1,b=-1,j=0,k=0,S=[],N=[],A=null,_={},E=[],D=[],R=[],I=0,M;for(+m.codepage>=0&&yd(+m.codepage);j!==v.length;++j){I=0;var U=v[j].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,a),P=U.replace(/;;/g,"\0").split(";").map(function(te){return te.replace(/\u0000/g,";")}),F=P[0],K;if(U.length>0)switch(F){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":P[1].charAt(0)=="P"&&N.push(U.slice(3).replace(/;;/g,";"));break;case"C":var V=!1,J=!1,Q=!1,z=!1,X=-1,le=-1;for(k=1;k<P.length;++k)switch(P[k].charAt(0)){case"A":break;case"X":b=parseInt(P[k].slice(1))-1,J=!0;break;case"Y":for(g=parseInt(P[k].slice(1))-1,J||(b=0),M=S.length;M<=g;++M)S[M]=[];break;case"K":K=P[k].slice(1),K.charAt(0)==='"'?K=K.slice(1,K.length-1):K==="TRUE"?K=!0:K==="FALSE"?K=!1:isNaN(jd(K))?isNaN(fx(K).getDate())||(K=Sr(K)):(K=jd(K),A!==null&&Rx(A)&&(K=nN(K))),V=!0;break;case"E":z=!0;var O=tx(P[k].slice(1),{r:g,c:b});S[g][b]=[S[g][b],O];break;case"S":Q=!0,S[g][b]=[S[g][b],"S5S"];break;case"G":break;case"R":X=parseInt(P[k].slice(1))-1;break;case"C":le=parseInt(P[k].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+U)}if(V&&(S[g][b]&&S[g][b].length==2?S[g][b][0]=K:S[g][b]=K,A=null),Q){if(z)throw new Error("SYLK shared formula cannot have own formula");var q=X>-1&&S[X][le];if(!q||!q[1])throw new Error("SYLK shared formula cannot find base");S[g][b][1]=jV(q[1],{r:g-X,c:b-le})}break;case"F":var W=0;for(k=1;k<P.length;++k)switch(P[k].charAt(0)){case"X":b=parseInt(P[k].slice(1))-1,++W;break;case"Y":for(g=parseInt(P[k].slice(1))-1,M=S.length;M<=g;++M)S[M]=[];break;case"M":I=parseInt(P[k].slice(1))/20;break;case"F":break;case"G":break;case"P":A=N[parseInt(P[k].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(R=P[k].slice(1).split(" "),M=parseInt(R[0],10);M<=parseInt(R[1],10);++M)I=parseInt(R[2],10),D[M-1]=I===0?{hidden:!0}:{wch:I},Rf(D[M-1]);break;case"C":b=parseInt(P[k].slice(1))-1,D[b]||(D[b]={});break;case"R":g=parseInt(P[k].slice(1))-1,E[g]||(E[g]={}),I>0?(E[g].hpt=I,E[g].hpx=px(I)):I===0&&(E[g].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+U)}W<1&&(A=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+U)}}return E.length>0&&(_["!rows"]=E),D.length>0&&(_["!cols"]=D),m&&m.sheetRows&&(S=S.slice(0,m.sheetRows)),[S,_]}function l(p,m){var v=n(p,m),g=v[0],b=v[1],j=Ix(g,m);return vn(b).forEach(function(k){j[k]=b[k]}),j}function o(p,m){return Xf(l(p,m),m)}function c(p,m,v,g){var b="C;Y"+(v+1)+";X"+(g+1)+";K";switch(p.t){case"n":b+=p.v||0,p.f&&!p.F&&(b+=";E"+o8(p.f,{r:v,c:g}));break;case"b":b+=p.v?"TRUE":"FALSE";break;case"e":b+=p.w||p.v;break;case"d":b+='"'+(p.w||p.v)+'"';break;case"s":b+='"'+p.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return b}function d(p,m){m.forEach(function(v,g){var b="F;W"+(g+1)+" "+(g+1)+" ";v.hidden?b+="0":(typeof v.width=="number"&&!v.wpx&&(v.wpx=f1(v.width)),typeof v.wpx=="number"&&!v.wch&&(v.wch=m1(v.wpx)),typeof v.wch=="number"&&(b+=Math.round(v.wch))),b.charAt(b.length-1)!=" "&&p.push(b)})}function u(p,m){m.forEach(function(v,g){var b="F;";v.hidden?b+="M0;":v.hpt?b+="M"+20*v.hpt+";":v.hpx&&(b+="M"+20*p1(v.hpx)+";"),b.length>2&&p.push(b+"R"+(g+1))})}function f(p,m){var v=["ID;PWXL;N;E"],g=[],b=Rs(p["!ref"]),j,k=Array.isArray(p),S=`\r
`;v.push("P;PGeneral"),v.push("F;P0;DG0G8;M255"),p["!cols"]&&d(v,p["!cols"]),p["!rows"]&&u(v,p["!rows"]),v.push("B;Y"+(b.e.r-b.s.r+1)+";X"+(b.e.c-b.s.c+1)+";D"+[b.s.c,b.s.r,b.e.c,b.e.r].join(" "));for(var N=b.s.r;N<=b.e.r;++N)for(var A=b.s.c;A<=b.e.c;++A){var _=Oa({r:N,c:A});j=k?(p[N]||[])[A]:p[_],!(!j||j.v==null&&(!j.f||j.F))&&g.push(c(j,p,N,A))}return v.join(S)+S+g.join(S)+S+"E"+S}return{to_workbook:o,to_sheet:l,from_sheet:f}})(),nV=(function(){function e(i,l){switch(l.type){case"base64":return t(Go(i),l);case"binary":return t(i,l);case"buffer":return t(ms&&Buffer.isBuffer(i)?i.toString("binary"):Yf(i),l);case"array":return t(ym(i),l)}throw new Error("Unrecognized type "+l.type)}function t(i,l){for(var o=i.split(`
`),c=-1,d=-1,u=0,f=[];u!==o.length;++u){if(o[u].trim()==="BOT"){f[++c]=[],d=0;continue}if(!(c<0)){var p=o[u].trim().split(","),m=p[0],v=p[1];++u;for(var g=o[u]||"";(g.match(/["]/g)||[]).length&1&&u<o.length-1;)g+=`
`+o[++u];switch(g=g.trim(),+m){case-1:if(g==="BOT"){f[++c]=[],d=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?f[c][d]=!0:g==="FALSE"?f[c][d]=!1:isNaN(jd(v))?isNaN(fx(v).getDate())?f[c][d]=v:f[c][d]=Sr(v):f[c][d]=jd(v),++d;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),f[c][d++]=g!==""?g:null;break}if(g==="EOD")break}}return l&&l.sheetRows&&(f=f.slice(0,l.sheetRows)),f}function a(i,l){return Ix(e(i,l),l)}function r(i,l){return Xf(a(i,l),l)}var n=(function(){var i=function(c,d,u,f,p){c.push(d),c.push(u+","+f),c.push('"'+p.replace(/"/g,'""')+'"')},l=function(c,d,u,f){c.push(d+","+u),c.push(d==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var d=[],u=Rs(c["!ref"]),f,p=Array.isArray(c);i(d,"TABLE",0,1,"sheetjs"),i(d,"VECTORS",0,u.e.r-u.s.r+1,""),i(d,"TUPLES",0,u.e.c-u.s.c+1,""),i(d,"DATA",0,0,"");for(var m=u.s.r;m<=u.e.r;++m){l(d,-1,0,"BOT");for(var v=u.s.c;v<=u.e.c;++v){var g=Oa({r:m,c:v});if(f=p?(c[m]||[])[v]:c[g],!f){l(d,1,0,"");continue}switch(f.t){case"n":var b=f.w;!b&&f.v!=null&&(b=f.v),b==null?f.f&&!f.F?l(d,1,0,"="+f.f):l(d,1,0,""):l(d,0,b,"V");break;case"b":l(d,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":l(d,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Oc(f.z||Ma[14],ui(Sr(f.v)))),l(d,0,f.w,"V");break;default:l(d,1,0,"")}}}l(d,-1,0,"EOD");var j=`\r
`,k=d.join(j);return k}})();return{to_workbook:r,to_sheet:a,from_sheet:n}})(),iV=(function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function a(f,p){for(var m=f.split(`
`),v=-1,g=-1,b=0,j=[];b!==m.length;++b){var k=m[b].trim().split(":");if(k[0]==="cell"){var S=tn(k[1]);if(j.length<=S.r)for(v=j.length;v<=S.r;++v)j[v]||(j[v]=[]);switch(v=S.r,g=S.c,k[2]){case"t":j[v][g]=e(k[3]);break;case"v":j[v][g]=+k[3];break;case"vtf":var N=k[k.length-1];case"vtc":switch(k[3]){case"nl":j[v][g]=!!+k[4];break;default:j[v][g]=+k[4];break}k[2]=="vtf"&&(j[v][g]=[j[v][g],N])}}}return p&&p.sheetRows&&(j=j.slice(0,p.sheetRows)),j}function r(f,p){return Ix(a(f,p),p)}function n(f,p){return Xf(r(f,p),p)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function d(f){if(!f||!f["!ref"])return"";for(var p=[],m=[],v,g="",b=bo(f["!ref"]),j=Array.isArray(f),k=b.s.r;k<=b.e.r;++k)for(var S=b.s.c;S<=b.e.c;++S)if(g=Oa({r:k,c:S}),v=j?(f[k]||[])[S]:f[g],!(!v||v.v==null||v.t==="z")){switch(m=["cell",g,"t"],v.t){case"s":case"str":m.push(t(v.v));break;case"n":v.f?(m[2]="vtf",m[3]="n",m[4]=v.v,m[5]=t(v.f)):(m[2]="v",m[3]=v.v);break;case"b":m[2]="vt"+(v.f?"f":"c"),m[3]="nl",m[4]=v.v?"1":"0",m[5]=t(v.f||(v.v?"TRUE":"FALSE"));break;case"d":var N=ui(Sr(v.v));m[2]="vtc",m[3]="nd",m[4]=""+N,m[5]=v.w||Oc(v.z||Ma[14],N);break;case"e":continue}p.push(m.join(":"))}return p.push("sheet:c:"+(b.e.c-b.s.c+1)+":r:"+(b.e.r-b.s.r+1)+":tvf:1"),p.push("valueformat:1:text-wiki"),p.join(`
`)}function u(f){return[i,l,o,l,d(f),c].join(`
`)}return{to_workbook:n,to_sheet:r,from_sheet:u}})(),mx=(function(){function e(u,f,p,m,v){v.raw?f[p][m]=u:u===""||(u==="TRUE"?f[p][m]=!0:u==="FALSE"?f[p][m]=!1:isNaN(jd(u))?isNaN(fx(u).getDate())?f[p][m]=u:f[p][m]=Sr(u):f[p][m]=jd(u))}function t(u,f){var p=f||{},m=[];if(!u||u.length===0)return m;for(var v=u.split(/[\r\n]/),g=v.length-1;g>=0&&v[g].length===0;)--g;for(var b=10,j=0,k=0;k<=g;++k)j=v[k].indexOf(" "),j==-1?j=v[k].length:j++,b=Math.max(b,j);for(k=0;k<=g;++k){m[k]=[];var S=0;for(e(v[k].slice(0,b).trim(),m,k,S,p),S=1;S<=(v[k].length-b)/10+1;++S)e(v[k].slice(b+(S-1)*10,b+S*10).trim(),m,k,S,p)}return p.sheetRows&&(m=m.slice(0,p.sheetRows)),m}var a={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function n(u){for(var f={},p=!1,m=0,v=0;m<u.length;++m)(v=u.charCodeAt(m))==34?p=!p:!p&&v in a&&(f[v]=(f[v]||0)+1);v=[];for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&v.push([f[m],m]);if(!v.length){f=r;for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&v.push([f[m],m])}return v.sort(function(g,b){return g[0]-b[0]||r[g[1]]-r[b[1]]}),a[v.pop()[1]]||44}function i(u,f){var p=f||{},m="",v=p.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(m=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(m=u.charAt(4),u=u.slice(6)):m=n(u.slice(0,1024)):p&&p.FS?m=p.FS:m=n(u.slice(0,1024));var b=0,j=0,k=0,S=0,N=0,A=m.charCodeAt(0),_=!1,E=0,D=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var R=p.dateNF!=null?pue(p.dateNF):null;function I(){var M=u.slice(S,N),U={};if(M.charAt(0)=='"'&&M.charAt(M.length-1)=='"'&&(M=M.slice(1,-1).replace(/""/g,'"')),M.length===0)U.t="z";else if(p.raw)U.t="s",U.v=M;else if(M.trim().length===0)U.t="s",U.v=M;else if(M.charCodeAt(0)==61)M.charCodeAt(1)==34&&M.charCodeAt(M.length-1)==34?(U.t="s",U.v=M.slice(2,-1).replace(/""/g,'"')):Vpe(M)?(U.t="n",U.f=M.slice(1)):(U.t="s",U.v=M);else if(M=="TRUE")U.t="b",U.v=!0;else if(M=="FALSE")U.t="b",U.v=!1;else if(!isNaN(k=jd(M)))U.t="n",p.cellText!==!1&&(U.w=M),U.v=k;else if(!isNaN(fx(M).getDate())||R&&M.match(R)){U.z=p.dateNF||Ma[14];var P=0;R&&M.match(R)&&(M=xue(M,p.dateNF,M.match(R)||[]),P=1),p.cellDates?(U.t="d",U.v=Sr(M,P)):(U.t="n",U.v=ui(Sr(M,P))),p.cellText!==!1&&(U.w=Oc(U.z,U.v instanceof Date?ui(U.v):U.v)),p.cellNF||delete U.z}else U.t="s",U.v=M;if(U.t=="z"||(p.dense?(v[b]||(v[b]=[]),v[b][j]=U):v[Oa({c:j,r:b})]=U),S=N+1,D=u.charCodeAt(S),g.e.c<j&&(g.e.c=j),g.e.r<b&&(g.e.r=b),E==A)++j;else if(j=0,++b,p.sheetRows&&p.sheetRows<=b)return!0}e:for(;N<u.length;++N)switch(E=u.charCodeAt(N)){case 34:D===34&&(_=!_);break;case A:case 10:case 13:if(!_&&I())break e;break}return N-S>0&&I(),v["!ref"]=ns(g),v}function l(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,f):Ix(t(u,f),f)}function o(u,f){var p="",m=f.type=="string"?[0,0,0,0]:g8(u,f);switch(f.type){case"base64":p=Go(u);break;case"binary":p=u;break;case"buffer":f.codepage==65001?p=u.toString("utf8"):f.codepage&&typeof n1<"u"||(p=ms&&Buffer.isBuffer(u)?u.toString("binary"):Yf(u));break;case"array":p=ym(u);break;case"string":p=u;break;default:throw new Error("Unrecognized type "+f.type)}return m[0]==239&&m[1]==187&&m[2]==191?p=or(p.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?p=or(p):f.type=="binary"&&typeof n1<"u",p.slice(0,19)=="socialcalc:version:"?iV.to_sheet(f.type=="string"?p:or(p),f):l(p,f)}function c(u,f){return Xf(o(u,f),f)}function d(u){for(var f=[],p=Rs(u["!ref"]),m,v=Array.isArray(u),g=p.s.r;g<=p.e.r;++g){for(var b=[],j=p.s.c;j<=p.e.c;++j){var k=Oa({r:g,c:j});if(m=v?(u[g]||[])[j]:u[k],!m||m.v==null){b.push("          ");continue}for(var S=(m.w||(ph(m),m.w)||"").slice(0,10);S.length<10;)S+=" ";b.push(S+(j===0?" ":""))}f.push(b.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:o,from_sheet:d}})();function T0e(e,t){var a=t||{},r=!!a.WTF;a.WTF=!0;try{var n=rV.to_workbook(e,a);return a.WTF=r,n}catch(i){if(a.WTF=r,!i.message.match(/SYLK bad record ID/)&&r)throw i;return mx.to_workbook(e,t)}}var sm=(function(){function e(O,q,W){if(O){Yi(O,O.l||0);for(var te=W.Enum||X;O.l<O.length;){var re=O.read_shift(2),oe=te[re]||te[65535],ce=O.read_shift(2),G=O.l+ce,ie=oe.f&&oe.f(O,ce,W);if(O.l=G,q(ie,oe,re))return}}}function t(O,q){switch(q.type){case"base64":return a(zo(Go(O)),q);case"binary":return a(zo(O),q);case"buffer":case"array":return a(O,q)}throw"Unsupported type "+q.type}function a(O,q){if(!O)return O;var W=q||{},te=W.dense?[]:{},re="Sheet1",oe="",ce=0,G={},ie=[],ye=[],se={s:{r:0,c:0},e:{r:0,c:0}},Ie=W.sheetRows||0;if(O[2]==0&&(O[3]==8||O[3]==9)&&O.length>=16&&O[14]==5&&O[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(O[2]==2)W.Enum=X,e(O,function(Re,ue,Z){switch(Z){case 0:W.vers=Re,Re>=4096&&(W.qpro=!0);break;case 6:se=Re;break;case 204:Re&&(oe=Re);break;case 222:oe=Re;break;case 15:case 51:W.qpro||(Re[1].v=Re[1].v.slice(1));case 13:case 14:case 16:Z==14&&(Re[2]&112)==112&&(Re[2]&15)>1&&(Re[2]&15)<15&&(Re[1].z=W.dateNF||Ma[14],W.cellDates&&(Re[1].t="d",Re[1].v=nN(Re[1].v))),W.qpro&&Re[3]>ce&&(te["!ref"]=ns(se),G[re]=te,ie.push(re),te=W.dense?[]:{},se={s:{r:0,c:0},e:{r:0,c:0}},ce=Re[3],re=oe||"Sheet"+(ce+1),oe="");var Se=W.dense?(te[Re[0].r]||[])[Re[0].c]:te[Oa(Re[0])];if(Se){Se.t=Re[1].t,Se.v=Re[1].v,Re[1].z!=null&&(Se.z=Re[1].z),Re[1].f!=null&&(Se.f=Re[1].f);break}W.dense?(te[Re[0].r]||(te[Re[0].r]=[]),te[Re[0].r][Re[0].c]=Re[1]):te[Oa(Re[0])]=Re[1];break}},W);else if(O[2]==26||O[2]==14)W.Enum=le,O[2]==14&&(W.qpro=!0,O.l=0),e(O,function(Re,ue,Z){switch(Z){case 204:re=Re;break;case 22:Re[1].v=Re[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Re[3]>ce&&(te["!ref"]=ns(se),G[re]=te,ie.push(re),te=W.dense?[]:{},se={s:{r:0,c:0},e:{r:0,c:0}},ce=Re[3],re="Sheet"+(ce+1)),Ie>0&&Re[0].r>=Ie)break;W.dense?(te[Re[0].r]||(te[Re[0].r]=[]),te[Re[0].r][Re[0].c]=Re[1]):te[Oa(Re[0])]=Re[1],se.e.c<Re[0].c&&(se.e.c=Re[0].c),se.e.r<Re[0].r&&(se.e.r=Re[0].r);break;case 27:Re[14e3]&&(ye[Re[14e3][0]]=Re[14e3][1]);break;case 1537:ye[Re[0]]=Re[1],Re[0]==ce&&(re=Re[1]);break}},W);else throw new Error("Unrecognized LOTUS BOF "+O[2]);if(te["!ref"]=ns(se),G[oe||re]=te,ie.push(oe||re),!ye.length)return{SheetNames:ie,Sheets:G};for(var pe={},ae=[],ge=0;ge<ye.length;++ge)G[ie[ge]]?(ae.push(ye[ge]||ie[ge]),pe[ye[ge]]=G[ye[ge]]||G[ie[ge]]):(ae.push(ye[ge]),pe[ye[ge]]={"!ref":"A1"});return{SheetNames:ae,Sheets:pe}}function r(O,q){var W=q||{};if(+W.codepage>=0&&yd(+W.codepage),W.type=="string")throw new Error("Cannot write WK1 to JS string");var te=vo(),re=Rs(O["!ref"]),oe=Array.isArray(O),ce=[];Zt(te,0,i(1030)),Zt(te,6,c(re));for(var G=Math.min(re.e.r,8191),ie=re.s.r;ie<=G;++ie)for(var ye=Rn(ie),se=re.s.c;se<=re.e.c;++se){ie===re.s.r&&(ce[se]=en(se));var Ie=ce[se]+ye,pe=oe?(O[ie]||[])[se]:O[Ie];if(!(!pe||pe.t=="z"))if(pe.t=="n")(pe.v|0)==pe.v&&pe.v>=-32768&&pe.v<=32767?Zt(te,13,m(ie,se,pe.v)):Zt(te,14,g(ie,se,pe.v));else{var ae=ph(pe);Zt(te,15,f(ie,se,ae.slice(0,239)))}}return Zt(te,1),te.end()}function n(O,q){var W=q||{};if(+W.codepage>=0&&yd(+W.codepage),W.type=="string")throw new Error("Cannot write WK3 to JS string");var te=vo();Zt(te,0,l(O));for(var re=0,oe=0;re<O.SheetNames.length;++re)(O.Sheets[O.SheetNames[re]]||{})["!ref"]&&Zt(te,27,z(O.SheetNames[re],oe++));var ce=0;for(re=0;re<O.SheetNames.length;++re){var G=O.Sheets[O.SheetNames[re]];if(!(!G||!G["!ref"])){for(var ie=Rs(G["!ref"]),ye=Array.isArray(G),se=[],Ie=Math.min(ie.e.r,8191),pe=ie.s.r;pe<=Ie;++pe)for(var ae=Rn(pe),ge=ie.s.c;ge<=ie.e.c;++ge){pe===ie.s.r&&(se[ge]=en(ge));var Re=se[ge]+ae,ue=ye?(G[pe]||[])[ge]:G[Re];if(!(!ue||ue.t=="z"))if(ue.t=="n")Zt(te,23,I(pe,ge,ce,ue.v));else{var Z=ph(ue);Zt(te,22,E(pe,ge,ce,Z.slice(0,239)))}}++ce}}return Zt(te,1),te.end()}function i(O){var q=kt(2);return q.write_shift(2,O),q}function l(O){var q=kt(26);q.write_shift(2,4096),q.write_shift(2,4),q.write_shift(4,0);for(var W=0,te=0,re=0,oe=0;oe<O.SheetNames.length;++oe){var ce=O.SheetNames[oe],G=O.Sheets[ce];if(!(!G||!G["!ref"])){++re;var ie=bo(G["!ref"]);W<ie.e.r&&(W=ie.e.r),te<ie.e.c&&(te=ie.e.c)}}return W>8191&&(W=8191),q.write_shift(2,W),q.write_shift(1,re),q.write_shift(1,te),q.write_shift(2,0),q.write_shift(2,0),q.write_shift(1,1),q.write_shift(1,2),q.write_shift(4,0),q.write_shift(4,0),q}function o(O,q,W){var te={s:{c:0,r:0},e:{c:0,r:0}};return q==8&&W.qpro?(te.s.c=O.read_shift(1),O.l++,te.s.r=O.read_shift(2),te.e.c=O.read_shift(1),O.l++,te.e.r=O.read_shift(2),te):(te.s.c=O.read_shift(2),te.s.r=O.read_shift(2),q==12&&W.qpro&&(O.l+=2),te.e.c=O.read_shift(2),te.e.r=O.read_shift(2),q==12&&W.qpro&&(O.l+=2),te.s.c==65535&&(te.s.c=te.e.c=te.s.r=te.e.r=0),te)}function c(O){var q=kt(8);return q.write_shift(2,O.s.c),q.write_shift(2,O.s.r),q.write_shift(2,O.e.c),q.write_shift(2,O.e.r),q}function d(O,q,W){var te=[{c:0,r:0},{t:"n",v:0},0,0];return W.qpro&&W.vers!=20768?(te[0].c=O.read_shift(1),te[3]=O.read_shift(1),te[0].r=O.read_shift(2),O.l+=2):(te[2]=O.read_shift(1),te[0].c=O.read_shift(2),te[0].r=O.read_shift(2)),te}function u(O,q,W){var te=O.l+q,re=d(O,q,W);if(re[1].t="s",W.vers==20768){O.l++;var oe=O.read_shift(1);return re[1].v=O.read_shift(oe,"utf8"),re}return W.qpro&&O.l++,re[1].v=O.read_shift(te-O.l,"cstr"),re}function f(O,q,W){var te=kt(7+W.length);te.write_shift(1,255),te.write_shift(2,q),te.write_shift(2,O),te.write_shift(1,39);for(var re=0;re<te.length;++re){var oe=W.charCodeAt(re);te.write_shift(1,oe>=128?95:oe)}return te.write_shift(1,0),te}function p(O,q,W){var te=d(O,q,W);return te[1].v=O.read_shift(2,"i"),te}function m(O,q,W){var te=kt(7);return te.write_shift(1,255),te.write_shift(2,q),te.write_shift(2,O),te.write_shift(2,W,"i"),te}function v(O,q,W){var te=d(O,q,W);return te[1].v=O.read_shift(8,"f"),te}function g(O,q,W){var te=kt(13);return te.write_shift(1,255),te.write_shift(2,q),te.write_shift(2,O),te.write_shift(8,W,"f"),te}function b(O,q,W){var te=O.l+q,re=d(O,q,W);if(re[1].v=O.read_shift(8,"f"),W.qpro)O.l=te;else{var oe=O.read_shift(2);N(O.slice(O.l,O.l+oe),re),O.l+=oe}return re}function j(O,q,W){var te=q&32768;return q&=-32769,q=(te?O:0)+(q>=8192?q-16384:q),(te?"":"$")+(W?en(q):Rn(q))}var k={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},S=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function N(O,q){Yi(O,0);for(var W=[],te=0,re="",oe="",ce="",G="";O.l<O.length;){var ie=O[O.l++];switch(ie){case 0:W.push(O.read_shift(8,"f"));break;case 1:oe=j(q[0].c,O.read_shift(2),!0),re=j(q[0].r,O.read_shift(2),!1),W.push(oe+re);break;case 2:{var ye=j(q[0].c,O.read_shift(2),!0),se=j(q[0].r,O.read_shift(2),!1);oe=j(q[0].c,O.read_shift(2),!0),re=j(q[0].r,O.read_shift(2),!1),W.push(ye+se+":"+oe+re)}break;case 3:if(O.l<O.length){console.error("WK1 premature formula end");return}break;case 4:W.push("("+W.pop()+")");break;case 5:W.push(O.read_shift(2));break;case 6:{for(var Ie="";ie=O[O.l++];)Ie+=String.fromCharCode(ie);W.push('"'+Ie.replace(/"/g,'""')+'"')}break;case 8:W.push("-"+W.pop());break;case 23:W.push("+"+W.pop());break;case 22:W.push("NOT("+W.pop()+")");break;case 20:case 21:G=W.pop(),ce=W.pop(),W.push(["AND","OR"][ie-20]+"("+ce+","+G+")");break;default:if(ie<32&&S[ie])G=W.pop(),ce=W.pop(),W.push(ce+S[ie]+G);else if(k[ie]){if(te=k[ie][1],te==69&&(te=O[O.l++]),te>W.length){console.error("WK1 bad formula parse 0x"+ie.toString(16)+":|"+W.join("|")+"|");return}var pe=W.slice(-te);W.length-=te,W.push(k[ie][0]+"("+pe.join(",")+")")}else return ie<=7?console.error("WK1 invalid opcode "+ie.toString(16)):ie<=24?console.error("WK1 unsupported op "+ie.toString(16)):ie<=30?console.error("WK1 invalid opcode "+ie.toString(16)):ie<=115?console.error("WK1 unsupported function opcode "+ie.toString(16)):console.error("WK1 unrecognized opcode "+ie.toString(16))}}W.length==1?q[1].f=""+W[0]:console.error("WK1 bad formula parse |"+W.join("|")+"|")}function A(O){var q=[{c:0,r:0},{t:"n",v:0},0];return q[0].r=O.read_shift(2),q[3]=O[O.l++],q[0].c=O[O.l++],q}function _(O,q){var W=A(O);return W[1].t="s",W[1].v=O.read_shift(q-4,"cstr"),W}function E(O,q,W,te){var re=kt(6+te.length);re.write_shift(2,O),re.write_shift(1,W),re.write_shift(1,q),re.write_shift(1,39);for(var oe=0;oe<te.length;++oe){var ce=te.charCodeAt(oe);re.write_shift(1,ce>=128?95:ce)}return re.write_shift(1,0),re}function D(O,q){var W=A(O);W[1].v=O.read_shift(2);var te=W[1].v>>1;if(W[1].v&1)switch(te&7){case 0:te=(te>>3)*5e3;break;case 1:te=(te>>3)*500;break;case 2:te=(te>>3)/20;break;case 3:te=(te>>3)/200;break;case 4:te=(te>>3)/2e3;break;case 5:te=(te>>3)/2e4;break;case 6:te=(te>>3)/16;break;case 7:te=(te>>3)/64;break}return W[1].v=te,W}function R(O,q){var W=A(O),te=O.read_shift(4),re=O.read_shift(4),oe=O.read_shift(2);if(oe==65535)return te===0&&re===3221225472?(W[1].t="e",W[1].v=15):te===0&&re===3489660928?(W[1].t="e",W[1].v=42):W[1].v=0,W;var ce=oe&32768;return oe=(oe&32767)-16446,W[1].v=(1-ce*2)*(re*Math.pow(2,oe+32)+te*Math.pow(2,oe)),W}function I(O,q,W,te){var re=kt(14);if(re.write_shift(2,O),re.write_shift(1,W),re.write_shift(1,q),te==0)return re.write_shift(4,0),re.write_shift(4,0),re.write_shift(2,65535),re;var oe=0,ce=0,G=0,ie=0;return te<0&&(oe=1,te=-te),ce=Math.log2(te)|0,te/=Math.pow(2,ce-31),ie=te>>>0,(ie&2147483648)==0&&(te/=2,++ce,ie=te>>>0),te-=ie,ie|=2147483648,ie>>>=0,te*=Math.pow(2,32),G=te>>>0,re.write_shift(4,G),re.write_shift(4,ie),ce+=16383+(oe?32768:0),re.write_shift(2,ce),re}function M(O,q){var W=R(O);return O.l+=q-14,W}function U(O,q){var W=A(O),te=O.read_shift(4);return W[1].v=te>>6,W}function P(O,q){var W=A(O),te=O.read_shift(8,"f");return W[1].v=te,W}function F(O,q){var W=P(O);return O.l+=q-10,W}function K(O,q){return O[O.l+q-1]==0?O.read_shift(q,"cstr"):""}function V(O,q){var W=O[O.l++];W>q-1&&(W=q-1);for(var te="";te.length<W;)te+=String.fromCharCode(O[O.l++]);return te}function J(O,q,W){if(!(!W.qpro||q<21)){var te=O.read_shift(1);O.l+=17,O.l+=1,O.l+=2;var re=O.read_shift(q-21,"cstr");return[te,re]}}function Q(O,q){for(var W={},te=O.l+q;O.l<te;){var re=O.read_shift(2);if(re==14e3){for(W[re]=[0,""],W[re][0]=O.read_shift(2);O[O.l];)W[re][1]+=String.fromCharCode(O[O.l]),O.l++;O.l++}}return W}function z(O,q){var W=kt(5+O.length);W.write_shift(2,14e3),W.write_shift(2,q);for(var te=0;te<O.length;++te){var re=O.charCodeAt(te);W[W.l++]=re>127?95:re}return W[W.l++]=0,W}var X={0:{n:"BOF",f:qn},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:p},14:{n:"NUMBER",f:v},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:b},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:K},222:{n:"SHEETNAMELP",f:V},65535:{n:""}},le={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:_},23:{n:"NUMBER17",f:R},24:{n:"NUMBER18",f:D},25:{n:"FORMULA19",f:M},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Q},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:U},38:{n:"??"},39:{n:"NUMBER27",f:P},40:{n:"FORMULA28",f:F},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:K},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:J},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:n,to_workbook:t}})();function D0e(e){var t={},a=e.match(Cl),r=0,n=!1;if(a)for(;r!=a.length;++r){var i=za(a[r]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=MA[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(i[0].charCodeAt(1)!==47&&!n)throw new Error("Unrecognized rich format "+i[0])}}return t}var P0e=(function(){var e=o1("t"),t=o1("rPr");function a(i){var l=i.match(e);if(!l)return{t:"s",v:""};var o={t:"s",v:Os(l[1])},c=i.match(t);return c&&(o.s=D0e(c[1])),o}var r=/<(?:\w+:)?r>/g,n=/<\/(?:\w+:)?r>/;return function(l){return l.replace(r,"").split(n).map(a).filter(function(o){return o.v})}})(),M0e=(function(){var t=/(\r\n|\n)/g;function a(n,i,l){var o=[];n.u&&o.push("text-decoration: underline;"),n.uval&&o.push("text-underline-style:"+n.uval+";"),n.sz&&o.push("font-size:"+n.sz+"pt;"),n.outline&&o.push("text-effect: outline;"),n.shadow&&o.push("text-shadow: auto;"),i.push('<span style="'+o.join("")+'">'),n.b&&(i.push("<b>"),l.push("</b>")),n.i&&(i.push("<i>"),l.push("</i>")),n.strike&&(i.push("<s>"),l.push("</s>"));var c=n.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(i.push("<"+c+">"),l.push("</"+c+">")),l.push("</span>"),n}function r(n){var i=[[],n.v,[]];return n.v?(n.s&&a(n.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(r).join("")}})(),L0e=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,O0e=/<(?:\w+:)?r>/,R0e=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function s8(e,t){var a=t?t.cellHTML:!0,r={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=Os(or(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=or(e),a&&(r.h=HA(r.t))):e.match(O0e)&&(r.r=or(e),r.t=Os(or((e.replace(R0e,"").match(L0e)||[]).join("").replace(Cl,""))),a&&(r.h=M0e(P0e(r.r)))),r):{t:""}}var F0e=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,I0e=/<(?:\w+:)?(?:si|sstItem)>/g,B0e=/<\/(?:\w+:)?(?:si|sstItem)>/;function $0e(e,t){var a=[],r="";if(!e)return a;var n=e.match(F0e);if(n){r=n[2].replace(I0e,"").split(B0e);for(var i=0;i!=r.length;++i){var l=s8(r[i].trim(),t);l!=null&&(a[a.length]=l)}n=za(n[1]),a.Count=n.count,a.Unique=n.uniqueCount}return a}var U0e=/^\s|\s$|[\t\n\r]/;function lV(e,t){if(!t.bookSST)return"";var a=[Un];a[a.length]=Qt("sst",null,{xmlns:Im[0],count:e.Count,uniqueCount:e.Unique});for(var r=0;r!=e.length;++r)if(e[r]!=null){var n=e[r],i="<si>";n.r?i+=n.r:(i+="<t",n.t||(n.t=""),n.t.match(U0e)&&(i+=' xml:space="preserve"'),i+=">"+ar(n.t)+"</t>"),i+="</si>",a[a.length]=i}return a.length>2&&(a[a.length]="</sst>",a[1]=a[1].replace("/>",">")),a.join("")}function z0e(e){return[e.read_shift(4),e.read_shift(4)]}function H0e(e,t){var a=[],r=!1;return Ah(e,function(i,l,o){switch(o){case 159:a.Count=i[0],a.Unique=i[1];break;case 19:a.push(i);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(l.T,!r||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),a}function V0e(e,t){return t||(t=kt(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var W0e=the;function q0e(e){var t=vo();Ht(t,159,V0e(e));for(var a=0;a<e.length;++a)Ht(t,19,W0e(e[a]));return Ht(t,160),t.end()}function oV(e){for(var t=[],a=e.split(""),r=0;r<a.length;++r)t[r]=a[r].charCodeAt(0);return t}function dh(e,t){var a={};return a.Major=e.read_shift(2),a.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),a}function G0e(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=dh(e,4),t.U=dh(e,4),t.W=dh(e,4),t}function K0e(e){for(var t=e.read_shift(4),a=e.l+t-4,r={},n=e.read_shift(4),i=[];n-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(r.name=e.read_shift(0,"lpp4"),r.comps=i,e.l!=a)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+a);return r}function Y0e(e){var t=[];e.l+=4;for(var a=e.read_shift(4);a-- >0;)t.push(K0e(e));return t}function X0e(e){var t=[];e.l+=4;for(var a=e.read_shift(4);a-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function J0e(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=dh(e,4),t.U=dh(e,4),t.W=dh(e,4),t}function Q0e(e){var t=J0e(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function cV(e,t){var a=e.l+t,r={};r.Flags=e.read_shift(4)&63,e.l+=4,r.AlgID=e.read_shift(4);var n=!1;switch(r.AlgID){case 26126:case 26127:case 26128:n=r.Flags==36;break;case 26625:n=r.Flags==4;break;case 0:n=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!n)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=e.read_shift(4),r.KeySize=e.read_shift(4),r.ProviderType=e.read_shift(4),e.l+=8,r.CSPName=e.read_shift(a-e.l>>1,"utf16le"),e.l=a,r}function dV(e,t){var a={},r=e.l+t;return e.l+=4,a.Salt=e.slice(e.l,e.l+16),e.l+=16,a.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),a.VerifierHash=e.slice(e.l,r),e.l=r,a}function Z0e(e){var t=dh(e);switch(t.Minor){case 2:return[t.Minor,eme(e)];case 3:return[t.Minor,tme()];case 4:return[t.Minor,ame(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function eme(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var a=e.read_shift(4),r=cV(e,a),n=dV(e,e.length-e.l);return{t:"Std",h:r,v:n}}function tme(){throw new Error("File is password-protected: ECMA-376 Extensible")}function ame(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var a=e.read_shift(e.length-e.l,"utf8"),r={};return a.replace(Cl,function(i){var l=za(i);switch(yu(l[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){r[o]=l[o]});break;case"<dataIntegrity":r.encryptedHmacKey=l.encryptedHmacKey,r.encryptedHmacValue=l.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=l.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(l);break;default:throw l[0]}}),r}function sme(e,t){var a={},r=a.EncryptionVersionInfo=dh(e,4);if(t-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);a.Flags=e.read_shift(4),t-=4;var n=e.read_shift(4);return t-=4,a.EncryptionHeader=cV(e,n),t-=n,a.EncryptionVerifier=dV(e,t),a}function rme(e){var t={},a=t.EncryptionVersionInfo=dh(e,4);if(a.Major!=1||a.Minor!=1)throw"unrecognized version code "+a.Major+" : "+a.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function r8(e){var t=0,a,r=oV(e),n=r.length+1,i,l,o,c,d;for(a=Of(n),a[0]=r.length,i=1;i!=n;++i)a[i]=r[i-1];for(i=n-1;i>=0;--i)l=a[i],o=(t&16384)===0?0:1,c=t<<1&32767,d=o|c,t=d^l;return t^52811}var uV=(function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],a=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(l){return(l/2|l*128)&255},n=function(l,o){return r(l^o)},i=function(l){for(var o=t[l.length-1],c=104,d=l.length-1;d>=0;--d)for(var u=l[d],f=0;f!=7;++f)u&64&&(o^=a[c]),u*=2,--c;return o};return function(l){for(var o=oV(l),c=i(o),d=o.length,u=Of(16),f=0;f!=16;++f)u[f]=0;var p,m,v;for((d&1)===1&&(p=c>>8,u[d]=n(e[0],p),--d,p=c&255,m=o[o.length-1],u[d]=n(m,p));d>0;)--d,p=c>>8,u[d]=n(o[d],p),--d,p=c&255,u[d]=n(o[d],p);for(d=15,v=15-o.length;v>0;)p=c>>8,u[d]=n(e[v],p),--d,--v,p=c&255,u[d]=n(o[d],p),--d,--v;return u}})(),nme=function(e,t,a,r,n){n||(n=t),r||(r=uV(e));var i,l;for(i=0;i!=t.length;++i)l=t[i],l^=r[a],l=(l>>5|l<<3)&255,n[i]=l,++a;return[n,a,r]},ime=function(e){var t=0,a=uV(e);return function(r){var n=nme("",r,t,a);return t=n[1],n[0]}};function lme(e,t,a,r){var n={key:qn(e),verificationBytes:qn(e)};return a.password&&(n.verifier=r8(a.password)),r.valid=n.verificationBytes===n.verifier,r.valid&&(r.insitu=ime(a.password)),n}function ome(e,t,a){var r=a||{};return r.Info=e.read_shift(2),e.l-=2,r.Info===1?r.Data=rme(e):r.Data=sme(e,t),r}function cme(e,t,a){var r={Type:a.biff>=8?e.read_shift(2):0};return r.Type?ome(e,t-2,r):lme(e,a.biff>=8?t:t-2,a,r),r}var hV=(function(){function e(n,i){switch(i.type){case"base64":return t(Go(n),i);case"binary":return t(n,i);case"buffer":return t(ms&&Buffer.isBuffer(n)?n.toString("binary"):Yf(n),i);case"array":return t(ym(n),i)}throw new Error("Unrecognized type "+i.type)}function t(n,i){var l=i||{},o=l.dense?[]:{},c=n.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(u,f){Array.isArray(o)&&(o[f]=[]);for(var p=/\\\w+\b/g,m=0,v,g=-1;v=p.exec(u);){switch(v[0]){case"\\cell":var b=u.slice(m,p.lastIndex-v[0].length);if(b[0]==" "&&(b=b.slice(1)),++g,b.length){var j={v:b,t:"s"};Array.isArray(o)?o[f][g]=j:o[Oa({r:f,c:g})]=j}break}m=p.lastIndex}g>d.e.c&&(d.e.c=g)}),o["!ref"]=ns(d),o}function a(n,i){return Xf(e(n,i),i)}function r(n){for(var i=["{\\rtf1\\ansi"],l=Rs(n["!ref"]),o,c=Array.isArray(n),d=l.s.r;d<=l.e.r;++d){i.push("\\trowd\\trautofit1");for(var u=l.s.c;u<=l.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=l.s.c;u<=l.e.c;++u){var f=Oa({r:d,c:u});o=c?(n[d]||[])[u]:n[f],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(ph(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:a,to_sheet:e,from_sheet:r}})();function dme(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function h1(e){for(var t=0,a=1;t!=3;++t)a=a*256+(e[t]>255?255:e[t]<0?0:e[t]);return a.toString(16).toUpperCase().slice(1)}function ume(e){var t=e[0]/255,a=e[1]/255,r=e[2]/255,n=Math.max(t,a,r),i=Math.min(t,a,r),l=n-i;if(l===0)return[0,0,t];var o=0,c=0,d=n+i;switch(c=l/(d>1?2-d:d),n){case t:o=((a-r)/l+6)%6;break;case a:o=(r-t)/l+2;break;case r:o=(t-a)/l+4;break}return[o/6,c,d/2]}function hme(e){var t=e[0],a=e[1],r=e[2],n=a*2*(r<.5?r:1-r),i=r-n/2,l=[i,i,i],o=6*t,c;if(a!==0)switch(o|0){case 0:case 6:c=n*o,l[0]+=n,l[1]+=c;break;case 1:c=n*(2-o),l[0]+=c,l[1]+=n;break;case 2:c=n*(o-2),l[1]+=n,l[2]+=c;break;case 3:c=n*(4-o),l[1]+=c,l[2]+=n;break;case 4:c=n*(o-4),l[2]+=n,l[0]+=c;break;case 5:c=n*(6-o),l[2]+=c,l[0]+=n;break}for(var d=0;d!=3;++d)l[d]=Math.round(l[d]*255);return l}function Sw(e,t){if(t===0)return e;var a=ume(dme(e));return t<0?a[2]=a[2]*(1+t):a[2]=1-(1-a[2])*(1-t),h1(hme(a))}var fV=6,fme=15,mme=1,pl=fV;function f1(e){return Math.floor((e+Math.round(128/pl)/256)*pl)}function m1(e){return Math.floor((e-5)/pl*100+.5)/100}function Cw(e){return Math.round((e*pl+5)/pl*256)/256}function G5(e){return Cw(m1(f1(e)))}function n8(e){var t=Math.abs(e-G5(e)),a=pl;if(t>.005)for(pl=mme;pl<fme;++pl)Math.abs(e-G5(e))<=t&&(t=Math.abs(e-G5(e)),a=pl);pl=a}function Rf(e){e.width?(e.wpx=f1(e.width),e.wch=m1(e.wpx),e.MDW=pl):e.wpx?(e.wch=m1(e.wpx),e.width=Cw(e.wch),e.MDW=pl):typeof e.wch=="number"&&(e.width=Cw(e.wch),e.wpx=f1(e.width),e.MDW=pl),e.customWidth&&delete e.customWidth}var pme=96,mV=pme;function p1(e){return e*96/mV}function px(e){return e*mV/96}var xme={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function gme(e,t,a,r){t.Borders=[];var n={},i=!1;(e[0].match(Cl)||[]).forEach(function(l){var o=za(l);switch(yu(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":n={},o.diagonalUp&&(n.diagonalUp=jr(o.diagonalUp)),o.diagonalDown&&(n.diagonalDown=jr(o.diagonalDown)),t.Borders.push(n);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+o[0]+" in borders")}})}function vme(e,t,a,r){t.Fills=[];var n={},i=!1;(e[0].match(Cl)||[]).forEach(function(l){var o=za(l);switch(yu(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":n={},t.Fills.push(n);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(n),n={};break;case"<patternFill":case"<patternFill>":o.patternType&&(n.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":n.bgColor||(n.bgColor={}),o.indexed&&(n.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(n.bgColor.theme=parseInt(o.theme,10)),o.tint&&(n.bgColor.tint=parseFloat(o.tint)),o.rgb&&(n.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":n.fgColor||(n.fgColor={}),o.theme&&(n.fgColor.theme=parseInt(o.theme,10)),o.tint&&(n.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(n.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fills")}})}function bme(e,t,a,r){t.Fonts=[];var n={},i=!1;(e[0].match(Cl)||[]).forEach(function(l){var o=za(l);switch(yu(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(n),n={};break;case"<name":o.val&&(n.name=or(o.val));break;case"<name/>":case"</name>":break;case"<b":n.bold=o.val?jr(o.val):1;break;case"<b/>":n.bold=1;break;case"<i":n.italic=o.val?jr(o.val):1;break;case"<i/>":n.italic=1;break;case"<u":switch(o.val){case"none":n.underline=0;break;case"single":n.underline=1;break;case"double":n.underline=2;break;case"singleAccounting":n.underline=33;break;case"doubleAccounting":n.underline=34;break}break;case"<u/>":n.underline=1;break;case"<strike":n.strike=o.val?jr(o.val):1;break;case"<strike/>":n.strike=1;break;case"<outline":n.outline=o.val?jr(o.val):1;break;case"<outline/>":n.outline=1;break;case"<shadow":n.shadow=o.val?jr(o.val):1;break;case"<shadow/>":n.shadow=1;break;case"<condense":n.condense=o.val?jr(o.val):1;break;case"<condense/>":n.condense=1;break;case"<extend":n.extend=o.val?jr(o.val):1;break;case"<extend/>":n.extend=1;break;case"<sz":o.val&&(n.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(n.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(n.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(n.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=MA[parseInt(o.val,10)];break;case"<color":if(n.color||(n.color={}),o.auto&&(n.color.auto=jr(o.auto)),o.rgb)n.color.rgb=o.rgb.slice(-6);else if(o.indexed){n.color.index=parseInt(o.indexed,10);var c=tm[n.color.index];n.color.index==81&&(c=tm[1]),c||(c=tm[1]),n.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else o.theme&&(n.color.theme=parseInt(o.theme,10),o.tint&&(n.color.tint=parseFloat(o.tint)),o.theme&&a.themeElements&&a.themeElements.clrScheme&&(n.color.rgb=Sw(a.themeElements.clrScheme[n.color.theme].rgb,n.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fonts")}})}function yme(e,t,a){t.NumberFmt=[];for(var r=vn(Ma),n=0;n<r.length;++n)t.NumberFmt[r[n]]=Ma[r[n]];var i=e[0].match(Cl);if(i)for(n=0;n<i.length;++n){var l=za(i[n]);switch(yu(l[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Os(or(l.formatCode)),c=parseInt(l.numFmtId,10);if(t.NumberFmt[c]=o,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=o}ch(o,c)}}break;case"</numFmt>":break;default:if(a.WTF)throw new Error("unrecognized "+l[0]+" in numFmts")}}}function wme(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var r=a[0];r<=a[1];++r)e[r]!=null&&(t[t.length]=Qt("numFmt",null,{numFmtId:r,formatCode:ar(e[r])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Qt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var e2=["numFmtId","fillId","fontId","borderId","xfId"],t2=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function jme(e,t,a){t.CellXf=[];var r,n=!1;(e[0].match(Cl)||[]).forEach(function(i){var l=za(i),o=0;switch(yu(l[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=l,delete r[0],o=0;o<e2.length;++o)r[e2[o]]&&(r[e2[o]]=parseInt(r[e2[o]],10));for(o=0;o<t2.length;++o)r[t2[o]]&&(r[t2[o]]=jr(r[t2[o]]));if(t.NumberFmt&&r.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[r.numFmtId]==t.NumberFmt[o]){r.numFmtId=o;break}}t.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};l.vertical&&(c.vertical=l.vertical),l.horizontal&&(c.horizontal=l.horizontal),l.textRotation!=null&&(c.textRotation=l.textRotation),l.indent&&(c.indent=l.indent),l.wrapText&&(c.wrapText=jr(l.wrapText)),r.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":n=!0;break;case"</AlternateContent>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(a&&a.WTF&&!n)throw new Error("unrecognized "+l[0]+" in cellXfs")}})}function Nme(e){var t=[];return t[t.length]=Qt("cellXfs",null),e.forEach(function(a){t[t.length]=Qt("xf",null,a)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Qt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var kme=(function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,a=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,n=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,c,d){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(t))&&yme(f,u,d),(f=o.match(n))&&bme(f,u,c,d),(f=o.match(r))&&vme(f,u,c,d),(f=o.match(i))&&gme(f,u,c,d),(f=o.match(a))&&jme(f,u,d),u}})();function pV(e,t){var a=[Un,Qt("styleSheet",null,{xmlns:Im[0],"xmlns:vt":oi.vt})],r;return e.SSF&&(r=wme(e.SSF))!=null&&(a[a.length]=r),a[a.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',a[a.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',a[a.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',a[a.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=Nme(t.cellXfs))&&(a[a.length]=r),a[a.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',a[a.length]='<dxfs count="0"/>',a[a.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',a.length>2&&(a[a.length]="</styleSheet>",a[1]=a[1].replace("/>",">")),a.join("")}function Sme(e,t){var a=e.read_shift(2),r=wl(e);return[a,r]}function Cme(e,t,a){a||(a=kt(6+4*t.length)),a.write_shift(2,e),Ti(t,a);var r=a.length>a.l?a.slice(0,a.l):a;return a.l==null&&(a.l=a.length),r}function Ame(e,t,a){var r={};r.sz=e.read_shift(2)/20;var n=ohe(e);n.fItalic&&(r.italic=1),n.fCondense&&(r.condense=1),n.fExtend&&(r.extend=1),n.fShadow&&(r.shadow=1),n.fOutline&&(r.outline=1),n.fStrikeout&&(r.strike=1);var i=e.read_shift(2);switch(i===700&&(r.bold=1),e.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var l=e.read_shift(1);l!=0&&(r.underline=l);var o=e.read_shift(1);o>0&&(r.family=o);var c=e.read_shift(1);switch(c>0&&(r.charset=c),e.l++,r.color=lhe(e),e.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=wl(e),r}function _me(e,t){t||(t=kt(153)),t.write_shift(2,e.sz*20),che(e,t),t.write_shift(2,e.bold?700:400);var a=0;e.vertAlign=="superscript"?a=1:e.vertAlign=="subscript"&&(a=2),t.write_shift(2,a),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),jw(e.color,t);var r=0;return r=2,t.write_shift(1,r),Ti(e.name,t),t.length>t.l?t.slice(0,t.l):t}var Eme=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],K5,Tme=Nl;function KM(e,t){t||(t=kt(84)),K5||(K5=sN(Eme));var a=K5[e.patternType];a==null&&(a=40),t.write_shift(4,a);var r=0;if(a!=40)for(jw({auto:1},t),jw({auto:1},t);r<12;++r)t.write_shift(4,0);else{for(;r<4;++r)t.write_shift(4,0);for(;r<12;++r)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function Dme(e,t){var a=e.l+t,r=e.read_shift(2),n=e.read_shift(2);return e.l=a,{ixfe:r,numFmtId:n}}function xV(e,t,a){a||(a=kt(16)),a.write_shift(2,t||0),a.write_shift(2,e.numFmtId||0),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(1,0),a.write_shift(1,0);var r=0;return a.write_shift(1,r),a.write_shift(1,0),a.write_shift(1,0),a.write_shift(1,0),a}function Yg(e,t){return t||(t=kt(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var Pme=Nl;function Mme(e,t){return t||(t=kt(51)),t.write_shift(1,0),Yg(null,t),Yg(null,t),Yg(null,t),Yg(null,t),Yg(null,t),t.length>t.l?t.slice(0,t.l):t}function Lme(e,t){return t||(t=kt(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),ww(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function Ome(e,t,a){var r=kt(2052);return r.write_shift(4,e),ww(t,r),ww(a,r),r.length>r.l?r.slice(0,r.l):r}function Rme(e,t,a){var r={};r.NumberFmt=[];for(var n in Ma)r.NumberFmt[n]=Ma[n];r.CellXf=[],r.Fonts=[];var i=[],l=!1;return Ah(e,function(c,d,u){switch(u){case 44:r.NumberFmt[c[0]]=c[1],ch(c[1],c[0]);break;case 43:r.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=Sw(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&r.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:i.push(u),l=!0;break;case 38:i.pop(),l=!1;break;default:if(d.T>0)i.push(u);else if(d.T<0)i.pop();else if(!l||a.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),r}function Fme(e,t){if(t){var a=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&++a}),a!=0&&(Ht(e,615,Nd(a)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&Ht(e,44,Cme(n,t[n]))}),Ht(e,616))}}function Ime(e){var t=1;Ht(e,611,Nd(t)),Ht(e,43,_me({sz:12,color:{theme:1},name:"Calibri",family:2})),Ht(e,612)}function Bme(e){var t=2;Ht(e,603,Nd(t)),Ht(e,45,KM({patternType:"none"})),Ht(e,45,KM({patternType:"gray125"})),Ht(e,604)}function $me(e){var t=1;Ht(e,613,Nd(t)),Ht(e,46,Mme()),Ht(e,614)}function Ume(e){var t=1;Ht(e,626,Nd(t)),Ht(e,47,xV({numFmtId:0},65535)),Ht(e,627)}function zme(e,t){Ht(e,617,Nd(t.length)),t.forEach(function(a){Ht(e,47,xV(a,0))}),Ht(e,618)}function Hme(e){var t=1;Ht(e,619,Nd(t)),Ht(e,48,Lme({xfId:0,name:"Normal"})),Ht(e,620)}function Vme(e){var t=0;Ht(e,505,Nd(t)),Ht(e,506)}function Wme(e){var t=0;Ht(e,508,Ome(t,"TableStyleMedium9","PivotStyleMedium4")),Ht(e,509)}function qme(e,t){var a=vo();return Ht(a,278),Fme(a,e.SSF),Ime(a),Bme(a),$me(a),Ume(a),zme(a,t.cellXfs),Hme(a),Vme(a),Wme(a),Ht(a,279),a.end()}var Gme=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Kme(e,t,a){t.themeElements.clrScheme=[];var r={};(e[0].match(Cl)||[]).forEach(function(n){var i=za(n);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=i.val;break;case"<a:sysClr":r.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[Gme.indexOf(i[0])]=r,r={}):r.name=i[0].slice(3,i[0].length-1);break;default:if(a&&a.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function Yme(){}function Xme(){}var Jme=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,Qme=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,Zme=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function epe(e,t,a){t.themeElements={};var r;[["clrScheme",Jme,Kme],["fontScheme",Qme,Yme],["fmtScheme",Zme,Xme]].forEach(function(n){if(!(r=e.match(n[1])))throw new Error(n[0]+" not found in themeElements");n[2](r,t,a)})}var tpe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function gV(e,t){(!e||e.length===0)&&(e=i8());var a,r={};if(!(a=e.match(tpe)))throw new Error("themeElements not found in theme");return epe(a[0],r,t),r.raw=e,r}function i8(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var a=[Un];return a[a.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',a[a.length]="<a:themeElements>",a[a.length]='<a:clrScheme name="Office">',a[a.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',a[a.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',a[a.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',a[a.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',a[a.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',a[a.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',a[a.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',a[a.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',a[a.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',a[a.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',a[a.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',a[a.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',a[a.length]="</a:clrScheme>",a[a.length]='<a:fontScheme name="Office">',a[a.length]="<a:majorFont>",a[a.length]='<a:latin typeface="Cambria"/>',a[a.length]='<a:ea typeface=""/>',a[a.length]='<a:cs typeface=""/>',a[a.length]='<a:font script="Jpan" typeface=" "/>',a[a.length]='<a:font script="Hang" typeface=" "/>',a[a.length]='<a:font script="Hans" typeface=""/>',a[a.length]='<a:font script="Hant" typeface=""/>',a[a.length]='<a:font script="Arab" typeface="Times New Roman"/>',a[a.length]='<a:font script="Hebr" typeface="Times New Roman"/>',a[a.length]='<a:font script="Thai" typeface="Tahoma"/>',a[a.length]='<a:font script="Ethi" typeface="Nyala"/>',a[a.length]='<a:font script="Beng" typeface="Vrinda"/>',a[a.length]='<a:font script="Gujr" typeface="Shruti"/>',a[a.length]='<a:font script="Khmr" typeface="MoolBoran"/>',a[a.length]='<a:font script="Knda" typeface="Tunga"/>',a[a.length]='<a:font script="Guru" typeface="Raavi"/>',a[a.length]='<a:font script="Cans" typeface="Euphemia"/>',a[a.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',a[a.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',a[a.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',a[a.length]='<a:font script="Thaa" typeface="MV Boli"/>',a[a.length]='<a:font script="Deva" typeface="Mangal"/>',a[a.length]='<a:font script="Telu" typeface="Gautami"/>',a[a.length]='<a:font script="Taml" typeface="Latha"/>',a[a.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',a[a.length]='<a:font script="Orya" typeface="Kalinga"/>',a[a.length]='<a:font script="Mlym" typeface="Kartika"/>',a[a.length]='<a:font script="Laoo" typeface="DokChampa"/>',a[a.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',a[a.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',a[a.length]='<a:font script="Viet" typeface="Times New Roman"/>',a[a.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',a[a.length]='<a:font script="Geor" typeface="Sylfaen"/>',a[a.length]="</a:majorFont>",a[a.length]="<a:minorFont>",a[a.length]='<a:latin typeface="Calibri"/>',a[a.length]='<a:ea typeface=""/>',a[a.length]='<a:cs typeface=""/>',a[a.length]='<a:font script="Jpan" typeface=" "/>',a[a.length]='<a:font script="Hang" typeface=" "/>',a[a.length]='<a:font script="Hans" typeface=""/>',a[a.length]='<a:font script="Hant" typeface=""/>',a[a.length]='<a:font script="Arab" typeface="Arial"/>',a[a.length]='<a:font script="Hebr" typeface="Arial"/>',a[a.length]='<a:font script="Thai" typeface="Tahoma"/>',a[a.length]='<a:font script="Ethi" typeface="Nyala"/>',a[a.length]='<a:font script="Beng" typeface="Vrinda"/>',a[a.length]='<a:font script="Gujr" typeface="Shruti"/>',a[a.length]='<a:font script="Khmr" typeface="DaunPenh"/>',a[a.length]='<a:font script="Knda" typeface="Tunga"/>',a[a.length]='<a:font script="Guru" typeface="Raavi"/>',a[a.length]='<a:font script="Cans" typeface="Euphemia"/>',a[a.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',a[a.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',a[a.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',a[a.length]='<a:font script="Thaa" typeface="MV Boli"/>',a[a.length]='<a:font script="Deva" typeface="Mangal"/>',a[a.length]='<a:font script="Telu" typeface="Gautami"/>',a[a.length]='<a:font script="Taml" typeface="Latha"/>',a[a.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',a[a.length]='<a:font script="Orya" typeface="Kalinga"/>',a[a.length]='<a:font script="Mlym" typeface="Kartika"/>',a[a.length]='<a:font script="Laoo" typeface="DokChampa"/>',a[a.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',a[a.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',a[a.length]='<a:font script="Viet" typeface="Arial"/>',a[a.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',a[a.length]='<a:font script="Geor" typeface="Sylfaen"/>',a[a.length]="</a:minorFont>",a[a.length]="</a:fontScheme>",a[a.length]='<a:fmtScheme name="Office">',a[a.length]="<a:fillStyleLst>",a[a.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',a[a.length]='<a:gradFill rotWithShape="1">',a[a.length]="<a:gsLst>",a[a.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',a[a.length]="</a:gsLst>",a[a.length]='<a:lin ang="16200000" scaled="1"/>',a[a.length]="</a:gradFill>",a[a.length]='<a:gradFill rotWithShape="1">',a[a.length]="<a:gsLst>",a[a.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',a[a.length]="</a:gsLst>",a[a.length]='<a:lin ang="16200000" scaled="0"/>',a[a.length]="</a:gradFill>",a[a.length]="</a:fillStyleLst>",a[a.length]="<a:lnStyleLst>",a[a.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',a[a.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',a[a.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',a[a.length]="</a:lnStyleLst>",a[a.length]="<a:effectStyleLst>",a[a.length]="<a:effectStyle>",a[a.length]="<a:effectLst>",a[a.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',a[a.length]="</a:effectLst>",a[a.length]="</a:effectStyle>",a[a.length]="<a:effectStyle>",a[a.length]="<a:effectLst>",a[a.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',a[a.length]="</a:effectLst>",a[a.length]="</a:effectStyle>",a[a.length]="<a:effectStyle>",a[a.length]="<a:effectLst>",a[a.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',a[a.length]="</a:effectLst>",a[a.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',a[a.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',a[a.length]="</a:effectStyle>",a[a.length]="</a:effectStyleLst>",a[a.length]="<a:bgFillStyleLst>",a[a.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',a[a.length]='<a:gradFill rotWithShape="1">',a[a.length]="<a:gsLst>",a[a.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',a[a.length]="</a:gsLst>",a[a.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',a[a.length]="</a:gradFill>",a[a.length]='<a:gradFill rotWithShape="1">',a[a.length]="<a:gsLst>",a[a.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',a[a.length]="</a:gsLst>",a[a.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',a[a.length]="</a:gradFill>",a[a.length]="</a:bgFillStyleLst>",a[a.length]="</a:fmtScheme>",a[a.length]="</a:themeElements>",a[a.length]="<a:objectDefaults>",a[a.length]="<a:spDef>",a[a.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',a[a.length]="</a:spDef>",a[a.length]="<a:lnDef>",a[a.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',a[a.length]="</a:lnDef>",a[a.length]="</a:objectDefaults>",a[a.length]="<a:extraClrSchemeLst/>",a[a.length]="</a:theme>",a.join("")}function ape(e,t,a){var r=e.l+t,n=e.read_shift(4);if(n!==124226){if(!a.cellStyles){e.l=r;return}var i=e.slice(e.l);e.l=r;var l;try{l=cH(i,{type:"array"})}catch{return}var o=Ho(l,"theme/theme/theme1.xml",!0);if(o)return gV(o,a)}}function spe(e){return e.read_shift(4)}function rpe(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=npe(e,4);break;case 2:t.xclrValue=XH(e);break;case 3:t.xclrValue=spe(e);break;case 4:e.l+=4;break}return e.l+=8,t}function npe(e,t){return Nl(e,t)}function ipe(e,t){return Nl(e,t)}function lpe(e){var t=e.read_shift(2),a=e.read_shift(2)-4,r=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=rpe(e);break;case 6:r[1]=ipe(e,a);break;case 14:case 15:r[1]=e.read_shift(a===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+a)}return r}function ope(e,t){var a=e.l+t;e.l+=2;var r=e.read_shift(2);e.l+=2;for(var n=e.read_shift(2),i=[];n-- >0;)i.push(lpe(e,a-e.l));return{ixfe:r,ext:i}}function cpe(e,t){t.forEach(function(a){a[0]})}function dpe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:wl(e)}}function upe(e){var t=kt(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Ti(e.name,t),t.slice(0,t.l)}function hpe(e){for(var t=[],a=e.read_shift(4);a-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function fpe(e){var t=kt(4+8*e.length);t.write_shift(4,e.length);for(var a=0;a<e.length;++a)t.write_shift(4,e[a][0]),t.write_shift(4,e[a][1]);return t}function mpe(e,t){var a=kt(8+2*t.length);return a.write_shift(4,e),Ti(t,a),a.slice(0,a.l)}function ppe(e){return e.l+=4,e.read_shift(4)!=0}function xpe(e,t){var a=kt(8);return a.write_shift(4,e),a.write_shift(4,1),a}function gpe(e,t,a){var r={Types:[],Cell:[],Value:[]},n=a||{},i=[],l=!1,o=2;return Ah(e,function(c,d,u){switch(u){case 335:r.Types.push({name:c.name});break;case 51:c.forEach(function(f){o==1?r.Cell.push({type:r.Types[f[0]-1].name,index:f[1]}):o==0&&r.Value.push({type:r.Types[f[0]-1].name,index:f[1]})});break;case 337:o=c?1:0;break;case 338:o=2;break;case 35:i.push(u),l=!0;break;case 36:i.pop(),l=!1;break;default:if(!d.T){if(!l||n.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function vpe(){var e=vo();return Ht(e,332),Ht(e,334,Nd(1)),Ht(e,335,upe({name:"XLDAPR",version:12e4,flags:3496657072})),Ht(e,336),Ht(e,339,mpe(1,"XLDAPR")),Ht(e,52),Ht(e,35,Nd(514)),Ht(e,4096,Nd(0)),Ht(e,4097,Sc(1)),Ht(e,36),Ht(e,53),Ht(e,340),Ht(e,337,xpe(1)),Ht(e,51,fpe([[1,0]])),Ht(e,338),Ht(e,333),e.end()}function bpe(e,t,a){var r={Types:[],Cell:[],Value:[]};if(!e)return r;var n=!1,i=2,l;return e.replace(Cl,function(o){var c=za(o);switch(yu(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var d=0;d<r.Types.length;++d)r.Types[d].name==c.name&&(l=r.Types[d]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?r.Cell.push({type:r.Types[c.t-1].name,index:+c.v}):i==0&&r.Value.push({type:r.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<rvb":if(!l)break;l.offsets||(l.offsets=[]),l.offsets.push(+c.i);break;default:if(!n&&a.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return o}),r}function vV(){var e=[Un];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function ype(e){var t=[];if(!e)return t;var a=1;return(e.match(Cl)||[]).forEach(function(r){var n=za(r);switch(n[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete n[0],n.i?a=n.i:n.i=a,t.push(n);break}}),t}function wpe(e){var t={};t.i=e.read_shift(4);var a={};a.r=e.read_shift(4),a.c=e.read_shift(4),t.r=Oa(a);var r=e.read_shift(1);return r&2&&(t.l="1"),r&8&&(t.a="1"),t}function jpe(e,t,a){var r=[];return Ah(e,function(i,l,o){switch(o){case 63:r.push(i);break;default:if(!l.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function Npe(e,t,a,r){if(!e)return e;var n=r||{},i=!1;Ah(e,function(o,c,d){switch(d){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!c.T){if(!i||n.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}},n)}function kpe(e,t){if(!e)return"??";var a=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][a].Target}var Wp=1024;function bV(e,t){for(var a=[21600,21600],r=["m0,0l0",a[1],a[0],a[1],a[0],"0xe"].join(","),n=[Qt("xml",null,{"xmlns:v":Bo.v,"xmlns:o":Bo.o,"xmlns:x":Bo.x,"xmlns:mv":Bo.mv}).replace(/\/>/,">"),Qt("o:shapelayout",Qt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Qt("v:shapetype",[Qt("v:stroke",null,{joinstyle:"miter"}),Qt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:a.join(","),path:r})];Wp<e*1e3;)Wp+=1e3;return t.forEach(function(i){var l=tn(i[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var c=o.type=="gradient"?Qt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,d=Qt("v:fill",c,o),u={on:"t",obscured:"t"};++Wp,n=n.concat(["<v:shape"+c1({id:"_x0000_s"+Wp,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",d,Qt("v:shadow",null,u),Qt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Xi("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),Xi("x:AutoFill","False"),Xi("x:Row",String(l.r)),Xi("x:Column",String(l.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),n.push("</xml>"),n.join("")}function YM(e,t,a,r){var n=Array.isArray(e),i;t.forEach(function(l){var o=tn(l.ref);if(n?(e[o.r]||(e[o.r]=[]),i=e[o.r][o.c]):i=e[l.ref],!i){i={t:"z"},n?e[o.r][o.c]=i:e[l.ref]=i;var c=Rs(e["!ref"]||"BDWGO1000001:A1");c.s.r>o.r&&(c.s.r=o.r),c.e.r<o.r&&(c.e.r=o.r),c.s.c>o.c&&(c.s.c=o.c),c.e.c<o.c&&(c.e.c=o.c);var d=ns(c);d!==e["!ref"]&&(e["!ref"]=d)}i.c||(i.c=[]);var u={a:l.author,t:l.t,r:l.r,T:a};l.h&&(u.h=l.h);for(var f=i.c.length-1;f>=0;--f){if(!a&&i.c[f].T)return;a&&!i.c[f].T&&i.c.splice(f,1)}if(a&&r){for(f=0;f<r.length;++f)if(u.a==r[f].id){u.a=r[f].name||u.a;break}}i.c.push(u)})}function Spe(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var a=[],r=[],n=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);n&&n[1]&&n[1].split(/<\/\w*:?author>/).forEach(function(l){if(!(l===""||l.trim()==="")){var o=l.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&a.push(o[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(l){if(!(l===""||l.trim()==="")){var o=l.match(/<(?:\w+:)?comment[^>]*>/);if(o){var c=za(o[0]),d={author:c.authorId&&a[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},u=tn(c.ref);if(!(t.sheetRows&&t.sheetRows<=u.r)){var f=l.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),p=!!f&&!!f[1]&&s8(f[1])||{r:"",t:"",h:""};d.r=p.r,p.r=="<t></t>"&&(p.t=p.h=""),d.t=(p.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(d.h=p.h),r.push(d)}}}}),r}function yV(e){var t=[Un,Qt("comments",null,{xmlns:Im[0]})],a=[];return t.push("<authors>"),e.forEach(function(r){r[1].forEach(function(n){var i=ar(n.a);a.indexOf(i)==-1&&(a.push(i),t.push("<author>"+i+"</author>")),n.T&&n.ID&&a.indexOf("tc="+n.ID)==-1&&(a.push("tc="+n.ID),t.push("<author>tc="+n.ID+"</author>"))})}),a.length==0&&(a.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(r){var n=0,i=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?n=a.indexOf("tc="+r[1][0].ID):r[1].forEach(function(c){c.a&&(n=a.indexOf(ar(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+r[0]+'" authorId="'+n+'"><text>'),i.length<=1)t.push(Xi("t",ar(i[0]||"")));else{for(var l=`Comment:
    `+i[0]+`
`,o=1;o<i.length;++o)l+=`Reply:
    `+i[o]+`
`;t.push(Xi("t",ar(l)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function Cpe(e,t){var a=[],r=!1,n={},i=0;return e.replace(Cl,function(o,c){var d=za(o);switch(yu(d[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":n={author:d.personId,guid:d.id,ref:d.ref,T:1};break;case"</threadedComment>":n.t!=null&&a.push(n);break;case"<text>":case"<text":i=c+o.length;break;case"</text>":n.t=e.slice(i,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+d[0]+" in threaded comments")}return o}),a}function Ape(e,t,a){var r=[Un,Qt("ThreadedComments",null,{xmlns:oi.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(n){var i="";(n[1]||[]).forEach(function(l,o){if(!l.T){delete l.ID;return}l.a&&t.indexOf(l.a)==-1&&t.push(l.a);var c={ref:n[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+a.tcid++).slice(-12)+"}"};o==0?i=c.id:c.parentId=i,l.ID=c.id,l.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(l.a)).slice(-12)+"}"),r.push(Qt("threadedComment",Xi("text",l.t||""),c))})}),r.push("</ThreadedComments>"),r.join("")}function _pe(e,t){var a=[],r=!1;return e.replace(Cl,function(i){var l=za(i);switch(yu(l[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":a.push({name:l.displayname,id:l.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+l[0]+" in threaded comments")}return i}),a}function Epe(e){var t=[Un,Qt("personList",null,{xmlns:oi.TCMNT,"xmlns:x":Im[0]}).replace(/[\/]>/,">")];return e.forEach(function(a,r){t.push(Qt("person",null,{displayName:a,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:a,providerId:"None"}))}),t.push("</personList>"),t.join("")}function Tpe(e){var t={};t.iauthor=e.read_shift(4);var a=zm(e);return t.rfx=a.s,t.ref=Oa(a.s),e.l+=16,t}function Dpe(e,t){return t==null&&(t=kt(36)),t.write_shift(4,e[1].iauthor),Bx(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var Ppe=wl;function Mpe(e){return Ti(e.slice(0,54))}function Lpe(e,t){var a=[],r=[],n={},i=!1;return Ah(e,function(o,c,d){switch(d){case 632:r.push(o);break;case 635:n=o;break;case 637:n.t=o.t,n.h=o.h,n.r=o.r;break;case 636:if(n.author=r[n.iauthor],delete n.iauthor,t.sheetRows&&n.rfx&&t.sheetRows<=n.rfx.r)break;n.t||(n.t=""),delete n.rfx,a.push(n);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}),a}function Ope(e){var t=vo(),a=[];return Ht(t,628),Ht(t,630),e.forEach(function(r){r[1].forEach(function(n){a.indexOf(n.a)>-1||(a.push(n.a.slice(0,54)),Ht(t,632,Mpe(n.a)))})}),Ht(t,631),Ht(t,633),e.forEach(function(r){r[1].forEach(function(n){n.iauthor=a.indexOf(n.a);var i={s:tn(r[0]),e:tn(r[0])};Ht(t,635,Dpe([i,n])),n.t&&n.t.length>0&&Ht(t,637,she(n)),Ht(t,636),delete n.iauthor})}),Ht(t,634),Ht(t,629),t.end()}var Rpe="application/vnd.ms-office.vbaProject";function Fpe(e){var t=ka.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(a,r){if(!(a.slice(-1)==="/"||!a.match(/_VBA_PROJECT_CUR/))){var n=a.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");ka.utils.cfb_add(t,n,e.FileIndex[r].content)}}),ka.write(t)}function Ipe(e,t){t.FullPaths.forEach(function(a,r){if(r!=0){var n=a.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");n.slice(-1)!=="/"&&ka.utils.cfb_add(e,n,t.FileIndex[r].content)}})}var wV=["xlsb","xlsm","xlam","biff8","xla"];function Bpe(){return{"!type":"dialog"}}function $pe(){return{"!type":"dialog"}}function Upe(){return{"!type":"macro"}}function zpe(){return{"!type":"macro"}}var tx=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function a(r,n,i,l){var o=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),l.length==0?o=!0:l.charAt(0)=="["&&(o=!0,l=l.slice(1,-1));var d=i.length>0?parseInt(i,10)|0:0,u=l.length>0?parseInt(l,10)|0:0;return o?u+=t.c:--u,c?d+=t.r:--d,n+(o?"":"$")+en(u)+(c?"":"$")+Rn(d)}return function(n,i){return t=i,n.replace(e,a)}})(),l8=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,o8=(function(){return function(t,a){return t.replace(l8,function(r,n,i,l,o,c){var d=KA(l)-(i?0:a.c),u=GA(c)-(o?0:a.r),f=u==0?"":o?u+1:"["+u+"]",p=d==0?"":i?d+1:"["+d+"]";return n+"R"+f+"C"+p})}})();function jV(e,t){return e.replace(l8,function(a,r,n,i,l,o){return r+(n=="$"?n+i:en(KA(i)+t.c))+(l=="$"?l+o:Rn(GA(o)+t.r))})}function Hpe(e,t,a){var r=bo(t),n=r.s,i=tn(a),l={r:i.r-n.r,c:i.c-n.c};return jV(e,l)}function Vpe(e){return e.length!=1}function XM(e){return e.replace(/_xlfn\./g,"")}function Vn(e){e.l+=1}function Ff(e,t){var a=e.read_shift(2);return[a&16383,a>>14&1,a>>15&1]}function NV(e,t,a){var r=2;if(a){if(a.biff>=2&&a.biff<=5)return kV(e);a.biff==12&&(r=4)}var n=e.read_shift(r),i=e.read_shift(r),l=Ff(e),o=Ff(e);return{s:{r:n,c:l[0],cRel:l[1],rRel:l[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function kV(e){var t=Ff(e),a=Ff(e),r=e.read_shift(1),n=e.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:a[0],c:n,cRel:a[1],rRel:a[2]}}}function Wpe(e,t,a){if(a.biff<8)return kV(e);var r=e.read_shift(a.biff==12?4:2),n=e.read_shift(a.biff==12?4:2),i=Ff(e),l=Ff(e);return{s:{r,c:i[0],cRel:i[1],rRel:i[2]},e:{r:n,c:l[0],cRel:l[1],rRel:l[2]}}}function SV(e,t,a){if(a&&a.biff>=2&&a.biff<=5)return qpe(e);var r=e.read_shift(a&&a.biff==12?4:2),n=Ff(e);return{r,c:n[0],cRel:n[1],rRel:n[2]}}function qpe(e){var t=Ff(e),a=e.read_shift(1);return{r:t[0],c:a,cRel:t[1],rRel:t[2]}}function Gpe(e){var t=e.read_shift(2),a=e.read_shift(2);return{r:t,c:a&255,fQuoted:!!(a&16384),cRel:a>>15,rRel:a>>15}}function Kpe(e,t,a){var r=a&&a.biff?a.biff:8;if(r>=2&&r<=5)return Ype(e);var n=e.read_shift(r>=12?4:2),i=e.read_shift(2),l=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;n>524287;)n-=1048576;if(l==1)for(;i>8191;)i=i-16384;return{r:n,c:i,cRel:l,rRel:o}}function Ype(e){var t=e.read_shift(2),a=e.read_shift(1),r=(t&32768)>>15,n=(t&16384)>>14;return t&=16383,r==1&&t>=8192&&(t=t-16384),n==1&&a>=128&&(a=a-256),{r:t,c:a,cRel:n,rRel:r}}function Xpe(e,t,a){var r=(e[e.l++]&96)>>5,n=NV(e,a.biff>=2&&a.biff<=5?6:8,a);return[r,n]}function Jpe(e,t,a){var r=(e[e.l++]&96)>>5,n=e.read_shift(2,"i"),i=8;if(a)switch(a.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var l=NV(e,i,a);return[r,n,l]}function Qpe(e,t,a){var r=(e[e.l++]&96)>>5;return e.l+=a&&a.biff>8?12:a.biff<8?6:8,[r]}function Zpe(e,t,a){var r=(e[e.l++]&96)>>5,n=e.read_shift(2),i=8;if(a)switch(a.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[r,n]}function exe(e,t,a){var r=(e[e.l++]&96)>>5,n=Wpe(e,t-1,a);return[r,n]}function txe(e,t,a){var r=(e[e.l++]&96)>>5;return e.l+=a.biff==2?6:a.biff==12?14:7,[r]}function JM(e){var t=e[e.l+1]&1,a=1;return e.l+=4,[t,a]}function axe(e,t,a){e.l+=2;for(var r=e.read_shift(a&&a.biff==2?1:2),n=[],i=0;i<=r;++i)n.push(e.read_shift(a&&a.biff==2?1:2));return n}function sxe(e,t,a){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(a&&a.biff==2?1:2)]}function rxe(e,t,a){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(a&&a.biff==2?1:2)]}function nxe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function ixe(e,t,a){var r=e[e.l+1]&255?1:0;return e.l+=a&&a.biff==2?3:4,[r]}function CV(e){var t=e.read_shift(1),a=e.read_shift(1);return[t,a]}function lxe(e){return e.read_shift(2),CV(e)}function oxe(e){return e.read_shift(2),CV(e)}function cxe(e,t,a){var r=(e[e.l]&96)>>5;e.l+=1;var n=SV(e,0,a);return[r,n]}function dxe(e,t,a){var r=(e[e.l]&96)>>5;e.l+=1;var n=Kpe(e,0,a);return[r,n]}function uxe(e,t,a){var r=(e[e.l]&96)>>5;e.l+=1;var n=e.read_shift(2);a&&a.biff==5&&(e.l+=12);var i=SV(e,0,a);return[r,n,i]}function hxe(e,t,a){var r=(e[e.l]&96)>>5;e.l+=1;var n=e.read_shift(a&&a.biff<=3?1:2);return[pge[n],EV[n],r]}function fxe(e,t,a){var r=e[e.l++],n=e.read_shift(1),i=a&&a.biff<=3?[r==88?-1:0,e.read_shift(1)]:mxe(e);return[n,(i[0]===0?EV:mge)[i[1]]]}function mxe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function pxe(e,t,a){e.l+=a&&a.biff==2?3:4}function xxe(e,t,a){if(e.l++,a&&a.biff==12)return[e.read_shift(4,"i"),0];var r=e.read_shift(2),n=e.read_shift(a&&a.biff==2?1:2);return[r,n]}function gxe(e){return e.l++,_h[e.read_shift(1)]}function vxe(e){return e.l++,e.read_shift(2)}function bxe(e){return e.l++,e.read_shift(1)!==0}function yxe(e){return e.l++,vl(e)}function wxe(e,t,a){return e.l++,tb(e,t-1,a)}function jxe(e,t){var a=[e.read_shift(1)];if(t==12)switch(a[0]){case 2:a[0]=4;break;case 4:a[0]=16;break;case 0:a[0]=1;break;case 1:a[0]=2;break}switch(a[0]){case 4:a[1]=En(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:a[1]=_h[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:a[1]=vl(e);break;case 2:a[1]=Hm(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+a[0])}return a}function Nxe(e,t,a){for(var r=e.read_shift(a.biff==12?4:2),n=[],i=0;i!=r;++i)n.push((a.biff==12?zm:iN)(e));return n}function kxe(e,t,a){var r=0,n=0;a.biff==12?(r=e.read_shift(4),n=e.read_shift(4)):(n=1+e.read_shift(1),r=1+e.read_shift(2)),a.biff>=2&&a.biff<8&&(--r,--n==0&&(n=256));for(var i=0,l=[];i!=r&&(l[i]=[]);++i)for(var o=0;o!=n;++o)l[i][o]=jxe(e,a.biff);return l}function Sxe(e,t,a){var r=e.read_shift(1)>>>5&3,n=!a||a.biff>=8?4:2,i=e.read_shift(n);switch(a.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[r,0,i]}function Cxe(e,t,a){if(a.biff==5)return Axe(e);var r=e.read_shift(1)>>>5&3,n=e.read_shift(2),i=e.read_shift(4);return[r,n,i]}function Axe(e){var t=e.read_shift(1)>>>5&3,a=e.read_shift(2,"i");e.l+=8;var r=e.read_shift(2);return e.l+=12,[t,a,r]}function _xe(e,t,a){var r=e.read_shift(1)>>>5&3;e.l+=a&&a.biff==2?3:4;var n=e.read_shift(a&&a.biff==2?1:2);return[r,n]}function Exe(e,t,a){var r=e.read_shift(1)>>>5&3,n=e.read_shift(a&&a.biff==2?1:2);return[r,n]}function Txe(e,t,a){var r=e.read_shift(1)>>>5&3;return e.l+=4,a.biff<8&&e.l--,a.biff==12&&(e.l+=2),[r]}function Dxe(e,t,a){var r=(e[e.l++]&96)>>5,n=e.read_shift(2),i=4;if(a)switch(a.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[r,n]}var Pxe=Nl,Mxe=Nl,Lxe=Nl;function sb(e,t,a){return e.l+=2,[Gpe(e)]}function c8(e){return e.l+=6,[]}var Oxe=sb,Rxe=c8,Fxe=c8,Ixe=sb;function AV(e){return e.l+=2,[qn(e),e.read_shift(2)&1]}var Bxe=sb,$xe=AV,Uxe=c8,zxe=sb,Hxe=sb,Vxe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Wxe(e){e.l+=2;var t=e.read_shift(2),a=e.read_shift(2),r=e.read_shift(4),n=e.read_shift(2),i=e.read_shift(2),l=Vxe[a>>2&31];return{ixti:t,coltype:a&3,rt:l,idx:r,c:n,C:i}}function qxe(e){return e.l+=2,[e.read_shift(4)]}function Gxe(e,t,a){return e.l+=5,e.l+=2,e.l+=a.biff==2?1:4,["PTGSHEET"]}function Kxe(e,t,a){return e.l+=a.biff==2?4:5,["PTGENDSHEET"]}function Yxe(e){var t=e.read_shift(1)>>>5&3,a=e.read_shift(2);return[t,a]}function Xxe(e){var t=e.read_shift(1)>>>5&3,a=e.read_shift(2);return[t,a]}function Jxe(e){return e.l+=4,[0,0]}var QM={1:{n:"PtgExp",f:xxe},2:{n:"PtgTbl",f:Lxe},3:{n:"PtgAdd",f:Vn},4:{n:"PtgSub",f:Vn},5:{n:"PtgMul",f:Vn},6:{n:"PtgDiv",f:Vn},7:{n:"PtgPower",f:Vn},8:{n:"PtgConcat",f:Vn},9:{n:"PtgLt",f:Vn},10:{n:"PtgLe",f:Vn},11:{n:"PtgEq",f:Vn},12:{n:"PtgGe",f:Vn},13:{n:"PtgGt",f:Vn},14:{n:"PtgNe",f:Vn},15:{n:"PtgIsect",f:Vn},16:{n:"PtgUnion",f:Vn},17:{n:"PtgRange",f:Vn},18:{n:"PtgUplus",f:Vn},19:{n:"PtgUminus",f:Vn},20:{n:"PtgPercent",f:Vn},21:{n:"PtgParen",f:Vn},22:{n:"PtgMissArg",f:Vn},23:{n:"PtgStr",f:wxe},26:{n:"PtgSheet",f:Gxe},27:{n:"PtgEndSheet",f:Kxe},28:{n:"PtgErr",f:gxe},29:{n:"PtgBool",f:bxe},30:{n:"PtgInt",f:vxe},31:{n:"PtgNum",f:yxe},32:{n:"PtgArray",f:txe},33:{n:"PtgFunc",f:hxe},34:{n:"PtgFuncVar",f:fxe},35:{n:"PtgName",f:Sxe},36:{n:"PtgRef",f:cxe},37:{n:"PtgArea",f:Xpe},38:{n:"PtgMemArea",f:_xe},39:{n:"PtgMemErr",f:Pxe},40:{n:"PtgMemNoMem",f:Mxe},41:{n:"PtgMemFunc",f:Exe},42:{n:"PtgRefErr",f:Txe},43:{n:"PtgAreaErr",f:Qpe},44:{n:"PtgRefN",f:dxe},45:{n:"PtgAreaN",f:exe},46:{n:"PtgMemAreaN",f:Yxe},47:{n:"PtgMemNoMemN",f:Xxe},57:{n:"PtgNameX",f:Cxe},58:{n:"PtgRef3d",f:uxe},59:{n:"PtgArea3d",f:Jpe},60:{n:"PtgRefErr3d",f:Dxe},61:{n:"PtgAreaErr3d",f:Zpe},255:{}},Qxe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Zxe={1:{n:"PtgElfLel",f:AV},2:{n:"PtgElfRw",f:zxe},3:{n:"PtgElfCol",f:Oxe},6:{n:"PtgElfRwV",f:Hxe},7:{n:"PtgElfColV",f:Ixe},10:{n:"PtgElfRadical",f:Bxe},11:{n:"PtgElfRadicalS",f:Uxe},13:{n:"PtgElfColS",f:Rxe},15:{n:"PtgElfColSV",f:Fxe},16:{n:"PtgElfRadicalLel",f:$xe},25:{n:"PtgList",f:Wxe},29:{n:"PtgSxName",f:qxe},255:{}},ege={0:{n:"PtgAttrNoop",f:Jxe},1:{n:"PtgAttrSemi",f:ixe},2:{n:"PtgAttrIf",f:rxe},4:{n:"PtgAttrChoose",f:axe},8:{n:"PtgAttrGoto",f:sxe},16:{n:"PtgAttrSum",f:pxe},32:{n:"PtgAttrBaxcel",f:JM},33:{n:"PtgAttrBaxcel",f:JM},64:{n:"PtgAttrSpace",f:lxe},65:{n:"PtgAttrSpaceSemi",f:oxe},128:{n:"PtgAttrIfError",f:nxe},255:{}};function rb(e,t,a,r){if(r.biff<8)return Nl(e,t);for(var n=e.l+t,i=[],l=0;l!==a.length;++l)switch(a[l][0]){case"PtgArray":a[l][1]=kxe(e,0,r),i.push(a[l][1]);break;case"PtgMemArea":a[l][2]=Nxe(e,a[l][1],r),i.push(a[l][2]);break;case"PtgExp":r&&r.biff==12&&(a[l][1][1]=e.read_shift(4),i.push(a[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+a[l][0]}return t=n-e.l,t!==0&&i.push(Nl(e,t)),i}function nb(e,t,a){for(var r=e.l+t,n,i,l=[];r!=e.l;)t=r-e.l,i=e[e.l],n=QM[i]||QM[Qxe[i]],(i===24||i===25)&&(n=(i===24?Zxe:ege)[e[e.l+1]]),!n||!n.f?Nl(e,t):l.push([n.n,n.f(e,t,a)]);return l}function tge(e){for(var t=[],a=0;a<e.length;++a){for(var r=e[a],n=[],i=0;i<r.length;++i){var l=r[i];if(l)switch(l[0]){case 2:n.push('"'+l[1].replace(/"/g,'""')+'"');break;default:n.push(l[1])}else n.push("")}t.push(n.join(","))}return t.join(";")}var age={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function sge(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function _V(e,t,a){if(!e)return"SH33TJSERR0";if(a.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var r=e.XTI[t];if(a.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!r)return"SH33TJSERR1";var n="";if(a.biff>8)switch(e[r[0]][0]){case 357:return n=r[1]==-1?"#REF":e.SheetNames[r[1]],r[1]==r[2]?n:n+":"+e.SheetNames[r[2]];case 358:return a.SID!=null?e.SheetNames[a.SID]:"SH33TJSSAME"+e[r[0]][0];case 355:default:return"SH33TJSSRC"+e[r[0]][0]}switch(e[r[0]][0][0]){case 1025:return n=r[1]==-1?"#REF":e.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?n:n+":"+e.SheetNames[r[2]];case 14849:return e[r[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[r[0]][0][3]?(n=r[1]==-1?"#REF":e[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?n:n+":"+e[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function ZM(e,t,a){var r=_V(e,t,a);return r=="#REF"?r:sge(r,a)}function ml(e,t,a,r,n){var i=n&&n.biff||8,l={s:{c:0,r:0}},o=[],c,d,u,f=0,p=0,m,v="";if(!e[0]||!e[0][0])return"";for(var g=-1,b="",j=0,k=e[0].length;j<k;++j){var S=e[0][j];switch(S[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),d=o.pop(),g>=0){switch(e[0][g][1][0]){case 0:b=mn(" ",e[0][g][1][1]);break;case 1:b=mn("\r",e[0][g][1][1]);break;default:if(b="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}d=d+b,g=-1}o.push(d+age[S[0]]+c);break;case"PtgIsect":c=o.pop(),d=o.pop(),o.push(d+" "+c);break;case"PtgUnion":c=o.pop(),d=o.pop(),o.push(d+","+c);break;case"PtgRange":c=o.pop(),d=o.pop(),o.push(d+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=_v(S[1][1],l,n),o.push(Ev(u,i));break;case"PtgRefN":u=a?_v(S[1][1],a,n):S[1][1],o.push(Ev(u,i));break;case"PtgRef3d":f=S[1][1],u=_v(S[1][2],l,n),v=ZM(r,f,n),o.push(v+"!"+Ev(u,i));break;case"PtgFunc":case"PtgFuncVar":var N=S[1][0],A=S[1][1];N||(N=0),N&=127;var _=N==0?[]:o.slice(-N);o.length-=N,A==="User"&&(A=_.shift()),o.push(A+"("+_.join(",")+")");break;case"PtgBool":o.push(S[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(S[1]);break;case"PtgNum":o.push(String(S[1]));break;case"PtgStr":o.push('"'+S[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(S[1]);break;case"PtgAreaN":m=_M(S[1][1],a?{s:a}:l,n),o.push(V5(m,n));break;case"PtgArea":m=_M(S[1][1],l,n),o.push(V5(m,n));break;case"PtgArea3d":f=S[1][1],m=S[1][2],v=ZM(r,f,n),o.push(v+"!"+V5(m,n));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=S[1][2];var E=(r.names||[])[p-1]||(r[0]||[])[p],D=E?E.Name:"SH33TJSNAME"+String(p);D&&D.slice(0,6)=="_xlfn."&&!n.xlfn&&(D=D.slice(6)),o.push(D);break;case"PtgNameX":var R=S[1][1];p=S[1][2];var I;if(n.biff<=5)R<0&&(R=-R),r[R]&&(I=r[R][p]);else{var M="";if(((r[R]||[])[0]||[])[0]==14849||(((r[R]||[])[0]||[])[0]==1025?r[R][p]&&r[R][p].itab>0&&(M=r.SheetNames[r[R][p].itab-1]+"!"):M=r.SheetNames[p-1]+"!"),r[R]&&r[R][p])M+=r[R][p].Name;else if(r[0]&&r[0][p])M+=r[0][p].Name;else{var U=(_V(r,R,n)||"").split(";;");U[p-1]?M=U[p-1]:M+="SH33TJSERRX"}o.push(M);break}I||(I={Name:"SH33TJSERRY"}),o.push(I.Name);break;case"PtgParen":var P="(",F=")";if(g>=0){switch(b="",e[0][g][1][0]){case 2:P=mn(" ",e[0][g][1][1])+P;break;case 3:P=mn("\r",e[0][g][1][1])+P;break;case 4:F=mn(" ",e[0][g][1][1])+F;break;case 5:F=mn("\r",e[0][g][1][1])+F;break;default:if(n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}g=-1}o.push(P+o.pop()+F);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:S[1][1],r:S[1][0]};var K={c:a.c,r:a.r};if(r.sharedf[Oa(u)]){var V=r.sharedf[Oa(u)];o.push(ml(V,l,K,r,n))}else{var J=!1;for(c=0;c!=r.arrayf.length;++c)if(d=r.arrayf[c],!(u.c<d[0].s.c||u.c>d[0].e.c)&&!(u.r<d[0].s.r||u.r>d[0].e.r)){o.push(ml(d[1],l,K,r,n)),J=!0;break}J||o.push(S[1])}break;case"PtgArray":o.push("{"+tge(S[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=j;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+S[1].idx+"[#"+S[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(S));default:throw new Error("Unrecognized Formula Token: "+String(S))}var Q=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(n.biff!=3&&g>=0&&Q.indexOf(e[0][j][0])==-1){S=e[0][g];var z=!0;switch(S[1][0]){case 4:z=!1;case 0:b=mn(" ",S[1][1]);break;case 5:z=!1;case 1:b=mn("\r",S[1][1]);break;default:if(b="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+S[1][0])}o.push((z?b:"")+o.pop()+(z?"":b)),g=-1}}if(o.length>1&&n.WTF)throw new Error("bad formula stack");return o[0]}function rge(e,t,a){var r=e.l+t,n=a.biff==2?1:2,i,l=e.read_shift(n);if(l==65535)return[[],Nl(e,t-2)];var o=nb(e,l,a);return t!==l+n&&(i=rb(e,t-l-n,o,a)),e.l=r,[o,i]}function nge(e,t,a){var r=e.l+t,n=a.biff==2?1:2,i,l=e.read_shift(n);if(l==65535)return[[],Nl(e,t-2)];var o=nb(e,l,a);return t!==l+n&&(i=rb(e,t-l-n,o,a)),e.l=r,[o,i]}function ige(e,t,a,r){var n=e.l+t,i=nb(e,r,a),l;return n!==e.l&&(l=rb(e,n-e.l,i,a)),[i,l]}function lge(e,t,a){var r=e.l+t,n,i=e.read_shift(2),l=nb(e,i,a);return i==65535?[[],Nl(e,t-2)]:(t!==i+2&&(n=rb(e,r-i-2,l,a)),[l,n])}function oge(e){var t;if(ah(e,e.l+6)!==65535)return[vl(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function cge(e){if(e==null){var t=kt(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return wm(e);return wm(0)}function Y5(e,t,a){var r=e.l+t,n=wu(e);a.biff==2&&++e.l;var i=oge(e),l=e.read_shift(1);a.biff!=2&&(e.read_shift(1),a.biff>=5&&e.read_shift(4));var o=nge(e,r-e.l,a);return{cell:n,val:i[0],formula:o,shared:l>>3&1,tt:i[1]}}function dge(e,t,a,r,n){var i=Nm(t,a,n),l=cge(e.v),o=kt(6),c=33;o.write_shift(2,c),o.write_shift(4,0);for(var d=kt(e.bf.length),u=0;u<e.bf.length;++u)d[u]=e.bf[u];var f=_i([i,l,o,d]);return f}function lN(e,t,a){var r=e.read_shift(4),n=nb(e,r,a),i=e.read_shift(4),l=i>0?rb(e,i,n,a):null;return[n,l]}var uge=lN,oN=lN,hge=lN,fge=lN,mge={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},EV={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},pge={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function eL(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,a){return a.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function xge(e){var t="of:="+e.replace(l8,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function X5(e){var t=e.split(":"),a=t[0].split(".")[0];return[a,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function gge(e){return e.replace(/\./,"!")}var Dv={},ax={},Pv=typeof Map<"u";function d8(e,t,a){var r=0,n=e.length;if(a){if(Pv?a.has(t):Object.prototype.hasOwnProperty.call(a,t)){for(var i=Pv?a.get(t):a[t];r<i.length;++r)if(e[i[r]].t===t)return e.Count++,i[r]}}else for(;r<n;++r)if(e[r].t===t)return e.Count++,r;return e[n]={t},e.Count++,e.Unique++,a&&(Pv?(a.has(t)||a.set(t,[]),a.get(t).push(n)):(Object.prototype.hasOwnProperty.call(a,t)||(a[t]=[]),a[t].push(n))),n}function cN(e,t){var a={min:e+1,max:e+1},r=-1;return t.MDW&&(pl=t.MDW),t.width!=null?a.customWidth=1:t.wpx!=null?r=m1(t.wpx):t.wch!=null&&(r=t.wch),r>-1?(a.width=Cw(r),a.customWidth=1):t.width!=null&&(a.width=t.width),t.hidden&&(a.hidden=!0),t.level!=null&&(a.outlineLevel=a.level=t.level),a}function rm(e,t){if(e){var a=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(a=[1,1,1,1,.5,.5]),e.left==null&&(e.left=a[0]),e.right==null&&(e.right=a[1]),e.top==null&&(e.top=a[2]),e.bottom==null&&(e.bottom=a[3]),e.header==null&&(e.header=a[4]),e.footer==null&&(e.footer=a[5])}}function Jf(e,t,a){var r=a.revssf[t.z!=null?t.z:"General"],n=60,i=e.length;if(r==null&&a.ssf){for(;n<392;++n)if(a.ssf[n]==null){ch(t.z,n),a.ssf[n]=t.z,a.revssf[t.z]=r=n;break}}for(n=0;n!=i;++n)if(e[n].numFmtId===r)return n;return e[i]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function TV(e,t,a,r,n,i){try{r.cellNF&&(e.z=Ma[t])}catch(o){if(r.WTF)throw o}if(!(e.t==="z"&&!r.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Sr(e.v)),(!r||r.cellText!==!1)&&e.t!=="z")try{if(Ma[t]==null&&ch(mue[t]||"General",t),e.t==="e")e.w=e.w||_h[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=l1(e.v);else if(e.t==="d"){var l=ui(e.v);(l|0)===l?e.w=l.toString(10):e.w=l1(l)}else{if(e.v===void 0)return"";e.w=bm(e.v,ax)}else e.t==="d"?e.w=Oc(t,ui(e.v),ax):e.w=Oc(t,e.v,ax)}catch(o){if(r.WTF)throw o}if(r.cellStyles&&a!=null)try{e.s=i.Fills[a],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=Sw(n.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),r.WTF&&(e.s.fgColor.raw_rgb=n.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=Sw(n.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),r.WTF&&(e.s.bgColor.raw_rgb=n.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(r.WTF&&i.Fills)throw o}}}function vge(e,t,a){if(e&&e["!ref"]){var r=Rs(e["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+a+"): "+e["!ref"])}}function bge(e,t){var a=Rs(t);a.s.r<=a.e.r&&a.s.c<=a.e.c&&a.s.r>=0&&a.s.c>=0&&(e["!ref"]=ns(a))}var yge=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,wge=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,jge=/<(?:\w:)?hyperlink [^>]*>/mg,Nge=/"(\w*:\w*)"/,kge=/<(?:\w:)?col\b[^>]*[\/]?>/g,Sge=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Cge=/<(?:\w:)?pageMargins[^>]*\/>/g,DV=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,Age=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,_ge=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Ege(e,t,a,r,n,i,l){if(!e)return e;r||(r={"!id":{}});var o=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},d="",u="",f=e.match(wge);f?(d=e.slice(0,f.index),u=e.slice(f.index+f[0].length)):d=u=e;var p=d.match(DV);p?u8(p[0],o,n,a):(p=d.match(Age))&&Dge(p[0],p[1]||"",o,n,a);var m=(d.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(m>0){var v=d.slice(m,m+50).match(Nge);v&&bge(o,v[1])}var g=d.match(_ge);g&&g[1]&&Vge(g[1],n);var b=[];if(t.cellStyles){var j=d.match(kge);j&&Bge(b,j)}f&&Gge(f[1],o,t,c,i,l);var k=u.match(Sge);k&&(o["!autofilter"]=Uge(k[0]));var S=[],N=u.match(yge);if(N)for(m=0;m!=N.length;++m)S[m]=Rs(N[m].slice(N[m].indexOf('"')+1));var A=u.match(jge);A&&Rge(o,A,r);var _=u.match(Cge);if(_&&(o["!margins"]=Fge(za(_[0]))),!o["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(o["!ref"]=ns(c)),t.sheetRows>0&&o["!ref"]){var E=Rs(o["!ref"]);t.sheetRows<=+E.e.r&&(E.e.r=t.sheetRows-1,E.e.r>c.e.r&&(E.e.r=c.e.r),E.e.r<E.s.r&&(E.s.r=E.e.r),E.e.c>c.e.c&&(E.e.c=c.e.c),E.e.c<E.s.c&&(E.s.c=E.e.c),o["!fullref"]=o["!ref"],o["!ref"]=ns(E))}return b.length>0&&(o["!cols"]=b),S.length>0&&(o["!merges"]=S),o}function Tge(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',a=0;a!=e.length;++a)t+='<mergeCell ref="'+ns(e[a])+'"/>';return t+"</mergeCells>"}function u8(e,t,a,r){var n=za(e);a.Sheets[r]||(a.Sheets[r]={}),n.codeName&&(a.Sheets[r].CodeName=Os(or(n.codeName)))}function Dge(e,t,a,r,n){u8(e.slice(0,e.indexOf(">")),a,r,n)}function Pge(e,t,a,r,n){var i=!1,l={},o=null;if(r.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[a];try{t.Workbook&&(c=t.Workbook.Sheets[a].CodeName||c)}catch{}i=!0,l.codeName=cu(ar(c))}if(e&&e["!outline"]){var d={summaryBelow:1,summaryRight:1};e["!outline"].above&&(d.summaryBelow=0),e["!outline"].left&&(d.summaryRight=0),o=(o||"")+Qt("outlinePr",null,d)}!i&&!o||(n[n.length]=Qt("sheetPr",o,l))}var Mge=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Lge=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function Oge(e){var t={sheet:1};return Mge.forEach(function(a){e[a]!=null&&e[a]&&(t[a]="1")}),Lge.forEach(function(a){e[a]!=null&&!e[a]&&(t[a]="0")}),e.password&&(t.password=r8(e.password).toString(16).toUpperCase()),Qt("sheetProtection",null,t)}function Rge(e,t,a){for(var r=Array.isArray(e),n=0;n!=t.length;++n){var i=za(or(t[n]),!0);if(!i.ref)return;var l=((a||{})["!id"]||[])[i.id];l?(i.Target=l.Target,i.location&&(i.Target+="#"+Os(i.location))):(i.Target="#"+Os(i.location),l={Target:i.Target,TargetMode:"Internal"}),i.Rel=l,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=Rs(i.ref),c=o.s.r;c<=o.e.r;++c)for(var d=o.s.c;d<=o.e.c;++d){var u=Oa({c:d,r:c});r?(e[c]||(e[c]=[]),e[c][d]||(e[c][d]={t:"z",v:void 0}),e[c][d].l=i):(e[u]||(e[u]={t:"z",v:void 0}),e[u].l=i)}}}function Fge(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(a){e[a]&&(t[a]=parseFloat(e[a]))}),t}function Ige(e){return rm(e),Qt("pageMargins",null,e)}function Bge(e,t){for(var a=!1,r=0;r!=t.length;++r){var n=za(t[r],!0);n.hidden&&(n.hidden=jr(n.hidden));var i=parseInt(n.min,10)-1,l=parseInt(n.max,10)-1;for(n.outlineLevel&&(n.level=+n.outlineLevel||0),delete n.min,delete n.max,n.width=+n.width,!a&&n.width&&(a=!0,n8(n.width)),Rf(n);i<=l;)e[i++]=Cr(n)}}function $ge(e,t){for(var a=["<cols>"],r,n=0;n!=t.length;++n)(r=t[n])&&(a[a.length]=Qt("col",null,cN(n,r)));return a[a.length]="</cols>",a.join("")}function Uge(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function zge(e,t,a,r){var n=typeof e.ref=="string"?e.ref:ns(e.ref);a.Workbook||(a.Workbook={Sheets:[]}),a.Workbook.Names||(a.Workbook.Names=[]);var i=a.Workbook.Names,l=bo(n);l.s.r==l.e.r&&(l.e.r=bo(t["!ref"]).e.r,n=ns(l));for(var o=0;o<i.length;++o){var c=i[o];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==r){c.Ref="'"+a.SheetNames[r]+"'!"+n;break}}return o==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+a.SheetNames[r]+"'!"+n}),Qt("autoFilter",null,{ref:n})}var Hge=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function Vge(e,t){t.Views||(t.Views=[{}]),(e.match(Hge)||[]).forEach(function(a,r){var n=za(a);t.Views[r]||(t.Views[r]={}),+n.zoomScale&&(t.Views[r].zoom=+n.zoomScale),jr(n.rightToLeft)&&(t.Views[r].RTL=!0)})}function Wge(e,t,a,r){var n={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(n.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),Qt("sheetViews",Qt("sheetView",null,n),{})}function qge(e,t,a,r){if(e.c&&a["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var n="",i=e.t,l=e.v;if(e.t!=="z")switch(e.t){case"b":n=e.v?"1":"0";break;case"n":n=""+e.v;break;case"e":n=_h[e.v];break;case"d":r&&r.cellDates?n=Sr(e.v,-1).toISOString():(e=Cr(e),e.t="n",n=""+(e.v=ui(Sr(e.v)))),typeof e.z>"u"&&(e.z=Ma[14]);break;default:n=e.v;break}var o=Xi("v",ar(n)),c={r:t},d=Jf(r.cellXfs,e,r);switch(d!==0&&(c.s=d),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){o=Xi("v",""+d8(r.Strings,e.v,r.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=l),typeof e.f=="string"&&e.f){var u=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=Qt("f",ar(e.f),u)+(e.v!=null?o:"")}return e.l&&a["!links"].push([t,e.l]),e.D&&(c.cm=1),Qt("c",o,c)}var Gge=(function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,a=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,n=/ref=["']([^"']*)["']/,i=o1("v"),l=o1("f");return function(c,d,u,f,p,m){for(var v=0,g="",b=[],j=[],k=0,S=0,N=0,A="",_,E,D=0,R=0,I,M,U=0,P=0,F=Array.isArray(m.CellXf),K,V=[],J=[],Q=Array.isArray(d),z=[],X={},le=!1,O=!!u.sheetStubs,q=c.split(t),W=0,te=q.length;W!=te;++W){g=q[W].trim();var re=g.length;if(re!==0){var oe=0;e:for(v=0;v<re;++v)switch(g[v]){case">":if(g[v-1]!="/"){++v;break e}if(u&&u.cellStyles){if(E=za(g.slice(oe,v),!0),D=E.r!=null?parseInt(E.r,10):D+1,R=-1,u.sheetRows&&u.sheetRows<D)continue;X={},le=!1,E.ht&&(le=!0,X.hpt=parseFloat(E.ht),X.hpx=px(X.hpt)),E.hidden=="1"&&(le=!0,X.hidden=!0),E.outlineLevel!=null&&(le=!0,X.level=+E.outlineLevel),le&&(z[D-1]=X)}break;case"<":oe=v;break}if(oe>=v)break;if(E=za(g.slice(oe,v),!0),D=E.r!=null?parseInt(E.r,10):D+1,R=-1,!(u.sheetRows&&u.sheetRows<D)){f.s.r>D-1&&(f.s.r=D-1),f.e.r<D-1&&(f.e.r=D-1),u&&u.cellStyles&&(X={},le=!1,E.ht&&(le=!0,X.hpt=parseFloat(E.ht),X.hpx=px(X.hpt)),E.hidden=="1"&&(le=!0,X.hidden=!0),E.outlineLevel!=null&&(le=!0,X.level=+E.outlineLevel),le&&(z[D-1]=X)),b=g.slice(v).split(e);for(var ce=0;ce!=b.length&&b[ce].trim().charAt(0)=="<";++ce);for(b=b.slice(ce),v=0;v!=b.length;++v)if(g=b[v].trim(),g.length!==0){if(j=g.match(a),k=v,S=0,N=0,g="<c "+(g.slice(0,1)=="<"?">":"")+g,j!=null&&j.length===2){for(k=0,A=j[1],S=0;S!=A.length&&!((N=A.charCodeAt(S)-64)<1||N>26);++S)k=26*k+N;--k,R=k}else++R;for(S=0;S!=g.length&&g.charCodeAt(S)!==62;++S);if(++S,E=za(g.slice(0,S),!0),E.r||(E.r=Oa({r:D-1,c:R})),A=g.slice(S),_={t:""},(j=A.match(i))!=null&&j[1]!==""&&(_.v=Os(j[1])),u.cellFormula){if((j=A.match(l))!=null&&j[1]!==""){if(_.f=Os(or(j[1])).replace(/\r\n/g,`
`),u.xlfn||(_.f=XM(_.f)),j[0].indexOf('t="array"')>-1)_.F=(A.match(n)||[])[1],_.F.indexOf(":")>-1&&V.push([Rs(_.F),_.F]);else if(j[0].indexOf('t="shared"')>-1){M=za(j[0]);var G=Os(or(j[1]));u.xlfn||(G=XM(G)),J[parseInt(M.si,10)]=[M,G,E.r]}}else(j=A.match(/<f[^>]*\/>/))&&(M=za(j[0]),J[M.si]&&(_.f=Hpe(J[M.si][1],J[M.si][2],E.r)));var ie=tn(E.r);for(S=0;S<V.length;++S)ie.r>=V[S][0].s.r&&ie.r<=V[S][0].e.r&&ie.c>=V[S][0].s.c&&ie.c<=V[S][0].e.c&&(_.F=V[S][1])}if(E.t==null&&_.v===void 0)if(_.f||_.F)_.v=0,_.t="n";else if(O)_.t="z";else continue;else _.t=E.t||"n";switch(f.s.c>R&&(f.s.c=R),f.e.c<R&&(f.e.c=R),_.t){case"n":if(_.v==""||_.v==null){if(!O)continue;_.t="z"}else _.v=parseFloat(_.v);break;case"s":if(typeof _.v>"u"){if(!O)continue;_.t="z"}else I=Dv[parseInt(_.v,10)],_.v=I.t,_.r=I.r,u.cellHTML&&(_.h=I.h);break;case"str":_.t="s",_.v=_.v!=null?or(_.v):"",u.cellHTML&&(_.h=HA(_.v));break;case"inlineStr":j=A.match(r),_.t="s",j!=null&&(I=s8(j[1]))?(_.v=I.t,u.cellHTML&&(_.h=I.h)):_.v="";break;case"b":_.v=jr(_.v);break;case"d":u.cellDates?_.v=Sr(_.v,1):(_.v=ui(Sr(_.v,1)),_.t="n");break;case"e":(!u||u.cellText!==!1)&&(_.w=_.v),_.v=MH[_.v];break}if(U=P=0,K=null,F&&E.s!==void 0&&(K=m.CellXf[E.s],K!=null&&(K.numFmtId!=null&&(U=K.numFmtId),u.cellStyles&&K.fillId!=null&&(P=K.fillId))),TV(_,U,P,u,p,m),u.cellDates&&F&&_.t=="n"&&Rx(Ma[U])&&(_.t="d",_.v=nN(_.v)),E.cm&&u.xlmeta){var ye=(u.xlmeta.Cell||[])[+E.cm-1];ye&&ye.type=="XLDAPR"&&(_.D=!0)}if(Q){var se=tn(E.r);d[se.r]||(d[se.r]=[]),d[se.r][se.c]=_}else d[E.r]=_}}}}z.length>0&&(d["!rows"]=z)}})();function Kge(e,t,a,r){var n=[],i=[],l=Rs(e["!ref"]),o="",c,d="",u=[],f=0,p=0,m=e["!rows"],v=Array.isArray(e),g={r:d},b,j=-1;for(p=l.s.c;p<=l.e.c;++p)u[p]=en(p);for(f=l.s.r;f<=l.e.r;++f){for(i=[],d=Rn(f),p=l.s.c;p<=l.e.c;++p){c=u[p]+d;var k=v?(e[f]||[])[p]:e[c];k!==void 0&&(o=qge(k,c,e,t))!=null&&i.push(o)}(i.length>0||m&&m[f])&&(g={r:d},m&&m[f]&&(b=m[f],b.hidden&&(g.hidden=1),j=-1,b.hpx?j=p1(b.hpx):b.hpt&&(j=b.hpt),j>-1&&(g.ht=j,g.customHeight=1),b.level&&(g.outlineLevel=b.level)),n[n.length]=Qt("row",i.join(""),g))}if(m)for(;f<m.length;++f)m&&m[f]&&(g={r:f+1},b=m[f],b.hidden&&(g.hidden=1),j=-1,b.hpx?j=p1(b.hpx):b.hpt&&(j=b.hpt),j>-1&&(g.ht=j,g.customHeight=1),b.level&&(g.outlineLevel=b.level),n[n.length]=Qt("row","",g));return n.join("")}function PV(e,t,a,r){var n=[Un,Qt("worksheet",null,{xmlns:Im[0],"xmlns:r":oi.r})],i=a.SheetNames[e],l=0,o="",c=a.Sheets[i];c==null&&(c={});var d=c["!ref"]||"A1",u=Rs(d);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+d+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),d=ns(u)}r||(r={}),c["!comments"]=[];var f=[];Pge(c,a,e,t,n),n[n.length]=Qt("dimension",null,{ref:d}),n[n.length]=Wge(c,t,e,a),t.sheetFormat&&(n[n.length]=Qt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(n[n.length]=$ge(c,c["!cols"])),n[l=n.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(o=Kge(c,t),o.length>0&&(n[n.length]=o)),n.length>l+1&&(n[n.length]="</sheetData>",n[l]=n[l].replace("/>",">")),c["!protect"]&&(n[n.length]=Oge(c["!protect"])),c["!autofilter"]!=null&&(n[n.length]=zge(c["!autofilter"],c,a,e)),c["!merges"]!=null&&c["!merges"].length>0&&(n[n.length]=Tge(c["!merges"]));var p=-1,m,v=-1;return c["!links"].length>0&&(n[n.length]="<hyperlinks>",c["!links"].forEach(function(g){g[1].Target&&(m={ref:g[0]},g[1].Target.charAt(0)!="#"&&(v=Qs(r,-1,ar(g[1].Target).replace(/#.*$/,""),vs.HLINK),m["r:id"]="rId"+v),(p=g[1].Target.indexOf("#"))>-1&&(m.location=ar(g[1].Target.slice(p+1))),g[1].Tooltip&&(m.tooltip=ar(g[1].Tooltip)),n[n.length]=Qt("hyperlink",null,m))}),n[n.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(n[n.length]=Ige(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(n[n.length]=Xi("ignoredErrors",Qt("ignoredError",null,{numberStoredAsText:1,sqref:d}))),f.length>0&&(v=Qs(r,-1,"../drawings/drawing"+(e+1)+".xml",vs.DRAW),n[n.length]=Qt("drawing",null,{"r:id":"rId"+v}),c["!drawing"]=f),c["!comments"].length>0&&(v=Qs(r,-1,"../drawings/vmlDrawing"+(e+1)+".vml",vs.VML),n[n.length]=Qt("legacyDrawing",null,{"r:id":"rId"+v}),c["!legacy"]=v),n.length>1&&(n[n.length]="</worksheet>",n[1]=n[1].replace("/>",">")),n.join("")}function Yge(e,t){var a={},r=e.l+t;a.r=e.read_shift(4),e.l+=4;var n=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=r,i&7&&(a.level=i&7),i&16&&(a.hidden=!0),i&32&&(a.hpt=n/20),a}function Xge(e,t,a){var r=kt(145),n=(a["!rows"]||[])[e]||{};r.write_shift(4,e),r.write_shift(4,0);var i=320;n.hpx?i=p1(n.hpx)*20:n.hpt&&(i=n.hpt*20),r.write_shift(2,i),r.write_shift(1,0);var l=0;n.level&&(l|=n.level),n.hidden&&(l|=16),(n.hpx||n.hpt)&&(l|=32),r.write_shift(1,l),r.write_shift(1,0);var o=0,c=r.l;r.l+=4;for(var d={r:e,c:0},u=0;u<16;++u)if(!(t.s.c>u+1<<10||t.e.c<u<<10)){for(var f=-1,p=-1,m=u<<10;m<u+1<<10;++m){d.c=m;var v=Array.isArray(a)?(a[d.r]||[])[d.c]:a[Oa(d)];v&&(f<0&&(f=m),p=m)}f<0||(++o,r.write_shift(4,f),r.write_shift(4,p))}var g=r.l;return r.l=c,r.write_shift(4,o),r.l=g,r.length>r.l?r.slice(0,r.l):r}function Jge(e,t,a,r){var n=Xge(r,a,t);(n.length>17||(t["!rows"]||[])[r])&&Ht(e,0,n)}var Qge=zm,Zge=Bx;function eve(){}function tve(e,t){var a={},r=e[e.l];return++e.l,a.above=!(r&64),a.left=!(r&128),e.l+=18,a.name=rhe(e),a}function ave(e,t,a){a==null&&(a=kt(84+4*e.length));var r=192;t&&(t.above&&(r&=-65),t.left&&(r&=-129)),a.write_shift(1,r);for(var n=1;n<3;++n)a.write_shift(1,0);return jw({auto:1},a),a.write_shift(-4,-1),a.write_shift(-4,-1),_H(e,a),a.slice(0,a.l)}function sve(e){var t=zc(e);return[t]}function rve(e,t,a){return a==null&&(a=kt(8)),Bm(t,a)}function nve(e){var t=$m(e);return[t]}function ive(e,t,a){return a==null&&(a=kt(4)),Um(t,a)}function lve(e){var t=zc(e),a=e.read_shift(1);return[t,a,"b"]}function ove(e,t,a){return a==null&&(a=kt(9)),Bm(t,a),a.write_shift(1,e.v?1:0),a}function cve(e){var t=$m(e),a=e.read_shift(1);return[t,a,"b"]}function dve(e,t,a){return a==null&&(a=kt(5)),Um(t,a),a.write_shift(1,e.v?1:0),a}function uve(e){var t=zc(e),a=e.read_shift(1);return[t,a,"e"]}function hve(e,t,a){return a==null&&(a=kt(9)),Bm(t,a),a.write_shift(1,e.v),a}function fve(e){var t=$m(e),a=e.read_shift(1);return[t,a,"e"]}function mve(e,t,a){return a==null&&(a=kt(8)),Um(t,a),a.write_shift(1,e.v),a.write_shift(2,0),a.write_shift(1,0),a}function pve(e){var t=zc(e),a=e.read_shift(4);return[t,a,"s"]}function xve(e,t,a){return a==null&&(a=kt(12)),Bm(t,a),a.write_shift(4,t.v),a}function gve(e){var t=$m(e),a=e.read_shift(4);return[t,a,"s"]}function vve(e,t,a){return a==null&&(a=kt(8)),Um(t,a),a.write_shift(4,t.v),a}function bve(e){var t=zc(e),a=vl(e);return[t,a,"n"]}function yve(e,t,a){return a==null&&(a=kt(16)),Bm(t,a),wm(e.v,a),a}function MV(e){var t=$m(e),a=vl(e);return[t,a,"n"]}function wve(e,t,a){return a==null&&(a=kt(12)),Um(t,a),wm(e.v,a),a}function jve(e){var t=zc(e),a=QA(e);return[t,a,"n"]}function Nve(e,t,a){return a==null&&(a=kt(12)),Bm(t,a),EH(e.v,a),a}function kve(e){var t=$m(e),a=QA(e);return[t,a,"n"]}function Sve(e,t,a){return a==null&&(a=kt(8)),Um(t,a),EH(e.v,a),a}function Cve(e){var t=zc(e),a=YA(e);return[t,a,"is"]}function Ave(e){var t=zc(e),a=wl(e);return[t,a,"str"]}function _ve(e,t,a){return a==null&&(a=kt(12+4*e.v.length)),Bm(t,a),Ti(e.v,a),a.length>a.l?a.slice(0,a.l):a}function Eve(e){var t=$m(e),a=wl(e);return[t,a,"str"]}function Tve(e,t,a){return a==null&&(a=kt(8+4*e.v.length)),Um(t,a),Ti(e.v,a),a.length>a.l?a.slice(0,a.l):a}function Dve(e,t,a){var r=e.l+t,n=zc(e);n.r=a["!row"];var i=e.read_shift(1),l=[n,i,"b"];if(a.cellFormula){e.l+=2;var o=oN(e,r-e.l,a);l[3]=ml(o,null,n,a.supbooks,a)}else e.l=r;return l}function Pve(e,t,a){var r=e.l+t,n=zc(e);n.r=a["!row"];var i=e.read_shift(1),l=[n,i,"e"];if(a.cellFormula){e.l+=2;var o=oN(e,r-e.l,a);l[3]=ml(o,null,n,a.supbooks,a)}else e.l=r;return l}function Mve(e,t,a){var r=e.l+t,n=zc(e);n.r=a["!row"];var i=vl(e),l=[n,i,"n"];if(a.cellFormula){e.l+=2;var o=oN(e,r-e.l,a);l[3]=ml(o,null,n,a.supbooks,a)}else e.l=r;return l}function Lve(e,t,a){var r=e.l+t,n=zc(e);n.r=a["!row"];var i=wl(e),l=[n,i,"str"];if(a.cellFormula){e.l+=2;var o=oN(e,r-e.l,a);l[3]=ml(o,null,n,a.supbooks,a)}else e.l=r;return l}var Ove=zm,Rve=Bx;function Fve(e,t){return t==null&&(t=kt(4)),t.write_shift(4,e),t}function Ive(e,t){var a=e.l+t,r=zm(e),n=XA(e),i=wl(e),l=wl(e),o=wl(e);e.l=a;var c={rfx:r,relId:n,loc:i,display:o};return l&&(c.Tooltip=l),c}function Bve(e,t){var a=kt(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Bx({s:tn(e[0]),e:tn(e[0])},a),JA("rId"+t,a);var r=e[1].Target.indexOf("#"),n=r==-1?"":e[1].Target.slice(r+1);return Ti(n||"",a),Ti(e[1].Tooltip||"",a),Ti("",a),a.slice(0,a.l)}function $ve(){}function Uve(e,t,a){var r=e.l+t,n=TH(e),i=e.read_shift(1),l=[n];if(l[2]=i,a.cellFormula){var o=uge(e,r-e.l,a);l[1]=o}else e.l=r;return l}function zve(e,t,a){var r=e.l+t,n=zm(e),i=[n];if(a.cellFormula){var l=fge(e,r-e.l,a);i[1]=l,e.l=r}else e.l=r;return i}function Hve(e,t,a){a==null&&(a=kt(18));var r=cN(e,t);a.write_shift(-4,e),a.write_shift(-4,e),a.write_shift(4,(r.width||10)*256),a.write_shift(4,0);var n=0;return t.hidden&&(n|=1),typeof r.width=="number"&&(n|=2),t.level&&(n|=t.level<<8),a.write_shift(2,n),a}var LV=["left","right","top","bottom","header","footer"];function Vve(e){var t={};return LV.forEach(function(a){t[a]=vl(e)}),t}function Wve(e,t){return t==null&&(t=kt(48)),rm(e),LV.forEach(function(a){wm(e[a],t)}),t}function qve(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Gve(e,t,a){a==null&&(a=kt(30));var r=924;return(((t||{}).Views||[])[0]||{}).RTL&&(r|=32),a.write_shift(2,r),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(1,0),a.write_shift(1,0),a.write_shift(2,0),a.write_shift(2,100),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(4,0),a}function Kve(e){var t=kt(24);return t.write_shift(4,4),t.write_shift(4,1),Bx(e,t),t}function Yve(e,t){return t==null&&(t=kt(66)),t.write_shift(2,e.password?r8(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(a){a[1]?t.write_shift(4,e[a[0]]!=null&&!e[a[0]]?1:0):t.write_shift(4,e[a[0]]!=null&&e[a[0]]?0:1)}),t}function Xve(){}function Jve(){}function Qve(e,t,a,r,n,i,l){if(!e)return e;var o=t||{};r||(r={"!id":{}});var c=o.dense?[]:{},d,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,p=!1,m,v,g,b,j,k,S,N,A,_=[];o.biff=12,o["!row"]=0;var E=0,D=!1,R=[],I={},M=o.supbooks||n.supbooks||[[]];if(M.sharedf=I,M.arrayf=R,M.SheetNames=n.SheetNames||n.Sheets.map(function(Q){return Q.name}),!o.supbooks&&(o.supbooks=M,n.Names))for(var U=0;U<n.Names.length;++U)M[0][U+1]=n.Names[U];var P=[],F=[],K=!1;x1[16]={n:"BrtShortReal",f:MV};var V;if(Ah(e,function(z,X,le){if(!p)switch(le){case 148:d=z;break;case 0:m=z,o.sheetRows&&o.sheetRows<=m.r&&(p=!0),N=Rn(b=m.r),o["!row"]=m.r,(z.hidden||z.hpt||z.level!=null)&&(z.hpt&&(z.hpx=px(z.hpt)),F[z.r]=z);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(v={t:z[2]},z[2]){case"n":v.v=z[1];break;case"s":S=Dv[z[1]],v.v=S.t,v.r=S.r;break;case"b":v.v=!!z[1];break;case"e":v.v=z[1],o.cellText!==!1&&(v.w=_h[v.v]);break;case"str":v.t="s",v.v=z[1];break;case"is":v.t="s",v.v=z[1].t;break}if((g=l.CellXf[z[0].iStyleRef])&&TV(v,g.numFmtId,null,o,i,l),j=z[0].c==-1?j+1:z[0].c,o.dense?(c[b]||(c[b]=[]),c[b][j]=v):c[en(j)+N]=v,o.cellFormula){for(D=!1,E=0;E<R.length;++E){var O=R[E];m.r>=O[0].s.r&&m.r<=O[0].e.r&&j>=O[0].s.c&&j<=O[0].e.c&&(v.F=ns(O[0]),D=!0)}!D&&z.length>3&&(v.f=z[3])}if(u.s.r>m.r&&(u.s.r=m.r),u.s.c>j&&(u.s.c=j),u.e.r<m.r&&(u.e.r=m.r),u.e.c<j&&(u.e.c=j),o.cellDates&&g&&v.t=="n"&&Rx(Ma[g.numFmtId])){var q=V0(v.v);q&&(v.t="d",v.v=new Date(q.y,q.m-1,q.d,q.H,q.M,q.S,q.u))}V&&(V.type=="XLDAPR"&&(v.D=!0),V=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;v={t:"z",v:void 0},j=z[0].c==-1?j+1:z[0].c,o.dense?(c[b]||(c[b]=[]),c[b][j]=v):c[en(j)+N]=v,u.s.r>m.r&&(u.s.r=m.r),u.s.c>j&&(u.s.c=j),u.e.r<m.r&&(u.e.r=m.r),u.e.c<j&&(u.e.c=j),V&&(V.type=="XLDAPR"&&(v.D=!0),V=void 0);break;case 176:_.push(z);break;case 49:V=((o.xlmeta||{}).Cell||[])[z-1];break;case 494:var W=r["!id"][z.relId];for(W?(z.Target=W.Target,z.loc&&(z.Target+="#"+z.loc),z.Rel=W):z.relId==""&&(z.Target="#"+z.loc),b=z.rfx.s.r;b<=z.rfx.e.r;++b)for(j=z.rfx.s.c;j<=z.rfx.e.c;++j)o.dense?(c[b]||(c[b]=[]),c[b][j]||(c[b][j]={t:"z",v:void 0}),c[b][j].l=z):(k=Oa({c:j,r:b}),c[k]||(c[k]={t:"z",v:void 0}),c[k].l=z);break;case 426:if(!o.cellFormula)break;R.push(z),A=o.dense?c[b][j]:c[en(j)+N],A.f=ml(z[1],u,{r:m.r,c:j},M,o),A.F=ns(z[0]);break;case 427:if(!o.cellFormula)break;I[Oa(z[0].s)]=z[1],A=o.dense?c[b][j]:c[en(j)+N],A.f=ml(z[1],u,{r:m.r,c:j},M,o);break;case 60:if(!o.cellStyles)break;for(;z.e>=z.s;)P[z.e--]={width:z.w/256,hidden:!!(z.flags&1),level:z.level},K||(K=!0,n8(z.w/256)),Rf(P[z.e+1]);break;case 161:c["!autofilter"]={ref:ns(z)};break;case 476:c["!margins"]=z;break;case 147:n.Sheets[a]||(n.Sheets[a]={}),z.name&&(n.Sheets[a].CodeName=z.name),(z.above||z.left)&&(c["!outline"]={above:z.above,left:z.left});break;case 137:n.Views||(n.Views=[{}]),n.Views[0]||(n.Views[0]={}),z.RTL&&(n.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!X.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+le.toString(16))}}},o),delete o.supbooks,delete o["!row"],!c["!ref"]&&(u.s.r<2e6||d&&(d.e.r>0||d.e.c>0||d.s.r>0||d.s.c>0))&&(c["!ref"]=ns(d||u)),o.sheetRows&&c["!ref"]){var J=Rs(c["!ref"]);o.sheetRows<=+J.e.r&&(J.e.r=o.sheetRows-1,J.e.r>u.e.r&&(J.e.r=u.e.r),J.e.r<J.s.r&&(J.s.r=J.e.r),J.e.c>u.e.c&&(J.e.c=u.e.c),J.e.c<J.s.c&&(J.s.c=J.e.c),c["!fullref"]=c["!ref"],c["!ref"]=ns(J))}return _.length>0&&(c["!merges"]=_),P.length>0&&(c["!cols"]=P),F.length>0&&(c["!rows"]=F),c}function Zve(e,t,a,r,n,i,l){if(t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=Cr(t),t.z=t.z||Ma[14],t.v=ui(Sr(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var c={r:a,c:r};switch(c.s=Jf(n.cellXfs,t,n),t.l&&i["!links"].push([Oa(c),t.l]),t.c&&i["!comments"].push([Oa(c),t.c]),t.t){case"s":case"str":return n.bookSST?(o=d8(n.Strings,t.v,n.revStrings),c.t="s",c.v=o,l?Ht(e,18,vve(t,c)):Ht(e,7,xve(t,c))):(c.t="str",l?Ht(e,17,Tve(t,c)):Ht(e,6,_ve(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?l?Ht(e,13,Sve(t,c)):Ht(e,2,Nve(t,c)):l?Ht(e,16,wve(t,c)):Ht(e,5,yve(t,c)),!0;case"b":return c.t="b",l?Ht(e,15,dve(t,c)):Ht(e,4,ove(t,c)),!0;case"e":return c.t="e",l?Ht(e,14,mve(t,c)):Ht(e,3,hve(t,c)),!0}return l?Ht(e,12,ive(t,c)):Ht(e,1,rve(t,c)),!0}function e1e(e,t,a,r){var n=Rs(t["!ref"]||"A1"),i,l="",o=[];Ht(e,145);var c=Array.isArray(t),d=n.e.r;t["!rows"]&&(d=Math.max(n.e.r,t["!rows"].length-1));for(var u=n.s.r;u<=d;++u){l=Rn(u),Jge(e,t,n,u);var f=!1;if(u<=n.e.r)for(var p=n.s.c;p<=n.e.c;++p){u===n.s.r&&(o[p]=en(p)),i=o[p]+l;var m=c?(t[u]||[])[p]:t[i];if(!m){f=!1;continue}f=Zve(e,m,u,p,r,t,f)}}Ht(e,146)}function t1e(e,t){!t||!t["!merges"]||(Ht(e,177,Fve(t["!merges"].length)),t["!merges"].forEach(function(a){Ht(e,176,Rve(a))}),Ht(e,178))}function a1e(e,t){!t||!t["!cols"]||(Ht(e,390),t["!cols"].forEach(function(a,r){a&&Ht(e,60,Hve(r,a))}),Ht(e,391))}function s1e(e,t){!t||!t["!ref"]||(Ht(e,648),Ht(e,649,Kve(Rs(t["!ref"]))),Ht(e,650))}function r1e(e,t,a){t["!links"].forEach(function(r){if(r[1].Target){var n=Qs(a,-1,r[1].Target.replace(/#.*$/,""),vs.HLINK);Ht(e,494,Bve(r,n))}}),delete t["!links"]}function n1e(e,t,a,r){if(t["!comments"].length>0){var n=Qs(r,-1,"../drawings/vmlDrawing"+(a+1)+".vml",vs.VML);Ht(e,551,JA("rId"+n)),t["!legacy"]=n}}function i1e(e,t,a,r){if(t["!autofilter"]){var n=t["!autofilter"],i=typeof n.ref=="string"?n.ref:ns(n.ref);a.Workbook||(a.Workbook={Sheets:[]}),a.Workbook.Names||(a.Workbook.Names=[]);var l=a.Workbook.Names,o=bo(i);o.s.r==o.e.r&&(o.e.r=bo(t["!ref"]).e.r,i=ns(o));for(var c=0;c<l.length;++c){var d=l[c];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==r){d.Ref="'"+a.SheetNames[r]+"'!"+i;break}}c==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+a.SheetNames[r]+"'!"+i}),Ht(e,161,Bx(Rs(i))),Ht(e,162)}}function l1e(e,t,a){Ht(e,133),Ht(e,137,Gve(t,a)),Ht(e,138),Ht(e,134)}function o1e(e,t){t["!protect"]&&Ht(e,535,Yve(t["!protect"]))}function c1e(e,t,a,r){var n=vo(),i=a.SheetNames[e],l=a.Sheets[i]||{},o=i;try{a&&a.Workbook&&(o=a.Workbook.Sheets[e].CodeName||o)}catch{}var c=Rs(l["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],Ht(n,129),(a.vbaraw||l["!outline"])&&Ht(n,147,ave(o,l["!outline"])),Ht(n,148,Zge(c)),l1e(n,l,a.Workbook),a1e(n,l),e1e(n,l,e,t),o1e(n,l),i1e(n,l,a,e),t1e(n,l),r1e(n,l,r),l["!margins"]&&Ht(n,476,Wve(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&s1e(n,l),n1e(n,l,e,r),Ht(n,130),n.end()}function d1e(e){var t=[],a=e.match(/^<c:numCache>/),r;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var l=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);l&&(t[+l[1]]=a?+l[2]:l[2])});var n=Os((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){r=i.replace(/<.*?>/g,"")}),[t,n,r]}function u1e(e,t,a,r,n,i){var l=i||{"!type":"chart"};if(!e)return i;var o=0,c=0,d="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var p=d1e(f);u.s.r=u.s.c=0,u.e.c=o,d=en(o),p[0].forEach(function(m,v){l[d+Rn(v)]={t:"n",v:m,z:p[1]},c=v}),u.e.r<c&&(u.e.r=c),++o}),o>0&&(l["!ref"]=ns(u)),l}function h1e(e,t,a,r,n){if(!e)return e;r||(r={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},l,o=e.match(DV);return o&&u8(o[0],i,n,a),(l=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=l[1]),r["!id"][i["!rel"]]&&(i["!drawel"]=r["!id"][i["!rel"]]),i}function f1e(e,t){e.l+=10;var a=wl(e);return{name:a}}function m1e(e,t,a,r,n){if(!e)return e;r||(r={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},l=!1;return Ah(e,function(c,d,u){switch(u){case 550:i["!rel"]=c;break;case 651:n.Sheets[a]||(n.Sheets[a]={}),c.name&&(n.Sheets[a].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:break;case 38:break;default:if(!(d.T>0)){if(!(d.T<0)){if(!l||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},t),r["!id"][i["!rel"]]&&(i["!drawel"]=r["!id"][i["!rel"]]),i}var h8=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],p1e=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],x1e=[],g1e=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function tL(e,t){for(var a=0;a!=e.length;++a)for(var r=e[a],n=0;n!=t.length;++n){var i=t[n];if(r[i[0]]==null)r[i[0]]=i[1];else switch(i[2]){case"bool":typeof r[i[0]]=="string"&&(r[i[0]]=jr(r[i[0]]));break;case"int":typeof r[i[0]]=="string"&&(r[i[0]]=parseInt(r[i[0]],10));break}}}function aL(e,t){for(var a=0;a!=t.length;++a){var r=t[a];if(e[r[0]]==null)e[r[0]]=r[1];else switch(r[2]){case"bool":typeof e[r[0]]=="string"&&(e[r[0]]=jr(e[r[0]]));break;case"int":typeof e[r[0]]=="string"&&(e[r[0]]=parseInt(e[r[0]],10));break}}}function OV(e){aL(e.WBProps,h8),aL(e.CalcPr,g1e),tL(e.WBView,p1e),tL(e.Sheets,x1e),ax.date1904=jr(e.WBProps.date1904)}function v1e(e){return!e.Workbook||!e.Workbook.WBProps?"false":jr(e.Workbook.WBProps.date1904)?"true":"false"}var b1e="][*?/\\".split("");function RV(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var a=!0;return b1e.forEach(function(r){if(e.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),a}function y1e(e,t,a){e.forEach(function(r,n){RV(r);for(var i=0;i<n;++i)if(r==e[i])throw new Error("Duplicate Sheet Name: "+r);if(a){var l=t&&t[n]&&t[n].CodeName||r;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function w1e(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];y1e(e.SheetNames,t,!!e.vbaraw);for(var a=0;a<e.SheetNames.length;++a)vge(e.Sheets[e.SheetNames[a]],e.SheetNames[a],a)}var j1e=/<\w+:workbook/;function N1e(e,t){if(!e)throw new Error("Could not find file");var a={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,n="xmlns",i={},l=0;if(e.replace(Cl,function(c,d){var u=za(c);switch(yu(u[0])){case"<?xml":break;case"<workbook":c.match(j1e)&&(n="xmlns"+c.match(/<(\w+):/)[1]),a.xmlns=u[n];break;case"</workbook>":break;case"<fileVersion":delete u[0],a.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":h8.forEach(function(f){if(u[f[0]]!=null)switch(f[2]){case"bool":a.WBProps[f[0]]=jr(u[f[0]]);break;case"int":a.WBProps[f[0]]=parseInt(u[f[0]],10);break;default:a.WBProps[f[0]]=u[f[0]]}}),u.codeName&&(a.WBProps.CodeName=or(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],a.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=Os(or(u.name)),delete u[0],a.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":i={},i.Name=or(u.name),u.comment&&(i.Comment=u.comment),u.localSheetId&&(i.Sheet=+u.localSheetId),jr(u.hidden||"0")&&(i.Hidden=!0),l=d+c.length;break;case"</definedName>":i.Ref=Os(or(e.slice(l,d))),a.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete u[0],a.CalcPr=u;break;case"<calcPr/>":delete u[0],a.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&t.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return c}),Im.indexOf(a.xmlns)===-1)throw new Error("Unknown Namespace: "+a.xmlns);return OV(a),a}function FV(e){var t=[Un];t[t.length]=Qt("workbook",null,{xmlns:Im[0],"xmlns:r":oi.r});var a=e.Workbook&&(e.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(h8.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(r[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(r.codeName=e.Workbook.WBProps.CodeName,delete r.CodeName)),t[t.length]=Qt("workbookPr",null,r);var n=e.Workbook&&e.Workbook.Sheets||[],i=0;if(n&&n[0]&&n[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!n[i]||!n[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var l={name:ar(e.SheetNames[i].slice(0,31))};if(l.sheetId=""+(i+1),l["r:id"]="rId"+(i+1),n[i])switch(n[i].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}t[t.length]=Qt("sheet",null,l)}return t[t.length]="</sheets>",a&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var c={name:o.Name};o.Comment&&(c.comment=o.Comment),o.Sheet!=null&&(c.localSheetId=""+o.Sheet),o.Hidden&&(c.hidden="1"),o.Ref&&(t[t.length]=Qt("definedName",ar(o.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function k1e(e,t){var a={};return a.Hidden=e.read_shift(4),a.iTabID=e.read_shift(4),a.strRelID=lC(e),a.name=wl(e),a}function S1e(e,t){return t||(t=kt(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),JA(e.strRelID,t),Ti(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function C1e(e,t){var a={},r=e.read_shift(4);a.defaultThemeVersion=e.read_shift(4);var n=t>8?wl(e):"";return n.length>0&&(a.CodeName=n),a.autoCompressPictures=!!(r&65536),a.backupFile=!!(r&64),a.checkCompatibility=!!(r&4096),a.date1904=!!(r&1),a.filterPrivacy=!!(r&8),a.hidePivotFieldList=!!(r&1024),a.promptedSolutions=!!(r&16),a.publishItems=!!(r&2048),a.refreshAllConnections=!!(r&262144),a.saveExternalLinkValues=!!(r&128),a.showBorderUnselectedTables=!!(r&4),a.showInkAnnotation=!!(r&32),a.showObjects=["all","placeholders","none"][r>>13&3],a.showPivotChartFilter=!!(r&32768),a.updateLinks=["userSet","never","always"][r>>8&3],a}function A1e(e,t){t||(t=kt(72));var a=0;return e&&e.filterPrivacy&&(a|=8),t.write_shift(4,a),t.write_shift(4,0),_H(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function _1e(e,t){var a={};return e.read_shift(4),a.ArchID=e.read_shift(4),e.l+=t-8,a}function E1e(e,t,a){var r=e.l+t;e.l+=4,e.l+=1;var n=e.read_shift(4),i=nhe(e),l=hge(e,0,a),o=XA(e);e.l=r;var c={Name:i,Ptg:l};return n<268435455&&(c.Sheet=n),o&&(c.Comment=o),c}function T1e(e,t){var a={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],n=!1;t||(t={}),t.biff=12;var i=[],l=[[]];return l.SheetNames=[],l.XTI=[],x1[16]={n:"BrtFRTArchID$",f:_1e},Ah(e,function(c,d,u){switch(u){case 156:l.SheetNames.push(c.name),a.Sheets.push(c);break;case 153:a.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=ml(c.Ptg,null,null,l,t),delete t.SID,delete c.Ptg,i.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:l[0].length?l.push([u,c]):l[0]=[u,c],l[l.length-1].XTI=[];break;case 362:l.length===0&&(l[0]=[],l[0].XTI=[]),l[l.length-1].XTI=l[l.length-1].XTI.concat(c),l.XTI=l.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(u),n=!0;break;case 36:r.pop(),n=!1;break;case 37:r.push(u),n=!0;break;case 38:r.pop(),n=!1;break;case 16:break;default:if(!d.T){if(!n||t.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},t),OV(a),a.Names=i,a.supbooks=l,a}function D1e(e,t){Ht(e,143);for(var a=0;a!=t.SheetNames.length;++a){var r=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[a]&&t.Workbook.Sheets[a].Hidden||0,n={Hidden:r,iTabID:a+1,strRelID:"rId"+(a+1),name:t.SheetNames[a]};Ht(e,156,S1e(n))}Ht(e,144)}function P1e(e,t){t||(t=kt(127));for(var a=0;a!=4;++a)t.write_shift(4,0);return Ti("SheetJS",t),Ti(pw.version,t),Ti(pw.version,t),Ti("7262",t),t.length>t.l?t.slice(0,t.l):t}function M1e(e,t){t||(t=kt(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var a=120;return t.write_shift(1,a),t.length>t.l?t.slice(0,t.l):t}function L1e(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var a=t.Workbook.Sheets,r=0,n=-1,i=-1;r<a.length;++r)!a[r]||!a[r].Hidden&&n==-1?n=r:a[r].Hidden==1&&i==-1&&(i=r);i>n||(Ht(e,135),Ht(e,158,M1e(n)),Ht(e,136))}}function O1e(e,t){var a=vo();return Ht(a,131),Ht(a,128,P1e()),Ht(a,153,A1e(e.Workbook&&e.Workbook.WBProps||null)),L1e(a,e),D1e(a,e),Ht(a,132),a.end()}function R1e(e,t,a){return t.slice(-4)===".bin"?T1e(e,a):N1e(e,a)}function F1e(e,t,a,r,n,i,l,o){return t.slice(-4)===".bin"?Qve(e,r,a,n,i,l,o):Ege(e,r,a,n,i,l,o)}function I1e(e,t,a,r,n,i,l,o){return t.slice(-4)===".bin"?m1e(e,r,a,n,i):h1e(e,r,a,n,i)}function B1e(e,t,a,r,n,i,l,o){return t.slice(-4)===".bin"?Upe():zpe()}function $1e(e,t,a,r,n,i,l,o){return t.slice(-4)===".bin"?Bpe():$pe()}function U1e(e,t,a,r){return t.slice(-4)===".bin"?Rme(e,a,r):kme(e,a,r)}function z1e(e,t,a){return gV(e,a)}function H1e(e,t,a){return t.slice(-4)===".bin"?H0e(e,a):$0e(e,a)}function V1e(e,t,a){return t.slice(-4)===".bin"?Lpe(e,a):Spe(e,a)}function W1e(e,t,a){return t.slice(-4)===".bin"?jpe(e):ype(e)}function q1e(e,t,a,r){return a.slice(-4)===".bin"?Npe(e,t,a,r):void 0}function G1e(e,t,a){return t.slice(-4)===".bin"?gpe(e,t,a):bpe(e,t,a)}function K1e(e,t,a){return(t.slice(-4)===".bin"?O1e:FV)(e)}function Y1e(e,t,a,r,n){return(t.slice(-4)===".bin"?c1e:PV)(e,a,r,n)}function X1e(e,t,a){return(t.slice(-4)===".bin"?qme:pV)(e,a)}function J1e(e,t,a){return(t.slice(-4)===".bin"?q0e:lV)(e,a)}function Q1e(e,t,a){return(t.slice(-4)===".bin"?Ope:yV)(e)}function Z1e(e){return(e.slice(-4)===".bin"?vpe:vV)()}var IV=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,BV=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function hd(e,t){var a=e.split(/\s+/),r=[];if(r[0]=a[0],a.length===1)return r;var n=e.match(IV),i,l,o,c;if(n)for(c=0;c!=n.length;++c)i=n[c].match(BV),(l=i[1].indexOf(":"))===-1?r[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(l+1),r[o]=i[2].slice(1,i[2].length-1));return r}function ebe(e){var t=e.split(/\s+/),a={};if(t.length===1)return a;var r=e.match(IV),n,i,l,o;if(r)for(o=0;o!=r.length;++o)n=r[o].match(BV),(i=n[1].indexOf(":"))===-1?a[n[1]]=n[2].slice(1,n[2].length-1):(n[1].slice(0,6)==="xmlns:"?l="xmlns"+n[1].slice(6):l=n[1].slice(i+1),a[l]=n[2].slice(1,n[2].length-1));return a}var Mv;function tbe(e,t){var a=Mv[e]||Os(e);return a==="General"?bm(t):Oc(a,t)}function abe(e,t,a,r){var n=r;switch((a[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":n=jr(r);break;case"i2":case"int":n=parseInt(r,10);break;case"r4":case"float":n=parseFloat(r);break;case"date":case"dateTime.tz":n=Sr(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+a[0])}e[Os(t)]=n}function sbe(e,t,a){if(e.t!=="z"){if(!a||a.cellText!==!1)try{e.t==="e"?e.w=e.w||_h[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=l1(e.v):e.w=bm(e.v):e.w=tbe(t||"General",e.v)}catch(i){if(a.WTF)throw i}try{var r=Mv[t]||t||"General";if(a.cellNF&&(e.z=r),a.cellDates&&e.t=="n"&&Rx(r)){var n=V0(e.v);n&&(e.t="d",e.v=new Date(n.y,n.m-1,n.d,n.H,n.M,n.S,n.u))}}catch(i){if(a.WTF)throw i}}}function rbe(e,t,a){if(a.cellStyles&&t.Interior){var r=t.Interior;r.Pattern&&(r.patternType=xme[r.Pattern]||r.Pattern)}e[t.ID]=t}function nbe(e,t,a,r,n,i,l,o,c,d){var u="General",f=r.StyleID,p={};d=d||{};var m=[],v=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&l&&(f=l.StyleID);i[f]!==void 0&&(i[f].nf&&(u=i[f].nf),i[f].Interior&&m.push(i[f].Interior),!!i[f].Parent);)f=i[f].Parent;switch(a.Type){case"Boolean":r.t="b",r.v=jr(e);break;case"String":r.t="s",r.r=bM(Os(e)),r.v=e.indexOf("<")>-1?Os(t||e).replace(/<.*?>/g,""):r.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),r.v=(Sr(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),r.v!==r.v?r.v=Os(e):r.v<60&&(r.v=r.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+e),r.t||(r.t="n");break;case"Error":r.t="e",r.v=MH[e],d.cellText!==!1&&(r.w=e);break;default:e==""&&t==""?r.t="z":(r.t="s",r.v=bM(t||e));break}if(sbe(r,u,d),d.cellFormula!==!1)if(r.Formula){var g=Os(r.Formula);g.charCodeAt(0)==61&&(g=g.slice(1)),r.f=tx(g,n),delete r.Formula,r.ArrayRange=="RC"?r.F=tx("RC:RC",n):r.ArrayRange&&(r.F=tx(r.ArrayRange,n),c.push([Rs(r.F),r.F]))}else for(v=0;v<c.length;++v)n.r>=c[v][0].s.r&&n.r<=c[v][0].e.r&&n.c>=c[v][0].s.c&&n.c<=c[v][0].e.c&&(r.F=c[v][1]);d.cellStyles&&(m.forEach(function(b){!p.patternType&&b.patternType&&(p.patternType=b.patternType)}),r.s=p),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function ibe(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function J5(e,t){var a=t||{};Fx();var r=gv(VA(e));(a.type=="binary"||a.type=="array"||a.type=="base64")&&(r=or(r));var n=r.slice(0,1024).toLowerCase(),i=!1;if(n=n.replace(/".*?"/g,""),(n.indexOf(">")&1023)>Math.min(n.indexOf(",")&1023,n.indexOf(";")&1023)){var l=Cr(a);return l.type="string",mx.to_workbook(r,l)}if(n.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(ue){n.indexOf("<"+ue)>=0&&(i=!0)}),i)return Wbe(r,a);Mv={"General Number":"General","General Date":Ma[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Ma[15],"Short Date":Ma[14],"Long Time":Ma[19],"Medium Time":Ma[18],"Short Time":Ma[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Ma[2],Standard:Ma[4],Percent:Ma[10],Scientific:Ma[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,c=[],d,u={},f=[],p=a.dense?[]:{},m="",v={},g={},b=hd('<Data ss:Type="String">'),j=0,k=0,S=0,N={s:{r:2e6,c:2e6},e:{r:0,c:0}},A={},_={},E="",D=0,R=[],I={},M={},U=0,P=[],F=[],K={},V=[],J,Q=!1,z=[],X=[],le={},O=0,q=0,W={Sheets:[],WBProps:{date1904:!1}},te={};d1.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var re="";o=d1.exec(r);)switch(o[3]=(re=o[3]).toLowerCase()){case"data":if(re=="data"){if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break}if(c[c.length-1][1])break;o[1]==="/"?nbe(r.slice(j,o.index),E,b,c[c.length-1][0]=="comment"?K:v,{c:k,r:S},A,V[k],g,z,a):(E="",b=hd(o[0]),j=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(F.length>0&&(v.c=F),(!a.sheetRows||a.sheetRows>S)&&v.v!==void 0&&(a.dense?(p[S]||(p[S]=[]),p[S][k]=v):p[en(k)+Rn(S)]=v),v.HRef&&(v.l={Target:Os(v.HRef)},v.HRefScreenTip&&(v.l.Tooltip=v.HRefScreenTip),delete v.HRef,delete v.HRefScreenTip),(v.MergeAcross||v.MergeDown)&&(O=k+(parseInt(v.MergeAcross,10)|0),q=S+(parseInt(v.MergeDown,10)|0),R.push({s:{c:k,r:S},e:{c:O,r:q}})),!a.sheetStubs)v.MergeAcross?k=O+1:++k;else if(v.MergeAcross||v.MergeDown){for(var oe=k;oe<=O;++oe)for(var ce=S;ce<=q;++ce)(oe>k||ce>S)&&(a.dense?(p[ce]||(p[ce]=[]),p[ce][oe]={t:"z"}):p[en(oe)+Rn(ce)]={t:"z"});k=O+1}else++k;else v=ebe(o[0]),v.Index&&(k=+v.Index-1),k<N.s.c&&(N.s.c=k),k>N.e.c&&(N.e.c=k),o[0].slice(-2)==="/>"&&++k,F=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(S<N.s.r&&(N.s.r=S),S>N.e.r&&(N.e.r=S),o[0].slice(-2)==="/>"&&(g=hd(o[0]),g.Index&&(S=+g.Index-1)),k=0,++S):(g=hd(o[0]),g.Index&&(S=+g.Index-1),le={},(g.AutoFitHeight=="0"||g.Height)&&(le.hpx=parseInt(g.Height,10),le.hpt=p1(le.hpx),X[S]=le),g.Hidden=="1"&&(le.hidden=!0,X[S]=le));break;case"worksheet":if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"));f.push(m),N.s.r<=N.e.r&&N.s.c<=N.e.c&&(p["!ref"]=ns(N),a.sheetRows&&a.sheetRows<=N.e.r&&(p["!fullref"]=p["!ref"],N.e.r=a.sheetRows-1,p["!ref"]=ns(N))),R.length&&(p["!merges"]=R),V.length>0&&(p["!cols"]=V),X.length>0&&(p["!rows"]=X),u[m]=p}else N={s:{r:2e6,c:2e6},e:{r:0,c:0}},S=k=0,c.push([o[3],!1]),d=hd(o[0]),m=Os(d.Name),p=a.dense?[]:{},R=[],z=[],X=[],te={name:m,Hidden:0},W.Sheets.push(te);break;case"table":if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else{if(o[0].slice(-2)=="/>")break;c.push([o[3],!1]),V=[],Q=!1}break;case"style":o[1]==="/"?rbe(A,_,a):_=hd(o[0]);break;case"numberformat":_.nf=Os(hd(o[0]).Format||"General"),Mv[_.nf]&&(_.nf=Mv[_.nf]);for(var G=0;G!=392&&Ma[G]!=_.nf;++G);if(G==392){for(G=57;G!=392;++G)if(Ma[G]==null){ch(_.nf,G);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(J=hd(o[0]),J.Hidden&&(J.hidden=!0,delete J.Hidden),J.Width&&(J.wpx=parseInt(J.Width,10)),!Q&&J.wpx>10){Q=!0,pl=fV;for(var ie=0;ie<V.length;++ie)V[ie]&&Rf(V[ie])}Q&&Rf(J),V[J.Index-1||V.length]=J;for(var ye=0;ye<+J.Span;++ye)V[V.length]=Cr(J);break;case"namedrange":if(o[1]==="/")break;W.Names||(W.Names=[]);var se=za(o[0]),Ie={Name:se.Name,Ref:tx(se.RefersTo.slice(1),{r:0,c:0})};W.Sheets.length>0&&(Ie.Sheet=W.Sheets.length-1),W.Names.push(Ie);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?E+=r.slice(D,o.index):D=o.index+o[0].length;break;case"interior":if(!a.cellStyles)break;_.Interior=hd(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?The(I,re,r.slice(U,o.index)):U=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else c.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"));ibe(K),F.push(K)}else c.push([o[3],!1]),d=hd(o[0]),K={a:d.Author};break;case"autofilter":if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var pe=hd(o[0]);p["!autofilter"]={ref:tx(pe.Range).replace(/\$/g,"")},c.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"null":break;default:if(c.length==0&&o[3]=="document"||c.length==0&&o[3]=="uof")return lL(r,a);var ae=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:ae=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:ae=!1}break;case"excelworkbook":switch(o[3]){case"date1904":W.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:ae=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:ae=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(r.slice(U,o.index)){case"SheetHidden":te.Hidden=1;break;case"SheetVeryHidden":te.Hidden=2;break}else U=o.index+o[0].length;break;case"header":p["!margins"]||rm(p["!margins"]={},"xlml"),isNaN(+za(o[0]).Margin)||(p["!margins"].header=+za(o[0]).Margin);break;case"footer":p["!margins"]||rm(p["!margins"]={},"xlml"),isNaN(+za(o[0]).Margin)||(p["!margins"].footer=+za(o[0]).Margin);break;case"pagemargins":var ge=za(o[0]);p["!margins"]||rm(p["!margins"]={},"xlml"),isNaN(+ge.Top)||(p["!margins"].top=+ge.Top),isNaN(+ge.Left)||(p["!margins"].left=+ge.Left),isNaN(+ge.Right)||(p["!margins"].right=+ge.Right),isNaN(+ge.Bottom)||(p["!margins"].bottom=+ge.Bottom);break;case"displayrighttoleft":W.Views||(W.Views=[]),W.Views[0]||(W.Views[0]={}),W.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:ae=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:ae=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:ae=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:ae=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:ae=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:ae=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:ae=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:ae=!1}break;case"smarttags":break;default:ae=!1;break}if(ae||o[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?abe(M,re,P,r.slice(U,o.index)):(P=o,U=o.index+o[0].length);break}if(a.WTF)throw"Unrecognized tag: "+o[3]+"|"+c.join("|")}var Re={};return!a.bookSheets&&!a.bookProps&&(Re.Sheets=u),Re.SheetNames=f,Re.Workbook=W,Re.SSF=Cr(Ma),Re.Props=I,Re.Custprops=M,Re}function mC(e,t){switch(p8(t=t||{}),t.type||"base64"){case"base64":return J5(Go(e),t);case"binary":case"buffer":case"file":return J5(e,t);case"array":return J5(Yf(e),t)}}function lbe(e,t){var a=[];return e.Props&&a.push(Dhe(e.Props,t)),e.Custprops&&a.push(Phe(e.Props,e.Custprops)),a.join("")}function obe(){return""}function cbe(e,t){var a=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(r,n){var i=[];i.push(Qt("NumberFormat",null,{"ss:Format":ar(Ma[r.numFmtId])}));var l={"ss:ID":"s"+(21+n)};a.push(Qt("Style",i.join(""),l))}),Qt("Styles",a.join(""))}function $V(e){return Qt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+o8(e.Ref,{r:0,c:0})})}function dbe(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,a=[],r=0;r<t.length;++r){var n=t[r];n.Sheet==null&&(n.Name.match(/^_xlfn\./)||a.push($V(n)))}return Qt("Names",a.join(""))}function ube(e,t,a,r){if(!e||!((r||{}).Workbook||{}).Names)return"";for(var n=r.Workbook.Names,i=[],l=0;l<n.length;++l){var o=n[l];o.Sheet==a&&(o.Name.match(/^_xlfn\./)||i.push($V(o)))}return i.join("")}function hbe(e,t,a,r){if(!e)return"";var n=[];if(e["!margins"]&&(n.push("<PageSetup>"),e["!margins"].header&&n.push(Qt("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&n.push(Qt("Footer",null,{"x:Margin":e["!margins"].footer})),n.push(Qt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),n.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[a])if(r.Workbook.Sheets[a].Hidden)n.push(Qt("Visible",r.Workbook.Sheets[a].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<a&&!(r.Workbook.Sheets[i]&&!r.Workbook.Sheets[i].Hidden);++i);i==a&&n.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&n.push("<DisplayRightToLeft/>"),e["!protect"]&&(n.push(Xi("ProtectContents","True")),e["!protect"].objects&&n.push(Xi("ProtectObjects","True")),e["!protect"].scenarios&&n.push(Xi("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?n.push(Xi("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&n.push(Xi("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){e["!protect"][l[0]]&&n.push("<"+l[1]+"/>")})),n.length==0?"":Qt("WorksheetOptions",n.join(""),{xmlns:Bo.x})}function fbe(e){return e.map(function(t){var a=Lue(t.t||""),r=Qt("ss:Data",a,{xmlns:"http://www.w3.org/TR/REC-html40"});return Qt("Comment",r,{"ss:Author":t.a})}).join("")}function mbe(e,t,a,r,n,i,l){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+ar(o8(e.f,l))),e.F&&e.F.slice(0,t.length)==t){var c=tn(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(c.r==l.r?"":"["+(c.r-l.r)+"]")+"C"+(c.c==l.c?"":"["+(c.c-l.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=ar(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=ar(e.l.Tooltip))),a["!merges"])for(var d=a["!merges"],u=0;u!=d.length;++u)d[u].s.c!=l.c||d[u].s.r!=l.r||(d[u].e.c>d[u].s.c&&(o["ss:MergeAcross"]=d[u].e.c-d[u].s.c),d[u].e.r>d[u].s.r&&(o["ss:MergeDown"]=d[u].e.r-d[u].s.r));var f="",p="";switch(e.t){case"z":if(!r.sheetStubs)return"";break;case"n":f="Number",p=String(e.v);break;case"b":f="Boolean",p=e.v?"1":"0";break;case"e":f="Error",p=_h[e.v];break;case"d":f="DateTime",p=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Ma[14]);break;case"s":f="String",p=Mue(e.v||"");break}var m=Jf(r.cellXfs,e,r);o["ss:StyleID"]="s"+(21+m),o["ss:Index"]=l.c+1;var v=e.v!=null?p:"",g=e.t=="z"?"":'<Data ss:Type="'+f+'">'+v+"</Data>";return(e.c||[]).length>0&&(g+=fbe(e.c)),Qt("Cell",g,o)}function pbe(e,t){var a='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=px(t.hpt)),t.hpx&&(a+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(a+=' ss:Hidden="1"')),a+">"}function xbe(e,t,a,r){if(!e["!ref"])return"";var n=Rs(e["!ref"]),i=e["!merges"]||[],l=0,o=[];e["!cols"]&&e["!cols"].forEach(function(b,j){Rf(b);var k=!!b.width,S=cN(j,b),N={"ss:Index":j+1};k&&(N["ss:Width"]=f1(S.width)),b.hidden&&(N["ss:Hidden"]="1"),o.push(Qt("Column",null,N))});for(var c=Array.isArray(e),d=n.s.r;d<=n.e.r;++d){for(var u=[pbe(d,(e["!rows"]||[])[d])],f=n.s.c;f<=n.e.c;++f){var p=!1;for(l=0;l!=i.length;++l)if(!(i[l].s.c>f)&&!(i[l].s.r>d)&&!(i[l].e.c<f)&&!(i[l].e.r<d)){(i[l].s.c!=f||i[l].s.r!=d)&&(p=!0);break}if(!p){var m={r:d,c:f},v=Oa(m),g=c?(e[d]||[])[f]:e[v];u.push(mbe(g,v,e,t,a,r,m))}}u.push("</Row>"),u.length>2&&o.push(u.join(""))}return o.join("")}function gbe(e,t,a){var r=[],n=a.SheetNames[e],i=a.Sheets[n],l=i?ube(i,t,e,a):"";return l.length>0&&r.push("<Names>"+l+"</Names>"),l=i?xbe(i,t,e,a):"",l.length>0&&r.push("<Table>"+l+"</Table>"),r.push(hbe(i,t,e,a)),r.join("")}function vbe(e,t){t||(t={}),e.SSF||(e.SSF=Cr(Ma)),e.SSF&&(Fx(),aN(e.SSF),t.revssf=rN(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Jf(t.cellXfs,{},{revssf:{General:0}}));var a=[];a.push(lbe(e,t)),a.push(obe()),a.push(""),a.push("");for(var r=0;r<e.SheetNames.length;++r)a.push(Qt("Worksheet",gbe(r,t,e),{"ss:Name":ar(e.SheetNames[r])}));return a[2]=cbe(e,t),a[3]=dbe(e),Un+Qt("Workbook",a.join(""),{xmlns:Bo.ss,"xmlns:o":Bo.o,"xmlns:x":Bo.x,"xmlns:ss":Bo.ss,"xmlns:dt":Bo.dt,"xmlns:html":Bo.html})}function bbe(e){var t={},a=e.content;if(a.l=28,t.AnsiUserType=a.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=dhe(a),a.length-a.l<=4)return t;var r=a.read_shift(4);if(r==0||r>40||(a.l-=4,t.Reserved1=a.read_shift(0,"lpstr-ansi"),a.length-a.l<=4)||(r=a.read_shift(4),r!==1907505652)||(t.UnicodeClipboardFormat=uhe(a),r=a.read_shift(4),r==0||r>40))return t;a.l-=4,t.Reserved2=a.read_shift(0,"lpwstr")}var ybe=[60,1084,2066,2165,2175];function wbe(e,t,a,r,n){var i=r,l=[],o=a.slice(a.l,a.l+i);if(n&&n.enc&&n.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:n.enc.insitu(o)}l.push(o),a.l+=i;for(var c=ah(a,a.l),d=pC[c],u=0;d!=null&&ybe.indexOf(c)>-1;)i=ah(a,a.l+2),u=a.l+4,c==2066?u+=4:(c==2165||c==2175)&&(u+=12),o=a.slice(u,a.l+4+i),l.push(o),a.l+=4+i,d=pC[c=ah(a,a.l)];var f=_i(l);Yi(f,0);var p=0;f.lens=[];for(var m=0;m<l.length;++m)f.lens.push(p),p+=l[m].length;if(f.length<r)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+r;return t.f(f,f.length,n)}function au(e,t,a){if(e.t!=="z"&&e.XF){var r=0;try{r=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Ma[r])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||_h[e.v]:r===0||r=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=l1(e.v):e.w=bm(e.v):e.w=Oc(r,e.v,{date1904:!!a,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&r&&e.t=="n"&&Rx(Ma[r]||String(r))){var n=V0(e.v);n&&(e.t="d",e.v=new Date(n.y,n.m-1,n.d,n.H,n.M,n.S,n.u))}}}function a2(e,t,a){return{v:e,ixfe:t,t:a}}function jbe(e,t){var a={opts:{}},r={},n=t.dense?[]:{},i={},l={},o=null,c=[],d="",u={},f,p="",m,v,g,b,j={},k=[],S,N,A=[],_=[],E={Sheets:[],WBProps:{date1904:!1},Views:[{}]},D={},R=function(ht){return ht<8?tm[ht]:ht<64&&_[ht-8]||tm[ht]},I=function(ht,At,Mt){var Pt=At.XF.data;if(!(!Pt||!Pt.patternType||!Mt||!Mt.cellStyles)){At.s={},At.s.patternType=Pt.patternType;var Gt;(Gt=h1(R(Pt.icvFore)))&&(At.s.fgColor={rgb:Gt}),(Gt=h1(R(Pt.icvBack)))&&(At.s.bgColor={rgb:Gt})}},M=function(ht,At,Mt){if(!(le>1)&&!(Mt.sheetRows&&ht.r>=Mt.sheetRows)){if(Mt.cellStyles&&At.XF&&At.XF.data&&I(ht,At,Mt),delete At.ixfe,delete At.XF,f=ht,p=Oa(ht),(!l||!l.s||!l.e)&&(l={s:{r:0,c:0},e:{r:0,c:0}}),ht.r<l.s.r&&(l.s.r=ht.r),ht.c<l.s.c&&(l.s.c=ht.c),ht.r+1>l.e.r&&(l.e.r=ht.r+1),ht.c+1>l.e.c&&(l.e.c=ht.c+1),Mt.cellFormula&&At.f){for(var Pt=0;Pt<k.length;++Pt)if(!(k[Pt][0].s.c>ht.c||k[Pt][0].s.r>ht.r)&&!(k[Pt][0].e.c<ht.c||k[Pt][0].e.r<ht.r)){At.F=ns(k[Pt][0]),(k[Pt][0].s.c!=ht.c||k[Pt][0].s.r!=ht.r)&&delete At.f,At.f&&(At.f=""+ml(k[Pt][1],l,ht,z,U));break}}Mt.dense?(n[ht.r]||(n[ht.r]=[]),n[ht.r][ht.c]=At):n[p]=At}},U={enc:!1,sbcch:0,snames:[],sharedf:j,arrayf:k,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(U.password=t.password);var P,F=[],K=[],V=[],J=[],Q=!1,z=[];z.SheetNames=U.snames,z.sharedf=U.sharedf,z.arrayf=U.arrayf,z.names=[],z.XTI=[];var X=0,le=0,O=0,q=[],W=[],te;U.codepage=1200,yd(1200);for(var re=!1;e.l<e.length-1;){var oe=e.l,ce=e.read_shift(2);if(ce===0&&X===10)break;var G=e.l===e.length?0:e.read_shift(2),ie=pC[ce];if(ie&&ie.f){if(t.bookSheets&&X===133&&ce!==133)break;if(X=ce,ie.r===2||ie.r==12){var ye=e.read_shift(2);if(G-=2,!U.enc&&ye!==ce&&((ye&255)<<8|ye>>8)!==ce)throw new Error("rt mismatch: "+ye+"!="+ce);ie.r==12&&(e.l+=10,G-=10)}var se={};if(ce===10?se=ie.f(e,G,U):se=wbe(ce,ie,e,G,U),le==0&&[9,521,1033,2057].indexOf(X)===-1)continue;switch(ce){case 34:a.opts.Date1904=E.WBProps.date1904=se;break;case 134:a.opts.WriteProtect=!0;break;case 47:if(U.enc||(e.l=0),U.enc=se,!t.password)throw new Error("File is password-protected");if(se.valid==null)throw new Error("Encryption scheme unsupported");if(!se.valid)throw new Error("Password is incorrect");break;case 92:U.lastuser=se;break;case 66:var Ie=Number(se);switch(Ie){case 21010:Ie=1200;break;case 32768:Ie=1e4;break;case 32769:Ie=1252;break}yd(U.codepage=Ie),re=!0;break;case 317:U.rrtabid=se;break;case 25:U.winlocked=se;break;case 439:a.opts.RefreshAll=se;break;case 12:a.opts.CalcCount=se;break;case 16:a.opts.CalcDelta=se;break;case 17:a.opts.CalcIter=se;break;case 13:a.opts.CalcMode=se;break;case 14:a.opts.CalcPrecision=se;break;case 95:a.opts.CalcSaveRecalc=se;break;case 15:U.CalcRefMode=se;break;case 2211:a.opts.FullCalc=se;break;case 129:se.fDialog&&(n["!type"]="dialog"),se.fBelow||((n["!outline"]||(n["!outline"]={})).above=!0),se.fRight||((n["!outline"]||(n["!outline"]={})).left=!0);break;case 224:A.push(se);break;case 430:z.push([se]),z[z.length-1].XTI=[];break;case 35:case 547:z[z.length-1].push(se);break;case 24:case 536:te={Name:se.Name,Ref:ml(se.rgce,l,null,z,U)},se.itab>0&&(te.Sheet=se.itab-1),z.names.push(te),z[0]||(z[0]=[],z[0].XTI=[]),z[z.length-1].push(se),se.Name=="_xlnm._FilterDatabase"&&se.itab>0&&se.rgce&&se.rgce[0]&&se.rgce[0][0]&&se.rgce[0][0][0]=="PtgArea3d"&&(W[se.itab-1]={ref:ns(se.rgce[0][0][1][2])});break;case 22:U.ExternCount=se;break;case 23:z.length==0&&(z[0]=[],z[0].XTI=[]),z[z.length-1].XTI=z[z.length-1].XTI.concat(se),z.XTI=z.XTI.concat(se);break;case 2196:if(U.biff<8)break;te!=null&&(te.Comment=se[1]);break;case 18:n["!protect"]=se;break;case 19:se!==0&&U.WTF&&console.error("Password verifier: "+se);break;case 133:i[se.pos]=se,U.snames.push(se.name);break;case 10:{if(--le)break;if(l.e){if(l.e.r>0&&l.e.c>0){if(l.e.r--,l.e.c--,n["!ref"]=ns(l),t.sheetRows&&t.sheetRows<=l.e.r){var pe=l.e.r;l.e.r=t.sheetRows-1,n["!fullref"]=n["!ref"],n["!ref"]=ns(l),l.e.r=pe}l.e.r++,l.e.c++}F.length>0&&(n["!merges"]=F),K.length>0&&(n["!objects"]=K),V.length>0&&(n["!cols"]=V),J.length>0&&(n["!rows"]=J),E.Sheets.push(D)}d===""?u=n:r[d]=n,n=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(U.biff===8&&(U.biff={9:2,521:3,1033:4}[ce]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[se.BIFFVer]||8),U.biffguess=se.BIFFVer==0,se.BIFFVer==0&&se.dt==4096&&(U.biff=5,re=!0,yd(U.codepage=28591)),U.biff==8&&se.BIFFVer==0&&se.dt==16&&(U.biff=2),le++)break;if(n=t.dense?[]:{},U.biff<8&&!re&&(re=!0,yd(U.codepage=t.codepage||1252)),U.biff<5||se.BIFFVer==0&&se.dt==4096){d===""&&(d="Sheet1"),l={s:{r:0,c:0},e:{r:0,c:0}};var ae={pos:e.l-G,name:d};i[ae.pos]=ae,U.snames.push(d)}else d=(i[oe]||{name:""}).name;se.dt==32&&(n["!type"]="chart"),se.dt==64&&(n["!type"]="macro"),F=[],K=[],U.arrayf=k=[],V=[],J=[],Q=!1,D={Hidden:(i[oe]||{hs:0}).hs,name:d}}break;case 515:case 3:case 2:n["!type"]=="chart"&&(t.dense?(n[se.r]||[])[se.c]:n[Oa({c:se.c,r:se.r})])&&++se.c,S={ixfe:se.ixfe,XF:A[se.ixfe]||{},v:se.val,t:"n"},O>0&&(S.z=q[S.ixfe>>8&63]),au(S,t,a.opts.Date1904),M({c:se.c,r:se.r},S,t);break;case 5:case 517:S={ixfe:se.ixfe,XF:A[se.ixfe],v:se.val,t:se.t},O>0&&(S.z=q[S.ixfe>>8&63]),au(S,t,a.opts.Date1904),M({c:se.c,r:se.r},S,t);break;case 638:S={ixfe:se.ixfe,XF:A[se.ixfe],v:se.rknum,t:"n"},O>0&&(S.z=q[S.ixfe>>8&63]),au(S,t,a.opts.Date1904),M({c:se.c,r:se.r},S,t);break;case 189:for(var ge=se.c;ge<=se.C;++ge){var Re=se.rkrec[ge-se.c][0];S={ixfe:Re,XF:A[Re],v:se.rkrec[ge-se.c][1],t:"n"},O>0&&(S.z=q[S.ixfe>>8&63]),au(S,t,a.opts.Date1904),M({c:ge,r:se.r},S,t)}break;case 6:case 518:case 1030:{if(se.val=="String"){o=se;break}if(S=a2(se.val,se.cell.ixfe,se.tt),S.XF=A[S.ixfe],t.cellFormula){var ue=se.formula;if(ue&&ue[0]&&ue[0][0]&&ue[0][0][0]=="PtgExp"){var Z=ue[0][0][1][0],Se=ue[0][0][1][1],Ne=Oa({r:Z,c:Se});j[Ne]?S.f=""+ml(se.formula,l,se.cell,z,U):S.F=((t.dense?(n[Z]||[])[Se]:n[Ne])||{}).F}else S.f=""+ml(se.formula,l,se.cell,z,U)}O>0&&(S.z=q[S.ixfe>>8&63]),au(S,t,a.opts.Date1904),M(se.cell,S,t),o=se}break;case 7:case 519:if(o)o.val=se,S=a2(se,o.cell.ixfe,"s"),S.XF=A[S.ixfe],t.cellFormula&&(S.f=""+ml(o.formula,l,o.cell,z,U)),O>0&&(S.z=q[S.ixfe>>8&63]),au(S,t,a.opts.Date1904),M(o.cell,S,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{k.push(se);var Ye=Oa(se[0].s);if(m=t.dense?(n[se[0].s.r]||[])[se[0].s.c]:n[Ye],t.cellFormula&&m){if(!o||!Ye||!m)break;m.f=""+ml(se[1],l,se[0],z,U),m.F=ns(se[0])}}break;case 1212:{if(!t.cellFormula)break;if(p){if(!o)break;j[Oa(o.cell)]=se[0],m=t.dense?(n[o.cell.r]||[])[o.cell.c]:n[Oa(o.cell)],(m||{}).f=""+ml(se[0],l,f,z,U)}}break;case 253:S=a2(c[se.isst].t,se.ixfe,"s"),c[se.isst].h&&(S.h=c[se.isst].h),S.XF=A[S.ixfe],O>0&&(S.z=q[S.ixfe>>8&63]),au(S,t,a.opts.Date1904),M({c:se.c,r:se.r},S,t);break;case 513:t.sheetStubs&&(S={ixfe:se.ixfe,XF:A[se.ixfe],t:"z"},O>0&&(S.z=q[S.ixfe>>8&63]),au(S,t,a.opts.Date1904),M({c:se.c,r:se.r},S,t));break;case 190:if(t.sheetStubs)for(var gt=se.c;gt<=se.C;++gt){var qt=se.ixfe[gt-se.c];S={ixfe:qt,XF:A[qt],t:"z"},O>0&&(S.z=q[S.ixfe>>8&63]),au(S,t,a.opts.Date1904),M({c:gt,r:se.r},S,t)}break;case 214:case 516:case 4:S=a2(se.val,se.ixfe,"s"),S.XF=A[S.ixfe],O>0&&(S.z=q[S.ixfe>>8&63]),au(S,t,a.opts.Date1904),M({c:se.c,r:se.r},S,t);break;case 0:case 512:le===1&&(l=se);break;case 252:c=se;break;case 1054:if(U.biff==4){q[O++]=se[1];for(var at=0;at<O+163&&Ma[at]!=se[1];++at);at>=163&&ch(se[1],O+163)}else ch(se[1],se[0]);break;case 30:{q[O++]=se;for(var $t=0;$t<O+163&&Ma[$t]!=se;++$t);$t>=163&&ch(se,O+163)}break;case 229:F=F.concat(se);break;case 93:K[se.cmo[0]]=U.lastobj=se;break;case 438:U.lastobj.TxO=se;break;case 127:U.lastobj.ImData=se;break;case 440:for(b=se[0].s.r;b<=se[0].e.r;++b)for(g=se[0].s.c;g<=se[0].e.c;++g)m=t.dense?(n[b]||[])[g]:n[Oa({c:g,r:b})],m&&(m.l=se[1]);break;case 2048:for(b=se[0].s.r;b<=se[0].e.r;++b)for(g=se[0].s.c;g<=se[0].e.c;++g)m=t.dense?(n[b]||[])[g]:n[Oa({c:g,r:b})],m&&m.l&&(m.l.Tooltip=se[1]);break;case 28:{if(U.biff<=5&&U.biff>=2)break;m=t.dense?(n[se[0].r]||[])[se[0].c]:n[Oa(se[0])];var ze=K[se[2]];m||(t.dense?(n[se[0].r]||(n[se[0].r]=[]),m=n[se[0].r][se[0].c]={t:"z"}):m=n[Oa(se[0])]={t:"z"},l.e.r=Math.max(l.e.r,se[0].r),l.s.r=Math.min(l.s.r,se[0].r),l.e.c=Math.max(l.e.c,se[0].c),l.s.c=Math.min(l.s.c,se[0].c)),m.c||(m.c=[]),v={a:se[1],t:ze.TxO.t},m.c.push(v)}break;case 2173:cpe(A[se.ixfe],se.ext);break;case 125:{if(!U.cellStyles)break;for(;se.e>=se.s;)V[se.e--]={width:se.w/256,level:se.level||0,hidden:!!(se.flags&1)},Q||(Q=!0,n8(se.w/256)),Rf(V[se.e+1])}break;case 520:{var Ke={};se.level!=null&&(J[se.r]=Ke,Ke.level=se.level),se.hidden&&(J[se.r]=Ke,Ke.hidden=!0),se.hpt&&(J[se.r]=Ke,Ke.hpt=se.hpt,Ke.hpx=px(se.hpt))}break;case 38:case 39:case 40:case 41:n["!margins"]||rm(n["!margins"]={}),n["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ce]]=se;break;case 161:n["!margins"]||rm(n["!margins"]={}),n["!margins"].header=se.header,n["!margins"].footer=se.footer;break;case 574:se.RTL&&(E.Views[0].RTL=!0);break;case 146:_=se;break;case 2198:P=se;break;case 140:N=se;break;case 442:d?D.CodeName=se||D.name:E.WBProps.CodeName=se||"ThisWorkbook";break}}else ie||console.error("Missing Info for XLS Record 0x"+ce.toString(16)),e.l+=G}return a.SheetNames=vn(i).sort(function(Ze,ht){return Number(Ze)-Number(ht)}).map(function(Ze){return i[Ze].name}),t.bookSheets||(a.Sheets=r),!a.SheetNames.length&&u["!ref"]?(a.SheetNames.push("Sheet1"),a.Sheets&&(a.Sheets.Sheet1=u)):a.Preamble=u,a.Sheets&&W.forEach(function(Ze,ht){a.Sheets[a.SheetNames[ht]]["!autofilter"]=Ze}),a.Strings=c,a.SSF=Cr(Ma),U.enc&&(a.Encryption=U.enc),P&&(a.Themes=P),a.Metadata={},N!==void 0&&(a.Metadata.Country=N),z.names.length>0&&(E.Names=z.names),a.Workbook=E,a}var Lv={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Nbe(e,t,a){var r=ka.find(e,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var n=FM(r,oC,Lv.DSI);for(var i in n)t[i]=n[i]}catch(d){if(a.WTF)throw d}var l=ka.find(e,"/!SummaryInformation");if(l&&l.size>0)try{var o=FM(l,cC,Lv.SI);for(var c in o)t[c]==null&&(t[c]=o[c])}catch(d){if(a.WTF)throw d}t.HeadingPairs&&t.TitlesOfParts&&(BH(t.HeadingPairs,t.TitlesOfParts,t,a),delete t.HeadingPairs,delete t.TitlesOfParts)}function kbe(e,t){var a=[],r=[],n=[],i=0,l,o=fM(oC,"n"),c=fM(cC,"n");if(e.Props)for(l=vn(e.Props),i=0;i<l.length;++i)(Object.prototype.hasOwnProperty.call(o,l[i])?a:Object.prototype.hasOwnProperty.call(c,l[i])?r:n).push([l[i],e.Props[l[i]]]);if(e.Custprops)for(l=vn(e.Custprops),i=0;i<l.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},l[i])||(Object.prototype.hasOwnProperty.call(o,l[i])?a:Object.prototype.hasOwnProperty.call(c,l[i])?r:n).push([l[i],e.Custprops[l[i]]]);var d=[];for(i=0;i<n.length;++i)qH.indexOf(n[i][0])>-1||IH.indexOf(n[i][0])>-1||n[i][1]!=null&&d.push(n[i]);r.length&&ka.utils.cfb_add(t,"/SummaryInformation",IM(r,Lv.SI,c,cC)),(a.length||d.length)&&ka.utils.cfb_add(t,"/DocumentSummaryInformation",IM(a,Lv.DSI,o,oC,d.length?d:null,Lv.UDI))}function f8(e,t){t||(t={}),p8(t),OA(),t.codepage&&LA(t.codepage);var a,r;if(e.FullPaths){if(ka.find(e,"/encryption"))throw new Error("File is password-protected");a=ka.find(e,"!CompObj"),r=ka.find(e,"/Workbook")||ka.find(e,"/Book")}else{switch(t.type){case"base64":e=zo(Go(e));break;case"binary":e=zo(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Yi(e,0),r={content:e}}var n,i;if(a&&bbe(a),t.bookProps&&!t.bookSheets)n={};else{var l=ms?"buffer":"array";if(r&&r.content)n=jbe(r.content,t);else if((i=ka.find(e,"PerfectOffice_MAIN"))&&i.content)n=sm.to_workbook(i.content,(t.type=l,t));else if((i=ka.find(e,"NativeContent_MAIN"))&&i.content)n=sm.to_workbook(i.content,(t.type=l,t));else throw(i=ka.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&ka.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(n.vbaraw=Fpe(e))}var o={};return e.FullPaths&&Nbe(e,o,t),n.Props=n.Custprops=o,t.bookFiles&&(n.cfb=e),n}function Sbe(e,t){var a=t||{},r=ka.utils.cfb_new({root:"R"}),n="/Workbook";switch(a.bookType||"xls"){case"xls":a.bookType="biff8";case"xla":a.bookType||(a.bookType="xla");case"biff8":n="/Workbook",a.biff=8;break;case"biff5":n="/Book",a.biff=5;break;default:throw new Error("invalid type "+a.bookType+" for XLS CFB")}return ka.utils.cfb_add(r,n,UV(e,a)),a.biff==8&&(e.Props||e.Custprops)&&kbe(e,r),a.biff==8&&e.vbaraw&&Ipe(r,ka.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),r}var x1={0:{f:Yge},1:{f:sve},2:{f:jve},3:{f:uve},4:{f:lve},5:{f:bve},6:{f:Ave},7:{f:pve},8:{f:Lve},9:{f:Mve},10:{f:Dve},11:{f:Pve},12:{f:nve},13:{f:kve},14:{f:fve},15:{f:cve},16:{f:MV},17:{f:Eve},18:{f:gve},19:{f:YA},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:E1e},40:{},42:{},43:{f:Ame},44:{f:Sme},45:{f:Tme},46:{f:Pme},47:{f:Dme},48:{},49:{f:Que},50:{},51:{f:hpe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:sV},62:{f:Cve},63:{f:wpe},64:{f:Xve},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Nl,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:qve},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:tve},148:{f:Qge,p:16},151:{f:$ve},152:{},153:{f:C1e},154:{},155:{},156:{f:k1e},157:{},158:{},159:{T:1,f:z0e},160:{T:-1},161:{T:1,f:zm},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Ove},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:dpe},336:{T:-1},337:{f:ppe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:lC},357:{},358:{},359:{},360:{T:1},361:{},362:{f:aV},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Uve},427:{f:zve},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Vve},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:eve},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Ive},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:lC},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Ppe},633:{T:1},634:{T:-1},635:{T:1,f:Tpe},636:{T:-1},637:{f:ahe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:f1e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Jve},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},pC={6:{f:Y5},10:{f:pf},12:{f:qn},13:{f:qn},14:{f:En},15:{f:En},16:{f:vl},17:{f:En},18:{f:En},19:{f:qn},20:{f:VM},21:{f:VM},23:{f:aV},24:{f:qM},25:{f:En},26:{},27:{},28:{f:Jfe},29:{},34:{f:En},35:{f:WM},38:{f:vl},39:{f:vl},40:{f:vl},41:{f:vl},42:{f:En},43:{f:En},47:{f:cme},49:{f:kfe},51:{f:qn},60:{},61:{f:bfe},64:{f:En},65:{f:Nfe},66:{f:qn},77:{},80:{},81:{},82:{},85:{f:qn},89:{},90:{},91:{},92:{f:ofe},93:{f:e0e},94:{},95:{f:En},96:{},97:{},99:{f:En},125:{f:sV},128:{f:Bfe},129:{f:dfe},130:{f:qn},131:{f:En},132:{f:En},133:{f:ufe},134:{},140:{f:o0e},141:{f:qn},144:{},146:{f:u0e},151:{},152:{},153:{},154:{},155:{},156:{f:qn},157:{},158:{},160:{f:v0e},161:{f:m0e},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:Ofe},190:{f:Rfe},193:{f:pf},197:{},198:{},199:{},200:{},201:{},202:{f:En},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:qn},220:{},221:{f:En},222:{},224:{f:Ife},225:{f:lfe},226:{f:pf},227:{},229:{f:Qfe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:ffe},253:{f:Cfe},255:{f:pfe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:GH},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:En},353:{f:pf},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:Vfe},431:{f:En},432:{},433:{},434:{},437:{},438:{f:s0e},439:{f:En},440:{f:r0e},441:{},442:{f:ab},443:{},444:{f:qn},445:{},446:{},448:{f:pf},449:{f:vfe,r:2},450:{f:pf},512:{f:UM},513:{f:g0e},515:{f:zfe},516:{f:_fe},517:{f:HM},519:{f:b0e},520:{f:xfe},523:{},545:{f:GM},549:{f:$M},566:{},574:{f:wfe},638:{f:Lfe},659:{},1048:{},1054:{f:Tfe},1084:{},1212:{f:Kfe},2048:{f:i0e},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Zy},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:pf},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:h0e,r:12},2173:{f:ope,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:En,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:Gfe,r:12},2197:{},2198:{f:ape,r:12},2199:{},2200:{},2201:{},2202:{f:Yfe,r:12},2203:{f:pf},2204:{},2205:{},2206:{},2207:{},2211:{f:gfe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:qn},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:p0e},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:d0e},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:UM},1:{},2:{f:k0e},3:{f:j0e},4:{f:w0e},5:{f:HM},7:{f:C0e},8:{},9:{f:Zy},11:{},22:{f:qn},30:{f:Pfe},31:{},32:{},33:{f:GM},36:{},37:{f:$M},50:{f:A0e},62:{},52:{},67:{},68:{f:qn},69:{},86:{},126:{},127:{f:y0e},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:_0e},223:{},234:{},354:{},421:{},518:{f:Y5},521:{f:Zy},536:{f:qM},547:{f:WM},561:{},579:{},1030:{f:Y5},1033:{f:Zy},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Zt(e,t,a,r){var n=t;if(!isNaN(n)){var i=r||(a||[]).length||0,l=e.next(4);l.write_shift(2,n),l.write_shift(2,i),i>0&&qA(a)&&e.push(a)}}function Cbe(e,t,a,r){var n=(a||[]).length||0;if(n<=8224)return Zt(e,t,a,n);var i=t;if(!isNaN(i)){for(var l=a.parts||[],o=0,c=0,d=0;d+(l[o]||8224)<=8224;)d+=l[o]||8224,o++;var u=e.next(4);for(u.write_shift(2,i),u.write_shift(2,d),e.push(a.slice(c,c+d)),c+=d;c<n;){for(u=e.next(4),u.write_shift(2,60),d=0;d+(l[o]||8224)<=8224;)d+=l[o]||8224,o++;u.write_shift(2,d),e.push(a.slice(c,c+d)),c+=d}}}function ib(e,t,a){return e||(e=kt(7)),e.write_shift(2,t),e.write_shift(2,a),e.write_shift(2,0),e.write_shift(1,0),e}function Abe(e,t,a,r){var n=kt(9);return ib(n,e,t),KH(a,r||"b",n),n}function _be(e,t,a){var r=kt(8+2*a.length);return ib(r,e,t),r.write_shift(1,a.length),r.write_shift(a.length,a,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function Ebe(e,t,a,r){if(t.v!=null)switch(t.t){case"d":case"n":var n=t.t=="d"?ui(Sr(t.v)):t.v;n==(n|0)&&n>=0&&n<65536?Zt(e,2,S0e(a,r,n)):Zt(e,3,N0e(a,r,n));return;case"b":case"e":Zt(e,5,Abe(a,r,t.v,t.t));return;case"s":case"str":Zt(e,4,_be(a,r,(t.v||"").slice(0,255)));return}Zt(e,1,ib(null,a,r))}function Tbe(e,t,a,r){var n=Array.isArray(t),i=Rs(t["!ref"]||"A1"),l,o="",c=[];if(i.e.c>255||i.e.r>16383){if(r.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),l=ns(i)}for(var d=i.s.r;d<=i.e.r;++d){o=Rn(d);for(var u=i.s.c;u<=i.e.c;++u){d===i.s.r&&(c[u]=en(u)),l=c[u]+o;var f=n?(t[d]||[])[u]:t[l];f&&Ebe(e,f,d,u)}}}function Dbe(e,t){for(var a=t||{},r=vo(),n=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==a.sheet&&(n=i);if(n==0&&a.sheet&&e.SheetNames[0]!=a.sheet)throw new Error("Sheet not found: "+a.sheet);return Zt(r,a.biff==4?1033:a.biff==3?521:9,a8(e,16,a)),Tbe(r,e.Sheets[e.SheetNames[n]],n,a),Zt(r,10),r.end()}function Pbe(e,t,a){Zt(e,49,Sfe({sz:12,name:"Arial"},a))}function Mbe(e,t,a){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&Zt(e,1054,Dfe(n,t[n],a))})}function Lbe(e,t){var a=kt(19);a.write_shift(4,2151),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(2,3),a.write_shift(1,1),a.write_shift(4,0),Zt(e,2151,a),a=kt(39),a.write_shift(4,2152),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(2,3),a.write_shift(1,0),a.write_shift(4,0),a.write_shift(2,1),a.write_shift(4,4),a.write_shift(2,0),ZH(Rs(t["!ref"]||"A1"),a),a.write_shift(4,4),Zt(e,2152,a)}function Obe(e,t){for(var a=0;a<16;++a)Zt(e,224,zM({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(r){Zt(e,224,zM(r,0,t))})}function Rbe(e,t){for(var a=0;a<t["!links"].length;++a){var r=t["!links"][a];Zt(e,440,n0e(r)),r[1].Tooltip&&Zt(e,2048,l0e(r))}delete t["!links"]}function Fbe(e,t){if(t){var a=0;t.forEach(function(r,n){++a<=256&&r&&Zt(e,125,f0e(cN(n,r),n))})}}function Ibe(e,t,a,r,n){var i=16+Jf(n.cellXfs,t,n);if(t.v==null&&!t.bf){Zt(e,513,Nm(a,r,i));return}if(t.bf)Zt(e,6,dge(t,a,r,n,i));else switch(t.t){case"d":case"n":var l=t.t=="d"?ui(Sr(t.v)):t.v;Zt(e,515,Hfe(a,r,l,i));break;case"b":case"e":Zt(e,517,Ufe(a,r,t.v,i,n,t.t));break;case"s":case"str":if(n.bookSST){var o=d8(n.Strings,t.v,n.revStrings);Zt(e,253,Afe(a,r,o,i))}else Zt(e,516,Efe(a,r,(t.v||"").slice(0,255),i,n));break;default:Zt(e,513,Nm(a,r,i))}}function Bbe(e,t,a){var r=vo(),n=a.SheetNames[e],i=a.Sheets[n]||{},l=(a||{}).Workbook||{},o=(l.Sheets||[])[e]||{},c=Array.isArray(i),d=t.biff==8,u,f="",p=[],m=Rs(i["!ref"]||"A1"),v=d?65536:16384;if(m.e.c>255||m.e.r>=v){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,v-1)}Zt(r,2057,a8(a,16,t)),Zt(r,13,Sc(1)),Zt(r,12,Sc(100)),Zt(r,15,Fl(!0)),Zt(r,17,Fl(!1)),Zt(r,16,wm(.001)),Zt(r,95,Fl(!0)),Zt(r,42,Fl(!1)),Zt(r,43,Fl(!1)),Zt(r,130,Sc(1)),Zt(r,128,$fe()),Zt(r,131,Fl(!1)),Zt(r,132,Fl(!1)),d&&Fbe(r,i["!cols"]),Zt(r,512,Mfe(m,t)),d&&(i["!links"]=[]);for(var g=m.s.r;g<=m.e.r;++g){f=Rn(g);for(var b=m.s.c;b<=m.e.c;++b){g===m.s.r&&(p[b]=en(b)),u=p[b]+f;var j=c?(i[g]||[])[b]:i[u];j&&(Ibe(r,j,g,b,t),d&&j.l&&i["!links"].push([u,j.l]))}}var k=o.CodeName||o.name||n;return d&&Zt(r,574,jfe((l.Views||[])[0])),d&&(i["!merges"]||[]).length&&Zt(r,229,Zfe(i["!merges"])),d&&Rbe(r,i),Zt(r,442,YH(k)),d&&Lbe(r,i),Zt(r,10),r.end()}function $be(e,t,a){var r=vo(),n=(e||{}).Workbook||{},i=n.Sheets||[],l=n.WBProps||{},o=a.biff==8,c=a.biff==5;if(Zt(r,2057,a8(e,5,a)),a.bookType=="xla"&&Zt(r,135),Zt(r,225,o?Sc(1200):null),Zt(r,193,Uhe(2)),c&&Zt(r,191),c&&Zt(r,192),Zt(r,226),Zt(r,92,cfe("SheetJS",a)),Zt(r,66,Sc(o?1200:1252)),o&&Zt(r,353,Sc(0)),o&&Zt(r,448),Zt(r,317,x0e(e.SheetNames.length)),o&&e.vbaraw&&Zt(r,211),o&&e.vbaraw){var d=l.CodeName||"ThisWorkbook";Zt(r,442,YH(d))}Zt(r,156,Sc(17)),Zt(r,25,Fl(!1)),Zt(r,18,Fl(!1)),Zt(r,19,Sc(0)),o&&Zt(r,431,Fl(!1)),o&&Zt(r,444,Sc(0)),Zt(r,61,yfe()),Zt(r,64,Fl(!1)),Zt(r,141,Sc(0)),Zt(r,34,Fl(v1e(e)=="true")),Zt(r,14,Fl(!0)),o&&Zt(r,439,Fl(!1)),Zt(r,218,Sc(0)),Pbe(r,e,a),Mbe(r,e.SSF,a),Obe(r,a),o&&Zt(r,352,Fl(!1));var u=r.end(),f=vo();o&&Zt(f,140,c0e()),o&&a.Strings&&Cbe(f,252,mfe(a.Strings)),Zt(f,10);var p=f.end(),m=vo(),v=0,g=0;for(g=0;g<e.SheetNames.length;++g)v+=(o?12:11)+(o?2:1)*e.SheetNames[g].length;var b=u.length+v+p.length;for(g=0;g<e.SheetNames.length;++g){var j=i[g]||{};Zt(m,133,hfe({pos:b,hs:j.Hidden||0,dt:0,name:e.SheetNames[g]},a)),b+=t[g].length}var k=m.end();if(v!=k.length)throw new Error("BS8 "+v+" != "+k.length);var S=[];return u.length&&S.push(u),k.length&&S.push(k),p.length&&S.push(p),_i(S)}function Ube(e,t){var a=t||{},r=[];e&&!e.SSF&&(e.SSF=Cr(Ma)),e&&e.SSF&&(Fx(),aN(e.SSF),a.revssf=rN(e.SSF),a.revssf[e.SSF[65535]]=0,a.ssf=e.SSF),a.Strings=[],a.Strings.Count=0,a.Strings.Unique=0,x8(a),a.cellXfs=[],Jf(a.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var n=0;n<e.SheetNames.length;++n)r[r.length]=Bbe(n,a,e);return r.unshift($be(e,r,a)),_i(r)}function UV(e,t){for(var a=0;a<=e.SheetNames.length;++a){var r=e.Sheets[e.SheetNames[a]];if(!(!r||!r["!ref"])){var n=bo(r["!ref"]);n.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[a]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return Ube(e,t);case 4:case 3:case 2:return Dbe(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function sL(e,t){var a=t||{},r=a.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var n=e.match(/<table/i);if(!n)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),l=n.index,o=i&&i.index||e.length,c=Sue(e.slice(l,o),/(:?<tr[^>]*>)/i,"<tr>"),d=-1,u=0,f=0,p=0,m={s:{r:1e7,c:1e7},e:{r:0,c:0}},v=[];for(l=0;l<c.length;++l){var g=c[l].trim(),b=g.slice(0,3).toLowerCase();if(b=="<tr"){if(++d,a.sheetRows&&a.sheetRows<=d){--d;break}u=0;continue}if(!(b!="<td"&&b!="<th")){var j=g.split(/<\/t[dh]>/i);for(o=0;o<j.length;++o){var k=j[o].trim();if(k.match(/<t[dh]/i)){for(var S=k,N=0;S.charAt(0)=="<"&&(N=S.indexOf(">"))>-1;)S=S.slice(N+1);for(var A=0;A<v.length;++A){var _=v[A];_.s.c==u&&_.s.r<d&&d<=_.e.r&&(u=_.e.c+1,A=-1)}var E=za(k.slice(0,k.indexOf(">")));p=E.colspan?+E.colspan:1,((f=+E.rowspan)>1||p>1)&&v.push({s:{r:d,c:u},e:{r:d+(f||1)-1,c:u+p-1}});var D=E.t||E["data-t"]||"";if(!S.length){u+=p;continue}if(S=hH(S),m.s.r>d&&(m.s.r=d),m.e.r<d&&(m.e.r=d),m.s.c>u&&(m.s.c=u),m.e.c<u&&(m.e.c=u),!S.length){u+=p;continue}var R={t:"s",v:S};a.raw||!S.trim().length||D=="s"||(S==="TRUE"?R={t:"b",v:!0}:S==="FALSE"?R={t:"b",v:!1}:isNaN(jd(S))?isNaN(fx(S).getDate())||(R={t:"d",v:Sr(S)},a.cellDates||(R={t:"n",v:ui(R.v)}),R.z=a.dateNF||Ma[14]):R={t:"n",v:jd(S)}),a.dense?(r[d]||(r[d]=[]),r[d][u]=R):r[Oa({r:d,c:u})]=R,u+=p}}}}return r["!ref"]=ns(m),v.length&&(r["!merges"]=v),r}function zbe(e,t,a,r){for(var n=e["!merges"]||[],i=[],l=t.s.c;l<=t.e.c;++l){for(var o=0,c=0,d=0;d<n.length;++d)if(!(n[d].s.r>a||n[d].s.c>l)&&!(n[d].e.r<a||n[d].e.c<l)){if(n[d].s.r<a||n[d].s.c<l){o=-1;break}o=n[d].e.r-n[d].s.r+1,c=n[d].e.c-n[d].s.c+1;break}if(!(o<0)){var u=Oa({r:a,c:l}),f=r.dense?(e[a]||[])[l]:e[u],p=f&&f.v!=null&&(f.h||HA(f.w||(ph(f),f.w)||""))||"",m={};o>1&&(m.rowspan=o),c>1&&(m.colspan=c),r.editable?p='<span contenteditable="true">'+p+"</span>":f&&(m["data-t"]=f&&f.t||"z",f.v!=null&&(m["data-v"]=f.v),f.z!=null&&(m["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(p='<a href="'+f.l.Target+'">'+p+"</a>")),m.id=(r.id||"sjs")+"-"+u,i.push(Qt("td",p,m))}}var v="<tr>";return v+i.join("")+"</tr>"}var Hbe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Vbe="</body></html>";function Wbe(e,t){var a=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!a||a.length==0)throw new Error("Invalid HTML: could not find <table>");if(a.length==1)return Xf(sL(a[0],t),t);var r=y8();return a.forEach(function(n,i){w8(r,sL(n,t),"Sheet"+(i+1))}),r}function qbe(e,t,a){var r=[];return r.join("")+"<table"+(a&&a.id?' id="'+a.id+'"':"")+">"}function zV(e,t){var a=t||{},r=a.header!=null?a.header:Hbe,n=a.footer!=null?a.footer:Vbe,i=[r],l=bo(e["!ref"]);a.dense=Array.isArray(e),i.push(qbe(e,l,a));for(var o=l.s.r;o<=l.e.r;++o)i.push(zbe(e,l,o,a));return i.push("</table>"+n),i.join("")}function HV(e,t,a){var r=a||{},n=0,i=0;if(r.origin!=null)if(typeof r.origin=="number")n=r.origin;else{var l=typeof r.origin=="string"?tn(r.origin):r.origin;n=l.r,i=l.c}var o=t.getElementsByTagName("tr"),c=Math.min(r.sheetRows||1e7,o.length),d={s:{r:0,c:0},e:{r:n,c:i}};if(e["!ref"]){var u=bo(e["!ref"]);d.s.r=Math.min(d.s.r,u.s.r),d.s.c=Math.min(d.s.c,u.s.c),d.e.r=Math.max(d.e.r,u.e.r),d.e.c=Math.max(d.e.c,u.e.c),n==-1&&(d.e.r=n=u.e.r+1)}var f=[],p=0,m=e["!rows"]||(e["!rows"]=[]),v=0,g=0,b=0,j=0,k=0,S=0;for(e["!cols"]||(e["!cols"]=[]);v<o.length&&g<c;++v){var N=o[v];if(rL(N)){if(r.display)continue;m[g]={hidden:!0}}var A=N.children;for(b=j=0;b<A.length;++b){var _=A[b];if(!(r.display&&rL(_))){var E=_.hasAttribute("data-v")?_.getAttribute("data-v"):_.hasAttribute("v")?_.getAttribute("v"):hH(_.innerHTML),D=_.getAttribute("data-z")||_.getAttribute("z");for(p=0;p<f.length;++p){var R=f[p];R.s.c==j+i&&R.s.r<g+n&&g+n<=R.e.r&&(j=R.e.c+1-i,p=-1)}S=+_.getAttribute("colspan")||1,((k=+_.getAttribute("rowspan")||1)>1||S>1)&&f.push({s:{r:g+n,c:j+i},e:{r:g+n+(k||1)-1,c:j+i+(S||1)-1}});var I={t:"s",v:E},M=_.getAttribute("data-t")||_.getAttribute("t")||"";E!=null&&(E.length==0?I.t=M||"z":r.raw||E.trim().length==0||M=="s"||(E==="TRUE"?I={t:"b",v:!0}:E==="FALSE"?I={t:"b",v:!1}:isNaN(jd(E))?isNaN(fx(E).getDate())||(I={t:"d",v:Sr(E)},r.cellDates||(I={t:"n",v:ui(I.v)}),I.z=r.dateNF||Ma[14]):I={t:"n",v:jd(E)})),I.z===void 0&&D!=null&&(I.z=D);var U="",P=_.getElementsByTagName("A");if(P&&P.length)for(var F=0;F<P.length&&!(P[F].hasAttribute("href")&&(U=P[F].getAttribute("href"),U.charAt(0)!="#"));++F);U&&U.charAt(0)!="#"&&(I.l={Target:U}),r.dense?(e[g+n]||(e[g+n]=[]),e[g+n][j+i]=I):e[Oa({c:j+i,r:g+n})]=I,d.e.c<j+i&&(d.e.c=j+i),j+=S}}++g}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),d.e.r=Math.max(d.e.r,g-1+n),e["!ref"]=ns(d),g>=c&&(e["!fullref"]=ns((d.e.r=o.length-v+g-1+n,d))),e}function VV(e,t){var a=t||{},r=a.dense?[]:{};return HV(r,e,t)}function Gbe(e,t){return Xf(VV(e,t),t)}function rL(e){var t="",a=Kbe(e);return a&&(t=a(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function Kbe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function Ybe(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,n){return Array(parseInt(n,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),a=Os(t.replace(/<[^>]*>/g,""));return[a]}var nL={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function WV(e,t){var a=t||{},r=VA(e),n=[],i,l,o={name:""},c="",d=0,u,f,p={},m=[],v=a.dense?[]:{},g,b,j={value:""},k="",S=0,N=[],A=-1,_=-1,E={s:{r:1e6,c:1e7},e:{r:0,c:0}},D=0,R={},I=[],M={},U=0,P=0,F=[],K=1,V=1,J=[],Q={Names:[]},z={},X=["",""],le=[],O={},q="",W=0,te=!1,re=!1,oe=0;for(d1.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");g=d1.exec(r);)switch(g[3]=g[3].replace(/_.*$/,"")){case"table":case"":g[1]==="/"?(E.e.c>=E.s.c&&E.e.r>=E.s.r?v["!ref"]=ns(E):v["!ref"]="A1:A1",a.sheetRows>0&&a.sheetRows<=E.e.r&&(v["!fullref"]=v["!ref"],E.e.r=a.sheetRows-1,v["!ref"]=ns(E)),I.length&&(v["!merges"]=I),F.length&&(v["!rows"]=F),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),m.push(u.name),p[u.name]=v,re=!1):g[0].charAt(g[0].length-2)!=="/"&&(u=za(g[0],!1),A=_=-1,E.s.r=E.s.c=1e7,E.e.r=E.e.c=0,v=a.dense?[]:{},I=[],F=[],re=!0);break;case"table-row-group":g[1]==="/"?--D:++D;break;case"table-row":case"":if(g[1]==="/"){A+=K,K=1;break}if(f=za(g[0],!1),f.?A=f.-1:A==-1&&(A=0),K=+f["number-rows-repeated"]||1,K<10)for(oe=0;oe<K;++oe)D>0&&(F[A+oe]={level:D});_=-1;break;case"covered-table-cell":g[1]!=="/"&&++_,a.sheetStubs&&(a.dense?(v[A]||(v[A]=[]),v[A][_]={t:"z"}):v[Oa({r:A,c:_})]={t:"z"}),k="",N=[];break;case"table-cell":case"":if(g[0].charAt(g[0].length-2)==="/")++_,j=za(g[0],!1),V=parseInt(j["number-columns-repeated"]||"1",10),b={t:"z",v:null},j.formula&&a.cellFormula!=!1&&(b.f=eL(Os(j.formula))),(j.||j["value-type"])=="string"&&(b.t="s",b.v=Os(j["string-value"]||""),a.dense?(v[A]||(v[A]=[]),v[A][_]=b):v[Oa({r:A,c:_})]=b),_+=V-1;else if(g[1]!=="/"){++_,k="",S=0,N=[],V=1;var ce=K?A+K-1:A;if(_>E.e.c&&(E.e.c=_),_<E.s.c&&(E.s.c=_),A<E.s.r&&(E.s.r=A),ce>E.e.r&&(E.e.r=ce),j=za(g[0],!1),le=[],O={},b={t:j.||j["value-type"],v:null},a.cellFormula)if(j.formula&&(j.formula=Os(j.formula)),j["number-matrix-columns-spanned"]&&j["number-matrix-rows-spanned"]&&(U=parseInt(j["number-matrix-rows-spanned"],10)||0,P=parseInt(j["number-matrix-columns-spanned"],10)||0,M={s:{r:A,c:_},e:{r:A+U-1,c:_+P-1}},b.F=ns(M),J.push([M,b.F])),j.formula)b.f=eL(j.formula);else for(oe=0;oe<J.length;++oe)A>=J[oe][0].s.r&&A<=J[oe][0].e.r&&_>=J[oe][0].s.c&&_<=J[oe][0].e.c&&(b.F=J[oe][1]);switch((j["number-columns-spanned"]||j["number-rows-spanned"])&&(U=parseInt(j["number-rows-spanned"],10)||0,P=parseInt(j["number-columns-spanned"],10)||0,M={s:{r:A,c:_},e:{r:A+U-1,c:_+P-1}},I.push(M)),j["number-columns-repeated"]&&(V=parseInt(j["number-columns-repeated"],10)),b.t){case"boolean":b.t="b",b.v=jr(j["boolean-value"]);break;case"float":b.t="n",b.v=parseFloat(j.value);break;case"percentage":b.t="n",b.v=parseFloat(j.value);break;case"currency":b.t="n",b.v=parseFloat(j.value);break;case"date":b.t="d",b.v=Sr(j["date-value"]),a.cellDates||(b.t="n",b.v=ui(b.v)),b.z="m/d/yy";break;case"time":b.t="n",b.v=jue(j["time-value"])/86400,a.cellDates&&(b.t="d",b.v=nN(b.v)),b.z="HH:MM:SS";break;case"number":b.t="n",b.v=parseFloat(j.);break;default:if(b.t==="string"||b.t==="text"||!b.t)b.t="s",j["string-value"]!=null&&(k=Os(j["string-value"]),N=[]);else throw new Error("Unsupported value type "+b.t)}}else{if(te=!1,b.t==="s"&&(b.v=k||"",N.length&&(b.R=N),te=S==0),z.Target&&(b.l=z),le.length>0&&(b.c=le,le=[]),k&&a.cellText!==!1&&(b.w=k),te&&(b.t="z",delete b.v),(!te||a.sheetStubs)&&!(a.sheetRows&&a.sheetRows<=A))for(var G=0;G<K;++G){if(V=parseInt(j["number-columns-repeated"]||"1",10),a.dense)for(v[A+G]||(v[A+G]=[]),v[A+G][_]=G==0?b:Cr(b);--V>0;)v[A+G][_+V]=Cr(b);else for(v[Oa({r:A+G,c:_})]=b;--V>0;)v[Oa({r:A+G,c:_+V})]=Cr(b);E.e.c<=_&&(E.e.c=_)}V=parseInt(j["number-columns-repeated"]||"1",10),_+=V-1,V=0,b={},k="",N=[]}z={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(g[1]==="/"){if((i=n.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&n.push([g[3],!0]);break;case"annotation":if(g[1]==="/"){if((i=n.pop())[0]!==g[3])throw"Bad state: "+i;O.t=k,N.length&&(O.R=N),O.a=q,le.push(O)}else g[0].charAt(g[0].length-2)!=="/"&&n.push([g[3],!1]);q="",W=0,k="",S=0,N=[];break;case"creator":g[1]==="/"?q=r.slice(W,g.index):W=g.index+g[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(g[1]==="/"){if((i=n.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&n.push([g[3],!1]);k="",S=0,N=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(g[1]==="/"){if(R[o.name]=c,(i=n.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&(c="",o=za(g[0],!1),n.push([g[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(n[n.length-1][0]){case"time-style":case"date-style":l=za(g[0],!1),c+=nL[g[3]][l.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(n[n.length-1][0]){case"time-style":case"date-style":l=za(g[0],!1),c+=nL[g[3]][l.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(g[0].slice(-2)==="/>")break;if(g[1]==="/")switch(n[n.length-1][0]){case"number-style":case"date-style":case"time-style":c+=r.slice(d,g.index);break}else d=g.index+g[0].length;break;case"named-range":l=za(g[0],!1),X=X5(l["cell-range-address"]);var ie={Name:l.name,Ref:X[0]+"!"+X[1]};re&&(ie.Sheet=m.length),Q.Names.push(ie);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(n[n.length-1][0])>-1)break;if(g[1]==="/"&&(!j||!j["string-value"])){var ye=Ybe(r.slice(S,g.index));k=(k.length>0?k+`
`:"")+ye[0]}else za(g[0],!1),S=g.index+g[0].length;break;case"s":break;case"database-range":if(g[1]==="/")break;try{X=X5(za(g[0])["target-range-address"]),p[X[0]]["!autofilter"]={ref:X[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(g[1]!=="/"){if(z=za(g[0],!1),!z.href)break;z.Target=Os(z.href),delete z.href,z.Target.charAt(0)=="#"&&z.Target.indexOf(".")>-1?(X=X5(z.Target.slice(1)),z.Target="#"+X[0]+"!"+X[1]):z.Target.match(/^\.\.[\\\/]/)&&(z.Target=z.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(g[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(a.WTF)throw new Error(g)}}var se={Sheets:p,SheetNames:m,Workbook:Q};return a.bookSheets&&delete se.Sheets,se}function iL(e,t){t=t||{},kc(e,"META-INF/manifest.xml")&&jhe(Wn(e,"META-INF/manifest.xml"),t);var a=Ho(e,"content.xml");if(!a)throw new Error("Missing content.xml in ODS / UOF file");var r=WV(or(a),t);return kc(e,"meta.xml")&&(r.Props=RH(Wn(e,"meta.xml"))),r}function lL(e,t){return WV(e,t)}var Xbe=(function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+c1({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Un+t}})(),oL=(function(){var e=function(i){return ar(i).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,a=`          <table:covered-table-cell/>
`,r=function(i,l,o){var c=[];c.push('      <table:table table:name="'+ar(l.SheetNames[o])+`" table:style-name="ta1">
`);var d=0,u=0,f=bo(i["!ref"]||"A1"),p=i["!merges"]||[],m=0,v=Array.isArray(i);if(i["!cols"])for(u=0;u<=f.e.c;++u)c.push("        <table:table-column"+(i["!cols"][u]?' table:style-name="co'+i["!cols"][u].ods+'"':"")+`></table:table-column>
`);var g="",b=i["!rows"]||[];for(d=0;d<f.s.r;++d)g=b[d]?' table:style-name="ro'+b[d].ods+'"':"",c.push("        <table:table-row"+g+`></table:table-row>
`);for(;d<=f.e.r;++d){for(g=b[d]?' table:style-name="ro'+b[d].ods+'"':"",c.push("        <table:table-row"+g+`>
`),u=0;u<f.s.c;++u)c.push(t);for(;u<=f.e.c;++u){var j=!1,k={},S="";for(m=0;m!=p.length;++m)if(!(p[m].s.c>u)&&!(p[m].s.r>d)&&!(p[m].e.c<u)&&!(p[m].e.r<d)){(p[m].s.c!=u||p[m].s.r!=d)&&(j=!0),k["table:number-columns-spanned"]=p[m].e.c-p[m].s.c+1,k["table:number-rows-spanned"]=p[m].e.r-p[m].s.r+1;break}if(j){c.push(a);continue}var N=Oa({r:d,c:u}),A=v?(i[d]||[])[u]:i[N];if(A&&A.f&&(k["table:formula"]=ar(xge(A.f)),A.F&&A.F.slice(0,N.length)==N)){var _=bo(A.F);k["table:number-matrix-columns-spanned"]=_.e.c-_.s.c+1,k["table:number-matrix-rows-spanned"]=_.e.r-_.s.r+1}if(!A){c.push(t);continue}switch(A.t){case"b":S=A.v?"TRUE":"FALSE",k["office:value-type"]="boolean",k["office:boolean-value"]=A.v?"true":"false";break;case"n":S=A.w||String(A.v||0),k["office:value-type"]="float",k["office:value"]=A.v||0;break;case"s":case"str":S=A.v==null?"":A.v,k["office:value-type"]="string";break;case"d":S=A.w||Sr(A.v).toISOString(),k["office:value-type"]="date",k["office:date-value"]=Sr(A.v).toISOString(),k["table:style-name"]="ce1";break;default:c.push(t);continue}var E=e(S);if(A.l&&A.l.Target){var D=A.l.Target;D=D.charAt(0)=="#"?"#"+gge(D.slice(1)):D,D.charAt(0)!="#"&&!D.match(/^\w+:/)&&(D="../"+D),E=Qt("text:a",E,{"xlink:href":D.replace(/&/g,"&amp;")})}c.push("          "+Qt("table:table-cell",Qt("text:p",E,{}),k)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},n=function(i,l){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var o=0;l.SheetNames.map(function(d){return l.Sheets[d]}).forEach(function(d){if(d&&d["!cols"]){for(var u=0;u<d["!cols"].length;++u)if(d["!cols"][u]){var f=d["!cols"][u];if(f.width==null&&f.wpx==null&&f.wch==null)continue;Rf(f),f.ods=o;var p=d["!cols"][u].wpx+"px";i.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+p+`"/>
`),i.push(`  </style:style>
`),++o}}});var c=0;l.SheetNames.map(function(d){return l.Sheets[d]}).forEach(function(d){if(d&&d["!rows"]){for(var u=0;u<d["!rows"].length;++u)if(d["!rows"][u]){d["!rows"][u].ods=c;var f=d["!rows"][u].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(l,o){var c=[Un],d=c1({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=c1({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(c.push("<office:document"+d+u+`>
`),c.push(OH().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+d+`>
`),n(c,l),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=l.SheetNames.length;++f)c.push(r(l.Sheets[l.SheetNames[f]],l,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),o.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}})();function qV(e,t){if(t.bookType=="fods")return oL(e,t);var a=$A(),r="",n=[],i=[];return r="mimetype",os(a,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",os(a,r,oL(e,t)),n.push([r,"text/xml"]),i.push([r,"ContentFile"]),r="styles.xml",os(a,r,Xbe(e,t)),n.push([r,"text/xml"]),i.push([r,"StylesFile"]),r="meta.xml",os(a,r,Un+OH()),n.push([r,"text/xml"]),i.push([r,"MetadataFile"]),r="manifest.rdf",os(a,r,She(i)),n.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",os(a,r,Nhe(n)),a}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function km(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function xC(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):or(Yf(e))}function Jbe(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):zo(cu(e))}function Qbe(e,t){e:for(var a=0;a<=e.length-t.length;++a){for(var r=0;r<t.length;++r)if(e[a+r]!=t[r])continue e;return!0}return!1}function If(e){var t=e.reduce(function(n,i){return n+i.length},0),a=new Uint8Array(t),r=0;return e.forEach(function(n){a.set(n,r),r+=n.length}),a}function cL(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function Zbe(e,t){for(var a=(e[t+15]&127)<<7|e[t+14]>>1,r=e[t+14]&1,n=t+13;n>=t;--n)r=r*256+e[n];return(e[t+15]&128?-r:r)*Math.pow(10,a-6176)}function eye(e,t,a){var r=Math.floor(a==0?0:Math.LOG10E*Math.log(Math.abs(a)))+6176-20,n=a/Math.pow(10,r-6176);e[t+15]|=r>>7,e[t+14]|=(r&127)<<1;for(var i=0;n>=1;++i,n/=256)e[t+i]=n&255;e[t+15]|=a>=0?0:128}function g1(e,t){var a=t?t[0]:0,r=e[a]&127;e:if(e[a++]>=128&&(r|=(e[a]&127)<<7,e[a++]<128||(r|=(e[a]&127)<<14,e[a++]<128)||(r|=(e[a]&127)<<21,e[a++]<128)||(r+=(e[a]&127)*Math.pow(2,28),++a,e[a++]<128)||(r+=(e[a]&127)*Math.pow(2,35),++a,e[a++]<128)||(r+=(e[a]&127)*Math.pow(2,42),++a,e[a++]<128)))break e;return t&&(t[0]=a),r}function Js(e){var t=new Uint8Array(7);t[0]=e&127;var a=1;e:if(e>127){if(t[a-1]|=128,t[a]=e>>7&127,++a,e<=16383||(t[a-1]|=128,t[a]=e>>14&127,++a,e<=2097151)||(t[a-1]|=128,t[a]=e>>21&127,++a,e<=268435455)||(t[a-1]|=128,t[a]=e/256>>>21&127,++a,e<=34359738367)||(t[a-1]|=128,t[a]=e/65536>>>21&127,++a,e<=4398046511103))break e;t[a-1]|=128,t[a]=e/16777216>>>21&127,++a}return t.slice(0,a)}function gn(e){var t=0,a=e[t]&127;e:if(e[t++]>=128){if(a|=(e[t]&127)<<7,e[t++]<128||(a|=(e[t]&127)<<14,e[t++]<128)||(a|=(e[t]&127)<<21,e[t++]<128))break e;a|=(e[t]&127)<<28}return a}function $s(e){for(var t=[],a=[0];a[0]<e.length;){var r=a[0],n=g1(e,a),i=n&7;n=Math.floor(n/8);var l=0,o;if(n==0)break;switch(i){case 0:{for(var c=a[0];e[a[0]++]>=128;);o=e.slice(c,a[0])}break;case 5:l=4,o=e.slice(a[0],a[0]+l),a[0]+=l;break;case 1:l=8,o=e.slice(a[0],a[0]+l),a[0]+=l;break;case 2:l=g1(e,a),o=e.slice(a[0],a[0]+l),a[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(n," at offset ").concat(r))}var d={data:o,type:i};t[n]==null?t[n]=[d]:t[n].push(d)}return t}function Wi(e){var t=[];return e.forEach(function(a,r){a.forEach(function(n){n.data&&(t.push(Js(r*8+n.type)),n.type==2&&t.push(Js(n.data.length)),t.push(n.data))})}),If(t)}function m8(e,t){return e?.map(function(a){return t(a.data)})||[]}function yc(e){for(var t,a=[],r=[0];r[0]<e.length;){var n=g1(e,r),i=$s(e.slice(r[0],r[0]+n));r[0]+=n;var l={id:gn(i[1][0].data),messages:[]};i[2].forEach(function(o){var c=$s(o.data),d=gn(c[3][0].data);l.messages.push({meta:c,data:e.slice(r[0],r[0]+d)}),r[0]+=d}),(t=i[3])!=null&&t[0]&&(l.merge=gn(i[3][0].data)>>>0>0),a.push(l)}return a}function Mp(e){var t=[];return e.forEach(function(a){var r=[];r[1]=[{data:Js(a.id),type:0}],r[2]=[],a.merge!=null&&(r[3]=[{data:Js(+!!a.merge),type:0}]);var n=[];a.messages.forEach(function(l){n.push(l.data),l.meta[3]=[{type:0,data:Js(l.data.length)}],r[2].push({data:Wi(l.meta),type:2})});var i=Wi(r);t.push(Js(i.length)),t.push(i),n.forEach(function(l){return t.push(l)})}),If(t)}function tye(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var a=[0],r=g1(t,a),n=[];a[0]<t.length;){var i=t[a[0]]&3;if(i==0){var l=t[a[0]++]>>2;if(l<60)++l;else{var o=l-59;l=t[a[0]],o>1&&(l|=t[a[0]+1]<<8),o>2&&(l|=t[a[0]+2]<<16),o>3&&(l|=t[a[0]+3]<<24),l>>>=0,l++,a[0]+=o}n.push(t.slice(a[0],a[0]+l)),a[0]+=l;continue}else{var c=0,d=0;if(i==1?(d=(t[a[0]]>>2&7)+4,c=(t[a[0]++]&224)<<3,c|=t[a[0]++]):(d=(t[a[0]++]>>2)+1,i==2?(c=t[a[0]]|t[a[0]+1]<<8,a[0]+=2):(c=(t[a[0]]|t[a[0]+1]<<8|t[a[0]+2]<<16|t[a[0]+3]<<24)>>>0,a[0]+=4)),n=[If(n)],c==0)throw new Error("Invalid offset 0");if(c>n[0].length)throw new Error("Invalid offset beyond length");if(d>=c)for(n.push(n[0].slice(-c)),d-=c;d>=n[n.length-1].length;)n.push(n[n.length-1]),d-=n[n.length-1].length;n.push(n[0].slice(-c,-c+d))}}var u=If(n);if(u.length!=r)throw new Error("Unexpected length: ".concat(u.length," != ").concat(r));return u}function wc(e){for(var t=[],a=0;a<e.length;){var r=e[a++],n=e[a]|e[a+1]<<8|e[a+2]<<16;a+=3,t.push(tye(r,e.slice(a,a+n))),a+=n}if(a!==e.length)throw new Error("data is not a valid framed stream!");return If(t)}function Lp(e){for(var t=[],a=0;a<e.length;){var r=Math.min(e.length-a,268435455),n=new Uint8Array(4);t.push(n);var i=Js(r),l=i.length;t.push(i),r<=60?(l++,t.push(new Uint8Array([r-1<<2]))):r<=256?(l+=2,t.push(new Uint8Array([240,r-1&255]))):r<=65536?(l+=3,t.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(l+=4,t.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(l+=5,t.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),t.push(e.slice(a,a+r)),l+=r,n[0]=0,n[1]=l&255,n[2]=l>>8&255,n[3]=l>>16&255,a+=r}return If(t)}function aye(e,t,a,r){var n=km(e),i=n.getUint32(4,!0),l=(r>1?12:8)+cL(i&(r>1?3470:398))*4,o=-1,c=-1,d=NaN,u=new Date(2001,0,1);i&512&&(o=n.getUint32(l,!0),l+=4),l+=cL(i&(r>1?12288:4096))*4,i&16&&(c=n.getUint32(l,!0),l+=4),i&32&&(d=n.getFloat64(l,!0),l+=8),i&64&&(u.setTime(u.getTime()+n.getFloat64(l,!0)*1e3),l+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:d};break;case 3:f={t:"s",v:t[c]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:d>0};break;case 7:f={t:"n",v:d/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:a[o]};else if(c>-1)f={t:"s",v:t[c]};else if(!isNaN(d))f={t:"n",v:d};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function sye(e,t,a){var r=km(e),n=r.getUint32(8,!0),i=12,l=-1,o=-1,c=NaN,d=NaN,u=new Date(2001,0,1);n&1&&(c=Zbe(e,i),i+=16),n&2&&(d=r.getFloat64(i,!0),i+=8),n&4&&(u.setTime(u.getTime()+r.getFloat64(i,!0)*1e3),i+=8),n&8&&(o=r.getUint32(i,!0),i+=4),n&16&&(l=r.getUint32(i,!0),i+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[o]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:d>0};break;case 7:f={t:"n",v:d/86400};break;case 8:f={t:"e",v:0};break;case 9:if(l>-1)f={t:"s",v:a[l]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(n&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(n&31," : ").concat(e.slice(0,4)))}return f}function Q5(e,t){var a=new Uint8Array(32),r=km(a),n=12,i=0;switch(a[0]=5,e.t){case"n":a[1]=2,eye(a,n,e.v),i|=1,n+=16;break;case"b":a[1]=6,r.setFloat64(n,e.v?1:0,!0),i|=2,n+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));a[1]=3,r.setUint32(n,t.indexOf(e.v),!0),i|=8,n+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(8,i,!0),a.slice(0,n)}function Z5(e,t){var a=new Uint8Array(32),r=km(a),n=12,i=0;switch(a[0]=3,e.t){case"n":a[2]=2,r.setFloat64(n,e.v,!0),i|=32,n+=8;break;case"b":a[2]=6,r.setFloat64(n,e.v?1:0,!0),i|=32,n+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));a[2]=3,r.setUint32(n,t.indexOf(e.v),!0),i|=16,n+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(4,i,!0),a.slice(0,n)}function rye(e,t,a){switch(e[0]){case 0:case 1:case 2:case 3:return aye(e,t,a,e[0]);case 5:return sye(e,t,a);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function hl(e){var t=$s(e);return g1(t[1][0].data)}function dL(e,t){var a=$s(t.data),r=gn(a[1][0].data),n=a[3],i=[];return(n||[]).forEach(function(l){var o=$s(l.data),c=gn(o[1][0].data)>>>0;switch(r){case 1:i[c]=xC(o[3][0].data);break;case 8:{var d=e[hl(o[9][0].data)][0],u=$s(d.data),f=e[hl(u[1][0].data)][0],p=gn(f.meta[1][0].data);if(p!=2001)throw new Error("2000 unexpected reference to ".concat(p));var m=$s(f.data);i[c]=m[3].map(function(v){return xC(v.data)}).join("")}break}}),i}function nye(e,t){var a,r,n,i,l,o,c,d,u,f,p,m,v,g,b=$s(e),j=gn(b[1][0].data)>>>0,k=gn(b[2][0].data)>>>0,S=((r=(a=b[8])==null?void 0:a[0])==null?void 0:r.data)&&gn(b[8][0].data)>0||!1,N,A;if((i=(n=b[7])==null?void 0:n[0])!=null&&i.data&&t!=0)N=(o=(l=b[7])==null?void 0:l[0])==null?void 0:o.data,A=(d=(c=b[6])==null?void 0:c[0])==null?void 0:d.data;else if((f=(u=b[4])==null?void 0:u[0])!=null&&f.data&&t!=1)N=(m=(p=b[4])==null?void 0:p[0])==null?void 0:m.data,A=(g=(v=b[3])==null?void 0:v[0])==null?void 0:g.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var _=S?4:1,E=km(N),D=[],R=0;R<N.length/2;++R){var I=E.getUint16(R*2,!0);I<65535&&D.push([R,I])}if(D.length!=k)throw"Expected ".concat(k," cells, found ").concat(D.length);var M=[];for(R=0;R<D.length-1;++R)M[D[R][0]]=A.subarray(D[R][1]*_,D[R+1][1]*_);return D.length>=1&&(M[D[D.length-1][0]]=A.subarray(D[D.length-1][1]*_)),{R:j,cells:M}}function iye(e,t){var a,r=$s(t.data),n=(a=r?.[7])!=null&&a[0]?gn(r[7][0].data)>>>0>0?1:0:-1,i=m8(r[5],function(l){return nye(l,n)});return{nrows:gn(r[4][0].data)>>>0,data:i.reduce(function(l,o){return l[o.R]||(l[o.R]=[]),o.cells.forEach(function(c,d){if(l[o.R][d])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(d));l[o.R][d]=c}),l},[])}}function lye(e,t,a){var r,n=$s(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(gn(n[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(n[6][0].data));if(i.e.c=(gn(n[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(n[7][0].data));a["!ref"]=ns(i);var l=$s(n[4][0].data),o=dL(e,e[hl(l[4][0].data)][0]),c=(r=l[17])!=null&&r[0]?dL(e,e[hl(l[17][0].data)][0]):[],d=$s(l[3][0].data),u=0;d[1].forEach(function(f){var p=$s(f.data),m=e[hl(p[2][0].data)][0],v=gn(m.meta[1][0].data);if(v!=6002)throw new Error("6001 unexpected reference to ".concat(v));var g=iye(e,m);g.data.forEach(function(b,j){b.forEach(function(k,S){var N=Oa({r:u+j,c:S}),A=rye(k,o,c);A&&(a[N]=A)})}),u+=g.nrows})}function oye(e,t){var a=$s(t.data),r={"!ref":"A1"},n=e[hl(a[2][0].data)],i=gn(n[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return lye(e,n[0],r),r}function cye(e,t){var a,r=$s(t.data),n={name:(a=r[1])!=null&&a[0]?xC(r[1][0].data):"",sheets:[]},i=m8(r[2],hl);return i.forEach(function(l){e[l].forEach(function(o){var c=gn(o.meta[1][0].data);c==6e3&&n.sheets.push(oye(e,o))})}),n}function dye(e,t){var a=y8(),r=$s(t.data),n=m8(r[1],hl);if(n.forEach(function(i){e[i].forEach(function(l){var o=gn(l.meta[1][0].data);if(o==2){var c=cye(e,l);c.sheets.forEach(function(d,u){w8(a,d,u==0?c.name:c.name+"_"+u,!0)})}})}),a.SheetNames.length==0)throw new Error("Empty NUMBERS file");return a}function e3(e){var t,a,r,n,i={},l=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var d;try{d=wc(c.content)}catch(f){return console.log("?? "+c.content.length+" "+(f.message||f))}var u;try{u=yc(d)}catch(f){return console.log("## "+(f.message||f))}u.forEach(function(f){i[f.id]=f.messages,l.push(f.id)})}}),!l.length)throw new Error("File has no messages");var o=((n=(r=(a=(t=i?.[1])==null?void 0:t[0])==null?void 0:a.meta)==null?void 0:r[1])==null?void 0:n[0].data)&&gn(i[1][0].meta[1][0].data)==1&&i[1][0];if(o||l.forEach(function(c){i[c].forEach(function(d){var u=gn(d.meta[1][0].data)>>>0;if(u==1)if(!o)o=d;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return dye(i,o)}function uye(e,t,a){var r,n,i,l;if(!((r=e[6])!=null&&r[0])||!((n=e[7])!=null&&n[0]))throw"Mutation only works on post-BNC storages!";var o=((l=(i=e[8])==null?void 0:i[0])==null?void 0:l.data)&&gn(e[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var c=0,d=km(e[7][0].data),u=0,f=[],p=km(e[4][0].data),m=0,v=[],g=0;g<t.length;++g){if(t[g]==null){d.setUint16(g*2,65535,!0),p.setUint16(g*2,65535);continue}d.setUint16(g*2,u,!0),p.setUint16(g*2,m,!0);var b,j;switch(typeof t[g]){case"string":b=Q5({t:"s",v:t[g]},a),j=Z5({t:"s",v:t[g]},a);break;case"number":b=Q5({t:"n",v:t[g]},a),j=Z5({t:"n",v:t[g]},a);break;case"boolean":b=Q5({t:"b",v:t[g]},a),j=Z5({t:"b",v:t[g]},a);break;default:throw new Error("Unsupported value "+t[g])}f.push(b),u+=b.length,v.push(j),m+=j.length,++c}for(e[2][0].data=Js(c);g<e[7][0].data.length/2;++g)d.setUint16(g*2,65535,!0),p.setUint16(g*2,65535,!0);return e[6][0].data=If(f),e[3][0].data=If(v),c}function hye(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var a=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=bo(a["!ref"]);r.s.r=r.s.c=0;var n=!1;r.e.c>9&&(n=!0,r.e.c=9),r.e.r>49&&(n=!0,r.e.r=49),n&&console.error("The Numbers writer is currently limited to ".concat(ns(r)));var i=Aw(a,{range:r,header:1}),l=["~Sh33tJ5~"];i.forEach(function(q){return q.forEach(function(W){typeof W=="string"&&l.push(W)})});var o={},c=[],d=ka.read(t.numbers,{type:"base64"});d.FileIndex.map(function(q,W){return[q,d.FullPaths[W]]}).forEach(function(q){var W=q[0],te=q[1];if(W.type==2&&W.name.match(/\.iwa/)){var re=W.content,oe=wc(re),ce=yc(oe);ce.forEach(function(G){c.push(G.id),o[G.id]={deps:[],location:te,type:gn(G.messages[0].meta[1][0].data)}})}}),c.sort(function(q,W){return q-W});var u=c.filter(function(q){return q>1}).map(function(q){return[q,Js(q)]});d.FileIndex.map(function(q,W){return[q,d.FullPaths[W]]}).forEach(function(q){var W=q[0];if(q[1],!!W.name.match(/\.iwa/)){var te=yc(wc(W.content));te.forEach(function(re){re.messages.forEach(function(oe){u.forEach(function(ce){re.messages.some(function(G){return gn(G.meta[1][0].data)!=11006&&Qbe(G.data,ce[1])})&&o[ce[0]].deps.push(re.id)})})})}});for(var f=ka.find(d,o[1].location),p=yc(wc(f.content)),m,v=0;v<p.length;++v){var g=p[v];g.id==1&&(m=g)}var b=hl($s(m.messages[0].data)[1][0].data);for(f=ka.find(d,o[b].location),p=yc(wc(f.content)),v=0;v<p.length;++v)g=p[v],g.id==b&&(m=g);for(b=hl($s(m.messages[0].data)[2][0].data),f=ka.find(d,o[b].location),p=yc(wc(f.content)),v=0;v<p.length;++v)g=p[v],g.id==b&&(m=g);for(b=hl($s(m.messages[0].data)[2][0].data),f=ka.find(d,o[b].location),p=yc(wc(f.content)),v=0;v<p.length;++v)g=p[v],g.id==b&&(m=g);var j=$s(m.messages[0].data);{j[6][0].data=Js(r.e.r+1),j[7][0].data=Js(r.e.c+1);var k=hl(j[46][0].data),S=ka.find(d,o[k].location),N=yc(wc(S.content));{for(var A=0;A<N.length&&N[A].id!=k;++A);if(N[A].id!=k)throw"Bad ColumnRowUIDMapArchive";var _=$s(N[A].messages[0].data);_[1]=[],_[2]=[],_[3]=[];for(var E=0;E<=r.e.c;++E){var D=[];D[1]=D[2]=[{type:0,data:Js(E+420690)}],_[1].push({type:2,data:Wi(D)}),_[2].push({type:0,data:Js(E)}),_[3].push({type:0,data:Js(E)})}_[4]=[],_[5]=[],_[6]=[];for(var R=0;R<=r.e.r;++R)D=[],D[1]=D[2]=[{type:0,data:Js(R+726270)}],_[4].push({type:2,data:Wi(D)}),_[5].push({type:0,data:Js(R)}),_[6].push({type:0,data:Js(R)});N[A].messages[0].data=Wi(_)}S.content=Lp(Mp(N)),S.size=S.content.length,delete j[46];var I=$s(j[4][0].data);{I[7][0].data=Js(r.e.r+1);var M=$s(I[1][0].data),U=hl(M[2][0].data);S=ka.find(d,o[U].location),N=yc(wc(S.content));{if(N[0].id!=U)throw"Bad HeaderStorageBucket";var P=$s(N[0].messages[0].data);for(R=0;R<i.length;++R){var F=$s(P[2][0].data);F[1][0].data=Js(R),F[4][0].data=Js(i[R].length),P[2][R]={type:P[2][0].type,data:Wi(F)}}N[0].messages[0].data=Wi(P)}S.content=Lp(Mp(N)),S.size=S.content.length;var K=hl(I[2][0].data);S=ka.find(d,o[K].location),N=yc(wc(S.content));{if(N[0].id!=K)throw"Bad HeaderStorageBucket";for(P=$s(N[0].messages[0].data),E=0;E<=r.e.c;++E)F=$s(P[2][0].data),F[1][0].data=Js(E),F[4][0].data=Js(r.e.r+1),P[2][E]={type:P[2][0].type,data:Wi(F)};N[0].messages[0].data=Wi(P)}S.content=Lp(Mp(N)),S.size=S.content.length;var V=hl(I[4][0].data);(function(){for(var q=ka.find(d,o[V].location),W=yc(wc(q.content)),te,re=0;re<W.length;++re){var oe=W[re];oe.id==V&&(te=oe)}var ce=$s(te.messages[0].data);{ce[3]=[];var G=[];l.forEach(function(se,Ie){G[1]=[{type:0,data:Js(Ie)}],G[2]=[{type:0,data:Js(1)}],G[3]=[{type:2,data:Jbe(se)}],ce[3].push({type:2,data:Wi(G)})})}te.messages[0].data=Wi(ce);var ie=Mp(W),ye=Lp(ie);q.content=ye,q.size=q.content.length})();var J=$s(I[3][0].data);{var Q=J[1][0];delete J[2];var z=$s(Q.data);{var X=hl(z[2][0].data);(function(){for(var q=ka.find(d,o[X].location),W=yc(wc(q.content)),te,re=0;re<W.length;++re){var oe=W[re];oe.id==X&&(te=oe)}var ce=$s(te.messages[0].data);{delete ce[6],delete J[7];var G=new Uint8Array(ce[5][0].data);ce[5]=[];for(var ie=0,ye=0;ye<=r.e.r;++ye){var se=$s(G);ie+=uye(se,i[ye],l),se[1][0].data=Js(ye),ce[5].push({data:Wi(se),type:2})}ce[1]=[{type:0,data:Js(r.e.c+1)}],ce[2]=[{type:0,data:Js(r.e.r+1)}],ce[3]=[{type:0,data:Js(ie)}],ce[4]=[{type:0,data:Js(r.e.r+1)}]}te.messages[0].data=Wi(ce);var Ie=Mp(W),pe=Lp(Ie);q.content=pe,q.size=q.content.length})()}Q.data=Wi(z)}I[3][0].data=Wi(J)}j[4][0].data=Wi(I)}m.messages[0].data=Wi(j);var le=Mp(p),O=Lp(le);return f.content=O,f.size=f.content.length,d}function GV(e){return function(a){for(var r=0;r!=e.length;++r){var n=e[r];a[n[0]]===void 0&&(a[n[0]]=n[1]),n[2]==="n"&&(a[n[0]]=Number(a[n[0]]))}}}function p8(e){GV([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function x8(e){GV([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function fye(e){return vs.WS.indexOf(e)>-1?"sheet":e==vs.CS?"chart":e==vs.DS?"dialog":e==vs.MS?"macro":e&&e.length?e:"sheet"}function mye(e,t){if(!e)return 0;try{e=t.map(function(r){return r.id||(r.id=r.strRelID),[r.name,e["!id"][r.id].Target,fye(e["!id"][r.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function pye(e,t,a,r,n,i,l,o,c,d,u,f){try{i[r]=Tv(Ho(e,a,!0),t);var p=Wn(e,t),m;switch(o){case"sheet":m=F1e(p,t,n,c,i[r],d,u,f);break;case"chart":if(m=I1e(p,t,n,c,i[r],d,u,f),!m||!m["!drawel"])break;var v=bv(m["!drawel"].Target,t),g=u1(v),b=kpe(Ho(e,v,!0),Tv(Ho(e,g,!0),v)),j=bv(b,v),k=u1(j);m=u1e(Ho(e,j,!0),j,c,Tv(Ho(e,k,!0),j),d,m);break;case"macro":m=B1e(p,t,n,c,i[r],d,u,f);break;case"dialog":m=$1e(p,t,n,c,i[r],d,u,f);break;default:throw new Error("Unrecognized sheet type "+o)}l[r]=m;var S=[];i&&i[r]&&vn(i[r]).forEach(function(N){var A="";if(i[r][N].Type==vs.CMNT){A=bv(i[r][N].Target,t);var _=V1e(Wn(e,A,!0),A,c);if(!_||!_.length)return;YM(m,_,!1)}i[r][N].Type==vs.TCMNT&&(A=bv(i[r][N].Target,t),S=S.concat(Cpe(Wn(e,A,!0),c)))}),S&&S.length&&YM(m,S,!0,c.people||[])}catch(N){if(c.WTF)throw N}}function pc(e){return e.charAt(0)=="/"?e.slice(1):e}function KV(e,t){if(Fx(),t=t||{},p8(t),kc(e,"META-INF/manifest.xml")||kc(e,"objectdata.xml"))return iL(e,t);if(kc(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof e3<"u"){if(e.FileIndex)return e3(e);var a=ka.utils.cfb_new();return xM(e).forEach(function(F){os(a,F,Aue(e,F))}),e3(a)}throw new Error("Unsupported NUMBERS file")}if(!kc(e,"[Content_Types].xml"))throw kc(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):kc(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=xM(e),n=yhe(Ho(e,"[Content_Types].xml")),i=!1,l,o;if(n.workbooks.length===0&&(o="xl/workbook.xml",Wn(e,o,!0)&&n.workbooks.push(o)),n.workbooks.length===0){if(o="xl/workbook.bin",!Wn(e,o,!0))throw new Error("Could not find workbook");n.workbooks.push(o),i=!0}n.workbooks[0].slice(-3)=="bin"&&(i=!0);var c={},d={};if(!t.bookSheets&&!t.bookProps){if(Dv=[],n.sst)try{Dv=H1e(Wn(e,pc(n.sst)),n.sst,t)}catch(F){if(t.WTF)throw F}t.cellStyles&&n.themes.length&&(c=z1e(Ho(e,n.themes[0].replace(/^\//,""),!0)||"",n.themes[0],t)),n.style&&(d=U1e(Wn(e,pc(n.style)),n.style,c,t))}n.links.map(function(F){try{var K=Tv(Ho(e,u1(pc(F))),F);return q1e(Wn(e,pc(F)),K,F,t)}catch{}});var u=R1e(Wn(e,pc(n.workbooks[0])),n.workbooks[0],t),f={},p="";n.coreprops.length&&(p=Wn(e,pc(n.coreprops[0]),!0),p&&(f=RH(p)),n.extprops.length!==0&&(p=Wn(e,pc(n.extprops[0]),!0),p&&Ahe(p,f,t)));var m={};(!t.bookSheets||t.bookProps)&&n.custprops.length!==0&&(p=Ho(e,pc(n.custprops[0]),!0),p&&(m=Ehe(p,t)));var v={};if((t.bookSheets||t.bookProps)&&(u.Sheets?l=u.Sheets.map(function(K){return K.name}):f.Worksheets&&f.SheetNames.length>0&&(l=f.SheetNames),t.bookProps&&(v.Props=f,v.Custprops=m),t.bookSheets&&typeof l<"u"&&(v.SheetNames=l),t.bookSheets?v.SheetNames:t.bookProps))return v;l={};var g={};t.bookDeps&&n.calcchain&&(g=W1e(Wn(e,pc(n.calcchain)),n.calcchain));var b=0,j={},k,S;{var N=u.Sheets;f.Worksheets=N.length,f.SheetNames=[];for(var A=0;A!=N.length;++A)f.SheetNames[A]=N[A].name}var _=i?"bin":"xml",E=n.workbooks[0].lastIndexOf("/"),D=(n.workbooks[0].slice(0,E+1)+"_rels/"+n.workbooks[0].slice(E+1)+".rels").replace(/^\//,"");kc(e,D)||(D="xl/_rels/workbook."+_+".rels");var R=Tv(Ho(e,D,!0),D.replace(/_rels.*/,"s5s"));(n.metadata||[]).length>=1&&(t.xlmeta=G1e(Wn(e,pc(n.metadata[0])),n.metadata[0],t)),(n.people||[]).length>=1&&(t.people=_pe(Wn(e,pc(n.people[0])),t)),R&&(R=mye(R,u.Sheets));var I=Wn(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(b=0;b!=f.Worksheets;++b){var M="sheet";if(R&&R[b]?(k="xl/"+R[b][1].replace(/[\/]?xl\//,""),kc(e,k)||(k=R[b][1]),kc(e,k)||(k=D.replace(/_rels\/.*$/,"")+R[b][1]),M=R[b][2]):(k="xl/worksheets/sheet"+(b+1-I)+"."+_,k=k.replace(/sheet0\./,"sheet.")),S=k.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(b!=t.sheets)continue e;break;case"string":if(f.SheetNames[b].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var U=!1,P=0;P!=t.sheets.length;++P)typeof t.sheets[P]=="number"&&t.sheets[P]==b&&(U=1),typeof t.sheets[P]=="string"&&t.sheets[P].toLowerCase()==f.SheetNames[b].toLowerCase()&&(U=1);if(!U)continue e}}pye(e,k,S,f.SheetNames[b],b,j,l,M,t,u,c,d)}return v={Directory:n,Workbook:u,Props:f,Custprops:m,Deps:g,Sheets:l,SheetNames:f.SheetNames,Strings:Dv,Styles:d,Themes:c,SSF:Cr(Ma)},t&&t.bookFiles&&(e.files?(v.keys=r,v.files=e.files):(v.keys=[],v.files={},e.FullPaths.forEach(function(F,K){F=F.replace(/^Root Entry[\/]/,""),v.keys.push(F),v.files[F]=e.FileIndex[K]}))),t&&t.bookVBA&&(n.vba.length>0?v.vbaraw=Wn(e,pc(n.vba[0]),!0):n.defaults&&n.defaults.bin===Rpe&&(v.vbaraw=Wn(e,"xl/vbaProject.bin",!0))),v}function xye(e,t){var a=t||{},r="Workbook",n=ka.find(e,r);try{if(r="/!DataSpaces/Version",n=ka.find(e,r),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(G0e(n.content),r="/!DataSpaces/DataSpaceMap",n=ka.find(e,r),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+r);var i=Y0e(n.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",n=ka.find(e,r),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+r);var l=X0e(n.content);if(l.length!=1||l[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",n=ka.find(e,r),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+r);Q0e(n.content)}catch{}if(r="/EncryptionInfo",n=ka.find(e,r),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=Z0e(n.content);if(r="/EncryptedPackage",n=ka.find(e,r),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],n.content,a.password||"",a);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],n.content,a.password||"",a);throw new Error("File is password-protected")}function gye(e,t){return t.bookType=="ods"?qV(e,t):t.bookType=="numbers"?hye(e,t):t.bookType=="xlsb"?vye(e,t):bye(e,t)}function vye(e,t){Wp=1024,e&&!e.SSF&&(e.SSF=Cr(Ma)),e&&e.SSF&&(Fx(),aN(e.SSF),t.revssf=rN(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Pv?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var a=t.bookType=="xlsb"?"bin":"xml",r=wV.indexOf(t.bookType)>-1,n=e8();x8(t=t||{});var i=$A(),l="",o=0;if(t.cellXfs=[],Jf(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",os(i,l,FH(e.Props,t)),n.coreprops.push(l),Qs(t.rels,2,l,vs.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,os(i,l,$H(e.Props)),n.extprops.push(l),Qs(t.rels,3,l,vs.EXT_PROPS),e.Custprops!==e.Props&&vn(e.Custprops||{}).length>0&&(l="docProps/custom.xml",os(i,l,UH(e.Custprops)),n.custprops.push(l),Qs(t.rels,4,l,vs.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var u={"!id":{}},f=e.Sheets[e.SheetNames[o-1]],p=(f||{})["!type"]||"sheet";switch(p){case"chart":default:l="xl/worksheets/sheet"+o+"."+a,os(i,l,Y1e(o-1,l,t,e,u)),n.sheets.push(l),Qs(t.wbrels,-1,"worksheets/sheet"+o+"."+a,vs.WS[0])}if(f){var m=f["!comments"],v=!1,g="";m&&m.length>0&&(g="xl/comments"+o+"."+a,os(i,g,Q1e(m,g)),n.comments.push(g),Qs(u,-1,"../comments"+o+"."+a,vs.CMNT),v=!0),f["!legacy"]&&v&&os(i,"xl/drawings/vmlDrawing"+o+".vml",bV(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}u["!id"].rId1&&os(i,u1(l),ex(u))}return t.Strings!=null&&t.Strings.length>0&&(l="xl/sharedStrings."+a,os(i,l,J1e(t.Strings,l,t)),n.strs.push(l),Qs(t.wbrels,-1,"sharedStrings."+a,vs.SST)),l="xl/workbook."+a,os(i,l,K1e(e,l)),n.workbooks.push(l),Qs(t.rels,1,l,vs.WB),l="xl/theme/theme1.xml",os(i,l,i8(e.Themes,t)),n.themes.push(l),Qs(t.wbrels,-1,"theme/theme1.xml",vs.THEME),l="xl/styles."+a,os(i,l,X1e(e,l,t)),n.styles.push(l),Qs(t.wbrels,-1,"styles."+a,vs.STY),e.vbaraw&&r&&(l="xl/vbaProject.bin",os(i,l,e.vbaraw),n.vba.push(l),Qs(t.wbrels,-1,"vbaProject.bin",vs.VBA)),l="xl/metadata."+a,os(i,l,Z1e(l)),n.metadata.push(l),Qs(t.wbrels,-1,"metadata."+a,vs.XLMETA),os(i,"[Content_Types].xml",LH(n,t)),os(i,"_rels/.rels",ex(t.rels)),os(i,"xl/_rels/workbook."+a+".rels",ex(t.wbrels)),delete t.revssf,delete t.ssf,i}function bye(e,t){Wp=1024,e&&!e.SSF&&(e.SSF=Cr(Ma)),e&&e.SSF&&(Fx(),aN(e.SSF),t.revssf=rN(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Pv?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var a="xml",r=wV.indexOf(t.bookType)>-1,n=e8();x8(t=t||{});var i=$A(),l="",o=0;if(t.cellXfs=[],Jf(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",os(i,l,FH(e.Props,t)),n.coreprops.push(l),Qs(t.rels,2,l,vs.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,os(i,l,$H(e.Props)),n.extprops.push(l),Qs(t.rels,3,l,vs.EXT_PROPS),e.Custprops!==e.Props&&vn(e.Custprops||{}).length>0&&(l="docProps/custom.xml",os(i,l,UH(e.Custprops)),n.custprops.push(l),Qs(t.rels,4,l,vs.CUST_PROPS));var u=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var f={"!id":{}},p=e.Sheets[e.SheetNames[o-1]],m=(p||{})["!type"]||"sheet";switch(m){case"chart":default:l="xl/worksheets/sheet"+o+"."+a,os(i,l,PV(o-1,t,e,f)),n.sheets.push(l),Qs(t.wbrels,-1,"worksheets/sheet"+o+"."+a,vs.WS[0])}if(p){var v=p["!comments"],g=!1,b="";if(v&&v.length>0){var j=!1;v.forEach(function(k){k[1].forEach(function(S){S.T==!0&&(j=!0)})}),j&&(b="xl/threadedComments/threadedComment"+o+"."+a,os(i,b,Ape(v,u,t)),n.threadedcomments.push(b),Qs(f,-1,"../threadedComments/threadedComment"+o+"."+a,vs.TCMNT)),b="xl/comments"+o+"."+a,os(i,b,yV(v)),n.comments.push(b),Qs(f,-1,"../comments"+o+"."+a,vs.CMNT),g=!0}p["!legacy"]&&g&&os(i,"xl/drawings/vmlDrawing"+o+".vml",bV(o,p["!comments"])),delete p["!comments"],delete p["!legacy"]}f["!id"].rId1&&os(i,u1(l),ex(f))}return t.Strings!=null&&t.Strings.length>0&&(l="xl/sharedStrings."+a,os(i,l,lV(t.Strings,t)),n.strs.push(l),Qs(t.wbrels,-1,"sharedStrings."+a,vs.SST)),l="xl/workbook."+a,os(i,l,FV(e)),n.workbooks.push(l),Qs(t.rels,1,l,vs.WB),l="xl/theme/theme1.xml",os(i,l,i8(e.Themes,t)),n.themes.push(l),Qs(t.wbrels,-1,"theme/theme1.xml",vs.THEME),l="xl/styles."+a,os(i,l,pV(e,t)),n.styles.push(l),Qs(t.wbrels,-1,"styles."+a,vs.STY),e.vbaraw&&r&&(l="xl/vbaProject.bin",os(i,l,e.vbaraw),n.vba.push(l),Qs(t.wbrels,-1,"vbaProject.bin",vs.VBA)),l="xl/metadata."+a,os(i,l,vV()),n.metadata.push(l),Qs(t.wbrels,-1,"metadata."+a,vs.XLMETA),u.length>1&&(l="xl/persons/person.xml",os(i,l,Epe(u)),n.people.push(l),Qs(t.wbrels,-1,"persons/person.xml",vs.PEOPLE)),os(i,"[Content_Types].xml",LH(n,t)),os(i,"_rels/.rels",ex(t.rels)),os(i,"xl/_rels/workbook."+a+".rels",ex(t.wbrels)),delete t.revssf,delete t.ssf,i}function g8(e,t){var a="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":a=Go(e.slice(0,12));break;case"binary":a=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[a.charCodeAt(0),a.charCodeAt(1),a.charCodeAt(2),a.charCodeAt(3),a.charCodeAt(4),a.charCodeAt(5),a.charCodeAt(6),a.charCodeAt(7)]}function yye(e,t){return ka.find(e,"EncryptedPackage")?xye(e,t):f8(e,t)}function wye(e,t){var a,r=e,n=t||{};return n.type||(n.type=ms&&Buffer.isBuffer(e)?"buffer":"base64"),a=cH(r,n),KV(a,n)}function YV(e,t){var a=0;e:for(;a<e.length;)switch(e.charCodeAt(a)){case 10:case 13:case 32:++a;break;case 60:return mC(e.slice(a),t);default:break e}return mx.to_workbook(e,t)}function jye(e,t){var a="",r=g8(e,t);switch(t.type){case"base64":a=Go(e);break;case"binary":a=e;break;case"buffer":a=e.toString("binary");break;case"array":a=ym(e);break;default:throw new Error("Unrecognized type "+t.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(a=or(a)),t.type="binary",YV(a,t)}function Nye(e,t){var a=e;return t.type=="base64"&&(a=Go(a)),a=n1.utils.decode(1200,a.slice(2),"str"),t.type="binary",YV(a,t)}function kye(e){return e.match(/[^\x00-\x7F]/)?cu(e):e}function t3(e,t,a,r){return r?(a.type="string",mx.to_workbook(e,a)):mx.to_workbook(t,a)}function Bf(e,t){OA();var a=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return Bf(new Uint8Array(e),(a=Cr(a),a.type="array",a));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!a.type&&(a.type=typeof Deno<"u"?"buffer":"array");var r=e,n=[0,0,0,0],i=!1;if(a.cellStyles&&(a.cellNF=!0,a.sheetStubs=!0),ax={},a.dateNF&&(ax.dateNF=a.dateNF),a.type||(a.type=ms&&Buffer.isBuffer(e)?"buffer":"base64"),a.type=="file"&&(a.type=ms?"buffer":"binary",r=bue(e),typeof Uint8Array<"u"&&!ms&&(a.type="array")),a.type=="string"&&(i=!0,a.type="binary",a.codepage=65001,r=kye(e)),a.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var l=new ArrayBuffer(3),o=new Uint8Array(l);if(o.foo="bar",!o.foo)return a=Cr(a),a.type="array",Bf(RA(r),a)}switch((n=g8(r,a))[0]){case 208:if(n[1]===207&&n[2]===17&&n[3]===224&&n[4]===161&&n[5]===177&&n[6]===26&&n[7]===225)return yye(ka.read(r,a),a);break;case 9:if(n[1]<=8)return f8(r,a);break;case 60:return mC(r,a);case 73:if(n[1]===73&&n[2]===42&&n[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(n[1]===68)return T0e(r,a);break;case 84:if(n[1]===65&&n[2]===66&&n[3]===76)return nV.to_workbook(r,a);break;case 80:return n[1]===75&&n[2]<9&&n[3]<9?wye(r,a):t3(e,r,a,i);case 239:return n[3]===60?mC(r,a):t3(e,r,a,i);case 255:if(n[1]===254)return Nye(r,a);if(n[1]===0&&n[2]===2&&n[3]===0)return sm.to_workbook(r,a);break;case 0:if(n[1]===0&&(n[2]>=2&&n[3]===0||n[2]===0&&(n[3]===8||n[3]===9)))return sm.to_workbook(r,a);break;case 3:case 131:case 139:case 140:return fC.to_workbook(r,a);case 123:if(n[1]===92&&n[2]===114&&n[3]===116)return hV.to_workbook(r,a);break;case 10:case 13:case 32:return jye(r,a);case 137:if(n[1]===80&&n[2]===78&&n[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return E0e.indexOf(n[0])>-1&&n[2]<=12&&n[3]<=31?fC.to_workbook(r,a):t3(e,r,a,i)}function XV(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Z1(t.file,ka.write(e,{type:ms?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return ka.write(e,t)}function Sye(e,t){var a=Cr(t||{}),r=gye(e,a);return Cye(r,a)}function Cye(e,t){var a={},r=ms?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(a.compression="DEFLATE"),t.password)a.type=r;else switch(t.type){case"base64":a.type="base64";break;case"binary":a.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":a.type=r;break;default:throw new Error("Unrecognized type "+t.type)}var n=e.FullPaths?ka.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[a.type]||a.type,compression:!!t.compression}):e.generate(a);if(typeof Deno<"u"&&typeof n=="string"){if(t.type=="binary"||t.type=="base64")return n;n=new Uint8Array(tN(n))}return t.password&&typeof encrypt_agile<"u"?XV(encrypt_agile(n,t.password),t):t.type==="file"?Z1(t.file,n):t.type=="string"?or(n):n}function Aye(e,t){var a=t||{},r=Sbe(e,a);return XV(r,a)}function iu(e,t,a){a||(a="");var r=a+e;switch(t.type){case"base64":return i1(cu(r));case"binary":return cu(r);case"string":return e;case"file":return Z1(t.file,r,"utf8");case"buffer":return ms?Ch(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):iu(r,{type:"binary"}).split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function _ye(e,t){switch(t.type){case"base64":return i1(e);case"binary":return e;case"string":return e;case"file":return Z1(t.file,e,"binary");case"buffer":return ms?Ch(e,"binary"):e.split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function s2(e,t){switch(t.type){case"string":case"base64":case"binary":for(var a="",r=0;r<e.length;++r)a+=String.fromCharCode(e[r]);return t.type=="base64"?i1(a):t.type=="string"?or(a):a;case"file":return Z1(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function v8(e,t){OA(),w1e(e);var a=Cr(t||{});if(a.cellStyles&&(a.cellNF=!0,a.sheetStubs=!0),a.type=="array"){a.type="binary";var r=v8(e,a);return a.type="array",tN(r)}var n=0;if(a.sheet&&(typeof a.sheet=="number"?n=a.sheet:n=e.SheetNames.indexOf(a.sheet),!e.SheetNames[n]))throw new Error("Sheet not found: "+a.sheet+" : "+typeof a.sheet);switch(a.bookType||"xlsb"){case"xml":case"xlml":return iu(vbe(e,a),a);case"slk":case"sylk":return iu(rV.from_sheet(e.Sheets[e.SheetNames[n]],a),a);case"htm":case"html":return iu(zV(e.Sheets[e.SheetNames[n]],a),a);case"txt":return _ye(JV(e.Sheets[e.SheetNames[n]],a),a);case"csv":return iu(b8(e.Sheets[e.SheetNames[n]],a),a,"\uFEFF");case"dif":return iu(nV.from_sheet(e.Sheets[e.SheetNames[n]],a),a);case"dbf":return s2(fC.from_sheet(e.Sheets[e.SheetNames[n]],a),a);case"prn":return iu(mx.from_sheet(e.Sheets[e.SheetNames[n]],a),a);case"rtf":return iu(hV.from_sheet(e.Sheets[e.SheetNames[n]],a),a);case"eth":return iu(iV.from_sheet(e.Sheets[e.SheetNames[n]],a),a);case"fods":return iu(qV(e,a),a);case"wk1":return s2(sm.sheet_to_wk1(e.Sheets[e.SheetNames[n]],a),a);case"wk3":return s2(sm.book_to_wk3(e,a),a);case"biff2":a.biff||(a.biff=2);case"biff3":a.biff||(a.biff=3);case"biff4":return a.biff||(a.biff=4),s2(UV(e,a),a);case"biff5":a.biff||(a.biff=5);case"biff8":case"xla":case"xls":return a.biff||(a.biff=8),Aye(e,a);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Sye(e,a);default:throw new Error("Unrecognized bookType |"+a.bookType+"|")}}function Eye(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},a=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();a.match(/^\.[a-z]+$/)&&(e.bookType=a.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function qr(e,t,a){var r={};return r.type="file",r.file=t,Eye(r),v8(e,r)}function Tye(e,t,a,r,n,i,l,o){var c=Rn(a),d=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,p=n===1?[]:{};if(n!==1)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:a,enumerable:!1})}catch{p.__rowNum__=a}else p.__rowNum__=a;if(!l||e[a])for(var m=t.s.c;m<=t.e.c;++m){var v=l?e[a][m]:e[r[m]+c];if(v===void 0||v.t===void 0){if(d===void 0)continue;i[m]!=null&&(p[i[m]]=d);continue}var g=v.v;switch(v.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+v.t)}if(i[m]!=null){if(g==null)if(v.t=="e"&&g===null)p[i[m]]=null;else if(d!==void 0)p[i[m]]=d;else if(u&&g===null)p[i[m]]=null;else continue;else p[i[m]]=u&&(v.t!=="n"||v.t==="n"&&o.rawNumbers!==!1)?g:ph(v,g,o);g!=null&&(f=!1)}}return{row:p,isempty:f}}function Aw(e,t){if(e==null||e["!ref"]==null)return[];var a={t:"n",v:0},r=0,n=1,i=[],l=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},d=t||{},u=d.range!=null?d.range:e["!ref"];switch(d.header===1?r=1:d.header==="A"?r=2:Array.isArray(d.header)?r=3:d.header==null&&(r=0),typeof u){case"string":c=Rs(u);break;case"number":c=Rs(e["!ref"]),c.s.r=u;break;default:c=u}r>0&&(n=0);var f=Rn(c.s.r),p=[],m=[],v=0,g=0,b=Array.isArray(e),j=c.s.r,k=0,S={};b&&!e[j]&&(e[j]=[]);var N=d.skipHidden&&e["!cols"]||[],A=d.skipHidden&&e["!rows"]||[];for(k=c.s.c;k<=c.e.c;++k)if(!(N[k]||{}).hidden)switch(p[k]=en(k),a=b?e[j][k]:e[p[k]+f],r){case 1:i[k]=k-c.s.c;break;case 2:i[k]=p[k];break;case 3:i[k]=d.header[k-c.s.c];break;default:if(a==null&&(a={w:"__EMPTY",t:"s"}),o=l=ph(a,null,d),g=S[l]||0,!g)S[l]=1;else{do o=l+"_"+g++;while(S[o]);S[l]=g,S[o]=1}i[k]=o}for(j=c.s.r+n;j<=c.e.r;++j)if(!(A[j]||{}).hidden){var _=Tye(e,c,j,p,r,i,b,d);(_.isempty===!1||(r===1?d.blankrows!==!1:d.blankrows))&&(m[v++]=_.row)}return m.length=v,m}var uL=/"/g;function Dye(e,t,a,r,n,i,l,o){for(var c=!0,d=[],u="",f=Rn(a),p=t.s.c;p<=t.e.c;++p)if(r[p]){var m=o.dense?(e[a]||[])[p]:e[r[p]+f];if(m==null)u="";else if(m.v!=null){c=!1,u=""+(o.rawNumbers&&m.t=="n"?m.v:ph(m,null,o));for(var v=0,g=0;v!==u.length;++v)if((g=u.charCodeAt(v))===n||g===i||g===34||o.forceQuotes){u='"'+u.replace(uL,'""')+'"';break}u=="ID"&&(u='"ID"')}else m.f!=null&&!m.F?(c=!1,u="="+m.f,u.indexOf(",")>=0&&(u='"'+u.replace(uL,'""')+'"')):u="";d.push(u)}return o.blankrows===!1&&c?null:d.join(l)}function b8(e,t){var a=[],r=t??{};if(e==null||e["!ref"]==null)return"";var n=Rs(e["!ref"]),i=r.FS!==void 0?r.FS:",",l=i.charCodeAt(0),o=r.RS!==void 0?r.RS:`
`,c=o.charCodeAt(0),d=new RegExp((i=="|"?"\\|":i)+"+$"),u="",f=[];r.dense=Array.isArray(e);for(var p=r.skipHidden&&e["!cols"]||[],m=r.skipHidden&&e["!rows"]||[],v=n.s.c;v<=n.e.c;++v)(p[v]||{}).hidden||(f[v]=en(v));for(var g=0,b=n.s.r;b<=n.e.r;++b)(m[b]||{}).hidden||(u=Dye(e,n,b,f,l,c,i,r),u!=null&&(r.strip&&(u=u.replace(d,"")),(u||r.blankrows!==!1)&&a.push((g++?o:"")+u)));return delete r.dense,a.join("")}function JV(e,t){t||(t={}),t.FS="	",t.RS=`
`;var a=b8(e,t);return a}function Pye(e){var t="",a,r="";if(e==null||e["!ref"]==null)return[];var n=Rs(e["!ref"]),i="",l=[],o,c=[],d=Array.isArray(e);for(o=n.s.c;o<=n.e.c;++o)l[o]=en(o);for(var u=n.s.r;u<=n.e.r;++u)for(i=Rn(u),o=n.s.c;o<=n.e.c;++o)if(t=l[o]+i,a=d?(e[u]||[])[o]:e[t],r="",a!==void 0){if(a.F!=null){if(t=a.F,!a.f)continue;r=a.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(a.f!=null)r=a.f;else{if(a.t=="z")continue;if(a.t=="n"&&a.v!=null)r=""+a.v;else if(a.t=="b")r=a.v?"TRUE":"FALSE";else if(a.w!==void 0)r="'"+a.w;else{if(a.v===void 0)continue;a.t=="s"?r="'"+a.v:r=""+a.v}}c[c.length]=t+"="+r}return c}function QV(e,t,a){var r=a||{},n=+!r.skipHeader,i=e||{},l=0,o=0;if(i&&r.origin!=null)if(typeof r.origin=="number")l=r.origin;else{var c=typeof r.origin=="string"?tn(r.origin):r.origin;l=c.r,o=c.c}var d,u={s:{c:0,r:0},e:{c:o,r:l+t.length-1+n}};if(i["!ref"]){var f=Rs(i["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),l==-1&&(l=f.e.r+1,u.e.r=l+t.length-1+n)}else l==-1&&(l=0,u.e.r=t.length-1+n);var p=r.header||[],m=0;t.forEach(function(g,b){vn(g).forEach(function(j){(m=p.indexOf(j))==-1&&(p[m=p.length]=j);var k=g[j],S="z",N="",A=Oa({c:o+m,r:l+b+n});d=v1(i,A),k&&typeof k=="object"&&!(k instanceof Date)?i[A]=k:(typeof k=="number"?S="n":typeof k=="boolean"?S="b":typeof k=="string"?S="s":k instanceof Date?(S="d",r.cellDates||(S="n",k=ui(k)),N=r.dateNF||Ma[14]):k===null&&r.nullError&&(S="e",k=0),d?(d.t=S,d.v=k,delete d.w,delete d.R,N&&(d.z=N)):i[A]=d={t:S,v:k},N&&(d.z=N))})}),u.e.c=Math.max(u.e.c,o+p.length-1);var v=Rn(l);if(n)for(m=0;m<p.length;++m)i[en(m+o)+v]={t:"s",v:p[m]};return i["!ref"]=ns(u),i}function Mye(e,t){return QV(null,e,t)}function v1(e,t,a){if(typeof t=="string"){if(Array.isArray(e)){var r=tn(t);return e[r.r]||(e[r.r]=[]),e[r.r][r.c]||(e[r.r][r.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?v1(e,Oa(t)):v1(e,Oa({r:t,c:a||0}))}function Lye(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var a=e.SheetNames.indexOf(t);if(a>-1)return a;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function y8(){return{SheetNames:[],Sheets:{}}}function w8(e,t,a,r){var n=1;if(!a)for(;n<=65535&&e.SheetNames.indexOf(a="Sheet"+n)!=-1;++n,a=void 0);if(!a||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&e.SheetNames.indexOf(a)>=0){var i=a.match(/(^.*?)(\d+)$/);n=i&&+i[2]||0;var l=i&&i[1]||a;for(++n;n<=65535&&e.SheetNames.indexOf(a=l+n)!=-1;++n);}if(RV(a),e.SheetNames.indexOf(a)>=0)throw new Error("Worksheet with name |"+a+"| already exists!");return e.SheetNames.push(a),e.Sheets[a]=t,a}function Oye(e,t,a){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var r=Lye(e,t);switch(e.Workbook.Sheets[r]||(e.Workbook.Sheets[r]={}),a){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+a)}e.Workbook.Sheets[r].Hidden=a}function Rye(e,t){return e.z=t,e}function ZV(e,t,a){return t?(e.l={Target:t},a&&(e.l.Tooltip=a)):delete e.l,e}function Fye(e,t,a){return ZV(e,"#"+t,a)}function Iye(e,t,a){e.c||(e.c=[]),e.c.push({t,a:a||"SheetJS"})}function Bye(e,t,a,r){for(var n=typeof t!="string"?t:Rs(t),i=typeof t=="string"?t:ns(t),l=n.s.r;l<=n.e.r;++l)for(var o=n.s.c;o<=n.e.c;++o){var c=v1(e,l,o);c.t="n",c.F=i,delete c.v,l==n.s.r&&o==n.s.c&&(c.f=a,r&&(c.D=!0))}return e}var sa={encode_col:en,encode_row:Rn,encode_cell:Oa,encode_range:ns,decode_col:KA,decode_row:GA,split_cell:Jue,decode_cell:tn,decode_range:bo,format_cell:ph,sheet_add_aoa:AH,sheet_add_json:QV,sheet_add_dom:HV,aoa_to_sheet:Ix,json_to_sheet:Mye,table_to_sheet:VV,table_to_book:Gbe,sheet_to_csv:b8,sheet_to_txt:JV,sheet_to_json:Aw,sheet_to_html:zV,sheet_to_formulae:Pye,sheet_to_row_object_array:Aw,sheet_get_cell:v1,book_new:y8,book_append_sheet:w8,book_set_sheet_visibility:Oye,cell_set_number_format:Rye,cell_set_hyperlink:ZV,cell_set_internal_link:Fye,cell_add_comment:Iye,sheet_set_array_formula:Bye,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const eW=Object.freeze(Object.defineProperty({__proto__:null,CFB:ka,parse_xlscfb:f8,parse_zip:KV,read:Bf,utils:sa,write:v8,writeFile:qr,writeFileSync:qr},Symbol.toStringTag,{value:"Module"})),tW=({isOpen:e,onClose:t,excelFile:a,setExcelFile:r,importing:n,importError:i,importSummary:l,onImport:o})=>{const{t:c,i18n:d}=St(),u=()=>{const m=[{LEAD:" ",Email:"ahmed@example.com",Phone:"01234567890",Company:" ",Status:"new",Priority:"medium",Source:"website","Assigned To":" ","Created At":"2024-01-01","Last Contact":"2024-01-01","Estimated Value":"10000",Probability:"50",Notes:" "}],v=sa.json_to_sheet(m),g=sa.book_new();sa.book_append_sheet(g,v,"Leads Template"),qr(g,"leads_template.xlsx")},f=m=>new Promise((v,g)=>{const b=new FileReader;b.onload=j=>{try{const k=new Uint8Array(j.target.result),S=Bf(k,{type:"array"}),N=S.SheetNames[0],A=S.Sheets[N],_=sa.sheet_to_json(A,{header:1});if(_.length===0){g(new Error(" "));return}const E=_[0].map(I=>I?.toString()?.toLowerCase()?.trim()),D=["lead","email","phone"],R=[];D.forEach(I=>{E.some(U=>U.includes(I)||U.includes("name")&&I==="lead"||U.includes("")&&I==="lead"||U.includes("")&&I==="email"||U.includes("")&&I==="phone")||R.push(I)}),R.length>0?g(new Error(`  : ${R.join(", ")}`)):v(!0)}catch{g(new Error("   "))}},b.readAsArrayBuffer(m)}),p=async m=>{if(m)try{await f(m),r(m)}catch(v){alert(v.message)}};return e?s.jsxs("div",{className:`fixed inset-0 z-[2000] ${d.language==="ar"?"rtl":"ltr"} flex items-center justify-center`,children:[s.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:t}),s.jsxs("div",{className:"relative max-w-2xl w-full mx-4 rounded-2xl bg-white dark:bg-gray-800 shadow-2xl border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-9 h-9 flex items-center justify-center rounded-xl bg-blue-600 text-white shadow-md",children:s.jsx(lh,{className:"w-4 h-4"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:c("import.title")})]}),s.jsx("button",{onClick:t,className:"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":c("Close"),children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-5 h-5",children:[s.jsx("path",{d:"M18 6L6 18"}),s.jsx("path",{d:"M6 6l12 12"})]})})]}),s.jsxs("div",{className:"px-6 py-6",children:[s.jsxs("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-200 dark:border-blue-800",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(pz,{className:"w-5 h-5 text-green-600"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:c("template.downloadExcel")}),s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:c("template.downloadDescription")})]})]}),s.jsxs("button",{onClick:u,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-green-600 hover:bg-green-700 text-white text-sm font-medium transition-colors duration-200",children:[s.jsx(lh,{className:"w-3 h-3"}),c("template.downloadButton")]})]}),s.jsxs("div",{className:"mt-3 text-xs text-gray-500 dark:text-gray-400",children:[s.jsx("strong",{children:c("template.requiredFields")})," LEAD, Email, Phone"]})]}),s.jsxs("div",{className:"group relative flex flex-col items-center justify-center gap-3 p-6 rounded-2xl border-2 border-dashed border-blue-300 dark:border-blue-600 bg-white/70 dark:bg-gray-800/60 hover:bg-white dark:hover:bg-gray-800 transition-colors duration-300",onDragOver:m=>m.preventDefault(),onDrop:async m=>{m.preventDefault();const v=m.dataTransfer.files?.[0];v&&/\.xlsx$|\.xls$/i.test(v.name)&&await p(v)},children:[s.jsx("svg",{className:"w-10 h-10 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16V4m0 0l-3 3m3-3l3 3m7 4v12m0 0l-3-3m3 3l3-3"})}),s.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 text-center",children:c("import.dropzone")}),s.jsx("input",{id:"modal-excel-file-input",type:"file",accept:".xlsx,.xls",onChange:async m=>{const v=m.target.files?.[0]||null;v?await p(v):r(null)},className:"hidden"}),s.jsx("button",{type:"button",onClick:()=>document.getElementById("modal-excel-file-input")?.click(),className:"px-4 py-2 rounded-md text-sm font-semibold bg-blue-50 text-blue-700 hover:bg-blue-100 dark:bg-gray-700 dark:text-gray-200",children:c("import.browseButton")}),a?s.jsx("div",{className:"mt-2 text-xs text-gray-600 dark:text-gray-400",children:c("import.selectedFile",{file:a.name})}):s.jsx("div",{className:"mt-2 text-xs text-gray-600 dark:text-gray-400",children:c("import.noFileSelected")})]}),s.jsxs("div",{className:"mt-5 flex flex-col sm:flex-row gap-3 sm:items-center",children:[s.jsxs("button",{onClick:o,disabled:!a||n,className:`inline-flex items-center gap-2 px-5 py-3 rounded-xl text-sm font-bold ${n?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} text-white shadow-md transition-colors duration-300`,children:[s.jsx(lh,{className:"w-4 h-4"}),c(n?"import.importing":"import.importButton")]}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:c("import.supportedFiles")})]}),i&&s.jsx("div",{className:"mt-4 px-4 py-3 rounded-lg bg-red-50 text-red-700 border border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800",children:c(i)}),l&&s.jsx("div",{className:"mt-4 px-4 py-3 rounded-lg bg-green-50 text-green-700 border border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800",children:c("import.summary",{count:l.added})}),s.jsx("div",{className:"mt-3 text-xs text-gray-500 dark:text-gray-400",children:c("import.supportedFields")})]}),s.jsx("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-700 flex justify-end",children:s.jsx("button",{onClick:t,className:"px-4 py-2 rounded-md bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-sm",children:c("Close")})})]})]}):null},aW=({columns:e,visibleColumns:t,onColumnToggle:a,onResetColumns:r,align:n="right",compact:i=!1})=>{const{t:l}=St(),[o,c]=y.useState(!1),[d,u]=y.useState(""),f=y.useRef(null),[p,m]=y.useState(!1),[v,g]=y.useState({}),b=y.useRef(null);return y.useEffect(()=>{const j=k=>{const S=f.current&&f.current.contains(k.target),N=b.current&&b.current.contains(k.target);S||N||c(!1)};return document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[]),y.useEffect(()=>{const j=()=>m(window.innerWidth<640);return j(),window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[]),y.useEffect(()=>{if(!o)return;const j=f.current;if(!j)return;const k=j.getBoundingClientRect();if(p){const S=Math.min(320,window.innerWidth-24),N=k.bottom+window.scrollY+8;let A=k.left+window.scrollX;A=Math.min(Math.max(A,12),window.innerWidth+window.scrollX-12-S),g({position:"absolute",top:N,left:A,maxWidth:S})}else{const N=k.bottom+8;let A=n==="right"?k.right-288:k.left;A=Math.min(Math.max(A,12),window.innerWidth-12-288),g({position:"fixed",top:N,left:A,width:288})}},[o,p,n]),s.jsxs("div",{className:"relative",ref:f,children:[s.jsxs("button",{onClick:()=>c(!o),className:`inline-flex items-center gap-2 ${i?"px-2 py-1":"px-3 py-2"} rounded-md bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500`,"aria-expanded":o,"aria-label":l("Display Options"),title:l("Display Options"),children:[s.jsx(_oe,{className:`${i?"h-4 w-4":"h-5 w-5"}`}),s.jsx("span",{className:`${i?"text-xs":"text-sm"} font-medium`,children:l("Display Options")})]}),o&&(p?lx.createPortal(s.jsx("div",{className:"absolute w-auto inline-block rounded-lg shadow-xl bg-[var(--panel-bg)] text-[var(--content-text)] ring-1 ring-[var(--panel-border)] z-[10000] pointer-events-auto text-xs",style:v,ref:b,children:s.jsxs("div",{className:"p-2 space-y-2",role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-xs font-semibold",children:l("Show/Hide Columns")}),r&&s.jsxs("button",{type:"button",onClick:r,className:"inline-flex items-center gap-1 px-2 py-1 rounded-md text-[11px] bg-[var(--table-header-bg)] hover:bg-[var(--table-row-hover)] text-[var(--content-text)]",title:l("Reset Columns"),children:[s.jsx(FP,{className:"h-3 w-3"}),l("Reset Columns")]})]}),s.jsx("input",{type:"text",value:d,onChange:j=>u(j.target.value),placeholder:l("Search columns..."),className:"w-full px-2 py-1 text-xs rounded-md border border-[var(--panel-border)] bg-[var(--panel-bg)] text-[var(--content-text)] focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("div",{className:"max-h-[70vh] overflow-y-auto divide-y divide-[var(--divider)]",children:Object.keys(e).filter(j=>e[j].toLowerCase().includes(d.toLowerCase())).map(j=>s.jsxs("label",{className:"flex items-center gap-2 px-2 py-1 text-xs hover:bg-[var(--table-row-hover)] cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"w-3 h-3 rounded border-gray-300 dark:border-gray-600 text-blue-600 focus:ring-blue-500",checked:t[j],onChange:()=>a(j)}),s.jsx("span",{children:e[j]})]},j))})]})}),document.body):lx.createPortal(s.jsx("div",{className:"fixed w-72 rounded-lg shadow-xl bg-[var(--panel-bg)] text-[var(--content-text)] ring-1 ring-[var(--panel-border)] z-[10000] pointer-events-auto",style:v,ref:b,children:s.jsxs("div",{className:"p-3 space-y-3",role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm font-semibold",children:l("Show/Hide Columns")}),r&&s.jsxs("button",{type:"button",onClick:r,className:"inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs bg-[var(--table-header-bg)] hover:bg-[var(--table-row-hover)] text-[var(--content-text)]",title:l("Reset Columns"),children:[s.jsx(FP,{className:"h-3 w-3"}),l("Reset Columns")]})]}),s.jsx("input",{type:"text",value:d,onChange:j=>u(j.target.value),placeholder:l("Search columns..."),className:"w-full px-3 py-2 text-sm rounded-md border border-[var(--panel-border)] bg-[var(--panel-bg)] text-[var(--content-text)] focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("div",{className:"max-h-64 overflow-y-auto divide-y divide-[var(--divider)]",children:Object.keys(e).filter(j=>e[j].toLowerCase().includes(d.toLowerCase())).map(j=>s.jsxs("label",{className:"flex items-center gap-3 px-2 py-2 text-sm hover:bg-[var(--table-row-hover)] cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 dark:border-gray-600 text-blue-600 focus:ring-blue-500",checked:t[j],onChange:()=>a(j)}),s.jsx("span",{children:e[j]})]},j))})]})}),document.body))]})},$ye=()=>{const{t:e,i18n:t}=St(),{theme:a}=Ar(),r=In(),{statuses:n}=Kf(),i=String(t.language||"").startsWith("ar"),l="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='48' height='48' viewBox='0 0 24 24'><rect x='2' y='4' width='12' height='16' rx='3' fill='%23ffffff'/><rect x='2' y='4' width='12' height='4' rx='2' fill='%234285F4'/><rect x='2' y='4' width='4' height='16' rx='2' fill='%2334A853'/><rect x='10' y='4' width='4' height='16' rx='2' fill='%23FBBC05'/><rect x='2' y='16' width='12' height='4' rx='2' fill='%23EA4335'/><polygon points='14,9 22,5 22,19 14,15' fill='%2334A853'/></svg>",[o,c]=y.useState([]),[d,u]=y.useState([]),[f,p]=y.useState(""),[m,v]=y.useState("all"),[g,b]=y.useState("all"),[j,k]=y.useState("all"),[S,N]=y.useState("all"),[A,_]=y.useState("all"),[E,D]=y.useState("all"),[R,I]=y.useState("all"),[M,U]=y.useState("all"),[P,F]=y.useState(""),[K,V]=y.useState(""),[J,Q]=y.useState(""),[z,X]=y.useState("all"),[le,O]=y.useState(""),[q,W]=y.useState("all"),[te,re]=y.useState("all"),[oe,ce]=y.useState(""),[G,ie]=y.useState(""),[ye,se]=y.useState("all"),[Ie,pe]=y.useState("all"),[ae,ge]=y.useState("all"),[Re,ue]=y.useState("createdAt"),[Z,Se]=y.useState("desc"),[Ne,Ye]=y.useState([]),[gt,qt]=y.useState(!1),[at,$t]=y.useState(null),[ze,Ke]=y.useState(1),[Ze,ht]=y.useState(20),[At,Mt]=y.useState(""),[Pt,Gt]=y.useState(1),[Ae,Tt]=y.useState(1),[We,Ot]=y.useState(!1),[Rt,na]=y.useState(null),[pt,lt]=y.useState(!1),[dt,mt]=y.useState(null),[ut,ra]=y.useState(!1),[Aa,ua]=y.useState(""),[oa,_s]=y.useState(null),[ps,Fe]=y.useState(!1),[Ha,is]=y.useState([]),[us,me]=y.useState(!1),De="text-gray-900 dark:text-white",ke="bg-gray-100 dark:bg-gray-900/95",_e="text-sm font-semibold rounded-lg transition-all duration-200 ease-out",Te=[{key:"new lead",icon:""},{key:"duplicate",icon:""},{key:"pending",icon:""},{key:"cold calls",icon:""},{key:"follow up",icon:""}],Me=y.useMemo(()=>{const we=Dt=>{const Ut=String(Dt||"").toLowerCase();return Ut.includes("new")?"new lead":Ut.includes("duplicate")?"duplicate":Ut.includes("pending")||Ut.includes("qualif")?"pending":Ut.includes("cold")||Ut.includes("lost")?"cold calls":Ut.includes("follow")||Ut.includes("progress")?"follow up":""},Be={total:d.length,"new lead":0,duplicate:0,pending:0,"cold calls":0,"follow up":0};return d.forEach(Dt=>{const Ut=we(Dt.stage||Dt.status);Ut&&Be[Ut]++}),Be},[d]),Qe=y.useMemo(()=>{const we=new Date,Be=Va=>String(Va).padStart(2,"0"),Dt=Va=>`${Va.getFullYear()}-${Be(Va.getMonth()+1)}-${Be(Va.getDate())}`,Ut=["Alice","Bob","Charlie","Dina","Elias","Fatima","Gamal","Hana","Ibrahim","Jana","Kamal","Lina"],_a=["Acme Co.","Globex","Initech","Umbrella","Wayne Ltd.","Stark Ind."],Qa=["website","social-media","referral","email-campaign","direct"],ds=["new lead","duplicate","pending","cold calls","follow up"],Is=["high","medium","low"];return Array.from({length:12},(Va,ts)=>{const ln=new Date(we);ln.setDate(we.getDate()-(5+ts%10));const Zn=new Date(we);Zn.setDate(we.getDate()-(1+ts%5));const vr=ts+1;return{id:vr,name:`${Ut[ts]} ${vr}`,email:`lead${vr}@example.com`,phone:`+2010${String(1e6+vr).slice(-7)}`,company:_a[ts%_a.length],stage:ds[ts%ds.length],status:ds[ts%ds.length],priority:Is[ts%Is.length],source:Qa[ts%Qa.length],assignedTo:["Ahmed Ali","Sara Noor","Ibrahim"][ts%3],createdAt:Dt(ln),lastContact:Dt(Zn),notes:"Demo lead",estimatedValue:1e4+ts*500,probability:ts*9%100}})},[]);y.useEffect(()=>{if(Array.isArray(o)&&Array.isArray(d)&&o.length===0&&d.length===0){c(Qe),u(Qe);try{localStorage.setItem("leadsData",JSON.stringify(Qe)),setTimeout(()=>window.dispatchEvent(new CustomEvent("leadsDataUpdated")),0)}catch(we){console.warn("persist demo leads failed",we?.message)}}},[o,d,Qe]);const vt=Uc();y.useEffect(()=>{try{const Be=new URLSearchParams(vt.search||"").get("stage");Be&&_(Be)}catch(we){console.error("Error parsing URL for stage filter:",we)}},[vt.search]);const[qe,st]=y.useState(null),[it,Ft]=y.useState({x:0,y:0}),[Yt,ea]=y.useState(!1),Kt=y.useRef(null),[Xt,ya]=y.useState(!1),cs=y.useRef(null),wa=y.useRef(null),La=we=>{const Be=(we||"").toLowerCase();return Be.includes("convert")?"":Be.includes("progress")?"":Be.includes("lost")?"":Be.includes("new")?"":Be.includes("qual")?"":""};y.useEffect(()=>{const we=Be=>{const Dt=(Be||"").toLowerCase();return Dt.includes("convert")?"#10b981":Dt.includes("progress")?"#f59e0b":Dt.includes("lost")?"#ef4444":Dt.includes("new")?"#3b82f6":Dt.includes("qual")?"#8b5cf6":"#3b82f6"};try{const Be=JSON.parse(localStorage.getItem("crmStages")||"[]"),Dt=Array.isArray(Be)?typeof Be[0]=="string"?Be.map(Ut=>({name:Ut,color:we(Ut),icon:La(Ut)})):Be.map(Ut=>({name:Ut.name||String(Ut),color:Ut.color||we(Ut.name||String(Ut)),icon:Ut.icon||La(Ut.name||String(Ut))})):[];Dt.length===0?is([{name:"new",color:"#10b981",icon:""},{name:"qualified",color:"#3b82f6",icon:""},{name:"in-progress",color:"#f59e0b",icon:""},{name:"converted",color:"#059669",icon:""},{name:"lost",color:"#ef4444",icon:""}]):is(Dt)}catch{is([{name:"new",color:"#10b981",icon:""},{name:"qualified",color:"#3b82f6",icon:""},{name:"in-progress",color:"#f59e0b",icon:""},{name:"converted",color:"#059669",icon:""},{name:"lost",color:"#ef4444",icon:""}])}},[]);const an={lead:e("Lead"),contact:e("Contact"),source:e("Source"),project:e("Project"),sales:e("Sales"),lastComment:e("Last Comment"),stage:e("Stage"),expectedRevenue:e("Expected Revenue"),priority:e("Priority"),status:e("Status"),actions:e("Actions")},Jn=we=>we?.toString()?.toLowerCase()?.trim()?.replace(/\s+/g,""),Ra={name:["name",""," ","lead","lead name"],email:["email",""," "],phone:["phone",""," ","contact"],company:["company",""],status:["status",""],priority:["priority",""],source:["source",""],assignedTo:["assignedto","assigned",""," ","salesperson"],createdAt:["createdat"," ","created"],lastContact:["lastcontact"," "],estimatedValue:["estimatedvalue"," ","value"],probability:["probability",""],notes:["notes",""]},Ps=(we,Be)=>{const Dt=Object.keys(we||{});for(const Ut of Dt){const _a=Jn(Ut);for(const Qa of Be)if(_a===Jn(Qa))return we[Ut]}return""},Zi=async we=>{const Be=await we.arrayBuffer(),Dt=Bf(Be,{type:"array"}),Ut=Dt.SheetNames[0],_a=Dt.Sheets[Ut],Qa=sa.sheet_to_json(_a,{defval:""}),ds=new Date().toISOString().slice(0,10);return Qa.map(Va=>({id:Date.now()+Math.random(),name:String(Ps(Va,Ra.name)||"").trim(),email:String(Ps(Va,Ra.email)||"").trim(),phone:String(Ps(Va,Ra.phone)||"").trim(),company:String(Ps(Va,Ra.company)||"").trim(),status:String(Ps(Va,Ra.status)||"new").toLowerCase().trim(),priority:String(Ps(Va,Ra.priority)||"medium").toLowerCase().trim(),source:String(Ps(Va,Ra.source)||"import").trim(),assignedTo:String(Ps(Va,Ra.assignedTo)||"").trim(),createdAt:String(Ps(Va,Ra.createdAt)||ds).trim(),lastContact:String(Ps(Va,Ra.lastContact)||ds).trim(),estimatedValue:Number(Ps(Va,Ra.estimatedValue))||0,probability:Number(Ps(Va,Ra.probability))||0,notes:String(Ps(Va,Ra.notes)||"").trim()}))},sn=async()=>{if(!dt){ua("import.selectFileError");return}ra(!0),ua(null),_s(null);try{const we=await Zi(dt);try{await fetch("/api/leads/bulk-import",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({leads:we})})}catch(Be){console.warn("API import endpoint not reachable, adding locally only.",Be?.message)}c(Be=>[...we,...Be]),mt(null),_s({added:we.length})}catch(we){console.error(we),ua("import.readFileError")}finally{ra(!1)}},[Gs,hs]=y.useState({lead:!0,contact:!0,source:!0,project:!0,sales:!0,lastComment:!0,stage:!0,expectedRevenue:!0,priority:!0,status:!0,actions:!0}),Vc=we=>{hs(Be=>({...Be,[we]:!Be[we]}))},Md=()=>{const we=Object.keys(an).reduce((Be,Dt)=>(Be[Dt]=!0,Be),{});hs(we)};y.useEffect(()=>{const we=()=>me(window.innerWidth<640);return we(),window.addEventListener("resize",we),()=>window.removeEventListener("resize",we)},[]),y.useEffect(()=>{us&&hs(we=>({...we,source:!1,project:!1,sales:!1,lastComment:!1,stage:!1,expectedRevenue:!1,priority:!1,status:!1}))},[us]);const rn=Array.from({length:30},(we,Be)=>{const Dt=Be+1,Ut=["new","in-progress","qualified","converted","lost"],_a=["high","medium","low"],Qa=["website","social-media","referral","email-campaign","direct"],ds=[" "," ","Ahmed Ali"],Is=[" "," Johnson"," ","Emma Wilson"," "],Va=[" ","ABC Corporation"," ","Tech Solutions"," "],ts=Ut[Be%Ut.length],ln=_a[Be%_a.length],Zn=Qa[Be%Qa.length],vr=ds[Be%ds.length],ei=`${Is[Be%Is.length]} ${Dt}`,_l=`lead${Dt}@example.com`,Er=`+9665${String(12345670+Dt).slice(-8)}`,Oi=`2024-01-${String(1+Be%28).padStart(2,"0")}`,Xl=`2024-01-${String(1+(Be+3)%28).padStart(2,"0")}`,Ri=" ",No=5e4+Be*1e3,ko=Be*7%101;return{id:Dt,name:ei,email:_l,phone:Er,company:Va[Be%Va.length],stage:ts,status:ts,priority:ln,source:Zn,assignedTo:vr,createdAt:Oi,lastContact:Xl,notes:Ri,estimatedValue:No,probability:ko}});y.useEffect(()=>{try{const we=localStorage.getItem("leadsData");if(we){const Be=JSON.parse(we);c(Be),u(Be),setTimeout(()=>window.dispatchEvent(new CustomEvent("leadsDataUpdated")),0)}else c(rn),u(rn),localStorage.setItem("leadsData",JSON.stringify(rn)),setTimeout(()=>window.dispatchEvent(new CustomEvent("leadsDataUpdated")),0)}catch(we){console.warn("Failed to load leadsData from localStorage, using sample.",we?.message),c(rn),u(rn),setTimeout(()=>window.dispatchEvent(new CustomEvent("leadsDataUpdated")),0)}},[]),y.useEffect(()=>{const we=()=>{try{const Dt=JSON.parse(localStorage.getItem("leadsData")||"[]");c(Dt)}catch(Dt){console.warn("Failed to sync leadsData from localStorage.",Dt?.message)}},Be=Dt=>{Dt.key==="leadsData"&&we()};return window.addEventListener("storage",Be),we(),()=>{window.removeEventListener("storage",Be)}},[]),y.useEffect(()=>{try{localStorage.setItem("leadsData",JSON.stringify(o)),setTimeout(()=>window.dispatchEvent(new CustomEvent("leadsDataUpdated")),0)}catch(we){console.warn("Failed to save leadsData to localStorage.",we?.message)}},[o]),y.useEffect(()=>{let we=o.filter(Be=>{const Dt=String(Be.name||"").toLowerCase().includes(f.toLowerCase())||String(Be.email||"").toLowerCase().includes(f.toLowerCase())||String(Be.company||"").toLowerCase().includes(f.toLowerCase()),Ut=m==="all"||String(Be.status||"").toLowerCase()===m.toLowerCase(),_a=g==="all"||String(Be.source||"").toLowerCase()===g.toLowerCase(),Qa=j==="all"||String(Be.priority||"").toLowerCase()===j.toLowerCase(),ds=S==="all"||String(Be.project||"").toLowerCase()===S.toLowerCase(),Is=A==="all"||String(Be.stage||"").toLowerCase()===A.toLowerCase(),Va=E==="all"||String(Be.manager||"").toLowerCase()===E.toLowerCase(),ts=R==="all"||String(Be.assignedTo||"").toLowerCase()===R.toLowerCase(),ln=M==="all"||String(Be.createdBy||"").toLowerCase()===M.toLowerCase(),Zn=z==="all"||String(Be.oldStage||"").toLowerCase()===z.toLowerCase(),vr=q==="all"||String(Be.campaign||"").toLowerCase()===q.toLowerCase(),ei=te==="all"||String(Be.country||"").toLowerCase()===te.toLowerCase(),_l=ye==="all"||String(Be.whatsappIntents||"").toLowerCase()===ye.toLowerCase(),Er=Ie==="all"||String(Be.callType||"").toLowerCase()===Ie.toLowerCase(),Oi=ae==="all"||String(Be.duplicateStatus||"").toLowerCase()===ae.toLowerCase(),Xl=!P||Be.assignDate&&Be.assignDate.includes(P),Ri=!K||Be.actionDate&&Be.actionDate.includes(K),No=!J||Be.createdAt&&Be.createdAt.includes(J),ko=!le||Be.closedDate&&Be.closedDate.includes(le),Qo=!G||Be.email&&Be.email.toLowerCase().includes(G.toLowerCase()),So=!oe||Be.estimatedValue&&Be.estimatedValue.toString().includes(oe);return Dt&&Ut&&_a&&Qa&&ds&&Is&&Va&&ts&&ln&&Zn&&vr&&ei&&_l&&Er&&Oi&&Xl&&Ri&&No&&ko&&Qo&&So});we.sort((Be,Dt)=>{let Ut=Be[Re],_a=Dt[Re];return(Re==="createdAt"||Re==="lastContact")&&(Ut=new Date(Ut),_a=new Date(_a)),Z==="asc"?Ut>_a?1:-1:Ut<_a?1:-1}),u(we),Ke(1)},[o,f,m,g,j,Re,Z,S,A,E,R,M,P,K,J,z,le,q,te,oe,G,ye,Ie,ae]);const Kl=we=>{switch(we){case"new":return"bg-blue-100 text-black dark:bg-blue-900 dark:text-blue-200";case"qualified":return"bg-green-100 text-black dark:bg-green-900 dark:text-green-200";case"in-progress":return"bg-yellow-100 text-black dark:bg-yellow-900 dark:text-yellow-200";case"converted":return"bg-purple-100 text-black dark:bg-purple-900 dark:text-purple-200";case"lost":return"bg-red-100 text-black dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-black dark:bg-gray-900 dark:text-gray-200"}},Qn=we=>{switch(String(we).toLowerCase()){case"high":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"low":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},Xo=we=>{switch(we){case"Facebook":return"";case"Website":return"";case"Referral":return"";case"Campaign":return"";case"website":return"";case"social-media":return"";case"referral":return"";case"email-campaign":return"";case"direct":return"";default:return""}},bs=we=>{we.target.checked?Ye(Fa.map(Be=>Be.id)):Ye([])},Jo=we=>{Ye(Be=>Be.includes(we)?Be.filter(Dt=>Dt!==we):[...Be,we])};y.useEffect(()=>{const we=Be=>{Yt&&(Kt.current&&Kt.current.contains(Be.target)||cs.current&&cs.current.contains(Be.target)||(ea(!1),st(null),cs.current=null))};return document.addEventListener("mousedown",we),()=>document.removeEventListener("mousedown",we)},[Yt]);const[Ld,Wc]=y.useState(""),[Yl,vi]=y.useState(""),[Od,nn]=y.useState(null),{canAssignNow:Al}=(()=>{try{return{canAssignNow:require("../utils/rotation").canAssignNow}}catch{return{canAssignNow:()=>({ok:!0})}}})(),el=()=>{const we=Ld?.trim();if(!we){nn({key:"bulk.selectAssigneeError"});return}const Be=Al(new Date);if(!Be.ok){nn({key:"bulk.assignBlocked",params:{reason:Be.reason}});return}c(Dt=>Dt.map(Ut=>Ne.includes(Ut.id)?{...Ut,assignedTo:we}:Ut)),nn({key:"bulk.assignSuccess",params:{count:Ne.length,target:we}}),Ye([]),Wc("")},Rd=()=>{const we=Yl?.trim();if(!we){nn({key:"bulk.selectStatusError"});return}c(Be=>Be.map(Dt=>Ne.includes(Dt.id)?{...Dt,status:we}:Dt)),nn({key:"bulk.statusUpdateSuccess",params:{count:Ne.length,status:we}}),Ye([]),vi("")},Ee=()=>{const Be=o.filter(Ut=>Ne.includes(Ut.id)).map(Ut=>({...Ut,deletedAt:new Date().toISOString()})),Dt=JSON.parse(localStorage.getItem("deletedLeads")||"[]");Dt.push(...Be),localStorage.setItem("deletedLeads",JSON.stringify(Dt)),c(Ut=>Ut.filter(_a=>!Ne.includes(_a.id))),nn({key:"bulk.deleteSuccess",params:{count:Ne.length}}),Ye([])},et=async()=>{const we=o.filter(Ut=>Ne.includes(Ut.id));if(we.length===0)return;const Be=[],Dt=[];for(const Ut of we){const _a=String(Ut?.name||Ut?.company||"").trim(),Qa=String(Ut?.phone||"").trim();if(!_a||!Qa||Qa.length<5){Dt.push(Ut);continue}const ds=Array.isArray(Ut?.tags)?Ut.tags:Ut?.tags?String(Ut.tags).split(",").map(Va=>Va.trim()).filter(Boolean):Ut?.source?[String(Ut.source)]:[],Is={name:_a,phone:Qa,email:String(Ut?.email||"").trim(),type:String(Ut?.type||(Ut?.company?"Company":"Individual")),companyName:Ut?.company||"",country:String(Ut?.country||"").trim(),city:String(Ut?.city||"").trim(),addressLine:String(Ut?.address||"").trim(),contacts:Ut?.company?[{name:String(Ut?.name||"").trim(),phone:String(Ut?.phone||"").trim(),email:String(Ut?.email||"").trim()}]:[],tags:ds,notes:String(Ut?.notes||"").trim(),assignedSalesRep:String(Ut?.sales||Ut?.assignedTo||"").trim()};Be.push(Is)}try{nn({key:"bulk.convertSuccess",params:{success:Be.length,failed:Dt.length}}),c(Ut=>Ut.map(_a=>Ne.includes(_a.id)&&Be.some(ds=>ds.phone===_a.phone)?{..._a,stage:"converted",status:"converted"}:_a)),Ye([])}catch(Ut){console.error("bulk convert failed",Ut),nn({key:"bulk.convertError"})}},ta=async we=>{try{const Be=String(we?.name||we?.company||"").trim(),Dt=String(we?.phone||"").trim();if(!Be||!Dt||Dt.length<5){alert(t.language==="ar"?"  : / ":e("Conversion failed: missing name/phone"));return}const Ut=Array.isArray(we?.tags)?we.tags:we?.tags?String(we.tags).split(",").map(Qa=>Qa.trim()).filter(Boolean):we?.source?[String(we.source)]:[],_a={name:Be,phone:Dt,email:String(we?.email||"").trim(),type:String(we?.type||(we?.company?"Company":"Individual")),companyName:we?.company||"",country:String(we?.country||"").trim(),city:String(we?.city||"").trim(),addressLine:String(we?.address||"").trim(),contacts:we?.company?[{name:String(we?.name||"").trim(),phone:String(we?.phone||"").trim(),email:String(we?.email||"").trim()}]:[],tags:Ut,notes:String(we?.notes||"").trim(),assignedSalesRep:String(we?.sales||we?.assignedTo||"").trim()};alert(t.language==="ar"?"     ":e("Lead converted to customer successfully")),c(Qa=>Qa.map(ds=>ds.id===we.id?{...ds,stage:"converted",status:"converted"}:ds))}catch(Be){console.error("convert customer failed",Be),alert(t.language==="ar"?"   ":e("Failed to convert to customer"))}};Math.ceil(d.length/Ze);const ia=(ze-1)*Ze,Fa=d.slice(ia,ia+Ze),Fs=()=>{const we=Math.max(1,Math.ceil(d.length/Ze)),Be=Math.max(1,Math.min(Number(Pt)||ze,we)),Dt=Math.max(Be,Math.min(Number(Ae)||Be,we)),Ut=(Be-1)*Ze,_a=Math.min(Dt*Ze,d.length),ds=d.slice(Ut,_a).map(ts=>({Name:ts.name,Email:ts.email,Phone:ts.phone,Company:ts.company,Stage:ts.stage,Status:ts.status,Priority:ts.priority,Source:ts.source,"Assigned To":ts.assignedTo,"Created At":ts.createdAt,"Last Contact":ts.lastContact,"Estimated Value":ts.estimatedValue,Probability:ts.probability})),Is=sa.json_to_sheet(ds),Va=sa.book_new();sa.book_append_sheet(Va,Is,"Leads"),qr(Va,`Leads_Page_${Be}_to_${Dt}.xlsx`)},Ja={source:140,project:140,sales:140,lastComment:220,stage:140,expectedRevenue:160,priority:140,status:140};return s.jsxs("div",{className:`px-2 max-[480px]:px-1 py-4 md:px-6 md:py-6 min-h-screen  ${De}`,dir:i?"rtl":"ltr",children:[s.jsxs("div",{className:"p-4 flex justify-between items-center gap-4 mb-6",dir:i?"rtl":"ltr",children:[s.jsxs("div",{className:`relative inline-flex items-center ${i?"flex-row-reverse":""} gap-2`,children:[s.jsx("h1",{className:`page-title text-2xl md:text-3xl font-bold text-black dark:text-white flex items-center gap-2 ${i?"flex-row-reverse text-right":"text-left"}`,style:{textAlign:i?"right":"left",color:a==="dark"?"#ffffff":"#000000"},children:e("Leads")}),s.jsx("span",{"aria-hidden":!0,className:"absolute block h-[1px] rounded bg-gradient-to-r from-blue-500 via-purple-500 to-transparent",style:{width:"calc(100% + 8px)",left:i?"auto":"-4px",right:i?"-4px":"auto",bottom:"-4px"}})]}),s.jsxs("div",{className:`flex items-center gap-2 flex-nowrap ${i?"mr-auto":"ml-auto"}`,children:[s.jsxs("button",{onClick:()=>r("/leads/new"),className:`inline-flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white shadow-md ${_e} btn-compact`,children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v12M6 12h12"})}),s.jsx("span",{children:e("Add New Lead")})]}),s.jsxs("button",{onClick:()=>Fe(!0),className:"group relative inline-flex items-center gap-1 rounded-md bg-gradient-to-br from-blue-500 via-indigo-500 to-purple-600 text-white border border-blue-300/30 shadow-sm transition-colors duration-200 ease-out focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-300/50 overflow-hidden btn-compact",children:[s.jsx("span",{className:"sr-only",children:"decor"}),s.jsxs("svg",{className:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M12 3v12"}),s.jsx("path",{d:"M8 11l4 4 4-4"}),s.jsx("path",{d:"M4 20h16"})]}),s.jsx("span",{children:e("Import Leads")})]})]})]}),s.jsxs("div",{className:"glass-panel rounded-2xl p-3 mb-6 filters-compact",children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsxs("h2",{className:"text-lg font-semibold  dark:text-white flex items-center gap-2",children:[s.jsx(ux,{size:16,className:"text-blue-500 dark:text-blue-400"})," ",e("Filters")]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>ya(we=>!we),className:"inline-flex items-center gap-1 font-semibold text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-200 transition-colors btn-compact",children:[e(Xt?"Hide ":"Show "),s.jsx(Na,{size:10,className:`transform transition-transform duration-300 ${Xt?"rotate-180":"rotate-0"}`})]}),s.jsxs("button",{onClick:()=>{p(""),v("all"),b("all"),k("all"),N("all"),_("all"),D("all"),I("all"),U("all"),F(""),V(""),Q(""),X("all"),O(""),W("all"),re("all"),ce(""),ie(""),se("all"),pe("all"),ge("all"),ue("createdAt"),Se("desc"),Ke(1)},className:"inline-flex items-center gap-1 font-semibold  dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors btn-compact",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),e("Reset")]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-2",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium  dark:text-white",children:[s.jsx(Kj,{size:12,className:"text-blue-500 dark:text-blue-400"}),e("Search")]}),s.jsx("input",{type:"text",placeholder:e("Search leads..."),value:f,onChange:we=>p(we.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg  dark:bg-gray-700  dark:text-white text-xs font-medium placeholder:text-gray-400 dark:placeholder-gray-500 focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium  dark:text-white",children:[s.jsx("svg",{className:"w-3 h-3 text-blue-500 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("Status")]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:m,onChange:we=>v(we.target.value),className:"w-full px-3 py-2 pr-8 border border-gray-300 dark:border-gray-500 rounded-lg  dark:bg-gray-700  dark:text-white text-xs font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400 appearance-none",children:[s.jsx("option",{value:"all",children:e("All Statuses")}),n.map(we=>s.jsx("option",{value:we,children:e(we)},we))]}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-300",onClick:we=>{const Be=we.currentTarget.parentElement.querySelector("select");Be&&Be.focus()},children:s.jsx(Na,{size:12})})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium  dark:text-white",children:[s.jsx("svg",{className:"w-3 h-3 text-blue-500 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 4l-4 4 4 4"})}),e("Source")]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:g,onChange:we=>b(we.target.value),className:"w-full px-3 py-2 pr-8 border border-gray-300 dark:border-gray-500 rounded-lg  dark:bg-gray-700  dark:text-white text-xs font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400 appearance-none",children:[s.jsx("option",{value:"all",children:e("All Sources")}),Array.from(new Set(o.map(we=>we.source).filter(Boolean))).map(we=>s.jsx("option",{value:we,children:e(we)},we))]}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-300",onClick:we=>{const Be=we.currentTarget.parentElement.querySelector("select");Be&&Be.focus()},children:s.jsx(Na,{size:12})})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium  dark:text-white",children:[s.jsx("svg",{className:"w-3 h-3 text-blue-500 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("Priority")]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:j,onChange:we=>k(we.target.value),className:"w-full px-3 py-2 pr-8 border border-gray-300 dark:border-gray-500 rounded-lg  dark:bg-gray-700  dark:text-white text-xs font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400 appearance-none",children:[s.jsx("option",{value:"all",children:e("All Priority")}),s.jsx("option",{value:"high",children:e("High")}),s.jsx("option",{value:"medium",children:e("Medium")}),s.jsx("option",{value:"low",children:e("Low")})]}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2  dark:text-gray-300",onClick:we=>{const Be=we.currentTarget.parentElement.querySelector("select");Be&&Be.focus()},children:s.jsx(Na,{size:12})})]})]})]}),s.jsx("div",{className:`transition-all duration-500 ease-in-out overflow-hidden ${Xt?"max-h-[800px] opacity-100 pt-3":"max-h-0 opacity-0"}`,children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-2",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium  dark:text-white",children:[s.jsx("svg",{className:"w-3 h-3 text-blue-500 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),e("Project")]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:S,onChange:we=>N(we.target.value),className:"w-full px-3 py-2 pr-8 border border-gray-300 dark:border-gray-500 rounded-lg  dark:bg-gray-700  dark:text-white text-xs font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400 appearance-none",children:[s.jsx("option",{value:"all",children:e("All Projects")}),Array.from(new Set(o.map(we=>we.project).filter(Boolean))).map(we=>s.jsx("option",{value:we,children:e(we)},we))]}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-300",onClick:we=>{const Be=we.currentTarget.parentElement.querySelector("select");Be&&Be.focus()},children:s.jsx(Na,{size:12})})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium  dark:text-white",children:[s.jsx("svg",{className:"w-3 h-3 text-blue-500 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h7"})}),e("Stage")]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:A,onChange:we=>_(we.target.value),className:"w-full px-3 py-2 pr-8 border border-gray-300 dark:border-gray-500 rounded-lg  dark:bg-gray-700  dark:text-white text-xs font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400 appearance-none",children:[s.jsx("option",{value:"all",children:e("All Stages")}),s.jsxs("option",{value:"new",children:[" ",e("New Lead")]}),s.jsxs("option",{value:"duplicate",children:[" ",e("Duplicate")]}),s.jsxs("option",{value:"pending",children:[" ",e("Pending")]}),s.jsxs("option",{value:"cold-call",children:[" ",e("Cold Calls")]}),s.jsxs("option",{value:"follow-up",children:[" ",e("follow up")]})]}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-300",onClick:we=>{const Be=we.currentTarget.parentElement.querySelector("select");Be&&Be.focus()},children:s.jsx(Na,{size:12})})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium  dark:text-white",children:[s.jsx("svg",{className:"w-3 h-3 text-blue-500 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),e("Manager")]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:E,onChange:we=>D(we.target.value),className:"w-full px-3 py-2 pr-8 border border-gray-300 dark:border-gray-500 rounded-lg  dark:bg-gray-700  dark:text-white text-xs font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400 appearance-none",children:[s.jsx("option",{value:"all",children:e("All Managers")}),Array.from(new Set(o.map(we=>we.manager).filter(Boolean))).map(we=>s.jsx("option",{value:we,children:e(we)},we))]}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-300",onClick:we=>{const Be=we.currentTarget.parentElement.querySelector("select");Be&&Be.focus()},children:s.jsx(Na,{size:12})})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium  dark:text-white",children:[s.jsx("svg",{className:"w-3 h-3 text-blue-500 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),e("Sales Person")]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:R,onChange:we=>I(we.target.value),className:"w-full px-3 py-2 pr-8 border border-gray-300 dark:border-gray-500 rounded-lg  dark:bg-gray-700 dark:text-white text-xs font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400 appearance-none",children:[s.jsx("option",{value:"all",children:e("All Sales Persons")}),Array.from(new Set(o.map(we=>we.assignedTo).filter(Boolean))).map(we=>s.jsx("option",{value:we,children:e(we)},we))]}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-300",onClick:we=>{const Be=we.currentTarget.parentElement.querySelector("select");Be&&Be.focus()},children:s.jsx(Na,{size:12})})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium  dark:text-white",children:[s.jsx("svg",{className:"w-3 h-3 text-blue-500 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20h18"})}),e("Created By")]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:M,onChange:we=>U(we.target.value),className:"w-full px-3 py-2 pr-8 border border-gray-300 dark:border-gray-500 rounded-lg  dark:bg-gray-700  dark:text-white text-xs font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400 appearance-none",children:[s.jsx("option",{value:"all",children:e("All Creators")}),Array.from(new Set(o.map(we=>we.createdBy).filter(Boolean))).map(we=>s.jsx("option",{value:we,children:e(we)},we))]}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-300",onClick:we=>{const Be=we.currentTarget.parentElement.querySelector("select");Be&&Be.focus()},children:s.jsx(Na,{size:12})})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium  dark:text-white",children:[s.jsx("svg",{className:"w-3 h-3 text-blue-500 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c1.657 0 3 1.343 3 3v1h1a2 2 0 012 2v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5a2 2 0 012-2h1v-1c0-1.657 1.343-3 3-3z"})}),e("Old Stage")]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:z,onChange:we=>X(we.target.value),className:"w-full px-3 py-2 pr-8 border border-gray-300 dark:border-gray-500 rounded-lg  dark:bg-gray-700  dark:text-white text-xs font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400 appearance-none",children:[s.jsx("option",{value:"all",children:e("All Old Stages")}),Array.from(new Set(o.map(we=>we.oldStage).filter(Boolean))).map(we=>s.jsx("option",{value:we,children:e(we)},we))]}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2  dark:text-gray-300",onClick:we=>{const Be=we.currentTarget.parentElement.querySelector("select");Be&&Be.focus()},children:s.jsx(Na,{size:12})})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium  dark:text-white",children:[s.jsx("svg",{className:"w-3 h-3 text-blue-500 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m0 0a2 2 0 104 0m-4 0h4"})}),e("Campaign")]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:q,onChange:we=>W(we.target.value),className:"w-full px-3 py-2 pr-8 border border-gray-300 dark:border-gray-500 rounded-lg  dark:bg-gray-700  dark:text-white text-xs font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400 appearance-none",children:[s.jsx("option",{value:"all",children:e("All Campaigns")}),Array.from(new Set(o.map(we=>we.campaign).filter(Boolean))).map(we=>s.jsx("option",{value:we,children:e(we)},we))]}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-300",onClick:we=>{const Be=we.currentTarget.parentElement.querySelector("select");Be&&Be.focus()},children:s.jsx(Na,{size:12})})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium  dark:text-white",children:[s.jsx("svg",{className:"w-3 h-3 text-blue-500 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3.055 11H5a2 2 0 012 2v10a2 2 0 01-2 2H3.055L3 11zM11 5h2m-2 0V3m0 2v2m0-2h-2m2 0h2m-2 0V3a2 2 0 00-2-2h-2a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2z"})}),e("Country")]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:te,onChange:we=>re(we.target.value),className:"w-full px-3 py-2 pr-8 border border-gray-300 dark:border-gray-500 rounded-lg  dark:bg-gray-700  dark:text-white text-xs font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400 appearance-none",children:[s.jsx("option",{value:"all",children:e("All Countries")}),Array.from(new Set(o.map(we=>we.country).filter(Boolean))).map(we=>s.jsx("option",{value:we,children:e(we)},we))]}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-300",onClick:we=>{const Be=we.currentTarget.parentElement.querySelector("select");Be&&Be.focus()},children:s.jsx(Na,{size:12})})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium  dark:text-white",children:[s.jsxs("svg",{className:"w-3 h-3 text-blue-500 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .343-3 .768V11a.5.5 0 00.5.5h5a.5.5 0 00.5-.5V8.768C15 8.343 13.657 8 12 8z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 11.5v6.5m-3-6.5h6m-3 0V5m0 0h3m-3 0H9"})]}),e("Expected Revenue")]}),s.jsx("input",{type:"number",placeholder:e("Enter minimum value..."),value:oe,onChange:we=>ce(we.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg  dark:bg-gray-700  dark:text-white text-xs font-medium placeholder:text-gray-400 dark:placeholder-gray-500 focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium  dark:text-white",children:[s.jsx(Di,{size:12,className:"text-blue-500 dark:text-blue-400"}),e("Email")]}),s.jsx("input",{type:"text",placeholder:e("Search email..."),value:G,onChange:we=>ie(we.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg  dark:bg-gray-700  dark:text-white text-xs font-medium placeholder:text-gray-400 dark:placeholder-gray-500 focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium  dark:text-white",children:[s.jsx(Hl,{size:12,className:"text-blue-500 dark:text-blue-400"}),e("WhatsApp Intents")]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:ye,onChange:we=>se(we.target.value),className:"w-full px-3 py-2 pr-8 border border-gray-300 dark:border-gray-500 rounded-lg  dark:bg-gray-700  dark:text-white text-xs font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400 appearance-none",children:[s.jsx("option",{value:"all",children:e("All Intents")}),s.jsx("option",{value:"purchase",children:e("Purchase")}),s.jsx("option",{value:"inquiry",children:e("Inquiry")}),s.jsx("option",{value:"support",children:e("Support")})]}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2  dark:text-gray-300",onClick:we=>{const Be=we.currentTarget.parentElement.querySelector("select");Be&&Be.focus()},children:s.jsx(Na,{size:12})})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium  dark:text-white",children:[s.jsx("svg",{className:"w-3 h-3 text-blue-500 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),e("Call Type")]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:Ie,onChange:we=>pe(we.target.value),className:"w-full px-3 py-2 pr-8 border border-gray-300 dark:border-gray-500 rounded-lg  dark:bg-gray-700  dark:text-white text-xs font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400 appearance-none",children:[s.jsx("option",{value:"all",children:e("All Call Types")}),s.jsx("option",{value:"inbound",children:e("Inbound")}),s.jsx("option",{value:"outbound",children:e("Outbound")}),s.jsx("option",{value:"follow-up",children:e("Follow-up")})]}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-300",onClick:we=>{const Be=we.currentTarget.parentElement.querySelector("select");Be&&Be.focus()},children:s.jsx(Na,{size:12})})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium  dark:text-white",children:[s.jsx("svg",{className:"w-3 h-3 text-blue-500 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7v4a1 1 0 001 1h4a1 1 0 001-1V7m0 10v4a1 1 0 001 1h4a1 1 0 001-1v-4m-6-4H6a2 2 0 00-2 2v4a2 2 0 002 2h4m-6-4h4m-4 0v-4"})}),e("Duplicate Status")]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:ae,onChange:we=>ge(we.target.value),className:"w-full px-3 py-2 pr-8 border border-gray-300 dark:border-gray-500 rounded-lg  dark:bg-gray-700 dark:text-white text-xs font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400 appearance-none",children:[s.jsx("option",{value:"all",children:e("All Duplicates")}),s.jsx("option",{value:"duplicate",children:e("Duplicate")}),s.jsx("option",{value:"unique",children:e("Unique")})]}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-300",onClick:we=>{const Be=we.currentTarget.parentElement.querySelector("select");Be&&Be.focus()},children:s.jsx(Na,{size:12})})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium  dark:text-white",children:[s.jsx("svg",{className:"w-3 h-3 text-blue-500 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),e("Assign Date")]}),s.jsx("input",{type:"date",value:P,onChange:we=>F(we.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg  dark:bg-gray-700  dark:text-white text-xs font-medium placeholder:text-gray-400 dark:placeholder-gray-500 focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium  dark:text-white",children:[s.jsx("svg",{className:"w-3 h-3 text-blue-500 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),e("Last Action Date")]}),s.jsx("input",{type:"date",value:K,onChange:we=>V(we.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg  dark:bg-gray-700  dark:text-white text-xs font-medium placeholder:text-gray-400 dark:placeholder-gray-500 focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium  dark:text-white",children:[s.jsx("svg",{className:"w-3 h-3 text-blue-500 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),e("Creation Date")]}),s.jsx("input",{type:"date",value:J,onChange:we=>Q(we.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg  dark:bg-gray-700  dark:text-white text-xs font-medium placeholder:text-gray-400 dark:placeholder-gray-500 focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium  dark:text-white",children:[s.jsx("svg",{className:"w-3 h-3 text-blue-500 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),e("Closed Date")]}),s.jsx("input",{type:"date",value:le,onChange:we=>O(we.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg  dark:bg-gray-700  dark:text-white text-xs font-medium placeholder:text-gray-400 dark:placeholder-gray-500 focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200"})]})]})})]})]}),s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",style:{color:a==="dark"?"#ffffff":void 0},children:e("Leads Pipline")}),s.jsx(aW,{columns:an,visibleColumns:Gs,onColumnToggle:Vc,onResetColumns:Md,align:"right",compact:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-2 mb-4",children:[s.jsxs("button",{onClick:()=>_("all"),className:`btn btn-glass text-sm inline-flex items-center justify-between gap-2 px-3 py-2 ${De}`,children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:e("total leads")})]}),s.jsx("span",{className:"font-bold",children:Me.total})]}),Te.map(we=>s.jsxs("button",{onClick:()=>_(we.key),className:`btn btn-glass text-sm inline-flex items-center justify-between gap-2 px-3 py-2 ${De}`,children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{children:we.icon}),s.jsx("span",{children:e(we.key)})]}),s.jsx("span",{className:"font-bold",children:Me[we.key]||0})]},we.key))]}),s.jsxs("div",{className:"glass-panel rounded-2xl overflow-hidden",children:[s.jsx("div",{className:"flex justify-between items-center p-3 border-b border-gray-200 dark:border-gray-700",children:Ne.length>0?s.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[s.jsxs("span",{className:"text-sm font-medium  dark:text-gray-300",children:[e("Selected"),": ",Ne.length," ",e("Leads")]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("select",{value:Yl,onChange:we=>vi(we.target.value),className:"px-3 py-1.5 border border-gray-300 dark:border-gray-600 rounded-lg  dark:bg-transparent backdrop-blur-sm text-gray-900 dark:text-white text-sm",children:[s.jsx("option",{value:"",children:e("Change Status to")}),n.map(we=>s.jsx("option",{value:we,children:e(we)},we))]}),s.jsx("button",{onClick:Rd,className:"px-3 py-1.5 bg-yellow-500 hover:bg-yellow-600 text-white font-semibold rounded-lg text-sm transition-colors",children:e("Apply Status")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("select",{value:Ld,onChange:we=>Wc(we.target.value),className:"px-3 py-1.5 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-transparent backdrop-blur-sm  dark:text-white text-sm",children:[s.jsx("option",{value:"",children:e("Bulk Assign to")}),Array.from(new Set(o.map(we=>we.assignedTo).filter(Boolean))).map(we=>s.jsx("option",{value:we,children:we},we))]}),s.jsx("button",{onClick:el,className:"px-3 py-1.5 bg-indigo-500 hover:bg-indigo-600 text-white font-semibold rounded-lg text-sm transition-colors",children:e("Assign")})]}),s.jsx("button",{onClick:et,className:"px-3 py-1.5 bg-teal-600 hover:bg-teal-700 text-white font-semibold rounded-lg text-sm transition-colors",children:e("Convert to Customer")}),s.jsxs("button",{onClick:Ee,className:"px-3 py-1.5 bg-red-600 hover:bg-red-700 text-white font-semibold rounded-lg text-sm transition-colors",children:[e("Delete Selected")," (",Ne.length,")"]})]}):s.jsx("span",{className:"text-sm font-medium  dark:text-gray-400",children:e("No leads selected for bulk actions")})}),s.jsxs("div",{ref:wa,className:"mt-4 w-full overflow-x-auto rounded-lg shadow-md backdrop-blur-lg",style:{"--table-header-bg":a==="dark"?"transparent":void 0,"--scroll-bg":a==="dark"?"#0f172a":"#f9fafb"},children:[s.jsxs("table",{className:"w-max min-w-full divide-y divide-gray-200 dark:divide-gray-700 dark:text-white",style:{tableLayout:"auto"},children:[s.jsx("thead",{className:` ${ke} backdrop-blur-md sticky top-0 z-30 shadow-md`,style:{backgroundColor:"var(--table-header-bg)"},children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"w-10 px-6 py-3 text-left text-xs font-medium uppercase tracking-wider dark:text-white whitespace-nowrap",style:{backgroundColor:"var(--table-header-bg)"},children:s.jsx("input",{type:"checkbox",checked:Ne.length===Fa.length&&Fa.length>0,onChange:bs,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:bg-gray-700 dark:border-gray-600"})}),Gs.lead&&s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider dark:text-white w-40 whitespace-nowrap cursor-pointer",style:{backgroundColor:"var(--table-header-bg)"},onClick:()=>{Re==="lead"?Se(Z==="asc"?"desc":"asc"):(ue("lead"),Se("desc"))},children:s.jsxs("div",{className:"flex items-center gap-1",children:[an.lead,Re==="lead"&&s.jsx("span",{className:"ml-1",children:Z==="asc"?"":""})]})},"lead"),Gs.contact&&s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider dark:text-white w-48 whitespace-nowrap",style:{backgroundColor:"var(--table-header-bg)"},children:s.jsx("div",{className:"flex items-center gap-1",children:an.contact})},"contact"),Gs.actions&&s.jsx("th",{scope:"col",className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider dark:text-white whitespace-nowrap sticky ${t.language==="ar"?"right-0":"left-0"} z-30`,style:{minWidth:"160px",backgroundColor:"var(--table-header-bg)"},children:e("Actions")},"actions"),["source","project","sales","lastComment","stage","expectedRevenue","priority","status"].map(we=>Gs[we]?s.jsx("th",{scope:"col",className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider dark:text-white whitespace-nowrap ${["source","stage","priority","status","expectedRevenue"].includes(we)?"cursor-pointer":"cursor-default"}`,style:{minWidth:`${Ja[we]||140}px`,backgroundColor:"var(--table-header-bg)"},onClick:["source","stage","priority","status","expectedRevenue"].includes(we)?()=>{Re===we?Se(Z==="asc"?"desc":"asc"):(ue(we),Se("desc"))}:void 0,children:s.jsxs("div",{className:"flex items-center gap-1",children:[an[we],Re===we&&s.jsx("span",{className:"ml-1",children:Z==="asc"?"":""})]})},we):null)]})}),s.jsx("tbody",{className:" divide-y divide-gray-200 dark:bg-transparent dark:divide-gray-700",children:Fa.map((we,Be)=>s.jsxs("tr",{className:` hover:bg-white/5 transition-colors duration-300 transition-colors duration-150 ${qe?.id===we.id?"bg-white/5":""}`,onMouseEnter:()=>st(we),onMouseLeave:()=>st(null),style:{cursor:"default"},children:[s.jsx("td",{className:"w-10 px-6 py-4 whitespace-nowrap",children:s.jsx("input",{type:"checkbox",checked:Ne.includes(we.id),onChange:()=>Jo(we.id),onClick:Dt=>Dt.stopPropagation(),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:bg-gray-700 dark:border-gray-600"})}),Gs.lead&&s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium  dark:text-white",children:[s.jsx("div",{className:"font-semibold text-base",children:we.name}),s.jsx("div",{className:" dark:text-gray-400 text-xs mt-0.5",children:we.company})]}),Gs.contact&&s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm  dark:text-white",children:[s.jsx("div",{className:"font-normal dark:text-white",children:we.email}),s.jsx("div",{className:"font-normal dark:text-white",children:we.phone})]}),Gs.actions&&s.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-xs font-medium sticky ${t.language==="ar"?"right-0":"left-0"} z-20 bg-transparent`,children:s.jsxs("div",{className:"flex items-center gap-2 flex-nowrap",children:[s.jsx("button",{title:e("Preview"),onClick:Dt=>{Dt.stopPropagation(),na(we),Ot(!0)},className:"inline-flex items-center justify-center  dark:text-indigo-300 hover:text-blue-500",children:s.jsx(gu,{size:16,className:" dark:text-indigo-300"})}),s.jsx("button",{title:e("Add Action"),onClick:Dt=>{Dt.stopPropagation(),na(we),lt(!0)},className:"inline-flex items-center justify-center  dark:text-emerald-300 hover:text-emerald-400",children:s.jsx(ho,{size:16,className:" dark:text-emerald-300"})}),s.jsx("button",{title:e("Call"),onClick:Dt=>{Dt.stopPropagation();const Ut=we.phone||we.mobile||"",_a=String(Ut).replace(/[^0-9]/g,"");_a&&window.open(`tel:${_a}`)},className:"inline-flex items-center justify-center text-blue-600 dark:text-blue-400 hover:text-blue-500",children:s.jsx(Ji,{size:16})}),s.jsx("button",{title:"WhatsApp",onClick:Dt=>{Dt.stopPropagation();const Ut=we.phone||we.mobile||"",_a=String(Ut).replace(/[^0-9]/g,"");_a&&window.open(`https://wa.me/${_a}`)},className:"inline-flex items-center justify-center  dark:text-green-400 hover:text-green-500",children:s.jsx(Hl,{size:16,style:{color:"#25D366"}})}),s.jsx("button",{title:e("Email"),onClick:Dt=>{Dt.stopPropagation(),we.email&&window.open(`mailto:${we.email}`)},className:"inline-flex items-center justify-center  dark:text-gray-200 hover:text-blue-500",children:s.jsx(Di,{size:16,style:{color:"#FFA726"}})}),s.jsx("button",{title:"Google Meet",onClick:Dt=>{Dt.stopPropagation(),window.open("https://meet.google.com/","_blank")},className:"inline-flex items-center justify-center  dark:text-gray-200 hover:text-blue-500",children:s.jsx("img",{src:l,alt:"Google Meet",className:"w-4 h-4"})})]})}),Gs.source&&s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm  dark:text-white",style:{minWidth:`${Ja.source}px`},children:[s.jsx("span",{className:"text-base",children:Xo(we.source)})," ",we.source]}),Gs.project&&s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm  dark:text-white",style:{minWidth:`${Ja.project}px`},children:we.project||"-"}),Gs.sales&&s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm  dark:text-white",style:{minWidth:`${Ja.sales}px`},children:we.assignedTo||"-"}),Gs.lastComment&&s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm  dark:text-white",style:{minWidth:`${Ja.lastComment}px`},children:we.notes||"-"}),Gs.stage&&s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm  dark:text-white",style:{minWidth:`${Ja.stage}px`},children:s.jsx("span",{className:`inline-flex px-2 py-0.5 text-xs font-semibold leading-5 rounded-full ${Kl(we.stage)}`,children:e(we.stage||"N/A")})}),Gs.expectedRevenue&&s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm  dark:text-white",style:{minWidth:`${Ja.expectedRevenue}px`},children:we.estimatedValue?`${we.estimatedValue.toLocaleString()} ${e("SAR")}`:"-"}),Gs.priority&&s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm  dark:text-white",style:{minWidth:`${Ja.priority}px`},children:s.jsx("span",{className:`inline-flex px-2 py-0.5 text-xs font-semibold leading-5 rounded-full ${Qn(we.priority)}`,children:e(we.priority||"N/A")})}),Gs.status&&s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm  dark:text-white",style:{minWidth:`${Ja.status}px`},children:e(we.status||"N/A")})]},we.id))})]}),Fa.length===0&&s.jsxs("div",{className:"text-center py-10  dark:text-gray-400",children:[s.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),s.jsx("h3",{className:"mt-2 text-sm font-medium  dark:text-white",children:e("No Leads Found")}),s.jsx("p",{className:"mt-1 text-sm  dark:text-gray-400",children:e("Try adjusting your filters or adding new leads.")})]})]})]}),s.jsxs("nav",{className:"flex flex-col lg:flex-row lg:flex-nowrap justify-between items-stretch lg:items-center gap-3 lg:gap-2 p-3 lg:p-4 border-t border-gray-200 dark:border-gray-700 dark:bg-transparent rounded-b-lg backdrop-blur-sm",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2 w-full lg:w-auto text-sm font-medium  dark:text-white",children:[s.jsx("span",{style:{color:a==="dark"?"#ffffff":void 0},children:e("Show")}),s.jsxs("select",{value:Ze,onChange:we=>{ht(Number(we.target.value)),Ke(1)},className:"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-transparent backdrop-blur-sm text-gray-900 dark:text-white text-xs",children:[s.jsx("option",{value:10,children:"10"}),s.jsx("option",{value:20,children:"20"}),s.jsx("option",{value:50,children:"50"}),s.jsx("option",{value:100,children:"100"})]}),s.jsx("span",{className:"text-xs font-semibold  dark:text-white",style:{color:a==="dark"?"#ffffff":void 0},children:e("entries")}),s.jsx("label",{htmlFor:"page-search",className:"sr-only",children:e("Search Page")}),s.jsx("input",{id:"page-search",type:"text",placeholder:e("Go to page..."),value:At,onChange:we=>Mt(we.target.value),onKeyDown:we=>{if(we.key==="Enter"){const Be=Number(At);Be>0&&Be<=Math.ceil(d.length/Ze)&&(Ke(Be),Mt(""))}},className:"ml-2 px-3 py-1.5 border border-gray-300 dark:border-gray-600 rounded-lg  dark:bg-transparent backdrop-blur-sm  dark:text-white text-xs w-full sm:w-64 lg:w-28 placeholder:text-gray-400 dark:placeholder-gray-500 focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400",style:{color:a==="dark"?"#ffffff":void 0}}),s.jsx("div",{className:"spacer-row w-full lg:hidden",children:s.jsx("div",{className:"h-2"})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:flex lg:flex-row lg:flex-nowrap items-start lg:items-center gap-3 lg:gap-2 w-full lg:w-auto",children:[s.jsxs("div",{className:"flex items-center flex-wrap gap-2 w-full lg:w-auto border p-2 rounded-lg border-gray-300 dark:border-gray-600  dark:bg-gray-700",children:[s.jsx("span",{className:"text-xs font-semibold  dark:text-white",style:{color:a==="dark"?"#ffffff":void 0},children:e("Export Pages")}),s.jsx("input",{type:"number",min:"1",max:Math.ceil(d.length/Ze),placeholder:"From",value:Pt,onChange:we=>Gt(we.target.value),className:"w-16 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-transparent backdrop-blur-sm  dark:text-white text-xs focus:border-blue-500",style:{color:a==="dark"?"#ffffff":void 0}}),s.jsx("span",{className:"text-xs font-semibold  dark:text-white   style={{ color: theme === 'dark' ? '#ffffff' : undefined }}",children:e("to")}),s.jsx("input",{type:"number",min:"1",max:Math.ceil(d.length/Ze),placeholder:"To",value:Ae,onChange:we=>Tt(we.target.value),className:"w-16 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md  dark:bg-transparent backdrop-blur-sm  dark:text-white text-xs focus:border-blue-500",style:{color:a==="dark"?"#ffffff":void 0}}),s.jsxs("button",{onClick:Fs,className:"flex items-center gap-1 px-3 py-1.5 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-lg text-sm transition-colors text-white focus:text-white",children:[s.jsx(lh,{size:12}),e("Export")]})]}),s.jsxs("div",{className:"flex items-center gap-2 w-full lg:w-auto justify-between lg:justify-start",children:[s.jsxs("button",{onClick:()=>Ke(we=>Math.max(we-1,1)),disabled:ze===1,className:"block px-3 py-2 text-white focus:text-white leading-tight text-gray-500  border border-gray-300 rounded-l-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-transparent dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white disabled:opacity-50 backdrop-blur-sm",children:[s.jsx("span",{className:"sr-only text-white focus:text-white",children:e("Previous")}),s.jsx("svg",{className:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),s.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[e("Page")," ",s.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:ze})," ",e("of")," ",s.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:Math.ceil(d.length/Ze)})]}),s.jsxs("button",{onClick:()=>Ke(we=>Math.min(we+1,Math.ceil(d.length/Ze))),disabled:ze===Math.ceil(d.length/Ze),className:"block px-3 py-2 leading-tight  border border-gray-300 rounded-r-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-transparent dark:border-gray-700 dark:text-white dark:hover:bg-gray-700 dark:hover:text-white disabled:opacity-50 backdrop-blur-sm",children:[s.jsx("span",{className:"sr-only text-white focus:text-white",style:{color:a==="dark"?"#ffffff":void 0},children:e("Next")}),s.jsx("svg",{className:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})]})]}),Yt&&qe&&s.jsx(bz,{ref:Kt,lead:qe,position:it,theme:a,onAction:we=>{switch(ea(!1),we){case"preview":na(qe),Ot(!0);break;case"edit":$t(qe),qt(!0);break;case"add_action":na(qe),lt(!0);break;case"call":window.open(`tel:${qe.phone}`);break;case"whatsapp":window.open(`https://wa.me/${String(qe.phone||"").replace(/[^0-9]/g,"")}`);break;case"email":window.open(`mailto:${qe.email}`);break;case"video":console.log("Video call:",qe);break;case"convert":ta(qe);break;case"delete":if(window.confirm(e("Are you sure you want to delete this lead?"))){const Be={...qe,deletedAt:new Date().toISOString()},Dt=JSON.parse(localStorage.getItem("deletedLeads")||"[]");Dt.push(Be),localStorage.setItem("deletedLeads",JSON.stringify(Dt)),c(Ut=>Ut.filter(_a=>_a.id!==qe.id))}break}},isRtl:t.language==="ar"}),gt&&s.jsx(Wz,{isOpen:gt,onClose:()=>qt(!1),lead:at,onSave:we=>{c(Be=>Be.map(Dt=>Dt.id===we.id?we:Dt)),qt(!1)}}),pt&&s.jsx(Mx,{isOpen:pt,onClose:()=>lt(!1),lead:Rt,onSave:()=>{lt(!1)}}),ps&&s.jsx(tW,{isOpen:ps,onClose:()=>{Fe(!1),ua(""),_s(null)},excelFile:dt,setExcelFile:mt,handleExcelUpload:sn,importing:ut,importError:Aa,importSummary:oa,t:e,theme:a}),We&&s.jsx(K1,{isOpen:We,onClose:()=>{Ot(!1),na(null)},lead:Rt,isArabic:t.language==="ar",theme:a})]})},Uye=()=>{const{t:e,i18n:t}=St(),{theme:a}=Ar();In();const{statuses:r}=Kf(),n=String(t.language||"").startsWith("ar"),i="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='48' height='48' viewBox='0 0 24 24'><rect x='2' y='4' width='12' height='16' rx='3' fill='%23ffffff'/><rect x='2' y='4' width='12' height='4' rx='2' fill='%234285F4'/><rect x='2' y='4' width='4' height='16' rx='2' fill='%2334A853'/><rect x='10' y='4' width='4' height='16' rx='2' fill='%23FBBC05'/><rect x='2' y='16' width='12' height='4' rx='2' fill='%23EA4335'/><polygon points='14,9 22,5 22,19 14,15' fill='%2334A853'/></svg>",[l,o]=y.useState([]),[c,d]=y.useState([]),[u,f]=y.useState(""),[p,m]=y.useState("all"),[v,g]=y.useState("all"),[b,j]=y.useState("all"),[k,S]=y.useState("all"),[N,A]=y.useState("all"),[_,E]=y.useState("all"),[D,R]=y.useState("all"),[I,M]=y.useState("all"),[U,P]=y.useState(""),[F,K]=y.useState(""),[V,J]=y.useState(""),[Q,z]=y.useState("all"),[X,le]=y.useState(""),[O,q]=y.useState("all"),[W,te]=y.useState("all"),[re,oe]=y.useState(""),[ce,G]=y.useState(""),[ie,ye]=y.useState("all"),[se,Ie]=y.useState("all"),[pe,ae]=y.useState("all"),[ge,Re]=y.useState("createdAt"),[ue,Z]=y.useState("desc"),[Se,Ne]=y.useState([]),[Ye,gt]=y.useState(!1),[qt,at]=y.useState(null),[$t,ze]=y.useState(1),[Ke,Ze]=y.useState(20),[ht,At]=y.useState(""),[Mt,Pt]=y.useState(1),[Gt,Ae]=y.useState(1),[Tt,We]=y.useState(!1),[Ot,Rt]=y.useState(null),[na,pt]=y.useState(!1),[lt,dt]=y.useState(null),[mt,ut]=y.useState(!1),[ra,Aa]=y.useState(""),[ua,oa]=y.useState(null),[_s,ps]=y.useState(!1),[Fe,Ha]=y.useState([]),is="text-gray-900 dark:text-white",us="bg-gray-100 dark:bg-gray-900/95",me=[{key:"new lead",icon:""},{key:"duplicate",icon:""},{key:"pending",icon:""},{key:"cold calls",icon:""},{key:"follow up",icon:""}],De=y.useMemo(()=>{const Ee=ta=>{const ia=String(ta||"").toLowerCase();return ia.includes("new")?"new lead":ia.includes("duplicate")?"duplicate":ia.includes("pending")||ia.includes("qualif")?"pending":ia.includes("cold")||ia.includes("lost")?"cold calls":ia.includes("follow")||ia.includes("progress")?"follow up":""},et={total:c.length,"new lead":0,duplicate:0,pending:0,"cold calls":0,"follow up":0};return c.forEach(ta=>{const ia=Ee(ta.stage||ta.status);ia&&et[ia]++}),et},[c]),ke=y.useMemo(()=>{const Ee=new Date,et=Be=>String(Be).padStart(2,"0"),ta=Be=>`${Be.getFullYear()}-${et(Be.getMonth()+1)}-${et(Be.getDate())}`,ia=["Alice","Bob","Charlie","Dina","Elias","Fatima","Gamal","Hana","Ibrahim","Jana","Kamal","Lina"],Fa=["Acme Co.","Globex","Initech","Umbrella","Wayne Ltd.","Stark Ind."],Fs=["website","social-media","referral","email-campaign","direct"],Ja=["new lead","duplicate","pending","cold calls","follow up"],we=["high","medium","low"];return Array.from({length:12},(Be,Dt)=>{const Ut=new Date(Ee);Ut.setDate(Ee.getDate()-(5+Dt%10));const _a=new Date(Ee);_a.setDate(Ee.getDate()-(1+Dt%5));const Qa=Dt+1;return{id:Qa,name:`${ia[Dt]} ${Qa}`,email:`lead${Qa}@example.com`,phone:`+2010${String(1e6+Qa).slice(-7)}`,company:Fa[Dt%Fa.length],stage:Ja[Dt%Ja.length],status:Ja[Dt%Ja.length],priority:we[Dt%we.length],source:Fs[Dt%Fs.length],assignedTo:["Ahmed Ali","Sara Noor","Ibrahim"][Dt%3],createdAt:ta(Ut),lastContact:ta(_a),notes:"Demo lead",estimatedValue:1e4+Dt*500,probability:Dt*9%100}})},[]);y.useEffect(()=>{if(Array.isArray(l)&&Array.isArray(c)&&l.length===0&&c.length===0){o(ke),d(ke);try{localStorage.setItem("leadsData",JSON.stringify(ke)),setTimeout(()=>window.dispatchEvent(new CustomEvent("leadsDataUpdated")),0)}catch(Ee){console.warn("persist demo leads failed",Ee?.message)}}},[l,c,ke]);const _e=Uc();y.useEffect(()=>{try{const et=new URLSearchParams(_e.search||"").get("stage");et&&A(et)}catch(Ee){console.error("Error parsing URL for stage filter:",Ee)}},[_e.search]);const[Te,Me]=y.useState(null),[Qe,vt]=y.useState({x:0,y:0}),[qe,st]=y.useState(!1),it=y.useRef(null),[Ft,Yt]=y.useState(!1),ea=y.useRef(null),Kt=y.useRef(null),Xt=Ee=>{const et=(Ee||"").toLowerCase();return et.includes("convert")?"":et.includes("progress")?"":et.includes("lost")?"":et.includes("new")?"":et.includes("qual")?"":""};y.useEffect(()=>{const Ee=et=>{const ta=(et||"").toLowerCase();return ta.includes("convert")?"#10b981":ta.includes("progress")?"#f59e0b":ta.includes("lost")?"#ef4444":ta.includes("new")?"#3b82f6":ta.includes("qual")?"#8b5cf6":"#3b82f6"};try{const et=JSON.parse(localStorage.getItem("crmStages")||"[]"),ta=Array.isArray(et)?typeof et[0]=="string"?et.map(ia=>({name:ia,color:Ee(ia),icon:Xt(ia)})):et.map(ia=>({name:ia.name||String(ia),color:ia.color||Ee(ia.name||String(ia)),icon:ia.icon||Xt(ia.name||String(ia))})):[];ta.length===0?Ha([{name:"new",color:"#10b981",icon:""},{name:"qualified",color:"#3b82f6",icon:""},{name:"in-progress",color:"#f59e0b",icon:""},{name:"converted",color:"#059669",icon:""},{name:"lost",color:"#ef4444",icon:""}]):Ha(ta)}catch{Ha([{name:"new",color:"#10b981",icon:""},{name:"qualified",color:"#3b82f6",icon:""},{name:"in-progress",color:"#f59e0b",icon:""},{name:"converted",color:"#059669",icon:""},{name:"lost",color:"#ef4444",icon:""}])}},[]);const ya={lead:e("Lead"),contact:e("Contact"),source:e("Source"),project:e("Project"),sales:e("Sales"),lastComment:e("Last Comment"),stage:e("Stage"),expectedRevenue:e("Expected Revenue"),priority:e("Priority"),status:e("Status"),actions:e("Actions")},cs=Ee=>Ee?.toString()?.toLowerCase()?.trim()?.replace(/\s+/g,""),wa={name:["name",""," ","lead","lead name"],email:["email",""," "],phone:["phone",""," ","contact"],company:["company",""],status:["status",""],priority:["priority",""],source:["source",""],assignedTo:["assignedto","assigned",""," ","salesperson"],createdAt:["createdat"," ","created"],lastContact:["lastcontact"," "],estimatedValue:["estimatedvalue"," ","value"],probability:["probability",""],notes:["notes",""]},La=(Ee,et)=>{const ta=Object.keys(Ee||{});for(const ia of ta){const Fa=cs(ia);for(const Fs of et)if(Fa===cs(Fs))return Ee[ia]}return""},an=async Ee=>{const et=await Ee.arrayBuffer(),ta=Bf(et,{type:"array"}),ia=ta.SheetNames[0],Fa=ta.Sheets[ia],Fs=sa.sheet_to_json(Fa,{defval:""}),Ja=new Date().toISOString().slice(0,10);return Fs.map(Be=>({id:Date.now()+Math.random(),name:String(La(Be,wa.name)||"").trim(),email:String(La(Be,wa.email)||"").trim(),phone:String(La(Be,wa.phone)||"").trim(),company:String(La(Be,wa.company)||"").trim(),status:String(La(Be,wa.status)||"new").toLowerCase().trim(),priority:String(La(Be,wa.priority)||"medium").toLowerCase().trim(),source:String(La(Be,wa.source)||"import").trim(),assignedTo:String(La(Be,wa.assignedTo)||"").trim(),createdAt:String(La(Be,wa.createdAt)||Ja).trim(),lastContact:String(La(Be,wa.lastContact)||Ja).trim(),estimatedValue:Number(La(Be,wa.estimatedValue))||0,probability:Number(La(Be,wa.probability))||0,notes:String(La(Be,wa.notes)||"").trim()}))},Jn=async()=>{if(!lt){Aa("import.selectFileError");return}ut(!0),Aa(null),oa(null);try{const Ee=await an(lt);try{await fetch("/api/leads/bulk-import",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({leads:Ee})})}catch(et){console.warn("API import endpoint not reachable, adding locally only.",et?.message)}o(et=>[...Ee,...et]),dt(null),oa({added:Ee.length})}catch(Ee){console.error(Ee),Aa("import.readFileError")}finally{ut(!1)}},[Ra,Ps]=y.useState({lead:!0,contact:!0,source:!0,project:!0,sales:!0,lastComment:!0,stage:!0,expectedRevenue:!0,priority:!0,status:!0,actions:!0}),Zi=Ee=>{Ps(et=>({...et,[Ee]:!et[Ee]}))},sn=()=>{const Ee=Object.keys(ya).reduce((et,ta)=>(et[ta]=!0,et),{});Ps(Ee)},Gs=Array.from({length:30},(Ee,et)=>{const ta=et+1,ia=["new","in-progress","qualified","converted","lost"],Fa=["high","medium","low"],Fs=["website","social-media","referral","email-campaign","direct"],Ja=[" "," ","Ahmed Ali"],we=[" "," Johnson"," ","Emma Wilson"," "],Be=[" ","ABC Corporation"," ","Tech Solutions"," "],Dt=ia[et%ia.length],Ut=Fa[et%Fa.length],_a=Fs[et%Fs.length],Qa=Ja[et%Ja.length],ds=`${we[et%we.length]} ${ta}`,Is=`lead${ta}@example.com`,Va=`+9665${String(12345670+ta).slice(-8)}`,ts=`2024-01-${String(1+et%28).padStart(2,"0")}`,ln=`2024-01-${String(1+(et+3)%28).padStart(2,"0")}`,Zn=" ",vr=5e4+et*1e3,ei=et*7%101;return{id:ta,name:ds,email:Is,phone:Va,company:Be[et%Be.length],stage:Dt,status:Dt,priority:Ut,source:_a,assignedTo:Qa,createdAt:ts,lastContact:ln,notes:Zn,estimatedValue:vr,probability:ei}});y.useEffect(()=>{try{const Ee=localStorage.getItem("leadsData");if(Ee){const et=JSON.parse(Ee);o(et),d(et),setTimeout(()=>window.dispatchEvent(new CustomEvent("leadsDataUpdated")),0)}else o(Gs),d(Gs),localStorage.setItem("leadsData",JSON.stringify(Gs)),setTimeout(()=>window.dispatchEvent(new CustomEvent("leadsDataUpdated")),0)}catch(Ee){console.warn("Failed to load leadsData from localStorage, using sample.",Ee?.message),o(Gs),d(Gs),setTimeout(()=>window.dispatchEvent(new CustomEvent("leadsDataUpdated")),0)}},[]),y.useEffect(()=>{const Ee=()=>{try{const ta=JSON.parse(localStorage.getItem("leadsData")||"[]");o(ta)}catch(ta){console.warn("Failed to sync leadsData from localStorage.",ta?.message)}},et=ta=>{ta.key==="leadsData"&&Ee()};return window.addEventListener("storage",et),Ee(),()=>{window.removeEventListener("storage",et)}},[]),y.useEffect(()=>{try{localStorage.setItem("leadsData",JSON.stringify(l)),setTimeout(()=>window.dispatchEvent(new CustomEvent("leadsDataUpdated")),0)}catch(Ee){console.warn("Failed to save leadsData to localStorage.",Ee?.message)}},[l]),y.useEffect(()=>{let Ee=l.filter(et=>{const ta=String(et.name||"").toLowerCase().includes(u.toLowerCase())||String(et.email||"").toLowerCase().includes(u.toLowerCase())||String(et.company||"").toLowerCase().includes(u.toLowerCase()),ia=p==="all"||String(et.status||"").toLowerCase()===p.toLowerCase(),Fa=v==="all"||String(et.source||"").toLowerCase()===v.toLowerCase(),Fs=b==="all"||String(et.priority||"").toLowerCase()===b.toLowerCase(),Ja=k==="all"||String(et.project||"").toLowerCase()===k.toLowerCase(),we=N==="all"||String(et.stage||"").toLowerCase()===N.toLowerCase(),Be=_==="all"||String(et.manager||"").toLowerCase()===_.toLowerCase(),Dt=D==="all"||String(et.assignedTo||"").toLowerCase()===D.toLowerCase(),Ut=I==="all"||String(et.createdBy||"").toLowerCase()===I.toLowerCase(),_a=Q==="all"||String(et.oldStage||"").toLowerCase()===Q.toLowerCase(),Qa=O==="all"||String(et.campaign||"").toLowerCase()===O.toLowerCase(),ds=W==="all"||String(et.country||"").toLowerCase()===W.toLowerCase(),Is=ie==="all"||String(et.whatsappIntents||"").toLowerCase()===ie.toLowerCase(),Va=se==="all"||String(et.callType||"").toLowerCase()===se.toLowerCase(),ts=pe==="all"||String(et.duplicateStatus||"").toLowerCase()===pe.toLowerCase(),ln=!U||et.assignDate&&et.assignDate.includes(U),Zn=!F||et.actionDate&&et.actionDate.includes(F),vr=!V||et.createdAt&&et.createdAt.includes(V),ei=!X||et.closedDate&&et.closedDate.includes(X),_l=!ce||et.email&&et.email.toLowerCase().includes(ce.toLowerCase()),Er=!re||et.estimatedValue&&et.estimatedValue.toString().includes(re);return ta&&ia&&Fa&&Fs&&Ja&&we&&Be&&Dt&&Ut&&_a&&Qa&&ds&&Is&&Va&&ts&&ln&&Zn&&vr&&ei&&_l&&Er});Ee.sort((et,ta)=>{let ia=et[ge],Fa=ta[ge];return(ge==="createdAt"||ge==="lastContact")&&(ia=new Date(ia),Fa=new Date(Fa)),ue==="asc"?ia>Fa?1:-1:ia<Fa?1:-1}),d(Ee),ze(1)},[l,u,p,v,b,ge,ue,k,N,_,D,I,U,F,V,Q,X,O,W,re,ce,ie,se,pe]);const hs=Ee=>{switch(Ee){case"new":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"qualified":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"in-progress":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"converted":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";case"lost":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},Vc=Ee=>{switch(String(Ee).toLowerCase()){case"high":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"low":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},Md=Ee=>{switch(Ee){case"Facebook":return"";case"Website":return"";case"Referral":return"";case"Campaign":return"";case"website":return"";case"social-media":return"";case"referral":return"";case"email-campaign":return"";case"direct":return"";default:return""}},rn=Ee=>{Ee.target.checked?Ne(el.map(et=>et.id)):Ne([])},Kl=Ee=>{Ne(et=>et.includes(Ee)?et.filter(ta=>ta!==Ee):[...et,Ee])};y.useEffect(()=>{const Ee=et=>{qe&&(it.current&&it.current.contains(et.target)||ea.current&&ea.current.contains(et.target)||(st(!1),Me(null),ea.current=null))};return document.addEventListener("mousedown",Ee),()=>document.removeEventListener("mousedown",Ee)},[qe]);const[Qn,Xo]=y.useState(""),[bs,Jo]=y.useState(""),[Ld,Wc]=y.useState(null),{canAssignNow:Yl}=(()=>{try{return{canAssignNow:require("../utils/rotation").canAssignNow}}catch{return{canAssignNow:()=>({ok:!0})}}})(),vi=()=>{if(Se.length!==0){try{const et=JSON.parse(localStorage.getItem("deletedLeads")||"[]").filter(ta=>!Se.includes(ta.id));localStorage.setItem("deletedLeads",JSON.stringify(et))}catch{}o(Ee=>Ee.filter(et=>!Se.includes(et.id))),Ne([])}},Od=()=>{if(Se.length!==0){try{const Ee=JSON.parse(localStorage.getItem("deletedLeads")||"[]"),et=Ee.filter(Fs=>Se.includes(Fs.id)).map(Fs=>{const{deletedAt:Ja,...we}=Fs;return we}),ta=Ee.filter(Fs=>!Se.includes(Fs.id));localStorage.setItem("deletedLeads",JSON.stringify(ta));const ia=JSON.parse(localStorage.getItem("leadsData")||"[]"),Fa=[...et,...ia];localStorage.setItem("leadsData",JSON.stringify(Fa)),setTimeout(()=>window.dispatchEvent(new CustomEvent("leadsDataUpdated")),0)}catch{}o(Ee=>Ee.filter(et=>!Se.includes(et.id))),Ne([])}},nn=async Ee=>{try{const et=String(Ee?.name||Ee?.company||"").trim(),ta=String(Ee?.phone||"").trim();if(!et||!ta||ta.length<5){alert(t.language==="ar"?"  : / ":e("Conversion failed: missing name/phone"));return}const ia=Array.isArray(Ee?.tags)?Ee.tags:Ee?.tags?String(Ee.tags).split(",").map(Fs=>Fs.trim()).filter(Boolean):Ee?.source?[String(Ee.source)]:[],Fa={name:et,phone:ta,email:String(Ee?.email||"").trim(),type:String(Ee?.type||(Ee?.company?"Company":"Individual")),companyName:Ee?.company||"",country:String(Ee?.country||"").trim(),city:String(Ee?.city||"").trim(),addressLine:String(Ee?.address||"").trim(),contacts:Ee?.company?[{name:String(Ee?.name||"").trim(),phone:String(Ee?.phone||"").trim(),email:String(Ee?.email||"").trim()}]:[],tags:ia,notes:String(Ee?.notes||"").trim(),assignedSalesRep:String(Ee?.sales||Ee?.assignedTo||"").trim()};alert(t.language==="ar"?"     ":e("Lead converted to customer successfully")),o(Fs=>Fs.map(Ja=>Ja.id===Ee.id?{...Ja,stage:"converted",status:"converted"}:Ja))}catch(et){console.error("convert customer failed",et),alert(t.language==="ar"?"   ":e("Failed to convert to customer"))}};Math.ceil(c.length/Ke);const Al=($t-1)*Ke,el=c.slice(Al,Al+Ke),Rd=()=>{const Ee=Math.max(1,Math.ceil(c.length/Ke)),et=Math.max(1,Math.min(Number(Mt)||$t,Ee)),ta=Math.max(et,Math.min(Number(Gt)||et,Ee)),ia=(et-1)*Ke,Fa=Math.min(ta*Ke,c.length),Ja=c.slice(ia,Fa).map(Dt=>({Name:Dt.name,Email:Dt.email,Phone:Dt.phone,Company:Dt.company,Stage:Dt.stage,Status:Dt.status,Priority:Dt.priority,Source:Dt.source,"Assigned To":Dt.assignedTo,"Created At":Dt.createdAt,"Last Contact":Dt.lastContact,"Estimated Value":Dt.estimatedValue,Probability:Dt.probability})),we=sa.json_to_sheet(Ja),Be=sa.book_new();sa.book_append_sheet(Be,we,"Leads"),qr(Be,`Leads_Page_${et}_to_${ta}.xlsx`)};return s.jsxs("div",{className:`p-4 md:p-6 min-h-screen  ${is}`,dir:n?"rtl":"ltr",children:[s.jsx("div",{className:`flex justify-between items-center gap-4 mb-6
 ${n?"text-right":"text-left"}`,children:s.jsxs("div",{className:`relative inline-flex items-center ${n?"flex-row-reverse text-right":""} gap-2`,children:[s.jsx("h1",{className:`page-title text-2xl md:text-3xl font-bold text-black dark:text-white flex items-center gap-2 ${n?"flex-row-reverse w-full text-right":"text-left"}`,style:{textAlign:n?"right":"left",color:a==="dark"?"#ffffff":"#000000"},children:e("Recycle Bin")}),s.jsx("span",{"aria-hidden":!0,className:"absolute block h-[1px] rounded bg-gradient-to-r from-blue-500 via-purple-500 to-transparent",style:{width:"calc(100% + 8px)",left:n?"auto":"-4px",right:n?"-4px":"auto",bottom:"-4px"}})]})}),s.jsxs("div",{className:"glass-panel rounded-2xl p-3 mb-6 filters-compact",children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsxs("h2",{className:"text-lg font-semibold  dark:text-white flex items-center gap-2",children:[s.jsx(ux,{size:16,className:"text-blue-500 dark:text-blue-400"})," ",e("Filters")]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>Yt(Ee=>!Ee),className:"inline-flex items-center gap-1 font-semibold text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-200 transition-colors btn-compact",children:[e(Ft?"Hide ":"Show "),s.jsx(Na,{size:10,className:`transform transition-transform duration-300 ${Ft?"rotate-180":"rotate-0"}`})]}),s.jsxs("button",{onClick:()=>{f(""),m("all"),g("all"),j("all"),S("all"),A("all"),E("all"),R("all"),M("all"),P(""),K(""),J(""),z("all"),le(""),q("all"),te("all"),oe(""),G(""),ye("all"),Ie("all"),ae("all"),Re("createdAt"),Z("desc"),ze(1)},className:"inline-flex items-center gap-1 font-semibold  dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors btn-compact",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),e("Reset ")]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium  dark:text-white",children:[s.jsx(Kj,{size:12,className:"text-blue-500 dark:text-blue-400"}),e("Search")]}),s.jsx("input",{type:"text",placeholder:e("Search leads..."),value:u,onChange:Ee=>f(Ee.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg  dark:bg-gray-700  dark:text-white text-xs font-medium placeholder:text-gray-400 dark:placeholder-gray-500 focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium  dark:text-white",children:[s.jsx("svg",{className:"w-3 h-3 text-blue-500 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("Status")]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:p,onChange:Ee=>m(Ee.target.value),className:"w-full px-3 py-2 pr-8 border border-gray-300 dark:border-gray-500 rounded-lg  dark:bg-gray-700  dark:text-white text-xs font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400 appearance-none",children:[s.jsx("option",{value:"all",children:e("All Statuses")}),r.map(Ee=>s.jsx("option",{value:Ee,children:e(Ee)},Ee))]}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-300",onClick:Ee=>{const et=Ee.currentTarget.parentElement.querySelector("select");et&&et.focus()},children:s.jsx(Na,{size:12})})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium  dark:text-white",children:[s.jsx("svg",{className:"w-3 h-3 text-blue-500 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 4l-4 4 4 4"})}),e("Source")]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:v,onChange:Ee=>g(Ee.target.value),className:"w-full px-3 py-2 pr-8 border border-gray-300 dark:border-gray-500 rounded-lg  dark:bg-gray-700  dark:text-white text-xs font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400 appearance-none",children:[s.jsx("option",{value:"all",children:e("All Sources")}),Array.from(new Set(l.map(Ee=>Ee.source).filter(Boolean))).map(Ee=>s.jsx("option",{value:Ee,children:e(Ee)},Ee))]}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-300",onClick:Ee=>{const et=Ee.currentTarget.parentElement.querySelector("select");et&&et.focus()},children:s.jsx(Na,{size:12})})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium  dark:text-white",children:[s.jsx("svg",{className:"w-3 h-3 text-blue-500 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("Priority")]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:b,onChange:Ee=>j(Ee.target.value),className:"w-full px-3 py-2 pr-8 border border-gray-300 dark:border-gray-500 rounded-lg  dark:bg-gray-700  dark:text-white text-xs font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400 appearance-none",children:[s.jsx("option",{value:"all",children:e("All Priority")}),s.jsx("option",{value:"high",children:e("High")}),s.jsx("option",{value:"medium",children:e("Medium")}),s.jsx("option",{value:"low",children:e("Low")})]}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2  dark:text-gray-300",onClick:Ee=>{const et=Ee.currentTarget.parentElement.querySelector("select");et&&et.focus()},children:s.jsx(Na,{size:12})})]})]})]}),s.jsx("div",{className:`transition-all duration-500 ease-in-out overflow-hidden ${Ft?"max-h-[800px] opacity-100 pt-3":"max-h-0 opacity-0"}`,children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-2",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium  dark:text-white",children:[s.jsx("svg",{className:"w-3 h-3 text-blue-500 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),e("Project")]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:k,onChange:Ee=>S(Ee.target.value),className:"w-full px-3 py-2 pr-8 border border-gray-300 dark:border-gray-500 rounded-lg  dark:bg-gray-700  dark:text-white text-xs font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400 appearance-none",children:[s.jsx("option",{value:"all",children:e("All Projects")}),Array.from(new Set(l.map(Ee=>Ee.project).filter(Boolean))).map(Ee=>s.jsx("option",{value:Ee,children:e(Ee)},Ee))]}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-300",onClick:Ee=>{const et=Ee.currentTarget.parentElement.querySelector("select");et&&et.focus()},children:s.jsx(Na,{size:12})})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium  dark:text-white",children:[s.jsx("svg",{className:"w-3 h-3 text-blue-500 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h7"})}),e("Stage")]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:N,onChange:Ee=>A(Ee.target.value),className:"w-full px-3 py-2 pr-8 border border-gray-300 dark:border-gray-500 rounded-lg  dark:bg-gray-700  dark:text-white text-xs font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400 appearance-none",children:[s.jsx("option",{value:"all",children:e("All Stages")}),s.jsxs("option",{value:"new",children:[" ",e("New Lead")]}),s.jsxs("option",{value:"duplicate",children:[" ",e("Duplicate")]}),s.jsxs("option",{value:"pending",children:[" ",e("Pending")]}),s.jsxs("option",{value:"cold-call",children:[" ",e("Cold Calls")]}),s.jsxs("option",{value:"follow-up",children:[" ",e("follow up")]})]}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-300",onClick:Ee=>{const et=Ee.currentTarget.parentElement.querySelector("select");et&&et.focus()},children:s.jsx(Na,{size:12})})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium  dark:text-white",children:[s.jsx("svg",{className:"w-3 h-3 text-blue-500 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),e("Manager")]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:_,onChange:Ee=>E(Ee.target.value),className:"w-full px-3 py-2 pr-8 border border-gray-300 dark:border-gray-500 rounded-lg  dark:bg-gray-700  dark:text-white text-xs font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400 appearance-none",children:[s.jsx("option",{value:"all",children:e("All Managers")}),Array.from(new Set(l.map(Ee=>Ee.manager).filter(Boolean))).map(Ee=>s.jsx("option",{value:Ee,children:e(Ee)},Ee))]}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-300",onClick:Ee=>{const et=Ee.currentTarget.parentElement.querySelector("select");et&&et.focus()},children:s.jsx(Na,{size:12})})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium  dark:text-white",children:[s.jsx("svg",{className:"w-3 h-3 text-blue-500 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),e("Sales Person")]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:D,onChange:Ee=>R(Ee.target.value),className:"w-full px-3 py-2 pr-8 border border-gray-300 dark:border-gray-500 rounded-lg  dark:bg-gray-700 dark:text-white text-xs font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400 appearance-none",children:[s.jsx("option",{value:"all",children:e("All Sales Persons")}),Array.from(new Set(l.map(Ee=>Ee.assignedTo).filter(Boolean))).map(Ee=>s.jsx("option",{value:Ee,children:e(Ee)},Ee))]}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-300",onClick:Ee=>{const et=Ee.currentTarget.parentElement.querySelector("select");et&&et.focus()},children:s.jsx(Na,{size:12})})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium  dark:text-white",children:[s.jsx("svg",{className:"w-3 h-3 text-blue-500 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20h18"})}),e("Created By")]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:I,onChange:Ee=>M(Ee.target.value),className:"w-full px-3 py-2 pr-8 border border-gray-300 dark:border-gray-500 rounded-lg  dark:bg-gray-700  dark:text-white text-xs font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400 appearance-none",children:[s.jsx("option",{value:"all",children:e("All Creators")}),Array.from(new Set(l.map(Ee=>Ee.createdBy).filter(Boolean))).map(Ee=>s.jsx("option",{value:Ee,children:e(Ee)},Ee))]}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-300",onClick:Ee=>{const et=Ee.currentTarget.parentElement.querySelector("select");et&&et.focus()},children:s.jsx(Na,{size:12})})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium  dark:text-white",children:[s.jsx("svg",{className:"w-3 h-3 text-blue-500 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c1.657 0 3 1.343 3 3v1h1a2 2 0 012 2v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5a2 2 0 012-2h1v-1c0-1.657 1.343-3 3-3z"})}),e("Old Stage")]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:Q,onChange:Ee=>z(Ee.target.value),className:"w-full px-3 py-2 pr-8 border border-gray-300 dark:border-gray-500 rounded-lg  dark:bg-gray-700  dark:text-white text-xs font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400 appearance-none",children:[s.jsx("option",{value:"all",children:e("All Old Stages")}),Array.from(new Set(l.map(Ee=>Ee.oldStage).filter(Boolean))).map(Ee=>s.jsx("option",{value:Ee,children:e(Ee)},Ee))]}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2  dark:text-gray-300",onClick:Ee=>{const et=Ee.currentTarget.parentElement.querySelector("select");et&&et.focus()},children:s.jsx(Na,{size:12})})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium  dark:text-white",children:[s.jsx("svg",{className:"w-3 h-3 text-blue-500 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m0 0a2 2 0 104 0m-4 0h4"})}),e("Campaign")]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:O,onChange:Ee=>q(Ee.target.value),className:"w-full px-3 py-2 pr-8 border border-gray-300 dark:border-gray-500 rounded-lg  dark:bg-gray-700  dark:text-white text-xs font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400 appearance-none",children:[s.jsx("option",{value:"all",children:e("All Campaigns")}),Array.from(new Set(l.map(Ee=>Ee.campaign).filter(Boolean))).map(Ee=>s.jsx("option",{value:Ee,children:e(Ee)},Ee))]}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-300",onClick:Ee=>{const et=Ee.currentTarget.parentElement.querySelector("select");et&&et.focus()},children:s.jsx(Na,{size:12})})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium  dark:text-white",children:[s.jsx("svg",{className:"w-3 h-3 text-blue-500 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3.055 11H5a2 2 0 012 2v10a2 2 0 01-2 2H3.055L3 11zM11 5h2m-2 0V3m0 2v2m0-2h-2m2 0h2m-2 0V3a2 2 0 00-2-2h-2a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2z"})}),e("Country")]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:W,onChange:Ee=>te(Ee.target.value),className:"w-full px-3 py-2 pr-8 border border-gray-300 dark:border-gray-500 rounded-lg  dark:bg-gray-700  dark:text-white text-xs font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400 appearance-none",children:[s.jsx("option",{value:"all",children:e("All Countries")}),Array.from(new Set(l.map(Ee=>Ee.country).filter(Boolean))).map(Ee=>s.jsx("option",{value:Ee,children:e(Ee)},Ee))]}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-300",onClick:Ee=>{const et=Ee.currentTarget.parentElement.querySelector("select");et&&et.focus()},children:s.jsx(Na,{size:12})})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium  dark:text-white",children:[s.jsxs("svg",{className:"w-3 h-3 text-blue-500 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .343-3 .768V11a.5.5 0 00.5.5h5a.5.5 0 00.5-.5V8.768C15 8.343 13.657 8 12 8z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 11.5v6.5m-3-6.5h6m-3 0V5m0 0h3m-3 0H9"})]}),e("Expected Revenue")]}),s.jsx("input",{type:"number",placeholder:e("Enter minimum value..."),value:re,onChange:Ee=>oe(Ee.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg  dark:bg-gray-700  dark:text-white text-xs font-medium placeholder:text-gray-400 dark:placeholder-gray-500 focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium  dark:text-white",children:[s.jsx(Di,{size:12,className:"text-blue-500 dark:text-blue-400"}),e("Email")]}),s.jsx("input",{type:"text",placeholder:e("Search email..."),value:ce,onChange:Ee=>G(Ee.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg  dark:bg-gray-700  dark:text-white text-xs font-medium placeholder:text-gray-400 dark:placeholder-gray-500 focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium  dark:text-white",children:[s.jsx(Hl,{size:12,className:"text-blue-500 dark:text-blue-400"}),e("WhatsApp Intents")]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:ie,onChange:Ee=>ye(Ee.target.value),className:"w-full px-3 py-2 pr-8 border border-gray-300 dark:border-gray-500 rounded-lg  dark:bg-gray-700  dark:text-white text-xs font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400 appearance-none",children:[s.jsx("option",{value:"all",children:e("All Intents")}),s.jsx("option",{value:"purchase",children:e("Purchase")}),s.jsx("option",{value:"inquiry",children:e("Inquiry")}),s.jsx("option",{value:"support",children:e("Support")})]}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2  dark:text-gray-300",onClick:Ee=>{const et=Ee.currentTarget.parentElement.querySelector("select");et&&et.focus()},children:s.jsx(Na,{size:12})})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium  dark:text-white",children:[s.jsx("svg",{className:"w-3 h-3 text-blue-500 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),e("Call Type")]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:se,onChange:Ee=>Ie(Ee.target.value),className:"w-full px-3 py-2 pr-8 border border-gray-300 dark:border-gray-500 rounded-lg  dark:bg-gray-700  dark:text-white text-xs font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400 appearance-none",children:[s.jsx("option",{value:"all",children:e("All Call Types")}),s.jsx("option",{value:"inbound",children:e("Inbound")}),s.jsx("option",{value:"outbound",children:e("Outbound")}),s.jsx("option",{value:"follow-up",children:e("Follow-up")})]}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-300",onClick:Ee=>{const et=Ee.currentTarget.parentElement.querySelector("select");et&&et.focus()},children:s.jsx(Na,{size:12})})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium  dark:text-white",children:[s.jsx("svg",{className:"w-3 h-3 text-blue-500 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7v4a1 1 0 001 1h4a1 1 0 001-1V7m0 10v4a1 1 0 001 1h4a1 1 0 001-1v-4m-6-4H6a2 2 0 00-2 2v4a2 2 0 002 2h4m-6-4h4m-4 0v-4"})}),e("Duplicate Status")]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:pe,onChange:Ee=>ae(Ee.target.value),className:"w-full px-3 py-2 pr-8 border border-gray-300 dark:border-gray-500 rounded-lg  dark:bg-gray-700 dark:text-white text-xs font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400 appearance-none",children:[s.jsx("option",{value:"all",children:e("All Duplicates")}),s.jsx("option",{value:"duplicate",children:e("Duplicate")}),s.jsx("option",{value:"unique",children:e("Unique")})]}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-300",onClick:Ee=>{const et=Ee.currentTarget.parentElement.querySelector("select");et&&et.focus()},children:s.jsx(Na,{size:12})})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium  dark:text-white",children:[s.jsx("svg",{className:"w-3 h-3 text-blue-500 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),e("Assign Date")]}),s.jsx("input",{type:"date",value:U,onChange:Ee=>P(Ee.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg  dark:bg-gray-700  dark:text-white text-xs font-medium placeholder:text-gray-400 dark:placeholder-gray-500 focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium  dark:text-white",children:[s.jsx("svg",{className:"w-3 h-3 text-blue-500 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),e("Last Action Date")]}),s.jsx("input",{type:"date",value:F,onChange:Ee=>K(Ee.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg  dark:bg-gray-700  dark:text-white text-xs font-medium placeholder:text-gray-400 dark:placeholder-gray-500 focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium  dark:text-white",children:[s.jsx("svg",{className:"w-3 h-3 text-blue-500 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),e("Creation Date")]}),s.jsx("input",{type:"date",value:V,onChange:Ee=>J(Ee.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg  dark:bg-gray-700  dark:text-white text-xs font-medium placeholder:text-gray-400 dark:placeholder-gray-500 focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium  dark:text-white",children:[s.jsx("svg",{className:"w-3 h-3 text-blue-500 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),e("Closed Date")]}),s.jsx("input",{type:"date",value:X,onChange:Ee=>le(Ee.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg  dark:bg-gray-700  dark:text-white text-xs font-medium placeholder:text-gray-400 dark:placeholder-gray-500 focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200"})]})]})})]})]}),s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",style:{color:a==="dark"?"#ffffff":void 0},children:e("Deleted Leads")}),s.jsx(aW,{columns:ya,visibleColumns:Ra,onColumnToggle:Zi,onResetColumns:sn,align:"right",compact:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-2 mb-4",children:[s.jsxs("button",{onClick:()=>A("all"),className:`btn btn-glass text-sm inline-flex items-center justify-between gap-2 px-3 py-2 ${is}`,children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:e("total leads")})]}),s.jsx("span",{className:"font-bold",children:De.total})]}),me.map(Ee=>s.jsxs("button",{onClick:()=>A(Ee.key),className:`btn btn-glass text-sm inline-flex items-center justify-between gap-2 px-3 py-2 ${is}`,children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{children:Ee.icon}),s.jsx("span",{children:e(Ee.key)})]}),s.jsx("span",{className:"font-bold",children:De[Ee.key]||0})]},Ee.key))]}),s.jsxs("div",{className:"glass-panel rounded-2xl overflow-hidden",children:[s.jsx("div",{className:"flex justify-between items-center p-3 border-b border-gray-200 dark:border-gray-700",children:Se.length>0?s.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[s.jsxs("span",{className:"text-sm font-medium  dark:text-gray-300",children:[e("Selected"),": ",Se.length," ",e("Leads")]}),s.jsx("button",{onClick:vi,className:"px-3 py-1.5 bg-red-600 hover:bg-red-700 text-white font-semibold rounded-lg text-sm transition-colors",children:e("Permanent Delete")}),s.jsx("button",{onClick:Od,className:"px-3 py-1.5 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-lg text-sm transition-colors",children:e("Restore")})]}):s.jsx("span",{className:"text-sm font-medium  dark:text-gray-400",children:e("No leads selected for bulk actions")})}),s.jsxs("div",{ref:Kt,className:"overflow-x-auto relative backdrop-blur-lg",style:{"--table-header-bg":a==="dark"?"transparent":void 0,"--scroll-bg":a==="dark"?"#0f172a":"#f9fafb"},children:[s.jsxs("table",{className:"w-max min-w-full divide-y divide-gray-200 dark:divide-gray-700 dark:text-white",style:{tableLayout:"auto"},children:[s.jsx("thead",{className:` ${us} backdrop-blur-md sticky top-0 z-30 shadow-md`,style:{backgroundColor:"var(--table-header-bg)"},children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"w-10 px-6 py-3 text-left text-xs font-medium  uppercase tracking-wider dark:text-white",style:{backgroundColor:"var(--table-header-bg)"},children:s.jsx("input",{type:"checkbox",checked:Se.length===el.length&&el.length>0,onChange:rn,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:bg-gray-700 dark:border-gray-600"})}),Ra.lead&&s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium  uppercase tracking-wider dark:text-white w-40 cursor-pointer",style:{backgroundColor:"var(--table-header-bg)"},onClick:()=>{ge==="lead"?Z(ue==="asc"?"desc":"asc"):(Re("lead"),Z("desc"))},children:s.jsxs("div",{className:"flex items-center gap-1",children:[ya.lead,ge==="lead"&&s.jsx("span",{className:"ml-1",children:ue==="asc"?"":""})]})},"lead"),Ra.contact&&s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium  uppercase tracking-wider dark:text-white w-48",style:{backgroundColor:"var(--table-header-bg)"},children:s.jsx("div",{className:"flex items-center gap-1",children:ya.contact})},"contact"),Ra.actions&&s.jsx("th",{scope:"col",className:`px-6 py-3 text-left text-xs font-medium  uppercase tracking-wider dark:text-white sticky ${t.language==="ar"?"right-0":"left-0"} z-30`,style:{minWidth:"160px",backgroundColor:"var(--table-header-bg)"},children:e("Actions")},"actions"),["source","project","sales","lastComment","stage","expectedRevenue","priority","status"].map(Ee=>Ra[Ee]?s.jsx("th",{scope:"col",className:`px-6 py-3 text-left text-xs font-medium  uppercase tracking-wider dark:text-white ${["lead","contact"].includes(Ee),""} ${["source","stage","priority","status","expectedRevenue"].includes(Ee)?"cursor-pointer":"cursor-default"}`,style:{backgroundColor:"var(--table-header-bg)"},onClick:["source","stage","priority","status","expectedRevenue"].includes(Ee)?()=>{ge===Ee?Z(ue==="asc"?"desc":"asc"):(Re(Ee),Z("desc"))}:void 0,children:s.jsxs("div",{className:"flex items-center gap-1",children:[ya[Ee],ge===Ee&&s.jsx("span",{className:"ml-1",children:ue==="asc"?"":""})]})},Ee):null)]})}),s.jsx("tbody",{className:" divide-y divide-gray-200 dark:bg-transparent dark:divide-gray-700",children:el.map((Ee,et)=>s.jsxs("tr",{className:` hover:bg-white/5 transition-colors duration-300 transition-colors duration-150 ${Te?.id===Ee.id?"bg-white/5":""}`,onMouseEnter:()=>Me(Ee),onMouseLeave:()=>Me(null),style:{cursor:"default"},children:[s.jsx("td",{className:"w-10 px-6 py-4 whitespace-nowrap",children:s.jsx("input",{type:"checkbox",checked:Se.includes(Ee.id),onChange:()=>Kl(Ee.id),onClick:ta=>ta.stopPropagation(),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:bg-gray-700 dark:border-gray-600"})}),Ra.lead&&s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium  dark:text-white",children:[s.jsx("div",{className:"font-semibold text-base",children:Ee.name}),s.jsx("div",{className:" dark:text-gray-400 text-xs mt-0.5",children:Ee.company})]}),Ra.contact&&s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm  dark:text-white",children:[s.jsx("div",{className:"font-normal dark:text-white",children:Ee.email}),s.jsx("div",{className:"font-normal dark:text-white",children:Ee.phone})]}),Ra.actions&&s.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-xs font-medium sticky ${t.language==="ar"?"right-0":"left-0"} z-20 bg-transparent`,children:s.jsxs("div",{className:"flex items-center gap-2 flex-nowrap",children:[s.jsx("button",{title:e("Preview"),onClick:ta=>{ta.stopPropagation(),Rt(Ee),We(!0)},className:"inline-flex items-center justify-center  dark:text-indigo-300 hover:text-blue-500",children:s.jsx(gu,{size:16,className:" dark:text-indigo-300"})}),s.jsx("button",{title:e("Add Action"),onClick:ta=>{ta.stopPropagation(),Rt(Ee),pt(!0)},className:"inline-flex items-center justify-center  dark:text-emerald-300 hover:text-emerald-400",children:s.jsx(ho,{size:16,className:" dark:text-emerald-300"})}),s.jsx("button",{title:e("Call"),onClick:ta=>{ta.stopPropagation();const ia=Ee.phone||Ee.mobile||"",Fa=String(ia).replace(/[^0-9]/g,"");Fa&&window.open(`tel:${Fa}`)},className:"inline-flex items-center justify-center text-blue-600 dark:text-blue-400 hover:text-blue-500",children:s.jsx(Ji,{size:16})}),s.jsx("button",{title:"WhatsApp",onClick:ta=>{ta.stopPropagation();const ia=Ee.phone||Ee.mobile||"",Fa=String(ia).replace(/[^0-9]/g,"");Fa&&window.open(`https://wa.me/${Fa}`)},className:"inline-flex items-center justify-center  dark:text-green-400 hover:text-green-500",children:s.jsx(Hl,{size:16,style:{color:"#25D366"}})}),s.jsx("button",{title:e("Email"),onClick:ta=>{ta.stopPropagation(),Ee.email&&window.open(`mailto:${Ee.email}`)},className:"inline-flex items-center justify-center  dark:text-gray-200 hover:text-blue-500",children:s.jsx(Di,{size:16,style:{color:"#FFA726"}})}),s.jsx("button",{title:"Google Meet",onClick:ta=>{ta.stopPropagation(),window.open("https://meet.google.com/","_blank")},className:"inline-flex items-center justify-center  dark:text-gray-200 hover:text-blue-500",children:s.jsx("img",{src:i,alt:"Google Meet",className:"w-4 h-4"})})]})}),Ra.source&&s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm  dark:text-white",children:[s.jsx("span",{className:"text-base",children:Md(Ee.source)})," ",Ee.source]}),Ra.project&&s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm  dark:text-white",children:Ee.project||"-"}),Ra.sales&&s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm  dark:text-white",children:Ee.assignedTo||"-"}),Ra.lastComment&&s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm  dark:text-white max-w-xs overflow-hidden text-ellipsis",children:Ee.notes||"-"}),Ra.stage&&s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm  dark:text-white",children:s.jsx("span",{className:`inline-flex px-2 py-0.5 text-xs font-semibold leading-5 rounded-full ${hs(Ee.stage)}`,children:e(Ee.stage||"N/A")})}),Ra.expectedRevenue&&s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm  dark:text-white",children:Ee.estimatedValue?`${Ee.estimatedValue.toLocaleString()} ${e("SAR")}`:"-"}),Ra.priority&&s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm  dark:text-white",children:s.jsx("span",{className:`inline-flex px-2 py-0.5 text-xs font-semibold leading-5 rounded-full ${Vc(Ee.priority)}`,children:e(Ee.priority||"N/A")})}),Ra.status&&s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm  dark:text-white",children:e(Ee.status||"N/A")})]},Ee.id))})]}),el.length===0&&s.jsxs("div",{className:"text-center py-10  dark:text-gray-400",children:[s.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),s.jsx("h3",{className:"mt-2 text-sm font-medium  dark:text-white",children:e("No Leads Found")}),s.jsx("p",{className:"mt-1 text-sm  dark:text-gray-400",children:e("Try adjusting your filters or adding new leads.")})]})]})]}),s.jsxs("nav",{className:"flex flex-col lg:flex-row lg:flex-nowrap justify-between items-stretch lg:items-center gap-3 lg:gap-2 p-3 lg:p-4 border-t border-gray-200 dark:border-gray-700 dark:bg-transparent rounded-b-lg backdrop-blur-sm",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2 w-full lg:w-auto text-sm font-medium  dark:text-white",children:[s.jsx("span",{style:{color:a==="dark"?"#ffffff":void 0},children:e("Show")}),s.jsxs("select",{value:Ke,onChange:Ee=>{Ze(Number(Ee.target.value)),ze(1)},className:"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-transparent backdrop-blur-sm text-gray-900 dark:text-white text-xs",children:[s.jsx("option",{value:10,children:"10"}),s.jsx("option",{value:20,children:"20"}),s.jsx("option",{value:50,children:"50"}),s.jsx("option",{value:100,children:"100"})]}),s.jsx("span",{className:"text-xs font-semibold  dark:text-white",style:{color:a==="dark"?"#ffffff":void 0},children:e("entries")}),s.jsx("label",{htmlFor:"page-search",className:"sr-only",children:e("Search Page")}),s.jsx("input",{id:"page-search",type:"text",placeholder:e("Go to page..."),value:ht,onChange:Ee=>At(Ee.target.value),onKeyDown:Ee=>{if(Ee.key==="Enter"){const et=Number(ht);et>0&&et<=Math.ceil(c.length/Ke)&&(ze(et),At(""))}},className:"ml-2 px-3 py-1.5 border border-gray-300 dark:border-gray-600 rounded-lg  dark:bg-transparent backdrop-blur-sm  dark:text-white text-xs w-full sm:w-64 lg:w-28 placeholder:text-gray-400 dark:placeholder-gray-500 focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400",style:{color:a==="dark"?"#ffffff":void 0}}),s.jsx("div",{className:"spacer-row w-full lg:hidden",children:s.jsx("div",{className:"h-2"})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:flex lg:flex-row lg:flex-nowrap items-start lg:items-center gap-3 lg:gap-2 w-full lg:w-auto",children:[s.jsxs("div",{className:"flex items-center flex-wrap gap-2 w-full lg:w-auto border p-2 rounded-lg border-gray-300 dark:border-gray-600  dark:bg-gray-700",children:[s.jsx("span",{className:"text-xs font-semibold  dark:text-white",style:{color:a==="dark"?"#ffffff":void 0},children:e("Export Pages")}),s.jsx("input",{type:"number",min:"1",max:Math.ceil(c.length/Ke),placeholder:"From",value:Mt,onChange:Ee=>Pt(Ee.target.value),className:"w-16 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-transparent backdrop-blur-sm  dark:text-white text-xs focus:border-blue-500",style:{color:a==="dark"?"#ffffff":void 0}}),s.jsx("span",{className:"text-xs font-semibold  dark:text-white   style={{ color: theme === 'dark' ? '#ffffff' : undefined }}",children:e("to")}),s.jsx("input",{type:"number",min:"1",max:Math.ceil(c.length/Ke),placeholder:"To",value:Gt,onChange:Ee=>Ae(Ee.target.value),className:"w-16 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md  dark:bg-transparent backdrop-blur-sm  dark:text-white text-xs focus:border-blue-500",style:{color:a==="dark"?"#ffffff":void 0}}),s.jsxs("button",{onClick:Rd,className:"flex items-center gap-1 px-3 py-1.5 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-lg text-sm transition-colors text-white focus:text-white",children:[s.jsx(lh,{size:12}),e("Export")]})]}),s.jsxs("div",{className:"flex items-center gap-2 w-full lg:w-auto justify-between lg:justify-start",children:[s.jsxs("button",{onClick:()=>ze(Ee=>Math.max(Ee-1,1)),disabled:$t===1,className:"block px-3 py-2 text-white focus:text-white leading-tight text-gray-500  border border-gray-300 rounded-l-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-transparent dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white disabled:opacity-50 backdrop-blur-sm",children:[s.jsx("span",{className:"sr-only text-white focus:text-white",children:e("Previous")}),s.jsx("svg",{className:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),s.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[e("Page")," ",s.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:$t})," ",e("of")," ",s.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:Math.ceil(c.length/Ke)})]}),s.jsxs("button",{onClick:()=>ze(Ee=>Math.min(Ee+1,Math.ceil(c.length/Ke))),disabled:$t===Math.ceil(c.length/Ke),className:"block px-3 py-2 leading-tight  border border-gray-300 rounded-r-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-transparent dark:border-gray-700 dark:text-white dark:hover:bg-gray-700 dark:hover:text-white disabled:opacity-50 backdrop-blur-sm",children:[s.jsx("span",{className:"sr-only text-white focus:text-white",style:{color:a==="dark"?"#ffffff":void 0},children:e("Next")}),s.jsx("svg",{className:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})]})]}),qe&&Te&&s.jsx(bz,{ref:it,lead:Te,position:Qe,theme:a,onAction:Ee=>{switch(st(!1),Ee){case"preview":Rt(Te),We(!0);break;case"edit":at(Te),gt(!0);break;case"add_action":Rt(Te),pt(!0);break;case"call":window.open(`tel:${Te.phone}`);break;case"whatsapp":window.open(`https://wa.me/${String(Te.phone||"").replace(/[^0-9]/g,"")}`);break;case"email":window.open(`mailto:${Te.email}`);break;case"video":console.log("Video call:",Te);break;case"convert":nn(Te);break;case"delete":if(window.confirm(e("Are you sure you want to delete this lead?"))){const et={...Te,deletedAt:new Date().toISOString()},ta=JSON.parse(localStorage.getItem("deletedLeads")||"[]");ta.push(et),localStorage.setItem("deletedLeads",JSON.stringify(ta)),o(ia=>ia.filter(Fa=>Fa.id!==Te.id))}break}},isRtl:t.language==="ar"}),Ye&&s.jsx(Wz,{isOpen:Ye,onClose:()=>gt(!1),lead:qt,onSave:Ee=>{o(et=>et.map(ta=>ta.id===Ee.id?Ee:ta)),gt(!1)}}),na&&s.jsx(Mx,{isOpen:na,onClose:()=>pt(!1),lead:Ot,onSave:()=>{pt(!1)}}),_s&&s.jsx(tW,{isOpen:_s,onClose:()=>{ps(!1),Aa(""),oa(null)},excelFile:lt,setExcelFile:dt,handleExcelUpload:Jn,importing:mt,importError:ra,importSummary:ua,t:e,theme:a}),Tt&&s.jsx(K1,{isOpen:Tt,onClose:()=>{We(!1),Rt(null)},lead:Ot,isArabic:t.language==="ar",theme:a})]})},zye=[{iso2:"EG",nameAr:"",nameEn:"Egypt",dialCode:"+20",flag:""},{iso2:"SA",nameAr:"",nameEn:"Saudi Arabia",dialCode:"+966",flag:""},{iso2:"AE",nameAr:"",nameEn:"United Arab Emirates",dialCode:"+971",flag:""},{iso2:"KW",nameAr:"",nameEn:"Kuwait",dialCode:"+965",flag:""},{iso2:"QA",nameAr:"",nameEn:"Qatar",dialCode:"+974",flag:""},{iso2:"BH",nameAr:"",nameEn:"Bahrain",dialCode:"+973",flag:""},{iso2:"OM",nameAr:"",nameEn:"Oman",dialCode:"+968",flag:""},{iso2:"JO",nameAr:"",nameEn:"Jordan",dialCode:"+962",flag:""},{iso2:"LB",nameAr:"",nameEn:"Lebanon",dialCode:"+961",flag:""},{iso2:"SY",nameAr:"",nameEn:"Syria",dialCode:"+963",flag:""},{iso2:"IQ",nameAr:"",nameEn:"Iraq",dialCode:"+964",flag:""},{iso2:"PS",nameAr:"",nameEn:"Palestine",dialCode:"+970",flag:""},{iso2:"MA",nameAr:"",nameEn:"Morocco",dialCode:"+212",flag:""},{iso2:"DZ",nameAr:"",nameEn:"Algeria",dialCode:"+213",flag:""},{iso2:"TN",nameAr:"",nameEn:"Tunisia",dialCode:"+216",flag:""},{iso2:"LY",nameAr:"",nameEn:"Libya",dialCode:"+218",flag:""},{iso2:"SD",nameAr:"",nameEn:"Sudan",dialCode:"+249",flag:""},{iso2:"SO",nameAr:"",nameEn:"Somalia",dialCode:"+252",flag:""},{iso2:"DJ",nameAr:"",nameEn:"Djibouti",dialCode:"+253",flag:""},{iso2:"KM",nameAr:" ",nameEn:"Comoros",dialCode:"+269",flag:""},{iso2:"MR",nameAr:"",nameEn:"Mauritania",dialCode:"+222",flag:""},{iso2:"YE",nameAr:"",nameEn:"Yemen",dialCode:"+967",flag:""},{iso2:"US",nameAr:" ",nameEn:"United States",dialCode:"+1",flag:""},{iso2:"CA",nameAr:"",nameEn:"Canada",dialCode:"+1",flag:""},{iso2:"GB",nameAr:" ",nameEn:"United Kingdom",dialCode:"+44",flag:""},{iso2:"FR",nameAr:"",nameEn:"France",dialCode:"+33",flag:""},{iso2:"DE",nameAr:"",nameEn:"Germany",dialCode:"+49",flag:""},{iso2:"IT",nameAr:"",nameEn:"Italy",dialCode:"+39",flag:""},{iso2:"ES",nameAr:"",nameEn:"Spain",dialCode:"+34",flag:""},{iso2:"JP",nameAr:"",nameEn:"Japan",dialCode:"+81",flag:""},{iso2:"KR",nameAr:" ",nameEn:"South Korea",dialCode:"+82",flag:""},{iso2:"CN",nameAr:"",nameEn:"China",dialCode:"+86",flag:""},{iso2:"IN",nameAr:"",nameEn:"India",dialCode:"+91",flag:""},{iso2:"PK",nameAr:"",nameEn:"Pakistan",dialCode:"+92",flag:""},{iso2:"BD",nameAr:"",nameEn:"Bangladesh",dialCode:"+880",flag:""},{iso2:"ID",nameAr:"",nameEn:"Indonesia",dialCode:"+62",flag:""},{iso2:"PH",nameAr:"",nameEn:"Philippines",dialCode:"+63",flag:""},{iso2:"MY",nameAr:"",nameEn:"Malaysia",dialCode:"+60",flag:""},{iso2:"SG",nameAr:"",nameEn:"Singapore",dialCode:"+65",flag:""},{iso2:"TH",nameAr:"",nameEn:"Thailand",dialCode:"+66",flag:""},{iso2:"VN",nameAr:"",nameEn:"Vietnam",dialCode:"+84",flag:""},{iso2:"IR",nameAr:"",nameEn:"Iran",dialCode:"+98",flag:""},{iso2:"TR",nameAr:"",nameEn:"Turkey",dialCode:"+90",flag:""},{iso2:"RU",nameAr:"",nameEn:"Russia",dialCode:"+7",flag:""},{iso2:"UA",nameAr:"",nameEn:"Ukraine",dialCode:"+380",flag:""},{iso2:"AU",nameAr:"",nameEn:"Australia",dialCode:"+61",flag:""},{iso2:"NZ",nameAr:"",nameEn:"New Zealand",dialCode:"+64",flag:""},{iso2:"BR",nameAr:"",nameEn:"Brazil",dialCode:"+55",flag:""},{iso2:"MX",nameAr:"",nameEn:"Mexico",dialCode:"+52",flag:""},{iso2:"AR",nameAr:"",nameEn:"Argentina",dialCode:"+54",flag:""},{iso2:"ZA",nameAr:" ",nameEn:"South Africa",dialCode:"+27",flag:""},{iso2:"NG",nameAr:"",nameEn:"Nigeria",dialCode:"+234",flag:""},{iso2:"KE",nameAr:"",nameEn:"Kenya",dialCode:"+254",flag:""},{iso2:"ET",nameAr:"",nameEn:"Ethiopia",dialCode:"+251",flag:""},{iso2:"IL",nameAr:"",nameEn:"Israel",dialCode:"+972",flag:""},{iso2:"SE",nameAr:"",nameEn:"Sweden",dialCode:"+46",flag:""},{iso2:"NO",nameAr:"",nameEn:"Norway",dialCode:"+47",flag:""},{iso2:"DK",nameAr:"",nameEn:"Denmark",dialCode:"+45",flag:""},{iso2:"FI",nameAr:"",nameEn:"Finland",dialCode:"+358",flag:""},{iso2:"NL",nameAr:"",nameEn:"Netherlands",dialCode:"+31",flag:""},{iso2:"BE",nameAr:"",nameEn:"Belgium",dialCode:"+32",flag:""},{iso2:"CH",nameAr:"",nameEn:"Switzerland",dialCode:"+41",flag:""},{iso2:"AT",nameAr:"",nameEn:"Austria",dialCode:"+43",flag:""},{iso2:"PT",nameAr:"",nameEn:"Portugal",dialCode:"+351",flag:""},{iso2:"GR",nameAr:"",nameEn:"Greece",dialCode:"+30",flag:""},{iso2:"PL",nameAr:"",nameEn:"Poland",dialCode:"+48",flag:""},{iso2:"CZ",nameAr:"",nameEn:"Czech Republic",dialCode:"+420",flag:""},{iso2:"HU",nameAr:"",nameEn:"Hungary",dialCode:"+36",flag:""}],Hye=()=>{const{t:e,i18n:t}=St(),{theme:a}=Ar(),r=a==="light",n=In(),[i,l]=y.useState(""),[o,c]=y.useState(""),[d,u]=y.useState(""),[f,p]=y.useState(""),[m,v]=y.useState(""),[g,b]=y.useState(""),[j,k]=y.useState(""),[S,N]=y.useState([{code:"+20",number:""}]),[A,_]=y.useState(""),[E,D]=y.useState(""),{stages:R,statuses:I}=Kf(),[M,U]=y.useState(""),[P,F]=y.useState(""),[K,V]=y.useState(""),[J,Q]=y.useState("medium"),[z,X]=y.useState(!1),[le,O]=y.useState([]),q=()=>{O(Z=>[...Z,{name:"",source:"",project:"",company:"",type:"",tags:"",expectedRevenue:"",mobileNumbers:[{code:S[0]?.code||"+20",number:""}],email:"",assignedTo:"",stage:"",status:"",priority:"medium",note:"",collapsed:!1}])},W=(Z,Se,Ne)=>{O(Ye=>Ye.map((gt,qt)=>qt===Z?{...gt,[Se]:Ne}:gt))},te=Z=>{O(Se=>Se.map((Ne,Ye)=>Ye===Z?{...Ne,mobileNumbers:[...Ne.mobileNumbers||[{code:"+20",number:""}],{code:Ne.mobileNumbers?.[0]?.code||"+20",number:""}]}:Ne))},re=(Z,Se,Ne,Ye)=>{O(gt=>gt.map((qt,at)=>{if(at!==Z)return qt;const ze=(qt.mobileNumbers||[{code:"+20",number:""}]).map((Ke,Ze)=>Ze===Se?{...Ke,[Ne]:Ye}:Ke);return{...qt,mobileNumbers:ze}}))},oe=Z=>{O(Se=>Se.map((Ne,Ye)=>Ye===Z?{...Ne,collapsed:!Ne.collapsed}:Ne))},ce=Z=>{O(Se=>Se.filter((Ne,Ye)=>Ye!==Z))},G=()=>{N(Z=>[...Z,{code:Z[0]?.code||"+20",number:""}])},ie=(Z,Se,Ne)=>{N(Ye=>Ye.map((gt,qt)=>qt===Z?{...gt,[Se]:Ne}:gt))},ye=r?"bg-white border-gray-200":"bg-blue-900/40 border-blue-800",se=r?"text-gray-700":"text-gray-200",Ie=r?"bg-white border-gray-300 focus:ring-blue-500 focus:border-blue-500":"bg-gray-900/50 border-gray-700 text-white focus:ring-blue-400 focus:border-blue-400",pe=i.trim().length>0&&o.trim().length>0&&d.trim().length>0&&String(j).trim().length>0&&S.length>0&&S.every(Z=>Z.number.trim().length>0)&&A.trim().length>0&&M.trim().length>0&&P!==""&&K!=="",ae=Z=>(Z.name||"").trim().length>0&&(Z.source||"").trim().length>0&&(Z.project||"").trim().length>0&&String(Z.expectedRevenue||"").trim().length>0&&Array.isArray(Z.mobileNumbers)&&Z.mobileNumbers.length>0&&Z.mobileNumbers.every(Se=>(Se.number||"").trim().length>0)&&(Z.email||"").trim().length>0&&(Z.assignedTo||"").trim().length>0&&(Z.stage||"")!==""&&(Z.status||"")!=="",ge=pe&&le.every(ae),Re=({value:Z,onChange:Se})=>s.jsxs("div",{className:"relative w-20",children:[s.jsx("select",{value:Z,onChange:Ne=>Se(Ne.target.value),className:`w-full appearance-none rounded-md border pl-2 pr-8 py-2 ${Ie}`,children:zye.map(Ne=>s.jsxs("option",{value:Ne.dialCode,children:[Ne.flag," ",Ne.dialCode]},Ne.iso2+Ne.dialCode))}),s.jsx(Na,{className:`absolute right-2 top-1/2 -translate-y-1/2 w-3 h-3 ${r?"text-gray-600":"text-gray-300"}`})]}),ue=()=>{const Z=i.trim(),Se=[];if(Z||Se.push(t.language==="ar"?"":e("Name")),o.trim()||Se.push(t.language==="ar"?"":e("Source")),d.trim()||Se.push(t.language==="ar"?"":e("Project")),j.trim()||Se.push(t.language==="ar"?" ":e("Expected Revenue")),(!S.length||!S.every(ze=>ze.number.trim()))&&Se.push(t.language==="ar"?" ":e("Mobile")),A.trim()||Se.push(t.language==="ar"?" ":e("Email")),M.trim()||Se.push(t.language==="ar"?"":e("Sales")),P||Se.push(t.language==="ar"?"":e("Stage")),K||Se.push(t.language==="ar"?"":e("Status")),Se.length>0){alert(t.language==="ar"?`     (  ):
- ${Se.join(`
- `)}`:`Please fill all fields (except notes):
- ${Se.join(`
- `)}`);return}const Ne=le.map((ze,Ke)=>ae(ze)?null:Ke+1).filter(Boolean);if(Ne.length){alert(t.language==="ar"?`    : ${Ne.join(", ")}
     (  ).`:`Some additional leads are incomplete: ${Ne.join(", ")}
Please fill all required fields (except notes).`);return}const Ye=new Date().toISOString(),gt={id:Date.now(),name:Z,email:A.trim()||"",phone:S.filter(ze=>ze.number.trim()).map(ze=>`${ze.code} ${ze.number}`).join(" / "),company:f.trim()||d.trim()||"",type:m||(f.trim()||d.trim()?"Company":"Individual"),tags:g.trim()||"",stage:P,status:K,priority:J,source:o,assignedTo:M.trim()||"",createdAt:Ye,lastContact:Ye,notes:E.trim()||"",estimatedValue:j,probability:0},qt=le.map((ze,Ke)=>({id:Date.now()+Ke+1,name:(ze.name||"").trim(),email:(ze.email||"").trim(),phone:(Array.isArray(ze.mobileNumbers)?ze.mobileNumbers:[]).filter(Ze=>(Ze.number||"").trim()).map(Ze=>`${Ze.code} ${Ze.number}`).join(" / "),company:(ze.company||ze.project||"").trim(),type:ze.type||(ze.company||ze.project?"Company":"Individual"),tags:(ze.tags||"").trim(),stage:ze.stage||"",status:ze.status||"",priority:ze.priority||"medium",source:ze.source||"",assignedTo:(ze.assignedTo||"").trim(),createdAt:Ye,lastContact:Ye,notes:(ze.note||"").trim(),estimatedValue:ze.expectedRevenue||"",probability:0})),at=JSON.parse(localStorage.getItem("leadsData")||"[]"),$t=[gt,...qt,...at];localStorage.setItem("leadsData",JSON.stringify($t)),window.dispatchEvent(new Event("leadsDataUpdated")),alert(t.language==="ar"?"   ":e("Lead added successfully")),n("/leads")};return s.jsxs("div",{className:"p-6 pb-24 bg-[var(--content-bg)] text-[var(--content-text)]",children:[s.jsxs("div",{className:`relative inline-flex items-center ${t.language==="ar"?"flex-row-reverse":""} gap-2 mb-2`,children:[s.jsx("h1",{className:`page-title text-2xl font-bold ${r?"text-black":"text-white"}`,children:e("Add New Lead")}),s.jsx("span",{"aria-hidden":!0,className:"absolute block h-[1px] rounded bg-gradient-to-r from-blue-500 via-purple-500 to-transparent",style:{width:"calc(100% + 8px)",left:t.language==="ar"?"auto":"-4px",right:t.language==="ar"?"-4px":"auto",bottom:"-4px"}})]}),s.jsxs("div",{className:`p-4 md:p-6 rounded-lg border ${ye}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-lg font-semibold",children:t.language==="ar"?" ":e("Primary Lead")}),s.jsx("button",{type:"button",onClick:()=>X(!z),className:`p-2 rounded-md ${r?"bg-gray-100 text-gray-700":"bg-gray-800 text-gray-200"} hover:opacity-90`,"aria-label":t.language==="ar"?z?"":"":e(z?"Expand":"Collapse"),children:z?s.jsx(Na,{className:"w-4 h-4"}):s.jsx(LP,{className:"w-4 h-4"})})]}),!z&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${se}`,children:e("Name")}),s.jsx("input",{type:"text",value:i,onChange:Z=>l(Z.target.value),className:`w-full rounded-md border px-3 py-2 ${Ie}`,placeholder:e("Enter name")})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${se}`,children:e("Source")}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:o,onChange:Z=>c(Z.target.value),className:`w-full appearance-none rounded-md border pl-3 pr-10 py-2 ${Ie}`,children:[s.jsx("option",{value:"",children:e("Select")}),s.jsx("option",{value:"social-media",children:"Facebook"}),s.jsx("option",{value:"website",children:"Website"}),s.jsx("option",{value:"referral",children:"Referral"}),s.jsx("option",{value:"email-campaign",children:"Campaign"})]}),s.jsx(Na,{className:`pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 ${r?"text-gray-600":"text-gray-300"}`})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${se}`,children:e("Project")}),s.jsx("input",{type:"text",value:d,onChange:Z=>u(Z.target.value),className:`w-full rounded-md border px-3 py-2 ${Ie}`,placeholder:e("Project name")})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${se}`,children:e("Type")}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:m,onChange:Z=>v(Z.target.value),className:`w-full appearance-none rounded-md border pl-3 pr-10 py-2 ${Ie}`,children:[s.jsx("option",{value:"",children:e("Select")}),s.jsx("option",{value:"Company",children:e("Company")}),s.jsx("option",{value:"Individual",children:e("Individual")})]}),s.jsx(Na,{className:`pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 ${r?"text-gray-600":"text-gray-300"}`})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${se}`,children:e("Company")}),s.jsx("input",{type:"text",value:f,onChange:Z=>p(Z.target.value),className:`w-full rounded-md border px-3 py-2 ${Ie}`,placeholder:e("Company")})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${se}`,children:e("Expected Revenue")}),s.jsx("input",{type:"number",value:j,onChange:Z=>k(Z.target.value),className:`w-full rounded-md border px-3 py-2 ${Ie}`,placeholder:e("Amount")})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${se}`,children:e("Stage")}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:P,onChange:Z=>F(Z.target.value),className:`w-full appearance-none rounded-md border pl-3 pr-10 py-2 ${Ie}`,children:[s.jsx("option",{value:"",children:e("Select")}),R.map(Z=>s.jsxs("option",{value:Z.name,children:[Z.icon," ",t.language==="ar"&&Z.nameAr||Z.name]},Z.name))]}),s.jsx(Na,{className:`pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 ${r?"text-gray-600":"text-gray-300"}`})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${se}`,children:e("Priority")}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:J,onChange:Z=>Q(Z.target.value),className:`w-full appearance-none rounded-md border pl-3 pr-10 py-2 ${Ie}`,children:[s.jsx("option",{value:"low",children:e("Low")}),s.jsx("option",{value:"medium",children:e("Medium")}),s.jsx("option",{value:"high",children:e("High")})]}),s.jsx(Na,{className:`pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 ${r?"text-gray-600":"text-gray-300"}`})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${se}`,children:e("Mobile")}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Re,{value:S[0]?.code,onChange:Z=>ie(0,"code",Z)}),s.jsx("input",{type:"tel",value:S[0]?.number,onChange:Z=>ie(0,"number",Z.target.value),className:`flex-1 rounded-md border px-3 py-2 ${Ie}`,placeholder:e("Mobile number")}),s.jsx("button",{type:"button",onClick:G,className:`inline-flex items-center justify-center px-3 py-2 rounded-md border ${r?"bg-blue-50 border-blue-300 text-blue-700 hover:bg-blue-100":"bg-gray-800 border-gray-700 text-blue-300 hover:bg-gray-700"}`,"aria-label":e("Add another number"),title:e("Add another number"),children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]}),S.slice(1).map((Z,Se)=>s.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[s.jsx(Re,{value:Z.code,onChange:Ne=>ie(Se+1,"code",Ne)}),s.jsx("input",{type:"tel",value:Z.number,onChange:Ne=>ie(Se+1,"number",Ne.target.value),className:`flex-1 rounded-md border px-3 py-2 ${Ie}`,placeholder:e("Another mobile number")})]},Se))]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${se}`,children:e("Email")}),s.jsx("input",{type:"email",value:A,onChange:Z=>_(Z.target.value),className:`w-full rounded-md border px-3 py-2 ${Ie}`,placeholder:e("Email address")})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${se}`,children:e("Tags")}),s.jsx("input",{type:"text",value:g,onChange:Z=>b(Z.target.value),className:`w-full rounded-md border px-3 py-2 ${Ie}`,placeholder:t.language==="ar"?"   ":"Comma-separated tags"})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${se}`,children:e("Sales")}),s.jsx("input",{type:"text",value:M,onChange:Z=>U(Z.target.value),className:`w-full rounded-md border px-3 py-2 ${Ie}`,placeholder:e("Assigned to")})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${se}`,children:e("Status")}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:K,onChange:Z=>V(Z.target.value),className:`w-full appearance-none rounded-md border pl-3 pr-10 py-2 ${Ie}`,children:[s.jsx("option",{value:"",children:e("Select")}),I.map(Z=>s.jsxs("option",{value:Z.name,children:[Z.icon," ",t.language==="ar"&&Z.nameAr||Z.name]},Z.name))]}),s.jsx(Na,{className:`pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 ${r?"text-gray-600":"text-gray-300"}`})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${se}`,children:e("Last Comment")}),s.jsx("textarea",{rows:4,value:E,onChange:Z=>D(Z.target.value),className:`w-full rounded-md border px-3 py-2 ${Ie}`,placeholder:e("Write notes here")})]})]})]}),s.jsx("div",{className:"mt-6",children:le.map((Z,Se)=>s.jsxs("div",{className:`mt-3 rounded-lg border p-4 ${ye}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"font-medium",children:Z.name?.trim()?Z.name:t.language==="ar"?` #${Se+1}`:`Lead #${Se+1}`}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",onClick:()=>oe(Se),className:`p-2 rounded-md ${r?"bg-gray-100 text-gray-700":"bg-gray-800 text-gray-200"} hover:opacity-90`,"aria-label":t.language==="ar"?Z.collapsed?"":"":Z.collapsed?e("Expand"):e("Collapse"),title:t.language==="ar"?Z.collapsed?"":"":Z.collapsed?e("Expand"):e("Collapse"),children:Z.collapsed?s.jsx(Na,{className:"w-4 h-4"}):s.jsx(LP,{className:"w-4 h-4"})}),s.jsx("button",{type:"button",onClick:()=>ce(Se),className:"px-3 py-1 rounded-md bg-red-600 text-white hover:bg-red-700",children:t.language==="ar"?"":e("Delete")})]})]}),!Z.collapsed&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${se}`,children:e("Name")}),s.jsx("input",{type:"text",value:Z.name,onChange:Ne=>W(Se,"name",Ne.target.value),className:`w-full rounded-md border px-3 py-2 ${Ie}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${se}`,children:e("Source")}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:Z.source,onChange:Ne=>W(Se,"source",Ne.target.value),className:`w-full appearance-none rounded-md border pl-3 pr-10 py-2 ${Ie}`,children:[s.jsx("option",{value:"",children:e("Select")}),s.jsx("option",{value:"social-media",children:"Facebook"}),s.jsx("option",{value:"website",children:"Website"}),s.jsx("option",{value:"referral",children:"Referral"}),s.jsx("option",{value:"email-campaign",children:"Campaign"})]}),s.jsx(Na,{className:`pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 ${r?"text-gray-600":"text-gray-300"}`})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${se}`,children:e("Project")}),s.jsx("input",{type:"text",value:Z.project,onChange:Ne=>W(Se,"project",Ne.target.value),className:`w-full rounded-md border px-3 py-2 ${Ie}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${se}`,children:e("Type")}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:Z.type||"",onChange:Ne=>W(Se,"type",Ne.target.value),className:`w-full appearance-none rounded-md border pl-3 pr-10 py-2 ${Ie}`,children:[s.jsx("option",{value:"",children:e("Select")}),s.jsx("option",{value:"Company",children:e("Company")}),s.jsx("option",{value:"Individual",children:e("Individual")})]}),s.jsx(Na,{className:`pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 ${r?"text-gray-600":"text-gray-300"}`})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${se}`,children:e("Company")}),s.jsx("input",{type:"text",value:Z.company||"",onChange:Ne=>W(Se,"company",Ne.target.value),className:`w-full rounded-md border px-3 py-2 ${Ie}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${se}`,children:e("Expected Revenue")}),s.jsx("input",{type:"number",value:Z.expectedRevenue,onChange:Ne=>W(Se,"expectedRevenue",Ne.target.value),className:`w-full rounded-md border px-3 py-2 ${Ie}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${se}`,children:e("Mobile")}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Re,{value:Z.mobileNumbers?.[0]?.code||"+20",onChange:Ne=>re(Se,0,"code",Ne)}),s.jsx("input",{type:"tel",value:Z.mobileNumbers?.[0]?.number||"",onChange:Ne=>re(Se,0,"number",Ne.target.value),className:`flex-1 rounded-md border px-3 py-2 ${Ie}`}),s.jsx("button",{type:"button",onClick:()=>te(Se),className:`inline-flex items-center justify-center px-3 py-2 rounded-md border ${r?"bg-blue-50 border-blue-300 text-blue-700 hover:bg-blue-100":"bg-gray-800 border-gray-700 text-blue-300 hover:bg-gray-700"}`,"aria-label":e("Add another number"),title:e("Add another number"),children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]}),(Z.mobileNumbers||[]).slice(1).map((Ne,Ye)=>s.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[s.jsx(Re,{value:Ne.code,onChange:gt=>re(Se,Ye+1,"code",gt)}),s.jsx("input",{type:"tel",value:Ne.number,onChange:gt=>re(Se,Ye+1,"number",gt.target.value),className:`flex-1 rounded-md border px-3 py-2 ${Ie}`})]},Ye))]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${se}`,children:e("Email")}),s.jsx("input",{type:"email",value:Z.email,onChange:Ne=>W(Se,"email",Ne.target.value),className:`w-full rounded-md border px-3 py-2 ${Ie}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${se}`,children:e("Tags")}),s.jsx("input",{type:"text",value:Z.tags||"",onChange:Ne=>W(Se,"tags",Ne.target.value),className:`w-full rounded-md border px-3 py-2 ${Ie}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${se}`,children:e("Sales")}),s.jsx("input",{type:"text",value:Z.assignedTo,onChange:Ne=>W(Se,"assignedTo",Ne.target.value),className:`w-full rounded-md border px-3 py-2 ${Ie}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${se}`,children:e("Stage")}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:Z.stage,onChange:Ne=>W(Se,"stage",Ne.target.value),className:`w-full appearance-none rounded-md border pl-3 pr-10 py-2 ${Ie}`,children:[s.jsx("option",{value:"",children:e("Select")}),R.map(Ne=>s.jsxs("option",{value:Ne.name,children:[Ne.icon," ",t.language==="ar"&&Ne.nameAr||Ne.name]},Ne.name))]}),s.jsx(Na,{className:`pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 ${r?"text-gray-600":"text-gray-300"}`})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${se}`,children:e("Priority")}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:Z.priority,onChange:Ne=>W(Se,"priority",Ne.target.value),className:`w-full appearance-none rounded-md border pl-3 pr-10 py-2 ${Ie}`,children:[s.jsx("option",{value:"low",children:e("Low")}),s.jsx("option",{value:"medium",children:e("Medium")}),s.jsx("option",{value:"high",children:e("High")})]}),s.jsx(Na,{className:`pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 ${r?"text-gray-600":"text-gray-300"}`})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${se}`,children:e("Status")}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:Z.status,onChange:Ne=>W(Se,"status",Ne.target.value),className:`w-full appearance-none rounded-md border pl-3 pr-10 py-2 ${Ie}`,children:[s.jsx("option",{value:"",children:e("Select")}),I.map(Ne=>s.jsxs("option",{value:Ne.name,children:[Ne.icon," ",t.language==="ar"&&Ne.nameAr||Ne.name]},Ne.name))]}),s.jsx(Na,{className:`pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 ${r?"text-gray-600":"text-gray-300"}`})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${se}`,children:e("Last Comment")}),s.jsx("textarea",{rows:3,value:Z.note,onChange:Ne=>W(Se,"note",Ne.target.value),className:`w-full rounded-md border px-3 py-2 ${Ie}`})]})]})]},Se))})]}),s.jsx("div",{className:`sticky bottom-0 left-0 right-0 z-50 border-t-2 ${r?"bg-white border-gray-300 shadow-2xl":"bg-gray-900 border-gray-600 shadow-2xl"} backdrop-blur-md mt-6`,children:s.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h2",{className:`text-lg font-bold ${r?"text-purple-700":"text-cyan-300"}`,children:t.language==="ar"?" ":e("Additional Leads")}),s.jsx("button",{type:"button",onClick:q,className:`inline-flex items-center justify-center p-2 rounded-md border-2 transition-all duration-200 ${r?"bg-blue-50 border-blue-400 text-blue-700 hover:bg-blue-100 hover:border-blue-500":"bg-gray-800 border-gray-600 text-blue-300 hover:bg-gray-700 hover:border-gray-500"} hover:opacity-95 hover:shadow-lg active:scale-95`,"aria-label":t.language==="ar"?" ":e("Add Lead"),title:t.language==="ar"?" ":e("Add Lead"),children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]}),s.jsx("div",{className:"inline-flex w-fit",children:s.jsx("button",{type:"button",onClick:ue,disabled:!ge,className:`inline-flex items-center gap-2 px-6 py-2 rounded-md font-bold transition-all duration-150 ease-out transform disabled:opacity-50 disabled:cursor-not-allowed disabled:pointer-events-none hover:opacity-95 hover:-translate-y-0.5 active:scale-95 focus:outline-none focus:ring-2 focus:ring-emerald-500/60 shadow-lg hover:shadow-xl ${r?"bg-green-600 hover:bg-green-700 active:bg-green-800 text-white border-2 border-green-500":"bg-emerald-700 hover:bg-emerald-800 active:bg-emerald-900 text-white border-2 border-emerald-600"}`,children:t.language==="ar"?" ":e("Confirm Add")})})]})})]})};function Vye(){const{t:e}=St(),t=In(),[a,r]=y.useState([]),[n,i]=y.useState(!0),[l,o]=y.useState(""),[c,d]=y.useState(!1),[u,f]=y.useState(""),p=[{id:"OPP-001",customerId:"CUST-001",status:"New",amount:25e3,stage:"Qualification",expectedCloseDate:new Date(Date.now()+168*3600*1e3).toISOString(),createdAt:new Date(Date.now()-48*3600*1e3).toISOString()},{id:"OPP-002",customerId:"CUST-002",status:"In Progress",amount:78e3,stage:"Proposal",expectedCloseDate:new Date(Date.now()+336*3600*1e3).toISOString(),createdAt:new Date(Date.now()-24*3600*1e3).toISOString()},{id:"OPP-003",customerId:"CUST-003",status:"New",amount:12e3,stage:"Negotiation",expectedCloseDate:new Date(Date.now()+504*3600*1e3).toISOString(),createdAt:new Date().toISOString()}],[m,v]=y.useState([]),[g,b]=y.useState(""),[j,k]=y.useState(""),[S,N]=y.useState(""),[A,_]=y.useState(""),[E,D]=y.useState("New"),[R,I]=y.useState("Qualification"),[M,U]=y.useState(""),[P,F]=y.useState(""),[K,V]=y.useState(""),[J,Q]=y.useState("Individual"),[z,X]=y.useState(""),[le,O]=y.useState(""),[q,W]=y.useState(""),[te,re]=y.useState(""),[oe,ce]=y.useState(!1),[G,ie]=y.useState(!1);y.useEffect(()=>{let Z=!0;return i(!0),o(""),Sa.get("/api/customers/opportunities").then(Se=>{if(!Z)return;const Ne=Se?.data?.data,Ye=Array.isArray(Ne?.items)?Ne.items:[];r(Ye.length>0?Ye:p)}).catch(Se=>{if(!Z)return;o("Failed to load from //api/customers/opportunities"),r(p)}).finally(()=>Z&&i(!1)),()=>{Z=!1}},[]),y.useEffect(()=>{let Z=!0;return Sa.get("/api/customers").then(Se=>{if(!Z)return;const Ne=Se?.data?.data,Ye=Array.isArray(Ne?.items)?Ne.items:[];v(Ye)}).catch(()=>{}),()=>{Z=!1}},[]);const ye=["New","In Progress","Won","Lost"],se=["Qualification","Proposal","Negotiation","Final"],Ie=()=>{b(""),k(""),N(""),_(""),D("New"),I("Qualification"),U("")},pe=Z=>{if(Z.preventDefault(),c)return;d(!0),o(""),f("");const Se={customerId:g||void 0,contact:j||void 0,amount:S?Number(S):void 0,expectedCloseDate:A||void 0,status:E,stage:R,notes:M||void 0};Sa.post("/api/customers/opportunities",Se).then(Ne=>{const Ye=Ne?.data?.data?.item;Ye&&(r(gt=>[Ye,...gt]),Ie(),f(e("Saved successfully")))}).catch(Ne=>{const Ye={id:`local-${Date.now()}`,status:E,stage:R,amount:S?Number(S):void 0,customerId:g||void 0,expectedCloseDate:A||void 0,createdAt:new Date().toISOString()};r(gt=>[Ye,...gt]),Ie(),f(e("Saved successfully"))}).finally(()=>d(!1))},[ae,ge]=y.useState(""),Re=Z=>{ae||(ge(Z),Sa.post("/api/customers/quotations",{opportunityId:Z,items:[]}).then(()=>{t("/sales/quotations")}).catch(()=>{}).finally(()=>ge("")))},ue=Z=>{if(Z?.preventDefault?.(),!P.trim()||!K.trim()||oe)return;ce(!0);const Se={name:P.trim(),phone:K.trim(),type:J||"Individual",companyName:le||void 0,contacts:z?[z.trim()]:[],tags:q?q.split(",").map(Ne=>Ne.trim()).filter(Boolean):[],assignedSalesRep:te||void 0};Sa.post("/api/customers",Se).then(Ne=>{const Ye=Ne?.data?.data?.item;Ye&&(v(gt=>[Ye,...gt]),b(Ye.id),F(""),V(""),Q("Individual"),X(""),O(""),W(""),re(""),ie(!1))}).catch(()=>{}).finally(()=>ce(!1))};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h1",{className:"text-xl font-semibold",children:e("Opportunities")}),s.jsx("div",{className:"text-sm text-gray-500",children:e("Sales")})]}),s.jsxs("form",{onSubmit:pe,className:"mb-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Customer")}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("select",{value:g,onChange:Z=>b(Z.target.value),className:"flex-1 border rounded px-2 py-2",children:[s.jsx("option",{value:"",children:e("Select")}),m.map(Z=>s.jsx("option",{value:Z.id,children:Z.name},Z.id))]}),s.jsx("button",{onClick:()=>ie(!0),className:"px-3 py-2 rounded bg-indigo-600 text-white",type:"button",disabled:oe,title:e("Quick add"),children:oe?e("..."):"+"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Contact (B2B)")}),s.jsx("input",{value:j,onChange:Z=>k(Z.target.value),placeholder:e("Contact person"),className:"w-full border rounded px-2 py-2"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Amount")}),s.jsx("input",{type:"number",step:"0.01",min:"0",value:S,onChange:Z=>N(Z.target.value),placeholder:e("Amount"),className:"w-full border rounded px-2 py-2"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Expected Close Date")}),s.jsx("input",{type:"date",value:A,onChange:Z=>_(Z.target.value),className:"w-full border rounded px-2 py-2"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Status")}),s.jsx("select",{value:E,onChange:Z=>D(Z.target.value),className:"w-full border rounded px-2 py-2",children:ye.map(Z=>s.jsx("option",{value:Z,children:e(Z)},Z))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Stage")}),s.jsx("select",{value:R,onChange:Z=>I(Z.target.value),className:"w-full border rounded px-2 py-2",children:se.map(Z=>s.jsx("option",{value:Z,children:e(Z)},Z))})]}),s.jsxs("div",{className:"md:col-span-2 lg:col-span-3",children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Notes")}),s.jsx("textarea",{value:M,onChange:Z=>U(Z.target.value),placeholder:e("Optional"),className:"w-full border rounded px-2 py-2 min-h-[80px]"})]}),s.jsxs("div",{className:"md:col-span-2 lg:col-span-3 flex gap-2",children:[s.jsx("button",{type:"submit",disabled:c,className:"px-4 py-2 rounded bg-green-600 text-white",children:e("Add Opportunity")}),c&&s.jsx("span",{className:"text-gray-500 px-2",children:e("Saving...")})]})]}),l&&s.jsx("div",{className:"mb-3 p-3 rounded border border-red-300 bg-red-50 text-red-700",children:l}),u&&s.jsx("div",{className:"mb-3 p-3 rounded border border-green-300 bg-green-50 text-green-700",children:u}),n?s.jsx("div",{className:"text-gray-500",children:e("Loading...")}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left border-b",children:[s.jsx("th",{className:"p-2",children:e("Customer")}),s.jsx("th",{className:"p-2",children:e("Status")}),s.jsx("th",{className:"p-2",children:e("Amount")}),s.jsx("th",{className:"p-2",children:e("Stage")}),s.jsx("th",{className:"p-2",children:e("Expected Close Date")}),s.jsx("th",{className:"p-2",children:e("Created")}),s.jsx("th",{className:"p-2",children:e("Actions")})]})}),s.jsx("tbody",{children:a.length===0?s.jsx("tr",{children:s.jsx("td",{className:"p-3 text-gray-500",colSpan:7,children:e("No data")})}):a.map(Z=>s.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[s.jsx("td",{className:"p-2",children:Z.customerId||"-"}),s.jsx("td",{className:"p-2",children:Z.status}),s.jsx("td",{className:"p-2",children:typeof Z.amount=="number"?Z.amount.toLocaleString():Z.amount}),s.jsx("td",{className:"p-2",children:Z.stage}),s.jsx("td",{className:"p-2",children:Z.expectedCloseDate?new Date(Z.expectedCloseDate).toLocaleDateString():"-"}),s.jsx("td",{className:"p-2",children:Z.createdAt?new Date(Z.createdAt).toLocaleString():"-"}),s.jsx("td",{className:"p-2",children:s.jsx("button",{className:"px-3 py-1 rounded bg-purple-600 text-white",title:e("Convert to Quotation"),onClick:()=>Re(Z.id),disabled:ae===Z.id,children:ae===Z.id?e("Saving..."):e("Convert to Quotation")})})]},Z.id))})]})})]}),G&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>ie(!1)}),s.jsxs("div",{className:"relative z-50 glass-panel rounded-xl p-4 w-[420px] max-w-[95vw]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-lg font-semibold",children:e("Quick Add Customer")}),s.jsx("button",{className:"btn btn-glass",onClick:()=>ie(!1),children:e("Close")})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Name")}),s.jsx("input",{className:"input",value:P,onChange:Z=>F(Z.target.value),placeholder:e("Customer Name")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Phone")}),s.jsx("input",{className:"input",value:K,onChange:Z=>V(Z.target.value),placeholder:e("Phone")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Type")}),s.jsxs("select",{className:"input",value:J,onChange:Z=>Q(Z.target.value),children:[s.jsx("option",{value:"Individual",children:e("Individual")}),s.jsx("option",{value:"Company",children:e("Company")})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Contact")}),s.jsx("input",{className:"input",value:z,onChange:Z=>X(Z.target.value),placeholder:e("Contact person")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Company")}),s.jsx("input",{className:"input",value:le,onChange:Z=>O(Z.target.value),placeholder:e("Company name")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Tags")}),s.jsx("input",{className:"input",value:q,onChange:Z=>W(Z.target.value),placeholder:e("Comma separated")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Assigned Rep")}),s.jsx("input",{className:"input",value:te,onChange:Z=>re(Z.target.value),placeholder:e("Sales representative")})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{className:"btn",onClick:()=>ie(!1),children:e("Cancel")}),s.jsx("button",{className:"btn btn-primary",onClick:ue,disabled:oe,children:e(oe?"Saving...":"Save")})]})]})]})]})]})}function Wye(){const{t:e}=St(),[t,a]=y.useState([]),[r,n]=y.useState(!0),[i,l]=y.useState(""),[o,c]=y.useState(!1),[d,u]=y.useState(""),[f,p]=y.useState(""),[m,v]=y.useState([]),g=[{id:"QUO-1001",status:"Draft",subtotal:25e3,tax:3500,total:28500,opportunityId:"OPP-001",createdAt:new Date(Date.now()-36*3600*1e3).toISOString()},{id:"QUO-1002",status:"Sent",subtotal:78e3,tax:10920,total:88920,opportunityId:"OPP-002",createdAt:new Date(Date.now()-12*3600*1e3).toISOString()},{id:"QUO-1003",status:"Approved",subtotal:12e3,tax:1680,total:13680,opportunityId:"OPP-003",createdAt:new Date().toISOString()}],[b,j]=y.useState([]),[k,S]=y.useState(""),[N,A]=y.useState([{name:"",quantity:1,unitPrice:0,discount:0}]),[_,E]=y.useState(null),[D,R]=y.useState(""),[I,M]=y.useState(""),[U,P]=y.useState(.14),[F,K]=y.useState(!1),V=y.useMemo(()=>N.reduce((ce,G)=>ce+(Number(G.quantity)||0)*(Number(G.unitPrice)||0)-(Number(G.discount)||0),0),[N]),J=y.useMemo(()=>Math.round(V*Number(U||.14)*100)/100,[V,U]),Q=y.useMemo(()=>Math.round((V+J)*100)/100,[V,J]);y.useEffect(()=>{let ce=!0;return n(!0),l(""),Sa.get("/api/customers/quotations").then(G=>{if(!ce)return;const ie=G?.data?.data,ye=Array.isArray(ie?.items)?ie.items:[];a(ye.length>0?ye:g)}).catch(()=>{ce&&(l("Failed to load from //api/customers/quotations"),a(g))}).finally(()=>ce&&n(!1)),()=>{ce=!1}},[]),y.useEffect(()=>{let ce=!0;return Sa.get("/api/customers/opportunities").then(G=>{if(!ce)return;const ie=G?.data?.data,ye=Array.isArray(ie?.items)?ie.items:[];j(ye)}).catch(()=>{}),()=>{ce=!1}},[]),y.useEffect(()=>{let ce=!0;return Sa.get("/api/settings").then(G=>{if(!ce)return;const ie=G?.data?.data?.settings?.sales?.taxRate;typeof ie=="number"&&P(ie)}).catch(()=>{}),()=>{ce=!1}},[]);const z=(ce,G)=>{A(ie=>ie.map((ye,se)=>se===ce?{...ye,...G}:ye))},X=()=>A(ce=>[...ce,{name:"",quantity:1,unitPrice:0,discount:0}]),le=ce=>A(G=>G.filter((ie,ye)=>ye!==ce)),O=ce=>{if(ce.preventDefault(),o)return;c(!0),(async()=>{try{let ie;if(I){const Ie=await Sa.post("/api/uploads/base64",{fileName:D||"attachment",dataUrl:I});ie=Ie?.data?.data?.url||Ie?.data?.url||Ie?.data?.data?.data?.url}const ye={opportunityId:k,items:N.map(Ie=>({name:Ie.name,quantity:Number(Ie.quantity)||0,unitPrice:Number(Ie.unitPrice)||0,discount:Number(Ie.discount)||0})),attachment:ie||void 0};return await Sa.post("/api/customers/quotations",ye)}catch(ie){throw ie}})().then(ie=>{const ye=ie?.data?.data?.item;ye&&(a(se=>[ye,...se]),S(""),A([{name:"",quantity:1,unitPrice:0,discount:0}]),E(null),R(""),M(""),u(e("Saved successfully")),setTimeout(()=>u(""),3e3))}).catch(ie=>{const ye=ie?.response?.data?.message||"Failed to create";l(typeof ye=="string"?ye:"Failed to create")}).finally(()=>c(!1))},q=ce=>{Sa.post(`/api/customers/quotations/${ce}/send`).then(G=>{const ie=G?.data?.data?.item;ie&&(a(ye=>ye.map(se=>se.id===ce?ie:se)),p(e("Sent successfully")),setTimeout(()=>p(""),3e3))}).catch(()=>{})},W=ce=>{m.includes(ce)||(v(G=>[...G,ce]),Sa.post(`/api/customers/quotations/${ce}/convert-to-sales-order`).then(G=>{const ie=G?.data?.data?.salesOrder;ie?(p(s.jsxs("span",{children:[e("Converted to Sales Order"),": ",s.jsx("span",{className:"font-medium",children:ie.id||e("New Order")})," ",s.jsx("a",{href:"/sales/orders",className:"underline text-indigo-700 ml-1",children:e("View Sales Orders")})]})),setTimeout(()=>p(""),4e3)):(l(e("Conversion failed")),setTimeout(()=>l(""),4e3))}).catch(G=>{const ie=G?.response?.data?.message||e("Conversion failed");l(typeof ie=="string"?ie:e("Conversion failed")),setTimeout(()=>l(""),4e3)}).finally(()=>{v(G=>G.filter(ie=>ie!==ce))}))},te=ce=>{const G=ce.target.files&&ce.target.files[0];if(!G){E(null),R(""),M("");return}E(G),R(G.name);const ie=new FileReader;ie.onload=()=>{const ye=typeof ie.result=="string"?ie.result:"";M(ye)},ie.readAsDataURL(G)},re=()=>{E(null),R(""),M("")},oe=async()=>{try{K(!0),await Sa.put("/api/settings/sales",{taxRate:U}),p(e("Tax rate updated")),setTimeout(()=>p(""),3e3)}catch{l(e("Failed to update tax rate")),setTimeout(()=>l(""),4e3)}finally{K(!1)}};return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h1",{className:"text-xl font-semibold",children:e("Quotations")}),s.jsx("div",{className:"text-sm text-gray-500",children:e("Sales")})]}),d&&s.jsx("div",{className:"mb-3 p-3 rounded border border-green-300 bg-green-50 text-green-700",children:d}),f&&s.jsx("div",{className:"mb-3 p-3 rounded border border-blue-300 bg-blue-50 text-blue-700",children:f}),s.jsxs("form",{onSubmit:O,className:"mb-6 space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Opportunity")}),s.jsxs("select",{value:k,onChange:ce=>S(ce.target.value),className:"w-full border rounded px-2 py-2",children:[s.jsx("option",{value:"",children:e("Select")}),b.map(ce=>s.jsx("option",{value:ce.id,children:ce.name||ce.id},ce.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Attachment")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"file",onChange:te,className:"flex-1"}),D&&s.jsx("button",{type:"button",onClick:re,className:"px-3 py-2 rounded bg-gray-200",children:e("Remove")})]}),D&&s.jsxs("div",{className:"mt-1 text-xs text-gray-600",children:[e("Selected file"),": ",D]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"font-medium",children:e("Items")}),s.jsx("button",{type:"button",onClick:X,className:"px-3 py-2 rounded bg-indigo-600 text-white",children:e("Add Item")})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left border-b",children:[s.jsx("th",{className:"p-2",children:e("Product / Service")}),s.jsx("th",{className:"p-2",children:e("Quantity")}),s.jsx("th",{className:"p-2",children:e("Unit Price")}),s.jsx("th",{className:"p-2",children:e("Discount")}),s.jsx("th",{className:"p-2",children:e("Actions")})]})}),s.jsx("tbody",{children:N.map((ce,G)=>s.jsxs("tr",{className:"border-b",children:[s.jsx("td",{className:"p-2",children:s.jsx("input",{className:"w-full border rounded px-2 py-1",value:ce.name,onChange:ie=>z(G,{name:ie.target.value})})}),s.jsx("td",{className:"p-2",children:s.jsx("input",{type:"number",min:"1",className:"w-full border rounded px-2 py-1",value:ce.quantity,onChange:ie=>z(G,{quantity:ie.target.value})})}),s.jsx("td",{className:"p-2",children:s.jsx("input",{type:"number",min:"0",step:"0.01",className:"w-full border rounded px-2 py-1",value:ce.unitPrice,onChange:ie=>z(G,{unitPrice:ie.target.value})})}),s.jsx("td",{className:"p-2",children:s.jsx("input",{type:"number",min:"0",step:"0.01",className:"w-full border rounded px-2 py-1",value:ce.discount,onChange:ie=>z(G,{discount:ie.target.value})})}),s.jsx("td",{className:"p-2",children:s.jsx("button",{type:"button",onClick:()=>le(G),className:"px-2 py-1 rounded bg-red-600 text-white",children:e("Remove")})})]},G))})]})})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[s.jsxs("div",{className:"text-sm text-gray-700",children:[e("Subtotal"),": ",s.jsx("span",{className:"font-medium",children:V.toLocaleString()})]}),s.jsxs("div",{className:"text-sm text-gray-700",children:[e("Tax"),": ",s.jsx("span",{className:"font-medium",children:J.toLocaleString()})]}),s.jsxs("div",{className:"text-sm text-gray-700",children:[e("Total"),": ",s.jsx("span",{className:"font-medium",children:Q.toLocaleString()})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm text-gray-700",children:e("Tax Rate (%)")}),s.jsx("input",{type:"number",min:"0",max:"100",step:"0.01",className:"w-24 border rounded px-2 py-1",value:Math.round(Number(U||0)*1e4)/100,onChange:ce=>P(Number(ce.target.value)>1?Number(ce.target.value)/100:Number(ce.target.value))}),s.jsx("button",{type:"button",disabled:F,onClick:oe,className:"px-3 py-2 rounded bg-gray-800 text-white",children:e(F?"Saving...":"Save")})]}),s.jsx("button",{type:"submit",disabled:o||!k||N.length===0,className:"px-4 py-2 rounded bg-green-600 text-white",children:e("Create Quotation")}),o&&s.jsx("span",{className:"text-gray-500",children:e("Saving...")})]})]}),i&&s.jsx("div",{className:"mb-3 p-3 rounded border border-red-300 bg-red-50 text-red-700",children:i}),r?s.jsx("div",{className:"text-gray-500",children:e("Loading...")}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left border-b",children:[s.jsx("th",{className:"p-2",children:e("ID")}),s.jsx("th",{className:"p-2",children:e("Status")}),s.jsx("th",{className:"p-2",children:e("Subtotal")}),s.jsx("th",{className:"p-2",children:e("Tax")}),s.jsx("th",{className:"p-2",children:e("Total")}),s.jsx("th",{className:"p-2",children:e("Opportunity")}),s.jsx("th",{className:"p-2",children:e("Created")}),s.jsx("th",{className:"p-2",children:e("Actions")})]})}),s.jsx("tbody",{children:t.length===0?s.jsx("tr",{children:s.jsx("td",{className:"p-3 text-gray-500",colSpan:8,children:e("No data")})}):t.map(ce=>s.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[s.jsx("td",{className:"p-2",children:ce.id}),s.jsx("td",{className:"p-2",children:ce.status}),s.jsx("td",{className:"p-2",children:typeof ce.subtotal=="number"?ce.subtotal.toLocaleString():ce.subtotal}),s.jsx("td",{className:"p-2",children:typeof ce.tax=="number"?ce.tax.toLocaleString():ce.tax}),s.jsx("td",{className:"p-2 font-medium",children:typeof ce.total=="number"?ce.total.toLocaleString():ce.total}),s.jsx("td",{className:"p-2",children:ce.opportunityId||"-"}),s.jsx("td",{className:"p-2",children:ce.createdAt?new Date(ce.createdAt).toLocaleString():"-"}),s.jsx("td",{className:"p-2",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>q(ce.id),className:"px-3 py-1 rounded bg-blue-600 text-white",title:e("Send to Customer"),children:e("Send to Customer")}),s.jsx("button",{onClick:()=>W(ce.id),disabled:m.includes(ce.id),className:`px-3 py-1 rounded text-white ${m.includes(ce.id)?"bg-purple-300 cursor-not-allowed":"bg-purple-600"}`,title:e("Convert to Sales Order"),children:m.includes(ce.id)?e("Converting..."):e("Convert to Sales Order")})]})})]},ce.id))})]})})]})})}function qye(){const{t:e}=St(),[t,a]=y.useState([]),[r,n]=y.useState(!0),[i,l]=y.useState(""),o=[{id:"SO-5001",status:"Draft",deliveryDate:new Date(Date.now()+240*3600*1e3).toISOString(),paymentTerms:"Net 30",shippingMethod:"Courier",attachments:[{name:"PO-5001.pdf"}],quotationId:"QUO-1001",customerId:"CUST-001",createdAt:new Date(Date.now()-24*3600*1e3).toISOString()},{id:"SO-5002",status:"Confirmed",deliveryDate:new Date(Date.now()+120*3600*1e3).toISOString(),paymentTerms:"Advance 50%",shippingMethod:"Pickup",attachments:[],quotationId:"QUO-1002",customerId:"CUST-002",createdAt:new Date(Date.now()-6*3600*1e3).toISOString()},{id:"SO-5003",status:"Delivered",deliveryDate:new Date(Date.now()+432*3600*1e3).toISOString(),paymentTerms:"Net 15",shippingMethod:"Freight",attachments:[{name:"DEL-5003.jpg"}],quotationId:"QUO-1003",customerId:"CUST-003",createdAt:new Date().toISOString()}],c=u=>{const f=Date.now(),p=u?.toLowerCase().includes("net 30")?30:u?.toLowerCase().includes("net 15")?15:u?.toLowerCase().includes("advance")?0:7;return new Date(f+p*24*3600*1e3).toISOString()},d=async u=>{try{const f={orderId:u.id,customerId:u.customerId,status:"Unpaid",issueDate:new Date().toISOString(),dueDate:c(u.paymentTerms),paymentTerms:u.paymentTerms,currency:"USD",amount:0};await Sa.post("/api/customers/invoices",f),alert(`${e("Invoice generated for order")} ${u.id}`)}catch{alert(`${e("Failed to generate invoice. Showing preview only.")}`)}};return y.useEffect(()=>{let u=!0;return n(!0),l(""),Sa.get("/api/customers/sales-orders").then(f=>{if(!u)return;const p=f?.data?.data||[],m=Array.isArray(p)?p:[];a(m.length>0?m:o)}).catch(()=>{u&&(l("Failed to load from //api/customers/sales-orders"),a(o))}).finally(()=>u&&n(!1)),()=>{u=!1}},[]),s.jsx(s.Fragment,{children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h1",{className:"text-xl font-semibold",children:e("Sales Orders")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Cs,{to:"/sales/orders/new",className:"px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] hover:bg-[var(--table-row-hover)]",children:e("Add Sales Order")}),s.jsx("div",{className:"text-sm text-gray-500",children:e("Sales")})]})]}),i&&s.jsx("div",{className:"mb-3 p-3 rounded border border-red-300 bg-red-50 text-red-700",children:i}),r?s.jsx("div",{className:"text-gray-500",children:e("Loading...")}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left border-b",children:[s.jsx("th",{className:"p-2",children:e("ID")}),s.jsx("th",{className:"p-2",children:e("Status")}),s.jsx("th",{className:"p-2",children:e("Delivery Date")}),s.jsx("th",{className:"p-2",children:e("Payment Terms")}),s.jsx("th",{className:"p-2",children:e("Shipping Method")}),s.jsx("th",{className:"p-2",children:e("Attachments")}),s.jsx("th",{className:"p-2",children:e("Quotation")}),s.jsx("th",{className:"p-2",children:e("Customer")}),s.jsx("th",{className:"p-2",children:e("Created")}),s.jsx("th",{className:"p-2",children:e("Actions")})]})}),s.jsx("tbody",{children:t.length===0?s.jsx("tr",{children:s.jsx("td",{className:"p-3 text-gray-500",colSpan:10,children:e("No data")})}):t.map(u=>s.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[s.jsx("td",{className:"p-2",children:u.id}),s.jsx("td",{className:"p-2",children:u.status}),s.jsx("td",{className:"p-2",children:u.deliveryDate?new Date(u.deliveryDate).toLocaleDateString():"-"}),s.jsx("td",{className:"p-2",children:u.paymentTerms||"-"}),s.jsx("td",{className:"p-2",children:u.shippingMethod||"-"}),s.jsx("td",{className:"p-2",children:Array.isArray(u.attachments)?`${u.attachments.length} ${e("file(s)")}`:"-"}),s.jsx("td",{className:"p-2",children:u.quotationId||"-"}),s.jsx("td",{className:"p-2",children:u.customerId||"-"}),s.jsx("td",{className:"p-2",children:u.createdAt?new Date(u.createdAt).toLocaleString():"-"}),s.jsx("td",{className:"p-2",children:s.jsx("button",{className:"btn btn-success btn-sm",onClick:()=>d(u),children:e("Generate Invoice")})})]},u.id))})]})})]})})}function Gye(){const{t:e}=St(),[t,a]=y.useState([]),[r,n]=y.useState(!0),[i,l]=y.useState(""),o=[{id:"INV-9001",status:"Pending",issueDate:new Date(Date.now()-48*3600*1e3).toISOString(),orderId:"SO-5001",customerId:"CUST-001",amount:4500,currency:"USD",paymentMethod:"Bank Transfer",attachments:[{name:"INV-9001.pdf"}],createdAt:new Date(Date.now()-24*3600*1e3).toISOString()},{id:"INV-9002",status:"Partial",issueDate:new Date(Date.now()-144*3600*1e3).toISOString(),orderId:"SO-5002",customerId:"CUST-002",amount:1200,currency:"EUR",paymentMethod:"Credit Card",attachments:[],createdAt:new Date(Date.now()-6*3600*1e3).toISOString()},{id:"INV-9003",status:"Paid",issueDate:new Date(Date.now()-336*3600*1e3).toISOString(),orderId:"SO-5003",customerId:"CUST-003",amount:800,currency:"USD",paymentMethod:"Cash",attachments:[{name:"receipt.jpg"}],createdAt:new Date().toISOString()}],c=u=>{try{window.print()}catch{alert(e("Print is unavailable in this environment"))}},d=async u=>{try{await Sa.put(`/api/customers/invoices/${u.id}`,{status:"Paid"})}catch{}a(f=>f.map(p=>p.id===u.id?{...p,status:"Paid"}:p))};return y.useEffect(()=>{let u=!0;return n(!0),l(""),Sa.get("/api/customers/invoices").then(f=>{if(!u)return;const p=f?.data?.data||[],m=Array.isArray(p)?p:[];a(m.length>0?m:o)}).catch(()=>{u&&(l("Failed to load from //api/customers/invoices"),a(o))}).finally(()=>u&&n(!1)),()=>{u=!1}},[]),s.jsx(s.Fragment,{children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h1",{className:"text-xl font-semibold",children:e("Invoices")}),s.jsx("div",{className:"text-sm text-gray-500",children:e("Sales")})]}),i&&s.jsx("div",{className:"mb-3 p-3 rounded border border-red-300 bg-red-50 text-red-700",children:i}),r?s.jsx("div",{className:"text-gray-500",children:e("Loading...")}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left border-b",children:[s.jsx("th",{className:"p-2",children:e("Invoice No.")}),s.jsx("th",{className:"p-2",children:e("Invoice Date")}),s.jsx("th",{className:"p-2",children:e("Linked Sales Order")}),s.jsx("th",{className:"p-2",children:e("Total Amount")}),s.jsx("th",{className:"p-2",children:e("Payment Method")}),s.jsx("th",{className:"p-2",children:e("Payment Status")}),s.jsx("th",{className:"p-2",children:e("Attachment")}),s.jsx("th",{className:"p-2",children:e("Actions")})]})}),s.jsx("tbody",{children:t.length===0?s.jsx("tr",{children:s.jsx("td",{className:"p-3 text-gray-500",colSpan:8,children:e("No data")})}):t.map(u=>s.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[s.jsx("td",{className:"p-2",children:u.id}),s.jsx("td",{className:"p-2",children:u.issueDate?new Date(u.issueDate).toLocaleDateString():"-"}),s.jsx("td",{className:"p-2",children:u.orderId||u.salesOrderId||"-"}),s.jsxs("td",{className:"p-2 font-medium",children:[typeof u.amount=="number"?u.amount.toLocaleString():u.amount," ",u.currency||""]}),s.jsx("td",{className:"p-2",children:u.paymentMethod||"-"}),s.jsx("td",{className:"p-2",children:u.status||u.paymentStatus||"-"}),s.jsx("td",{className:"p-2",children:Array.isArray(u.attachments)?`${u.attachments.length} ${e("file(s)")}`:"-"}),s.jsxs("td",{className:"p-2 space-x-2",children:[s.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>c(),children:e("Send / Print")}),s.jsx("button",{className:"btn btn-success btn-sm",onClick:()=>d(u),children:e("Mark as Paid")})]})]},u.id))})]})})]})})}const j8=y.createContext({});function N8(e){const t=y.useRef(null);return t.current===null&&(t.current=e()),t.current}const k8=typeof window<"u",sW=k8?y.useLayoutEffect:y.useEffect,dN=y.createContext(null);function S8(e,t){e.indexOf(t)===-1&&e.push(t)}function C8(e,t){const a=e.indexOf(t);a>-1&&e.splice(a,1)}const xh=(e,t,a)=>a>t?t:a<e?e:a;let A8=()=>{};const gh={},rW=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function nW(e){return typeof e=="object"&&e!==null}const iW=e=>/^0[^.\s]+$/u.test(e);function _8(e){let t;return()=>(t===void 0&&(t=e()),t)}const Pc=e=>e,Kye=(e,t)=>a=>t(e(a)),lb=(...e)=>e.reduce(Kye),b1=(e,t,a)=>{const r=t-e;return r===0?1:(a-e)/r};class E8{constructor(){this.subscriptions=[]}add(t){return S8(this.subscriptions,t),()=>C8(this.subscriptions,t)}notify(t,a,r){const n=this.subscriptions.length;if(n)if(n===1)this.subscriptions[0](t,a,r);else for(let i=0;i<n;i++){const l=this.subscriptions[i];l&&l(t,a,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const mu=e=>e*1e3,_c=e=>e/1e3;function lW(e,t){return t?e*(1e3/t):0}const oW=(e,t,a)=>(((1-3*a+3*t)*e+(3*a-6*t))*e+3*t)*e,Yye=1e-7,Xye=12;function Jye(e,t,a,r,n){let i,l,o=0;do l=t+(a-t)/2,i=oW(l,r,n)-e,i>0?a=l:t=l;while(Math.abs(i)>Yye&&++o<Xye);return l}function ob(e,t,a,r){if(e===t&&a===r)return Pc;const n=i=>Jye(i,0,1,e,a);return i=>i===0||i===1?i:oW(n(i),t,r)}const cW=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,dW=e=>t=>1-e(1-t),uW=ob(.33,1.53,.69,.99),T8=dW(uW),hW=cW(T8),fW=e=>(e*=2)<1?.5*T8(e):.5*(2-Math.pow(2,-10*(e-1))),D8=e=>1-Math.sin(Math.acos(e)),mW=dW(D8),pW=cW(D8),Qye=ob(.42,0,1,1),Zye=ob(0,0,.58,1),xW=ob(.42,0,.58,1),e2e=e=>Array.isArray(e)&&typeof e[0]!="number",gW=e=>Array.isArray(e)&&typeof e[0]=="number",t2e={linear:Pc,easeIn:Qye,easeInOut:xW,easeOut:Zye,circIn:D8,circInOut:pW,circOut:mW,backIn:T8,backInOut:hW,backOut:uW,anticipate:fW},a2e=e=>typeof e=="string",hL=e=>{if(gW(e)){A8(e.length===4);const[t,a,r,n]=e;return ob(t,a,r,n)}else if(a2e(e))return t2e[e];return e},r2=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function s2e(e,t){let a=new Set,r=new Set,n=!1,i=!1;const l=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function c(u){l.has(u)&&(d.schedule(u),e()),u(o)}const d={schedule:(u,f=!1,p=!1)=>{const v=p&&n?a:r;return f&&l.add(u),v.has(u)||v.add(u),u},cancel:u=>{r.delete(u),l.delete(u)},process:u=>{if(o=u,n){i=!0;return}n=!0,[a,r]=[r,a],a.forEach(c),a.clear(),n=!1,i&&(i=!1,d.process(u))}};return d}const r2e=40;function vW(e,t){let a=!1,r=!0;const n={delta:0,timestamp:0,isProcessing:!1},i=()=>a=!0,l=r2.reduce((S,N)=>(S[N]=s2e(i),S),{}),{setup:o,read:c,resolveKeyframes:d,preUpdate:u,update:f,preRender:p,render:m,postRender:v}=l,g=()=>{const S=gh.useManualTiming?n.timestamp:performance.now();a=!1,gh.useManualTiming||(n.delta=r?1e3/60:Math.max(Math.min(S-n.timestamp,r2e),1)),n.timestamp=S,n.isProcessing=!0,o.process(n),c.process(n),d.process(n),u.process(n),f.process(n),p.process(n),m.process(n),v.process(n),n.isProcessing=!1,a&&t&&(r=!1,e(g))},b=()=>{a=!0,r=!0,n.isProcessing||e(g)};return{schedule:r2.reduce((S,N)=>{const A=l[N];return S[N]=(_,E=!1,D=!1)=>(a||b(),A.schedule(_,E,D)),S},{}),cancel:S=>{for(let N=0;N<r2.length;N++)l[r2[N]].cancel(S)},state:n,steps:l}}const{schedule:Ur,cancel:$f,state:Gi,steps:a3}=vW(typeof requestAnimationFrame<"u"?requestAnimationFrame:Pc,!0);let W2;function n2e(){W2=void 0}const fo={now:()=>(W2===void 0&&fo.set(Gi.isProcessing||gh.useManualTiming?Gi.timestamp:performance.now()),W2),set:e=>{W2=e,queueMicrotask(n2e)}},bW=e=>t=>typeof t=="string"&&t.startsWith(e),P8=bW("--"),i2e=bW("var(--"),M8=e=>i2e(e)?l2e.test(e.split("/*")[0].trim()):!1,l2e=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,$x={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},y1={...$x,transform:e=>xh(0,1,e)},n2={...$x,default:1},Ov=e=>Math.round(e*1e5)/1e5,L8=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function o2e(e){return e==null}const c2e=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,O8=(e,t)=>a=>!!(typeof a=="string"&&c2e.test(a)&&a.startsWith(e)||t&&!o2e(a)&&Object.prototype.hasOwnProperty.call(a,t)),yW=(e,t,a)=>r=>{if(typeof r!="string")return r;const[n,i,l,o]=r.match(L8);return{[e]:parseFloat(n),[t]:parseFloat(i),[a]:parseFloat(l),alpha:o!==void 0?parseFloat(o):1}},d2e=e=>xh(0,255,e),s3={...$x,transform:e=>Math.round(d2e(e))},W0={test:O8("rgb","red"),parse:yW("red","green","blue"),transform:({red:e,green:t,blue:a,alpha:r=1})=>"rgba("+s3.transform(e)+", "+s3.transform(t)+", "+s3.transform(a)+", "+Ov(y1.transform(r))+")"};function u2e(e){let t="",a="",r="",n="";return e.length>5?(t=e.substring(1,3),a=e.substring(3,5),r=e.substring(5,7),n=e.substring(7,9)):(t=e.substring(1,2),a=e.substring(2,3),r=e.substring(3,4),n=e.substring(4,5),t+=t,a+=a,r+=r,n+=n),{red:parseInt(t,16),green:parseInt(a,16),blue:parseInt(r,16),alpha:n?parseInt(n,16)/255:1}}const gC={test:O8("#"),parse:u2e,transform:W0.transform},cb=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),vf=cb("deg"),pu=cb("%"),Ua=cb("px"),h2e=cb("vh"),f2e=cb("vw"),fL={...pu,parse:e=>pu.parse(e)/100,transform:e=>pu.transform(e*100)},qp={test:O8("hsl","hue"),parse:yW("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:a,alpha:r=1})=>"hsla("+Math.round(e)+", "+pu.transform(Ov(t))+", "+pu.transform(Ov(a))+", "+Ov(y1.transform(r))+")"},Gn={test:e=>W0.test(e)||gC.test(e)||qp.test(e),parse:e=>W0.test(e)?W0.parse(e):qp.test(e)?qp.parse(e):gC.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?W0.transform(e):qp.transform(e),getAnimatableNone:e=>{const t=Gn.parse(e);return t.alpha=0,Gn.transform(t)}},m2e=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function p2e(e){return isNaN(e)&&typeof e=="string"&&(e.match(L8)?.length||0)+(e.match(m2e)?.length||0)>0}const wW="number",jW="color",x2e="var",g2e="var(",mL="${}",v2e=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function w1(e){const t=e.toString(),a=[],r={color:[],number:[],var:[]},n=[];let i=0;const o=t.replace(v2e,c=>(Gn.test(c)?(r.color.push(i),n.push(jW),a.push(Gn.parse(c))):c.startsWith(g2e)?(r.var.push(i),n.push(x2e),a.push(c)):(r.number.push(i),n.push(wW),a.push(parseFloat(c))),++i,mL)).split(mL);return{values:a,split:o,indexes:r,types:n}}function NW(e){return w1(e).values}function kW(e){const{split:t,types:a}=w1(e),r=t.length;return n=>{let i="";for(let l=0;l<r;l++)if(i+=t[l],n[l]!==void 0){const o=a[l];o===wW?i+=Ov(n[l]):o===jW?i+=Gn.transform(n[l]):i+=n[l]}return i}}const b2e=e=>typeof e=="number"?0:Gn.test(e)?Gn.getAnimatableNone(e):e;function y2e(e){const t=NW(e);return kW(e)(t.map(b2e))}const Uf={test:p2e,parse:NW,createTransformer:kW,getAnimatableNone:y2e};function r3(e,t,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?e+(t-e)*6*a:a<1/2?t:a<2/3?e+(t-e)*(2/3-a)*6:e}function w2e({hue:e,saturation:t,lightness:a,alpha:r}){e/=360,t/=100,a/=100;let n=0,i=0,l=0;if(!t)n=i=l=a;else{const o=a<.5?a*(1+t):a+t-a*t,c=2*a-o;n=r3(c,o,e+1/3),i=r3(c,o,e),l=r3(c,o,e-1/3)}return{red:Math.round(n*255),green:Math.round(i*255),blue:Math.round(l*255),alpha:r}}function _w(e,t){return a=>a>0?t:e}const Zr=(e,t,a)=>e+(t-e)*a,n3=(e,t,a)=>{const r=e*e,n=a*(t*t-r)+r;return n<0?0:Math.sqrt(n)},j2e=[gC,W0,qp],N2e=e=>j2e.find(t=>t.test(e));function pL(e){const t=N2e(e);if(!t)return!1;let a=t.parse(e);return t===qp&&(a=w2e(a)),a}const xL=(e,t)=>{const a=pL(e),r=pL(t);if(!a||!r)return _w(e,t);const n={...a};return i=>(n.red=n3(a.red,r.red,i),n.green=n3(a.green,r.green,i),n.blue=n3(a.blue,r.blue,i),n.alpha=Zr(a.alpha,r.alpha,i),W0.transform(n))},vC=new Set(["none","hidden"]);function k2e(e,t){return vC.has(e)?a=>a<=0?e:t:a=>a>=1?t:e}function S2e(e,t){return a=>Zr(e,t,a)}function R8(e){return typeof e=="number"?S2e:typeof e=="string"?M8(e)?_w:Gn.test(e)?xL:_2e:Array.isArray(e)?SW:typeof e=="object"?Gn.test(e)?xL:C2e:_w}function SW(e,t){const a=[...e],r=a.length,n=e.map((i,l)=>R8(i)(i,t[l]));return i=>{for(let l=0;l<r;l++)a[l]=n[l](i);return a}}function C2e(e,t){const a={...e,...t},r={};for(const n in a)e[n]!==void 0&&t[n]!==void 0&&(r[n]=R8(e[n])(e[n],t[n]));return n=>{for(const i in r)a[i]=r[i](n);return a}}function A2e(e,t){const a=[],r={color:0,var:0,number:0};for(let n=0;n<t.values.length;n++){const i=t.types[n],l=e.indexes[i][r[i]],o=e.values[l]??0;a[n]=o,r[i]++}return a}const _2e=(e,t)=>{const a=Uf.createTransformer(t),r=w1(e),n=w1(t);return r.indexes.var.length===n.indexes.var.length&&r.indexes.color.length===n.indexes.color.length&&r.indexes.number.length>=n.indexes.number.length?vC.has(e)&&!n.values.length||vC.has(t)&&!r.values.length?k2e(e,t):lb(SW(A2e(r,n),n.values),a):_w(e,t)};function CW(e,t,a){return typeof e=="number"&&typeof t=="number"&&typeof a=="number"?Zr(e,t,a):R8(e)(e,t)}const E2e=e=>{const t=({timestamp:a})=>e(a);return{start:(a=!0)=>Ur.update(t,a),stop:()=>$f(t),now:()=>Gi.isProcessing?Gi.timestamp:fo.now()}},AW=(e,t,a=10)=>{let r="";const n=Math.max(Math.round(t/a),2);for(let i=0;i<n;i++)r+=Math.round(e(i/(n-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Ew=2e4;function F8(e){let t=0;const a=50;let r=e.next(t);for(;!r.done&&t<Ew;)t+=a,r=e.next(t);return t>=Ew?1/0:t}function T2e(e,t=100,a){const r=a({...e,keyframes:[0,t]}),n=Math.min(F8(r),Ew);return{type:"keyframes",ease:i=>r.next(n*i).value/t,duration:_c(n)}}const D2e=5;function _W(e,t,a){const r=Math.max(t-D2e,0);return lW(a-e(r),t-r)}const fn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},i3=.001;function P2e({duration:e=fn.duration,bounce:t=fn.bounce,velocity:a=fn.velocity,mass:r=fn.mass}){let n,i,l=1-t;l=xh(fn.minDamping,fn.maxDamping,l),e=xh(fn.minDuration,fn.maxDuration,_c(e)),l<1?(n=d=>{const u=d*l,f=u*e,p=u-a,m=bC(d,l),v=Math.exp(-f);return i3-p/m*v},i=d=>{const f=d*l*e,p=f*a+a,m=Math.pow(l,2)*Math.pow(d,2)*e,v=Math.exp(-f),g=bC(Math.pow(d,2),l);return(-n(d)+i3>0?-1:1)*((p-m)*v)/g}):(n=d=>{const u=Math.exp(-d*e),f=(d-a)*e+1;return-i3+u*f},i=d=>{const u=Math.exp(-d*e),f=(a-d)*(e*e);return u*f});const o=5/e,c=L2e(n,i,o);if(e=mu(e),isNaN(c))return{stiffness:fn.stiffness,damping:fn.damping,duration:e};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:l*2*Math.sqrt(r*d),duration:e}}}const M2e=12;function L2e(e,t,a){let r=a;for(let n=1;n<M2e;n++)r=r-e(r)/t(r);return r}function bC(e,t){return e*Math.sqrt(1-t*t)}const O2e=["duration","bounce"],R2e=["stiffness","damping","mass"];function gL(e,t){return t.some(a=>e[a]!==void 0)}function F2e(e){let t={velocity:fn.velocity,stiffness:fn.stiffness,damping:fn.damping,mass:fn.mass,isResolvedFromDuration:!1,...e};if(!gL(e,R2e)&&gL(e,O2e))if(e.visualDuration){const a=e.visualDuration,r=2*Math.PI/(a*1.2),n=r*r,i=2*xh(.05,1,1-(e.bounce||0))*Math.sqrt(n);t={...t,mass:fn.mass,stiffness:n,damping:i}}else{const a=P2e(e);t={...t,...a,mass:fn.mass},t.isResolvedFromDuration=!0}return t}function Tw(e=fn.visualDuration,t=fn.bounce){const a=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:n}=a;const i=a.keyframes[0],l=a.keyframes[a.keyframes.length-1],o={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:f,velocity:p,isResolvedFromDuration:m}=F2e({...a,velocity:-_c(a.velocity||0)}),v=p||0,g=d/(2*Math.sqrt(c*u)),b=l-i,j=_c(Math.sqrt(c/u)),k=Math.abs(b)<5;r||(r=k?fn.restSpeed.granular:fn.restSpeed.default),n||(n=k?fn.restDelta.granular:fn.restDelta.default);let S;if(g<1){const A=bC(j,g);S=_=>{const E=Math.exp(-g*j*_);return l-E*((v+g*j*b)/A*Math.sin(A*_)+b*Math.cos(A*_))}}else if(g===1)S=A=>l-Math.exp(-j*A)*(b+(v+j*b)*A);else{const A=j*Math.sqrt(g*g-1);S=_=>{const E=Math.exp(-g*j*_),D=Math.min(A*_,300);return l-E*((v+g*j*b)*Math.sinh(D)+A*b*Math.cosh(D))/A}}const N={calculatedDuration:m&&f||null,next:A=>{const _=S(A);if(m)o.done=A>=f;else{let E=A===0?v:0;g<1&&(E=A===0?mu(v):_W(S,A,_));const D=Math.abs(E)<=r,R=Math.abs(l-_)<=n;o.done=D&&R}return o.value=o.done?l:_,o},toString:()=>{const A=Math.min(F8(N),Ew),_=AW(E=>N.next(A*E).value,A,30);return A+"ms "+_},toTransition:()=>{}};return N}Tw.applyToOptions=e=>{const t=T2e(e,100,Tw);return e.ease=t.ease,e.duration=mu(t.duration),e.type="keyframes",e};function yC({keyframes:e,velocity:t=0,power:a=.8,timeConstant:r=325,bounceDamping:n=10,bounceStiffness:i=500,modifyTarget:l,min:o,max:c,restDelta:d=.5,restSpeed:u}){const f=e[0],p={done:!1,value:f},m=D=>o!==void 0&&D<o||c!==void 0&&D>c,v=D=>o===void 0?c:c===void 0||Math.abs(o-D)<Math.abs(c-D)?o:c;let g=a*t;const b=f+g,j=l===void 0?b:l(b);j!==b&&(g=j-f);const k=D=>-g*Math.exp(-D/r),S=D=>j+k(D),N=D=>{const R=k(D),I=S(D);p.done=Math.abs(R)<=d,p.value=p.done?j:I};let A,_;const E=D=>{m(p.value)&&(A=D,_=Tw({keyframes:[p.value,v(p.value)],velocity:_W(S,D,p.value),damping:n,stiffness:i,restDelta:d,restSpeed:u}))};return E(0),{calculatedDuration:null,next:D=>{let R=!1;return!_&&A===void 0&&(R=!0,N(D),E(D)),A!==void 0&&D>=A?_.next(D-A):(!R&&N(D),p)}}}function I2e(e,t,a){const r=[],n=a||gh.mix||CW,i=e.length-1;for(let l=0;l<i;l++){let o=n(e[l],e[l+1]);if(t){const c=Array.isArray(t)?t[l]||Pc:t;o=lb(c,o)}r.push(o)}return r}function B2e(e,t,{clamp:a=!0,ease:r,mixer:n}={}){const i=e.length;if(A8(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const l=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=I2e(t,r,n),c=o.length,d=u=>{if(l&&u<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const p=b1(e[f],e[f+1],u);return o[f](p)};return a?u=>d(xh(e[0],e[i-1],u)):d}function $2e(e,t){const a=e[e.length-1];for(let r=1;r<=t;r++){const n=b1(0,t,r);e.push(Zr(a,1,n))}}function U2e(e){const t=[0];return $2e(t,e.length-1),t}function z2e(e,t){return e.map(a=>a*t)}function H2e(e,t){return e.map(()=>t||xW).splice(0,e.length-1)}function Rv({duration:e=300,keyframes:t,times:a,ease:r="easeInOut"}){const n=e2e(r)?r.map(hL):hL(r),i={done:!1,value:t[0]},l=z2e(a&&a.length===t.length?a:U2e(t),e),o=B2e(l,t,{ease:Array.isArray(n)?n:H2e(t,n)});return{calculatedDuration:e,next:c=>(i.value=o(c),i.done=c>=e,i)}}const V2e=e=>e!==null;function I8(e,{repeat:t,repeatType:a="loop"},r,n=1){const i=e.filter(V2e),o=n<0||t&&a!=="loop"&&t%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const W2e={decay:yC,inertia:yC,tween:Rv,keyframes:Rv,spring:Tw};function EW(e){typeof e.type=="string"&&(e.type=W2e[e.type])}class B8{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,a){return this.finished.then(t,a)}}const q2e=e=>e/100;class $8 extends B8{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:a}=this.options;a&&a.updatedAt!==fo.now()&&this.tick(fo.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;EW(t);const{type:a=Rv,repeat:r=0,repeatDelay:n=0,repeatType:i,velocity:l=0}=t;let{keyframes:o}=t;const c=a||Rv;c!==Rv&&typeof o[0]!="number"&&(this.mixKeyframes=lb(q2e,CW(o[0],o[1])),o=[0,100]);const d=c({...t,keyframes:o});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...o].reverse(),velocity:-l})),d.calculatedDuration===null&&(d.calculatedDuration=F8(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+n,this.totalDuration=this.resolvedDuration*(r+1)-n,this.generator=d}updateTime(t){const a=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=a}tick(t,a=!1){const{generator:r,totalDuration:n,mixKeyframes:i,mirroredGenerator:l,resolvedDuration:o,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:u,repeat:f,repeatType:p,repeatDelay:m,type:v,onUpdate:g,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-n/this.speed,this.startTime)),a?this.currentTime=t:this.updateTime(t);const j=this.currentTime-d*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?j<0:j>n;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=n);let S=this.currentTime,N=r;if(f){const D=Math.min(this.currentTime,n)/o;let R=Math.floor(D),I=D%1;!I&&D>=1&&(I=1),I===1&&R--,R=Math.min(R,f+1),!!(R%2)&&(p==="reverse"?(I=1-I,m&&(I-=m/o)):p==="mirror"&&(N=l)),S=xh(0,1,I)*o}const A=k?{done:!1,value:u[0]}:N.next(S);i&&(A.value=i(A.value));let{done:_}=A;!k&&c!==null&&(_=this.playbackSpeed>=0?this.currentTime>=n:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&_);return E&&v!==yC&&(A.value=I8(u,this.options,b,this.speed)),g&&g(A.value),E&&this.finish(),A}then(t,a){return this.finished.then(t,a)}get duration(){return _c(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+_c(t)}get time(){return _c(this.currentTime)}set time(t){t=mu(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(fo.now());const a=this.playbackSpeed!==t;this.playbackSpeed=t,a&&(this.time=_c(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=E2e,startTime:a}=this.options;this.driver||(this.driver=t(n=>this.tick(n))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=a??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(fo.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function G2e(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const q0=e=>e*180/Math.PI,wC=e=>{const t=q0(Math.atan2(e[1],e[0]));return jC(t)},K2e={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:wC,rotateZ:wC,skewX:e=>q0(Math.atan(e[1])),skewY:e=>q0(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},jC=e=>(e=e%360,e<0&&(e+=360),e),vL=wC,bL=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),yL=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Y2e={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:bL,scaleY:yL,scale:e=>(bL(e)+yL(e))/2,rotateX:e=>jC(q0(Math.atan2(e[6],e[5]))),rotateY:e=>jC(q0(Math.atan2(-e[2],e[0]))),rotateZ:vL,rotate:vL,skewX:e=>q0(Math.atan(e[4])),skewY:e=>q0(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function NC(e){return e.includes("scale")?1:0}function kC(e,t){if(!e||e==="none")return NC(t);const a=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,n;if(a)r=Y2e,n=a;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=K2e,n=o}if(!n)return NC(t);const i=r[t],l=n[1].split(",").map(J2e);return typeof i=="function"?i(l):l[i]}const X2e=(e,t)=>{const{transform:a="none"}=getComputedStyle(e);return kC(a,t)};function J2e(e){return parseFloat(e.trim())}const Ux=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],zx=new Set(Ux),wL=e=>e===$x||e===Ua,Q2e=new Set(["x","y","z"]),Z2e=Ux.filter(e=>!Q2e.has(e));function ewe(e){const t=[];return Z2e.forEach(a=>{const r=e.getValue(a);r!==void 0&&(t.push([a,r.get()]),r.set(a.startsWith("scale")?1:0))}),t}const nm={width:({x:e},{paddingLeft:t="0",paddingRight:a="0"})=>e.max-e.min-parseFloat(t)-parseFloat(a),height:({y:e},{paddingTop:t="0",paddingBottom:a="0"})=>e.max-e.min-parseFloat(t)-parseFloat(a),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>kC(t,"x"),y:(e,{transform:t})=>kC(t,"y")};nm.translateX=nm.x;nm.translateY=nm.y;const im=new Set;let SC=!1,CC=!1,AC=!1;function TW(){if(CC){const e=Array.from(im).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),a=new Map;t.forEach(r=>{const n=ewe(r);n.length&&(a.set(r,n),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const n=a.get(r);n&&n.forEach(([i,l])=>{r.getValue(i)?.set(l)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}CC=!1,SC=!1,im.forEach(e=>e.complete(AC)),im.clear()}function DW(){im.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(CC=!0)})}function twe(){AC=!0,DW(),TW(),AC=!1}class U8{constructor(t,a,r,n,i,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=a,this.name=r,this.motionValue=n,this.element=i,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(im.add(this),SC||(SC=!0,Ur.read(DW),Ur.resolveKeyframes(TW))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:a,element:r,motionValue:n}=this;if(t[0]===null){const i=n?.get(),l=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&a){const o=r.readValue(a,l);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=l),n&&i===void 0&&n.set(t[0])}G2e(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),im.delete(this)}cancel(){this.state==="scheduled"&&(im.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const awe=e=>e.startsWith("--");function swe(e,t,a){awe(t)?e.style.setProperty(t,a):e.style[t]=a}const rwe=_8(()=>window.ScrollTimeline!==void 0),nwe={};function iwe(e,t){const a=_8(e);return()=>nwe[t]??a()}const PW=iwe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),yv=([e,t,a,r])=>`cubic-bezier(${e}, ${t}, ${a}, ${r})`,jL={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yv([0,.65,.55,1]),circOut:yv([.55,0,1,.45]),backIn:yv([.31,.01,.66,-.59]),backOut:yv([.33,1.53,.69,.99])};function MW(e,t){if(e)return typeof e=="function"?PW()?AW(e,t):"ease-out":gW(e)?yv(e):Array.isArray(e)?e.map(a=>MW(a,t)||jL.easeOut):jL[e]}function lwe(e,t,a,{delay:r=0,duration:n=300,repeat:i=0,repeatType:l="loop",ease:o="easeOut",times:c}={},d=void 0){const u={[t]:a};c&&(u.offset=c);const f=MW(o,n);Array.isArray(f)&&(u.easing=f);const p={delay:r,duration:n,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:l==="reverse"?"alternate":"normal"};return d&&(p.pseudoElement=d),e.animate(u,p)}function LW(e){return typeof e=="function"&&"applyToOptions"in e}function owe({type:e,...t}){return LW(e)&&PW()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class cwe extends B8{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:a,name:r,keyframes:n,pseudoElement:i,allowFlatten:l=!1,finalKeyframe:o,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=l,this.options=t,A8(typeof t.type!="string");const d=owe(t);this.animation=lwe(a,r,n,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=I8(n,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(u):swe(a,r,u),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return _c(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+_c(t)}get time(){return _c(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=mu(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:a}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&rwe()?(this.animation.timeline=t,Pc):a(this)}}const OW={anticipate:fW,backInOut:hW,circInOut:pW};function dwe(e){return e in OW}function uwe(e){typeof e.ease=="string"&&dwe(e.ease)&&(e.ease=OW[e.ease])}const NL=10;class hwe extends cwe{constructor(t){uwe(t),EW(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:a,onUpdate:r,onComplete:n,element:i,...l}=this.options;if(!a)return;if(t!==void 0){a.set(t);return}const o=new $8({...l,autoplay:!1}),c=mu(this.finishedTime??this.time);a.setWithVelocity(o.sample(c-NL).value,o.sample(c).value,NL),o.stop()}}const kL=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Uf.test(e)||e==="0")&&!e.startsWith("url("));function fwe(e){const t=e[0];if(e.length===1)return!0;for(let a=0;a<e.length;a++)if(e[a]!==t)return!0}function mwe(e,t,a,r){const n=e[0];if(n===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],l=kL(n,t),o=kL(i,t);return!l||!o?!1:fwe(e)||(a==="spring"||LW(a))&&r}function _C(e){e.duration=0,e.type="keyframes"}const pwe=new Set(["opacity","clipPath","filter","transform"]),xwe=_8(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function gwe(e){const{motionValue:t,name:a,repeatDelay:r,repeatType:n,damping:i,type:l}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=t.owner.getProps();return xwe()&&a&&pwe.has(a)&&(a!=="transform"||!d)&&!c&&!r&&n!=="mirror"&&i!==0&&l!=="inertia"}const vwe=40;class bwe extends B8{constructor({autoplay:t=!0,delay:a=0,type:r="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:l="loop",keyframes:o,name:c,motionValue:d,element:u,...f}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=fo.now();const p={autoplay:t,delay:a,type:r,repeat:n,repeatDelay:i,repeatType:l,name:c,motionValue:d,element:u,...f},m=u?.KeyframeResolver||U8;this.keyframeResolver=new m(o,(v,g,b)=>this.onKeyframesResolved(v,g,p,!b),c,d,u),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,a,r,n){this.keyframeResolver=void 0;const{name:i,type:l,velocity:o,delay:c,isHandoff:d,onUpdate:u}=r;this.resolvedAt=fo.now(),mwe(t,i,l,o)||((gh.instantAnimations||!c)&&u?.(I8(t,r,a)),t[0]=t[t.length-1],_C(r),r.repeat=0);const p={startTime:n?this.resolvedAt?this.resolvedAt-this.createdAt>vwe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:a,...r,keyframes:t},m=!d&&gwe(p)?new hwe({...p,element:p.motionValue.owner.current}):new $8(p);m.finished.then(()=>this.notifyFinished()).catch(Pc),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,a){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),twe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const ywe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function wwe(e){const t=ywe.exec(e);if(!t)return[,];const[,a,r,n]=t;return[`--${a??r}`,n]}function RW(e,t,a=1){const[r,n]=wwe(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const l=i.trim();return rW(l)?parseFloat(l):l}return M8(n)?RW(n,t,a+1):n}function z8(e,t){return e?.[t]??e?.default??e}const FW=new Set(["width","height","top","left","right","bottom",...Ux]),jwe={test:e=>e==="auto",parse:e=>e},IW=e=>t=>t.test(e),BW=[$x,Ua,pu,vf,f2e,h2e,jwe],SL=e=>BW.find(IW(e));function Nwe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||iW(e):!0}const kwe=new Set(["brightness","contrast","saturate","opacity"]);function Swe(e){const[t,a]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=a.match(L8)||[];if(!r)return e;const n=a.replace(r,"");let i=kwe.has(t)?1:0;return r!==a&&(i*=100),t+"("+i+n+")"}const Cwe=/\b([a-z-]*)\(.*?\)/gu,EC={...Uf,getAnimatableNone:e=>{const t=e.match(Cwe);return t?t.map(Swe).join(" "):e}},CL={...$x,transform:Math.round},Awe={rotate:vf,rotateX:vf,rotateY:vf,rotateZ:vf,scale:n2,scaleX:n2,scaleY:n2,scaleZ:n2,skew:vf,skewX:vf,skewY:vf,distance:Ua,translateX:Ua,translateY:Ua,translateZ:Ua,x:Ua,y:Ua,z:Ua,perspective:Ua,transformPerspective:Ua,opacity:y1,originX:fL,originY:fL,originZ:Ua},H8={borderWidth:Ua,borderTopWidth:Ua,borderRightWidth:Ua,borderBottomWidth:Ua,borderLeftWidth:Ua,borderRadius:Ua,radius:Ua,borderTopLeftRadius:Ua,borderTopRightRadius:Ua,borderBottomRightRadius:Ua,borderBottomLeftRadius:Ua,width:Ua,maxWidth:Ua,height:Ua,maxHeight:Ua,top:Ua,right:Ua,bottom:Ua,left:Ua,padding:Ua,paddingTop:Ua,paddingRight:Ua,paddingBottom:Ua,paddingLeft:Ua,margin:Ua,marginTop:Ua,marginRight:Ua,marginBottom:Ua,marginLeft:Ua,backgroundPositionX:Ua,backgroundPositionY:Ua,...Awe,zIndex:CL,fillOpacity:y1,strokeOpacity:y1,numOctaves:CL},_we={...H8,color:Gn,backgroundColor:Gn,outlineColor:Gn,fill:Gn,stroke:Gn,borderColor:Gn,borderTopColor:Gn,borderRightColor:Gn,borderBottomColor:Gn,borderLeftColor:Gn,filter:EC,WebkitFilter:EC},$W=e=>_we[e];function UW(e,t){let a=$W(e);return a!==EC&&(a=Uf),a.getAnimatableNone?a.getAnimatableNone(t):void 0}const Ewe=new Set(["auto","none","0"]);function Twe(e,t,a){let r=0,n;for(;r<e.length&&!n;){const i=e[r];typeof i=="string"&&!Ewe.has(i)&&w1(i).values.length&&(n=e[r]),r++}if(n&&a)for(const i of t)e[i]=UW(a,n)}class Dwe extends U8{constructor(t,a,r,n,i){super(t,a,r,n,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:a,name:r}=this;if(!a||!a.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),M8(d))){const u=RW(d,a.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!FW.has(r)||t.length!==2)return;const[n,i]=t,l=SL(n),o=SL(i);if(l!==o)if(wL(l)&&wL(o))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else nm[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:a}=this,r=[];for(let n=0;n<t.length;n++)(t[n]===null||Nwe(t[n]))&&r.push(n);r.length&&Twe(t,r,a)}measureInitialState(){const{element:t,unresolvedKeyframes:a,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=nm[r](t.measureViewportBox(),window.getComputedStyle(t.current)),a[0]=this.measuredOrigin;const n=a[a.length-1];n!==void 0&&t.getValue(r,n).jump(n,!1)}measureEndState(){const{element:t,name:a,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const n=t.getValue(a);n&&n.jump(this.measuredOrigin,!1);const i=r.length-1,l=r[i];r[i]=nm[a](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([o,c])=>{t.getValue(o).set(c)}),this.resolveNoneKeyframes()}}function Pwe(e,t,a){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const n=a?.[e]??r.querySelectorAll(e);return n?Array.from(n):[]}return Array.from(e)}const zW=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function HW(e){return nW(e)&&"offsetHeight"in e}const AL=30,Mwe=e=>!isNaN(parseFloat(e));class Lwe{constructor(t,a={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const n=fo.now();if(this.updatedAt!==n&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=a.owner}setCurrent(t){this.current=t,this.updatedAt=fo.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Mwe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,a){this.events[t]||(this.events[t]=new E8);const r=this.events[t].add(a);return t==="change"?()=>{r(),Ur.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,a){this.passiveEffect=t,this.stopPassiveEffect=a}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,a,r){this.set(a),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,a=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,a&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=fo.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>AL)return 0;const a=Math.min(this.updatedAt-this.prevUpdatedAt,AL);return lW(parseFloat(this.current)-parseFloat(this.prevFrameValue),a)}start(t){return this.stop(),new Promise(a=>{this.hasAnimated=!0,this.animation=t(a),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xx(e,t){return new Lwe(e,t)}const{schedule:V8}=vW(queueMicrotask,!1),md={x:!1,y:!1};function VW(){return md.x||md.y}function Owe(e){return e==="x"||e==="y"?md[e]?null:(md[e]=!0,()=>{md[e]=!1}):md.x||md.y?null:(md.x=md.y=!0,()=>{md.x=md.y=!1})}function WW(e,t){const a=Pwe(e),r=new AbortController,n={passive:!0,...t,signal:r.signal};return[a,n,()=>r.abort()]}function _L(e){return!(e.pointerType==="touch"||VW())}function Rwe(e,t,a={}){const[r,n,i]=WW(e,a),l=o=>{if(!_L(o))return;const{target:c}=o,d=t(c,o);if(typeof d!="function"||!c)return;const u=f=>{_L(f)&&(d(f),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,n)};return r.forEach(o=>{o.addEventListener("pointerenter",l,n)}),i}const qW=(e,t)=>t?e===t?!0:qW(e,t.parentElement):!1,W8=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Fwe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Iwe(e){return Fwe.has(e.tagName)||e.tabIndex!==-1}const q2=new WeakSet;function EL(e){return t=>{t.key==="Enter"&&e(t)}}function l3(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Bwe=(e,t)=>{const a=e.currentTarget;if(!a)return;const r=EL(()=>{if(q2.has(a))return;l3(a,"down");const n=EL(()=>{l3(a,"up")}),i=()=>l3(a,"cancel");a.addEventListener("keyup",n,t),a.addEventListener("blur",i,t)});a.addEventListener("keydown",r,t),a.addEventListener("blur",()=>a.removeEventListener("keydown",r),t)};function TL(e){return W8(e)&&!VW()}function $we(e,t,a={}){const[r,n,i]=WW(e,a),l=o=>{const c=o.currentTarget;if(!TL(o))return;q2.add(c);const d=t(c,o),u=(m,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),q2.has(c)&&q2.delete(c),TL(m)&&typeof d=="function"&&d(m,{success:v})},f=m=>{u(m,c===window||c===document||a.useGlobalTarget||qW(c,m.target))},p=m=>{u(m,!1)};window.addEventListener("pointerup",f,n),window.addEventListener("pointercancel",p,n)};return r.forEach(o=>{(a.useGlobalTarget?window:o).addEventListener("pointerdown",l,n),HW(o)&&(o.addEventListener("focus",d=>Bwe(d,n)),!Iwe(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),i}function GW(e){return nW(e)&&"ownerSVGElement"in e}function Uwe(e){return GW(e)&&e.tagName==="svg"}const yl=e=>!!(e&&e.getVelocity),zwe=[...BW,Gn,Uf],Hwe=e=>zwe.find(IW(e)),q8=y.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function DL(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Vwe(...e){return t=>{let a=!1;const r=e.map(n=>{const i=DL(n,t);return!a&&typeof i=="function"&&(a=!0),i});if(a)return()=>{for(let n=0;n<r.length;n++){const i=r[n];typeof i=="function"?i():DL(e[n],null)}}}}function Wwe(...e){return y.useCallback(Vwe(...e),e)}class qwe extends y.Component{getSnapshotBeforeUpdate(t){const a=this.props.childRef.current;if(a&&t.isPresent&&!this.props.isPresent){const r=a.offsetParent,n=HW(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=a.offsetHeight||0,i.width=a.offsetWidth||0,i.top=a.offsetTop,i.left=a.offsetLeft,i.right=n-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Gwe({children:e,isPresent:t,anchorX:a,root:r}){const n=y.useId(),i=y.useRef(null),l=y.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=y.useContext(q8),c=Wwe(i,e?.ref);return y.useInsertionEffect(()=>{const{width:d,height:u,top:f,left:p,right:m}=l.current;if(t||!i.current||!d||!u)return;const v=a==="left"?`left: ${p}`:`right: ${m}`;i.current.dataset.motionPopId=n;const g=document.createElement("style");o&&(g.nonce=o);const b=r??document.head;return b.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${u}px !important;
            ${v}px !important;
            top: ${f}px !important;
          }
        `),()=>{b.contains(g)&&b.removeChild(g)}},[t]),s.jsx(qwe,{isPresent:t,childRef:i,sizeRef:l,children:y.cloneElement(e,{ref:c})})}const Kwe=({children:e,initial:t,isPresent:a,onExitComplete:r,custom:n,presenceAffectsLayout:i,mode:l,anchorX:o,root:c})=>{const d=N8(Ywe),u=y.useId();let f=!0,p=y.useMemo(()=>(f=!1,{id:u,initial:t,isPresent:a,custom:n,onExitComplete:m=>{d.set(m,!0);for(const v of d.values())if(!v)return;r&&r()},register:m=>(d.set(m,!1),()=>d.delete(m))}),[a,d,r]);return i&&f&&(p={...p}),y.useMemo(()=>{d.forEach((m,v)=>d.set(v,!1))},[a]),y.useEffect(()=>{!a&&!d.size&&r&&r()},[a]),l==="popLayout"&&(e=s.jsx(Gwe,{isPresent:a,anchorX:o,root:c,children:e})),s.jsx(dN.Provider,{value:p,children:e})};function Ywe(){return new Map}function KW(e=!0){const t=y.useContext(dN);if(t===null)return[!0,null];const{isPresent:a,onExitComplete:r,register:n}=t,i=y.useId();y.useEffect(()=>{if(e)return n(i)},[e]);const l=y.useCallback(()=>e&&r&&r(i),[i,r,e]);return!a&&r?[!1,l]:[!0]}const i2=e=>e.key||"";function PL(e){const t=[];return y.Children.forEach(e,a=>{y.isValidElement(a)&&t.push(a)}),t}const Xwe=({children:e,custom:t,initial:a=!0,onExitComplete:r,presenceAffectsLayout:n=!0,mode:i="sync",propagate:l=!1,anchorX:o="left",root:c})=>{const[d,u]=KW(l),f=y.useMemo(()=>PL(e),[e]),p=l&&!d?[]:f.map(i2),m=y.useRef(!0),v=y.useRef(f),g=N8(()=>new Map),[b,j]=y.useState(f),[k,S]=y.useState(f);sW(()=>{m.current=!1,v.current=f;for(let _=0;_<k.length;_++){const E=i2(k[_]);p.includes(E)?g.delete(E):g.get(E)!==!0&&g.set(E,!1)}},[k,p.length,p.join("-")]);const N=[];if(f!==b){let _=[...f];for(let E=0;E<k.length;E++){const D=k[E],R=i2(D);p.includes(R)||(_.splice(E,0,D),N.push(D))}return i==="wait"&&N.length&&(_=N),S(PL(_)),j(f),null}const{forceRender:A}=y.useContext(j8);return s.jsx(s.Fragment,{children:k.map(_=>{const E=i2(_),D=l&&!d?!1:f===k||p.includes(E),R=()=>{if(g.has(E))g.set(E,!0);else return;let I=!0;g.forEach(M=>{M||(I=!1)}),I&&(A?.(),S(v.current),l&&u?.(),r&&r())};return s.jsx(Kwe,{isPresent:D,initial:!m.current||a?void 0:!1,custom:t,presenceAffectsLayout:n,mode:i,root:c,onExitComplete:D?void 0:R,anchorX:o,children:_},E)})})},YW=y.createContext({strict:!1}),ML={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},gx={};for(const e in ML)gx[e]={isEnabled:t=>ML[e].some(a=>!!t[a])};function Jwe(e){for(const t in e)gx[t]={...gx[t],...e[t]}}const Qwe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Dw(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Qwe.has(e)}let XW=e=>!Dw(e);function Zwe(e){typeof e=="function"&&(XW=t=>t.startsWith("on")?!Dw(t):e(t))}try{Zwe(require("@emotion/is-prop-valid").default)}catch{}function eje(e,t,a){const r={};for(const n in e)n==="values"&&typeof e.values=="object"||(XW(n)||a===!0&&Dw(n)||!t&&!Dw(n)||e.draggable&&n.startsWith("onDrag"))&&(r[n]=e[n]);return r}const uN=y.createContext({});function hN(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function j1(e){return typeof e=="string"||Array.isArray(e)}const G8=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],K8=["initial",...G8];function fN(e){return hN(e.animate)||K8.some(t=>j1(e[t]))}function JW(e){return!!(fN(e)||e.variants)}function tje(e,t){if(fN(e)){const{initial:a,animate:r}=e;return{initial:a===!1||j1(a)?a:void 0,animate:j1(r)?r:void 0}}return e.inherit!==!1?t:{}}function aje(e){const{initial:t,animate:a}=tje(e,y.useContext(uN));return y.useMemo(()=>({initial:t,animate:a}),[LL(t),LL(a)])}function LL(e){return Array.isArray(e)?e.join(" "):e}const N1={};function sje(e){for(const t in e)N1[t]=e[t],P8(t)&&(N1[t].isCSSVariable=!0)}function QW(e,{layout:t,layoutId:a}){return zx.has(e)||e.startsWith("origin")||(t||a!==void 0)&&(!!N1[e]||e==="opacity")}const rje={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nje=Ux.length;function ije(e,t,a){let r="",n=!0;for(let i=0;i<nje;i++){const l=Ux[i],o=e[l];if(o===void 0)continue;let c=!0;if(typeof o=="number"?c=o===(l.startsWith("scale")?1:0):c=parseFloat(o)===0,!c||a){const d=zW(o,H8[l]);if(!c){n=!1;const u=rje[l]||l;r+=`${u}(${d}) `}a&&(t[l]=d)}}return r=r.trim(),a?r=a(t,n?"":r):n&&(r="none"),r}function Y8(e,t,a){const{style:r,vars:n,transformOrigin:i}=e;let l=!1,o=!1;for(const c in t){const d=t[c];if(zx.has(c)){l=!0;continue}else if(P8(c)){n[c]=d;continue}else{const u=zW(d,H8[c]);c.startsWith("origin")?(o=!0,i[c]=u):r[c]=u}}if(t.transform||(l||a?r.transform=ije(t,e.transform,a):r.transform&&(r.transform="none")),o){const{originX:c="50%",originY:d="50%",originZ:u=0}=i;r.transformOrigin=`${c} ${d} ${u}`}}const X8=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ZW(e,t,a){for(const r in t)!yl(t[r])&&!QW(r,a)&&(e[r]=t[r])}function lje({transformTemplate:e},t){return y.useMemo(()=>{const a=X8();return Y8(a,t,e),Object.assign({},a.vars,a.style)},[t])}function oje(e,t){const a=e.style||{},r={};return ZW(r,a,e),Object.assign(r,lje(e,t)),r}function cje(e,t){const a={},r=oje(e,t);return e.drag&&e.dragListener!==!1&&(a.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(a.tabIndex=0),a.style=r,a}const dje={offset:"stroke-dashoffset",array:"stroke-dasharray"},uje={offset:"strokeDashoffset",array:"strokeDasharray"};function hje(e,t,a=1,r=0,n=!0){e.pathLength=1;const i=n?dje:uje;e[i.offset]=Ua.transform(-r);const l=Ua.transform(t),o=Ua.transform(a);e[i.array]=`${l} ${o}`}function eq(e,{attrX:t,attrY:a,attrScale:r,pathLength:n,pathSpacing:i=1,pathOffset:l=0,...o},c,d,u){if(Y8(e,o,d),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:p}=e;f.transform&&(p.transform=f.transform,delete f.transform),(p.transform||f.transformOrigin)&&(p.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),p.transform&&(p.transformBox=u?.transformBox??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),a!==void 0&&(f.y=a),r!==void 0&&(f.scale=r),n!==void 0&&hje(f,n,i,l,!1)}const tq=()=>({...X8(),attrs:{}}),aq=e=>typeof e=="string"&&e.toLowerCase()==="svg";function fje(e,t,a,r){const n=y.useMemo(()=>{const i=tq();return eq(i,t,aq(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};ZW(i,e.style,e),n.style={...i,...n.style}}return n}const mje=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function J8(e){return typeof e!="string"||e.includes("-")?!1:!!(mje.indexOf(e)>-1||/[A-Z]/u.test(e))}function pje(e,t,a,{latestValues:r},n,i=!1){const o=(J8(e)?fje:cje)(t,r,n,e),c=eje(t,typeof e=="string",i),d=e!==y.Fragment?{...c,...o,ref:a}:{},{children:u}=t,f=y.useMemo(()=>yl(u)?u.get():u,[u]);return y.createElement(e,{...d,children:f})}function OL(e){const t=[{},{}];return e?.values.forEach((a,r)=>{t[0][r]=a.get(),t[1][r]=a.getVelocity()}),t}function Q8(e,t,a,r){if(typeof t=="function"){const[n,i]=OL(r);t=t(a!==void 0?a:e.custom,n,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[n,i]=OL(r);t=t(a!==void 0?a:e.custom,n,i)}return t}function G2(e){return yl(e)?e.get():e}function xje({scrapeMotionValuesFromProps:e,createRenderState:t},a,r,n){return{latestValues:gje(a,r,n,e),renderState:t()}}function gje(e,t,a,r){const n={},i=r(e,{});for(const p in i)n[p]=G2(i[p]);let{initial:l,animate:o}=e;const c=fN(e),d=JW(e);t&&d&&!c&&e.inherit!==!1&&(l===void 0&&(l=t.initial),o===void 0&&(o=t.animate));let u=a?a.initial===!1:!1;u=u||l===!1;const f=u?o:l;if(f&&typeof f!="boolean"&&!hN(f)){const p=Array.isArray(f)?f:[f];for(let m=0;m<p.length;m++){const v=Q8(e,p[m]);if(v){const{transitionEnd:g,transition:b,...j}=v;for(const k in j){let S=j[k];if(Array.isArray(S)){const N=u?S.length-1:0;S=S[N]}S!==null&&(n[k]=S)}for(const k in g)n[k]=g[k]}}}return n}const sq=e=>(t,a)=>{const r=y.useContext(uN),n=y.useContext(dN),i=()=>xje(e,t,r,n);return a?i():N8(i)};function Z8(e,t,a){const{style:r}=e,n={};for(const i in r)(yl(r[i])||t.style&&yl(t.style[i])||QW(i,e)||a?.getValue(i)?.liveStyle!==void 0)&&(n[i]=r[i]);return n}const vje=sq({scrapeMotionValuesFromProps:Z8,createRenderState:X8});function rq(e,t,a){const r=Z8(e,t,a);for(const n in e)if(yl(e[n])||yl(t[n])){const i=Ux.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[i]=e[n]}return r}const bje=sq({scrapeMotionValuesFromProps:rq,createRenderState:tq}),yje=Symbol.for("motionComponentSymbol");function Gp(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function wje(e,t,a){return y.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),a&&(typeof a=="function"?a(r):Gp(a)&&(a.current=r))},[t])}const e_=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),jje="framerAppearId",nq="data-"+e_(jje),iq=y.createContext({});function Nje(e,t,a,r,n){const{visualElement:i}=y.useContext(uN),l=y.useContext(YW),o=y.useContext(dN),c=y.useContext(q8).reducedMotion,d=y.useRef(null);r=r||l.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:i,props:a,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,f=y.useContext(iq);u&&!u.projection&&n&&(u.type==="html"||u.type==="svg")&&kje(d.current,a,n,f);const p=y.useRef(!1);y.useInsertionEffect(()=>{u&&p.current&&u.update(a,o)});const m=a[nq],v=y.useRef(!!m&&!window.MotionHandoffIsComplete?.(m)&&window.MotionHasOptimisedAnimation?.(m));return sW(()=>{u&&(p.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),v.current&&u.animationState&&u.animationState.animateChanges())}),y.useEffect(()=>{u&&(!v.current&&u.animationState&&u.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(m)}),v.current=!1),u.enteringChildren=void 0)}),u}function kje(e,t,a,r){const{layoutId:n,layout:i,drag:l,dragConstraints:o,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=t;e.projection=new a(e.latestValues,t["data-framer-portal-id"]?void 0:lq(e.parent)),e.projection.setOptions({layoutId:n,layout:i,alwaysMeasureLayout:!!l||o&&Gp(o),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:c,layoutRoot:d})}function lq(e){if(e)return e.options.allowProjection!==!1?e.projection:lq(e.parent)}function o3(e,{forwardMotionProps:t=!1}={},a,r){a&&Jwe(a);const n=J8(e)?bje:vje;function i(o,c){let d;const u={...y.useContext(q8),...o,layoutId:Sje(o)},{isStatic:f}=u,p=aje(o),m=n(o,f);if(!f&&k8){Cje();const v=Aje(u);d=v.MeasureLayout,p.visualElement=Nje(e,m,u,r,v.ProjectionNode)}return s.jsxs(uN.Provider,{value:p,children:[d&&p.visualElement?s.jsx(d,{visualElement:p.visualElement,...u}):null,pje(e,o,wje(m,p.visualElement,c),m,f,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const l=y.forwardRef(i);return l[yje]=e,l}function Sje({layoutId:e}){const t=y.useContext(j8).id;return t&&e!==void 0?t+"-"+e:e}function Cje(e,t){y.useContext(YW).strict}function Aje(e){const{drag:t,layout:a}=gx;if(!t&&!a)return{};const r={...t,...a};return{MeasureLayout:t?.isEnabled(e)||a?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function _je(e,t){if(typeof Proxy>"u")return o3;const a=new Map,r=(i,l)=>o3(i,l,e,t),n=(i,l)=>r(i,l);return new Proxy(n,{get:(i,l)=>l==="create"?r:(a.has(l)||a.set(l,o3(l,void 0,e,t)),a.get(l))})}function oq({top:e,left:t,right:a,bottom:r}){return{x:{min:t,max:a},y:{min:e,max:r}}}function Eje({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Tje(e,t){if(!t)return e;const a=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:a.y,left:a.x,bottom:r.y,right:r.x}}function c3(e){return e===void 0||e===1}function TC({scale:e,scaleX:t,scaleY:a}){return!c3(e)||!c3(t)||!c3(a)}function R0(e){return TC(e)||cq(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function cq(e){return RL(e.x)||RL(e.y)}function RL(e){return e&&e!=="0%"}function Pw(e,t,a){const r=e-a,n=t*r;return a+n}function FL(e,t,a,r,n){return n!==void 0&&(e=Pw(e,n,r)),Pw(e,a,r)+t}function DC(e,t=0,a=1,r,n){e.min=FL(e.min,t,a,r,n),e.max=FL(e.max,t,a,r,n)}function dq(e,{x:t,y:a}){DC(e.x,t.translate,t.scale,t.originPoint),DC(e.y,a.translate,a.scale,a.originPoint)}const IL=.999999999999,BL=1.0000000000001;function Dje(e,t,a,r=!1){const n=a.length;if(!n)return;t.x=t.y=1;let i,l;for(let o=0;o<n;o++){i=a[o],l=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Yp(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,dq(e,l)),r&&R0(i.latestValues)&&Yp(e,i.latestValues))}t.x<BL&&t.x>IL&&(t.x=1),t.y<BL&&t.y>IL&&(t.y=1)}function Kp(e,t){e.min=e.min+t,e.max=e.max+t}function $L(e,t,a,r,n=.5){const i=Zr(e.min,e.max,n);DC(e,t,a,i,r)}function Yp(e,t){$L(e.x,t.x,t.scaleX,t.scale,t.originX),$L(e.y,t.y,t.scaleY,t.scale,t.originY)}function uq(e,t){return oq(Tje(e.getBoundingClientRect(),t))}function Pje(e,t,a){const r=uq(e,a),{scroll:n}=t;return n&&(Kp(r.x,n.offset.x),Kp(r.y,n.offset.y)),r}const UL=()=>({translate:0,scale:1,origin:0,originPoint:0}),Xp=()=>({x:UL(),y:UL()}),zL=()=>({min:0,max:0}),Dn=()=>({x:zL(),y:zL()}),PC={current:null},hq={current:!1};function Mje(){if(hq.current=!0,!!k8)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>PC.current=e.matches;e.addEventListener("change",t),t()}else PC.current=!1}const Lje=new WeakMap;function Oje(e,t,a){for(const r in t){const n=t[r],i=a[r];if(yl(n))e.addValue(r,n);else if(yl(i))e.addValue(r,xx(n,{owner:e}));else if(i!==n)if(e.hasValue(r)){const l=e.getValue(r);l.liveStyle===!0?l.jump(n):l.hasAnimated||l.set(n)}else{const l=e.getStaticValue(r);e.addValue(r,xx(l!==void 0?l:n,{owner:e}))}}for(const r in a)t[r]===void 0&&e.removeValue(r);return t}const HL=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Rje{scrapeMotionValuesFromProps(t,a,r){return{}}constructor({parent:t,props:a,presenceContext:r,reducedMotionConfig:n,blockInitialAnimation:i,visualState:l},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=U8,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=fo.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Ur.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=l;this.latestValues=c,this.baseTarget={...c},this.initialValues=a.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=a,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=n,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=fN(a),this.isVariantNode=JW(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(a,{},this);for(const p in f){const m=f[p];c[p]!==void 0&&yl(m)&&m.set(c[p])}}mount(t){this.current=t,Lje.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,r)=>this.bindToMotionValue(r,a)),hq.current||Mje(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:PC.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),$f(this.notifyUpdate),$f(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const a=this.features[t];a&&(a.unmount(),a.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,a){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=zx.has(t);r&&this.onBindTransform&&this.onBindTransform();const n=a.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Ur.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,a)),this.valueSubscriptions.set(t,()=>{n(),i&&i(),a.owner&&a.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in gx){const a=gx[t];if(!a)continue;const{isEnabled:r,Feature:n}=a;if(!this.features[t]&&n&&r(this.props)&&(this.features[t]=new n(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Dn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,a){this.latestValues[t]=a}update(t,a){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=a;for(let r=0;r<HL.length;r++){const n=HL[r];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const i="on"+n,l=t[i];l&&(this.propEventSubscriptions[n]=this.on(n,l))}this.prevMotionValues=Oje(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const a=this.getClosestVariantNode();if(a)return a.variantChildren&&a.variantChildren.add(t),()=>a.variantChildren.delete(t)}addValue(t,a){const r=this.values.get(t);a!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,a),this.values.set(t,a),this.latestValues[t]=a.get())}removeValue(t){this.values.delete(t);const a=this.valueSubscriptions.get(t);a&&(a(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,a){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&a!==void 0&&(r=xx(a===null?void 0:a,{owner:this}),this.addValue(t,r)),r}readValue(t,a){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(rW(r)||iW(r))?r=parseFloat(r):!Hwe(r)&&Uf.test(a)&&(r=UW(t,a)),this.setBaseTarget(t,yl(r)?r.get():r)),yl(r)?r.get():r}setBaseTarget(t,a){this.baseTarget[t]=a}getBaseTarget(t){const{initial:a}=this.props;let r;if(typeof a=="string"||typeof a=="object"){const i=Q8(this.props,a,this.presenceContext?.custom);i&&(r=i[t])}if(a&&r!==void 0)return r;const n=this.getBaseTargetFromProps(this.props,t);return n!==void 0&&!yl(n)?n:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,a){return this.events[t]||(this.events[t]=new E8),this.events[t].add(a)}notify(t,...a){this.events[t]&&this.events[t].notify(...a)}scheduleRenderMicrotask(){V8.render(this.render)}}class fq extends Rje{constructor(){super(...arguments),this.KeyframeResolver=Dwe}sortInstanceNodePosition(t,a){return t.compareDocumentPosition(a)&2?1:-1}getBaseTargetFromProps(t,a){return t.style?t.style[a]:void 0}removeValueFromRenderState(t,{vars:a,style:r}){delete a[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;yl(t)&&(this.childSubscription=t.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}}function mq(e,{style:t,vars:a},r,n){const i=e.style;let l;for(l in t)i[l]=t[l];n?.applyProjectionStyles(i,r);for(l in a)i.setProperty(l,a[l])}function Fje(e){return window.getComputedStyle(e)}class Ije extends fq{constructor(){super(...arguments),this.type="html",this.renderInstance=mq}readValueFromInstance(t,a){if(zx.has(a))return this.projection?.isProjecting?NC(a):X2e(t,a);{const r=Fje(t),n=(P8(a)?r.getPropertyValue(a):r[a])||0;return typeof n=="string"?n.trim():n}}measureInstanceViewportBox(t,{transformPagePoint:a}){return uq(t,a)}build(t,a,r){Y8(t,a,r.transformTemplate)}scrapeMotionValuesFromProps(t,a,r){return Z8(t,a,r)}}const pq=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Bje(e,t,a,r){mq(e,t,void 0,r);for(const n in t.attrs)e.setAttribute(pq.has(n)?n:e_(n),t.attrs[n])}class $je extends fq{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Dn}getBaseTargetFromProps(t,a){return t[a]}readValueFromInstance(t,a){if(zx.has(a)){const r=$W(a);return r&&r.default||0}return a=pq.has(a)?a:e_(a),t.getAttribute(a)}scrapeMotionValuesFromProps(t,a,r){return rq(t,a,r)}build(t,a,r){eq(t,a,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,a,r,n){Bje(t,a,r,n)}mount(t){this.isSVGTag=aq(t.tagName),super.mount(t)}}const Uje=(e,t)=>J8(e)?new $je(t):new Ije(t,{allowProjection:e!==y.Fragment});function sx(e,t,a){const r=e.getProps();return Q8(r,t,a!==void 0?a:r.custom,e)}const MC=e=>Array.isArray(e);function zje(e,t,a){e.hasValue(t)?e.getValue(t).set(a):e.addValue(t,xx(a))}function Hje(e){return MC(e)?e[e.length-1]||0:e}function Vje(e,t){const a=sx(e,t);let{transitionEnd:r={},transition:n={},...i}=a||{};i={...i,...r};for(const l in i){const o=Hje(i[l]);zje(e,l,o)}}function Wje(e){return!!(yl(e)&&e.add)}function LC(e,t){const a=e.getValue("willChange");if(Wje(a))return a.add(t);if(!a&&gh.WillChange){const r=new gh.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function xq(e){return e.props[nq]}const qje=e=>e!==null;function Gje(e,{repeat:t,repeatType:a="loop"},r){const n=e.filter(qje),i=t&&a!=="loop"&&t%2===1?0:n.length-1;return n[i]}const Kje={type:"spring",stiffness:500,damping:25,restSpeed:10},Yje=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Xje={type:"keyframes",duration:.8},Jje={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Qje=(e,{keyframes:t})=>t.length>2?Xje:zx.has(e)?e.startsWith("scale")?Yje(t[1]):Kje:Jje;function Zje({when:e,delay:t,delayChildren:a,staggerChildren:r,staggerDirection:n,repeat:i,repeatType:l,repeatDelay:o,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const t_=(e,t,a,r={},n,i)=>l=>{const o=z8(r,e)||{},c=o.delay||r.delay||0;let{elapsed:d=0}=r;d=d-mu(c);const u={keyframes:Array.isArray(a)?a:[null,a],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-d,onUpdate:p=>{t.set(p),o.onUpdate&&o.onUpdate(p)},onComplete:()=>{l(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:n};Zje(o)||Object.assign(u,Qje(e,u)),u.duration&&(u.duration=mu(u.duration)),u.repeatDelay&&(u.repeatDelay=mu(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(_C(u),u.delay===0&&(f=!0)),(gh.instantAnimations||gh.skipAnimations)&&(f=!0,_C(u),u.delay=0),u.allowFlatten=!o.type&&!o.ease,f&&!i&&t.get()!==void 0){const p=Gje(u.keyframes,o);if(p!==void 0){Ur.update(()=>{u.onUpdate(p),u.onComplete()});return}}return o.isSync?new $8(u):new bwe(u)};function eNe({protectedKeys:e,needsAnimating:t},a){const r=e.hasOwnProperty(a)&&t[a]!==!0;return t[a]=!1,r}function gq(e,t,{delay:a=0,transitionOverride:r,type:n}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:l,...o}=t;r&&(i=r);const c=[],d=n&&e.animationState&&e.animationState.getState()[n];for(const u in o){const f=e.getValue(u,e.latestValues[u]??null),p=o[u];if(p===void 0||d&&eNe(d,u))continue;const m={delay:a,...z8(i||{},u)},v=f.get();if(v!==void 0&&!f.isAnimating&&!Array.isArray(p)&&p===v&&!m.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const j=xq(e);if(j){const k=window.MotionHandoffAnimation(j,u,Ur);k!==null&&(m.startTime=k,g=!0)}}LC(e,u),f.start(t_(u,f,p,e.shouldReduceMotion&&FW.has(u)?{type:!1}:m,e,g));const b=f.animation;b&&c.push(b)}return l&&Promise.all(c).then(()=>{Ur.update(()=>{l&&Vje(e,l)})}),c}function vq(e,t,a,r=0,n=1){const i=Array.from(e).sort((d,u)=>d.sortNodePosition(u)).indexOf(t),l=e.size,o=(l-1)*r;return typeof a=="function"?a(i,l):n===1?i*r:o-i*r}function OC(e,t,a={}){const r=sx(e,t,a.type==="exit"?e.presenceContext?.custom:void 0);let{transition:n=e.getDefaultTransition()||{}}=r||{};a.transitionOverride&&(n=a.transitionOverride);const i=r?()=>Promise.all(gq(e,r,a)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:u,staggerDirection:f}=n;return tNe(e,t,c,d,u,f,a)}:()=>Promise.resolve(),{when:o}=n;if(o){const[c,d]=o==="beforeChildren"?[i,l]:[l,i];return c().then(()=>d())}else return Promise.all([i(),l(a.delay)])}function tNe(e,t,a=0,r=0,n=0,i=1,l){const o=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),o.push(OC(c,t,{...l,delay:a+(typeof r=="function"?0:r)+vq(e.variantChildren,c,r,n,i)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(o)}function aNe(e,t,a={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const n=t.map(i=>OC(e,i,a));r=Promise.all(n)}else if(typeof t=="string")r=OC(e,t,a);else{const n=typeof t=="function"?sx(e,t,a.custom):t;r=Promise.all(gq(e,n,a))}return r.then(()=>{e.notify("AnimationComplete",t)})}function bq(e,t){if(!Array.isArray(t))return!1;const a=t.length;if(a!==e.length)return!1;for(let r=0;r<a;r++)if(t[r]!==e[r])return!1;return!0}const sNe=K8.length;function yq(e){if(!e)return;if(!e.isControllingVariants){const a=e.parent?yq(e.parent)||{}:{};return e.props.initial!==void 0&&(a.initial=e.props.initial),a}const t={};for(let a=0;a<sNe;a++){const r=K8[a],n=e.props[r];(j1(n)||n===!1)&&(t[r]=n)}return t}const rNe=[...G8].reverse(),nNe=G8.length;function iNe(e){return t=>Promise.all(t.map(({animation:a,options:r})=>aNe(e,a,r)))}function lNe(e){let t=iNe(e),a=VL(),r=!0;const n=c=>(d,u)=>{const f=sx(e,u,c==="exit"?e.presenceContext?.custom:void 0);if(f){const{transition:p,transitionEnd:m,...v}=f;d={...d,...v,...m}}return d};function i(c){t=c(e)}function l(c){const{props:d}=e,u=yq(e.parent)||{},f=[],p=new Set;let m={},v=1/0;for(let b=0;b<nNe;b++){const j=rNe[b],k=a[j],S=d[j]!==void 0?d[j]:u[j],N=j1(S),A=j===c?k.isActive:null;A===!1&&(v=b);let _=S===u[j]&&S!==d[j]&&N;if(_&&r&&e.manuallyAnimateOnMount&&(_=!1),k.protectedKeys={...m},!k.isActive&&A===null||!S&&!k.prevProp||hN(S)||typeof S=="boolean")continue;const E=oNe(k.prevProp,S);let D=E||j===c&&k.isActive&&!_&&N||b>v&&N,R=!1;const I=Array.isArray(S)?S:[S];let M=I.reduce(n(j),{});A===!1&&(M={});const{prevResolvedValues:U={}}=k,P={...U,...M},F=J=>{D=!0,p.has(J)&&(R=!0,p.delete(J)),k.needsAnimating[J]=!0;const Q=e.getValue(J);Q&&(Q.liveStyle=!1)};for(const J in P){const Q=M[J],z=U[J];if(m.hasOwnProperty(J))continue;let X=!1;MC(Q)&&MC(z)?X=!bq(Q,z):X=Q!==z,X?Q!=null?F(J):p.add(J):Q!==void 0&&p.has(J)?F(J):k.protectedKeys[J]=!0}k.prevProp=S,k.prevResolvedValues=M,k.isActive&&(m={...m,...M}),r&&e.blockInitialAnimation&&(D=!1);const K=_&&E;D&&(!K||R)&&f.push(...I.map(J=>{const Q={type:j};if(typeof J=="string"&&r&&!K&&e.manuallyAnimateOnMount&&e.parent){const{parent:z}=e,X=sx(z,J);if(z.enteringChildren&&X){const{delayChildren:le}=X.transition||{};Q.delay=vq(z.enteringChildren,e,le)}}return{animation:J,options:Q}}))}if(p.size){const b={};if(typeof d.initial!="boolean"){const j=sx(e,Array.isArray(d.initial)?d.initial[0]:d.initial);j&&j.transition&&(b.transition=j.transition)}p.forEach(j=>{const k=e.getBaseTarget(j),S=e.getValue(j);S&&(S.liveStyle=!0),b[j]=k??null}),f.push({animation:b})}let g=!!f.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(g=!1),r=!1,g?t(f):Promise.resolve()}function o(c,d){if(a[c].isActive===d)return Promise.resolve();e.variantChildren?.forEach(f=>f.animationState?.setActive(c,d)),a[c].isActive=d;const u=l(c);for(const f in a)a[f].protectedKeys={};return u}return{animateChanges:l,setActive:o,setAnimateFunction:i,getState:()=>a,reset:()=>{a=VL()}}}function oNe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!bq(t,e):!1}function P0(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function VL(){return{animate:P0(!0),whileInView:P0(),whileHover:P0(),whileTap:P0(),whileDrag:P0(),whileFocus:P0(),exit:P0()}}class Qf{constructor(t){this.isMounted=!1,this.node=t}update(){}}class cNe extends Qf{constructor(t){super(t),t.animationState||(t.animationState=lNe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();hN(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:a}=this.node.prevProps||{};t!==a&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let dNe=0;class uNe extends Qf{constructor(){super(...arguments),this.id=dNe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:a}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const n=this.node.animationState.setActive("exit",!t);a&&!t&&n.then(()=>{a(this.id)})}mount(){const{register:t,onExitComplete:a}=this.node.presenceContext||{};a&&a(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const hNe={animation:{Feature:cNe},exit:{Feature:uNe}};function k1(e,t,a,r={passive:!0}){return e.addEventListener(t,a,r),()=>e.removeEventListener(t,a)}function db(e){return{point:{x:e.pageX,y:e.pageY}}}const fNe=e=>t=>W8(t)&&e(t,db(t));function Fv(e,t,a,r){return k1(e,t,fNe(a),r)}const wq=1e-4,mNe=1-wq,pNe=1+wq,jq=.01,xNe=0-jq,gNe=0+jq;function Ul(e){return e.max-e.min}function vNe(e,t,a){return Math.abs(e-t)<=a}function WL(e,t,a,r=.5){e.origin=r,e.originPoint=Zr(t.min,t.max,e.origin),e.scale=Ul(a)/Ul(t),e.translate=Zr(a.min,a.max,e.origin)-e.originPoint,(e.scale>=mNe&&e.scale<=pNe||isNaN(e.scale))&&(e.scale=1),(e.translate>=xNe&&e.translate<=gNe||isNaN(e.translate))&&(e.translate=0)}function Iv(e,t,a,r){WL(e.x,t.x,a.x,r?r.originX:void 0),WL(e.y,t.y,a.y,r?r.originY:void 0)}function qL(e,t,a){e.min=a.min+t.min,e.max=e.min+Ul(t)}function bNe(e,t,a){qL(e.x,t.x,a.x),qL(e.y,t.y,a.y)}function GL(e,t,a){e.min=t.min-a.min,e.max=e.min+Ul(t)}function Bv(e,t,a){GL(e.x,t.x,a.x),GL(e.y,t.y,a.y)}function Nc(e){return[e("x"),e("y")]}const Nq=({current:e})=>e?e.ownerDocument.defaultView:null,KL=(e,t)=>Math.abs(e-t);function yNe(e,t){const a=KL(e.x,t.x),r=KL(e.y,t.y);return Math.sqrt(a**2+r**2)}class kq{constructor(t,a,{transformPagePoint:r,contextWindow:n=window,dragSnapToOrigin:i=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=u3(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,v=yNe(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!v)return;const{point:g}=p,{timestamp:b}=Gi;this.history.push({...g,timestamp:b});const{onStart:j,onMove:k}=this.handlers;m||(j&&j(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,p)},this.handlePointerMove=(p,m)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=d3(m,this.transformPagePoint),Ur.update(this.updatePoint,!0)},this.handlePointerUp=(p,m)=>{this.end();const{onEnd:v,onSessionEnd:g,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=u3(p.type==="pointercancel"?this.lastMoveEventInfo:d3(m,this.transformPagePoint),this.history);this.startEvent&&v&&v(p,j),g&&g(p,j)},!W8(t))return;this.dragSnapToOrigin=i,this.handlers=a,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=n||window;const o=db(t),c=d3(o,this.transformPagePoint),{point:d}=c,{timestamp:u}=Gi;this.history=[{...d,timestamp:u}];const{onSessionStart:f}=a;f&&f(t,u3(c,this.history)),this.removeListeners=lb(Fv(this.contextWindow,"pointermove",this.handlePointerMove),Fv(this.contextWindow,"pointerup",this.handlePointerUp),Fv(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),$f(this.updatePoint)}}function d3(e,t){return t?{point:t(e.point)}:e}function YL(e,t){return{x:e.x-t.x,y:e.y-t.y}}function u3({point:e},t){return{point:e,delta:YL(e,Sq(t)),offset:YL(e,wNe(t)),velocity:jNe(t,.1)}}function wNe(e){return e[0]}function Sq(e){return e[e.length-1]}function jNe(e,t){if(e.length<2)return{x:0,y:0};let a=e.length-1,r=null;const n=Sq(e);for(;a>=0&&(r=e[a],!(n.timestamp-r.timestamp>mu(t)));)a--;if(!r)return{x:0,y:0};const i=_c(n.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const l={x:(n.x-r.x)/i,y:(n.y-r.y)/i};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function NNe(e,{min:t,max:a},r){return t!==void 0&&e<t?e=r?Zr(t,e,r.min):Math.max(e,t):a!==void 0&&e>a&&(e=r?Zr(a,e,r.max):Math.min(e,a)),e}function XL(e,t,a){return{min:t!==void 0?e.min+t:void 0,max:a!==void 0?e.max+a-(e.max-e.min):void 0}}function kNe(e,{top:t,left:a,bottom:r,right:n}){return{x:XL(e.x,a,n),y:XL(e.y,t,r)}}function JL(e,t){let a=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([a,r]=[r,a]),{min:a,max:r}}function SNe(e,t){return{x:JL(e.x,t.x),y:JL(e.y,t.y)}}function CNe(e,t){let a=.5;const r=Ul(e),n=Ul(t);return n>r?a=b1(t.min,t.max-r,e.min):r>n&&(a=b1(e.min,e.max-n,t.min)),xh(0,1,a)}function ANe(e,t){const a={};return t.min!==void 0&&(a.min=t.min-e.min),t.max!==void 0&&(a.max=t.max-e.min),a}const RC=.35;function _Ne(e=RC){return e===!1?e=0:e===!0&&(e=RC),{x:QL(e,"left","right"),y:QL(e,"top","bottom")}}function QL(e,t,a){return{min:ZL(e,t),max:ZL(e,a)}}function ZL(e,t){return typeof e=="number"?e:e[t]||0}const ENe=new WeakMap;class TNe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Dn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:a=!1,distanceThreshold:r}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),a&&this.snapToCursor(db(f).point)},l=(f,p)=>{const{drag:m,dragPropagation:v,onDragStart:g}=this.getProps();if(m&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Owe(m),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Nc(j=>{let k=this.getAxisMotionValue(j).get()||0;if(pu.test(k)){const{projection:S}=this.visualElement;if(S&&S.layout){const N=S.layout.layoutBox[j];N&&(k=Ul(N)*(parseFloat(k)/100))}}this.originPoint[j]=k}),g&&Ur.postRender(()=>g(f,p)),LC(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(f,p)=>{this.latestPointerEvent=f,this.latestPanInfo=p;const{dragPropagation:m,dragDirectionLock:v,onDirectionLock:g,onDrag:b}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:j}=p;if(v&&this.currentDirection===null){this.currentDirection=DNe(j),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",p.point,j),this.updateAxis("y",p.point,j),this.visualElement.render(),b&&b(f,p)},c=(f,p)=>{this.latestPointerEvent=f,this.latestPanInfo=p,this.stop(f,p),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Nc(f=>this.getAnimationState(f)==="paused"&&this.getAxisMotionValue(f).animation?.play()),{dragSnapToOrigin:u}=this.getProps();this.panSession=new kq(t,{onSessionStart:i,onStart:l,onMove:o,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:r,contextWindow:Nq(this.visualElement)})}stop(t,a){const r=t||this.latestPointerEvent,n=a||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!n||!r)return;const{velocity:l}=n;this.startAnimation(l);const{onDragEnd:o}=this.getProps();o&&Ur.postRender(()=>o(r,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:a}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),a&&a.setActive("whileDrag",!1)}updateAxis(t,a,r){const{drag:n}=this.getProps();if(!r||!l2(t,n,this.currentDirection))return;const i=this.getAxisMotionValue(t);let l=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(l=NNe(l,this.constraints[t],this.elastic[t])),i.set(l)}resolveConstraints(){const{dragConstraints:t,dragElastic:a}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,n=this.constraints;t&&Gp(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=kNe(r.layoutBox,t):this.constraints=!1,this.elastic=_Ne(a),n!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Nc(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=ANe(r.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:a}=this.getProps();if(!t||!Gp(t))return!1;const r=t.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const i=Pje(r,n.root,this.visualElement.getTransformPagePoint());let l=SNe(n.layout.layoutBox,i);if(a){const o=a(Eje(l));this.hasMutatedConstraints=!!o,o&&(l=oq(o))}return l}startAnimation(t){const{drag:a,dragMomentum:r,dragElastic:n,dragTransition:i,dragSnapToOrigin:l,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},d=Nc(u=>{if(!l2(u,a,this.currentDirection))return;let f=c&&c[u]||{};l&&(f={min:0,max:0});const p=n?200:1e6,m=n?40:1e7,v={type:"inertia",velocity:r?t[u]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(u,v)});return Promise.all(d).then(o)}startAxisValueAnimation(t,a){const r=this.getAxisMotionValue(t);return LC(this.visualElement,t),r.start(t_(t,r,0,a,this.visualElement,!1))}stopAnimation(){Nc(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Nc(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const a=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),n=r[a];return n||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Nc(a=>{const{drag:r}=this.getProps();if(!l2(a,r,this.currentDirection))return;const{projection:n}=this.visualElement,i=this.getAxisMotionValue(a);if(n&&n.layout){const{min:l,max:o}=n.layout.layoutBox[a];i.set(t[a]-Zr(l,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:a}=this.getProps(),{projection:r}=this.visualElement;if(!Gp(a)||!r||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};Nc(l=>{const o=this.getAxisMotionValue(l);if(o&&this.constraints!==!1){const c=o.get();n[l]=CNe({min:c,max:c},this.constraints[l])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Nc(l=>{if(!l2(l,t,null))return;const o=this.getAxisMotionValue(l),{min:c,max:d}=this.constraints[l];o.set(Zr(c,d,n[l]))})}addListeners(){if(!this.visualElement.current)return;ENe.set(this.visualElement,this);const t=this.visualElement.current,a=Fv(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Gp(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,i=n.addEventListener("measure",r);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),Ur.read(r);const l=k1(window,"resize",()=>this.scalePositionWithinConstraints()),o=n.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Nc(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=c[u].translate,f.set(f.get()+c[u].translate))}),this.visualElement.render())}));return()=>{l(),a(),i(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:a=!1,dragDirectionLock:r=!1,dragPropagation:n=!1,dragConstraints:i=!1,dragElastic:l=RC,dragMomentum:o=!0}=t;return{...t,drag:a,dragDirectionLock:r,dragPropagation:n,dragConstraints:i,dragElastic:l,dragMomentum:o}}}function l2(e,t,a){return(t===!0||t===e)&&(a===null||a===e)}function DNe(e,t=10){let a=null;return Math.abs(e.y)>t?a="y":Math.abs(e.x)>t&&(a="x"),a}class PNe extends Qf{constructor(t){super(t),this.removeGroupControls=Pc,this.removeListeners=Pc,this.controls=new TNe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Pc}unmount(){this.removeGroupControls(),this.removeListeners()}}const eO=e=>(t,a)=>{e&&Ur.postRender(()=>e(t,a))};class MNe extends Qf{constructor(){super(...arguments),this.removePointerDownListener=Pc}onPointerDown(t){this.session=new kq(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Nq(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:a,onPan:r,onPanEnd:n}=this.node.getProps();return{onSessionStart:eO(t),onStart:eO(a),onMove:r,onEnd:(i,l)=>{delete this.session,n&&Ur.postRender(()=>n(i,l))}}}mount(){this.removePointerDownListener=Fv(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const K2={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function tO(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Xg={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ua.test(e))e=parseFloat(e);else return e;const a=tO(e,t.target.x),r=tO(e,t.target.y);return`${a}% ${r}%`}},LNe={correct:(e,{treeScale:t,projectionDelta:a})=>{const r=e,n=Uf.parse(e);if(n.length>5)return r;const i=Uf.createTransformer(e),l=typeof n[0]!="number"?1:0,o=a.x.scale*t.x,c=a.y.scale*t.y;n[0+l]/=o,n[1+l]/=c;const d=Zr(o,c,.5);return typeof n[2+l]=="number"&&(n[2+l]/=d),typeof n[3+l]=="number"&&(n[3+l]/=d),i(n)}};let h3=!1;class ONe extends y.Component{componentDidMount(){const{visualElement:t,layoutGroup:a,switchLayoutGroup:r,layoutId:n}=this.props,{projection:i}=t;sje(RNe),i&&(a.group&&a.group.add(i),r&&r.register&&n&&r.register(i),h3&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),K2.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:a,visualElement:r,drag:n,isPresent:i}=this.props,{projection:l}=r;return l&&(l.isPresent=i,h3=!0,n||t.layoutDependency!==a||a===void 0||t.isPresent!==i?l.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?l.promote():l.relegate()||Ur.postRender(()=>{const o=l.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),V8.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:a,switchLayoutGroup:r}=this.props,{projection:n}=t;h3=!0,n&&(n.scheduleCheckAfterUnmount(),a&&a.group&&a.group.remove(n),r&&r.deregister&&r.deregister(n))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Cq(e){const[t,a]=KW(),r=y.useContext(j8);return s.jsx(ONe,{...e,layoutGroup:r,switchLayoutGroup:y.useContext(iq),isPresent:t,safeToRemove:a})}const RNe={borderRadius:{...Xg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Xg,borderTopRightRadius:Xg,borderBottomLeftRadius:Xg,borderBottomRightRadius:Xg,boxShadow:LNe};function FNe(e,t,a){const r=yl(e)?e:xx(e);return r.start(t_("",r,t,a)),r.animation}const INe=(e,t)=>e.depth-t.depth;class BNe{constructor(){this.children=[],this.isDirty=!1}add(t){S8(this.children,t),this.isDirty=!0}remove(t){C8(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(INe),this.isDirty=!1,this.children.forEach(t)}}function $Ne(e,t){const a=fo.now(),r=({timestamp:n})=>{const i=n-a;i>=t&&($f(r),e(i-t))};return Ur.setup(r,!0),()=>$f(r)}const Aq=["TopLeft","TopRight","BottomLeft","BottomRight"],UNe=Aq.length,aO=e=>typeof e=="string"?parseFloat(e):e,sO=e=>typeof e=="number"||Ua.test(e);function zNe(e,t,a,r,n,i){n?(e.opacity=Zr(0,a.opacity??1,HNe(r)),e.opacityExit=Zr(t.opacity??1,0,VNe(r))):i&&(e.opacity=Zr(t.opacity??1,a.opacity??1,r));for(let l=0;l<UNe;l++){const o=`border${Aq[l]}Radius`;let c=rO(t,o),d=rO(a,o);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||sO(c)===sO(d)?(e[o]=Math.max(Zr(aO(c),aO(d),r),0),(pu.test(d)||pu.test(c))&&(e[o]+="%")):e[o]=d}(t.rotate||a.rotate)&&(e.rotate=Zr(t.rotate||0,a.rotate||0,r))}function rO(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const HNe=_q(0,.5,mW),VNe=_q(.5,.95,Pc);function _q(e,t,a){return r=>r<e?0:r>t?1:a(b1(e,t,r))}function nO(e,t){e.min=t.min,e.max=t.max}function xc(e,t){nO(e.x,t.x),nO(e.y,t.y)}function iO(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function lO(e,t,a,r,n){return e-=t,e=Pw(e,1/a,r),n!==void 0&&(e=Pw(e,1/n,r)),e}function WNe(e,t=0,a=1,r=.5,n,i=e,l=e){if(pu.test(t)&&(t=parseFloat(t),t=Zr(l.min,l.max,t/100)-l.min),typeof t!="number")return;let o=Zr(i.min,i.max,r);e===i&&(o-=t),e.min=lO(e.min,t,a,o,n),e.max=lO(e.max,t,a,o,n)}function oO(e,t,[a,r,n],i,l){WNe(e,t[a],t[r],t[n],t.scale,i,l)}const qNe=["x","scaleX","originX"],GNe=["y","scaleY","originY"];function cO(e,t,a,r){oO(e.x,t,qNe,a?a.x:void 0,r?r.x:void 0),oO(e.y,t,GNe,a?a.y:void 0,r?r.y:void 0)}function dO(e){return e.translate===0&&e.scale===1}function Eq(e){return dO(e.x)&&dO(e.y)}function uO(e,t){return e.min===t.min&&e.max===t.max}function KNe(e,t){return uO(e.x,t.x)&&uO(e.y,t.y)}function hO(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Tq(e,t){return hO(e.x,t.x)&&hO(e.y,t.y)}function fO(e){return Ul(e.x)/Ul(e.y)}function mO(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class YNe{constructor(){this.members=[]}add(t){S8(this.members,t),t.scheduleRender()}remove(t){if(C8(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(t){const a=this.members.findIndex(n=>t===n);if(a===0)return!1;let r;for(let n=a;n>=0;n--){const i=this.members[n];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,a){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,a&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:n}=t.options;n===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:a,resumingFrom:r}=t;a.onExitComplete&&a.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function XNe(e,t,a){let r="";const n=e.x.translate/t.x,i=e.y.translate/t.y,l=a?.z||0;if((n||i||l)&&(r=`translate3d(${n}px, ${i}px, ${l}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),a){const{transformPerspective:d,rotate:u,rotateX:f,rotateY:p,skewX:m,skewY:v}=a;d&&(r=`perspective(${d}px) ${r}`),u&&(r+=`rotate(${u}deg) `),f&&(r+=`rotateX(${f}deg) `),p&&(r+=`rotateY(${p}deg) `),m&&(r+=`skewX(${m}deg) `),v&&(r+=`skewY(${v}deg) `)}const o=e.x.scale*t.x,c=e.y.scale*t.y;return(o!==1||c!==1)&&(r+=`scale(${o}, ${c})`),r||"none"}const f3=["","X","Y","Z"],JNe=1e3;let QNe=0;function m3(e,t,a,r){const{latestValues:n}=t;n[e]&&(a[e]=n[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Dq(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const a=xq(t);if(window.MotionHasOptimisedAnimation(a,"transform")){const{layout:n,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(a,"transform",Ur,!(n||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Dq(r)}function Pq({attachResizeListener:e,defaultParent:t,measureScroll:a,checkIsScrollRoot:r,resetTransform:n}){return class{constructor(l={},o=t?.()){this.id=QNe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(t4e),this.nodes.forEach(n4e),this.nodes.forEach(i4e),this.nodes.forEach(a4e)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new BNe)}addEventListener(l,o){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new E8),this.eventHandlers.get(l).add(o)}notifyListeners(l,...o){const c=this.eventHandlers.get(l);c&&c.notify(...o)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=GW(l)&&!Uwe(l),this.instance=l;const{layoutId:o,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||o)&&(this.isLayoutDirty=!0),e){let u,f=0;const p=()=>this.root.updateBlockedByResize=!1;Ur.read(()=>{f=window.innerWidth}),e(l,()=>{const m=window.innerWidth;m!==f&&(f=m,this.root.updateBlockedByResize=!0,u&&u(),u=$Ne(p,250),K2.hasAnimatedSinceResize&&(K2.hasAnimatedSinceResize=!1,this.nodes.forEach(gO)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&d&&(o||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||u4e,{onLayoutAnimationStart:g,onLayoutAnimationComplete:b}=d.getProps(),j=!this.targetLayout||!Tq(this.targetLayout,m),k=!f&&p;if(this.options.layoutRoot||this.resumeFrom||k||f&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const S={...z8(v,"layout"),onPlay:g,onComplete:b};(d.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S),this.setAnimationOrigin(u,k)}else f||gO(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),$f(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(l4e),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Dq(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(pO);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(xO);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(r4e),this.nodes.forEach(ZNe),this.nodes.forEach(e4e)):this.nodes.forEach(xO),this.clearAllSnapshots();const o=fo.now();Gi.delta=xh(0,1e3/60,o-Gi.timestamp),Gi.timestamp=o,Gi.isProcessing=!0,a3.update.process(Gi),a3.preRender.process(Gi),a3.render.process(Gi),Gi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,V8.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(s4e),this.sharedNodes.forEach(o4e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ur.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ur.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ul(this.snapshot.measuredBox.x)&&!Ul(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Dn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(o=!1),o&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:c,offset:a(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!n)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!Eq(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;l&&this.instance&&(o||R0(this.latestValues)||u)&&(n(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return l&&(c=this.removeTransform(c)),h4e(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Dn();const o=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(f4e))){const{scroll:d}=this.root;d&&(Kp(o.x,d.offset.x),Kp(o.y,d.offset.y))}return o}removeElementScroll(l){const o=Dn();if(xc(o,l),this.scroll?.wasRoot)return o;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:u,options:f}=d;d!==this.root&&u&&f.layoutScroll&&(u.wasRoot&&xc(o,l),Kp(o.x,u.offset.x),Kp(o.y,u.offset.y))}return o}applyTransform(l,o=!1){const c=Dn();xc(c,l);for(let d=0;d<this.path.length;d++){const u=this.path[d];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Yp(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),R0(u.latestValues)&&Yp(c,u.latestValues)}return R0(this.latestValues)&&Yp(c,this.latestValues),c}removeTransform(l){const o=Dn();xc(o,l);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!R0(d.latestValues))continue;TC(d.latestValues)&&d.updateSnapshot();const u=Dn(),f=d.measurePageBox();xc(u,f),cO(o,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return R0(this.latestValues)&&cO(o,this.latestValues),o}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Gi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==o;if(!(l||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!(!this.layout||!(u||f))){if(this.resolvedRelativeTargetAt=Gi.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dn(),this.relativeTargetOrigin=Dn(),Bv(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),xc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Dn(),this.targetWithTransforms=Dn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),bNe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):xc(this.target,this.layout.layoutBox),dq(this.target,this.targetDelta)):xc(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dn(),this.relativeTargetOrigin=Dn(),Bv(this.relativeTargetOrigin,this.target,p.target),xc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||TC(this.parent.latestValues)||cq(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),o=!!this.resumingFrom||this!==l;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Gi.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;xc(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;Dje(this.layoutCorrected,this.treeScale,this.path,o),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Dn());const{target:m}=l;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(iO(this.prevProjectionDelta.x,this.projectionDelta.x),iO(this.prevProjectionDelta.y,this.projectionDelta.y)),Iv(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!mO(this.projectionDelta.x,this.prevProjectionDelta.x)||!mO(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Xp(),this.projectionDelta=Xp(),this.projectionDeltaWithTransform=Xp()}setAnimationOrigin(l,o=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},f=Xp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const p=Dn(),m=c?c.source:void 0,v=this.layout?this.layout.source:void 0,g=m!==v,b=this.getStack(),j=!b||b.members.length<=1,k=!!(g&&!j&&this.options.crossfade===!0&&!this.path.some(d4e));this.animationProgress=0;let S;this.mixTargetDelta=N=>{const A=N/1e3;vO(f.x,l.x,A),vO(f.y,l.y,A),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Bv(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),c4e(this.relativeTarget,this.relativeTargetOrigin,p,A),S&&KNe(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Dn()),xc(S,this.relativeTarget)),g&&(this.animationValues=u,zNe(u,d,this.latestValues,A,k,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&($f(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ur.update(()=>{K2.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=xx(0)),this.currentAnimation=FNe(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:o=>{this.mixTargetDelta(o),l.onUpdate&&l.onUpdate(o)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(JNe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:o,target:c,layout:d,latestValues:u}=l;if(!(!o||!c||!d)){if(this!==l&&this.layout&&d&&Mq(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Dn();const f=Ul(this.layout.layoutBox.x);c.x.min=l.target.x.min,c.x.max=c.x.min+f;const p=Ul(this.layout.layoutBox.y);c.y.min=l.target.y.min,c.y.max=c.y.min+p}xc(o,c),Yp(o,u),Iv(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(l,o){this.sharedNodes.has(l)||this.sharedNodes.set(l,new YNe),this.sharedNodes.get(l).add(o);const d=o.options.initialPromotionConfig;o.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(o):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:o,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),l&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let o=!1;const{latestValues:c}=l;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const d={};c.z&&m3("z",l,d,this.animationValues);for(let u=0;u<f3.length;u++)m3(`rotate${f3[u]}`,l,d,this.animationValues),m3(`skew${f3[u]}`,l,d,this.animationValues);l.render();for(const u in d)l.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);l.scheduleRender()}applyProjectionStyles(l,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=G2(o?.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=G2(o?.pointerEvents)||""),this.hasProjected&&!R0(this.latestValues)&&(l.transform=c?c({},""):"none",this.hasProjected=!1);return}l.visibility="";const u=d.animationValues||d.latestValues;this.applyTransformsToTarget();let f=XNe(this.projectionDeltaWithTransform,this.treeScale,u);c&&(f=c(u,f)),l.transform=f;const{x:p,y:m}=this.projectionDelta;l.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,d.animationValues?l.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:l.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const v in N1){if(u[v]===void 0)continue;const{correct:g,applyTo:b,isCSSVariable:j}=N1[v],k=f==="none"?u[v]:g(u[v],d);if(b){const S=b.length;for(let N=0;N<S;N++)l[b[N]]=k}else j?this.options.visualElement.renderState.vars[v]=k:l[v]=k}this.options.layoutId&&(l.pointerEvents=d===this?G2(o?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(pO),this.root.sharedNodes.clear()}}}function ZNe(e){e.updateLayout()}function e4e(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:r}=e.layout,{animationType:n}=e.options,i=t.source!==e.layout.source;n==="size"?Nc(u=>{const f=i?t.measuredBox[u]:t.layoutBox[u],p=Ul(f);f.min=a[u].min,f.max=f.min+p}):Mq(n,t.layoutBox,a)&&Nc(u=>{const f=i?t.measuredBox[u]:t.layoutBox[u],p=Ul(a[u]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[u].max=e.relativeTarget[u].min+p)});const l=Xp();Iv(l,a,t.layoutBox);const o=Xp();i?Iv(o,e.applyTransform(r,!0),t.measuredBox):Iv(o,a,t.layoutBox);const c=!Eq(l);let d=!1;if(!e.resumeFrom){const u=e.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:f,layout:p}=u;if(f&&p){const m=Dn();Bv(m,t.layoutBox,f.layoutBox);const v=Dn();Bv(v,a,p.layoutBox),Tq(m,v)||(d=!0),u.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=m,e.relativeParent=u)}}}e.notifyListeners("didUpdate",{layout:a,snapshot:t,delta:o,layoutDelta:l,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:a}=e.options;a&&a()}e.options.transition=void 0}function t4e(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function a4e(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function s4e(e){e.clearSnapshot()}function pO(e){e.clearMeasurements()}function xO(e){e.isLayoutDirty=!1}function r4e(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function gO(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function n4e(e){e.resolveTargetDelta()}function i4e(e){e.calcProjection()}function l4e(e){e.resetSkewAndRotation()}function o4e(e){e.removeLeadSnapshot()}function vO(e,t,a){e.translate=Zr(t.translate,0,a),e.scale=Zr(t.scale,1,a),e.origin=t.origin,e.originPoint=t.originPoint}function bO(e,t,a,r){e.min=Zr(t.min,a.min,r),e.max=Zr(t.max,a.max,r)}function c4e(e,t,a,r){bO(e.x,t.x,a.x,r),bO(e.y,t.y,a.y,r)}function d4e(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const u4e={duration:.45,ease:[.4,0,.1,1]},yO=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),wO=yO("applewebkit/")&&!yO("chrome/")?Math.round:Pc;function jO(e){e.min=wO(e.min),e.max=wO(e.max)}function h4e(e){jO(e.x),jO(e.y)}function Mq(e,t,a){return e==="position"||e==="preserve-aspect"&&!vNe(fO(t),fO(a),.2)}function f4e(e){return e!==e.root&&e.scroll?.wasRoot}const m4e=Pq({attachResizeListener:(e,t)=>k1(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),p3={current:void 0},Lq=Pq({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!p3.current){const e=new m4e({});e.mount(window),e.setOptions({layoutScroll:!0}),p3.current=e}return p3.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),p4e={pan:{Feature:MNe},drag:{Feature:PNe,ProjectionNode:Lq,MeasureLayout:Cq}};function NO(e,t,a){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",a==="Start");const n="onHover"+a,i=r[n];i&&Ur.postRender(()=>i(t,db(t)))}class x4e extends Qf{mount(){const{current:t}=this.node;t&&(this.unmount=Rwe(t,(a,r)=>(NO(this.node,r,"Start"),n=>NO(this.node,n,"End"))))}unmount(){}}class g4e extends Qf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=lb(k1(this.node.current,"focus",()=>this.onFocus()),k1(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function kO(e,t,a){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",a==="Start");const n="onTap"+(a==="End"?"":a),i=r[n];i&&Ur.postRender(()=>i(t,db(t)))}class v4e extends Qf{mount(){const{current:t}=this.node;t&&(this.unmount=$we(t,(a,r)=>(kO(this.node,r,"Start"),(n,{success:i})=>kO(this.node,n,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const FC=new WeakMap,x3=new WeakMap,b4e=e=>{const t=FC.get(e.target);t&&t(e)},y4e=e=>{e.forEach(b4e)};function w4e({root:e,...t}){const a=e||document;x3.has(a)||x3.set(a,{});const r=x3.get(a),n=JSON.stringify(t);return r[n]||(r[n]=new IntersectionObserver(y4e,{root:e,...t})),r[n]}function j4e(e,t,a){const r=w4e(t);return FC.set(e,a),r.observe(e),()=>{FC.delete(e),r.unobserve(e)}}const N4e={some:0,all:1};class k4e extends Qf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:a,margin:r,amount:n="some",once:i}=t,l={root:a?a.current:void 0,rootMargin:r,threshold:typeof n=="number"?n:N4e[n]},o=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),p=d?u:f;p&&p(c)};return j4e(this.node.current,l,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:a}=this.node;["amount","margin","root"].some(S4e(t,a))&&this.startObserver()}unmount(){}}function S4e({viewport:e={}},{viewport:t={}}={}){return a=>e[a]!==t[a]}const C4e={inView:{Feature:k4e},tap:{Feature:v4e},focus:{Feature:g4e},hover:{Feature:x4e}},A4e={layout:{ProjectionNode:Lq,MeasureLayout:Cq}},_4e={...hNe,...C4e,...p4e,...A4e},uh=_je(_4e,Uje);function E4e(){const{t:e}=St(),[t,a]=y.useState(!1),[r,n]=y.useState([]),[i,l]=y.useState(""),[o,c]=y.useState("this_month");y.useEffect(()=>{(async()=>{try{a(!0);const A=await Sa.get("/api/tickets",{params:{limit:500}}),_=Array.isArray(A.data?.items)?A.data.items:Array.isArray(A.data)?A.data:[];n(_)}catch(A){console.warn("support_dashboard_load_failed",A),l(e("Failed to load tickets"))}finally{a(!1)}})()},[e]);const d=y.useMemo(()=>{const N=new Date,A=new Date(N);A.setDate(N.getDate()-N.getDay());const _=new Date(N.getFullYear(),N.getMonth(),1),E=new Date(N.getFullYear(),N.getMonth()-1,1),D=new Date(N.getFullYear(),N.getMonth(),0),R=I=>{const M=new Date(I);return o==="this_week"?M>=A:o==="this_month"?M>=_:o==="last_month"?M>=E&&M<=D:!0};return r.filter(I=>I.createdAt&&R(I.createdAt))},[r,o]),u=y.useMemo(()=>{const N=new Date,A=new Date(N);A.setDate(N.getDate()-N.getDay());const _=new Date(N.getFullYear(),N.getMonth()-1,1),E=new Date(N.getFullYear(),N.getMonth(),0);let D,R;if(o==="this_week")R=A,D=new Date(A),D.setDate(D.getDate()-7);else if(o==="this_month")D=_,R=E;else if(o==="last_month"){const I=new Date(N.getFullYear(),N.getMonth()-2,1),M=new Date(N.getFullYear(),N.getMonth()-1,0);D=I,R=M}else return[];return r.filter(I=>I.createdAt&&new Date(I.createdAt)>=D&&new Date(I.createdAt)<=R)},[r,o]),f=Ws.useCallback(N=>{const A=N.length,_=re=>N.filter(oe=>String(oe.status)===String(re)).length,E=_("Open"),D=_("In Progress"),R=_("Escalated"),I=_("Closed"),M=N.filter(re=>re.slaDeadline&&(!re.status||re.status!=="Closed")&&new Date(re.slaDeadline)<new Date).length,U=N.filter(re=>re.status==="Closed"&&re.updatedAt&&re.createdAt),P=U.length>0?Math.round(U.reduce((re,oe)=>{const ce=(new Date(oe.updatedAt)-new Date(oe.createdAt))/36e5;return re+Math.max(0,ce)},0)/U.length):80,F=A>0?Math.round(I/A*100):0,V=Object.fromEntries(["Low","Medium","High","Urgent"].map(re=>[re,N.filter(oe=>oe.priority===re).length])),Q=Object.fromEntries(["Email","Phone","Customer Portal","WhatsApp","Social Media"].map(re=>[re,N.filter(oe=>oe.channel===re).length])),X=Object.fromEntries(["Complaint","Inquiry","Request"].map(re=>[re,N.filter(oe=>oe.type===re).length])),le=N.filter(re=>re.status==="Closed"),O=le.filter(re=>re.slaDeadline&&re.updatedAt&&new Date(re.updatedAt)<=new Date(re.slaDeadline)).length,q=le.length>0?Math.round(O/le.length*100):92,W=new Map;N.forEach(re=>{const oe=re.assignedAgent||e("Unassigned"),ce=W.get(oe)||{name:oe,closed:0,total:0};ce.total+=1,re.status==="Closed"&&(ce.closed+=1),W.set(oe,ce)});const te=Array.from(W.values()).map(re=>({agent:re.name,ticketsClosed:re.closed,avgResponse:"",satisfaction:""}));return{total:A,open:E,inProgress:D,escalated:R,closed:I,overdue:M,avgResolutionHours:P,resolutionRate:F,priorityCounts:V,channelCounts:Q,typeCounts:X,slaOnTimePct:q,teamRows:te}},[e]),p=y.useMemo(()=>f(d),[d,f]),m=y.useMemo(()=>f(u),[u,f]),v=(N,A)=>!A||A===0?N?100:0:Math.round((N-A)/A*100),g=(N,A=()=>!0,_=8)=>{if(!N.length)return new Array(_).fill(0);const E=N.map(U=>new Date(U.createdAt)).sort((U,P)=>U-P),D=E[0],I=E[E.length-1]-D||1,M=new Array(_).fill(0);return N.forEach(U=>{if(!A(U))return;const P=new Date(U.createdAt),F=Math.min(_-1,Math.max(0,Math.floor((P-D)/I*_)));M[F]+=1}),M.every(U=>U===0)?new Array(_).fill(0).map((U,P)=>P||0):M},b=y.useMemo(()=>g(d),[d]),j=y.useMemo(()=>g(d,N=>N.status==="Open"),[d]),k=y.useMemo(()=>g(d,N=>N.status==="Closed"),[d]),S=y.useMemo(()=>{const N=Object.values(p.channelCounts||{});return Math.max(1,...N.length?N:[1])},[p]);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h1",{className:"text-xl font-bold",children:e("Customer Service Dashboard")}),s.jsx("div",{className:"flex items-center gap-2 text-sm",children:s.jsxs("select",{value:o,onChange:N=>c(N.target.value),className:"px-3 py-1 rounded glass-panel bg-transparent",children:[s.jsx("option",{value:"this_month",children:e("This Month")}),s.jsx("option",{value:"this_week",children:e("This Week")}),s.jsx("option",{value:"last_month",children:e("Last Month")}),s.jsx("option",{value:"all",children:e("All")})]})})]}),s.jsx(Xwe,{mode:"wait",children:(()=>{const N=uh.div;return s.jsxs(N,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.22},children:[t?s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3 mb-4",children:Array.from({length:6}).map((A,_)=>s.jsxs("div",{className:"glass-panel p-3",children:[s.jsx("div",{className:"skeleton-line h-3 w-24 mb-2"}),s.jsx("div",{className:"skeleton-line h-6 w-16"})]},_))}):s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3 mb-4",children:[s.jsx(Jg,{title:e("Total Tickets"),value:p.total,delta:v(p.total,m.total),series:b,color:"emerald"}),s.jsx(Jg,{title:e("Open"),value:p.open,delta:v(p.open,m.open),series:j,color:"emerald",dotColor:"amber"}),s.jsx(D4e,{overdue:p.overdue}),s.jsx(Jg,{title:e("Average Resolution Time"),value:p.avgResolutionHours,suffix:"h",delta:v(p.avgResolutionHours,m.avgResolutionHours),series:k,color:"emerald"}),s.jsx(Jg,{title:e("Resolution Rate"),value:p.resolutionRate,suffix:"%",delta:v(p.resolutionRate,m.resolutionRate),series:k,color:"rose"}),s.jsx(Jg,{title:e("Reopened Tickets"),value:p.escalated,delta:v(p.escalated,m.escalated),series:j,color:"emerald"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[t?s.jsxs("div",{className:"glass-panel p-4",children:[s.jsx("div",{className:"skeleton-line h-4 w-40 mb-3"}),s.jsx("div",{className:"skeleton-circle h-40 w-40 mx-auto"})]}):s.jsxs("div",{className:"glass-panel p-4 cm-anim transition-transform hover:translate-y-[1px]",children:[s.jsx("div",{className:"text-sm font-medium mb-2",children:e("Tickets by Priority")}),s.jsx(di,{segments:[{label:e("High"),value:p.priorityCounts.High,color:"#ef4444"},{label:e("Medium"),value:p.priorityCounts.Medium,color:"#f59e0b"},{label:e("Low"),value:p.priorityCounts.Low,color:"#10b981"},{label:e("Urgent"),value:p.priorityCounts.Urgent,color:"#fb7185"}],size:180,centerLabel:e("Total"),centerValue:p.total,animateCenterCountUp:!0,borderRadius:8})]}),t?s.jsxs("div",{className:"glass-panel p-4",children:[s.jsx("div",{className:"skeleton-line h-4 w-40 mb-3"}),s.jsx("div",{className:"space-y-2",children:Array.from({length:5}).map((A,_)=>s.jsx("div",{className:"skeleton-line h-3 w-full"},_))})]}):s.jsxs("div",{className:"glass-panel p-4 cm-anim delay-200 transition-transform hover:translate-y-[1px]",children:[s.jsx("div",{className:"text-sm font-medium mb-2",children:e("Tickets by Channel")}),s.jsx("div",{className:"space-y-2",children:Object.entries(p.channelCounts).map(([A,_])=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-28 text-xs opacity-80",children:e(A)}),s.jsx("div",{className:"flex-1 h-3 rounded bg-white/10",children:s.jsx("div",{className:"h-3 rounded transition-all bar-gradient-fill-emerald bar-wave",style:{width:`${Math.round(_/S*100)}%`}})}),s.jsx("div",{className:"w-8 text-xs opacity-70 text-right",children:_})]},A))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mt-4",children:[t?s.jsxs("div",{className:"glass-panel p-4 animate-pulse",children:[s.jsx("div",{className:"h-4 w-40 bg-gray-200 dark:bg-gray-700 rounded mb-3"}),s.jsx("div",{className:"space-y-2",children:Array.from({length:3}).map((A,_)=>s.jsx("div",{className:"h-3 w-32 bg-gray-200 dark:bg-gray-700 rounded"},_))})]}):s.jsxs("div",{className:"glass-panel p-4 cm-anim transition-transform hover:translate-y-[1px]",children:[s.jsx("div",{className:"text-sm font-medium mb-2",children:e("Top Contact Reasons")}),s.jsx("ul",{className:"text-sm opacity-80 space-y-1",children:Object.entries(p.typeCounts).map(([A,_])=>s.jsxs("li",{children:[e(A),"  ",_]},A))})]}),t?s.jsxs("div",{className:"glass-panel p-4",children:[s.jsx("div",{className:"skeleton-line h-4 w-40 mb-3"}),s.jsx("div",{className:"skeleton-circle h-40 w-40 mx-auto"})]}):s.jsxs("div",{className:"glass-panel p-4 cm-anim delay-200 transition-transform hover:translate-y-[1px]",children:[s.jsx("div",{className:"text-sm font-medium mb-2",children:e("SLA Contact Reasons")}),s.jsx(di,{percentage:p.slaOnTimePct,centerValue:p.slaOnTimePct,centerValueSuffix:"%",centerLabel:e("On-time"),size:180,animateCenterCountUp:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mt-4",children:[s.jsxs("div",{className:"glass-panel p-4 cm-anim transition-transform hover:translate-y-[1px]",children:[s.jsx("div",{className:"text-sm font-medium mb-2",children:e("Customer Satisfaction")}),s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{children:""}),s.jsx("span",{className:"text-xl font-semibold",children:"4.6/5"})]}),s.jsx("div",{className:"space-y-2",children:[{label:e("Positive"),pct:85},{label:e("Neutral"),pct:10},{label:e("Negative"),pct:5}].map(({label:A,pct:_})=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-24 text-xs opacity-80",children:A}),s.jsx("div",{className:"flex-1 h-3 rounded bg-white/10",children:s.jsx("div",{className:"h-3 rounded transition-all bar-gradient-fill-emerald bar-wave",style:{width:`${_}%`}})}),s.jsxs("div",{className:"w-10 text-xs opacity-70 text-right",children:[_,"%"]})]},A))})]}),s.jsxs("div",{className:"glass-panel p-4 cm-anim delay-200 transition-transform hover:translate-y-[1px]",children:[s.jsx("div",{className:"text-sm font-medium mb-2",children:e("Avg Response Time")}),s.jsx("div",{className:"space-y-2",children:[{label:e("Email"),val:30},{label:e("Phone"),val:3},{label:e("Live Chat"),val:1}].map(({label:A,val:_})=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-28 text-xs opacity-80",children:A}),s.jsx("div",{className:"flex-1 h-3 rounded bg-white/10",children:s.jsx("div",{className:"h-3 rounded transition-all bar-gradient-fill-blue bar-wave",style:{width:`${Math.min(100,_/30*100)}%`}})}),s.jsxs("div",{className:"w-16 text-xs opacity-70 text-right",children:[_,"m"]})]},A))})]})]}),s.jsxs("div",{className:"glass-panel p-4 mt-4",children:[s.jsx("div",{className:"text-sm font-medium mb-3",children:e("Team Performance")}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm nova-table",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left bg-[var(--table-header-bg)]",children:[s.jsx("th",{className:"px-3 py-2",children:e("Agent")}),s.jsx("th",{className:"px-3 py-2",children:e("Tickets Closed")}),s.jsx("th",{className:"px-3 py-2",children:e("Avg. Response Time")}),s.jsx("th",{className:"px-3 py-2",children:e("Satisfaction")})]})}),s.jsxs("tbody",{children:[p.teamRows.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:4,className:"px-3 py-6 text-center text-[var(--muted-text)]",children:e(t?"Loading...":"No data")})}),p.teamRows.map((A,_)=>s.jsxs("tr",{className:"border-t border-[var(--table-row-border)] odd:bg-[var(--table-row-bg)] hover:bg-[var(--table-row-hover)] transition-colors",children:[s.jsx("td",{className:"px-3 py-2",children:A.agent}),s.jsx("td",{className:"px-3 py-2",children:A.ticketsClosed}),s.jsx("td",{className:"px-3 py-2",children:A.avgResponse}),s.jsx("td",{className:"px-3 py-2",children:A.satisfaction})]},_))]})]})})]}),i&&s.jsx("div",{className:"mt-3 text-xs text-rose-400",children:i})]},o)})()})]})}function T4e({data:e=[],color:t="emerald"}){const i=Math.min(...e,0),o=Math.max(...e,1)-i||1,c=74/Math.max(1,e.length-1),d=e.map((f,p)=>{const m=3+p*c,v=33-(f-i)/o*30;return`${m},${v}`}).join(" "),u=t==="emerald"?"#10b981":t==="rose"?"#ef4444":"#94a3b8";return s.jsx("svg",{width:80,height:36,viewBox:"0 0 80 36",className:"opacity-70",children:s.jsx("polyline",{fill:"none",stroke:u,strokeWidth:"2",points:d})})}function Jg({title:e,value:t,suffix:a,delta:r,series:n,color:i="emerald",dotColor:l}){const o=r>=0?"text-emerald-600":"text-rose-600";return s.jsxs("div",{className:"glass-panel p-3 cm-anim transition-transform hover:translate-y-[1px]",children:[s.jsxs("div",{className:"text-xs opacity-80 flex items-center gap-2",children:[l&&s.jsx("span",{className:`inline-block h-2 w-2 rounded-full bg-${l}-400`}),s.jsx("span",{children:e})]}),s.jsxs("div",{className:"text-2xl font-semibold flex items-baseline gap-1 mt-1",children:[s.jsx(Oq,{value:typeof t=="number"?t:0}),a&&s.jsx("span",{className:"text-xs opacity-70",children:a})]}),Array.isArray(n)&&n.length>1&&s.jsx("div",{className:"mt-1",children:s.jsx(T4e,{data:n,color:i})}),s.jsx("div",{className:`text-[11px] mt-1 ${o}`,children:r>=0?`+${r}%`:`${r}%`})]})}function D4e({overdue:e}){return s.jsxs("div",{className:"glass-panel p-3 cm-anim transition-transform hover:translate-y-[1px]",children:[s.jsxs("div",{className:"text-xs opacity-80 flex items-center gap-2",children:[s.jsx("span",{className:"text-base leading-none",children:""}),s.jsx("span",{children:"Alerts"})]}),s.jsx("div",{className:"text-2xl font-semibold flex items-baseline gap-1 mt-1",children:s.jsx(Oq,{value:typeof e=="number"?e:0})}),s.jsx("div",{className:"text-[11px] mt-1 opacity-80",children:e>50?"Overdue tickets > 50 (Critical)":"Overdue tickets  50"})]})}function Oq({value:e,duration:t=600}){const[a,r]=y.useState(e),n=y.useRef(e);return y.useEffect(()=>{const i=n.current,l=e;n.current=l;const o=performance.now(),c=d=>{const u=Math.min(1,(d-o)/t),f=Math.round(i+(l-i)*u);r(f),u<1&&requestAnimationFrame(c)};requestAnimationFrame(c)},[e,t]),s.jsx("span",{children:a})}function P4e(){const{t:e}=St(),t=["Open","In Progress","Escalated","Closed"],a=["Low","Medium","High","Urgent"],r=["Complaint","Inquiry","Request"],n=["Email","Phone","WhatsApp","Customer Portal","Social Media"],[i,l]=y.useState(!1),[o,c]=y.useState([]),[d,u]=y.useState(""),[f,p]=y.useState(""),[m,v]=y.useState(!1),[g,b]=y.useState({customerId:"",subject:"",description:"",type:r[1],priority:"Low",status:"Open",channel:"Email",contactPhone:"",contactEmail:"",contactWhatsapp:"",assignedAgent:"",slaDeadline:"",resolutionNotes:"",attachments:[]}),[j,k]=y.useState(""),[S,N]=y.useState([]),[A,_]=y.useState(!1),E=F=>{if(!F?.slaDeadline||String(F.status)==="Closed")return!1;try{return new Date(F.slaDeadline)<new Date}catch{return!1}},D=y.useCallback(async()=>{try{l(!0);const F={};d&&(F.status=d),f&&(F.q=f);const K=await Sa.get("/api/tickets",{params:F});c(Array.isArray(K.data?.items)?K.data.items:[])}catch(F){console.warn("tickets_load_failed",F)}finally{l(!1)}},[d,f]);y.useEffect(()=>{D()},[D]);const R=y.useCallback(async()=>{try{_(!0);const F=await Sa.get("/api/customers",{params:{q:j,limit:10}});N(Array.isArray(F.data?.items)?F.data.items:[])}catch(F){console.warn("customers_load_failed",F)}finally{_(!1)}},[j]);y.useEffect(()=>{R()},[R]);const I=F=>b(K=>({...K,customerId:F})),M=(F,K)=>b(V=>({...V,[F]:K})),U=async F=>{if(F)try{const V=await(z=>new Promise((X,le)=>{const O=new FileReader;O.onload=()=>X(O.result),O.onerror=le,O.readAsDataURL(z)}))(F),Q=(await Sa.post("/api/uploads/base64",{fileName:F.name,dataUrl:V})).data?.url;Q&&b(z=>({...z,attachments:[...z.attachments,Q]}))}catch(K){console.warn("upload_failed",K)}},P=async F=>{F.preventDefault();try{const K={...g};if(K.slaDeadline)try{K.slaDeadline=new Date(K.slaDeadline).toISOString()}catch(Q){}const J=(await Sa.post("/api/tickets",K)).data?.item;J&&c(Q=>[J,...Q]),v(!1),b({customerId:"",subject:"",description:"",type:r[1],priority:"Low",status:"Open",channel:"Email",contactPhone:"",contactEmail:"",contactWhatsapp:"",assignedAgent:"",slaDeadline:"",resolutionNotes:"",attachments:[]})}catch(K){console.warn("create_failed",K)}};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h1",{className:"text-xl font-bold",children:e("Tickets")}),s.jsx("button",{className:"btn btn-primary",onClick:()=>v(!0),children:e("Create New Ticket")})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:[s.jsx("input",{value:f,onChange:F=>p(F.target.value),onKeyDown:F=>F.key==="Enter"?D():null,placeholder:e("Search tickets..."),className:"px-3 py-1 rounded bg-white/5 border border-white/10 text-sm"}),t.map(F=>s.jsx("button",{onClick:()=>u(K=>K===F?"":F),className:`px-3 py-1 rounded text-sm ${d===F?"bg-blue-600":"bg-white/10 dark:bg-gray-800/40"}`,children:e(F)},F)),s.jsx("button",{onClick:D,className:"px-3 py-1 rounded bg-white/10 text-sm",children:e("Apply")})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left opacity-70",children:[s.jsx("th",{className:"py-2",children:e("ID")}),s.jsx("th",{className:"py-2",children:e("Customer")}),s.jsx("th",{className:"py-2",children:e("Subject")}),s.jsx("th",{className:"py-2",children:e("Agent")}),s.jsx("th",{className:"py-2",children:e("Type")}),s.jsx("th",{className:"py-2",children:e("Priority")}),s.jsx("th",{className:"py-2",children:e("Status")}),s.jsx("th",{className:"py-2",children:e("Channel")}),s.jsx("th",{className:"py-2",children:e("SLA")})]})}),s.jsx("tbody",{children:o.map(F=>s.jsxs("tr",{className:"border-t border-white/10",children:[s.jsx("td",{className:"py-2",children:String(F.ticketNumber||F.id).slice(0,12)}),s.jsx("td",{className:"py-2",children:F.customerId?F.customerId:"-"}),s.jsx("td",{className:"py-2",children:F.subject}),s.jsx("td",{className:"py-2",children:F.assignedAgent||"-"}),s.jsx("td",{className:"py-2",children:F.type}),s.jsx("td",{className:"py-2",children:F.priority}),s.jsx("td",{className:"py-2",children:F.status}),s.jsx("td",{className:"py-2",children:F.channel}),s.jsx("td",{className:`py-2 ${E(F)?"text-red-500":""}`,children:F.slaDeadline?new Date(F.slaDeadline).toLocaleString():"-"})]},F.id))})]}),i&&s.jsx("div",{className:"mt-3 text-sm opacity-70",children:e("Loading...")})]}),m&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex justify-center items-start",style:{paddingTop:"80px"},children:s.jsxs("div",{className:"bg-gray-900 p-4 sm:p-6 rounded w-full max-w-2xl max-h-[80vh] overflow-auto sidebar-scrollbar",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-lg font-semibold",children:e("Create New Ticket")}),s.jsx("button",{onClick:()=>v(!1),className:"px-3 py-1 rounded bg-white/10",children:e("Close")})]}),s.jsxs("form",{onSubmit:P,className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Customer")}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{value:j,onChange:F=>k(F.target.value),placeholder:e("Search customers..."),className:"flex-1 px-3 py-2 rounded bg-white/5 border border-white/10"}),s.jsxs(ss,{value:g.customerId,onChange:F=>I(F),className:"px-3 py-2",children:[s.jsx("option",{value:"",children:e("Select")}),S.map(F=>s.jsxs("option",{value:F.id,children:[F.name,"  ",F.phone]},F.id))]})]}),A&&s.jsx("div",{className:"text-xs mt-1 opacity-70",children:e("Loading customers...")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Subject")}),s.jsx("input",{value:g.subject,onChange:F=>M("subject",F.target.value),className:"w-full px-3 py-2 rounded bg-white/5 border border-white/10"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Type")}),s.jsx(ss,{value:g.type,onChange:F=>M("type",F),children:r.map(F=>s.jsx("option",{value:F,children:e(F)},F))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Priority")}),s.jsx(ss,{value:g.priority,onChange:F=>M("priority",F),children:a.map(F=>s.jsx("option",{value:F,children:e(F)},F))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Status")}),s.jsx(ss,{value:g.status,onChange:F=>M("status",F),children:t.map(F=>s.jsx("option",{value:F,children:e(F)},F))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Channel")}),s.jsx(ss,{value:g.channel,onChange:F=>M("channel",F),children:n.map(F=>s.jsx("option",{value:F,children:e(F)},F))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Assigned To")}),s.jsx("input",{value:g.assignedAgent,onChange:F=>M("assignedAgent",F.target.value),className:"w-full px-3 py-2 rounded bg-white/5 border border-white/10"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Contact Phone")}),s.jsx("input",{value:g.contactPhone,onChange:F=>M("contactPhone",F.target.value),className:"w-full px-3 py-2 rounded bg-white/5 border border-white/10"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Contact Email")}),s.jsx("input",{value:g.contactEmail,onChange:F=>M("contactEmail",F.target.value),className:"w-full px-3 py-2 rounded bg-white/5 border border-white/10"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("WhatsApp")}),s.jsx("input",{value:g.contactWhatsapp,onChange:F=>M("contactWhatsapp",F.target.value),className:"w-full px-3 py-2 rounded bg-white/5 border border-white/10"})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Description")}),s.jsx("textarea",{value:g.description,onChange:F=>M("description",F.target.value),rows:4,className:"w-full px-3 py-2 rounded bg-white/5 border border-white/10"})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"block text-sm mb-1",children:e("SLA Deadline")}),s.jsx("input",{type:"datetime-local",value:g.slaDeadline,onChange:F=>M("slaDeadline",F.target.value),className:"w-full px-3 py-2 rounded bg-white/5 border border-white/10"})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Resolution Notes")}),s.jsx("textarea",{value:g.resolutionNotes,onChange:F=>M("resolutionNotes",F.target.value),rows:3,className:"w-full px-3 py-2 rounded bg-white/5 border border-white/10"})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Attachments")}),s.jsx("input",{type:"file",onChange:F=>U(F.target.files?.[0]),className:"w-full"}),!!g.attachments.length&&s.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:g.attachments.map(F=>s.jsx("a",{href:F,target:"_blank",rel:"noreferrer",className:"text-blue-400 underline text-xs",children:F},F))})]}),s.jsxs("div",{className:"sm:col-span-2 flex justify-end gap-2 mt-2",children:[s.jsx("button",{type:"button",onClick:()=>v(!1),className:"px-4 py-2 rounded bg-white/10",children:e("Cancel")}),s.jsx("button",{type:"submit",className:"px-4 py-2 rounded bg-blue-600",children:e("Create")})]})]})]})})]})}function M4e(){const{t:e}=St(),[t,a]=y.useState(!1),[r,n]=y.useState([]),[i,l]=y.useState([]),[o,c]=y.useState(""),d=async()=>{try{a(!0);const[m,v]=await Promise.all([Sa.get("/api/customers",{params:{limit:500}}),Sa.get("/api/tickets",{params:{limit:1e3}})]);n(Array.isArray(m.data?.items)?m.data.items:[]),l(Array.isArray(v.data?.items)?v.data.items:[])}catch(m){console.warn("customers_load_failed",m)}finally{a(!1)}};y.useEffect(()=>{d()},[]);const u=y.useMemo(()=>{if(!o)return r;const m=String(o).toLowerCase();return r.filter(v=>String(v.name||"").toLowerCase().includes(m)||String(v.phone||"").toLowerCase().includes(m)||String(v.email||"").toLowerCase().includes(m)||String(v.companyName||"").toLowerCase().includes(m))},[r,o]),f=y.useMemo(()=>{const m=new Map;return i.forEach(v=>{const g=String(v.customerId||"");if(!g)return;const b=m.get(g)||[];b.push(v),m.set(g,b)}),u.map(v=>{const g=m.get(String(v.id))||[],b=g.length?g[0]:null;return{id:v.id,name:v.name,company:v.type==="Company"&&v.companyName||"-",contactPhone:v.phone||"-",contactEmail:v.email||"-",products:Array.isArray(v.tags)?v.tags:[],ticketsCount:g.length,lastTicket:b}})},[u,i]),p=({text:m})=>s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs bg-white/10 dark:bg-gray-800/40 border border-white/10 mr-1 mb-1",children:m});return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h1",{className:"text-xl font-bold",children:e("Customers")}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("input",{value:o,onChange:m=>c(m.target.value),placeholder:e("Search customers..."),className:"px-3 py-2 rounded bg-white/5 border border-white/10 text-sm w-64"}),s.jsx("button",{onClick:d,className:"px-3 py-2 rounded bg-white/10 text-sm",children:e("Refresh")})]})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left opacity-70",children:[s.jsx("th",{className:"py-2",children:e("Customer ID")}),s.jsx("th",{className:"py-2",children:e("Name")}),s.jsx("th",{className:"py-2",children:e("Company")}),s.jsx("th",{className:"py-2",children:e("Contact Info")}),s.jsx("th",{className:"py-2",children:e("Active Contracts / Products Owned")}),s.jsx("th",{className:"py-2",children:e("Previous Tickets History")})]})}),s.jsxs("tbody",{children:[t&&[...Array(6)].map((m,v)=>s.jsxs("tr",{className:"border-t border-white/10",children:[s.jsx("td",{className:"py-3",children:s.jsx("div",{className:"skeleton-line h-4 w-24"})}),s.jsx("td",{className:"py-3",children:s.jsx("div",{className:"skeleton-line h-4 w-32"})}),s.jsx("td",{className:"py-3",children:s.jsx("div",{className:"skeleton-line h-4 w-28"})}),s.jsx("td",{className:"py-3",children:s.jsx("div",{className:"skeleton-line h-4 w-48"})}),s.jsx("td",{className:"py-3",children:s.jsx("div",{className:"skeleton-block h-6 w-64"})}),s.jsx("td",{className:"py-3",children:s.jsx("div",{className:"skeleton-line h-4 w-40"})})]},`s-${v}`)),!t&&f.map(m=>s.jsxs("tr",{className:"border-t border-white/10",children:[s.jsx("td",{className:"py-2",children:String(m.id).slice(0,12)}),s.jsx("td",{className:"py-2",children:m.name}),s.jsx("td",{className:"py-2",children:m.company||"-"}),s.jsxs("td",{className:"py-2",children:[s.jsxs("div",{className:"opacity-80",children:[e("Phone"),": ",m.contactPhone||"-"]}),s.jsxs("div",{className:"opacity-80",children:[e("Email"),": ",m.contactEmail||"-"]})]}),s.jsx("td",{className:"py-2",children:Array.isArray(m.products)&&m.products.length?s.jsx("div",{className:"flex flex-wrap",children:m.products.map((v,g)=>s.jsx(p,{text:v},g))}):s.jsx("span",{className:"opacity-60",children:"-"})}),s.jsxs("td",{className:"py-2",children:[s.jsxs("div",{className:"opacity-90",children:[e("Total"),": ",m.ticketsCount]}),m.lastTicket?s.jsxs("div",{className:"opacity-70",children:[e("Last"),": ",m.lastTicket.status,"  ",m.lastTicket.subject]}):s.jsx("div",{className:"opacity-70",children:e("No previous tickets")})]})]},m.id))]})]}),!t&&f.length===0&&s.jsx("div",{className:"mt-3 text-sm opacity-70",children:e("No customers found")})]})]})}const SO=["Complaint","Inquiry","Request","VIP Support","Technical Issue"],g3=["Low","Medium","High","Urgent"];function L4e(){const{i18n:e}=St(),t=String(e.language||"").startsWith("en"),a={title:t?"SLA Management":"    (SLA)",add:t?"Add SLA":" SLA",search:t?"Search...":"...",typeAll:t?"Service Type (All)":"  ()",statusAll:t?"Status (All)":" ()",enabled:t?"Enabled":"",disabled:t?"Disabled":"",name:t?"Name":"",serviceType:t?"Service Type":" ",responseTime:t?"Response Time":" ",resolutionTime:t?"Resolution Time (by Priority)":"  ( )",appliesTo:t?"Applies To":" ",status:t?"Status":"",actions:t?"Actions":"",edit:t?"Edit":"",del:t?"Delete":"",none:t?"No SLAs found":"   SLA ",responseCompliance:t?"Response Compliance":" ",resolutionCompliance:t?"Resolution Compliance":" ",issues:t?"issues":"",hours:t?"hours":"",unitMinutes:t?"Minutes":"",unitHours:t?"Hours":"",unitDays:t?"Days":"",cancel:t?"Cancel":"",save:t?"Save":"",editTitle:t?"Edit SLA":" SLA",addTitle:t?"Add SLA":" SLA",loading:t?"Loading...":" ...",customerCategory:t?"Customer Category":" ",plan:t?"Plan":" ",specificCustomers:t?"Specific customers":" "},[r,n]=y.useState(!0),[i,l]=y.useState([]),[o,c]=y.useState(""),[d,u]=y.useState(""),[f,p]=y.useState(""),[m,v]=y.useState(!1),[g,b]=y.useState(null),[j,k]=y.useState({name:"",serviceType:"Inquiry",responseValue:2,responseUnit:"hours",resolution:{Low:24,Medium:24,High:12,Urgent:6},escalation:{onResponseBreach:[],onResolutionBreach:["NotifyManager"],escalateToRole:""},appliesTo:{customerCategory:"",customerIds:[],plan:""},active:!0}),[S,N]=y.useState([]),[A,_]=y.useState(""),[E,D]=y.useState(""),R=z=>{if(!z)return null;const X=String(z).trim().replaceAll(".","/").replaceAll("-","/").replace(/\s+/g,""),le=X.split("/");let O;if(le.length===3){const q=Number(le[0]),W=Number(le[1]),te=Number(le[2]),re=te<100?2e3+te:te;q>31?O=new Date(q,W-1,re):(O=new Date(re,q-1,W),isNaN(O?.getTime())&&(O=new Date(re,W-1,q)))}else O=new Date(X);return isNaN(O?.getTime())?null:O},I=y.useMemo(()=>{const z=Number(j.responseValue||0),X=j.responseUnit;return!z||z<=0?0:X==="minutes"?z:X==="hours"?z*60:X==="days"?z*60*24:z},[j.responseValue,j.responseUnit]),M=y.useCallback(async()=>{n(!0);try{const z=await Sa.get("/api/slas",{params:{q:o,serviceType:d,active:f}}),X=await Sa.get("/api/tickets",{params:{type:d||void 0}});l(z.data.items||z.data.items?.items||z.data.items),N(X.data.items&&X.data.items.items?X.data.items.items:X.data.items||[])}catch(z){console.error("Failed to load SLAs",z)}finally{n(!1)}},[o,d,f]);y.useEffect(()=>{M()},[M]);const U=()=>{b(null),k({name:"",serviceType:"Inquiry",responseValue:2,responseUnit:"hours",resolution:{Low:24,Medium:24,High:12,Urgent:6},escalation:{onResponseBreach:[],onResolutionBreach:["NotifyManager"],escalateToRole:""},appliesTo:{customerCategory:"",customerIds:[],plan:""},active:!0}),v(!0)},P=z=>{b(z),k({name:z.name||"",serviceType:z.serviceType||"Inquiry",responseValue:2,responseUnit:"hours",resolution:{Low:z.resolutionMinutesByPriority?.Low?Math.round(z.resolutionMinutesByPriority.Low/60):24,Medium:z.resolutionMinutesByPriority?.Medium?Math.round(z.resolutionMinutesByPriority.Medium/60):24,High:z.resolutionMinutesByPriority?.High?Math.round(z.resolutionMinutesByPriority.High/60):12,Urgent:z.resolutionMinutesByPriority?.Urgent?Math.round(z.resolutionMinutesByPriority.Urgent/60):6},escalation:z.escalation||{onResponseBreach:[],onResolutionBreach:[],escalateToRole:""},appliesTo:z.appliesTo||{customerCategory:"",customerIds:[],plan:""},active:!!z.active}),v(!0)},F=async z=>{z.preventDefault();try{const X={name:j.name||"SLA",serviceType:j.serviceType,responseMinutes:I,resolutionMinutesByPriority:{Low:Number(j.resolution.Low)*60,Medium:Number(j.resolution.Medium)*60,High:Number(j.resolution.High)*60,Urgent:Number(j.resolution.Urgent)*60},escalation:j.escalation,appliesTo:j.appliesTo,active:!!j.active};g?await Sa.put(`/api/slas/${g.id}`,X):await Sa.post("/api/slas",X),v(!1),await M()}catch(X){console.error("SLA save failed",X)}},K=async z=>{try{await Sa.put(`/api/slas/${z.id}`,{active:!z.active}),await M()}catch(X){console.error("toggle failed",X)}},V=async z=>{if(window.confirm("Delete SLA?"))try{await Sa.delete(`/api/slas/${z.id}`),await M()}catch(X){console.error("delete failed",X)}},J=y.useMemo(()=>{let z=S;d&&(z=z.filter(O=>O.type===d));const X=R(A),le=R(E);if(X&&(z=z.filter(O=>new Date(O.createdAt)>=X)),le){const O=new Date(le);O.setHours(23,59,59,999),z=z.filter(q=>new Date(q.createdAt)<=O)}return z},[S,d,A,E]),Q=z=>{if(!z)return{responsePct:0,resolutionPct:0,count:0};const X=J.length;if(!X)return{responsePct:0,resolutionPct:0,count:0};let le=0,O=0;for(const q of J)if(q.firstResponseAt&&(new Date(q.firstResponseAt)-new Date(q.createdAt))/6e4<=Number(z.responseMinutes||0)&&le++,q.closedAt){const W=(new Date(q.closedAt)-new Date(q.createdAt))/6e4,te=z.resolutionMinutesByPriority?.[q.priority||"Low"]||0;te&&W<=te&&O++}return{responsePct:Math.round(le/X*100),resolutionPct:Math.round(O/X*100),count:X}};return s.jsxs(s.Fragment,{children:[s.jsxs("section",{className:"overflow-x-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h1",{className:"text-xl font-bold",children:a.title}),s.jsxs("button",{className:"btn btn-sm btn-primary",onClick:U,children:["+ ",a.add]})]}),s.jsx("div",{className:"glass-neon p-3 rounded-lg mb-3",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 text-sm",children:[s.jsx("input",{className:"input input-sm w-full bg-[var(--panel-bg)] text-[var(--content-text)] border border-[var(--panel-border)]",placeholder:a.search,value:o,onChange:z=>c(z.target.value)}),s.jsxs("select",{className:"input input-sm w-full bg-[var(--panel-bg)] text-[var(--content-text)] border border-[var(--panel-border)]",value:d,onChange:z=>u(z.target.value),children:[s.jsx("option",{value:"",children:a.typeAll}),SO.map(z=>s.jsx("option",{value:z,children:z},z))]}),s.jsxs("select",{className:"input input-sm w-full bg-[var(--panel-bg)] text-[var(--content-text)] border border-[var(--panel-border)]",value:f,onChange:z=>p(z.target.value),children:[s.jsx("option",{value:"",children:a.statusAll}),s.jsx("option",{value:"true",children:a.enabled}),s.jsx("option",{value:"false",children:a.disabled})]}),s.jsxs("div",{className:"sm:col-span-3 flex items-center gap-2",children:[s.jsx("input",{type:"text",inputMode:"numeric",className:"input input-sm w-full bg-[var(--panel-bg)] text-[var(--content-text)] border border-[var(--panel-border)]",placeholder:t?"mm/dd/yyyy":"//",value:A,onChange:z=>_(z.target.value)}),s.jsx("input",{type:"text",inputMode:"numeric",className:"input input-sm w-full bg-[var(--panel-bg)] text-[var(--content-text)] border border-[var(--panel-border)]",placeholder:t?"mm/dd/yyyy":"//",value:E,onChange:z=>D(z.target.value)})]})]})}),s.jsx("div",{className:"md:hidden space-y-3",children:r?s.jsxs("div",{className:"nova-card p-4",children:[s.jsx("div",{className:"skeleton h-6 w-32 mb-2"}),s.jsx("div",{className:"skeleton h-4 w-52"})]}):i&&i.length?i.map(z=>{const X=Q(z);return s.jsxs("div",{className:"nova-card p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("div",{className:"font-semibold",children:z.name||""}),s.jsx("button",{className:`badge ${z.active?"badge-success":"badge-neutral"}`,onClick:()=>K(z),children:z.active?a.enabled:a.disabled})]}),s.jsxs("div",{className:"text-sm opacity-80 mb-2",children:[a.serviceType,": ",z.serviceType]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"opacity-70",children:a.responseTime}),s.jsxs("div",{children:[Math.round((z.responseMinutes||0)/60)," ",a.hours]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"opacity-70",children:a.resolutionTime}),s.jsx("div",{className:"flex flex-wrap gap-x-2 gap-y-1",children:g3.map(le=>s.jsxs("span",{children:[le,":",Math.round((z.resolutionMinutesByPriority?.[le]||0)/60),"h"]},le))})]})]}),s.jsxs("div",{className:"mt-2 text-xs opacity-80",children:[s.jsxs("div",{children:[z.appliesTo?.customerCategory||""," ",z.appliesTo?.plan?` ${z.appliesTo.plan}`:""]}),z.appliesTo?.customerIds?.length?s.jsxs("div",{children:[a.specificCustomers,": ",z.appliesTo.customerIds.length]}):null]}),s.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-xs",onClick:()=>P(z),children:a.edit}),s.jsx("button",{className:"btn btn-xs btn-error",onClick:()=>V(z),children:a.del})]}),s.jsxs("div",{className:"mt-2 text-xs",children:[s.jsxs("div",{children:[a.responseCompliance,": ",X.responsePct,"%  ",a.issues,": ",X.count]}),s.jsxs("div",{children:[a.resolutionCompliance,": ",X.resolutionPct,"%"]})]})]},z.id)}):s.jsx("div",{className:"nova-card p-4 text-center opacity-70",children:a.none})}),s.jsx("div",{className:"nova-card p-0 hidden md:block",children:s.jsxs("table",{className:"table table-sm table-fixed w-full nova-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:a.name}),s.jsx("th",{children:a.serviceType}),s.jsx("th",{children:a.responseTime}),s.jsx("th",{children:a.resolutionTime}),s.jsx("th",{children:a.appliesTo}),s.jsx("th",{children:a.status}),s.jsx("th",{children:a.actions})]})}),s.jsx("tbody",{children:r?s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"p-6 text-center opacity-70",children:a.loading})}):i&&i.length?i.map(z=>{const X=Q(z);return s.jsxs("tr",{children:[s.jsx("td",{className:"whitespace-normal break-words",children:z.name||""}),s.jsx("td",{className:"whitespace-normal break-words",children:z.serviceType}),s.jsxs("td",{className:"whitespace-normal break-words",children:[Math.round((z.responseMinutes||0)/60)," ",a.hours]}),s.jsx("td",{className:"text-sm whitespace-normal break-words",children:s.jsx("div",{className:"flex flex-col gap-1",children:g3.map(le=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"opacity-70",children:le}),s.jsxs("span",{children:[Math.round((z.resolutionMinutesByPriority?.[le]||0)/60)," ",a.hours]})]},le))})}),s.jsxs("td",{className:"text-sm whitespace-normal break-words",children:[s.jsxs("div",{className:"opacity-80",children:[z.appliesTo?.customerCategory||""," ",z.appliesTo?.plan?` ${z.appliesTo.plan}`:""]}),z.appliesTo?.customerIds?.length?s.jsxs("div",{className:"opacity-60",children:[a.specificCustomers,": ",z.appliesTo.customerIds.length]}):null]}),s.jsx("td",{children:s.jsx("button",{className:`badge ${z.active?"badge-success":"badge-neutral"}`,onClick:()=>K(z),children:z.active?a.enabled:a.disabled})}),s.jsxs("td",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-xs",onClick:()=>P(z),children:a.edit}),s.jsx("button",{className:"btn btn-xs btn-error",onClick:()=>V(z),children:a.del})]}),s.jsxs("div",{className:"mt-2 text-xs",children:[s.jsxs("div",{children:[a.responseCompliance,": ",X.responsePct,"%  ",a.issues,": ",X.count]}),s.jsxs("div",{children:[a.resolutionCompliance,": ",X.resolutionPct,"%"]})]})]})]},z.id)}):s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"p-6 text-center opacity-70",children:a.none})})})]})})]}),m&&s.jsxs("div",{className:"modal open",children:[s.jsxs("div",{className:"modal-box max-w-3xl",children:[s.jsx("h3",{className:"font-bold text-lg mb-3",children:g?a.editTitle:a.addTitle}),s.jsxs("form",{onSubmit:F,className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("label",{className:"flex flex-col gap-1",children:[s.jsx("span",{children:a.name}),s.jsx("input",{className:"input input-sm",value:j.name,onChange:z=>k({...j,name:z.target.value})})]}),s.jsxs("label",{className:"flex flex-col gap-1",children:[s.jsx("span",{children:a.serviceType}),s.jsx("select",{className:"input input-sm",value:j.serviceType,onChange:z=>k({...j,serviceType:z.target.value}),children:SO.map(z=>s.jsx("option",{value:z,children:z},z))})]}),s.jsxs("div",{className:"md:col-span-2 grid grid-cols-3 gap-3",children:[s.jsxs("label",{className:"flex flex-col gap-1",children:[s.jsx("span",{children:a.responseTime}),s.jsx("input",{type:"number",min:1,className:"input input-sm",value:j.responseValue,onChange:z=>k({...j,responseValue:Number(z.target.value)})})]}),s.jsxs("label",{className:"flex flex-col gap-1",children:[s.jsx("span",{children:t?"Unit":""}),s.jsxs("select",{className:"input input-sm",value:j.responseUnit,onChange:z=>k({...j,responseUnit:z.target.value}),children:[s.jsx("option",{value:"minutes",children:a.unitMinutes}),s.jsx("option",{value:"hours",children:a.unitHours}),s.jsx("option",{value:"days",children:a.unitDays})]})]}),s.jsxs("div",{className:"flex items-end text-sm opacity-70",children:["= ",I," ",a.unitMinutes]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("div",{className:"font-semibold mb-2",children:t?"Required Resolution (by Priority) - hours":"   ( ) - "}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:g3.map(z=>s.jsxs("label",{className:"flex flex-col gap-1",children:[s.jsx("span",{children:z}),s.jsx("input",{type:"number",min:1,className:"input input-sm",value:j.resolution[z],onChange:X=>k({...j,resolution:{...j.resolution,[z]:Number(X.target.value)}})})]},z))})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("div",{className:"font-semibold mb-1",children:t?"Escalation Rules":" "}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("label",{className:"flex flex-col gap-1",children:[s.jsx("span",{children:t?"On Response Breach":"   "}),s.jsx("select",{multiple:!0,className:"input input-sm h-24",value:j.escalation.onResponseBreach,onChange:z=>{const X=Array.from(z.target.selectedOptions).map(le=>le.value);k({...j,escalation:{...j.escalation,onResponseBreach:X}})},children:["NotifyManager","ReassignHigherRank","IncreasePriority","NotifyCustomer","MarkEscalated"].map(z=>s.jsx("option",{value:z,children:z},z))})]}),s.jsxs("label",{className:"flex flex-col gap-1",children:[s.jsx("span",{children:t?"On Resolution Breach":"   "}),s.jsx("select",{multiple:!0,className:"input input-sm h-24",value:j.escalation.onResolutionBreach,onChange:z=>{const X=Array.from(z.target.selectedOptions).map(le=>le.value);k({...j,escalation:{...j.escalation,onResolutionBreach:X}})},children:["NotifyManager","ReassignHigherRank","IncreasePriority","NotifyCustomer","MarkEscalated"].map(z=>s.jsx("option",{value:z,children:z},z))})]}),s.jsxs("label",{className:"flex flex-col gap-1 md:col-span-2",children:[s.jsx("span",{children:t?"Escalate to Role/Team":"  /Team"}),s.jsx("input",{className:"input input-sm",value:j.escalation.escalateToRole,onChange:z=>k({...j,escalation:{...j.escalation,escalateToRole:z.target.value}})})]})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("div",{className:"font-semibold mb-1",children:t?"Targeting":""}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs("label",{className:"flex flex-col gap-1",children:[s.jsx("span",{children:a.customerCategory}),s.jsxs("select",{className:"input input-sm",value:j.appliesTo.customerCategory||"",onChange:z=>k({...j,appliesTo:{...j.appliesTo,customerCategory:z.target.value||void 0}}),children:[s.jsx("option",{value:"",children:""}),s.jsx("option",{value:"VIP",children:"VIP"}),s.jsx("option",{value:"Regular",children:"Regular"})]})]}),s.jsxs("label",{className:"flex flex-col gap-1",children:[s.jsx("span",{children:a.plan}),s.jsx("input",{className:"input input-sm",value:j.appliesTo.plan||"",onChange:z=>k({...j,appliesTo:{...j.appliesTo,plan:z.target.value}})})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:j.active,onChange:z=>k({...j,active:z.target.checked})}),s.jsx("span",{children:a.enabled})]})]})]}),s.jsxs("div",{className:"md:col-span-2 flex justify-end gap-2 mt-2",children:[s.jsx("button",{type:"button",className:"btn btn-sm",onClick:()=>v(!1),children:a.cancel}),s.jsx("button",{type:"submit",className:"btn btn-sm btn-primary",children:a.save})]})]})]}),s.jsx("div",{className:"modal-backdrop",onClick:()=>v(!1)})]})]})}function O4e(){const{t:e}=St(),t=["Complaint","Inquiry","Request"],a=["Low","Medium","High","Urgent"],r=["Email","Phone","WhatsApp","Customer Portal","Social Media"],[n,i]=y.useState([]),[l,o]=y.useState(!1),[c,d]=y.useState(""),[u,f]=y.useState(""),[p,m]=y.useState(""),[v,g]=y.useState(""),[b,j]=y.useState(""),[k,S]=y.useState(""),N=async()=>{try{o(!0);const O=await Sa.get("/api/tickets",{params:{limit:2e3}});i(Array.isArray(O.data?.items)?O.data.items:[])}catch(O){console.warn("reports_tickets_load_failed",O)}finally{o(!1)}};y.useEffect(()=>{N()},[]);const A=y.useMemo(()=>{let O=[...n];const q=c.trim().toLowerCase();q&&(O=O.filter(re=>JSON.stringify(re).toLowerCase().includes(q))),u&&(O=O.filter(re=>String(re.type)===String(u))),p&&(O=O.filter(re=>String(re.priority)===String(p))),v&&(O=O.filter(re=>String(re.channel)===String(v)));const W=b?new Date(b):null,te=k?new Date(k):null;return W&&(O=O.filter(re=>new Date(re.createdAt)>=W)),te&&(O=O.filter(re=>new Date(re.createdAt)<=te)),O},[n,c,u,p,v,b,k]),_=y.useMemo(()=>A.filter(O=>String(O.status)==="Closed"),[A]),E=y.useMemo(()=>{const O=_.map(q=>{const W=new Date(q.createdAt).getTime(),te=q.updatedAt?new Date(q.updatedAt).getTime():W;return Math.max(0,(te-W)/(1e3*60*60))}).filter(q=>Number.isFinite(q));return O.length?Math.round(O.reduce((q,W)=>q+W,0)/O.length*10)/10:0},[_]),D=y.useMemo(()=>_.filter(O=>{const q=new Date(O.createdAt),W=O.updatedAt?new Date(O.updatedAt):q;return q.toDateString()===W.toDateString()}).length,[_]),R=y.useMemo(()=>_.filter(O=>O.slaDeadline?(O.updatedAt?new Date(O.updatedAt):new Date(O.createdAt))>new Date(O.slaDeadline):!1).length,[_]),I=y.useMemo(()=>{const O=new Map;return A.forEach(q=>O.set(q.channel,(O.get(q.channel)||0)+1)),r.map(q=>({label:e(q),value:O.get(q)||0}))},[A]),M=y.useMemo(()=>{const O=new Map;return A.forEach(q=>O.set(q.priority,(O.get(q.priority)||0)+1)),a.map(q=>({label:e(q),value:O.get(q)||0}))},[A]),U=y.useMemo(()=>{const O=new Map;return A.forEach(W=>{const te=new Date(W.createdAt).toISOString().slice(0,10);O.set(te,(O.get(te)||0)+1)}),Array.from(O.entries()).sort((W,te)=>W[0].localeCompare(te[0])).map(W=>W[1]).slice(-14)},[A]),P=({series:O=[]})=>{const te=Math.max(1,...O),re=O.length>1?156/(O.length-1):156,oe=O.map((ie,ye)=>{const se=2+ye*re,Ie=38-ie/te*36;return`${se},${Ie}`}).join(" "),G=O.length>1&&O[O.length-1]>=O[0]?"#10b981":"#ef4444";return s.jsx("svg",{width:160,height:40,viewBox:"0 0 160 40",children:s.jsx("polyline",{fill:"none",stroke:G,strokeWidth:"2",points:oe})})},F={emerald:"#10b981",yellow:"#f59e0b",blue:"#3b82f6",red:"#ef4444",gray:"#64748b",teal:"#2dd4bf"},K=[{label:e("Email"),value:I[0]?.value||0,color:F.teal},{label:e("Phone"),value:I[1]?.value||0,color:F.blue},{label:e("WhatsApp"),value:I[2]?.value||0,color:F.emerald},{label:e("Customer Portal"),value:I[3]?.value||0,color:F.yellow},{label:e("Social Media"),value:I[4]?.value||0,color:F.gray}],V=[{label:e("Low"),value:M[0]?.value||0,color:F.gray},{label:e("Medium"),value:M[1]?.value||0,color:F.blue},{label:e("High"),value:M[2]?.value||0,color:F.yellow},{label:e("Urgent"),value:M[3]?.value||0,color:F.red}],J=y.useMemo(()=>A.map(O=>O.csatRating).filter(O=>typeof O=="number"),[A]),Q=y.useMemo(()=>J.length?Math.round(J.reduce((O,q)=>O+q,0)/J.length*10)/10:0,[J]),z=y.useMemo(()=>{const O=new Map;return J.forEach(q=>O.set(q,(O.get(q)||0)+1)),[1,2,3,4,5].map(q=>({label:String(q),value:O.get(q)||0}))},[J]),X=y.useMemo(()=>{const O=new Map;A.forEach(W=>{const te=W.assignedAgent||"Unassigned",re=O.get(te)||[];re.push(W),O.set(te,re)});const q=Array.from(O.entries()).map(([W,te])=>{const re=te.filter(pe=>String(pe.status)==="Closed"),oe=re.length?Math.round(re.reduce((pe,ae)=>{const ge=new Date(ae.createdAt).getTime(),Re=ae.updatedAt?new Date(ae.updatedAt).getTime():ge;return pe+Math.max(0,(Re-ge)/(1e3*60*60))},0)/re.length*10)/10:0,ce=re.filter(pe=>pe.slaDeadline&&new Date(pe.updatedAt||pe.createdAt)<=new Date(pe.slaDeadline)).length,G=re.length?Math.round(ce/re.length*100):0,ie=te.filter(pe=>String(pe.status)==="Escalated").length,ye=te.map(pe=>pe.csatRating).filter(pe=>typeof pe=="number").reduce((pe,ae)=>pe+ae,0),se=te.map(pe=>pe.csatRating).filter(pe=>typeof pe=="number").length,Ie=se?Math.round(ye/se*10)/10:0;return{agent:W,tickets:te.length,closed:re.length,avgHours:oe,slaRate:G,escalations:ie,csatAvg:Ie}});return q.sort((W,te)=>te.tickets-W.tickets),q},[A]),le=({rows:O,fileName:q})=>{const W=()=>{const te=Object.keys(O[0]||{}),re=[te.join(","),...O.map(ie=>te.map(ye=>JSON.stringify(ie[ye]??"")).join(","))].join(`
`),oe=new Blob([re],{type:"text/csv;charset=utf-8;"}),ce=URL.createObjectURL(oe),G=document.createElement("a");G.href=ce,G.download=q||"export.csv",G.click(),URL.revokeObjectURL(ce)};return s.jsx("button",{className:"btn btn-outline btn-xs",onClick:W,children:e("Export CSV")})};return s.jsxs(s.Fragment,{children:[s.jsx("h1",{className:"text-xl font-bold mb-4",children:e("Support Reports & Analytics")}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:[s.jsx("input",{value:c,onChange:O=>d(O.target.value),placeholder:e("Search..."),className:"px-3 py-1 rounded bg-white/5 border border-white/10 text-sm"}),s.jsxs(ss,{value:u,onChange:O=>f(O),className:"px-3 py-1 text-sm",children:[s.jsx("option",{value:"",children:e("Type")}),t.map(O=>s.jsx("option",{value:O,children:e(O)},O))]}),s.jsxs(ss,{value:p,onChange:O=>m(O),className:"px-3 py-1 text-sm",children:[s.jsx("option",{value:"",children:e("Priority")}),a.map(O=>s.jsx("option",{value:O,children:e(O)},O))]}),s.jsxs(ss,{value:v,onChange:O=>g(O),className:"px-3 py-1 text-sm",children:[s.jsx("option",{value:"",children:e("Channel")}),r.map(O=>s.jsx("option",{value:O,children:e(O)},O))]}),s.jsx("input",{type:"date",value:b,onChange:O=>j(O.target.value),className:"px-3 py-1 rounded bg-white/5 border border-white/10 text-sm"}),s.jsx("input",{type:"date",value:k,onChange:O=>S(O.target.value),className:"px-3 py-1 rounded bg-white/5 border border-white/10 text-sm"}),s.jsx("button",{onClick:N,className:"px-3 py-1 rounded bg-white/10 text-sm",children:e("Refresh")})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h2",{className:"text-lg font-semibold",children:e("Average Resolution Time")}),s.jsx(le,{rows:[{avgResolutionHours:E}],fileName:"avg-resolution.csv"})]}),s.jsxs("div",{className:"text-3xl font-bold",children:[E," ",s.jsx("span",{className:"text-sm opacity-70",children:e("hours")})]}),s.jsxs("div",{className:"text-sm opacity-80 mt-2",children:[e("Same day"),": ",D,"  ",e("After SLA"),": ",R]}),s.jsx("div",{className:"mt-3",children:s.jsx(P,{series:U})})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-lg font-semibold mb-2",children:e("Tickets by Channel")}),s.jsx("div",{className:"h-40",children:s.jsx(di,{segments:K,centerLabel:e("Channels"),centerValue:I.reduce((O,q)=>O+q.value,0),animateCenterCountUp:!0,centerValueDuration:800})})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-lg font-semibold mb-2",children:e("Tickets by Priority")}),s.jsx("div",{className:"h-40",children:s.jsx(di,{segments:V,centerLabel:e("Priority"),centerValue:M.reduce((O,q)=>O+q.value,0),animateCenterCountUp:!0,centerValueDuration:800})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h2",{className:"text-lg font-semibold",children:e("Customer Satisfaction (CSAT)")}),J.length>0&&s.jsx(le,{rows:z,fileName:"csat.csv"})]}),J.length>0?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-3xl font-bold",children:[Q," ",s.jsx("span",{className:"text-sm opacity-70",children:"/ 5"})]}),s.jsx("div",{className:"mt-3",children:s.jsx(di,{segments:z.map(O=>({label:O.label,value:O.value,color:F.teal})),centerLabel:e("Ratings"),centerValue:J.length,animateCenterCountUp:!0})})]}):s.jsx("div",{className:"text-sm opacity-70",children:e("No CSAT data available")})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h2",{className:"text-lg font-semibold",children:e("Agent Performance")}),X.length>0&&s.jsx(le,{rows:X,fileName:"agents.csv"})]}),s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left opacity-70",children:[s.jsx("th",{className:"py-1",children:e("Agent")}),s.jsx("th",{className:"py-1",children:e("Tickets")}),s.jsx("th",{className:"py-1",children:e("Closed")}),s.jsx("th",{className:"py-1",children:e("Avg Hours")}),s.jsx("th",{className:"py-1",children:e("SLA %")}),s.jsx("th",{className:"py-1",children:e("Escalations")}),s.jsx("th",{className:"py-1",children:e("CSAT")})]})}),s.jsxs("tbody",{children:[X.map(O=>s.jsxs("tr",{className:"border-t border-white/10",children:[s.jsx("td",{className:"py-1",children:O.agent}),s.jsx("td",{className:"py-1",children:O.tickets}),s.jsx("td",{className:"py-1",children:O.closed}),s.jsx("td",{className:"py-1",children:O.avgHours}),s.jsxs("td",{className:"py-1",children:[O.slaRate,"%"]}),s.jsx("td",{className:"py-1",children:O.escalations}),s.jsx("td",{className:"py-1",children:O.csatAvg?`${O.csatAvg}/5`:"-"})]},O.agent)),!X.length&&s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"py-2 text-sm opacity-70",children:e("No agent data")})})]})]})]})]}),l&&s.jsx("div",{className:"mt-2 text-sm opacity-70",children:e("Loading...")})]})}function R4e(){const{t:e,i18n:t}=St();t.dir();const[a,r]=y.useState([]),[n,i]=y.useState({avgCSAT:0,topAgents:[],bottomAgents:[],dissatisfiedCountThisMonth:0,responseRatePercent:0}),[l,o]=y.useState(!0),[c,d]=y.useState(""),[u,f]=y.useState("All"),[p,m]=y.useState(1),[v,g]=y.useState(!1),[b,j]=y.useState({ticketId:"",customerId:"",rating:5,comment:"",channel:"Email"});y.useEffect(()=>{(async()=>{try{o(!0);const[_,E]=await Promise.all([Sa.get("/api/feedbacks/surveys"),Sa.get("/api/feedbacks/surveys/stats")]);r(_.data?.data?.items||[]),i(E.data?.data||{})}catch(_){console.warn("Failed to load surveys",_)}finally{o(!1)}})()},[]);const k=y.useMemo(()=>{let A=a.slice();return c&&(A=A.filter(_=>JSON.stringify(_).toLowerCase().includes(c.toLowerCase()))),u!=="All"&&(A=A.filter(_=>String(_.agent||"")===String(u))),p&&(A=A.filter(_=>Number(_.rating)>=Number(p))),A},[a,c,u,p]),S=y.useMemo(()=>["All",...Array.from(new Set(a.map(_=>_.agent||"")))],[a]),N=async A=>{A.preventDefault();try{g(!0);const _={...b,rating:Number(b.rating)};await Sa.post("/api/feedbacks/surveys",_),j({ticketId:"",customerId:"",rating:5,comment:"",channel:"Email"});const[E,D]=await Promise.all([Sa.get("/api/feedbacks/surveys"),Sa.get("/api/feedbacks/surveys/stats")]);r(E.data?.data?.items||[]),i(D.data?.data||{})}catch(_){console.warn("Submit survey failed",_)}finally{g(!1)}};return s.jsx(s.Fragment,{children:s.jsxs("section",{className:"px-2 sm:px-4",children:[s.jsx("h1",{className:"text-xl font-bold mb-3",children:e("Feedback & Surveys")}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 mb-4",children:[s.jsxs("div",{className:"nova-card p-4",children:[s.jsx("div",{className:"text-sm opacity-70",children:e("Average CSAT")}),s.jsx("div",{className:"text-2xl font-semibold",children:Number(n.avgCSAT||0).toFixed(2)})]}),s.jsxs("div",{className:"nova-card p-4",children:[s.jsx("div",{className:"text-sm opacity-70",children:e("Dissatisfied Customers (This Month)")}),s.jsx("div",{className:"text-2xl font-semibold",children:n.dissatisfiedCountThisMonth||0})]}),s.jsxs("div",{className:"nova-card p-4",children:[s.jsx("div",{className:"text-sm opacity-70",children:e("Response Rate")}),s.jsxs("div",{className:"text-2xl font-semibold",children:[n.responseRatePercent||0,"%"]})]}),s.jsxs("div",{className:"nova-card p-4",children:[s.jsx("div",{className:"text-sm opacity-70",children:e("Total Surveys")}),s.jsx("div",{className:"text-2xl font-semibold",children:n?.totals?.surveys||a.length})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 mb-4",children:[s.jsxs("div",{className:"nova-card p-4",children:[s.jsx("h2",{className:"text-lg font-semibold mb-2",children:e("Top 5 Agents")}),s.jsx("ul",{className:"space-y-1 text-sm",children:(n.topAgents||[]).map((A,_)=>s.jsxs("li",{className:"flex justify-between",children:[s.jsx("span",{children:A.agent}),s.jsx("span",{className:"font-medium",children:A.avg?.toFixed(2)})]},_))})]}),s.jsxs("div",{className:"nova-card p-4",children:[s.jsx("h2",{className:"text-lg font-semibold mb-2",children:e("Bottom 5 Agents")}),s.jsx("ul",{className:"space-y-1 text-sm",children:(n.bottomAgents||[]).map((A,_)=>s.jsxs("li",{className:"flex justify-between",children:[s.jsx("span",{children:A.agent}),s.jsx("span",{className:"font-medium",children:A.avg?.toFixed(2)})]},_))})]})]}),s.jsx("div",{className:"glass-neon nova-card p-3 mb-3",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[s.jsx("input",{className:"input-sm rounded-md px-3 py-2 border",placeholder:e("Search..."),value:c,onChange:A=>d(A.target.value),style:{backgroundColor:"var(--panel-bg)",color:"var(--content-text)",borderColor:"var(--panel-border)"}}),s.jsx("select",{className:"input-sm rounded-md px-3 py-2",value:u,onChange:A=>f(A.target.value),style:{backgroundColor:"var(--panel-bg)",color:"var(--content-text)",borderColor:"var(--panel-border)"},children:S.map(A=>s.jsx("option",{value:A,children:A},A))}),s.jsx("select",{className:"input-sm rounded-md px-3 py-2",value:p,onChange:A=>m(Number(A.target.value)),style:{backgroundColor:"var(--panel-bg)",color:"var(--content-text)",borderColor:"var(--panel-border)"},children:[1,2,3,4,5].map(A=>s.jsxs("option",{value:A,children:[e("Min Rating")," ",A]},A))})]})}),s.jsxs("div",{className:"nova-card p-4 mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold mb-2",children:e("Submit Survey")}),s.jsxs("form",{onSubmit:N,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2",children:[s.jsx("input",{className:"input-sm rounded-md px-3 py-2 border",placeholder:e("Ticket ID"),value:b.ticketId,onChange:A=>j(_=>({..._,ticketId:A.target.value})),style:{backgroundColor:"var(--panel-bg)",color:"var(--content-text)",borderColor:"var(--panel-border)"}}),s.jsx("input",{className:"input-sm rounded-md px-3 py-2 border",placeholder:e("Customer ID"),value:b.customerId,onChange:A=>j(_=>({..._,customerId:A.target.value})),style:{backgroundColor:"var(--panel-bg)",color:"var(--content-text)",borderColor:"var(--panel-border)"}}),s.jsx("select",{className:"input-sm rounded-md px-3 py-2",value:b.rating,onChange:A=>j(_=>({..._,rating:Number(A.target.value)})),style:{backgroundColor:"var(--panel-bg)",color:"var(--content-text)",borderColor:"var(--panel-border)"},children:[1,2,3,4,5].map(A=>s.jsxs("option",{value:A,children:[A," "]},A))}),s.jsx("select",{className:"input-sm rounded-md px-3 py-2",value:b.channel,onChange:A=>j(_=>({..._,channel:A.target.value})),style:{backgroundColor:"var(--panel-bg)",color:"var(--content-text)",borderColor:"var(--panel-border)"},children:["Email","SMS","WhatsApp"].map(A=>s.jsx("option",{value:A,children:A},A))}),s.jsx("textarea",{className:"input-sm rounded-md px-3 py-2 sm:col-span-2 lg:col-span-4",placeholder:e("Optional comment"),value:b.comment,onChange:A=>j(_=>({..._,comment:A.target.value})),style:{backgroundColor:"var(--panel-bg)",color:"var(--content-text)",borderColor:"var(--panel-border)"}}),s.jsx("div",{className:"sm:col-span-2 lg:col-span-4 flex justify-end",children:s.jsx("button",{className:"btn btn-primary",disabled:v,children:e(v?"Submitting...":"Submit")})})]}),s.jsxs("p",{className:"text-xs opacity-70 mt-2",children:[e("Note"),": ",e("Negative ratings (2) auto-escalate with 24h SLA")]})]}),s.jsx("div",{className:"nova-card p-0 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"nova-table w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left",children:e("Rating")}),s.jsx("th",{className:"px-3 py-2 text-left",children:e("Comment")}),s.jsx("th",{className:"px-3 py-2 text-left",children:e("Ticket ID")}),s.jsx("th",{className:"px-3 py-2 text-left",children:e("Customer ID")}),s.jsx("th",{className:"px-3 py-2 text-left",children:e("Agent")}),s.jsx("th",{className:"px-3 py-2 text-left",children:e("Submitted At")})]})}),s.jsx("tbody",{children:l?s.jsx("tr",{children:s.jsx("td",{className:"px-3 py-6",colSpan:6,children:e("Loading...")})}):k.length?k.map(A=>s.jsxs("tr",{className:"border-t",children:[s.jsxs("td",{className:"px-3 py-2",children:[A.rating," "]}),s.jsx("td",{className:"px-3 py-2",children:A.comment||""}),s.jsx("td",{className:"px-3 py-2",children:A.ticketId}),s.jsx("td",{className:"px-3 py-2",children:A.customerId}),s.jsx("td",{className:"px-3 py-2",children:A.agent||""}),s.jsx("td",{className:"px-3 py-2",children:(A.submittedAt||"").replace("T"," ").slice(0,16)})]},A.id)):s.jsx("tr",{children:s.jsx("td",{className:"px-3 py-6",colSpan:6,children:e("No surveys found")})})})]})})})]})})}const CO=["https://images.unsplash.com/photo-1560518883-ce09059eeffa?q=80&w=1200&auto=format&fit=crop","https://images.unsplash.com/photo-1509395176047-4a66953fd231?q=80&w=1200&auto=format&fit=crop","https://images.unsplash.com/photo-1600585154526-990dced4db0f?q=80&w=1200&auto=format&fit=crop","https://images.unsplash.com/photo-1523217582562-09d0def993a6?q=80&w=1200&auto=format&fit=crop","https://images.unsplash.com/photo-1501183638710-841dd1904471?q=80&w=1200&auto=format&fit=crop","https://images.unsplash.com/photo-1582582494701-1b907a70549e?q=80&w=1200&auto=format&fit=crop"];function Rq(e){const t=String(e||"");let a=0;for(let r=0;r<t.length;r++)a=a*31+t.charCodeAt(r)>>>0;return CO[a%CO.length]}function F4e(){const{i18n:e}=St(),t=String(e.language||"").startsWith("ar");y.useEffect(()=>{try{document.documentElement.dir=t?"rtl":"ltr"}catch{}},[t]);const[a,r]=y.useState(""),[n,i]=y.useState(!1),[l,o]=y.useState(!1),[c,d]=y.useState(!1),[u,f]=y.useState(null),[p,m]=y.useState(null),[v,g]=y.useState([]),[b,j]=y.useState([]),[k,S]=y.useState(["Planning","Active","Sales","Completed"]),[N,A]=y.useState([]),[_,E]=y.useState([]),[D,R]=y.useState([0,500]),[I,M]=y.useState([0,10]),U=y.useMemo(()=>[{name:"Nile Tower Residences",city:"New Cairo",units:180,developer:"Nile Real Estate",status:"Sales",phases:5,docs:42,lastUpdated:"2025-12-10",image:"https://images.unsplash.com/photo-1501183638710-841dd1904471?q=80&w=1200&auto=format&fit=crop",logo:null,description:"Luxury apartments overlooking the Nile corridor with modern amenities.",completion:70,revenue:98e4},{name:"October Business Park",city:"6th of October",units:65,developer:"Horizon Builders",status:"Active",phases:3,docs:28,lastUpdated:"2025-12-08",image:"https://images.unsplash.com/photo-1523217582562-09d0def993a6?q=80&w=1200&auto=format&fit=crop",logo:null,description:"Mixed-use business complex with offices and retail spaces.",completion:55,revenue:52e4},{name:"Marina Seaview",city:"Alexandria",units:120,developer:"Marina Group",status:"Completed",phases:6,docs:60,lastUpdated:"2025-11-25",image:"https://images.unsplash.com/photo-1479839672679-a46483c0e7c8?q=80&w=1200&auto=format&fit=crop",logo:null,description:"Beachfront residences with panoramic sea views and club access.",completion:100,revenue:215e4},{name:"Maadi Gardens",city:"Maadi",units:90,developer:"Alpha Dev",status:"Active",phases:4,docs:33,lastUpdated:"2025-12-12",image:"https://images.unsplash.com/photo-1449844908441-8829872d2607?q=80&w=1200&auto=format&fit=crop",logo:null,description:"Green compound offering family-friendly living with parks and pools.",completion:48,revenue:64e4},{name:"Nasr City Medical Hub",city:"Nasr City",units:40,developer:"CarePlus Developments",status:"Planning",phases:2,docs:18,lastUpdated:"2025-12-05",image:"https://images.unsplash.com/photo-1509395176047-4a66953fd231?q=80&w=1200&auto=format&fit=crop",logo:null,description:"Integrated medical hub with clinics, labs, and outpatient facilities.",completion:20,revenue:0},{name:"Zayed Heights",city:"Elshiekh Zayed",units:150,developer:"Skyline Properties",status:"Sales",phases:5,docs:39,lastUpdated:"2025-12-09",image:"https://images.unsplash.com/photo-1560518883-ce09059eeffa?q=80&w=1200&auto=format&fit=crop",logo:null,description:"Premium high-rise living close to business districts and schools.",completion:62,revenue:112e4}],[]),P=y.useMemo(()=>Array.from(new Set(U.map(X=>X.city))),[U]),F=y.useMemo(()=>Array.from(new Set(U.map(X=>X.developer))),[U]),K=["Planning","Active","Sales","Completed"],V=y.useMemo(()=>{const X=a.trim().toLowerCase();return U.filter(le=>{const O=!X||[le.name,le.city,le.developer,le.description].some(ce=>(ce||"").toLowerCase().includes(X)),q=k.includes(le.status),W=N.length===0||N.includes(le.city),te=_.length===0||_.includes(le.developer),re=(le.units||0)>=D[0]&&(le.units||0)<=D[1],oe=(le.phases||0)>=I[0]&&(le.phases||0)<=I[1];return O&&q&&W&&te&&re&&oe})},[U,a,k,N,_,D,I]),J=(X,le)=>{const O=Date.now();g(q=>[...q,{id:O,type:X,message:le}]),setTimeout(()=>g(q=>q.filter(W=>W.id!==O)),3e3)},Q=()=>{r(""),S(["Planning","Active","Sales","Completed"]),A([]),E([]),R([0,500]),M([0,10])},z={title:t?"":"Projects",search:t?"":"Search",filter:t?"":"Filter",importProjects:t?" ":"Import Projects",createProject:t?" ":"Add project",location:t?"":"Location",units:t?"":"Units",share:t?"":"Share",more:t?"":"More",developer:t?"":"Developer",status:t?"":"Status",city:t?"":"City",phases:t?"":"Phases",clearFilters:t?" ":"Clear Filters",exportPdf:t?" PDF":"Export PDF"};return s.jsxs("div",{className:"p-4 md:p-6 bg-[var(--content-bg)] text-[var(--content-text)] overflow-x-hidden min-w-0",children:[s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"relative inline-flex items-center gap-2",children:[s.jsx("span",{"aria-hidden":!0,className:`inline-block h-[1px] w-12 rounded
             bg-gradient-to-r from-blue-500 via-purple-500 to-transparent`}),s.jsx("h1",{className:"page-title text-2xl font-bold text-start",children:z.title})]}),s.jsxs("div",{className:`flex items-center gap-2 flex-wrap ${t?"flex-row-reverse":""}`,children:[s.jsx("button",{className:"btn btn-glass btn-compact",onClick:()=>i(X=>!X),children:s.jsxs("span",{className:"inline-flex items-center gap-2",children:[s.jsx(ux,{})," ",z.filter]})}),s.jsx("button",{className:"btn btn-glass btn-compact",onClick:()=>o(!0),children:z.importProjects}),s.jsx("button",{className:"btn btn-primary btn-compact",onClick:()=>d(!0),children:s.jsxs("span",{className:"inline-flex items-center gap-2",children:[s.jsx(ho,{})," ",z.createProject]})}),s.jsx("button",{className:"btn btn-glass btn-compact",onClick:()=>V4e(V),children:z.exportPdf})]})]}),n&&s.jsxs("div",{className:`mt-3 p-3 rounded-lg border border-gray-200 dark:border-gray-700 text-sm ${t?"text-end":"text-start"}`,children:[s.jsxs("div",{className:`flex flex-wrap items-center gap-3 mb-3 ${t?"flex-row-reverse":""}`,children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[z.status,":"]}),K.map(X=>s.jsxs("label",{className:`inline-flex items-center gap-2 ${t?"flex-row-reverse":""}`,children:[s.jsx("input",{type:"checkbox",checked:k.includes(X),onChange:le=>{S(O=>le.target.checked?[...O,X]:O.filter(q=>q!==X))}}),s.jsx("span",{children:X})]},X))]}),s.jsxs("div",{className:`flex flex-wrap items-center gap-3 mb-3 ${t?"flex-row-reverse":""}`,children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[z.city,":"]}),P.map(X=>s.jsxs("label",{className:`inline-flex items-center gap-2 ${t?"flex-row-reverse":""}`,children:[s.jsx("input",{type:"checkbox",checked:N.includes(X),onChange:le=>{A(O=>le.target.checked?[...O,X]:O.filter(q=>q!==X))}}),s.jsx("span",{children:X})]},X))]}),s.jsxs("div",{className:`flex flex-wrap items-center gap-3 mb-3 ${t?"flex-row-reverse":""}`,children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[z.developer,":"]}),F.map(X=>s.jsxs("label",{className:`inline-flex items-center gap-2 ${t?"flex-row-reverse":""}`,children:[s.jsx("input",{type:"checkbox",checked:_.includes(X),onChange:le=>{E(O=>le.target.checked?[...O,X]:O.filter(q=>q!==X))}}),s.jsx("span",{children:X})]},X))]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-[var(--muted-text)]",children:z.units}),s.jsxs("span",{className:"text-xs",children:[D[0]," - ",D[1]]})]}),s.jsx("input",{type:"range",min:"0",max:"500",value:D[0],onChange:X=>R([Number(X.target.value),D[1]])}),s.jsx("input",{type:"range",min:"0",max:"500",value:D[1],onChange:X=>R([D[0],Number(X.target.value)])})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-[var(--muted-text)]",children:z.phases}),s.jsxs("span",{className:"text-xs",children:[I[0]," - ",I[1]]})]}),s.jsx("input",{type:"range",min:"0",max:"10",value:I[0],onChange:X=>M([Number(X.target.value),I[1]])}),s.jsx("input",{type:"range",min:"0",max:"10",value:I[1],onChange:X=>M([I[0],Number(X.target.value)])})]})]}),s.jsx("div",{className:`mt-3 flex items-center ${t?"justify-start":"justify-end"}`,children:s.jsx("button",{className:"btn btn-glass",onClick:Q,children:z.clearFilters})})]})]}),s.jsx("div",{className:"mt-4",children:s.jsx(H4e,{projects:V,isRTL:t,onFilterStatus:X=>S([X]),onFilterCity:X=>A([X])})}),s.jsx("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-3 min-w-0",children:V.map((X,le)=>s.jsx("div",{className:"glass-panel rounded-xl overflow-hidden",children:s.jsx(z4e,{p:X,isRTL:t,Label:z,onView:O=>f(O),onEdit:O=>{m(O),d(!0)}})},le))}),l&&s.jsx(I4e,{onClose:()=>o(!1),isRTL:t,addToast:J,addLog:X=>j(le=>[X,...le])}),c&&s.jsx(B4e,{onClose:()=>{d(!1),m(null)},isRTL:t,mode:p?"edit":"create",initialValues:p?{name:p.name||"",developer:p.developer||""}:void 0}),u&&s.jsx(W4e,{p:u,isRTL:t,onClose:()=>f(null)}),s.jsx("div",{className:"fixed z-50 top-20 end-4 flex flex-col gap-2",children:v.map(X=>s.jsx("div",{className:`px-4 py-2 rounded-lg shadow-lg ${X.type==="success"?"bg-emerald-600 text-white":X.type==="error"?"bg-rose-600 text-white":"bg-gray-800 text-white"}`,children:X.message},X.id))})]})}function I4e({onClose:e,isRTL:t,addToast:a,addLog:r}){const[n,i]=y.useState([]),[l,o]=y.useState([]),c=(f="csv")=>{const p=["Project","City","Developer","Units","Phases","Status","Docs","LastUpdated","Image","Logo","Description"],m=["Sample Project","New Cairo","Sample Dev","12","3","Planning","5","2025-10-10","https://picsum.photos/1200/800","","Sample description"];if(f==="csv"){const v=p.join(",")+`
`+m.join(",")+`
`,g=new Blob([v],{type:"text/csv;charset=utf-8;"}),b=URL.createObjectURL(g),j=document.createElement("a");j.href=b,j.download="projects_template.csv",document.body.appendChild(j),j.click(),document.body.removeChild(j),URL.revokeObjectURL(b)}else{const v=sa.aoa_to_sheet([p,m]),g=sa.book_new();sa.book_append_sheet(g,v,"Template"),qr(g,"projects_template.xlsx")}},d=async f=>{const p=Array.from(f.target.files||[]);if(i(p),p[0])try{const m=await p[0].arrayBuffer(),v=Bf(m,{type:"array"}),g=v.SheetNames[0],b=v.Sheets[g],j=sa.sheet_to_json(b,{defval:""});o(j.slice(0,50))}catch{a("error",t?"  ":"Failed to read file")}},u=()=>{if(!n.length){a("error",t?"  ":"Select files first");return}n.forEach(f=>r({fileName:f.name,user:"Current User",timestamp:new Date().toISOString(),status:"Success"})),a("success",t?"  ":"Import successful"),e()};return s.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:e}),s.jsxs("div",{className:"relative z-[210] glass-panel rounded-xl p-4 w-[800px] max-w-[90vw] max-h-[85vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-lg font-semibold",children:t?" ":"Import Projects"}),s.jsx("button",{className:"btn btn-glass",onClick:e,children:t?"":"Close"})]}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsx("p",{className:"text-[var(--muted-text)]",children:t?"  CSV/XLSX  .":"Upload CSV/XLSX files, a preview will show."}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"file",accept:".csv,.xlsx",multiple:!0,onChange:d}),s.jsx("button",{className:"btn btn-glass",onClick:()=>c("csv"),children:t?"  CSV":"Download CSV Template"}),s.jsx("button",{className:"btn btn-glass",onClick:()=>c("xlsx"),children:t?"  XLSX":"Download XLSX Template"})]}),s.jsx("div",{className:"rounded-lg border border-gray-200 dark:border-gray-700 overflow-auto max-h-[300px]",children:s.jsxs("table",{className:"w-full text-xs",children:[s.jsx("thead",{children:s.jsx("tr",{className:"bg-gray-50 dark:bg-gray-800/50",children:l[0]&&Object.keys(l[0]).map(f=>s.jsx("th",{className:"px-2 py-1 text-start",children:f},f))})}),s.jsxs("tbody",{children:[l.map((f,p)=>s.jsx("tr",{className:"border-t border-gray-100 dark:border-gray-800",children:Object.values(f).map((m,v)=>s.jsx("td",{className:"px-2 py-1",children:String(m)},v))},p)),l.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"px-2 py-3 text-center text-[var(--muted-text)]",children:t?"  ":"No preview"})})]})]})}),s.jsxs("div",{className:"flex items-center justify-end gap-3",children:[s.jsx("button",{className:"btn btn-glass",onClick:e,children:t?"":"Cancel"}),s.jsx("button",{className:"btn btn-primary",onClick:u,children:t?"":"Import"})]})]})]})]})}function B4e({onClose:e,isRTL:t,mode:a="create",initialValues:r}){const[n,i]=y.useState(t?"ar":"en"),[l,o]=y.useState("basic"),[c,d]=y.useState({name:r?.name||"",developer:r?.developer||"",category:"",unitPrefix:"",indirectName:"",indirectPhone:"",address:"",minPrice:"",maxPrice:"",minSpace:"",maxSpace:"",driveUrl:"",logoFile:null,mainImageFile:null}),u=p=>m=>d(v=>({...v,[p]:m.target.value})),f=[{id:"basic",label:t?" ":"Basic Info"},{id:"more",label:t?"":"More Info"},{id:"gallery",label:t?"":"Gallery"},{id:"pdf",label:"PDF"},{id:"video",label:t?"":"Video"},{id:"payment",label:t?" ":"Payment Plan"},{id:"master",label:t?" ":"Master Plan"},{id:"map",label:t?"":"Map"},{id:"cil",label:"CIL"}];return s.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:e}),s.jsxs("div",{className:"relative z-[210] bg-[var(--content-bg)] text-[var(--content-text)] w-full h-screen sm:w-[900px] sm:max-w-[92vw] sm:max-h-[88vh] sm:h-auto sm:rounded-2xl border border-gray-200 dark:border-gray-700 shadow-2xl overflow-y-auto",dir:t?"rtl":"ltr",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[s.jsx("div",{className:"flex items-center gap-3",children:s.jsx("h2",{className:"text-xl font-bold",children:a==="edit"?t?" ":"Edit Project":t?" ":"Add project"})}),s.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",title:t?"":"Close",children:s.jsx(Lc,{})})]}),s.jsx("div",{className:"px-4 pt-4",children:s.jsx("div",{className:`flex items-center gap-4 ${t?"flex-row-reverse justify-end":"justify-start"} overflow-x-auto`,dir:t?"rtl":"ltr",children:(t?[...f].slice().reverse():f).map(p=>s.jsx("button",{onClick:()=>o(p.id),className:`px-3 py-2 text-sm rounded-lg border ${l===p.id?"bg-blue-600 text-white border-blue-600":"border-gray-200 dark:border-gray-700 text-[var(--content-text)]"}`,children:p.label},p.id))})}),s.jsxs("div",{className:"p-4 space-y-4",children:[l==="basic"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>i("en"),className:`btn btn-glass btn-compact ${n==="en"?"border-blue-500 text-blue-600 dark:text-blue-300 font-semibold":""}`,children:"English"}),s.jsx("button",{onClick:()=>i("ar"),className:`btn btn-glass btn-compact ${n==="ar"?"border-blue-500 text-blue-600 dark:text-blue-300 font-semibold":""}`,children:t?"":"Arabic"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-end",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?" ":"Upload Logo"}),s.jsx("input",{type:"file",accept:"image/*",onChange:p=>d(m=>({...m,logoFile:p.target.files?.[0]||null}))}),c.logoFile&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:URL.createObjectURL(c.logoFile),alt:"logo preview",className:"h-16 w-auto object-contain rounded-md border"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?"  ":"Upload Main Image"}),s.jsx("input",{type:"file",accept:"image/*",onChange:p=>d(m=>({...m,mainImageFile:p.target.files?.[0]||null}))}),c.mainImageFile&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:URL.createObjectURL(c.mainImageFile),alt:"main preview",className:"h-28 w-full object-cover rounded-md border"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?" ":"Project Name"}),s.jsx("input",{className:"input w-full",value:c.name,onChange:u("name"),placeholder:t?" ":"Project Name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?"":"Developer"}),s.jsx("input",{className:"input w-full",value:c.developer,onChange:u("developer"),placeholder:t?"":"Developer"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?"":"Category"}),s.jsx("input",{className:"input w-full",value:c.category,onChange:u("category"),placeholder:t?"":"Category"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?"  ":"Unit Code Prefix"}),s.jsx("input",{className:"input w-full",value:c.unitPrefix,onChange:u("unitPrefix"),placeholder:t?"  ":"Unit Code Prefix"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?"   ":"Indirect Sales Name"}),s.jsx("input",{className:"input w-full",value:c.indirectName,onChange:u("indirectName"),placeholder:t?"   ":"Indirect Sales Name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?"   ":"Indirect Sales Phone"}),s.jsx("input",{className:"input w-full",value:c.indirectPhone,onChange:u("indirectPhone"),placeholder:t?"   ":"Indirect Sales Phone"})]})]}),s.jsxs("div",{className:`flex items-center justify-end gap-3 ${t?"flex-row-reverse":""}`,children:[s.jsx("button",{className:"btn btn-glass",onClick:e,children:t?"":"Cancel"}),s.jsx("button",{className:"btn btn-primary",onClick:e,children:a==="edit"?t?"":"Update":t?"":"Save"})]})]}),l==="more"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:t?" ":"More Info"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?"":"Address"}),s.jsx("input",{className:"input w-full",value:c.address,onChange:u("address"),placeholder:t?"":"Address"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?"  ":"Min Price"}),s.jsx("input",{type:"number",className:"input w-full",value:c.minPrice,onChange:u("minPrice"),placeholder:t?" ":"Min Price"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?"  ":"Max Price"}),s.jsx("input",{type:"number",className:"input w-full",value:c.maxPrice,onChange:u("maxPrice"),placeholder:t?" ":"Max Price"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?" ":"Min Space"}),s.jsx("input",{type:"number",className:"input w-full",value:c.minSpace,onChange:u("minSpace"),placeholder:t?" ":"Min Space"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?" ":"Max Space"}),s.jsx("input",{type:"number",className:"input w-full",value:c.maxSpace,onChange:u("maxSpace"),placeholder:t?" ":"Max Space"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:"Drive URL"}),s.jsx("input",{className:"input w-full",value:c.driveUrl,onChange:u("driveUrl"),placeholder:"Drive URL"})]}),s.jsxs("div",{className:`flex items-center justify-end gap-3 ${t?"flex-row-reverse":""}`,children:[s.jsx("button",{className:"btn btn-glass",onClick:e,children:t?"":"Cancel"}),s.jsx("button",{className:"btn btn-primary",onClick:e,children:t?"":"Save"})]})]}),l==="gallery"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:t?"":"Gallery"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?" ":"Gallery Images"}),s.jsx("input",{type:"file",multiple:!0,accept:"image/*"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?" ":"Main Image"}),s.jsx("input",{type:"file",accept:"image/*"})]})]}),s.jsxs("div",{className:`flex items-center justify-end gap-3 ${t?"flex-row-reverse":""}`,children:[s.jsx("button",{className:"btn btn-glass",onClick:e,children:t?"":"Cancel"}),s.jsx("button",{className:"btn btn-primary",onClick:e,children:t?"":"Save"})]})]}),l==="pdf"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"PDF"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?" PDF":"PDF Files"}),s.jsx("input",{type:"file",multiple:!0,accept:"application/pdf"})]}),s.jsxs("div",{className:`flex items-center justify-end gap-3 ${t?"flex-row-reverse":""}`,children:[s.jsx("button",{className:"btn btn-glass",onClick:e,children:t?"":"Cancel"}),s.jsx("button",{className:"btn btn-primary",onClick:e,children:t?"":"Save"})]})]}),l==="video"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:t?"":"Video"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?" ":"Video URLs"}),s.jsx("textarea",{className:"input w-full",rows:3,placeholder:t?"     ":"Enter video URLs, one per line"})]}),s.jsxs("div",{className:`flex items-center justify-end gap-3 ${t?"flex-row-reverse":""}`,children:[s.jsx("button",{className:"btn btn-glass",onClick:e,children:t?"":"Cancel"}),s.jsx("button",{className:"btn btn-primary",onClick:e,children:t?"":"Save"})]})]}),l==="payment"&&s.jsx($4e,{isRTL:t,onClose:e,onSave:p=>{d(m=>({...m,paymentPlan:p})),e()}}),l==="master"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:t?" ":"Master Plan"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?"  ":"Master Plan Images"}),s.jsx("input",{type:"file",multiple:!0,accept:"image/*"})]}),s.jsxs("div",{className:`flex items-center justify-end gap-3 ${t?"flex-row-reverse":""}`,children:[s.jsx("button",{className:"btn btn-glass",onClick:e,children:t?"":"Cancel"}),s.jsx("button",{className:"btn btn-primary",onClick:e,children:t?"":"Save"})]})]}),l==="map"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:t?"":"Map"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?" ":"Map URL"}),s.jsx("input",{className:"input w-full",placeholder:"https://..."})]}),s.jsxs("div",{className:`flex items-center justify-end gap-3 ${t?"flex-row-reverse":""}`,children:[s.jsx("button",{className:"btn btn-glass",onClick:e,children:t?"":"Cancel"}),s.jsx("button",{className:"btn btn-primary",onClick:e,children:t?"":"Save"})]})]}),l==="cil"&&s.jsx(U4e,{isRTL:t,onClose:e,onSave:p=>{d(m=>({...m,cil:p})),e()}})]})]})]})}function $4e({isRTL:e,onClose:t,onSave:a}){const[r,n]=y.useState({basePrice:"",downPct:"",installments:"",startDate:"",frequency:"monthly",graceMonths:"0",interestPct:""}),[i,l]=y.useState([]),o=m=>v=>n(g=>({...g,[m]:v.target.value})),c=(m,v)=>{const g=new Date(m||new Date);return g.setMonth(g.getMonth()+v),g.toISOString().slice(0,10)},d=()=>{const m=Number(r.basePrice)||0,v=Math.max(0,Math.min(100,Number(r.downPct)||0)),g=Math.max(0,Math.floor(Number(r.installments)||0)),b=Math.max(0,Math.floor(Number(r.graceMonths)||0)),j=r.startDate||new Date().toISOString().slice(0,10),k=r.frequency==="quarterly"?3:1,S=+(m*v/100).toFixed(2),N=+(m-S).toFixed(2),A=g>0?+(N/g).toFixed(2):0,_=[];S>0&&_.push({no:0,label:e?"":"Down Payment",dueDate:j,amount:S});let E=c(j,b);for(let I=1;I<=g;I++)_.push({no:I,label:e?"":"Installment",dueDate:E,amount:A}),E=c(E,k);const D=_.reduce((I,M)=>I+(M.amount||0),0),R=+(m-D).toFixed(2);Math.abs(R)>=.01&&_.length&&(_[_.length-1].amount=+(_[_.length-1].amount+R).toFixed(2)),l(_)},u=()=>{const v=["No","Label","DueDate","Amount"].join(",")+`
`+i.map(k=>[k.no,k.label,k.dueDate,k.amount].join(",")).join(`
`),g=new Blob([v],{type:"text/csv;charset=utf-8;"}),b=URL.createObjectURL(g),j=document.createElement("a");j.href=b,j.download="payment_plan.csv",j.click(),URL.revokeObjectURL(b)},f=async()=>{const m=(await pn(async()=>{const{default:k}=await Promise.resolve().then(()=>vx);return{default:k}},[])).default,v=await pn(()=>Promise.resolve().then(()=>bx),void 0),g=new m,b=[["No","Label","DueDate","Amount"]],j=i.map(k=>[String(k.no),k.label,k.dueDate,String(k.amount)]);v.default(g,{head:b,body:j}),g.save("payment_plan.pdf")},p=i.reduce((m,v)=>m+(v.amount||0),0);return s.jsxs("div",{className:"space-y-4 text-[var(--content-text)]",children:[s.jsx("h3",{className:"text-lg font-semibold",children:e?" ":"Payment Plan"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:e?" ":"Base Price"}),s.jsx("input",{type:"number",className:"input w-full",value:r.basePrice,onChange:o("basePrice"),placeholder:"EGP"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:e?" (%)":"Down Payment (%)"}),s.jsx("input",{type:"number",className:"input w-full",value:r.downPct,onChange:o("downPct"),placeholder:e?": 10":"e.g., 10"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:e?" ":"Installments Count"}),s.jsx("input",{type:"number",className:"input w-full",value:r.installments,onChange:o("installments"),placeholder:e?": 48":"e.g., 48"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text_sm text-[var(--muted-text)] mb-1",children:e?" ":"Start Date"}),s.jsx("input",{type:"date",className:"input w-full",value:r.startDate,onChange:o("startDate")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:e?"":"Frequency"}),s.jsxs("select",{className:"input w-full",value:r.frequency,onChange:o("frequency"),children:[s.jsx("option",{value:"monthly",children:e?"":"Monthly"}),s.jsx("option",{value:"quarterly",children:e?" ":"Quarterly"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:e?" ":"Grace Months"}),s.jsx("input",{type:"number",className:"input w-full",value:r.graceMonths,onChange:o("graceMonths"),placeholder:"0"})]})]}),s.jsx("div",{className:`flex items-center justify-end gap-3 ${e?"flex-row-reverse":""}`,children:s.jsx("button",{className:"btn btn-glass",onClick:d,children:e?"":"Generate"})}),i.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"glass-panel rounded-xl p-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm",children:[e?"":"Total",": ",s.jsx("span",{className:"font-semibold",children:new Intl.NumberFormat("en-EG",{style:"currency",currency:"EGP",maximumFractionDigits:0}).format(p)})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-glass",onClick:u,children:"CSV"}),s.jsx("button",{className:"btn btn-glass",onClick:f,children:"PDF"}),s.jsx("button",{className:"btn btn-primary",onClick:()=>a&&a(i),children:e?"":"Save"})]})]})}),s.jsx("div",{className:"rounded-xl overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-start p-2",children:"#"}),s.jsx("th",{className:"text-start p-2",children:e?"":"Label"}),s.jsx("th",{className:"text-start p-2",children:e?" ":"Due Date"}),s.jsx("th",{className:"text-start p-2",children:e?"":"Amount"})]})}),s.jsx("tbody",{children:i.map(m=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"p-2",children:m.no}),s.jsx("td",{className:"p-2",children:m.label}),s.jsx("td",{className:"p-2",children:m.dueDate}),s.jsx("td",{className:"p-2",children:new Intl.NumberFormat("en-EG",{style:"currency",currency:"EGP",maximumFractionDigits:0}).format(m.amount)})]},m.no))})]})})]}),s.jsx("div",{className:`flex items-center justify-end gap-3 ${e?"flex-row-reverse":""}`,children:s.jsx("button",{className:"btn btn-glass",onClick:t,children:e?"":"Cancel"})})]})}function U4e({isRTL:e,onClose:t,onSave:a}){const[r,n]=y.useState({brokerCompany:"",brokerRegId:"",commissionType:"percentage",commissionValue:"",attributedClient:!0,leadId:"",campaignSource:"",effectiveFrom:"",effectiveTo:"",status:"Pending",terms:"",notes:"",cilFile:null,supportDocs:[]}),i=u=>f=>n(p=>({...p,[u]:f.target?.type==="checkbox"?f.target.checked:f.target.value})),l=u=>f=>{const p=Array.from(f.target.files||[]);n(m=>({...m,[u]:u==="cilFile"?p[0]||null:p}))},o=()=>{const u=String(r.brokerCompany||"").trim().length>0,f=Number(r.commissionValue),p=!isNaN(f)&&f>0;return u&&p},c=async()=>{const u=(await pn(async()=>{const{default:m}=await Promise.resolve().then(()=>vx);return{default:m}},void 0)).default,f=await pn(()=>Promise.resolve().then(()=>bx),void 0),p=new u;f.default(p,{head:[[e?" CIL":"CIL Statement"]],body:[[(e?" : ":"Broker Company: ")+(r.brokerCompany||"-")],[(e?" : ":"Registration ID: ")+(r.brokerRegId||"-")],[(e?" : ":"Commission Type: ")+(r.commissionType==="percentage"?e?"":"Percentage":e?" ":"Fixed Amount")],[(e?" : ":"Commission Value: ")+String(r.commissionValue||"-")],[(e?"  : ":"Attributed Client: ")+(r.attributedClient?e?"":"Yes":e?"":"No")],[(e?" /: ":"Lead ID: ")+(r.leadId||"-")],[(e?" : ":"Campaign Source: ")+(r.campaignSource||"-")],[(e?" : ":"Effective From: ")+(r.effectiveFrom||"-")],[(e?" : ":"Effective To: ")+(r.effectiveTo||"-")],[(e?": ":"Status: ")+(r.status||"-")],[(e?": ":"Terms: ")+(r.terms||"-")],[(e?": ":"Notes: ")+(r.notes||"-")]],styles:{halign:e?"right":"left"}}),p.save("cil_statement.pdf")},d=()=>{if(!o())return alert(e?"  ":"Please fill required fields");a&&a(r)};return s.jsxs("div",{className:"space-y-4 text-[var(--content-text)]",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"CIL"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:e?" ":"Broker Company"}),s.jsx("input",{className:"input w-full",value:r.brokerCompany,onChange:i("brokerCompany")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:e?" ":"Registration ID"}),s.jsx("input",{className:"input w-full",value:r.brokerRegId,onChange:i("brokerRegId")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:e?" ":"Commission Type"}),s.jsxs("select",{className:"input w-full",value:r.commissionType,onChange:i("commissionType"),children:[s.jsx("option",{value:"percentage",children:e?"":"Percentage"}),s.jsx("option",{value:"fixed",children:e?" ":"Fixed Amount"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:e?" ":"Commission Value"}),s.jsx("input",{type:"number",className:"input w-full",value:r.commissionValue,onChange:i("commissionValue"),placeholder:r.commissionType==="percentage"?e?"":"%":"EGP"})]}),s.jsx("div",{className:`md:col-span-2 flex items-center gap-3 ${e?"flex-row-reverse":""}`,children:s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.attributedClient,onChange:i("attributedClient")}),s.jsx("span",{className:"text-sm",children:e?"   ( )":"Client attributed to broker (commission eligibility)"})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:e?" ":"Lead ID"}),s.jsx("input",{className:"input w-full",value:r.leadId,onChange:i("leadId")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:e?" ":"Campaign Source"}),s.jsx("input",{className:"input w-full",value:r.campaignSource,onChange:i("campaignSource")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:e?" ":"Effective From"}),s.jsx("input",{type:"date",className:"input w-full",value:r.effectiveFrom,onChange:i("effectiveFrom")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:e?" ":"Effective To"}),s.jsx("input",{type:"date",className:"input w-full",value:r.effectiveTo,onChange:i("effectiveTo")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:e?"":"Status"}),s.jsxs("select",{className:"input w-full",value:r.status,onChange:i("status"),children:[s.jsx("option",{value:"Pending",children:e?" ":"Pending"}),s.jsx("option",{value:"Approved",children:e?"":"Approved"}),s.jsx("option",{value:"Rejected",children:e?"":"Rejected"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:e?" CIL":"CIL File"}),s.jsx("input",{type:"file",accept:"application/pdf,image/*",onChange:l("cilFile")}),s.jsx("div",{className:"text-xs text-[var(--muted-text)] mt-1",children:r.cilFile?r.cilFile.name||"1 file":e?"   ":"No file selected"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:e?" ":"Supporting Documents"}),s.jsx("input",{type:"file",multiple:!0,accept:"application/pdf,image/*",onChange:l("supportDocs")}),s.jsxs("div",{className:"text-xs text-[var(--muted-text)] mt-1",children:[r.supportDocs?.length||0," ",e?"":"files"]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:e?"":"Terms"}),s.jsx("textarea",{className:"input w-full",rows:3,value:r.terms,onChange:i("terms")})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:e?"":"Notes"}),s.jsx("textarea",{className:"input w-full",rows:2,value:r.notes,onChange:i("notes")})]})]}),s.jsxs("div",{className:`flex items-center justify-end gap-3 ${e?"flex-row-reverse":""}`,children:[s.jsx("button",{className:"btn btn-glass",onClick:c,children:"PDF"}),s.jsx("button",{className:"btn btn-primary",onClick:d,children:e?"":"Save"}),s.jsx("button",{className:"btn btn-glass",onClick:t,children:e?"":"Cancel"})]})]})}function z4e({p:e,isRTL:t,Label:a,onView:r,onEdit:n}){const i=e.image||Rq(e.name);return s.jsxs("div",{className:"p-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[e.logo&&s.jsx("img",{src:e.logo,alt:`${e.name} logo`,className:"h-7 w-auto"}),s.jsx("h3",{className:"text-base font-semibold",children:e.name}),s.jsx("span",{className:"inline-flex px-2 py-1 text-xs rounded-md bg-blue-50 text-blue-600 dark:bg-blue-900/30 dark:text-blue-300",children:e.status})]}),s.jsxs("div",{className:`flex items-center gap-2 ${t?"flex-row-reverse":""}`,children:[s.jsx("button",{className:"btn-icon",title:t?"":"View","aria-label":t?"":"View",onClick:()=>r&&r(e),children:s.jsx(gu,{className:"w-4 h-4"})}),s.jsx("button",{className:"btn-icon",title:t?"":"Edit","aria-label":t?"":"Edit",onClick:()=>n&&n(e),children:s.jsx(Lf,{className:"w-4 h-4"})}),s.jsx("button",{className:"btn-icon",title:t?"":"Delete","aria-label":t?"":"Delete",children:s.jsx(Px,{className:"w-4 h-4"})})]})]}),i&&s.jsx("div",{className:"mt-2 rounded-lg overflow-hidden",children:s.jsx("img",{src:i,alt:e.name,className:"w-full h-40 md:h-56 object-cover"})}),s.jsxs("div",{className:`mt-2 grid grid-cols-2 md:grid-cols-3 gap-2 text-sm ${t?"text-end":"text-start"}`,children:[s.jsxs("div",{className:`glass-panel tinted-blue px-2 py-1 rounded-md flex items-center gap-2 ${t?"flex-row-reverse":""}`,children:[s.jsx(EA,{className:"opacity-70"})," ",e.city]}),s.jsxs("div",{className:`glass-panel tinted-indigo px-2 py-1 rounded-md flex items-center gap-2 ${t?"flex-row-reverse":""}`,children:[s.jsx(AA,{className:"opacity-70"})," ",e.developer]}),s.jsxs("div",{className:"glass-panel tinted-emerald px-2 py-1 rounded-md",children:[a.units,": ",s.jsx("span",{className:"font-semibold",children:e.units})]}),s.jsxs("div",{className:"glass-panel tinted-violet px-2 py-1 rounded-md",children:[t?"":"Phases",": ",s.jsx("span",{className:"font-semibold",children:e.phases})]}),s.jsxs("div",{className:"glass-panel tinted-amber px-2 py-1 rounded-md",children:[t?"":"Docs",": ",s.jsx("span",{className:"font-semibold",children:e.docs})]}),s.jsxs("div",{className:"glass-panel tinted-blue px-2 py-1 rounded-md",children:[t?" ":"Updated",": ",s.jsx("span",{className:"font-semibold",children:e.lastUpdated})]})]}),s.jsxs("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:`${t?"text-end":"text-start"}`,children:[s.jsx("div",{className:"text-xs text-[var(--muted-text)] mb-1",children:t?" ":"Completion"}),s.jsx("div",{className:"h-2 bg-gray-200 dark:bg-gray-800 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-blue-600",style:{width:`${e.completion||0}%`}})})]}),s.jsxs("div",{className:`${t?"text-end":"text-start"}`,children:[s.jsx("div",{className:"text-xs text-[var(--muted-text)] mb-1",children:t?" ":"Revenue Estimate"}),s.jsx("div",{className:"text-sm font-semibold",children:e.revenue?new Intl.NumberFormat("en-EG",{style:"currency",currency:"EGP",maximumFractionDigits:0}).format(e.revenue):t?" ":"N/A"})]})]}),s.jsx("div",{className:"mt-2 flex items-center justify-end",children:s.jsxs("button",{className:`inline-flex items-center gap-2 text-primary hover:underline ${t?"flex-row-reverse":""}`,title:a.share,children:[s.jsx(gz,{className:t?"scale-x-[-1]":""})," ",a.share]})})]})}function H4e({projects:e,isRTL:t,onFilterStatus:a,onFilterCity:r}){const n=e.reduce((c,d)=>c+(d.units||0),0),i=Array.from(new Set(e.map(c=>c.city))),l=e.filter(c=>(c.status||"").toLowerCase()==="active"||(c.status||"").toLowerCase()==="sales").length,o=["Planning","Active","Sales","Completed"].map(c=>({s:c,count:e.filter(d=>d.status===c).length}));return s.jsxs("div",{className:"glass-panel rounded-xl p-3",children:[s.jsx("h3",{className:"text-sm font-semibold",children:t?" ":"Projects Summary"}),s.jsxs("div",{className:"mt-2 grid grid-cols-3 gap-2 text-sm",children:[s.jsxs("button",{className:"glass-panel tinted-blue p-3 rounded-lg text-start",onClick:()=>a&&a("All"),children:[s.jsx("div",{className:"text-[var(--muted-text)]",children:t?" ":"Projects"}),s.jsx("div",{className:"text-xl font-bold",children:e.length})]}),s.jsxs("div",{className:"glass-panel tinted-indigo p-3 rounded-lg",children:[s.jsx("div",{className:"text-[var(--muted-text)]",children:t?" ":"Total Units"}),s.jsx("div",{className:"text-xl font-bold",children:n})]}),s.jsxs("button",{className:"glass-panel tinted-emerald p-3 rounded-lg text-start",onClick:()=>a&&a("Active"),children:[s.jsx("div",{className:"text-[var(--muted-text)]",children:t?"":"Active"}),s.jsx("div",{className:"text-xl font-bold",children:l})]})]}),s.jsx("div",{className:"mt-2 text-sm text-[var(--muted-text)]",children:s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsxs("span",{children:[t?"":"Cities",":"]}),i.map(c=>s.jsx("button",{className:"px-2 py-0.5 text-xs rounded-md bg-gray-100 dark:bg-gray-800",onClick:()=>r&&r(c),children:c},c))]})}),s.jsx("div",{className:"mt-3 h-28",children:s.jsx(Vr,{data:{labels:o.map(c=>c.s),datasets:[{label:t?" ":"By Status",data:o.map(c=>c.count),backgroundColor:"rgba(59,130,246,0.6)",borderRadius:6}]},options:{plugins:{legend:{display:!1}},responsive:!0,maintainAspectRatio:!1,scales:{y:{ticks:{callback:c=>`${c}`}}}}})})]})}async function V4e(e){try{const t=(await pn(async()=>{const{default:l}=await Promise.resolve().then(()=>vx);return{default:l}},void 0)).default,a=await pn(()=>Promise.resolve().then(()=>bx),void 0),r=new t,n=[["Name","City","Developer","Status","Units","Phases","Docs","Updated"]],i=e.map(l=>[l.name,l.city,l.developer,l.status,String(l.units),String(l.phases),String(l.docs),l.lastUpdated]);a.default(r,{head:n,body:i}),r.save("projects_export.pdf")}catch(t){console.error(t),alert("Failed to export PDF")}}function W4e({p:e,isRTL:t,onClose:a}){return s.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:a}),s.jsxs("div",{className:"relative z-[210] glass-panel rounded-xl p-4 w-[800px] max-w-[90vw] max-h-[85vh] overflow-y-auto",children:[s.jsxs("div",{className:`flex items-center justify-between mb-3 ${t?"flex-row-reverse":""}`,children:[s.jsx("h2",{className:"text-lg font-semibold",children:t?" ":"Project Details"}),s.jsx("button",{className:"btn btn-glass",onClick:a,children:t?"":"Close"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:`text-sm ${t?"text-end":"text-start"}`,children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t?"":"Name",":"]})," ",s.jsx("span",{className:"font-semibold",children:e.name})]}),s.jsxs("div",{className:`text-sm ${t?"text-end":"text-start"}`,children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t?"":"Status",":"]})," ",s.jsx("span",{className:"font-semibold",children:e.status})]}),s.jsxs("div",{className:`text-sm ${t?"text-end":"text-start"}`,children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t?"":"City",":"]})," ",s.jsx("span",{className:"font-semibold",children:e.city})]}),s.jsxs("div",{className:`text-sm ${t?"text-end":"text-start"}`,children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t?"":"Developer",":"]})," ",s.jsx("span",{className:"font-semibold",children:e.developer})]}),s.jsxs("div",{className:`text-sm ${t?"text-end":"text-start"}`,children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t?"":"Units",":"]})," ",s.jsx("span",{className:"font-semibold",children:e.units})]}),s.jsxs("div",{className:`text-sm ${t?"text-end":"text-start"}`,children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t?"":"Phases",":"]})," ",s.jsx("span",{className:"font-semibold",children:e.phases})]}),s.jsxs("div",{className:`text-sm ${t?"text-end":"text-start"}`,children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t?"":"Docs",":"]})," ",s.jsx("span",{className:"font-semibold",children:e.docs})]}),s.jsxs("div",{className:`text-sm ${t?"text-end":"text-start"}`,children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t?" ":"Updated",":"]})," ",s.jsx("span",{className:"font-semibold",children:e.lastUpdated})]}),s.jsxs("div",{className:`text-sm ${t?"text-end":"text-start"}`,children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t?"":"Description",":"]})," ",s.jsx("span",{className:"font-medium",children:e.description})]})]}),s.jsx("div",{className:"rounded-lg overflow-hidden h-48 md:h-full",children:s.jsx("img",{src:e.image||Rq(e.name),alt:e.name,className:"w-full h-full object-cover"})})]})]})]})}function q4e({p:e,isRTL:t,onView:a,onEdit:r,onShare:n,onDelete:i}){return s.jsxs("div",{className:"glass-panel rounded-xl overflow-hidden",children:[s.jsxs("div",{className:"relative h-40 sm:h-48 md:h-56 w-full",children:[s.jsx("img",{src:e.mainImage,alt:e.name,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"}),s.jsxs("div",{className:`absolute bottom-2 left-2 right-2 flex ${t?"flex-row-reverse":""} items-center justify-between`,children:[s.jsxs("div",{className:`flex items-center gap-3 ${t?"flex-row-reverse":""}`,children:[e.logo&&s.jsx("img",{src:e.logo,alt:"logo",className:"w-10 h-10 rounded-md border border-white/30"}),s.jsxs("div",{className:"text-white",children:[s.jsx("div",{className:"text-lg font-semibold drop-shadow",children:e.name}),s.jsxs("div",{className:"text-xs opacity-90",children:[e.city,"  ",e.developer]})]})]}),s.jsx("div",{className:`flex items-center gap-2 ${t?"flex-row-reverse":""}`,children:s.jsx("span",{className:"px-2 py-1 rounded-md text-xs bg-white/20 text-white border border-white/30",children:e.status})})]})]}),s.jsxs("div",{className:"p-3 sm:p-4",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-[var(--muted-text)]",children:"Units:"})," ",s.jsx("span",{className:"font-semibold",children:e.units})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-[var(--muted-text)]",children:"Area:"})," ",s.jsxs("span",{className:"font-semibold",children:[e.area," sqm"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-[var(--muted-text)]",children:"Price:"})," ",s.jsxs("span",{className:"font-semibold",children:["EGP ",e.price.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-[var(--muted-text)]",children:"Docs:"})," ",s.jsx("span",{className:"font-semibold",children:e.documents})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-[var(--muted-text)]",children:"Updated:"})," ",s.jsx("span",{className:"font-semibold",children:e.lastUpdated})]}),e.estimatedRevenue!=null&&s.jsxs("div",{children:[s.jsx("span",{className:"text-[var(--muted-text)]",children:"Est. Revenue:"})," ",s.jsxs("span",{className:"font-semibold",children:["EGP ",e.estimatedRevenue.toLocaleString()]})]})]}),e.description&&s.jsx("div",{className:"mt-3 text-sm text-[var(--muted-text)] line-clamp-2",children:e.description}),s.jsxs("div",{className:"mt-4",children:[s.jsx("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-emerald-500 to-emerald-600",style:{width:`${e.progress||0}%`}})}),s.jsxs("div",{className:"mt-1 text-xs text-[var(--muted-text)]",children:[e.progress||0,"% ",t?" ":"Progress"]})]}),s.jsxs("div",{className:`mt-4 flex items-center gap-2 ${t?"flex-row-reverse":""}`,children:[s.jsxs("button",{className:"btn btn-glass text-xs inline-flex items-center gap-2",onClick:()=>a&&a(e),children:[s.jsx(gu,{})," ",t?"":"View"]}),s.jsxs("button",{className:"btn btn-glass text-xs inline-flex items-center gap-2",onClick:()=>r&&r(e),children:[s.jsx(Lf,{})," ",t?"":"Edit"]}),s.jsxs("button",{className:"btn btn-glass text-xs inline-flex items-center gap-2",onClick:()=>n&&n(e),children:[s.jsx(gz,{})," ",t?"":"Share"]}),s.jsxs("button",{className:"btn btn-glass text-xs inline-flex items-center gap-2",onClick:()=>i&&i(e),children:[s.jsx(Px,{})," ",t?"":"Delete"]})]})]})]})}function G4e({stats:e,isRTL:t,onFilter:a}){const r=({label:n,value:i,filter:l,tone:o="tinted-blue"})=>s.jsxs("button",{className:`glass-panel ${o} rounded-xl p-4 w-full text-left hover:shadow-md transition`,onClick:()=>l&&a(l),children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:n}),s.jsx("div",{className:"text-2xl font-semibold",children:i})]});return s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3",children:[s.jsx(r,{tone:"tinted-blue",label:t?" ":"Total Properties",value:e.total,filter:{type:"all"}}),s.jsx(r,{tone:"tinted-indigo",label:t?" ":"Total Units",value:e.totalUnits}),s.jsx(r,{tone:"tinted-emerald",label:t?"":"Sold",value:e.sold,filter:{type:"status",value:"Sold"}}),s.jsx(r,{tone:"tinted-amber",label:t?"":"Available",value:e.available,filter:{type:"status",value:"Available"}}),s.jsx(r,{tone:"tinted-violet",label:t?"":"Reserved",value:e.reserved,filter:{type:"status",value:"Reserved"}})]})}function K4e({onClose:e,isRTL:t,onImported:a}){const[r,n]=y.useState([]),[i,l]=y.useState([]),[o,c]=y.useState(null),d=v=>{const g=Array.from(v||[]);n(g)},u=async v=>{const b=(await v.text()).split(/\r?\n/).filter(Boolean),j=b[0].split(","),k=b.slice(1).map(S=>{const N=S.split(","),A={};return j.forEach((_,E)=>A[_.trim()]=(N[E]||"").trim()),A});return{headers:j,rows:k}},f=async()=>{if(!r.length)return;const v=r[0];if(v.name.toLowerCase().endsWith(".csv")){const g=await u(v);c(g)}else c({headers:["File","Type","Size"],rows:[{File:v.name,Type:v.type||"xlsx",Size:`${v.size} bytes`}]})},p=async()=>{const v="Admin",g=new Date().toISOString(),b={file:r.map(j=>j.name).join(", "),user:v,ts:g,status:"Success"};l(j=>[b,...j]),o?.rows?.length&&a(o.rows),e()},m=(v="csv")=>{const b=["name","city","developer","status","units","area","price","documents","lastUpdated","description","progress"].join(",")+`
`,j=new Blob([b],{type:"text/csv;charset=utf-8;"}),k=URL.createObjectURL(j),S=document.createElement("a");S.href=k,S.download=`properties_template.${v}`,S.click(),URL.revokeObjectURL(k)};return s.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:e}),s.jsxs("div",{className:"relative z-[210] glass-panel rounded-xl p-4 w-[800px] max-w-[90vw] max-h-[85vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-lg font-semibold",children:t?" ":"Import Properties"}),s.jsx("button",{className:"btn btn-glass",onClick:e,children:t?"":"Close"})]}),s.jsx("div",{className:`border-2 border-dashed rounded-xl p-6 text-center ${t?"dir-rtl":""}`,onDragOver:v=>{v.preventDefault()},onDrop:v=>{v.preventDefault(),d(v.dataTransfer.files)},children:s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(Coe,{className:"text-2xl"}),s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:t?"    ":"Drag files here or choose files"}),s.jsx("input",{type:"file",multiple:!0,accept:".csv,.xlsx",onChange:v=>d(v.target.files),className:"mt-2"})]})}),s.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[s.jsxs("button",{className:"btn btn-glass",onClick:()=>m("csv"),children:[s.jsx(lh,{})," CSV ",t?"":"Template"]}),s.jsxs("button",{className:"btn btn-glass",onClick:()=>m("xlsx"),children:[s.jsx(lh,{})," XLSX ",t?"":"Template"]}),s.jsx("div",{className:"flex-1"}),s.jsx("button",{className:"btn btn-primary",onClick:f,children:t?"":"Preview"}),s.jsx("button",{className:"btn btn-success",onClick:p,disabled:!r.length,children:t?"":"Import"})]}),o&&s.jsx("div",{className:"mt-4 overflow-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsx("tr",{children:o.headers.map((v,g)=>s.jsx("th",{className:"text-left p-2 border-b",children:v},g))})}),s.jsx("tbody",{children:o.rows.slice(0,20).map((v,g)=>s.jsx("tr",{children:o.headers.map((b,j)=>s.jsx("td",{className:"p-2 border-b",children:v[b]},j))},g))})]})}),s.jsxs("div",{className:"mt-4",children:[s.jsx("div",{className:"text-sm font-semibold mb-2",children:t?" ":"Import Log"}),s.jsx("div",{className:"space-y-2",children:i.map((v,g)=>s.jsxs("div",{className:"text-xs text-[var(--muted-text)]",children:[v.ts,"  ",v.user,"  ",v.file,"  ",v.status]},g))})]})]})]})}function Y4e({onClose:e,isRTL:t,onSave:a}){const[r,n]=y.useState("basic"),[i,l]=y.useState({name:"",city:"",developer:"",status:"Available",units:"",area:"",price:"",description:"",gallery:[],layout:[],masterPlan:[],pdfs:[],threed:[],videos:[],mapUrl:"",mainImageFile:null,logoFile:null}),o=["name","city","developer","status"],[c,d]=y.useState({}),u=()=>{const g={};return o.forEach(b=>{String(i[b]||"").trim()||(g[b]="Required")}),d(g),Object.keys(g).length===0},f=(g,b)=>{l(j=>({...j,[g]:[...j[g],...Array.from(b||[])]}))},p=()=>{u()&&(a&&a(i),e())},m=({id:g,label:b})=>s.jsx("button",{className:`px-3 py-2 rounded-md border ${r===g?"bg-blue-600 text-white":""}`,onClick:()=>n(g),children:b}),v=({label:g,keyName:b})=>s.jsxs("div",{className:"border-2 border-dashed rounded-xl p-4 text-sm",onDragOver:j=>{j.preventDefault()},onDrop:j=>{j.preventDefault(),f(b,j.dataTransfer.files)},children:[s.jsx("div",{className:"text-[var(--muted-text)] mb-2",children:g}),s.jsx("input",{type:"file",multiple:!0,onChange:j=>f(b,j.target.files)}),s.jsxs("div",{className:"mt-2 text-xs text-[var(--muted-text)]",children:[i[b]?.length||0," files"]})]});return s.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:e}),s.jsxs("div",{className:"relative z-[210] glass-panel rounded-xl p-4 w-[800px] max-w-[90vw] max-h-[85vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-lg font-semibold",children:t?" ":"Create Property"}),s.jsx("button",{className:"btn btn-glass",onClick:e,children:s.jsx(Lc,{})})]}),s.jsxs("div",{className:`flex items-center gap-2 mb-4 ${t?"flex-row-reverse":""}`,children:[s.jsx(m,{id:"basic",label:t?" ":"Basic Info"}),s.jsx(m,{id:"more",label:t?" ":"More Info"}),s.jsx(m,{id:"gallery",label:t?"":"Gallery"}),s.jsx(m,{id:"layout",label:t?"":"Layout"}),s.jsx(m,{id:"master",label:t?" ":"Master Plan"}),s.jsx(m,{id:"pdf",label:"PDF"}),s.jsx(m,{id:"3d",label:"3D"}),s.jsx(m,{id:"video",label:t?"":"Video"}),s.jsx(m,{id:"map",label:t?"":"Map"})]}),r==="basic"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[["name","city","developer","status","units","area","price"].map(g=>s.jsxs("div",{children:[s.jsx("label",{className:"label capitalize",children:g}),s.jsx("input",{className:"input w-full",value:i[g]||"",onChange:b=>l(j=>({...j,[g]:b.target.value}))}),c[g]&&s.jsx("div",{className:"text-red-500 text-xs mt-1",children:t?" ":"Required field"})]},g)),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"label",children:t?"":"Description"}),s.jsx("textarea",{className:"input w-full",rows:3,value:i.description||"",onChange:g=>l(b=>({...b,description:g.target.value}))})]})]}),r==="more"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Logo URL"}),s.jsx("input",{className:"input w-full",value:i.logo||"",onChange:g=>l(b=>({...b,logo:g.target.value}))}),s.jsx("label",{className:"label mt-2",children:t?" ":"Upload Logo"}),s.jsx("input",{type:"file",accept:"image/*",onChange:g=>l(b=>({...b,logoFile:g.target.files?.[0]||null}))}),(i.logoFile||i.logo)&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:i.logoFile?URL.createObjectURL(i.logoFile):i.logo,alt:"logo preview",className:"h-16 w-auto object-contain rounded-md border"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Main Image URL"}),s.jsx("input",{className:"input w-full",value:i.mainImage||"",onChange:g=>l(b=>({...b,mainImage:g.target.value}))}),s.jsx("label",{className:"label mt-2",children:t?"  ":"Upload Main Image"}),s.jsx("input",{type:"file",accept:"image/*",onChange:g=>l(b=>({...b,mainImageFile:g.target.files?.[0]||null}))}),(i.mainImageFile||i.mainImage)&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:i.mainImageFile?URL.createObjectURL(i.mainImageFile):i.mainImage,alt:"main preview",className:"h-28 w-full object-cover rounded-md border"})})]})]}),r==="gallery"&&s.jsx(v,{label:t?" ":"Gallery Images",keyName:"gallery"}),r==="layout"&&s.jsx(v,{label:t?" ":"Layout Images",keyName:"layout"}),r==="master"&&s.jsx(v,{label:t?"  ":"Master Plan Images",keyName:"masterPlan"}),r==="pdf"&&s.jsx(v,{label:t?" PDF":"PDF Files",keyName:"pdfs"}),r==="3d"&&s.jsx(v,{label:t?"  ":"3D Files",keyName:"threed"}),r==="video"&&s.jsx(v,{label:t?" ":"Video Files",keyName:"videos"}),r==="map"&&s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Map URL"}),s.jsx("input",{className:"input w-full",value:i.mapUrl||"",onChange:g=>l(b=>({...b,mapUrl:g.target.value}))})]}),s.jsxs("div",{className:`mt-4 flex items-center gap-2 ${t?"flex-row-reverse":""}`,children:[s.jsx("button",{className:"btn btn-primary",onClick:p,children:t?"":"Save"}),s.jsx("button",{className:"btn btn-glass",onClick:e,children:t?"":"Cancel"})]})]})]})}function X4e(){const{i18n:e}=St(),t=String(e.language||"").startsWith("ar");y.useEffect(()=>{try{document.documentElement.dir=t?"rtl":"ltr"}catch{}},[t]);const a=y.useMemo(()=>[{id:1,name:"Nile View Residences",city:"Cairo",developer:"Hima Dev",status:"Available",units:120,area:120,price:25e5,documents:12,lastUpdated:"2025-11-05",logo:"https://dummyimage.com/100x100/000/fff.png&text=NV",mainImage:"https://images.unsplash.com/photo-1505691938895-1758d7feb511?q=80&w=1200&auto=format&fit=crop",description:"Prime apartments overlooking the Nile with modern amenities.",progress:35,estimatedRevenue:85e6},{id:2,name:"Palm Villas",city:"Giza",developer:"Hima Dev",status:"Reserved",units:60,area:300,price:65e5,documents:8,lastUpdated:"2025-11-06",logo:"https://dummyimage.com/100x100/111/fff.png&text=PV",mainImage:"https://images.unsplash.com/photo-1505691728975-327f93beedb3?q=80&w=1200&auto=format&fit=crop",description:"Luxury villas with private gardens and pools.",progress:60,estimatedRevenue:12e7},{id:3,name:"Smart Offices",city:"New Cairo",developer:"TechBuild",status:"Sold",units:40,area:95,price:18e5,documents:18,lastUpdated:"2025-11-03",logo:"https://dummyimage.com/100x100/333/fff.png&text=SO",mainImage:"https://images.unsplash.com/photo-1460353581641-37baddab0fa2?q=80&w=1200&auto=format&fit=crop",description:"Modern offices with smart building features.",progress:100,estimatedRevenue:48e6},{id:4,name:"Marina Bay Apartments",city:"Alexandria",developer:"SeaSide Dev",status:"Available",units:200,area:110,price:21e5,documents:10,lastUpdated:"2025-10-29",logo:"https://dummyimage.com/100x100/555/fff.png&text=MB",mainImage:"https://images.unsplash.com/photo-1449844908441-774d237f3b16?q=80&w=1200&auto=format&fit=crop",description:"Sea view apartments with premium facilities.",progress:45,estimatedRevenue:15e7}],[]),[r,n]=y.useState(""),[i,l]=y.useState([]),[o,c]=y.useState([]),[d,u]=y.useState([]),[f,p]=y.useState([]),[m,v]=y.useState([0,1e7]),[g,b]=y.useState([0,500]),[j,k]=y.useState([0,6]),[S,N]=y.useState(!1),[A,_]=y.useState(!1),[E,D]=y.useState(null),R=["Cairo","Giza","New Cairo","Alexandria"],I=["Hima Dev","TechBuild","SeaSide Dev"],M=["Apartment","Villa","Office"],U=y.useMemo(()=>a.filter(q=>{const W=r.trim().toLowerCase(),te=!W||[q.name,q.city,q.developer,q.description].some(Ie=>String(Ie).toLowerCase().includes(W)),re=i.length===0||i.includes(q.status),oe=o.length===0||o.includes(q.city),ce=d.length===0||d.includes(q.developer),G=f.length===0||f.includes(q.type||"Apartment"),ie=q.price>=m[0]&&q.price<=m[1],ye=q.area>=g[0]&&q.area<=g[1],se=(q.rooms||3)>=j[0]&&(q.rooms||3)<=j[1];return te&&re&&oe&&ce&&G&&ie&&ye&&se}),[a,r,i,o,d,f,m,g,j]),P=y.useMemo(()=>({total:a.length,totalUnits:a.reduce((q,W)=>q+(W.units||0),0),sold:a.filter(q=>q.status==="Sold").length,available:a.filter(q=>q.status==="Available").length,reserved:a.filter(q=>q.status==="Reserved").length}),[a]),F=()=>{n(""),l([]),c([]),u([]),p([]),v([0,1e7]),b([0,500]),k([0,6])},K=(q,W,te)=>{W.includes(te)?q(W.filter(re=>re!==te)):q([...W,te])},V=()=>{const q=["name","city","developer","status","units","area","price","documents","lastUpdated","progress"],W=U.map(G=>q.map(ie=>G[ie]??"")),te=q.join(",")+`
`+W.map(G=>G.join(",")).join(`
`),re=new Blob([te],{type:"text/csv;charset=utf-8;"}),oe=URL.createObjectURL(re),ce=document.createElement("a");ce.href=oe,ce.download="properties.csv",ce.click(),URL.revokeObjectURL(oe)},J=async()=>{const[{default:q},W]=await Promise.all([pn(()=>Promise.resolve().then(()=>vx),void 0),pn(()=>Promise.resolve().then(()=>bx),void 0)]),te=new q,re=["Name","City","Dev","Status","Units","Area","Price"],oe=U.map(ce=>[ce.name,ce.city,ce.developer,ce.status,ce.units,ce.area,ce.price]);W.default(te,{head:[re],body:oe}),te.save("properties.pdf")},Q=6,[z,X]=y.useState(1),le=Math.max(1,Math.ceil(U.length/Q)),O=y.useMemo(()=>U.slice((z-1)*Q,z*Q),[U,z]);return s.jsxs("div",{className:"p-4 md:p-6 bg-[var(--content-bg)] text-[var(--content-text)] overflow-x-hidden min-w-0",children:[s.jsx("div",{className:"glass-panel rounded-xl p-4 mb-4",children:s.jsxs("div",{className:`flex items-center justify-between ${t?"flex-row-reverse":""}`,children:[s.jsxs("div",{className:`relative inline-flex flex-col ${t?"items-end":"items-start"} gap-1`,children:[s.jsx("h1",{className:`page-title text-2xl font-bold ${t?"text-end":"text-start"}`,children:t?" ":"Properties Dashboard"}),s.jsx("span",{"aria-hidden":!0,className:`block h-[1px] w-full rounded ${t?"bg-gradient-to-l":"bg-gradient-to-r"} from-blue-500 via-purple-500 to-transparent`})]}),s.jsxs("div",{className:`flex flex-wrap items-center gap-2 ${t?"flex-row-reverse":""}`,children:[s.jsx("button",{className:"btn btn-primary btn-compact",onClick:()=>_(!0),children:t?" ":"Create Property"}),s.jsx("button",{className:"btn btn-glass btn-compact",onClick:()=>N(!0),children:t?"":"Import"}),s.jsx("button",{className:"btn btn-glass btn-compact",onClick:V,children:t?" CSV":"Export CSV"}),s.jsx("button",{className:"btn btn-glass btn-compact",onClick:J,children:t?" PDF":"Export PDF"})]})]})}),s.jsx("div",{className:"h-4"}),s.jsx(G4e,{stats:P,isRTL:t,onFilter:q=>{q.type==="status"?l([q.value]):F()}}),s.jsx("div",{className:"h-4"}),s.jsxs("div",{className:"glass-panel rounded-xl p-4 mt-4",children:[s.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-4 gap-3 ${t?"dir-rtl":""}`,children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Search"}),s.jsx("input",{className:"input w-full",placeholder:t?" ..":"Name, city...",value:r,onChange:q=>n(q.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Status"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:["Available","Sold","Reserved"].map(q=>s.jsx("button",{className:`chip ${i.includes(q)?"chip-active":""}`,onClick:()=>K(l,i,q),children:q},q))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"City"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:R.map(q=>s.jsx("button",{className:`chip ${o.includes(q)?"chip-active":""}`,onClick:()=>K(c,o,q),children:q},q))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Developer"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:I.map(q=>s.jsx("button",{className:`chip ${d.includes(q)?"chip-active":""}`,onClick:()=>K(u,d,q),children:q},q))})]})]}),s.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-3 gap-3 mt-4 ${t?"dir-rtl":""}`,children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Type"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:M.map(q=>s.jsx("button",{className:`chip ${f.includes(q)?"chip-active":""}`,onClick:()=>K(p,f,q),children:q},q))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Price"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"range",min:"0",max:"10000000",value:m[0],onChange:q=>v([Number(q.target.value),m[1]]),className:"flex-1"}),s.jsx("input",{type:"range",min:"0",max:"10000000",value:m[1],onChange:q=>v([m[0],Number(q.target.value)]),className:"flex-1"})]}),s.jsxs("div",{className:"text-xs text-[var(--muted-text)]",children:["EGP ",m[0].toLocaleString()," - ",m[1].toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Area (sqm)"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"range",min:"0",max:"500",value:g[0],onChange:q=>b([Number(q.target.value),g[1]]),className:"flex-1"}),s.jsx("input",{type:"range",min:"0",max:"500",value:g[1],onChange:q=>b([g[0],Number(q.target.value)]),className:"flex-1"})]}),s.jsxs("div",{className:"text-xs text-[var(--muted-text)]",children:[g[0]," - ",g[1]," sqm"]})]})]}),s.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-3 gap-3 mt-4 ${t?"dir-rtl":""}`,children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Rooms"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"range",min:"0",max:"6",value:j[0],onChange:q=>k([Number(q.target.value),j[1]]),className:"flex-1"}),s.jsx("input",{type:"range",min:"0",max:"6",value:j[1],onChange:q=>k([j[0],Number(q.target.value)]),className:"flex-1"})]}),s.jsxs("div",{className:"text-xs text-[var(--muted-text)]",children:[j[0]," - ",j[1]]})]}),s.jsx("div",{className:`md:col-span-2 flex items-center ${t?"justify-start":"justify-end"}`,children:s.jsx("button",{className:"btn btn-glass",onClick:F,children:t?" ":"Clear Filters"})})]})]}),s.jsx("div",{className:"h-4"}),s.jsx("div",{className:"h-4"}),s.jsx("div",{className:"h-4"}),s.jsx("div",{className:"h-4"}),s.jsx("div",{className:"h-4"}),s.jsx("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:O.map(q=>s.jsx(q4e,{p:q,isRTL:t,onView:D,onEdit:()=>_(!0),onShare:()=>navigator?.share?navigator.share({title:q.name,text:q.description,url:window.location.href}):alert("Share not supported"),onDelete:()=>alert("Delete clicked")},q.id))}),s.jsx("div",{className:"h-4"}),s.jsxs("div",{className:`mt-4 flex items-center justify-center gap-2 ${t?"flex-row-reverse":""}`,children:[s.jsx("button",{className:"btn btn-glass",onClick:()=>X(q=>Math.max(1,q-1)),children:t?"":"Prev"}),s.jsxs("span",{className:"text-sm text-[var(--muted-text)]",children:[t?"":"Page"," ",z," / ",le]}),s.jsx("button",{className:"btn btn-glass",onClick:()=>X(q=>Math.min(le,q+1)),children:t?"":"Next"})]}),S&&s.jsx(K4e,{onClose:()=>N(!1),isRTL:t,onImported:q=>console.log("Imported rows",q)}),A&&s.jsx(Y4e,{onClose:()=>_(!1),isRTL:t,onSave:q=>console.log("New property",q)}),E&&s.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>D(null)}),s.jsxs("div",{className:"relative z-[210] glass-panel rounded-xl p-4 w-[800px] max-w-[90vw] max-h-[85vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-lg font-semibold",children:t?" ":"Property Details"}),s.jsx("button",{className:"btn btn-glass",onClick:()=>D(null),children:t?"":"Close"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t?"":"Name",":"]})," ",s.jsx("span",{className:"font-semibold",children:E.name})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t?"":"City",":"]})," ",s.jsx("span",{className:"font-semibold",children:E.city})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t?"":"Developer",":"]})," ",s.jsx("span",{className:"font-semibold",children:E.developer})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t?"":"Status",":"]})," ",s.jsx("span",{className:"font-semibold",children:E.status})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t?"":"Units",":"]})," ",s.jsx("span",{className:"font-semibold",children:E.units})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t?"":"Area",":"]})," ",s.jsxs("span",{className:"font-semibold",children:[E.area," sqm"]})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t?"":"Price",":"]})," ",s.jsxs("span",{className:"font-semibold",children:["EGP ",E.price.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t?" ":"Updated",":"]})," ",s.jsx("span",{className:"font-semibold",children:E.lastUpdated})]})]}),s.jsx("div",{className:"rounded-lg overflow-hidden h-48 md:h-full",children:s.jsx("img",{src:E.mainImage,alt:E.name,className:"w-full h-full object-cover"})})]})]})]})]})}function AO(e){if(!e)return"-";try{return(typeof e=="string"?new Date(e):e).toLocaleDateString()}catch{return String(e)}}function J4e({request:e,isRTL:t=!1,onView:a,onEdit:r,onAssign:n,onApprove:i,onReject:l,onDelete:o,onExport:c}){if(!e)return null;const d=t?"rtl":"ltr",u=t?"justify-end":"justify-start";return s.jsxs("div",{dir:d,className:"bg-white dark:bg-gray-800 shadow rounded-lg p-4 flex flex-col gap-3 transition hover:shadow-md",children:[s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs px-2 py-1 rounded bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:["#",e.id]}),s.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-100",children:e.customerName})]}),s.jsxs("span",{className:"text-xs px-2 py-1 rounded border border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-300",children:[e.type,"  ",e.priority]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Property / Unit"}),s.jsx("span",{className:"text-gray-800 dark:text-gray-100",children:e.propertyUnit||"-"})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Status"}),s.jsx("span",{className:"text-gray-800 dark:text-gray-100",children:e.status})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Created"}),s.jsx("span",{className:"text-gray-800 dark:text-gray-100",children:AO(e.createdAt)})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Updated"}),s.jsx("span",{className:"text-gray-800 dark:text-gray-100",children:AO(e.updatedAt)})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Assigned To"}),s.jsxs("span",{className:"text-gray-800 dark:text-gray-100 flex items-center gap-1",children:[s.jsx(Hoe,{})," ",e.assignedTo||"-"]})]}),s.jsxs("div",{className:"flex flex-col col-span-2 md:col-span-3",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Notes"}),s.jsx("span",{className:"text-gray-800 dark:text-gray-100 line-clamp-2",children:e.description||e.notes||"-"})]})]}),s.jsxs("div",{className:`flex flex-wrap items-center gap-2 ${u}`,children:[s.jsx("button",{onClick:()=>a?.(e),className:"px-3 py-1 text-sm rounded bg-blue-50 text-blue-700 border border-blue-200 hover:bg-blue-100",children:"View"}),s.jsxs("button",{onClick:()=>r?.(e),className:"px-3 py-1 text-sm rounded bg-indigo-50 text-indigo-700 border border-indigo-200 hover:bg-indigo-100 flex items-center gap-1",children:[s.jsx(Uoe,{})," Edit"]}),s.jsx("button",{onClick:()=>n?.(e),className:"px-3 py-1 text-sm rounded bg-amber-50 text-amber-700 border border-amber-200 hover:bg-amber-100",children:"Assign"}),s.jsxs("button",{onClick:()=>i?.(e),className:"px-3 py-1 text-sm rounded bg-green-50 text-green-700 border border-green-200 hover:bg-green-100 flex items-center gap-1",children:[s.jsx(Noe,{})," Approve"]}),s.jsxs("button",{onClick:()=>l?.(e),className:"px-3 py-1 text-sm rounded bg-red-50 text-red-700 border border-red-200 hover:bg-red-100 flex items-center gap-1",children:[s.jsx(Lc,{})," Reject"]}),s.jsxs("button",{onClick:()=>o?.(e),className:"px-3 py-1 text-sm rounded bg-gray-100 text-gray-700 border border-gray-200 hover:bg-gray-200 flex items-center gap-1",children:[s.jsx(Px,{})," Delete"]}),s.jsxs("button",{onClick:()=>c?.(e),className:"px-3 py-1 text-sm rounded bg-teal-50 text-teal-700 border border-teal-200 hover:bg-teal-100 flex items-center gap-1",children:[s.jsx(Doe,{})," Export"]})]})]})}function Q4e({requests:e=[],onFilterStatus:t,onFilterPriority:a,onFilterType:r,isRTL:n=!1}){const i=n?"rtl":"ltr",l=e.length,o=e.reduce((p,m)=>(p[m.status]=(p[m.status]||0)+1,p),{}),c=e.reduce((p,m)=>(p[m.priority]=(p[m.priority]||0)+1,p),{}),d=e.reduce((p,m)=>(p[m.type]=(p[m.type]||0)+1,p),{}),u=(o.Approved||0)+(o.Rejected||0),f=({label:p,value:m,onClick:v})=>s.jsxs("button",{onClick:v,className:"flex flex-col items-start bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded p-4 hover:shadow transition",children:[s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:p}),s.jsx("span",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:m})]});return s.jsxs("div",{dir:i,className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3",children:[s.jsx(f,{label:"Total Requests",value:l}),s.jsx(f,{label:"Pending",value:o.Pending||0,onClick:()=>t?.("Pending")}),s.jsx(f,{label:"In Progress",value:o["In Progress"]||0,onClick:()=>t?.("In Progress")}),s.jsx(f,{label:"Approved",value:o.Approved||0,onClick:()=>t?.("Approved")}),s.jsx(f,{label:"Rejected",value:o.Rejected||0,onClick:()=>t?.("Rejected")}),s.jsx(f,{label:"Completed",value:u}),s.jsx(f,{label:"High Priority",value:c.High||0,onClick:()=>a?.("High")}),s.jsx(f,{label:"Medium Priority",value:c.Medium||0,onClick:()=>a?.("Medium")}),s.jsx(f,{label:"Low Priority",value:c.Low||0,onClick:()=>a?.("Low")}),s.jsx(f,{label:"Inquiry",value:d.Inquiry||0,onClick:()=>r?.("Inquiry")}),s.jsx(f,{label:"Maintenance",value:d.Maintenance||0,onClick:()=>r?.("Maintenance")}),s.jsx(f,{label:"Booking",value:d.Booking||0,onClick:()=>r?.("Booking")})]})}function Z4e({open:e,onClose:t,onImport:a,isRTL:r=!1,currentUser:n="admin"}){const[i,l]=y.useState([]),[o,c]=y.useState([]),[d,u]=y.useState([]),f=r?"rtl":"ltr",p=y.useMemo(()=>["id","customerName","propertyUnit","status","priority","type","description","assignedTo","createdAt","updatedAt"],[]),m=y.useCallback((S,N="info")=>{u(A=>[{ts:new Date().toISOString(),level:N,message:S,user:n},...A])},[u,n]),v=S=>{const N=S.split(/\r?\n/).filter(Boolean);if(!N.length)return[];const A=N[0].split(",").map(E=>E.trim());return N.slice(1).map(E=>{const D=E.split(","),R={};return A.forEach((I,M)=>{R[I]=D[M]}),R})},g=async S=>{const N=Array.from(S||[]);l(N);for(const A of N)try{const _=A.name.toLowerCase().split(".").pop();if(_==="csv"){const E=await A.text(),D=v(E);c(D),m(`CSV parsed: ${A.name} (${D.length} rows)`,"success")}else if(_==="xlsx"||_==="xls"){const E=(await pn(async()=>{const{default:P}=await Promise.resolve().then(()=>eW);return{default:P}},void 0)).default,D=await A.arrayBuffer(),R=E.read(D,{type:"array"}),I=R.SheetNames[0],M=R.Sheets[I],U=E.utils.sheet_to_json(M);c(U),m(`XLSX parsed: ${A.name} (${U.length} rows)`,"success")}else m(`Unsupported file type: ${A.name}`,"error")}catch(_){console.error(_),m(`Failed to parse ${A.name}: ${_.message}`,"error")}},b=S=>{S.preventDefault(),S.stopPropagation(),g(S.dataTransfer.files)},j=()=>{if(!o.length){m("No rows to import","error"),alert("No rows to import");return}a?.(o),m(`Imported ${o.length} row(s)`,"success"),alert(`Imported ${o.length} row(s)`),t?.()},k=async S=>{const N=[p.join(","),""].join(`
`),A=new Blob([N],{type:"text/csv"}),_=URL.createObjectURL(A),E=document.createElement("a");E.href=_,E.download="requests_template.csv",E.click(),URL.revokeObjectURL(_),m(`Template downloaded (${S})`,"info")};return e?s.jsx("div",{dir:f,className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg w-[95vw] max-w-4xl p-4 flex flex-col gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:"Import Requests"}),s.jsx("button",{onClick:t,className:"px-3 py-1 rounded bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:"Close"})]}),s.jsxs("div",{onDrop:b,onDragOver:S=>{S.preventDefault(),S.stopPropagation()},className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded p-6 text-center text-gray-600 dark:text-gray-300",children:[s.jsx("p",{children:"Drag & drop CSV/XLSX files here, or click to select"}),s.jsx("input",{type:"file",multiple:!0,accept:".csv,.xlsx,.xls",onChange:S=>g(S.target.files),className:"mt-3"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>k("csv"),className:"px-3 py-1 rounded bg-blue-50 text-blue-700 border border-blue-200",children:"Download CSV Template"}),s.jsx("button",{onClick:()=>k("xlsx"),className:"px-3 py-1 rounded bg-indigo-50 text-indigo-700 border border-indigo-200",children:"Download XLSX Template"})]}),s.jsx("div",{className:"overflow-auto max-h-60 border border-gray-200 dark:border-gray-700 rounded",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:s.jsx("tr",{children:p.map(S=>s.jsx("th",{className:"px-2 py-1 text-left text-gray-700 dark:text-gray-200 border-b border-gray-200 dark:border-gray-700",children:S},S))})}),s.jsxs("tbody",{children:[o.slice(0,50).map((S,N)=>s.jsx("tr",{className:"odd:bg-white even:bg-gray-50 dark:odd:bg-gray-800 dark:even:bg-gray-700",children:p.map(A=>s.jsx("td",{className:"px-2 py-1 text-gray-800 dark:text-gray-100 border-b border-gray-200 dark:border-gray-700",children:S[A]},A))},N)),!o.length&&s.jsx("tr",{children:s.jsx("td",{colSpan:p.length,className:"px-2 py-6 text-center text-gray-500 dark:text-gray-400",children:"No data preview"})})]})]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-xs max-h-28 overflow-auto border border-gray-200 dark:border-gray-700 rounded p-2 w-1/2",children:d.map((S,N)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`px-2 py-0.5 rounded ${S.level==="success"?"bg-green-50 text-green-700":S.level==="error"?"bg-red-50 text-red-700":"bg-gray-100 text-gray-700"}`,children:S.level}),s.jsx("span",{className:"text-gray-700 dark:text-gray-200",children:S.ts}),s.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:S.user}),s.jsx("span",{className:"text-gray-800 dark:text-gray-100",children:S.message})]},N))}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:j,className:"px-3 py-1 rounded bg-green-50 text-green-700 border border-green-200",children:"Import"}),s.jsx("button",{onClick:t,className:"px-3 py-1 rounded bg-gray-100 text-gray-700 border border-gray-200",children:"Cancel"})]})]})]})}):null}const _O=["Inquiry","Maintenance","Booking"],EO=["Low","Medium","High"],TO=["Pending","In Progress","Approved","Rejected"];function e5e({onFiles:e,label:t}){return s.jsxs("div",{onDrop:a=>{a.preventDefault(),e(Array.from(a.dataTransfer.files))},onDragOver:a=>a.preventDefault(),className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded p-4 text-center text-gray-600 dark:text-gray-300",children:[s.jsx("p",{children:t}),s.jsx("input",{type:"file",multiple:!0,onChange:a=>e(Array.from(a.target.files)),className:"mt-2"})]})}function t5e({open:e,onClose:t,onSave:a,initial:r={},isRTL:n=!1}){const[i,l]=y.useState(r.type||_O[0]),[o,c]=y.useState(r.customerName||""),[d,u]=y.useState(r.propertyUnit||""),[f,p]=y.useState(r.priority||EO[1]),[m,v]=y.useState(r.status||TO[0]),[g,b]=y.useState(r.description||""),[j,k]=y.useState(r.assignedTo||""),[S,N]=y.useState([]),[A,_]=y.useState("basic"),E=n?"rtl":"ltr",D=y.useMemo(()=>o&&i&&f,[o,i,f]),R=()=>{if(!D){alert("Please fill required fields");return}const I={id:r.id||Math.floor(Math.random()*1e5),type:i,customerName:o,propertyUnit:d,priority:f,status:m,description:g,assignedTo:j,createdAt:r.createdAt||new Date().toISOString(),updatedAt:new Date().toISOString(),attachments:S};a?.(I),alert("Request saved"),t?.()};return e?s.jsx("div",{dir:E,className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg w-[95vw] max-w-3xl p-4 flex flex-col gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:r.id?"Edit Request":"Create Request"}),s.jsx("button",{onClick:t,className:"px-3 py-1 rounded bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:"Close"})]}),s.jsx("div",{className:"flex items-center gap-2 border-b border-gray-200 dark:border-gray-700 pb-2",children:["basic","attachments","notes"].map(I=>s.jsx("button",{onClick:()=>_(I),className:`px-3 py-1 rounded ${A===I?"bg-gray-200 dark:bg-gray-700":"bg-gray-100 dark:bg-gray-800"} text-gray-800 dark:text-gray-100`,children:I},I))}),A==="basic"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Request Type"}),s.jsx("select",{value:i,onChange:I=>l(I.target.value),className:"w-full mt-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",children:_O.map(I=>s.jsx("option",{value:I,children:I},I))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Priority"}),s.jsx("select",{value:f,onChange:I=>p(I.target.value),className:"w-full mt-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",children:EO.map(I=>s.jsx("option",{value:I,children:I},I))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Status"}),s.jsx("select",{value:m,onChange:I=>v(I.target.value),className:"w-full mt-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",children:TO.map(I=>s.jsx("option",{value:I,children:I},I))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Assigned Staff"}),s.jsx("input",{value:j,onChange:I=>k(I.target.value),className:"w-full mt-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",placeholder:"e.g. John Doe"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Customer Name"}),s.jsx("input",{value:o,onChange:I=>c(I.target.value),className:"w-full mt-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",placeholder:"Customer Name"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Property / Unit"}),s.jsx("input",{value:d,onChange:I=>u(I.target.value),className:"w-full mt-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",placeholder:"Property or Unit"})]})]}),A==="attachments"&&s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(e5e,{label:"Drag & drop attachments or click to upload",onFiles:I=>N(M=>[...M,...I])}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:[S.map((I,M)=>s.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded p-2 text-sm flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-700 dark:text-gray-200",children:I.name}),s.jsx("button",{onClick:()=>N(U=>U.filter((P,F)=>F!==M)),className:"text-red-600",children:"Remove"})]},M)),!S.length&&s.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No attachments"})]})]}),A==="notes"&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Description / Notes"}),s.jsx("textarea",{value:g,onChange:I=>b(I.target.value),rows:5,className:"w-full mt-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",placeholder:"Enter description"})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{onClick:R,disabled:!D,className:`px-3 py-1 rounded border ${D?"bg-green-50 text-green-700 border-green-200":"bg-gray-100 text-gray-500 border-gray-200 cursor-not-allowed"}`,children:"Save"}),s.jsx("button",{onClick:t,className:"px-3 py-1 rounded bg-gray-100 text-gray-700 border border-gray-200",children:"Cancel"})]})]})}):null}const a5e=[{id:1001,customerName:"Alice Johnson",propertyUnit:"Palm Residency A-12",status:"Pending",priority:"High",type:"Inquiry",createdAt:"2025-10-02",updatedAt:"2025-10-05",assignedTo:"John Doe",description:"Interested in 2BHK, need pricing details."},{id:1002,customerName:"Omar Ali",propertyUnit:"Green Villas V-7",status:"In Progress",priority:"Medium",type:"Maintenance",createdAt:"2025-10-01",updatedAt:"2025-10-06",assignedTo:"Sara Ahmed",description:"AC unit not cooling properly."},{id:1003,customerName:"Emily Clark",propertyUnit:"Blue Towers T-22",status:"Approved",priority:"Low",type:"Booking",createdAt:"2025-09-29",updatedAt:"2025-10-03",assignedTo:"Mark Spencer",description:"Booking confirmed for 1BR apartment."},{id:1004,customerName:"Khaled Mohamed",propertyUnit:"Sunset Apartments S-9",status:"Rejected",priority:"Low",type:"Inquiry",createdAt:"2025-10-03",updatedAt:"2025-10-04",assignedTo:"Nadia Karim",description:"Requested discount not applicable."},{id:1005,customerName:"Sara Ibrahim",propertyUnit:"Palm Residency A-08",status:"Pending",priority:"High",type:"Booking",createdAt:"2025-10-05",updatedAt:"2025-10-05",assignedTo:"John Doe",description:"Urgent booking inquiry for 3BR."}];function s5e(){const{toggleTheme:e}=Ar(),[t,a]=y.useState(!1),[r,n]=y.useState(!0),[i,l]=y.useState(""),[o,c]=y.useState([]),[d,u]=y.useState([]),[f,p]=y.useState([]),[m,v]=y.useState(""),[g,b]=y.useState(""),j=["Pending","In Progress","Approved","Rejected"],k=["Inquiry","Maintenance","Booking"],S=["Low","Medium","High"],N=(oe,ce,G)=>{const ie=oe.includes(G)?oe.filter(ye=>ye!==G):[...oe,G];ce(ie)},A=[...o.map(oe=>({label:oe,kind:"status"})),...d.map(oe=>({label:oe,kind:"type"})),...f.map(oe=>({label:oe,kind:"priority"})),...m?[{label:`From ${m}`,kind:"from"}]:[],...g?[{label:`To ${g}`,kind:"to"}]:[]],[_,E]=y.useState(!1),[D,R]=y.useState(!1),[I,M]=y.useState(a5e),U=y.useMemo(()=>I.filter(oe=>{const ce=i.trim().toLowerCase(),G=!ce||String(oe.id).includes(ce)||(oe.customerName||"").toLowerCase().includes(ce)||(oe.propertyUnit||"").toLowerCase().includes(ce)||(oe.status||"").toLowerCase().includes(ce)||(oe.description||"").toLowerCase().includes(ce),ie=!o.length||o.includes(oe.status),ye=!d.length||d.includes(oe.type),se=!f.length||f.includes(oe.priority),Ie=oe.createdAt?new Date(oe.createdAt).getTime():0,pe=!m||Ie>=new Date(m).getTime(),ae=!g||Ie<=new Date(g).getTime();return G&&ie&&ye&&se&&pe&&ae}),[I,i,o,d,f,m,g]),[P,F]=y.useState(1),K=8,V=Math.max(1,Math.ceil(U.length/K)),J=y.useMemo(()=>U.slice((P-1)*K,P*K),[U,P]),Q=()=>{l(""),c([]),u([]),p([]),v(""),b("")},z=oe=>c([oe]),X=oe=>p([oe]),le=oe=>u([oe]),O=oe=>{M(ce=>ce.find(ie=>ie.id===oe.id)?ce.map(ie=>ie.id===oe.id?oe:ie):[oe,...ce])},q=oe=>{const ce=oe.map((G,ie)=>({id:Number(G.id)||1e4+ie,customerName:G.customerName||G.customer||"",propertyUnit:G.propertyUnit||G.property||"",status:G.status||"Pending",priority:G.priority||"Medium",type:G.type||"Inquiry",description:G.description||"",assignedTo:G.assignedTo||"",createdAt:G.createdAt||new Date().toISOString(),updatedAt:G.updatedAt||new Date().toISOString()}));M(G=>[...ce,...G])},W=async()=>{const oe=(await pn(async()=>{const{default:ie}=await Promise.resolve().then(()=>eW);return{default:ie}},void 0)).default,ce=oe.utils.json_to_sheet(U),G=oe.utils.book_new();oe.utils.book_append_sheet(G,ce,"Requests"),oe.writeFile(G,"requests_export.xlsx")},te=async()=>{const oe=(await pn(async()=>{const{default:se}=await Promise.resolve().then(()=>vx);return{default:se}},void 0)).default,ce=(await pn(async()=>{const{default:se}=await Promise.resolve().then(()=>bx);return{default:se}},void 0)).default,G=new oe,ie=[["ID","Customer","Property/Unit","Status","Priority","Type","Created","Updated"]],ye=U.map(se=>[se.id,se.customerName,se.propertyUnit,se.status,se.priority,se.type,se.createdAt,se.updatedAt]);ce(G,{head:ie,body:ye}),G.save("requests_export.pdf")},re=t?"rtl":"ltr";return s.jsxs("div",{dir:re,className:"p-4 space-y-4",children:[s.jsxs("div",{className:`flex items-center justify-between ${t?"flex-row-reverse":""}`,children:[s.jsxs("div",{className:`relative inline-flex items-center ${t?"flex-row-reverse":""} gap-2`,children:[s.jsx("h1",{className:`page-title text-2xl font-semibold text-gray-800 dark:text-gray-100 ${t?"text-right":"text-left"}`,children:"Requests Dashboard"}),s.jsx("span",{"aria-hidden":!0,className:"absolute block h-[1px] rounded bg-gradient-to-r from-blue-500 via-purple-500 to-transparent",style:{width:"calc(100% + 8px)",left:t?"auto":"-4px",right:t?"-4px":"auto",bottom:"-4px"}})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>a(oe=>!oe),className:"px-3 py-1 rounded bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:t?"EN":"RTL"}),s.jsx("button",{onClick:e,className:"px-3 py-1 rounded bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:"Theme"}),s.jsx("button",{onClick:()=>R(!0),className:"px-3 py-1 rounded bg-indigo-50 text-indigo-700 border border-indigo-200",children:"Import"}),s.jsx("button",{onClick:()=>E(!0),className:"px-3 py-1 rounded bg-green-50 text-green-700 border border-green-200",children:"Create"})]})]}),s.jsx(Q4e,{requests:I,onFilterStatus:z,onFilterPriority:X,onFilterType:le,isRTL:t}),s.jsx("div",{className:"h-4"}),s.jsx("div",{className:"h-4"}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4 space-y-4",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Kj,{className:"absolute left-3 top-3 text-gray-400"}),s.jsx("input",{value:i,onChange:oe=>l(oe.target.value),placeholder:"     ",className:"w-full rounded pl-9 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>n(oe=>!oe),className:"px-3 py-2 rounded bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 flex items-center gap-2",children:[s.jsx(ux,{})," ",r?" ":" "]}),s.jsxs("button",{onClick:W,className:"px-3 py-2 rounded bg-teal-50 text-teal-700 border border-teal-200 flex items-center gap-2",children:[s.jsx(pz,{}),"  Excel"]}),s.jsxs("button",{onClick:te,className:"px-3 py-2 rounded bg-pink-50 text-pink-700 border border-pink-200 flex items-center gap-2",children:[s.jsx(Poe,{}),"  PDF"]})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[A.map((oe,ce)=>s.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 text-sm",children:[oe.label,s.jsx("button",{onClick:()=>{oe.kind==="status"&&c(G=>G.filter(ie=>ie!==oe.label)),oe.kind==="type"&&u(G=>G.filter(ie=>ie!==oe.label)),oe.kind==="priority"&&p(G=>G.filter(ie=>ie!==oe.label)),oe.kind==="from"&&v(""),oe.kind==="to"&&b("")},className:"hover:text-red-600","aria-label":"Remove filter",children:s.jsx(Lc,{})})]},ce)),!A.length&&s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"   "})]}),r&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-300",children:""}),s.jsx("div",{className:"flex flex-wrap gap-2",children:j.map(oe=>{const ce=o.includes(oe);return s.jsx("button",{onClick:()=>N(o,c,oe),className:`px-3 py-1 rounded-full border ${ce?"bg-blue-600 text-white border-blue-700":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-200 border-gray-300 dark:border-gray-600"}`,children:oe},oe)})})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-300",children:""}),s.jsx("div",{className:"flex flex-wrap gap-2",children:k.map(oe=>{const ce=d.includes(oe);return s.jsx("button",{onClick:()=>N(d,u,oe),className:`px-3 py-1 rounded-full border ${ce?"bg-violet-600 text-white border-violet-700":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-200 border-gray-300 dark:border-gray-600"}`,children:oe},oe)})})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-300",children:""}),s.jsx("div",{className:"flex flex-wrap gap-2",children:S.map(oe=>{const ce=f.includes(oe);return s.jsx("button",{onClick:()=>N(f,p,oe),className:`px-3 py-1 rounded-full border ${ce?"bg-emerald-600 text-white border-emerald-700":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-200 border-gray-300 dark:border-gray-600"}`,children:oe},oe)})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("label",{className:"text-xs text-gray-600 dark:text-gray-300",children:""}),s.jsx(gm,{className:"absolute left-3 bottom-3 text-gray-400"}),s.jsx("input",{type:"date",value:m,onChange:oe=>v(oe.target.value),className:"w-full rounded pl-9 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("label",{className:"text-xs text-gray-600 dark:text-gray-300",children:""}),s.jsx(gm,{className:"absolute left-3 bottom-3 text-gray-400"}),s.jsx("input",{type:"date",value:g,onChange:oe=>b(oe.target.value),className:"w-full rounded pl-9 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2"})]})]}),s.jsx("div",{className:"flex items-center justify-end",children:s.jsxs("button",{onClick:Q,className:"px-3 py-2 rounded bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 flex items-center gap-2",children:[s.jsx(Lc,{}),"   "]})})]})]}),s.jsx("div",{className:"h-3"}),s.jsx("div",{className:"h-3"}),s.jsx("div",{className:"h-3"}),s.jsx("div",{className:"h-3"}),s.jsx("div",{className:"h-3"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[J.map(oe=>s.jsx(J4e,{request:oe,isRTL:t,onView:()=>alert(`View request ${oe.id}`),onEdit:()=>E(!0)||null,onAssign:()=>alert(`Assign request ${oe.id}`),onApprove:()=>M(ce=>ce.map(G=>G.id===oe.id?{...G,status:"Approved",updatedAt:new Date().toISOString()}:G)),onReject:()=>M(ce=>ce.map(G=>G.id===oe.id?{...G,status:"Rejected",updatedAt:new Date().toISOString()}:G)),onDelete:()=>M(ce=>ce.filter(G=>G.id!==oe.id)),onExport:async()=>{const ce=(await pn(async()=>{const{default:Ie}=await Promise.resolve().then(()=>vx);return{default:Ie}},void 0)).default,G=(await pn(async()=>{const{default:Ie}=await Promise.resolve().then(()=>bx);return{default:Ie}},void 0)).default,ie=new ce,ye=[["Field","Value"]],se=Object.entries(oe).map(([Ie,pe])=>[Ie,String(pe)]);G(ie,{head:ye,body:se}),ie.save(`request_${oe.id}.pdf`)}},oe.id)),!J.length&&s.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"No requests match filters."})]}),s.jsx("div",{className:"h-4"}),s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("button",{onClick:()=>F(oe=>Math.max(1,oe-1)),className:"px-3 py-1 rounded bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:"Prev"}),s.jsxs("span",{className:"text-gray-700 dark:text-gray-200",children:["Page ",P," / ",V]}),s.jsx("button",{onClick:()=>F(oe=>Math.min(V,oe+1)),className:"px-3 py-1 rounded bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:"Next"})]}),s.jsx(t5e,{open:_,onClose:()=>E(!1),onSave:O,isRTL:t}),s.jsx(Z4e,{open:D,onClose:()=>R(!1),onImport:q,isRTL:t})]})}function r5e(){const{i18n:e}=St(),t=e.language==="ar";return s.jsxs("div",{className:"p-4 bg-[var(--content-bg)] text-[var(--content-text)]",children:[s.jsxs("div",{className:`flex items-center justify-between ${t?"flex-row-reverse":""}`,children:[s.jsxs("div",{className:`relative inline-flex items-center ${t?"flex-row-reverse":""} gap-2`,children:[s.jsx("h1",{className:`page-title text-2xl font-semibold ${t?"text-right":"text-left"}`,children:"Buyer Requests"}),s.jsx("span",{"aria-hidden":!0,className:"absolute block h-[1px] rounded bg-gradient-to-r from-blue-500 via-purple-500 to-transparent",style:{width:"calc(100% + 8px)",left:t?"auto":"-4px",right:t?"-4px":"auto",bottom:"-4px"}})]}),s.jsx("div",{className:"flex items-center gap-2"})]}),s.jsx("p",{className:"mt-2 text-[var(--muted-text)]",children:"Inventory > Buyer Requests placeholder page."})]})}function n5e(){const{i18n:e}=St(),t=e.language==="ar";return s.jsxs("div",{className:"p-4 bg-[var(--content-bg)] text-[var(--content-text)]",children:[s.jsxs("div",{className:`flex items-center justify-between ${t?"flex-row-reverse":""}`,children:[s.jsxs("div",{className:`relative inline-flex items-center ${t?"flex-row-reverse":""} gap-2`,children:[s.jsx("h1",{className:`page-title text-2xl font-semibold ${t?"text-right":"text-left"}`,children:"Seller Requests"}),s.jsx("span",{"aria-hidden":!0,className:"absolute block h-[1px] rounded bg-gradient-to-r from-blue-500 via-purple-500 to-transparent",style:{width:"calc(100% + 8px)",left:t?"auto":"-4px",right:t?"-4px":"auto",bottom:"-4px"}})]}),s.jsx("div",{className:"flex items-center gap-2"})]}),s.jsx("p",{className:"mt-2 text-[var(--muted-text)]",children:"Inventory > Seller Requests placeholder page."})]})}function i5e(){const{i18n:e}=St(),t=e.language==="ar";return s.jsxs("div",{className:"p-4 bg-[var(--content-bg)] text-[var(--content-text)]",children:[s.jsxs("div",{className:`relative inline-flex items-center ${t?"flex-row-reverse":""} gap-2`,children:[s.jsx("h1",{className:`page-title text-2xl font-semibold ${t?"text-right":"text-left"}`,children:"Dev Companies"}),s.jsx("span",{"aria-hidden":!0,className:"absolute block h-[1px] rounded bg-gradient-to-r from-blue-500 via-purple-500 to-transparent",style:{width:"calc(100% + 8px)",left:t?"auto":"-4px",right:t?"-4px":"auto",bottom:"-4px"}})]}),s.jsx("p",{className:"mt-2 text-[var(--muted-text)]",children:"Inventory > Dev Companies placeholder page."})]})}Ls.register(Bn,$n,Xn,yn,bn);function l5e({channelsData:e,height:t=240}){const{t:a}=St(),r=["Email","SMS","Social","Ads"],n=e?.values||[3200,1800,2400,1500],i=["#2563eb","#f59e0b","#22c55e","#8b5cf6"],o=typeof document<"u"&&document.documentElement.classList.contains("dark")?"#e5e7eb":"#374151",c={labels:r,datasets:[{label:a("Channel Performance"),data:n,backgroundColor:i,borderRadius:6,barThickness:24}]},d={responsive:!0,maintainAspectRatio:!1,scales:{x:{grid:{display:!1},ticks:{font:{size:12},color:o}},y:{grid:{display:!1},ticks:{font:{size:12},color:o}}},plugins:{legend:{display:!1}}};return s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3 text-transparent bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 bg-clip-text",children:a("Channel Performance")}),s.jsx("div",{style:{height:typeof t=="number"?`${t}px`:t},children:s.jsx(Vr,{data:c,options:d})}),s.jsx("div",{className:"mt-3 text-xs text-[var(--muted-text)] dark:text-blue-200",children:a("Last 30 Days")})]})}function o5e({isOpen:e,onClose:t,onCreate:a}){const{t:r,i18n:n}=St(),i=(n.language||"").toLowerCase()==="ar",[l,o]=y.useState({name:"",channel:"Email",audience:"",startAt:"",endAt:"",budget:"",description:""}),c=u=>{const{name:f,value:p}=u.target;o(m=>({...m,[f]:p}))},d=u=>{u.preventDefault(),!(!l.name||!l.channel||!l.startAt)&&(a?.(l),t?.())};return e?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:t}),s.jsxs("div",{className:"relative bg-white dark:bg-blue-900 rounded-lg shadow-xl w-full max-w-2xl mx-4",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200 dark:border-blue-700",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:r("Create Campaign")}),s.jsx("button",{className:"text-gray-500 hover:text-gray-700 dark:text-gray-300",onClick:t,children:""})]}),s.jsxs("form",{onSubmit:d,className:"p-4 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:r("Campaign Name")}),s.jsx("input",{type:"text",name:"name",value:l.name,onChange:c,className:"w-full border rounded px-3 py-2 bg-white dark:bg-blue-900 dark:text-white",placeholder:r("e.g., Summer Promo"),required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:r("Channel")}),s.jsxs("select",{name:"channel",value:l.channel,onChange:c,className:"w-full border rounded px-3 py-2 bg-white dark:bg-blue-900 dark:text-white",required:!0,children:[s.jsx("option",{children:"Email"}),s.jsx("option",{children:"SMS"}),s.jsx("option",{children:"Social"}),s.jsx("option",{children:"Ads"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:r("Audience Segment")}),s.jsx("input",{type:"text",name:"audience",value:l.audience,onChange:c,className:"w-full border rounded px-3 py-2 bg-white dark:bg-blue-900 dark:text-white",placeholder:r("e.g., New Leads in 30 days")})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:r("Start At")}),s.jsx("input",{type:"datetime-local",name:"startAt",value:l.startAt,onChange:c,className:"w-full border rounded px-3 py-2 bg-white dark:bg-blue-900 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:r("End At")}),s.jsx("input",{type:"datetime-local",name:"endAt",value:l.endAt,onChange:c,className:"w-full border rounded px-3 py-2 bg-white dark:bg-blue-900 dark:text-white"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:r("Budget")}),s.jsx("input",{type:"number",name:"budget",value:l.budget,onChange:c,className:"w-full border rounded px-3 py-2 bg-white dark:bg-blue-900 dark:text-white",placeholder:"0",min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:r("Description")}),s.jsx("textarea",{name:"description",value:l.description,onChange:c,className:"w-full border rounded px-3 py-2 bg-white dark:bg-blue-900 dark:text-white",rows:3,placeholder:r("Short description")})]}),s.jsxs("div",{className:`flex items-center justify-end gap-2 ${i?"flex-row-reverse":""}`,children:[s.jsx("button",{type:"button",className:"btn",onClick:t,children:r("Cancel")}),s.jsx("button",{type:"submit",className:"btn btn-primary",children:r("Create")})]})]})]})]}):null}Ls.register(Bn,$n,Sl,hi,yn,bn);function c5e({series:e}){const{t}=St(),a=e?.labels||["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=e?.values||[8,10,9,12,15,18,16,20,22,24,23,28],i=typeof document<"u"&&document.documentElement.classList.contains("dark")?"#e5e7eb":"#374151",l={labels:a,datasets:[{label:t("Reports"),data:r,borderColor:"#22c55e",backgroundColor:"rgba(34, 197, 94, 0.15)",tension:.35,pointRadius:3,pointBackgroundColor:"#22c55e",fill:!0}]},o={responsive:!0,maintainAspectRatio:!1,scales:{x:{grid:{display:!1},ticks:{color:i,font:{size:12}}},y:{grid:{display:!1},ticks:{color:i,font:{size:12}}}},plugins:{legend:{display:!1}}};return s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3 text-transparent bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 bg-clip-text",children:t("Reporting Over Time")}),s.jsx("div",{style:{height:"220px"},children:s.jsx(yo,{data:l,options:o})})]})}function d5e(){const{t:e,i18n:t}=St(),a=(t.language||"").toLowerCase()==="ar",[r,n]=y.useState(!1);e("On Track"),e("At Risk"),e("Paused");const i=18,l=25,o=3.2,c=3.7,d=[{id:"meta-1",title:"Meta Ads API",account:e("Account Linked")+": 105",status:e("Linked"),lastSync:"2h",btn:e("Configure")},{id:"meta-2",title:"Meta Ads API",account:e("Account Linked")+": 103",status:e("Linked"),lastSync:"2h",btn:e("Configure")},{id:"meta-3",title:"Meta Ads API",account:e("Account Linked")+": 102",status:e("Linked"),lastSync:"1h",btn:e("Configure")}],u=[{name:e("Summer Promo"),status:"SMS",spend:255,clicks:425,conversions:40,roi:"3.2x"},{name:e("Winback Series"),status:"SMS",spend:205,clicks:355,conversions:29,roi:"2.6x"},{name:e("Product Launch"),status:"SMS",spend:285,clicks:465,conversions:33,roi:"3.0x"},{name:e("Global Ad"),status:"SMS",spend:245,clicks:415,conversions:31,roi:"2.7x"}],f=[{platform:"Meta Ads",spend:886,impressions:6655,conversions:"26%"},{platform:"Google Ads",spend:906,impressions:6888,conversions:"29%"},{platform:"Email",spend:311,impressions:1777,conversions:"18%"},{platform:"SMS",spend:255,impressions:1555,conversions:"33%"}],p=D=>{console.log(" New Campaign Created:",D),n(!1)},[m,v]=y.useState(!1),[g,b]=y.useState(!1),j=async()=>{const D="http://localhost:8787";try{const R=await fetch(`${D}/api/gmail/labels`),I=await R.json();if(!R.ok)throw new Error(I.error||"labels_failed");const M=(I.labels||[]).map(U=>U.name).join(", ");alert(`Gmail Labels: ${M||"No labels"}`)}catch(R){console.error("Fetch Gmail labels failed:",R),alert(`  Labels  Gmail: ${R.message}`)}},k=async()=>{const D="http://localhost:8787";try{await fetch(`${D}/api/oauth/google/revoke`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:"gmail"})})}catch{}try{localStorage.removeItem("oauth_token_gmail"),localStorage.removeItem("oauth_redirect_uri_gmail")}catch{}b(!1),A(R=>R.map(I=>I.id==="gmail"?{...I,status:e("Disconnected"),connected:!1}:I))},S=async()=>{const D="http://localhost:8787";try{await fetch(`${D}/api/oauth/google/revoke`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:"ads"})})}catch{}try{localStorage.removeItem("oauth_token_ads"),localStorage.removeItem("oauth_redirect_uri_ads")}catch{}v(!1),A(R=>R.map(I=>I.id==="google-ads"?{...I,status:e("Disconnected"),connected:!1}:I))},[N,A]=y.useState([{id:"meta",name:"Meta",icon:L5,bg:"bg-[#1877F2]",status:e("Connected"),connected:!0},{id:"mailchimp",name:"MailChimp",icon:R5,bg:"bg-amber-500",status:e("Connected"),connected:!0},{id:"whatsapp",name:"WhatsApp",icon:Hl,bg:"bg-green-500",status:e("Connected"),connected:!0},{id:"gmail",name:"Gmail",icon:Vy,bg:"bg-[#DB4437]",status:e("Disconnected"),connected:!1},{id:"google-ads",name:"Google Ads",icon:Vy,bg:"bg-red-500",status:e("Disconnected"),connected:!1}]),_=()=>{`${Math.random().toString(36).slice(2)}`;{alert("Google Ads Client ID  .  VITE_GOOGLE_ADS_CLIENT_ID   .env    .");return}},E=()=>{`${Math.random().toString(36).slice(2)}`;{alert("Gmail Client ID  .  VITE_GMAIL_CLIENT_ID    VITE_GOOGLE_ADS_CLIENT_ID  .env    .");return}};return y.useEffect(()=>{(async()=>{const R=new URLSearchParams(window.location.search),I=R.get("code"),M=R.get("state")||"";if(!I)return;const U=`${window.location.origin}/crm-ibrahim/`,P="http://localhost:8787";try{if(M.startsWith("gmail:")&&!g){const F=localStorage.getItem("oauth_redirect_uri_gmail"),K=F||void 0||U;console.log("[oauth] exchange Gmail",{redirectUri:K,hasStored:!!F});const V=await fetch(`${P}/api/oauth/google/exchange`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:I,redirectUri:K,provider:"gmail"})}),J=await V.json();if(!V.ok){const Q=J?.message||J?.error||"gmail_exchange_failed",z=J?.details&&(J.details.error_description||J.details.error)||"";console.error("OAuth exchange failed (gmail):",J),alert(`  Gmail: ${Q}${z?"  "+z:""}`);return}try{localStorage.setItem("oauth_token_gmail",JSON.stringify(J.token||J))}catch{}b(!0),A(Q=>Q.map(z=>z.id==="gmail"?{...z,status:e("Connected"),connected:!0}:z))}else if(M.startsWith("ads:")&&!m){const F=localStorage.getItem("oauth_redirect_uri_ads"),K=F||void 0||U;console.log("[oauth] exchange Google Ads",{redirectUri:K,hasStored:!!F});const V=await fetch(`${P}/api/oauth/google/exchange`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:I,redirectUri:K,provider:"ads"})}),J=await V.json();if(!V.ok){const Q=J?.message||J?.error||"ads_exchange_failed",z=J?.details&&(J.details.error_description||J.details.error)||"";console.error("OAuth exchange failed (ads):",J),alert(`  Google Ads: ${Q}${z?"  "+z:""}`);return}try{localStorage.setItem("oauth_token_ads",JSON.stringify(J.token||J))}catch{}v(!0),A(Q=>Q.map(z=>z.id==="google-ads"?{...z,status:e("Connected"),connected:!0}:z))}}catch(F){console.error("OAuth exchange failed:",F),alert(`  ${M.startsWith("gmail:")?"Gmail":"Google Ads"}: ${F.message}`)}finally{const F=window.location.origin+"/crm-ibrahim/"+window.location.hash;window.history.replaceState({},document.title,F)}})()},[m,g,e]),s.jsxs("div",{className:"space-y-6 bg-[var(--content-bg)] text-[var(--content-text)] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:e("Marketing Modules (Enhanced)")}),s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:e("Welcome, Super Admin!")})]}),s.jsx("div",{className:`flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:s.jsx("button",{className:"btn btn-primary",onClick:()=>n(!0),children:e("Create Campaign")})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-4",children:[s.jsxs("section",{className:"card glass-card p-4 lg:col-span-3",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Overview")}),s.jsxs("div",{className:"flex items-start gap-6",children:[s.jsx(di,{percentage:80,centerValue:i,centerLabel:`${e("Total Active Campaigns")}:`,centerLabelPosition:"above",subLabel:e("Last 30 Days"),size:200,primaryColor:"#2dd4bf",secondaryColor:"#475569",cutout:"60%",spacing:0,borderRadius:12,centerValueClass:"text-4xl font-bold",centerLabelClass:"text-xs text-[var(--muted-text)] mb-1",subLabelClass:"text-[10px] text-[var(--muted-text)] mt-0.5",innerTrack:!0,innerTrackRadius:"92%",innerTrackCutout:"86%",innerTrackColor:"#3f4a5a"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[s.jsx("div",{className:"px-3 py-1 rounded-lg border border-[var(--panel-border)] bg-[var(--panel-bg)] text-xs text-[var(--muted-text)]",children:e("Avg Open Rate")}),s.jsx("div",{className:"px-3 py-1 rounded-lg border border-[var(--panel-border)] bg-[var(--panel-bg)] text-xs text-[var(--muted-text)]",children:e("Avg Click Rate")})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-baseline justify-between",children:[s.jsx("span",{className:"text-xs text-[var(--muted-text)]",children:e("Avg Open Rate")}),s.jsxs("div",{className:"flex items-baseline gap-8",children:[s.jsxs("span",{className:"text-xl font-bold",children:[l,"%"]}),s.jsxs("span",{className:"text-xl font-bold",children:[o,"%"]})]})]}),s.jsxs("div",{className:"flex items-baseline justify-between",children:[s.jsx("span",{className:"text-xs text-[var(--muted-text)]",children:e("Conversion Rate")}),s.jsxs("div",{className:"flex items-baseline gap-8",children:[s.jsxs("span",{className:"text-xl font-bold",children:[c,"%"]}),s.jsxs("span",{className:"text-xl font-bold",children:[c,"%"]})]})]})]})]})]})]}),s.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-4 gap-3",children:[d.map(D=>s.jsxs("section",{className:"card glass-card p-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"text-sm font-semibold",children:D.title}),s.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-200",children:D.status})]}),s.jsxs("div",{className:"text-xs text-[var(--muted-text)] mb-3",children:[D.account,"  ",e("Last Sync"),": ",D.lastSync]}),s.jsx("button",{className:"btn btn-secondary w-full h-9 text-sm",children:D.btn})]},D.id)),s.jsx("section",{className:"card glass-card p-3",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-around",children:[s.jsx("span",{className:"inline-flex items-center justify-center w-10 h-10 rounded-xl bg-[#1877F2]",children:L5&&s.jsx(L5,{className:"text-white w-4 h-4"})}),s.jsx("span",{className:"inline-flex items-center justify-center w-10 h-10 rounded-xl bg-red-500",children:Vy&&s.jsx(Vy,{className:"text-white w-4 h-4"})})]}),s.jsxs("div",{className:"flex items-center justify-around",children:[s.jsx("span",{className:"inline-flex items-center justify-center w-10 h-10 rounded-xl bg-amber-500",children:R5&&s.jsx(R5,{className:"text-white w-4 h-4"})}),s.jsx("span",{className:"inline-flex items-center justify-center w-10 h-10 rounded-xl bg-green-500",children:Hl&&s.jsx(Hl,{className:"text-white w-4 h-4"})})]})]})})]})]}),s.jsx("div",{className:"border-t border-[var(--panel-border)] my-2 md:my-3"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 items-stretch",children:[s.jsxs("div",{className:"flex flex-col h-full gap-4",children:[s.jsxs("section",{className:"card glass-card p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Top Active Campaigns Dashboard")}),s.jsx(l5e,{height:180})]}),s.jsxs("section",{className:"card glass-card p-4 h-[300px] flex flex-col",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Campaign Management Last 30 Days")}),s.jsx("div",{className:"flex-1",children:s.jsxs("table",{className:"nova-table w-full table-fixed text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left text-gray-600 dark:text-gray-300",children:[s.jsx("th",{className:"py-2 px-4",children:e("Campaign Name")}),s.jsx("th",{className:"py-2 px-4",children:e("Status")}),s.jsx("th",{className:"py-2 px-4",children:e("Spend")}),s.jsx("th",{className:"py-2 px-4",children:e("Clicks")}),s.jsx("th",{className:"py-2 px-4",children:e("Conversions")}),s.jsx("th",{className:"py-2 px-4",children:"ROI"})]})}),s.jsx("tbody",{className:"text-gray-800 dark:text-gray-100",children:u.map((D,R)=>s.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-800",children:[s.jsx("td",{className:"py-2 px-4",children:D.name}),s.jsx("td",{className:"py-2 px-4",children:D.status}),s.jsx("td",{className:"py-2 px-4",children:D.spend}),s.jsx("td",{className:"py-2 px-4",children:D.clicks}),s.jsx("td",{className:"py-2 px-4",children:D.conversions}),s.jsx("td",{className:"py-2 px-4",children:D.roi})]},R))})]})})]})]}),s.jsxs("div",{className:"flex flex-col h-full gap-4",children:[s.jsxs("section",{className:"card glass-card p-4 flex-1 min-h-0",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Cross-Channel Performance")}),s.jsx("div",{children:s.jsxs("table",{className:"nova-table w-full table-fixed text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left text-gray-600 dark:text-gray-300",children:[s.jsx("th",{className:"py-2 px-4",children:e("Platform")}),s.jsx("th",{className:"py-2 px-4",children:e("Spend")}),s.jsx("th",{className:"py-2 px-4",children:e("Impressions")}),s.jsx("th",{className:"py-2 px-4",children:e("Conversions")})]})}),s.jsx("tbody",{className:"text-gray-800 dark:text-gray-100",children:f.map((D,R)=>s.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-800",children:[s.jsx("td",{className:"py-2 px-4",children:D.platform}),s.jsx("td",{className:"py-2 px-4",children:D.spend}),s.jsx("td",{className:"py-2 px-4",children:D.impressions}),s.jsx("td",{className:"py-2 px-4",children:D.conversions})]},R))})]})})]}),s.jsxs("section",{className:"card glass-card p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Automation & Rules")}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsx("div",{className:"p-3 rounded border border-[var(--panel-border)] bg-[var(--panel-bg)] text-sm text-[var(--muted-text)]",children:e("Pause Google Ads campaign if CPA exceeds 3x")}),s.jsxs("button",{className:"btn btn-outline",children:["+ ",e("Create Automation Rule")]})]})]}),s.jsx("section",{className:"card glass-card p-4",children:s.jsxs("div",{className:`flex items-center justify-between gap-3 ${a?"flex-row-reverse":""}`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{className:"btn btn-primary",onClick:()=>n(!0),children:["+ ",e("Create New Campaign")]}),s.jsx("button",{className:"btn btn-secondary",children:e("Edit")}),s.jsx("button",{className:"btn btn-outline",children:e("View")})]}),s.jsxs("div",{className:"text-xs text-[var(--muted-text)]",children:["Increase Google budget exceeds 10%  ",e("Create Automation Rule")]})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[s.jsx("section",{className:"card glass-card p-4",children:s.jsx(c5e,{})}),s.jsxs("section",{className:"card glass-card p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Integration Status")}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:N.map(D=>s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded border border-[var(--panel-border)] bg-[var(--panel-bg)]",children:[s.jsx("span",{className:`inline-flex items-center justify-center w-8 h-8 rounded-lg ${D.bg}`,children:D.icon&&D.icon({className:"text-white w-4 h-4"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:D.name}),s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:D.status})]}),s.jsx("span",{className:`w-2 h-2 rounded-full ${D.connected?"bg-emerald-500":"bg-red-500"}`}),D.id==="google-ads"&&!D.connected&&s.jsx("button",{className:"btn btn-primary btn-sm",onClick:_,children:e("Connect")}),D.id==="google-ads"&&D.connected&&s.jsx("button",{className:"btn btn-outline btn-sm",onClick:S,children:e("Disconnect")}),D.id==="gmail"&&!D.connected&&s.jsx("button",{className:"btn btn-primary btn-sm",onClick:E,children:e("Connect")}),D.id==="gmail"&&D.connected&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-secondary btn-sm",onClick:j,children:e("Fetch")}),s.jsx("button",{className:"btn btn-outline btn-sm",onClick:k,children:e("Disconnect")})]})]},D.id))})]})]}),s.jsx(o5e,{isOpen:r,onClose:()=>n(!1),onCreate:p})]})}const Zf="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='128'%20height='128'%20viewBox='0%200%20128%20128'%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%3e%3cdefs%3e%3clinearGradient%20id='brandGradient'%20x1='12'%20y1='12'%20x2='116'%20y2='116'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0%25'%20stop-color='%23ffffff'/%3e%3cstop%20offset='45%25'%20stop-color='%23c7d2fe'/%3e%3c!--%20indigo-200%20--%3e%3cstop%20offset='100%25'%20stop-color='%237c3aed'/%3e%3c!--%20violet-600%20--%3e%3c/linearGradient%3e%3c/defs%3e%3crect%20x='12'%20y='12'%20width='104'%20height='104'%20rx='18'%20stroke='url(%23brandGradient)'%20stroke-width='10'%20/%3e%3c!--%20Stylized%20B%20with%20an%20arrow%20to%20suggest%20simplicity/progress%20--%3e%3cpath%20d='M44%2032%20h24%20c14%200%2022%208%2022%2020%20c0%208%20-5%2014%20-12%2016%20c8%202%2014%208%2014%2018%20c0%2012%20-10%2020%20-24%2020%20H44%20V32%20Z'%20stroke='url(%23brandGradient)'%20stroke-width='10'/%3e%3cpath%20d='M24%2064%20H64'%20stroke='url(%23brandGradient)'%20stroke-width='10'/%3e%3cpath%20d='M64%2064%20l10%20-6%20l-4%206%20l4%206%20z'%20fill='url(%23brandGradient)'/%3e%3c/svg%3e",io=e=>{const t={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",className:"w-5 h-5",style:{display:"block"}};switch(e){case"Dashboard":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("rect",{x:"4",y:"4",width:"6",height:"6",rx:"1"}),s.jsx("rect",{x:"14",y:"4",width:"6",height:"4",rx:"1"}),s.jsx("rect",{x:"14",y:"11",width:"6",height:"9",rx:"1"}),s.jsx("rect",{x:"4",y:"13",width:"6",height:"7",rx:"1"})]});case"Lead Management":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("circle",{cx:"12",cy:"8",r:"3"}),s.jsx("path",{d:"M6 21v-2a6 6 0 0112 0v2"})]});case"Inventory":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("path",{d:"M3 7l9-4 9 4v10l-9 4-9-4V7"}),s.jsx("path",{d:"M3 7l9 4 9-4"})]});case"Marketing Modules":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("path",{d:"M3 10v4l12 4V6L3 10z"}),s.jsx("path",{d:"M19 8v8"}),s.jsx("circle",{cx:"7",cy:"12",r:"2"})]});case"Customers":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("circle",{cx:"8",cy:"9",r:"2.5"}),s.jsx("circle",{cx:"16",cy:"9",r:"2.5"}),s.jsx("path",{d:"M3 20v-1a5 5 0 015-5h8a5 5 0 015 5v1"})]});case"Reports":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("path",{d:"M5 20V10"}),s.jsx("path",{d:"M10 20V6"}),s.jsx("path",{d:"M15 20V13"}),s.jsx("path",{d:"M20 20V4"})]});case"User Management":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("circle",{cx:"12",cy:"8",r:"3"}),s.jsx("path",{d:"M4 20v-1a7 7 0 0116 0v1"})]});case"Support":return s.jsx("svg",{...t,"aria-hidden":"true",children:s.jsx("path",{d:"M21 12a9 9 0 10-18 0 3 3 0 003 3h1v3l4-3h6a3 3 0 003-3z"})});case"Settings":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("circle",{cx:"12",cy:"12",r:"2.5"}),s.jsx("path",{d:"M19.4 15a7.5 7.5 0 000-6l-2 .7-1-1.7 1.3-1.6a9 9 0 00-6 0L12 7 10.3 5.4a9 9 0 00-6 0L5.6 7 4.6 8.7l-2-.7a7.5 7.5 0 000 6l2-.7 1 1.7-1.3 1.6a9 9 0 006 0L12 17l1.7 1.6a9 9 0 006 0L18.4 17l1-1.7 2 .7z"})]});case"Recycle Bin":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("path",{d:"M3 6h18"}),s.jsx("path",{d:"M8 6V4a2 2 0 012-2h4a2 2 0 012 2v2"}),s.jsx("path",{d:"M19 6v12a2 2 0 01-2 2H7a2 2 0 01-2-2V6"}),s.jsx("path",{d:"M10 11v6"}),s.jsx("path",{d:"M14 11v6"})]});case"Contact us":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("rect",{x:"4",y:"6",width:"16",height:"12",rx:"2"}),s.jsx("path",{d:"M4 8l8 6 8-6"})]});default:return s.jsx("svg",{...t,"aria-hidden":"true",children:s.jsx("circle",{cx:"12",cy:"12",r:"2.5"})})}},u5e=e=>{const t={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",className:"w-4 h-4",style:{display:"block"}};switch(e){case"Categories":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("path",{d:"M4 7h14"}),s.jsx("path",{d:"M4 12h14"}),s.jsx("path",{d:"M4 17h10"}),s.jsx("rect",{x:"2",y:"5",width:"2",height:"2",rx:"0.5"}),s.jsx("rect",{x:"2",y:"10",width:"2",height:"2",rx:"0.5"}),s.jsx("rect",{x:"2",y:"15",width:"2",height:"2",rx:"0.5"})]});case"Developers":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("rect",{x:"4",y:"5",width:"6",height:"14",rx:"1"}),s.jsx("rect",{x:"12",y:"9",width:"8",height:"10",rx:"1"}),s.jsx("path",{d:"M6 7h2M6 10h2M6 13h2M6 16h2"}),s.jsx("path",{d:"M14 11h2M14 14h2M14 17h2"})]});case"Brokers":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("circle",{cx:"7",cy:"8",r:"2.5"}),s.jsx("path",{d:"M2 20v-1a6 6 0 016-6"}),s.jsx("circle",{cx:"17",cy:"8",r:"2.5"}),s.jsx("path",{d:"M22 20v-1a6 6 0 00-6-6"}),s.jsx("path",{d:"M8 14l4 3 4-3"})]});case"Products":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("path",{d:"M12 3l7 4-7 4-7-4 7-4"}),s.jsx("path",{d:"M5 7v7l7 4 7-4V7"})]});case"Items":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("path",{d:"M6 6h12"}),s.jsx("path",{d:"M6 12h12"}),s.jsx("path",{d:"M6 18h12"}),s.jsx("circle",{cx:"3",cy:"6",r:"1"}),s.jsx("circle",{cx:"3",cy:"12",r:"1"}),s.jsx("circle",{cx:"3",cy:"18",r:"1"})]});case"Warehouse":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("path",{d:"M3 7l9-4 9 4v10l-9 4-9-4V7"}),s.jsx("path",{d:"M7 10h10"}),s.jsx("path",{d:"M7 14h10"}),s.jsx("path",{d:"M7 18h10"})]});case"Suppliers":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("rect",{x:"3",y:"7",width:"12",height:"7",rx:"1"}),s.jsx("path",{d:"M15 10h3l2 3v1h-5v-4"}),s.jsx("circle",{cx:"7",cy:"18",r:"2"}),s.jsx("circle",{cx:"18",cy:"18",r:"2"})]});case"Stock Management":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("rect",{x:"6",y:"4",width:"12",height:"16",rx:"2"}),s.jsx("path",{d:"M9 9h6"}),s.jsx("path",{d:"M9 13h6"}),s.jsx("path",{d:"M9 17h6"})]});case"Transactions":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("path",{d:"M5 8h10"}),s.jsx("path",{d:"M13 6l2 2-2 2"}),s.jsx("path",{d:"M19 16h-10"}),s.jsx("path",{d:"M11 14l-2 2 2 2"})]});case"Projects":return s.jsx("svg",{...t,"aria-hidden":"true",children:s.jsx("path",{d:"M3 7a2 2 0 012-2h4l2 2h6a2 2 0 012 2v7a2 2 0 01-2 2H5a2 2 0 01-2-2V7z"})});case"Properties":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("path",{d:"M3 10l9-7 9 7"}),s.jsx("path",{d:"M5 10v9h14v-9"}),s.jsx("path",{d:"M10 19v-5h4v5"})]});case"Requests":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("rect",{x:"3",y:"4",width:"18",height:"14",rx:"2"}),s.jsx("path",{d:"M7 10h10"}),s.jsx("path",{d:"M7 7h10"})]});case"Buyer Requests":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("circle",{cx:"9",cy:"8",r:"2.5"}),s.jsx("path",{d:"M3 20v-1a6 6 0 016-6"}),s.jsx("path",{d:"M16 7v6"}),s.jsx("path",{d:"M13 10l3 3 3-3"})]});case"Seller Requests":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("circle",{cx:"9",cy:"8",r:"2.5"}),s.jsx("path",{d:"M3 20v-1a6 6 0 016-6"}),s.jsx("path",{d:"M16 13V7"}),s.jsx("path",{d:"M13 10l3-3 3 3"})]});case"Dev Companies":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("rect",{x:"4",y:"5",width:"6",height:"14",rx:"1"}),s.jsx("rect",{x:"12",y:"9",width:"8",height:"10",rx:"1"}),s.jsx("path",{d:"M6 7h2M6 10h2M6 13h2M6 16h2"}),s.jsx("path",{d:"M14 11h2M14 14h2M14 17h2"})]});default:return s.jsx("svg",{...t,"aria-hidden":"true",children:s.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"2"})})}},h5e=e=>{const t={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",className:"w-4 h-4",style:{display:"block"}};switch(e){case"Dashboard":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("rect",{x:"4",y:"4",width:"6",height:"6",rx:"1"}),s.jsx("rect",{x:"14",y:"4",width:"6",height:"4",rx:"1"}),s.jsx("rect",{x:"14",y:"11",width:"6",height:"9",rx:"1"}),s.jsx("rect",{x:"4",y:"13",width:"6",height:"7",rx:"1"})]});case"Campaigns":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("path",{d:"M4 5h10l6 4v6l-6 4H4V5z"}),s.jsx("circle",{cx:"8",cy:"12",r:"2"})]});case"Landing Pages":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("rect",{x:"4",y:"5",width:"16",height:"14",rx:"2"}),s.jsx("path",{d:"M4 9h16"}),s.jsx("path",{d:"M8 13h8"})]});case"Meta Integration":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("path",{d:"M6 12c0-3 2-5 5-5s5 2 5 5-2 5-5 5-5-2-5-5z"}),s.jsx("path",{d:"M7 12c1-3 3-5 4-5 2 0 4 4 6 5"})]});case"Leads Performance":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("path",{d:"M4 18V6"}),s.jsx("path",{d:"M8 18V10"}),s.jsx("path",{d:"M12 18V8"}),s.jsx("path",{d:"M16 18V13"}),s.jsx("path",{d:"M20 18V5"})]});case"Reports":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("path",{d:"M5 20V10"}),s.jsx("path",{d:"M10 20V6"}),s.jsx("path",{d:"M15 20V13"}),s.jsx("path",{d:"M20 20V4"})]});default:return s.jsx("svg",{...t,"aria-hidden":"true",children:s.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"2"})})}},f5e=({isOpen:e,onClose:t=()=>{},className:a})=>{const{activeModules:r,user:n}=eN(),{theme:i}=Ar(),{t:l,i18n:o}=St(),c=Uc(),d=In(),u=i==="light",f=(o.language||"").toLowerCase(),p=(typeof o.dir=="function"?o.dir(f)==="rtl":f.startsWith("ar"))||typeof document<"u"&&document.documentElement.dir==="rtl",m=y.useRef(null),[v,g]=y.useState(!1),b=c.pathname.startsWith("/inventory"),[j,k]=y.useState(()=>{try{if(typeof window<"u"&&window.localStorage){const Fe=window.localStorage.getItem("leadMgmtOpen");if(Fe==="true")return!0;if(Fe==="false")return!1}}catch{}return!1}),S=c.pathname.startsWith("/leads")||c.pathname.startsWith("/recycle");y.useEffect(()=>{if(!S){k(!1);try{typeof window<"u"&&window.localStorage&&window.localStorage.setItem("leadMgmtOpen","false")}catch{}}},[c.pathname,S]),y.useEffect(()=>{if(S){k(!0);try{typeof window<"u"&&window.localStorage&&window.localStorage.setItem("leadMgmtOpen","true")}catch{}}},[S]);const[N,A]=y.useState(!0),_=c.pathname.startsWith("/marketing"),E=c.pathname.startsWith("/marketing/reports");c.pathname.startsWith("/recycle");const[D,R]=y.useState(!1),[I,M]=y.useState(!1),[U,P]=y.useState(!1),[F,K]=y.useState(!1),[V,J]=y.useState(!1),[Q,z]=y.useState(!1),[X,le]=y.useState(!1),[O,q]=y.useState(!1),[W,te]=y.useState(!1),[re,oe]=y.useState(!1),[ce,G]=y.useState(!1),[ie,ye]=y.useState(!1),se=Fe=>{le(Fe==="profileCompany"),q(Fe==="systemSettings"),te(Fe==="companySetup"),oe(Fe==="notifications"),G(Fe==="billing"),ye(Fe==="dataMgmt")},Ie=Fe=>{se(Fe==="profileCompany"&&X||Fe==="systemSettings"&&O||Fe==="companySetup"&&W||Fe==="notifications"&&re||Fe==="billing"&&ce||Fe==="dataMgmt"&&ie?"":Fe)},pe=Fe=>{try{Fe.currentTarget.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})}catch{}},ae=c.pathname.startsWith("/customers")||c.pathname.startsWith("/sales"),ge=c.pathname.startsWith("/settings"),Re=c.pathname.startsWith("/settings/integrations"),ue=c.pathname.startsWith("/settings/operations"),Z=c.pathname.startsWith("/settings/profile"),Se=c.pathname.startsWith("/settings/system"),Ne=c.pathname.startsWith("/settings/company-setup"),Ye=c.pathname.startsWith("/settings/notifications"),gt=c.pathname.startsWith("/settings/billing"),qt=c.pathname.startsWith("/settings/data"),at=String(n?.role||"").toLowerCase(),$t=at.includes("admin")||at.includes("super admin")||at.includes("owner");c.pathname.startsWith("/reports")||c.pathname.startsWith("/marketing/reports");const ze=c.pathname.startsWith("/user-management"),Ke=c.pathname.startsWith("/support"),Ze=c.pathname.startsWith("/reports"),ht=c.pathname.startsWith("/reports/sales"),[At,Mt]=y.useState(()=>{try{if(typeof window<"u"&&window.localStorage){const Fe=window.localStorage.getItem("marketingOpen");if(Fe==="true")return!0;if(Fe==="false")return!1}}catch{}return!1});y.useEffect(()=>{if(!_){Mt(!1);try{typeof window<"u"&&window.localStorage&&window.localStorage.setItem("marketingOpen","false")}catch{}}},[c.pathname,_]),y.useEffect(()=>{if(_){k(!1),g(!1),R(!1),M(!1),K(!1),J(!1),z(!1);try{typeof window<"u"&&window.localStorage&&window.localStorage.setItem("leadMgmtOpen","false")}catch{}}},[_]),y.useEffect(()=>{Z?se("profileCompany"):le(!1)},[Z]),y.useEffect(()=>{Se?se("systemSettings"):q(!1)},[Se]),y.useEffect(()=>{Ne?se("companySetup"):te(!1)},[Ne]),y.useEffect(()=>{Ye?se("notifications"):oe(!1)},[Ye]),y.useEffect(()=>{gt?se("billing"):G(!1)},[gt]),y.useEffect(()=>{qt?se("dataMgmt"):ye(!1)},[qt]);const Pt=j||v||At||D||I||Q||F||V;y.useEffect(()=>{if(Ze){k(!1),g(!1),R(!1),K(!1),J(!1),z(!1),Mt(!1),Ae(!1);try{typeof window<"u"&&window.localStorage&&(window.localStorage.setItem("leadMgmtOpen","false"),window.localStorage.setItem("marketingOpen","false"),window.localStorage.setItem("marketingReportsOpen","false"))}catch{}}},[Ze]),y.useEffect(()=>{z(!!ge)},[ge]),y.useEffect(()=>{g(!!b)},[b]),y.useEffect(()=>{R(!!ae)},[ae]),y.useEffect(()=>{J(!!Ke)},[Ke]),y.useEffect(()=>{Ke&&(k(!1),g(!1),Mt(!1),R(!1),M(!1),K(!1),z(!1))},[Ke]),y.useEffect(()=>{K(!!ze)},[ze]),y.useEffect(()=>{M(!!Ze)},[Ze]),y.useEffect(()=>{P(!!ht)},[ht]);const[Gt,Ae]=y.useState(()=>{try{if(typeof window<"u"&&window.localStorage){const Fe=window.localStorage.getItem("marketingReportsOpen");if(Fe==="true")return!0;if(Fe==="false")return!1}}catch{}return!1});y.useEffect(()=>{if(!E)try{typeof window<"u"&&window.localStorage&&window.localStorage.setItem("marketingReportsOpen",String(Gt))}catch{}},[E,Gt]);const{stages:Tt}=Kf();Array.isArray(Tt)&&Tt.map(Fe=>typeof Fe=="string"?{name:Fe,nameAr:"",color:"#3B82F6",icon:""}:Fe);const We=(()=>{try{return new URLSearchParams(c.search||"").get("stage")||null}catch{return null}})(),[Ot,Rt]=y.useState(0);y.useMemo(()=>{try{const Fe=localStorage.getItem("leadsData");if(!Fe)return[];const Ha=JSON.parse(Fe);return Array.isArray(Ha)?Ha:[]}catch{return[]}},[Ot]),y.useMemo(()=>{try{const Fe=localStorage.getItem("deletedLeads");if(!Fe)return[];const Ha=JSON.parse(Fe);return Array.isArray(Ha)?Ha:[]}catch{return[]}},[Ot]),y.useEffect(()=>{const Fe=()=>Rt(Ha=>Ha+1);return window.addEventListener("storage",Fe),window.addEventListener("leadsDataUpdated",Fe),window.addEventListener("deletedLeadsUpdated",Fe),Rt(Ha=>Ha+1),()=>{window.removeEventListener("storage",Fe),window.removeEventListener("leadsDataUpdated",Fe),window.removeEventListener("deletedLeadsUpdated",Fe)}},[]);const na=u?"bg-gray-100 border-gray-200 text-gray-800":"bg-gray-900 border-gray-800 text-gray-100",pt=u?"group flex items-center gap-3 px-4 py-1.5 rounded-md text-gray-700 hover:bg-blue-50 transition overflow-hidden":"group flex items-center gap-3 px-4 py-1.5 rounded-md text-gray-200 hover:bg-gray-800 transition overflow-hidden",lt="flex-shrink-0 nova-icon flex items-center justify-center",dt=u?`bg-blue-100 text-blue-700 ${p?"active-link-indicator":"border-l-4"} border-blue-500 font-medium shadow-[inset_0_1px_0_rgba(255,255,255,0.6)]`:`bg-gray-800 text-blue-400 ${p?"active-link-indicator":"border-l-4"} border-blue-500 font-medium`,mt=u?"text-gray-500 group-hover:text-blue-600":"text-gray-400 group-hover:text-blue-400",ut=f.startsWith("ar")?"":"Back",ra=[{to:"/inventory/warehouse",key:"Warehouse"},{to:"/inventory/suppliers",key:"Suppliers"},{to:"/inventory/categories",key:"Categories"},{to:"/inventory/products",key:"Products"},{to:"/inventory/items",key:"Items"},{to:"/inventory/stock-management",key:"Stock Management"},{to:"/inventory/transactions",key:"Transactions"},{to:"/inventory/developers",key:"Developers"},{to:"/inventory/brokers",key:"Brokers"},{to:"/inventory/projects",key:"Projects"},{to:"/inventory/properties",key:"Properties"},{to:"/inventory/requests",key:"Requests"}],Aa=[{to:"/marketing",key:"Dashboard"},{to:"/marketing/campaigns",key:"Campaigns"},{to:"/marketing/landing-pages",key:"Landing Pages"},{to:"/marketing/meta-integration",key:"Meta Integration"}],[ua,oa]=y.useState(!1),[_s,ps]=y.useState(!1);return y.useEffect(()=>{oa(!!Re)},[Re]),y.useEffect(()=>{ps(!!ue)},[ue]),s.jsxs("aside",{id:"app-sidebar",dir:p?"rtl":"ltr",className:`nova-sidebar group fixed inset-y-0 z-[130] md:z-[100] p-4 ${na} flex flex-col h-full relative overflow-x-hidden overflow-y-hidden ${p?"right-0 border-l":"left-0 border-r"} ${e?"sidebar-open":""} ${a||""}`,children:[s.jsx("button",{type:"button","aria-label":p?" ":"Close sidebar",onClick:t,className:`md:hidden absolute top-3 ${p?"left-3":"right-3"} z-[140] h-10 w-10 grid place-items-center rounded-full border backdrop-blur-sm shadow-lg transition ${u?"bg-black/10 hover:bg-black/20 border-black/20":"bg-white/10 hover:bg-white/20 border-white/20"}`,children:s.jsx(coe,{className:`${u?"text-gray-900":"text-white"} text-2xl`})}),s.jsxs("button",{type:"button","aria-label":l("Dashboard"),onClick:()=>d("/dashboard"),className:"logo-brand flex items-center gap-1 mb-1 mt-0 cursor-pointer",children:[s.jsx("img",{src:Zf,alt:"Be Souhola",className:"w-11 h-11 flex-shrink-0",style:{backgroundColor:"transparent"}}),s.jsxs("div",{className:"flex flex-col leading-tight min-w-0",children:[s.jsx("span",{className:`sidebar-label whitespace-nowrap hidden md:block ${u?"text-[11px] text-[#0b2b4f]":"text-[10px] text-white"}`,children:"Make everything..."}),s.jsx("span",{className:"sidebar-label font-semibold text-base truncate bg-gradient-to-r from-white via-indigo-200 to-indigo-400 bg-clip-text text-transparent drop-shadow-sm",children:"Be Souhola"})]})]}),s.jsx("div",{className:"sidebar-brand-spacer h-2"}),s.jsxs("nav",{ref:m,className:`flex-1 pt-2 md:pt-3 overflow-y-auto overflow-x-hidden mt-0 pb-3 ${v?"inventory-open":""}`,children:[!Pt&&!_&&!Ze&&s.jsxs(Wt,{to:"/dashboard",className:({isActive:Fe})=>`${pt} !py-4 ${Fe?dt:""}`,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:io("Dashboard")}),s.jsx("span",{className:"link-label",children:l("Dashboard")})]}),s.jsx("span",{className:"ml-auto nova-badge link-label",children:"1"})]}),!_&&!Ze&&(!Pt||j)&&r.includes("leads")&&s.jsxs("div",{className:"w-full",children:[j&&s.jsxs("div",{className:`sticky top-0 z-10 section-header flex items-center mb-2 ${u?"bg-gray-100":"bg-gray-900"} px-2 py-1`,children:[s.jsx("span",{className:"text-sm font-bold link-label",children:l("Lead Management")}),s.jsxs("button",{type:"button",onClick:()=>k(!1),className:`close-btn text-sm font-semibold ${u?"text-gray-700 hover:text-gray-900":"text-gray-200 hover:text-white"} flex items-center gap-2`,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M15 18l-6-6 6-6"})}),s.jsx("span",{children:ut})]})]}),!j&&s.jsxs(Wt,{to:"/leads",end:!0,onClick:()=>k(!0),className:({isActive:Fe})=>`${pt} w-full justify-between`,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:io("Lead Management")}),s.jsx("span",{className:"link-label text-[16px]",children:l("Lead Management")})]}),s.jsx("span",{className:`link-label ${u?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:j?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsxs("div",{className:`${p?"mr-0 pr-0 border-r":"ml-0 pl-0 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:j?"800px":"0",overflow:"hidden",opacity:j?1:0},children:[s.jsx(Wt,{to:"/leads",end:!0,className:({isActive:Fe})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:io("Lead Management")}),s.jsx("span",{className:"text-[15px] link-label",children:l("Leads")})]})}),s.jsx(Wt,{to:"/leads/new",className:({isActive:Fe})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:io("Lead Management")}),s.jsx("span",{className:"text-[15px] link-label",children:l("Add New Lead")})]})}),s.jsx(Wt,{to:"/recycle",className:({isActive:Fe})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:io("Recycle Bin")}),s.jsx("span",{className:"text-[15px] link-label",children:l("Recycle Bin")})]})}),s.jsxs("div",{className:`${p?"!pr-0":"!pl-0"}`,children:[s.jsxs("button",{type:"button",onClick:()=>A(Fe=>!Fe),className:`${pt} w-full justify-between ${p?"!pr-0":"!pl-0"}`,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Stages")})]}),s.jsx("span",{className:`link-label ${u?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:N?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsx("div",{className:"space-y-0.5",style:{maxHeight:N?"600px":"0",overflow:"hidden",opacity:N?1:0},children:[{key:"new lead",icon:""},{key:"duplicate",icon:""},{key:"pending",icon:""},{key:"cold calls",icon:""},{key:"follow up",icon:""}].map((Fe,Ha)=>{const us=`${c.pathname.startsWith("/recycle")?"/recycle":"/leads"}?stage=${encodeURIComponent(Fe.key)}`,De=We===Fe.key?`glass-neon border ${u?"border-blue-200":"border-blue-900"}`:"";return s.jsx(Wt,{to:us,className:({isActive:ke})=>`${pt} ${p?"!pr-10":"!pl-10"} ${De}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:Fe.icon}),s.jsx("span",{className:"text-[15px] link-label",children:l(Fe.key)})]})},`fixed-stage-${Ha}-${Fe.key}`)})})]})]})]}),!_&&!Ze&&(!Pt||v)&&s.jsxs("div",{className:"w-full",children:[v?s.jsxs("div",{className:`sticky top-0 z-10 section-header flex items-center mb-2 ${u?"bg-gray-100":"bg-gray-900"} px-2 py-1`,children:[s.jsx("span",{className:"text-sm font-bold link-label text-[16px]",children:l("Inventory")}),s.jsxs("button",{type:"button",onClick:()=>{g(!1),R(!1),z(!1),M(!1)},className:`close-btn text-sm font-semibold ${u?"text-gray-700 hover:text-gray-900":"text-gray-200 hover:text-white"} flex items-center gap-2`,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M15 18l-6-6 6-6"})}),s.jsx("span",{children:ut})]})]}):s.jsxs("button",{type:"button",onClick:()=>{g(!0),R(!1),z(!1),M(!1)},className:`${pt} w-full justify-between ${b?"active-parent":""}`,"aria-expanded":v,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:io("Inventory")}),s.jsx("span",{className:"link-label text-[16px]",children:l("Inventory")})]}),s.jsx("span",{className:`link-label ${u?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:v?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsx("div",{className:`${p?"mr-0 pr-0 border-r":"ml-0 pl-0 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:v?"480px":"0",overflow:"hidden",opacity:v?1:0},children:ra.map(Fe=>s.jsx(Wt,{to:Fe.to,className:({isActive:Ha})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Ha?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:u5e(Fe.key)}),s.jsx("span",{className:"text-[15px] link-label",children:l(Fe.key)})]})},Fe.to))})]}),!Ze&&(!Pt||At)&&r.includes("campaigns")&&s.jsxs("div",{className:"w-full",children:[(_||At)&&s.jsxs("div",{className:`sticky top-0 z-10 section-header flex items-center mb-2 ${u?"bg-gray-100":"bg-gray-900"} px-2 py-1`,children:[s.jsx("span",{className:"text-sm font-bold link-label",children:l("Marketing Modules")}),s.jsxs("button",{type:"button",onClick:()=>{Mt(!1);try{typeof window<"u"&&window.localStorage&&window.localStorage.setItem("marketingOpen","false")}catch{}},className:`close-btn text-sm font-semibold ${u?"text-gray-700 hover:text-gray-900":"text-gray-200 hover:text-white"} flex items-center gap-2`,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M15 18l-6-6 6-6"})}),s.jsx("span",{children:ut})]})]}),!At&&s.jsxs("button",{type:"button",onClick:Fe=>{Fe.preventDefault(),Fe.stopPropagation(),Mt(Ha=>{const is=!Ha;try{typeof window<"u"&&window.localStorage&&window.localStorage.setItem("marketingOpen",String(is))}catch{}return is})},className:`${pt} w-full justify-between ${_?"active-parent":""}`,"aria-expanded":At,children:[s.jsxs("span",{className:"nova-icon-label min-w-0",children:[s.jsx("span",{className:`${lt} ${mt}`,children:io("Marketing Modules")}),s.jsx("span",{className:"text-[15px] link-label whitespace-nowrap truncate",children:l("Marketing Modules")})]}),s.jsx("span",{className:`link-label ${u?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:At?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsx("div",{className:`${p?"mr-0 pr-0 border-r":"ml-0 pl-0 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:At?"360px":"0",overflow:"hidden",opacity:At?1:0},children:Aa.map(Fe=>s.jsx(Wt,{to:Fe.to,end:Fe.to==="/marketing",className:({isActive:Ha})=>`${pt} ${p?"!pr-10":"!pl-10"} ${Ha?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:h5e(Fe.key)}),s.jsx("span",{className:"text-[15px] link-label",children:l(Fe.key)})]})},Fe.to))})]}),!_&&!Ze&&(!Pt||D)&&s.jsxs("div",{className:"w-full",children:[D?s.jsxs("div",{className:"sticky top-0 z-10 section-header flex items-center mb-2 glass-header glass-neon px-2 py-1",children:[s.jsx("span",{className:"text-sm font-bold link-label",children:l("Customers")}),s.jsxs("button",{type:"button",onClick:()=>{R(!1),g(!1),z(!1),M(!1)},className:`close-btn text-sm font-semibold ${u?"text-gray-700 hover:text-gray-900":"text-gray-200 hover:text-white"} flex items-center gap-2`,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M15 18l-6-6 6-6"})}),s.jsx("span",{children:ut})]})]}):s.jsxs(Wt,{to:"/customers",onClick:()=>{R(!0),g(!1),z(!1),M(!1)},className:({isActive:Fe})=>`${pt} w-full justify-between ${Fe?`glass-neon border ${u?"border-blue-200":"border-blue-900"} active-parent`:""}`,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:io("Customers")}),s.jsx("span",{className:"link-label",children:l("Customers")})]}),s.jsx("span",{className:"ml-auto nova-badge link-label",children:"12"}),s.jsx("span",{className:`link-label ${u?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:D?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsxs("div",{className:`${p?"mr-0 pr-0 border-r":"ml-0 pl-0 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all glass-neon`,style:{maxHeight:D?"800px":"0",overflow:"hidden",opacity:D?1:0},children:[s.jsx(Wt,{to:"/customers",className:({isActive:Fe})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:io("Customers")}),s.jsx("span",{className:"text-[15px] link-label",children:l("Customers")})]})}),s.jsx(Wt,{to:"/sales/opportunities",className:({isActive:Fe})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Opportunities")})]})}),s.jsx(Wt,{to:"/sales/quotations",className:({isActive:Fe})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Quotations")})]})}),s.jsx(Wt,{to:"/sales/orders",className:({isActive:Fe})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Sales Orders")})]})}),s.jsx(Wt,{to:"/sales/invoices",className:({isActive:Fe})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Invoices")})]})})]})]}),!_&&!Ze&&(!Pt||V)&&s.jsxs("div",{className:"w-full",children:[V&&s.jsxs("div",{className:`${u?"bg-gray-100":"bg-gray-900"} sticky top-0 z-10 section-header flex items-center mb-2 px-2 py-1`,children:[s.jsx("span",{className:"text-sm font-bold link-label",children:l("Support")}),s.jsxs("button",{type:"button",onClick:()=>J(!1),className:`close-btn text-sm font-semibold ${u?"text-gray-700 hover:text-gray-900":"text-gray-200 hover:text-white"} flex items-center gap-2`,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M15 18l-6-6 6-6"})}),s.jsx("span",{children:ut})]})]}),!V&&s.jsxs("button",{type:"button",onClick:()=>{J(!0),k(!1),g(!1),Mt(!1),R(!1),M(!1),K(!1),z(!1)},className:`${pt} w-full justify-between ${Ke?"active-parent":""}`,"aria-expanded":V,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:io("Support")}),s.jsx("span",{className:"link-label",children:l("Support")})]}),s.jsx("span",{className:`link-label ${u?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:V?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsxs("div",{className:`${p?"mr-0 pr-0 border-r":"ml-0 pl-0 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:V?"800px":"0",overflow:"hidden",opacity:V?1:0},children:[s.jsx(Wt,{to:"/support",end:!0,className:({isActive:Fe})=>`${pt} !py-3 ${p?"!pr-10":"!pl-10"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Dashboard")})]})}),s.jsx(Wt,{to:"/support/tickets",className:({isActive:Fe})=>`${pt} ${p?"!pr-10":"!pl-10"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Tickets")})]})}),s.jsx(Wt,{to:"/support/customers",className:({isActive:Fe})=>`${pt} ${p?"!pr-10":"!pl-10"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Customers")})]})}),s.jsx(Wt,{to:"/support/sla",className:({isActive:Fe})=>`${pt} ${p?"!pr-10":"!pl-10"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("SLA")})]})}),s.jsx(Wt,{to:"/support/reports",className:({isActive:Fe})=>`${pt} ${p?"!pr-10":"!pl-10"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Reports")})]})}),s.jsx(Wt,{to:"/support/feedbacks",className:({isActive:Fe})=>`${pt} ${p?"!pr-10":"!pl-10"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Feedbacks")})]})})]})]}),!_&&(!Pt||I)&&s.jsxs("div",{className:"w-full",children:[I&&s.jsxs("div",{className:`sticky top-0 z-10 section-header flex items-center mb-2 ${u?"bg-gray-100":"bg-gray-900"} px-2 py-1`,children:[s.jsx("span",{className:"text-sm font-bold link-label",children:l("Reports")}),s.jsxs("button",{type:"button",onClick:()=>M(!1),className:`close-btn text-sm font-semibold ${u?"text-gray-700 hover:text-gray-900":"text-gray-200 hover:text-white"} flex items-center gap-2`,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M15 18l-6-6 6-6"})}),s.jsx("span",{children:ut})]})]}),!I&&s.jsxs("button",{type:"button",onClick:()=>M(Fe=>!Fe),className:`${pt} w-full justify-between`,"aria-expanded":I,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:io("Reports")}),s.jsx("span",{className:"link-label",children:l("Reports")})]}),s.jsx("span",{className:"ml-auto nova-badge link-label",children:"8"}),s.jsx("span",{className:`link-label ${u?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:I?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsxs("div",{className:`${p?"mr-0 pr-0 border-r":"ml-0 pl-0 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:I?"800px":"0",overflow:"hidden",opacity:I?1:0},children:[s.jsx(Wt,{to:"/reports",end:!0,className:({isActive:Fe})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Reports Dashboard")})]})}),s.jsxs("div",{className:"w-full",children:[s.jsxs("button",{type:"button",onClick:()=>P(Fe=>!Fe),className:`${pt} w-full justify-between ${p?"!pr-0":"!pl-0"}`,"aria-expanded":U,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Sales Report")})]}),s.jsx("span",{className:`link-label ${u?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:U?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsxs("div",{className:`${p?"!pr-0":"!pl-0"} space-y-0.5 transition-all`,style:{maxHeight:U?"800px":"0",overflow:"hidden",opacity:U?1:0},children:[s.jsx(Wt,{to:"/reports/sales/activities",className:({isActive:Fe})=>`${pt} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Sales Activities")})]})}),s.jsx(Wt,{to:"/reports/sales/pipeline",className:({isActive:Fe})=>`${pt} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Leads pipeline")})]})}),s.jsx(Wt,{to:"/reports/sales/meetings",className:({isActive:Fe})=>`${pt} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Meetings Report")})]})}),s.jsx(Wt,{to:"/reports/sales/reservations",className:({isActive:Fe})=>`${pt} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Reservations")})]})}),s.jsx(Wt,{to:"/reports/sales/closed-deals",className:({isActive:Fe})=>`${pt} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Closed Deals")})]})}),s.jsx(Wt,{to:"/reports/sales/rent",className:({isActive:Fe})=>`${pt} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Rent")})]})}),s.jsx(Wt,{to:"/reports/sales/check-in",className:({isActive:Fe})=>`${pt} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Check in Report")})]})}),s.jsx(Wt,{to:"/reports/sales/customers",className:({isActive:Fe})=>`${pt} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Customers Report")})]})}),s.jsx(Wt,{to:"/reports/sales/imports",className:({isActive:Fe})=>`${pt} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Import")})]})}),s.jsx(Wt,{to:"/reports/sales/exports",className:({isActive:Fe})=>`${pt} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Export")})]})})]})]}),s.jsx(Wt,{to:"/reports/leads",className:({isActive:Fe})=>`${pt} ${p?"!pr-10":"!pl-10"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Lead Report")})]})}),s.jsx(Wt,{to:"/reports/team",className:({isActive:Fe})=>`${pt} ${p?"!pr-10":"!pl-10"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Team Report")})]})})]})]}),!_&&!Ze&&(!Pt||F)&&s.jsxs("div",{className:"w-full",children:[F?s.jsxs("div",{className:`sticky top-0 z-10 section-header flex items-center mb-2 ${u?"bg-gray-100":"bg-gray-900"} px-2 py-1`,children:[s.jsx("span",{className:"text-sm font-bold link-label",children:l("User Management")}),s.jsxs("button",{type:"button",onClick:()=>{K(!1),k(!1),g(!1),Mt(!1),R(!1),z(!1),M(!1)},className:`close-btn text-sm font-semibold ${u?"text-gray-700 hover:text-gray-900":"text-gray-200 hover:text-white"} flex items-center gap-2`,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M15 18l-6-6 6-6"})}),s.jsx("span",{children:ut})]})]}):s.jsxs("button",{type:"button",onClick:()=>{K(!0),k(!1),g(!1),Mt(!1),R(!1),z(!1),M(!1)},className:`${pt} w-full justify-between ${ze?"active-parent":""}`,"aria-expanded":F,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:io("User Management")}),s.jsx("span",{className:"link-label",children:l("User Management")})]}),s.jsx("span",{className:`link-label ${u?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:F?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsxs("div",{className:`${p?"mr-0 pr-0 border-r":"ml-0 pl-0 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:F?"480px":"0",overflow:"hidden",opacity:F?1:0},children:[s.jsx(Wt,{to:"/user-management/users",className:({isActive:Fe})=>`${pt} ${p?"!pr-10":"!pl-10"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Users")})]})}),s.jsx(Wt,{to:"/user-management/teams",className:({isActive:Fe})=>`${pt} ${p?"!pr-10":"!pl-10"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Teams")})]})}),s.jsx(Wt,{to:"/user-management/departments",className:({isActive:Fe})=>`${pt} ${p?"!pr-10":"!pl-10"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Departments")})]})}),s.jsx(Wt,{to:"/user-management/roles",className:({isActive:Fe})=>`${pt} ${p?"!pr-10":"!pl-10"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Roles")})]})}),s.jsx(Wt,{to:"/user-management/activity-logs",className:({isActive:Fe})=>`${pt} ${p?"!pr-10":"!pl-10"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Activity Logs")})]})}),s.jsx(Wt,{to:"/user-management/access-logs",className:({isActive:Fe})=>`${pt} ${p?"!pr-10":"!pl-10"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Access Logs")})]})})]})]})]}),!_&&!Ze&&(!Pt||Q)&&r.includes("settings")&&s.jsxs("div",{className:"pt-2 w-full",children:[s.jsx("div",{className:`border-t ${u?"border-gray-200":"border-gray-800"} mb-3`}),Q?s.jsxs("div",{className:`sticky top-0 z-10 section-header flex items-center mb-2 ${u?"bg-gray-100":"bg-gray-900"} px-2 py-1`,children:[s.jsx("span",{className:"text-sm font-bold link-label",children:l("Settings")}),s.jsxs("button",{type:"button",onClick:()=>{z(!1),g(!1),R(!1),M(!1)},className:`close-btn text-sm font-semibold ${u?"text-gray-700 hover:text-gray-900":"text-gray-200 hover:text-white"} flex items-center gap-2`,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M15 18l-6-6 6-6"})}),s.jsx("span",{children:ut})]})]}):s.jsxs(Wt,{to:"/settings/profile",onClick:()=>{z(!0),g(!1),R(!1),M(!1)},className:({isActive:Fe})=>`${pt} group/settings w-full justify-between ${ge?"active-parent":""} bg-indigo-50 dark:bg-gray-800 border border-indigo-200 dark:border-gray-700`,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:io("Settings")}),s.jsx("span",{className:"link-label !text-black group-hover/settings:!text-white",children:l("Settings")})]}),s.jsx("span",{className:`link-label ${u?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:Q?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsxs("div",{className:`${p?"mr-0 pr-0 border-r":"ml-0 pl-0 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:Q?"60vh":"0",overflow:Q?"auto":"hidden",opacity:Q?1:0},children:[s.jsxs("button",{type:"button",onClick:()=>Ie("profileCompany"),className:`${pt} w-full justify-between`,"aria-expanded":X,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"link-label",children:l("Profile & Company")})]}),s.jsx("span",{className:`link-label ${u?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:X?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsxs("div",{className:`${p?"mr-4 pr-2 border-r":"ml-4 pl-2 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:X?"300px":"0",overflow:"hidden",opacity:X?1:0},children:[s.jsx(Wt,{end:!0,to:"/settings/profile",className:({isActive:Fe})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Profile Settings")})]})}),s.jsx(Wt,{to:"/settings/profile/company",className:({isActive:Fe})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Company Settings")})]})}),s.jsx(Wt,{to:"/settings/profile/contact-info",className:({isActive:Fe})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Contact Info Settings")})]})})]}),s.jsxs("button",{type:"button",onClick:()=>Ie("systemSettings"),className:`${pt} w-full justify-between`,"aria-expanded":O,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"link-label",children:l("System Settings")})]}),s.jsx("span",{className:`link-label ${u?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:O?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsxs("div",{className:`${p?"mr-4 pr-2 border-r":"ml-4 pl-2 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:O?"400px":"0",overflow:"hidden",opacity:O?1:0},children:[s.jsx(Wt,{to:"/settings/system/preferences",className:({isActive:Fe})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("System Preferences")})]})}),s.jsx(Wt,{to:"/settings/system/modules",className:({isActive:Fe})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Modules Settings")})]})}),s.jsx(Wt,{to:"/settings/system/security",className:({isActive:Fe})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Security Settings")})]})}),s.jsx(Wt,{to:"/settings/system/custom-fields",className:({isActive:Fe})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Custom Fields")})]})}),s.jsx(Wt,{to:"/settings/system/audit-logs",className:({isActive:Fe})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Audit Logs")})]})})]}),s.jsxs("button",{type:"button",onClick:()=>Ie("companySetup"),className:`${pt} w-full justify-between`,"aria-expanded":W,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"link-label",children:l("Company Setup")})]}),s.jsx("span",{className:`link-label ${u?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:W?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsxs("div",{className:`${p?"mr-4 pr-2 border-r":"ml-4 pl-2 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:W?"360px":"0",overflow:"hidden",opacity:W?1:0},children:[s.jsx(Wt,{to:"/settings/company-setup/info",onClick:pe,className:({isActive:Fe})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Company Info")})]})}),s.jsx(Wt,{to:"/settings/company-setup/subscription",onClick:pe,className:({isActive:Fe})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Subscription")})]})}),s.jsx(Wt,{to:"/settings/company-setup/modules",onClick:pe,className:({isActive:Fe})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Enabled Modules")})]})}),s.jsx(Wt,{to:"/settings/company-setup/departments",onClick:pe,className:({isActive:Fe})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Departments")})]})}),s.jsx(Wt,{to:"/settings/company-setup/visibility",onClick:pe,className:({isActive:Fe})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Visibility")})]})})]}),s.jsxs("button",{type:"button",onClick:()=>Ie("notifications"),className:`${pt} w-full justify-between`,"aria-expanded":re,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsxs("span",{className:"link-label nova-multiline leading-tight",children:[s.jsx("span",{className:"block",children:l("Notifications")}),s.jsx("span",{className:"block",children:"&"}),s.jsx("span",{className:"block",children:l("Templates")})]})]}),s.jsx("span",{className:`link-label ${u?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:re?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsxs("div",{className:`${p?"mr-4 pr-2 border-r":"ml-4 pl-2 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:re?"360px":"0",overflow:"hidden",opacity:re?1:0},children:[s.jsx(Wt,{end:!0,to:"/settings/notifications",onClick:pe,className:({isActive:Fe})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Notifications Settings")})]})}),s.jsx(Wt,{to:"/settings/notifications/sms-templates",onClick:pe,className:({isActive:Fe})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("SMS Templates")})]})}),s.jsx(Wt,{to:"/settings/notifications/email-templates",onClick:pe,className:({isActive:Fe})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Email Templates")})]})}),s.jsx(Wt,{to:"/settings/notifications/whatsapp-templates",onClick:pe,className:({isActive:Fe})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("WhatsApp Templates")})]})})]}),s.jsxs("button",{type:"button",onClick:()=>Ie("billing"),className:`${pt} w-full justify-between`,"aria-expanded":ce,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"link-label",children:l("Billing & Subscription")})]}),s.jsx("span",{className:`link-label ${u?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:ce?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsxs("div",{className:`${p?"mr-4 pr-2 border-r":"ml-4 pl-2 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:ce?"320px":"0",overflow:"hidden",opacity:ce?1:0},children:[$t&&s.jsx(Wt,{to:"/settings/billing/subscription",onClick:pe,className:({isActive:Fe})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Billing & Subscription")})]})}),s.jsx(Wt,{to:"/settings/billing/payment-history",onClick:pe,className:({isActive:Fe})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Payment History")})]})}),s.jsx(Wt,{to:"/settings/billing/plans-upgrade",onClick:pe,className:({isActive:Fe})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Plans & Upgrade")})]})})]}),s.jsxs("button",{type:"button",onClick:()=>oa(Fe=>!Fe),className:`${pt} w-full justify-between`,"aria-expanded":ua,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"link-label",children:l("Integrations")})]}),s.jsx("span",{className:`link-label ${u?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:ua?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsxs("div",{className:`${p?"mr-4 pr-2 border-r":"ml-4 pl-2 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:ua?"400px":"0",overflow:"hidden",opacity:ua?1:0},children:[s.jsx(Wt,{to:"/settings/integrations/api-keys",onClick:pe,className:({isActive:Fe})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("API Keys")})]})}),s.jsx(Wt,{to:"/settings/integrations/webhooks",onClick:pe,className:({isActive:Fe})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Webhooks")})]})}),s.jsx(Wt,{to:"/settings/integrations/whatsapp",onClick:pe,className:({isActive:Fe})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("WhatsApp Integration")})]})}),s.jsx(Wt,{to:"/settings/integrations/payment-gateway",onClick:pe,className:({isActive:Fe})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Payment Gateway Integration")})]})}),s.jsx(Wt,{to:"/settings/integrations/google-slack",onClick:pe,className:({isActive:Fe})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Google / Slack Integrations")})]})})]}),s.jsxs("button",{type:"button",onClick:()=>Ie("dataMgmt"),className:`${pt} w-full justify-between`,"aria-expanded":ie,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"link-label",children:l("Data Management")})]}),s.jsx("span",{className:`link-label ${u?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:ie?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsxs("div",{className:`${p?"mr-4 pr-2 border-r":"ml-4 pl-2 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:ie?"320px":"0",overflow:"hidden",opacity:ie?1:0},children:[s.jsx(Wt,{to:"/settings/data/import",onClick:pe,className:({isActive:Fe})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Import")})]})}),s.jsx(Wt,{to:"/settings/data/export",onClick:pe,className:({isActive:Fe})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Export")})]})}),s.jsx(Wt,{to:"/settings/data/backup",onClick:pe,className:({isActive:Fe})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Backup")})]})})]}),s.jsxs("button",{type:"button",onClick:()=>ps(Fe=>!Fe),className:`${pt} w-full justify-between`,"aria-expanded":_s,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"link-label",children:l("Configuration")})]}),s.jsx("span",{className:`link-label ${u?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:_s?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsxs("div",{className:`${p?"mr-4 pr-2 border-r":"ml-4 pl-2 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:_s?"none":"0",overflow:"hidden",opacity:_s?1:0},children:[s.jsx(Wt,{end:!0,to:"/settings/configuration",onClick:pe,className:({isActive:Fe})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Pipeline Setup Stages")})]})}),s.jsx(Wt,{to:"/settings/configuration/cancel-reasons",onClick:pe,className:({isActive:Fe})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Cancel Reasons")})]})}),s.jsx(Wt,{to:"/settings/configuration/payment-plans",onClick:pe,className:({isActive:Fe})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Payment Plans")})]})}),s.jsx(Wt,{to:"/settings/operations/scripting",className:({isActive:Fe})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Scripting")})]})}),s.jsx(Wt,{to:"/settings/operations/eoi",className:({isActive:Fe})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("EOI Settings")})]})}),s.jsx(Wt,{to:"/settings/operations/reservation",className:({isActive:Fe})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Reservation Settings")})]})}),s.jsx(Wt,{to:"/settings/operations/rotation",className:({isActive:Fe})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Rotation Settings")})]})}),s.jsx(Wt,{to:"/settings/operations/contracts",className:({isActive:Fe})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Contracts Settings")})]})}),s.jsx(Wt,{to:"/settings/operations/buyer-request-reset",className:({isActive:Fe})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Buyer Request Reset")})]})}),s.jsx(Wt,{to:"/settings/operations/matching",className:({isActive:Fe})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Matching Settings")})]})}),s.jsx(Wt,{to:"/settings/operations/rent",className:({isActive:Fe})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Rent Configuration")})]})}),s.jsx(Wt,{to:"/settings/operations/cil",className:({isActive:Fe})=>`${pt} ${p?"!pr-0":"!pl-0"} ${Fe?dt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("CIL Settings")})]})})]})]})]}),s.jsxs("div",{className:"mt-auto pt-2 w-full",children:[s.jsx("div",{className:`border-t ${u?"border-gray-200":"border-gray-800"} mb-3`}),s.jsx(Wt,{to:"/contact",className:({isActive:Fe})=>`${pt} group/contact ${Fe?dt:""} bg-emerald-50 dark:bg-emerald-900/40 border border-emerald-200 dark:border-emerald-800`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${lt} ${mt}`,children:io("Contact us")}),s.jsx("span",{className:"link-label !text-black group-hover/contact:!text-white",children:l("Contact us")})]})})]})]})};function m5e({open:e=!1,onClose:t,className:a=""}){const{i18n:r}=St();return r.language,s.jsx(s.Fragment,{children:s.jsx(f5e,{className:`${a}`,isOpen:e,onClose:t})})}const Fq="userActionsByDate",p5e=()=>{try{const e=localStorage.getItem(Fq),t=e?JSON.parse(e):{},a={};return Object.keys(t).forEach(r=>{t[r]&&Array.isArray(t[r])&&(a[r]=t[r].filter(n=>{const i=String(n).toLowerCase();return i.includes("meeting")||i.includes("")||i.includes(" ")||i.includes(" ")||i.includes(" ")||i.includes(" ")}))}),a}catch{return{}}},DO=e=>{try{const t={};Object.keys(e).forEach(a=>{e[a]&&Array.isArray(e[a])&&(t[a]=e[a].filter(r=>{const n=String(r).toLowerCase();return n.includes("meeting")||n.includes("")||n.includes(" ")||n.includes(" ")||n.includes(" ")||n.includes(" ")}))}),localStorage.setItem(Fq,JSON.stringify(t))}catch{}},x5e=(e,t)=>{const r=new Date(e,t,1).getDay(),n=new Date(e,t+1,0).getDate(),i=new Date(e,t,0).getDate(),l=[];for(let o=0;o<r;o++){const c=i-r+1+o;l.push({date:new Date(e,t-1,c),inMonth:!1})}for(let o=1;o<=n;o++)l.push({date:new Date(e,t,o),inMonth:!0});for(;l.length%7!==0;){const o=l[l.length-1].date,c=new Date(o);c.setDate(o.getDate()+1),l.push({date:c,inMonth:!1})}return l};function g5e({open:e,onClose:t,tone:a="light"}){const{t:r,i18n:n}=St(),i=a==="light",[l]=y.useState(new Date),[o,c]=y.useState(new Date),[d,u]=y.useState(new Date),[f,p]=y.useState(null),[m,v]=y.useState({}),[g,b]=y.useState(!1),[j,k]=y.useState(!1),[S,N]=y.useState("selected"),[A,_]=y.useState(null),[E,D]=y.useState(520),[R,I]=y.useState(""),[M,U]=y.useState(""),[P,F]=y.useState(""),[K,V]=y.useState(""),[J,Q]=y.useState(""),[z,X]=y.useState([]),[le,O]=y.useState(!1),[q,W]=y.useState(null),te=({value:ze,onChange:Ke,options:Ze=[],isLight:ht})=>{const[At,Mt]=y.useState(!1),[Pt,Gt]=y.useState(""),Ae=Ws.useRef(null);y.useEffect(()=>{const We=Ot=>{Ae.current&&!Ae.current.contains(Ot.target)&&Mt(!1)};return document.addEventListener("mousedown",We),()=>document.removeEventListener("mousedown",We)},[]);const Tt=y.useMemo(()=>{const We=String(Pt).toLowerCase();return Ze.filter(Ot=>String(Ot).toLowerCase().includes(We))},[Ze,Pt]);return s.jsxs("div",{ref:Ae,className:"relative inline-flex items-center",children:[s.jsxs("button",{type:"button",onClick:()=>Mt(We=>!We),className:`px-3 py-1 text-sm rounded-md border flex items-center gap-2 ${ht?"bg-white border-gray-300 text-gray-700 hover:bg-gray-100":"bg-gray-700 border-gray-600 text-gray-200 hover:bg-gray-600"}`,"aria-haspopup":"listbox","aria-expanded":At,children:[s.jsx("span",{className:"truncate max-w-[140px]",children:ze||r("Select")}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 opacity-70",children:s.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.25 8.27a.75.75 0 01-.02-1.06z",clipRule:"evenodd"})})]}),At&&s.jsxs("div",{className:`absolute z-20 top-full left-0 mt-1 w-56 rounded-md border shadow-lg ${ht?"bg-white border-gray-200":"bg-gray-800 border-gray-700"}`,children:[s.jsx("div",{className:"p-2",children:s.jsx("input",{type:"text",value:Pt,onChange:We=>Gt(We.target.value),placeholder:r("Search..."),className:`w-full px-2 py-1 text-sm rounded-md border ${ht?"bg-white border-gray-300 text-gray-700 placeholder-gray-400":"bg-gray-700 border-gray-600 text-gray-200 placeholder-gray-400"}`})}),s.jsxs("ul",{role:"listbox",className:"max-h-48 overflow-y-auto py-1",children:[Tt.map(We=>s.jsx("li",{children:s.jsx("button",{type:"button",className:`w-full text-left px-3 py-1 text-sm ${ht?"hover:bg-gray-100":"hover:bg-gray-700"}`,onClick:()=>{Ke(We),Mt(!1)},children:We})},We)),Tt.length===0&&s.jsx("li",{className:"px-3 py-2 text-xs opacity-70",children:"No results"})]})]})]})},re=[r("All Managers"),"Manager 1","Manager 2","Manager 3"],oe=[r("All Employees"),"Employee 1","Employee 2","Employee 3"],ce=()=>{try{const ze=JSON.parse(localStorage.getItem("crmStages")||"[]");if(ze.length>0){const Ke=ze.map(Ze=>Ze.name||String(Ze)).filter(Boolean);X([r("All Stages"),...Ke])}else X([r("All Stages"),"New Lead","Contacted","Qualified","Proposal","Negotiation","Closed Won","Closed Lost"])}catch(ze){console.error("Failed to load stages:",ze),X([r("All Stages"),"New Lead","Contacted","Qualified","Proposal","Negotiation","Closed Won","Closed Lost"])}},G=()=>{try{const ze=localStorage.getItem("leads");return ze?JSON.parse(ze):[]}catch(ze){return console.error("Failed to load leads:",ze),[]}},ie=ze=>G().find(Ze=>Ze.id===ze)||null,ye=ze=>{const Ke=ie(ze);Ke&&(W(Ke),O(!0))};y.useEffect(()=>{const ze=p5e(),Ke=Gt=>{const Ae=Gt.getFullYear(),Tt=String(Gt.getMonth()+1).padStart(2,"0"),We=String(Gt.getDate()).padStart(2,"0");return`${Ae}-${Tt}-${We}`},Ze=new Date(l);Ze.setDate(l.getDate()+1);const ht=new Date(l);ht.setDate(l.getDate()+3);const At=new Date(l);At.setDate(l.getDate()+7);const Mt={[Ke(Ze)]:[{id:"demo-1",type:"meeting",title:"    ",description:"   ",leadId:"lead_001",leadName:" ",leadPhone:"+966501234567",assignedTo:" ",status:"scheduled",priority:"high",location:" ",time:"10:00"}],[Ke(ht)]:[{id:"demo-2",type:"call",title:"Follow-up Call",description:"Follow-up with client about proposal",leadId:"lead_002",leadName:"John Smith",leadPhone:"+1-555-0123",assignedTo:"Sarah Sales",status:"scheduled",priority:"medium",location:"Remote",time:"14:30"}],[Ke(At)]:[{id:"demo-3",type:"meeting",title:"  ",description:"     ",leadId:"lead_003",leadName:" ",leadPhone:"+966509876543",assignedTo:" ",status:"scheduled",priority:"high",location:" ",time:"11:15"}]},Pt={...ze};Object.entries(Mt).forEach(([Gt,Ae])=>{Pt[Gt]=[...Pt[Gt]||[],...Ae]}),v(Pt),DO(Pt),ce(),I(r("All Stages")),U(r("All Managers")),F(r("All Employees")),V(r("All Leads"))},[]),y.useEffect(()=>{I(r("All Stages")),U(r("All Managers")),F(r("All Employees")),V(r("All Leads")),ce()},[n.language]);const se=o.getFullYear(),Ie=o.getMonth(),pe=y.useMemo(()=>x5e(se,Ie),[se,Ie]),ae=y.useMemo(()=>{const ze=new Intl.DateTimeFormat(n.language,{weekday:"short"}),Ke=new Date(2021,7,1);return Array.from({length:7}).map((Ze,ht)=>ze.format(new Date(Ke.getFullYear(),Ke.getMonth(),Ke.getDate()+ht)))},[n.language]),ge=ze=>{const Ke=ze.getFullYear(),Ze=String(ze.getMonth()+1).padStart(2,"0"),ht=String(ze.getDate()).padStart(2,"0");return`${Ke}-${Ze}-${ht}`},Re=ze=>m[ge(ze)]||[],ue=ze=>{const Ke=new Date(ze),Ze=Ke.getDay();return Ke.setDate(Ke.getDate()-Ze),Ke.setHours(0,0,0,0),Ke},Z=ze=>{const Ke=new Date(ue(ze));return Ke.setDate(Ke.getDate()+6),Ke.setHours(23,59,59,999),Ke},Se=ze=>new Date(ze.getFullYear(),ze.getMonth(),1),Ne=ze=>new Date(ze.getFullYear(),ze.getMonth()+1,0),Ye=(ze,Ke)=>{const Ze=[],ht=new Date(ze);for(;ht<=Ke;)Ze.push(...Re(ht)),ht.setDate(ht.getDate()+1);return Ze},gt=(ze=10,Ke=30)=>{try{const Ze=new Date,ht=new Date(Ze);ht.setDate(ht.getDate()+Ke);const At=[];Object.entries(m||{}).forEach(([Pt,Gt])=>{const Ae=new Date(Pt);Gt.forEach(Tt=>{const We=new Date(Ae);if(Tt&&Tt.time){const[Ot,Rt]=String(Tt.time).split(":");isNaN(Ot)||We.setHours(parseInt(Ot,10)),isNaN(Rt)||We.setMinutes(parseInt(Rt,10))}At.push({...Tt,_dt:We})})});let Mt=At.filter(Pt=>Pt._dt>=Ze&&Pt._dt<=ht);if(P&&P!==r("All Employees")?Mt=Mt.filter(Pt=>Pt.assignedTo===P):M&&M!==r("All Managers")&&(Mt=Mt.filter(Pt=>Pt.assignedTo===M)),K&&K!==r("All Leads")&&(Mt=Mt.filter(Pt=>Pt.leadName===K)),J&&String(J).trim()){const Pt=String(J).trim().toLowerCase();Mt=Mt.filter(Gt=>(Gt.title||"").toLowerCase().includes(Pt)||(Gt.description||"").toLowerCase().includes(Pt))}return Mt.sort((Pt,Gt)=>Pt._dt-Gt._dt),Mt.slice(0,ze)}catch{return[]}},qt=ze=>{let Ke=[];if(ze==="selected"||ze==="day")Ke=Re(d||l);else if(ze==="week"){const Ze=ue(l),ht=Z(l);Ke=Ye(Ze,ht)}else if(ze==="month"){const Ze=Se(o),ht=Ne(o);Ke=Ye(Ze,ht)}else ze==="upcoming"&&(Ke=gt());if(P&&P!==r("All Employees")?Ke=Ke.filter(Ze=>typeof Ze!="string"&&Ze.assignedTo===P):M&&M!==r("All Managers")&&(Ke=Ke.filter(Ze=>typeof Ze!="string"&&Ze.assignedTo===M)),K&&K!==r("All Leads")&&(Ke=Ke.filter(Ze=>typeof Ze!="string"&&Ze.leadName===K)),J){const Ze=String(J).toLowerCase();Ke=Ke.filter(ht=>{const At=typeof ht=="string"?ht:[ht.title,ht.leadName,ht.assignedTo,ht.location].filter(Boolean).join(" ");return String(At).toLowerCase().includes(Ze)})}return Ke},at=y.useMemo(()=>{let Ke=Object.values(m).flat();P&&P!==r("All Employees")?Ke=Ke.filter(ht=>ht.assignedTo===P):M&&M!==r("All Managers")&&(Ke=Ke.filter(ht=>ht.assignedTo===M));const Ze=Array.from(new Set(Ke.map(ht=>ht.leadName).filter(Boolean)));return[r("All Leads"),...Ze]},[m,P,M,n.language]),$t=ze=>{if(ze.type!=="meeting")return;const Ke=d?ge(d):ze.date,ht=(ze.title||"").trim()||(ze.notes?String(ze.notes).slice(0,60):`${ze.type} action`),At={...m,[Ke]:[...m[Ke]||[],ht]};v(At),DO(At),b(!1)};return e?s.jsxs("div",{className:"fixed inset-0 z-[100] flex items-start justify-center pt-24 sm:pt-28",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-[2px]",onClick:t,"aria-label":"Close calendar"}),s.jsxs("div",{className:`relative w-full h-screen sm:w-[90%] sm:max-w-4xl sm:h-auto sm:max-h-[90vh] overflow-y-auto rounded-none sm:rounded-xl border shadow-2xl ${i?"bg-white border-gray-200 text-gray-800":"bg-gray-900 border-gray-700 text-gray-100"}`,children:[s.jsx("button",{className:`absolute top-4 ${n.language==="ar"?"left-4":"right-4"} z-10 p-2 rounded-md transition-colors ${i?"hover:bg-gray-100 text-gray-500 hover:text-gray-700":"hover:bg-gray-800 text-gray-400 hover:text-gray-200"}`,onClick:t,"aria-label":"Close calendar",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:s.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),s.jsxs("div",{className:"p-4 pt-8 pb-20",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),s.jsxs("div",{children:[s.jsx("h2",{className:`text/base font-semibold ${i?"text-gray-900":"text-white"}`,children:r("Calendar")}),s.jsx("p",{className:`text-sm ${i?"text-gray-500":"text-gray-400"}`,children:r("Calendar Subtitle")})]})]}),s.jsxs("div",{className:`flex flex-col sm:flex-row items-center justify-between px-3 py-2 border-b gap-2 ${i?"bg-gray-50 border-gray-200":"bg-gray-800 border-gray-700"}`,children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:`font-bold text-base ${i?"text-gray-800":"text-white"}`,children:o.toLocaleString(n.language,{month:"long",year:"numeric"})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("select",{value:Ie,onChange:ze=>{const Ke=parseInt(ze.target.value,10);c(new Date(se,Ke,1))},className:`px-2 py-1 text-xs rounded-md border ${i?"bg-white border-gray-300 text-gray-800":"bg-gray-700 border-gray-600 text-gray-200"}`,"aria-label":"Select month",children:Array.from({length:12}).map((ze,Ke)=>s.jsx("option",{value:Ke,children:new Date(2e3,Ke,1).toLocaleString(n.language,{month:"long"})},Ke))}),s.jsx("select",{value:se,onChange:ze=>{const Ke=parseInt(ze.target.value,10);c(new Date(Ke,Ie,1))},className:`px-2 py-1 text-xs rounded-md border ${i?"bg-white border-gray-300 text-gray-800":"bg-gray-700 border-gray-600 text-gray-200"}`,"aria-label":"Select year",children:Array.from({length:21}).map((ze,Ke)=>{const Ze=l.getFullYear()-10+Ke;return s.jsx("option",{value:Ze,children:Ze},Ze)})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:`p-1 rounded-md ${i?"hover:bg-gray-200":"hover:bg-gray-700"}`,onClick:()=>c(new Date(se,Ie-1,1)),"aria-label":"Prev month",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:s.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),s.jsx("button",{className:`p-1 rounded-md ${i?"hover:bg-gray-200":"hover:bg-gray-700"}`,onClick:()=>c(new Date(se,Ie+1,1)),"aria-label":"Next month",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:s.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{className:`px-3 py-1 text-sm font-semibold rounded-md ${i?"bg-gray-200 hover:bg-gray-300":"bg-gray-700 hover:bg-gray-600"}`,onClick:()=>{const ze=new Date;c(ze),u(ze),N("selected")},children:r("Today")})})]}),s.jsxs("div",{className:"p-3",children:[s.jsxs("div",{className:"flex items-center justify-between gap-3 mb-3 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx(te,{value:R,onChange:ze=>I(ze),options:z,isLight:i}),s.jsx(te,{value:M,onChange:ze=>U(ze),options:re,isLight:i}),s.jsx(te,{value:P,onChange:ze=>F(ze),options:oe,isLight:i}),s.jsx(te,{value:K,onChange:ze=>V(ze),options:at,isLight:i})]}),s.jsx("div",{className:"flex-1 md:flex-none",children:s.jsx("input",{type:"search",value:J,onChange:ze=>Q(ze.target.value),placeholder:r("Search..."),className:`w-full md:w-64 px-3 py-1 text-sm rounded-md border ${i?"bg-white border-gray-300 text-gray-700 placeholder-gray-400":"bg-gray-700 border-gray-600 text-gray-200 placeholder-gray-400"}`})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-stretch",children:[s.jsxs("div",{className:"min-h-[360px] flex flex-col",style:{minHeight:E},children:[s.jsx("div",{className:`grid grid-cols-7 text-xs mb-2 ${i?"text-gray-600 opacity-70":"text-gray-300 opacity-80"}`,children:ae.map(ze=>s.jsx("div",{className:"text-center py-1",children:ze},ze))}),s.jsx("div",{className:"grid grid-cols-7 gap-1 flex-1",children:pe.map(({date:ze,inMonth:Ke},Ze)=>{const ht=ze.toDateString()===l.toDateString(),At=d&&ze.toDateString()===d.toDateString();let Mt=Re(ze);return P&&P!==r("All Employees")?Mt=Mt.filter(Pt=>Pt.assignedTo===P):M&&M!==r("All Managers")&&(Mt=Mt.filter(Pt=>Pt.assignedTo===M)),K&&K!==r("All Leads")&&(Mt=Mt.filter(Pt=>Pt.leadName===K)),s.jsx("div",{className:"relative group",children:s.jsxs("button",{onClick:()=>{u(ze),N("selected")},onMouseEnter:()=>p(ze),onMouseLeave:()=>p(null),className:`text-center rounded-lg border p-2 min-h-[70px] w-full transition-colors duration-150 ${Ke?i?"bg-white border-gray-200 hover:bg-gray-100":"bg-gray-800 border-gray-700 hover:bg-gray-700":i?"bg-gray-50 border-gray-200 opacity-50":"bg-gray-900 border-gray-800 opacity-50"} ${ht?"ring-2 ring-indigo-500":""} ${At?"ring-2 ring-blue-500":""}`,children:[s.jsx("span",{className:"text-sm font-medium",children:ze.getDate()}),Mt.length>0&&s.jsx("span",{className:`mt-1 inline-block w-2 h-2 rounded-full ${i?"bg-indigo-500":"bg-indigo-400"}`})]})},Ze)})})]}),s.jsxs("div",{className:"min-h-[360px] flex flex-col",style:{minHeight:E},children:[s.jsxs("div",{className:`rounded-xl border ${i?"bg-white border-gray-200":"bg-gray-800 border-gray-700"} shadow-sm flex-1 flex flex-col overflow-hidden`,children:[s.jsxs("div",{className:`px-4 py-2 border-b flex items-center justify-between ${i?"border-gray-200":"border-gray-700 bg-gray-800"}`,children:[s.jsx("span",{className:"font-semibold text-sm",children:r("Actions")}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("div",{className:"flex items-center gap-1",children:[{key:"selected",label:d&&d.toDateString()===l.toDateString()?r("Today"):r("Selected")},{key:"week",label:r("Week")},{key:"month",label:r("Month")},{key:"upcoming",label:r("Upcoming")}].map(ze=>s.jsx("button",{className:`px-2 py-1 text-xs rounded-md border ${i?"border-gray-300":"border-gray-600"} ${S===ze.key?i?"bg-gray-200":"bg-gray-700":""}`,onClick:()=>N(ze.key),children:ze.label},ze.key))})})]}),s.jsxs("div",{className:"p-3 space-y-2 flex-1 pb-4",children:[qt(S).map((ze,Ke)=>{const Ze=typeof ze=="string"?ze:ze.title||"Action",ht=typeof ze=="string"?"medium":ze.priority||"medium",At=ht==="high"?i?"bg-red-100":"bg-red-900/40":ht==="medium"?i?"bg-yellow-100":"bg-yellow-900/40":i?"bg-emerald-100":"bg-emerald-900/40",Mt=ht==="high"?i?"text-red-800":"text-red-200":ht==="medium"?i?"text-yellow-800":"text-yellow-200":i?"text-emerald-800":"text-emerald-200",Pt=typeof ze=="string"?"":ze.leadName?ze.leadName:"";return s.jsxs("button",{className:`w-full text-left flex items-center justify-between px-3 py-2 rounded-xl ${At} cursor-pointer`,onClick:()=>{typeof ze!="string"&&ze.leadId?ye(ze.leadId):_(ze)},children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`w-2 h-2 rounded-full ${Mt} bg-current`}),s.jsxs("div",{children:[s.jsx("div",{className:`text-sm font-medium ${Mt}`,children:Ze}),Pt&&s.jsx("div",{className:"text-xs opacity-70",children:Pt})]})]}),s.jsx("span",{className:"text-white bg-gray-400/60 rounded-full w-5 h-5 flex items-center justify-center",children:""})]},Ke)}),qt(S).length===0&&s.jsx("div",{className:`text-sm ${i?"text-gray-600":"text-gray-300"} opacity-80`,children:r("No actions for selected range.")})]})]}),s.jsxs("div",{className:`mt-3 rounded-xl border ${i?"bg-white border-gray-200":"bg-gray-800 border-gray-700"} shadow-sm`,children:[s.jsx("div",{className:`px-4 py-2 border-b font-semibold text-sm ${i?"border-gray-200":"border-gray-700 text-gray-100"}`,children:r("Notifications")}),s.jsxs("div",{className:"p-3 space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500"}),s.jsx("span",{children:r("Reminder: Meeting in 15 min.")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),s.jsxs("span",{children:[r("New Lead assigned"),": John Smith"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-indigo-500"}),s.jsx("span",{children:r("Update: Project status changed to In Progress")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-gray-500"}),s.jsx("span",{children:r("New message received")})]})]})]})]})]})]}),g&&s.jsx(Mx,{isOpen:!0,onClose:()=>b(!1),onSave:$t,lead:null}),A&&s.jsxs("div",{className:"fixed inset-0 z-[120] flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>_(null)}),s.jsxs("div",{className:`relative w-[92%] sm:w-[480px] rounded-2xl border shadow-xl ${i?"bg-white border-gray-200 text-gray-800":"bg-gray-800 border-gray-700 text-gray-100"}`,children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-gray-200 dark:border-gray-700",children:[s.jsx("div",{className:"font-semibold text-sm",children:" "}),s.jsx("button",{className:`px-2 py-1 rounded-md text-xs ${i?"bg-gray-100 hover:bg-gray-200":"bg-gray-700 hover:bg-gray-600"}`,onClick:()=>_(null),children:""})]}),s.jsxs("div",{className:"px-4 py-3 space-y-2 text-sm",children:[s.jsx("div",{className:"font-medium",children:typeof A=="string"?A:A.title||"Action"}),typeof A!="string"&&s.jsxs(s.Fragment,{children:[A.description&&s.jsx("div",{className:"opacity-80",children:A.description}),s.jsxs("div",{className:"opacity-75",children:[" ",A.leadName||""," |  ",A.assignedTo||""]}),A.location&&s.jsxs("div",{className:"opacity-75",children:[" ",A.location]}),A.leadPhone&&s.jsxs("div",{className:"opacity-75",children:[" ",A.leadPhone]})]}),s.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[typeof A!="string"&&A.leadId&&s.jsx("button",{className:"text-xs px-2 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>ye(A.leadId),children:" "}),typeof A!="string"&&A.leadPhone&&s.jsx("button",{className:"text-xs px-2 py-1 bg-green-500 text-white rounded hover:bg-green-600",onClick:()=>window.open(`tel:${A.leadPhone}`,"_self"),children:""}),typeof A!="string"&&A.leadPhone&&s.jsx("button",{className:"text-xs px-2 py-1 bg-emerald-500 text-white rounded hover:bg-emerald-600",onClick:()=>window.open(`https://wa.me/${A.leadPhone.replace("+","")}`,"_blank"),children:""})]})]})]})]}),s.jsx(v5e,{lead:q,isOpen:le,onClose:()=>O(!1),isLight:i})]})]})]}):null}function v5e({lead:e,isOpen:t,onClose:a,isLight:r}){return!t||!e?null:s.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:a}),s.jsx("div",{className:`relative w-full max-w-md mx-4 rounded-xl border shadow-2xl ${r?"bg-white border-gray-200 text-gray-800":"bg-gray-800 border-gray-700 text-gray-100"}`,children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:" "}),s.jsx("button",{onClick:a,className:`p-2 rounded-md transition-colors ${r?"hover:bg-gray-100 text-gray-500":"hover:bg-gray-700 text-gray-400"}`,children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:s.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${r?"bg-gray-200 text-gray-600":"bg-gray-700 text-gray-300"}`,children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:e.name}),s.jsx("p",{className:`text-sm ${r?"text-gray-600":"text-gray-400"}`,children:e.company||"Individual Client"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[s.jsxs("div",{className:`p-3 rounded-lg ${r?"bg-gray-50":"bg-gray-700"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 text-blue-500",children:s.jsx("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})}),s.jsx("span",{className:"text-sm font-medium",children:""})]}),s.jsx("p",{className:"text-sm",children:e.phone})]}),e.email&&s.jsxs("div",{className:`p-3 rounded-lg ${r?"bg-gray-50":"bg-gray-700"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 text-green-500",children:[s.jsx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),s.jsx("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]}),s.jsx("span",{className:"text-sm font-medium",children:" "})]}),s.jsx("p",{className:"text-sm",children:e.email})]}),e.stage&&s.jsxs("div",{className:`p-3 rounded-lg ${r?"bg-gray-50":"bg-gray-700"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 text-purple-500",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),s.jsx("span",{className:"text-sm font-medium",children:""})]}),s.jsx("p",{className:"text-sm",children:e.stage})]}),e.source&&s.jsxs("div",{className:`p-3 rounded-lg ${r?"bg-gray-50":"bg-gray-700"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 text-orange-500",children:s.jsx("path",{fillRule:"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z",clipRule:"evenodd"})}),s.jsx("span",{className:"text-sm font-medium",children:""})]}),s.jsx("p",{className:"text-sm",children:e.source})]})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsxs("button",{onClick:()=>window.open(`tel:${e.phone}`,"_self"),className:"flex-1 bg-green-500 hover:bg-green-600 text-white py-2 px-4 rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4",children:s.jsx("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})}),""]}),s.jsxs("button",{onClick:()=>window.open(`https://wa.me/${e.phone.replace("+","")}`,"_blank"),className:"flex-1 bg-emerald-500 hover:bg-emerald-600 text-white py-2 px-4 rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})}),""]})]})]})]})})]})}const b5e=e=>{const t={className:"w-5 h-5"};switch(e){case"task":return s.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[s.jsx("path",{d:"M9 11l2 2 4-4"}),s.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2"})]});case"lead":return s.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[s.jsx("circle",{cx:"12",cy:"7",r:"4"}),s.jsx("path",{d:"M5.5 21a6.5 6.5 0 0113 0"})]});case"campaign":return s.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[s.jsx("path",{d:"M5 12h14"}),s.jsx("path",{d:"M7 9l3-3 3 3"}),s.jsx("path",{d:"M17 15l-3 3-3-3"})]});case"inventory":return s.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[s.jsx("rect",{x:"3",y:"4",width:"18",height:"14",rx:"2"}),s.jsx("path",{d:"M3 10h18"})]});case"comment":return s.jsx("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:s.jsx("path",{d:"M21 15a4 4 0 01-4 4H7l-4 4V7a4 4 0 014-4h10a4 4 0 014 4z"})});case"system":default:return s.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[s.jsx("path",{d:"M12 9v4"}),s.jsx("path",{d:"M12 17h.01"}),s.jsx("circle",{cx:"12",cy:"12",r:"9"})]})}},y5e=e=>{try{const t=Date.now()-Number(e||0),a=Math.floor(t/6e4);if(a<1)return"now";if(a<60)return`${a}m`;const r=Math.floor(a/60);return r<24?`${r}h`:`${Math.floor(r/24)}d`}catch{return""}};function w5e({data:e,onToggleRead:t,onArchive:a,onUnarchive:r}){const{t:n}=St(),[i,l]=y.useState(!1),o=y.useMemo(()=>{switch(e?.type){case"task":return"text-green-600 dark:text-green-400";case"lead":return"text-blue-600 dark:text-blue-400";case"campaign":return"text-purple-600 dark:text-purple-400";case"inventory":return"text-amber-600 dark:text-amber-400";case"comment":return"text-pink-600 dark:text-pink-400";case"system":default:return"text-gray-600 dark:text-gray-300"}},[e?.type]),c=e?.read?"border-gray-200 dark:border-gray-800":"border-blue-300 dark:border-blue-700",d=e?.read?"bg-[var(--content-bg)]":"bg-blue-50/50 dark:bg-blue-900/10";return s.jsxs("div",{className:`rounded-md border ${c} ${d} p-3 sm:p-4 flex items-start gap-3`,children:[s.jsx("div",{className:`flex-shrink-0 mt-0.5 ${o}`,children:b5e(e?.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"font-medium truncate",children:e?.title||""}),e?.archived&&s.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-gray-200 dark:bg-gray-800 text-gray-600 dark:text-gray-300",children:n("Archived","Archived")}),!e?.read&&s.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-blue-600 text-white",children:n("New","New")})]}),s.jsx("p",{className:"text-sm opacity-80 truncate",children:e?.body||""}),s.jsxs("div",{className:"text-xs opacity-60 mt-0.5",children:[y5e(e?.createdAt),"  ",n(e?.source)||e?.source]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:()=>l(u=>!u),className:"btn btn-xs btn-ghost text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700","aria-expanded":i,title:i?n("Collapse","Collapse"):n("Expand","Expand"),children:s.jsx("svg",{className:`w-4 h-4 transition-transform ${i?"rotate-180":""}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})}),s.jsx("button",{onClick:t,className:"btn btn-xs",title:e?.read?n("Mark as unread","Mark as unread"):n("Mark as read","Mark as read"),children:e?.read?n("Unread","Unread"):n("Read","Read")}),e?.archived?s.jsx("button",{onClick:r,className:"btn btn-xs btn-outline",title:n("Unarchive","Unarchive"),children:n("Unarchive","Unarchive")}):s.jsx("button",{onClick:a,className:"btn btn-xs btn-outline",title:n("Archive","Archive"),children:n("Archive","Archive")})]})]}),i&&s.jsx("div",{className:"pt-3 mt-2 border-t border-gray-200 dark:border-gray-800 text-sm",children:s.jsx("div",{className:"opacity-90 whitespace-pre-wrap",children:e?.body||""})})]})]})}function PO(){const e=Date.now();return[{id:"n1",type:"task",title:"New task assigned",body:"Call client Ibrahim about contract details",createdAt:e-1e3*60*20,read:!1,archived:!1,source:"Tasks"},{id:"n2",type:"lead",title:"New lead imported",body:'Lead "Sara Ali" added from Meta campaign',createdAt:e-1e3*60*60*2,read:!1,archived:!1,source:"Leads"},{id:"n3",type:"campaign",title:"Campaign budget alert",body:"Google Ads daily budget reached 90%",createdAt:e-1e3*60*60*6,read:!0,archived:!1,source:"Marketing"},{id:"n4",type:"inventory",title:"Low stock threshold",body:'Item "SKU-AX12" is running low',createdAt:e-1e3*60*60*12,read:!1,archived:!1,source:"Inventory"},{id:"n5",type:"comment",title:"New comment on Task",body:"Omar: Please update the deadline to Friday",createdAt:e-1e3*60*60*26,read:!0,archived:!1,source:"Tasks"},{id:"n6",type:"system",title:"System updated",body:"CRM Ibrahim v1.2.3 deployed successfully",createdAt:e-1e3*60*60*48,read:!0,archived:!1,source:"System"},{id:"n7",type:"task",title:"Task deadline tomorrow",body:"Prepare product demo materials",createdAt:e-1e3*60*60*4,read:!1,archived:!1,source:"Tasks"},{id:"n8",type:"lead",title:"Lead status changed",body:'Lead "Mohamed" moved to Qualified',createdAt:e-1e3*60*10,read:!1,archived:!1,source:"Leads"}]}const j5e=[{value:"All",label:"All"},{value:"task",label:"Tasks"},{value:"lead",label:"Leads"},{value:"campaign",label:"Campaigns"},{value:"inventory",label:"Inventory"},{value:"comment",label:"Comments"},{value:"system",label:"System"}];function Iq({embedded:e=!1}){const{t,i18n:a}=St();a.language;const[r,n]=y.useState([]),[i,l]=y.useState("all"),[o,c]=y.useState(""),[d,u]=y.useState("All");y.useEffect(()=>{try{const k=localStorage.getItem("notificationsData");if(k){const S=JSON.parse(k);if(Array.isArray(S))n(S);else throw new Error("Invalid notifications")}else{const S=PO();n(S),localStorage.setItem("notificationsData",JSON.stringify(S))}}catch{const k=PO();n(k);try{localStorage.setItem("notificationsData",JSON.stringify(k))}catch{}}},[]);const f=y.useCallback(k=>{n(k);try{localStorage.setItem("notificationsData",JSON.stringify(k)),window.dispatchEvent(new Event("notificationsUpdated"))}catch{}},[]),p=y.useMemo(()=>{const k=o.trim().toLowerCase();return r.filter(S=>!(i==="unread"&&S.read||i==="archived"&&!S.archived||i!=="archived"&&S.archived||d!=="All"&&(S.type||"")!==d||k&&!`${S.title||""} ${S.body||""}`.toLowerCase().includes(k)))},[r,i,o,d]),m=y.useMemo(()=>r.filter(k=>!k.read&&!k.archived).length,[r]),v=()=>{const k=r.map(S=>({...S,read:!0}));f(k)},g=()=>{const k=r.filter(S=>!S.read);f(k)},b=k=>{const S=r.map(N=>N.id===k?{...N,read:!N.read}:N);f(S)},j=(k,S)=>{const N=r.map(A=>A.id===k?{...A,archived:S}:A);f(N)};return s.jsxs("div",{className:`space-y-6 ${e?"p-0":""}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h1",{className:"page-title text-xl font-semibold",children:t("Notifications","Notifications")}),s.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 text-xs rounded-full bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300",children:[m," ",t("Unread","Unread")]})]}),!e&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{type:"button",onClick:v,className:"btn btn-sm",children:t("Mark all as read","Mark all as read")}),s.jsx("button",{type:"button",onClick:g,className:"btn btn-sm btn-outline",children:t("Clear read","Clear read")})]})]}),s.jsx("div",{className:"h-3","aria-hidden":"true"}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsx("button",{onClick:()=>l("all"),className:`px-3 py-1.5 text-sm rounded-md border transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 active:scale-[0.98] ${i==="all"?"bg-blue-600 text-white border-blue-600 shadow-sm":"bg-gray-50 dark:bg-transparent border-gray-300 dark:border-gray-700 text-gray-800 dark:text-[var(--content-text)] hover:bg-blue-50 dark:hover:bg-blue-900/10 hover:shadow"}`,children:t("All")}),s.jsx("button",{onClick:()=>l("unread"),className:`px-3 py-1.5 text-sm rounded-md border transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 active:scale-[0.98] ${i==="unread"?"bg-blue-600 text-white border-blue-600 shadow-sm":"bg-gray-50 dark:bg-transparent border-gray-300 dark:border-gray-700 text-gray-800 dark:text-[var(--content-text)] hover:bg-blue-50 dark:hover:bg-blue-900/10 hover:shadow"}`,children:t("Unread","Unread")}),s.jsx("button",{onClick:()=>l("archived"),className:`px-3 py-1.5 text-sm rounded-md border transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 active:scale-[0.98] ${i==="archived"?"bg-blue-600 text-white border-blue-600 shadow-sm":"bg-gray-50 dark:bg-transparent border-gray-300 dark:border-gray-700 text-gray-800 dark:text-[var(--content-text)] hover:bg-blue-50 dark:hover:bg-blue-900/10 hover:shadow"}`,children:t("Archived","Archived")})]}),s.jsxs("div",{className:"flex items-center gap-2 w-full",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx("input",{value:o,onChange:k=>c(k.target.value),placeholder:t("Search"),className:"w-full rounded-lg border px-3 py-2.5 pl-8 pr-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-800 border-gray-300 placeholder:text-gray-500 dark:bg-gray-800 dark:text-gray-100 dark:border-gray-700"}),s.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 opacity-70 text-gray-600 dark:text-gray-300",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:[s.jsx("circle",{cx:"11",cy:"11",r:"6"}),s.jsx("path",{d:"M21 21l-4.5-4.5"})]})})]}),s.jsx("div",{className:"w-40",children:s.jsx(ss,{options:j5e,value:d,onChange:u,placeholder:t("All")})})]})]}),s.jsx("div",{className:"space-y-2",children:p.length===0?s.jsx("div",{className:"text-center py-16 border border-dashed rounded-md text-sm opacity-75",children:t("No notifications","No notifications")}):p.map(k=>s.jsx(w5e,{data:k,onToggleRead:()=>b(k.id),onArchive:()=>j(k.id,!0),onUnarchive:()=>j(k.id,!1)},k.id))})]})}function N5e(){return s.jsx(_r,{children:s.jsx(Iq,{embedded:!1})})}function k5e({onClose:e,variant:t="modal"}){const{t:a,i18n:r}=St(),n=r.language==="ar",{theme:i}=Ar(),l=i==="light",[o,c]=y.useState("all"),[d,u]=y.useState(""),[f,p]=y.useState(""),m=Ws.useRef(null),v=Ws.useRef(!1),g=j=>{const k=(j||"").trim().replace(/\s|-/g,"");if(!k)return"";if(k.startsWith("+"))return k;const S=k.match(/^0+(\d{1,4})/);if(S)return`+${S[1]}`;const N=k.match(/^(\d{1,4})$/);return N?`+${N[1]}`:""};Ws.useEffect(()=>{!m.current&&!v.current&&(v.current=!0,fetch("https://restcountries.com/v3.1/all?fields=idd,flag").then(j=>j.json()).then(j=>{const k=new Map;Array.isArray(j)&&j.forEach(S=>{const N=(S?.idd?.root||"").trim();(Array.isArray(S?.idd?.suffixes)?S.idd.suffixes:[]).forEach(_=>{const E=`${N}${_}`;E&&k.set(E,S?.flag||"")})}),m.current=k}).catch(()=>{m.current=new Map}).finally(()=>{v.current=!1}))},[]),Ws.useEffect(()=>{const j=g(d);if(!j){p("");return}const k=m.current;k&&k.has(j)?p(k.get(j)||""):p("")},[d]);const b=()=>{try{const j={filterField:o,query:d,ts:Date.now()};localStorage.setItem("globalSearch",JSON.stringify(j)),window.dispatchEvent(new CustomEvent("globalSearch",{detail:j}))}catch{}e&&e()};return t==="dropdown"?s.jsx("div",{className:`${l?"bg-white":"backdrop-blur-md bg-gray-900/95"} z-[110]
        fixed top-16 max-[320px]:top-14
        left-1/2 -translate-x-1/2 w-[85vw] sm:w-[80vw] max-w-[28rem]
        md:translate-x-0 ${n?"md:left-0 md:right-auto":"md:right-0 md:left-auto"} md:w-[28rem]
        border-t md:border ${l?"border-gray-200":"border-gray-700"}
        rounded-xl shadow-2xl`,role:"dialog","aria-label":a("Search"),children:s.jsxs("div",{className:"px-3 py-2 md:px-4 md:py-3 space-y-2 md:space-y-3 max-h-[60vh] overflow-auto",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:`text-xs md:text-sm max-[480px]:hidden ${l?"text-gray-800":"text-gray-300"}`,children:n?"":"Filter"}),s.jsx("div",{className:"relative w-64 max-[480px]:w-52 sm:w-72 md:w-80",children:s.jsxs(ss,{value:o,onChange:j=>c(j),className:"w-full text-xs md:text-sm",usePortal:!0,children:[s.jsx("option",{value:"all",children:n?"":"All"}),s.jsx("option",{value:"lead",children:n?"":"Lead"}),s.jsx("option",{value:"mobile",children:n?"":"Mobile"}),s.jsx("option",{value:"comment",children:n?"":"Comment"}),s.jsx("option",{value:"country",children:n?"":"Country"})]})}),s.jsx("label",{className:`text-xs md:text-sm max-[480px]:hidden ${l?"text-gray-800":"text-gray-300"}`,children:a("Search")}),f?s.jsx("span",{className:`text-lg ${l?"text-gray-900":"text-gray-100"}`,children:f}):null,s.jsx("input",{type:"text",value:d,onChange:j=>u(j.target.value),placeholder:n?" ...":"Type to search...",className:`flex-1 px-2 py-2 md:px-3 md:py-2 text-[12px] md:text-[14px] placeholder:text-[11px] md:placeholder:text-[13px] rounded-lg border ${l?"border-gray-300 bg-white text-gray-900 placeholder:text-gray-500":"dark:border-gray-600 dark:bg-gray-800 dark:text-gray-100"} focus:outline-none focus:ring-2 focus:ring-blue-500`})]}),s.jsxs("div",{className:"pt-2 flex items-center justify-end gap-2 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("button",{onClick:()=>{u(""),c("all");try{localStorage.removeItem("globalSearch"),window.dispatchEvent(new Event("globalSearchCleared"))}catch{}},className:`text-xs px-2 py-1 md:px-3 md:py-2 rounded-md border ${l?"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200":"dark:bg-gray-800 dark:text-gray-200 dark:border-gray-700 dark:hover:bg-gray-700"}`,children:n?"":"Clear"}),s.jsx("button",{onClick:()=>{b(),e&&e()},className:"text-xs px-2 py-1 md:px-3 md:py-2 rounded-md bg-indigo-600 hover:bg-indigo-700 text-white",children:n?"":"Search"})]})]})}):s.jsxs("div",{className:"fixed inset-0 z-[100]","aria-label":a("Search"),children:[s.jsx("div",{className:"absolute inset-0 bg-transparent",onClick:e,"aria-label":n?" ":"Close search"}),s.jsxs("div",{className:`absolute top-14 ${n?"left-4":"right-4"} w-[90vw] max-w-md rounded-xl ${l?"bg-white border border-gray-200 shadow-2xl":"backdrop-blur-md bg-gray-900/90 border border-gray-700 shadow-2xl"}`,role:"dialog","aria-modal":"true",children:[s.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[s.jsx("div",{className:`text-sm font-semibold ${l?"text-gray-900":""}`,children:a("Search")}),s.jsx("button",{onClick:e,className:`text-xs px-2 py-1 rounded-md border ${l?"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200":"dark:bg-gray-800 dark:text-gray-200 dark:border-gray-700 dark:hover:bg-gray-700"}`,children:n?"":"Close"})]}),s.jsxs("div",{className:"px-4 py-3 space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:`text-sm min-w-[70px] ${l?"text-gray-800":"text-gray-300"}`,children:n?"":"Filter"}),s.jsxs(ss,{value:o,onChange:j=>c(j),className:"flex-1 text-sm",menuWidth:360,usePortal:!1,children:[s.jsx("option",{value:"all",children:n?"":"All"}),s.jsx("option",{value:"lead",children:n?"":"Lead"}),s.jsx("option",{value:"mobile",children:n?"":"Mobile"}),s.jsx("option",{value:"comment",children:n?"":"Comment"}),s.jsx("option",{value:"country",children:n?"":"Country"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:`text-sm min-w-[70px] ${l?"text-gray-800":"text-gray-300"}`,children:a("Search")}),f?s.jsx("span",{className:`text-lg ${l?"text-gray-900":"text-gray-100"}`,children:f}):null,s.jsx("input",{type:"text",value:d,onChange:j=>u(j.target.value),placeholder:n?" ...":"Type to search...",className:`flex-1 px-3 py-2 placeholder:text-[11px] md:placeholder:text-[13px] rounded-lg border ${l?"border-gray-300 bg-white text-gray-900 placeholder:text-gray-500":"dark:border-gray-600 dark:bg-gray-800 dark:text-gray-100"} focus:outline-none focus:ring-2 focus:ring-blue-500`})]}),s.jsxs("div",{className:"pt-2 flex items-center justify-end gap-2 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("button",{onClick:()=>{u("")},className:`text-xs px-3 py-2 rounded-md border ${l?"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200":"dark:bg-gray-800 dark:text-gray-200 dark:border-gray-700 dark:hover:bg-gray-700"}`,children:n?"":"Clear"}),s.jsx("button",{onClick:b,className:"text-xs px-3 py-2 rounded-md bg-indigo-600 hover:bg-indigo-700 text-white",children:n?"":"Search"})]})]})]})]})}const v3="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='64' height='64'><rect width='100%' height='100%' fill='%239ca3af'/><text x='50%' y='54%' font-family='system-ui,Segoe UI,Arial' font-size='28' fill='white' text-anchor='middle'>I</text></svg>",S5e=({count:e})=>s.jsx("span",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center px-1.5 py-0.5 text-[10px] font-semibold rounded-full bg-red-500 text-white",children:e}),lo=({children:e,label:t,className:a,onClick:r,showLabel:n=!0})=>s.jsxs("button",{type:"button",className:a??"btn flex-col gap-1 px-3 py-2",title:t,"aria-label":t,onClick:r,children:[e,n&&s.jsx("span",{className:"text-[8px] leading-none opacity-75 font-medium max-[480px]:hidden",children:t})]});function C5e({isLight:e,text:t}){return s.jsx("div",{className:"flex items-center gap-3 max-[800px]:gap-2 max-[480px]:gap-1 max-[320px]:gap-1 pl-0 ml-0",style:{paddingInlineStart:0,marginInlineStart:0},children:s.jsx("span",{className:`text-sm max-[480px]:text-xs font-semibold whitespace-nowrap flex-shrink-0 min-w-fit max-w-[40vw] truncate ${e?"text-gray-800":"text-gray-300"}`,children:t})})}function A5e({onMobileToggle:e,mobileSidebarOpen:t}){const{theme:a,setTheme:r}=Ar(),n=a==="light",{t:i,i18n:l}=St(),o=l.language==="ar",c=In(),{user:d}=eN(),[u,f]=y.useState(!1),[p,m]=y.useState(!1),[v,g]=y.useState(!1),[b,j]=y.useState({top:64,left:8,right:8}),[k,S]=y.useState(!1),[N,A]=y.useState(0),[_,E]=y.useState(!1),[D,R]=y.useState(!1),[I,M]=y.useState(!1),U=y.useRef(null),P=y.useRef(null),F=y.useRef(null),K=y.useRef(null),V=y.useRef(null),J=y.useRef(null);y.useEffect(()=>{try{const G=localStorage.getItem("language")||localStorage.getItem("lang");G&&G!==l.language&&l.changeLanguage(G)}catch{}},[]);const[Q,z]=y.useState(!1),X=()=>{try{const G=localStorage.getItem("notificationsData");if(!G)return 0;const ie=JSON.parse(G);return Array.isArray(ie)?ie.filter(ye=>!ye.read&&!ye.archived).length:0}catch{return 0}};y.useEffect(()=>{const G=()=>A(X());return G(),window.addEventListener("storage",G),window.addEventListener("notificationsUpdated",G),document.addEventListener("visibilitychange",G),()=>{window.removeEventListener("storage",G),window.removeEventListener("notificationsUpdated",G),document.removeEventListener("visibilitychange",G)}},[]),y.useEffect(()=>{const G=ie=>{p&&U.current&&!U.current.contains(ie.target)&&m(!1),D&&P.current&&!P.current.contains(ie.target)&&R(!1),_&&F.current&&!F.current.contains(ie.target)&&E(!1),I&&J.current&&!J.current.contains(ie.target)&&M(!1),k&&K.current&&!K.current.contains(ie.target)&&S(!1),v&&V.current&&!V.current.contains(ie.target)&&g(!1)};return document.addEventListener("mousedown",G),document.addEventListener("touchstart",G),()=>{document.removeEventListener("mousedown",G),document.removeEventListener("touchstart",G)}},[p,D,_,k,v]);const le="inline-flex items-center justify-center p-2 rounded-full transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500",O=n?"text-gray-600 hover:text-gray-800 backdrop-blur-md bg-white/20 hover:bg-white/40 border border-white/30 hover:border-white/50 shadow-lg hover:shadow-xl hover:scale-105 hover:-translate-y-0.5":"text-gray-400 hover:text-gray-200 backdrop-blur-md bg-gray-800/20 hover:bg-gray-700/40 border border-gray-600/30 hover:border-gray-500/50 shadow-lg hover:shadow-xl hover:scale-105 hover:-translate-y-0.5",q=n?"bg-white/35 backdrop-blur-md border-white/30 shadow-sm":"bg-gray-900 border-gray-800",W="flex flex-col items-center justify-center gap-1 p-2 rounded-lg border transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-400/40",te=n?"bg-purple-50 border-purple-200 hover:bg-purple-100 text-purple-700":"bg-purple-900/20 border-purple-600 hover:bg-purple-900/30 text-purple-300",re=n?"bg-green-50 border-green-200 hover:bg-green-100 text-green-700":"bg-green-900/20 border-green-600 hover:bg-green-900/30 text-green-300",oe=n?"bg-orange-50 border-orange-200 hover:bg-orange-100 text-orange-700":"bg-orange-900/20 border-orange-600 hover:bg-orange-900/30 text-orange-300",ce=()=>{r(n?"dark":"light")};return s.jsxs(s.Fragment,{children:[s.jsx("header",{className:`main-header nova-topbar fixed top-0 z-[120] border-b ${q}`,children:s.jsxs("div",{className:"header-inner relative w-full h-16 max-[320px]:h-14 flex items-center justify-between px-2 max-[480px]:px-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{type:"button",onClick:()=>{typeof e=="function"&&e()},className:`md:hidden ${le} ${O} p-1.5`,"aria-label":t?"Close menu":"Open menu",children:t?s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4 text-red-500",children:[s.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),s.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}):s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-5 h-5",children:s.jsx("path",{d:"M3 12h18M3 6h18M3 18h18"})})}),s.jsxs("button",{type:"button",onClick:()=>c("/dashboard"),"aria-label":i("Dashboard"),className:"md:hidden flex items-center gap-2 cursor-pointer",children:[s.jsx("img",{src:Zf,alt:"Be Souhola",className:"w-8 h-8"}),s.jsx("span",{className:`text-sm font-bold ${n?"text-gray-900":"text-white"}`,children:"Be Souhola"})]}),s.jsx("div",{className:"hidden md:flex",children:s.jsx(C5e,{isLight:n,text:i("welcome_super_admin","Welcome, Super Admin!")})})]}),s.jsxs("div",{className:"flex items-center gap-2 max-[768px]:gap-1.5 max-[480px]:gap-1",children:[s.jsxs("div",{className:"relative",ref:U,children:[s.jsx(lo,{label:i("Search"),className:`${le} ${O} p-1.5 ${p?n?"ring-2 ring-blue-400 bg-white/40":"ring-2 ring-blue-500 bg-gray-800/40":""}`,onClick:()=>m(G=>!G),"aria-expanded":p,children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4 max-[480px]:w-3 max-[480px]:h-3",children:[s.jsx("circle",{cx:"11",cy:"11",r:"6"}),s.jsx("path",{d:"M21 21l-4.5-4.5"})]})}),p&&s.jsx(k5e,{onClose:()=>m(!1),variant:"dropdown"})]}),s.jsx("div",{children:s.jsx(lo,{label:i("Calendar"),className:`${le} ${O} ${n?"":"text-white bg-gray-700/40 hover:bg-gray-600/50 border border-gray-500/50"}`,onClick:()=>z(!0),children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5 max-[480px]:w-4 max-[480px]:h-4",children:[s.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),s.jsx("path",{d:"M3 10h18"}),s.jsx("path",{d:"M8 2v4M16 2v4"})]})})}),s.jsx("div",{className:"max-[768px]:hidden",children:s.jsx(lo,{label:i("Theme"),className:`${le} ${O}`,onClick:ce,children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5 max-[480px]:w-4 max-[480px]:h-4",children:[s.jsx("path",{d:"M12 3v1m0 16v1m8-9h-1M4 12H3m15.36-6.36l-.71.71M6.35 17.65l-.71.71m12.01 0l-.71-.71M6.35 6.35l-.71-.71"}),s.jsx("circle",{cx:"12",cy:"12",r:"5"})]})})}),s.jsx("div",{className:"max-[768px]:hidden",children:s.jsx(lo,{label:i("Tasks"),className:`${le} ${O}`,onClick:()=>c("/tasks"),children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:[s.jsx("path",{d:"M9 11l2 2 4-4"}),s.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2"})]})})}),s.jsxs("div",{className:"relative",ref:P,children:[s.jsx(lo,{label:i("Notifications"),className:`${le} ${O} ${D?n?"ring-2 ring-blue-400 bg-white/40":"ring-2 ring-blue-500 bg-gray-800/40":""}`,onClick:()=>R(G=>!G),children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5 max-[480px]:w-4 max-[480px]:h-4",children:[s.jsx("path",{d:"M18 8a6 6 0 10-12 0v4l-2 2h16l-2-2V8"}),s.jsx("path",{d:"M13.73 21a2 2 0 01-3.46 0"})]})}),N>0&&s.jsx(S5e,{count:N}),D&&s.jsx("div",{className:`notifications-dropdown dropdown-panel absolute top-12 ${o?"left-0":"right-0"} w-[520px] max-w-[90vw] max-h-[70vh] overflow-auto backdrop-blur-md backdrop-saturate-150 ${n?"bg-white/95 border border-white/40 ring-1 ring-black/10":"bg-gray-900/95 border border-gray-600/40 ring-1 ring-white/10"} rounded-xl shadow-xl z-50`,role:"menu","aria-label":i("Notifications"),children:s.jsx("div",{className:"p-3",children:s.jsx(Iq,{embedded:!0})})})]}),s.jsxs("div",{className:"max-[768px]:hidden relative",ref:F,children:[s.jsx(lo,{label:i("Language"),className:`${le} ${O} ${_?n?"ring-2 ring-blue-400 bg-white/40":"ring-2 ring-blue-500 bg-gray-800/40":""}`,onClick:()=>E(G=>!G),children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:[s.jsx("circle",{cx:"12",cy:"12",r:"9"}),s.jsx("path",{d:"M3 12h18"}),s.jsx("path",{d:"M12 3v18"})]})}),_&&s.jsxs("div",{className:`dropdown-panel absolute top-12 ${o?"left-0":"right-0"} w-44 backdrop-blur-md ${n?"bg-white/80 border border-white/30":"bg-gray-900/80 border border-gray-600/30"} rounded-xl shadow-2xl z-50`,role:"menu","aria-label":i("Language"),children:[s.jsx("button",{className:"w-full text-center px-4 py-2 text-sm hover:bg-[var(--table-row-hover)]",onClick:()=>{l.changeLanguage("en");try{localStorage.setItem("language","en")}catch{}},children:"English"}),s.jsx("button",{className:"w-full text-center px-4 py-2 text-sm hover:bg-[var(--table-row-hover)]",onClick:()=>{l.changeLanguage("ar");try{localStorage.setItem("language","ar")}catch{}},children:""})]})]}),s.jsxs("div",{className:"relative max-[768px]:hidden",ref:K,children:[s.jsxs("button",{onClick:()=>S(!k),className:`flex items-center gap-2 px-3 py-2 rounded-full transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 ${n?"backdrop-blur-md bg-white/20 hover:bg-white/40 border border-white/30 hover:border-white/50 shadow-lg hover:shadow-xl hover:scale-105 hover:-translate-y-0.5":"backdrop-blur-md bg-gray-800/20 hover:bg-gray-700/40 border border-gray-600/30 hover:border-gray-500/50 shadow-lg hover:shadow-xl hover:scale-105 hover:-translate-y-0.5"}`,children:[s.jsx("img",{src:v3,alt:"User",className:"w-8 h-8 rounded-full"}),s.jsxs("div",{className:"max-[880px]:hidden text-left",children:[s.jsx("div",{className:"text-sm font-semibold",children:i("Ibrahim")}),s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:i("Admin")})]})]}),k&&s.jsxs("div",{className:`dropdown-panel absolute top-12 ${o?"left-0":"right-0"} w-64 max-w-[85vw] ${n?"bg-white border border-gray-200":"bg-gray-900 border border-gray-700"} rounded-xl shadow-2xl z-50`,role:"menu","aria-label":i("Profile menu"),children:[s.jsx("div",{className:`absolute -top-2 ${o?"left-6":"right-6"} w-3 h-3 ${n?"bg-white border-t border-l border-gray-200":"bg-gray-900 border-t border-l border-gray-700"} rotate-45`}),s.jsxs("div",{className:"px-4 py-3 flex items-center gap-3",children:[s.jsx("img",{src:v3,alt:"User",className:"w-10 h-10 rounded-full"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm font-semibold truncate",children:d?.name||i("Administrator")}),s.jsx("div",{className:"text-xs text-[var(--muted-text)] truncate",children:d?.email||"admin@example.com"}),s.jsxs("button",{className:"mt-1 text-xs font-semibold text-blue-600 hover:text-blue-700",onClick:()=>{c("/settings/profile")},children:[i("My Profile")," "]})]}),s.jsx("span",{className:"inline-flex items-center justify-center w-2 h-2 rounded-full bg-green-500","aria-hidden":!0})]}),s.jsx("div",{className:"h-px bg-[var(--divider)]"}),s.jsxs("button",{onClick:()=>{c("/settings/system/security")},className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-[var(--content-text)] hover:bg-[var(--table-row-hover)] transition-colors",role:"menuitem",children:[s.jsx("span",{className:"w-5 h-5 inline-flex items-center justify-center",children:""}),s.jsx("span",{children:i("Security Settings")})]}),s.jsxs("button",{onClick:()=>{c("/user-management/access-logs")},className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-[var(--content-text)] hover:bg-[var(--table-row-hover)] transition-colors",role:"menuitem",children:[s.jsx("span",{className:"w-5 h-5 inline-flex items-center justify-center",children:""}),s.jsx("span",{children:i("Linked Devices")})]}),s.jsxs("button",{onClick:()=>{c("/settings/profile/company")},className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-[var(--content-text)] hover:bg-[var(--table-row-hover)] transition-colors",role:"menuitem",children:[s.jsx("span",{className:"w-5 h-5 inline-flex items-center justify-center",children:""}),s.jsx("span",{children:i("Company Profile")})]}),s.jsx("div",{className:"h-px bg-[var(--divider)]"}),s.jsxs("button",{onClick:()=>{c("/settings/profile")},className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-[var(--content-text)] hover:bg-[var(--table-row-hover)] transition-colors",role:"menuitem",children:[s.jsx("span",{className:"w-5 h-5 inline-flex items-center justify-center",children:""}),s.jsx("span",{children:i("Change Profile Picture")})]}),s.jsxs("button",{onClick:()=>{c("/settings/system/security")},className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-[var(--content-text)] hover:bg-[var(--table-row-hover)] transition-colors",role:"menuitem",children:[s.jsx("span",{className:"w-5 h-5 inline-flex items-center justify-center",children:""}),s.jsx("span",{children:i("Change Password")})]}),s.jsx("div",{className:"h-px bg-[var(--divider)]"}),s.jsxs("button",{onClick:async()=>{await tM(),c("/login")},className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-[var(--content-text)] hover:bg-[var(--table-row-hover)] transition-colors",role:"menuitem",children:[s.jsx("span",{className:"w-5 h-5 inline-flex items-center justify-center",children:""}),s.jsx("span",{children:i("Logout")})]})]})]}),s.jsx("div",{className:"md:hidden",children:s.jsx(lo,{label:i("More"),className:`${le} ${O}`,onClick:()=>f(!u),children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:[s.jsx("circle",{cx:"12",cy:"12",r:"1"}),s.jsx("circle",{cx:"19",cy:"12",r:"1"}),s.jsx("circle",{cx:"5",cy:"12",r:"1"})]})})})]})]})}),u&&s.jsx("div",{className:"md:hidden fixed inset-x-0 top-16 max-[320px]:top-14 z-40",children:s.jsx("div",{className:`py-2 px-3 border-b backdrop-blur-sm ${q}`,children:s.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[s.jsx(lo,{label:i("Tasks"),className:`${W} ${re}`,onClick:()=>{f(!1),c("/tasks")},children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:[s.jsx("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"}),s.jsx("path",{d:"M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"})]})}),s.jsx(lo,{label:i("Search"),className:`${W} ${te}`,onClick:()=>{f(!1),m(!0)},children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:[s.jsx("circle",{cx:"11",cy:"11",r:"6"}),s.jsx("path",{d:"M21 21l-4.5-4.5"})]})}),s.jsx(lo,{label:i("Calendar"),className:`${W} ${n?"bg-blue-50 border-blue-200 hover:bg-blue-100 text-blue-700":"bg-blue-900/20 border-blue-600 hover:bg-blue-900/30 text-blue-300"}`,onClick:()=>{f(!1),z(!0)},children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:[s.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),s.jsx("path",{d:"M3 10h18"}),s.jsx("path",{d:"M8 2v4M16 2v4"})]})}),s.jsx(lo,{label:i("Notifications"),className:`${W} ${n?"bg-red-50 border-red-200 hover:bg-red-100 text-red-700":"bg-red-900/20 border-red-600 hover:bg-red-900/30 text-red-300"}`,onClick:()=>{f(!1),c("/notifications")},children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:[s.jsx("path",{d:"M18 8a6 6 0 10-12 0v4l-2 2h16l-2-2V8"}),s.jsx("path",{d:"M13.73 21a2 2 0 01-3.46 0"})]})}),s.jsx(lo,{label:i("Language"),className:`${W} ${oe}`,onClick:()=>{M(G=>!G)},children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:[s.jsx("circle",{cx:"12",cy:"12",r:"9"}),s.jsx("path",{d:"M3 12h18"}),s.jsx("path",{d:"M12 3v18"})]})}),s.jsx(lo,{label:i("Theme"),className:`${W} ${n?"bg-gray-100 border-gray-200 text-gray-600":"bg-gray-800 border-gray-700 text-gray-300"}`,onClick:ce,children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:[s.jsx("path",{d:"M12 3v1m0 16v1m8-9h-1M4 12H3m15.36-6.36l-.71.71M6.35 17.65l-.71.71m12.01 0l-.71-.71M6.35 6.35l-.71-.71"}),s.jsx("circle",{cx:"12",cy:"12",r:"5"})]})}),s.jsx(lo,{label:i("Profile"),className:`${W} ${n?"bg-gray-100 border-gray-200 text-gray-600":"bg-gray-800 border-gray-700 text-gray-300"}`,onClick:G=>{f(!1);try{const ie=G.currentTarget.getBoundingClientRect(),ye=Math.min(ie.bottom+8,window.innerHeight-10),se=Math.max(8,ie.left),Ie=Math.max(8,window.innerWidth-ie.right);j({top:ye,left:se,right:Ie})}catch{}g(ie=>!ie)},children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:[s.jsx("circle",{cx:"12",cy:"8",r:"4"}),s.jsx("path",{d:"M6 20a6 6 0 0112 0"})]})}),I&&s.jsx("div",{ref:J,className:`col-span-4 mt-2 rounded-lg border ${n?"bg-white border-gray-200":"bg-gray-900 border-gray-700"} p-2`,children:s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("button",{className:`px-3 py-2 rounded-md text-sm ${n?"bg-gray-50 hover:bg-gray-100 text-gray-800 border border-gray-200":"bg-gray-800 hover:bg-gray-700 text-gray-100 border border-gray-700"}`,onClick:()=>{l.changeLanguage("en");try{localStorage.setItem("language","en")}catch{}},children:"English"}),s.jsx("button",{className:`px-3 py-2 rounded-md text-sm ${n?"bg-gray-50 hover:bg-gray-100 text-gray-800 border border-gray-200":"bg-gray-800 hover:bg-gray-700 text-gray-100 border border-gray-700"}`,onClick:()=>{l.changeLanguage("ar");try{localStorage.setItem("language","ar")}catch{}},children:""})]})})]})})}),v&&s.jsx("div",{ref:V,className:"md:hidden fixed z-50",style:{top:b.top,left:o?b.left:void 0,right:o?void 0:b.right},children:s.jsxs("div",{className:`dropdown-panel w-[260px] max-w-[90vw] ${n?"bg-white border border-gray-200":"bg-gray-900 border border-gray-700"} rounded-xl shadow-2xl`,role:"menu","aria-label":i("Profile menu"),children:[s.jsxs("div",{className:"px-3 py-2 flex items-center gap-2",children:[s.jsx("img",{src:v3,alt:"User",className:"w-8 h-8 rounded-full"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm font-semibold truncate",children:d?.name||i("Administrator")}),s.jsx("div",{className:"text-[11px] text-[var(--muted-text)] truncate",children:d?.email||"admin@example.com"}),s.jsxs("button",{className:"mt-1 text-[11px] font-semibold text-blue-600 hover:text-blue-700",onClick:()=>{c("/settings/profile")},children:[i("My Profile")," "]})]}),s.jsx("span",{className:"inline-flex items-center justify-center w-2 h-2 rounded-full bg-green-500","aria-hidden":!0})]}),s.jsx("div",{className:"h-px bg-[var(--divider)]"}),s.jsxs("button",{onClick:()=>{c("/settings/system/security")},className:"w-full flex items-center gap-2 px-3 py-2 text-xs text-[var(--content-text)] hover:bg-[var(--table-row-hover)]",role:"menuitem",children:[s.jsx("span",{className:"w-5 h-5 inline-flex items-center justify-center",children:""}),s.jsx("span",{children:i("Security Settings")})]}),s.jsxs("button",{onClick:()=>{c("/user-management/access-logs")},className:"w-full flex items_center gap-2 px-3 py-2 text-xs text-[var(--content-text)] hover:bg-[var(--table-row-hover)]",role:"menuitem",children:[s.jsx("span",{className:"w-5 h-5 inline-flex items_center justify_center",children:""}),s.jsx("span",{children:i("Linked Devices")})]}),s.jsxs("button",{onClick:()=>{c("/settings/profile/company")},className:"w-full flex items_center gap-2 px-3 py-2 text-xs text-[var(--content-text)] hover:bg-[var(--table-row-hover)]",role:"menuitem",children:[s.jsx("span",{className:"w-5 h-5 inline-flex items_center justify_center",children:""}),s.jsx("span",{children:i("Company Profile")})]}),s.jsx("div",{className:"h-px bg-[var(--divider)]"}),s.jsxs("button",{onClick:()=>{c("/settings/profile")},className:"w-full flex items_center gap-2 px-3 py-2 text-xs text-[var(--content-text)] hover:bg-[var(--table-row-hover)]",role:"menuitem",children:[s.jsx("span",{className:"w-5 h-5 inline-flex items_center justify_center",children:""}),s.jsx("span",{children:i("Change Profile Picture")})]}),s.jsxs("button",{onClick:()=>{c("/settings/system/security")},className:"w-full flex items_center gap-2 px-3 py-2 text-xs text-[var(--content-text)] hover:bg-[var(--table-row-hover)]",role:"menuitem",children:[s.jsx("span",{className:"w-5 h-5 inline-flex items_center justify_center",children:""}),s.jsx("span",{children:i("Change Password")})]}),s.jsx("div",{className:"h-px bg-[var(--divider)]"}),s.jsxs("button",{onClick:async()=>{await tM(),c("/login")},className:"w-full flex items_center gap-2 px-3 py-2 text-xs text-[var(--content_text)] hover:bg-[var(--table-row-hover)]",role:"menuitem",children:[s.jsx("span",{className:"w-5 h-5 inline-flex items_center justify_center",children:""}),s.jsx("span",{children:i("Logout")})]})]})}),Q&&s.jsx(g5e,{open:Q,onClose:()=>z(!1)})]})}function _r({children:e}){const{i18n:t}=St(),a=String(t.language||"").startsWith("ar"),[r,n]=y.useState(!1),[i,l]=y.useState(()=>window.matchMedia("(max-width: 768px)").matches);return y.useEffect(()=>(window.matchMedia("(max-width: 768px)").matches&&r?document.body.classList.add("overflow-hidden"):document.body.classList.remove("overflow-hidden"),()=>document.body.classList.remove("overflow-hidden")),[r]),y.useEffect(()=>{const o=window.matchMedia("(max-width: 768px)"),c=d=>l(d.matches);return o.addEventListener("change",c),l(o.matches),()=>o.removeEventListener("change",c)},[]),y.useEffect(()=>{try{document.documentElement.dir=a?"rtl":"ltr",document.documentElement.lang=String(t.language||"en")}catch{}},[a,t.language]),s.jsxs("div",{dir:a?"rtl":"ltr",className:"relative min-h-screen bg-[var(--app-bg)] text-[var(--app-text)] app-glass-neon",children:[s.jsx("div",{className:`${r&&i?"hidden md:block":""}`,children:s.jsx(A5e,{onMobileToggle:()=>n(o=>!o),mobileSidebarOpen:r})}),s.jsxs("div",{className:"flex w-full",children:[s.jsx(m5e,{open:r,onClose:()=>n(!1)}),s.jsx("div",{className:"content-container flex flex-col min-h-0 flex-1 min-w-0",children:s.jsx("main",{className:"main-pane flex-1 px-0 m-0 overflow-x-hidden min-w-0",children:s.jsx("div",{className:"w-full",children:e??s.jsx(Rj,{})})})})]})]})}/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5e=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),E5e=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,a,r)=>r?r.toUpperCase():a.toLowerCase()),MO=e=>{const t=E5e(e);return t.charAt(0).toUpperCase()+t.slice(1)},Bq=(...e)=>e.filter((t,a,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===a).join(" ").trim(),T5e=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var D5e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5e=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:r,className:n="",children:i,iconNode:l,...o},c)=>y.createElement("svg",{ref:c,...D5e,width:t,height:t,stroke:e,strokeWidth:r?Number(a)*24/Number(t):a,className:Bq("lucide",n),...!i&&!T5e(o)&&{"aria-hidden":"true"},...o},[...l.map(([d,u])=>y.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $q=(e,t)=>{const a=y.forwardRef(({className:r,...n},i)=>y.createElement(P5e,{ref:i,iconNode:t,className:Bq(`lucide-${_5e(MO(e))}`,`lucide-${e}`,r),...n}));return a.displayName=MO(e),a};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5e=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ec=$q("chevron-down",M5e);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5e=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],O5e=$q("upload",L5e),R5e=()=>{const[e,t]=y.useState({name:"Acme Inc.",logo:"",address:"123 Nile St, Cairo",phone:"+201000000000",email:"info@acme.com",description:"Leading CRM company",currency:"EGP",timezone:"Africa/Cairo"}),a=(r,n)=>t(i=>({...i,[r]:n}));return s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Company Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Company Name"}),s.jsx("input",{value:e.name,onChange:r=>a("name",r.target.value),className:"input-soft w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Phone"}),s.jsx("input",{value:e.phone,onChange:r=>a("phone",r.target.value),className:"input-soft w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Email"}),s.jsx("input",{type:"email",value:e.email,onChange:r=>a("email",r.target.value),className:"input-soft w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Address"}),s.jsx("input",{value:e.address,onChange:r=>a("address",r.target.value),className:"input-soft w-full"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm mb-1",children:"Description"}),s.jsx("textarea",{value:e.description,onChange:r=>a("description",r.target.value),className:"input-soft w-full",rows:3})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Currency"}),s.jsxs("select",{value:e.currency,onChange:r=>a("currency",r.target.value),className:"input-soft w-full",children:[s.jsx("option",{value:"EGP",children:"EGP"}),s.jsx("option",{value:"USD",children:"USD"}),s.jsx("option",{value:"EUR",children:"EUR"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Timezone"}),s.jsx("input",{value:e.timezone,onChange:r=>a("timezone",r.target.value),className:"input-soft w-full"})]})]}),s.jsx("div",{className:"mt-4",children:s.jsx("button",{className:"btn btn-primary",children:"Save"})})]}),s.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Logo"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-24 h-24 rounded-xl bg-gray-200 dark:bg-gray-700 overflow-hidden",children:e.logo?s.jsx("img",{src:e.logo,alt:"logo",className:"w-full h-full object-contain"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500",children:"LOGO"})}),s.jsxs("label",{className:"btn btn-glass inline-flex items-center gap-2 cursor-pointer",children:[s.jsx(O5e,{className:"w-4 h-4"}),s.jsx("span",{children:"Upload"}),s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:r=>{const n=r.target.files?.[0];if(!n)return;const i=new FileReader;i.onload=()=>a("logo",i.result),i.readAsDataURL(n)}})]})]})]})]}),s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Preview"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-200 dark:bg-gray-700 overflow-hidden",children:e.logo?s.jsx("img",{src:e.logo,alt:"logo"}):null}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:e.name}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:e.email})]})]}),s.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-200",children:e.address}),s.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-200",children:e.phone}),s.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-200",children:e.description}),s.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-200",children:["Currency: ",e.currency]}),s.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-200",children:["Timezone: ",e.timezone]})]})]})})]})};Ls.register(Bn,$n,Sl,hi,Xn,yn,bn);const F5e=e=>{switch(e){case"Active":return"bg-green-100 text-green-700 border-green-200";case"Pending":return"bg-amber-100 text-amber-700 border-amber-200";case"Expired":return"bg-gray-200 text-gray-700 border-gray-300 dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600";case"Cancelled":return"bg-red-100 text-red-700 border-red-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},I5e=({status:e})=>s.jsx("span",{className:`px-2 py-1 text-xs rounded-full border ${F5e(e)}`,children:e}),B5e=()=>{const[e,t]=y.useState([{id:"SUB-001",customer:"Acme Corp",plan:"Pro",start:"2025-01-01",end:"2026-01-01",status:"Active"},{id:"SUB-002",customer:"Globex LLC",plan:"Basic",start:"2025-06-01",end:"2025-12-01",status:"Pending"},{id:"SUB-003",customer:"Soylent Inc",plan:"Enterprise",start:"2024-01-01",end:"2025-01-01",status:"Expired"},{id:"SUB-004",customer:"Umbrella Co",plan:"Pro",start:"2025-02-15",end:"2026-02-15",status:"Cancelled"}]),[a,r]=y.useState(""),[n,i]=y.useState("All"),[l,o]=y.useState("All"),[c,d]=y.useState({address:"Building 12, Business Park, Cairo",method:"Credit Card",taxId:"EG-123456789",cardLast4:"4242"}),[u,f]=y.useState([{id:"INV-1001",amount:49,currency:"USD",date:"2025-10-01",status:"Paid"},{id:"INV-1002",amount:49,currency:"USD",date:"2025-11-01",status:"Paid"},{id:"INV-1003",amount:49,currency:"USD",date:"2025-12-01",status:"Unpaid"},{id:"INV-1004",amount:49,currency:"USD",date:"2026-01-01",status:"Overdue"}]),[p,m]=y.useState("All"),[v,g]=y.useState(""),[b,j]=y.useState(!1),[k,S]=y.useState(!1),[N,A]=y.useState(null),_=y.useMemo(()=>e.filter(W=>(n==="All"||W.plan===n)&&(l==="All"||W.status===l)&&(!a||W.customer.toLowerCase().includes(a.toLowerCase()))),[e,n,l,a]),E=y.useMemo(()=>u.filter(W=>(p==="All"||W.status===p)&&(!v||W.date.startsWith(v))),[u,p,v]),D=y.useMemo(()=>{const W=u.filter(oe=>oe.status==="Paid").reduce((oe,ce)=>oe+ce.amount,0),te=e.filter(oe=>oe.status==="Active").length,re=e.filter(oe=>oe.status==="Expired").length;return{totalRevenue:W,active:te,expired:re}},[u,e]),R={Basic:19,Pro:49,Enterprise:99},[I,M]=y.useState(6),[U,P]=y.useState(!1),[F,K]=y.useState("line"),V=y.useMemo(()=>{const W=e.filter(ie=>ie.status==="Active"),te=W.reduce((ie,ye)=>ie+(R[ye.plan]||0),0),re=W.length?Math.round(te/W.length*100)/100:0,oe=e.filter(ie=>ie.status==="Cancelled").length,ce=W.length+oe?Math.round(oe/(W.length+oe)*1e3)/10:0,G=u.filter(ie=>ie.status==="Overdue").length;return{mrr:te,arpu:re,churnRate:ce,overdueInvoices:G}},[e,u]),J=y.useMemo(()=>{const W=new Date,te=new Date(W);te.setMonth(W.getMonth()-(I-1));const re=ue=>`${ue.getFullYear()}-${String(ue.getMonth()+1).padStart(2,"0")}`,oe=ue=>ue.toLocaleString(void 0,{month:"short"})+" "+String(ue.getFullYear()).slice(2),ce={},G={},ie=[],ye=new Date(te);for(;ye<=W;){const ue=re(ye);ce[ue]=0,G[ue]=0,ie.push(oe(ye)),ye.setMonth(ye.getMonth()+1)}u.forEach(ue=>{const Z=new Date(ue.date);if(Z>=te&&Z<=W){const Se=re(Z);ue.status==="Paid"&&ce[Se]!==void 0&&(ce[Se]+=ue.amount),ue.status==="Unpaid"&&G[Se]!==void 0&&(G[Se]+=ue.amount)}});const se=Object.keys(ce).map(ue=>ce[ue]),Ie=Object.keys(G).map(ue=>G[ue]),pe=se.reduce((ue,Z)=>ue+Z,0),ae=se[se.length-1]||0,ge=se[se.length-2]||0,Re=ge?Math.round((ae-ge)/ge*1e3)/10:0;return{labels:ie,paidValues:se,unpaidValues:Ie,total:pe,last:ae,mom:Re}},[u,I,U]),Q=W=>{A(W),j(!0)},z=W=>{A(W),S(!0)},X=W=>{t(te=>te.map(re=>re.id===W.id?W:re)),j(!1)},le=()=>{N&&(t(W=>W.map(te=>te.id===N.id?{...te,status:"Cancelled"}:te)),S(!1))},O=()=>{const W=`INV-${String(1e3+u.length+1)}`;f(te=>[{id:W,amount:49,currency:"USD",date:new Date().toISOString().slice(0,10),status:"Unpaid"},...te])},q=()=>{alert("Payment info updated")};return s.jsxs("div",{className:"space-y-0",children:[s.jsxs("div",{className:"glass-panel rounded-2xl p-4 md:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Active Subscriptions"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{value:a,onChange:W=>r(W.target.value),placeholder:"Search by customer",className:"input-soft w-[180px]"}),s.jsx("select",{value:n,onChange:W=>i(W.target.value),className:"input-soft",children:["All","Basic","Pro","Enterprise"].map(W=>s.jsx("option",{value:W,children:W},W))}),s.jsx("select",{value:l,onChange:W=>o(W.target.value),className:"input-soft",children:["All","Active","Pending","Expired","Cancelled"].map(W=>s.jsx("option",{value:W,children:W},W))})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",style:{borderCollapse:"separate",borderSpacing:"0 12px"},children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left",children:[s.jsx("th",{className:"px-4 py-3",children:"Customer Name"}),s.jsx("th",{className:"px-4 py-3",children:"Plan"}),s.jsx("th",{className:"px-4 py-3",children:"Start Date"}),s.jsx("th",{className:"px-4 py-3",children:"End Date"}),s.jsx("th",{className:"px-4 py-3",children:"Status"}),s.jsx("th",{className:"px-4 py-3",children:"Actions"})]})}),s.jsx("tbody",{children:_.map(W=>s.jsxs("tr",{className:"rounded-lg bg-white/40 dark:bg-gray-800/40",children:[s.jsx("td",{className:"px-4 py-3",children:W.customer}),s.jsx("td",{className:"px-4 py-3",children:W.plan}),s.jsx("td",{className:"px-4 py-3",children:W.start}),s.jsx("td",{className:"px-4 py-3",children:W.end}),s.jsx("td",{className:"px-4 py-3",children:s.jsx(I5e,{status:W.status})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"px-3 py-1 rounded-lg bg-white/60 dark:bg-gray-800/60 border hover:bg-white",onClick:()=>Q(W),title:"Edit",children:" Edit"}),s.jsx("button",{className:"px-3 py-1 rounded-lg bg-white/60 dark:bg-gray-800/60 border hover:bg-white",onClick:()=>z(W),title:"Cancel",children:" Cancel"})]})})]},W.id))})]})})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsxs("div",{className:"glass-panel rounded-2xl p-4 md:p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Billing Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:"Customer Billing Address"}),s.jsx("textarea",{value:c.address,onChange:W=>d({...c,address:W.target.value}),className:"input-soft w-full h-[90px]"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:"Payment Method"}),s.jsx("select",{value:c.method,onChange:W=>d({...c,method:W.target.value}),className:"input-soft w-full",children:["Credit Card","PayPal"].map(W=>s.jsx("option",{value:W,children:W},W))}),c.method==="Credit Card"&&s.jsxs("div",{className:"mt-2 text-sm text-[var(--muted-text)]",children:["Card ending in ",c.cardLast4]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:"Tax Info"}),s.jsx("input",{value:c.taxId,onChange:W=>d({...c,taxId:W.target.value}),className:"input-soft w-full"})]})]}),s.jsx("div",{className:"mt-4",children:s.jsx("button",{className:"px-4 py-2 rounded-lg bg-blue-600 text-white shadow hover:bg-blue-700",onClick:q,children:"Update Payment Info"})})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsxs("div",{className:"glass-panel rounded-2xl p-4 md:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Invoices & Payments"}),s.jsx("button",{className:"px-4 py-2 rounded-lg bg-indigo-600 text-white shadow hover:bg-indigo-700",onClick:O,children:"Generate New Invoice"})]}),s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("select",{value:p,onChange:W=>m(W.target.value),className:"input-soft",children:["All","Paid","Unpaid","Overdue"].map(W=>s.jsx("option",{value:W,children:W},W))}),s.jsx("input",{type:"month",value:v,onChange:W=>g(W.target.value),className:"input-soft"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",style:{borderCollapse:"separate",borderSpacing:"0 12px"},children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left",children:[s.jsx("th",{className:"px-4 py-3",children:"Invoice Number"}),s.jsx("th",{className:"px-4 py-3",children:"Date"}),s.jsx("th",{className:"px-4 py-3",children:"Amount"}),s.jsx("th",{className:"px-4 py-3",children:"Status"}),s.jsx("th",{className:"px-4 py-3",children:"Actions"})]})}),s.jsx("tbody",{children:E.map(W=>s.jsxs("tr",{className:"rounded-lg bg-white/40 dark:bg-gray-800/40",children:[s.jsx("td",{className:"px-4 py-3",children:W.id}),s.jsx("td",{className:"px-4 py-3",children:W.date}),s.jsxs("td",{className:"px-4 py-3",children:[W.amount," ",W.currency]}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`px-2 py-1 text-xs rounded-full border ${W.status==="Paid"?"bg-green-100 text-green-700 border-green-200":W.status==="Unpaid"?"bg-amber-100 text-amber-700 border-amber-200":"bg-red-100 text-red-700 border-red-200"}`,children:W.status})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("button",{className:"px-3 py-1 rounded-lg bg-white/60 dark:bg-gray-800/60 border hover:bg-white",title:"Download",children:" Download PDF"})})]},W.id))})]})})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{name:"Basic",price:"$19/mo",duration:"Monthly",features:["Up to 3 users","Email support","Basic reports"]},{name:"Pro",price:"$49/mo",duration:"Monthly",features:["Up to 10 users","Priority support","Advanced analytics"]},{name:"Enterprise",price:"Custom",duration:"Annual",features:["Unlimited users","Dedicated manager","Custom integrations"]}].map((W,te)=>s.jsxs("div",{className:"glass-panel rounded-2xl p-6 hover:shadow-xl transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"text-lg font-semibold",children:W.name}),s.jsx("span",{children:""})]}),s.jsx("div",{className:"text-2xl font-bold mb-1",children:W.price}),s.jsx("div",{className:"text-sm text-[var(--muted-text)] mb-3",children:W.duration}),s.jsx("ul",{className:"text-sm space-y-1 mb-4",children:W.features.map((re,oe)=>s.jsxs("li",{children:[" ",re]},oe))}),s.jsx("button",{className:"px-4 py-2 rounded-lg bg-blue-600 text-white shadow hover:bg-blue-700",children:"Upgrade Plan"})]},te))}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsxs("div",{className:"glass-panel rounded-2xl p-4 md:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Reports & Analytics"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("select",{className:"input-soft",value:I,onChange:W=>M(Number(W.target.value)),children:[6,12,24].map(W=>s.jsxs("option",{value:W,children:["Last ",W," months"]},W))}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:U,onChange:W=>P(W.target.checked)}),"Include Unpaid"]}),s.jsxs("div",{className:"rounded-lg border bg-white/60 dark:bg-gray-800/60 overflow-hidden",children:[s.jsx("button",{"aria-pressed":F==="line",className:`px-3 py-1 text-sm border-r border-gray-300 dark:border-gray-700 ${F==="line"?"bg-blue-600 text-white":"text-[var(--text-muted)]"}`,onClick:()=>K("line"),children:"Line"}),s.jsx("button",{"aria-pressed":F==="bar",className:`px-3 py-1 text-sm ${F==="bar"?"bg-blue-600 text-white":"text-[var(--text-muted)]"}`,onClick:()=>K("bar"),children:"Bar"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[s.jsxs("div",{className:"rounded-xl border bg-white/60 dark:bg-gray-800/60 p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:"Total Revenue (Paid)"}),s.jsxs("div",{className:"text-2xl font-bold",children:["$",D.totalRevenue]})]}),s.jsxs("div",{className:"rounded-xl border bg-white/60 dark:bg-gray-800/60 p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:"MRR (Active)"}),s.jsxs("div",{className:"text-2xl font-bold",children:["$",V.mrr]})]}),s.jsxs("div",{className:"rounded-xl border bg-white/60 dark:bg-gray-800/60 p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:"ARPU"}),s.jsxs("div",{className:"text-2xl font-bold",children:["$",V.arpu]})]}),s.jsxs("div",{className:"rounded-xl border bg-white/60 dark:bg-gray-800/60 p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:"Churn Rate"}),s.jsxs("div",{className:"text-2xl font-bold",children:[V.churnRate,"%"]})]})]}),F==="line"?s.jsx("div",{className:"h-64 w-full",children:s.jsx(yo,{options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:U},tooltip:{mode:"index",intersect:!1}},scales:{x:{grid:{display:!1},ticks:{color:"#94a3b8",font:{size:12}}},y:{grid:{color:"rgba(255,255,255,0.08)"},ticks:{color:"#94a3b8",font:{size:12}}}}},data:{labels:J.labels,datasets:[{label:"Paid",data:J.paidValues,borderColor:"#3B82F6",backgroundColor:"rgba(59,130,246,0.25)",tension:.3,pointRadius:2,fill:!0},...U?[{label:"Unpaid",data:J.unpaidValues,borderColor:"#f59e0b",backgroundColor:"rgba(245,158,11,0.25)",tension:.3,pointRadius:2,fill:!0}]:[]]}})}):s.jsx("div",{className:"h-64 w-full",children:s.jsx(Vr,{options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:U},tooltip:{mode:"index",intersect:!1}},scales:{x:{grid:{display:!1},ticks:{color:"#94a3b8",font:{size:12}}},y:{grid:{color:"rgba(255,255,255,0.08)"},ticks:{color:"#94a3b8",font:{size:12}}}}},data:{labels:J.labels,datasets:[{label:"Paid",data:J.paidValues,backgroundColor:"rgba(59,130,246,0.6)",borderRadius:8},...U?[{label:"Unpaid",data:J.unpaidValues,backgroundColor:"rgba(245,158,11,0.6)",borderRadius:8}]:[]]}})}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-3 text-sm",children:[s.jsxs("div",{className:"rounded-xl border bg-white/60 dark:bg-gray-800/60 p-3",children:["Period Total: ",s.jsxs("span",{className:"font-semibold",children:["$",J.total]})]}),s.jsxs("div",{className:"rounded-xl border bg-white/60 dark:bg-gray-800/60 p-3",children:["Last Month: ",s.jsxs("span",{className:"font-semibold",children:["$",J.last]})]}),s.jsxs("div",{className:"rounded-xl border bg-white/60 dark:bg-gray-800/60 p-3",children:["MoM Change: ",s.jsxs("span",{className:`font-semibold ${J.mom>=0?"text-green-500":"text-red-500"}`,children:[J.mom,"%"]})]})]})]}),b&&N&&s.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>j(!1)}),s.jsx("div",{className:"relative z-[1001] w-[92vw] max-w-[520px]",children:s.jsxs("div",{className:"glass-panel rounded-2xl p-6 space-y-3",children:[s.jsx("h4",{className:"text-lg font-semibold",children:"Edit Subscription"}),s.jsx("input",{className:"input-soft w-full",value:N.customer,onChange:W=>A({...N,customer:W.target.value})}),s.jsx("select",{className:"input-soft w-full",value:N.plan,onChange:W=>A({...N,plan:W.target.value}),children:["Basic","Pro","Enterprise"].map(W=>s.jsx("option",{value:W,children:W},W))}),s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{className:"px-3 py-2 rounded-lg border bg-white/60 dark:bg-gray-800/60",onClick:()=>j(!1),children:"Cancel"}),s.jsx("button",{className:"px-3 py-2 rounded-lg bg-blue-600 text-white",onClick:()=>X(N),children:"Save"})]})]})})]}),k&&N&&s.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>S(!1)}),s.jsx("div",{className:"relative z-[1001] w-[92vw] max-w-[520px]",children:s.jsxs("div",{className:"glass-panel rounded-2xl p-6 space-y-3",children:[s.jsx("h4",{className:"text-lg font-semibold",children:"Confirm Cancellation"}),s.jsxs("p",{className:"text-sm text-[var(--muted-text)]",children:["Cancel subscription for ",N.customer,"? This action can be reverted by re-activating later."]}),s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{className:"px-3 py-2 rounded-lg border bg-white/60 dark:bg-gray-800/60",onClick:()=>S(!1),children:"Close"}),s.jsx("button",{className:"px-3 py-2 rounded-lg bg-red-600 text-white",onClick:le,children:"Confirm Cancel"})]})]})})]})]})},IC=[{key:"core",name:"Core CRM",modules:[{key:"dashboard",label:"Dashboard",route:"/dashboard",icon:""},{key:"customers",label:"Customers",route:"/customers",icon:""},{key:"leads",label:"Leads",route:"/leads",icon:""},{key:"projects",label:"Projects",route:"/projects",icon:""},{key:"properties",label:"Properties",route:"/properties",icon:""},{key:"requests",label:"Requests",route:"/requests",icon:""},{key:"buyerRequests",label:"Buyer Requests",route:"/buyer-requests",icon:""},{key:"sellerRequests",label:"Seller Requests",route:"/seller-requests",icon:""},{key:"developers",label:"Developers",route:"/dev-companies",icon:""},{key:"recycle",label:"Recycle Bin",route:"/recycle",icon:""},{key:"contact",label:"Contact Us",route:"/contact",icon:""}]},{key:"marketing",name:"Marketing",modules:[{key:"marketing",label:"Marketing",route:"/marketing",icon:""},{key:"campaigns",label:"Campaigns",route:"/campaigns",icon:""},{key:"landingPages",label:"Landing Pages",route:"/landing-pages",icon:""},{key:"metaIntegration",label:"Meta Integration",route:"/meta-integration",icon:""},{key:"mktReports",label:"Marketing Reports",route:"/marketing/reports",icon:""}]},{key:"inventory",name:"Inventory",modules:[{key:"products",label:"Products",route:"/inventory/products",icon:""},{key:"items",label:"Items",route:"/inventory/items",icon:""},{key:"suppliers",label:"Suppliers",route:"/inventory/suppliers",icon:""},{key:"warehouse",label:"Warehouse",route:"/inventory/warehouse",icon:""},{key:"stockManagement",label:"Stock Management",route:"/inventory/stock-management",icon:""},{key:"inventoryTransactions",label:"Inventory Transactions",route:"/inventory/transactions",icon:""}]},{key:"reports",name:"Reports",modules:[{key:"reportsDashboard",label:"Reports Dashboard",route:"/reports",icon:""},{key:"leadsReport",label:"Leads Report",route:"/reports/leads",icon:""},{key:"teamPerformance",label:"Team Performance",route:"/reports/team",icon:""},{key:"meetingsReport",label:"Meetings Report",route:"/reports/sales/meetings",icon:""},{key:"exportsReport",label:"Exports Report",route:"/exports",icon:""},{key:"importsReport",label:"Imports Report",route:"/imports",icon:""},{key:"campaignSummary",label:"Campaign Summary",route:"/campaign-summary",icon:""},{key:"leadSourcePerf",label:"Lead Source Performance",route:"/lead-source-performance",icon:""},{key:"costVsRevenue",label:"Cost vs Revenue",route:"/cost-vs-revenue",icon:""},{key:"monthlyMarketingOverview",label:"Monthly Marketing Overview",route:"/monthly-marketing-overview",icon:""}]},{key:"settings",name:"Settings & Extensions",modules:[{key:"settingsProfile",label:"Profile Settings",route:"/settings/profile",icon:""},{key:"settingsCompany",label:"Company Settings",route:"/settings/company",icon:""},{key:"settingsUsers",label:"Users & Roles",route:"/settings/users",icon:""},{key:"settingsNotifications",label:"Notifications Settings",route:"/settings/notifications",icon:""},{key:"settingsBilling",label:"Billing & Subscription",route:"/settings/billing",icon:""},{key:"settingsModules",label:"Modules Settings",route:"/settings/modules",icon:""},{key:"settingsSystem",label:"System Preferences",route:"/settings/system",icon:""},{key:"settingsSecurity",label:"Security Settings",route:"/settings/security",icon:""},{key:"settingsSms",label:"SMS Settings",route:"/settings/sms",icon:""},{key:"settingsSmsTemplates",label:"SMS Templates",route:"/settings/sms-templates",icon:""},{key:"settingsEmail",label:"Email Settings",route:"/settings/email",icon:""},{key:"settingsWhatsApp",label:"WhatsApp Settings",route:"/settings/whatsapp",icon:""},{key:"settingsSocialMedia",label:"Social Media Settings",route:"/settings/social-media",icon:""},{key:"settingsContactInfo",label:"Contact Info Settings",route:"/settings/contact-info",icon:""},{key:"settingsScripting",label:"Scripting",route:"/settings/scripting",icon:""},{key:"settingsEoi",label:"EOI Settings",route:"/settings/eoi",icon:""},{key:"settingsReservations",label:"Reservation Settings",route:"/settings/reservations",icon:""},{key:"settingsRotation",label:"Rotation Settings",route:"/settings/rotation",icon:""},{key:"settingsContracts",label:"Contracts Settings",route:"/settings/contracts",icon:""},{key:"settingsConfiguration",label:"Configuration",route:"/settings/configuration",icon:""},{key:"settingsBuyerReset",label:"Buyer Request Reset",route:"/settings/buyer-request-reset",icon:""},{key:"settingsMatching",label:"Matching",route:"/settings/matching",icon:""},{key:"settingsRent",label:"Rent Configuration",route:"/settings/rent",icon:""},{key:"settingsCil",label:"CIL Settings",route:"/settings/cil",icon:""}]}],b3=IC.flatMap(e=>e.modules.map(t=>t.key)),$5e=()=>{const[e,t]=y.useState(""),[a,r]=y.useState(()=>{try{const u=typeof window<"u"?window.localStorage.getItem("enabledModules"):null;if(u)return JSON.parse(u)}catch{}const d={};return b3.forEach(u=>{d[u]=!0}),d}),n=d=>r(u=>({...u,[d]:!u[d]})),i=()=>r(d=>{const u={...d};return b3.forEach(f=>{u[f]=!0}),u}),l=()=>r(d=>{const u={...d};return b3.forEach(f=>{u[f]=!1}),u}),o=()=>{try{typeof window<"u"&&window.localStorage.setItem("enabledModules",JSON.stringify(a))}catch{}alert("Modules settings saved")},c=y.useMemo(()=>{const d=e.trim().toLowerCase();return d?IC.map(u=>({...u,modules:u.modules.filter(f=>f.label.toLowerCase().includes(d))})).filter(u=>u.modules.length>0):IC},[e]);return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"glass-panel rounded-2xl p-4 md:p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Modules"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{value:e,onChange:d=>t(d.target.value),placeholder:"Search modules",className:"input-soft w-[220px]"}),s.jsx("button",{className:"px-3 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700",onClick:i,children:"Enable All"}),s.jsx("button",{className:"px-3 py-2 rounded-lg bg-gray-700 text-white hover:bg-gray-800",onClick:l,children:"Disable All"}),s.jsx("button",{className:"px-3 py-2 rounded-lg bg-indigo-600 text-white hover:bg-indigo-700",onClick:o,children:"Save"})]})]})}),c.map(d=>s.jsxs("div",{className:"glass-panel rounded-2xl p-4 md:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h4",{className:"text-md font-semibold",children:d.name}),s.jsxs("span",{className:"text-xs text-[var(--muted-text)]",children:[d.modules.filter(u=>a[u.key]).length,"/",d.modules.length," enabled"]})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:d.modules.map(u=>s.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-xl border bg-white/60 dark:bg-gray-800/60",children:[s.jsx("input",{type:"checkbox",checked:!!a[u.key],onChange:()=>n(u.key)}),s.jsx("span",{className:"text-lg","aria-hidden":"true",children:u.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium",children:u.label}),u.route&&s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:u.route})]})]},u.key))})]},d.key))]})},y3={theme:"auto",language:"ar",direction:"auto",timezone:"Africa/Cairo",dateFormat:"DD/MM/YYYY",timeFormat:"24h",currency:"EGP",numberFormat:"1,234.56",units:"sqm",density:"comfortable",animations:!0,sidebarExpanded:!0,notificationsSound:!0,chartsStyle:"line",chartsRounded:!0,chartsStacked:!1},U5e=()=>{const{t:e,i18n:t}=St(),[a,r]=y.useState(()=>{try{const u=typeof window<"u"?window.localStorage.getItem("systemPrefs"):null;if(u)return{...y3,...JSON.parse(u)}}catch{}return y3}),n=(u,f)=>r(p=>({...p,[u]:f})),i=u=>{const f=document.documentElement,p=u==="dark"||u==="auto"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;f.classList.toggle("dark",!!p)},l=(u,f)=>{const p=document.documentElement,m=u==="auto"?f==="ar"?"rtl":"ltr":u;p.setAttribute("dir",m)};y.useEffect(()=>{try{a.language&&t?.changeLanguage&&t.changeLanguage(a.language)}catch{}i(a.theme),l(a.direction,a.language);const u=document.documentElement;u.classList.remove("density-compact","density-comfortable"),u.classList.add(a.density==="compact"?"density-compact":"density-comfortable")},[a.theme,a.direction,a.language,a.density]);const o=()=>{try{window.localStorage.setItem("systemPrefs",JSON.stringify(a))}catch{}},c=()=>{r(y3);try{window.localStorage.removeItem("systemPrefs")}catch{}},d=u=>s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-blue-500 to-purple-600 rounded-full"}),s.jsx("div",{className:"text-sm font-semibold text-[var(--content-text)]",children:u})]});return s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:e("System Preferences")}),d(e("Appearance")),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Theme")}),s.jsxs("select",{value:a.theme,onChange:u=>n("theme",u.target.value),className:"input-soft w-full",children:[s.jsx("option",{value:"auto",children:e("Auto")}),s.jsx("option",{value:"light",children:e("Light")}),s.jsx("option",{value:"dark",children:e("Dark")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Density")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{type:"button",onClick:()=>n("density","compact"),className:`px-3 py-2 rounded-lg border ${a.density==="compact"?"bg-blue-50 border-blue-300 text-blue-700 dark:bg-blue-900/30 dark:border-blue-700":"bg-white/80 dark:bg-gray-800/70"}`,children:e("Compact")}),s.jsx("button",{type:"button",onClick:()=>n("density","comfortable"),className:`px-3 py-2 rounded-lg border ${a.density==="comfortable"?"bg-blue-50 border-blue-300 text-blue-700 dark:bg-blue-900/30 dark:border-blue-700":"bg-white/80 dark:bg-gray-800/70"}`,children:e("Comfortable")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Animations")}),s.jsxs("label",{className:"inline-flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",className:"sr-only",checked:a.animations,onChange:u=>n("animations",u.target.checked)}),s.jsx("span",{className:`w-10 h-5 flex items-center bg-gray-300 dark:bg-gray-700 rounded-full p-1 ${a.animations?"justify-end":"justify-start"}`,children:s.jsx("span",{className:`w-4 h-4 rounded-full bg-white transition ${a.animations?"shadow-[0_0_0_2px_rgba(59,130,246,0.6)]":""}`})}),s.jsx("span",{className:"text-sm",children:a.animations?e("Enabled"):e("Disabled")})]})]})]}),s.jsx("div",{className:"h-4"}),d(e("Language & Region")),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Language")}),s.jsxs("select",{value:a.language,onChange:u=>n("language",u.target.value),className:"input-soft w-full",children:[s.jsx("option",{value:"ar",children:e("Arabic")}),s.jsx("option",{value:"en",children:e("English")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Layout Direction")}),s.jsxs("select",{value:a.direction,onChange:u=>n("direction",u.target.value),className:"input-soft w-full",children:[s.jsx("option",{value:"auto",children:e("Auto")}),s.jsx("option",{value:"ltr",children:"LTR"}),s.jsx("option",{value:"rtl",children:"RTL"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Time Zone")}),s.jsxs("select",{value:a.timezone,onChange:u=>n("timezone",u.target.value),className:"input-soft w-full",children:[s.jsx("option",{value:"Africa/Cairo",children:"Africa/Cairo"}),s.jsx("option",{value:"Asia/Riyadh",children:"Asia/Riyadh"}),s.jsx("option",{value:"Europe/London",children:"Europe/London"}),s.jsx("option",{value:"UTC",children:"UTC"})]})]})]}),s.jsx("div",{className:"h-4"}),d(e("Formatting")),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Date Format")}),s.jsxs("select",{value:a.dateFormat,onChange:u=>n("dateFormat",u.target.value),className:"input-soft w-full",children:[s.jsx("option",{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),s.jsx("option",{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),s.jsx("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Time Format")}),s.jsxs("select",{value:a.timeFormat,onChange:u=>n("timeFormat",u.target.value),className:"input-soft w-full",children:[s.jsxs("option",{value:"24h",children:["24 ",e("Hours")]}),s.jsxs("option",{value:"12h",children:["12 ",e("Hours")]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Currency")}),s.jsxs("select",{value:a.currency,onChange:u=>n("currency",u.target.value),className:"input-soft w-full",children:[s.jsx("option",{value:"EGP",children:"EGP"}),s.jsx("option",{value:"USD",children:"USD"}),s.jsx("option",{value:"EUR",children:"EUR"}),s.jsx("option",{value:"SAR",children:"SAR"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Number Format")}),s.jsxs("select",{value:a.numberFormat,onChange:u=>n("numberFormat",u.target.value),className:"input-soft w-full",children:[s.jsx("option",{value:"1,234.56",children:"1,234.56"}),s.jsx("option",{value:"1.234,56",children:"1.234,56"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Units")}),s.jsxs("select",{value:a.units,onChange:u=>n("units",u.target.value),className:"input-soft w-full",children:[s.jsx("option",{value:"sqm",children:"m"}),s.jsx("option",{value:"sqft",children:"ft"})]})]})]}),s.jsx("div",{className:"h-4"}),d(e("Interface")),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Sidebar Expanded on Start")}),s.jsxs("label",{className:"inline-flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",className:"sr-only",checked:a.sidebarExpanded,onChange:u=>n("sidebarExpanded",u.target.checked)}),s.jsx("span",{className:`w-10 h-5 flex items-center bg-gray-300 dark:bg-gray-700 rounded-full p-1 ${a.sidebarExpanded?"justify-end":"justify-start"}`,children:s.jsx("span",{className:`w-4 h-4 rounded-full bg-white transition ${a.sidebarExpanded?"shadow-[0_0_0_2px_rgba(59,130,246,0.6)]":""}`})}),s.jsx("span",{className:"text-sm",children:a.sidebarExpanded?e("Enabled"):e("Disabled")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Notification Sound")}),s.jsxs("label",{className:"inline-flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",className:"sr-only",checked:a.notificationsSound,onChange:u=>n("notificationsSound",u.target.checked)}),s.jsx("span",{className:`w-10 h-5 flex items-center bg-gray-300 dark:bg-gray-700 rounded-full p-1 ${a.notificationsSound?"justify-end":"justify-start"}`,children:s.jsx("span",{className:`w-4 h-4 rounded-full bg-white transition ${a.notificationsSound?"shadow-[0_0_0_2px_rgba(59,130,246,0.6)]":""}`})}),s.jsx("span",{className:"text-sm",children:a.notificationsSound?e("Enabled"):e("Disabled")})]})]})]}),s.jsx("div",{className:"h-4"}),d(e("Charts")),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Default Chart Type")}),s.jsxs("select",{value:a.chartsStyle,onChange:u=>n("chartsStyle",u.target.value),className:"input-soft w-full",children:[s.jsx("option",{value:"line",children:e("Line")}),s.jsx("option",{value:"bar",children:e("Bar")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Rounded Corners")}),s.jsxs("label",{className:"inline-flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",className:"sr-only",checked:a.chartsRounded,onChange:u=>n("chartsRounded",u.target.checked)}),s.jsx("span",{className:`w-10 h-5 flex items-center bg-gray-300 dark:bg-gray-700 rounded-full p-1 ${a.chartsRounded?"justify-end":"justify-start"}`,children:s.jsx("span",{className:`w-4 h-4 rounded-full bg-white transition ${a.chartsRounded?"shadow-[0_0_0_2px_rgba(59,130,246,0.6)]":""}`})}),s.jsx("span",{className:"text-sm",children:a.chartsRounded?e("Enabled"):e("Disabled")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Stacked Bars")}),s.jsxs("label",{className:"inline-flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",className:"sr-only",checked:a.chartsStacked,onChange:u=>n("chartsStacked",u.target.checked)}),s.jsx("span",{className:`w-10 h-5 flex items-center bg-gray-300 dark:bg-gray-700 rounded-full p-1 ${a.chartsStacked?"justify-end":"justify-start"}`,children:s.jsx("span",{className:`w-4 h-4 rounded-full bg-white transition ${a.chartsStacked?"shadow-[0_0_0_2px_rgba(59,130,246,0.6)]":""}`})}),s.jsx("span",{className:"text-sm",children:a.chartsStacked?e("Enabled"):e("Disabled")})]})]})]}),s.jsxs("div",{className:"mt-6 flex items-center gap-3",children:[s.jsx("button",{className:"btn btn-primary",onClick:o,children:e("Save Preferences")}),s.jsx("button",{className:"btn btn-soft",onClick:c,children:e("Reset to Defaults")})]})]})})},w3=({open:e,title:t,children:a,onClose:r,onConfirm:n,confirmText:i="Confirm"})=>{const{t:l}=St();return e?s.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:r}),s.jsx("div",{className:"relative z-[1001] w-[92vw] max-w-[560px]",children:s.jsxs("div",{className:"glass-panel rounded-2xl shadow-2xl overflow-hidden",children:[s.jsxs("div",{className:"px-5 py-4 border-b border-white/20 dark:border-gray-700 flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:t}),s.jsx("button",{className:"btn btn-glass",onClick:r,children:""})]}),s.jsx("div",{className:"p-5 space-y-4",children:a}),s.jsxs("div",{className:"px-5 py-4 border-t border-white/20 dark:border-gray-700 flex items-center justify-end gap-3",children:[s.jsx("button",{className:"btn btn-glass",onClick:r,children:l("common.cancel")}),s.jsx("button",{className:"btn btn-primary",onClick:n,children:i})]})]})})]}):null},z5e=()=>{const{t:e}=St(),[t,a]=y.useState(""),[r,n]=y.useState(""),[i,l]=y.useState(""),[o,c]=y.useState(!0),[d,u]=y.useState("email"),[f,p]=y.useState(!1),[m,v]=y.useState({email:!0,sms:!0,app:!0});y.useEffect(()=>{if(!m[d]){const ge=m.email?"email":m.sms?"sms":m.app?"app":"email";u(ge)}},[m,d]),y.useEffect(()=>{try{const ge=window.localStorage.getItem("securitySettings");if(ge){const Re=JSON.parse(ge);typeof Re.twoFactor=="boolean"&&c(Re.twoFactor),Re.twoFactorMethod&&u(Re.twoFactorMethod),Re.available2fa&&v(Re.available2fa)}}catch{}},[]);const g=y.useMemo(()=>{let ge=0;return r.length>=8&&ge++,/[A-Z]/.test(r)&&ge++,/[a-z]/.test(r)&&ge++,/[0-9]/.test(r)&&ge++,/[^A-Za-z0-9]/.test(r)&&ge++,ge},[r]),[b]=y.useState([{name:"Admin"},{name:"Sales"}]),[j,k]=y.useState({viewCustomers:!0,editCustomers:!1,manageUsers:!1,viewBilling:!0}),[S,N]=y.useState(!1),[A,_]=y.useState([{id:1,device:"Windows PC",location:"Cairo, EG",lastActive:"2025-11-10 12:33"},{id:2,device:"iPhone 15",location:"Giza, EG",lastActive:"2025-11-11 08:21"}]),[E,D]=y.useState(null),[R,I]=y.useState(!0),[M,U]=y.useState(!0),[P,F]=y.useState(!0),[K,V]=y.useState("email"),[J,Q]=y.useState(8),[z,X]=y.useState(!0),[le,O]=y.useState(!0),[q,W]=y.useState(!0),[te,re]=y.useState(!1),[oe,ce]=y.useState(5),[G,ie]=y.useState(!0),[ye,se]=y.useState([{id:"a1",action:"Password Change",by:"John Doe",at:"2025-11-10 09:20"},{id:"a2",action:"2FA Enabled",by:"John Doe",at:"2025-11-10 09:25"},{id:"a3",action:"Permissions Updated",by:"Admin",at:"2025-11-11 15:12"}]),Ie=()=>{const ge={twoFactor:o,twoFactorMethod:d,available2fa:m,notifications:{notifNewDevice:R,notifPwdChange:M,notifFailedLogins:P,notifMethod:K},policies:{minLength:J,reqUpper:z,reqLower:le,reqNumber:q,reqSpecial:te,failedLimit:oe,temporaryLockout:G}};try{window.localStorage.setItem("securitySettings",JSON.stringify(ge))}catch{}},pe=()=>{E&&(_(ge=>ge.filter(Re=>Re.id!==E.id)),D(null))},ae=()=>{_([])};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"xl:col-span-2",children:[s.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:e("security.passwordAuth")}),s.jsx("button",{className:"btn btn-primary",onClick:Ie,children:e("security.save")})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("security.currentPassword")}),s.jsx("input",{type:"password",className:"input-soft w-full",placeholder:e("security.currentPassword"),value:t,onChange:ge=>a(ge.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("security.newPassword")}),s.jsx("input",{type:"password",className:"input-soft w-full",placeholder:e("security.newPassword"),value:r,onChange:ge=>n(ge.target.value)}),s.jsx("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded overflow-hidden mt-2",children:s.jsx("div",{className:`h-2 transition-all ${g<=2?"bg-red-500":g===3?"bg-yellow-500":"bg-emerald-500"}`,style:{width:`${g/5*100}%`}})})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm mb-1",children:e("security.confirmPassword")}),s.jsx("input",{type:"password",className:"input-soft w-full",placeholder:e("security.confirmPassword"),value:i,onChange:ge=>l(ge.target.value)}),i&&i!==r&&s.jsx("div",{className:"text-xs text-rose-600 mt-1",children:e("security.passwordMismatch")})]})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("span",{className:"text-sm",children:e("security.twoFactor")}),s.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"hidden",checked:o,onChange:ge=>c(ge.target.checked)}),s.jsx("span",{className:`w-10 h-6 rounded-full p-1 ${o?"bg-emerald-500":"bg-gray-400"} transition-all`,children:s.jsx("span",{className:`block w-4 h-4 bg-white rounded-full transition-transform ${o?"translate-x-4":"translate-x-0"}`})})]})]}),!o&&s.jsx("div",{className:"md:col-span-2 p-3 rounded-lg border bg-white/70 dark:bg-gray-800/70",children:s.jsx("div",{className:"text-sm",children:e("security.enableNotice")})}),o&&s.jsxs("div",{className:"p-3 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("div",{className:"text-sm mb-2",children:e("security.defaultMethod")}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"radio",name:"twofactor",disabled:!m.email,checked:d==="email",onChange:()=>u("email")})," ",e("security.emailOtp")]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"radio",name:"twofactor",disabled:!m.sms,checked:d==="sms",onChange:()=>u("sms")})," ",e("security.sms")]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"radio",name:"twofactor",disabled:!m.app,checked:d==="app",onChange:()=>u("app")})," ",e("security.app")]})]})]}),o&&s.jsxs("div",{className:"p-3 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("div",{className:"text-sm mb-2",children:e("security.enableMethods")}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:m.email,onChange:ge=>v(Re=>({...Re,email:ge.target.checked}))})," ",e("security.emailOtp")]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:m.sms,onChange:ge=>v(Re=>({...Re,sms:ge.target.checked}))})," ",e("security.sms")]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:m.app,onChange:ge=>v(Re=>({...Re,app:ge.target.checked}))})," ",e("security.app")]})]}),s.jsx("div",{className:"text-xs text-[var(--muted-text)] mt-1",children:e("security.enableNotice")})]}),s.jsx("div",{className:"md:col-span-3 flex items-center justify-end",children:s.jsx("button",{className:"btn btn-primary",disabled:!o,onClick:()=>p(!0),children:e("security.setup2fa")})})]})]}),s.jsx("div",{className:"h-6 md:h-8","aria-hidden":"true"}),s.jsx("div",{className:"glass-panel rounded-2xl overflow-hidden",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-lg font-semibold",children:e("security.accountAccess")}),s.jsx("button",{className:"btn btn-glass",onClick:()=>N(!0),children:e("security.editPermissions")})]}),s.jsx("div",{className:"mb-4 flex flex-wrap gap-2",children:b.map(ge=>s.jsx("span",{className:"px-3 py-1 rounded-full bg-blue-50 text-blue-700 dark:bg-gray-800 dark:text-blue-400 border border-blue-100 dark:border-gray-700 text-xs",children:ge.name},ge.name))}),s.jsx("div",{className:"text-sm font-medium mb-2",children:e("security.activeSessions")}),s.jsxs("table",{className:"w-full table-auto text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-800",children:[s.jsx("th",{className:"px-4 py-3 text-left",children:e("security.device")}),s.jsx("th",{className:"px-4 py-3 text-left",children:e("security.location")}),s.jsx("th",{className:"px-4 py-3 text-left",children:e("security.lastActive")}),s.jsx("th",{className:"px-4 py-3 text-left",children:e("security.action")})]})}),s.jsx("tbody",{children:A.length===0?s.jsx("tr",{children:s.jsx("td",{className:"px-4 py-4 text-center text-gray-500",colSpan:4,children:e("security.noSessions")})}):A.map(ge=>s.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-700",children:[s.jsx("td",{className:"px-4 py-2",children:ge.device}),s.jsx("td",{className:"px-4 py-2",children:ge.location}),s.jsx("td",{className:"px-4 py-2",children:ge.lastActive}),s.jsx("td",{className:"px-4 py-2",children:s.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>D(ge),children:e("security.logout")})})]},ge.id))})]}),s.jsx("div",{className:"mt-3 flex items-center justify-end",children:s.jsx("button",{className:"btn btn-danger",onClick:ae,children:e("security.logoutAll")})})]})}),s.jsx("div",{className:"h-6 md:h-8","aria-hidden":"true"}),s.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:e("security.securityNotifications")}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("span",{className:"text-sm",children:e("security.loginNewDevice")}),s.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"hidden",checked:R,onChange:ge=>I(ge.target.checked)}),s.jsx("span",{className:`w-10 h-6 rounded-full p-1 ${R?"bg-emerald-500":"bg-gray-400"} transition-all`,children:s.jsx("span",{className:`block w-4 h-4 bg-white rounded-full transition-transform ${R?"translate-x-4":"translate-x-0"}`})})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("span",{className:"text-sm",children:e("security.passwordChange")}),s.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"hidden",checked:M,onChange:ge=>U(ge.target.checked)}),s.jsx("span",{className:`w-10 h-6 rounded-full p-1 ${M?"bg-emerald-500":"bg-gray-400"} transition-all`,children:s.jsx("span",{className:`block w-4 h-4 bg-white rounded-full transition-transform ${M?"translate-x-4":"translate-x-0"}`})})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("span",{className:"text-sm",children:e("security.failedLogins")}),s.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"hidden",checked:P,onChange:ge=>F(ge.target.checked)}),s.jsx("span",{className:`w-10 h-6 rounded-full p-1 ${P?"bg-emerald-500":"bg-gray-400"} transition-all`,children:s.jsx("span",{className:`block w-4 h-4 bg-white rounded-full transition-transform ${P?"translate-x-4":"translate-x-0"}`})})]})]}),s.jsxs("div",{className:"p-3 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("div",{className:"text-sm mb-2",children:e("security.notificationMethod")}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"radio",name:"notif",checked:K==="email",onChange:()=>V("email")})," Email"]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"radio",name:"notif",checked:K==="sms",onChange:()=>V("sms")})," ",e("security.sms")]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"radio",name:"notif",checked:K==="push",onChange:()=>V("push")})," ",e("security.push")]})]})]})]})]}),s.jsx("div",{className:"h-6 md:h-8","aria-hidden":"true"}),s.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:e("security.policies")}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("security.minLength")}),s.jsx("input",{type:"number",min:4,className:"input-soft w-full",value:J,onChange:ge=>Q(Number(ge.target.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("security.failedLimit")}),s.jsx("input",{type:"number",min:1,className:"input-soft w-full",value:oe,onChange:ge=>ce(Number(ge.target.value))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[s.jsxs("div",{className:"space-y-2 p-3 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("div",{className:"text-sm font-medium",children:e("security.charReq")}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:z,onChange:ge=>X(ge.target.checked)})," ",e("security.upper")]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:le,onChange:ge=>O(ge.target.checked)})," ",e("security.lower")]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:q,onChange:ge=>W(ge.target.checked)})," ",e("security.number")]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:te,onChange:ge=>re(ge.target.checked)})," ",e("security.special")]})]}),s.jsxs("div",{className:"space-y-2 p-3 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("div",{className:"text-sm font-medium",children:e("security.lockoutPolicy")}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:G,onChange:ge=>ie(ge.target.checked)})," ",e("security.tempLockout")]}),s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:e("security.lockoutNote")})]})]})]})]}),s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:e("security.auditLogs")}),s.jsx("div",{className:"space-y-2",children:ye.map(ge=>s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-white/90 dark:bg-gray-800/80 hover:shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"w-8 h-8 rounded-md bg-blue-50 text-blue-700 dark:bg-gray-700 dark:text-blue-400 flex items-center justify-center",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium",children:ge.action}),s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:ge.at})]})]}),s.jsx("div",{className:"text-xs",children:ge.by})]},ge.id))})]})})]}),s.jsx(w3,{open:f,title:e("security.modal.setupTitle"),onClose:()=>p(!1),onConfirm:()=>{p(!1),c(!0),se(ge=>[{id:Math.random().toString(36).slice(2),action:"2FA Setup",by:"You",at:new Date().toLocaleString()},...ge])},confirmText:e("security.setup2fa"),children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"text-sm",children:e("security.modal.setupHelp")}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"radio",name:"twofactor-modal",checked:d==="email",onChange:()=>u("email")})," ",e("security.emailOtp")]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"radio",name:"twofactor-modal",checked:d==="sms",onChange:()=>u("sms")})," ",e("security.sms")]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"radio",name:"twofactor-modal",checked:d==="app",onChange:()=>u("app")})," ",e("security.app")]})]})]})}),s.jsx(w3,{open:!!E,title:e("security.modal.logoutTitle"),onClose:()=>D(null),onConfirm:pe,confirmText:e("security.logout"),children:s.jsx("div",{className:"text-sm",children:e("security.modal.logoutDesc")})}),s.jsx(w3,{open:S,title:e("security.modal.editPermsTitle"),onClose:()=>N(!1),onConfirm:()=>{N(!1),se(ge=>[{id:Math.random().toString(36).slice(2),action:"Permissions Updated",by:"You",at:new Date().toLocaleString()},...ge])},confirmText:e("common.save"),children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:j.viewCustomers,onChange:ge=>k(Re=>({...Re,viewCustomers:ge.target.checked}))})," ",e("security.perms.viewCustomers")]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:j.editCustomers,onChange:ge=>k(Re=>({...Re,editCustomers:ge.target.checked}))})," ",e("security.perms.editCustomers")]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:j.manageUsers,onChange:ge=>k(Re=>({...Re,manageUsers:ge.target.checked}))})," ",e("security.perms.manageUsers")]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:j.viewBilling,onChange:ge=>k(Re=>({...Re,viewBilling:ge.target.checked}))})," ",e("security.perms.viewBilling")]})]})})]})};function tr(e){"@babel/helpers - typeof";return tr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tr(e)}var kd=Uint8Array,Wo=Uint16Array,a_=Int32Array,s_=new kd([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),r_=new kd([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),LO=new kd([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Uq=function(e,t){for(var a=new Wo(31),r=0;r<31;++r)a[r]=t+=1<<e[r-1];for(var n=new a_(a[30]),r=1;r<30;++r)for(var i=a[r];i<a[r+1];++i)n[i]=i-a[r]<<5|r;return{b:a,r:n}},zq=Uq(s_,2),H5e=zq.b,BC=zq.r;H5e[28]=258,BC[258]=28;var V5e=Uq(r_,0),OO=V5e.r,$C=new Wo(32768);for(var Nr=0;Nr<32768;++Nr){var xf=(Nr&43690)>>1|(Nr&21845)<<1;xf=(xf&52428)>>2|(xf&13107)<<2,xf=(xf&61680)>>4|(xf&3855)<<4,$C[Nr]=((xf&65280)>>8|(xf&255)<<8)>>1}var $v=(function(e,t,a){for(var r=e.length,n=0,i=new Wo(t);n<r;++n)e[n]&&++i[e[n]-1];var l=new Wo(t);for(n=1;n<t;++n)l[n]=l[n-1]+i[n-1]<<1;var o;if(a){o=new Wo(1<<t);var c=15-t;for(n=0;n<r;++n)if(e[n])for(var d=n<<4|e[n],u=t-e[n],f=l[e[n]-1]++<<u,p=f|(1<<u)-1;f<=p;++f)o[$C[f]>>c]=d}else for(o=new Wo(r),n=0;n<r;++n)e[n]&&(o[n]=$C[l[e[n]-1]++]>>15-e[n]);return o}),Sm=new kd(288);for(var Nr=0;Nr<144;++Nr)Sm[Nr]=8;for(var Nr=144;Nr<256;++Nr)Sm[Nr]=9;for(var Nr=256;Nr<280;++Nr)Sm[Nr]=7;for(var Nr=280;Nr<288;++Nr)Sm[Nr]=8;var Mw=new kd(32);for(var Nr=0;Nr<32;++Nr)Mw[Nr]=5;var W5e=$v(Sm,9,0),q5e=$v(Mw,5,0),Hq=function(e){return(e+7)/8|0},G5e=function(e,t,a){return(a==null||a>e.length)&&(a=e.length),new kd(e.subarray(t,a))},Wu=function(e,t,a){a<<=t&7;var r=t/8|0;e[r]|=a,e[r+1]|=a>>8},Qg=function(e,t,a){a<<=t&7;var r=t/8|0;e[r]|=a,e[r+1]|=a>>8,e[r+2]|=a>>16},j3=function(e,t){for(var a=[],r=0;r<e.length;++r)e[r]&&a.push({s:r,f:e[r]});var n=a.length,i=a.slice();if(!n)return{t:Wq,l:0};if(n==1){var l=new kd(a[0].s+1);return l[a[0].s]=1,{t:l,l:1}}a.sort(function(A,_){return A.f-_.f}),a.push({s:-1,f:25001});var o=a[0],c=a[1],d=0,u=1,f=2;for(a[0]={s:-1,f:o.f+c.f,l:o,r:c};u!=n-1;)o=a[a[d].f<a[f].f?d++:f++],c=a[d!=u&&a[d].f<a[f].f?d++:f++],a[u++]={s:-1,f:o.f+c.f,l:o,r:c};for(var p=i[0].s,r=1;r<n;++r)i[r].s>p&&(p=i[r].s);var m=new Wo(p+1),v=UC(a[u-1],m,0);if(v>t){var r=0,g=0,b=v-t,j=1<<b;for(i.sort(function(_,E){return m[E.s]-m[_.s]||_.f-E.f});r<n;++r){var k=i[r].s;if(m[k]>t)g+=j-(1<<v-m[k]),m[k]=t;else break}for(g>>=b;g>0;){var S=i[r].s;m[S]<t?g-=1<<t-m[S]++-1:++r}for(;r>=0&&g;--r){var N=i[r].s;m[N]==t&&(--m[N],++g)}v=t}return{t:new kd(m),l:v}},UC=function(e,t,a){return e.s==-1?Math.max(UC(e.l,t,a+1),UC(e.r,t,a+1)):t[e.s]=a},RO=function(e){for(var t=e.length;t&&!e[--t];);for(var a=new Wo(++t),r=0,n=e[0],i=1,l=function(c){a[r++]=c},o=1;o<=t;++o)if(e[o]==n&&o!=t)++i;else{if(!n&&i>2){for(;i>138;i-=138)l(32754);i>2&&(l(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(l(n),--i;i>6;i-=6)l(8304);i>2&&(l(i-3<<5|8208),i=0)}for(;i--;)l(n);i=1,n=e[o]}return{c:a.subarray(0,r),n:t}},Zg=function(e,t){for(var a=0,r=0;r<t.length;++r)a+=e[r]*t[r];return a},Vq=function(e,t,a){var r=a.length,n=Hq(t+2);e[n]=r&255,e[n+1]=r>>8,e[n+2]=e[n]^255,e[n+3]=e[n+1]^255;for(var i=0;i<r;++i)e[n+i+4]=a[i];return(n+4+r)*8},FO=function(e,t,a,r,n,i,l,o,c,d,u){Wu(t,u++,a),++n[256];for(var f=j3(n,15),p=f.t,m=f.l,v=j3(i,15),g=v.t,b=v.l,j=RO(p),k=j.c,S=j.n,N=RO(g),A=N.c,_=N.n,E=new Wo(19),D=0;D<k.length;++D)++E[k[D]&31];for(var D=0;D<A.length;++D)++E[A[D]&31];for(var R=j3(E,7),I=R.t,M=R.l,U=19;U>4&&!I[LO[U-1]];--U);var P=d+5<<3,F=Zg(n,Sm)+Zg(i,Mw)+l,K=Zg(n,p)+Zg(i,g)+l+14+3*U+Zg(E,I)+2*E[16]+3*E[17]+7*E[18];if(c>=0&&P<=F&&P<=K)return Vq(t,u,e.subarray(c,c+d));var V,J,Q,z;if(Wu(t,u,1+(K<F)),u+=2,K<F){V=$v(p,m,0),J=p,Q=$v(g,b,0),z=g;var X=$v(I,M,0);Wu(t,u,S-257),Wu(t,u+5,_-1),Wu(t,u+10,U-4),u+=14;for(var D=0;D<U;++D)Wu(t,u+3*D,I[LO[D]]);u+=3*U;for(var le=[k,A],O=0;O<2;++O)for(var q=le[O],D=0;D<q.length;++D){var W=q[D]&31;Wu(t,u,X[W]),u+=I[W],W>15&&(Wu(t,u,q[D]>>5&127),u+=q[D]>>12)}}else V=W5e,J=Sm,Q=q5e,z=Mw;for(var D=0;D<o;++D){var te=r[D];if(te>255){var W=te>>18&31;Qg(t,u,V[W+257]),u+=J[W+257],W>7&&(Wu(t,u,te>>23&31),u+=s_[W]);var re=te&31;Qg(t,u,Q[re]),u+=z[re],re>3&&(Qg(t,u,te>>5&8191),u+=r_[re])}else Qg(t,u,V[te]),u+=J[te]}return Qg(t,u,V[256]),u+J[256]},K5e=new a_([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Wq=new kd(0),Y5e=function(e,t,a,r,n,i){var l=i.z||e.length,o=new kd(r+l+5*(1+Math.ceil(l/7e3))+n),c=o.subarray(r,o.length-n),d=i.l,u=(i.r||0)&7;if(t){u&&(c[0]=i.r>>3);for(var f=K5e[t-1],p=f>>13,m=f&8191,v=(1<<a)-1,g=i.p||new Wo(32768),b=i.h||new Wo(v+1),j=Math.ceil(a/3),k=2*j,S=function(pe){return(e[pe]^e[pe+1]<<j^e[pe+2]<<k)&v},N=new a_(25e3),A=new Wo(288),_=new Wo(32),E=0,D=0,R=i.i||0,I=0,M=i.w||0,U=0;R+2<l;++R){var P=S(R),F=R&32767,K=b[P];if(g[F]=K,b[P]=F,M<=R){var V=l-R;if((E>7e3||I>24576)&&(V>423||!d)){u=FO(e,c,0,N,A,_,D,I,U,R-U,u),I=E=D=0,U=R;for(var J=0;J<286;++J)A[J]=0;for(var J=0;J<30;++J)_[J]=0}var Q=2,z=0,X=m,le=F-K&32767;if(V>2&&P==S(R-le))for(var O=Math.min(p,V)-1,q=Math.min(32767,R),W=Math.min(258,V);le<=q&&--X&&F!=K;){if(e[R+Q]==e[R+Q-le]){for(var te=0;te<W&&e[R+te]==e[R+te-le];++te);if(te>Q){if(Q=te,z=le,te>O)break;for(var re=Math.min(le,te-2),oe=0,J=0;J<re;++J){var ce=R-le+J&32767,G=g[ce],ie=ce-G&32767;ie>oe&&(oe=ie,K=ce)}}}F=K,K=g[F],le+=F-K&32767}if(z){N[I++]=268435456|BC[Q]<<18|OO[z];var ye=BC[Q]&31,se=OO[z]&31;D+=s_[ye]+r_[se],++A[257+ye],++_[se],M=R+Q,++E}else N[I++]=e[R],++A[e[R]]}}for(R=Math.max(R,M);R<l;++R)N[I++]=e[R],++A[e[R]];u=FO(e,c,d,N,A,_,D,I,U,R-U,u),d||(i.r=u&7|c[u/8|0]<<3,u-=7,i.h=b,i.p=g,i.i=R,i.w=M)}else{for(var R=i.w||0;R<l+d;R+=65535){var Ie=R+65535;Ie>=l&&(c[u/8|0]=d,Ie=l),u=Vq(c,u+1,e.subarray(R,Ie))}i.i=l}return G5e(o,0,r+Hq(u)+n)},qq=function(){var e=1,t=0;return{p:function(a){for(var r=e,n=t,i=a.length|0,l=0;l!=i;){for(var o=Math.min(l+2655,i);l<o;++l)n+=r+=a[l];r=(r&65535)+15*(r>>16),n=(n&65535)+15*(n>>16)}e=r,t=n},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},X5e=function(e,t,a,r,n){if(!n&&(n={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),l=new kd(i.length+e.length);l.set(i),l.set(e,i.length),e=l,n.w=i.length}return Y5e(e,t.level==null?6:t.level,t.mem==null?n.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,a,r,n)},Gq=function(e,t,a){for(;a;++t)e[t]=a,a>>>=8},J5e=function(e,t){var a=t.level,r=a==0?0:a<6?1:a==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var n=qq();n.p(t.dictionary),Gq(e,2,n.d())}};function zC(e,t){t||(t={});var a=qq();a.p(e);var r=X5e(e,t,t.dictionary?6:2,4);return J5e(r,t),Gq(r,r.length-4,a.d()),r}var Q5e=typeof TextDecoder<"u"&&new TextDecoder,Z5e=0;try{Q5e.decode(Wq,{stream:!0}),Z5e=1}catch{}function e3e(e){if(Array.isArray(e))return e}function t3e(e,t){var a=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(a!=null){var r,n,i,l,o=[],c=!0,d=!1;try{if(i=(a=a.call(e)).next,t!==0)for(;!(c=(r=i.call(a)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(u){d=!0,n=u}finally{try{if(!c&&a.return!=null&&(l=a.return(),Object(l)!==l))return}finally{if(d)throw n}}return o}}function IO(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}function a3e(e,t){if(e){if(typeof e=="string")return IO(e,t);var a={}.toString.call(e).slice(8,-1);return a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set"?Array.from(e):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?IO(e,t):void 0}}function s3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BO(e,t){return e3e(e)||t3e(e,t)||a3e(e,t)||s3e()}function $O(e,t="utf8"){return new TextDecoder(t).decode(e)}const r3e=new TextEncoder;function n3e(e){return r3e.encode(e)}const i3e=1024*8,l3e=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),N3={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class n_{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=i3e,a={}){let r=!1;typeof t=="number"?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);const n=a.offset?a.offset>>>0:0,i=t.byteLength-n;let l=n;(ArrayBuffer.isView(t)||t instanceof n_)&&(t.byteLength!==t.buffer.byteLength&&(l=t.byteOffset+n),t=t.buffer),r?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=l,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,l,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const r=(this.offset+t)*2,n=new Uint8Array(r);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,a){const r=N3[a].BYTES_PER_ELEMENT*t,n=this.byteOffset+this.offset,i=this.buffer.slice(n,n+r);if(this.littleEndian===l3e&&a!=="uint8"&&a!=="int8"){const o=new Uint8Array(this.buffer.slice(n,n+r));o.reverse();const c=new N3[a](o.buffer);return this.offset+=r,c.reverse(),c}const l=new N3[a](i);return this.offset+=r,l}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let a="";for(let r=0;r<t;r++)a+=this.readChar();return a}readUtf8(t=1){return $O(this.readBytes(t))}decodeText(t=1,a="utf8"){return $O(this.readBytes(t),a)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let a=0;a<t.length;a++)this._data.setUint8(this.offset++,t[a]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let a=0;a<t.length;a++)this.writeUint8(t.charCodeAt(a));return this}writeUtf8(t){return this.writeBytes(n3e(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Hx(e){let t=e.length;for(;--t>=0;)e[t]=0}const o3e=3,c3e=258,Kq=29,d3e=256,u3e=d3e+1+Kq,Yq=30,h3e=512,f3e=new Array((u3e+2)*2);Hx(f3e);const m3e=new Array(Yq*2);Hx(m3e);const p3e=new Array(h3e);Hx(p3e);const x3e=new Array(c3e-o3e+1);Hx(x3e);const g3e=new Array(Kq);Hx(g3e);const v3e=new Array(Yq);Hx(v3e);const b3e=(e,t,a,r)=>{let n=e&65535|0,i=e>>>16&65535|0,l=0;for(;a!==0;){l=a>2e3?2e3:a,a-=l;do n=n+t[r++]|0,i=i+n|0;while(--l);n%=65521,i%=65521}return n|i<<16|0};var HC=b3e;const y3e=()=>{let e,t=[];for(var a=0;a<256;a++){e=a;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[a]=e}return t},w3e=new Uint32Array(y3e()),j3e=(e,t,a,r)=>{const n=w3e,i=r+a;e^=-1;for(let l=r;l<i;l++)e=e>>>8^n[(e^t[l])&255];return e^-1};var su=j3e,VC={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Xq={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const N3e=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var k3e=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const a=t.shift();if(a){if(typeof a!="object")throw new TypeError(a+"must be non-object");for(const r in a)N3e(a,r)&&(e[r]=a[r])}}return e},S3e=e=>{let t=0;for(let r=0,n=e.length;r<n;r++)t+=e[r].length;const a=new Uint8Array(t);for(let r=0,n=0,i=e.length;r<i;r++){let l=e[r];a.set(l,n),n+=l.length}return a},Jq={assign:k3e,flattenChunks:S3e};let Qq=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Qq=!1}const S1=new Uint8Array(256);for(let e=0;e<256;e++)S1[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;S1[254]=S1[254]=1;var C3e=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,a,r,n,i,l=e.length,o=0;for(n=0;n<l;n++)a=e.charCodeAt(n),(a&64512)===55296&&n+1<l&&(r=e.charCodeAt(n+1),(r&64512)===56320&&(a=65536+(a-55296<<10)+(r-56320),n++)),o+=a<128?1:a<2048?2:a<65536?3:4;for(t=new Uint8Array(o),i=0,n=0;i<o;n++)a=e.charCodeAt(n),(a&64512)===55296&&n+1<l&&(r=e.charCodeAt(n+1),(r&64512)===56320&&(a=65536+(a-55296<<10)+(r-56320),n++)),a<128?t[i++]=a:a<2048?(t[i++]=192|a>>>6,t[i++]=128|a&63):a<65536?(t[i++]=224|a>>>12,t[i++]=128|a>>>6&63,t[i++]=128|a&63):(t[i++]=240|a>>>18,t[i++]=128|a>>>12&63,t[i++]=128|a>>>6&63,t[i++]=128|a&63);return t};const A3e=(e,t)=>{if(t<65534&&e.subarray&&Qq)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let a="";for(let r=0;r<t;r++)a+=String.fromCharCode(e[r]);return a};var _3e=(e,t)=>{const a=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,n;const i=new Array(a*2);for(n=0,r=0;r<a;){let l=e[r++];if(l<128){i[n++]=l;continue}let o=S1[l];if(o>4){i[n++]=65533,r+=o-1;continue}for(l&=o===2?31:o===3?15:7;o>1&&r<a;)l=l<<6|e[r++]&63,o--;if(o>1){i[n++]=65533;continue}l<65536?i[n++]=l:(l-=65536,i[n++]=55296|l>>10&1023,i[n++]=56320|l&1023)}return A3e(i,n)},E3e=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let a=t-1;for(;a>=0&&(e[a]&192)===128;)a--;return a<0||a===0?t:a+S1[e[a]]>t?a:t},WC={string2buf:C3e,buf2string:_3e,utf8border:E3e};function T3e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var D3e=T3e;const o2=16209,P3e=16191;var M3e=function(t,a){let r,n,i,l,o,c,d,u,f,p,m,v,g,b,j,k,S,N,A,_,E,D,R,I;const M=t.state;r=t.next_in,R=t.input,n=r+(t.avail_in-5),i=t.next_out,I=t.output,l=i-(a-t.avail_out),o=i+(t.avail_out-257),c=M.dmax,d=M.wsize,u=M.whave,f=M.wnext,p=M.window,m=M.hold,v=M.bits,g=M.lencode,b=M.distcode,j=(1<<M.lenbits)-1,k=(1<<M.distbits)-1;e:do{v<15&&(m+=R[r++]<<v,v+=8,m+=R[r++]<<v,v+=8),S=g[m&j];t:for(;;){if(N=S>>>24,m>>>=N,v-=N,N=S>>>16&255,N===0)I[i++]=S&65535;else if(N&16){A=S&65535,N&=15,N&&(v<N&&(m+=R[r++]<<v,v+=8),A+=m&(1<<N)-1,m>>>=N,v-=N),v<15&&(m+=R[r++]<<v,v+=8,m+=R[r++]<<v,v+=8),S=b[m&k];a:for(;;){if(N=S>>>24,m>>>=N,v-=N,N=S>>>16&255,N&16){if(_=S&65535,N&=15,v<N&&(m+=R[r++]<<v,v+=8,v<N&&(m+=R[r++]<<v,v+=8)),_+=m&(1<<N)-1,_>c){t.msg="invalid distance too far back",M.mode=o2;break e}if(m>>>=N,v-=N,N=i-l,_>N){if(N=_-N,N>u&&M.sane){t.msg="invalid distance too far back",M.mode=o2;break e}if(E=0,D=p,f===0){if(E+=d-N,N<A){A-=N;do I[i++]=p[E++];while(--N);E=i-_,D=I}}else if(f<N){if(E+=d+f-N,N-=f,N<A){A-=N;do I[i++]=p[E++];while(--N);if(E=0,f<A){N=f,A-=N;do I[i++]=p[E++];while(--N);E=i-_,D=I}}}else if(E+=f-N,N<A){A-=N;do I[i++]=p[E++];while(--N);E=i-_,D=I}for(;A>2;)I[i++]=D[E++],I[i++]=D[E++],I[i++]=D[E++],A-=3;A&&(I[i++]=D[E++],A>1&&(I[i++]=D[E++]))}else{E=i-_;do I[i++]=I[E++],I[i++]=I[E++],I[i++]=I[E++],A-=3;while(A>2);A&&(I[i++]=I[E++],A>1&&(I[i++]=I[E++]))}}else if((N&64)===0){S=b[(S&65535)+(m&(1<<N)-1)];continue a}else{t.msg="invalid distance code",M.mode=o2;break e}break}}else if((N&64)===0){S=g[(S&65535)+(m&(1<<N)-1)];continue t}else if(N&32){M.mode=P3e;break e}else{t.msg="invalid literal/length code",M.mode=o2;break e}break}}while(r<n&&i<o);A=v>>3,r-=A,v-=A<<3,m&=(1<<v)-1,t.next_in=r,t.next_out=i,t.avail_in=r<n?5+(n-r):5-(r-n),t.avail_out=i<o?257+(o-i):257-(i-o),M.hold=m,M.bits=v};const Op=15,UO=852,zO=592,HO=0,k3=1,VO=2,L3e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),O3e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),R3e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),F3e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),I3e=(e,t,a,r,n,i,l,o)=>{const c=o.bits;let d=0,u=0,f=0,p=0,m=0,v=0,g=0,b=0,j=0,k=0,S,N,A,_,E,D=null,R;const I=new Uint16Array(Op+1),M=new Uint16Array(Op+1);let U=null,P,F,K;for(d=0;d<=Op;d++)I[d]=0;for(u=0;u<r;u++)I[t[a+u]]++;for(m=c,p=Op;p>=1&&I[p]===0;p--);if(m>p&&(m=p),p===0)return n[i++]=1<<24|64<<16|0,n[i++]=1<<24|64<<16|0,o.bits=1,0;for(f=1;f<p&&I[f]===0;f++);for(m<f&&(m=f),b=1,d=1;d<=Op;d++)if(b<<=1,b-=I[d],b<0)return-1;if(b>0&&(e===HO||p!==1))return-1;for(M[1]=0,d=1;d<Op;d++)M[d+1]=M[d]+I[d];for(u=0;u<r;u++)t[a+u]!==0&&(l[M[t[a+u]]++]=u);if(e===HO?(D=U=l,R=20):e===k3?(D=L3e,U=O3e,R=257):(D=R3e,U=F3e,R=0),k=0,u=0,d=f,E=i,v=m,g=0,A=-1,j=1<<m,_=j-1,e===k3&&j>UO||e===VO&&j>zO)return 1;for(;;){P=d-g,l[u]+1<R?(F=0,K=l[u]):l[u]>=R?(F=U[l[u]-R],K=D[l[u]-R]):(F=96,K=0),S=1<<d-g,N=1<<v,f=N;do N-=S,n[E+(k>>g)+N]=P<<24|F<<16|K|0;while(N!==0);for(S=1<<d-1;k&S;)S>>=1;if(S!==0?(k&=S-1,k+=S):k=0,u++,--I[d]===0){if(d===p)break;d=t[a+l[u]]}if(d>m&&(k&_)!==A){for(g===0&&(g=m),E+=f,v=d-g,b=1<<v;v+g<p&&(b-=I[v+g],!(b<=0));)v++,b<<=1;if(j+=1<<v,e===k3&&j>UO||e===VO&&j>zO)return 1;A=k&_,n[A]=m<<24|v<<16|E-i|0}}return k!==0&&(n[E+k]=d-g<<24|64<<16|0),o.bits=m,0};var Uv=I3e;const B3e=0,Zq=1,eG=2,{Z_FINISH:WO,Z_BLOCK:$3e,Z_TREES:c2,Z_OK:Cm,Z_STREAM_END:U3e,Z_NEED_DICT:z3e,Z_STREAM_ERROR:Rc,Z_DATA_ERROR:tG,Z_MEM_ERROR:aG,Z_BUF_ERROR:H3e,Z_DEFLATED:qO}=Xq,mN=16180,GO=16181,KO=16182,YO=16183,XO=16184,JO=16185,QO=16186,ZO=16187,eR=16188,tR=16189,Lw=16190,qu=16191,S3=16192,aR=16193,C3=16194,sR=16195,rR=16196,nR=16197,iR=16198,d2=16199,u2=16200,lR=16201,oR=16202,cR=16203,dR=16204,uR=16205,A3=16206,hR=16207,fR=16208,Ir=16209,sG=16210,rG=16211,V3e=852,W3e=592,q3e=15,G3e=q3e,mR=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function K3e(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Vm=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<mN||t.mode>rG?1:0},nG=e=>{if(Vm(e))return Rc;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=mN,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(V3e),t.distcode=t.distdyn=new Int32Array(W3e),t.sane=1,t.back=-1,Cm},iG=e=>{if(Vm(e))return Rc;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,nG(e)},lG=(e,t)=>{let a;if(Vm(e))return Rc;const r=e.state;return t<0?(a=0,t=-t):(a=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Rc:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=a,r.wbits=t,iG(e))},oG=(e,t)=>{if(!e)return Rc;const a=new K3e;e.state=a,a.strm=e,a.window=null,a.mode=mN;const r=lG(e,t);return r!==Cm&&(e.state=null),r},Y3e=e=>oG(e,G3e);let pR=!0,_3,E3;const X3e=e=>{if(pR){_3=new Int32Array(512),E3=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Uv(Zq,e.lens,0,288,_3,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Uv(eG,e.lens,0,32,E3,0,e.work,{bits:5}),pR=!1}e.lencode=_3,e.lenbits=9,e.distcode=E3,e.distbits=5},cG=(e,t,a,r)=>{let n;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(t.subarray(a-i.wsize,a),0),i.wnext=0,i.whave=i.wsize):(n=i.wsize-i.wnext,n>r&&(n=r),i.window.set(t.subarray(a-r,a-r+n),i.wnext),r-=n,r?(i.window.set(t.subarray(a-r,a),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=n,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=n))),0},J3e=(e,t)=>{let a,r,n,i,l,o,c,d,u,f,p,m,v,g,b=0,j,k,S,N,A,_,E,D;const R=new Uint8Array(4);let I,M;const U=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Vm(e)||!e.output||!e.input&&e.avail_in!==0)return Rc;a=e.state,a.mode===qu&&(a.mode=S3),l=e.next_out,n=e.output,c=e.avail_out,i=e.next_in,r=e.input,o=e.avail_in,d=a.hold,u=a.bits,f=o,p=c,D=Cm;e:for(;;)switch(a.mode){case mN:if(a.wrap===0){a.mode=S3;break}for(;u<16;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}if(a.wrap&2&&d===35615){a.wbits===0&&(a.wbits=15),a.check=0,R[0]=d&255,R[1]=d>>>8&255,a.check=su(a.check,R,2,0),d=0,u=0,a.mode=GO;break}if(a.head&&(a.head.done=!1),!(a.wrap&1)||(((d&255)<<8)+(d>>8))%31){e.msg="incorrect header check",a.mode=Ir;break}if((d&15)!==qO){e.msg="unknown compression method",a.mode=Ir;break}if(d>>>=4,u-=4,E=(d&15)+8,a.wbits===0&&(a.wbits=E),E>15||E>a.wbits){e.msg="invalid window size",a.mode=Ir;break}a.dmax=1<<a.wbits,a.flags=0,e.adler=a.check=1,a.mode=d&512?tR:qu,d=0,u=0;break;case GO:for(;u<16;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}if(a.flags=d,(a.flags&255)!==qO){e.msg="unknown compression method",a.mode=Ir;break}if(a.flags&57344){e.msg="unknown header flags set",a.mode=Ir;break}a.head&&(a.head.text=d>>8&1),a.flags&512&&a.wrap&4&&(R[0]=d&255,R[1]=d>>>8&255,a.check=su(a.check,R,2,0)),d=0,u=0,a.mode=KO;case KO:for(;u<32;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}a.head&&(a.head.time=d),a.flags&512&&a.wrap&4&&(R[0]=d&255,R[1]=d>>>8&255,R[2]=d>>>16&255,R[3]=d>>>24&255,a.check=su(a.check,R,4,0)),d=0,u=0,a.mode=YO;case YO:for(;u<16;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}a.head&&(a.head.xflags=d&255,a.head.os=d>>8),a.flags&512&&a.wrap&4&&(R[0]=d&255,R[1]=d>>>8&255,a.check=su(a.check,R,2,0)),d=0,u=0,a.mode=XO;case XO:if(a.flags&1024){for(;u<16;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}a.length=d,a.head&&(a.head.extra_len=d),a.flags&512&&a.wrap&4&&(R[0]=d&255,R[1]=d>>>8&255,a.check=su(a.check,R,2,0)),d=0,u=0}else a.head&&(a.head.extra=null);a.mode=JO;case JO:if(a.flags&1024&&(m=a.length,m>o&&(m=o),m&&(a.head&&(E=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Uint8Array(a.head.extra_len)),a.head.extra.set(r.subarray(i,i+m),E)),a.flags&512&&a.wrap&4&&(a.check=su(a.check,r,m,i)),o-=m,i+=m,a.length-=m),a.length))break e;a.length=0,a.mode=QO;case QO:if(a.flags&2048){if(o===0)break e;m=0;do E=r[i+m++],a.head&&E&&a.length<65536&&(a.head.name+=String.fromCharCode(E));while(E&&m<o);if(a.flags&512&&a.wrap&4&&(a.check=su(a.check,r,m,i)),o-=m,i+=m,E)break e}else a.head&&(a.head.name=null);a.length=0,a.mode=ZO;case ZO:if(a.flags&4096){if(o===0)break e;m=0;do E=r[i+m++],a.head&&E&&a.length<65536&&(a.head.comment+=String.fromCharCode(E));while(E&&m<o);if(a.flags&512&&a.wrap&4&&(a.check=su(a.check,r,m,i)),o-=m,i+=m,E)break e}else a.head&&(a.head.comment=null);a.mode=eR;case eR:if(a.flags&512){for(;u<16;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}if(a.wrap&4&&d!==(a.check&65535)){e.msg="header crc mismatch",a.mode=Ir;break}d=0,u=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),e.adler=a.check=0,a.mode=qu;break;case tR:for(;u<32;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}e.adler=a.check=mR(d),d=0,u=0,a.mode=Lw;case Lw:if(a.havedict===0)return e.next_out=l,e.avail_out=c,e.next_in=i,e.avail_in=o,a.hold=d,a.bits=u,z3e;e.adler=a.check=1,a.mode=qu;case qu:if(t===$3e||t===c2)break e;case S3:if(a.last){d>>>=u&7,u-=u&7,a.mode=A3;break}for(;u<3;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}switch(a.last=d&1,d>>>=1,u-=1,d&3){case 0:a.mode=aR;break;case 1:if(X3e(a),a.mode=d2,t===c2){d>>>=2,u-=2;break e}break;case 2:a.mode=rR;break;case 3:e.msg="invalid block type",a.mode=Ir}d>>>=2,u-=2;break;case aR:for(d>>>=u&7,u-=u&7;u<32;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}if((d&65535)!==(d>>>16^65535)){e.msg="invalid stored block lengths",a.mode=Ir;break}if(a.length=d&65535,d=0,u=0,a.mode=C3,t===c2)break e;case C3:a.mode=sR;case sR:if(m=a.length,m){if(m>o&&(m=o),m>c&&(m=c),m===0)break e;n.set(r.subarray(i,i+m),l),o-=m,i+=m,c-=m,l+=m,a.length-=m;break}a.mode=qu;break;case rR:for(;u<14;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}if(a.nlen=(d&31)+257,d>>>=5,u-=5,a.ndist=(d&31)+1,d>>>=5,u-=5,a.ncode=(d&15)+4,d>>>=4,u-=4,a.nlen>286||a.ndist>30){e.msg="too many length or distance symbols",a.mode=Ir;break}a.have=0,a.mode=nR;case nR:for(;a.have<a.ncode;){for(;u<3;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}a.lens[U[a.have++]]=d&7,d>>>=3,u-=3}for(;a.have<19;)a.lens[U[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,I={bits:a.lenbits},D=Uv(B3e,a.lens,0,19,a.lencode,0,a.work,I),a.lenbits=I.bits,D){e.msg="invalid code lengths set",a.mode=Ir;break}a.have=0,a.mode=iR;case iR:for(;a.have<a.nlen+a.ndist;){for(;b=a.lencode[d&(1<<a.lenbits)-1],j=b>>>24,k=b>>>16&255,S=b&65535,!(j<=u);){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}if(S<16)d>>>=j,u-=j,a.lens[a.have++]=S;else{if(S===16){for(M=j+2;u<M;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}if(d>>>=j,u-=j,a.have===0){e.msg="invalid bit length repeat",a.mode=Ir;break}E=a.lens[a.have-1],m=3+(d&3),d>>>=2,u-=2}else if(S===17){for(M=j+3;u<M;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}d>>>=j,u-=j,E=0,m=3+(d&7),d>>>=3,u-=3}else{for(M=j+7;u<M;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}d>>>=j,u-=j,E=0,m=11+(d&127),d>>>=7,u-=7}if(a.have+m>a.nlen+a.ndist){e.msg="invalid bit length repeat",a.mode=Ir;break}for(;m--;)a.lens[a.have++]=E}}if(a.mode===Ir)break;if(a.lens[256]===0){e.msg="invalid code -- missing end-of-block",a.mode=Ir;break}if(a.lenbits=9,I={bits:a.lenbits},D=Uv(Zq,a.lens,0,a.nlen,a.lencode,0,a.work,I),a.lenbits=I.bits,D){e.msg="invalid literal/lengths set",a.mode=Ir;break}if(a.distbits=6,a.distcode=a.distdyn,I={bits:a.distbits},D=Uv(eG,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,I),a.distbits=I.bits,D){e.msg="invalid distances set",a.mode=Ir;break}if(a.mode=d2,t===c2)break e;case d2:a.mode=u2;case u2:if(o>=6&&c>=258){e.next_out=l,e.avail_out=c,e.next_in=i,e.avail_in=o,a.hold=d,a.bits=u,M3e(e,p),l=e.next_out,n=e.output,c=e.avail_out,i=e.next_in,r=e.input,o=e.avail_in,d=a.hold,u=a.bits,a.mode===qu&&(a.back=-1);break}for(a.back=0;b=a.lencode[d&(1<<a.lenbits)-1],j=b>>>24,k=b>>>16&255,S=b&65535,!(j<=u);){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}if(k&&(k&240)===0){for(N=j,A=k,_=S;b=a.lencode[_+((d&(1<<N+A)-1)>>N)],j=b>>>24,k=b>>>16&255,S=b&65535,!(N+j<=u);){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}d>>>=N,u-=N,a.back+=N}if(d>>>=j,u-=j,a.back+=j,a.length=S,k===0){a.mode=uR;break}if(k&32){a.back=-1,a.mode=qu;break}if(k&64){e.msg="invalid literal/length code",a.mode=Ir;break}a.extra=k&15,a.mode=lR;case lR:if(a.extra){for(M=a.extra;u<M;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}a.length+=d&(1<<a.extra)-1,d>>>=a.extra,u-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=oR;case oR:for(;b=a.distcode[d&(1<<a.distbits)-1],j=b>>>24,k=b>>>16&255,S=b&65535,!(j<=u);){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}if((k&240)===0){for(N=j,A=k,_=S;b=a.distcode[_+((d&(1<<N+A)-1)>>N)],j=b>>>24,k=b>>>16&255,S=b&65535,!(N+j<=u);){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}d>>>=N,u-=N,a.back+=N}if(d>>>=j,u-=j,a.back+=j,k&64){e.msg="invalid distance code",a.mode=Ir;break}a.offset=S,a.extra=k&15,a.mode=cR;case cR:if(a.extra){for(M=a.extra;u<M;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}a.offset+=d&(1<<a.extra)-1,d>>>=a.extra,u-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){e.msg="invalid distance too far back",a.mode=Ir;break}a.mode=dR;case dR:if(c===0)break e;if(m=p-c,a.offset>m){if(m=a.offset-m,m>a.whave&&a.sane){e.msg="invalid distance too far back",a.mode=Ir;break}m>a.wnext?(m-=a.wnext,v=a.wsize-m):v=a.wnext-m,m>a.length&&(m=a.length),g=a.window}else g=n,v=l-a.offset,m=a.length;m>c&&(m=c),c-=m,a.length-=m;do n[l++]=g[v++];while(--m);a.length===0&&(a.mode=u2);break;case uR:if(c===0)break e;n[l++]=a.length,c--,a.mode=u2;break;case A3:if(a.wrap){for(;u<32;){if(o===0)break e;o--,d|=r[i++]<<u,u+=8}if(p-=c,e.total_out+=p,a.total+=p,a.wrap&4&&p&&(e.adler=a.check=a.flags?su(a.check,n,p,l-p):HC(a.check,n,p,l-p)),p=c,a.wrap&4&&(a.flags?d:mR(d))!==a.check){e.msg="incorrect data check",a.mode=Ir;break}d=0,u=0}a.mode=hR;case hR:if(a.wrap&&a.flags){for(;u<32;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}if(a.wrap&4&&d!==(a.total&4294967295)){e.msg="incorrect length check",a.mode=Ir;break}d=0,u=0}a.mode=fR;case fR:D=U3e;break e;case Ir:D=tG;break e;case sG:return aG;case rG:default:return Rc}return e.next_out=l,e.avail_out=c,e.next_in=i,e.avail_in=o,a.hold=d,a.bits=u,(a.wsize||p!==e.avail_out&&a.mode<Ir&&(a.mode<A3||t!==WO))&&cG(e,e.output,e.next_out,p-e.avail_out),f-=e.avail_in,p-=e.avail_out,e.total_in+=f,e.total_out+=p,a.total+=p,a.wrap&4&&p&&(e.adler=a.check=a.flags?su(a.check,n,p,e.next_out-p):HC(a.check,n,p,e.next_out-p)),e.data_type=a.bits+(a.last?64:0)+(a.mode===qu?128:0)+(a.mode===d2||a.mode===C3?256:0),(f===0&&p===0||t===WO)&&D===Cm&&(D=H3e),D},Q3e=e=>{if(Vm(e))return Rc;let t=e.state;return t.window&&(t.window=null),e.state=null,Cm},Z3e=(e,t)=>{if(Vm(e))return Rc;const a=e.state;return(a.wrap&2)===0?Rc:(a.head=t,t.done=!1,Cm)},eke=(e,t)=>{const a=t.length;let r,n,i;return Vm(e)||(r=e.state,r.wrap!==0&&r.mode!==Lw)?Rc:r.mode===Lw&&(n=1,n=HC(n,t,a,0),n!==r.check)?tG:(i=cG(e,t,a,a),i?(r.mode=sG,aG):(r.havedict=1,Cm))};var tke=iG,ake=lG,ske=nG,rke=Y3e,nke=oG,ike=J3e,lke=Q3e,oke=Z3e,cke=eke,dke="pako inflate (from Nodeca project)",Xu={inflateReset:tke,inflateReset2:ake,inflateResetKeep:ske,inflateInit:rke,inflateInit2:nke,inflate:ike,inflateEnd:lke,inflateGetHeader:oke,inflateSetDictionary:cke,inflateInfo:dke};function uke(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var hke=uke;const dG=Object.prototype.toString,{Z_NO_FLUSH:fke,Z_FINISH:mke,Z_OK:C1,Z_STREAM_END:T3,Z_NEED_DICT:D3,Z_STREAM_ERROR:pke,Z_DATA_ERROR:xR,Z_MEM_ERROR:xke}=Xq;function ub(e){this.options=Jq.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new D3e,this.strm.avail_out=0;let a=Xu.inflateInit2(this.strm,t.windowBits);if(a!==C1)throw new Error(VC[a]);if(this.header=new hke,Xu.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=WC.string2buf(t.dictionary):dG.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(a=Xu.inflateSetDictionary(this.strm,t.dictionary),a!==C1)))throw new Error(VC[a])}ub.prototype.push=function(e,t){const a=this.strm,r=this.options.chunkSize,n=this.options.dictionary;let i,l,o;if(this.ended)return!1;for(t===~~t?l=t:l=t===!0?mke:fke,dG.call(e)==="[object ArrayBuffer]"?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;;){for(a.avail_out===0&&(a.output=new Uint8Array(r),a.next_out=0,a.avail_out=r),i=Xu.inflate(a,l),i===D3&&n&&(i=Xu.inflateSetDictionary(a,n),i===C1?i=Xu.inflate(a,l):i===xR&&(i=D3));a.avail_in>0&&i===T3&&a.state.wrap>0&&e[a.next_in]!==0;)Xu.inflateReset(a),i=Xu.inflate(a,l);switch(i){case pke:case xR:case D3:case xke:return this.onEnd(i),this.ended=!0,!1}if(o=a.avail_out,a.next_out&&(a.avail_out===0||i===T3))if(this.options.to==="string"){let c=WC.utf8border(a.output,a.next_out),d=a.next_out-c,u=WC.buf2string(a.output,c);a.next_out=d,a.avail_out=r-d,d&&a.output.set(a.output.subarray(c,c+d),0),this.onData(u)}else this.onData(a.output.length===a.next_out?a.output:a.output.subarray(0,a.next_out));if(!(i===C1&&o===0)){if(i===T3)return i=Xu.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(a.avail_in===0)break}}return!0};ub.prototype.onData=function(e){this.chunks.push(e)};ub.prototype.onEnd=function(e){e===C1&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Jq.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function gke(e,t){const a=new ub(t);if(a.push(e),a.err)throw a.msg||VC[a.err];return a.result}var vke=ub,bke=gke,yke={Inflate:vke,inflate:bke};const{Inflate:wke,inflate:jke}=yke;var gR=wke,Nke=jke;const uG=[];for(let e=0;e<256;e++){let t=e;for(let a=0;a<8;a++)t&1?t=3988292384^t>>>1:t=t>>>1;uG[e]=t}const vR=4294967295;function kke(e,t,a){let r=e;for(let n=0;n<a;n++)r=uG[(r^t[n])&255]^r>>>8;return r}function Ske(e,t){return(kke(vR,e,t)^vR)>>>0}function bR(e,t,a){const r=e.readUint32(),n=Ske(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(n!==r)throw new Error(`CRC mismatch for chunk ${a}. Expected ${r}, found ${n}`)}function hG(e,t,a){for(let r=0;r<a;r++)t[r]=e[r]}function fG(e,t,a,r){let n=0;for(;n<r;n++)t[n]=e[n];for(;n<a;n++)t[n]=e[n]+t[n-r]&255}function mG(e,t,a,r){let n=0;if(a.length===0)for(;n<r;n++)t[n]=e[n];else for(;n<r;n++)t[n]=e[n]+a[n]&255}function pG(e,t,a,r,n){let i=0;if(a.length===0){for(;i<n;i++)t[i]=e[i];for(;i<r;i++)t[i]=e[i]+(t[i-n]>>1)&255}else{for(;i<n;i++)t[i]=e[i]+(a[i]>>1)&255;for(;i<r;i++)t[i]=e[i]+(t[i-n]+a[i]>>1)&255}}function xG(e,t,a,r,n){let i=0;if(a.length===0){for(;i<n;i++)t[i]=e[i];for(;i<r;i++)t[i]=e[i]+t[i-n]&255}else{for(;i<n;i++)t[i]=e[i]+a[i]&255;for(;i<r;i++)t[i]=e[i]+Cke(t[i-n],a[i],a[i-n])&255}}function Cke(e,t,a){const r=e+t-a,n=Math.abs(r-e),i=Math.abs(r-t),l=Math.abs(r-a);return n<=i&&n<=l?e:i<=l?t:a}function Ake(e,t,a,r,n,i){switch(e){case 0:hG(t,a,n);break;case 1:fG(t,a,n,i);break;case 2:mG(t,a,r,n);break;case 3:pG(t,a,r,n,i);break;case 4:xG(t,a,r,n,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const _ke=new Uint16Array([255]),Eke=new Uint8Array(_ke.buffer),Tke=Eke[0]===255;function Dke(e){const{data:t,width:a,height:r,channels:n,depth:i}=e,l=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(i/8)*n,c=new Uint8Array(r*a*o);let d=0;for(let u=0;u<7;u++){const f=l[u],p=Math.ceil((a-f.x)/f.xStep),m=Math.ceil((r-f.y)/f.yStep);if(p<=0||m<=0)continue;const v=p*o,g=new Uint8Array(v);for(let b=0;b<m;b++){const j=t[d++],k=t.subarray(d,d+v);d+=v;const S=new Uint8Array(v);Ake(j,k,S,g,v,o),g.set(S);for(let N=0;N<p;N++){const A=f.x+N*f.xStep,_=f.y+b*f.yStep;if(!(A>=a||_>=r))for(let E=0;E<o;E++)c[(_*a+A)*o+E]=S[N*o+E]}}}if(i===16){const u=new Uint16Array(c.buffer);if(Tke)for(let f=0;f<u.length;f++)u[f]=Pke(u[f]);return u}else return c}function Pke(e){return(e&255)<<8|e>>8&255}const Mke=new Uint16Array([255]),Lke=new Uint8Array(Mke.buffer),Oke=Lke[0]===255,Rke=new Uint8Array(0);function yR(e){const{data:t,width:a,height:r,channels:n,depth:i}=e,l=Math.ceil(i/8)*n,o=Math.ceil(i/8*n*a),c=new Uint8Array(r*o);let d=Rke,u=0,f,p;for(let m=0;m<r;m++){switch(f=t.subarray(u+1,u+1+o),p=c.subarray(m*o,(m+1)*o),t[u]){case 0:hG(f,p,o);break;case 1:fG(f,p,o,l);break;case 2:mG(f,p,d,o);break;case 3:pG(f,p,d,o,l);break;case 4:xG(f,p,d,o,l);break;default:throw new Error(`Unsupported filter: ${t[u]}`)}d=p,u+=o+1}if(i===16){const m=new Uint16Array(c.buffer);if(Oke)for(let v=0;v<m.length;v++)m[v]=Fke(m[v]);return m}else return c}function Fke(e){return(e&255)<<8|e>>8&255}const Y2=Uint8Array.of(137,80,78,71,13,10,26,10);function wR(e){if(!Ike(e.readBytes(Y2.length)))throw new Error("wrong PNG signature")}function Ike(e){if(e.length<Y2.length)return!1;for(let t=0;t<Y2.length;t++)if(e[t]!==Y2[t])return!1;return!0}const Bke="tEXt",$ke=0,gG=new TextDecoder("latin1");function Uke(e){if(Hke(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const zke=/^[\u0000-\u00FF]*$/;function Hke(e){if(!zke.test(e))throw new Error("invalid latin1 text")}function Vke(e,t,a){const r=vG(t);e[r]=Wke(t,a-r.length-1)}function vG(e){for(e.mark();e.readByte()!==$ke;);const t=e.offset;e.reset();const a=gG.decode(e.readBytes(t-e.offset-1));return e.skip(1),Uke(a),a}function Wke(e,t){return gG.decode(e.readBytes(t))}const Lo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},P3={UNKNOWN:-1,DEFLATE:0},jR={UNKNOWN:-1,ADAPTIVE:0},M3={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},h2={NONE:0,BACKGROUND:1,PREVIOUS:2},L3={SOURCE:0,OVER:1};class qke extends n_{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,a={}){super(t);const{checkCrc:r=!1}=a;this._checkCrc=r,this._inflator=new gR,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=P3.UNKNOWN,this._filterMethod=jR.UNKNOWN,this._interlaceMethod=M3.UNKNOWN,this._colorType=Lo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(wR(this);!this._end;){const t=this.readUint32(),a=this.readChars(4);this.decodeChunk(t,a)}return this.decodeImage(),this._png}decodeApng(){for(wR(this);!this._end;){const t=this.readUint32(),a=this.readChars(4);this.decodeApngChunk(t,a)}return this.decodeApngImage(),this._apng}decodeChunk(t,a){const r=this.offset;switch(a){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case Bke:Vke(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?bR(this,t+4,a):this.skip(4)}decodeApngChunk(t,a){const r=this.offset;switch(a!=="fdAT"&&a!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),a){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,a),this.offset=r+t;break}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?bR(this,t+4,a):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=Gke(this.readUint8());const a=this.readUint8();this._colorType=a;let r;switch(a){case Lo.GREYSCALE:r=1;break;case Lo.TRUECOLOUR:r=3;break;case Lo.INDEXED_COLOUR:r=1;break;case Lo.GREYSCALE_ALPHA:r=2;break;case Lo.TRUECOLOUR_ALPHA:r=4;break;case Lo.UNKNOWN:default:throw new Error(`Unknown color type: ${a}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==P3.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const a=t/3;this._hasPalette=!0;const r=[];this._palette=r;for(let n=0;n<a;n++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const a=t,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let a=t,r=this.offset+this.byteOffset;if(r+=4,a-=4,this._inflator.push(new Uint8Array(this.buffer,r,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case Lo.GREYSCALE:case Lo.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let a=0;a<t/2;a++)this._transparency[a]=this.readUint16();break}case Lo.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let a=0;for(;a<t;a++){const r=this.readByte();this._palette[a].push(r)}for(;a<this._palette.length;a++)this._palette[a].push(255);break}case Lo.UNKNOWN:case Lo.GREYSCALE_ALPHA:case Lo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const a=vG(this),r=this.readUint8();if(r!==P3.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const n=this.readBytes(t-a.length-2);this._png.iccEmbeddedProfile={name:a,profile:Nke(n)}}decodepHYs(){const t=this.readUint32(),a=this.readUint32(),r=this.readByte();this._png.resolution={x:t,y:a,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const a={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(t);if(r){if(r.data=yR({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)a.data=r.data;else{const n=this._apng.frames.at(t-1);this.disposeFrame(r,n,a),this.addFrameDataToCanvas(a,r)}this._apng.frames.push(a)}}return this._apng}disposeFrame(t,a,r){switch(t.disposeOp){case h2.NONE:break;case h2.BACKGROUND:for(let n=0;n<this._png.height;n++)for(let i=0;i<this._png.width;i++){const l=(n*t.width+i)*this._png.channels;for(let o=0;o<this._png.channels;o++)r.data[l+o]=0}break;case h2.PREVIOUS:r.data.set(a.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,a){const r=1<<this._png.depth,n=(i,l)=>{const o=((i+a.yOffset)*this._png.width+a.xOffset+l)*this._png.channels,c=(i*a.width+l)*this._png.channels;return{index:o,frameIndex:c}};switch(a.blendOp){case L3.SOURCE:for(let i=0;i<a.height;i++)for(let l=0;l<a.width;l++){const{index:o,frameIndex:c}=n(i,l);for(let d=0;d<this._png.channels;d++)t.data[o+d]=a.data[c+d]}break;case L3.OVER:for(let i=0;i<a.height;i++)for(let l=0;l<a.width;l++){const{index:o,frameIndex:c}=n(i,l);for(let d=0;d<this._png.channels;d++){const u=a.data[c+this._png.channels-1]/r,f=d%(this._png.channels-1)===0?1:a.data[c+d],p=Math.floor(u*f+(1-u)*t.data[o+d]);t.data[o+d]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==jR.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===M3.NO_INTERLACE)this._png.data=yR({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===M3.ADAM7)this._png.data=Dke({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,a=this._frames.at(-1);a?a.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:h2.NONE,blendOp:L3.SOURCE,data:t}),this._inflator=new gR,this._writingDataChunks=!1}}function Gke(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var NR;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(NR||(NR={}));function Kke(e,t){return new qke(e,t).decode()}var Ga=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function O3(){Ga.console&&typeof Ga.console.log=="function"&&Ga.console.log.apply(Ga.console,arguments)}var fr={log:O3,warn:function(e){Ga.console&&(typeof Ga.console.warn=="function"?Ga.console.warn.apply(Ga.console,arguments):O3.call(null,arguments))},error:function(e){Ga.console&&(typeof Ga.console.error=="function"?Ga.console.error.apply(Ga.console,arguments):O3(e))}};function R3(e,t,a){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){F0(r.response,t,a)},r.onerror=function(){fr.error("could not download file")},r.send()}function kR(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function f2(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var F0=Ga.saveAs||((typeof window>"u"?"undefined":tr(window))!=="object"||window!==Ga?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,a){var r=Ga.URL||Ga.webkitURL,n=document.createElement("a");t=t||e.name||"download",n.download=t,n.rel="noopener",typeof e=="string"?(n.href=e,n.origin!==location.origin?kR(n.href)?R3(e,t,a):f2(n,n.target="_blank"):f2(n)):(n.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(n.href)},4e4),setTimeout(function(){f2(n)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,a){if(t=t||e.name||"download",typeof e=="string")if(kR(e))R3(e,t,a);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){f2(r)})}else navigator.msSaveOrOpenBlob((function(n,i){return i===void 0?i={autoBom:!1}:tr(i)!=="object"&&(fr.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob(["\uFEFF",n],{type:n.type}):n})(e,a),t)}:function(e,t,a,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return R3(e,t,a);var n=e.type==="application/octet-stream",i=/constructor/i.test(Ga.HTMLElement)||Ga.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||n&&i)&&(typeof FileReader>"u"?"undefined":tr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=l?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},o.readAsDataURL(e)}else{var c=Ga.URL||Ga.webkitURL,d=c.createObjectURL(e);r?r.location=d:location.href=d,r=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function bG(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var a=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<a.length;r++){var n=a[r].re,i=a[r].process,l=n.exec(e);l&&(t=i(l),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+o+c+d}}var X2=Ga.atob.bind(Ga),SR=Ga.btoa.bind(Ga);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function F3(e,t){var a=e[0],r=e[1],n=e[2],i=e[3];a=il(a,r,n,i,t[0],7,-680876936),i=il(i,a,r,n,t[1],12,-389564586),n=il(n,i,a,r,t[2],17,606105819),r=il(r,n,i,a,t[3],22,-1044525330),a=il(a,r,n,i,t[4],7,-176418897),i=il(i,a,r,n,t[5],12,1200080426),n=il(n,i,a,r,t[6],17,-1473231341),r=il(r,n,i,a,t[7],22,-45705983),a=il(a,r,n,i,t[8],7,1770035416),i=il(i,a,r,n,t[9],12,-1958414417),n=il(n,i,a,r,t[10],17,-42063),r=il(r,n,i,a,t[11],22,-1990404162),a=il(a,r,n,i,t[12],7,1804603682),i=il(i,a,r,n,t[13],12,-40341101),n=il(n,i,a,r,t[14],17,-1502002290),a=ll(a,r=il(r,n,i,a,t[15],22,1236535329),n,i,t[1],5,-165796510),i=ll(i,a,r,n,t[6],9,-1069501632),n=ll(n,i,a,r,t[11],14,643717713),r=ll(r,n,i,a,t[0],20,-373897302),a=ll(a,r,n,i,t[5],5,-701558691),i=ll(i,a,r,n,t[10],9,38016083),n=ll(n,i,a,r,t[15],14,-660478335),r=ll(r,n,i,a,t[4],20,-405537848),a=ll(a,r,n,i,t[9],5,568446438),i=ll(i,a,r,n,t[14],9,-1019803690),n=ll(n,i,a,r,t[3],14,-187363961),r=ll(r,n,i,a,t[8],20,1163531501),a=ll(a,r,n,i,t[13],5,-1444681467),i=ll(i,a,r,n,t[2],9,-51403784),n=ll(n,i,a,r,t[7],14,1735328473),a=ol(a,r=ll(r,n,i,a,t[12],20,-1926607734),n,i,t[5],4,-378558),i=ol(i,a,r,n,t[8],11,-2022574463),n=ol(n,i,a,r,t[11],16,1839030562),r=ol(r,n,i,a,t[14],23,-35309556),a=ol(a,r,n,i,t[1],4,-1530992060),i=ol(i,a,r,n,t[4],11,1272893353),n=ol(n,i,a,r,t[7],16,-155497632),r=ol(r,n,i,a,t[10],23,-1094730640),a=ol(a,r,n,i,t[13],4,681279174),i=ol(i,a,r,n,t[0],11,-358537222),n=ol(n,i,a,r,t[3],16,-722521979),r=ol(r,n,i,a,t[6],23,76029189),a=ol(a,r,n,i,t[9],4,-640364487),i=ol(i,a,r,n,t[12],11,-421815835),n=ol(n,i,a,r,t[15],16,530742520),a=cl(a,r=ol(r,n,i,a,t[2],23,-995338651),n,i,t[0],6,-198630844),i=cl(i,a,r,n,t[7],10,1126891415),n=cl(n,i,a,r,t[14],15,-1416354905),r=cl(r,n,i,a,t[5],21,-57434055),a=cl(a,r,n,i,t[12],6,1700485571),i=cl(i,a,r,n,t[3],10,-1894986606),n=cl(n,i,a,r,t[10],15,-1051523),r=cl(r,n,i,a,t[1],21,-2054922799),a=cl(a,r,n,i,t[8],6,1873313359),i=cl(i,a,r,n,t[15],10,-30611744),n=cl(n,i,a,r,t[6],15,-1560198380),r=cl(r,n,i,a,t[13],21,1309151649),a=cl(a,r,n,i,t[4],6,-145523070),i=cl(i,a,r,n,t[11],10,-1120210379),n=cl(n,i,a,r,t[2],15,718787259),r=cl(r,n,i,a,t[9],21,-343485551),e[0]=_f(a,e[0]),e[1]=_f(r,e[1]),e[2]=_f(n,e[2]),e[3]=_f(i,e[3])}function pN(e,t,a,r,n,i){return t=_f(_f(t,e),_f(r,i)),_f(t<<n|t>>>32-n,a)}function il(e,t,a,r,n,i,l){return pN(t&a|~t&r,e,t,n,i,l)}function ll(e,t,a,r,n,i,l){return pN(t&r|a&~r,e,t,n,i,l)}function ol(e,t,a,r,n,i,l){return pN(t^a^r,e,t,n,i,l)}function cl(e,t,a,r,n,i,l){return pN(a^(t|~r),e,t,n,i,l)}function yG(e){var t,a=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)F3(r,Yke(e.substring(t-64,t)));e=e.substring(t-64);var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)n[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(n[t>>2]|=128<<(t%4<<3),t>55)for(F3(r,n),t=0;t<16;t++)n[t]=0;return n[14]=8*a,F3(r,n),r}function Yke(e){var t,a=[];for(t=0;t<64;t+=4)a[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return a}var CR="0123456789abcdef".split("");function Xke(e){for(var t="",a=0;a<4;a++)t+=CR[e>>8*a+4&15]+CR[e>>8*a&15];return t}function Jke(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function qC(e){return yG(e).map(Jke).join("")}var Qke=(function(e){for(var t=0;t<e.length;t++)e[t]=Xke(e[t]);return e.join("")})(yG("hello"))!="5d41402abc4b2a76b9719d911017c592";function _f(e,t){if(Qke){var a=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(a>>16)<<16|65535&a}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function GC(e,t){var a,r,n,i;if(e!==a){for(var l=(n=e,i=1+(256/e.length|0),new Array(i+1).join(n)),o=[],c=0;c<256;c++)o[c]=c;var d=0;for(c=0;c<256;c++){var u=o[c];d=(d+u+l.charCodeAt(c))%256,o[c]=o[d],o[d]=u}a=e,r=o}else o=r;var f=t.length,p=0,m=0,v="";for(c=0;c<f;c++)m=(m+(u=o[p=(p+1)%256]))%256,o[p]=o[m],o[m]=u,l=o[(o[p]+o[m])%256],v+=String.fromCharCode(t.charCodeAt(c)^l);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var AR={print:4,modify:8,copy:16,"annot-forms":32};function Hp(e,t,a,r){this.v=1,this.r=2;var n=192;e.forEach(function(o){if(AR.perm!==void 0)throw new Error("Invalid permission: "+o);n+=AR[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),l=(a+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,l),this.P=-(1+(255^n)),this.encryptionKey=qC(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=GC(this.encryptionKey,this.padding)}function Vp(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",a=e.length,r=0;r<a;r++){var n=e.charCodeAt(r);t+=n<33||n===35||n===37||n===40||n===41||n===47||n===60||n===62||n===91||n===93||n===123||n===125||n>126?"#"+("0"+n.toString(16)).slice(-2):e[r]}return t}function _R(e){if(tr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(a,r,n){if(n=n||!1,typeof a!="string"||typeof r!="function"||typeof n!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(a)||(t[a]={});var i=Math.random().toString(35);return t[a][i]=[r,!!n],i},this.unsubscribe=function(a){for(var r in t)if(t[r][a])return delete t[r][a],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(a){if(t.hasOwnProperty(a)){var r=Array.prototype.slice.call(arguments,1),n=[];for(var i in t[a]){var l=t[a][i];try{l[0].apply(e,r)}catch(o){Ga.console&&fr.error("jsPDF PubSub Error",o.message,o)}l[1]&&n.push(i)}n.length&&n.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function A1(e){if(!(this instanceof A1))return new A1(e);var t="opacity,stroke-opacity".split(",");for(var a in e)e.hasOwnProperty(a)&&t.indexOf(a)>=0&&(this[a]=e[a]);this.id="",this.objectNumber=-1}function wG(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function wf(e,t,a,r,n){if(!(this instanceof wf))return new wf(e,t,a,r,n);this.type=e==="axial"?2:3,this.coords=t,this.colors=a,wG.call(this,r,n)}function G0(e,t,a,r,n){if(!(this instanceof G0))return new G0(e,t,a,r,n);this.boundingBox=e,this.xStep=t,this.yStep=a,this.stream="",this.cloneIndex=0,wG.call(this,r,n)}function ga(e){var t,a=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],n=arguments[2],i=arguments[3],l=[],o=1,c=16,d="S",u=null;tr(e=e||{})==="object"&&(a=e.orientation,r=e.unit||r,n=e.format||n,i=e.compress||e.compressPdf||i,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),d=e.defaultPathOperation||"S"),l=e.filters||(i===!0?["FlateEncode"]:l),r=r||"mm",a=(""+(a||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,p={},m={internal:{},__private__:{}};m.__private__.PubSub=_R;var v="1.3",g=m.__private__.getPdfVersion=function(){return v};m.__private__.setPdfVersion=function(Y){v=Y};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return b};var j=m.__private__.getPageFormat=function(Y){return b[Y]};n=n||"a4";var k="compat",S="advanced",N=k;function A(){this.saveGraphicsState(),ae(new oa(ht,0,0,-ht,0,Nu()*ht).toString()+" cm"),this.setFontSize(this.getFontSize()/ht),d="n",N=S}function _(){this.restoreGraphicsState(),d="S",N=k}var E=m.__private__.combineFontStyleAndFontWeight=function(Y,he){if(Y=="bold"&&he=="normal"||Y=="bold"&&he==400||Y=="normal"&&he=="italic"||Y=="bold"&&he=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return he&&(Y=he==400||he==="normal"?Y==="italic"?"italic":"normal":he!=700&&he!=="bold"||Y!=="normal"?(he==700?"bold":he)+""+Y:"bold"),Y};m.advancedAPI=function(Y){var he=N===k;return he&&A.call(this),typeof Y!="function"||(Y(this),he&&_.call(this)),this},m.compatAPI=function(Y){var he=N===S;return he&&_.call(this),typeof Y!="function"||(Y(this),he&&A.call(this)),this},m.isAdvancedAPI=function(){return N===S};var D,R=function(Y){if(N!==S)throw new Error(Y+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},I=m.roundToPrecision=m.__private__.roundToPrecision=function(Y,he){var Oe=t||he;if(isNaN(Y)||isNaN(Oe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return Y.toFixed(Oe).replace(/0+$/,"")};D=m.hpf=m.__private__.hpf=typeof c=="number"?function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.hpf");return I(Y,c)}:c==="smart"?function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.hpf");return I(Y,Y>-1&&Y<1?16:5)}:function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.hpf");return I(Y,16)};var M=m.f2=m.__private__.f2=function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.f2");return I(Y,2)},U=m.__private__.f3=function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.f3");return I(Y,3)},P=m.scale=m.__private__.scale=function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.scale");return N===k?Y*ht:N===S?Y:void 0},F=function(Y){return P((function(he){return N===k?Nu()-he:N===S?he:void 0})(Y))};m.__private__.setPrecision=m.setPrecision=function(Y){typeof parseInt(Y,10)=="number"&&(t=parseInt(Y,10))};var K,V="00000000000000000000000000000000",J=m.__private__.getFileId=function(){return V},Q=m.__private__.setFileId=function(Y){return V=Y!==void 0&&/^[a-fA-F0-9]{32}$/.test(Y)?Y.toUpperCase():V.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(bs=new Hp(u.userPermissions,u.userPassword,u.ownerPassword,V)),V};m.setFileId=function(Y){return Q(Y),this},m.getFileId=function(){return J()};var z=m.__private__.convertDateToPDFDate=function(Y){var he=Y.getTimezoneOffset(),Oe=he<0?"+":"-",Ue=Math.floor(Math.abs(he/60)),Je=Math.abs(he%60),_t=[Oe,W(Ue),"'",W(Je),"'"].join("");return["D:",Y.getFullYear(),W(Y.getMonth()+1),W(Y.getDate()),W(Y.getHours()),W(Y.getMinutes()),W(Y.getSeconds()),_t].join("")},X=m.__private__.convertPDFDateToDate=function(Y){var he=parseInt(Y.substr(2,4),10),Oe=parseInt(Y.substr(6,2),10)-1,Ue=parseInt(Y.substr(8,2),10),Je=parseInt(Y.substr(10,2),10),_t=parseInt(Y.substr(12,2),10),zt=parseInt(Y.substr(14,2),10);return new Date(he,Oe,Ue,Je,_t,zt,0)},le=m.__private__.setCreationDate=function(Y){var he;if(Y===void 0&&(Y=new Date),Y instanceof Date)he=z(Y);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(Y))throw new Error("Invalid argument passed to jsPDF.setCreationDate");he=Y}return K=he},O=m.__private__.getCreationDate=function(Y){var he=K;return Y==="jsDate"&&(he=X(K)),he};m.setCreationDate=function(Y){return le(Y),this},m.getCreationDate=function(Y){return O(Y)};var q,W=m.__private__.padd2=function(Y){return("0"+parseInt(Y)).slice(-2)},te=m.__private__.padd2Hex=function(Y){return("00"+(Y=Y.toString())).substr(Y.length)},re=0,oe=[],ce=[],G=0,ie=[],ye=[],se=!1,Ie=ce;m.__private__.setCustomOutputDestination=function(Y){se=!0,Ie=Y};var pe=function(Y){se||(Ie=Y)};m.__private__.resetCustomOutputDestination=function(){se=!1,Ie=ce};var ae=m.__private__.out=function(Y){return Y=Y.toString(),G+=Y.length+1,Ie.push(Y),Ie},ge=m.__private__.write=function(Y){return ae(arguments.length===1?Y.toString():Array.prototype.join.call(arguments," "))},Re=m.__private__.getArrayBuffer=function(Y){for(var he=Y.length,Oe=new ArrayBuffer(he),Ue=new Uint8Array(Oe);he--;)Ue[he]=Y.charCodeAt(he);return Oe},ue=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return ue};var Z=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(Y){return Z=N===S?Y/ht:Y,this};var Se,Ne=m.__private__.getFontSize=m.getFontSize=function(){return N===k?Z:Z*ht},Ye=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(Y){return Ye=Y,this},m.__private__.getR2L=m.getR2L=function(){return Ye};var gt,qt=m.__private__.setZoomMode=function(Y){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(Y))Se=Y;else if(isNaN(Y)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(Y)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+Y+'" is not recognized.');Se=Y}else Se=parseInt(Y,10)};m.__private__.getZoomMode=function(){return Se};var at,$t=m.__private__.setPageMode=function(Y){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(Y)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+Y+'" is not recognized.');gt=Y};m.__private__.getPageMode=function(){return gt};var ze=m.__private__.setLayoutMode=function(Y){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(Y)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+Y+'" is not recognized.');at=Y};m.__private__.getLayoutMode=function(){return at},m.__private__.setDisplayMode=m.setDisplayMode=function(Y,he,Oe){return qt(Y),ze(he),$t(Oe),this};var Ke={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(Y){if(Object.keys(Ke).indexOf(Y)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ke[Y]},m.__private__.getDocumentProperties=function(){return Ke},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(Y){for(var he in Ke)Ke.hasOwnProperty(he)&&Y[he]&&(Ke[he]=Y[he]);return this},m.__private__.setDocumentProperty=function(Y,he){if(Object.keys(Ke).indexOf(Y)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ke[Y]=he};var Ze,ht,At,Mt,Pt,Gt={},Ae={},Tt=[],We={},Ot={},Rt={},na={},pt=null,lt=0,dt=[],mt=new _R(m),ut=e.hotfixes||[],ra={},Aa={},ua=[],oa=function Y(he,Oe,Ue,Je,_t,zt){if(!(this instanceof Y))return new Y(he,Oe,Ue,Je,_t,zt);isNaN(he)&&(he=1),isNaN(Oe)&&(Oe=0),isNaN(Ue)&&(Ue=0),isNaN(Je)&&(Je=1),isNaN(_t)&&(_t=0),isNaN(zt)&&(zt=0),this._matrix=[he,Oe,Ue,Je,_t,zt]};Object.defineProperty(oa.prototype,"sx",{get:function(){return this._matrix[0]},set:function(Y){this._matrix[0]=Y}}),Object.defineProperty(oa.prototype,"shy",{get:function(){return this._matrix[1]},set:function(Y){this._matrix[1]=Y}}),Object.defineProperty(oa.prototype,"shx",{get:function(){return this._matrix[2]},set:function(Y){this._matrix[2]=Y}}),Object.defineProperty(oa.prototype,"sy",{get:function(){return this._matrix[3]},set:function(Y){this._matrix[3]=Y}}),Object.defineProperty(oa.prototype,"tx",{get:function(){return this._matrix[4]},set:function(Y){this._matrix[4]=Y}}),Object.defineProperty(oa.prototype,"ty",{get:function(){return this._matrix[5]},set:function(Y){this._matrix[5]=Y}}),Object.defineProperty(oa.prototype,"a",{get:function(){return this._matrix[0]},set:function(Y){this._matrix[0]=Y}}),Object.defineProperty(oa.prototype,"b",{get:function(){return this._matrix[1]},set:function(Y){this._matrix[1]=Y}}),Object.defineProperty(oa.prototype,"c",{get:function(){return this._matrix[2]},set:function(Y){this._matrix[2]=Y}}),Object.defineProperty(oa.prototype,"d",{get:function(){return this._matrix[3]},set:function(Y){this._matrix[3]=Y}}),Object.defineProperty(oa.prototype,"e",{get:function(){return this._matrix[4]},set:function(Y){this._matrix[4]=Y}}),Object.defineProperty(oa.prototype,"f",{get:function(){return this._matrix[5]},set:function(Y){this._matrix[5]=Y}}),Object.defineProperty(oa.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(oa.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(oa.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(oa.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),oa.prototype.join=function(Y){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(Y)},oa.prototype.multiply=function(Y){var he=Y.sx*this.sx+Y.shy*this.shx,Oe=Y.sx*this.shy+Y.shy*this.sy,Ue=Y.shx*this.sx+Y.sy*this.shx,Je=Y.shx*this.shy+Y.sy*this.sy,_t=Y.tx*this.sx+Y.ty*this.shx+this.tx,zt=Y.tx*this.shy+Y.ty*this.sy+this.ty;return new oa(he,Oe,Ue,Je,_t,zt)},oa.prototype.decompose=function(){var Y=this.sx,he=this.shy,Oe=this.shx,Ue=this.sy,Je=this.tx,_t=this.ty,zt=Math.sqrt(Y*Y+he*he),ca=(Y/=zt)*Oe+(he/=zt)*Ue;Oe-=Y*ca,Ue-=he*ca;var ba=Math.sqrt(Oe*Oe+Ue*Ue);return ca/=ba,Y*(Ue/=ba)<he*(Oe/=ba)&&(Y=-Y,he=-he,ca=-ca,zt=-zt),{scale:new oa(zt,0,0,ba,0,0),translate:new oa(1,0,0,1,Je,_t),rotate:new oa(Y,he,-he,Y,0,0),skew:new oa(1,0,ca,1,0,0)}},oa.prototype.toString=function(Y){return this.join(" ")},oa.prototype.inversed=function(){var Y=this.sx,he=this.shy,Oe=this.shx,Ue=this.sy,Je=this.tx,_t=this.ty,zt=1/(Y*Ue-he*Oe),ca=Ue*zt,ba=-he*zt,Ia=-Oe*zt,Ka=Y*zt;return new oa(ca,ba,Ia,Ka,-ca*Je-Ia*_t,-ba*Je-Ka*_t)},oa.prototype.applyToPoint=function(Y){var he=Y.x*this.sx+Y.y*this.shx+this.tx,Oe=Y.x*this.shy+Y.y*this.sy+this.ty;return new No(he,Oe)},oa.prototype.applyToRectangle=function(Y){var he=this.applyToPoint(Y),Oe=this.applyToPoint(new No(Y.x+Y.w,Y.y+Y.h));return new ko(he.x,he.y,Oe.x-he.x,Oe.y-he.y)},oa.prototype.clone=function(){var Y=this.sx,he=this.shy,Oe=this.shx,Ue=this.sy,Je=this.tx,_t=this.ty;return new oa(Y,he,Oe,Ue,Je,_t)},m.Matrix=oa;var _s=m.matrixMult=function(Y,he){return he.multiply(Y)},ps=new oa(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=ps;var Fe=function(Y,he){if(!Ot[Y]){var Oe=(he instanceof wf?"Sh":"P")+(Object.keys(We).length+1).toString(10);he.id=Oe,Ot[Y]=Oe,We[Oe]=he,mt.publish("addPattern",he)}};m.ShadingPattern=wf,m.TilingPattern=G0,m.addShadingPattern=function(Y,he){return R("addShadingPattern()"),Fe(Y,he),this},m.beginTilingPattern=function(Y){R("beginTilingPattern()"),So(Y.boundingBox[0],Y.boundingBox[1],Y.boundingBox[2]-Y.boundingBox[0],Y.boundingBox[3]-Y.boundingBox[1],Y.matrix)},m.endTilingPattern=function(Y,he){R("endTilingPattern()"),he.stream=ye[q].join(`
`),Fe(Y,he),mt.publish("endTilingPattern",he),ua.pop().restore()};var Ha,is=m.__private__.newObject=function(){var Y=us();return me(Y,!0),Y},us=m.__private__.newObjectDeferred=function(){return re++,oe[re]=function(){return G},re},me=function(Y,he){return he=typeof he=="boolean"&&he,oe[Y]=G,he&&ae(Y+" 0 obj"),Y},De=m.__private__.newAdditionalObject=function(){var Y={objId:us(),content:""};return ie.push(Y),Y},ke=us(),_e=us(),Te=m.__private__.decodeColorString=function(Y){var he=Y.split(" ");if(he.length!==2||he[1]!=="g"&&he[1]!=="G")he.length!==5||he[4]!=="k"&&he[4]!=="K"||(he=[(1-he[0])*(1-he[3]),(1-he[1])*(1-he[3]),(1-he[2])*(1-he[3]),"r"]);else{var Oe=parseFloat(he[0]);he=[Oe,Oe,Oe,"r"]}for(var Ue="#",Je=0;Je<3;Je++)Ue+=("0"+Math.floor(255*parseFloat(he[Je])).toString(16)).slice(-2);return Ue},Me=m.__private__.encodeColorString=function(Y){var he;typeof Y=="string"&&(Y={ch1:Y});var Oe=Y.ch1,Ue=Y.ch2,Je=Y.ch3,_t=Y.ch4,zt=Y.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Oe=="string"&&Oe.charAt(0)!=="#"){var ca=new bG(Oe);if(ca.ok)Oe=ca.toHex();else if(!/^\d*\.?\d*$/.test(Oe))throw new Error('Invalid color "'+Oe+'" passed to jsPDF.encodeColorString.')}if(typeof Oe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Oe)&&(Oe="#"+Oe[1]+Oe[1]+Oe[2]+Oe[2]+Oe[3]+Oe[3]),typeof Oe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Oe)){var ba=parseInt(Oe.substr(1),16);Oe=ba>>16&255,Ue=ba>>8&255,Je=255&ba}if(Ue===void 0||_t===void 0&&Oe===Ue&&Ue===Je)he=typeof Oe=="string"?Oe+" "+zt[0]:Y.precision===2?M(Oe/255)+" "+zt[0]:U(Oe/255)+" "+zt[0];else if(_t===void 0||tr(_t)==="object"){if(_t&&!isNaN(_t.a)&&_t.a===0)return["1.","1.","1.",zt[1]].join(" ");he=typeof Oe=="string"?[Oe,Ue,Je,zt[1]].join(" "):Y.precision===2?[M(Oe/255),M(Ue/255),M(Je/255),zt[1]].join(" "):[U(Oe/255),U(Ue/255),U(Je/255),zt[1]].join(" ")}else he=typeof Oe=="string"?[Oe,Ue,Je,_t,zt[2]].join(" "):Y.precision===2?[M(Oe),M(Ue),M(Je),M(_t),zt[2]].join(" "):[U(Oe),U(Ue),U(Je),U(_t),zt[2]].join(" ");return he},Qe=m.__private__.getFilters=function(){return l},vt=m.__private__.putStream=function(Y){var he=(Y=Y||{}).data||"",Oe=Y.filters||Qe(),Ue=Y.alreadyAppliedFilters||[],Je=Y.addLength1||!1,_t=he.length,zt=Y.objectId,ca=function(wn){return wn};if(u!==null&&zt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(ca=bs.encryptor(zt,0));var ba={};Oe===!0&&(Oe=["FlateEncode"]);var Ia=Y.additionalKeyValues||[],Ka=(ba=ga.API.processDataByFilters!==void 0?ga.API.processDataByFilters(he,Oe):{data:he,reverseChain:[]}).reverseChain+(Array.isArray(Ue)?Ue.join(" "):Ue.toString());if(ba.data.length!==0&&(Ia.push({key:"Length",value:ba.data.length}),Je===!0&&Ia.push({key:"Length1",value:_t})),Ka.length!=0)if(Ka.split("/").length-1==1)Ia.push({key:"Filter",value:Ka});else{Ia.push({key:"Filter",value:"["+Ka+"]"});for(var Es=0;Es<Ia.length;Es+=1)if(Ia[Es].key==="DecodeParms"){for(var br=[],on=0;on<ba.reverseChain.split("/").length-1;on+=1)br.push("null");br.push(Ia[Es].value),Ia[Es].value="["+br.join(" ")+"]"}}ae("<<");for(var sr=0;sr<Ia.length;sr++)ae("/"+Ia[sr].key+" "+Ia[sr].value);ae(">>"),ba.data.length!==0&&(ae("stream"),ae(ca(ba.data)),ae("endstream"))},qe=m.__private__.putPage=function(Y){var he=Y.number,Oe=Y.data,Ue=Y.objId,Je=Y.contentsObjId;me(Ue,!0),ae("<</Type /Page"),ae("/Parent "+Y.rootDictionaryObjId+" 0 R"),ae("/Resources "+Y.resourceDictionaryObjId+" 0 R"),ae("/MediaBox ["+parseFloat(D(Y.mediaBox.bottomLeftX))+" "+parseFloat(D(Y.mediaBox.bottomLeftY))+" "+D(Y.mediaBox.topRightX)+" "+D(Y.mediaBox.topRightY)+"]"),Y.cropBox!==null&&ae("/CropBox ["+D(Y.cropBox.bottomLeftX)+" "+D(Y.cropBox.bottomLeftY)+" "+D(Y.cropBox.topRightX)+" "+D(Y.cropBox.topRightY)+"]"),Y.bleedBox!==null&&ae("/BleedBox ["+D(Y.bleedBox.bottomLeftX)+" "+D(Y.bleedBox.bottomLeftY)+" "+D(Y.bleedBox.topRightX)+" "+D(Y.bleedBox.topRightY)+"]"),Y.trimBox!==null&&ae("/TrimBox ["+D(Y.trimBox.bottomLeftX)+" "+D(Y.trimBox.bottomLeftY)+" "+D(Y.trimBox.topRightX)+" "+D(Y.trimBox.topRightY)+"]"),Y.artBox!==null&&ae("/ArtBox ["+D(Y.artBox.bottomLeftX)+" "+D(Y.artBox.bottomLeftY)+" "+D(Y.artBox.topRightX)+" "+D(Y.artBox.topRightY)+"]"),typeof Y.userUnit=="number"&&Y.userUnit!==1&&ae("/UserUnit "+Y.userUnit),mt.publish("putPage",{objId:Ue,pageContext:dt[he],pageNumber:he,page:Oe}),ae("/Contents "+Je+" 0 R"),ae(">>"),ae("endobj");var _t=Oe.join(`
`);return N===S&&(_t+=`
Q`),me(Je,!0),vt({data:_t,filters:Qe(),objectId:Je}),ae("endobj"),Ue},st=m.__private__.putPages=function(){var Y,he,Oe=[];for(Y=1;Y<=lt;Y++)dt[Y].objId=us(),dt[Y].contentsObjId=us();for(Y=1;Y<=lt;Y++)Oe.push(qe({number:Y,data:ye[Y],objId:dt[Y].objId,contentsObjId:dt[Y].contentsObjId,mediaBox:dt[Y].mediaBox,cropBox:dt[Y].cropBox,bleedBox:dt[Y].bleedBox,trimBox:dt[Y].trimBox,artBox:dt[Y].artBox,userUnit:dt[Y].userUnit,rootDictionaryObjId:ke,resourceDictionaryObjId:_e}));me(ke,!0),ae("<</Type /Pages");var Ue="/Kids [";for(he=0;he<lt;he++)Ue+=Oe[he]+" 0 R ";ae(Ue+"]"),ae("/Count "+lt),ae(">>"),ae("endobj"),mt.publish("postPutPages")},it=function(Y){mt.publish("putFont",{font:Y,out:ae,newObject:is,putStream:vt}),Y.isAlreadyPutted!==!0&&(Y.objectNumber=is(),ae("<<"),ae("/Type /Font"),ae("/BaseFont /"+Vp(Y.postScriptName)),ae("/Subtype /Type1"),typeof Y.encoding=="string"&&ae("/Encoding /"+Y.encoding),ae("/FirstChar 32"),ae("/LastChar 255"),ae(">>"),ae("endobj"))},Ft=function(Y){Y.objectNumber=is();var he=[];he.push({key:"Type",value:"/XObject"}),he.push({key:"Subtype",value:"/Form"}),he.push({key:"BBox",value:"["+[D(Y.x),D(Y.y),D(Y.x+Y.width),D(Y.y+Y.height)].join(" ")+"]"}),he.push({key:"Matrix",value:"["+Y.matrix.toString()+"]"});var Oe=Y.pages[1].join(`
`);vt({data:Oe,additionalKeyValues:he,objectId:Y.objectNumber}),ae("endobj")},Yt=function(Y,he){he||(he=21);var Oe=is(),Ue=(function(zt,ca){var ba,Ia=[],Ka=1/(ca-1);for(ba=0;ba<1;ba+=Ka)Ia.push(ba);if(Ia.push(1),zt[0].offset!=0){var Es={offset:0,color:zt[0].color};zt.unshift(Es)}if(zt[zt.length-1].offset!=1){var br={offset:1,color:zt[zt.length-1].color};zt.push(br)}for(var on="",sr=0,wn=0;wn<Ia.length;wn++){for(ba=Ia[wn];ba>zt[sr+1].offset;)sr++;var cn=zt[sr].offset,ti=(ba-cn)/(zt[sr+1].offset-cn),Jl=zt[sr].color,tl=zt[sr+1].color;on+=te(Math.round((1-ti)*Jl[0]+ti*tl[0]).toString(16))+te(Math.round((1-ti)*Jl[1]+ti*tl[1]).toString(16))+te(Math.round((1-ti)*Jl[2]+ti*tl[2]).toString(16))}return on.trim()})(Y.colors,he),Je=[];Je.push({key:"FunctionType",value:"0"}),Je.push({key:"Domain",value:"[0.0 1.0]"}),Je.push({key:"Size",value:"["+he+"]"}),Je.push({key:"BitsPerSample",value:"8"}),Je.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Je.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),vt({data:Ue,additionalKeyValues:Je,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Oe}),ae("endobj"),Y.objectNumber=is(),ae("<< /ShadingType "+Y.type),ae("/ColorSpace /DeviceRGB");var _t="/Coords ["+D(parseFloat(Y.coords[0]))+" "+D(parseFloat(Y.coords[1]))+" ";Y.type===2?_t+=D(parseFloat(Y.coords[2]))+" "+D(parseFloat(Y.coords[3])):_t+=D(parseFloat(Y.coords[2]))+" "+D(parseFloat(Y.coords[3]))+" "+D(parseFloat(Y.coords[4]))+" "+D(parseFloat(Y.coords[5])),ae(_t+="]"),Y.matrix&&ae("/Matrix ["+Y.matrix.toString()+"]"),ae("/Function "+Oe+" 0 R"),ae("/Extend [true true]"),ae(">>"),ae("endobj")},ea=function(Y,he){var Oe=us(),Ue=is();he.push({resourcesOid:Oe,objectOid:Ue}),Y.objectNumber=Ue;var Je=[];Je.push({key:"Type",value:"/Pattern"}),Je.push({key:"PatternType",value:"1"}),Je.push({key:"PaintType",value:"1"}),Je.push({key:"TilingType",value:"1"}),Je.push({key:"BBox",value:"["+Y.boundingBox.map(D).join(" ")+"]"}),Je.push({key:"XStep",value:D(Y.xStep)}),Je.push({key:"YStep",value:D(Y.yStep)}),Je.push({key:"Resources",value:Oe+" 0 R"}),Y.matrix&&Je.push({key:"Matrix",value:"["+Y.matrix.toString()+"]"}),vt({data:Y.stream,additionalKeyValues:Je,objectId:Y.objectNumber}),ae("endobj")},Kt=function(Y){for(var he in Y.objectNumber=is(),ae("<<"),Y)switch(he){case"opacity":ae("/ca "+M(Y[he]));break;case"stroke-opacity":ae("/CA "+M(Y[he]))}ae(">>"),ae("endobj")},Xt=function(Y){me(Y.resourcesOid,!0),ae("<<"),ae("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var he in ae("/Font <<"),Gt)Gt.hasOwnProperty(he)&&(f===!1||f===!0&&p.hasOwnProperty(he))&&ae("/"+he+" "+Gt[he].objectNumber+" 0 R");ae(">>")})(),(function(){if(Object.keys(We).length>0){for(var he in ae("/Shading <<"),We)We.hasOwnProperty(he)&&We[he]instanceof wf&&We[he].objectNumber>=0&&ae("/"+he+" "+We[he].objectNumber+" 0 R");mt.publish("putShadingPatternDict"),ae(">>")}})(),(function(he){if(Object.keys(We).length>0){for(var Oe in ae("/Pattern <<"),We)We.hasOwnProperty(Oe)&&We[Oe]instanceof m.TilingPattern&&We[Oe].objectNumber>=0&&We[Oe].objectNumber<he&&ae("/"+Oe+" "+We[Oe].objectNumber+" 0 R");mt.publish("putTilingPatternDict"),ae(">>")}})(Y.objectOid),(function(){if(Object.keys(Rt).length>0){var he;for(he in ae("/ExtGState <<"),Rt)Rt.hasOwnProperty(he)&&Rt[he].objectNumber>=0&&ae("/"+he+" "+Rt[he].objectNumber+" 0 R");mt.publish("putGStateDict"),ae(">>")}})(),(function(){for(var he in ae("/XObject <<"),ra)ra.hasOwnProperty(he)&&ra[he].objectNumber>=0&&ae("/"+he+" "+ra[he].objectNumber+" 0 R");mt.publish("putXobjectDict"),ae(">>")})(),ae(">>"),ae("endobj")},ya=function(Y){Ae[Y.fontName]=Ae[Y.fontName]||{},Ae[Y.fontName][Y.fontStyle]=Y.id},cs=function(Y,he,Oe,Ue,Je){var _t={id:"F"+(Object.keys(Gt).length+1).toString(10),postScriptName:Y,fontName:he,fontStyle:Oe,encoding:Ue,isStandardFont:Je||!1,metadata:{}};return mt.publish("addFont",{font:_t,instance:this}),Gt[_t.id]=_t,ya(_t),_t.id},wa=m.__private__.pdfEscape=m.pdfEscape=function(Y,he){return(function(Oe,Ue){var Je,_t,zt,ca,ba,Ia,Ka,Es,br;if(zt=(Ue=Ue||{}).sourceEncoding||"Unicode",ba=Ue.outputEncoding,(Ue.autoencode||ba)&&Gt[Ze].metadata&&Gt[Ze].metadata[zt]&&Gt[Ze].metadata[zt].encoding&&(ca=Gt[Ze].metadata[zt].encoding,!ba&&Gt[Ze].encoding&&(ba=Gt[Ze].encoding),!ba&&ca.codePages&&(ba=ca.codePages[0]),typeof ba=="string"&&(ba=ca[ba]),ba)){for(Ka=!1,Ia=[],Je=0,_t=Oe.length;Je<_t;Je++)(Es=ba[Oe.charCodeAt(Je)])?Ia.push(String.fromCharCode(Es)):Ia.push(Oe[Je]),Ia[Je].charCodeAt(0)>>8&&(Ka=!0);Oe=Ia.join("")}for(Je=Oe.length;Ka===void 0&&Je!==0;)Oe.charCodeAt(Je-1)>>8&&(Ka=!0),Je--;if(!Ka)return Oe;for(Ia=Ue.noBOM?[]:[254,255],Je=0,_t=Oe.length;Je<_t;Je++){if((br=(Es=Oe.charCodeAt(Je))>>8)>>8)throw new Error("Character at position "+Je+" of string '"+Oe+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ia.push(br),Ia.push(Es-(br<<8))}return String.fromCharCode.apply(void 0,Ia)})(Y,he).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},La=m.__private__.beginPage=function(Y){ye[++lt]=[],dt[lt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(Y[0]),topRightY:Number(Y[1])}},Ra(lt),pe(ye[q])},an=function(Y,he){var Oe,Ue,Je;switch(a=he||a,typeof Y=="string"&&(Oe=j(Y.toLowerCase()),Array.isArray(Oe)&&(Ue=Oe[0],Je=Oe[1])),Array.isArray(Y)&&(Ue=Y[0]*ht,Je=Y[1]*ht),isNaN(Ue)&&(Ue=n[0],Je=n[1]),(Ue>14400||Je>14400)&&(fr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ue=Math.min(14400,Ue),Je=Math.min(14400,Je)),n=[Ue,Je],a.substr(0,1)){case"l":Je>Ue&&(n=[Je,Ue]);break;case"p":Ue>Je&&(n=[Je,Ue])}La(n),Dt(we),ae(ln),Oi!==0&&ae(Oi+" J"),Xl!==0&&ae(Xl+" j"),mt.publish("addPage",{pageNumber:lt})},Jn=function(Y){Y>0&&Y<=lt&&(ye.splice(Y,1),dt.splice(Y,1),lt--,q>lt&&(q=lt),this.setPage(q))},Ra=function(Y){Y>0&&Y<=lt&&(q=Y)},Ps=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return ye.length-1},Zi=function(Y,he,Oe){var Ue,Je=void 0;return Oe=Oe||{},Y=Y!==void 0?Y:Gt[Ze].fontName,he=he!==void 0?he:Gt[Ze].fontStyle,Ue=Y.toLowerCase(),Ae[Ue]!==void 0&&Ae[Ue][he]!==void 0?Je=Ae[Ue][he]:Ae[Y]!==void 0&&Ae[Y][he]!==void 0?Je=Ae[Y][he]:Oe.disableWarning===!1&&fr.warn("Unable to look up font label for font '"+Y+"', '"+he+"'. Refer to getFontList() for available fonts."),Je||Oe.noFallback||(Je=Ae.times[he])==null&&(Je=Ae.times.normal),Je},sn=m.__private__.putInfo=function(){var Y=is(),he=function(Ue){return Ue};for(var Oe in u!==null&&(he=bs.encryptor(Y,0)),ae("<<"),ae("/Producer ("+wa(he("jsPDF "+ga.version))+")"),Ke)Ke.hasOwnProperty(Oe)&&Ke[Oe]&&ae("/"+Oe.substr(0,1).toUpperCase()+Oe.substr(1)+" ("+wa(he(Ke[Oe]))+")");ae("/CreationDate ("+wa(he(K))+")"),ae(">>"),ae("endobj")},Gs=m.__private__.putCatalog=function(Y){var he=(Y=Y||{}).rootDictionaryObjId||ke;switch(is(),ae("<<"),ae("/Type /Catalog"),ae("/Pages "+he+" 0 R"),Se||(Se="fullwidth"),Se){case"fullwidth":ae("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ae("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ae("/OpenAction [3 0 R /Fit]");break;case"original":ae("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Oe=""+Se;Oe.substr(Oe.length-1)==="%"&&(Se=parseInt(Se)/100),typeof Se=="number"&&ae("/OpenAction [3 0 R /XYZ null null "+M(Se)+"]")}switch(at||(at="continuous"),at){case"continuous":ae("/PageLayout /OneColumn");break;case"single":ae("/PageLayout /SinglePage");break;case"two":case"twoleft":ae("/PageLayout /TwoColumnLeft");break;case"tworight":ae("/PageLayout /TwoColumnRight")}gt&&ae("/PageMode /"+gt),mt.publish("putCatalog"),ae(">>"),ae("endobj")},hs=m.__private__.putTrailer=function(){ae("trailer"),ae("<<"),ae("/Size "+(re+1)),ae("/Root "+re+" 0 R"),ae("/Info "+(re-1)+" 0 R"),u!==null&&ae("/Encrypt "+bs.oid+" 0 R"),ae("/ID [ <"+V+"> <"+V+"> ]"),ae(">>")},Vc=m.__private__.putHeader=function(){ae("%PDF-"+v),ae("%")},Md=m.__private__.putXRef=function(){var Y="0000000000";ae("xref"),ae("0 "+(re+1)),ae("0000000000 65535 f ");for(var he=1;he<=re;he++)typeof oe[he]=="function"?ae((Y+oe[he]()).slice(-10)+" 00000 n "):oe[he]!==void 0?ae((Y+oe[he]).slice(-10)+" 00000 n "):ae("0000000000 00000 n ")},rn=m.__private__.buildDocument=function(){var Y;re=0,G=0,ce=[],oe=[],ie=[],ke=us(),_e=us(),pe(ce),mt.publish("buildDocument"),Vc(),st(),(function(){mt.publish("putAdditionalObjects");for(var Oe=0;Oe<ie.length;Oe++){var Ue=ie[Oe];me(Ue.objId,!0),ae(Ue.content),ae("endobj")}mt.publish("postPutAdditionalObjects")})(),Y=[],(function(){for(var Oe in Gt)Gt.hasOwnProperty(Oe)&&(f===!1||f===!0&&p.hasOwnProperty(Oe))&&it(Gt[Oe])})(),(function(){var Oe;for(Oe in Rt)Rt.hasOwnProperty(Oe)&&Kt(Rt[Oe])})(),(function(){for(var Oe in ra)ra.hasOwnProperty(Oe)&&Ft(ra[Oe])})(),(function(Oe){var Ue;for(Ue in We)We.hasOwnProperty(Ue)&&(We[Ue]instanceof wf?Yt(We[Ue]):We[Ue]instanceof G0&&ea(We[Ue],Oe))})(Y),mt.publish("putResources"),Y.forEach(Xt),Xt({resourcesOid:_e,objectOid:Number.MAX_SAFE_INTEGER}),mt.publish("postPutResources"),u!==null&&(bs.oid=is(),ae("<<"),ae("/Filter /Standard"),ae("/V "+bs.v),ae("/R "+bs.r),ae("/U <"+bs.toHexString(bs.U)+">"),ae("/O <"+bs.toHexString(bs.O)+">"),ae("/P "+bs.P),ae(">>"),ae("endobj")),sn(),Gs();var he=G;return Md(),hs(),ae("startxref"),ae(""+he),ae("%%EOF"),pe(ye[q]),ce.join(`
`)},Kl=m.__private__.getBlob=function(Y){return new Blob([Re(Y)],{type:"application/pdf"})},Qn=m.output=m.__private__.output=(Ha=function(Y,he){switch(typeof(he=he||{})=="string"?he={filename:he}:he.filename=he.filename||"generated.pdf",Y){case void 0:return rn();case"save":m.save(he.filename);break;case"arraybuffer":return Re(rn());case"blob":return Kl(rn());case"bloburi":case"bloburl":if(Ga.URL!==void 0&&typeof Ga.URL.createObjectURL=="function")return Ga.URL&&Ga.URL.createObjectURL(Kl(rn()))||void 0;fr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Oe="",Ue=rn();try{Oe=SR(Ue)}catch{Oe=SR(unescape(encodeURIComponent(Ue)))}return"data:application/pdf;filename="+he.filename+";base64,"+Oe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ga)==="[object Window]"){var Je="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",_t=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';he.pdfObjectUrl&&(Je=he.pdfObjectUrl,_t="");var zt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Je+'"'+_t+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(he)+");<\/script></body></html>",ca=Ga.open();return ca!==null&&ca.document.write(zt),ca}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ga)==="[object Window]"){var ba='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(he.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+he.filename+'" width="500px" height="400px" /></body></html>',Ia=Ga.open();if(Ia!==null){Ia.document.write(ba);var Ka=this;Ia.document.documentElement.querySelector("#pdfViewer").onload=function(){Ia.document.title=he.filename,Ia.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ka.output("bloburl"))}}return Ia}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ga)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Es='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",he)+'"></iframe></body></html>',br=Ga.open();if(br!==null&&(br.document.write(Es),br.document.title=he.filename),br||typeof safari>"u")return br;break;case"datauri":case"dataurl":return Ga.document.location.href=this.output("datauristring",he);default:return null}},Ha.foo=function(){try{return Ha.apply(this,arguments)}catch(Oe){var Y=Oe.stack||"";~Y.indexOf(" at ")&&(Y=Y.split(" at ")[1]);var he="Error in function "+Y.split(`
`)[0].split("<")[0]+": "+Oe.message;if(!Ga.console)throw new Error(he);Ga.console.error(he,Oe),Ga.alert&&alert(he)}},Ha.foo.bar=Ha,Ha.foo),Xo=function(Y){return Array.isArray(ut)===!0&&ut.indexOf(Y)>-1};switch(r){case"pt":ht=1;break;case"mm":ht=72/25.4;break;case"cm":ht=72/2.54;break;case"in":ht=72;break;case"px":ht=Xo("px_scaling")==1?.75:96/72;break;case"pc":case"em":ht=12;break;case"ex":ht=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);ht=r}var bs=null;le(),Q();var Jo=m.__private__.getPageInfo=m.getPageInfo=function(Y){if(isNaN(Y)||Y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:dt[Y].objId,pageNumber:Y,pageContext:dt[Y]}},Ld=m.__private__.getPageInfoByObjId=function(Y){if(isNaN(Y)||Y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var he in dt)if(dt[he].objId===Y)break;return Jo(he)},Wc=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:dt[q].objId,pageNumber:q,pageContext:dt[q]}};m.addPage=function(){return an.apply(this,arguments),this},m.setPage=function(){return Ra.apply(this,arguments),pe.call(this,ye[q]),this},m.insertPage=function(Y){return this.addPage(),this.movePage(q,Y),this},m.movePage=function(Y,he){var Oe,Ue;if(Y>he){Oe=ye[Y],Ue=dt[Y];for(var Je=Y;Je>he;Je--)ye[Je]=ye[Je-1],dt[Je]=dt[Je-1];ye[he]=Oe,dt[he]=Ue,this.setPage(he)}else if(Y<he){Oe=ye[Y],Ue=dt[Y];for(var _t=Y;_t<he;_t++)ye[_t]=ye[_t+1],dt[_t]=dt[_t+1];ye[he]=Oe,dt[he]=Ue,this.setPage(he)}return this},m.deletePage=function(){return Jn.apply(this,arguments),this},m.__private__.text=m.text=function(Y,he,Oe,Ue,Je){var _t,zt,ca,ba,Ia,Ka,Es,br,on,sr=(Ue=Ue||{}).scope||this;if(typeof Y=="number"&&typeof he=="number"&&(typeof Oe=="string"||Array.isArray(Oe))){var wn=Oe;Oe=he,he=Y,Y=wn}if(arguments[3]instanceof oa==0?(ca=arguments[4],ba=arguments[5],tr(Es=arguments[3])==="object"&&Es!==null||(typeof ca=="string"&&(ba=ca,ca=null),typeof Es=="string"&&(ba=Es,Es=null),typeof Es=="number"&&(ca=Es,Es=null),Ue={flags:Es,angle:ca,align:ba})):(R("The transform parameter of text() with a Matrix value"),on=Je),isNaN(he)||isNaN(Oe)||Y==null)throw new Error("Invalid arguments passed to jsPDF.text");if(Y.length===0)return sr;var cn,ti="",Jl=typeof Ue.lineHeightFactor=="number"?Ue.lineHeightFactor:Ja,tl=sr.internal.scaleFactor;function Qm(ys){return ys=ys.split("	").join(Array(Ue.TabLen||9).join(" ")),wa(ys,Es)}function Fd(ys){for(var Hs,Pr=ys.concat(),dr=[],sc=Pr.length;sc--;)typeof(Hs=Pr.shift())=="string"?dr.push(Hs):Array.isArray(ys)&&(Hs.length===1||Hs[1]===void 0&&Hs[2]===void 0)?dr.push(Hs[0]):dr.push([Hs[0],Hs[1],Hs[2]]);return dr}function Co(ys,Hs){var Pr;if(typeof ys=="string")Pr=Hs(ys)[0];else if(Array.isArray(ys)){for(var dr,sc,zh=ys.concat(),Cu=[],ep=zh.length;ep--;)typeof(dr=zh.shift())=="string"?Cu.push(Hs(dr)[0]):Array.isArray(dr)&&typeof dr[0]=="string"&&(sc=Hs(dr[0],dr[1],dr[2]),Cu.push([sc[0],sc[1],sc[2]]));Pr=Cu}return Pr}var Id=!1,Bd=!0;if(typeof Y=="string")Id=!0;else if(Array.isArray(Y)){var $d=Y.concat();zt=[];for(var Ud,ai=$d.length;ai--;)(typeof(Ud=$d.shift())!="string"||Array.isArray(Ud)&&typeof Ud[0]!="string")&&(Bd=!1);Id=Bd}if(Id===!1)throw new Error('Type of text must be string or Array. "'+Y+'" is not recognized.');typeof Y=="string"&&(Y=Y.match(/[\r?\n]/)?Y.split(/\r\n|\r|\n/g):[Y]);var zd=Z/sr.internal.scaleFactor,Ql=zd*(Jl-1);switch(Ue.baseline){case"bottom":Oe-=Ql;break;case"top":Oe+=zd-Ql;break;case"hanging":Oe+=zd-2*Ql;break;case"middle":Oe+=zd/2-Ql}if((Ka=Ue.maxWidth||0)>0&&(typeof Y=="string"?Y=sr.splitTextToSize(Y,Ka):Object.prototype.toString.call(Y)==="[object Array]"&&(Y=Y.reduce(function(ys,Hs){return ys.concat(sr.splitTextToSize(Hs,Ka))},[]))),_t={text:Y,x:he,y:Oe,options:Ue,mutex:{pdfEscape:wa,activeFontKey:Ze,fonts:Gt,activeFontSize:Z}},mt.publish("preProcessText",_t),Y=_t.text,ca=(Ue=_t.options).angle,on instanceof oa==0&&ca&&typeof ca=="number"){ca*=Math.PI/180,Ue.rotationDirection===0&&(ca=-ca),N===S&&(ca=-ca);var n0=Math.cos(ca),i0=Math.sin(ca);on=new oa(n0,i0,-i0,n0,0,0)}else ca&&ca instanceof oa&&(on=ca);N!==S||on||(on=ps),(Ia=Ue.charSpace||_l)!==void 0&&(ti+=D(P(Ia))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(br=Ue.horizontalScale)!==void 0&&(ti+=D(100*br)+` Tz
`),Ue.lang;var Tr=-1,ec=Ue.renderingMode!==void 0?Ue.renderingMode:Ue.stroke,ku=sr.internal.getCurrentPageInfo().pageContext;switch(ec){case 0:case!1:case"fill":Tr=0;break;case 1:case!0:case"stroke":Tr=1;break;case 2:case"fillThenStroke":Tr=2;break;case 3:case"invisible":Tr=3;break;case 4:case"fillAndAddForClipping":Tr=4;break;case 5:case"strokeAndAddPathForClipping":Tr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Tr=6;break;case 7:case"addToPathForClipping":Tr=7}var Hd=ku.usedRenderingMode!==void 0?ku.usedRenderingMode:-1;Tr!==-1?ti+=Tr+` Tr
`:Hd!==-1&&(ti+=`0 Tr
`),Tr!==-1&&(ku.usedRenderingMode=Tr),ba=Ue.align||"left";var bi,Su=Z*Jl,Vd=sr.internal.pageSize.getWidth(),Rh=Gt[Ze];Ia=Ue.charSpace||_l,Ka=Ue.maxWidth||0,Es=Object.assign({autoencode:!0,noBOM:!0},Ue.flags);var Kc=[],Yc=function(ys){return sr.getStringUnitWidth(ys,{font:Rh,charSpace:Ia,fontSize:Z,doKerning:!1})*Z/tl};if(Object.prototype.toString.call(Y)==="[object Array]"){var Fi;zt=Fd(Y),ba!=="left"&&(bi=zt.map(Yc));var al,Xc=0;if(ba==="right"){he-=bi[0],Y=[],ai=zt.length;for(var tc=0;tc<ai;tc++)tc===0?(al=ds(he),Fi=Is(Oe)):(al=P(Xc-bi[tc]),Fi=-Su),Y.push([zt[tc],al,Fi]),Xc=bi[tc]}else if(ba==="center"){he-=bi[0]/2,Y=[],ai=zt.length;for(var Wd=0;Wd<ai;Wd++)Wd===0?(al=ds(he),Fi=Is(Oe)):(al=P((Xc-bi[Wd])/2),Fi=-Su),Y.push([zt[Wd],al,Fi]),Xc=bi[Wd]}else if(ba==="left"){Y=[],ai=zt.length;for(var l0=0;l0<ai;l0++)Y.push(zt[l0])}else if(ba==="justify"&&Rh.encoding==="Identity-H"){Y=[],ai=zt.length,Ka=Ka!==0?Ka:Vd;for(var Fh=0,Kr=0;Kr<ai;Kr++)if(Fi=Kr===0?Is(Oe):-Su,al=Kr===0?ds(he):Fh,Kr<ai-1){var Zm=P((Ka-bi[Kr])/(zt[Kr].split(" ").length-1)),Dr=zt[Kr].split(" ");Y.push([Dr[0]+" ",al,Fi]),Fh=0;for(var sl=1;sl<Dr.length;sl++){var Ih=(Yc(Dr[sl-1]+" "+Dr[sl])-Yc(Dr[sl]))*tl+Zm;sl==Dr.length-1?Y.push([Dr[sl],Ih,0]):Y.push([Dr[sl]+" ",Ih,0]),Fh-=Ih}}else Y.push([zt[Kr],al,Fi]);Y.push(["",Fh,0])}else{if(ba!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(Y=[],ai=zt.length,Ka=Ka!==0?Ka:Vd,Kr=0;Kr<ai;Kr++){Fi=Kr===0?Is(Oe):-Su,al=Kr===0?ds(he):0;var Bh=zt[Kr].split(" ").length-1,$h=Bh>0?(Ka-bi[Kr])/Bh:0;Kr<ai-1?Kc.push(D(P($h))):Kc.push(0),Y.push([zt[Kr],al,Fi])}}}(typeof Ue.R2L=="boolean"?Ue.R2L:Ye)===!0&&(Y=Co(Y,function(ys,Hs,Pr){return[ys.split("").reverse().join(""),Hs,Pr]})),_t={text:Y,x:he,y:Oe,options:Ue,mutex:{pdfEscape:wa,activeFontKey:Ze,fonts:Gt,activeFontSize:Z}},mt.publish("postProcessText",_t),Y=_t.text,cn=_t.mutex.isHex||!1;var Uh=Gt[Ze].encoding;Uh!=="WinAnsiEncoding"&&Uh!=="StandardEncoding"||(Y=Co(Y,function(ys,Hs,Pr){return[Qm(ys),Hs,Pr]})),zt=Fd(Y),Y=[];for(var ac,qd,El,Jc=Array.isArray(zt[0])?1:0,Zl="",Qc=function(ys,Hs,Pr){var dr="";return Pr instanceof oa?(Pr=typeof Ue.angle=="number"?_s(Pr,new oa(1,0,0,1,ys,Hs)):_s(new oa(1,0,0,1,ys,Hs),Pr),N===S&&(Pr=_s(new oa(1,0,0,-1,0,0),Pr)),dr=Pr.join(" ")+` Tm
`):dr=D(ys)+" "+D(Hs)+` Td
`,dr},Tl=0;Tl<zt.length;Tl++){switch(Zl="",Jc){case 1:El=(cn?"<":"(")+zt[Tl][0]+(cn?">":")"),ac=parseFloat(zt[Tl][1]),qd=parseFloat(zt[Tl][2]);break;case 0:El=(cn?"<":"(")+zt[Tl]+(cn?">":")"),ac=ds(he),qd=Is(Oe)}Kc!==void 0&&Kc[Tl]!==void 0&&(Zl=Kc[Tl]+` Tw
`),Tl===0?Y.push(Zl+Qc(ac,qd,on)+El):Jc===0?Y.push(Zl+El):Jc===1&&Y.push(Zl+Qc(ac,qd,on)+El)}Y=Jc===0?Y.join(` Tj
T* `):Y.join(` Tj
`),Y+=` Tj
`;var yi=`BT
/`;return yi+=Ze+" "+Z+` Tf
`,yi+=D(Z*Jl)+` TL
`,yi+=vr+`
`,yi+=ti,yi+=Y,ae(yi+="ET"),p[Ze]=!0,sr};var Yl=m.__private__.clip=m.clip=function(Y){return ae(Y==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return Yl("evenodd")},m.__private__.discardPath=m.discardPath=function(){return ae("n"),this};var vi=m.__private__.isValidStyle=function(Y){var he=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(Y)!==-1&&(he=!0),he};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(Y){return vi(Y)&&(d=Y),this};var Od=m.__private__.getStyle=m.getStyle=function(Y){var he=d;switch(Y){case"D":case"S":he="S";break;case"F":he="f";break;case"FD":case"DF":he="B";break;case"f":case"f*":case"B":case"B*":he=Y}return he},nn=m.close=function(){return ae("h"),this};m.stroke=function(){return ae("S"),this},m.fill=function(Y){return Al("f",Y),this},m.fillEvenOdd=function(Y){return Al("f*",Y),this},m.fillStroke=function(Y){return Al("B",Y),this},m.fillStrokeEvenOdd=function(Y){return Al("B*",Y),this};var Al=function(Y,he){tr(he)==="object"?Ee(he,Y):ae(Y)},el=function(Y){Y===null||N===S&&Y===void 0||(Y=Od(Y),ae(Y))};function Rd(Y,he,Oe,Ue,Je){var _t=new G0(he||this.boundingBox,Oe||this.xStep,Ue||this.yStep,this.gState,Je||this.matrix);_t.stream=this.stream;var zt=Y+"$$"+this.cloneIndex+++"$$";return Fe(zt,_t),_t}var Ee=function(Y,he){var Oe=Ot[Y.key],Ue=We[Oe];if(Ue instanceof wf)ae("q"),ae(et(he)),Ue.gState&&m.setGState(Ue.gState),ae(Y.matrix.toString()+" cm"),ae("/"+Oe+" sh"),ae("Q");else if(Ue instanceof G0){var Je=new oa(1,0,0,-1,0,Nu());Y.matrix&&(Je=Je.multiply(Y.matrix||ps),Oe=Rd.call(Ue,Y.key,Y.boundingBox,Y.xStep,Y.yStep,Je).id),ae("q"),ae("/Pattern cs"),ae("/"+Oe+" scn"),Ue.gState&&m.setGState(Ue.gState),ae(he),ae("Q")}},et=function(Y){switch(Y){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ta=m.moveTo=function(Y,he){return ae(D(P(Y))+" "+D(F(he))+" m"),this},ia=m.lineTo=function(Y,he){return ae(D(P(Y))+" "+D(F(he))+" l"),this},Fa=m.curveTo=function(Y,he,Oe,Ue,Je,_t){return ae([D(P(Y)),D(F(he)),D(P(Oe)),D(F(Ue)),D(P(Je)),D(F(_t)),"c"].join(" ")),this};m.__private__.line=m.line=function(Y,he,Oe,Ue,Je){if(isNaN(Y)||isNaN(he)||isNaN(Oe)||isNaN(Ue)||!vi(Je))throw new Error("Invalid arguments passed to jsPDF.line");return N===k?this.lines([[Oe-Y,Ue-he]],Y,he,[1,1],Je||"S"):this.lines([[Oe-Y,Ue-he]],Y,he,[1,1]).stroke()},m.__private__.lines=m.lines=function(Y,he,Oe,Ue,Je,_t){var zt,ca,ba,Ia,Ka,Es,br,on,sr,wn,cn,ti;if(typeof Y=="number"&&(ti=Oe,Oe=he,he=Y,Y=ti),Ue=Ue||[1,1],_t=_t||!1,isNaN(he)||isNaN(Oe)||!Array.isArray(Y)||!Array.isArray(Ue)||!vi(Je)||typeof _t!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ta(he,Oe),zt=Ue[0],ca=Ue[1],Ia=Y.length,wn=he,cn=Oe,ba=0;ba<Ia;ba++)(Ka=Y[ba]).length===2?(wn=Ka[0]*zt+wn,cn=Ka[1]*ca+cn,ia(wn,cn)):(Es=Ka[0]*zt+wn,br=Ka[1]*ca+cn,on=Ka[2]*zt+wn,sr=Ka[3]*ca+cn,wn=Ka[4]*zt+wn,cn=Ka[5]*ca+cn,Fa(Es,br,on,sr,wn,cn));return _t&&nn(),el(Je),this},m.path=function(Y){for(var he=0;he<Y.length;he++){var Oe=Y[he],Ue=Oe.c;switch(Oe.op){case"m":ta(Ue[0],Ue[1]);break;case"l":ia(Ue[0],Ue[1]);break;case"c":Fa.apply(this,Ue);break;case"h":nn()}}return this},m.__private__.rect=m.rect=function(Y,he,Oe,Ue,Je){if(isNaN(Y)||isNaN(he)||isNaN(Oe)||isNaN(Ue)||!vi(Je))throw new Error("Invalid arguments passed to jsPDF.rect");return N===k&&(Ue=-Ue),ae([D(P(Y)),D(F(he)),D(P(Oe)),D(P(Ue)),"re"].join(" ")),el(Je),this},m.__private__.triangle=m.triangle=function(Y,he,Oe,Ue,Je,_t,zt){if(isNaN(Y)||isNaN(he)||isNaN(Oe)||isNaN(Ue)||isNaN(Je)||isNaN(_t)||!vi(zt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Oe-Y,Ue-he],[Je-Oe,_t-Ue],[Y-Je,he-_t]],Y,he,[1,1],zt,!0),this},m.__private__.roundedRect=m.roundedRect=function(Y,he,Oe,Ue,Je,_t,zt){if(isNaN(Y)||isNaN(he)||isNaN(Oe)||isNaN(Ue)||isNaN(Je)||isNaN(_t)||!vi(zt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ca=4/3*(Math.SQRT2-1);return Je=Math.min(Je,.5*Oe),_t=Math.min(_t,.5*Ue),this.lines([[Oe-2*Je,0],[Je*ca,0,Je,_t-_t*ca,Je,_t],[0,Ue-2*_t],[0,_t*ca,-Je*ca,_t,-Je,_t],[2*Je-Oe,0],[-Je*ca,0,-Je,-_t*ca,-Je,-_t],[0,2*_t-Ue],[0,-_t*ca,Je*ca,-_t,Je,-_t]],Y+Je,he,[1,1],zt,!0),this},m.__private__.ellipse=m.ellipse=function(Y,he,Oe,Ue,Je){if(isNaN(Y)||isNaN(he)||isNaN(Oe)||isNaN(Ue)||!vi(Je))throw new Error("Invalid arguments passed to jsPDF.ellipse");var _t=4/3*(Math.SQRT2-1)*Oe,zt=4/3*(Math.SQRT2-1)*Ue;return ta(Y+Oe,he),Fa(Y+Oe,he-zt,Y+_t,he-Ue,Y,he-Ue),Fa(Y-_t,he-Ue,Y-Oe,he-zt,Y-Oe,he),Fa(Y-Oe,he+zt,Y-_t,he+Ue,Y,he+Ue),Fa(Y+_t,he+Ue,Y+Oe,he+zt,Y+Oe,he),el(Je),this},m.__private__.circle=m.circle=function(Y,he,Oe,Ue){if(isNaN(Y)||isNaN(he)||isNaN(Oe)||!vi(Ue))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(Y,he,Oe,Oe,Ue)},m.setFont=function(Y,he,Oe){return Oe&&(he=E(he,Oe)),Ze=Zi(Y,he,{disableWarning:!1}),this};var Fs=m.__private__.getFont=m.getFont=function(){return Gt[Zi.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var Y,he,Oe={};for(Y in Ae)if(Ae.hasOwnProperty(Y))for(he in Oe[Y]=[],Ae[Y])Ae[Y].hasOwnProperty(he)&&Oe[Y].push(he);return Oe},m.addFont=function(Y,he,Oe,Ue,Je){var _t=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&_t.indexOf(arguments[3])!==-1?Je=arguments[3]:arguments[3]&&_t.indexOf(arguments[3])==-1&&(Oe=E(Oe,Ue)),cs.call(this,Y,he,Oe,Je=Je||"Identity-H")};var Ja,we=e.lineWidth||.200025,Be=m.__private__.getLineWidth=m.getLineWidth=function(){return we},Dt=m.__private__.setLineWidth=m.setLineWidth=function(Y){return we=Y,ae(D(P(Y))+" w"),this};m.__private__.setLineDash=ga.API.setLineDash=ga.API.setLineDashPattern=function(Y,he){if(Y=Y||[],he=he||0,isNaN(he)||!Array.isArray(Y))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return Y=Y.map(function(Oe){return D(P(Oe))}).join(" "),he=D(P(he)),ae("["+Y+"] "+he+" d"),this};var Ut=m.__private__.getLineHeight=m.getLineHeight=function(){return Z*Ja};m.__private__.getLineHeight=m.getLineHeight=function(){return Z*Ja};var _a=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(Y){return typeof(Y=Y||1.15)=="number"&&(Ja=Y),this},Qa=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Ja};_a(e.lineHeight);var ds=m.__private__.getHorizontalCoordinate=function(Y){return P(Y)},Is=m.__private__.getVerticalCoordinate=function(Y){return N===S?Y:dt[q].mediaBox.topRightY-dt[q].mediaBox.bottomLeftY-P(Y)},Va=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(Y){return D(ds(Y))},ts=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(Y){return D(Is(Y))},ln=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return Te(ln)},m.__private__.setStrokeColor=m.setDrawColor=function(Y,he,Oe,Ue){return ln=Me({ch1:Y,ch2:he,ch3:Oe,ch4:Ue,pdfColorType:"draw",precision:2}),ae(ln),this};var Zn=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return Te(Zn)},m.__private__.setFillColor=m.setFillColor=function(Y,he,Oe,Ue){return Zn=Me({ch1:Y,ch2:he,ch3:Oe,ch4:Ue,pdfColorType:"fill",precision:2}),ae(Zn),this};var vr=e.textColor||"0 g",ei=m.__private__.getTextColor=m.getTextColor=function(){return Te(vr)};m.__private__.setTextColor=m.setTextColor=function(Y,he,Oe,Ue){return vr=Me({ch1:Y,ch2:he,ch3:Oe,ch4:Ue,pdfColorType:"text",precision:3}),this};var _l=e.charSpace,Er=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(_l||0)};m.__private__.setCharSpace=m.setCharSpace=function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return _l=Y,this};var Oi=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(Y){var he=m.CapJoinStyles[Y];if(he===void 0)throw new Error("Line cap style of '"+Y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Oi=he,ae(he+" J"),this};var Xl=0;m.__private__.setLineJoin=m.setLineJoin=function(Y){var he=m.CapJoinStyles[Y];if(he===void 0)throw new Error("Line join style of '"+Y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xl=he,ae(he+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(Y){if(Y=Y||0,isNaN(Y))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ae(D(P(Y))+" M"),this},m.GState=A1,m.setGState=function(Y){(Y=typeof Y=="string"?Rt[na[Y]]:Ri(null,Y)).equals(pt)||(ae("/"+Y.id+" gs"),pt=Y)};var Ri=function(Y,he){if(!Y||!na[Y]){var Oe=!1;for(var Ue in Rt)if(Rt.hasOwnProperty(Ue)&&Rt[Ue].equals(he)){Oe=!0;break}if(Oe)he=Rt[Ue];else{var Je="GS"+(Object.keys(Rt).length+1).toString(10);Rt[Je]=he,he.id=Je}return Y&&(na[Y]=he.id),mt.publish("addGState",he),he}};m.addGState=function(Y,he){return Ri(Y,he),this},m.saveGraphicsState=function(){return ae("q"),Tt.push({key:Ze,size:Z,color:vr}),this},m.restoreGraphicsState=function(){ae("Q");var Y=Tt.pop();return Ze=Y.key,Z=Y.size,vr=Y.color,pt=null,this},m.setCurrentTransformationMatrix=function(Y){return ae(Y.toString()+" cm"),this},m.comment=function(Y){return ae("#"+Y),this};var No=function(Y,he){var Oe=Y||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Oe},set:function(_t){isNaN(_t)||(Oe=parseFloat(_t))}});var Ue=he||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ue},set:function(_t){isNaN(_t)||(Ue=parseFloat(_t))}});var Je="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Je},set:function(_t){Je=_t.toString()}}),this},ko=function(Y,he,Oe,Ue){No.call(this,Y,he),this.type="rect";var Je=Oe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Je},set:function(zt){isNaN(zt)||(Je=parseFloat(zt))}});var _t=Ue||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return _t},set:function(zt){isNaN(zt)||(_t=parseFloat(zt))}}),this},Qo=function(){this.page=lt,this.currentPage=q,this.pages=ye.slice(0),this.pagesContext=dt.slice(0),this.x=At,this.y=Mt,this.matrix=Pt,this.width=r0(q),this.height=qc(q),this.outputDestination=Ie,this.id="",this.objectNumber=-1};Qo.prototype.restore=function(){lt=this.page,q=this.currentPage,dt=this.pagesContext,ye=this.pages,At=this.x,Mt=this.y,Pt=this.matrix,Ym(q,this.width),Gc(q,this.height),Ie=this.outputDestination};var So=function(Y,he,Oe,Ue,Je){ua.push(new Qo),lt=q=0,ye=[],At=Y,Mt=he,Pt=Je,La([Oe,Ue])};for(var Zo in m.beginFormObject=function(Y,he,Oe,Ue,Je){return So(Y,he,Oe,Ue,Je),this},m.endFormObject=function(Y){return(function(he){if(Aa[he])ua.pop().restore();else{var Oe=new Qo,Ue="Xo"+(Object.keys(ra).length+1).toString(10);Oe.id=Ue,Aa[he]=Ue,ra[Ue]=Oe,mt.publish("addFormObject",Oe),ua.pop().restore()}})(Y),this},m.doFormObject=function(Y,he){var Oe=ra[Aa[Y]];return ae("q"),ae(he.toString()+" cm"),ae("/"+Oe.id+" Do"),ae("Q"),this},m.getFormObject=function(Y){var he=ra[Aa[Y]];return{x:he.x,y:he.y,width:he.width,height:he.height,matrix:he.matrix}},m.save=function(Y,he){return Y=Y||"generated.pdf",(he=he||{}).returnPromise=he.returnPromise||!1,he.returnPromise===!1?(F0(Kl(rn()),Y),typeof F0.unload=="function"&&Ga.setTimeout&&setTimeout(F0.unload,911),this):new Promise(function(Oe,Ue){try{var Je=F0(Kl(rn()),Y);typeof F0.unload=="function"&&Ga.setTimeout&&setTimeout(F0.unload,911),Oe(Je)}catch(_t){Ue(_t.message)}})},ga.API)ga.API.hasOwnProperty(Zo)&&(Zo==="events"&&ga.API.events.length?(function(Y,he){var Oe,Ue,Je;for(Je=he.length-1;Je!==-1;Je--)Oe=he[Je][0],Ue=he[Je][1],Y.subscribe.apply(Y,[Oe].concat(typeof Ue=="function"?[Ue]:Ue))})(mt,ga.API.events):m[Zo]=ga.API[Zo]);function r0(Y){return dt[Y].mediaBox.topRightX-dt[Y].mediaBox.bottomLeftX}function Ym(Y,he){dt[Y].mediaBox.topRightX=he+dt[Y].mediaBox.bottomLeftX}function qc(Y){return dt[Y].mediaBox.topRightY-dt[Y].mediaBox.bottomLeftY}function Gc(Y,he){dt[Y].mediaBox.topRightY=he+dt[Y].mediaBox.bottomLeftY}var Oh=m.getPageWidth=function(Y){return r0(Y=Y||q)/ht},Xm=m.setPageWidth=function(Y,he){Ym(Y,he*ht)},Nu=m.getPageHeight=function(Y){return qc(Y=Y||q)/ht},Jm=m.setPageHeight=function(Y,he){Gc(Y,he*ht)};return m.internal={pdfEscape:wa,getStyle:Od,getFont:Fs,getFontSize:Ne,getCharSpace:Er,getTextColor:ei,getLineHeight:Ut,getLineHeightFactor:Qa,getLineWidth:Be,write:ge,getHorizontalCoordinate:ds,getVerticalCoordinate:Is,getCoordinateString:Va,getVerticalCoordinateString:ts,collections:{},newObject:is,newAdditionalObject:De,newObjectDeferred:us,newObjectDeferredBegin:me,getFilters:Qe,putStream:vt,events:mt,scaleFactor:ht,pageSize:{getWidth:function(){return Oh(q)},setWidth:function(Y){Xm(q,Y)},getHeight:function(){return Nu(q)},setHeight:function(Y){Jm(q,Y)}},encryptionOptions:u,encryption:bs,getEncryptor:function(Y){return u!==null?bs.encryptor(Y,0):function(he){return he}},output:Qn,getNumberOfPages:Ps,pages:ye,out:ae,f2:M,f3:U,getPageInfo:Jo,getPageInfoByObjId:Ld,getCurrentPageInfo:Wc,getPDFVersion:g,Point:No,Rectangle:ko,Matrix:oa,hasHotfix:Xo},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Oh(q)},set:function(Y){Xm(q,Y)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return Nu(q)},set:function(Y){Jm(q,Y)},enumerable:!0,configurable:!0}),(function(Y){for(var he=0,Oe=ue.length;he<Oe;he++){var Ue=cs.call(this,Y[he][0],Y[he][1],Y[he][2],ue[he][3],!0);f===!1&&(p[Ue]=!0);var Je=Y[he][0].split("-");ya({id:Ue,fontName:Je[0],fontStyle:Je[1]||""})}mt.publish("addFonts",{fonts:Gt,dictionary:Ae})}).call(m,ue),Ze="F1",an(n,a),mt.publish("initialized"),m}Hp.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Hp.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Hp.prototype.hexToBytes=function(e){for(var t=[],a=0;a<e.length;a+=2)t.push(String.fromCharCode(parseInt(e.substr(a,2),16)));return t.join("")},Hp.prototype.processOwnerPassword=function(e,t){return GC(qC(t).substr(0,5),e)},Hp.prototype.encryptor=function(e,t){var a=qC(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return GC(a,r)}},A1.prototype.equals=function(e){var t,a="id,objectNumber,equals";if(!e||tr(e)!==tr(this))return!1;var r=0;for(t in this)if(!(a.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&a.indexOf(t)<0&&r--;return r===0},ga.API={events:[]},ga.version="3.0.3";var hn=ga.API,i_=1,Wm=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Rp=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Za=function(e){return e.toFixed(2)},gf=function(e){return e.toFixed(5)};hn.__acroform__={};var wo=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},ER=function(e){return e*i_},lu=function(e){var t=new NG,a=pa.internal.getHeight(e)||0,r=pa.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Za(r)),Number(Za(a))],t},Zke=hn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},eSe=hn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},tSe=hn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Pn=hn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return tSe(e,t-1)},Mn=hn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Zke(e,t-1)},Ln=hn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return eSe(e,t-1)},aSe=hn.__acroform__.calculateCoordinates=function(e,t){var a=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,n=e[0],i=e[1],l=e[2],o=e[3],c={};return c.lowerLeft_X=a(n)||0,c.lowerLeft_Y=r(i+o)||0,c.upperRight_X=a(n+l)||0,c.upperRight_Y=r(i)||0,[Number(Za(c.lowerLeft_X)),Number(Za(c.lowerLeft_Y)),Number(Za(c.upperRight_X)),Number(Za(c.upperRight_Y))]},sSe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],a=e._V||e.DV,r=KC(e,a),n=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+n+" "+Za(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=lu(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},KC=function(e,t){var a=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},n=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");n=e.multiline?n.map(function(M){return M.split(`
`)}):n.map(function(M){return[M]});var i=a,l=pa.internal.getHeight(e)||0;l=l<0?-l:l;var o=pa.internal.getWidth(e)||0;o=o<0?-o:o;var c=function(M,U,P){if(M+1<n.length){var F=U+" "+n[M+1][0];return m2(F,e,P).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var d,u,f=m2("3",e,i).height,p=e.multiline?l-i:(l-f)/2,m=p+=2,v=0,g=0,b=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+m2(t,e,i=12).width+", FieldWidth:"+o+`
`;break}for(var j="",k=0,S=0;S<n.length;S++)if(n.hasOwnProperty(S)){var N=!1;if(n[S].length!==1&&b!==n[S].length-1){if((f+2)*(k+2)+2>l)continue e;j+=n[S][b],N=!0,g=S,S--}else{j=(j+=n[S][b]+" ").substr(j.length-1)==" "?j.substr(0,j.length-1):j;var A=parseInt(S),_=c(A,j,i),E=S>=n.length-1;if(_&&!E){j+=" ",b=0;continue}if(_||E){if(E)g=A;else if(e.multiline&&(f+2)*(k+2)+2>l)continue e}else{if(!e.multiline||(f+2)*(k+2)+2>l)continue e;g=A}}for(var D="",R=v;R<=g;R++){var I=n[R];if(e.multiline){if(R===g){D+=I[b]+" ",b=(b+1)%I.length;continue}if(R===v){D+=I[I.length-1]+" ";continue}}D+=I[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,u=m2(D,e,i).width,e.textAlign){case"right":d=o-u-2;break;case"center":d=(o-u)/2;break;default:d=2}t+=Za(d)+" "+Za(m)+` Td
`,t+="("+Wm(D)+`) Tj
`,t+=-Za(d)+` 0 Td
`,m=-(i+2),u=0,v=N?g:g+1,k++,j=""}break}return r.text=t,r.fontSize=i,r},m2=function(e,t,a){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),n=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(a),charSpace:0})*parseFloat(a);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(a),charSpace:0})*parseFloat(a)*1.5,width:n}},rSe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},nSe=function(e,t){var a={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===a.type&&r.object===a.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(a)},iSe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Td.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(rSe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");i_=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new kG,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(a){a.internal.events.unsubscribe(a.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete a.internal.acroformPlugin.acroFormDictionaryRoot._eventID,a.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(a){a.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=a.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in r)if(r.hasOwnProperty(n)){var i=r[n];i.objId=void 0,i.hasAnnotation&&nSe(i,a)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(a){if(a.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");a.internal.write("/AcroForm "+a.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(a){(function(r,n){var i=!r;for(var l in r||(n.internal.newObjectDeferredBegin(n.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),n.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||n.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(l)){var o=r[l],c=[],d=o.Rect;if(o.Rect&&(o.Rect=aSe(o.Rect,n)),n.internal.newObjectDeferredBegin(o.objId,!0),o.DA=pa.createDefaultAppearanceStream(o),tr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=d,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=sSe(o);c.push({key:"AP",value:"<</N "+u+">>"}),n.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var f="";for(var p in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(p)){var m=o.appearanceStreamContent[p];if(f+="/"+p+" ",f+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var l in m)if(m.hasOwnProperty(l)){var v=m[l];typeof v=="function"&&(v=v.call(n,o)),f+="/"+l+" "+v+" ",n.internal.acroformPlugin.xForms.indexOf(v)>=0||n.internal.acroformPlugin.xForms.push(v)}}else typeof(v=m)=="function"&&(v=v.call(n,o)),f+="/"+l+" "+v,n.internal.acroformPlugin.xForms.indexOf(v)>=0||n.internal.acroformPlugin.xForms.push(v);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}n.internal.putStream({additionalKeyValues:c,objectId:o.objId}),n.internal.out("endobj")}i&&(function(g,b){for(var j in g)if(g.hasOwnProperty(j)){var k=j,S=g[j];b.internal.newObjectDeferredBegin(S.objId,!0),tr(S)==="object"&&typeof S.putStream=="function"&&S.putStream(),delete g[k]}})(n.internal.acroformPlugin.xForms,n)})(a,e)}),e.internal.acroformPlugin.isInitialized=!0}},jG=hn.__acroform__.arrayToPdfArray=function(e,t,a){var r=function(l){return l};if(Array.isArray(e)){for(var n="[",i=0;i<e.length;i++)switch(i!==0&&(n+=" "),tr(e[i])){case"boolean":case"number":case"object":n+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&a&&(r=a.internal.getEncryptor(t)),n+="("+Wm(r(e[i].toString()))+")"):n+=e[i].toString()}return n+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},I3=function(e,t,a){var r=function(n){return n};return t!==void 0&&a&&(r=a.internal.getEncryptor(t)),(e=e||"").toString(),"("+Wm(r(e))+")"},du=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};du.prototype.toString=function(){return this.objId+" 0 R"},du.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},du.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var a in t)if(Object.getOwnPropertyDescriptor(this,t[a]).configurable===!1){var r=t[a],n=this[r];n&&(Array.isArray(n)?e.push({key:r,value:jG(n,this.objId,this.scope)}):n instanceof du?(n.scope=this.scope,e.push({key:r,value:n.objId+" 0 R"})):typeof n!="function"&&e.push({key:r,value:n}))}return e};var NG=function(){du.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(a){e=a.trim()},get:function(){return e||null}})};wo(NG,du);var kG=function(){du.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var a=function(r){return r};return this.scope&&(a=this.scope.internal.getEncryptor(this.objId)),"("+Wm(a(e))+")"}},set:function(a){e=a}})};wo(kG,du);var Td=function e(){du.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute F supplied.');t=j}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Pn(t,3)},set:function(j){j?this.F=Mn(t,3):this.F=Ln(t,3)}});var a=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return a},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute Ff supplied.');a=j}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(j){r=j!==void 0?j:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(j){r[0]=j}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(j){r[1]=j}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(j){r[2]=j}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(j){r[3]=j}});var n="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return n},set:function(j){switch(j){case"/Btn":case"/Tx":case"/Ch":case"/Sig":n=j;break;default:throw new Error('Invalid value "'+j+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Ow)return;i="FieldObject"+e.FieldNum++}var j=function(k){return k};return this.scope&&(j=this.scope.internal.getEncryptor(this.objId)),"("+Wm(j(i))+")"},set:function(j){i=j.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(j){i=j}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(j){l=j}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(j){o=j}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(j){c=j}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/i_:d},set:function(j){d=j}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(j){u=j}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Ow||this instanceof Tf))return I3(f,this.objId,this.scope)},set:function(j){j=j.toString(),f=j}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof ii==0?I3(p,this.objId,this.scope):p},set:function(j){j=j.toString(),p=this instanceof ii==0?j.substr(0,1)==="("?Rp(j.substr(1,j.length-2)):Rp(j):j}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ii==1?Rp(p.substr(1,p.length-1)):p},set:function(j){j=j.toString(),p=this instanceof ii==1?"/"+j:j}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(j){this.V=j}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof ii==0?I3(m,this.objId,this.scope):m},set:function(j){j=j.toString(),m=this instanceof ii==0?j.substr(0,1)==="("?Rp(j.substr(1,j.length-2)):Rp(j):j}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ii==1?Rp(m.substr(1,m.length-1)):m},set:function(j){j=j.toString(),m=this instanceof ii==1?"/"+j:j}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(j){j=!!j,g=j}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(j){v=j}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,1)},set:function(j){j?this.Ff=Mn(this.Ff,1):this.Ff=Ln(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,2)},set:function(j){j?this.Ff=Mn(this.Ff,2):this.Ff=Ln(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,3)},set:function(j){j?this.Ff=Mn(this.Ff,3):this.Ff=Ln(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(j){if([0,1,2].indexOf(j)===-1)throw new Error('Invalid value "'+j+'" for attribute Q supplied.');b=j}}),Object.defineProperty(this,"textAlign",{get:function(){var j;switch(b){case 0:default:j="left";break;case 1:j="center";break;case 2:j="right"}return j},configurable:!0,enumerable:!0,set:function(j){switch(j){case"right":case 2:b=2;break;case"center":case 1:b=1;break;default:b=0}}})};wo(Td,du);var lm=function(){Td.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(a){e=a}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return jG(t,this.objId,this.scope)},set:function(a){var r,n;n=[],typeof(r=a)=="string"&&(n=(function(i,l,o){o||(o=1);for(var c,d=[];c=l.exec(i);)d.push(c[o]);return d})(r,/\((.*?)\)/g)),t=n}}),this.getOptions=function(){return t},this.setOptions=function(a){t=a,this.sort&&t.sort()},this.addOption=function(a){a=(a=a||"").toString(),t.push(a),this.sort&&t.sort()},this.removeOption=function(a,r){for(r=r||!1,a=(a=a||"").toString();t.indexOf(a)!==-1&&(t.splice(t.indexOf(a),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,18)},set:function(a){a?this.Ff=Mn(this.Ff,18):this.Ff=Ln(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,19)},set:function(a){this.combo===!0&&(a?this.Ff=Mn(this.Ff,19):this.Ff=Ln(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,20)},set:function(a){a?(this.Ff=Mn(this.Ff,20),t.sort()):this.Ff=Ln(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,22)},set:function(a){a?this.Ff=Mn(this.Ff,22):this.Ff=Ln(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,23)},set:function(a){a?this.Ff=Mn(this.Ff,23):this.Ff=Ln(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,27)},set:function(a){a?this.Ff=Mn(this.Ff,27):this.Ff=Ln(this.Ff,27)}}),this.hasAppearanceStream=!1};wo(lm,Td);var om=function(){lm.call(this),this.fontName="helvetica",this.combo=!1};wo(om,lm);var cm=function(){om.call(this),this.combo=!0};wo(cm,om);var zv=function(){cm.call(this),this.edit=!0};wo(zv,cm);var ii=function(){Td.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,15)},set:function(a){a?this.Ff=Mn(this.Ff,15):this.Ff=Ln(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,16)},set:function(a){a?this.Ff=Mn(this.Ff,16):this.Ff=Ln(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,17)},set:function(a){a?this.Ff=Mn(this.Ff,17):this.Ff=Ln(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,26)},set:function(a){a?this.Ff=Mn(this.Ff,26):this.Ff=Ln(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(i){return i};if(this.scope&&(a=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,n=[];for(r in n.push("<<"),t)n.push("/"+r+" ("+Wm(a(t[r]))+")");return n.push(">>"),n.join(`
`)}},set:function(a){tr(a)==="object"&&(t=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(a){typeof a=="string"&&(t.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(a){e="/"+a}})};wo(ii,Td);var Hv=function(){ii.call(this),this.pushButton=!0};wo(Hv,ii);var dm=function(){ii.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};wo(dm,ii);var Ow=function(){var e,t;Td.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(n){t=n}});var a,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(o){return o};this.scope&&(n=this.scope.internal.getEncryptor(this.objId));var i,l=[];for(i in l.push("<<"),r)l.push("/"+i+" ("+Wm(n(r[i]))+")");return l.push(">>"),l.join(`
`)},set:function(n){tr(n)==="object"&&(r=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(n){typeof n=="string"&&(r.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return a},set:function(n){a=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return a.substr(1,a.length-1)},set:function(n){a="/"+n}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=pa.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};wo(Ow,Td),dm.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var a=this.Kids[t];a.appearanceStreamContent=e.createAppearanceStream(a.optionName),a.caption=e.getCA()}},dm.prototype.createOption=function(e){var t=new Ow;return t.Parent=this,t.optionName=e,this.Kids.push(t),lSe.call(this.scope,t),t};var Vv=function(){ii.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=pa.CheckBox.createAppearanceStream()};wo(Vv,ii);var Tf=function(){Td.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,13)},set:function(t){t?this.Ff=Mn(this.Ff,13):this.Ff=Ln(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,21)},set:function(t){t?this.Ff=Mn(this.Ff,21):this.Ff=Ln(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,23)},set:function(t){t?this.Ff=Mn(this.Ff,23):this.Ff=Ln(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,24)},set:function(t){t?this.Ff=Mn(this.Ff,24):this.Ff=Ln(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,25)},set:function(t){t?this.Ff=Mn(this.Ff,25):this.Ff=Ln(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,26)},set:function(t){t?this.Ff=Mn(this.Ff,26):this.Ff=Ln(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};wo(Tf,Td);var Wv=function(){Tf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,14)},set:function(e){e?this.Ff=Mn(this.Ff,14):this.Ff=Ln(this.Ff,14)}}),this.password=!0};wo(Wv,Tf);var pa={CheckBox:{createAppearanceStream:function(){return{N:{On:pa.CheckBox.YesNormal},D:{On:pa.CheckBox.YesPushDown,Off:pa.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=lu(e);t.scope=e.scope;var a=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=KC(e,e.caption);return a.push("0.749023 g"),a.push("0 0 "+Za(pa.internal.getWidth(e))+" "+Za(pa.internal.getHeight(e))+" re"),a.push("f"),a.push("BMC"),a.push("q"),a.push("0 0 1 rg"),a.push("/"+r+" "+Za(i.fontSize)+" Tf "+n),a.push("BT"),a.push(i.text),a.push("ET"),a.push("Q"),a.push("EMC"),t.stream=a.join(`
`),t},YesNormal:function(e){var t=lu(e);t.scope=e.scope;var a=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),n=[],i=pa.internal.getHeight(e),l=pa.internal.getWidth(e),o=KC(e,e.caption);return n.push("1 g"),n.push("0 0 "+Za(l)+" "+Za(i)+" re"),n.push("f"),n.push("q"),n.push("0 0 1 rg"),n.push("0 0 "+Za(l-1)+" "+Za(i-1)+" re"),n.push("W"),n.push("n"),n.push("0 g"),n.push("BT"),n.push("/"+a+" "+Za(o.fontSize)+" Tf "+r),n.push(o.text),n.push("ET"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=lu(e);t.scope=e.scope;var a=[];return a.push("0.749023 g"),a.push("0 0 "+Za(pa.internal.getWidth(e))+" "+Za(pa.internal.getHeight(e))+" re"),a.push("f"),t.stream=a.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:pa.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=pa.RadioButton.Circle.YesNormal,t.D[e]=pa.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=lu(e);t.scope=e.scope;var a=[],r=pa.internal.getWidth(e)<=pa.internal.getHeight(e)?pa.internal.getWidth(e)/4:pa.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var n=pa.internal.Bezier_C,i=Number((r*n).toFixed(5));return a.push("q"),a.push("1 0 0 1 "+gf(pa.internal.getWidth(e)/2)+" "+gf(pa.internal.getHeight(e)/2)+" cm"),a.push(r+" 0 m"),a.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),a.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),a.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),a.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),a.push("f"),a.push("Q"),t.stream=a.join(`
`),t},YesPushDown:function(e){var t=lu(e);t.scope=e.scope;var a=[],r=pa.internal.getWidth(e)<=pa.internal.getHeight(e)?pa.internal.getWidth(e)/4:pa.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var n=Number((2*r).toFixed(5)),i=Number((n*pa.internal.Bezier_C).toFixed(5)),l=Number((r*pa.internal.Bezier_C).toFixed(5));return a.push("0.749023 g"),a.push("q"),a.push("1 0 0 1 "+gf(pa.internal.getWidth(e)/2)+" "+gf(pa.internal.getHeight(e)/2)+" cm"),a.push(n+" 0 m"),a.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),a.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),a.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),a.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),a.push("f"),a.push("Q"),a.push("0 g"),a.push("q"),a.push("1 0 0 1 "+gf(pa.internal.getWidth(e)/2)+" "+gf(pa.internal.getHeight(e)/2)+" cm"),a.push(r+" 0 m"),a.push(r+" "+l+" "+l+" "+r+" 0 "+r+" c"),a.push("-"+l+" "+r+" -"+r+" "+l+" -"+r+" 0 c"),a.push("-"+r+" -"+l+" -"+l+" -"+r+" 0 -"+r+" c"),a.push(l+" -"+r+" "+r+" -"+l+" "+r+" 0 c"),a.push("f"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=lu(e);t.scope=e.scope;var a=[],r=pa.internal.getWidth(e)<=pa.internal.getHeight(e)?pa.internal.getWidth(e)/4:pa.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var n=Number((2*r).toFixed(5)),i=Number((n*pa.internal.Bezier_C).toFixed(5));return a.push("0.749023 g"),a.push("q"),a.push("1 0 0 1 "+gf(pa.internal.getWidth(e)/2)+" "+gf(pa.internal.getHeight(e)/2)+" cm"),a.push(n+" 0 m"),a.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),a.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),a.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),a.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),a.push("f"),a.push("Q"),t.stream=a.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:pa.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=pa.RadioButton.Cross.YesNormal,t.D[e]=pa.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=lu(e);t.scope=e.scope;var a=[],r=pa.internal.calculateCross(e);return a.push("q"),a.push("1 1 "+Za(pa.internal.getWidth(e)-2)+" "+Za(pa.internal.getHeight(e)-2)+" re"),a.push("W"),a.push("n"),a.push(Za(r.x1.x)+" "+Za(r.x1.y)+" m"),a.push(Za(r.x2.x)+" "+Za(r.x2.y)+" l"),a.push(Za(r.x4.x)+" "+Za(r.x4.y)+" m"),a.push(Za(r.x3.x)+" "+Za(r.x3.y)+" l"),a.push("s"),a.push("Q"),t.stream=a.join(`
`),t},YesPushDown:function(e){var t=lu(e);t.scope=e.scope;var a=pa.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+Za(pa.internal.getWidth(e))+" "+Za(pa.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Za(pa.internal.getWidth(e)-2)+" "+Za(pa.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Za(a.x1.x)+" "+Za(a.x1.y)+" m"),r.push(Za(a.x2.x)+" "+Za(a.x2.y)+" l"),r.push(Za(a.x4.x)+" "+Za(a.x4.y)+" m"),r.push(Za(a.x3.x)+" "+Za(a.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=lu(e);t.scope=e.scope;var a=[];return a.push("0.749023 g"),a.push("0 0 "+Za(pa.internal.getWidth(e))+" "+Za(pa.internal.getHeight(e))+" re"),a.push("f"),t.stream=a.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+a}};pa.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=pa.internal.getWidth(e),a=pa.internal.getHeight(e),r=Math.min(t,a);return{x1:{x:(t-r)/2,y:(a-r)/2+r},x2:{x:(t-r)/2+r,y:(a-r)/2},x3:{x:(t-r)/2,y:(a-r)/2},x4:{x:(t-r)/2+r,y:(a-r)/2+r}}}},pa.internal.getWidth=function(e){var t=0;return tr(e)==="object"&&(t=ER(e.Rect[2])),t},pa.internal.getHeight=function(e){var t=0;return tr(e)==="object"&&(t=ER(e.Rect[3])),t};var lSe=hn.addField=function(e){if(iSe(this,e),!(e instanceof Td))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};hn.AcroFormChoiceField=lm,hn.AcroFormListBox=om,hn.AcroFormComboBox=cm,hn.AcroFormEditBox=zv,hn.AcroFormButton=ii,hn.AcroFormPushButton=Hv,hn.AcroFormRadioButton=dm,hn.AcroFormCheckBox=Vv,hn.AcroFormTextField=Tf,hn.AcroFormPasswordField=Wv,hn.AcroFormAppearance=pa,hn.AcroForm={ChoiceField:lm,ListBox:om,ComboBox:cm,EditBox:zv,Button:ii,PushButton:Hv,RadioButton:dm,CheckBox:Vv,TextField:Tf,PasswordField:Wv,Appearance:pa},ga.AcroForm={ChoiceField:lm,ListBox:om,ComboBox:cm,EditBox:zv,Button:ii,PushButton:Hv,RadioButton:dm,CheckBox:Vv,TextField:Tf,PasswordField:Wv,Appearance:pa};var oSe=ga.AcroForm;function SG(e){return e.reduce(function(t,a,r){return t[a]=r,t},{})}(function(e){var t="addImage_";e.__addimage__={};var a="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(M,U){var P,F,K,V,J,Q=a;if((U=U||a)==="RGBA"||M.data!==void 0&&M.data instanceof Uint8ClampedArray&&"height"in M&&"width"in M)return"RGBA";if(_(M))for(J in r)for(K=r[J],P=0;P<K.length;P+=1){for(V=!0,F=0;F<K[P].length;F+=1)if(K[P][F]!==void 0&&K[P][F]!==M[F]){V=!1;break}if(V===!0){Q=J;break}}else for(J in r)for(K=r[J],P=0;P<K.length;P+=1){for(V=!0,F=0;F<K[P].length;F+=1)if(K[P][F]!==void 0&&K[P][F]!==M.charCodeAt(F)){V=!1;break}if(V===!0){Q=J;break}}return Q===a&&U!==a&&(Q=U),Q},i=function M(U){for(var P=this.internal.write,F=this.internal.putStream,K=(0,this.internal.getFilters)();K.indexOf("FlateEncode")!==-1;)K.splice(K.indexOf("FlateEncode"),1);U.objectId=this.internal.newObject();var V=[];if(V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Image"}),V.push({key:"Width",value:U.width}),V.push({key:"Height",value:U.height}),U.colorSpace===j.INDEXED?V.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(U.palette.length/3-1)+" "+("sMask"in U&&U.sMask!==void 0?U.objectId+2:U.objectId+1)+" 0 R]"}):(V.push({key:"ColorSpace",value:"/"+U.colorSpace}),U.colorSpace===j.DEVICE_CMYK&&V.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),V.push({key:"BitsPerComponent",value:U.bitsPerComponent}),"decodeParameters"in U&&U.decodeParameters!==void 0&&V.push({key:"DecodeParms",value:"<<"+U.decodeParameters+">>"}),"transparency"in U&&Array.isArray(U.transparency)&&U.transparency.length>0){for(var J="",Q=0,z=U.transparency.length;Q<z;Q++)J+=U.transparency[Q]+" "+U.transparency[Q]+" ";V.push({key:"Mask",value:"["+J+"]"})}U.sMask!==void 0&&V.push({key:"SMask",value:U.objectId+1+" 0 R"});var X=U.filter!==void 0?["/"+U.filter]:void 0;if(F({data:U.data,additionalKeyValues:V,alreadyAppliedFilters:X,objectId:U.objectId}),P("endobj"),"sMask"in U&&U.sMask!==void 0){var le,O=(le=U.sMaskBitsPerComponent)!==null&&le!==void 0?le:U.bitsPerComponent,q={width:U.width,height:U.height,colorSpace:"DeviceGray",bitsPerComponent:O,data:U.sMask};"filter"in U&&(q.decodeParameters="/Predictor ".concat(U.predictor," /Colors 1 /BitsPerComponent ").concat(O," /Columns ").concat(U.width),q.filter=U.filter),M.call(this,q)}if(U.colorSpace===j.INDEXED){var W=this.internal.newObject();F({data:D(new Uint8Array(U.palette)),objectId:W}),P("endobj")}},l=function(){var M=this.internal.collections[t+"images"];for(var U in M)i.call(this,M[U])},o=function(){var M,U=this.internal.collections[t+"images"],P=this.internal.write;for(var F in U)P("/I"+(M=U[F]).index,M.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",o))},d=function(){var M=this.internal.collections[t+"images"];return c.call(this),M},u=function(){return Object.keys(this.internal.collections[t+"images"]).length},f=function(M){return typeof e["process"+M.toUpperCase()]=="function"},p=function(M){return tr(M)==="object"&&M.nodeType===1},m=function(M,U){if(M.nodeName==="IMG"&&M.hasAttribute("src")){var P=""+M.getAttribute("src");if(P.indexOf("data:image/")===0)return X2(unescape(P).split("base64,").pop());var F=e.loadFile(P,!0);if(F!==void 0)return F}if(M.nodeName==="CANVAS"){if(M.width===0||M.height===0)throw new Error("Given canvas must have data. Canvas width: "+M.width+", height: "+M.height);var K;switch(U){case"PNG":K="image/png";break;case"WEBP":K="image/webp";break;default:K="image/jpeg"}return X2(M.toDataURL(K,1).split("base64,").pop())}},v=function(M){var U=this.internal.collections[t+"images"];if(U){for(var P in U)if(M===U[P].alias)return U[P]}},g=function(M,U,P){return M||U||(M=-96,U=-96),M<0&&(M=-1*P.width*72/M/this.internal.scaleFactor),U<0&&(U=-1*P.height*72/U/this.internal.scaleFactor),M===0&&(M=U*P.width/P.height),U===0&&(U=M*P.height/P.width),[M,U]},b=function(M,U,P,F,K,V){var J=g.call(this,P,F,K),Q=this.internal.getCoordinateString,z=this.internal.getVerticalCoordinateString,X=d.call(this);if(P=J[0],F=J[1],X[K.index]=K,V){V*=Math.PI/180;var le=Math.cos(V),O=Math.sin(V),q=function(te){return te.toFixed(4)},W=[q(le),q(O),q(-1*O),q(le),0,0,"cm"]}this.internal.write("q"),V?(this.internal.write([1,"0","0",1,Q(M),z(U+F),"cm"].join(" ")),this.internal.write(W.join(" ")),this.internal.write([Q(P),"0","0",Q(F),"0","0","cm"].join(" "))):this.internal.write([Q(P),"0","0",Q(F),Q(M),z(U+F),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+K.index+" Do"),this.internal.write("Q")},j=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var k=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},S=e.__addimage__.sHashCode=function(M){var U,P,F=0;if(typeof M=="string")for(P=M.length,U=0;U<P;U++)F=(F<<5)-F+M.charCodeAt(U),F|=0;else if(_(M))for(P=M.byteLength/2,U=0;U<P;U++)F=(F<<5)-F+M[U],F|=0;return F},N=e.__addimage__.validateStringAsBase64=function(M){(M=M||"").toString().trim();var U=!0;return M.length===0&&(U=!1),M.length%4!=0&&(U=!1),/^[A-Za-z0-9+/]+$/.test(M.substr(0,M.length-2))===!1&&(U=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(M.substr(-2))===!1&&(U=!1),U},A=e.__addimage__.extractImageFromDataUrl=function(M){if(M==null||!(M=M.trim()).startsWith("data:"))return null;var U=M.indexOf(",");return U<0?null:M.substring(0,U).trim().endsWith("base64")?M.substring(U+1):null};e.__addimage__.isArrayBuffer=function(M){return M instanceof ArrayBuffer};var _=e.__addimage__.isArrayBufferView=function(M){return M instanceof Int8Array||M instanceof Uint8Array||M instanceof Uint8ClampedArray||M instanceof Int16Array||M instanceof Uint16Array||M instanceof Int32Array||M instanceof Uint32Array||M instanceof Float32Array||M instanceof Float64Array},E=e.__addimage__.binaryStringToUint8Array=function(M){for(var U=M.length,P=new Uint8Array(U),F=0;F<U;F++)P[F]=M.charCodeAt(F);return P},D=e.__addimage__.arrayBufferToBinaryString=function(M){for(var U="",P=_(M)?M:new Uint8Array(M),F=0;F<P.length;F+=8192)U+=String.fromCharCode.apply(null,P.subarray(F,F+8192));return U};e.addImage=function(){var M,U,P,F,K,V,J,Q,z;if(typeof arguments[1]=="number"?(U=a,P=arguments[1],F=arguments[2],K=arguments[3],V=arguments[4],J=arguments[5],Q=arguments[6],z=arguments[7]):(U=arguments[1],P=arguments[2],F=arguments[3],K=arguments[4],V=arguments[5],J=arguments[6],Q=arguments[7],z=arguments[8]),tr(M=arguments[0])==="object"&&!p(M)&&"imageData"in M){var X=M;M=X.imageData,U=X.format||U||a,P=X.x||P||0,F=X.y||F||0,K=X.w||X.width||K,V=X.h||X.height||V,J=X.alias||J,Q=X.compression||Q,z=X.rotation||X.angle||z}var le=this.internal.getFilters();if(Q===void 0&&le.indexOf("FlateEncode")!==-1&&(Q="SLOW"),isNaN(P)||isNaN(F))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var O=R.call(this,M,U,J,Q);return b.call(this,P,F,K,V,O,z),this};var R=function(M,U,P,F){var K,V,J;if(typeof M=="string"&&n(M)===a){M=unescape(M);var Q=I(M,!1);(Q!==""||(Q=e.loadFile(M,!0))!==void 0)&&(M=Q)}if(p(M)&&(M=m(M,U)),U=n(M,U),!f(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(((J=P)==null||J.length===0)&&(P=(function(z){return typeof z=="string"||_(z)?S(z):_(z.data)?S(z.data):null})(M)),(K=v.call(this,P))||(M instanceof Uint8Array||U==="RGBA"||(V=M,M=E(M)),K=this["process"+U.toUpperCase()](M,u.call(this),P,(function(z){return z&&typeof z=="string"&&(z=z.toUpperCase()),z in e.image_compression?z:k.NONE})(F),V)),!K)throw new Error("An unknown error occurred whilst processing the image.");return K},I=e.__addimage__.convertBase64ToBinaryString=function(M,U){U=typeof U!="boolean"||U;var P,F="";if(typeof M=="string"){var K;P=(K=A(M))!==null&&K!==void 0?K:M;try{F=X2(P)}catch(V){if(U)throw N(P)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+V.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return F};e.getImageProperties=function(M){var U,P,F="";if(p(M)&&(M=m(M)),typeof M=="string"&&n(M)===a&&((F=I(M,!1))===""&&(F=e.loadFile(M)||""),M=F),P=n(M),!f(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(M instanceof Uint8Array||(M=E(M)),!(U=this["process"+P.toUpperCase()](M)))throw new Error("An unknown error occurred whilst processing the image");return U.fileType=P,U}})(ga.API),(function(e){var t=function(a){if(a!==void 0&&a!="")return!0};ga.API.events.push(["addPage",function(a){this.internal.getPageInfo(a.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(a){for(var r,n,i,l=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(a.objId),d=a.pageContext.annotations,u=!1,f=0;f<d.length&&!u;f++)switch((r=d[f]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var p=0;p<d.length;p++){r=d[p];var m=this.internal.pdfEscape,v=this.internal.getEncryptor(a.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),j=this.internal.getEncryptor(g.objId),k=r.title||"Note";i="<</Type /Annot /Subtype /Text "+(n="/Rect ["+l(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+m(j(r.contents))+")",i+=" /Popup "+b.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+m(j(k))+") >>",g.content=i;var S=g.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+l(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+S,r.open&&(i+=" /Open true"),i+=" >>",b.content=i,this.internal.write(g.objId,"0 R",b.objId,"0 R");break;case"freetext":n="/Rect ["+l(r.bounds.x)+" "+o(r.bounds.y)+" "+l(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var N=r.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+m(v(r.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+N+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(r.options.name){var A=this.annotations._nameMap[r.options.name];r.options.pageNumber=A.page,r.options.top=A.y}else r.options.top||(r.options.top=0);if(n="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",i="",r.options.url)i="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+m(v(r.options.url))+") >>";else if(r.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,i+=" /FitV "+r.options.left+"]";break;default:var _=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),i+=" /XYZ "+r.options.left+" "+_+" "+r.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(a){var r=this.internal.getCurrentPageInfo();switch(a.type){case"link":this.link(a.bounds.x,a.bounds.y,a.bounds.w,a.bounds.h,a);break;case"text":case"freetext":r.pageContext.annotations.push(a)}},e.link=function(a,r,n,i,l){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(a),y:d(r),w:c(a+n),h:d(r+i)},options:l,type:"link"})},e.textWithLink=function(a,r,n,i){var l,o,c=this.getTextWidth(a),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var u=this.splitTextToSize(a,o).length;l=Math.ceil(d*u)}else o=c,l=d;return this.text(a,r,n,i),n+=.2*d,i.align==="center"&&(r-=c/2),i.align==="right"&&(r-=c),this.link(r,n-d,o,l,i),c},e.getTextWidth=function(a){var r=this.internal.getFontSize();return this.getStringUnitWidth(a)*r/this.internal.scaleFactor}})(ga.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},a={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},n=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},l=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},o=e.__arabicParser__.isArabicEndLetter=function(g){return l(g)&&i(g)&&t[g.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(g){return l(g)&&n.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return l(g)&&i(g)&&t[g.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return l(g)&&i(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return l(g)&&i(g)&&t[g.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return l(g)&&i(g)&&t[g.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(g){var b=0,j=a,k="",S=0;for(b=0;b<g.length;b+=1)j[g.charCodeAt(b)]!==void 0?(S++,typeof(j=j[g.charCodeAt(b)])=="number"&&(k+=String.fromCharCode(j),j=a,S=0),b===g.length-1&&(j=a,k+=g.charAt(b-(S-1)),b-=S-1,S=0)):(j=a,k+=g.charAt(b-S),b-=S,S=0);return k};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&r[g.charCodeAt(0)]!==void 0};var p=e.__arabicParser__.getCorrectForm=function(g,b,j){return l(g)?i(g)===!1?-1:!d(g)||!l(b)&&!l(j)||!l(j)&&o(b)||o(g)&&!l(b)||o(g)&&c(b)||o(g)&&o(b)?0:u(g)&&l(b)&&!o(b)&&l(j)&&d(j)?3:o(g)||!l(j)?1:2:-1},m=function(g){var b=0,j=0,k=0,S="",N="",A="",_=(g=g||"").split("\\s+"),E=[];for(b=0;b<_.length;b+=1){for(E.push(""),j=0;j<_[b].length;j+=1)S=_[b][j],N=_[b][j-1],A=_[b][j+1],l(S)?(k=p(S,N,A),E[b]+=k!==-1?String.fromCharCode(t[S.charCodeAt(0)][k]):S):E[b]+=S;E[b]=f(E[b])}return E.join(" ")},v=e.__arabicParser__.processArabic=e.processArabic=function(){var g,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,j=[];if(Array.isArray(b)){var k=0;for(j=[],k=0;k<b.length;k+=1)Array.isArray(b[k])?j.push([m(b[k][0]),b[k][1],b[k][2]]):j.push([m(b[k])]);g=j}else g=m(b);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",v])})(ga.API),ga.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(e){var t=function(){var a=void 0;Object.defineProperty(this,"pdf",{get:function(){return a},set:function(o){a=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(o){l=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(a,r){var n;if((a=a||"2d")!=="2d")return null;for(n in r)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=r[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(ga.API),(function(e){var t={left:0,top:0,bottom:0,right:0},a=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),n.call(this))},n=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(g){m=g}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(g){v=g}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,d){r.call(this);var u=(d=d||{}).fontSize||this.getFontSize(),f=d.font||this.getFont(),p=d.scaleFactor||this.internal.scaleFactor,m=0,v=0,g=0,b=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var j=d.maxWidth;j>0?typeof c=="string"?c=this.splitTextToSize(c,j):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(S,N){return S.concat(b.splitTextToSize(N,j))},[])):c=Array.isArray(c)?c:[c];for(var k=0;k<c.length;k++)m<(g=this.getStringUnitWidth(c[k],{font:f})*u)&&(m=g);return m!==0&&(v=c.length),{w:m/=p,h:Math.max((v*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/p,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var d=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,p=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,m&&p&&(this.printHeaderRow(c.lineNumber,!0),c.y+=p[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,a===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-u,c.y+u,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+u,{align:"center",baseline:"top",maxWidth:c.width-u-u}):this.text(c.text,c.x+u,c.y+u,{align:"left",baseline:"top",maxWidth:c.width-u-u})),this.internal.__cell__.lastCell=c,this};e.table=function(c,d,u,f,p){if(r.call(this),!u)throw new Error("No data for PDF table.");var m,v,g,b,j=[],k=[],S=[],N={},A={},_=[],E=[],D=(p=p||{}).autoSize||!1,R=p.printHeaders!==!1,I=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,M=p.margins||Object.assign({width:this.getPageWidth()},t),U=typeof p.padding=="number"?p.padding:3,P=p.headerBackgroundColor||"#c8c8c8",F=p.headerTextColor||"#000";if(n.call(this),this.internal.__cell__.printHeaders=R,this.internal.__cell__.margins=M,this.internal.__cell__.table_font_size=I,this.internal.__cell__.padding=U,this.internal.__cell__.headerBackgroundColor=P,this.internal.__cell__.headerTextColor=F,this.setFontSize(I),f==null)k=j=Object.keys(u[0]),S=j.map(function(){return"left"});else if(Array.isArray(f)&&tr(f[0])==="object")for(j=f.map(function(X){return X.name}),k=f.map(function(X){return X.prompt||X.name||""}),S=f.map(function(X){return X.align||"left"}),m=0;m<f.length;m+=1)A[f[m].name]=.7499990551181103*f[m].width;else Array.isArray(f)&&typeof f[0]=="string"&&(k=j=f,S=j.map(function(){return"left"}));if(D||Array.isArray(f)&&typeof f[0]=="string")for(m=0;m<j.length;m+=1){for(N[b=j[m]]=u.map(function(X){return X[b]}),this.setFont(void 0,"bold"),_.push(this.getTextDimensions(k[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=N[b],this.setFont(void 0,"normal"),g=0;g<v.length;g+=1)_.push(this.getTextDimensions(v[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);A[b]=Math.max.apply(null,_)+U+U,_=[]}if(R){var K={};for(m=0;m<j.length;m+=1)K[j[m]]={},K[j[m]].text=k[m],K[j[m]].align=S[m];var V=o.call(this,K,A);E=j.map(function(X){return new i(c,d,A[X],V,K[X].text,void 0,K[X].align)}),this.setTableHeaderRow(E),this.printHeaderRow(1,!1)}var J=f.reduce(function(X,le){return X[le.name]=le.align,X},{});for(m=0;m<u.length;m+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:m,data:u[m]},this);var Q=o.call(this,u[m],A);for(g=0;g<j.length;g+=1){var z=u[m][j[g]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:m,col:g,data:z},this),l.call(this,new i(c,d,A[j[g]],Q,z,m+2,J[j[g]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var o=function(c,d){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(c).map(function(m){var v=c[m];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,d[m]-u-u)},this).map(function(m){return this.getLineHeightFactor()*m.length*f/p+u+u},this).reduce(function(m,v){return Math.max(m,v)},0)};e.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(a=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){u=this.internal.__cell__.tableHeaderRow[m].clone(),d&&(u.y=this.internal.__cell__.margins.top||0,p.push(u)),u.lineNumber=c;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,u),this.setTextColor(v)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),a=!1}})(ga.API);var CG={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},AG=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],YC=SG(AG),_G=[100,200,300,400,500,600,700,800,900],cSe=SG(_G);function B3(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),a=(function(i){return CG[i=i||"normal"]?i:"normal"})(e.style),r=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(e.weight),n=(function(i){return typeof YC[i=i||"normal"]=="number"?i:"normal"})(e.stretch);return{family:t,style:a,weight:r,stretch:n,src:e.src||[],ref:e.ref||{name:t,style:[n,a,r].join(" ")}}}function TR(e,t,a,r){var n;for(n=a;n>=0&&n<t.length;n+=r)if(e[t[n]])return e[t[n]];for(n=a;n>=0&&n<t.length;n-=r)if(e[t[n]])return e[t[n]]}var dSe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},DR={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function PR(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function MR(e){return e.trimLeft()}function uSe(e,t){for(var a=0;a<e.length;){if(e.charAt(a)===t)return[e.substring(0,a),e.substring(a+1)];a+=1}return null}function hSe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var p2,LR,OR,Fp,x2,RR,FR,IR,$3=["times"];function BR(e,t,a,r,n){var i=4,l=UR;switch(n){case ga.API.image_compression.FAST:i=1,l=$R;break;case ga.API.image_compression.MEDIUM:i=6,l=zR;break;case ga.API.image_compression.SLOW:i=9,l=HR}e=(function(c,d,u,f){for(var p,m=c.length/d,v=new Uint8Array(c.length+m),g=[fSe,$R,UR,zR,HR],b=0;b<m;b+=1){var j=b*d,k=c.subarray(j,j+d);if(f)v.set(f(k,u,p),j+b);else{for(var S=g.length,N=[],A=0;A<S;A+=1)N[A]=g[A](k,u,p);var _=pSe(N.concat());v.set(N[_],j+b)}p=k}return v})(e,t,Math.ceil(a*r/8),l);var o=zC(e,{level:i});return ga.API.__addimage__.arrayBufferToBinaryString(o)}function fSe(e){var t=Array.apply([],e);return t.unshift(0),t}function $R(e,t){var a=e.length,r=[];r[0]=1;for(var n=0;n<a;n+=1){var i=e[n-t]||0;r[n+1]=e[n]-i+256&255}return r}function UR(e,t,a){var r=e.length,n=[];n[0]=2;for(var i=0;i<r;i+=1){var l=a&&a[i]||0;n[i+1]=e[i]-l+256&255}return n}function zR(e,t,a){var r=e.length,n=[];n[0]=3;for(var i=0;i<r;i+=1){var l=e[i-t]||0,o=a&&a[i]||0;n[i+1]=e[i]+256-(l+o>>>1)&255}return n}function HR(e,t,a){var r=e.length,n=[];n[0]=4;for(var i=0;i<r;i+=1){var l=mSe(e[i-t]||0,a&&a[i]||0,a&&a[i-t]||0);n[i+1]=e[i]-l+256&255}return n}function mSe(e,t,a){if(e===t&&t===a)return e;var r=Math.abs(t-a),n=Math.abs(e-a),i=Math.abs(e+t-a-a);return r<=n&&r<=i?e:n<=i?t:a}function pSe(e){var t=e.map(function(a){return a.reduce(function(r,n){return r+Math.abs(n)},0)});return t.indexOf(Math.min.apply(null,t))}function U3(e,t,a){var r=t*a,n=Math.floor(r/8),i=16-(r-8*n+a),l=(1<<a)-1;return EG(e,n)>>i&l}function VR(e,t,a,r){var n=a*r,i=Math.floor(n/8),l=16-(n-8*i+r),o=(1<<r)-1,c=(t&o)<<l;(function(d,u,f){if(u+1<d.byteLength)d.setUint16(u,f,!1);else{var p=f>>8&255;d.setUint8(u,p)}})(e,i,EG(e,i)&~(o<<l)&65535|c)}function EG(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function xSe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var a=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,n=e[t++],i=n>>7,l=1<<1+(7&n);e[t++],e[t++];var o=null,c=null;i&&(o=t,c=l,t+=3*l);var d=!0,u=[],f=0,p=null,m=0,v=null;for(this.width=a,this.height=r;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,v=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((M=e[t++])>=0))throw Error("Invalid block size");if(M===0)break;t+=M}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];f=e[t++]|e[t++]<<8,p=e[t++],1&g||(p=null),m=g>>2&7,t++;break;case 254:for(;;){if(!((M=e[t++])>=0))throw Error("Invalid block size");if(M===0)break;t+=M}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var b=e[t++]|e[t++]<<8,j=e[t++]|e[t++]<<8,k=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,N=e[t++],A=N>>6&1,_=1<<1+(7&N),E=o,D=c,R=!1;N>>7&&(R=!0,E=t,D=_,t+=3*_);var I=t;for(t++;;){var M;if(!((M=e[t++])>=0))throw Error("Invalid block size");if(M===0)break;t+=M}u.push({x:b,y:j,width:k,height:S,has_local_palette:R,palette_offset:E,palette_size:D,data_offset:I,data_length:t-I,transparent_index:p,interlaced:!!A,delay:f,disposal:m});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return v},this.frameInfo=function(U){if(U<0||U>=u.length)throw new Error("Frame index out of range.");return u[U]},this.decodeAndBlitFrameBGRA=function(U,P){var F=this.frameInfo(U),K=F.width*F.height,V=new Uint8Array(K);WR(e,F.data_offset,V,K);var J=F.palette_offset,Q=F.transparent_index;Q===null&&(Q=256);var z=F.width,X=a-z,le=z,O=4*(F.y*a+F.x),q=4*((F.y+F.height)*a+F.x),W=O,te=4*X;F.interlaced===!0&&(te+=4*a*7);for(var re=8,oe=0,ce=V.length;oe<ce;++oe){var G=V[oe];if(le===0&&(le=z,(W+=te)>=q&&(te=4*X+4*a*(re-1),W=O+(z+X)*(re<<1),re>>=1)),G===Q)W+=4;else{var ie=e[J+3*G],ye=e[J+3*G+1],se=e[J+3*G+2];P[W++]=se,P[W++]=ye,P[W++]=ie,P[W++]=255}--le}},this.decodeAndBlitFrameRGBA=function(U,P){var F=this.frameInfo(U),K=F.width*F.height,V=new Uint8Array(K);WR(e,F.data_offset,V,K);var J=F.palette_offset,Q=F.transparent_index;Q===null&&(Q=256);var z=F.width,X=a-z,le=z,O=4*(F.y*a+F.x),q=4*((F.y+F.height)*a+F.x),W=O,te=4*X;F.interlaced===!0&&(te+=4*a*7);for(var re=8,oe=0,ce=V.length;oe<ce;++oe){var G=V[oe];if(le===0&&(le=z,(W+=te)>=q&&(te=4*X+4*a*(re-1),W=O+(z+X)*(re<<1),re>>=1)),G===Q)W+=4;else{var ie=e[J+3*G],ye=e[J+3*G+1],se=e[J+3*G+2];P[W++]=ie,P[W++]=ye,P[W++]=se,P[W++]=255}--le}}}function WR(e,t,a,r){for(var n=e[t++],i=1<<n,l=i+1,o=l+1,c=n+1,d=(1<<c)-1,u=0,f=0,p=0,m=e[t++],v=new Int32Array(4096),g=null;;){for(;u<16&&m!==0;)f|=e[t++]<<u,u+=8,m===1?m=e[t++]:--m;if(u<c)break;var b=f&d;if(f>>=c,u-=c,b!==i){if(b===l)break;for(var j=b<o?b:g,k=0,S=j;S>i;)S=v[S]>>8,++k;var N=S;if(p+k+(j!==b?1:0)>r)return void fr.log("Warning, gif stream longer than expected.");a[p++]=N;var A=p+=k;for(j!==b&&(a[p++]=N),S=j;k--;)S=v[S],a[--A]=255&S,S>>=8;g!==null&&o<4096&&(v[o++]=g<<8|N,o>=d+1&&c<12&&(++c,d=d<<1|1)),g=b}else o=l+1,d=(1<<(c=n+1))-1,g=null}return p!==r&&fr.log("Warning, gif stream shorter than expected."),a}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function z3(e){var t,a,r,n,i,l=Math.floor,o=new Array(64),c=new Array(64),d=new Array(64),u=new Array(64),f=new Array(65535),p=new Array(65535),m=new Array(64),v=new Array(64),g=[],b=0,j=7,k=new Array(64),S=new Array(64),N=new Array(64),A=new Array(256),_=new Array(2048),E=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],I=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],M=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],U=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],K=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function V(O,q){for(var W=0,te=0,re=new Array,oe=1;oe<=16;oe++){for(var ce=1;ce<=O[oe];ce++)re[q[te]]=[],re[q[te]][0]=W,re[q[te]][1]=oe,te++,W++;W*=2}return re}function J(O){for(var q=O[0],W=O[1]-1;W>=0;)q&1<<W&&(b|=1<<j),W--,--j<0&&(b==255?(Q(255),Q(0)):Q(b),j=7,b=0)}function Q(O){g.push(O)}function z(O){Q(O>>8&255),Q(255&O)}function X(O,q,W,te,re){for(var oe,ce=re[0],G=re[240],ie=(function(Z,Se){var Ne,Ye,gt,qt,at,$t,ze,Ke,Ze,ht,At=0;for(Ze=0;Ze<8;++Ze){Ne=Z[At],Ye=Z[At+1],gt=Z[At+2],qt=Z[At+3],at=Z[At+4],$t=Z[At+5],ze=Z[At+6];var Mt=Ne+(Ke=Z[At+7]),Pt=Ne-Ke,Gt=Ye+ze,Ae=Ye-ze,Tt=gt+$t,We=gt-$t,Ot=qt+at,Rt=qt-at,na=Mt+Ot,pt=Mt-Ot,lt=Gt+Tt,dt=Gt-Tt;Z[At]=na+lt,Z[At+4]=na-lt;var mt=.707106781*(dt+pt);Z[At+2]=pt+mt,Z[At+6]=pt-mt;var ut=.382683433*((na=Rt+We)-(dt=Ae+Pt)),ra=.5411961*na+ut,Aa=1.306562965*dt+ut,ua=.707106781*(lt=We+Ae),oa=Pt+ua,_s=Pt-ua;Z[At+5]=_s+ra,Z[At+3]=_s-ra,Z[At+1]=oa+Aa,Z[At+7]=oa-Aa,At+=8}for(At=0,Ze=0;Ze<8;++Ze){Ne=Z[At],Ye=Z[At+8],gt=Z[At+16],qt=Z[At+24],at=Z[At+32],$t=Z[At+40],ze=Z[At+48];var ps=Ne+(Ke=Z[At+56]),Fe=Ne-Ke,Ha=Ye+ze,is=Ye-ze,us=gt+$t,me=gt-$t,De=qt+at,ke=qt-at,_e=ps+De,Te=ps-De,Me=Ha+us,Qe=Ha-us;Z[At]=_e+Me,Z[At+32]=_e-Me;var vt=.707106781*(Qe+Te);Z[At+16]=Te+vt,Z[At+48]=Te-vt;var qe=.382683433*((_e=ke+me)-(Qe=is+Fe)),st=.5411961*_e+qe,it=1.306562965*Qe+qe,Ft=.707106781*(Me=me+is),Yt=Fe+Ft,ea=Fe-Ft;Z[At+40]=ea+st,Z[At+24]=ea-st,Z[At+8]=Yt+it,Z[At+56]=Yt-it,At++}for(Ze=0;Ze<64;++Ze)ht=Z[Ze]*Se[Ze],m[Ze]=ht>0?ht+.5|0:ht-.5|0;return m})(O,q),ye=0;ye<64;++ye)v[E[ye]]=ie[ye];var se=v[0]-W;W=v[0],se==0?J(te[0]):(J(te[p[oe=32767+se]]),J(f[oe]));for(var Ie=63;Ie>0&&v[Ie]==0;)Ie--;if(Ie==0)return J(ce),W;for(var pe,ae=1;ae<=Ie;){for(var ge=ae;v[ae]==0&&ae<=Ie;)++ae;var Re=ae-ge;if(Re>=16){pe=Re>>4;for(var ue=1;ue<=pe;++ue)J(G);Re&=15}oe=32767+v[ae],J(re[(Re<<4)+p[oe]]),J(f[oe]),ae++}return Ie!=63&&J(ce),W}function le(O){O=Math.min(Math.max(O,1),100),i!=O&&((function(q){for(var W=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],te=0;te<64;te++){var re=l((W[te]*q+50)/100);re=Math.min(Math.max(re,1),255),o[E[te]]=re}for(var oe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ce=0;ce<64;ce++){var G=l((oe[ce]*q+50)/100);G=Math.min(Math.max(G,1),255),c[E[ce]]=G}for(var ie=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ye=0,se=0;se<8;se++)for(var Ie=0;Ie<8;Ie++)d[ye]=1/(o[E[ye]]*ie[se]*ie[Ie]*8),u[ye]=1/(c[E[ye]]*ie[se]*ie[Ie]*8),ye++})(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),i=O)}this.encode=function(O,q){q&&le(q),g=new Array,b=0,j=7,z(65496),z(65504),z(16),Q(74),Q(70),Q(73),Q(70),Q(0),Q(1),Q(1),Q(0),z(1),z(1),Q(0),Q(0),(function(){z(65499),z(132),Q(0);for(var Ye=0;Ye<64;Ye++)Q(o[Ye]);Q(1);for(var gt=0;gt<64;gt++)Q(c[gt])})(),(function(Ye,gt){z(65472),z(17),Q(8),z(gt),z(Ye),Q(3),Q(1),Q(17),Q(0),Q(2),Q(17),Q(1),Q(3),Q(17),Q(1)})(O.width,O.height),(function(){z(65476),z(418),Q(0);for(var Ye=0;Ye<16;Ye++)Q(D[Ye+1]);for(var gt=0;gt<=11;gt++)Q(R[gt]);Q(16);for(var qt=0;qt<16;qt++)Q(I[qt+1]);for(var at=0;at<=161;at++)Q(M[at]);Q(1);for(var $t=0;$t<16;$t++)Q(U[$t+1]);for(var ze=0;ze<=11;ze++)Q(P[ze]);Q(17);for(var Ke=0;Ke<16;Ke++)Q(F[Ke+1]);for(var Ze=0;Ze<=161;Ze++)Q(K[Ze])})(),z(65498),z(12),Q(3),Q(1),Q(0),Q(2),Q(17),Q(3),Q(17),Q(0),Q(63),Q(0);var W=0,te=0,re=0;b=0,j=7,this.encode.displayName="_encode_";for(var oe,ce,G,ie,ye,se,Ie,pe,ae,ge=O.data,Re=O.width,ue=O.height,Z=4*Re,Se=0;Se<ue;){for(oe=0;oe<Z;){for(ye=Z*Se+oe,Ie=-1,pe=0,ae=0;ae<64;ae++)se=ye+(pe=ae>>3)*Z+(Ie=4*(7&ae)),Se+pe>=ue&&(se-=Z*(Se+1+pe-ue)),oe+Ie>=Z&&(se-=oe+Ie-Z+4),ce=ge[se++],G=ge[se++],ie=ge[se++],k[ae]=(_[ce]+_[G+256|0]+_[ie+512|0]>>16)-128,S[ae]=(_[ce+768|0]+_[G+1024|0]+_[ie+1280|0]>>16)-128,N[ae]=(_[ce+1280|0]+_[G+1536|0]+_[ie+1792|0]>>16)-128;W=X(k,d,W,t,r),te=X(S,u,te,a,n),re=X(N,u,re,a,n),oe+=32}Se+=8}if(j>=0){var Ne=[];Ne[1]=j+1,Ne[0]=(1<<j+1)-1,J(Ne)}return z(65497),new Uint8Array(g)},e=e||50,(function(){for(var O=String.fromCharCode,q=0;q<256;q++)A[q]=O(q)})(),t=V(D,R),a=V(U,P),r=V(I,M),n=V(F,K),(function(){for(var O=1,q=2,W=1;W<=15;W++){for(var te=O;te<q;te++)p[32767+te]=W,f[32767+te]=[],f[32767+te][1]=W,f[32767+te][0]=te;for(var re=-(q-1);re<=-O;re++)p[32767+re]=W,f[32767+re]=[],f[32767+re][1]=W,f[32767+re][0]=q-1+re;O<<=1,q<<=1}})(),(function(){for(var O=0;O<256;O++)_[O]=19595*O,_[O+256|0]=38470*O,_[O+512|0]=7471*O+32768,_[O+768|0]=-11059*O,_[O+1024|0]=-21709*O,_[O+1280|0]=32768*O+8421375,_[O+1536|0]=-27439*O,_[O+1792|0]=-5329*O})(),le(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function fd(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function qR(e){function t(R){if(!R)throw Error("assert :P")}function a(R,I,M){for(var U=0;4>U;U++)if(R[I+U]!=M.charCodeAt(U))return!0;return!1}function r(R,I,M,U,P){for(var F=0;F<P;F++)R[I+F]=M[U+F]}function n(R,I,M,U){for(var P=0;P<U;P++)R[I+P]=M}function i(R){return new Int32Array(R)}function l(R,I){for(var M=[],U=0;U<R;U++)M.push(new I);return M}function o(R,I){var M=[];return(function U(P,F,K){for(var V=K[F],J=0;J<V&&(P.push(K.length>F+1?[]:new I),!(K.length<F+1));J++)U(P[J],F+1,K)})(M,0,R),M}var c=function(){var R=this;function I(T,B){for(var ee=1<<B-1>>>0;T&ee;)ee>>>=1;return ee?(T&ee-1)+ee:T}function M(T,B,ee,ne,fe){t(!(ne%ee));do T[B+(ne-=ee)]=fe;while(0<ne)}function U(T,B,ee,ne,fe){if(t(2328>=fe),512>=fe)var xe=i(512);else if((xe=i(fe))==null)return 0;return(function(ve,je,Ce,Le,He,ot){var Pe,Ge,tt=je,wt=1<<Ce,nt=i(16),Nt=i(16);for(t(He!=0),t(Le!=null),t(ve!=null),t(0<Ce),Ge=0;Ge<He;++Ge){if(15<Le[Ge])return 0;++nt[Le[Ge]]}if(nt[0]==He)return 0;for(Nt[1]=0,Pe=1;15>Pe;++Pe){if(nt[Pe]>1<<Pe)return 0;Nt[Pe+1]=Nt[Pe]+nt[Pe]}for(Ge=0;Ge<He;++Ge)Pe=Le[Ge],0<Le[Ge]&&(ot[Nt[Pe]++]=Ge);if(Nt[15]==1)return(Le=new P).g=0,Le.value=ot[0],M(ve,tt,1,wt,Le),wt;var jt,Vt=-1,It=wt-1,va=0,la=1,Wa=1,da=1<<Ce;for(Ge=0,Pe=1,He=2;Pe<=Ce;++Pe,He<<=1){if(la+=Wa<<=1,0>(Wa-=nt[Pe]))return 0;for(;0<nt[Pe];--nt[Pe])(Le=new P).g=Pe,Le.value=ot[Ge++],M(ve,tt+va,He,da,Le),va=I(va,Pe)}for(Pe=Ce+1,He=2;15>=Pe;++Pe,He<<=1){if(la+=Wa<<=1,0>(Wa-=nt[Pe]))return 0;for(;0<nt[Pe];--nt[Pe]){if(Le=new P,(va&It)!=Vt){for(tt+=da,jt=1<<(Vt=Pe)-Ce;15>Vt&&!(0>=(jt-=nt[Vt]));)++Vt,jt<<=1;wt+=da=1<<(jt=Vt-Ce),ve[je+(Vt=va&It)].g=jt+Ce,ve[je+Vt].value=tt-je-Vt}Le.g=Pe-Ce,Le.value=ot[Ge++],M(ve,tt+(va>>Ce),He,da,Le),va=I(va,Pe)}}return la!=2*Nt[15]-1?0:wt})(T,B,ee,ne,fe,xe)}function P(){this.value=this.g=0}function F(){this.value=this.g=0}function K(){this.G=l(5,P),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(Yc,F)}function V(T,B,ee,ne){t(T!=null),t(B!=null),t(2147483648>ne),T.Ca=254,T.I=0,T.b=-8,T.Ka=0,T.oa=B,T.pa=ee,T.Jd=B,T.Yc=ee+ne,T.Zc=4<=ne?ee+ne-4+1:ee,ce(T)}function J(T,B){for(var ee=0;0<B--;)ee|=ie(T,128)<<B;return ee}function Q(T,B){var ee=J(T,B);return G(T)?-ee:ee}function z(T,B,ee,ne){var fe,xe=0;for(t(T!=null),t(B!=null),t(4294967288>ne),T.Sb=ne,T.Ra=0,T.u=0,T.h=0,4<ne&&(ne=4),fe=0;fe<ne;++fe)xe+=B[ee+fe]<<8*fe;T.Ra=xe,T.bb=ne,T.oa=B,T.pa=ee}function X(T){for(;8<=T.u&&T.bb<T.Sb;)T.Ra>>>=8,T.Ra+=T.oa[T.pa+T.bb]<<Xc-8>>>0,++T.bb,T.u-=8;te(T)&&(T.h=1,T.u=0)}function le(T,B){if(t(0<=B),!T.h&&B<=al){var ee=W(T)&Fi[B];return T.u+=B,X(T),ee}return T.h=1,T.u=0}function O(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function W(T){return T.Ra>>>(T.u&Xc-1)>>>0}function te(T){return t(T.bb<=T.Sb),T.h||T.bb==T.Sb&&T.u>Xc}function re(T,B){T.u=B,T.h=te(T)}function oe(T){T.u>=tc&&(t(T.u>=tc),X(T))}function ce(T){t(T!=null&&T.oa!=null),T.pa<T.Zc?(T.I=(T.oa[T.pa++]|T.I<<8)>>>0,T.b+=8):(t(T!=null&&T.oa!=null),T.pa<T.Yc?(T.b+=8,T.I=T.oa[T.pa++]|T.I<<8):T.Ka?T.b=0:(T.I<<=8,T.b+=8,T.Ka=1))}function G(T){return J(T,1)}function ie(T,B){var ee=T.Ca;0>T.b&&ce(T);var ne=T.b,fe=ee*B>>>8,xe=(T.I>>>ne>fe)+0;for(xe?(ee-=fe,T.I-=fe+1<<ne>>>0):ee=fe+1,ne=ee,fe=0;256<=ne;)fe+=8,ne>>=8;return ne=7^fe+Wd[ne],T.b-=ne,T.Ca=(ee<<ne)-1,xe}function ye(T,B,ee){T[B+0]=ee>>24&255,T[B+1]=ee>>16&255,T[B+2]=ee>>8&255,T[B+3]=255&ee}function se(T,B){return T[B+0]|T[B+1]<<8}function Ie(T,B){return se(T,B)|T[B+2]<<16}function pe(T,B){return se(T,B)|se(T,B+2)<<16}function ae(T,B){var ee=1<<B;return t(T!=null),t(0<B),T.X=i(ee),T.X==null?0:(T.Mb=32-B,T.Xa=B,1)}function ge(T,B){t(T!=null),t(B!=null),t(T.Xa==B.Xa),r(B.X,0,T.X,0,1<<B.Xa)}function Re(){this.X=[],this.Xa=this.Mb=0}function ue(T,B,ee,ne){t(ee!=null),t(ne!=null);var fe=ee[0],xe=ne[0];return fe==0&&(fe=(T*xe+B/2)/B),xe==0&&(xe=(B*fe+T/2)/T),0>=fe||0>=xe?0:(ee[0]=fe,ne[0]=xe,1)}function Z(T,B){return T+(1<<B)-1>>>B}function Se(T,B){return((4278255360&T)+(4278255360&B)>>>0&4278255360)+((16711935&T)+(16711935&B)>>>0&16711935)>>>0}function Ne(T,B){R[B]=function(ee,ne,fe,xe,ve,je,Ce){var Le;for(Le=0;Le<ve;++Le){var He=R[T](je[Ce+Le-1],fe,xe+Le);je[Ce+Le]=Se(ee[ne+Le],He)}}}function Ye(){this.ud=this.hd=this.jd=0}function gt(T,B){return((4278124286&(T^B))>>>1)+(T&B)>>>0}function qt(T){return 0<=T&&256>T?T:0>T?0:255<T?255:void 0}function at(T,B){return qt(T+(T-B+.5>>1))}function $t(T,B,ee){return Math.abs(B-ee)-Math.abs(T-ee)}function ze(T,B,ee,ne,fe,xe,ve){for(ne=xe[ve-1],ee=0;ee<fe;++ee)xe[ve+ee]=ne=Se(T[B+ee],ne)}function Ke(T,B,ee,ne,fe){var xe;for(xe=0;xe<ee;++xe){var ve=T[B+xe],je=ve>>8&255,Ce=16711935&(Ce=(Ce=16711935&ve)+((je<<16)+je));ne[fe+xe]=(4278255360&ve)+Ce>>>0}}function Ze(T,B){B.jd=255&T,B.hd=T>>8&255,B.ud=T>>16&255}function ht(T,B,ee,ne,fe,xe){var ve;for(ve=0;ve<ne;++ve){var je=B[ee+ve],Ce=je>>>8,Le=je,He=255&(He=(He=je>>>16)+((T.jd<<24>>24)*(Ce<<24>>24)>>>5));Le=255&(Le=(Le+=(T.hd<<24>>24)*(Ce<<24>>24)>>>5)+((T.ud<<24>>24)*(He<<24>>24)>>>5)),fe[xe+ve]=(4278255360&je)+(He<<16)+Le}}function At(T,B,ee,ne,fe){R[B]=function(xe,ve,je,Ce,Le,He,ot,Pe,Ge){for(Ce=ot;Ce<Pe;++Ce)for(ot=0;ot<Ge;++ot)Le[He++]=fe(je[ne(xe[ve++])])},R[T]=function(xe,ve,je,Ce,Le,He,ot){var Pe=8>>xe.b,Ge=xe.Ea,tt=xe.K[0],wt=xe.w;if(8>Pe)for(xe=(1<<xe.b)-1,wt=(1<<Pe)-1;ve<je;++ve){var nt,Nt=0;for(nt=0;nt<Ge;++nt)nt&xe||(Nt=ne(Ce[Le++])),He[ot++]=fe(tt[Nt&wt]),Nt>>=Pe}else R["VP8LMapColor"+ee](Ce,Le,tt,wt,He,ot,ve,je,Ge)}}function Mt(T,B,ee,ne,fe){for(ee=B+ee;B<ee;){var xe=T[B++];ne[fe++]=xe>>16&255,ne[fe++]=xe>>8&255,ne[fe++]=255&xe}}function Pt(T,B,ee,ne,fe){for(ee=B+ee;B<ee;){var xe=T[B++];ne[fe++]=xe>>16&255,ne[fe++]=xe>>8&255,ne[fe++]=255&xe,ne[fe++]=xe>>24&255}}function Gt(T,B,ee,ne,fe){for(ee=B+ee;B<ee;){var xe=(ve=T[B++])>>16&240|ve>>12&15,ve=240&ve|ve>>28&15;ne[fe++]=xe,ne[fe++]=ve}}function Ae(T,B,ee,ne,fe){for(ee=B+ee;B<ee;){var xe=(ve=T[B++])>>16&248|ve>>13&7,ve=ve>>5&224|ve>>3&31;ne[fe++]=xe,ne[fe++]=ve}}function Tt(T,B,ee,ne,fe){for(ee=B+ee;B<ee;){var xe=T[B++];ne[fe++]=255&xe,ne[fe++]=xe>>8&255,ne[fe++]=xe>>16&255}}function We(T,B,ee,ne,fe,xe){if(xe==0)for(ee=B+ee;B<ee;)ye(ne,((xe=T[B++])[0]>>24|xe[1]>>8&65280|xe[2]<<8&16711680|xe[3]<<24)>>>0),fe+=32;else r(ne,fe,T,B,ee)}function Ot(T,B){R[B][0]=R[T+"0"],R[B][1]=R[T+"1"],R[B][2]=R[T+"2"],R[B][3]=R[T+"3"],R[B][4]=R[T+"4"],R[B][5]=R[T+"5"],R[B][6]=R[T+"6"],R[B][7]=R[T+"7"],R[B][8]=R[T+"8"],R[B][9]=R[T+"9"],R[B][10]=R[T+"10"],R[B][11]=R[T+"11"],R[B][12]=R[T+"12"],R[B][13]=R[T+"13"],R[B][14]=R[T+"0"],R[B][15]=R[T+"0"]}function Rt(T){return T==u0||T==Gd||T==ed||T==Wh}function na(){this.eb=[],this.size=this.A=this.fb=0}function pt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function lt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new na,this.f.kb=new pt,this.sd=null}function dt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function mt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ut(T){return alert("todo:WebPSamplerProcessPlane"),T.T}function ra(T,B){var ee=T.T,ne=B.ba.f.RGBA,fe=ne.eb,xe=ne.fb+T.ka*ne.A,ve=Hn[B.ba.S],je=T.y,Ce=T.O,Le=T.f,He=T.N,ot=T.ea,Pe=T.W,Ge=B.cc,tt=B.dc,wt=B.Mc,nt=B.Nc,Nt=T.ka,jt=T.ka+T.T,Vt=T.U,It=Vt+1>>1;for(Nt==0?ve(je,Ce,null,null,Le,He,ot,Pe,Le,He,ot,Pe,fe,xe,null,null,Vt):(ve(B.ec,B.fc,je,Ce,Ge,tt,wt,nt,Le,He,ot,Pe,fe,xe-ne.A,fe,xe,Vt),++ee);Nt+2<jt;Nt+=2)Ge=Le,tt=He,wt=ot,nt=Pe,He+=T.Rc,Pe+=T.Rc,xe+=2*ne.A,ve(je,(Ce+=2*T.fa)-T.fa,je,Ce,Ge,tt,wt,nt,Le,He,ot,Pe,fe,xe-ne.A,fe,xe,Vt);return Ce+=T.fa,T.j+jt<T.o?(r(B.ec,B.fc,je,Ce,Vt),r(B.cc,B.dc,Le,He,It),r(B.Mc,B.Nc,ot,Pe,It),ee--):1&jt||ve(je,Ce,null,null,Le,He,ot,Pe,Le,He,ot,Pe,fe,xe+ne.A,null,null,Vt),ee}function Aa(T,B,ee){var ne=T.F,fe=[T.J];if(ne!=null){var xe=T.U,ve=B.ba.S,je=ve==Tu||ve==ed;B=B.ba.f.RGBA;var Ce=[0],Le=T.ka;Ce[0]=T.T,T.Kb&&(Le==0?--Ce[0]:(--Le,fe[0]-=T.width),T.j+T.ka+T.T==T.o&&(Ce[0]=T.o-T.j-Le));var He=B.eb;Le=B.fb+Le*B.A,T=Pl(ne,fe[0],T.width,xe,Ce,He,Le+(je?0:3),B.A),t(ee==Ce),T&&Rt(ve)&&Hh(He,Le,je,xe,Ce,B.A)}return 0}function ua(T){var B=T.ma,ee=B.ba.S,ne=11>ee,fe=ee==Vh||ee==d0||ee==Tu||ee==Zc||ee==12||Rt(ee);if(B.memory=null,B.Ib=null,B.Jb=null,B.Nd=null,!Vd(B.Oa,T,fe?11:12))return 0;if(fe&&Rt(ee)&&Qm(),T.da)alert("todo:use_scaling");else{if(ne){if(B.Ib=ut,T.Kb){if(ee=T.U+1>>1,B.memory=i(T.U+2*ee),B.memory==null)return 0;B.ec=B.memory,B.fc=0,B.cc=B.ec,B.dc=B.fc+T.U,B.Mc=B.cc,B.Nc=B.dc+ee,B.Ib=ra,Qm()}}else alert("todo:EmitYUV");fe&&(B.Jb=Aa,ne&&Jl())}if(ne&&!Lb){for(T=0;256>T;++T)i4[T]=89858*(T-128)+Nn>>oc,m0[T]=-22014*(T-128)+Nn,sg[T]=-45773*(T-128),kn[T]=113618*(T-128)+Nn>>oc;for(T=Xd;T<dp;++T)B=76283*(T-16)+Nn>>oc,p0[T-Xd]=Tr(B,255),rg[T-Xd]=Tr(B+8>>4,15);Lb=1}return 1}function oa(T){var B=T.ma,ee=T.U,ne=T.T;return t(!(1&T.ka)),0>=ee||0>=ne?0:(ee=B.Ib(T,B),B.Jb!=null&&B.Jb(T,B,ee),B.Dc+=ee,1)}function _s(T){T.ma.memory=null}function ps(T,B,ee,ne){return le(T,8)!=47?0:(B[0]=le(T,14)+1,ee[0]=le(T,14)+1,ne[0]=le(T,1),le(T,3)!=0?0:!T.h)}function Fe(T,B){if(4>T)return T+1;var ee=T-2>>1;return(2+(1&T)<<ee)+le(B,ee)+1}function Ha(T,B){return 120<B?B-120:1<=(ee=((ee=ad[B-1])>>4)*T+(8-(15&ee)))?ee:1;var ee}function is(T,B,ee){var ne=W(ee),fe=T[B+=255&ne].g-8;return 0<fe&&(re(ee,ee.u+8),ne=W(ee),B+=T[B].value,B+=ne&(1<<fe)-1),re(ee,ee.u+T[B].g),T[B].value}function us(T,B,ee){return ee.g+=T.g,ee.value+=T.value<<B>>>0,t(8>=ee.g),T.g}function me(T,B,ee){var ne=T.xc;return t((B=ne==0?0:T.vc[T.md*(ee>>ne)+(B>>ne)])<T.Wb),T.Ya[B]}function De(T,B,ee,ne){var fe=T.ab,xe=T.c*B,ve=T.C;B=ve+B;var je=ee,Ce=ne;for(ne=T.Ta,ee=T.Ua;0<fe--;){var Le=T.gc[fe],He=ve,ot=B,Pe=je,Ge=Ce,tt=(Ce=ne,je=ee,Le.Ea);switch(t(He<ot),t(ot<=Le.nc),Le.hc){case 2:Kr(Pe,Ge,(ot-He)*tt,Ce,je);break;case 0:var wt=He,nt=ot,Nt=Ce,jt=je,Vt=(da=Le).Ea;wt==0&&(l0(Pe,Ge,null,null,1,Nt,jt),ze(Pe,Ge+1,0,0,Vt-1,Nt,jt+1),Ge+=Vt,jt+=Vt,++wt);for(var It=1<<da.b,va=It-1,la=Z(Vt,da.b),Wa=da.K,da=da.w+(wt>>da.b)*la;wt<nt;){var xs=Wa,dn=da,Ba=1;for(Fh(Pe,Ge,Nt,jt-Vt,1,Nt,jt);Ba<Vt;){var ha=(Ba&~va)+It;ha>Vt&&(ha=Vt),(0,Bh[xs[dn++]>>8&15])(Pe,Ge+ +Ba,Nt,jt+Ba-Vt,ha-Ba,Nt,jt+Ba),Ba=ha}Ge+=Vt,jt+=Vt,++wt&va||(da+=la)}ot!=Le.nc&&r(Ce,je-tt,Ce,je+(ot-He-1)*tt,tt);break;case 1:for(tt=Pe,nt=Ge,Vt=(Pe=Le.Ea)-(jt=Pe&~(Nt=(Ge=1<<Le.b)-1)),wt=Z(Pe,Le.b),It=Le.K,Le=Le.w+(He>>Le.b)*wt;He<ot;){for(va=It,la=Le,Wa=new Ye,da=nt+jt,xs=nt+Pe;nt<da;)Ze(va[la++],Wa),$h(Wa,tt,nt,Ge,Ce,je),nt+=Ge,je+=Ge;nt<xs&&(Ze(va[la++],Wa),$h(Wa,tt,nt,Vt,Ce,je),nt+=Vt,je+=Vt),++He&Nt||(Le+=wt)}break;case 3:if(Pe==Ce&&Ge==je&&0<Le.b){for(nt=Ce,Pe=tt=je+(ot-He)*tt-(jt=(ot-He)*Z(Le.Ea,Le.b)),Ge=Ce,Nt=je,wt=[],jt=(Vt=jt)-1;0<=jt;--jt)wt[jt]=Ge[Nt+jt];for(jt=Vt-1;0<=jt;--jt)nt[Pe+jt]=wt[jt];Zm(Le,He,ot,Ce,tt,Ce,je)}else Zm(Le,He,ot,Pe,Ge,Ce,je)}je=ne,Ce=ee}Ce!=ee&&r(ne,ee,je,Ce,xe)}function ke(T,B){var ee=T.V,ne=T.Ba+T.c*T.C,fe=B-T.C;if(t(B<=T.l.o),t(16>=fe),0<fe){var xe=T.l,ve=T.Ta,je=T.Ua,Ce=xe.width;if(De(T,fe,ee,ne),fe=je=[je],t((ee=T.C)<(ne=B)),t(xe.v<xe.va),ne>xe.o&&(ne=xe.o),ee<xe.j){var Le=xe.j-ee;ee=xe.j,fe[0]+=Le*Ce}if(ee>=ne?ee=0:(fe[0]+=4*xe.v,xe.ka=ee-xe.j,xe.U=xe.va-xe.v,xe.T=ne-ee,ee=1),ee){if(je=je[0],11>(ee=T.ca).S){var He=ee.f.RGBA,ot=(ne=ee.S,fe=xe.U,xe=xe.T,Le=He.eb,He.A),Pe=xe;for(He=He.fb+T.Ma*He.A;0<Pe--;){var Ge=ve,tt=je,wt=fe,nt=Le,Nt=He;switch(ne){case wi:Uh(Ge,tt,wt,nt,Nt);break;case Vh:ac(Ge,tt,wt,nt,Nt);break;case u0:ac(Ge,tt,wt,nt,Nt),Hh(nt,Nt,0,wt,1,0);break;case rc:Jc(Ge,tt,wt,nt,Nt);break;case d0:We(Ge,tt,wt,nt,Nt,1);break;case Gd:We(Ge,tt,wt,nt,Nt,1),Hh(nt,Nt,0,wt,1,0);break;case Tu:We(Ge,tt,wt,nt,Nt,0);break;case ed:We(Ge,tt,wt,nt,Nt,0),Hh(nt,Nt,1,wt,1,0);break;case Zc:qd(Ge,tt,wt,nt,Nt);break;case Wh:qd(Ge,tt,wt,nt,Nt),Dl(nt,Nt,wt,1,0);break;case np:El(Ge,tt,wt,nt,Nt);break;default:t(0)}je+=Ce,He+=ot}T.Ma+=xe}else alert("todo:EmitRescaledRowsYUVA");t(T.Ma<=ee.height)}}T.C=B,t(T.C<=T.i)}function _e(T){var B;if(0<T.ua)return 0;for(B=0;B<T.Wb;++B){var ee=T.Ya[B].G,ne=T.Ya[B].H;if(0<ee[1][ne[1]+0].g||0<ee[2][ne[2]+0].g||0<ee[3][ne[3]+0].g)return 0}return 1}function Te(T,B,ee,ne,fe,xe){if(T.Z!=0){var ve=T.qd,je=T.rd;for(t(ic[T.Z]!=null);B<ee;++B)ic[T.Z](ve,je,ne,fe,ne,fe,xe),ve=ne,je=fe,fe+=xe;T.qd=ve,T.rd=je}}function Me(T,B){var ee=T.l.ma,ne=ee.Z==0||ee.Z==1?T.l.j:T.C;if(ne=T.C<ne?ne:T.C,t(B<=T.l.o),B>ne){var fe=T.l.width,xe=ee.ca,ve=ee.tb+fe*ne,je=T.V,Ce=T.Ba+T.c*ne,Le=T.gc;t(T.ab==1),t(Le[0].hc==3),sl(Le[0],ne,B,je,Ce,xe,ve),Te(ee,ne,B,xe,ve,fe)}T.C=T.Ma=B}function Qe(T,B,ee,ne,fe,xe,ve){var je=T.$/ne,Ce=T.$%ne,Le=T.m,He=T.s,ot=ee+T.$,Pe=ot;fe=ee+ne*fe;var Ge=ee+ne*xe,tt=280+He.ua,wt=T.Pb?je:16777216,nt=0<He.ua?He.Wa:null,Nt=He.wc,jt=ot<Ge?me(He,Ce,je):null;t(T.C<xe),t(Ge<=fe);var Vt=!1;e:for(;;){for(;Vt||ot<Ge;){var It=0;if(je>=wt){var va=ot-ee;t((wt=T).Pb),wt.wd=wt.m,wt.xd=va,0<wt.s.ua&&ge(wt.s.Wa,wt.s.vb),wt=je+Db}if(Ce&Nt||(jt=me(He,Ce,je)),t(jt!=null),jt.Qb&&(B[ot]=jt.qb,Vt=!0),!Vt)if(oe(Le),jt.jc){It=Le,va=B;var la=ot,Wa=jt.pd[W(It)&Yc-1];t(jt.jc),256>Wa.g?(re(It,It.u+Wa.g),va[la]=Wa.value,It=0):(re(It,It.u+Wa.g-256),t(256<=Wa.value),It=Wa.value),It==0&&(Vt=!0)}else It=is(jt.G[0],jt.H[0],Le);if(Le.h)break;if(Vt||256>It){if(!Vt)if(jt.nd)B[ot]=(jt.qb|It<<8)>>>0;else{if(oe(Le),Vt=is(jt.G[1],jt.H[1],Le),oe(Le),va=is(jt.G[2],jt.H[2],Le),la=is(jt.G[3],jt.H[3],Le),Le.h)break;B[ot]=(la<<24|Vt<<16|It<<8|va)>>>0}if(Vt=!1,++ot,++Ce>=ne&&(Ce=0,++je,ve!=null&&je<=xe&&!(je%16)&&ve(T,je),nt!=null))for(;Pe<ot;)It=B[Pe++],nt.X[(506832829*It&4294967295)>>>nt.Mb]=It}else if(280>It){if(It=Fe(It-256,Le),va=is(jt.G[4],jt.H[4],Le),oe(Le),va=Ha(ne,va=Fe(va,Le)),Le.h)break;if(ot-ee<va||fe-ot<It)break e;for(la=0;la<It;++la)B[ot+la]=B[ot+la-va];for(ot+=It,Ce+=It;Ce>=ne;)Ce-=ne,++je,ve!=null&&je<=xe&&!(je%16)&&ve(T,je);if(t(ot<=fe),Ce&Nt&&(jt=me(He,Ce,je)),nt!=null)for(;Pe<ot;)It=B[Pe++],nt.X[(506832829*It&4294967295)>>>nt.Mb]=It}else{if(!(It<tt))break e;for(Vt=It-280,t(nt!=null);Pe<ot;)It=B[Pe++],nt.X[(506832829*It&4294967295)>>>nt.Mb]=It;It=ot,t(!(Vt>>>(va=nt).Xa)),B[It]=va.X[Vt],Vt=!0}Vt||t(Le.h==te(Le))}if(T.Pb&&Le.h&&ot<fe)t(T.m.h),T.a=5,T.m=T.wd,T.$=T.xd,0<T.s.ua&&ge(T.s.vb,T.s.Wa);else{if(Le.h)break e;ve?.(T,je>xe?xe:je),T.a=0,T.$=ot-ee}return 1}return T.a=3,0}function vt(T){t(T!=null),T.vc=null,T.yc=null,T.Ya=null;var B=T.Wa;B!=null&&(B.X=null),T.vb=null,t(T!=null)}function qe(){var T=new ba;return T==null?null:(T.a=0,T.xb=qh,Ot("Predictor","VP8LPredictors"),Ot("Predictor","VP8LPredictors_C"),Ot("PredictorAdd","VP8LPredictorsAdd"),Ot("PredictorAdd","VP8LPredictorsAdd_C"),Kr=Ke,$h=ht,Uh=Mt,ac=Pt,qd=Gt,El=Ae,Jc=Tt,R.VP8LMapColor32b=Dr,R.VP8LMapColor8b=Ih,T)}function st(T,B,ee,ne,fe){var xe=1,ve=[T],je=[B],Ce=ne.m,Le=ne.s,He=null,ot=0;e:for(;;){if(ee)for(;xe&&le(Ce,1);){var Pe=ve,Ge=je,tt=ne,wt=1,nt=tt.m,Nt=tt.gc[tt.ab],jt=le(nt,2);if(tt.Oc&1<<jt)xe=0;else{switch(tt.Oc|=1<<jt,Nt.hc=jt,Nt.Ea=Pe[0],Nt.nc=Ge[0],Nt.K=[null],++tt.ab,t(4>=tt.ab),jt){case 0:case 1:Nt.b=le(nt,3)+2,wt=st(Z(Nt.Ea,Nt.b),Z(Nt.nc,Nt.b),0,tt,Nt.K),Nt.K=Nt.K[0];break;case 3:var Vt,It=le(nt,8)+1,va=16<It?0:4<It?1:2<It?2:3;if(Pe[0]=Z(Nt.Ea,va),Nt.b=va,Vt=wt=st(It,1,0,tt,Nt.K)){var la,Wa=It,da=Nt,xs=1<<(8>>da.b),dn=i(xs);if(dn==null)Vt=0;else{var Ba=da.K[0],ha=da.w;for(dn[0]=da.K[0][0],la=1;la<1*Wa;++la)dn[la]=Se(Ba[ha+la],dn[la-1]);for(;la<4*xs;++la)dn[la]=0;da.K[0]=null,da.K[0]=dn,Vt=1}}wt=Vt;break;case 2:break;default:t(0)}xe=wt}}if(ve=ve[0],je=je[0],xe&&le(Ce,1)&&!(xe=1<=(ot=le(Ce,4))&&11>=ot)){ne.a=3;break e}var aa;if(aa=xe)t:{var yr,qa,as,ma=ne,Ya=ve,ks=je,ur=ot,Yr=ee,Xr=ma.m,Lr=ma.s,fs=[null],Ss=1,Or=0,Ta=Pu[ur];a:for(;;){if(Yr&&le(Xr,1)){var Sn=le(Xr,3)+2,Ol=Z(Ya,Sn),Rr=Z(ks,Sn),Bi=Ol*Rr;if(!st(Ol,Rr,0,ma,fs))break a;for(fs=fs[0],Lr.xc=Sn,yr=0;yr<Bi;++yr){var Ks=fs[yr]>>8&65535;fs[yr]=Ks,Ks>=Ss&&(Ss=Ks+1)}}if(Xr.h)break a;for(qa=0;5>qa;++qa){var Jr=Ml[qa];!qa&&0<ur&&(Jr+=1<<ur),Or<Jr&&(Or=Jr)}var $i=l(Ss*Ta,P),si=Ss,rr=l(si,K);if(rr==null)var Ts=null;else t(65536>=si),Ts=rr;var ji=i(Or);if(Ts==null||ji==null||$i==null){ma.a=1;break a}var ri=$i;for(yr=as=0;yr<Ss;++yr){var Vs=Ts[yr],Ui=Vs.G,Cn=Vs.H,cc=0,Ao=1,An=0;for(qa=0;5>qa;++qa){Jr=Ml[qa],Ui[qa]=ri,Cn[qa]=as,!qa&&0<ur&&(Jr+=1<<ur);r:{var x0,up=Jr,g0=ma,Kh=ji,Fb=ri,Ib=as,v0=0,id=g0.m,o4=le(id,1);if(n(Kh,0,0,up),o4){var Bb=le(id,1)+1,$b=le(id,1),ng=le(id,$b==0?1:8);Kh[ng]=1,Bb==2&&(Kh[ng=le(id,8)]=1);var Yh=1}else{var ig=i(19),lg=le(id,4)+4;if(19<lg){g0.a=3;var b0=0;break r}for(x0=0;x0<lg;++x0)ig[td[x0]]=le(id,3);var hp=void 0,Xh=void 0,Ub=g0,zb=ig,ld=up,y0=Kh,fp=0,_o=Ub.m,Jh=8,og=l(128,P);s:for(;U(og,0,7,zb,19);){if(le(_o,1)){var Hb=2+2*le(_o,3);if((hp=2+le(_o,Hb))>ld)break s}else hp=ld;for(Xh=0;Xh<ld&&hp--;){oe(_o);var cg=og[0+(127&W(_o))];re(_o,_o.u+cg.g);var Ou=cg.value;if(16>Ou)y0[Xh++]=Ou,Ou!=0&&(Jh=Ou);else{var Vb=Ou==16,dg=Ou-16,ug=ao[dg],hg=le(_o,ip[dg])+ug;if(Xh+hg>ld)break s;for(var Wb=Vb?Jh:0;0<hg--;)y0[Xh++]=Wb}}fp=1;break s}fp||(Ub.a=3),Yh=fp}(Yh=Yh&&!id.h)&&(v0=U(Fb,Ib,8,Kh,up)),Yh&&v0!=0?b0=v0:(g0.a=3,b0=0)}if(b0==0)break a;if(Ao&&Du[qa]==1&&(Ao=ri[as].g==0),cc+=ri[as].g,as+=b0,3>=qa){var Ru,mp=ji[0];for(Ru=1;Ru<Jr;++Ru)ji[Ru]>mp&&(mp=ji[Ru]);An+=mp}}if(Vs.nd=Ao,Vs.Qb=0,Ao&&(Vs.qb=(Ui[3][Cn[3]+0].value<<24|Ui[1][Cn[1]+0].value<<16|Ui[2][Cn[2]+0].value)>>>0,cc==0&&256>Ui[0][Cn[0]+0].value&&(Vs.Qb=1,Vs.qb+=Ui[0][Cn[0]+0].value<<8)),Vs.jc=!Vs.Qb&&6>An,Vs.jc){var w0,od=Vs;for(w0=0;w0<Yc;++w0){var dc=w0,cd=od.pd[dc],j0=od.G[0][od.H[0]+dc];256<=j0.value?(cd.g=j0.g+256,cd.value=j0.value):(cd.g=0,cd.value=0,dc>>=us(j0,8,cd),dc>>=us(od.G[1][od.H[1]+dc],16,cd),dc>>=us(od.G[2][od.H[2]+dc],0,cd),us(od.G[3][od.H[3]+dc],24,cd))}}}Lr.vc=fs,Lr.Wb=Ss,Lr.Ya=Ts,Lr.yc=$i,aa=1;break t}aa=0}if(!(xe=aa)){ne.a=3;break e}if(0<ot){if(Le.ua=1<<ot,!ae(Le.Wa,ot)){ne.a=1,xe=0;break e}}else Le.ua=0;var N0=ne,fg=ve,qb=je,mg=N0.s,pg=mg.xc;if(N0.c=fg,N0.i=qb,mg.md=Z(fg,pg),mg.wc=pg==0?-1:(1<<pg)-1,ee){ne.xb=Mb;break e}if((He=i(ve*je))==null){ne.a=1,xe=0;break e}xe=(xe=Qe(ne,He,0,ve,je,je,null))&&!Ce.h;break e}return xe?(fe!=null?fe[0]=He:(t(He==null),t(ee)),ne.$=0,ee||vt(Le)):vt(Le),xe}function it(T,B){var ee=T.c*T.i,ne=ee+B+16*B;return t(T.c<=B),T.V=i(ne),T.V==null?(T.Ta=null,T.Ua=0,T.a=1,0):(T.Ta=T.V,T.Ua=T.Ba+ee+B,1)}function Ft(T,B){var ee=T.C,ne=B-ee,fe=T.V,xe=T.Ba+T.c*ee;for(t(B<=T.l.o);0<ne;){var ve=16<ne?16:ne,je=T.l.ma,Ce=T.l.width,Le=Ce*ve,He=je.ca,ot=je.tb+Ce*ee,Pe=T.Ta,Ge=T.Ua;De(T,ve,fe,xe),Au(Pe,Ge,He,ot,Le),Te(je,ee,ee+ve,He,ot,Ce),ne-=ve,fe+=ve*T.c,ee+=ve}t(ee==B),T.C=T.Ma=B}function Yt(){this.ub=this.yd=this.td=this.Rb=0}function ea(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Kt(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Xt(){this.Yb=(function(){var T=[];return(function B(ee,ne,fe){for(var xe=fe[ne],ve=0;ve<xe&&(ee.push(fe.length>ne+1?[]:0),!(fe.length<ne+1));ve++)B(ee[ve],ne+1,fe)})(T,0,[3,11]),T})()}function ya(){this.jb=i(3),this.Wc=o([4,8],Xt),this.Xc=o([4,17],Xt)}function cs(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function wa(){this.ld=this.La=this.dd=this.tc=0}function La(){this.Na=this.la=0}function an(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Jn(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ra(){this.uc=this.M=this.Nb=0,this.wa=Array(new wa),this.Y=0,this.ya=Array(new Jn),this.aa=0,this.l=new sn}function Ps(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Zi(){this.cb=this.a=0,this.sc="",this.m=new O,this.Od=new Yt,this.Kc=new ea,this.ed=new cs,this.Qa=new Kt,this.Ic=this.$c=this.Aa=0,this.D=new Ra,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,O),this.ia=0,this.pb=l(4,an),this.Pa=new ya,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ps),this.Hd=0,this.rb=Array(new La),this.sb=0,this.wa=Array(new wa),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Jn),this.L=this.aa=0,this.gd=o([4,2],wa),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function sn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Gs(){var T=new Zi;return T!=null&&(T.a=0,T.sc="OK",T.cb=0,T.Xb=0,jn||(jn=rn)),T}function hs(T,B,ee){return T.a==0&&(T.a=B,T.sc=ee,T.cb=0),0}function Vc(T,B,ee){return 3<=ee&&T[B+0]==157&&T[B+1]==1&&T[B+2]==42}function Md(T,B){if(T==null)return 0;if(T.a=0,T.sc="OK",B==null)return hs(T,2,"null VP8Io passed to VP8GetHeaders()");var ee=B.data,ne=B.w,fe=B.ha;if(4>fe)return hs(T,7,"Truncated header.");var xe=ee[ne+0]|ee[ne+1]<<8|ee[ne+2]<<16,ve=T.Od;if(ve.Rb=!(1&xe),ve.td=xe>>1&7,ve.yd=xe>>4&1,ve.ub=xe>>5,3<ve.td)return hs(T,3,"Incorrect keyframe parameters.");if(!ve.yd)return hs(T,4,"Frame not displayable.");ne+=3,fe-=3;var je=T.Kc;if(ve.Rb){if(7>fe)return hs(T,7,"cannot parse picture header");if(!Vc(ee,ne,fe))return hs(T,3,"Bad code word");je.c=16383&(ee[ne+4]<<8|ee[ne+3]),je.Td=ee[ne+4]>>6,je.i=16383&(ee[ne+6]<<8|ee[ne+5]),je.Ud=ee[ne+6]>>6,ne+=7,fe-=7,T.za=je.c+15>>4,T.Ub=je.i+15>>4,B.width=je.c,B.height=je.i,B.Da=0,B.j=0,B.v=0,B.va=B.width,B.o=B.height,B.da=0,B.ib=B.width,B.hb=B.height,B.U=B.width,B.T=B.height,n((xe=T.Pa).jb,0,255,xe.jb.length),t((xe=T.Qa)!=null),xe.Cb=0,xe.Bb=0,xe.Fb=1,n(xe.Zb,0,0,xe.Zb.length),n(xe.Lb,0,0,xe.Lb)}if(ve.ub>fe)return hs(T,7,"bad partition length");V(xe=T.m,ee,ne,ve.ub),ne+=ve.ub,fe-=ve.ub,ve.Rb&&(je.Ld=G(xe),je.Kd=G(xe)),je=T.Qa;var Ce,Le=T.Pa;if(t(xe!=null),t(je!=null),je.Cb=G(xe),je.Cb){if(je.Bb=G(xe),G(xe)){for(je.Fb=G(xe),Ce=0;4>Ce;++Ce)je.Zb[Ce]=G(xe)?Q(xe,7):0;for(Ce=0;4>Ce;++Ce)je.Lb[Ce]=G(xe)?Q(xe,6):0}if(je.Bb)for(Ce=0;3>Ce;++Ce)Le.jb[Ce]=G(xe)?J(xe,8):255}else je.Bb=0;if(xe.Ka)return hs(T,3,"cannot parse segment header");if((je=T.ed).zd=G(xe),je.Tb=J(xe,6),je.wb=J(xe,3),je.Pc=G(xe),je.Pc&&G(xe)){for(Le=0;4>Le;++Le)G(xe)&&(je.vd[Le]=Q(xe,6));for(Le=0;4>Le;++Le)G(xe)&&(je.od[Le]=Q(xe,6))}if(T.L=je.Tb==0?0:je.zd?1:2,xe.Ka)return hs(T,3,"cannot parse filter header");var He=fe;if(fe=Ce=ne,ne=Ce+He,je=He,T.Xb=(1<<J(T.m,2))-1,He<3*(Le=T.Xb))ee=7;else{for(Ce+=3*Le,je-=3*Le,He=0;He<Le;++He){var ot=ee[fe+0]|ee[fe+1]<<8|ee[fe+2]<<16;ot>je&&(ot=je),V(T.Jc[+He],ee,Ce,ot),Ce+=ot,je-=ot,fe+=3}V(T.Jc[+Le],ee,Ce,je),ee=Ce<ne?0:5}if(ee!=0)return hs(T,ee,"cannot parse partitions");for(ee=J(Ce=T.m,7),fe=G(Ce)?Q(Ce,4):0,ne=G(Ce)?Q(Ce,4):0,je=G(Ce)?Q(Ce,4):0,Le=G(Ce)?Q(Ce,4):0,Ce=G(Ce)?Q(Ce,4):0,He=T.Qa,ot=0;4>ot;++ot){if(He.Cb){var Pe=He.Zb[ot];He.Fb||(Pe+=ee)}else{if(0<ot){T.pb[ot]=T.pb[0];continue}Pe=ee}var Ge=T.pb[ot];Ge.Sc[0]=h0[Tr(Pe+fe,127)],Ge.Sc[1]=f0[Tr(Pe+0,127)],Ge.Eb[0]=2*h0[Tr(Pe+ne,127)],Ge.Eb[1]=101581*f0[Tr(Pe+je,127)]>>16,8>Ge.Eb[1]&&(Ge.Eb[1]=8),Ge.Qc[0]=h0[Tr(Pe+Le,117)],Ge.Qc[1]=f0[Tr(Pe+Ce,127)],Ge.lc=Pe+Ce}if(!ve.Rb)return hs(T,4,"Not a key frame.");for(G(xe),ve=T.Pa,ee=0;4>ee;++ee){for(fe=0;8>fe;++fe)for(ne=0;3>ne;++ne)for(je=0;11>je;++je)Le=ie(xe,Mu[ee][fe][ne][je])?J(xe,8):nc[ee][fe][ne][je],ve.Wc[ee][fe].Yb[ne][je]=Le;for(fe=0;17>fe;++fe)ve.Xc[ee][fe]=ve.Wc[ee][Pb[fe]]}return T.kc=G(xe),T.kc&&(T.Bd=J(xe,8)),T.cb=1}function rn(T,B,ee,ne,fe,xe,ve){var je=B[fe].Yb[ee];for(ee=0;16>fe;++fe){if(!ie(T,je[ee+0]))return fe;for(;!ie(T,je[ee+1]);)if(je=B[++fe].Yb[0],ee=0,fe==16)return 16;var Ce=B[fe+1].Yb;if(ie(T,je[ee+2])){var Le=T,He=0;if(ie(Le,(Pe=je)[(ot=ee)+3]))if(ie(Le,Pe[ot+6])){for(je=0,ot=2*(He=ie(Le,Pe[ot+8]))+(Pe=ie(Le,Pe[ot+9+He])),He=0,Pe=Mr[ot];Pe[je];++je)He+=He+ie(Le,Pe[je]);He+=3+(8<<ot)}else ie(Le,Pe[ot+7])?(He=7+2*ie(Le,165),He+=ie(Le,145)):He=5+ie(Le,159);else He=ie(Le,Pe[ot+4])?3+ie(Le,Pe[ot+5]):2;je=Ce[2]}else He=1,je=Ce[1];Ce=ve+Ms[fe],0>(Le=T).b&&ce(Le);var ot,Pe=Le.b,Ge=(ot=Le.Ca>>1)-(Le.I>>Pe)>>31;--Le.b,Le.Ca+=Ge,Le.Ca|=1,Le.I-=(ot+1&Ge)<<Pe,xe[Ce]=((He^Ge)-Ge)*ne[(0<fe)+0]}return 16}function Kl(T){var B=T.rb[T.sb-1];B.la=0,B.Na=0,n(T.zc,0,0,T.zc.length),T.ja=0}function Qn(T,B,ee,ne,fe){fe=T[B+ee+32*ne]+(fe>>3),T[B+ee+32*ne]=-256&fe?0>fe?0:255:fe}function Xo(T,B,ee,ne,fe,xe){Qn(T,B,0,ee,ne+fe),Qn(T,B,1,ee,ne+xe),Qn(T,B,2,ee,ne-xe),Qn(T,B,3,ee,ne-fe)}function bs(T){return(20091*T>>16)+T}function Jo(T,B,ee,ne){var fe,xe=0,ve=i(16);for(fe=0;4>fe;++fe){var je=T[B+0]+T[B+8],Ce=T[B+0]-T[B+8],Le=(35468*T[B+4]>>16)-bs(T[B+12]),He=bs(T[B+4])+(35468*T[B+12]>>16);ve[xe+0]=je+He,ve[xe+1]=Ce+Le,ve[xe+2]=Ce-Le,ve[xe+3]=je-He,xe+=4,B++}for(fe=xe=0;4>fe;++fe)je=(T=ve[xe+0]+4)+ve[xe+8],Ce=T-ve[xe+8],Le=(35468*ve[xe+4]>>16)-bs(ve[xe+12]),Qn(ee,ne,0,0,je+(He=bs(ve[xe+4])+(35468*ve[xe+12]>>16))),Qn(ee,ne,1,0,Ce+Le),Qn(ee,ne,2,0,Ce-Le),Qn(ee,ne,3,0,je-He),xe++,ne+=32}function Ld(T,B,ee,ne){var fe=T[B+0]+4,xe=35468*T[B+4]>>16,ve=bs(T[B+4]),je=35468*T[B+1]>>16;Xo(ee,ne,0,fe+ve,T=bs(T[B+1]),je),Xo(ee,ne,1,fe+xe,T,je),Xo(ee,ne,2,fe-xe,T,je),Xo(ee,ne,3,fe-ve,T,je)}function Wc(T,B,ee,ne,fe){Jo(T,B,ee,ne),fe&&Jo(T,B+16,ee,ne+4)}function Yl(T,B,ee,ne){Qc(T,B+0,ee,ne,1),Qc(T,B+32,ee,ne+128,1)}function vi(T,B,ee,ne){var fe;for(T=T[B+0]+4,fe=0;4>fe;++fe)for(B=0;4>B;++B)Qn(ee,ne,B,fe,T)}function Od(T,B,ee,ne){T[B+0]&&ys(T,B+0,ee,ne),T[B+16]&&ys(T,B+16,ee,ne+4),T[B+32]&&ys(T,B+32,ee,ne+128),T[B+48]&&ys(T,B+48,ee,ne+128+4)}function nn(T,B,ee,ne){var fe,xe=i(16);for(fe=0;4>fe;++fe){var ve=T[B+0+fe]+T[B+12+fe],je=T[B+4+fe]+T[B+8+fe],Ce=T[B+4+fe]-T[B+8+fe],Le=T[B+0+fe]-T[B+12+fe];xe[0+fe]=ve+je,xe[8+fe]=ve-je,xe[4+fe]=Le+Ce,xe[12+fe]=Le-Ce}for(fe=0;4>fe;++fe)ve=(T=xe[0+4*fe]+3)+xe[3+4*fe],je=xe[1+4*fe]+xe[2+4*fe],Ce=xe[1+4*fe]-xe[2+4*fe],Le=T-xe[3+4*fe],ee[ne+0]=ve+je>>3,ee[ne+16]=Le+Ce>>3,ee[ne+32]=ve-je>>3,ee[ne+48]=Le-Ce>>3,ne+=64}function Al(T,B,ee){var ne,fe=B-32,xe=zn,ve=255-T[fe-1];for(ne=0;ne<ee;++ne){var je,Ce=xe,Le=ve+T[B-1];for(je=0;je<ee;++je)T[B+je]=Ce[Le+T[fe+je]];B+=32}}function el(T,B){Al(T,B,4)}function Rd(T,B){Al(T,B,8)}function Ee(T,B){Al(T,B,16)}function et(T,B){var ee;for(ee=0;16>ee;++ee)r(T,B+32*ee,T,B-32,16)}function ta(T,B){var ee;for(ee=16;0<ee;--ee)n(T,B,T[B-1],16),B+=32}function ia(T,B,ee){var ne;for(ne=0;16>ne;++ne)n(B,ee+32*ne,T,16)}function Fa(T,B){var ee,ne=16;for(ee=0;16>ee;++ee)ne+=T[B-1+32*ee]+T[B+ee-32];ia(ne>>5,T,B)}function Fs(T,B){var ee,ne=8;for(ee=0;16>ee;++ee)ne+=T[B-1+32*ee];ia(ne>>4,T,B)}function Ja(T,B){var ee,ne=8;for(ee=0;16>ee;++ee)ne+=T[B+ee-32];ia(ne>>4,T,B)}function we(T,B){ia(128,T,B)}function Be(T,B,ee){return T+2*B+ee+2>>2}function Dt(T,B){var ee,ne=B-32;for(ne=new Uint8Array([Be(T[ne-1],T[ne+0],T[ne+1]),Be(T[ne+0],T[ne+1],T[ne+2]),Be(T[ne+1],T[ne+2],T[ne+3]),Be(T[ne+2],T[ne+3],T[ne+4])]),ee=0;4>ee;++ee)r(T,B+32*ee,ne,0,ne.length)}function Ut(T,B){var ee=T[B-1],ne=T[B-1+32],fe=T[B-1+64],xe=T[B-1+96];ye(T,B+0,16843009*Be(T[B-1-32],ee,ne)),ye(T,B+32,16843009*Be(ee,ne,fe)),ye(T,B+64,16843009*Be(ne,fe,xe)),ye(T,B+96,16843009*Be(fe,xe,xe))}function _a(T,B){var ee,ne=4;for(ee=0;4>ee;++ee)ne+=T[B+ee-32]+T[B-1+32*ee];for(ne>>=3,ee=0;4>ee;++ee)n(T,B+32*ee,ne,4)}function Qa(T,B){var ee=T[B-1+0],ne=T[B-1+32],fe=T[B-1+64],xe=T[B-1-32],ve=T[B+0-32],je=T[B+1-32],Ce=T[B+2-32],Le=T[B+3-32];T[B+0+96]=Be(ne,fe,T[B-1+96]),T[B+1+96]=T[B+0+64]=Be(ee,ne,fe),T[B+2+96]=T[B+1+64]=T[B+0+32]=Be(xe,ee,ne),T[B+3+96]=T[B+2+64]=T[B+1+32]=T[B+0+0]=Be(ve,xe,ee),T[B+3+64]=T[B+2+32]=T[B+1+0]=Be(je,ve,xe),T[B+3+32]=T[B+2+0]=Be(Ce,je,ve),T[B+3+0]=Be(Le,Ce,je)}function ds(T,B){var ee=T[B+1-32],ne=T[B+2-32],fe=T[B+3-32],xe=T[B+4-32],ve=T[B+5-32],je=T[B+6-32],Ce=T[B+7-32];T[B+0+0]=Be(T[B+0-32],ee,ne),T[B+1+0]=T[B+0+32]=Be(ee,ne,fe),T[B+2+0]=T[B+1+32]=T[B+0+64]=Be(ne,fe,xe),T[B+3+0]=T[B+2+32]=T[B+1+64]=T[B+0+96]=Be(fe,xe,ve),T[B+3+32]=T[B+2+64]=T[B+1+96]=Be(xe,ve,je),T[B+3+64]=T[B+2+96]=Be(ve,je,Ce),T[B+3+96]=Be(je,Ce,Ce)}function Is(T,B){var ee=T[B-1+0],ne=T[B-1+32],fe=T[B-1+64],xe=T[B-1-32],ve=T[B+0-32],je=T[B+1-32],Ce=T[B+2-32],Le=T[B+3-32];T[B+0+0]=T[B+1+64]=xe+ve+1>>1,T[B+1+0]=T[B+2+64]=ve+je+1>>1,T[B+2+0]=T[B+3+64]=je+Ce+1>>1,T[B+3+0]=Ce+Le+1>>1,T[B+0+96]=Be(fe,ne,ee),T[B+0+64]=Be(ne,ee,xe),T[B+0+32]=T[B+1+96]=Be(ee,xe,ve),T[B+1+32]=T[B+2+96]=Be(xe,ve,je),T[B+2+32]=T[B+3+96]=Be(ve,je,Ce),T[B+3+32]=Be(je,Ce,Le)}function Va(T,B){var ee=T[B+0-32],ne=T[B+1-32],fe=T[B+2-32],xe=T[B+3-32],ve=T[B+4-32],je=T[B+5-32],Ce=T[B+6-32],Le=T[B+7-32];T[B+0+0]=ee+ne+1>>1,T[B+1+0]=T[B+0+64]=ne+fe+1>>1,T[B+2+0]=T[B+1+64]=fe+xe+1>>1,T[B+3+0]=T[B+2+64]=xe+ve+1>>1,T[B+0+32]=Be(ee,ne,fe),T[B+1+32]=T[B+0+96]=Be(ne,fe,xe),T[B+2+32]=T[B+1+96]=Be(fe,xe,ve),T[B+3+32]=T[B+2+96]=Be(xe,ve,je),T[B+3+64]=Be(ve,je,Ce),T[B+3+96]=Be(je,Ce,Le)}function ts(T,B){var ee=T[B-1+0],ne=T[B-1+32],fe=T[B-1+64],xe=T[B-1+96];T[B+0+0]=ee+ne+1>>1,T[B+2+0]=T[B+0+32]=ne+fe+1>>1,T[B+2+32]=T[B+0+64]=fe+xe+1>>1,T[B+1+0]=Be(ee,ne,fe),T[B+3+0]=T[B+1+32]=Be(ne,fe,xe),T[B+3+32]=T[B+1+64]=Be(fe,xe,xe),T[B+3+64]=T[B+2+64]=T[B+0+96]=T[B+1+96]=T[B+2+96]=T[B+3+96]=xe}function ln(T,B){var ee=T[B-1+0],ne=T[B-1+32],fe=T[B-1+64],xe=T[B-1+96],ve=T[B-1-32],je=T[B+0-32],Ce=T[B+1-32],Le=T[B+2-32];T[B+0+0]=T[B+2+32]=ee+ve+1>>1,T[B+0+32]=T[B+2+64]=ne+ee+1>>1,T[B+0+64]=T[B+2+96]=fe+ne+1>>1,T[B+0+96]=xe+fe+1>>1,T[B+3+0]=Be(je,Ce,Le),T[B+2+0]=Be(ve,je,Ce),T[B+1+0]=T[B+3+32]=Be(ee,ve,je),T[B+1+32]=T[B+3+64]=Be(ne,ee,ve),T[B+1+64]=T[B+3+96]=Be(fe,ne,ee),T[B+1+96]=Be(xe,fe,ne)}function Zn(T,B){var ee;for(ee=0;8>ee;++ee)r(T,B+32*ee,T,B-32,8)}function vr(T,B){var ee;for(ee=0;8>ee;++ee)n(T,B,T[B-1],8),B+=32}function ei(T,B,ee){var ne;for(ne=0;8>ne;++ne)n(B,ee+32*ne,T,8)}function _l(T,B){var ee,ne=8;for(ee=0;8>ee;++ee)ne+=T[B+ee-32]+T[B-1+32*ee];ei(ne>>4,T,B)}function Er(T,B){var ee,ne=4;for(ee=0;8>ee;++ee)ne+=T[B+ee-32];ei(ne>>3,T,B)}function Oi(T,B){var ee,ne=4;for(ee=0;8>ee;++ee)ne+=T[B-1+32*ee];ei(ne>>3,T,B)}function Xl(T,B){ei(128,T,B)}function Ri(T,B,ee){var ne=T[B-ee],fe=T[B+0],xe=3*(fe-ne)+rp[1020+T[B-2*ee]-T[B+ee]],ve=Eu[112+(xe+4>>3)];T[B-ee]=zn[255+ne+Eu[112+(xe+3>>3)]],T[B+0]=zn[255+fe-ve]}function No(T,B,ee,ne){var fe=T[B+0],xe=T[B+ee];return to[255+T[B-2*ee]-T[B-ee]]>ne||to[255+xe-fe]>ne}function ko(T,B,ee,ne){return 4*to[255+T[B-ee]-T[B+0]]+to[255+T[B-2*ee]-T[B+ee]]<=ne}function Qo(T,B,ee,ne,fe){var xe=T[B-3*ee],ve=T[B-2*ee],je=T[B-ee],Ce=T[B+0],Le=T[B+ee],He=T[B+2*ee],ot=T[B+3*ee];return 4*to[255+je-Ce]+to[255+ve-Le]>ne?0:to[255+T[B-4*ee]-xe]<=fe&&to[255+xe-ve]<=fe&&to[255+ve-je]<=fe&&to[255+ot-He]<=fe&&to[255+He-Le]<=fe&&to[255+Le-Ce]<=fe}function So(T,B,ee,ne){var fe=2*ne+1;for(ne=0;16>ne;++ne)ko(T,B+ne,ee,fe)&&Ri(T,B+ne,ee)}function Zo(T,B,ee,ne){var fe=2*ne+1;for(ne=0;16>ne;++ne)ko(T,B+ne*ee,1,fe)&&Ri(T,B+ne*ee,1)}function r0(T,B,ee,ne){var fe;for(fe=3;0<fe;--fe)So(T,B+=4*ee,ee,ne)}function Ym(T,B,ee,ne){var fe;for(fe=3;0<fe;--fe)Zo(T,B+=4,ee,ne)}function qc(T,B,ee,ne,fe,xe,ve,je){for(xe=2*xe+1;0<fe--;){if(Qo(T,B,ee,xe,ve))if(No(T,B,ee,je))Ri(T,B,ee);else{var Ce=T,Le=B,He=ee,ot=Ce[Le-2*He],Pe=Ce[Le-He],Ge=Ce[Le+0],tt=Ce[Le+He],wt=Ce[Le+2*He],nt=27*(jt=rp[1020+3*(Ge-Pe)+rp[1020+ot-tt]])+63>>7,Nt=18*jt+63>>7,jt=9*jt+63>>7;Ce[Le-3*He]=zn[255+Ce[Le-3*He]+jt],Ce[Le-2*He]=zn[255+ot+Nt],Ce[Le-He]=zn[255+Pe+nt],Ce[Le+0]=zn[255+Ge-nt],Ce[Le+He]=zn[255+tt-Nt],Ce[Le+2*He]=zn[255+wt-jt]}B+=ne}}function Gc(T,B,ee,ne,fe,xe,ve,je){for(xe=2*xe+1;0<fe--;){if(Qo(T,B,ee,xe,ve))if(No(T,B,ee,je))Ri(T,B,ee);else{var Ce=T,Le=B,He=ee,ot=Ce[Le-He],Pe=Ce[Le+0],Ge=Ce[Le+He],tt=Eu[112+(4+(wt=3*(Pe-ot))>>3)],wt=Eu[112+(wt+3>>3)],nt=tt+1>>1;Ce[Le-2*He]=zn[255+Ce[Le-2*He]+nt],Ce[Le-He]=zn[255+ot+wt],Ce[Le+0]=zn[255+Pe-tt],Ce[Le+He]=zn[255+Ge-nt]}B+=ne}}function Oh(T,B,ee,ne,fe,xe){qc(T,B,ee,1,16,ne,fe,xe)}function Xm(T,B,ee,ne,fe,xe){qc(T,B,1,ee,16,ne,fe,xe)}function Nu(T,B,ee,ne,fe,xe){var ve;for(ve=3;0<ve;--ve)Gc(T,B+=4*ee,ee,1,16,ne,fe,xe)}function Jm(T,B,ee,ne,fe,xe){var ve;for(ve=3;0<ve;--ve)Gc(T,B+=4,1,ee,16,ne,fe,xe)}function Y(T,B,ee,ne,fe,xe,ve,je){qc(T,B,fe,1,8,xe,ve,je),qc(ee,ne,fe,1,8,xe,ve,je)}function he(T,B,ee,ne,fe,xe,ve,je){qc(T,B,1,fe,8,xe,ve,je),qc(ee,ne,1,fe,8,xe,ve,je)}function Oe(T,B,ee,ne,fe,xe,ve,je){Gc(T,B+4*fe,fe,1,8,xe,ve,je),Gc(ee,ne+4*fe,fe,1,8,xe,ve,je)}function Ue(T,B,ee,ne,fe,xe,ve,je){Gc(T,B+4,1,fe,8,xe,ve,je),Gc(ee,ne+4,1,fe,8,xe,ve,je)}function Je(){this.ba=new lt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new mt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function _t(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function zt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ca(){this.ua=0,this.Wa=new Re,this.vb=new Re,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new K,this.yc=new P}function ba(){this.xb=this.a=0,this.l=new sn,this.ca=new lt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new q,this.Pb=0,this.wd=new q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ca,this.ab=0,this.gc=l(4,zt),this.Oc=0}function Ia(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new sn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ka(T,B,ee,ne,fe,xe,ve){for(T=T==null?0:T[B+0],B=0;B<ve;++B)fe[xe+B]=T+ee[ne+B]&255,T=fe[xe+B]}function Es(T,B,ee,ne,fe,xe,ve){var je;if(T==null)Ka(null,null,ee,ne,fe,xe,ve);else for(je=0;je<ve;++je)fe[xe+je]=T[B+je]+ee[ne+je]&255}function br(T,B,ee,ne,fe,xe,ve){if(T==null)Ka(null,null,ee,ne,fe,xe,ve);else{var je,Ce=T[B+0],Le=Ce,He=Ce;for(je=0;je<ve;++je)Le=He+(Ce=T[B+je])-Le,He=ee[ne+je]+(-256&Le?0>Le?0:255:Le)&255,Le=Ce,fe[xe+je]=He}}function on(T,B,ee,ne){var fe=B.width,xe=B.o;if(t(T!=null&&B!=null),0>ee||0>=ne||ee+ne>xe)return null;if(!T.Cc){if(T.ga==null){var ve;if(T.ga=new Ia,(ve=T.ga==null)||(ve=B.width*B.o,t(T.Gb.length==0),T.Gb=i(ve),T.Uc=0,T.Gb==null?ve=0:(T.mb=T.Gb,T.nb=T.Uc,T.rc=null,ve=1),ve=!ve),!ve){ve=T.ga;var je=T.Fa,Ce=T.P,Le=T.qc,He=T.mb,ot=T.nb,Pe=Ce+1,Ge=Le-1,tt=ve.l;if(t(je!=null&&He!=null&&B!=null),ic[0]=null,ic[1]=Ka,ic[2]=Es,ic[3]=br,ve.ca=He,ve.tb=ot,ve.c=B.width,ve.i=B.height,t(0<ve.c&&0<ve.i),1>=Le)B=0;else if(ve.$a=3&je[Ce+0],ve.Z=je[Ce+0]>>2&3,ve.Lc=je[Ce+0]>>4&3,Ce=je[Ce+0]>>6&3,0>ve.$a||1<ve.$a||4<=ve.Z||1<ve.Lc||Ce)B=0;else if(tt.put=oa,tt.ac=ua,tt.bc=_s,tt.ma=ve,tt.width=B.width,tt.height=B.height,tt.Da=B.Da,tt.v=B.v,tt.va=B.va,tt.j=B.j,tt.o=B.o,ve.$a)e:{t(ve.$a==1),B=qe();t:for(;;){if(B==null){B=0;break e}if(t(ve!=null),ve.mc=B,B.c=ve.c,B.i=ve.i,B.l=ve.l,B.l.ma=ve,B.l.width=ve.c,B.l.height=ve.i,B.a=0,z(B.m,je,Pe,Ge),!st(ve.c,ve.i,1,B,null)||(B.ab==1&&B.gc[0].hc==3&&_e(B.s)?(ve.ic=1,je=B.c*B.i,B.Ta=null,B.Ua=0,B.V=i(je),B.Ba=0,B.V==null?(B.a=1,B=0):B=1):(ve.ic=0,B=it(B,ve.c)),!B))break t;B=1;break e}ve.mc=null,B=0}else B=Ge>=ve.c*ve.i;ve=!B}if(ve)return null;T.ga.Lc!=1?T.Ga=0:ne=xe-ee}t(T.ga!=null),t(ee+ne<=xe);e:{if(B=(je=T.ga).c,xe=je.l.o,je.$a==0){if(Pe=T.rc,Ge=T.Vc,tt=T.Fa,Ce=T.P+1+ee*B,Le=T.mb,He=T.nb+ee*B,t(Ce<=T.P+T.qc),je.Z!=0)for(t(ic[je.Z]!=null),ve=0;ve<ne;++ve)ic[je.Z](Pe,Ge,tt,Ce,Le,He,B),Pe=Le,Ge=He,He+=B,Ce+=B;else for(ve=0;ve<ne;++ve)r(Le,He,tt,Ce,B),Pe=Le,Ge=He,He+=B,Ce+=B;T.rc=Pe,T.Vc=Ge}else{if(t(je.mc!=null),B=ee+ne,t((ve=je.mc)!=null),t(B<=ve.i),ve.C>=B)B=1;else if(je.ic||Jl(),je.ic){je=ve.V,Pe=ve.Ba,Ge=ve.c;var wt=ve.i,nt=(tt=1,Ce=ve.$/Ge,Le=ve.$%Ge,He=ve.m,ot=ve.s,ve.$),Nt=Ge*wt,jt=Ge*B,Vt=ot.wc,It=nt<jt?me(ot,Le,Ce):null;t(nt<=Nt),t(B<=wt),t(_e(ot));t:for(;;){for(;!He.h&&nt<jt;){if(Le&Vt||(It=me(ot,Le,Ce)),t(It!=null),oe(He),256>(wt=is(It.G[0],It.H[0],He)))je[Pe+nt]=wt,++nt,++Le>=Ge&&(Le=0,++Ce<=B&&!(Ce%16)&&Me(ve,Ce));else{if(!(280>wt)){tt=0;break t}wt=Fe(wt-256,He);var va,la=is(It.G[4],It.H[4],He);if(oe(He),!(nt>=(la=Ha(Ge,la=Fe(la,He)))&&Nt-nt>=wt)){tt=0;break t}for(va=0;va<wt;++va)je[Pe+nt+va]=je[Pe+nt+va-la];for(nt+=wt,Le+=wt;Le>=Ge;)Le-=Ge,++Ce<=B&&!(Ce%16)&&Me(ve,Ce);nt<jt&&Le&Vt&&(It=me(ot,Le,Ce))}t(He.h==te(He))}Me(ve,Ce>B?B:Ce);break t}!tt||He.h&&nt<Nt?(tt=0,ve.a=He.h?5:3):ve.$=nt,B=tt}else B=Qe(ve,ve.V,ve.Ba,ve.c,ve.i,B,Ft);if(!B){ne=0;break e}}ee+ne>=xe&&(T.Cc=1),ne=1}if(!ne)return null;if(T.Cc&&((ne=T.ga)!=null&&(ne.mc=null),T.ga=null,0<T.Ga))return alert("todo:WebPDequantizeLevels"),null}return T.nb+ee*fe}function sr(T,B,ee,ne,fe,xe){for(;0<fe--;){var ve,je=T,Ce=B+(ee?1:0),Le=T,He=B+(ee?0:3);for(ve=0;ve<ne;++ve){var ot=Le[He+4*ve];ot!=255&&(ot*=32897,je[Ce+4*ve+0]=je[Ce+4*ve+0]*ot>>23,je[Ce+4*ve+1]=je[Ce+4*ve+1]*ot>>23,je[Ce+4*ve+2]=je[Ce+4*ve+2]*ot>>23)}B+=xe}}function wn(T,B,ee,ne,fe){for(;0<ne--;){var xe;for(xe=0;xe<ee;++xe){var ve=T[B+2*xe+0],je=15&(Le=T[B+2*xe+1]),Ce=4369*je,Le=(240&Le|Le>>4)*Ce>>16;T[B+2*xe+0]=(240&ve|ve>>4)*Ce>>16&240|(15&ve|ve<<4)*Ce>>16>>4&15,T[B+2*xe+1]=240&Le|je}B+=fe}}function cn(T,B,ee,ne,fe,xe,ve,je){var Ce,Le,He=255;for(Le=0;Le<fe;++Le){for(Ce=0;Ce<ne;++Ce){var ot=T[B+Ce];xe[ve+4*Ce]=ot,He&=ot}B+=ee,ve+=je}return He!=255}function ti(T,B,ee,ne,fe){var xe;for(xe=0;xe<fe;++xe)ee[ne+xe]=T[B+xe]>>8}function Jl(){Hh=sr,Dl=wn,Pl=cn,Au=ti}function tl(T,B,ee){R[T]=function(ne,fe,xe,ve,je,Ce,Le,He,ot,Pe,Ge,tt,wt,nt,Nt,jt,Vt){var It,va=Vt-1>>1,la=je[Ce+0]|Le[He+0]<<16,Wa=ot[Pe+0]|Ge[tt+0]<<16;t(ne!=null);var da=3*la+Wa+131074>>2;for(B(ne[fe+0],255&da,da>>16,wt,nt),xe!=null&&(da=3*Wa+la+131074>>2,B(xe[ve+0],255&da,da>>16,Nt,jt)),It=1;It<=va;++It){var xs=je[Ce+It]|Le[He+It]<<16,dn=ot[Pe+It]|Ge[tt+It]<<16,Ba=la+xs+Wa+dn+524296,ha=Ba+2*(xs+Wa)>>3;da=ha+la>>1,la=(Ba=Ba+2*(la+dn)>>3)+xs>>1,B(ne[fe+2*It-1],255&da,da>>16,wt,nt+(2*It-1)*ee),B(ne[fe+2*It-0],255&la,la>>16,wt,nt+(2*It-0)*ee),xe!=null&&(da=Ba+Wa>>1,la=ha+dn>>1,B(xe[ve+2*It-1],255&da,da>>16,Nt,jt+(2*It-1)*ee),B(xe[ve+2*It+0],255&la,la>>16,Nt,jt+(2*It+0)*ee)),la=xs,Wa=dn}1&Vt||(da=3*la+Wa+131074>>2,B(ne[fe+Vt-1],255&da,da>>16,wt,nt+(Vt-1)*ee),xe!=null&&(da=3*Wa+la+131074>>2,B(xe[ve+Vt-1],255&da,da>>16,Nt,jt+(Vt-1)*ee)))}}function Qm(){Hn[wi]=rd,Hn[Vh]=lc,Hn[rc]=Yd,Hn[d0]=lp,Hn[Tu]=op,Hn[Zc]=Gh,Hn[np]=cp,Hn[u0]=lc,Hn[Gd]=lp,Hn[ed]=op,Hn[Wh]=Gh}function Fd(T){return T&-16384?0>T?0:255:T>>n4}function Co(T,B){return Fd((19077*T>>8)+(26149*B>>8)-14234)}function Id(T,B,ee){return Fd((19077*T>>8)-(6419*B>>8)-(13320*ee>>8)+8708)}function Bd(T,B){return Fd((19077*T>>8)+(33050*B>>8)-17685)}function $d(T,B,ee,ne,fe){ne[fe+0]=Co(T,ee),ne[fe+1]=Id(T,B,ee),ne[fe+2]=Bd(T,B)}function Ud(T,B,ee,ne,fe){ne[fe+0]=Bd(T,B),ne[fe+1]=Id(T,B,ee),ne[fe+2]=Co(T,ee)}function ai(T,B,ee,ne,fe){var xe=Id(T,B,ee);B=xe<<3&224|Bd(T,B)>>3,ne[fe+0]=248&Co(T,ee)|xe>>5,ne[fe+1]=B}function zd(T,B,ee,ne,fe){var xe=240&Bd(T,B)|15;ne[fe+0]=240&Co(T,ee)|Id(T,B,ee)>>4,ne[fe+1]=xe}function Ql(T,B,ee,ne,fe){ne[fe+0]=255,$d(T,B,ee,ne,fe+1)}function n0(T,B,ee,ne,fe){Ud(T,B,ee,ne,fe),ne[fe+3]=255}function i0(T,B,ee,ne,fe){$d(T,B,ee,ne,fe),ne[fe+3]=255}function Tr(T,B){return 0>T?0:T>B?B:T}function ec(T,B,ee){R[T]=function(ne,fe,xe,ve,je,Ce,Le,He,ot){for(var Pe=He+(-2&ot)*ee;He!=Pe;)B(ne[fe+0],xe[ve+0],je[Ce+0],Le,He),B(ne[fe+1],xe[ve+0],je[Ce+0],Le,He+ee),fe+=2,++ve,++Ce,He+=2*ee;1&ot&&B(ne[fe+0],xe[ve+0],je[Ce+0],Le,He)}}function ku(T,B,ee){return ee==0?T==0?B==0?6:5:B==0?4:0:ee}function Hd(T,B,ee,ne,fe){switch(T>>>30){case 3:Qc(B,ee,ne,fe,0);break;case 2:Tl(B,ee,ne,fe);break;case 1:ys(B,ee,ne,fe)}}function bi(T,B){var ee,ne,fe=B.M,xe=B.Nb,ve=T.oc,je=T.pc+40,Ce=T.oc,Le=T.pc+584,He=T.oc,ot=T.pc+600;for(ee=0;16>ee;++ee)ve[je+32*ee-1]=129;for(ee=0;8>ee;++ee)Ce[Le+32*ee-1]=129,He[ot+32*ee-1]=129;for(0<fe?ve[je-1-32]=Ce[Le-1-32]=He[ot-1-32]=129:(n(ve,je-32-1,127,21),n(Ce,Le-32-1,127,9),n(He,ot-32-1,127,9)),ne=0;ne<T.za;++ne){var Pe=B.ya[B.aa+ne];if(0<ne){for(ee=-1;16>ee;++ee)r(ve,je+32*ee-4,ve,je+32*ee+12,4);for(ee=-1;8>ee;++ee)r(Ce,Le+32*ee-4,Ce,Le+32*ee+4,4),r(He,ot+32*ee-4,He,ot+32*ee+4,4)}var Ge=T.Gd,tt=T.Hd+ne,wt=Pe.ad,nt=Pe.Hc;if(0<fe&&(r(ve,je-32,Ge[tt].y,0,16),r(Ce,Le-32,Ge[tt].f,0,8),r(He,ot-32,Ge[tt].ea,0,8)),Pe.Za){var Nt=ve,jt=je-32+16;for(0<fe&&(ne>=T.za-1?n(Nt,jt,Ge[tt].y[15],4):r(Nt,jt,Ge[tt+1].y,0,4)),ee=0;4>ee;ee++)Nt[jt+128+ee]=Nt[jt+256+ee]=Nt[jt+384+ee]=Nt[jt+0+ee];for(ee=0;16>ee;++ee,nt<<=2)Nt=ve,jt=je+Lu[ee],Ii[Pe.Ob[ee]](Nt,jt),Hd(nt,wt,16*+ee,Nt,jt)}else if(Nt=ku(ne,fe,Pe.Ob[0]),sd[Nt](ve,je),nt!=0)for(ee=0;16>ee;++ee,nt<<=2)Hd(nt,wt,16*+ee,ve,je+Lu[ee]);for(ee=Pe.Gc,Nt=ku(ne,fe,Pe.Dd),Ll[Nt](Ce,Le),Ll[Nt](He,ot),nt=wt,Nt=Ce,jt=Le,255&(Pe=0|ee)&&(170&Pe?yi(nt,256,Nt,jt):Hs(nt,256,Nt,jt)),Pe=He,nt=ot,255&(ee>>=8)&&(170&ee?yi(wt,320,Pe,nt):Hs(wt,320,Pe,nt)),fe<T.Ub-1&&(r(Ge[tt].y,0,ve,je+480,16),r(Ge[tt].f,0,Ce,Le+224,8),r(Ge[tt].ea,0,He,ot+224,8)),ee=8*xe*T.B,Ge=T.sa,tt=T.ta+16*ne+16*xe*T.R,wt=T.qa,Pe=T.ra+8*ne+ee,nt=T.Ha,Nt=T.Ia+8*ne+ee,ee=0;16>ee;++ee)r(Ge,tt+ee*T.R,ve,je+32*ee,16);for(ee=0;8>ee;++ee)r(wt,Pe+ee*T.B,Ce,Le+32*ee,8),r(nt,Nt+ee*T.B,He,ot+32*ee,8)}}function Su(T,B,ee,ne,fe,xe,ve,je,Ce){var Le=[0],He=[0],ot=0,Pe=Ce!=null?Ce.kd:0,Ge=Ce??new _t;if(T==null||12>ee)return 7;Ge.data=T,Ge.w=B,Ge.ha=ee,B=[B],ee=[ee],Ge.gb=[Ge.gb];e:{var tt=B,wt=ee,nt=Ge.gb;if(t(T!=null),t(wt!=null),t(nt!=null),nt[0]=0,12<=wt[0]&&!a(T,tt[0],"RIFF")){if(a(T,tt[0]+8,"WEBP")){nt=3;break e}var Nt=pe(T,tt[0]+4);if(12>Nt||4294967286<Nt){nt=3;break e}if(Pe&&Nt>wt[0]-8){nt=7;break e}nt[0]=Nt,tt[0]+=12,wt[0]-=12}nt=0}if(nt!=0)return nt;for(Nt=0<Ge.gb[0],ee=ee[0];;){e:{var jt=T;wt=B,nt=ee;var Vt=Le,It=He,va=tt=[0];if((da=ot=[ot])[0]=0,8>nt[0])nt=7;else{if(!a(jt,wt[0],"VP8X")){if(pe(jt,wt[0]+4)!=10){nt=3;break e}if(18>nt[0]){nt=7;break e}var la=pe(jt,wt[0]+8),Wa=1+Ie(jt,wt[0]+12);if(2147483648<=Wa*(jt=1+Ie(jt,wt[0]+15))){nt=3;break e}va!=null&&(va[0]=la),Vt!=null&&(Vt[0]=Wa),It!=null&&(It[0]=jt),wt[0]+=18,nt[0]-=18,da[0]=1}nt=0}}if(ot=ot[0],tt=tt[0],nt!=0)return nt;if(wt=!!(2&tt),!Nt&&ot)return 3;if(xe!=null&&(xe[0]=!!(16&tt)),ve!=null&&(ve[0]=wt),je!=null&&(je[0]=0),ve=Le[0],tt=He[0],ot&&wt&&Ce==null){nt=0;break}if(4>ee){nt=7;break}if(Nt&&ot||!Nt&&!ot&&!a(T,B[0],"ALPH")){ee=[ee],Ge.na=[Ge.na],Ge.P=[Ge.P],Ge.Sa=[Ge.Sa];e:{la=T,nt=B,Nt=ee;var da=Ge.gb;Vt=Ge.na,It=Ge.P,va=Ge.Sa,Wa=22,t(la!=null),t(Nt!=null),jt=nt[0];var xs=Nt[0];for(t(Vt!=null),t(va!=null),Vt[0]=null,It[0]=null,va[0]=0;;){if(nt[0]=jt,Nt[0]=xs,8>xs){nt=7;break e}var dn=pe(la,jt+4);if(4294967286<dn){nt=3;break e}var Ba=8+dn+1&-2;if(Wa+=Ba,0<da&&Wa>da){nt=3;break e}if(!a(la,jt,"VP8 ")||!a(la,jt,"VP8L")){nt=0;break e}if(xs[0]<Ba){nt=7;break e}a(la,jt,"ALPH")||(Vt[0]=la,It[0]=jt+8,va[0]=dn),jt+=Ba,xs-=Ba}}if(ee=ee[0],Ge.na=Ge.na[0],Ge.P=Ge.P[0],Ge.Sa=Ge.Sa[0],nt!=0)break}ee=[ee],Ge.Ja=[Ge.Ja],Ge.xa=[Ge.xa];e:if(da=T,nt=B,Nt=ee,Vt=Ge.gb[0],It=Ge.Ja,va=Ge.xa,la=nt[0],jt=!a(da,la,"VP8 "),Wa=!a(da,la,"VP8L"),t(da!=null),t(Nt!=null),t(It!=null),t(va!=null),8>Nt[0])nt=7;else{if(jt||Wa){if(da=pe(da,la+4),12<=Vt&&da>Vt-12){nt=3;break e}if(Pe&&da>Nt[0]-8){nt=7;break e}It[0]=da,nt[0]+=8,Nt[0]-=8,va[0]=Wa}else va[0]=5<=Nt[0]&&da[la+0]==47&&!(da[la+4]>>5),It[0]=Nt[0];nt=0}if(ee=ee[0],Ge.Ja=Ge.Ja[0],Ge.xa=Ge.xa[0],B=B[0],nt!=0)break;if(4294967286<Ge.Ja)return 3;if(je==null||wt||(je[0]=Ge.xa?2:1),ve=[ve],tt=[tt],Ge.xa){if(5>ee){nt=7;break}je=ve,Pe=tt,wt=xe,T==null||5>ee?T=0:5<=ee&&T[B+0]==47&&!(T[B+4]>>5)?(Nt=[0],da=[0],Vt=[0],z(It=new q,T,B,ee),ps(It,Nt,da,Vt)?(je!=null&&(je[0]=Nt[0]),Pe!=null&&(Pe[0]=da[0]),wt!=null&&(wt[0]=Vt[0]),T=1):T=0):T=0}else{if(10>ee){nt=7;break}je=tt,T==null||10>ee||!Vc(T,B+3,ee-3)?T=0:(Pe=T[B+0]|T[B+1]<<8|T[B+2]<<16,wt=16383&(T[B+7]<<8|T[B+6]),T=16383&(T[B+9]<<8|T[B+8]),1&Pe||3<(Pe>>1&7)||!(Pe>>4&1)||Pe>>5>=Ge.Ja||!wt||!T?T=0:(ve&&(ve[0]=wt),je&&(je[0]=T),T=1))}if(!T||(ve=ve[0],tt=tt[0],ot&&(Le[0]!=ve||He[0]!=tt)))return 3;Ce!=null&&(Ce[0]=Ge,Ce.offset=B-Ce.w,t(4294967286>B-Ce.w),t(Ce.offset==Ce.ha-ee));break}return nt==0||nt==7&&ot&&Ce==null?(xe!=null&&(xe[0]|=Ge.na!=null&&0<Ge.na.length),ne!=null&&(ne[0]=ve),fe!=null&&(fe[0]=tt),0):nt}function Vd(T,B,ee){var ne=B.width,fe=B.height,xe=0,ve=0,je=ne,Ce=fe;if(B.Da=T!=null&&0<T.Da,B.Da&&(je=T.cd,Ce=T.bd,xe=T.v,ve=T.j,11>ee||(xe&=-2,ve&=-2),0>xe||0>ve||0>=je||0>=Ce||xe+je>ne||ve+Ce>fe))return 0;if(B.v=xe,B.j=ve,B.va=xe+je,B.o=ve+Ce,B.U=je,B.T=Ce,B.da=T!=null&&0<T.da,B.da){if(!ue(je,Ce,ee=[T.ib],xe=[T.hb]))return 0;B.ib=ee[0],B.hb=xe[0]}return B.ob=T!=null&&T.ob,B.Kb=T==null||!T.Sd,B.da&&(B.ob=B.ib<3*ne/4&&B.hb<3*fe/4,B.Kb=0),1}function Rh(T){if(T==null)return 2;if(11>T.S){var B=T.f.RGBA;B.fb+=(T.height-1)*B.A,B.A=-B.A}else B=T.f.kb,T=T.height,B.O+=(T-1)*B.fa,B.fa=-B.fa,B.N+=(T-1>>1)*B.Ab,B.Ab=-B.Ab,B.W+=(T-1>>1)*B.Db,B.Db=-B.Db,B.F!=null&&(B.J+=(T-1)*B.lb,B.lb=-B.lb);return 0}function Kc(T,B,ee,ne){if(ne==null||0>=T||0>=B)return 2;if(ee!=null){if(ee.Da){var fe=ee.cd,xe=ee.bd,ve=-2&ee.v,je=-2&ee.j;if(0>ve||0>je||0>=fe||0>=xe||ve+fe>T||je+xe>B)return 2;T=fe,B=xe}if(ee.da){if(!ue(T,B,fe=[ee.ib],xe=[ee.hb]))return 2;T=fe[0],B=xe[0]}}ne.width=T,ne.height=B;e:{var Ce=ne.width,Le=ne.height;if(T=ne.S,0>=Ce||0>=Le||!(T>=wi&&13>T))T=2;else{if(0>=ne.Rd&&ne.sd==null){ve=xe=fe=B=0;var He=(je=Ce*Rb[T])*Le;if(11>T||(xe=(Le+1)/2*(B=(Ce+1)/2),T==12&&(ve=(fe=Ce)*Le)),(Le=i(He+2*xe+ve))==null){T=1;break e}ne.sd=Le,11>T?((Ce=ne.f.RGBA).eb=Le,Ce.fb=0,Ce.A=je,Ce.size=He):((Ce=ne.f.kb).y=Le,Ce.O=0,Ce.fa=je,Ce.Fd=He,Ce.f=Le,Ce.N=0+He,Ce.Ab=B,Ce.Cd=xe,Ce.ea=Le,Ce.W=0+He+xe,Ce.Db=B,Ce.Ed=xe,T==12&&(Ce.F=Le,Ce.J=0+He+2*xe),Ce.Tc=ve,Ce.lb=fe)}if(B=1,fe=ne.S,xe=ne.width,ve=ne.height,fe>=wi&&13>fe)if(11>fe)T=ne.f.RGBA,B&=(je=Math.abs(T.A))*(ve-1)+xe<=T.size,B&=je>=xe*Rb[fe],B&=T.eb!=null;else{T=ne.f.kb,je=(xe+1)/2,He=(ve+1)/2,Ce=Math.abs(T.fa),Le=Math.abs(T.Ab);var ot=Math.abs(T.Db),Pe=Math.abs(T.lb),Ge=Pe*(ve-1)+xe;B&=Ce*(ve-1)+xe<=T.Fd,B&=Le*(He-1)+je<=T.Cd,B=(B&=ot*(He-1)+je<=T.Ed)&Ce>=xe&Le>=je&ot>=je,B&=T.y!=null,B&=T.f!=null,B&=T.ea!=null,fe==12&&(B&=Pe>=xe,B&=Ge<=T.Tc,B&=T.F!=null)}else B=0;T=B?0:2}}return T!=0||ee!=null&&ee.fd&&(T=Rh(ne)),T}var Yc=64,Fi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],al=24,Xc=32,tc=8,Wd=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ne("Predictor0","PredictorAdd0"),R.Predictor0=function(){return 4278190080},R.Predictor1=function(T){return T},R.Predictor2=function(T,B,ee){return B[ee+0]},R.Predictor3=function(T,B,ee){return B[ee+1]},R.Predictor4=function(T,B,ee){return B[ee-1]},R.Predictor5=function(T,B,ee){return gt(gt(T,B[ee+1]),B[ee+0])},R.Predictor6=function(T,B,ee){return gt(T,B[ee-1])},R.Predictor7=function(T,B,ee){return gt(T,B[ee+0])},R.Predictor8=function(T,B,ee){return gt(B[ee-1],B[ee+0])},R.Predictor9=function(T,B,ee){return gt(B[ee+0],B[ee+1])},R.Predictor10=function(T,B,ee){return gt(gt(T,B[ee-1]),gt(B[ee+0],B[ee+1]))},R.Predictor11=function(T,B,ee){var ne=B[ee+0];return 0>=$t(ne>>24&255,T>>24&255,(B=B[ee-1])>>24&255)+$t(ne>>16&255,T>>16&255,B>>16&255)+$t(ne>>8&255,T>>8&255,B>>8&255)+$t(255&ne,255&T,255&B)?ne:T},R.Predictor12=function(T,B,ee){var ne=B[ee+0];return(qt((T>>24&255)+(ne>>24&255)-((B=B[ee-1])>>24&255))<<24|qt((T>>16&255)+(ne>>16&255)-(B>>16&255))<<16|qt((T>>8&255)+(ne>>8&255)-(B>>8&255))<<8|qt((255&T)+(255&ne)-(255&B)))>>>0},R.Predictor13=function(T,B,ee){var ne=B[ee-1];return(at((T=gt(T,B[ee+0]))>>24&255,ne>>24&255)<<24|at(T>>16&255,ne>>16&255)<<16|at(T>>8&255,ne>>8&255)<<8|at(255&T,255&ne))>>>0};var l0=R.PredictorAdd0;R.PredictorAdd1=ze,Ne("Predictor2","PredictorAdd2"),Ne("Predictor3","PredictorAdd3"),Ne("Predictor4","PredictorAdd4"),Ne("Predictor5","PredictorAdd5"),Ne("Predictor6","PredictorAdd6"),Ne("Predictor7","PredictorAdd7"),Ne("Predictor8","PredictorAdd8"),Ne("Predictor9","PredictorAdd9"),Ne("Predictor10","PredictorAdd10"),Ne("Predictor11","PredictorAdd11"),Ne("Predictor12","PredictorAdd12"),Ne("Predictor13","PredictorAdd13");var Fh=R.PredictorAdd2;At("ColorIndexInverseTransform","MapARGB","32b",function(T){return T>>8&255},function(T){return T}),At("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(T){return T},function(T){return T>>8&255});var Kr,Zm=R.ColorIndexInverseTransform,Dr=R.MapARGB,sl=R.VP8LColorIndexInverseTransformAlpha,Ih=R.MapAlpha,Bh=R.VP8LPredictorsAdd=[];Bh.length=16,(R.VP8LPredictors=[]).length=16,(R.VP8LPredictorsAdd_C=[]).length=16,(R.VP8LPredictors_C=[]).length=16;var $h,Uh,ac,qd,El,Jc,Zl,Qc,Tl,yi,ys,Hs,Pr,dr,sc,zh,Cu,ep,Eb,Tb,eg,tg,tp,eo,Hh,Dl,Pl,Au,ap=i(511),o0=i(2041),c0=i(225),sp=i(767),_u=0,rp=o0,Eu=c0,zn=sp,to=ap,wi=0,Vh=1,rc=2,d0=3,Tu=4,Zc=5,np=6,u0=7,Gd=8,ed=9,Wh=10,ip=[2,3,7],ao=[3,3,11],Ml=[280,256,256,256,40],Du=[0,1,1,1,0],td=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ad=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Pu=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Db=8,h0=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],f0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],jn=null,Mr=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ms=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Kd=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],nc=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ag=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Mu=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Pb=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],sd=[],Ii=[],Ll=[],Mb=1,qh=2,ic=[],Hn=[];tl("UpsampleRgbLinePair",$d,3),tl("UpsampleBgrLinePair",Ud,3),tl("UpsampleRgbaLinePair",i0,4),tl("UpsampleBgraLinePair",n0,4),tl("UpsampleArgbLinePair",Ql,4),tl("UpsampleRgba4444LinePair",zd,2),tl("UpsampleRgb565LinePair",ai,2);var rd=R.UpsampleRgbLinePair,Yd=R.UpsampleBgrLinePair,lc=R.UpsampleRgbaLinePair,lp=R.UpsampleBgraLinePair,op=R.UpsampleArgbLinePair,Gh=R.UpsampleRgba4444LinePair,cp=R.UpsampleRgb565LinePair,oc=16,Nn=1<<oc-1,Xd=-227,dp=482,n4=6,Lb=0,i4=i(256),kn=i(256),sg=i(256),m0=i(256),p0=i(dp-Xd),rg=i(dp-Xd);ec("YuvToRgbRow",$d,3),ec("YuvToBgrRow",Ud,3),ec("YuvToRgbaRow",i0,4),ec("YuvToBgraRow",n0,4),ec("YuvToArgbRow",Ql,4),ec("YuvToRgba4444Row",zd,2),ec("YuvToRgb565Row",ai,2);var Lu=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],nd=[0,2,8],l4=[8,7,6,4,4,2,2,2,1,1,1,1],Ob=1;this.WebPDecodeRGBA=function(T,B,ee,ne,fe){var xe=Vh,ve=new Je,je=new lt;ve.ba=je,je.S=xe,je.width=[je.width],je.height=[je.height];var Ce=je.width,Le=je.height,He=new dt;if(He==null||T==null)var ot=2;else t(He!=null),ot=Su(T,B,ee,He.width,He.height,He.Pd,He.Qd,He.format,null);if(ot!=0?Ce=0:(Ce!=null&&(Ce[0]=He.width[0]),Le!=null&&(Le[0]=He.height[0]),Ce=1),Ce){je.width=je.width[0],je.height=je.height[0],ne!=null&&(ne[0]=je.width),fe!=null&&(fe[0]=je.height);e:{if(ne=new sn,(fe=new _t).data=T,fe.w=B,fe.ha=ee,fe.kd=1,B=[0],t(fe!=null),((T=Su(fe.data,fe.w,fe.ha,null,null,null,B,null,fe))==0||T==7)&&B[0]&&(T=4),(B=T)==0){if(t(ve!=null),ne.data=fe.data,ne.w=fe.w+fe.offset,ne.ha=fe.ha-fe.offset,ne.put=oa,ne.ac=ua,ne.bc=_s,ne.ma=ve,fe.xa){if((T=qe())==null){ve=1;break e}if((function(Pe,Ge){var tt=[0],wt=[0],nt=[0];t:for(;;){if(Pe==null)return 0;if(Ge==null)return Pe.a=2,0;if(Pe.l=Ge,Pe.a=0,z(Pe.m,Ge.data,Ge.w,Ge.ha),!ps(Pe.m,tt,wt,nt)){Pe.a=3;break t}if(Pe.xb=qh,Ge.width=tt[0],Ge.height=wt[0],!st(tt[0],wt[0],1,Pe,null))break t;return 1}return t(Pe.a!=0),0})(T,ne)){if(ne=(B=Kc(ne.width,ne.height,ve.Oa,ve.ba))==0){t:{ne=T;a:for(;;){if(ne==null){ne=0;break t}if(t(ne.s.yc!=null),t(ne.s.Ya!=null),t(0<ne.s.Wb),t((ee=ne.l)!=null),t((fe=ee.ma)!=null),ne.xb!=0){if(ne.ca=fe.ba,ne.tb=fe.tb,t(ne.ca!=null),!Vd(fe.Oa,ee,d0)){ne.a=2;break a}if(!it(ne,ee.width)||ee.da)break a;if((ee.da||Rt(ne.ca.S))&&Jl(),11>ne.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ne.ca.f.kb.F!=null&&Jl()),ne.Pb&&0<ne.s.ua&&ne.s.vb.X==null&&!ae(ne.s.vb,ne.s.Wa.Xa)){ne.a=1;break a}ne.xb=0}if(!Qe(ne,ne.V,ne.Ba,ne.c,ne.i,ee.o,ke))break a;fe.Dc=ne.Ma,ne=1;break t}t(ne.a!=0),ne=0}ne=!ne}ne&&(B=T.a)}else B=T.a}else{if((T=new Gs)==null){ve=1;break e}if(T.Fa=fe.na,T.P=fe.P,T.qc=fe.Sa,Md(T,ne)){if((B=Kc(ne.width,ne.height,ve.Oa,ve.ba))==0){if(T.Aa=0,ee=ve.Oa,t((fe=T)!=null),ee!=null){if(0<(Ce=0>(Ce=ee.Md)?0:100<Ce?255:255*Ce/100)){for(Le=He=0;4>Le;++Le)12>(ot=fe.pb[Le]).lc&&(ot.ia=Ce*l4[0>ot.lc?0:ot.lc]>>3),He|=ot.ia;He&&(alert("todo:VP8InitRandom"),fe.ia=1)}fe.Ga=ee.Id,100<fe.Ga?fe.Ga=100:0>fe.Ga&&(fe.Ga=0)}(function(Pe,Ge){if(Pe==null)return 0;if(Ge==null)return hs(Pe,2,"NULL VP8Io parameter in VP8Decode().");if(!Pe.cb&&!Md(Pe,Ge))return 0;if(t(Pe.cb),Ge.ac==null||Ge.ac(Ge)){Ge.ob&&(Pe.L=0);var tt=nd[Pe.L];if(Pe.L==2?(Pe.yb=0,Pe.zb=0):(Pe.yb=Ge.v-tt>>4,Pe.zb=Ge.j-tt>>4,0>Pe.yb&&(Pe.yb=0),0>Pe.zb&&(Pe.zb=0)),Pe.Va=Ge.o+15+tt>>4,Pe.Hb=Ge.va+15+tt>>4,Pe.Hb>Pe.za&&(Pe.Hb=Pe.za),Pe.Va>Pe.Ub&&(Pe.Va=Pe.Ub),0<Pe.L){var wt=Pe.ed;for(tt=0;4>tt;++tt){var nt;if(Pe.Qa.Cb){var Nt=Pe.Qa.Lb[tt];Pe.Qa.Fb||(Nt+=wt.Tb)}else Nt=wt.Tb;for(nt=0;1>=nt;++nt){var jt=Pe.gd[tt][nt],Vt=Nt;if(wt.Pc&&(Vt+=wt.vd[0],nt&&(Vt+=wt.od[0])),0<(Vt=0>Vt?0:63<Vt?63:Vt)){var It=Vt;0<wt.wb&&(It=4<wt.wb?It>>2:It>>1)>9-wt.wb&&(It=9-wt.wb),1>It&&(It=1),jt.dd=It,jt.tc=2*Vt+It,jt.ld=40<=Vt?2:15<=Vt?1:0}else jt.tc=0;jt.La=nt}}}tt=0}else hs(Pe,6,"Frame setup failed"),tt=Pe.a;if(tt=tt==0){if(tt){Pe.$c=0,0<Pe.Aa||(Pe.Ic=Ob);t:{tt=Pe.Ic,wt=4*(It=Pe.za);var va=32*It,la=It+1,Wa=0<Pe.L?It*(0<Pe.Aa?2:1):0,da=(Pe.Aa==2?2:1)*It;if((jt=wt+832+(nt=3*(16*tt+nd[Pe.L])/2*va)+(Nt=Pe.Fa!=null&&0<Pe.Fa.length?Pe.Kc.c*Pe.Kc.i:0))!=jt)tt=0;else{if(jt>Pe.Vb){if(Pe.Vb=0,Pe.Ec=i(jt),Pe.Fc=0,Pe.Ec==null){tt=hs(Pe,1,"no memory during frame initialization.");break t}Pe.Vb=jt}jt=Pe.Ec,Vt=Pe.Fc,Pe.Ac=jt,Pe.Bc=Vt,Vt+=wt,Pe.Gd=l(va,Ps),Pe.Hd=0,Pe.rb=l(la+1,La),Pe.sb=1,Pe.wa=Wa?l(Wa,wa):null,Pe.Y=0,Pe.D.Nb=0,Pe.D.wa=Pe.wa,Pe.D.Y=Pe.Y,0<Pe.Aa&&(Pe.D.Y+=It),t(!0),Pe.oc=jt,Pe.pc=Vt,Vt+=832,Pe.ya=l(da,Jn),Pe.aa=0,Pe.D.ya=Pe.ya,Pe.D.aa=Pe.aa,Pe.Aa==2&&(Pe.D.aa+=It),Pe.R=16*It,Pe.B=8*It,It=(va=nd[Pe.L])*Pe.R,va=va/2*Pe.B,Pe.sa=jt,Pe.ta=Vt+It,Pe.qa=Pe.sa,Pe.ra=Pe.ta+16*tt*Pe.R+va,Pe.Ha=Pe.qa,Pe.Ia=Pe.ra+8*tt*Pe.B+va,Pe.$c=0,Vt+=nt,Pe.mb=Nt?jt:null,Pe.nb=Nt?Vt:null,t(Vt+Nt<=Pe.Fc+Pe.Vb),Kl(Pe),n(Pe.Ac,Pe.Bc,0,wt),tt=1}}if(tt){if(Ge.ka=0,Ge.y=Pe.sa,Ge.O=Pe.ta,Ge.f=Pe.qa,Ge.N=Pe.ra,Ge.ea=Pe.Ha,Ge.Vd=Pe.Ia,Ge.fa=Pe.R,Ge.Rc=Pe.B,Ge.F=null,Ge.J=0,!_u){for(tt=-255;255>=tt;++tt)ap[255+tt]=0>tt?-tt:tt;for(tt=-1020;1020>=tt;++tt)o0[1020+tt]=-128>tt?-128:127<tt?127:tt;for(tt=-112;112>=tt;++tt)c0[112+tt]=-16>tt?-16:15<tt?15:tt;for(tt=-255;510>=tt;++tt)sp[255+tt]=0>tt?0:255<tt?255:tt;_u=1}Zl=nn,Qc=Wc,yi=Yl,ys=vi,Hs=Od,Tl=Ld,Pr=Oh,dr=Xm,sc=Y,zh=he,Cu=Nu,ep=Jm,Eb=Oe,Tb=Ue,eg=So,tg=Zo,tp=r0,eo=Ym,Ii[0]=_a,Ii[1]=el,Ii[2]=Dt,Ii[3]=Ut,Ii[4]=Qa,Ii[5]=Is,Ii[6]=ds,Ii[7]=Va,Ii[8]=ln,Ii[9]=ts,sd[0]=Fa,sd[1]=Ee,sd[2]=et,sd[3]=ta,sd[4]=Fs,sd[5]=Ja,sd[6]=we,Ll[0]=_l,Ll[1]=Rd,Ll[2]=Zn,Ll[3]=vr,Ll[4]=Oi,Ll[5]=Er,Ll[6]=Xl,tt=1}else tt=0}tt&&(tt=(function(xs,dn){for(xs.M=0;xs.M<xs.Va;++xs.M){var Ba,ha=xs.Jc[xs.M&xs.Xb],aa=xs.m,yr=xs;for(Ba=0;Ba<yr.za;++Ba){var qa=aa,as=yr,ma=as.Ac,Ya=as.Bc+4*Ba,ks=as.zc,ur=as.ya[as.aa+Ba];if(as.Qa.Bb?ur.$b=ie(qa,as.Pa.jb[0])?2+ie(qa,as.Pa.jb[2]):ie(qa,as.Pa.jb[1]):ur.$b=0,as.kc&&(ur.Ad=ie(qa,as.Bd)),ur.Za=!ie(qa,145)+0,ur.Za){var Yr=ur.Ob,Xr=0;for(as=0;4>as;++as){var Lr,fs=ks[0+as];for(Lr=0;4>Lr;++Lr){fs=ag[ma[Ya+Lr]][fs];for(var Ss=Kd[ie(qa,fs[0])];0<Ss;)Ss=Kd[2*Ss+ie(qa,fs[Ss])];fs=-Ss,ma[Ya+Lr]=fs}r(Yr,Xr,ma,Ya,4),Xr+=4,ks[0+as]=fs}}else fs=ie(qa,156)?ie(qa,128)?1:3:ie(qa,163)?2:0,ur.Ob[0]=fs,n(ma,Ya,fs,4),n(ks,0,fs,4);ur.Dd=ie(qa,142)?ie(qa,114)?ie(qa,183)?1:3:2:0}if(yr.m.Ka)return hs(xs,7,"Premature end-of-partition0 encountered.");for(;xs.ja<xs.za;++xs.ja){if(yr=ha,qa=(aa=xs).rb[aa.sb-1],ma=aa.rb[aa.sb+aa.ja],Ba=aa.ya[aa.aa+aa.ja],Ya=aa.kc?Ba.Ad:0)qa.la=ma.la=0,Ba.Za||(qa.Na=ma.Na=0),Ba.Hc=0,Ba.Gc=0,Ba.ia=0;else{var Or,Ta;if(qa=ma,ma=yr,Ya=aa.Pa.Xc,ks=aa.ya[aa.aa+aa.ja],ur=aa.pb[ks.$b],as=ks.ad,Yr=0,Xr=aa.rb[aa.sb-1],fs=Lr=0,n(as,Yr,0,384),ks.Za)var Sn=0,Ol=Ya[3];else{Ss=i(16);var Rr=qa.Na+Xr.Na;if(Rr=jn(ma,Ya[1],Rr,ur.Eb,0,Ss,0),qa.Na=Xr.Na=(0<Rr)+0,1<Rr)Zl(Ss,0,as,Yr);else{var Bi=Ss[0]+3>>3;for(Ss=0;256>Ss;Ss+=16)as[Yr+Ss]=Bi}Sn=1,Ol=Ya[0]}var Ks=15&qa.la,Jr=15&Xr.la;for(Ss=0;4>Ss;++Ss){var $i=1&Jr;for(Bi=Ta=0;4>Bi;++Bi)Ks=Ks>>1|($i=(Rr=jn(ma,Ol,Rr=$i+(1&Ks),ur.Sc,Sn,as,Yr))>Sn)<<7,Ta=Ta<<2|(3<Rr?3:1<Rr?2:as[Yr+0]!=0),Yr+=16;Ks>>=4,Jr=Jr>>1|$i<<7,Lr=(Lr<<8|Ta)>>>0}for(Ol=Ks,Sn=Jr>>4,Or=0;4>Or;Or+=2){for(Ta=0,Ks=qa.la>>4+Or,Jr=Xr.la>>4+Or,Ss=0;2>Ss;++Ss){for($i=1&Jr,Bi=0;2>Bi;++Bi)Rr=$i+(1&Ks),Ks=Ks>>1|($i=0<(Rr=jn(ma,Ya[2],Rr,ur.Qc,0,as,Yr)))<<3,Ta=Ta<<2|(3<Rr?3:1<Rr?2:as[Yr+0]!=0),Yr+=16;Ks>>=2,Jr=Jr>>1|$i<<5}fs|=Ta<<4*Or,Ol|=Ks<<4<<Or,Sn|=(240&Jr)<<Or}qa.la=Ol,Xr.la=Sn,ks.Hc=Lr,ks.Gc=fs,ks.ia=43690&fs?0:ur.ia,Ya=!(Lr|fs)}if(0<aa.L&&(aa.wa[aa.Y+aa.ja]=aa.gd[Ba.$b][Ba.Za],aa.wa[aa.Y+aa.ja].La|=!Ya),yr.Ka)return hs(xs,7,"Premature end-of-file encountered.")}if(Kl(xs),aa=dn,yr=1,Ba=(ha=xs).D,qa=0<ha.L&&ha.M>=ha.zb&&ha.M<=ha.Va,ha.Aa==0)t:{if(Ba.M=ha.M,Ba.uc=qa,bi(ha,Ba),yr=1,Ba=(Ta=ha.D).Nb,qa=(fs=nd[ha.L])*ha.R,ma=fs/2*ha.B,Ss=16*Ba*ha.R,Bi=8*Ba*ha.B,Ya=ha.sa,ks=ha.ta-qa+Ss,ur=ha.qa,as=ha.ra-ma+Bi,Yr=ha.Ha,Xr=ha.Ia-ma+Bi,Jr=(Ks=Ta.M)==0,Lr=Ks>=ha.Va-1,ha.Aa==2&&bi(ha,Ta),Ta.uc)for($i=(Rr=ha).D.M,t(Rr.D.uc),Ta=Rr.yb;Ta<Rr.Hb;++Ta){Sn=Ta,Ol=$i;var si=(rr=(An=Rr).D).Nb;Or=An.R;var rr=rr.wa[rr.Y+Sn],Ts=An.sa,ji=An.ta+16*si*Or+16*Sn,ri=rr.dd,Vs=rr.tc;if(Vs!=0)if(t(3<=Vs),An.L==1)0<Sn&&tg(Ts,ji,Or,Vs+4),rr.La&&eo(Ts,ji,Or,Vs),0<Ol&&eg(Ts,ji,Or,Vs+4),rr.La&&tp(Ts,ji,Or,Vs);else{var Ui=An.B,Cn=An.qa,cc=An.ra+8*si*Ui+8*Sn,Ao=An.Ha,An=An.Ia+8*si*Ui+8*Sn;si=rr.ld,0<Sn&&(dr(Ts,ji,Or,Vs+4,ri,si),zh(Cn,cc,Ao,An,Ui,Vs+4,ri,si)),rr.La&&(ep(Ts,ji,Or,Vs,ri,si),Tb(Cn,cc,Ao,An,Ui,Vs,ri,si)),0<Ol&&(Pr(Ts,ji,Or,Vs+4,ri,si),sc(Cn,cc,Ao,An,Ui,Vs+4,ri,si)),rr.La&&(Cu(Ts,ji,Or,Vs,ri,si),Eb(Cn,cc,Ao,An,Ui,Vs,ri,si))}}if(ha.ia&&alert("todo:DitherRow"),aa.put!=null){if(Ta=16*Ks,Ks=16*(Ks+1),Jr?(aa.y=ha.sa,aa.O=ha.ta+Ss,aa.f=ha.qa,aa.N=ha.ra+Bi,aa.ea=ha.Ha,aa.W=ha.Ia+Bi):(Ta-=fs,aa.y=Ya,aa.O=ks,aa.f=ur,aa.N=as,aa.ea=Yr,aa.W=Xr),Lr||(Ks-=fs),Ks>aa.o&&(Ks=aa.o),aa.F=null,aa.J=null,ha.Fa!=null&&0<ha.Fa.length&&Ta<Ks&&(aa.J=on(ha,aa,Ta,Ks-Ta),aa.F=ha.mb,aa.F==null&&aa.F.length==0)){yr=hs(ha,3,"Could not decode alpha data.");break t}Ta<aa.j&&(fs=aa.j-Ta,Ta=aa.j,t(!(1&fs)),aa.O+=ha.R*fs,aa.N+=ha.B*(fs>>1),aa.W+=ha.B*(fs>>1),aa.F!=null&&(aa.J+=aa.width*fs)),Ta<Ks&&(aa.O+=aa.v,aa.N+=aa.v>>1,aa.W+=aa.v>>1,aa.F!=null&&(aa.J+=aa.v),aa.ka=Ta-aa.j,aa.U=aa.va-aa.v,aa.T=Ks-Ta,yr=aa.put(aa))}Ba+1!=ha.Ic||Lr||(r(ha.sa,ha.ta-qa,Ya,ks+16*ha.R,qa),r(ha.qa,ha.ra-ma,ur,as+8*ha.B,ma),r(ha.Ha,ha.Ia-ma,Yr,Xr+8*ha.B,ma))}if(!yr)return hs(xs,6,"Output aborted.")}return 1})(Pe,Ge)),Ge.bc!=null&&Ge.bc(Ge),tt&=1}return tt?(Pe.cb=0,tt):0})(T,ne)||(B=T.a)}}else B=T.a}B==0&&ve.Oa!=null&&ve.Oa.fd&&(B=Rh(ve.ba))}ve=B}xe=ve!=0?null:11>xe?je.f.RGBA.eb:je.f.kb.y}else xe=null;return xe};var Rb=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(R,I){for(var M="",U=0;U<4;U++)M+=String.fromCharCode(R[I++]);return M}function u(R,I){return R[I+0]|R[I+1]<<8}function f(R,I){return(R[I+0]|R[I+1]<<8|R[I+2]<<16)>>>0}function p(R,I){return(R[I+0]|R[I+1]<<8|R[I+2]<<16|R[I+3]<<24)>>>0}new c;var m=[0],v=[0],g=[],b=new c,j=e,k=(function(R,I){var M={},U=0,P=!1,F=0,K=0;if(M.frames=[],!(function(O,q){for(var W=0;W<4;W++)if(O[q+W]!="RIFF".charCodeAt(W))return!0;return!1})(R,I)){for(p(R,I+=4),I+=8;I<R.length;){var V=d(R,I),J=p(R,I+=4);I+=4;var Q=J+(1&J);switch(V){case"VP8 ":case"VP8L":M.frames[U]===void 0&&(M.frames[U]={}),(le=M.frames[U]).src_off=P?K:I-8,le.src_size=F+J+8,U++,P&&(P=!1,F=0,K=0);break;case"VP8X":(le=M.header={}).feature_flags=R[I];var z=I+4;le.canvas_width=1+f(R,z),z+=3,le.canvas_height=1+f(R,z),z+=3;break;case"ALPH":P=!0,F=Q+8,K=I-8;break;case"ANIM":(le=M.header).bgcolor=p(R,I),z=I+4,le.loop_count=u(R,z),z+=2;break;case"ANMF":var X,le;(le=M.frames[U]={}).offset_x=2*f(R,I),I+=3,le.offset_y=2*f(R,I),I+=3,le.width=1+f(R,I),I+=3,le.height=1+f(R,I),I+=3,le.duration=f(R,I),I+=3,X=R[I++],le.dispose=1&X,le.blend=X>>1&1}V!="ANMF"&&(I+=Q)}return M}})(j,0);k.response=j,k.rgbaoutput=!0,k.dataurl=!1;var S=k.header?k.header:null,N=k.frames?k.frames:null;if(S){S.loop_counter=S.loop_count,m=[S.canvas_height],v=[S.canvas_width];for(var A=0;A<N.length&&N[A].blend!=0;A++);}var _=N[0],E=b.WebPDecodeRGBA(j,_.src_off,_.src_size,v,m);_.rgba=E,_.imgwidth=v[0],_.imgheight=m[0];for(var D=0;D<v[0]*m[0]*4;D++)g[D]=E[D];return this.width=v,this.height=m,this.data=g,this}(function(e){var t,a,r,n,i,l,o,c,d,u=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new c,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new l,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new l,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,a=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,n=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,l=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,d=new u}]);var f=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=O;Object.defineProperty(this,"pdf",{get:function(){return q}});var W=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return W},set:function(pe){W=!!pe}});var te=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return te},set:function(pe){te=!!pe}});var re=0;Object.defineProperty(this,"posX",{get:function(){return re},set:function(pe){isNaN(pe)||(re=pe)}});var oe=0;Object.defineProperty(this,"posY",{get:function(){return oe},set:function(pe){isNaN(pe)||(oe=pe)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(pe){var ae;typeof pe=="number"?ae=[pe,pe,pe,pe]:((ae=new Array(4))[0]=pe[0],ae[1]=pe.length>=2?pe[1]:ae[0],ae[2]=pe.length>=3?pe[2]:ae[0],ae[3]=pe.length>=4?pe[3]:ae[1]),d.margin=ae}});var ce=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ce},set:function(pe){ce=pe}});var G=0;Object.defineProperty(this,"lastBreak",{get:function(){return G},set:function(pe){G=pe}});var ie=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ie},set:function(pe){ie=pe}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(pe){pe instanceof u&&(d=pe)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(pe){d.path=pe}});var ye=[];Object.defineProperty(this,"ctxStack",{get:function(){return ye},set:function(pe){ye=pe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(pe){var ae;ae=p(pe),this.ctx.fillStyle=ae.style,this.ctx.isFillTransparent=ae.a===0,this.ctx.fillOpacity=ae.a,this.pdf.setFillColor(ae.r,ae.g,ae.b,{a:ae.a}),this.pdf.setTextColor(ae.r,ae.g,ae.b,{a:ae.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(pe){var ae=p(pe);this.ctx.strokeStyle=ae.style,this.ctx.isStrokeTransparent=ae.a===0,this.ctx.strokeOpacity=ae.a,ae.a===0?this.pdf.setDrawColor(255,255,255):(ae.a,this.pdf.setDrawColor(ae.r,ae.g,ae.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(pe){["butt","round","square"].indexOf(pe)!==-1&&(this.ctx.lineCap=pe,this.pdf.setLineCap(pe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(pe){isNaN(pe)||(this.ctx.lineWidth=pe,this.pdf.setLineWidth(pe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(pe){["bevel","round","miter"].indexOf(pe)!==-1&&(this.ctx.lineJoin=pe,this.pdf.setLineJoin(pe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(pe){isNaN(pe)||(this.ctx.miterLimit=pe,this.pdf.setMiterLimit(pe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(pe){this.ctx.textBaseline=pe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(pe){["right","end","center","left","start"].indexOf(pe)!==-1&&(this.ctx.textAlign=pe)}});var se=null,Ie=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ie},set:function(pe){se=null,Ie=pe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(pe){var ae;if(this.ctx.font=pe,(ae=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(pe))!==null){var ge=ae[1];ae[2];var Re=ae[3],ue=ae[4];ae[5];var Z=ae[6],Se=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ue)[2];ue=Math.floor(Se==="px"?parseFloat(ue)*this.pdf.internal.scaleFactor:Se==="em"?parseFloat(ue)*this.pdf.getFontSize():parseFloat(ue)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ue);var Ne=(function(ht){var At,Mt,Pt=[],Gt=ht.trim();if(Gt==="")return $3;if(Gt in DR)return[DR[Gt]];for(;Gt!=="";){switch(Mt=null,At=(Gt=MR(Gt)).charAt(0)){case'"':case"'":Mt=uSe(Gt.substring(1),At);break;default:Mt=hSe(Gt)}if(Mt===null||(Pt.push(Mt[0]),(Gt=MR(Mt[1]))!==""&&Gt.charAt(0)!==","))return $3;Gt=Gt.replace(/^,/,"")}return Pt})(Z);if(this.fontFaces){var Ye=(function(ht,At){if(se===null){var Mt=(function(Pt){var Gt=[];return Object.keys(Pt).forEach(function(Ae){Pt[Ae].forEach(function(Tt){var We=null;switch(Tt){case"bold":We={family:Ae,weight:"bold"};break;case"italic":We={family:Ae,style:"italic"};break;case"bolditalic":We={family:Ae,weight:"bold",style:"italic"};break;case"":case"normal":We={family:Ae}}We!==null&&(We.ref={name:Ae,style:Tt},Gt.push(We))})}),Gt})(ht.getFontList());se=(function(Pt){for(var Gt={},Ae=0;Ae<Pt.length;++Ae){var Tt=B3(Pt[Ae]),We=Tt.family,Ot=Tt.stretch,Rt=Tt.style,na=Tt.weight;Gt[We]=Gt[We]||{},Gt[We][Ot]=Gt[We][Ot]||{},Gt[We][Ot][Rt]=Gt[We][Ot][Rt]||{},Gt[We][Ot][Rt][na]=Tt}return Gt})(Mt.concat(At))}return se})(this.pdf,this.fontFaces),gt=Ne.map(function(ht){return{family:ht,stretch:"normal",weight:Re,style:ge}}),qt=(function(ht,At,Mt){for(var Pt=(Mt=Mt||{}).defaultFontFamily||"times",Gt=Object.assign({},dSe,Mt.genericFontFamilies||{}),Ae=null,Tt=null,We=0;We<At.length;++We)if(Gt[(Ae=B3(At[We])).family]&&(Ae.family=Gt[Ae.family]),ht.hasOwnProperty(Ae.family)){Tt=ht[Ae.family];break}if(!(Tt=Tt||ht[Pt]))throw new Error("Could not find a font-family for the rule '"+PR(Ae)+"' and default family '"+Pt+"'.");if(Tt=(function(Ot,Rt){if(Rt[Ot])return Rt[Ot];var na=YC[Ot],pt=na<=YC.normal?-1:1,lt=TR(Rt,AG,na,pt);if(!lt)throw new Error("Could not find a matching font-stretch value for "+Ot);return lt})(Ae.stretch,Tt),Tt=(function(Ot,Rt){if(Rt[Ot])return Rt[Ot];for(var na=CG[Ot],pt=0;pt<na.length;++pt)if(Rt[na[pt]])return Rt[na[pt]];throw new Error("Could not find a matching font-style for "+Ot)})(Ae.style,Tt),!(Tt=(function(Ot,Rt){if(Rt[Ot])return Rt[Ot];if(Ot===400&&Rt[500])return Rt[500];if(Ot===500&&Rt[400])return Rt[400];var na=cSe[Ot],pt=TR(Rt,_G,na,Ot<400?-1:1);if(!pt)throw new Error("Could not find a matching font-weight for value "+Ot);return pt})(Ae.weight,Tt)))throw new Error("Failed to resolve a font for the rule '"+PR(Ae)+"'.");return Tt})(Ye,gt);this.pdf.setFont(qt.ref.name,qt.ref.style)}else{var at="";(Re==="bold"||parseInt(Re,10)>=700||ge==="bold")&&(at="bold"),ge==="italic"&&(at+="italic"),at.length===0&&(at="normal");for(var $t="",ze={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ke=0;Ke<Ne.length;Ke++){if(this.pdf.internal.getFont(Ne[Ke],at,{noFallback:!0,disableWarning:!0})!==void 0){$t=Ne[Ke];break}if(at==="bolditalic"&&this.pdf.internal.getFont(Ne[Ke],"bold",{noFallback:!0,disableWarning:!0})!==void 0)$t=Ne[Ke],at="bold";else if(this.pdf.internal.getFont(Ne[Ke],"normal",{noFallback:!0,disableWarning:!0})!==void 0){$t=Ne[Ke],at="normal";break}}if($t===""){for(var Ze=0;Ze<Ne.length;Ze++)if(ze[Ne[Ze]]){$t=ze[Ne[Ze]];break}}$t=$t===""?"Times":$t,this.pdf.setFont($t,at)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(pe){this.ctx.globalCompositeOperation=pe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(pe){this.ctx.globalAlpha=pe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(pe){this.ctx.lineDashOffset=pe,le.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(pe){this.ctx.lineDash=pe,le.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(pe){this.ctx.ignoreClearRect=!!pe}})};f.prototype.setLineDash=function(O){this.lineDash=O},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){N.call(this,"fill",!1)},f.prototype.stroke=function(){N.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(O,q){if(isNaN(O)||isNaN(q))throw fr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var W=this.ctx.transform.applyToPoint(new l(O,q));this.path.push({type:"mt",x:W.x,y:W.y}),this.ctx.lastPoint=new l(O,q)},f.prototype.closePath=function(){var O=new l(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&tr(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){O=new l(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(O.x,O.y)},f.prototype.lineTo=function(O,q){if(isNaN(O)||isNaN(q))throw fr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var W=this.ctx.transform.applyToPoint(new l(O,q));this.path.push({type:"lt",x:W.x,y:W.y}),this.ctx.lastPoint=new l(W.x,W.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),N.call(this,null,!0)},f.prototype.quadraticCurveTo=function(O,q,W,te){if(isNaN(W)||isNaN(te)||isNaN(O)||isNaN(q))throw fr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var re=this.ctx.transform.applyToPoint(new l(W,te)),oe=this.ctx.transform.applyToPoint(new l(O,q));this.path.push({type:"qct",x1:oe.x,y1:oe.y,x:re.x,y:re.y}),this.ctx.lastPoint=new l(re.x,re.y)},f.prototype.bezierCurveTo=function(O,q,W,te,re,oe){if(isNaN(re)||isNaN(oe)||isNaN(O)||isNaN(q)||isNaN(W)||isNaN(te))throw fr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ce=this.ctx.transform.applyToPoint(new l(re,oe)),G=this.ctx.transform.applyToPoint(new l(O,q)),ie=this.ctx.transform.applyToPoint(new l(W,te));this.path.push({type:"bct",x1:G.x,y1:G.y,x2:ie.x,y2:ie.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new l(ce.x,ce.y)},f.prototype.arc=function(O,q,W,te,re,oe){if(isNaN(O)||isNaN(q)||isNaN(W)||isNaN(te)||isNaN(re))throw fr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(oe=!!oe,!this.ctx.transform.isIdentity){var ce=this.ctx.transform.applyToPoint(new l(O,q));O=ce.x,q=ce.y;var G=this.ctx.transform.applyToPoint(new l(0,W)),ie=this.ctx.transform.applyToPoint(new l(0,0));W=Math.sqrt(Math.pow(G.x-ie.x,2)+Math.pow(G.y-ie.y,2))}Math.abs(re-te)>=2*Math.PI&&(te=0,re=2*Math.PI),this.path.push({type:"arc",x:O,y:q,radius:W,startAngle:te,endAngle:re,counterclockwise:oe})},f.prototype.arcTo=function(O,q,W,te,re){throw new Error("arcTo not implemented.")},f.prototype.rect=function(O,q,W,te){if(isNaN(O)||isNaN(q)||isNaN(W)||isNaN(te))throw fr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,q),this.lineTo(O+W,q),this.lineTo(O+W,q+te),this.lineTo(O,q+te),this.lineTo(O,q),this.lineTo(O+W,q),this.lineTo(O,q)},f.prototype.fillRect=function(O,q,W,te){if(isNaN(O)||isNaN(q)||isNaN(W)||isNaN(te))throw fr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var re={};this.lineCap!=="butt"&&(re.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(re.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,q,W,te),this.fill(),re.hasOwnProperty("lineCap")&&(this.lineCap=re.lineCap),re.hasOwnProperty("lineJoin")&&(this.lineJoin=re.lineJoin)}},f.prototype.strokeRect=function(O,q,W,te){if(isNaN(O)||isNaN(q)||isNaN(W)||isNaN(te))throw fr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(O,q,W,te),this.stroke())},f.prototype.clearRect=function(O,q,W,te){if(isNaN(O)||isNaN(q)||isNaN(W)||isNaN(te))throw fr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,q,W,te))},f.prototype.save=function(O){O=typeof O!="boolean"||O;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var te=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=te}},f.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("Q");this.pdf.setPage(q),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(O){var q,W,te,re;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))q=0,W=0,te=0,re=0;else{var oe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(oe!==null)q=parseInt(oe[1]),W=parseInt(oe[2]),te=parseInt(oe[3]),re=1;else if((oe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)q=parseInt(oe[1]),W=parseInt(oe[2]),te=parseInt(oe[3]),re=parseFloat(oe[4]);else{if(re=1,typeof O=="string"&&O.charAt(0)!=="#"){var ce=new bG(O);O=ce.ok?ce.toHex():"#000000"}O.length===4?(q=O.substring(1,2),q+=q,W=O.substring(2,3),W+=W,te=O.substring(3,4),te+=te):(q=O.substring(1,3),W=O.substring(3,5),te=O.substring(5,7)),q=parseInt(q,16),W=parseInt(W,16),te=parseInt(te,16)}}return{r:q,g:W,b:te,a:re,style:O}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(O,q,W,te){if(isNaN(q)||isNaN(W)||typeof O!="string")throw fr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(te=isNaN(te)?void 0:te,!m.call(this)){var re=Q(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;U.call(this,{text:O,x:q,y:W,scale:oe,angle:re,align:this.textAlign,maxWidth:te})}},f.prototype.strokeText=function(O,q,W,te){if(isNaN(q)||isNaN(W)||typeof O!="string")throw fr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){te=isNaN(te)?void 0:te;var re=Q(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;U.call(this,{text:O,x:q,y:W,scale:oe,renderingMode:"stroke",angle:re,align:this.textAlign,maxWidth:te})}},f.prototype.measureText=function(O){if(typeof O!="string")throw fr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,W=this.pdf.internal.scaleFactor,te=q.internal.getFontSize(),re=q.getStringUnitWidth(O)*te/q.internal.scaleFactor;return new function(oe){var ce=(oe=oe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ce}}),this}({width:re*=Math.round(96*W/72*1e4)/1e4})},f.prototype.scale=function(O,q){if(isNaN(O)||isNaN(q))throw fr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var W=new c(O,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(W)},f.prototype.rotate=function(O){if(isNaN(O))throw fr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new c(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},f.prototype.translate=function(O,q){if(isNaN(O)||isNaN(q))throw fr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var W=new c(1,0,0,1,O,q);this.ctx.transform=this.ctx.transform.multiply(W)},f.prototype.transform=function(O,q,W,te,re,oe){if(isNaN(O)||isNaN(q)||isNaN(W)||isNaN(te)||isNaN(re)||isNaN(oe))throw fr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ce=new c(O,q,W,te,re,oe);this.ctx.transform=this.ctx.transform.multiply(ce)},f.prototype.setTransform=function(O,q,W,te,re,oe){O=isNaN(O)?1:O,q=isNaN(q)?0:q,W=isNaN(W)?0:W,te=isNaN(te)?1:te,re=isNaN(re)?0:re,oe=isNaN(oe)?0:oe,this.ctx.transform=new c(O,q,W,te,re,oe)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(O,q,W,te,re,oe,ce,G,ie){var ye=this.pdf.getImageProperties(O),se=1,Ie=1,pe=1,ae=1;te!==void 0&&G!==void 0&&(pe=G/te,ae=ie/re,se=ye.width/te*G/te,Ie=ye.height/re*ie/re),oe===void 0&&(oe=q,ce=W,q=0,W=0),te!==void 0&&G===void 0&&(G=te,ie=re),te===void 0&&G===void 0&&(G=ye.width,ie=ye.height);for(var ge,Re=this.ctx.transform.decompose(),ue=Q(Re.rotate.shx),Z=new c,Se=(Z=(Z=(Z=Z.multiply(Re.translate)).multiply(Re.skew)).multiply(Re.scale)).applyToRectangle(new o(oe-q*pe,ce-W*ae,te*se,re*Ie)),Ne=b.call(this,Se),Ye=[],gt=0;gt<Ne.length;gt+=1)Ye.indexOf(Ne[gt])===-1&&Ye.push(Ne[gt]);if(S(Ye),this.autoPaging)for(var qt=Ye[0],at=Ye[Ye.length-1],$t=qt;$t<at+1;$t++){this.pdf.setPage($t);var ze=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ke=$t===1?this.posY+this.margin[0]:this.margin[0],Ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ht=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],At=$t===1?0:Ze+($t-2)*ht;if(this.ctx.clip_path.length!==0){var Mt=this.path;ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(ge,this.posX+this.margin[3],-At+Ke+this.ctx.prevPageLastElemOffset),A.call(this,"fill",!0),this.path=Mt}var Pt=JSON.parse(JSON.stringify(Se));Pt=k([Pt],this.posX+this.margin[3],-At+Ke+this.ctx.prevPageLastElemOffset)[0];var Gt=($t>qt||$t<at)&&g.call(this);Gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ze,ht,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",Pt.x,Pt.y,Pt.w,Pt.h,null,null,ue),Gt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(O,"JPEG",Se.x,Se.y,Se.w,Se.h,null,null,ue)};var b=function(O,q,W){var te=[];q=q||this.pdf.internal.pageSize.width,W=W||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var re=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":te.push(Math.floor((O.y+re)/W)+1);break;case"arc":te.push(Math.floor((O.y+re-O.radius)/W)+1),te.push(Math.floor((O.y+re+O.radius)/W)+1);break;case"qct":var oe=z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);te.push(Math.floor((oe.y+re)/W)+1),te.push(Math.floor((oe.y+oe.h+re)/W)+1);break;case"bct":var ce=X(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);te.push(Math.floor((ce.y+re)/W)+1),te.push(Math.floor((ce.y+ce.h+re)/W)+1);break;case"rect":te.push(Math.floor((O.y+re)/W)+1),te.push(Math.floor((O.y+O.h+re)/W)+1)}for(var G=0;G<te.length;G+=1)for(;this.pdf.internal.getNumberOfPages()<te[G];)j.call(this);return te},j=function(){var O=this.fillStyle,q=this.strokeStyle,W=this.font,te=this.lineCap,re=this.lineWidth,oe=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=q,this.font=W,this.lineCap=te,this.lineWidth=re,this.lineJoin=oe},k=function(O,q,W){for(var te=0;te<O.length;te++)switch(O[te].type){case"bct":O[te].x2+=q,O[te].y2+=W;case"qct":O[te].x1+=q,O[te].y1+=W;default:O[te].x+=q,O[te].y+=W}return O},S=function(O){return O.sort(function(q,W){return q-W})},N=function(O,q){for(var W,te,re=this.fillStyle,oe=this.strokeStyle,ce=this.lineCap,G=this.lineWidth,ie=Math.abs(G*this.ctx.transform.scaleX),ye=this.lineJoin,se=JSON.parse(JSON.stringify(this.path)),Ie=JSON.parse(JSON.stringify(this.path)),pe=[],ae=0;ae<Ie.length;ae++)if(Ie[ae].x!==void 0)for(var ge=b.call(this,Ie[ae]),Re=0;Re<ge.length;Re+=1)pe.indexOf(ge[Re])===-1&&pe.push(ge[Re]);for(var ue=0;ue<pe.length;ue++)for(;this.pdf.internal.getNumberOfPages()<pe[ue];)j.call(this);if(S(pe),this.autoPaging)for(var Z=pe[0],Se=pe[pe.length-1],Ne=Z;Ne<Se+1;Ne++){this.pdf.setPage(Ne),this.fillStyle=re,this.strokeStyle=oe,this.lineCap=ce,this.lineWidth=ie,this.lineJoin=ye;var Ye=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],gt=Ne===1?this.posY+this.margin[0]:this.margin[0],qt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],at=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],$t=Ne===1?0:qt+(Ne-2)*at;if(this.ctx.clip_path.length!==0){var ze=this.path;W=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(W,this.posX+this.margin[3],-$t+gt+this.ctx.prevPageLastElemOffset),A.call(this,O,!0),this.path=ze}if(te=JSON.parse(JSON.stringify(se)),this.path=k(te,this.posX+this.margin[3],-$t+gt+this.ctx.prevPageLastElemOffset),q===!1||Ne===0){var Ke=(Ne>Z||Ne<Se)&&g.call(this);Ke&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ye,at,null).clip().discardPath()),A.call(this,O,q),Ke&&this.pdf.restoreGraphicsState()}this.lineWidth=G}else this.lineWidth=ie,A.call(this,O,q),this.lineWidth=G;this.path=se},A=function(O,q){if((O!=="stroke"||q||!v.call(this))&&(O==="stroke"||q||!m.call(this))){for(var W,te,re=[],oe=this.path,ce=0;ce<oe.length;ce++){var G=oe[ce];switch(G.type){case"begin":re.push({begin:!0});break;case"close":re.push({close:!0});break;case"mt":re.push({start:G,deltas:[],abs:[]});break;case"lt":var ie=re.length;if(oe[ce-1]&&!isNaN(oe[ce-1].x)&&(W=[G.x-oe[ce-1].x,G.y-oe[ce-1].y],ie>0)){for(;ie>=0;ie--)if(re[ie-1].close!==!0&&re[ie-1].begin!==!0){re[ie-1].deltas.push(W),re[ie-1].abs.push(G);break}}break;case"bct":W=[G.x1-oe[ce-1].x,G.y1-oe[ce-1].y,G.x2-oe[ce-1].x,G.y2-oe[ce-1].y,G.x-oe[ce-1].x,G.y-oe[ce-1].y],re[re.length-1].deltas.push(W);break;case"qct":var ye=oe[ce-1].x+2/3*(G.x1-oe[ce-1].x),se=oe[ce-1].y+2/3*(G.y1-oe[ce-1].y),Ie=G.x+2/3*(G.x1-G.x),pe=G.y+2/3*(G.y1-G.y),ae=G.x,ge=G.y;W=[ye-oe[ce-1].x,se-oe[ce-1].y,Ie-oe[ce-1].x,pe-oe[ce-1].y,ae-oe[ce-1].x,ge-oe[ce-1].y],re[re.length-1].deltas.push(W);break;case"arc":re.push({deltas:[],abs:[],arc:!0}),Array.isArray(re[re.length-1].abs)&&re[re.length-1].abs.push(G)}}te=q?null:O==="stroke"?"stroke":"fill";for(var Re=!1,ue=0;ue<re.length;ue++)if(re[ue].arc)for(var Z=re[ue].abs,Se=0;Se<Z.length;Se++){var Ne=Z[Se];Ne.type==="arc"?D.call(this,Ne.x,Ne.y,Ne.radius,Ne.startAngle,Ne.endAngle,Ne.counterclockwise,void 0,q,!Re):P.call(this,Ne.x,Ne.y),Re=!0}else if(re[ue].close===!0)this.pdf.internal.out("h"),Re=!1;else if(re[ue].begin!==!0){var Ye=re[ue].start.x,gt=re[ue].start.y;F.call(this,re[ue].deltas,Ye,gt),Re=!0}te&&R.call(this,te),q&&I.call(this)}},_=function(O){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,W=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-W;case"top":return O+q-W;case"hanging":return O+q-2*W;case"middle":return O+q/2-W;default:return O}},E=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function(q,W){this.colorStops.push([q,W])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(O,q,W,te,re,oe,ce,G,ie){for(var ye=V.call(this,W,te,re,oe),se=0;se<ye.length;se++){var Ie=ye[se];se===0&&(ie?M.call(this,Ie.x1+O,Ie.y1+q):P.call(this,Ie.x1+O,Ie.y1+q)),K.call(this,O,q,Ie.x2,Ie.y2,Ie.x3,Ie.y3,Ie.x4,Ie.y4)}G?I.call(this):R.call(this,ce)},R=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},I=function(){this.pdf.clip(),this.pdf.discardPath()},M=function(O,q){this.pdf.internal.out(a(O)+" "+r(q)+" m")},U=function(O){var q;switch(O.align){case"right":case"end":q="right";break;case"center":q="center";break;default:q="left"}var W=this.pdf.getTextDimensions(O.text),te=_.call(this,O.y),re=E.call(this,te)-W.h,oe=this.ctx.transform.applyToPoint(new l(O.x,te)),ce=this.ctx.transform.decompose(),G=new c;G=(G=(G=G.multiply(ce.translate)).multiply(ce.skew)).multiply(ce.scale);for(var ie,ye,se,Ie=this.ctx.transform.applyToRectangle(new o(O.x,te,W.w,W.h)),pe=G.applyToRectangle(new o(O.x,re,W.w,W.h)),ae=b.call(this,pe),ge=[],Re=0;Re<ae.length;Re+=1)ge.indexOf(ae[Re])===-1&&ge.push(ae[Re]);if(S(ge),this.autoPaging)for(var ue=ge[0],Z=ge[ge.length-1],Se=ue;Se<Z+1;Se++){this.pdf.setPage(Se);var Ne=Se===1?this.posY+this.margin[0]:this.margin[0],Ye=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],gt=this.pdf.internal.pageSize.height-this.margin[2],qt=gt-this.margin[0],at=this.pdf.internal.pageSize.width-this.margin[1],$t=at-this.margin[3],ze=Se===1?0:Ye+(Se-2)*qt;if(this.ctx.clip_path.length!==0){var Ke=this.path;ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(ie,this.posX+this.margin[3],-1*ze+Ne),A.call(this,"fill",!0),this.path=Ke}var Ze=k([JSON.parse(JSON.stringify(pe))],this.posX+this.margin[3],-ze+Ne+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ye*O.scale),se=this.lineWidth,this.lineWidth=se*O.scale);var ht=this.autoPaging!=="text";if(ht||Ze.y+Ze.h<=gt){if(ht||Ze.y>=Ne&&Ze.x<=at){var At=ht?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||at-Ze.x)[0],Mt=k([JSON.parse(JSON.stringify(Ie))],this.posX+this.margin[3],-ze+Ne+this.ctx.prevPageLastElemOffset)[0],Pt=ht&&(Se>ue||Se<Z)&&g.call(this);Pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$t,qt,null).clip().discardPath()),this.pdf.text(At,Mt.x,Mt.y,{angle:O.angle,align:q,renderingMode:O.renderingMode}),Pt&&this.pdf.restoreGraphicsState()}}else Ze.y<gt&&(this.ctx.prevPageLastElemOffset+=gt-Ze.y);O.scale>=.01&&(this.pdf.setFontSize(ye),this.lineWidth=se)}else O.scale>=.01&&(ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ye*O.scale),se=this.lineWidth,this.lineWidth=se*O.scale),this.pdf.text(O.text,oe.x+this.posX,oe.y+this.posY,{angle:O.angle,align:q,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(ye),this.lineWidth=se)},P=function(O,q,W,te){W=W||0,te=te||0,this.pdf.internal.out(a(O+W)+" "+r(q+te)+" l")},F=function(O,q,W){return this.pdf.lines(O,q,W,null,null)},K=function(O,q,W,te,re,oe,ce,G){this.pdf.internal.out([t(n(W+O)),t(i(te+q)),t(n(re+O)),t(i(oe+q)),t(n(ce+O)),t(i(G+q)),"c"].join(" "))},V=function(O,q,W,te){for(var re=2*Math.PI,oe=Math.PI/2;q>W;)q-=re;var ce=Math.abs(W-q);ce<re&&te&&(ce=re-ce);for(var G=[],ie=te?-1:1,ye=q;ce>1e-5;){var se=ye+ie*Math.min(ce,oe);G.push(J.call(this,O,ye,se)),ce-=Math.abs(se-ye),ye=se}return G},J=function(O,q,W){var te=(W-q)/2,re=O*Math.cos(te),oe=O*Math.sin(te),ce=re,G=-oe,ie=ce*ce+G*G,ye=ie+ce*re+G*oe,se=4/3*(Math.sqrt(2*ie*ye)-ye)/(ce*oe-G*re),Ie=ce-se*G,pe=G+se*ce,ae=Ie,ge=-pe,Re=te+q,ue=Math.cos(Re),Z=Math.sin(Re);return{x1:O*Math.cos(q),y1:O*Math.sin(q),x2:Ie*ue-pe*Z,y2:Ie*Z+pe*ue,x3:ae*ue-ge*Z,y3:ae*Z+ge*ue,x4:O*Math.cos(W),y4:O*Math.sin(W)}},Q=function(O){return 180*O/Math.PI},z=function(O,q,W,te,re,oe){var ce=O+.5*(W-O),G=q+.5*(te-q),ie=re+.5*(W-re),ye=oe+.5*(te-oe),se=Math.min(O,re,ce,ie),Ie=Math.max(O,re,ce,ie),pe=Math.min(q,oe,G,ye),ae=Math.max(q,oe,G,ye);return new o(se,pe,Ie-se,ae-pe)},X=function(O,q,W,te,re,oe,ce,G){var ie,ye,se,Ie,pe,ae,ge,Re,ue,Z,Se,Ne,Ye,gt,qt=W-O,at=te-q,$t=re-W,ze=oe-te,Ke=ce-re,Ze=G-oe;for(ye=0;ye<41;ye++)ue=(ge=(se=O+(ie=ye/40)*qt)+ie*((pe=W+ie*$t)-se))+ie*(pe+ie*(re+ie*Ke-pe)-ge),Z=(Re=(Ie=q+ie*at)+ie*((ae=te+ie*ze)-Ie))+ie*(ae+ie*(oe+ie*Ze-ae)-Re),ye==0?(Se=ue,Ne=Z,Ye=ue,gt=Z):(Se=Math.min(Se,ue),Ne=Math.min(Ne,Z),Ye=Math.max(Ye,ue),gt=Math.max(gt,Z));return new o(Math.round(Se),Math.round(Ne),Math.round(Ye-Se),Math.round(gt-Ne))},le=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,q,W=(O=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:q}));this.prevLineDash!==W&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=W)}}})(ga.API),(function(e){var t=function(l){var o,c,d,u,f,p,m,v,g,b;for(c=[],d=0,u=(l+=o="\0\0\0\0".slice(l.length%4||4)).length;u>d;d+=4)(f=(l.charCodeAt(d)<<24)+(l.charCodeAt(d+1)<<16)+(l.charCodeAt(d+2)<<8)+l.charCodeAt(d+3))!==0?(p=(f=((f=((f=((f=(f-(b=f%85))/85)-(g=f%85))/85)-(v=f%85))/85)-(m=f%85))/85)%85,c.push(p+33,m+33,v+33,g+33,b+33)):c.push(122);return(function(j,k){for(var S=k;S>0;S--)j.pop()})(c,o.length),String.fromCharCode.apply(String,c)+"~>"},a=function(l){var o,c,d,u,f,p=String,m="length",v=255,g="charCodeAt",b="slice",j="replace";for(l[b](-2),l=l[b](0,-2)[j](/\s/g,"")[j]("z","!!!!!"),d=[],u=0,f=(l+=o="uuuuu"[b](l[m]%5||5))[m];f>u;u+=5)c=52200625*(l[g](u)-33)+614125*(l[g](u+1)-33)+7225*(l[g](u+2)-33)+85*(l[g](u+3)-33)+(l[g](u+4)-33),d.push(v&c>>24,v&c>>16,v&c>>8,v&c);return(function(k,S){for(var N=S;N>0;N--)k.pop()})(d,o[m]),p.fromCharCode.apply(p,d)},r=function(l){return l.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},n=function(l){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),o.test(l)===!1)return"";for(var c="",d=0;d<l.length;d+=2)c+=String.fromCharCode("0x"+(l[d]+l[d+1]));return c},i=function(l){for(var o=new Uint8Array(l.length),c=l.length;c--;)o[c]=l.charCodeAt(c);return(o=zC(o)).reduce(function(d,u){return d+String.fromCharCode(u)},"")};e.processDataByFilters=function(l,o){var c=0,d=l||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),c=0;c<o.length;c+=1)switch(o[c]){case"ASCII85Decode":case"/ASCII85Decode":d=a(d),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=t(d),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=n(d),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=r(d),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=i(d),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[c]+'" is not implemented')}return{data:d,reverseChain:u.reverse().join(" ")}}})(ga.API),(function(e){e.loadFile=function(t,a,r){return(function(n,i,l){i=i!==!1,l=typeof l=="function"?l:function(){};var o=void 0;try{o=(function(c,d,u){var f=new XMLHttpRequest,p=0,m=function(v){var g=v.length,b=[],j=String.fromCharCode;for(p=0;p<g;p+=1)b.push(j(255&v.charCodeAt(p)));return b.join("")};if(f.open("GET",c,!d),f.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(f.onload=function(){f.status===200?u(m(this.responseText)):u(void 0)}),f.send(null),d&&f.status===200)return m(f.responseText)})(n,i,l)}catch{}return o})(t,a,r)},e.loadImageFile=e.loadFile})(ga.API),(function(e){function t(){return(Ga.html2canvas?Promise.resolve(Ga.html2canvas):pn(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function a(){return(Ga.DOMPurify?Promise.resolve(Ga.DOMPurify):pn(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var c=tr(o);return c==="undefined"?"undefined":c==="string"||o instanceof String?"string":c==="number"||o instanceof Number?"number":c==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":c==="object"?"object":"unknown"},n=function(o,c){var d=document.createElement(o);for(var u in c.className&&(d.className=c.className),c.innerHTML&&c.dompurify&&(d.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)d.style[u]=c.style[u];return d},i=function o(c,d){for(var u=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)d!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||u.appendChild(o(f,d));return c.nodeType===1&&(c.nodeName==="CANVAS"?(u.width=c.width,u.height=c.height,u.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(u.value=c.value),u.addEventListener("load",function(){u.scrollTop=c.scrollTop,u.scrollLeft=c.scrollLeft},!0)),u},l=function o(c){var d=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),d);return(u=u.setProgress(1,o,1,[o])).set(c)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(o,c){return o.__proto__=c||l.prototype,o},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(o,c){return this.then(function(){switch(c=c||(function(d){switch(r(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o),c){case"string":return this.then(a).then(function(d){return this.set({src:n("div",{innerHTML:o,dompurify:d})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},l.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=n("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=n("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(n("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,c(this.prop.container,d)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var d=this.opt.jsPDF,u=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=u,u)for(var m=0;m<u.length;++m){var v=u[m],g=v.src.find(function(b){return b.format==="truetype"});g&&d.addFont(g.url,v.ref.name,v.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,d.context2d.save(!0),c(this.prop.container,p)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(o,c,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(o,c):this.outputPdf(o,c)},l.prototype.outputPdf=function(o,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,c)})},l.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},l.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(o){if(r(o)!=="object")return this;var c=Object.keys(o||{}).map(function(d){if(d in l.template.prop)return function(){this.prop[d]=o[d]};switch(d){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[d]=o[d]}}},this);return this.then(function(){return this.thenList(c)})},l.prototype.get=function(o,c){return this.then(function(){var d=o in l.template.prop?this.prop[o]:this.opt[o];return c?c(d):d})},l.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},l.prototype.setPageSize=function(o){function c(d,u){return Math.floor(d*u/72*96)}return this.then(function(){(o=o||ga.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:c(o.inner.width,o.k),height:c(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},l.prototype.setProgress=function(o,c,d,u){return o!=null&&(this.progress.val=o),c!=null&&(this.progress.state=c),d!=null&&(this.progress.n=d),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(o,c,d,u){return this.setProgress(o?this.progress.val+o:null,c||null,d?this.progress.n+d:null,u?this.progress.stack.concat(u):null)},l.prototype.then=function(o,c){var d=this;return this.thenCore(o,c,function(u,f){return d.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(p){return d.updateProgress(null,u),p}).then(u,f).then(function(p){return d.updateProgress(1),p})})},l.prototype.thenCore=function(o,c,d){d=d||Promise.prototype.then;var u=this;o&&(o=o.bind(u)),c&&(c=c.bind(u));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:l.convert(Object.assign({},u),Promise.prototype),p=d.call(f,o,c);return l.convert(p,u.__proto__)},l.prototype.thenExternal=function(o,c){return Promise.prototype.then.call(this,o,c)},l.prototype.thenList=function(o){var c=this;return o.forEach(function(d){c=c.thenCore(d)}),c},l.prototype.catch=function(o){o&&(o=o.bind(this));var c=Promise.prototype.catch.call(this,o);return l.convert(c,this)},l.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},l.prototype.error=function(o){return this.then(function(){throw new Error(o)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,ga.getPageSize=function(o,c,d){if(tr(o)==="object"){var u=o;o=u.orientation,c=u.unit||c,d=u.format||d}c=c||"mm",d=d||"a4",o=(""+(o||"P")).toLowerCase();var f,p=(""+d).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+c}var v,g=0,b=0;if(m.hasOwnProperty(p))g=m[p][1]/f,b=m[p][0]/f;else try{g=d[1],b=d[0]}catch{throw new Error("Invalid format: "+d)}if(o==="p"||o==="portrait")o="p",b>g&&(v=b,b=g,g=v);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",g>b&&(v=b,b=g,g=v)}return{width:b,height:g,unit:c,k:f,orientation:o}},e.html=function(o,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(B3):null;var d=new l(c);return c.worker?d:d.from(o).doCallback()}})(ga.API),ga.API.addJS=function(e){return OR=e,this.internal.events.subscribe("postPutResources",function(){p2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(p2+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),LR=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+OR+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){p2!==void 0&&LR!==void 0&&this.internal.out("/Names <</JavaScript "+p2+" 0 R>>")}),this},(function(e){var t;e.events.push(["postPutResources",function(){var a=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var n=a.outline.render().split(/\r\n/),i=0;i<n.length;i++){var l=n[i],o=r.exec(l);if(o!=null){var c=o[1];a.internal.newObjectDeferredBegin(c,!1)}a.internal.write(l)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,u=[];for(i=0;i<d;i++){var f=a.internal.newObject();u.push(f);var p=a.internal.getPageInfo(i+1);a.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var m=a.internal.newObject();for(a.internal.write("<< /Names [ "),i=0;i<u.length;i++)a.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");a.internal.write(" ] >>","endobj"),t=a.internal.newObject(),a.internal.write("<< /Dests "+m+" 0 R"),a.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var a=this;a.outline.root.children.length>0&&(a.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&a.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var a=this;a.outline={createNamedDestinations:!1,root:{children:[]}},a.outline.add=function(r,n,i){var l={title:n,options:i,children:[]};return r==null&&(r=this.root),r.children.push(l),l},a.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=a,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},a.outline.genIds_r=function(r){r.id=a.internal.newObjectDeferred();for(var n=0;n<r.children.length;n++)this.genIds_r(r.children[n])},a.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},a.outline.renderItems=function(r){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<r.children.length;i++){var l=r.children[i];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(r)),i>0&&this.line("/Prev "+this.makeRef(r.children[i-1])),i<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[i+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var o=this.count=this.count_r({count:0},l);if(o>0&&this.line("/Count "+o),l.options&&l.options.pageNumber){var c=a.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},a.outline.line=function(r){this.ctx.val+=r+`\r
`},a.outline.makeRef=function(r){return r.id+" 0 R"},a.outline.makeString=function(r){return"("+a.internal.pdfEscape(r)+")"},a.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},a.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},a.outline.count_r=function(r,n){for(var i=0;i<n.children.length;i++)r.count++,this.count_r(r,n.children[i]);return r.count}}])})(ga.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(a,r,n,i,l,o){var c,d=this.decode.DCT_DECODE,u=null;if(typeof a=="string"||this.__addimage__.isArrayBuffer(a)||this.__addimage__.isArrayBufferView(a)){switch(a=l||a,a=this.__addimage__.isArrayBuffer(a)?new Uint8Array(a):a,c=(function(f){for(var p,m=256*f.charCodeAt(4)+f.charCodeAt(5),v=f.length,g={width:0,height:0,numcomponents:1},b=4;b<v;b+=2){if(b+=m,t.indexOf(f.charCodeAt(b+1))!==-1){p=256*f.charCodeAt(b+5)+f.charCodeAt(b+6),g={width:256*f.charCodeAt(b+7)+f.charCodeAt(b+8),height:p,numcomponents:f.charCodeAt(b+9)};break}m=256*f.charCodeAt(b+2)+f.charCodeAt(b+3)}return g})(a=this.__addimage__.isArrayBufferView(a)?this.__addimage__.arrayBufferToBinaryString(a):a),c.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:a,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:d,index:r,alias:n}}return u}})(ga.API),ga.API.processPNG=function(e,t,a,r){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var n,i=Kke(e,{checkCrc:!0}),l=i.width,o=i.height,c=i.channels,d=i.palette,u=i.depth;n=d&&c===1?(function(D){for(var R=D.width,I=D.height,M=D.data,U=D.palette,P=D.depth,F=!1,K=[],V=[],J=void 0,Q=!1,z=0,X=0;X<U.length;X++){var le=BO(U[X],4),O=le[0],q=le[1],W=le[2],te=le[3];K.push(O,q,W),te!=null&&(te===0?(z++,V.length<1&&V.push(X)):te<255&&(Q=!0))}if(Q||z>1){F=!0,V=void 0;var re=R*I;J=new Uint8Array(re);for(var oe=new DataView(M.buffer),ce=0;ce<re;ce++){var G=U3(oe,ce,P),ie=BO(U[G],4)[3];J[ce]=ie}}else z===0&&(V=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:F?8:void 0,colorBytes:M,alphaBytes:J,needSMask:F,palette:K,mask:V}})(i):c===2||c===4?(function(D){for(var R=D.data,I=D.width,M=D.height,U=D.channels,P=D.depth,F=U===2?"DeviceGray":"DeviceRGB",K=U-1,V=I*M,J=K,Q=V*J,z=1*V,X=Math.ceil(Q*P/8),le=Math.ceil(z*P/8),O=new Uint8Array(X),q=new Uint8Array(le),W=new DataView(R.buffer),te=new DataView(O.buffer),re=new DataView(q.buffer),oe=!1,ce=0;ce<V;ce++){for(var G=ce*U,ie=0;ie<J;ie++)VR(te,U3(W,G+ie,P),ce*J+ie,P);var ye=U3(W,G+J,P);ye<(1<<P)-1&&(oe=!0),VR(re,ye,1*ce,P)}return{colorSpace:F,colorsPerPixel:K,sMaskBitsPerComponent:oe?P:void 0,colorBytes:O,alphaBytes:q,needSMask:oe}})(i):(function(D){var R=D.data,I=D.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:I,colorsPerPixel:I==="DeviceGray"?1:3,colorBytes:R instanceof Uint16Array?(function(M){for(var U=M.length,P=new Uint8Array(2*U),F=new DataView(P.buffer,P.byteOffset,P.byteLength),K=0;K<U;K++)F.setUint16(2*K,M[K],!1);return P})(R):R,needSMask:!1}})(i);var f,p,m,v=n,g=v.colorSpace,b=v.colorsPerPixel,j=v.sMaskBitsPerComponent,k=v.colorBytes,S=v.alphaBytes,N=v.needSMask,A=v.palette,_=v.mask,E=null;return r!==ga.API.image_compression.NONE&&typeof zC=="function"?(E=(function(D){var R;switch(D){case ga.API.image_compression.FAST:R=11;break;case ga.API.image_compression.MEDIUM:R=13;break;case ga.API.image_compression.SLOW:R=14;break;default:R=12}return R})(r),f=this.decode.FLATE_DECODE,p="/Predictor ".concat(E," /Colors ").concat(b," /BitsPerComponent ").concat(u," /Columns ").concat(l),e=BR(k,Math.ceil(l*b*u/8),b,u,r),N&&(m=BR(S,Math.ceil(l*j/8),1,j,r))):(f=void 0,p=void 0,e=k,N&&(m=S)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:a,data:e,index:t,filter:f,decodeParameters:p,transparency:_,palette:A,sMask:m,predictor:E,width:l,height:o,bitsPerComponent:u,sMaskBitsPerComponent:j,colorSpace:g}}},(function(e){e.processGIF89A=function(t,a,r,n){var i=new xSe(t),l=i.width,o=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:l,height:o},u=new z3(100).encode(d,100);return e.processJPEG.call(this,u,a,r,n)},e.processGIF87A=e.processGIF89A})(ga.API),fd.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var a=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:n,green:r,blue:a,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},fd.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(a){fr.log("bit decode error:"+a)}},fd.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),a=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<t;n++)for(var i=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+8*n*4,o=0;o<8&&8*n+o<this.width;o++){var c=this.palette[i>>7-o&1];this.data[l+4*o]=c.blue,this.data[l+4*o+1]=c.green,this.data[l+4*o+2]=c.red,this.data[l+4*o+3]=255}a!==0&&(this.pos+=4-a)}},fd.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,a=this.height-1;a>=0;a--){for(var r=this.bottom_up?a:this.height-1-a,n=0;n<e;n++){var i=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+2*n*4,o=i>>4,c=15&i,d=this.palette[o];if(this.data[l]=d.blue,this.data[l+1]=d.green,this.data[l+2]=d.red,this.data[l+3]=255,2*n+1>=this.width)break;d=this.palette[c],this.data[l+4]=d.blue,this.data[l+4+1]=d.green,this.data[l+4+2]=d.red,this.data[l+4+3]=255}t!==0&&(this.pos+=4-t)}},fd.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var a=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=a*this.width*4+4*r;if(n<this.palette.length){var l=this.palette[n];this.data[i]=l.red,this.data[i+1]=l.green,this.data[i+2]=l.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},fd.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),a=this.height-1;a>=0;a--){for(var r=this.bottom_up?a:this.height-1-a,n=0;n<this.width;n++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,d=i>>15?255:0,u=r*this.width*4+4*n;this.data[u]=c,this.data[u+1]=o,this.data[u+2]=l,this.data[u+3]=d}this.pos+=e}},fd.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),a=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(l&t)/t*255|0,c=(l>>5&a)/a*255|0,d=(l>>11)/t*255|0,u=n*this.width*4+4*i;this.data[u]=d,this.data[u+1]=c,this.data[u+2]=o,this.data[u+3]=255}this.pos+=e}},fd.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,a=0;a<this.width;a++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*a;this.data[l]=i,this.data[l+1]=n,this.data[l+2]=r,this.data[l+3]=255}this.pos+=this.width%4}},fd.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,a=0;a<this.width;a++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*a;this.data[o]=i,this.data[o+1]=n,this.data[o+2]=r,this.data[o+3]=l}},fd.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,a,r,n){var i=new fd(t,!1),l=i.width,o=i.height,c={data:i.getData(),width:l,height:o},d=new z3(100).encode(c,100);return e.processJPEG.call(this,d,a,r,n)}})(ga.API),qR.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,a,r,n){var i=new qR(t),l=i.width,o=i.height,c={data:i.getData(),width:l,height:o},d=new z3(100).encode(c,100);return e.processJPEG.call(this,d,a,r,n)}})(ga.API),ga.API.processRGBA=function(e,t,a){for(var r=e.data,n=r.length,i=new Uint8Array(n/4*3),l=new Uint8Array(n/4),o=0,c=0,d=0;d<n;d+=4){var u=r[d],f=r[d+1],p=r[d+2],m=r[d+3];i[o++]=u,i[o++]=f,i[o++]=p,l[c++]=m}var v=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:v,index:t,alias:a,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},ga.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Fp=ga.API,x2=Fp.getCharWidthsArray=function(e,t){var a,r,n=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),l=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:n.metadata.Unicode.widths,c=o.fof?o.fof:1,d=t.kerning?t.kerning:n.metadata.Unicode.kerning,u=d.fof?d.fof:1,f=t.doKerning!==!1,p=0,m=e.length,v=0,g=o[0]||c,b=[];for(a=0;a<m;a++)r=e.charCodeAt(a),typeof n.metadata.widthOfString=="function"?b.push((n.metadata.widthOfGlyph(n.metadata.characterToGlyph(r))+l*(1e3/i)||0)/1e3):(p=f&&tr(d[r])==="object"&&!isNaN(parseInt(d[r][v],10))?d[r][v]/u:0,b.push((o[r]||g)/c+p)),v=r;return b},RR=Fp.getStringUnitWidth=function(e,t){var a=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),n=t.charSpace||this.internal.getCharSpace();return Fp.processArabic&&(e=Fp.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,a,n)/a:x2.apply(this,arguments).reduce(function(i,l){return i+l},0)},FR=function(e,t,a,r){for(var n=[],i=0,l=e.length,o=0;i!==l&&o+t[i]<a;)o+=t[i],i++;n.push(e.slice(0,i));var c=i;for(o=0;i!==l;)o+t[i]>r&&(n.push(e.slice(c,i)),o=0,c=i),o+=t[i],i++;return c!==i&&n.push(e.slice(c,i)),n},IR=function(e,t,a){a||(a={});var r,n,i,l,o,c,d,u=[],f=[u],p=a.textIndent||0,m=0,v=0,g=e.split(" "),b=x2.apply(this,[" ",a])[0];if(c=a.lineIndent===-1?g[0].length+2:a.lineIndent||0){var j=Array(c).join(" "),k=[];g.map(function(N){(N=N.split(/\s*\n/)).length>1?k=k.concat(N.map(function(A,_){return(_&&A.length?`
`:"")+A})):k.push(N[0])}),g=k,c=RR.apply(this,[j,a])}for(i=0,l=g.length;i<l;i++){var S=0;if(r=g[i],c&&r[0]==`
`&&(r=r.substr(1),S=1),p+m+(v=(n=x2.apply(this,[r,a])).reduce(function(N,A){return N+A},0))>t||S){if(v>t){for(o=FR.apply(this,[r,n,t-(p+m),t]),u.push(o.shift()),u=[o.pop()];o.length;)f.push([o.shift()]);v=n.slice(r.length-(u[0]?u[0].length:0)).reduce(function(N,A){return N+A},0)}else u=[r];f.push(u),p=v+c,m=b}else u.push(r),p+=m+v,m=b}return d=c?function(N,A){return(A?j:"")+N.join(" ")}:function(N){return N.join(" ")},f.map(d)},Fp.splitTextToSize=function(e,t,a){var r,n=(a=a||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle),p="Unicode";return f.metadata[p]?{widths:f.metadata[p].widths||{0:1},kerning:f.metadata[p].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,a);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var l=1*this.internal.scaleFactor*t/n;i.textIndent=a.textIndent?1*a.textIndent*this.internal.scaleFactor/n:0,i.lineIndent=a.lineIndent;var o,c,d=[];for(o=0,c=r.length;o<c;o++)d=d.concat(IR.apply(this,[r[o],l,i]));return d},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",a="klmnopqrstuvwxyz",r={},n={},i=0;i<16;i++)r[a[i]]=t[i],n[t[i]]=a[i];var l=function(p){return"0x"+parseInt(p,10).toString(16)},o=e.__fontmetrics__.compress=function(p){var m,v,g,b,j=["{"];for(var k in p){if(m=p[k],isNaN(parseInt(k,10))?v="'"+k+"'":(k=parseInt(k,10),v=(v=l(k).slice(2)).slice(0,-1)+n[v.slice(-1)]),typeof m=="number")m<0?(g=l(m).slice(3),b="-"):(g=l(m).slice(2),b=""),g=b+g.slice(0,-1)+n[g.slice(-1)];else{if(tr(m)!=="object")throw new Error("Don't know what to do with value type "+tr(m)+".");g=o(m)}j.push(v+g)}return j.push("}"),j.join("")},c=e.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,v,g,b,j={},k=1,S=j,N=[],A="",_="",E=p.length-1,D=1;D<E;D+=1)(b=p[D])=="'"?m?(g=m.join(""),m=void 0):m=[]:m?m.push(b):b=="{"?(N.push([S,g]),S={},g=void 0):b=="}"?((v=N.pop())[0][v[1]]=S,g=void 0,S=v[0]):b=="-"?k=-1:g===void 0?r.hasOwnProperty(b)?(A+=r[b],g=parseInt(A,16)*k,k=1,A=""):A+=b:r.hasOwnProperty(b)?(_+=r[b],S[g]=parseInt(_,16)*k,k=1,g=void 0,_=""):_+=b;return j},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},f={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(p){var m=p.font,v=f.Unicode[m.postScriptName];v&&(m.metadata.Unicode={},m.metadata.Unicode.widths=v.widths,m.metadata.Unicode.kerning=v.kerning);var g=u.Unicode[m.postScriptName];g&&(m.metadata.Unicode.encoding=g,m.encoding=g.codePages[0])}])})(ga.API),(function(e){var t=function(a){for(var r=a.length,n=new Uint8Array(r),i=0;i<r;i++)n[i]=a.charCodeAt(i);return n};e.API.events.push(["addFont",function(a){var r=void 0,n=a.font,i=a.instance;if(!n.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");if(typeof(r=i.existsFileInVFS(n.postScriptName)===!1?i.loadFile(n.postScriptName):i.getFileFromVFS(n.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");(function(l,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(X2(o)),l.metadata=e.API.TTFFont.open(o),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(n,r)}}])})(ga),ga.API.addSvgAsImage=function(e,t,a,r,n,i,l,o){if(isNaN(t)||isNaN(a))throw fr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(n))throw fr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=r,c.height=n;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(Ga.canvg?Promise.resolve(Ga.canvg):pn(()=>import("./index.es-BBFu_JRZ.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(d,e,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(u)}).then(function(){f.addImage(c.toDataURL("image/jpeg",1),t,a,r,n,l,o)})},ga.API.putTotalPages=function(e){var t,a=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),a=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),a=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var n=0;n<this.internal.pages[r].length;n++)this.internal.pages[r][n]=this.internal.pages[r][n].replace(t,a);return this},ga.API.viewerPreferences=function(e,t){var a;e=e||{},t=t||!1;var r,n,i,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(l),c=[],d=0,u=0,f=0;function p(v,g){var b,j=!1;for(b=0;b<v.length;b+=1)v[b]===g&&(j=!0);return j}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),a=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var m=o.length;for(f=0;f<m;f+=1)a[o[f]].value=a[o[f]].defaultValue,a[o[f]].explicitSet=!1}if(tr(e)==="object"){for(n in e)if(i=e[n],p(o,n)&&i!==void 0){if(a[n].type==="boolean"&&typeof i=="boolean")a[n].value=i;else if(a[n].type==="name"&&p(a[n].valueSet,i))a[n].value=i;else if(a[n].type==="integer"&&Number.isInteger(i))a[n].value=i;else if(a[n].type==="array"){for(d=0;d<i.length;d+=1)if(r=!0,i[d].length===1&&typeof i[d][0]=="number")c.push(String(i[d]-1));else if(i[d].length>1){for(u=0;u<i[d].length;u+=1)typeof i[d][u]!="number"&&(r=!1);r===!0&&c.push([i[d][0]-1,i[d][1]-1].join(" "))}a[n].value="["+c.join(" ")+"]"}else a[n].value=a[n].defaultValue;a[n].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,g=[];for(v in a)a[v].explicitSet===!0&&(a[v].type==="name"?g.push("/"+v+" /"+a[v].value):g.push("/"+v+" "+a[v].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=a,this},(function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',n=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(r)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=i.length+l.length+o.length+n.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(n+i+l+o+c),this.internal.write("endstream"),this.internal.write("endobj")},a=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,n){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:n||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",a),this.internal.events.subscribe("postPutResources",t)),this}})(ga.API),(function(e){var t=e.API,a=t.pdfEscape16=function(i,l){for(var o,c=l.metadata.Unicode.widths,d=["","0","00","000","0000"],u=[""],f=0,p=i.length;f<p;++f){if(o=l.metadata.characterToGlyph(i.charCodeAt(f)),l.metadata.glyIdsUsed.push(o),l.metadata.toUnicode[o]=i.charCodeAt(f),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(l.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(d[4-o.length],o)}return u.join("")},r=function(i){var l,o,c,d,u,f,p;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,p=(o=Object.keys(i).sort(function(m,v){return m-v})).length;f<p;f++)l=o[f],c.length>=100&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[l]!==void 0&&i[l]!==null&&typeof i[l].toString=="function"&&(d=("0000"+i[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),c.push("<"+l+"><"+d+">"));return c.length&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(l){var o=l.font,c=l.out,d=l.newObject,u=l.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,p=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),m="",v=0;v<p.length;v++)m+=String.fromCharCode(p[v]);var g=d();u({data:m,addLength1:!0,objectId:g}),c("endobj");var b=d();u({data:r(o.metadata.toUnicode),addLength1:!0,objectId:b}),c("endobj");var j=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Vp(o.fontName)),c("/FontFile2 "+g+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var k=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+Vp(o.fontName)),c("/FontDescriptor "+j+" 0 R"),c("/W "+e.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+b+" 0 R"),c("/BaseFont /"+Vp(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+k+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(l){var o=l.font,c=l.out,d=l.newObject,u=l.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,p="",m=0;m<f.length;m++)p+=String.fromCharCode(f[m]);var v=d();u({data:p,addLength1:!0,objectId:v}),c("endobj");var g=d();u({data:r(o.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var b=d();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+v+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+Vp(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=d();for(var j=0;j<o.metadata.hmtx.widths.length;j++)o.metadata.hmtx.widths[j]=parseInt(o.metadata.hmtx.widths[j]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+Vp(o.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]);var n=function(i){var l,o=i.text||"",c=i.x,d=i.y,u=i.options||{},f=i.mutex||{},p=f.pdfEscape,m=f.activeFontKey,v=f.fonts,g=m,b="",j=0,k="",S=v[g].encoding;if(v[g].encoding!=="Identity-H")return{text:o,x:c,y:d,options:u,mutex:f};for(k=o,g=m,Array.isArray(o)&&(k=o[0]),j=0;j<k.length;j+=1)v[g].metadata.hasOwnProperty("cmap")&&(l=v[g].metadata.cmap.unicode.codeMap[k[j].charCodeAt(0)]),l||k[j].charCodeAt(0)<256&&v[g].metadata.hasOwnProperty("Unicode")?b+=k[j]:b+="";var N="";return parseInt(g.slice(1))<14||S==="WinAnsiEncoding"?N=p(b,g).split("").map(function(A){return A.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(N=a(b,v[g])),f.isHex=!0,{text:N,x:c,y:d,options:u,mutex:f}};t.events.push(["postProcessText",function(i){var l=i.text||"",o=[],c={text:l,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(l)){var d=0;for(d=0;d<l.length;d+=1)Array.isArray(l[d])&&l[d].length===3?o.push([n(Object.assign({},c,{text:l[d][0]})).text,l[d][1],l[d][2]]):o.push(n(Object.assign({},c,{text:l[d]})).text);i.text=o}else i.text=n(Object.assign({},c,{text:l})).text}])})(ga),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(a){return t.call(this),this.internal.vFS[a]!==void 0},e.addFileToVFS=function(a,r){return t.call(this),this.internal.vFS[a]=r,this},e.getFileFromVFS=function(a){return t.call(this),this.internal.vFS[a]!==void 0?this.internal.vFS[a]:null}})(ga.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var n,i,l,o,c,d,u,f=t,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],j=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),k=!1,S=0;this.__bidiEngine__={};var N=function(M){var U=M.charCodeAt(),P=U>>8,F=g[P];return F!==void 0?f[256*F+(255&U)]:P===252||P===253?"AL":j.test(P)?"L":P===8?"R":"N"},A=function(M){for(var U,P=0;P<M.length;P++){if((U=N(M.charAt(P)))==="L")return!1;if(U==="R")return!0}return!1},_=function(M,U,P,F){var K,V,J,Q,z=U[F];switch(z){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":k=!1;break;case"N":case"AN":break;case"EN":k&&(z="AN");break;case"AL":k=!0,z="R";break;case"WS":case"BN":z="N";break;case"CS":F<1||F+1>=U.length||(K=P[F-1])!=="EN"&&K!=="AN"||(V=U[F+1])!=="EN"&&V!=="AN"?z="N":k&&(V="AN"),z=V===K?V:"N";break;case"ES":z=(K=F>0?P[F-1]:"B")==="EN"&&F+1<U.length&&U[F+1]==="EN"?"EN":"N";break;case"ET":if(F>0&&P[F-1]==="EN"){z="EN";break}if(k){z="N";break}for(J=F+1,Q=U.length;J<Q&&U[J]==="ET";)J++;z=J<Q&&U[J]==="EN"?"EN":"N";break;case"NSM":if(l&&!o){for(Q=U.length,J=F+1;J<Q&&U[J]==="NSM";)J++;if(J<Q){var X=M[F],le=X>=1425&&X<=2303||X===64286;if(K=U[J],le&&(K==="R"||K==="AL")){z="R";break}}}z=F<1||(K=U[F-1])==="B"?"N":P[F-1];break;case"B":k=!1,n=!0,z=S;break;case"S":i=!0,z="N"}return z},E=function(M,U,P){var F=M.split("");return P&&D(F,P,{hiLevel:S}),F.reverse(),U&&U.reverse(),F.join("")},D=function(M,U,P){var F,K,V,J,Q,z=-1,X=M.length,le=0,O=[],q=S?m:p,W=[];for(k=!1,n=!1,i=!1,K=0;K<X;K++)W[K]=N(M[K]);for(V=0;V<X;V++){if(Q=le,O[V]=_(M,W,O,V),F=240&(le=q[Q][v[O[V]]]),le&=15,U[V]=J=q[le][5],F>0)if(F===16){for(K=z;K<V;K++)U[K]=1;z=-1}else z=-1;if(q[le][6])z===-1&&(z=V);else if(z>-1){for(K=z;K<V;K++)U[K]=J;z=-1}W[V]==="B"&&(U[V]=0),P.hiLevel|=J}i&&(function(te,re,oe){for(var ce=0;ce<oe;ce++)if(te[ce]==="S"){re[ce]=S;for(var G=ce-1;G>=0&&te[G]==="WS";G--)re[G]=S}})(W,U,X)},R=function(M,U,P,F,K){if(!(K.hiLevel<M)){if(M===1&&S===1&&!n)return U.reverse(),void(P&&P.reverse());for(var V,J,Q,z,X=U.length,le=0;le<X;){if(F[le]>=M){for(Q=le+1;Q<X&&F[Q]>=M;)Q++;for(z=le,J=Q-1;z<J;z++,J--)V=U[z],U[z]=U[J],U[J]=V,P&&(V=P[z],P[z]=P[J],P[J]=V);le=Q}le++}}},I=function(M,U,P){var F=M.split(""),K={hiLevel:S};return P||(P=[]),D(F,P,K),(function(V,J,Q){if(Q.hiLevel!==0&&u)for(var z,X=0;X<V.length;X++)J[X]===1&&(z=b.indexOf(V[X]))>=0&&(V[X]=b[z+1])})(F,P,K),R(2,F,U,P,K),R(1,F,U,P,K),F.join("")};return this.__bidiEngine__.doBidiReorder=function(M,U,P){if((function(K,V){if(V)for(var J=0;J<K.length;J++)V[J]=J;o===void 0&&(o=A(K)),d===void 0&&(d=A(K))})(M,U),l||!c||d)if(l&&c&&o^d)S=o?1:0,M=E(M,U,P);else if(!l&&c&&d)S=o?1:0,M=I(M,U,P),M=E(M,U);else if(!l||o||c||d){if(l&&!c&&o^d)M=E(M,U),o?(S=0,M=I(M,U,P)):(S=1,M=I(M,U,P),M=E(M,U));else if(l&&o&&!c&&d)S=1,M=I(M,U,P),M=E(M,U);else if(!l&&!c&&o^d){var F=u;o?(S=1,M=I(M,U,P),S=0,u=!1,M=I(M,U,P),u=F):(S=0,M=I(M,U,P),M=E(M,U),S=1,u=!1,M=I(M,U,P),u=F,M=E(M,U))}}else S=0,M=I(M,U,P);else S=o?1:0,M=I(M,U,P);return M},this.__bidiEngine__.setOptions=function(M){M&&(l=M.isInputVisual,c=M.isOutputVisual,o=M.isInputRtl,d=M.isOutputRtl,u=M.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],a=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var n=r.text;r.x,r.y;var i=r.options||{};r.mutex,i.lang;var l=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,a.setOptions(i),Object.prototype.toString.call(n)==="[object Array]"){var o=0;for(l=[],o=0;o<n.length;o+=1)Object.prototype.toString.call(n[o])==="[object Array]"?l.push([a.doBidiReorder(n[o][0]),n[o][1],n[o][2]]):l.push([a.doBidiReorder(n[o])]);r.text=l}else r.text=a.doBidiReorder(n);a.setOptions({isInputVisual:!0})}])})(ga),ga.API.TTFFont=(function(){function e(t){var a;if(this.rawData=t,a=this.contents=new zf(t),this.contents.pos=4,a.readString(4)==="ttcf")throw new Error("TTCF not supported.");a.pos=0,this.parse(),this.subset=new DSe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new gSe(this.contents),this.head=new bSe(this),this.name=new kSe(this),this.cmap=new TG(this),this.toUnicode={},this.hhea=new ySe(this),this.maxp=new SSe(this),this.hmtx=new CSe(this),this.post=new jSe(this),this.os2=new wSe(this),this.loca=new TSe(this),this.glyf=new ASe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,a,r,n,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,o,c,d;for(d=[],l=0,o=(c=this.bbox).length;l<o;l++)t=c[l],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(n=this.post.italic_angle),32768&(a=n>>16)&&(a=-(1+(65535^a))),this.italicAngle=+(a+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var a;return((a=this.cmap.unicode)!=null?a.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var a;return a=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*a},e.prototype.widthOfString=function(t,a,r){var n,i,l,o;for(l=0,i=0,o=(t=""+t).length;0<=o?i<o:i>o;i=0<=o?++i:--i)n=t.charCodeAt(i),l+=this.widthOfGlyph(this.characterToGlyph(n))+r*(1e3/a)||0;return l*(a/1e3)},e.prototype.lineHeight=function(t,a){var r;return a==null&&(a=!1),r=a?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e})();var Dd,zf=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var a,r;for(r=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)r[a]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var a,r,n;for(n=[],a=0,r=t.length;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push(this.writeByte(t.charCodeAt(a)));return n},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,a,r,n,i,l,o,c;return t=this.readByte(),a=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),l=this.readByte(),o=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^a)+1099511627776*(255^r)+4294967296*(255^n)+16777216*(255^i)+65536*(255^l)+256*(255^o)+(255^c)+1):72057594037927940*t+281474976710656*a+1099511627776*r+4294967296*n+16777216*i+65536*l+256*o+c},e.prototype.writeLongLong=function(t){var a,r;return a=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var a,r;for(a=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)a.push(this.readByte());return a},e.prototype.write=function(t){var a,r,n,i;for(i=[],r=0,n=t.length;r<n;r++)a=t[r],i.push(this.writeByte(a));return i},e})(),gSe=(function(){var e;function t(a){var r,n,i;for(this.scalarType=a.readInt(),this.tableCount=a.readShort(),this.searchRange=a.readShort(),this.entrySelector=a.readShort(),this.rangeShift=a.readShort(),this.tables={},n=0,i=this.tableCount;0<=i?n<i:n>i;n=0<=i?++n:--n)r={tag:a.readString(4),checksum:a.readInt(),offset:a.readInt(),length:a.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(a){var r,n,i,l,o,c,d,u,f,p,m,v,g;for(g in m=Object.keys(a).length,c=Math.log(2),f=16*Math.floor(Math.log(m)/c),l=Math.floor(f/c),u=16*m-f,(n=new zf).writeInt(this.scalarType),n.writeShort(m),n.writeShort(f),n.writeShort(l),n.writeShort(u),i=16*m,d=n.pos+i,o=null,v=[],a)for(p=a[g],n.writeString(g),n.writeInt(e(p)),n.writeInt(d),n.writeInt(p.length),v=v.concat(p),g==="head"&&(o=d),d+=p.length;d%4;)v.push(0),d++;return n.write(v),r=2981146554-e(n.data),n.pos=o+8,n.writeUInt32(r),n.data},e=function(a){var r,n,i,l;for(a=DG.call(a);a.length%4;)a.push(0);for(i=new zf(a),n=0,r=0,l=a.length;r<l;r=r+=4)n+=i.readUInt32();return 4294967295&n},t})(),vSe={}.hasOwnProperty,ju=function(e,t){for(var a in t)vSe.call(t,a)&&(e[a]=t[a]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};Dd=(function(){function e(t){var a;this.file=t,a=this.file.directory.tables[this.tag],this.exists=!!a,a&&(this.offset=a.offset,this.length=a.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var bSe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ju(e,Dd),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var a;return(a=new zf).writeInt(this.version),a.writeInt(this.revision),a.writeInt(this.checkSumAdjustment),a.writeInt(this.magicNumber),a.writeShort(this.flags),a.writeShort(this.unitsPerEm),a.writeLongLong(this.created),a.writeLongLong(this.modified),a.writeShort(this.xMin),a.writeShort(this.yMin),a.writeShort(this.xMax),a.writeShort(this.yMax),a.writeShort(this.macStyle),a.writeShort(this.lowestRecPPEM),a.writeShort(this.fontDirectionHint),a.writeShort(t),a.writeShort(this.glyphDataFormat),a.data},e})(),GR=(function(){function e(t,a){var r,n,i,l,o,c,d,u,f,p,m,v,g,b,j,k,S;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=a+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(m=t.readUInt16(),p=m/2,t.pos+=6,i=(function(){var N,A;for(A=[],c=N=0;0<=p?N<p:N>p;c=0<=p?++N:--N)A.push(t.readUInt16());return A})(),t.pos+=2,g=(function(){var N,A;for(A=[],c=N=0;0<=p?N<p:N>p;c=0<=p?++N:--N)A.push(t.readUInt16());return A})(),d=(function(){var N,A;for(A=[],c=N=0;0<=p?N<p:N>p;c=0<=p?++N:--N)A.push(t.readUInt16());return A})(),u=(function(){var N,A;for(A=[],c=N=0;0<=p?N<p:N>p;c=0<=p?++N:--N)A.push(t.readUInt16());return A})(),n=(this.length-t.pos+this.offset)/2,o=(function(){var N,A;for(A=[],c=N=0;0<=n?N<n:N>n;c=0<=n?++N:--N)A.push(t.readUInt16());return A})(),c=j=0,S=i.length;j<S;c=++j)for(b=i[c],r=k=v=g[c];v<=b?k<=b:k>=b;r=v<=b?++k:--k)u[c]===0?l=r+d[c]:(l=o[u[c]/2+(r-v)-(p-c)]||0)!==0&&(l+=d[c]),this.codeMap[r]=65535&l}t.pos=f}return e.encode=function(t,a){var r,n,i,l,o,c,d,u,f,p,m,v,g,b,j,k,S,N,A,_,E,D,R,I,M,U,P,F,K,V,J,Q,z,X,le,O,q,W,te,re,oe,ce,G,ie,ye,se;switch(F=new zf,l=Object.keys(t).sort(function(Ie,pe){return Ie-pe}),a){case"macroman":for(g=0,b=(function(){var Ie=[];for(v=0;v<256;++v)Ie.push(0);return Ie})(),k={0:0},i={},K=0,z=l.length;K<z;K++)k[G=t[n=l[K]]]==null&&(k[G]=++g),i[n]={old:t[n],new:k[t[n]]},b[n]=k[t[n]];return F.writeUInt16(1),F.writeUInt16(0),F.writeUInt32(12),F.writeUInt16(0),F.writeUInt16(262),F.writeUInt16(0),F.write(b),{charMap:i,subtable:F.data,maxGlyphID:g+1};case"unicode":for(U=[],f=[],S=0,k={},r={},j=d=null,V=0,X=l.length;V<X;V++)k[A=t[n=l[V]]]==null&&(k[A]=++S),r[n]={old:A,new:k[A]},o=k[A]-n,j!=null&&o===d||(j&&f.push(j),U.push(n),d=o),j=n;for(j&&f.push(j),f.push(65535),U.push(65535),I=2*(R=U.length),D=2*Math.pow(Math.log(R)/Math.LN2,2),p=Math.log(D/2)/Math.LN2,E=2*R-D,c=[],_=[],m=[],v=J=0,le=U.length;J<le;v=++J){if(M=U[v],u=f[v],M===65535){c.push(0),_.push(0);break}if(M-(P=r[M].new)>=32768)for(c.push(0),_.push(2*(m.length+R-v)),n=Q=M;M<=u?Q<=u:Q>=u;n=M<=u?++Q:--Q)m.push(r[n].new);else c.push(P-M),_.push(0)}for(F.writeUInt16(3),F.writeUInt16(1),F.writeUInt32(12),F.writeUInt16(4),F.writeUInt16(16+8*R+2*m.length),F.writeUInt16(0),F.writeUInt16(I),F.writeUInt16(D),F.writeUInt16(p),F.writeUInt16(E),oe=0,O=f.length;oe<O;oe++)n=f[oe],F.writeUInt16(n);for(F.writeUInt16(0),ce=0,q=U.length;ce<q;ce++)n=U[ce],F.writeUInt16(n);for(ie=0,W=c.length;ie<W;ie++)o=c[ie],F.writeUInt16(o);for(ye=0,te=_.length;ye<te;ye++)N=_[ye],F.writeUInt16(N);for(se=0,re=m.length;se<re;se++)g=m[se],F.writeUInt16(g);return{charMap:r,subtable:F.data,maxGlyphID:S+1}}},e})(),TG=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ju(e,Dd),e.prototype.tag="cmap",e.prototype.parse=function(t){var a,r,n;for(t.pos=this.offset,this.version=t.readUInt16(),n=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=n?r<n:r>n;r=0<=n?++r:--r)a=new GR(t,this.offset),this.tables.push(a),a.isUnicode&&this.unicode==null&&(this.unicode=a);return!0},e.encode=function(t,a){var r,n;return a==null&&(a="macroman"),r=GR.encode(t,a),(n=new zf).writeUInt16(0),n.writeUInt16(1),r.table=n.data.concat(r.subtable),r},e})(),ySe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ju(e,Dd),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),wSe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ju(e,Dd),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var a,r;for(r=[],a=0;a<10;++a)r.push(t.readByte());return r})(),this.charRange=(function(){var a,r;for(r=[],a=0;a<4;++a)r.push(t.readInt());return r})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var a,r;for(r=[],a=0;a<2;a=++a)r.push(t.readInt());return r})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),jSe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ju(e,Dd),e.prototype.tag="post",e.prototype.parse=function(t){var a,r,n;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(r=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],n=[];t.pos<this.offset+this.length;)a=t.readByte(),n.push(this.names.push(t.readString(a)));return n;case 151552:return r=t.readUInt16(),this.offsets=t.read(r);case 262144:return this.map=(function(){var l,o,c;for(c=[],i=l=0,o=this.file.maxp.numGlyphs;0<=o?l<o:l>o;i=0<=o?++l:--l)c.push(t.readUInt32());return c}).call(this)}},e})(),NSe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},kSe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ju(e,Dd),e.prototype.tag="name",e.prototype.parse=function(t){var a,r,n,i,l,o,c,d,u,f,p;for(t.pos=this.offset,t.readShort(),a=t.readShort(),o=t.readShort(),r=[],i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)r.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+o+t.readShort()});for(c={},i=u=0,f=r.length;u<f;i=++u)n=r[i],t.pos=n.offset,d=t.readString(n.length),l=new NSe(d,n),c[p=n.nameID]==null&&(c[p]=[]),c[n.nameID].push(l);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e})(),SSe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ju(e,Dd),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),CSe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ju(e,Dd),e.prototype.tag="hmtx",e.prototype.parse=function(t){var a,r,n,i,l,o,c;for(t.pos=this.offset,this.metrics=[],a=0,o=this.file.hhea.numberOfMetrics;0<=o?a<o:a>o;a=0<=o?++a:--a)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(n=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,u;for(u=[],a=d=0;0<=n?d<n:d>n;a=0<=n?++d:--d)u.push(t.readInt16());return u})(),this.widths=(function(){var d,u,f,p;for(p=[],d=0,u=(f=this.metrics).length;d<u;d++)i=f[d],p.push(i.advance);return p}).call(this),r=this.widths[this.widths.length-1],c=[],a=l=0;0<=n?l<n:l>n;a=0<=n?++l:--l)c.push(this.widths.push(r));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),DG=[].slice,ASe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ju(e,Dd),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var a,r,n,i,l,o,c,d,u,f;return t in this.cache?this.cache[t]:(i=this.file.loca,a=this.file.contents,r=i.indexOf(t),(n=i.lengthOf(t))===0?this.cache[t]=null:(a.pos=this.offset+r,l=(o=new zf(a.read(n))).readShort(),d=o.readShort(),f=o.readShort(),c=o.readShort(),u=o.readShort(),this.cache[t]=l===-1?new ESe(o,d,f,c,u):new _Se(o,l,d,f,c,u),this.cache[t]))},e.prototype.encode=function(t,a,r){var n,i,l,o,c;for(l=[],i=[],o=0,c=a.length;o<c;o++)n=t[a[o]],i.push(l.length),n&&(l=l.concat(n.encode(r)));return i.push(l.length),{table:l,offsets:i}},e})(),_Se=(function(){function e(t,a,r,n,i,l){this.raw=t,this.numberOfContours=a,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=l,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),ESe=(function(){function e(t,a,r,n,i){var l,o;for(this.raw=t,this.xMin=a,this.yMin=r,this.xMax=n,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;o=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&o;)l.pos+=1&o?4:2,128&o?l.pos+=8:64&o?l.pos+=4:8&o&&(l.pos+=2)}return e.prototype.encode=function(){var t,a,r;for(a=new zf(DG.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)a.pos=this.glyphOffsets[t];return a.data},e})(),TSe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ju(e,Dd),e.prototype.tag="loca",e.prototype.parse=function(t){var a,r;return t.pos=this.offset,a=this.file.head.indexToLocFormat,this.offsets=a===0?(function(){var n,i;for(i=[],r=0,n=this.length;r<n;r+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var n,i;for(i=[],r=0,n=this.length;r<n;r+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,a){for(var r=new Uint32Array(this.offsets.length),n=0,i=0,l=0;l<r.length;++l)if(r[l]=n,i<a.length&&a[i]==l){++i,r[l]=n;var o=this.offsets[l],c=this.offsets[l+1]-o;c>0&&(n+=c)}for(var d=new Array(4*r.length),u=0;u<r.length;++u)d[4*u+3]=255&r[u],d[4*u+2]=(65280&r[u])>>8,d[4*u+1]=(16711680&r[u])>>16,d[4*u]=(4278190080&r[u])>>24;return d},e})(),DSe=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,a,r,n,i;for(a in n=this.font.cmap.tables[0].codeMap,t={},i=this.subset)r=i[a],t[a]=n[r];return t},e.prototype.glyphsFor=function(t){var a,r,n,i,l,o,c;for(n={},l=0,o=t.length;l<o;l++)n[i=t[l]]=this.font.glyf.glyphFor(i);for(i in a=[],n)(r=n[i])!=null&&r.compound&&a.push.apply(a,r.glyphIDs);if(a.length>0)for(i in c=this.glyphsFor(a))r=c[i],n[i]=r;return n},e.prototype.encode=function(t,a){var r,n,i,l,o,c,d,u,f,p,m,v,g,b,j;for(n in r=TG.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(t),m={0:0},j=r.charMap)m[(c=j[n]).old]=c.new;for(v in p=r.maxGlyphID,l)v in m||(m[v]=p++);return u=(function(k){var S,N;for(S in N={},k)N[k[S]]=S;return N})(m),f=Object.keys(u).sort(function(k,S){return k-S}),g=(function(){var k,S,N;for(N=[],k=0,S=f.length;k<S;k++)o=f[k],N.push(u[o]);return N})(),i=this.font.glyf.encode(l,g,m),d=this.font.loca.encode(i.offsets,g),b={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(a)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},e})();ga.API.PDFObject=(function(){var e;function t(){}return e=function(a,r){return(Array(r+1).join("0")+a).slice(-r)},t.convert=function(a){var r,n,i,l;if(Array.isArray(a))return"["+(function(){var o,c,d;for(d=[],o=0,c=a.length;o<c;o++)r=a[o],d.push(t.convert(r));return d})().join(" ")+"]";if(typeof a=="string")return"/"+a;if(a?.isString)return"("+a+")";if(a instanceof Date)return"(D:"+e(a.getUTCFullYear(),4)+e(a.getUTCMonth(),2)+e(a.getUTCDate(),2)+e(a.getUTCHours(),2)+e(a.getUTCMinutes(),2)+e(a.getUTCSeconds(),2)+"Z)";if({}.toString.call(a)==="[object Object]"){for(n in i=["<<"],a)l=a[n],i.push("/"+n+" "+t.convert(l));return i.push(">>"),i.join(`
`)}return""+a},t})();const vx=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:oSe,AcroFormAppearance:pa,AcroFormButton:ii,AcroFormCheckBox:Vv,AcroFormChoiceField:lm,AcroFormComboBox:cm,AcroFormEditBox:zv,AcroFormListBox:om,AcroFormPasswordField:Wv,AcroFormPushButton:Hv,AcroFormRadioButton:dm,AcroFormTextField:Tf,GState:A1,ShadingPattern:wf,TilingPattern:G0,default:ga,jsPDF:ga},Symbol.toStringTag,{value:"Module"}));function PG(e,t,a,r,n){r=r||{};var i=1.15,l=n.internal.scaleFactor,o=n.internal.getFontSize()/l,c=n.getLineHeightFactor?n.getLineHeightFactor():i,d=o*c,u=/\r\n|\r|\n/g,f="",p=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(f=typeof e=="string"?e.split(u):e,p=f.length||1),a+=o*(2-i),r.valign==="middle"?a-=p/2*d:r.valign==="bottom"&&(a-=p*d),r.halign==="center"||r.halign==="right"){var m=o;if(r.halign==="center"&&(m*=.5),f&&p>=1){for(var v=0;v<f.length;v++)n.text(f[v],t-n.getStringUnitWidth(f[v])*m,a),a+=d;return n}t-=n.getStringUnitWidth(e)*m}return r.halign==="justify"?n.text(e,t,a,{maxWidth:r.maxWidth||100,align:"justify"}):n.text(e,t,a),n}var KR={},rx=(function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,a){a===void 0&&(a=null),a?a.__autoTableDocumentDefaults=t:KR=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,a){var r,n,i;a===void 0&&(a=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var l=this.jsPDFDocument.internal.getFont(),o=l.fontStyle,c=l.fontName;if(t.font&&(c=t.font),t.fontStyle){o=t.fontStyle;var d=this.getFontList()[c];d&&d.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),o=d[0])}if(this.jsPDFDocument.setFont(c,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!a){var u=e.unifyColor(t.fillColor);u&&(r=this.jsPDFDocument).setFillColor.apply(r,u),u=e.unifyColor(t.textColor),u&&(n=this.jsPDFDocument).setTextColor.apply(n,u),u=e.unifyColor(t.lineColor),u&&(i=this.jsPDFDocument).setDrawColor.apply(i,u),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,a,r){return this.jsPDFDocument.splitTextToSize(t,a,r)},e.prototype.rect=function(t,a,r,n,i){return this.jsPDFDocument.rect(t,a,r,n,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return KR||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e})(),XC=function(e,t){return XC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n])},XC(e,t)};function MG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");XC(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}var LG=(function(e){MG(t,e);function t(a){var r=e.call(this)||this;return r._element=a,r}return t})(Array);function PSe(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function MSe(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function Rw(e,t,a){a.applyStyles(t,!0);var r=Array.isArray(e)?e:[e],n=r.map(function(i){return a.getTextWidth(i)}).reduce(function(i,l){return Math.max(i,l)},0);return n}function OG(e,t,a,r){var n=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:n,lineColor:i});var l=RG(n,!1);l&&e.rect(a.x,a.y,t.getWidth(e.pageSize().width),r.y-a.y,l)}function RG(e,t){var a=e>0,r=t||t===0;return a&&r?"DF":a?"S":r?"F":null}function xN(e,t){var a,r,n,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(a=e.left)!==null&&a!==void 0?a:t,top:(r=e.top)!==null&&r!==void 0?r:t,right:(n=e.right)!==null&&n!==void 0?n:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function FG(e,t){var a=xN(t.settings.margin,0);return e.pageSize().width-(a.left+a.right)}function LSe(e,t,a,r,n){var i={},l=1.3333333333333333,o=H3(t,function(S){return n.getComputedStyle(S).backgroundColor});o!=null&&(i.fillColor=o);var c=H3(t,function(S){return n.getComputedStyle(S).color});c!=null&&(i.textColor=c);var d=RSe(r,a);d&&(i.cellPadding=d);var u="borderTopColor",f=l*a,p=r.borderTopWidth;if(r.borderBottomWidth===p&&r.borderRightWidth===p&&r.borderLeftWidth===p){var m=(parseFloat(p)||0)/f;m&&(i.lineWidth=m)}else i.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/f,right:(parseFloat(r.borderRightWidth)||0)/f,bottom:(parseFloat(r.borderBottomWidth)||0)/f,left:(parseFloat(r.borderLeftWidth)||0)/f},i.lineWidth.top||(i.lineWidth.right?u="borderRightColor":i.lineWidth.bottom?u="borderBottomColor":i.lineWidth.left&&(u="borderLeftColor"));var v=H3(t,function(S){return n.getComputedStyle(S)[u]});v!=null&&(i.lineColor=v);var g=["left","right","center","justify"];g.indexOf(r.textAlign)!==-1&&(i.halign=r.textAlign),g=["middle","bottom","top"],g.indexOf(r.verticalAlign)!==-1&&(i.valign=r.verticalAlign);var b=parseInt(r.fontSize||"");isNaN(b)||(i.fontSize=b/l);var j=OSe(r);j&&(i.fontStyle=j);var k=(r.fontFamily||"").toLowerCase();return e.indexOf(k)!==-1&&(i.font=k),i}function OSe(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function H3(e,t){var a=IG(e,t);if(!a)return null;var r=a.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var n=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],i=parseInt(r[4]);return i===0||isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function IG(e,t){var a=t(e);return a==="rgba(0, 0, 0, 0)"||a==="transparent"||a==="initial"||a==="inherit"?e.parentElement==null?null:IG(e.parentElement,t):a}function RSe(e,t){var a=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],r=96/(72/t),n=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=a.map(function(o){return parseInt(o||"0")/r}),l=xN(i,0);return n>l.top&&(l.top=n),n>l.bottom&&(l.bottom=n),l}function BG(e,t,a,r,n){var i,l;r===void 0&&(r=!1),n===void 0&&(n=!1);var o;typeof t=="string"?o=a.document.querySelector(t):o=t;var c=Object.keys(e.getFontList()),d=e.scaleFactor(),u=[],f=[],p=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:u,body:f,foot:p};for(var m=0;m<o.rows.length;m++){var v=o.rows[m],g=(l=(i=v?.parentElement)===null||i===void 0?void 0:i.tagName)===null||l===void 0?void 0:l.toLowerCase(),b=FSe(c,d,a,v,r,n);b&&(g==="thead"?u.push(b):g==="tfoot"?p.push(b):f.push(b))}return{head:u,body:f,foot:p}}function FSe(e,t,a,r,n,i){for(var l=new LG(r),o=0;o<r.cells.length;o++){var c=r.cells[o],d=a.getComputedStyle(c);if(n||d.display!=="none"){var u=void 0;i&&(u=LSe(e,c,t,d,a)),l.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:u,_element:c,content:ISe(c)})}}var f=a.getComputedStyle(r);if(l.length>0&&(n||f.display!=="none"))return l}function ISe(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(a){return a.trim()}).join(`
`),t.innerText||t.textContent||""}function BSe(e,t,a){for(var r=0,n=[e,t,a];r<n.length;r++){var i=n[r];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function sh(e,t,a,r,n){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),l=1;l<arguments.length;l++){var o=arguments[l];if(o!=null)for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(i[c]=o[c])}return i}function l_(e,t){var a=new rx(e),r=a.getDocumentOptions(),n=a.getGlobalOptions();BSe(n,r,t);var i=sh({},n,r,t),l;typeof window<"u"&&(l=window);var o=$Se(n,r,t),c=USe(n,r,t),d=zSe(a,i),u=VSe(a,i,l);return{id:t.tableId,content:u,hooks:c,styles:o,settings:d}}function $Se(e,t,a){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},n=function(c){if(c==="columnStyles"){var d=e[c],u=t[c],f=a[c];r.columnStyles=sh({},d,u,f)}else{var p=[e,t,a],m=p.map(function(v){return v[c]||{}});r[c]=sh({},m[0],m[1],m[2])}},i=0,l=Object.keys(r);i<l.length;i++){var o=l[i];n(o)}return r}function USe(e,t,a){for(var r=[e,t,a],n={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,l=r;i<l.length;i++){var o=l[i];o.didParseCell&&n.didParseCell.push(o.didParseCell),o.willDrawCell&&n.willDrawCell.push(o.willDrawCell),o.didDrawCell&&n.didDrawCell.push(o.didDrawCell),o.willDrawPage&&n.willDrawPage.push(o.willDrawPage),o.didDrawPage&&n.didDrawPage.push(o.didDrawPage)}return n}function zSe(e,t){var a,r,n,i,l,o,c,d,u,f,p,m,v=xN(t.margin,40/e.scaleFactor()),g=(a=HSe(e,t.startY))!==null&&a!==void 0?a:v.top,b;t.showFoot===!0?b="everyPage":t.showFoot===!1?b="never":b=(r=t.showFoot)!==null&&r!==void 0?r:"everyPage";var j;t.showHead===!0?j="everyPage":t.showHead===!1?j="never":j=(n=t.showHead)!==null&&n!==void 0?n:"everyPage";var k=(i=t.useCss)!==null&&i!==void 0?i:!1,S=t.theme||(k?"plain":"striped"),N=!!t.horizontalPageBreak,A=(l=t.horizontalPageBreakRepeat)!==null&&l!==void 0?l:null;return{includeHiddenHtml:(o=t.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:k,theme:S,startY:g,margin:v,pageBreak:(c=t.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(d=t.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(u=t.tableWidth)!==null&&u!==void 0?u:"auto",showHead:j,showFoot:b,tableLineWidth:(f=t.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(p=t.tableLineColor)!==null&&p!==void 0?p:200,horizontalPageBreak:N,horizontalPageBreakRepeat:A,horizontalPageBreakBehaviour:(m=t.horizontalPageBreakBehaviour)!==null&&m!==void 0?m:"afterAllRows"}}function HSe(e,t){var a=e.getLastAutoTable(),r=e.scaleFactor(),n=e.pageNumber(),i=!1;if(a&&a.startPageNumber){var l=a.startPageNumber+a.pageNumber-1;i=l===n}return typeof t=="number"?t:(t==null||t===!1)&&i&&a?.finalY!=null?a.finalY+20/r:null}function VSe(e,t,a){var r=t.head||[],n=t.body||[],i=t.foot||[];if(t.html){var l=t.includeHiddenHtml;if(a){var o=BG(e,t.html,a,l,t.useCss)||{};r=o.head||r,n=o.body||r,i=o.foot||r}else console.error("Cannot parse html in non browser environment")}var c=t.columns||WSe(r,n,i);return{columns:c,head:r,body:n,foot:i}}function WSe(e,t,a){var r=e[0]||t[0]||a[0]||[],n=[];return Object.keys(r).filter(function(i){return i!=="_element"}).forEach(function(i){var l=1,o;Array.isArray(r)?o=r[parseInt(i)]:o=r[i],typeof o=="object"&&!Array.isArray(o)&&(l=o?.colSpan||1);for(var c=0;c<l;c++){var d=void 0;Array.isArray(r)?d=n.length:d=i+(c>0?"_".concat(c):"");var u={dataKey:d};n.push(u)}}),n}var Fw=(function(){function e(t,a,r){this.table=a,this.pageNumber=a.pageNumber,this.settings=a.settings,this.cursor=r,this.doc=t.getDocument()}return e})(),$G=(function(e){MG(t,e);function t(a,r,n,i,l,o){var c=e.call(this,a,r,o)||this;return c.cell=n,c.row=i,c.column=l,c.section=i.section,c}return t})(Fw),UG=(function(){function e(t,a){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=a.columns,this.head=a.head,this.body=a.body,this.foot=a.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(a,r){return a+r.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(a,r){return a+r.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,a,r,n,i,l){for(var o=0,c=a;o<c.length;o++){var d=c[o],u=new $G(t,this,r,n,i,l),f=d(u)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],f)return!1}return!0},e.prototype.callEndPageHooks=function(t,a){t.applyStyles(t.userStyles);for(var r=0,n=this.hooks.didDrawPage;r<n.length;r++){var i=n[r];i(new Fw(t,this,a))}},e.prototype.callWillDrawPageHooks=function(t,a){for(var r=0,n=this.hooks.willDrawPage;r<n.length;r++){var i=n[r];i(new Fw(t,this,a))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var a=this.columns.reduce(function(n,i){return n+i.wrappedWidth},0);return a}else{var r=this.settings.margin;return t-r.left-r.right}},e})(),o_=(function(){function e(t,a,r,n,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof LG&&(this.raw=t._element,this.element=t._element),this.index=a,this.section=r,this.cells=n,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var a=this;return t.reduce(function(r,n){var i;return Math.max(r,((i=a.cells[n.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var a=this;return t.filter(function(r){var n=a.cells[r.index];return n?n.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,a){return this.getMaxCellHeight(a)<=t},e.prototype.getMinimumRowHeight=function(t,a){var r=this;return t.reduce(function(n,i){var l=r.cells[i.index];if(!l)return 0;var o=a.getLineHeight(l.styles.fontSize),c=l.padding("vertical"),d=c+o;return d>n?d:n},0)},e})(),c_=(function(){function e(t,a,r){var n;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=a,this.section=r,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(n=t.content)!==null&&n!==void 0?n:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var l=i!=null?""+i:"",o=/\r\n|\r|\n/g;this.text=l.split(o)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var a=this.height-this.padding("vertical");t=this.y+a/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var n=this.width-this.padding("horizontal");r=this.x+n/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:t}},e.prototype.getContentHeight=function(t,a){a===void 0&&(a=1.15);var r=Array.isArray(this.text)?this.text.length:1,n=this.styles.fontSize/t*a,i=r*n+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var a=xN(this.styles.cellPadding,0);return t==="vertical"?a.top+a.bottom:t==="horizontal"?a.left+a.right:a[t]},e})(),zG=(function(){function e(t,a,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=a,this.index=r}return e.prototype.getMaxCustomCellWidth=function(t){for(var a=0,r=0,n=t.allRows();r<n.length;r++){var i=n[r],l=i.cells[this.index];l&&typeof l.styles.cellWidth=="number"&&(a=Math.max(a,l.styles.cellWidth))}return a},e})();function qSe(e,t){GSe(e,t);var a=[],r=0;t.columns.forEach(function(i){var l=i.getMaxCustomCellWidth(t);l?i.width=l:(i.width=i.wrappedWidth,a.push(i)),r+=i.width});var n=t.getWidth(e.pageSize().width)-r;n&&(n=JC(a,n,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),n&&(n=JC(a,n,function(i){return i.minWidth})),n=Math.abs(n),!t.settings.horizontalPageBreak&&n>.1/e.scaleFactor()&&(n=n<1?n:Math.round(n),console.warn("Of the table content, ".concat(n," units width could not fit page"))),YSe(t),XSe(t,e),KSe(t)}function GSe(e,t){var a=e.scaleFactor(),r=t.settings.horizontalPageBreak,n=FG(e,t);t.allRows().forEach(function(i){for(var l=0,o=t.columns;l<o.length;l++){var c=o[l],d=i.cells[c.index];if(d){var u=t.hooks.didParseCell;t.callCellHooks(e,u,d,i,c,null);var f=d.padding("horizontal");d.contentWidth=Rw(d.text,d.styles,e)+f;var p=Rw(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,e);if(d.minReadableWidth=p+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||r===!0)d.contentWidth>n?(d.minWidth=n,d.wrappedWidth=n):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var m=10/a;d.minWidth=d.styles.minCellWidth||m,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),t.allRows().forEach(function(i){for(var l=0,o=t.columns;l<o.length;l++){var c=o[l],d=i.cells[c.index];if(d&&d.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,d.wrappedWidth),c.minWidth=Math.max(c.minWidth,d.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,d.minReadableWidth);else{var u=t.styles.columnStyles[c.dataKey]||t.styles.columnStyles[c.index]||{},f=u.cellWidth||u.minCellWidth;f&&typeof f=="number"&&(c.minWidth=f,c.wrappedWidth=f)}d&&(d.colSpan>1&&!c.minWidth&&(c.minWidth=d.minWidth),d.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=d.minWidth))}})}function JC(e,t,a){for(var r=t,n=e.reduce(function(m,v){return m+v.wrappedWidth},0),i=0;i<e.length;i++){var l=e[i],o=l.wrappedWidth/n,c=r*o,d=l.width+c,u=a(l),f=d<u?u:d;t-=f-l.width,l.width=f}if(t=Math.round(t*1e10)/1e10,t){var p=e.filter(function(m){return t<0?m.width>a(m):!0});p.length&&(t=JC(p,t,a))}return t}function KSe(e){for(var t={},a=1,r=e.allRows(),n=0;n<r.length;n++)for(var i=r[n],l=0,o=e.columns;l<o.length;l++){var c=o[l],d=t[c.index];if(a>1)a--,delete i.cells[c.index];else if(d)d.cell.height+=i.height,a=d.cell.colSpan,delete i.cells[c.index],d.left--,d.left<=1&&delete t[c.index];else{var u=i.cells[c.index];if(!u)continue;if(u.height=i.height,u.rowSpan>1){var f=r.length-n,p=u.rowSpan>f?f:u.rowSpan;t[c.index]={cell:u,left:p,row:i}}}}}function YSe(e){for(var t=e.allRows(),a=0;a<t.length;a++)for(var r=t[a],n=null,i=0,l=0,o=0;o<e.columns.length;o++){var c=e.columns[o];if(l-=1,l>1&&e.columns[o+1])i+=c.width,delete r.cells[c.index];else if(n){var d=n;delete r.cells[c.index],n=null,d.width=c.width+i}else{var d=r.cells[c.index];if(!d)continue;if(l=d.colSpan,i=0,d.colSpan>1){n=d,i+=c.width;continue}d.width=c.width+i}}}function XSe(e,t){for(var a={count:0,height:0},r=0,n=e.allRows();r<n.length;r++){for(var i=n[r],l=0,o=e.columns;l<o.length;l++){var c=o[l],d=i.cells[c.index];if(d){t.applyStyles(d.styles,!0);var u=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=t.splitTextToSize(d.text,u+1/t.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=YR(d.text,u,d.styles,t,"...");else if(d.styles.overflow==="hidden")d.text=YR(d.text,u,d.styles,t,"");else if(typeof d.styles.overflow=="function"){var f=d.styles.overflow(d.text,u);typeof f=="string"?d.text=[f]:d.text=f}d.contentHeight=d.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var p=d.contentHeight/d.rowSpan;d.rowSpan>1&&a.count*a.height<p*d.rowSpan?a={height:p,count:d.rowSpan}:a&&a.count>0&&a.height>p&&(p=a.height),p>i.height&&(i.height=p)}}a.count--}}function YR(e,t,a,r,n){return e.map(function(i){return JSe(i,t,a,r,n)})}function JSe(e,t,a,r,n){var i=1e4*r.scaleFactor();if(t=Math.ceil(t*i)/i,t>=Rw(e,a,r))return e;for(;t<Rw(e+n,a,r)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+n}function d_(e,t){var a=new rx(e),r=QSe(t,a.scaleFactor()),n=new UG(t,r);return qSe(a,n),a.applyStyles(a.userStyles),n}function QSe(e,t){var a=e.content,r=eCe(a.columns);if(a.head.length===0){var n=XR(r,"head");n&&a.head.push(n)}if(a.foot.length===0){var n=XR(r,"foot");n&&a.foot.push(n)}var i=e.settings.theme,l=e.styles;return{columns:r,head:V3("head",a.head,r,l,i,t),body:V3("body",a.body,r,l,i,t),foot:V3("foot",a.foot,r,l,i,t)}}function V3(e,t,a,r,n,i){var l={},o=t.map(function(c,d){for(var u=0,f={},p=0,m=0,v=0,g=a;v<g.length;v++){var b=g[v];if(l[b.index]==null||l[b.index].left===0)if(m===0){var j=void 0;Array.isArray(c)?j=c[b.index-p-u]:j=c[b.dataKey];var k={};typeof j=="object"&&!Array.isArray(j)&&(k=j?.styles||{});var S=tCe(e,b,d,n,r,i,k),N=new c_(j,S,e);f[b.dataKey]=N,f[b.index]=N,m=N.colSpan-1,l[b.index]={left:N.rowSpan-1,times:m}}else m--,p++;else l[b.index].left--,m=l[b.index].times,u++}return new o_(c,d,e,f)});return o}function XR(e,t){var a={};return e.forEach(function(r){if(r.raw!=null){var n=ZSe(t,r.raw);n!=null&&(a[r.dataKey]=n)}}),Object.keys(a).length>0?a:null}function ZSe(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function eCe(e){return e.map(function(t,a){var r,n;return typeof t=="object"?n=(r=t.dataKey)!==null&&r!==void 0?r:a:n=a,new zG(n,t,a)})}function tCe(e,t,a,r,n,i,l){var o=MSe(r),c;e==="head"?c=n.headStyles:e==="body"?c=n.bodyStyles:e==="foot"&&(c=n.footStyles);var d=sh({},o.table,o[e],n.styles,c),u=n.columnStyles[t.dataKey]||n.columnStyles[t.index]||{},f=e==="body"?u:{},p=e==="body"&&a%2===0?sh({},o.alternateRow,n.alternateRowStyles):{},m=PSe(i),v=sh({},m,d,p,f);return sh(v,l)}function aCe(e,t,a){var r;a===void 0&&(a={});var n=FG(e,t),i=new Map,l=[],o=[],c=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?c=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(c=[t.settings.horizontalPageBreakRepeat]),c.forEach(function(p){var m=t.columns.find(function(v){return v.dataKey===p||v.index===p});m&&!i.has(m.index)&&(i.set(m.index,!0),l.push(m.index),o.push(t.columns[m.index]),n-=m.wrappedWidth)});for(var d=!0,u=(r=a?.start)!==null&&r!==void 0?r:0;u<t.columns.length;){if(i.has(u)){u++;continue}var f=t.columns[u].wrappedWidth;if(d||n>=f)d=!1,l.push(u),o.push(t.columns[u]),n-=f;else break;u++}return{colIndexes:l,columns:o,lastIndex:u-1}}function sCe(e,t){for(var a=[],r=0;r<t.columns.length;r++){var n=aCe(e,t,{start:r});n.columns.length&&(a.push(n),r=n.lastIndex)}return a}function u_(e,t){var a=t.settings,r=a.startY,n=a.margin,i={x:n.left,y:r},l=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=r+n.bottom+l;if(a.pageBreak==="avoid"){var c=t.body,d=c.reduce(function(p,m){return p+m.height},0);o+=d}var u=new rx(e);(a.pageBreak==="always"||a.startY!=null&&o>u.pageSize().height)&&(VG(u),i.y=n.top),t.callWillDrawPageHooks(u,i);var f=sh({},i);t.startPageNumber=u.pageNumber(),a.horizontalPageBreak?rCe(u,t,f,i):(u.applyStyles(u.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(p){return vh(u,t,p,i,t.columns)}),u.applyStyles(u.userStyles),t.body.forEach(function(p,m){var v=m===t.body.length-1;Iw(u,t,p,v,f,i,t.columns)}),u.applyStyles(u.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(p){return vh(u,t,p,i,t.columns)})),OG(u,t,f,i),t.callEndPageHooks(u,i),t.finalY=i.y,e.lastAutoTable=t,u.applyStyles(u.userStyles)}function rCe(e,t,a,r){var n=sCe(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")n.forEach(function(d,u){e.applyStyles(e.userStyles),u>0?qv(e,t,a,r,d.columns,!0):JR(e,t,r,d.columns),nCe(e,t,a,r,d.columns),W3(e,t,r,d.columns)});else for(var l=-1,o=n[0],c=function(){var d=l;if(o){e.applyStyles(e.userStyles);var u=o.columns;l>=0?qv(e,t,a,r,u,!0):JR(e,t,r,u),d=QR(e,t,l+1,r,u),W3(e,t,r,u)}var f=d-l;n.slice(1).forEach(function(p){e.applyStyles(e.userStyles),qv(e,t,a,r,p.columns,!0),QR(e,t,l+1,r,p.columns,f),W3(e,t,r,p.columns)}),l=d};l<t.body.length-1;)c()}function JR(e,t,a,r){var n=t.settings;e.applyStyles(e.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&t.head.forEach(function(i){return vh(e,t,i,a,r)})}function nCe(e,t,a,r,n){e.applyStyles(e.userStyles),t.body.forEach(function(i,l){var o=l===t.body.length-1;Iw(e,t,i,o,a,r,n)})}function QR(e,t,a,r,n,i){e.applyStyles(e.userStyles),i=i??t.body.length;var l=Math.min(a+i,t.body.length),o=-1;return t.body.slice(a,l).forEach(function(c,d){var u=a+d===t.body.length-1,f=HG(e,t,u,r);c.canEntireRowFit(f,n)&&(vh(e,t,c,r,n),o=a+d)}),o}function W3(e,t,a,r){var n=t.settings;e.applyStyles(e.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&t.foot.forEach(function(i){return vh(e,t,i,a,r)})}function iCe(e,t,a){var r=a.getLineHeight(e.styles.fontSize),n=e.padding("vertical"),i=Math.floor((t-n)/r);return Math.max(0,i)}function lCe(e,t,a,r){var n={};e.spansMultiplePages=!0,e.height=0;for(var i=0,l=0,o=a.columns;l<o.length;l++){var c=o[l],d=e.cells[c.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var u=new c_(d.raw,d.styles,d.section);u=sh(u,d),u.text=[];var f=iCe(d,t,r);d.text.length>f&&(u.text=d.text.splice(f,d.text.length));var p=r.scaleFactor(),m=r.getLineHeightFactor();d.contentHeight=d.getContentHeight(p,m),d.contentHeight>=t&&(d.contentHeight=t,u.styles.minCellHeight-=t),d.contentHeight>e.height&&(e.height=d.contentHeight),u.contentHeight=u.getContentHeight(p,m),u.contentHeight>i&&(i=u.contentHeight),n[c.index]=u}}var v=new o_(e.raw,-1,e.section,n,!0);v.height=i;for(var g=0,b=a.columns;g<b.length;g++){var c=b[g],u=v.cells[c.index];u&&(u.height=v.height);var d=e.cells[c.index];d&&(d.height=e.height)}return v}function oCe(e,t,a,r){var n=e.pageSize().height,i=r.settings.margin,l=i.top+i.bottom,o=n-l;t.section==="body"&&(o-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var c=t.getMinimumRowHeight(r.columns,e),d=c<a;if(c>o)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var u=t.hasRowSpan(r.columns),f=t.getMaxCellHeight(r.columns)>o;return f?(u&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||r.settings.rowPageBreak==="avoid")}function Iw(e,t,a,r,n,i,l){var o=HG(e,t,r,i);if(a.canEntireRowFit(o,l))vh(e,t,a,i,l);else if(oCe(e,a,o,t)){var c=lCe(a,o,t,e);vh(e,t,a,i,l),qv(e,t,n,i,l),Iw(e,t,c,r,n,i,l)}else qv(e,t,n,i,l),Iw(e,t,a,r,n,i,l)}function vh(e,t,a,r,n){r.x=t.settings.margin.left;for(var i=0,l=n;i<l.length;i++){var o=l[i],c=a.cells[o.index];if(!c){r.x+=o.width;continue}e.applyStyles(c.styles),c.x=r.x,c.y=r.y;var d=t.callCellHooks(e,t.hooks.willDrawCell,c,a,o,r);if(d===!1){r.x+=o.width;continue}cCe(e,c,r);var u=c.getTextPos();PG(c.text,u.x,u.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,c,a,o,r),r.x+=o.width}r.y+=a.height}function cCe(e,t,a){var r=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof r.lineWidth=="number"){var n=RG(r.lineWidth,r.fillColor);n&&e.rect(t.x,a.y,t.width,t.height,n)}else typeof r.lineWidth=="object"&&(r.fillColor&&e.rect(t.x,a.y,t.width,t.height,"F"),dCe(e,t,a,r.lineWidth))}function dCe(e,t,a,r){var n,i,l,o;r.top&&(n=a.x,i=a.y,l=a.x+t.width,o=a.y,r.right&&(l+=.5*r.right),r.left&&(n-=.5*r.left),c(r.top,n,i,l,o)),r.bottom&&(n=a.x,i=a.y+t.height,l=a.x+t.width,o=a.y+t.height,r.right&&(l+=.5*r.right),r.left&&(n-=.5*r.left),c(r.bottom,n,i,l,o)),r.left&&(n=a.x,i=a.y,l=a.x,o=a.y+t.height,r.top&&(i-=.5*r.top),r.bottom&&(o+=.5*r.bottom),c(r.left,n,i,l,o)),r.right&&(n=a.x+t.width,i=a.y,l=a.x+t.width,o=a.y+t.height,r.top&&(i-=.5*r.top),r.bottom&&(o+=.5*r.bottom),c(r.right,n,i,l,o));function c(d,u,f,p,m){e.getDocument().setLineWidth(d),e.getDocument().line(u,f,p,m,"S")}}function HG(e,t,a,r){var n=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&a)&&(n+=t.getFootHeight(t.columns)),e.pageSize().height-r.y-n}function qv(e,t,a,r,n,i){n===void 0&&(n=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(o){return vh(e,t,o,r,n)}),t.callEndPageHooks(e,r);var l=t.settings.margin;OG(e,t,a,r),VG(e),t.pageNumber++,r.x=l.left,r.y=l.top,a.y=l.top,t.callWillDrawPageHooks(e,r),t.settings.showHead==="everyPage"&&(t.head.forEach(function(o){return vh(e,t,o,r,n)}),e.applyStyles(e.userStyles))}function VG(e){var t=e.pageNumber();e.setPage(t+1);var a=e.pageNumber();return a===t?(e.addPage(),!0):!1}function WG(e){e.API.autoTable=function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];var r=t[0],n=l_(this,r),i=d_(this,n);return u_(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,a,r,n){PG(t,a,r,n,this)},e.API.autoTableSetDefaults=function(t){return rx.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,a){rx.setDefaults(t,a)},e.API.autoTableHtmlToJson=function(t,a){var r;if(a===void 0&&(a=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var n=new rx(this),i=BG(n,t,window,a,!1),l=i.head,o=i.body,c=((r=l[0])===null||r===void 0?void 0:r.map(function(d){return d.content}))||[];return{columns:c,rows:o,data:o}}}var q3;function ZR(e,t){var a=l_(e,t),r=d_(e,a);u_(e,r)}function uCe(e,t){var a=l_(e,t);return d_(e,a)}function hCe(e,t){u_(e,t)}try{if(typeof window<"u"&&window){var e9=window,t9=e9.jsPDF||((q3=e9.jspdf)===null||q3===void 0?void 0:q3.jsPDF);t9&&WG(t9)}}catch(e){console.error("Could not apply autoTable plugin",e)}const bx=Object.freeze(Object.defineProperty({__proto__:null,Cell:c_,CellHookData:$G,Column:zG,HookData:Fw,Row:o_,Table:UG,__createTable:uCe,__drawTable:hCe,applyPlugin:WG,autoTable:ZR,default:ZR},Symbol.toStringTag,{value:"Module"})),ev=({active:e,onClick:t,children:a})=>s.jsx("button",{onClick:t,className:`px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm rounded-t-lg transition-all duration-300 whitespace-nowrap border-b-2 ${e?"border-blue-500 text-blue-600 font-medium bg-white/60 dark:bg-gray-800/60 shadow-sm":"border-transparent text-gray-700 dark:text-gray-200 hover:text-blue-600 hover:bg-white/40 dark:hover:bg-gray-800/40"}`,children:a});function fCe(){const{t:e,i18n:t}=St(),[a,r]=y.useState("personal"),[n,i]=y.useState(!1),l={fullName:"Ibrahim Mohamed",jobTitle:"Sales Manager",department:"Sales",email:"ibrahim@example.com",phone:"+2010XXXXXXX",lang:t.language.startsWith("ar")?"Arabic":"English",tz:"Africa/Cairo",theme:"Dark",notifEmail:!0,notifApp:!0,notifMonthly:!1,notifNewDevice:!0},[o,c]=y.useState(l.fullName),[d,u]=y.useState(l.jobTitle),[f,p]=y.useState(l.department),[m,v]=y.useState(l.email),[g,b]=y.useState(l.phone),[j,k]=y.useState(""),[S,N]=y.useState(""),[A,_]=y.useState(""),[E,D]=y.useState(""),[R,I]=y.useState(""),[M,U]=y.useState(!1),[P,F]=y.useState(!1),[K,V]=y.useState(!1),[J,Q]=y.useState(l.notifEmail),[z,X]=y.useState(l.notifApp),[le,O]=y.useState(l.notifMonthly),[q,W]=y.useState(l.notifNewDevice),[te,re]=y.useState(l.lang),[oe,ce]=y.useState(l.tz),[G,ie]=y.useState(l.theme),[ye,se]=y.useState(""),[Ie,pe]=y.useState(""),[ae,ge]=y.useState("All"),Re=y.useMemo(()=>{let at=0;return E.length>=8&&at++,/[A-Z]/.test(E)&&at++,/[a-z]/.test(E)&&at++,/\d/.test(E)&&at++,/[^A-Za-z0-9]/.test(E)&&at++,at},[E]),ue=y.useMemo(()=>[{date:"2025-11-12",action:"Login",device:"Chrome (Windows)",location:"Cairo, Egypt"},{date:"2025-11-11",action:"Password Change",device:"Edge (Windows)",location:"Giza, Egypt"},{date:"2025-11-09",action:"Login",device:"Safari (iOS)",location:"Alexandria, Egypt"}],[]),Z=y.useMemo(()=>ue.filter(at=>{const $t=ae==="All"||(at.device||"").toLowerCase().includes(ae.toLowerCase()),ze=!ye||at.date>=ye,Ke=!Ie||at.date<=Ie;return $t&&ze&&Ke}),[ue,ae,ye,Ie]),Se=()=>{const at=sa.json_to_sheet(Z),$t=sa.book_new();sa.book_append_sheet($t,at,"SecurityLog"),qr($t,"security_log.xlsx")},Ne=()=>{const at=new ga("p","pt","a4");at.setFontSize(14),at.text("Security Log",40,40);const $t=[["Date","Action","Device","Location"]],ze=Z.map(Ke=>[Ke.date,Ke.action,Ke.device,Ke.location]);at.autoTable({head:$t,body:ze,startY:60}),at.save("security_log.pdf")},Ye=at=>{const $t=at.target.files?.[0];if(!$t)return;k($t);const ze=new FileReader;ze.onload=Ke=>N(Ke.target?.result||""),ze.readAsDataURL($t)},gt=()=>{i(!0),setTimeout(()=>{i(!1)},900)},qt=()=>{c(l.fullName),u(l.jobTitle),p(l.department),v(l.email),b(l.phone),k(""),N(""),_(""),D(""),I(""),U(!1),F(!1),V(!1),Q(l.notifEmail),X(l.notifApp),O(l.notifMonthly),W(l.notifNewDevice),re(l.lang),ce(l.tz),ie(l.theme),se(""),pe(""),ge("All"),r("personal")};return s.jsxs("div",{className:"rounded-2xl glass-panel w-full overflow-hidden shadow-2xl",children:[s.jsx("div",{className:"px-3 sm:px-4 pt-2 sm:pt-3",children:s.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto no-scrollbar",children:[s.jsx(ev,{active:a==="personal",onClick:()=>r("personal"),children:e("Personal Info")}),s.jsx(ev,{active:a==="account",onClick:()=>r("account"),children:e("Account & Password")}),s.jsx(ev,{active:a==="notifications",onClick:()=>r("notifications"),children:e("Notifications")}),s.jsx(ev,{active:a==="preferences",onClick:()=>r("preferences"),children:e("Preferences")}),s.jsx(ev,{active:a==="log",onClick:()=>r("log"),children:e("Security Log")})]})}),s.jsxs("div",{className:"flex-1 overflow-auto p-3 sm:p-4 md:p-6 space-y-4 sm:space-y-6",children:[a==="personal"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Full Name")}),s.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("span",{className:"text-gray-400",children:""}),s.jsx("input",{disabled:!0,className:"flex-1 bg-transparent outline-none opacity-70 cursor-not-allowed",value:o,onChange:at=>c(at.target.value),placeholder:e("Enter full name")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Job Title")}),s.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("span",{className:"text-gray-400",children:""}),s.jsx("input",{disabled:!0,className:"flex-1 bg-transparent outline-none opacity-70 cursor-not-allowed",value:d,onChange:at=>u(at.target.value),placeholder:e("Enter job title")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Department")}),s.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("span",{className:"text-gray-400",children:""}),s.jsx("input",{disabled:!0,className:"flex-1 bg-transparent outline-none opacity-70 cursor-not-allowed",value:f,onChange:at=>p(at.target.value),placeholder:e("Enter department")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Email")}),s.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("span",{className:"text-gray-400",children:""}),s.jsx("input",{className:"flex-1 bg-transparent outline-none",value:m,onChange:at=>v(at.target.value),placeholder:e("Enter email")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Phone")}),s.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("span",{className:"text-gray-400",children:""}),s.jsx("input",{className:"flex-1 bg-transparent outline-none",value:g,onChange:at=>b(at.target.value),placeholder:e("Enter phone")})]})]})]}),s.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-white/30 dark:via-gray-700 to-transparent"}),s.jsx("div",{className:"flex items-center gap-4 flex-wrap",children:s.jsxs("div",{className:"relative w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 rounded-full overflow-hidden ring-2 ring-white/30",children:[S?s.jsx("img",{src:S,alt:"avatar",className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-xl sm:text-2xl",children:""}),s.jsxs("label",{className:"absolute inset-0 bg-black/40 opacity-0 hover:opacity-100 transition flex items-center justify-center text-xs text-white cursor-pointer",children:[e("Update Photo"),s.jsx("input",{type:"file",accept:"image/*",onChange:Ye,className:"hidden"})]})]})}),s.jsx("div",{className:"h-4"})]}),a==="account"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Current Password")}),s.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("input",{type:M?"text":"password",className:"flex-1 bg-transparent outline-none",value:A,onChange:at=>_(at.target.value),placeholder:e("Enter current password")}),s.jsx("button",{type:"button",className:"text-xs text-blue-600 hover:underline",onClick:()=>U(at=>!at),children:e(M?"Hide":"Show")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("New Password")}),s.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("input",{type:P?"text":"password",className:"flex-1 bg-transparent outline-none",value:E,onChange:at=>D(at.target.value),placeholder:e("Enter new password")}),s.jsx("button",{type:"button",className:"text-xs text-blue-600 hover:underline",onClick:()=>F(at=>!at),children:e(P?"Hide":"Show")})]}),s.jsx("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded overflow-hidden",children:s.jsx("div",{className:`h-2 transition-all ${Re<=2?"bg-red-500":Re===3?"bg-yellow-500":"bg-emerald-500"}`,style:{width:`${Re/5*100}%`}})})]}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Confirm Password")}),s.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("input",{type:K?"text":"password",className:"flex-1 bg-transparent outline-none",value:R,onChange:at=>I(at.target.value),placeholder:e("Confirm new password")}),s.jsx("button",{type:"button",className:"text-xs text-blue-600 hover:underline",onClick:()=>V(at=>!at),children:e(K?"Hide":"Show")})]}),R&&R!==E&&s.jsx("div",{className:"text-xs text-rose-600",children:e("Passwords don't match")})]})]}),s.jsx("div",{className:"h-4"})]}),a==="notifications"&&s.jsxs("div",{className:"space-y-3",children:[[{key:"email",label:"Email Alerts",state:J,set:Q,icon:""},{key:"app",label:"App Notifications",state:z,set:X,icon:""},{key:"reports",label:"Monthly Reports",state:le,set:O,icon:""},{key:"newdev",label:"Login from new devices",state:q,set:W,icon:""}].map(at=>s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-white/80 dark:bg-gray-800/80 hover:shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-lg",children:at.icon}),s.jsx("span",{className:"text-sm font-medium",children:e(at.label)})]}),s.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only",checked:at.state,onChange:$t=>at.set($t.target.checked)}),s.jsx("span",{className:`w-10 h-5 flex items-center bg-gray-300 dark:bg-gray-700 rounded-full p-1 ${at.state?"justify-end":"justify-start"}`,children:s.jsx("span",{className:`w-4 h-4 rounded-full bg-white transition ${at.state?"shadow-[0_0_0_2px_rgba(59,130,246,0.6)]":""}`})})]})]},at.key)),s.jsx("div",{className:"h-4"})]}),a==="preferences"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Language")}),s.jsxs("select",{className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:te,onChange:at=>re(at.target.value),children:[s.jsx("option",{children:"English"}),s.jsx("option",{children:"Arabic"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Time Zone")}),s.jsxs("select",{className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:oe,onChange:at=>ce(at.target.value),children:[s.jsx("option",{children:"Africa/Cairo"}),s.jsx("option",{children:"Asia/Riyadh"}),s.jsx("option",{children:"Europe/London"}),s.jsx("option",{children:"UTC"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Theme")}),s.jsxs("select",{className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:G,onChange:at=>ie(at.target.value),children:[s.jsx("option",{children:"Dark"}),s.jsx("option",{children:"Light"}),s.jsx("option",{children:"Auto"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:s.jsxs("div",{className:"rounded-xl p-4 border bg-white/60 dark:bg-gray-800/60",children:[s.jsx("div",{className:"text-sm font-medium mb-2",children:e("Live Preview")}),s.jsxs("div",{className:`rounded-lg h-24 flex items-center justify-center ${G==="Dark"?"bg-gradient-to-r from-gray-800 to-gray-900 text-white":"bg-gradient-to-r from-gray-100 to-white text-gray-800"}`,children:[G," Theme"]})]})}),s.jsx("div",{className:"h-4"})]}),a==="log"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Start Date")}),s.jsx("input",{type:"date",className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:ye,onChange:at=>se(at.target.value)})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("End Date")}),s.jsx("input",{type:"date",className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:Ie,onChange:at=>pe(at.target.value)})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Device")}),s.jsxs("select",{className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:ae,onChange:at=>ge(at.target.value),children:[s.jsx("option",{children:"All"}),s.jsx("option",{children:"Chrome"}),s.jsx("option",{children:"Edge"}),s.jsx("option",{children:"Safari"})]})]}),s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsx("button",{className:"px-4 py-2 rounded-lg border bg-white/70 dark:bg-gray-800/70",onClick:Se,children:e("Download Excel")}),s.jsx("button",{className:"px-4 py-2 rounded-lg border bg-white/70 dark:bg-gray-800/70",onClick:Ne,children:e("Download PDF")})]})]}),s.jsx("div",{className:"h-2"}),s.jsx("div",{className:"overflow-auto -mx-2 sm:-mx-4",children:s.jsxs("table",{className:"nova-table w-full text-sm min-w-[600px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left text-gray-600 dark:text-gray-300",children:[s.jsx("th",{className:"py-2 px-4",children:e("Date")}),s.jsx("th",{className:"py-2 px-4",children:e("Action")}),s.jsx("th",{className:"py-2 px-4",children:e("Device")}),s.jsx("th",{className:"py-2 px-4",children:e("Location")})]})}),s.jsxs("tbody",{className:"text-gray-800 dark:text-gray-100",children:[s.jsx("tr",{children:s.jsx("td",{className:"py-1",colSpan:"4"})}),Z.map((at,$t)=>s.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-800 hover:bg-white/40 dark:hover:bg-gray-800/40",children:[s.jsx("td",{className:"py-2 px-4",children:at.date}),s.jsx("td",{className:"py-2 px-4",children:at.action}),s.jsx("td",{className:"py-2 px-4",children:at.device}),s.jsx("td",{className:"py-2 px-4",children:at.location})]},$t)),s.jsx("tr",{children:s.jsx("td",{className:"py-1",colSpan:"4"})})]})]})}),s.jsx("div",{className:"h-4"})]})]}),s.jsxs("div",{className:"px-3 sm:px-4 md:px-6 py-4 border-t border-white/20 dark:border-gray-700 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:e("Last updated: 2 days ago")}),s.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[s.jsx("button",{className:"w-full sm:w-auto px-4 py-2 rounded-lg bg-blue-600 text-white shadow hover:bg-blue-700",onClick:gt,children:e("Save")}),s.jsx("button",{className:"w-full sm:w-auto px-4 py-2 rounded-lg bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 hover:bg-gray-300 dark:hover:bg-gray-600",onClick:qt,children:e("Reset")})]})]})]})}function mCe(){const{t:e}=St();return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"p-3 sm:p-4 md:p-6 bg-[var(--content-bg)] text-[var(--content-text)] space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsx("div",{className:"w-1 h-6 sm:h-8 bg-gradient-to-b from-blue-500 to-purple-600 rounded-full"}),s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:e("Profile Settings")})]}),s.jsx(fCe,{})]})})}function pCe(){const{t:e}=St();return s.jsx(_r,{children:s.jsxs("div",{className:"p-3 sm:p-4 md:p-6 bg-[var(--content-bg)] text-[var(--content-text)] space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsx("div",{className:"w-1 h-6 sm:h-8 bg-gradient-to-b from-blue-500 to-purple-600 rounded-full"}),s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:e("Company Settings")})]}),s.jsx(R5e,{})]})})}const tv=({title:e,icon:t,children:a,defaultOpen:r=!0})=>{const[n,i]=y.useState(r);return s.jsxs("div",{className:"glass-panel rounded-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between p-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:t}),s.jsx("h3",{className:"text-lg font-semibold",children:e})]}),s.jsx("button",{className:"btn btn-glass btn-sm",onClick:()=>i(l=>!l),children:n?"Collapse":"Expand"})]}),n&&s.jsx("div",{className:"p-4 pt-0",children:a})]})},a9=e=>new Promise((t,a)=>{const r=new FileReader;r.onload=()=>t(r.result),r.onerror=a,r.readAsDataURL(e)}),xCe=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e||""),gCe=e=>/^https?:\/\//i.test(e||""),vCe=e=>/^[+]?([0-9\-\s()]){6,}$/.test(e||"");function bCe(){const{t:e}=St(),t={companyName:"",tagline:"",businessType:"Real Estate",country:"Egypt",city:"",street:"",zip:"",lat:"",lng:"",phones:[""],whatsapp:"",fax:"",email:"",website:"",social:{facebook:"",instagram:"",linkedin:"",twitter:"",youtube:""},logo:"",favicon:"",publicVisible:!0},[a,r]=y.useState(t),[n,i]=y.useState(null);y.useEffect(()=>{const S=localStorage.getItem("contact-info-settings");if(S)try{r({...t,...JSON.parse(S)})}catch{}},[]),y.useEffect(()=>{const S=()=>l(),N=()=>o();return window.addEventListener("save-contact-info",S),window.addEventListener("reset-contact-info",N),()=>{window.removeEventListener("save-contact-info",S),window.removeEventListener("reset-contact-info",N)}},[a]);const l=()=>{localStorage.setItem("contact-info-settings",JSON.stringify(a)),i({type:"success",message:e("Settings saved")}),setTimeout(()=>i(null),2e3)},o=()=>{r(t),i({type:"success",message:e("Settings reset to default")}),setTimeout(()=>i(null),2e3)},c=(S,N)=>r(A=>({...A,[S]:N})),d=(S,N)=>r(A=>({...A,social:{...A.social,[S]:N}})),u=()=>r(S=>({...S,phones:[...S.phones,""]})),f=(S,N)=>r(A=>({...A,phones:A.phones.map((_,E)=>E===S?N:_)})),p=S=>r(N=>({...N,phones:N.phones.filter((A,_)=>_!==S)})),m=async S=>{const N=await a9(S);c("logo",N)},v=async S=>{const N=await a9(S);c("favicon",N)},g=y.useMemo(()=>a.email&&!xCe(a.email)?e("Invalid email"):"",[a.email,e]),b=y.useMemo(()=>a.website&&!gCe(a.website)?e("Invalid URL (use http/https)"):"",[a.website,e]),j=y.useMemo(()=>a.phones.map(S=>S&&!vCe(S)?e("Invalid phone"):""),[a.phones,e]),k=y.useMemo(()=>{if(a.lat&&a.lng)return`https://www.google.com/maps?q=${a.lat},${a.lng}&z=14&output=embed`;const S=[a.street,a.city,a.country].filter(Boolean).join(", ");return S?`https://www.google.com/maps?q=${encodeURIComponent(S)}&z=14&output=embed`:""},[a.lat,a.lng,a.street,a.city,a.country]);return s.jsxs("div",{className:"space-y-6",children:[s.jsx(tv,{title:e("Company Information"),icon:"",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Company Name")}),s.jsx("input",{className:"input-soft w-full",value:a.companyName,onChange:S=>c("companyName",S.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Tagline / Slogan")}),s.jsx("input",{className:"input-soft w-full",value:a.tagline,onChange:S=>c("tagline",S.target.value),placeholder:e("Optional")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Business Type")}),s.jsx("select",{className:"input-soft w-full",value:a.businessType,onChange:S=>c("businessType",S.target.value),children:["Medical","Real Estate","Marketing","Retail","Education","Other"].map(S=>s.jsx("option",{value:S,children:S},S))})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("label",{className:"text-sm flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:a.publicVisible,onChange:S=>c("publicVisible",S.target.checked)})," ",e("Show contact info publicly")]})})]})}),s.jsxs(tv,{title:e("Address"),icon:"",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Country")}),s.jsx("select",{className:"input-soft w-full",value:a.country,onChange:S=>c("country",S.target.value),children:["Egypt","Saudi Arabia","UAE","Jordan","Kuwait","Qatar","Other"].map(S=>s.jsx("option",{value:S,children:S},S))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("City")}),s.jsx("input",{className:"input-soft w-full",value:a.city,onChange:S=>c("city",S.target.value)})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"label",children:e("Street Address")}),s.jsx("textarea",{className:"input-soft w-full h-20",value:a.street,onChange:S=>c("street",S.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Zip Code")}),s.jsx("input",{className:"input-soft w-full",value:a.zip,onChange:S=>c("zip",S.target.value)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Latitude")}),s.jsx("input",{className:"input-soft w-full",value:a.lat,onChange:S=>c("lat",S.target.value),placeholder:"30.0444"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Longitude")}),s.jsx("input",{className:"input-soft w-full",value:a.lng,onChange:S=>c("lng",S.target.value),placeholder:"31.2357"})]})]})]}),k&&s.jsx("div",{className:"mt-4",children:s.jsx("iframe",{title:"map",src:k,className:"w-full h-56 rounded-xl border border-gray-200 dark:border-gray-800",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})]}),s.jsx(tv,{title:e("Communication"),icon:"",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Phone Numbers")}),s.jsxs("div",{className:"space-y-2",children:[a.phones.map((S,N)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{className:`input-soft flex-1 ${j[N]?"border-rose-400":""}`,value:S,onChange:A=>f(N,A.target.value),placeholder:e("e.g., +2010XXXXXXX")}),s.jsx("button",{className:"btn btn-glass btn-sm",onClick:()=>p(N),disabled:a.phones.length===1,children:e("Remove")})]},N)),j.some(Boolean)&&s.jsx("div",{className:"text-xs text-rose-600",children:e("Please check phone formats")}),s.jsx("button",{className:"btn btn-primary btn-sm",onClick:u,children:e("Add Phone")})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("WhatsApp Number")}),s.jsx("input",{className:"input-soft w-full",value:a.whatsapp,onChange:S=>c("whatsapp",S.target.value),placeholder:e("e.g., +2010XXXXXXX")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Fax")}),s.jsx("input",{className:"input-soft w-full",value:a.fax,onChange:S=>c("fax",S.target.value),placeholder:e("Optional")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Email")}),s.jsx("input",{className:`input-soft w-full ${g?"border-rose-400":""}`,value:a.email,onChange:S=>c("email",S.target.value),placeholder:e("e.g., support@example.com")}),g&&s.jsx("div",{className:"text-xs text-rose-600 mt-1",children:g})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Website URL")}),s.jsx("input",{className:`input-soft w-full ${b?"border-rose-400":""}`,value:a.website,onChange:S=>c("website",S.target.value),placeholder:e("e.g., https://example.com")}),b&&s.jsx("div",{className:"text-xs text-rose-600 mt-1",children:b})]})]})]})}),s.jsx(tv,{title:e("Social Links"),icon:"",defaultOpen:!1,children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{key:"facebook",label:"Facebook",icon:""},{key:"instagram",label:"Instagram",icon:""},{key:"linkedin",label:"LinkedIn",icon:""},{key:"twitter",label:"X (Twitter)",icon:""},{key:"youtube",label:"YouTube",icon:""}].map(S=>s.jsxs("div",{children:[s.jsxs("label",{className:"label flex items-center gap-2",children:[s.jsx("span",{children:S.icon})," ",e(S.label)]}),s.jsx("input",{className:"input-soft w-full",value:a.social[S.key],onChange:N=>d(S.key,N.target.value),placeholder:e("Profile URL")})]},S.key))})}),s.jsxs(tv,{title:e("Upload Assets"),icon:"",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-start",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Company Logo")}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:S=>S.target.files?.[0]&&m(S.target.files[0])}),a.logo&&s.jsx("button",{className:"btn btn-glass btn-sm",onClick:()=>c("logo",""),children:e("Remove")})]}),a.logo&&s.jsx("div",{className:"mt-2 w-40 h-40 rounded-xl overflow-hidden border",children:s.jsx("img",{src:a.logo,alt:"logo",className:"w-full h-full object-contain bg-white"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Favicon")}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:S=>S.target.files?.[0]&&v(S.target.files[0])}),a.favicon&&s.jsx("button",{className:"btn btn-glass btn-sm",onClick:()=>c("favicon",""),children:e("Remove")})]}),a.favicon&&s.jsx("div",{className:"mt-2 w-16 h-16 rounded-xl overflow-hidden border",children:s.jsx("img",{src:a.favicon,alt:"favicon",className:"w-full h-full object-contain bg-white"})})]})]}),s.jsx("div",{className:"text-xs text-[var(--muted-text)] mt-2",children:e("Logo and favicon will auto-preview and be used across the system.")})]}),n&&s.jsx("div",{className:`fixed top-4 right-4 z-50 px-3 py-2 rounded-lg shadow-lg ${n.type==="success"?"bg-emerald-600 text-white":"bg-rose-600 text-white"}`,children:n.message})]})}function yCe(){const{t:e}=St(),t=()=>{window.dispatchEvent(new Event("save-contact-info"))},a=()=>{window.dispatchEvent(new Event("reset-contact-info"))},r=s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-primary btn-sm",onClick:t,children:e("Save Changes")}),s.jsx("button",{className:"btn btn-glass btn-sm",onClick:a,children:e("Reset to Default")})]});return s.jsx(_r,{title:e("Contact Info Settings"),actions:r,children:s.jsx("div",{className:"p-3 sm:p-4",children:s.jsx(bCe,{})})})}function wCe(){const{t:e}=St();return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"p-3 sm:p-4 md:p-6 bg-[var(--content-bg)] text-[var(--content-text)] space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsx("div",{className:"w-1 h-6 sm:h-8 bg-gradient-to-b from-blue-500 to-purple-600 rounded-full"}),s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:e("System Preferences")})]}),s.jsx(U5e,{})]})})}function jCe(){const{t:e}=St();return s.jsx(_r,{children:s.jsxs("div",{className:"p-3 sm:p-4 md:p-6 bg-[var(--content-bg)] text-[var(--content-text)] space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsx("div",{className:"w-1 h-6 sm:h-8 bg-gradient-to-b from-blue-500 to-purple-600 rounded-full"}),s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:e("Modules Settings")})]}),s.jsx($5e,{})]})})}function NCe(){const{t:e}=St();return s.jsx(_r,{children:s.jsxs("div",{className:"p-3 sm:p-4 md:p-6 bg-[var(--content-bg)] text-[var(--content-text)] space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsx("div",{className:"w-1 h-6 sm:h-8 bg-gradient-to-b from-blue-500 to-purple-600 rounded-full"}),s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:e("Security Settings")})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 w-full sm:w-auto",children:[s.jsx("button",{className:"w-full sm:w-auto btn btn-primary",children:e("Save Changes")}),s.jsx("button",{className:"btn btn-glass p-2","aria-label":"Notifications",children:s.jsx("span",{role:"img","aria-hidden":!0,children:""})}),s.jsx("button",{className:"btn btn-glass p-2","aria-label":"Alerts",children:s.jsx("span",{role:"img","aria-hidden":!0,children:""})})]})]}),s.jsx(z5e,{})]})})}function kCe(){return s.jsx(_r,{title:"Custom Fields",children:s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsx("h1",{className:"text-xl font-semibold mb-3",children:"Custom Fields"}),s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:"Configure custom fields across entities."})]})})}function SCe(){return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsx("h1",{className:"text-xl font-semibold mb-3",children:"Audit Logs"}),s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:"Review system changes and activities."})]})})}function CCe(){const{t:e}=St();return s.jsx(_r,{children:s.jsxs("div",{className:"p-3 sm:p-4 md:p-6 bg-[var(--content-bg)] text-[var(--content-text)] space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsx("div",{className:"w-1 h-6 sm:h-8 bg-gradient-to-b from-blue-500 to-purple-600 rounded-full"}),s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:e("Billing & Subscription")})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 w-full sm:w-auto",children:[s.jsx("button",{className:"w-full sm:w-auto px-4 py-2 rounded-lg bg-blue-600 text-white shadow hover:bg-blue-700",children:"Add New Subscription"}),s.jsx("button",{className:"p-2 rounded-lg border bg-white/60 dark:bg-gray-800/60 hover:bg-white",children:""}),s.jsx("button",{className:"p-2 rounded-lg border bg-white/60 dark:bg-gray-800/60 hover:bg-white",children:""})]})]}),s.jsx(B5e,{})]})})}function ACe(){return s.jsx(_r,{title:"Payment History",children:s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsx("h1",{className:"text-xl font-semibold mb-3",children:"Payment History"}),s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:"View invoices and payments."})]})})}function _Ce(){const{t:e}=St(),{subscription:t}=eN(),a=y.useMemo(()=>{const l=t?.plan_name||t?.plan||t?.name||"Free";return String(l).trim()},[t]),r=[{key:"Free",title:e("Starter"),price:e("$0 / mo"),features:[e("Basic CRM and leads"),e("Limited modules access"),e("Community support")],action:e("Stay on Free")},{key:"Pro",title:e("Pro"),price:e("$29 / mo"),features:[e("All core modules"),e("Notifications & Templates"),e("Basic reports")],action:e("Upgrade to Pro"),recommended:!0},{key:"Enterprise",title:e("Enterprise"),price:e("Contact us"),features:[e("Advanced reports and analytics"),e("Custom fields and audit logs"),e("Priority support & SLA")],action:e("Talk to Sales")}],n=["Free","Pro","Enterprise"],i=n.indexOf(a)===-1?0:n.indexOf(a);return s.jsx(_r,{children:s.jsxs("div",{className:"p-3 sm:p-4 md:p-6 bg-[var(--content-bg)] text-[var(--content-text)] space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsx("div",{className:"w-1 h-6 sm:h-8 bg-gradient-to-b from-indigo-500 to-purple-600 rounded-full"}),s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:e("Plans & Upgrade")})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 w-full sm:w-auto",children:[s.jsx(Cs,{to:"/settings/billing/subscription",className:"w-full sm:w-auto px-4 py-2 rounded-lg bg-blue-600 text-white shadow hover:bg-blue-700",children:e("View Subscription")}),s.jsx(Cs,{to:"/pricing",className:"p-2 rounded-lg border bg-white/60 dark:bg-gray-800/60 hover:bg-white",children:e("Pricing")})]})]}),s.jsx("div",{className:"rounded-lg border border-gray-200 dark:border-gray-700 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:e("Current Plan")}),s.jsx("div",{className:"text-lg font-semibold",children:a||e("Unknown")})]}),s.jsx(Cs,{to:"/pricing",className:"text-sm px-3 py-2 rounded-md border border-gray-300 dark:border-gray-700",children:e("See all plans")})]})}),s.jsx("div",{className:"grid gap-4 sm:gap-6 sm:grid-cols-2 md:grid-cols-3",children:r.map((l,o)=>{const c=n[o]===a,d=o<=i;return s.jsxs("div",{className:`rounded-lg border p-5 ${l.recommended?"border-indigo-500 shadow-md":"border-gray-200 dark:border-gray-700"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-xl font-semibold",children:l.title}),l.recommended&&s.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-indigo-600 text-white",children:e("Recommended")})]}),s.jsx("div",{className:"text-2xl font-bold mb-3",children:l.price}),s.jsx("ul",{className:"space-y-2 text-sm mb-4",children:l.features.map(u=>s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:u})]},u))}),c?s.jsx("button",{className:"w-full px-4 py-2 rounded-md bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 cursor-default",disabled:!0,children:e("Current")}):s.jsx(Cs,{to:l.key==="Enterprise"?"/welcome/contact":"/pricing",className:`w-full inline-flex justify-center px-4 py-2 rounded-md ${d?"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700"}`,"aria-disabled":d,children:l.action})]},l.key)})}),s.jsx("div",{className:"rounded-lg border border-gray-200 dark:border-gray-700 p-3 sm:p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:e("Need a custom package or have compliance requirements?")}),s.jsx(Cs,{to:"/welcome/contact",className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700",children:e("Contact Sales")})]})})]})})}function ECe(){return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsx("h1",{className:"text-xl font-semibold mb-3",children:"API Keys"}),s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:"Manage API keys for integrations."})]})})}function TCe(){return s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsx("h1",{className:"text-xl font-semibold mb-3",children:"Webhooks"}),s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:"Configure webhook endpoints and events."})]})}const G3=({open:e,title:t,children:a,onClose:r,onConfirm:n,confirmText:i="Confirm"})=>e?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:r}),s.jsxs("div",{className:"relative w-full max-w-xl glass-panel rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:t}),s.jsx("button",{className:"btn btn-glass",onClick:r,children:"Cancel"})]}),s.jsx("div",{children:a}),s.jsxs("div",{className:"mt-5 flex items-center justify-end gap-2",children:[s.jsx("button",{className:"btn btn-glass",onClick:r,children:"Cancel"}),s.jsx("button",{className:"btn btn-primary",onClick:n,children:i})]})]})]}):null,g2=()=>s.jsx("span",{role:"img","aria-label":"WhatsApp",children:""}),DCe=()=>s.jsx("span",{role:"img","aria-label":"Send",children:""}),PCe=()=>s.jsx("span",{role:"img","aria-label":"Refresh",children:""});function MCe(){const[e,t]=y.useState("Meta API"),[a,r]=y.useState(""),[n,i]=y.useState(""),[l,o]=y.useState(""),[c,d]=y.useState(""),[u,f]=y.useState(""),[p,m]=y.useState("disconnected"),[v,g]=y.useState(""),[b,j]=y.useState(0),[k,S]=y.useState([{id:"wa-otp",name:"OTP Auth",category:"Authentication",language:"en",status:"Approved",body:"Hi {{name}}, your WhatsApp verification code is {{otp}}."},{id:"wa-pay",name:"Payment Confirmation",category:"Utility",language:"en",status:"Pending",body:"Dear {{name}}, we received {{amount}} on {{date}}."},{id:"wa-promo",name:"Promo Offer",category:"Marketing",language:"en",status:"Rejected",body:"Hi {{name}}, check our new offers today!"}]),[N,A]=y.useState(!1),[_,E]=y.useState(null),[D,R]=y.useState(""),[I,M]=y.useState("Marketing"),[U,P]=y.useState("en"),[F,K]=y.useState(""),[V,J]=y.useState({open:!1,tpl:null}),[Q,z]=y.useState({registration:{enabled:!0,template:"wa-otp"},payment:{enabled:!0,template:"wa-pay"},expiry:{enabled:!1,template:"wa-promo"},newNote:{enabled:!1,template:"wa-promo"}}),[X,le]=y.useState(""),[O,q]=y.useState("wa-otp"),[W,te]=y.useState(null),[re,oe]=y.useState([]),[ce,G]=y.useState(""),[ie,ye]=y.useState("All"),[se,Ie]=y.useState(""),[pe,ae]=y.useState(""),[ge,Re]=y.useState(1),ue=5,[Z,Se]=y.useState([{id:"ar-hello",keyword:"hello",message:"Hello! How can we help you?",status:"Active"}]),[Ne,Ye]=y.useState(!1),[gt,qt]=y.useState(null),[at,$t]=y.useState(""),[ze,Ke]=y.useState(""),[Ze,ht]=y.useState("Active"),[At,Mt]=y.useState(null);y.useEffect(()=>{const ut=localStorage.getItem("wa-settings");if(ut)try{const ra=JSON.parse(ut);t(ra.provider||"Meta API"),r(ra.apiKey||""),i(ra.apiSecret||""),o(ra.businessNumber||""),d(ra.businessId||""),f(ra.webhookUrl||""),m(ra.connStatus||"disconnected"),j(ra.monthlyCount||0),S(ra.templates||[]),z(ra.triggers||Q),Se(ra.autoReplies||Z)}catch{}},[]),y.useEffect(()=>{const ut=()=>Pt();return window.addEventListener("save-wa-settings",ut),()=>window.removeEventListener("save-wa-settings",ut)},[]);const Pt=()=>{const ut={provider:e,apiKey:a,apiSecret:n,businessNumber:l,businessId:c,webhookUrl:u,connStatus:p,monthlyCount:b,templates:k,triggers:Q,autoReplies:Z};localStorage.setItem("wa-settings",JSON.stringify(ut)),Mt({type:"success",message:"Settings saved."}),setTimeout(()=>Mt(null),2e3)},Gt=()=>{const ut=e&&a&&n&&l;m(ut?"connected":"failed"),g(ut?"Connected to WhatsApp API.":"Failed to connect. Check inputs."),ut&&j(ra=>ra+1),setTimeout(()=>g(""),3500)},Ae=()=>{E(null),R(""),M("Marketing"),P("en"),K(""),A(!0)},Tt=()=>{const ut=D.trim(),ra=F.trim();if(!ut||!ra){Mt({type:"error",message:"Please fill all fields."}),setTimeout(()=>Mt(null),2e3);return}if(_)S(Aa=>Aa.map(ua=>ua.id===_.id?{...ua,name:ut,category:I,language:U,body:ra,updatedAt:new Date().toLocaleString()}:ua)),Mt({type:"success",message:"Template updated."});else{const Aa="wa-"+ut.toLowerCase().replace(/\s+/g,"-")+"-"+Math.random().toString(36).slice(2);S(ua=>[{id:Aa,name:ut,category:I,language:U,status:"Pending",body:ra,updatedAt:new Date().toLocaleString()},...ua]),Mt({type:"success",message:"Template added."})}setTimeout(()=>Mt(null),2e3),A(!1)},We=ut=>J({open:!0,tpl:ut}),Ot=()=>{const ut=V.tpl;S(ra=>ra.filter(Aa=>Aa.id!==ut.id)),J({open:!1,tpl:null}),Mt({type:"success",message:"Template deleted."}),setTimeout(()=>Mt(null),2e3)},Rt=(ut,ra)=>z(Aa=>({...Aa,[ut]:{...Aa[ut],enabled:ra}})),na=(ut,ra)=>z(Aa=>({...Aa,[ut]:{...Aa[ut],template:ra}})),pt=()=>{const ut=k.find(Aa=>Aa.id===O),ra=!!ut&&!!X&&p==="connected";te({type:ra?"success":"failed",message:ra?"Test message sent.":"Failed to send."}),oe(Aa=>[{id:Math.random().toString(36).slice(2),recipient:X||"N/A",template:ut?.name||"N/A",status:ra?"Delivered":"Failed",at:new Date().toLocaleString()},...Aa]),setTimeout(()=>te(null),3e3)},lt=y.useMemo(()=>re.filter(ut=>{const ra=!ce||ut.recipient.toLowerCase().includes(ce.trim().toLowerCase()),Aa=ie==="All"||ut.status===ie,ua=!se||new Date(ut.at)>=new Date(se),oa=!pe||new Date(ut.at)<=new Date(pe);return ra&&Aa&&ua&&oa}),[re,ce,ie,se,pe]),dt=Math.max(1,Math.ceil(lt.length/ue)),mt=lt.slice((ge-1)*ue,ge*ue);return y.useEffect(()=>{ge>dt&&Re(1)},[dt,ge]),s.jsxs("div",{className:"",children:[s.jsxs("div",{className:"glass-panel rounded-2xl p-4 mb-6 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(g2,{}),s.jsx("h3",{className:"text-lg font-semibold",children:"WhatsApp Connection"})]}),s.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${p==="connected"?"bg-emerald-100 text-emerald-700":p==="failed"?"bg-rose-100 text-rose-700":"bg-gray-100 text-gray-700"}`,children:p==="connected"?"Connected":"Disconnected"})]}),s.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(g2,{}),s.jsx("h3",{className:"text-lg font-semibold",children:"Integration Setup"})]}),s.jsxs("button",{className:"btn btn-primary",onClick:Gt,children:[s.jsx(PCe,{})," Test Connection"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Provider"}),s.jsxs("select",{className:"input-soft w-full",value:e,onChange:ut=>t(ut.target.value),children:[s.jsx("option",{children:"Meta API"}),s.jsx("option",{children:"Twilio"}),s.jsx("option",{children:"360Dialog"}),s.jsx("option",{children:"WATI"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Business Number"}),s.jsx("input",{className:"input-soft w-full",value:l,onChange:ut=>o(ut.target.value),placeholder:"e.g., +201234567890"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"API Key"}),s.jsx("input",{className:"input-soft w-full",value:a,onChange:ut=>r(ut.target.value),placeholder:"API Key"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"API Secret"}),s.jsx("input",{className:"input-soft w-full",value:n,onChange:ut=>i(ut.target.value),placeholder:"API Secret"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"WhatsApp Business ID"}),s.jsx("input",{className:"input-soft w-full",value:c,onChange:ut=>d(ut.target.value),placeholder:"Business ID"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Webhook URL"}),s.jsx("input",{className:"input-soft w-full",value:u,onChange:ut=>f(ut.target.value),placeholder:"https://example.com/webhook"})]})]}),v&&s.jsx("div",{className:`mt-4 text-sm px-3 py-2 rounded-md ${p==="connected"?"bg-emerald-100 text-emerald-700":"bg-rose-100 text-rose-700"}`,children:v})]}),s.jsx("div",{className:"h-6 md:h-8","aria-hidden":"true"}),s.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"WhatsApp Templates"}),s.jsx("button",{className:"btn btn-primary",onClick:Ae,children:"Add New Template"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full table-auto text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-800",children:[s.jsx("th",{className:"px-4 py-3 text-left",children:"Template Name"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Category"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Language"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Actions"})]})}),s.jsx("tbody",{children:k.length===0?s.jsx("tr",{children:s.jsx("td",{className:"px-4 py-4 text-center text-gray-500",colSpan:5,children:"No templates"})}):k.map(ut=>s.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-700",children:[s.jsx("td",{className:"px-4 py-2",children:ut.name}),s.jsx("td",{className:"px-4 py-2",children:ut.category}),s.jsx("td",{className:"px-4 py-2",children:ut.language}),s.jsx("td",{className:`px-4 py-2 font-medium ${ut.status==="Approved"?"text-emerald-600":ut.status==="Pending"?"text-amber-600":"text-rose-600"}`,children:ut.status}),s.jsxs("td",{className:"px-4 py-2 flex items-center gap-1",children:[s.jsxs("button",{className:"btn btn-glass btn-sm text-xs scale-90",onClick:()=>K(ut.body),children:[s.jsx(g2,{})," Preview"]}),s.jsx("button",{className:"btn btn-danger btn-sm text-xs scale-90",onClick:()=>We(ut),children:"Delete"})]})]},ut.id))})]})})]}),s.jsx("div",{className:"h-6 md:h-8","aria-hidden":"true"}),s.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Message Triggers"}),s.jsxs("div",{className:"text-sm text-[var(--muted-text)]",children:["Monthly messages: ",b]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{key:"registration",label:"New Registration"},{key:"payment",label:"Payment Confirmation"},{key:"expiry",label:"Subscription Expiry"},{key:"newNote",label:"New Note Added"}].map(ut=>s.jsxs("div",{className:"rounded-xl border border-gray-200 dark:border-gray-700 p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"font-medium",children:ut.label}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:!!Q[ut.key]?.enabled,onChange:ra=>Rt(ut.key,ra.target.checked)})," Enable"]})]}),s.jsxs("div",{className:"mt-3",children:[s.jsx("label",{className:"block text-sm mb-1",children:"Template"}),s.jsx("select",{className:"input-soft w-full",value:Q[ut.key]?.template,onChange:ra=>na(ut.key,ra.target.value),children:k.map(ra=>s.jsx("option",{value:ra.id,children:ra.name},ra.id))})]})]},ut.key))})]}),s.jsx("div",{className:"h-6 md:h-8","aria-hidden":"true"}),s.jsxs("div",{id:"test-wa",className:"glass-panel rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(DCe,{}),s.jsx("h3",{className:"text-lg font-semibold",children:"Test WhatsApp Message"})]}),s.jsx("button",{className:"btn btn-primary",onClick:pt,children:"Send Test Message"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Phone Number"}),s.jsx("input",{className:"input-soft w-full",value:X,onChange:ut=>le(ut.target.value),placeholder:"e.g., +201234567890"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Template"}),s.jsx("select",{className:"input-soft w-full",value:O,onChange:ut=>q(ut.target.value),children:k.map(ut=>s.jsx("option",{value:ut.id,children:ut.name},ut.id))})]})]}),W&&s.jsx("div",{className:`mt-4 text-sm px-3 py-2 rounded-md ${W.type==="success"?"bg-emerald-100 text-emerald-700":"bg-rose-100 text-rose-700"}`,children:W.message})]}),s.jsx("div",{className:"h-6 md:h-8","aria-hidden":"true"}),s.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(g2,{}),s.jsx("h3",{className:"text-lg font-semibold",children:"Logs"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{className:"input-soft",placeholder:"Search recipient",value:ce,onChange:ut=>G(ut.target.value)}),s.jsxs("select",{className:"input-soft",value:ie,onChange:ut=>ye(ut.target.value),children:[s.jsx("option",{children:"All"}),s.jsx("option",{children:"Delivered"}),s.jsx("option",{children:"Read"}),s.jsx("option",{children:"Failed"})]}),s.jsx("input",{type:"date",className:"input-soft",value:se,onChange:ut=>Ie(ut.target.value)}),s.jsx("input",{type:"date",className:"input-soft",value:pe,onChange:ut=>ae(ut.target.value)})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full table-auto text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-800",children:[s.jsx("th",{className:"px-4 py-3 text-left",children:"Recipient"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Template"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Date & Time"})]})}),s.jsx("tbody",{children:mt.length===0?s.jsx("tr",{children:s.jsx("td",{className:"px-4 py-4 text-center text-gray-500",colSpan:4,children:"No logs found"})}):mt.map(ut=>s.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-700",children:[s.jsx("td",{className:"px-4 py-2",children:ut.recipient}),s.jsx("td",{className:"px-4 py-2",children:ut.template}),s.jsx("td",{className:`px-4 py-2 font-medium ${ut.status==="Delivered"?"text-emerald-600":ut.status==="Read"?"text-blue-600":"text-rose-600"}`,children:ut.status}),s.jsx("td",{className:"px-4 py-2",children:ut.at})]},ut.id))})]})}),s.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[s.jsxs("div",{className:"text-xs text-[var(--muted-text)]",children:["Showing ",mt.length," of ",lt.length]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-glass btn-sm",disabled:ge===1,onClick:()=>Re(ut=>Math.max(1,ut-1)),children:"Prev"}),s.jsx("button",{className:"btn btn-glass btn-sm",disabled:ge===dt,onClick:()=>Re(ut=>Math.min(dt,ut+1)),children:"Next"})]})]})]}),s.jsx("div",{className:"h-6 md:h-8","aria-hidden":"true"}),s.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Auto Replies"}),s.jsx("button",{className:"btn btn-primary",onClick:()=>{qt(null),$t(""),Ke(""),ht("Active"),Ye(!0)},children:"Add New Auto Reply"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full table-auto text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-800",children:[s.jsx("th",{className:"px-4 py-3 text-left",children:"Keyword"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Auto Reply Message"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Actions"})]})}),s.jsx("tbody",{children:Z.length===0?s.jsx("tr",{children:s.jsx("td",{className:"px-4 py-4 text-center text-gray-500",colSpan:4,children:"No auto replies"})}):Z.map(ut=>s.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-700",children:[s.jsx("td",{className:"px-4 py-2",children:ut.keyword}),s.jsx("td",{className:"px-4 py-2",children:ut.message}),s.jsx("td",{className:`px-4 py-2 font-medium ${ut.status==="Active"?"text-emerald-600":"text-rose-600"}`,children:ut.status}),s.jsxs("td",{className:"px-4 py-2 flex items-center gap-1",children:[s.jsx("button",{className:"btn btn-glass btn-sm text-xs scale-90",onClick:()=>{qt(ut),$t(ut.keyword),Ke(ut.message),ht(ut.status),Ye(!0)},children:"Edit"}),s.jsx("button",{className:"btn btn-danger btn-sm text-xs scale-90",onClick:()=>Se(ra=>ra.filter(Aa=>Aa.id!==ut.id)),children:"Delete"})]})]},ut.id))})]})})]}),s.jsx(G3,{open:N,title:_?"Edit Template":"Add New Template",onClose:()=>A(!1),onConfirm:Tt,confirmText:"Save Template",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Template Name"}),s.jsx("input",{className:"input-soft w-full",value:D,onChange:ut=>R(ut.target.value),placeholder:"e.g., Payment Confirmation"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Category"}),s.jsxs("select",{className:"input-soft w-full",value:I,onChange:ut=>M(ut.target.value),children:[s.jsx("option",{children:"Marketing"}),s.jsx("option",{children:"Utility"}),s.jsx("option",{children:"Authentication"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Language"}),s.jsxs("select",{className:"input-soft w-full",value:U,onChange:ut=>P(ut.target.value),children:[s.jsx("option",{children:"en"}),s.jsx("option",{children:"ar"}),s.jsx("option",{children:"fr"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Body Message"}),s.jsx("textarea",{className:"input-soft w-full h-32",value:F,onChange:ut=>K(ut.target.value),placeholder:"Hi {{name}}, your verification code is {{otp}}."}),s.jsxs("div",{className:"text-xs text-[var(--muted-text)] mt-1",children:["Supports placeholders like ","{{name}}",", ","{{amount}}",", ","{{date}}",", ","{{otp}}","."]})]})]})}),s.jsx(G3,{open:V.open,title:"Confirm Delete",onClose:()=>J({open:!1,tpl:null}),onConfirm:Ot,confirmText:"Delete",children:s.jsxs("p",{className:"text-sm",children:["Are you sure you want to delete template ",s.jsx("span",{className:"font-semibold",children:V.tpl?.name}),"?"]})}),s.jsx(G3,{open:Ne,title:gt?"Edit Auto Reply":"Add New Auto Reply",onClose:()=>Ye(!1),onConfirm:()=>{const ut=at.trim(),ra=ze.trim();if(!ut||!ra){Mt({type:"error",message:"Please fill all fields."}),setTimeout(()=>Mt(null),2e3);return}if(gt)Se(Aa=>Aa.map(ua=>ua.id===gt.id?{...ua,keyword:ut,message:ra,status:Ze}:ua));else{const Aa="ar-"+ut.toLowerCase().replace(/\s+/g,"-")+"-"+Math.random().toString(36).slice(2);Se(ua=>[{id:Aa,keyword:ut,message:ra,status:Ze},...ua])}Ye(!1),Mt({type:"success",message:"Auto reply saved."}),setTimeout(()=>Mt(null),2e3)},confirmText:"Save",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Keyword"}),s.jsx("input",{className:"input-soft w-full",value:at,onChange:ut=>$t(ut.target.value),placeholder:"e.g., hello"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Auto Reply Message"}),s.jsx("textarea",{className:"input-soft w-full h-28",value:ze,onChange:ut=>Ke(ut.target.value),placeholder:"Hello! How can we help you?"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Status"}),s.jsxs("select",{className:"input-soft w-full",value:Ze,onChange:ut=>ht(ut.target.value),children:[s.jsx("option",{children:"Active"}),s.jsx("option",{children:"Inactive"})]})]})]})}),At&&s.jsx("div",{className:`fixed top-4 right-4 z-50 px-3 py-2 rounded-lg shadow-lg ${At.type==="success"?"bg-emerald-600 text-white":"bg-rose-600 text-white"}`,children:At.message})]})}function LCe(){const{t:e}=St(),t=()=>{const a=new Event("save-wa-settings");window.dispatchEvent(a)};return s.jsx(_r,{title:e("WhatsApp Settings"),children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold",children:e("WhatsApp Settings")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-primary",onClick:t,children:e("Save Changes")}),s.jsx("a",{href:"#test-wa",className:"btn btn-glass",children:e("Test Connection")})]})]}),s.jsx(MCe,{})]})})}function OCe(){return s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsx("h1",{className:"text-xl font-semibold mb-3",children:"Payment Gateway Integration"}),s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:"Setup payment gateway providers."})]})}function RCe(){return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsx("h1",{className:"text-xl font-semibold mb-3",children:"Google / Slack Integrations"}),s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:"Configure Google Workspace and Slack integrations."})]})})}function FCe(){const{t:e}=St(),[t,a]=y.useState(null),[r,n]=y.useState("customers"),[i,l]=y.useState(!0),[o,c]=y.useState(!1),[d,u]=y.useState("idle"),[f,p]=y.useState(1),[m,v]=y.useState([]),[g,b]=y.useState([]),[j,k]=y.useState({}),[S,N]=y.useState(null),A=y.useRef(null),_=y.useMemo(()=>["text/csv","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],[]),E=y.useMemo(()=>({customers:["id","name","phone","email","status"],leads:["id","name","phone","source","status"],products:["id","name","sku","price","stock"],users:["id","name","email","role"],projects:["id","name","city","status"],properties:["id","type","area","price"]}),[]),D=async P=>{const F=await P.arrayBuffer(),K=Bf(F,{type:"array"}),V=K.SheetNames[0],J=K.Sheets[V],Q=sa.sheet_to_json(J,{header:i?1:0});let z=[],X=[];if(i)z=(Q[0]||[]).map(O=>String(O||"").trim()),X=(Q.slice(1)||[]).map(O=>{const q={};return z.forEach((W,te)=>{q[W]=O[te]}),q});else{const O=Math.max(...Q.map(q=>q.length));z=Array.from({length:O},(q,W)=>`C${W+1}`),X=Q.map(q=>{const W={};return z.forEach((te,re)=>{W[te]=q[re]}),W})}v(z),b(X);const le={};z.forEach((O,q)=>{le[O]=E[r][q]||""}),k(le),p(2)},R=y.useCallback(async P=>{if(P){if(!(_.includes(P.type)||P.name.endsWith(".csv")||P.name.endsWith(".xlsx"))){u("error");return}if(P.size>10*1024*1024){u("error");return}a(P),u("idle"),await D(P)}},[_,i,r]),I=P=>{P.preventDefault();const F=P.dataTransfer?.files?.[0];R(F)},M=async()=>{try{u("processing");const P=await Sa.post("/api/import",{module:r,rows:g,mapping:j,updateExisting:o});N(P.data),u("success"),p(4)}catch{u("error")}},U=()=>{a(null),v([]),b([]),k({}),N(null),u("idle"),p(1)};return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-semibold",children:e("Import Data")}),s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:e("import.uploadDescription")})]})}),s.jsx("div",{className:"flex gap-2 text-xs",children:[1,2,3,4].map(P=>s.jsx("div",{className:`px-2 py-1 rounded ${f===P?"bg-blue-600 text-white":"bg-gray-700 text-gray-200"}`,children:e(P===1?"Upload":P===2?"Preview":P===3?"Mapping":"Summary")},P))}),f===1&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"glass-panel rounded-2xl p-5",children:[s.jsx("h3",{className:"text-base font-semibold mb-3",children:e("import.uploadFile")}),s.jsx("div",{onDragOver:P=>P.preventDefault(),onDrop:I,className:"border-2 border-dashed border-gray-500/40 rounded-xl p-6 text-center hover:border-blue-500/60 transition",children:t?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"text-sm",children:[t.name,"  ",(t.size/1024).toFixed(1)," KB"]}),s.jsx("div",{className:"flex items-center justify-center gap-3",children:s.jsx("button",{className:"px-3 py-2 rounded-lg bg-gray-700 text-white",onClick:U,children:e("Remove")})})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-sm mb-2",children:e("import.dropHint")}),s.jsx("button",{className:"px-3 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700",onClick:()=>A.current?.click(),children:e("import.chooseFile")}),s.jsx("input",{ref:A,type:"file",accept:".csv,.xlsx",className:"hidden",onChange:P=>R(P.target.files?.[0])})]})}),s.jsx("div",{className:"mt-3 text-xs text-[var(--muted-text)]",children:e("import.supportedFormats")})]}),s.jsxs("div",{className:"glass-panel rounded-2xl p-5 space-y-3",children:[s.jsx("h3",{className:"text-base font-semibold",children:e("Settings")}),s.jsx("label",{className:"block text-sm",children:e("import.target")}),s.jsxs("select",{value:r,onChange:P=>n(P.target.value),className:"input-soft w-full",children:[s.jsx("option",{value:"customers",children:e("Customers")}),s.jsx("option",{value:"leads",children:e("Leads")}),s.jsx("option",{value:"products",children:e("Products")}),s.jsx("option",{value:"users",children:e("Users")}),s.jsx("option",{value:"projects",children:e("Projects")}),s.jsx("option",{value:"properties",children:e("Properties")})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx("input",{id:"hasHeader",type:"checkbox",checked:i,onChange:P=>l(P.target.checked)}),s.jsx("label",{htmlFor:"hasHeader",className:"text-sm",children:e("import.hasHeader")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"updateExisting",type:"checkbox",checked:o,onChange:P=>c(P.target.checked)}),s.jsx("label",{htmlFor:"updateExisting",className:"text-sm",children:e("import.updateExisting")})]}),s.jsxs("div",{className:"pt-2 flex items-center gap-3",children:[s.jsx("button",{disabled:!t,onClick:()=>p(2),className:`px-3 py-2 rounded-lg ${t?"bg-green-600 hover:bg-green-700":"bg-gray-600 cursor-not-allowed"} text-white`,children:e("Next")}),d==="error"&&s.jsx("span",{className:"text-sm text-red-400",children:e("import.unsupportedType")})]})]})]}),f===2&&s.jsxs("div",{className:"glass-panel rounded-2xl p-5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-base font-semibold",children:e("Preview")}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"px-3 py-2 rounded bg-gray-700 text-white",onClick:()=>p(1),children:e("Back")}),s.jsx("button",{className:"px-3 py-2 rounded bg-blue-600 text-white",onClick:()=>p(3),children:e("Next")})]})]}),s.jsx("div",{className:"overflow-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsx("tr",{children:m.map(P=>s.jsx("th",{className:"px-3 py-2 text-left",children:P},P))})}),s.jsx("tbody",{children:g.slice(0,20).map((P,F)=>s.jsx("tr",{className:"border-t border-gray-700/40",children:m.map(K=>s.jsx("td",{className:"px-3 py-2",children:String(P[K]??"")},K))},F))})]})})]}),f===3&&s.jsxs("div",{className:"glass-panel rounded-2xl p-5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-base font-semibold",children:e("Mapping")}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"px-3 py-2 rounded bg-gray-700 text-white",onClick:()=>p(2),children:e("Back")}),s.jsx("button",{className:"px-3 py-2 rounded bg-green-600 text-white",onClick:M,children:e("Confirm Import")})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:m.map(P=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"w-1/2",children:[s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:e("Column")}),s.jsx("div",{className:"text-sm",children:P})]}),s.jsxs("div",{className:"w-1/2",children:[s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:e("Map to field")}),s.jsxs("select",{value:j[P]||"",onChange:F=>k(K=>({...K,[P]:F.target.value})),className:"input-soft w-full",children:[s.jsx("option",{value:"",children:""}),(E[r]||[]).map(F=>s.jsx("option",{value:F,children:F},F))]})]})]},P))})]}),f===4&&s.jsxs("div",{className:"glass-panel rounded-2xl p-5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-base font-semibold",children:e("Summary")}),s.jsx("div",{className:"flex gap-2",children:s.jsx("button",{className:"px-3 py-2 rounded bg-gray-700 text-white",onClick:U,children:e("Start New")})})]}),d==="processing"&&s.jsx("span",{className:"text-sm text-blue-400",children:e("import.processing")}),d==="error"&&s.jsx("span",{className:"text-sm text-red-400",children:e("Error")}),S&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:e("New Records")}),s.jsx("div",{className:"text-2xl font-semibold",children:S.newRecords})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:e("Updated Records")}),s.jsx("div",{className:"text-2xl font-semibold",children:S.updatedRecords})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:e("Failed Rows")}),s.jsx("div",{className:"text-2xl font-semibold",children:S.failedCount})]})]})]}),s.jsxs("div",{className:"glass-panel rounded-2xl p-5",children:[s.jsx("h3",{className:"text-base font-semibold mb-2",children:e("import.formatGuidelines")}),s.jsxs("ul",{className:"text-sm list-disc pl-5 space-y-1 text-[var(--muted-text)]",children:[s.jsx("li",{children:e("import.guidelineUtf8")}),s.jsx("li",{children:e("import.guidelineColumns")}),s.jsx("li",{children:e("import.guidelineHeaders")})]})]})]})})}function ICe(){const[e,t]=y.useState("customers"),[a,r]=y.useState("csv"),[n,i]=y.useState("idle"),[l,o]=y.useState(!1),[c,d]=y.useState(""),[u,f]=y.useState(""),[p,m]=y.useState("all"),[v,g]=y.useState(""),[b,j]=y.useState(""),k=async()=>{try{i("processing"),j("");const S={dateFrom:c,dateTo:u,status:p,assignedTo:v},N=await Sa.post("/api/export",{module:e,format:a,filters:S}),{url:A}=N.data||{};A&&(j(A),window.open(A,"_blank")),i("success")}catch{i("error")}};return s.jsx(_r,{title:"Export",children:s.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-semibold",children:"Export Data"}),s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:"     CSV/XLSX."})]}),s.jsxs("div",{className:"glass-panel rounded-2xl p-5 space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Dataset"}),s.jsxs("select",{value:e,onChange:S=>t(S.target.value),className:"input-soft w-full",children:[s.jsx("option",{value:"customers",children:"Customers"}),s.jsx("option",{value:"leads",children:"Leads"}),s.jsx("option",{value:"products",children:"Products"}),s.jsx("option",{value:"users",children:"Users"}),s.jsx("option",{value:"projects",children:"Projects"}),s.jsx("option",{value:"properties",children:"Properties"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Format"}),s.jsxs("select",{value:a,onChange:S=>r(S.target.value),className:"input-soft w-[200px]",children:[s.jsx("option",{value:"csv",children:"CSV"}),s.jsx("option",{value:"xlsx",children:"XLSX"})]})]}),s.jsx("div",{children:s.jsx("button",{className:"text-xs text-blue-400",onClick:()=>o(S=>!S),children:l?"Hide Export Options":"Show Export Options"})}),l&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Date From"}),s.jsx("input",{type:"date",value:c,onChange:S=>d(S.target.value),className:"input-soft w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Date To"}),s.jsx("input",{type:"date",value:u,onChange:S=>f(S.target.value),className:"input-soft w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Status"}),s.jsxs("select",{value:p,onChange:S=>m(S.target.value),className:"input-soft w-full",children:[s.jsx("option",{value:"all",children:"All"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"}),s.jsx("option",{value:"new",children:"New"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Assigned User/Team"}),s.jsx("input",{type:"text",placeholder:"e.g. Ahmed / Team A",value:v,onChange:S=>g(S.target.value),className:"input-soft w-full"})]})]}),s.jsxs("div",{className:"pt-2 flex items-center gap-3",children:[s.jsx("button",{onClick:k,className:"px-3 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700",children:""}),n==="processing"&&s.jsx("span",{className:"text-sm text-blue-400",children:" ..."}),n==="success"&&s.jsx("span",{className:"text-sm text-green-400",children:"  ."}),n==="error"&&s.jsx("span",{className:"text-sm text-red-400",children:"   ."}),b&&s.jsx("a",{href:b,target:"_blank",rel:"noreferrer",className:"text-xs text-blue-300 underline",children:" "})]})]})]})})}function BCe(){const[e,t]=y.useState([]),[a,r]=y.useState(!1),[n,i]=y.useState({frequency:"daily",time:"02:00"}),[l,o]=y.useState(!1),c=async()=>{try{const p=await Sa.get("/api/backups");t(p.data.items||[])}catch{}};y.useEffect(()=>{c()},[]);const d=async()=>{try{r(!0);const m=(await Sa.post("/api/backups",{name:"full-backup"})).data.item;t(v=>[m,...v])}catch{}r(!1)},u=async p=>{try{await Sa.delete(`/api/backups/${p}`),t(m=>m.filter(v=>v.id!==p))}catch{}},f=async()=>{try{o(!0),await Sa.post("/api/backups/schedule",n)}catch{}o(!1)};return s.jsx(_r,{title:"Backup Management",children:s.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-semibold",children:"Backup Management"}),s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:"        ."})]}),s.jsx("button",{onClick:d,disabled:a,className:`px-3 py-2 rounded-lg ${a?"bg-gray-600":"bg-green-600 hover:bg-green-700"} text-white`,children:a?"Generating":"Generate Full Backup"})]}),s.jsxs("div",{className:"glass-panel rounded-2xl p-5",children:[s.jsx("h3",{className:"text-base font-semibold mb-3",children:"Available Backups"}),e.length===0?s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:"No backups yet."}):s.jsx("div",{className:"overflow-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left",children:"Name"}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Date"}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Size"}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Actions"})]})}),s.jsx("tbody",{children:e.map(p=>s.jsxs("tr",{className:"border-t border-gray-700/40",children:[s.jsx("td",{className:"px-3 py-2",children:p.name}),s.jsx("td",{className:"px-3 py-2",children:new Date(p.date).toLocaleString()}),s.jsxs("td",{className:"px-3 py-2",children:[Math.round((p.size||0)/1024)," KB"]}),s.jsxs("td",{className:"px-3 py-2 flex gap-2",children:[s.jsx("a",{href:p.url,target:"_blank",rel:"noreferrer",className:"text-blue-400 underline",children:"Download"}),s.jsx("button",{onClick:()=>u(p.id),className:"text-red-400",children:"Delete"})]})]},p.id))})]})})]}),s.jsxs("div",{className:"glass-panel rounded-2xl p-5",children:[s.jsx("h3",{className:"text-base font-semibold mb-3",children:"Scheduled Backups"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Frequency"}),s.jsxs("select",{value:n.frequency,onChange:p=>i(m=>({...m,frequency:p.target.value})),className:"input-soft w-full",children:[s.jsx("option",{value:"daily",children:"Daily"}),s.jsx("option",{value:"weekly",children:"Weekly"}),s.jsx("option",{value:"monthly",children:"Monthly"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Time"}),s.jsx("input",{type:"time",value:n.time,onChange:p=>i(m=>({...m,time:p.target.value})),className:"input-soft w-full"})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{onClick:f,disabled:l,className:`px-3 py-2 rounded-lg ${l?"bg-gray-600":"bg-blue-600 hover:bg-blue-700"} text-white`,children:"Save Schedule"})})]})]})]})})}const v2=["Leads","CIL","Brokers","Clients","Orders","Marketing","Reports"],K3=["OnLoad","OnSave","OnChange"];function $Ce({value:e,onChange:t}){return s.jsx("textarea",{className:"w-full h-56 md:h-64 text-sm font-mono bg-gray-900 text-gray-100 p-3 rounded-xl border border-gray-800 outline-none resize-y focus:ring-2 focus:ring-indigo-500/50",value:e,onChange:a=>t(a.target.value),placeholder:`// JavaScript
// Use context objects like lead, currentUser, preventSave()`,spellCheck:!1})}function s9(e){try{let t=String(e||"");return t=t.replace(/javascript:/gi,""),t}catch{return String(e||"")}}function UCe(){const{t:e}=St(),[t,a]=y.useState(()=>{try{return JSON.parse(localStorage.getItem("crm.scripts")||"[]")}catch{return[]}}),[r,n]=y.useState(""),[i,l]=y.useState(""),[o,c]=y.useState(""),[d,u]=y.useState(!1),[f,p]=y.useState(null),[m,v]=y.useState(null),[g,b]=y.useState(!1);y.useEffect(()=>{const _=()=>{p({id:null,name:"",module:v2[0],trigger:K3[0],description:"",code:"",status:"Active"}),u(!0)};return window.addEventListener("open-add-script-modal",_),()=>window.removeEventListener("open-add-script-modal",_)},[]);const j=y.useMemo(()=>t.filter(_=>!i||_.module===i).filter(_=>!o||_.status===o).filter(_=>!r||_.name?.toLowerCase().includes(r.toLowerCase())||_.description?.toLowerCase().includes(r.toLowerCase())).sort((_,E)=>new Date(E.updated_at||E.created_at||0)-new Date(_.updated_at||_.created_at||0)),[t,r,i,o]),k=_=>{a(E=>{const D=E.filter(R=>R.id!==_);try{localStorage.setItem("crm.scripts",JSON.stringify(D))}catch{}return D})},S=_=>{p({..._}),u(!0)},N=_=>v(_),A=()=>{if(!f)return;const _=new Date().toISOString(),E={...f};E.code=s9(E.code),E.id||(E.id="scr_"+Date.now(),E.created_at=_),E.updated_at=_,E.updated_by="Admin",a(D=>{const I=D.some(M=>M.id===E.id)?D.map(M=>M.id===E.id?E:M):[E,...D];try{localStorage.setItem("crm.scripts",JSON.stringify(I))}catch{}return I}),b(!0),setTimeout(()=>b(!1),1800),u(!1)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsx("input",{className:"input",placeholder:e("Search by name or description"),value:r,onChange:_=>n(_.target.value)}),s.jsxs("select",{className:"input",value:i,onChange:_=>l(_.target.value),children:[s.jsx("option",{value:"",children:e("All Modules")}),v2.map(_=>s.jsx("option",{value:_,children:e(_)},_))]}),s.jsxs("select",{className:"input",value:o,onChange:_=>c(_.target.value),children:[s.jsx("option",{value:"",children:e("All Status")}),s.jsx("option",{value:"Active",children:e("Active")}),s.jsx("option",{value:"Inactive",children:e("Inactive")})]}),s.jsx("button",{className:"btn btn-secondary btn-sm ml-auto",onClick:()=>{p({id:null,name:"",module:v2[0],trigger:K3[0],description:"",code:"",status:"Active"}),u(!0)},children:e("Add New Script")}),g&&s.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[s.jsx("span",{children:""}),s.jsx("span",{className:"text-sm",children:e("Saved successfully")})]})]}),s.jsx("div",{className:"rounded-2xl border border-gray-200 dark:border-gray-700 overflow-hidden bg-white dark:bg-gray-900",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2 text-left",children:e("Script Name")}),s.jsx("th",{className:"px-4 py-2 text-left",children:e("Target Module")}),s.jsx("th",{className:"px-4 py-2 text-left",children:e("Trigger Type")}),s.jsx("th",{className:"px-4 py-2 text-left",children:e("Status")}),s.jsx("th",{className:"px-4 py-2 text-left",children:e("Last Modified")}),s.jsx("th",{className:"px-4 py-2 text-right",children:e("Actions")})]})}),s.jsxs("tbody",{children:[j.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-gray-500",children:e("No scripts found")})}),j.map(_=>s.jsxs("tr",{className:"border-t border-gray-100 dark:border-gray-800",children:[s.jsx("td",{className:"px-4 py-2",children:_.name}),s.jsx("td",{className:"px-4 py-2",children:e(_.module)}),s.jsx("td",{className:"px-4 py-2",children:e(_.trigger)}),s.jsx("td",{className:"px-4 py-2",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs ${_.status==="Active"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300"}`,children:e(_.status)})}),s.jsx("td",{className:"px-4 py-2",children:new Date(_.updated_at||_.created_at||Date.now()).toLocaleString()}),s.jsx("td",{className:"px-4 py-2 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{className:"btn btn-glass btn-sm",onClick:()=>N(_),children:e("Preview")}),s.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>S(_),children:e("Edit")}),s.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>k(_.id),children:e("Delete")})]})})]},_.id))]})]})}),d&&f&&s.jsxs("div",{className:"fixed inset-0 z-[100] flex items-start justify-center pt-20 md:pt-28",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>u(!1)}),s.jsxs("div",{className:"relative w-[96%] max-w-2xl bg-white dark:bg-gray-900 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-lg font-semibold",children:f?.id?e("Edit Script"):e("Add New Script")}),s.jsx("button",{className:"btn btn-glass btn-sm",onClick:()=>u(!1),children:e("Cancel")})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsxs("div",{className:"flex-1 min-w-[180px]",children:[s.jsx("label",{className:"label",children:e("Target Module")}),s.jsx("select",{className:"input bg-gray-100 dark:bg-gray-800",value:f.module,onChange:_=>p(E=>({...E,module:_.target.value})),children:v2.map(_=>s.jsx("option",{value:_,children:e(_)},_))})]}),s.jsxs("div",{className:"flex-1 min-w-[220px]",children:[s.jsx("label",{className:"label",children:e("Trigger Type")}),s.jsx("div",{className:"flex items-center gap-2 p-1 rounded-xl bg-gray-100 dark:bg-gray-800",children:K3.map(_=>s.jsx("button",{className:`px-3 py-1 rounded-lg text-sm ${f.trigger===_?"bg-indigo-600 text-white":"bg-transparent text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,onClick:()=>p(E=>({...E,trigger:_})),type:"button",children:e(_)},_))})]}),s.jsxs("div",{className:"min-w-[160px]",children:[s.jsx("label",{className:"label",children:e("Status")}),s.jsx("button",{type:"button",onClick:()=>p(_=>({..._,status:_.status==="Active"?"Inactive":"Active"})),className:`px-4 py-2 rounded-lg text-sm ${f.status==="Active"?"bg-green-600 text-white":"bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}`,children:e(f.status)})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Script Name")}),s.jsx("input",{className:"input",placeholder:e("Enter a concise script name"),value:f.name,onChange:_=>p(E=>({...E,name:_.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Description")}),s.jsx("textarea",{className:"input",rows:2,value:f.description,onChange:_=>p(E=>({...E,description:_.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Code")}),s.jsx($Ce,{value:f.code,onChange:_=>p(E=>({...E,code:_}))})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{className:"btn btn-primary btn-sm",disabled:!f.name?.trim(),onClick:A,children:e("Save")}),s.jsx("button",{className:"btn btn-glass btn-sm",onClick:()=>u(!1),children:e("Cancel")})]})]})]})]}),m&&s.jsxs("div",{className:"fixed inset-0 z-[90] flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>v(null)}),s.jsxs("div",{className:"relative w-[96%] h-[90vh] bg-white dark:bg-gray-900 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("strong",{children:e("Sandbox Preview")}),s.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[m.name,"  ",e(m.module),"  ",e(m.trigger)]})]}),s.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>v(null),children:e("Close")})]}),s.jsx("iframe",{title:"script-sandbox",className:"w-full h-full",srcDoc:`<!doctype html><html><head><meta charset="utf-8"><title>Sandbox</title></head><body>
                <div style="font-family: ui-sans-serif, system-ui; padding: 12px; color: #374151">
                  <h2 style="margin:0 0 8px">Preview: ${m.name}</h2>
                  <p style="margin:0 0 10px; color:#6b7280">Module: ${m.module}  Trigger: ${m.trigger}</p>
                  <pre style="padding:8px; border:1px solid #e5e7eb; border-radius:8px; background:#f9fafb">Open the console to see effects.</pre>
                </div>
                <script>
                  try {
                    window.sandboxContext = {
                      currentUser: { id: 'admin_1', role: 'Admin', name: 'Ibrahim' },
                      lead: { id: 'lead_001', name: 'Test Lead', phone: '' },
                      preventSave: function() { console.warn('preventSave() called'); alert('Save prevented by script.'); }
                    };
                    (function(context) {
                      ${s9(m.code)}
                    })(window.sandboxContext);
                  } catch (e) { console.error('Script error:', e); }
                <\/script>
              </body></html>`})]})]})]})}function zCe(){const{t:e}=St(),t=()=>{window.dispatchEvent(new Event("open-add-script-modal"))};return s.jsx(_r,{children:s.jsxs("div",{className:"p-3 sm:p-4 md:p-6 bg-[var(--content-bg)] text-[var(--content-text)] space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start justify-between gap-3",children:[s.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[s.jsx("div",{className:"w-1 h-6 sm:h-8 bg-gradient-to-b from-indigo-500 to-purple-600 rounded-full"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:e("Scripting Settings")}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 mt-1",children:e("Manage custom scripts and logic that control system behavior dynamically.")})]})]}),s.jsx("button",{className:"btn btn-secondary btn-sm w-full sm:w-auto",onClick:t,children:e("Add New Script")})]}),s.jsx(UCe,{})]})})}const qG="eoi.settings";async function HCe(){try{const e=await fetch("/api/eoi/settings");if(e.ok)return await e.json()||{}}catch{}try{const e=typeof window<"u"?window.localStorage.getItem(qG):null;if(e)return JSON.parse(e)}catch{}return QC()}async function r9(e){try{if((await fetch("/api/eoi/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)return!0}catch{}try{if(typeof window<"u")return window.localStorage.setItem(qG,JSON.stringify(e)),!0}catch{}return!1}function QC(){return{general:{enabled:!0,defaultStatus:"Pending",autoConvertToLead:!1,defaultBrokerId:"",linkToCil:!0,linkToSales:!0,workflow:[{key:"Pending",color:"#94a3b8"},{key:"Verified",color:"#22c55e"},{key:"Converted",color:"#3b82f6"},{key:"Closed",color:"#64748b"}],defaultWorkflowStatus:"Pending"},sources:[{id:"website",name:"Website",active:!0,requiresCil:!1,autoConvertToSales:!1,notes:""},{id:"broker",name:"Broker",active:!0,requiresCil:!0,autoConvertToSales:!0,notes:"Broker entries require CIL verification."},{id:"facebook_ads",name:"Facebook Ads",active:!0,requiresCil:!1,autoConvertToSales:!1,notes:""},{id:"manual",name:"Manual Entry",active:!0,requiresCil:!1,autoConvertToSales:!1,notes:""}],fields:[{key:"name",label:"Name",required:!0,type:"text",validation:"min:2"},{key:"phone",label:"Phone",required:!0,type:"phone",validation:"phone"},{key:"email",label:"Email",required:!1,type:"email",validation:"email"},{key:"budget",label:"Budget",required:!1,type:"number",validation:"min:0"},{key:"propertyType",label:"Property Type",required:!1,type:"select",validation:"",options:["Apartment","Villa","Townhouse"]},{key:"location",label:"Location",required:!1,type:"text",validation:""},{key:"notes",label:"Notes",required:!1,type:"textarea",validation:"max:1000"}],notifications:{recipients:["Admin"],methods:{email:!0,inApp:!0,sms:!1},messages:{newEoi:"New EOI received for {{name}}",convertedLead:"EOI converted to Lead: {{leadId}}",createdCil:"CIL record created for broker {{brokerId}}",salesOpportunity:"Sales Opportunity created: Stage {{stage}}"}},cilIntegration:{autoGenerateOnLead:!0,verificationRequired:!0,defaultStatus:"Pending",mapping:{brokerId:"eoi.broker",leadId:"lead.id",customerInfo:"eoi.customer_data"}},salesIntegration:{autoCreateOpportunity:!0,defaultStage:"New",defaultSalesRepId:"",valueMapping:"eoi.budget",notesMapping:"eoi.notes"}}}function VCe(){const{t:e,i18n:t}=St(),a=y.useMemo(()=>t.dir()==="rtl",[t]),[r,n]=y.useState(!0),[i,l]=y.useState(!1),[o,c]=y.useState(QC()),[d,u]=y.useState("general"),[f,p]=y.useState([{id:"b1",name:"Broker A"},{id:"b2",name:"Broker B"}]),[m,v]=y.useState([{id:"s1",name:"Sales Rep 1"},{id:"s2",name:"Sales Rep 2"}]);y.useEffect(()=>{let N=!0;return(async()=>{const A=await HCe();N&&(c(_=>({..._,...A})),n(!1))})(),()=>{N=!1}},[]);const g=[{key:"general",label:e("General")},{key:"sources",label:e("Sources")},{key:"fields",label:e("Fields")},{key:"notifications",label:e("Notifications")},{key:"cil",label:e("CIL Integration")},{key:"sales",label:e("Sales Integration")}],b=(N,A)=>{c(_=>{const E={..._},D=N.split(".");let R=E;for(let I=0;I<D.length-1;I++)R[D[I]]={...R[D[I]]},R=R[D[I]];return R[D[D.length-1]]=A,E})},j=async()=>{l(!0),await r9(o),l(!1)},k=async()=>{const N=QC();c(N),await r9(N)},S=(N,A)=>{c(_=>{const E=[..._.general.workflow],D=N+A;if(D<0||D>=E.length)return _;const[R]=E.splice(N,1);return E.splice(D,0,R),{..._,general:{..._.general,workflow:E}}})};return r?s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"text-[var(--muted-text)]",children:[e("Loading"),"..."]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(N=>s.jsx("button",{className:`btn btn-outline btn-sm ${d===N.key?"bg-primary text-white":""}`,onClick:()=>u(N.key),children:N.label},N.key))}),d==="general"&&s.jsxs("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Enable EOI System")}),s.jsx("input",{type:"checkbox",checked:o.general.enabled,onChange:N=>b("general.enabled",N.target.checked)})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Default Status")}),s.jsx("select",{className:"input",value:o.general.defaultStatus,onChange:N=>b("general.defaultStatus",N.target.value),children:["Pending","Approved","Rejected"].map(N=>s.jsx("option",{value:N,children:e(N)},N))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Auto-convert EOI to Lead")}),s.jsx("input",{type:"checkbox",checked:o.general.autoConvertToLead,onChange:N=>b("general.autoConvertToLead",N.target.checked)})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Default Assigned Broker")}),s.jsxs("select",{className:"input",value:o.general.defaultBrokerId,onChange:N=>b("general.defaultBrokerId",N.target.value),children:[s.jsx("option",{value:"",children:e("None")}),f.map(N=>s.jsx("option",{value:N.id,children:N.name},N.id))]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Link EOI to CIL Module")}),s.jsx("input",{type:"checkbox",checked:o.general.linkToCil,onChange:N=>b("general.linkToCil",N.target.checked)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Link EOI to Sales Module")}),s.jsx("input",{type:"checkbox",checked:o.general.linkToSales,onChange:N=>b("general.linkToSales",N.target.checked)})]})]}),s.jsxs("div",{className:"mt-2",children:[s.jsx("h3",{className:"text-base font-semibold mb-2",children:e("Workflow Settings")}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Default Workflow Status")}),s.jsx("select",{className:"input",value:o.general.defaultWorkflowStatus,onChange:N=>b("general.defaultWorkflowStatus",N.target.value),children:o.general.workflow.map(N=>s.jsx("option",{value:N.key,children:e(N.key)},N.key))})]})}),s.jsx("div",{className:"mt-3 space-y-2",children:o.general.workflow.map((N,A)=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"w-32",children:e(N.key)}),s.jsx("input",{type:"color",value:N.color,onChange:_=>{c(E=>{const D=E.general.workflow.map((R,I)=>I===A?{...R,color:_.target.value}:R);return{...E,general:{...E.general,workflow:D}}})}}),s.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-glass btn-xs",onClick:()=>S(A,-1),children:a?"":""}),s.jsx("button",{className:"btn btn-glass btn-xs",onClick:()=>S(A,1),children:a?"":""})]})]},N.key))})]})]}),d==="sources"&&s.jsx("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-4",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left",children:[s.jsx("th",{className:"p-2",children:e("Source Name")}),s.jsx("th",{className:"p-2",children:e("Active")}),s.jsx("th",{className:"p-2",children:e("Requires CIL")}),s.jsx("th",{className:"p-2",children:e("Auto Convert to Sales")}),s.jsx("th",{className:"p-2",children:e("Notes")})]})}),s.jsx("tbody",{children:o.sources.map((N,A)=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"p-2",children:e(N.name)}),s.jsx("td",{className:"p-2",children:s.jsx("input",{type:"checkbox",checked:N.active,onChange:_=>c(E=>{const D=[...E.sources];return D[A]={...N,active:_.target.checked},{...E,sources:D}})})}),s.jsx("td",{className:"p-2",children:s.jsx("input",{type:"checkbox",checked:N.requiresCil,onChange:_=>c(E=>{const D=[...E.sources];return D[A]={...N,requiresCil:_.target.checked},{...E,sources:D}})})}),s.jsx("td",{className:"p-2",children:s.jsx("input",{type:"checkbox",checked:N.autoConvertToSales,onChange:_=>c(E=>{const D=[...E.sources];return D[A]={...N,autoConvertToSales:_.target.checked},{...E,sources:D}})})}),s.jsx("td",{className:"p-2",children:s.jsx("input",{className:"input",value:N.notes,onChange:_=>c(E=>{const D=[...E.sources];return D[A]={...N,notes:_.target.value},{...E,sources:D}})})})]},N.id))})]})})}),d==="fields"&&s.jsxs("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-4",children:[o.fields.map((N,A)=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3 items-end",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Field")}),s.jsx("input",{className:"input",value:N.label,onChange:_=>c(E=>{const D=[...E.fields];return D[A]={...N,label:_.target.value},{...E,fields:D}})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Required")}),s.jsx("input",{type:"checkbox",checked:N.required,onChange:_=>c(E=>{const D=[...E.fields];return D[A]={...N,required:_.target.checked},{...E,fields:D}})})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Input Type")}),s.jsx("select",{className:"input",value:N.type,onChange:_=>c(E=>{const D=[...E.fields];return D[A]={...N,type:_.target.value},{...E,fields:D}}),children:["text","email","phone","number","select","textarea"].map(_=>s.jsx("option",{value:_,children:_},_))})]}),N.type==="select"?s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Options (comma separated)")}),s.jsx("input",{className:"input",value:(N.options||[]).join(", "),onChange:_=>c(E=>{const D=[...E.fields];return D[A]={...N,options:_.target.value.split(",").map(R=>R.trim()).filter(Boolean)},{...E,fields:D}})})]}):s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Validation Rule")}),s.jsx("input",{className:"input",value:N.validation||"",onChange:_=>c(E=>{const D=[...E.fields];return D[A]={...N,validation:_.target.value},{...E,fields:D}})})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>c(_=>({..._,fields:_.fields.filter((E,D)=>D!==A)})),children:e("Delete")})})]},N.key)),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>c(N=>({...N,fields:[...N.fields,{key:`field_${N.fields.length+1}`,label:"Custom Field",required:!1,type:"text",validation:""}]})),children:e("Add Field")})})]}),d==="notifications"&&s.jsxs("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Recipients")}),s.jsx("select",{multiple:!0,className:"input",value:o.notifications.recipients,onChange:N=>{const A=Array.from(N.target.selectedOptions).map(_=>_.value);b("notifications.recipients",A)},children:["Admin","Broker","Sales Manager","All"].map(N=>s.jsx("option",{value:N,children:e(N)},N))})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Methods")}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:o.notifications.methods.email,onChange:N=>b("notifications.methods",{...o.notifications.methods,email:N.target.checked})})," Email"]}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:o.notifications.methods.inApp,onChange:N=>b("notifications.methods",{...o.notifications.methods,inApp:N.target.checked})})," In-App"]}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:o.notifications.methods.sms,onChange:N=>b("notifications.methods",{...o.notifications.methods,sms:N.target.checked})})," SMS"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Message: New EOI")}),s.jsx("textarea",{className:"input h-24",value:o.notifications.messages.newEoi,onChange:N=>b("notifications.messages",{...o.notifications.messages,newEoi:N.target.value})})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Message: Converted to Lead")}),s.jsx("textarea",{className:"input h-24",value:o.notifications.messages.convertedLead,onChange:N=>b("notifications.messages",{...o.notifications.messages,convertedLead:N.target.value})})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Message: Created CIL")}),s.jsx("textarea",{className:"input h-24",value:o.notifications.messages.createdCil,onChange:N=>b("notifications.messages",{...o.notifications.messages,createdCil:N.target.value})})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Message: Sales Opportunity Generated")}),s.jsx("textarea",{className:"input h-24",value:o.notifications.messages.salesOpportunity,onChange:N=>b("notifications.messages",{...o.notifications.messages,salesOpportunity:N.target.value})})]})]})]}),d==="cil"&&s.jsxs("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Auto-generate CIL on Lead")}),s.jsx("input",{type:"checkbox",checked:o.cilIntegration.autoGenerateOnLead,onChange:N=>b("cilIntegration.autoGenerateOnLead",N.target.checked)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("CIL Verification Required Before Sale")}),s.jsx("input",{type:"checkbox",checked:o.cilIntegration.verificationRequired,onChange:N=>b("cilIntegration.verificationRequired",N.target.checked)})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Default CIL Status")}),s.jsx("select",{className:"input",value:o.cilIntegration.defaultStatus,onChange:N=>b("cilIntegration.defaultStatus",N.target.value),children:["Pending","Verified"].map(N=>s.jsx("option",{value:N,children:e(N)},N))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Mapping: Broker ID")}),s.jsx("input",{className:"input",value:o.cilIntegration.mapping.brokerId,onChange:N=>b("cilIntegration.mapping",{...o.cilIntegration.mapping,brokerId:N.target.value})})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Mapping: Lead ID")}),s.jsx("input",{className:"input",value:o.cilIntegration.mapping.leadId,onChange:N=>b("cilIntegration.mapping",{...o.cilIntegration.mapping,leadId:N.target.value})})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Mapping: Customer Info")}),s.jsx("input",{className:"input",value:o.cilIntegration.mapping.customerInfo,onChange:N=>b("cilIntegration.mapping",{...o.cilIntegration.mapping,customerInfo:N.target.value})})]})]})]}),d==="sales"&&s.jsxs("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Auto-create Sales Opportunity")}),s.jsx("input",{type:"checkbox",checked:o.salesIntegration.autoCreateOpportunity,onChange:N=>b("salesIntegration.autoCreateOpportunity",N.target.checked)})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Assign Default Sales Stage")}),s.jsx("select",{className:"input",value:o.salesIntegration.defaultStage,onChange:N=>b("salesIntegration.defaultStage",N.target.value),children:["New","Negotiation","Closed Won","Closed Lost"].map(N=>s.jsx("option",{value:N,children:e(N)},N))})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Auto-assign Sales Rep")}),s.jsxs("select",{className:"input",value:o.salesIntegration.defaultSalesRepId,onChange:N=>b("salesIntegration.defaultSalesRepId",N.target.value),children:[s.jsx("option",{value:"",children:e("None")}),m.map(N=>s.jsx("option",{value:N.id,children:N.name},N.id))]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Link EOI Budget  Opportunity Value")}),s.jsx("input",{className:"input",value:o.salesIntegration.valueMapping,onChange:N=>b("salesIntegration.valueMapping",N.target.value)})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Notes Mapping")}),s.jsx("input",{className:"input",value:o.salesIntegration.notesMapping,onChange:N=>b("salesIntegration.notesMapping",N.target.value)})]})]})]}),s.jsxs("div",{className:"sticky bottom-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur border-t p-4 flex items-center justify-end gap-2 rounded-t-2xl",children:[s.jsx("button",{className:"btn btn-glass",onClick:k,children:e("Reset to Default")}),s.jsx("button",{className:"btn btn-primary",onClick:j,disabled:i,children:e(i?"Saving...":"Save Changes")})]})]})}function WCe(){const{t:e}=St();return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"p-4 space-y-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:e("EOI Settings")}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e("Manage Expression of Interest and integration with CIL & Sales modules.")})]}),s.jsx("div",{className:"text-xs text-[var(--muted-text)] bg-gray-100 dark:bg-gray-800 px-3 py-1 rounded-full",children:e("Admin Only")})]}),s.jsx(VCe,{})]})})}const GG="reservation.settings";function ZC(){return{general:{enabled:!0,defaultStatus:"Pending",defaultDurationMin:30,defaultAssigneeId:"",timezone:"Africa/Cairo",workingHours:{mon:{enabled:!0,from:"09:00",to:"17:00"},tue:{enabled:!0,from:"09:00",to:"17:00"},wed:{enabled:!0,from:"09:00",to:"17:00"},thu:{enabled:!0,from:"09:00",to:"17:00"},fri:{enabled:!0,from:"10:00",to:"16:00"},sat:{enabled:!1,from:"00:00",to:"00:00"},sun:{enabled:!1,from:"00:00",to:"00:00"}}},sources:[{id:"website",name:"Website",enabled:!0,autoAssignId:""},{id:"app",name:"Mobile App",enabled:!0,autoAssignId:""},{id:"manual",name:"Manual Entry",enabled:!0,autoAssignId:""}],notifications:{recipients:{admin:!0,broker:!0,customer:!0},methods:{email:!0,sms:!1,inApp:!0},messages:{pending:"Reservation pending for {{customer}} at {{datetime}}",confirmed:"Reservation confirmed: {{datetime}}",completed:"Reservation completed, thank you!",cancelled:"Reservation cancelled. Contact us to reschedule."}},rules:{maxPerDayPerStaff:12,minNoticeMinutes:120,allowReschedule:!0,allowCancel:!0,autoConvertToLead:!1},integration:{eoiToLeadAutoReservation:!0,onCompleteTriggerSales:!0,onCompleteCreateCil:!1}}}async function qCe(){try{const e=await fetch("/api/reservation/settings");if(e.ok)return await e.json()}catch{}try{const e=typeof window<"u"?window.localStorage.getItem(GG):null;if(e)return JSON.parse(e)}catch{}return ZC()}async function n9(e){try{if((await fetch("/api/reservation/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)return!0}catch{}try{if(typeof window<"u")return window.localStorage.setItem(GG,JSON.stringify(e)),!0}catch{}return!1}function GCe(){const{t:e,i18n:t}=St();y.useMemo(()=>t.dir()==="rtl",[t]);const[a,r]=y.useState(!0),[n,i]=y.useState(!1),[l,o]=y.useState(ZC()),[c,d]=y.useState("general"),[u]=y.useState([{id:"st1",name:"Staff A"},{id:"st2",name:"Staff B"},{id:"bk1",name:"Broker X"}]);y.useEffect(()=>{let g=!0;return(async()=>{const b=await qCe();g&&(o(j=>({...j,...b})),r(!1))})(),()=>{g=!1}},[]);const f=[{key:"general",label:e("General Settings")},{key:"sources",label:e("Reservation Sources")},{key:"notifications",label:e("Notifications")},{key:"rules",label:e("Workflow & Rules")}],p=(g,b)=>{o(j=>{const k={...j},S=g.split(".");let N=k;for(let A=0;A<S.length-1;A++)N[S[A]]={...N[S[A]]},N=N[S[A]];return N[S[S.length-1]]=b,k})},m=async()=>{i(!0),await n9(l),i(!1)},v=async()=>{const g=ZC();o(g),await n9(g)};return a?s.jsxs("div",{className:"p-4 text-[var(--muted-text)]",children:[e("Loading"),"..."]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex flex-wrap gap-2",children:f.map(g=>s.jsx("button",{className:`btn btn-outline btn-sm ${c===g.key?"bg-primary text-white":""}`,onClick:()=>d(g.key),children:g.label},g.key))}),c==="general"&&s.jsxs("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Enable Reservation System")}),s.jsx("input",{type:"checkbox",checked:l.general.enabled,onChange:g=>p("general.enabled",g.target.checked)})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Default Reservation Status")}),s.jsx("select",{className:"input",value:l.general.defaultStatus,onChange:g=>p("general.defaultStatus",g.target.value),children:["Pending","Confirmed","Cancelled","Completed"].map(g=>s.jsx("option",{value:g,children:e(g)},g))})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Default Reservation Duration (min)")}),s.jsx("input",{type:"number",min:5,className:"input",value:l.general.defaultDurationMin,onChange:g=>p("general.defaultDurationMin",parseInt(g.target.value||"0",10))})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Default Assigned Staff / Broker")}),s.jsxs("select",{className:"input",value:l.general.defaultAssigneeId,onChange:g=>p("general.defaultAssigneeId",g.target.value),children:[s.jsx("option",{value:"",children:e("None")}),u.map(g=>s.jsx("option",{value:g.id,children:g.name},g.id))]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Timezone")}),s.jsx("input",{className:"input",value:l.general.timezone,onChange:g=>p("general.timezone",g.target.value)})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-base font-semibold mb-2",children:e("Working Hours")}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.entries(l.general.workingHours).map(([g,b])=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("label",{className:"w-24 capitalize",children:e(g)}),s.jsx("input",{type:"checkbox",checked:b.enabled,onChange:j=>o(k=>({...k,general:{...k.general,workingHours:{...k.general.workingHours,[g]:{...b,enabled:j.target.checked}}}}))}),s.jsx("input",{type:"time",className:"input",value:b.from,onChange:j=>o(k=>({...k,general:{...k.general,workingHours:{...k.general.workingHours,[g]:{...b,from:j.target.value}}}}))}),s.jsx("span",{children:""}),s.jsx("input",{type:"time",className:"input",value:b.to,onChange:j=>o(k=>({...k,general:{...k.general,workingHours:{...k.general.workingHours,[g]:{...b,to:j.target.value}}}}))})]},g))})]})]}),c==="sources"&&s.jsx("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-4",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left",children:[s.jsx("th",{className:"p-2",children:e("Source")}),s.jsx("th",{className:"p-2",children:e("Enabled")}),s.jsx("th",{className:"p-2",children:e("Auto-Assign Staff")})]})}),s.jsx("tbody",{children:l.sources.map((g,b)=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"p-2",children:e(g.name)}),s.jsx("td",{className:"p-2",children:s.jsx("input",{type:"checkbox",checked:g.enabled,onChange:j=>o(k=>{const S=[...k.sources];return S[b]={...g,enabled:j.target.checked},{...k,sources:S}})})}),s.jsx("td",{className:"p-2",children:s.jsxs("select",{className:"input",value:g.autoAssignId||"",onChange:j=>o(k=>{const S=[...k.sources];return S[b]={...g,autoAssignId:j.target.value},{...k,sources:S}}),children:[s.jsx("option",{value:"",children:e("None")}),u.map(j=>s.jsx("option",{value:j.id,children:j.name},j.id))]})})]},g.id))})]})})}),c==="notifications"&&s.jsxs("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-medium text-sm",children:e("Recipients")}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.notifications.recipients.admin,onChange:g=>p("notifications.recipients",{...l.notifications.recipients,admin:g.target.checked})})," Admin"]}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.notifications.recipients.broker,onChange:g=>p("notifications.recipients",{...l.notifications.recipients,broker:g.target.checked})})," Broker"]}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.notifications.recipients.customer,onChange:g=>p("notifications.recipients",{...l.notifications.recipients,customer:g.target.checked})})," Customer"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-medium text-sm",children:e("Methods")}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.notifications.methods.email,onChange:g=>p("notifications.methods",{...l.notifications.methods,email:g.target.checked})})," Email"]}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.notifications.methods.sms,onChange:g=>p("notifications.methods",{...l.notifications.methods,sms:g.target.checked})})," SMS"]}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.notifications.methods.inApp,onChange:g=>p("notifications.methods",{...l.notifications.methods,inApp:g.target.checked})})," In-App"]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:["pending","confirmed","completed","cancelled"].map(g=>s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e(`Message: ${g.charAt(0).toUpperCase()+g.slice(1)}`)}),s.jsx("textarea",{className:"input h-24",value:l.notifications.messages[g],onChange:b=>p("notifications.messages",{...l.notifications.messages,[g]:b.target.value})})]},g))})]}),c==="rules"&&s.jsxs("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Max Reservations Per Day / Staff")}),s.jsx("input",{type:"number",min:1,className:"input",value:l.rules.maxPerDayPerStaff,onChange:g=>p("rules.maxPerDayPerStaff",parseInt(g.target.value||"0",10))})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Minimum Notice Time (minutes)")}),s.jsx("input",{type:"number",min:0,className:"input",value:l.rules.minNoticeMinutes,onChange:g=>p("rules.minNoticeMinutes",parseInt(g.target.value||"0",10))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Allow Rescheduling")}),s.jsx("input",{type:"checkbox",checked:l.rules.allowReschedule,onChange:g=>p("rules.allowReschedule",g.target.checked)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Allow Cancellation")}),s.jsx("input",{type:"checkbox",checked:l.rules.allowCancel,onChange:g=>p("rules.allowCancel",g.target.checked)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Auto-Convert Reservation to Lead")}),s.jsx("input",{type:"checkbox",checked:l.rules.autoConvertToLead,onChange:g=>p("rules.autoConvertToLead",g.target.checked)})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("EOI  Lead  Auto Reservation")}),s.jsx("input",{type:"checkbox",checked:l.integration.eoiToLeadAutoReservation,onChange:g=>p("integration.eoiToLeadAutoReservation",g.target.checked)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("On Complete  Trigger Sales Opportunity")}),s.jsx("input",{type:"checkbox",checked:l.integration.onCompleteTriggerSales,onChange:g=>p("integration.onCompleteTriggerSales",g.target.checked)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("On Complete  Create CIL Record")}),s.jsx("input",{type:"checkbox",checked:l.integration.onCompleteCreateCil,onChange:g=>p("integration.onCompleteCreateCil",g.target.checked)})]})]})]}),s.jsxs("div",{className:"sticky bottom-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur border-t p-4 flex items-center justify-end gap-2 rounded-t-2xl",children:[s.jsx("button",{className:"btn btn-glass",onClick:v,children:e("Reset to Default")}),s.jsx("button",{className:"btn btn-primary",onClick:m,disabled:n,children:e(n?"Saving...":"Save Changes")})]})]})}function KCe(){const{t:e}=St();return s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold",children:e("Reservation Settings")}),s.jsx("span",{className:"text-xs px-2 py-1 rounded bg-gray-100 dark:bg-gray-800",children:e("Admin Only")})]}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e("Manage booking rules, notifications, and integration with EOI/Lead/CIL/Sales.")}),s.jsx(GCe,{})]})}const Xa=e=>typeof e=="string",av=()=>{let e,t;const a=new Promise((r,n)=>{e=r,t=n});return a.resolve=e,a.reject=t,a},i9=e=>e==null?"":""+e,YCe=(e,t,a)=>{e.forEach(r=>{t[r]&&(a[r]=t[r])})},XCe=/###/g,l9=e=>e&&e.indexOf("###")>-1?e.replace(XCe,"."):e,o9=e=>!e||Xa(e),Gv=(e,t,a)=>{const r=Xa(t)?t.split("."):t;let n=0;for(;n<r.length-1;){if(o9(e))return{};const i=l9(r[n]);!e[i]&&a&&(e[i]=new a),Object.prototype.hasOwnProperty.call(e,i)?e=e[i]:e={},++n}return o9(e)?{}:{obj:e,k:l9(r[n])}},c9=(e,t,a)=>{const{obj:r,k:n}=Gv(e,t,Object);if(r!==void 0||t.length===1){r[n]=a;return}let i=t[t.length-1],l=t.slice(0,t.length-1),o=Gv(e,l,Object);for(;o.obj===void 0&&l.length;)i=`${l[l.length-1]}.${i}`,l=l.slice(0,l.length-1),o=Gv(e,l,Object),o?.obj&&typeof o.obj[`${o.k}.${i}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${i}`]=a},JCe=(e,t,a,r)=>{const{obj:n,k:i}=Gv(e,t,Object);n[i]=n[i]||[],n[i].push(a)},Bw=(e,t)=>{const{obj:a,k:r}=Gv(e,t);if(a&&Object.prototype.hasOwnProperty.call(a,r))return a[r]},QCe=(e,t,a)=>{const r=Bw(e,a);return r!==void 0?r:Bw(t,a)},KG=(e,t,a)=>{for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?Xa(e[r])||e[r]instanceof String||Xa(t[r])||t[r]instanceof String?a&&(e[r]=t[r]):KG(e[r],t[r],a):e[r]=t[r]);return e},Ip=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var ZCe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const e6e=e=>Xa(e)?e.replace(/[&<>"'\/]/g,t=>ZCe[t]):e;class t6e{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const a=this.regExpMap.get(t);if(a!==void 0)return a;const r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}}const a6e=[" ",",","?","!",";"],s6e=new t6e(20),r6e=(e,t,a)=>{t=t||"",a=a||"";const r=a6e.filter(l=>t.indexOf(l)<0&&a.indexOf(l)<0);if(r.length===0)return!0;const n=s6e.getRegExp(`(${r.map(l=>l==="?"?"\\?":l).join("|")})`);let i=!n.test(e);if(!i){const l=e.indexOf(a);l>0&&!n.test(e.substring(0,l))&&(i=!0)}return i},e6=(e,t,a=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const r=t.split(a);let n=e;for(let i=0;i<r.length;){if(!n||typeof n!="object")return;let l,o="";for(let c=i;c<r.length;++c)if(c!==i&&(o+=a),o+=r[c],l=n[o],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&c<r.length-1)continue;i+=c-i+1;break}n=l}return n},_1=e=>e?.replace("_","-"),n6e={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}};class $w{constructor(t,a={}){this.init(t,a)}init(t,a={}){this.prefix=a.prefix||"i18next:",this.logger=t||n6e,this.options=a,this.debug=a.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,a,r,n){return n&&!this.debug?null:(Xa(t[0])&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[a](t))}create(t){return new $w(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new $w(this.logger,t)}}var uu=new $w;let gN=class{constructor(){this.observers={}}on(t,a){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const n=this.observers[r].get(a)||0;this.observers[r].set(a,n+1)}),this}off(t,a){if(this.observers[t]){if(!a){delete this.observers[t];return}this.observers[t].delete(a)}}emit(t,...a){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([n,i])=>{for(let l=0;l<i;l++)n(...a)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([n,i])=>{for(let l=0;l<i;l++)n.apply(n,[t,...a])})}};class d9 extends gN{constructor(t,a={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=a,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const a=this.options.ns.indexOf(t);a>-1&&this.options.ns.splice(a,1)}getResource(t,a,r,n={}){const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,l=n.ignoreJSONStructure!==void 0?n.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;t.indexOf(".")>-1?o=t.split("."):(o=[t,a],r&&(Array.isArray(r)?o.push(...r):Xa(r)&&i?o.push(...r.split(i)):o.push(r)));const c=Bw(this.data,o);return!c&&!a&&!r&&t.indexOf(".")>-1&&(t=o[0],a=o[1],r=o.slice(2).join(".")),c||!l||!Xa(r)?c:e6(this.data?.[t]?.[a],r,i)}addResource(t,a,r,n,i={silent:!1}){const l=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let o=[t,a];r&&(o=o.concat(l?r.split(l):r)),t.indexOf(".")>-1&&(o=t.split("."),n=a,a=o[1]),this.addNamespaces(a),c9(this.data,o,n),i.silent||this.emit("added",t,a,r,n)}addResources(t,a,r,n={silent:!1}){for(const i in r)(Xa(r[i])||Array.isArray(r[i]))&&this.addResource(t,a,i,r[i],{silent:!0});n.silent||this.emit("added",t,a,r)}addResourceBundle(t,a,r,n,i,l={silent:!1,skipCopy:!1}){let o=[t,a];t.indexOf(".")>-1&&(o=t.split("."),n=r,r=a,a=o[1]),this.addNamespaces(a);let c=Bw(this.data,o)||{};l.skipCopy||(r=JSON.parse(JSON.stringify(r))),n?KG(c,r,i):c={...c,...r},c9(this.data,o,c),l.silent||this.emit("added",t,a,r)}removeResourceBundle(t,a){this.hasResourceBundle(t,a)&&delete this.data[t][a],this.removeNamespaces(a),this.emit("removed",t,a)}hasResourceBundle(t,a){return this.getResource(t,a)!==void 0}getResourceBundle(t,a){return a||(a=this.options.defaultNS),this.getResource(t,a)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const a=this.getDataByLanguage(t);return!!(a&&Object.keys(a)||[]).find(n=>a[n]&&Object.keys(a[n]).length>0)}toJSON(){return this.data}}var YG={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,a,r,n){return e.forEach(i=>{t=this.processors[i]?.process(t,a,r,n)??t}),t}};const XG=Symbol("i18next/PATH_KEY");function i6e(){const e=[],t=Object.create(null);let a;return t.get=(r,n)=>(a?.revoke?.(),n===XG?e:(e.push(n),a=Proxy.revocable(r,t),a.proxy)),Proxy.revocable(Object.create(null),t).proxy}function t6(e,t){const{[XG]:a}=e(i6e());return a.join(t?.keySeparator??".")}const u9={},h9=e=>!Xa(e)&&typeof e!="boolean"&&typeof e!="number";class Uw extends gN{constructor(t,a={}){super(),YCe(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=a,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=uu.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,a={interpolation:{}}){const r={...a};return t==null?!1:this.resolve(t,r)?.res!==void 0}extractFromKey(t,a){let r=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const n=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let i=a.ns||this.options.defaultNS||[];const l=r&&t.indexOf(r)>-1,o=!this.options.userDefinedKeySeparator&&!a.keySeparator&&!this.options.userDefinedNsSeparator&&!a.nsSeparator&&!r6e(t,r,n);if(l&&!o){const c=t.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:t,namespaces:Xa(i)?[i]:i};const d=t.split(r);(r!==n||r===n&&this.options.ns.indexOf(d[0])>-1)&&(i=d.shift()),t=d.join(n)}return{key:t,namespaces:Xa(i)?[i]:i}}translate(t,a,r){let n=typeof a=="object"?{...a}:a;if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),t==null)return"";typeof t=="function"&&(t=t6(t,{...this.options,...n})),Array.isArray(t)||(t=[String(t)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,l=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:o,namespaces:c}=this.extractFromKey(t[t.length-1],n),d=c[c.length-1];let u=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;u===void 0&&(u=":");const f=n.lng||this.language,p=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(f?.toLowerCase()==="cimode")return p?i?{res:`${d}${u}${o}`,usedKey:o,exactUsedKey:o,usedLng:f,usedNS:d,usedParams:this.getUsedParamsDetails(n)}:`${d}${u}${o}`:i?{res:o,usedKey:o,exactUsedKey:o,usedLng:f,usedNS:d,usedParams:this.getUsedParamsDetails(n)}:o;const m=this.resolve(t,n);let v=m?.res;const g=m?.usedKey||o,b=m?.exactUsedKey||o,j=["[object Number]","[object Function]","[object RegExp]"],k=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,S=!this.i18nFormat||this.i18nFormat.handleAsObject,N=n.count!==void 0&&!Xa(n.count),A=Uw.hasDefaultValue(n),_=N?this.pluralResolver.getSuffix(f,n.count,n):"",E=n.ordinal&&N?this.pluralResolver.getSuffix(f,n.count,{ordinal:!1}):"",D=N&&!n.ordinal&&n.count===0,R=D&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${_}`]||n[`defaultValue${E}`]||n.defaultValue;let I=v;S&&!v&&A&&(I=R);const M=h9(I),U=Object.prototype.toString.apply(I);if(S&&I&&M&&j.indexOf(U)<0&&!(Xa(k)&&Array.isArray(I))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const P=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,I,{...n,ns:c}):`key '${o} (${this.language})' returned an object instead of string.`;return i?(m.res=P,m.usedParams=this.getUsedParamsDetails(n),m):P}if(l){const P=Array.isArray(I),F=P?[]:{},K=P?b:g;for(const V in I)if(Object.prototype.hasOwnProperty.call(I,V)){const J=`${K}${l}${V}`;A&&!v?F[V]=this.translate(J,{...n,defaultValue:h9(R)?R[V]:void 0,joinArrays:!1,ns:c}):F[V]=this.translate(J,{...n,joinArrays:!1,ns:c}),F[V]===J&&(F[V]=I[V])}v=F}}else if(S&&Xa(k)&&Array.isArray(v))v=v.join(k),v&&(v=this.extendTranslation(v,t,n,r));else{let P=!1,F=!1;!this.isValidLookup(v)&&A&&(P=!0,v=R),this.isValidLookup(v)||(F=!0,v=o);const V=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&F?void 0:v,J=A&&R!==v&&this.options.updateMissing;if(F||P||J){if(this.logger.log(J?"updateKey":"missingKey",f,d,o,J?R:v),l){const le=this.resolve(o,{...n,keySeparator:!1});le&&le.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Q=[];const z=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&z&&z[0])for(let le=0;le<z.length;le++)Q.push(z[le]);else this.options.saveMissingTo==="all"?Q=this.languageUtils.toResolveHierarchy(n.lng||this.language):Q.push(n.lng||this.language);const X=(le,O,q)=>{const W=A&&q!==v?q:V;this.options.missingKeyHandler?this.options.missingKeyHandler(le,d,O,W,J,n):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(le,d,O,W,J,n),this.emit("missingKey",le,d,O,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&N?Q.forEach(le=>{const O=this.pluralResolver.getSuffixes(le,n);D&&n[`defaultValue${this.options.pluralSeparator}zero`]&&O.indexOf(`${this.options.pluralSeparator}zero`)<0&&O.push(`${this.options.pluralSeparator}zero`),O.forEach(q=>{X([le],o+q,n[`defaultValue${q}`]||R)})}):X(Q,o,R))}v=this.extendTranslation(v,t,n,m,r),F&&v===o&&this.options.appendNamespaceToMissingKey&&(v=`${d}${u}${o}`),(F||P)&&this.options.parseMissingKeyHandler&&(v=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${d}${u}${o}`:o,P?v:void 0,n))}return i?(m.res=v,m.usedParams=this.getUsedParamsDetails(n),m):v}extendTranslation(t,a,r,n,i){if(this.i18nFormat?.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const c=Xa(t)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(c){const f=t.match(this.interpolator.nestingRegexp);d=f&&f.length}let u=r.replace&&!Xa(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(u={...this.options.interpolation.defaultVariables,...u}),t=this.interpolator.interpolate(t,u,r.lng||this.language||n.usedLng,r),c){const f=t.match(this.interpolator.nestingRegexp),p=f&&f.length;d<p&&(r.nest=!1)}!r.lng&&n&&n.res&&(r.lng=this.language||n.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,(...f)=>i?.[0]===f[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${f[0]} in key: ${a[0]}`),null):this.translate(...f,a),r)),r.interpolation&&this.interpolator.reset()}const l=r.postProcess||this.options.postProcess,o=Xa(l)?[l]:l;return t!=null&&o?.length&&r.applyPostProcessor!==!1&&(t=YG.handle(o,t,a,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...n,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),t}resolve(t,a={}){let r,n,i,l,o;return Xa(t)&&(t=[t]),t.forEach(c=>{if(this.isValidLookup(r))return;const d=this.extractFromKey(c,a),u=d.key;n=u;let f=d.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const p=a.count!==void 0&&!Xa(a.count),m=p&&!a.ordinal&&a.count===0,v=a.context!==void 0&&(Xa(a.context)||typeof a.context=="number")&&a.context!=="",g=a.lngs?a.lngs:this.languageUtils.toResolveHierarchy(a.lng||this.language,a.fallbackLng);f.forEach(b=>{this.isValidLookup(r)||(o=b,!u9[`${g[0]}-${b}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(o)&&(u9[`${g[0]}-${b}`]=!0,this.logger.warn(`key "${n}" for languages "${g.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach(j=>{if(this.isValidLookup(r))return;l=j;const k=[u];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(k,u,j,b,a);else{let N;p&&(N=this.pluralResolver.getSuffix(j,a.count,a));const A=`${this.options.pluralSeparator}zero`,_=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&(a.ordinal&&N.indexOf(_)===0&&k.push(u+N.replace(_,this.options.pluralSeparator)),k.push(u+N),m&&k.push(u+A)),v){const E=`${u}${this.options.contextSeparator||"_"}${a.context}`;k.push(E),p&&(a.ordinal&&N.indexOf(_)===0&&k.push(E+N.replace(_,this.options.pluralSeparator)),k.push(E+N),m&&k.push(E+A))}}let S;for(;S=k.pop();)this.isValidLookup(r)||(i=S,r=this.getResource(j,b,S,a))}))})}),{res:r,usedKey:n,exactUsedKey:i,usedLng:l,usedNS:o}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,a,r,n={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(t,a,r,n):this.resourceStore.getResource(t,a,r,n)}getUsedParamsDetails(t={}){const a=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&!Xa(t.replace);let n=r?t.replace:t;if(r&&typeof t.count<"u"&&(n.count=t.count),this.options.interpolation.defaultVariables&&(n={...this.options.interpolation.defaultVariables,...n}),!r){n={...n};for(const i of a)delete n[i]}return n}static hasDefaultValue(t){const a="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&a===r.substring(0,a.length)&&t[r]!==void 0)return!0;return!1}}class f9{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=uu.create("languageUtils")}getScriptPartFromCode(t){if(t=_1(t),!t||t.indexOf("-")<0)return null;const a=t.split("-");return a.length===2||(a.pop(),a[a.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(a.join("-"))}getLanguagePartFromCode(t){if(t=_1(t),!t||t.indexOf("-")<0)return t;const a=t.split("-");return this.formatLanguageCode(a[0])}formatLanguageCode(t){if(Xa(t)&&t.indexOf("-")>-1){let a;try{a=Intl.getCanonicalLocales(t)[0]}catch{}return a&&this.options.lowerCaseLng&&(a=a.toLowerCase()),a||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let a;return t.forEach(r=>{if(a)return;const n=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(n))&&(a=n)}),!a&&this.options.supportedLngs&&t.forEach(r=>{if(a)return;const n=this.getScriptPartFromCode(r);if(this.isSupportedCode(n))return a=n;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return a=i;a=this.options.supportedLngs.find(l=>{if(l===i)return l;if(!(l.indexOf("-")<0&&i.indexOf("-")<0)&&(l.indexOf("-")>0&&i.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===i||l.indexOf(i)===0&&i.length>1))return l})}),a||(a=this.getFallbackCodes(this.options.fallbackLng)[0]),a}getFallbackCodes(t,a){if(!t)return[];if(typeof t=="function"&&(t=t(a)),Xa(t)&&(t=[t]),Array.isArray(t))return t;if(!a)return t.default||[];let r=t[a];return r||(r=t[this.getScriptPartFromCode(a)]),r||(r=t[this.formatLanguageCode(a)]),r||(r=t[this.getLanguagePartFromCode(a)]),r||(r=t.default),r||[]}toResolveHierarchy(t,a){const r=this.getFallbackCodes((a===!1?[]:a)||this.options.fallbackLng||[],t),n=[],i=l=>{l&&(this.isSupportedCode(l)?n.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return Xa(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(t))):Xa(t)&&i(this.formatLanguageCode(t)),r.forEach(l=>{n.indexOf(l)<0&&i(this.formatLanguageCode(l))}),n}}const m9={zero:0,one:1,two:2,few:3,many:4,other:5},p9={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class l6e{constructor(t,a={}){this.languageUtils=t,this.options=a,this.logger=uu.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,a){this.rules[t]=a}clearCache(){this.pluralRulesCache={}}getRule(t,a={}){const r=_1(t==="dev"?"en":t),n=a.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:n});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let l;try{l=new Intl.PluralRules(r,{type:n})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),p9;if(!t.match(/-|_/))return p9;const c=this.languageUtils.getLanguagePartFromCode(t);l=this.getRule(c,a)}return this.pluralRulesCache[i]=l,l}needsPlural(t,a={}){let r=this.getRule(t,a);return r||(r=this.getRule("dev",a)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(t,a,r={}){return this.getSuffixes(t,r).map(n=>`${a}${n}`)}getSuffixes(t,a={}){let r=this.getRule(t,a);return r||(r=this.getRule("dev",a)),r?r.resolvedOptions().pluralCategories.sort((n,i)=>m9[n]-m9[i]).map(n=>`${this.options.prepend}${a.ordinal?`ordinal${this.options.prepend}`:""}${n}`):[]}getSuffix(t,a,r={}){const n=this.getRule(t,r);return n?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${n.select(a)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",a,r))}}const x9=(e,t,a,r=".",n=!0)=>{let i=QCe(e,t,a);return!i&&n&&Xa(a)&&(i=e6(e,a,r),i===void 0&&(i=e6(t,a,r))),i},Y3=e=>e.replace(/\$/g,"$$$$");class o6e{constructor(t={}){this.logger=uu.create("interpolator"),this.options=t,this.format=t?.interpolation?.format||(a=>a),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:a,escapeValue:r,useRawValueToEscape:n,prefix:i,prefixEscaped:l,suffix:o,suffixEscaped:c,formatSeparator:d,unescapeSuffix:u,unescapePrefix:f,nestingPrefix:p,nestingPrefixEscaped:m,nestingSuffix:v,nestingSuffixEscaped:g,nestingOptionsSeparator:b,maxReplaces:j,alwaysFormat:k}=t.interpolation;this.escape=a!==void 0?a:e6e,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=n!==void 0?n:!1,this.prefix=i?Ip(i):l||"{{",this.suffix=o?Ip(o):c||"}}",this.formatSeparator=d||",",this.unescapePrefix=u?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=p?Ip(p):m||Ip("$t("),this.nestingSuffix=v?Ip(v):g||Ip(")"),this.nestingOptionsSeparator=b||",",this.maxReplaces=j||1e3,this.alwaysFormat=k!==void 0?k:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(a,r)=>a?.source===r?(a.lastIndex=0,a):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,a,r,n){let i,l,o;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=m=>{if(m.indexOf(this.formatSeparator)<0){const j=x9(a,c,m,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(j,void 0,r,{...n,...a,interpolationkey:m}):j}const v=m.split(this.formatSeparator),g=v.shift().trim(),b=v.join(this.formatSeparator).trim();return this.format(x9(a,c,g,this.options.keySeparator,this.options.ignoreJSONStructure),b,r,{...n,...a,interpolationkey:g})};this.resetRegExp();const u=n?.missingInterpolationHandler||this.options.missingInterpolationHandler,f=n?.interpolation?.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:m=>Y3(m)},{regex:this.regexp,safeValue:m=>this.escapeValue?Y3(this.escape(m)):Y3(m)}].forEach(m=>{for(o=0;i=m.regex.exec(t);){const v=i[1].trim();if(l=d(v),l===void 0)if(typeof u=="function"){const b=u(t,i,n);l=Xa(b)?b:""}else if(n&&Object.prototype.hasOwnProperty.call(n,v))l="";else if(f){l=i[0];continue}else this.logger.warn(`missed to pass in variable ${v} for interpolating ${t}`),l="";else!Xa(l)&&!this.useRawValueToEscape&&(l=i9(l));const g=m.safeValue(l);if(t=t.replace(i[0],g),f?(m.regex.lastIndex+=l.length,m.regex.lastIndex-=i[0].length):m.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),t}nest(t,a,r={}){let n,i,l;const o=(c,d)=>{const u=this.nestingOptionsSeparator;if(c.indexOf(u)<0)return c;const f=c.split(new RegExp(`${u}[ ]*{`));let p=`{${f[1]}`;c=f[0],p=this.interpolate(p,l);const m=p.match(/'/g),v=p.match(/"/g);((m?.length??0)%2===0&&!v||v.length%2!==0)&&(p=p.replace(/'/g,'"'));try{l=JSON.parse(p),d&&(l={...d,...l})}catch(g){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,g),`${c}${u}${p}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,c};for(;n=this.nestingRegexp.exec(t);){let c=[];l={...r},l=l.replace&&!Xa(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;const d=/{.*}/.test(n[1])?n[1].lastIndexOf("}")+1:n[1].indexOf(this.formatSeparator);if(d!==-1&&(c=n[1].slice(d).split(this.formatSeparator).map(u=>u.trim()).filter(Boolean),n[1]=n[1].slice(0,d)),i=a(o.call(this,n[1].trim(),l),l),i&&n[0]===t&&!Xa(i))return i;Xa(i)||(i=i9(i)),i||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${t}`),i=""),c.length&&(i=c.reduce((u,f)=>this.format(u,f,r.lng,{...r,interpolationkey:n[1].trim()}),i.trim())),t=t.replace(n[0],i),this.regexp.lastIndex=0}return t}}const c6e=e=>{let t=e.toLowerCase().trim();const a={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const n=r[1].substring(0,r[1].length-1);t==="currency"&&n.indexOf(":")<0?a.currency||(a.currency=n.trim()):t==="relativetime"&&n.indexOf(":")<0?a.range||(a.range=n.trim()):n.split(";").forEach(l=>{if(l){const[o,...c]=l.split(":"),d=c.join(":").trim().replace(/^'+|'+$/g,""),u=o.trim();a[u]||(a[u]=d),d==="false"&&(a[u]=!1),d==="true"&&(a[u]=!0),isNaN(d)||(a[u]=parseInt(d,10))}})}return{formatName:t,formatOptions:a}},g9=e=>{const t={};return(a,r,n)=>{let i=n;n&&n.interpolationkey&&n.formatParams&&n.formatParams[n.interpolationkey]&&n[n.interpolationkey]&&(i={...i,[n.interpolationkey]:void 0});const l=r+JSON.stringify(i);let o=t[l];return o||(o=e(_1(r),n),t[l]=o),o(a)}},d6e=e=>(t,a,r)=>e(_1(a),r)(t);class u6e{constructor(t={}){this.logger=uu.create("formatter"),this.options=t,this.init(t)}init(t,a={interpolation:{}}){this.formatSeparator=a.interpolation.formatSeparator||",";const r=a.cacheInBuiltFormats?g9:d6e;this.formats={number:r((n,i)=>{const l=new Intl.NumberFormat(n,{...i});return o=>l.format(o)}),currency:r((n,i)=>{const l=new Intl.NumberFormat(n,{...i,style:"currency"});return o=>l.format(o)}),datetime:r((n,i)=>{const l=new Intl.DateTimeFormat(n,{...i});return o=>l.format(o)}),relativetime:r((n,i)=>{const l=new Intl.RelativeTimeFormat(n,{...i});return o=>l.format(o,i.range||"day")}),list:r((n,i)=>{const l=new Intl.ListFormat(n,{...i});return o=>l.format(o)})}}add(t,a){this.formats[t.toLowerCase().trim()]=a}addCached(t,a){this.formats[t.toLowerCase().trim()]=g9(a)}format(t,a,r,n={}){const i=a.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(o=>o.indexOf(")")>-1)){const o=i.findIndex(c=>c.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,o)].join(this.formatSeparator)}return i.reduce((o,c)=>{const{formatName:d,formatOptions:u}=c6e(c);if(this.formats[d]){let f=o;try{const p=n?.formatParams?.[n.interpolationkey]||{},m=p.locale||p.lng||n.locale||n.lng||r;f=this.formats[d](o,m,{...u,...n,...p})}catch(p){this.logger.warn(p)}return f}else this.logger.warn(`there was no format function for ${d}`);return o},t)}}const h6e=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class f6e extends gN{constructor(t,a,r,n={}){super(),this.backend=t,this.store=a,this.services=r,this.languageUtils=r.languageUtils,this.options=n,this.logger=uu.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=n.maxParallelReads||10,this.readingCalls=0,this.maxRetries=n.maxRetries>=0?n.maxRetries:5,this.retryTimeout=n.retryTimeout>=1?n.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,n.backend,n)}queueLoad(t,a,r,n){const i={},l={},o={},c={};return t.forEach(d=>{let u=!0;a.forEach(f=>{const p=`${d}|${f}`;!r.reload&&this.store.hasResourceBundle(d,f)?this.state[p]=2:this.state[p]<0||(this.state[p]===1?l[p]===void 0&&(l[p]=!0):(this.state[p]=1,u=!1,l[p]===void 0&&(l[p]=!0),i[p]===void 0&&(i[p]=!0),c[f]===void 0&&(c[f]=!0)))}),u||(o[d]=!0)}),(Object.keys(i).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(i),pending:Object.keys(l),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(c)}}loaded(t,a,r){const n=t.split("|"),i=n[0],l=n[1];a&&this.emit("failedLoading",i,l,a),!a&&r&&this.store.addResourceBundle(i,l,r,void 0,void 0,{skipCopy:!0}),this.state[t]=a?-1:2,a&&r&&(this.state[t]=0);const o={};this.queue.forEach(c=>{JCe(c.loaded,[i],l),h6e(c,t),a&&c.errors.push(a),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(d=>{o[d]||(o[d]={});const u=c.loaded[d];u.length&&u.forEach(f=>{o[d][f]===void 0&&(o[d][f]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(c=>!c.done)}read(t,a,r,n=0,i=this.retryTimeout,l){if(!t.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:a,fcName:r,tried:n,wait:i,callback:l});return}this.readingCalls++;const o=(d,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(d&&u&&n<this.maxRetries){setTimeout(()=>{this.read.call(this,t,a,r,n+1,i*2,l)},i);return}l(d,u)},c=this.backend[r].bind(this.backend);if(c.length===2){try{const d=c(t,a);d&&typeof d.then=="function"?d.then(u=>o(null,u)).catch(o):o(null,d)}catch(d){o(d)}return}return c(t,a,o)}prepareLoading(t,a,r={},n){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();Xa(t)&&(t=this.languageUtils.toResolveHierarchy(t)),Xa(a)&&(a=[a]);const i=this.queueLoad(t,a,r,n);if(!i.toLoad.length)return i.pending.length||n(),null;i.toLoad.forEach(l=>{this.loadOne(l)})}load(t,a,r){this.prepareLoading(t,a,{},r)}reload(t,a,r){this.prepareLoading(t,a,{reload:!0},r)}loadOne(t,a=""){const r=t.split("|"),n=r[0],i=r[1];this.read(n,i,"read",void 0,void 0,(l,o)=>{l&&this.logger.warn(`${a}loading namespace ${i} for language ${n} failed`,l),!l&&o&&this.logger.log(`${a}loaded namespace ${i} for language ${n}`,o),this.loaded(t,l,o)})}saveMissing(t,a,r,n,i,l={},o=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(a)){this.logger.warn(`did not save key "${r}" as the namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){const c={...l,isUpdate:i},d=this.backend.create.bind(this.backend);if(d.length<6)try{let u;d.length===5?u=d(t,a,r,n,c):u=d(t,a,r,n),u&&typeof u.then=="function"?u.then(f=>o(null,f)).catch(o):o(null,u)}catch(u){o(u)}else d(t,a,r,n,o,c)}!t||!t[0]||this.store.addResource(t[0],a,r,n)}}}const v9=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),Xa(e[1])&&(t.defaultValue=e[1]),Xa(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const a=e[3]||e[2];Object.keys(a).forEach(r=>{t[r]=a[r]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),b9=e=>(Xa(e.ns)&&(e.ns=[e.ns]),Xa(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Xa(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e),b2=()=>{},m6e=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(a=>{typeof e[a]=="function"&&(e[a]=e[a].bind(e))})};class E1 extends gN{constructor(t={},a){if(super(),this.options=b9(t),this.services={},this.logger=uu,this.modules={external:[]},m6e(this),a&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,a),this;setTimeout(()=>{this.init(t,a)},0)}}init(t={},a){this.isInitializing=!0,typeof t=="function"&&(a=t,t={}),t.defaultNS==null&&t.ns&&(Xa(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const r=v9();this.options={...r,...this.options,...b9(t)},this.options.interpolation={...r.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const n=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?uu.init(n(this.modules.logger),this.options):uu.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:d=u6e;const u=new f9(this.options);this.store=new d9(this.options.resources,this.options);const f=this.services;f.logger=uu,f.resourceStore=this.store,f.languageUtils=u,f.pluralResolver=new l6e(u,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),d&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(f.formatter=n(d),f.formatter.init&&f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new o6e(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new f6e(n(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",(m,...v)=>{this.emit(m,...v)}),this.modules.languageDetector&&(f.languageDetector=n(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=n(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new Uw(this.services,this.options),this.translator.on("*",(m,...v)=>{this.emit(m,...v)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,a||(a=b2),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=(...u)=>this.store[d](...u)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=(...u)=>(this.store[d](...u),this)});const o=av(),c=()=>{const d=(u,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(f),a(u,f)};if(this.languages&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),o}loadResources(t,a=b2){let r=a;const n=Xa(t)?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if(n?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const i=[],l=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(d=>{d!=="cimode"&&i.indexOf(d)<0&&i.push(d)})};n?l(n):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>l(c)),this.options.preload?.forEach?.(o=>l(o)),this.services.backendConnector.load(i,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(o)})}else r(null)}reloadResources(t,a,r){const n=av();return typeof t=="function"&&(r=t,t=void 0),typeof a=="function"&&(r=a,a=void 0),t||(t=this.languages),a||(a=this.options.ns),r||(r=b2),this.services.backendConnector.reload(t,a,i=>{n.resolve(),r(i)}),n}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&YG.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let a=0;a<this.languages.length;a++){const r=this.languages[a];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,a){this.isLanguageChangingTo=t;const r=av();this.emit("languageChanging",t);const n=o=>{this.language=o,this.languages=this.services.languageUtils.toResolveHierarchy(o),this.resolvedLanguage=void 0,this.setResolvedLanguage(o)},i=(o,c)=>{c?this.isLanguageChangingTo===t&&(n(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,r.resolve((...d)=>this.t(...d)),a&&a(o,(...d)=>this.t(...d))},l=o=>{!t&&!o&&this.services.languageDetector&&(o=[]);const c=Xa(o)?o:o&&o[0],d=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(Xa(o)?[o]:o);d&&(this.language||n(d),this.translator.language||this.translator.changeLanguage(d),this.services.languageDetector?.cacheUserLanguage?.(d)),this.loadResources(d,u=>{i(u,d)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(t),r}getFixedT(t,a,r){const n=(i,l,...o)=>{let c;typeof l!="object"?c=this.options.overloadTranslationOptionHandler([i,l].concat(o)):c={...l},c.lng=c.lng||n.lng,c.lngs=c.lngs||n.lngs,c.ns=c.ns||n.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||r||n.keyPrefix);const d=this.options.keySeparator||".";let u;return c.keyPrefix&&Array.isArray(i)?u=i.map(f=>(typeof f=="function"&&(f=t6(f,{...this.options,...l})),`${c.keyPrefix}${d}${f}`)):(typeof i=="function"&&(i=t6(i,{...this.options,...l})),u=c.keyPrefix?`${c.keyPrefix}${d}${i}`:i),this.t(u,c)};return Xa(t)?n.lng=t:n.lngs=t,n.ns=a,n.keyPrefix=r,n}t(...t){return this.translator?.translate(...t)}exists(...t){return this.translator?.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,a={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=a.lng||this.resolvedLanguage||this.languages[0],n=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const l=(o,c)=>{const d=this.services.backendConnector.state[`${o}|${c}`];return d===-1||d===0||d===2};if(a.precheck){const o=a.precheck(this,l);if(o!==void 0)return o}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(r,t)&&(!n||l(i,t)))}loadNamespaces(t,a){const r=av();return this.options.ns?(Xa(t)&&(t=[t]),t.forEach(n=>{this.options.ns.indexOf(n)<0&&this.options.ns.push(n)}),this.loadResources(n=>{r.resolve(),a&&a(n)}),r):(a&&a(),Promise.resolve())}loadLanguages(t,a){const r=av();Xa(t)&&(t=[t]);const n=this.options.preload||[],i=t.filter(l=>n.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return i.length?(this.options.preload=n.concat(i),this.loadResources(l=>{r.resolve(),a&&a(l)}),r):(a&&a(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!t)return"rtl";try{const n=new Intl.Locale(t);if(n&&n.getTextInfo){const i=n.getTextInfo();if(i&&i.direction)return i.direction}}catch{}const a=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new f9(v9());return t.toLowerCase().indexOf("-latn")>1?"ltr":a.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},a){return new E1(t,a)}cloneInstance(t={},a=b2){const r=t.forkResourceStore;r&&delete t.forkResourceStore;const n={...this.options,...t,isClone:!0},i=new E1(n);if((t.debug!==void 0||t.prefix!==void 0)&&(i.logger=i.logger.clone(t)),["store","services","language"].forEach(o=>{i[o]=this[o]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r){const o=Object.keys(this.store.data).reduce((c,d)=>(c[d]={...this.store.data[d]},c[d]=Object.keys(c[d]).reduce((u,f)=>(u[f]={...c[d][f]},u),c[d]),c),{});i.store=new d9(o,n),i.services.resourceStore=i.store}return i.translator=new Uw(i.services,n),i.translator.on("*",(o,...c)=>{i.emit(o,...c)}),i.init(n,a),i.translator.options=n,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Gr=E1.createInstance();Gr.createInstance=E1.createInstance;Gr.createInstance;Gr.dir;Gr.init;Gr.loadResources;Gr.reloadResources;Gr.use;Gr.changeLanguage;Gr.getFixedT;Gr.t;Gr.exists;Gr.setDefaultNamespace;Gr.hasLoadedNamespace;Gr.loadNamespaces;Gr.loadLanguages;const JG=e=>{const t=String(e||"en");document.documentElement.dir=t.startsWith("ar")?"rtl":"ltr",document.documentElement.lang=t};JG(Gr.language||"en");Gr.on("languageChanged",e=>{JG(e||"en")});const p6e={en:{translation:{"Stages Setup":"Stages Setup","Pipeline Setup Stages":"Pipeline Setup Stages","New Stage":"New Stage","Stage Name":"Stage Name","Stage Name (Arabic)":"Stage Name (Arabic)","Stage Type":"Stage Type","Stage Order":"Stage Order","Stage Color":"Stage Color","Stage Icon":"Stage Icon","Upload Icon":"Upload Icon",Icon:"Icon","Icon Text / Emoji":"Icon Text / Emoji",Add:"Add","Cancel Reasons":"Cancel Reasons","Payment Plans":"Payment Plans","Add Payment Plan":"Add Payment Plan","Template Name":"Template Name","Allowed Stages":"Allowed Stages",Installments:"Installments",Installment:"Installment",Percentage:"Percentage","Due After (days)":"Due After (days)","Add Installment":"Add Installment","Schedule Preview":"Schedule Preview","Contract Amount":"Contract Amount","Start Date":"Start Date",Generate:"Generate","Total must equal 100%":"Total must equal 100%","Use in contract stages only":"Use in contract stages only","Due Date":"Due Date",Paid:"Paid",Pending:"Pending",Overdue:"Overdue","Add Cancel Reason":"Add Cancel Reason","Reason Title":"Reason Title","Reason Title (Arabic)":"Reason Title (Arabic)","No.":"No.","No cancel reasons yet. Add your first reason above.":"No cancel reasons yet. Add your first reason above.",no_answer:"No Answer",reservation:"Reservation",cancel:"Cancel",Dashboard:"Dashboard","Leads Management":"Leads Management","Lead Management":"Lead Management",Filters:"Filters","Leads Pipline":"Leads Pipeline",entries:"entries","Search Page":"Search Page",Show:"Show","Hide Advanced Filters":"Hide Advanced Filters","Show ":"Show All ","Export Pages":"Export Pages","Reset ":"Reset ",Page:"Page","total leads":"Total Leads","No leads selected for bulk actions":"No leads selected for bulk actions",Export:"Export",Leads:"Leads",Stages:"Stages","new lead":"New Lead",duplicate:"Duplicate",pending:"Pending","cold calls":"Cold Calls","Recycle Bin":"Recycle Bin",Inventory:"Inventory","Marketing Modules":"Marketing Modules",Campaigns:"Campaigns","Landing Pages":"Landing Pages","Meta Integration":"Meta Integration","Leads Performance":"Leads Performance",Customers:"Customers",Reports:"Reports","User Management":"User Management",Support:"Support",Settings:"Settings","Contact us":"Contact us",Logout:"Logout","Profile & Company":"Profile & Company","Profile Settings":"Profile Settings","Company Settings":"Company Settings","Contact Info Settings":"Contact Info Settings","System Settings":"System Settings","System Preferences":"System Preferences","Modules Settings":"Modules Settings","Security Settings":"Security Settings","Custom Fields":"Custom Fields","Audit Logs":"Audit Logs","Company Setup":"Company Setup","Company Info":"Company Info",Subscription:"Subscription","Enabled Modules":"Enabled Modules",Visibility:"Visibility","Notifications Settings":"Notifications Settings","SMS Templates":"SMS Templates","Email Templates":"Email Templates","WhatsApp Templates":"WhatsApp Templates","Billing & Subscription":"Billing & Subscription","Payment History":"Payment History","Plans & Upgrade":"Plans & Upgrade",Integrations:"Integrations","API Keys":"API Keys",Webhooks:"Webhooks","WhatsApp Integration":"WhatsApp Integration","Payment Gateway Integration":"Payment Gateway Integration","Google / Slack Integrations":"Google / Slack Integrations","Data Management":"Data Management",Backup:"Backup",Configuration:"Configuration",Scripting:"Scripting","EOI Settings":"EOI Settings","Reservation Settings":"Reservation Settings","Rotation Settings":"Rotation Settings","Contracts Settings":"Contracts Settings","Buyer Request Reset":"Buyer Request Reset","Matching Settings":"Matching Settings","Rent Configuration":"Rent Configuration","CIL Settings":"CIL Settings",Users:"Users",Teams:"Teams",Departments:"Departments",Roles:"Roles","Activity Logs":"Activity Logs","Access Logs":"Access Logs",Tickets:"Tickets",SLA:"SLA",Feedbacks:"Feedbacks",Projects:"Projects",Properties:"Properties",Requests:"Requests","Buyer Requests":"Buyer Requests","Seller Requests":"Seller Requests","Dev Companies":"Dev Companies",Products:"Products",Items:"Items",Warehouse:"Warehouse",Categories:"Categories",Developers:"Developers",Brokers:"Brokers",Suppliers:"Suppliers","Stock Management":"Stock Management",Transactions:"Transactions",Calendar:"Calendar","Calendar Subtitle":"Select which columns you need to see lead table",Tasks:"Tasks",Language:"Language",Search:"Search",Notifications:"Notifications",Profile:"Profile","Profile menu":"Profile menu","My Profile":"My Profile","Linked Devices":"Linked Devices","Company Profile":"Company Profile","Change Profile Picture":"Change Profile Picture","Change Password":"Change Password",Administrator:"Administrator","Dark Mode":"Dark Mode","Light Mode":"Light Mode",welcome_super_admin:"Welcome, Super Admin!",Filter:"Filter",All:"All",Country:"Country",City:"City",Company:"Company","Customer name":"Customer name",Orders:"Orders",Comments:"Comments",Comment:"Comment","Type to search...":"Type to search...",Search_button:"Search","Hide Tools":"Hide Tools","Show Tools":"Show Tools","Delay Leads":"Delay Leads",Activity:"Activity","To do list":"To do list","The Last Comments":"The Last Comments","Last Comments":"Last Comments","Hot Leads":"Hot Leads","Phone Calls":"Phone Calls","Recent Phone Calls":"Recent Phone Calls",Employee:"Employee",Lead:"Lead",Phone:"Phone",Duration:"Duration",Notes:"Notes",Incoming:"Incoming",Outgoing:"Outgoing",Missed:"Missed","Total Leads":"Total Leads","Conversion Rate":"Conversion Rate","Avg Response Time":"Avg Response Time","Leads by Source":"Leads by Source","Leads by Status":"Leads by Status","Leads Status":"Leads Status",Website:"Website","Social Media":"Social Media",Referrals:"Referrals","Email Campaign":"Email Campaign",Direct:"Direct",New:"New","In Progress":"In Progress",Qualified:"Qualified",Converted:"Converted",Lost:"Lost","Quick Actions":"Quick Actions","Export Data":"Export Data","Generate Report":"Generate Report","View Details":"View Details",Priority:"Priority",Type:"Type",high:"High",medium:"Medium",low:"Low",follow_up:"Follow Up",proposal:"Proposal",inquiry:"Inquiry",support:"Support",meeting:"Meeting","bulk.selectAssigneeError":"Please select or type an assignee first","bulk.assignSuccess":"Assigned {{count}} leads to: {{target}}","bulk.selectStatusError":"Please select a status first","bulk.statusUpdateSuccess":"Updated status for {{count}} leads to: {{status}}","bulk.deleteSuccess":"Successfully deleted {{count}} leads","import.title":"Import Leads from Excel","import.dropzone":"Drag & drop your file here, or click to select","import.selectedFile":"Selected file: {{file}}","import.noFileSelected":"No file selected yet","import.browseButton":"Browse","import.importing":"Importing...","import.importButton":"Import","import.supportedFiles":"Supports .xlsx and .xls files","import.selectFileError":"Please select an Excel file first","import.readFileError":"Failed to read the Excel file. Please check the format and content.","import.summary":"Added {{count}} new leads","import.supportedFields":"Supported fields: Name, Email, Phone, Company, Status, Priority, Source, Assigned To, Created At, Last Contact, Estimated Value, Probability","Import Data":"Import Data","import.uploadDescription":"Import data into the system.","import.uploadFile":"Upload file","import.dropHint":"Drag & drop file here or use the button","import.chooseFile":"Choose File","import.supportedFormats":"Supports CSV and XLSX files","import.target":"Import target","import.hasHeader":"First row contains column headers","import.updateExisting":"Update existing records on match","import.processing":"Importing...","import.successSimulated":"Import simulated successfully","import.unsupportedType":"Unsupported file type. Please upload CSV or XLSX.","import.formatGuidelines":"Format guidelines","import.guidelineUtf8":"Use UTF-8 encoding for CSV files","import.guidelineColumns":"Ensure columns match required fields","import.guidelineHeaders":"Include descriptive headers in the first row",Upload:"Upload",Preview:"Preview",Mapping:"Mapping",Summary:"Summary",Next:"Next",Back:"Back","Confirm Import":"Confirm Import",Column:"Column","Map to field":"Map to field","Start New":"Start New","New Records":"New Records","Updated Records":"Updated Records","Failed Rows":"Failed Rows","Show Export Options":"Show Export Options","Hide Export Options":"Hide Export Options","Date From":"Date From","Date To":"Date To","Assigned User/Team":"Assigned User/Team",Export:"Export",Error:"Error","Backup Management":"Backup Management","Generate Full Backup":"Generate Full Backup","Available Backups":"Available Backups","Scheduled Backups":"Scheduled Backups",Download:"Download","Save Schedule":"Save Schedule",Frequency:"Frequency",Time:"Time",Daily:"Daily",Weekly:"Weekly",Monthly:"Monthly","No backups yet.":"No backups yet.","importLogs.title":"Import Operations","importLogs.dataset":"Dataset","importLogs.status":"Status","importLogs.file":"File","importLogs.size":"Size","importLogs.options":"Options","importLogs.hasHeader":"Has Header","importLogs.updateExisting":"Update Existing","importLogs.time":"Time","importLogs.filter.dataset":"Filter by dataset","importLogs.filter.status":"Filter by status","importLogs.filter.search":"Search by file name...","importLogs.noData":"No import operations recorded","Import Logs":"Import Logs","empty.noMoreCustomers":"No other customers","template.downloadExcel":"Download Excel Template","template.downloadDescription":"Download the template and fill in the required data","template.downloadButton":"Download Template","template.requiredFields":"Required Fields:","Lead Stages":"Lead Stages","leads pipline":"Leads Pipeline","Active Campaigns":"Active Campaigns","Active Campaigns Overview":"Active Campaigns Overview","Key Performance Metrics":"Key Performance Metrics","Total Active":"Total Active","Avg. Open Rate":"Avg. Open Rate","Avg. Click Rate":"Avg. Click Rate","Conversion Rate":"Conversion Rate","Last 30 Days":"Last 30 Days","Top Campaigns":"Top Campaigns","Show Paused":"Show Paused","Hide Paused":"Hide Paused","Open Rate":"Open Rate","Click Rate":"Click Rate","On Track":"On Track","At Risk":"At Risk",Paused:"Paused","Active Users":"Active Users","Last Seen":"Last Seen",Active:"Active",Inactive:"Inactive","List View":"List View","Chart View":"Chart View",Refresh:"Refresh","All Leads":"All Leads","All Stages":"All Stages","All Managers":"All Managers","All Employees":"All Employees",Duplicate:"Duplicate","New Lead":"New Lead","Cold Call":"Cold Call","follow up":"follow up","Actions at CRM":"Actions at CRM","Follow Ups":"Follow Ups",Completed:"Completed",Manager:"Manager",Employees:"Employees","Date Range":"Date Range","Date Input Placeholder":"mm/dd/yyyy",future:"Future",contacted:"Contacted",meeting_after:"Meeting after",follow_up_after:"Follow up after",cancel_after:"Cancel after",deal:"Deal",not_interested:"Not interested",next:"Next",From:"From",To:"To",Clear:"Clear","The Best":"The Best","Your top agents for the number of actions.":"Your top agents for the number of actions.",Today:"Today",Selected:"Selected",Week:"Week",Weekly:"Weekly",Upcoming:"Upcoming",Monthly:"Monthly","All Time":"All Time","Quick Numbers":"Pipeline stages","Duplicate Leads":"Duplicate Leads","Deleted Leads":"Deleted Leads","Fresh Leads":"Fresh Leads","New Leads":"New Leads","Pending Leads":"Pending Leads","Cold Leads":"Cold Leads","Cold Calls":"Cold Calls","of all system leads":"of all system leads","Not Available":"Not Available",Contact:"Contact","Bulk Actions":"Bulk Actions",selected:"selected","Update Status":"Update Status","Select Status":"Select Status","Apply Status":"Apply Status","Assign Owner":"Assign to","Select Owner":"Select Owner",Assign:"Assign","Apply Filters":"Apply Filters",Reset:"Reset",Delete:"Delete",Assigned:"Assigned",Value:"Value","Last Contact":"Last Contact","Import Leads from Excel file":"Import Leads from Excel file","Drag the file here or use the button to select it":"Drag the file here or use the button to select it","All Leads":"All Leads","All Managers":"All Managers","All Employees":"All Employees","Selected file: {excelFile.name}":"Selected file: {excelFile.name}","Importing...":"Importing...",Import:"Import","Supports .xlsx and .xls files":"Supports .xlsx and .xls files",Filters:"Filters ","All Status":"All Status","All Sources":"All Sources","All Priority":"All Priority","Assign Date":"Assign Date","Action Date":"Action Date","Creation Date":"Creation Date","Old Stage":"Old Stage","Closed Date":"Closed Date",Campaign:"Campaign","All Campaigns":"All Campaigns","All Countries":"All Countries","WhatsApp Intents":"WhatsApp Intents","All Intents":"All Intents","Call Type":"Call Type","All Call Types":"All Call Types","Duplicate Status":"Duplicate Status","Search leads...":"Search leads...","Min amount...":"Min amount...","Search by email...":"Search by email...","Sales Person":"Sales Person","All Sales People":"All Sales People","Created By":"Created By","All Creators":"All Creators","All Old Stages":"All Old Stages",System:"System",User:"User","Ibrahim Ahmed":"Ibrahim Ahmed","Sara Nour":"Sara Nour","Ahmed Ali":"Ahmed Ali","All Projects":"All Projects","Project A":"Project A","Project B":"Project B","Project C":"Project C","Summer 2024":"Summer 2024","Winter 2024":"Winter 2024","Spring 2025":"Spring 2025","Saudi Arabia":"Saudi Arabia",UAE:"UAE",Egypt:"Egypt",Jordan:"Jordan",Inbound:"Inbound",Outbound:"Outbound","Follow-up":"Follow-up",Purchase:"Purchase","Lead Statistics":"Lead Statistics",Theme:"Theme","Display Options":"Display Options","Show/Hide Columns":"Show/Hide Columns","Search columns...":"Search columns...","Reset Columns":"Reset Columns",Company:"Company",Assigned:"Assigned",Value:"Value","Last Contact":"Last Contact",Actions:"Actions",Admin:"Admin","+100% of all system leads":"+100% of all system leads","+8.2% from last month":"+8.2% from last month","+5.1% from last month":"+5.1% from last month","-2.3% from last month":"-2.3% from last month","Add Leads in Excel Sheet":"Add leads in an Excel-like sheet","Add Row":"Add Row","Delete Row":"Delete Row","Save Leads":"Save Leads",Close:"Close",Urgent:"Urgent",Referral:"Referral","Select Manager":"Select Manager","Select Employee":"Select Employee","From Date":"From Date","To Date":"To Date",Cancel:"Cancel","Add New Lead":"Add New Lead","Import Leads":"Import Leads","Add Demo Leads":"Add Demo Leads","Please select items to restore":"Please select items to restore","Please select items to delete":"Please select items to delete","Are you sure you want to restore the selected leads?":"Are you sure you want to restore the selected leads?","Are you sure you want to permanently delete the selected leads? This action cannot be undone.":"Are you sure you want to permanently delete the selected leads? This action cannot be undone.","Add Landing Page":"Add Landing Page",General:"General",Description:"Description",Media:"Media",Script:"Script",Title:"Title","Enter title":"Enter title",Channel:"Channel","Select Channel":"Select Channel",Project:"Project","Select Project":"Select Project","Target URL":"Target URL","Short Description":"Short Description","Upload Media":"Upload Media","Header Script":"Header Script","Body Script":"Body Script","Saving...":"Saving...",Create:"Create","Saved successfully":"Saved successfully",Open:"Open","Coming soon":"Coming soon","Reports Dashboard":"Reports Dashboard","Sales Report":"Sales Report","Lead Report":"Lead Report","Marketing Reports":"Marketing Reports","Team Report":"Team Report","Meetings Report":"Meetings Report","Sales Activities":"Sales Activities",Reservations:"Reservations","Closed Deals":"Closed Deals",Rent:"Rent","Check in Report":"Check in Report","Customers Report":"Customers Report","Sms Report":"Sms Report","Calls Report":"Calls Report","Team Performance Report":"Team Performance Report",Opportunities:"Opportunities",Cils:"Cils",Calls:"Calls",EOI:"EOI",Reservation:"Reservation",Deals:"Deals","Cancel Reasons":"Cancel Reasons","Opened This Month":"Opened This Month","Closed This Month":"Closed This Month","Open Chances":"Open Chances","Missed Chances":"Missed Chances",Remaining:"Remaining","Closed Chances":"Closed Chances","Data List":"Data List","Export List":"Export List","Show Entries":"Show Entries",Previous:"Previous",Next:"Next","No data":"No data","Export Report":"Export Report",Status:"Status",Reason:"Reason",Count:"Count","Reports KPIs":"Reports KPIs","Employees Reporting":"Employees Reporting","Generated Reports":"Generated Reports","Scheduled Reports":"Scheduled Reports","Failed Reports":"Failed Reports","Avg Generation Time":"Avg Generation Time","Report Types":"Report Types",PDF:"PDF",Excel:"Excel",Email:"Email","Reports per Employee":"Reports per Employee","Success Rate":"Success Rate","Last Activity":"Last Activity","Dashboard Overview":"Dashboard Overview","Show All":"Show All","Hide Less Active":"Hide Less Active",Minutes:"Minutes","reports.sales.desc":"Analyze sales data to improve performance and boost revenue.","reports.leads.desc":"Track your leads and evaluate their engagement within the system.","reports.marketing.desc":"Analyze marketing campaigns and measure their success to enhance strategies.","reports.team.desc":"Monitor team performance and track daily goal achievements.","reports.meetings.desc":"Manage meetings and follow up on discussed points and implementation.","reports.sms.desc":"Track and analyze messages sent to customers to increase engagement.","reports.calls.desc":"Monitor and analyze call data for performance and quality assessment.","reports.team_performance.desc":"Evaluate team performance and identify areas for improvement.","salesActions.lastUpdate":"Last update",Update:"Update","Updating...":"Updating...","salesActions.reservations":"Reservations","salesActions.totalRevenue":"Total Revenue","salesActions.accounts":"Accounts","salesActions.callsBreakdown":"Calls Breakdown","salesActions.byType":"By Type","salesActions.noCalls":"No calls","salesActions.topTeam":"Top Team","salesActions.viewTeamDetails":"View Team Details","salesActions.noTeamData":"No team data","salesActions.leaderboard":"Team Leaderboard","salesActions.byAccounts":"By Accounts","salesActions.monthlyReservationsSummary":"Monthly Reservations Summary","salesActions.lastMonths":"Last {{months}} months",Month:"Month",Revenue:"Revenue",View:"View",Details:"Details",Rank:"Rank",Conversion:"Conversion",Team:"Team",Excel:"Excel",PDF:"PDF",Print:"Print","teamDetails.title":"Team Details","teamDetails.roster":"Members","teamDetails.search":"Search...","teamDetails.noMembers":"No members","teamDetails.managerialControls":"Managerial Controls","teamDetails.assignNewTask":"Assign New Task","teamDetails.sendNote":"Send Note/Comment","teamDetails.openPerformanceReview":"Open Performance Review","teamDetails.suspend":"Suspend","teamDetails.reactivate":"Reactivate","teamDetails.tabs.profile":"Profile","teamDetails.tabs.performance":"Performance","teamDetails.tabs.projects":"Projects","teamDetails.tabs.permissions":"Permissions","teamDetails.tabs.activity":"Activity Log","teamDetails.basicInfo":"Basic Information","teamDetails.fields.fullName":"Full Name","teamDetails.fields.jobTitle":"Job Title","teamDetails.fields.department":"Department","teamDetails.fields.employeeId":"Employee ID","teamDetails.fields.email":"Email","teamDetails.fields.phone":"Phone","teamDetails.fields.joinDate":"Join Date","teamDetails.fields.status":"Status",Active:"Active","On Leave":"On Leave",Inactive:"Inactive","teamDetails.performanceMetrics":"Performance Metrics","teamDetails.metrics.totalTasks":"Total Tasks","teamDetails.metrics.tasksCompletionRate":"Tasks Completion Rate","teamDetails.metrics.avgResponseTime":"Average Response Time","teamDetails.metrics.attendanceRate":"Attendance Rate","teamDetails.metrics.performanceScore":"Performance Score","teamDetails.metrics.lastEvaluation":"Last Evaluation","teamDetails.projectsAndResponsibilities":"Projects & Responsibilities",Started:"Started",Tasks:"Tasks","View Project":"View Project",Reset:"Reset","teamDetails.noProjects":"No projects","teamDetails.permissionsAndAccess":"Permissions & Access","teamDetails.regionBranch":"Region/Branch","teamDetails.availableModules":"Available Modules","teamDetails.updateAccess":"Update Access","teamDetails.restrictAccess":"Restrict Access","teamDetails.activityLog":"Activity Log","teamDetails.filterByDate":"Filter by date","activity.leadUpdated":"Lead data updated","activity.dealClosed":"Deal closed","activity.newRequestCreated":"New request created","security.passwordAuth":"Password & Authentication","security.save":"Save","security.currentPassword":"Current Password","security.newPassword":"New Password","security.confirmPassword":"Confirm Password","security.passwordMismatch":"Passwords don't match","security.twoFactor":"Two-Factor Authentication","security.defaultMethod":"Default Method","security.emailOtp":"Email OTP","security.sms":"SMS","security.app":"Authenticator App","security.enableMethods":"Enable Methods","security.enableNotice":"Enable two-factor to show method settings and enable methods.","security.setup2fa":"Setup 2FA","security.accountAccess":"Account Access","security.editPermissions":"Edit Permissions","security.activeSessions":"Active Sessions","security.device":"Device","security.location":"Location","security.lastActive":"Last Active","security.action":"Action","security.noSessions":"No active sessions","security.logout":"Logout","security.logoutAll":"Logout from All Devices","security.securityNotifications":"Security Notifications","security.loginNewDevice":"Login from New Device","security.passwordChange":"Password Change","security.failedLogins":"Failed Login Attempts","security.notificationMethod":"Notification Method","security.push":"Push Notifications","security.policies":"Login & Password Policies","security.minLength":"Minimum Length","security.failedLimit":"Failed Login Attempt Limit","security.charReq":"Character Requirements","security.upper":"Uppercase","security.lower":"Lowercase","security.number":"Number","security.special":"Special Character","security.lockoutPolicy":"Lockout Policy","security.tempLockout":"Temporary Lockout","security.lockoutNote":"Applies after consecutive failed attempts.","security.auditLogs":"Audit Logs","security.modal.setupTitle":"Setup Two-Factor Authentication","security.modal.setupHelp":"Select method and follow instructions to complete setup.","security.modal.logoutTitle":"Logout Session","security.modal.logoutDesc":"This will logout the selected device.","security.modal.editPermsTitle":"Edit Permissions","security.perms.viewCustomers":"View Customers","security.perms.editCustomers":"Edit Customers","security.perms.manageUsers":"Manage Users","security.perms.viewBilling":"View Billing","common.cancel":"Cancel","common.save":"Save",Attachment:"Attachment","Selected file":"Selected file",Remove:"Remove","Tax Rate (%)":"Tax Rate (%)","Create Quotation":"Create Quotation",Opportunity:"Opportunity",Select:"Select","Loading...":"Loading...","Sent successfully":"Sent successfully","Conversion created successfully":"Conversion created successfully","Tax rate updated":"Tax rate updated","Failed to update tax rate":"Failed to update tax rate","Product / Service":"Product / Service",SKU:"SKU",Quantity:"Quantity","Unit Price":"Unit Price",Discount:"Discount",Subtotal:"Subtotal",Tax:"Tax",Total:"Total",Quotations:"Quotations","Sales Orders":"Sales Orders",Invoices:"Invoices",Sales:"Sales",Created:"Created",ID:"ID","Send to Customer":"Send to Customer","Convert to Sales Order":"Convert to Sales Order","Convert to Quotation":"Convert to Quotation",Amount:"Amount",Stage:"Stage","Expected Close Date":"Expected Close Date","Contact (B2B)":"Contact (B2B)","Contact person":"Contact person","Quick add":"Quick add","Add Opportunity":"Add Opportunity",Optional:"Optional",Individual:"Individual","Company name":"Company name",Tags:"Tags","Comma separated":"Comma separated","Assigned Rep":"Assigned Rep","Sales representative":"Sales representative","Quick Add Customer":"Quick Add Customer","  CIL":"CIL Configuration Layer","CIL    CRM:           .":"CIL is the brain of CRM: manage behavior, modules, and rules without code."," ":"Save All",:"Rollback",system:"System",modules:"Modules",rules:"Business Rules",workflows:"Workflows",validations:"Validation Rules",flags:"Feature Flags",governance:"Governance"," ":"System Behavior","  ":"Read-only mode"," ":"Strict mode"," ":"Default currency",:"Environment",Production:"Production",Staging:"Staging","  ":"Modules Control",leads:"Leads",eoi:"EOI",reservation:"Reservation",contracts:"Contracts",paymentPlans:"Payment Plans",":    ":"Note: Contracts require Payment Plans"," ":"Business Rules Engine"," ":"Rule name",:"Scope",:"Contracts"," ":"Leads",:"Reservation",:"Priority",:"Condition",:"Operator",:"Value",:"Action"," ":"Require Approval","   ":"Auto Create Payment Plan",:"Notify"," ":"Action value",:"Status",:"Active",:"Inactive"," ":"Add Rule"," ":"Current rules","  ":"No rules","  ":"Workflow Logic"," ":"From stage"," ":"To stage"," ":"Auto action","  ":"Create Payment Plan",:"Add","  ":"Workflow definitions","  ":"No definitions",:"Select"," ":"Validation Rules","/ ":"Value/Comparison field","  ":"Add validation rule"," ":"Validation matrix"," ":"Feature Flags","  ":"New dashboard"," ":"Beta search"," ":"Per role",:"Admin",:"Manager"," ":"Per environment"," ":"Governance & Safety"," ":"Current version"," ":"Change history",:"Item"," ":"Increment version","  ":"Rollback to previous version"," ":"Test mode","Contract.TotalAmount":"Contract total amount"," ":"Test results"," ":"None"," ":"Loading"}},ar:{translation:{"Stages Setup":" ","Pipeline Setup Stages":"  ","New Stage":" ","Stage Name":" ","Stage Name (Arabic)":"  ()","Stage Type":" ","Stage Order":" ","Stage Color":" ","Stage Icon":" ","Upload Icon":" ",Icon:"","Icon Text / Emoji":"  / ",Add:"","Cancel Reasons":" ","Payment Plans":" ","Add Payment Plan":"  ","Template Name":" ","Allowed Stages":"  ",Installments:"",Installment:"",Percentage:"","Due After (days)":"  ()","Add Installment":" ","Schedule Preview":"  ","Contract Amount":" ","Start Date":" ",Generate:"","Total must equal 100%":"    100%","Use in contract stages only":"    ","Due Date":" ",Paid:"",Pending:" ",Overdue:"","Add Cancel Reason":"  ","Reason Title":" ","Reason Title (Arabic)":"  ()","No.":"","No cancel reasons yet. Add your first reason above.":"    .    .",no_answer:" ",reservation:"",cancel:"",Dashboard:" ","Leads Management":"  ","Lead Management":"  ",Filters:"","Leads Pipline":"",entries:"","Search Page":"  ",Show:"","Hide Advanced Filters":"  ","Show ":" ","Export Pages":" ","Reset ":"  ",Page:"","total leads":" ","No leads selected for bulk actions":"     ",Export:"",Leads:"",Stages:"","leads pipline":"","new lead":" ",duplicate:"",pending:" ","cold calls":" ","Recycle Bin":" ",Inventory:"","Marketing Modules":" ",Campaigns:"","Landing Pages":" ","Meta Integration":" ","Leads Performance":"  ",Customers:"",Reports:"","User Management":" ",Support:"",Settings:"","Contact us":" ",Logout:" ","Profile & Company":"  ","Profile Settings":"  ","Company Settings":" ","Contact Info Settings":"  ","System Settings":" ","System Preferences":" ","Modules Settings":" ","Security Settings":" ","Custom Fields":" ","Audit Logs":" ","Company Setup":" ","Company Info":" ",Subscription:"","Enabled Modules":" ",Visibility:"","Notifications Settings":" ","SMS Templates":"  ","Email Templates":"  ","WhatsApp Templates":" ","Billing & Subscription":" ","Payment History":" ","Plans & Upgrade":" ",Integrations:"","API Keys":" API",Webhooks:"","WhatsApp Integration":" ","Payment Gateway Integration":"  ","Google / Slack Integrations":" Google / Slack","Data Management":" ",Backup:" ",Configuration:"",Scripting:"","EOI Settings":" EOI","Reservation Settings":" ","Rotation Settings":" ","Contracts Settings":" ","Buyer Request Reset":"   ","Matching Settings":" ","Rent Configuration":" ","CIL Settings":" CIL",Users:"",Teams:"",Departments:"",Roles:"","Activity Logs":" ","Access Logs":" ",Tickets:"",SLA:"  ",Feedbacks:"",Projects:"",Properties:"",Requests:"","Buyer Requests":" ","Seller Requests":" ","Dev Companies":" ",Products:"",Items:"",Warehouse:"",Categories:"",Developers:"",Brokers:"",Suppliers:"","Stock Management":" ",Transactions:" ",Calendar:"","Calendar Subtitle":"       ",Tasks:"",Language:"",Search:"",Notifications:"",Profile:" ","Dark Mode":" ","Light Mode":" ",welcome_super_admin:"  !",Filter:"",All:"",Country:"",City:"",Company:"","Customer name":" ",Orders:"",Comments:"",Comment:"","Type to search...":" ...",Search_button:"","Hide Tools":" ","Show Tools":" ","Delay Leads":" ",Activity:"","To do list":" ","The Last Comments":" ","Last Comments":" ","Hot Leads":"  ","Phone Calls":" ","Recent Phone Calls":"  ",Employee:"",Lead:" ",Phone:"",Duration:"",Notes:"",Incoming:"",Outgoing:"",Missed:"","Total Leads":"  ","Conversion Rate":" ","Avg Response Time":"  ","Leads by Source":"   ","Leads by Status":"   ","Leads Status":"  ",Website:" ","Social Media":"  ",Referrals:"","Email Campaign":"  ",Direct:"",New:"","In Progress":" ",Qualified:"",Converted:" ",Lost:"","Quick Actions":" ","Export Data":" ","Generate Report":" ","View Details":" ",Priority:"",Type:"",high:"",medium:"",low:"",follow_up:"",proposal:" ",inquiry:"",support:" ",meeting:"","bulk.selectAssigneeError":"      ","bulk.assignSuccess":"  {{count}}  : {{target}}","bulk.selectStatusError":"   ","bulk.statusUpdateSuccess":"   {{count}}  : {{status}}","bulk.deleteSuccess":"  {{count}}  ","import.title":"    ","import.dropzone":"      ","import.selectedFile":" : {{file}}","import.noFileSelected":"   ","import.browseButton":"","import.importing":" ...","import.importButton":"","import.supportedFiles":"  .xlsx  .xls","import.selectFileError":"    ","import.readFileError":"   .    .","import.summary":"  {{count}}  ","import.supportedFields":" :               ","Import Data":" ","import.uploadDescription":"   .","import.uploadFile":" ","import.dropHint":"     ","import.chooseFile":" ","import.supportedFormats":"  CSV  XLSX","import.target":" ","import.hasHeader":"     ","import.updateExisting":"    ","import.processing":" ...","import.successSimulated":"   ","import.unsupportedType":"   .   CSV  XLSX.","import.formatGuidelines":" ","import.guidelineUtf8":"  UTF-8  CSV","import.guidelineColumns":"     ","import.guidelineHeaders":"     ","importLogs.title":" ","importLogs.dataset":"","importLogs.status":"","importLogs.file":"","importLogs.size":"","importLogs.options":"","importLogs.hasHeader":" ","importLogs.updateExisting":" ","importLogs.time":"","importLogs.filter.dataset":"  ","importLogs.filter.status":"  ","importLogs.filter.search":"  ...","importLogs.noData":"    ","Import Logs":" ","empty.noMoreCustomers":"   ","template.downloadExcel":"  Excel","template.downloadDescription":"     ","template.downloadButton":" ","template.requiredFields":" :","Lead Stages":" ","Pipeline Stages":" ","Active Campaigns":" ","Active Campaigns Overview":"    ","Key Performance Metrics":"  ","Total Active":" ","Avg. Open Rate":"  ","Avg. Click Rate":"  ","Conversion Rate":" ","Last 30 Days":" 30 ","Top Campaigns":" ","Show Paused":" ","Hide Paused":" ","Open Rate":" ","Click Rate":" ","On Track":" ","At Risk":" ",Paused:"","Active Users":" ","Last Seen":" ","List View":" ","Chart View":"  ",Refresh:"","All Leads":" ","All Stages":" ","All Managers":" ","All Employees":" ",Duplicate:"","New Lead":"  ","Cold Call":" ","follow up":"","Actions at CRM":"  CRM","Follow Ups":"",Completed:"",Manager:"",Employees:"","Date Range":" ","Date Input Placeholder":"//",future:"",contacted:" ",meeting_after:" ",follow_up_after:" ",reschedule_meeting:"  ",no_answer_1st_call:"    ",meeting:"",follow_up:"",cancel_after:" ",deal:"",not_interested:" ",next:"",follow_up_after_meeting:"  ","Show All":" ",From:"",To:"",Clear:"","The Best":"","Your top agents for the number of actions.":"     .",Today:"",Selected:"",Week:"",Weekly:"",Upcoming:"",Monthly:"","All Time":" ","Quick Numbers":" ","Duplicate Leads":" ","Deleted Leads":" ","Fresh Leads":" ","New Leads":" ","Pending Leads":"  ","Cold Leads":" ","Cold Calls":" ","of all system leads":"   ","Not Available":" ","Lead Name":" ",Mobile:"","Stage Date":" ","Last Comment":" ",preview:"",cancel_after:" ",deal:"",not_interested:" ",next:"","Show Less":" ","Show ":" ","Leads Analysis":"  ","Pipeline Analysis":"  ",Measures:"","Days to Assign":" ","Days to Close":" ","Days To Convert":" ","Exceeded Closing Days":"  ","Expected Revenue":" ","Prorated Revenue":" ",Total:"","Peak Month":" ",Average:"","vs Last Month":"  ",Active:"",Inactive:" ",Yes:"",No:"",Year:"","Previous Period":" ",Count:"","Search...":"...","Active or Inactive":"   ","Created on":"  ",Sales:"","Leads Analysis":"  ","Pipeline Analysis":"  ",Measures:"","Days to Assign":" ","Days to Close":" ","Days To Convert":" ","Exceeded Closing Days":"  ","Expected Revenue":" ","Prorated Revenue":" ",Count:"","Search...":"...","Active or Inactive":"   ","Created on":"  ",Sales:"","Search Leads":" ","All Statuses":" ",Contacted:" ","All Sources":" ",Referral:"","Email Campaign":"  ","All Priorities":" ",High:"",Medium:"",Low:"","Bulk Actions":" ","Export Selected":" ","Delete Selected":" ","Change Status":" ","Add New Lead":"  ","Lead Name":" ",Email:" ",Status:"",Priority:"",Source:"",Assigned:"",Value:"","Last Contact":" ","Action Date":" ","Created Date":" ",Actions:"",View:"",Edit:"",Delete:"",Showing:"",of:"",results:"",Previous:"",Next:"",Contact:" ",selected:"","Update Status":" ","Select Status":" ","Apply Status":" ","Assign Owner":" ","Select Owner":" ",Assign:"","Apply Filters":" ",Reset:" ","Filter Options":" ","All Status":" ","All Priority":" ","Assign Date":" ","Creation Date":" ","Old Stage":" ","Closed Date":" ",Campaign:"","All Campaigns":" ","All Countries":" ","WhatsApp Intents":" ","All Intents":" ","Call Type":" ","All Call Types":"  ","Duplicate Status":" ","Search leads...":"  ...","Min amount...":"  ...","Search by email...":"  ...","Sales Person":" ","All Sales People":"  ","Created By":"  ","All Creators":" ","All Old Stages":"  ",System:"",User:"","Ibrahim Ahmed":" ","Sara Nour":" ","Ahmed Ali":" ","All Projects":" ","Project A":" ","Project B":" ","Project C":" ","Summer 2024":" 2024","Winter 2024":" 2024","Spring 2025":" 2025","Saudi Arabia":"",UAE:"",Egypt:"",Jordan:"",Inbound:"",Outbound:"","Follow-up":"",Purchase:"","Lead Statistics":" ","Display Options":" ","Show/Hide Columns":"/ ","Search columns...":"  ...","Reset Columns":"  ",Theme:"",welcome_super_admin:"  !",Profile:"","Profile menu":" ","My Profile":" ","Linked Devices":" ","Company Profile":" ","Change Profile Picture":"   ","Change Password":"  ",Administrator:"",Admin:"","+100% of all system leads":"+100%    ","+8.2% from last month":"+8.2%   ","+5.1% from last month":"+5.1%   ","-2.3% from last month":"-2.3%   ","Add Leads in Excel Sheet":"     ","Add Row":" ","Delete Row":" ","Save Leads":" ",Close:"",Urgent:"",Referral:"","Select Manager":" ","Select Employee":" ","From Date":" ","To Date":" ",Cancel:"","Add New Lead":"  ","Import Leads":" ","Add Demo Leads":"  ","Please select items to restore":"    ","Please select items to delete":"    ","Are you sure you want to restore the selected leads?":"      ","Are you sure you want to permanently delete the selected leads? This action cannot be undone.":"             .","Add Landing Page":"  ",General:"",Description:"",Media:"",Script:"",Title:"","Enter title":" ",Channel:"","Select Channel":" ",Project:"","Select Project":" ","Target URL":" ","Short Description":" ","Upload Media":" ","Header Script":" ","Body Script":" ","Saving...":" ...",Create:"","Saved successfully":"  ",Open:"","Coming soon":"","Reports Dashboard":" ","Sales Report":" ","Lead Report":"  ","Marketing Reports":" ","Team Report":" ","Meetings Report":" ","Sales Activities":" ",Reservations:"","Closed Deals":" ",Rent:"","Check in Report":"  ","Customers Report":" ","Sms Report":" ","Calls Report":" ","Team Performance Report":"  ",Opportunities:"",Cils:"Cils",Calls:"",EOI:" ",Reservation:"",Deals:"","Cancel Reasons":" ","Opened This Month":"  ","Closed This Month":"  ","Open Chances":" ","Missed Chances":" ",Remaining:"","Closed Chances":" ","Data List":" ","Export List":" ","Show Entries":" ",Previous:"",Next:"","No data":"  ","Export Report":" ",Status:"",Reason:"",Count:"","Reports KPIs":" ","Employees Reporting":" ","Generated Reports":" ","Scheduled Reports":" ","Failed Reports":" ","Avg Generation Time":"   ","Report Types":" ",PDF:"  ",Excel:"",Email:" ","Reports per Employee":"  ","Success Rate":" ","Last Activity":" ","Dashboard Overview":"   ","Show All":" ","Hide Less Active":"  ",Minutes:"","reports.sales.desc":"      .","reports.leads.desc":"      .","reports.marketing.desc":"      .","reports.team.desc":"      .","reports.meetings.desc":"     .","reports.sms.desc":"      .","reports.calls.desc":"      .","reports.team_performance.desc":"     .","salesActions.lastUpdate":" ",Update:"","Updating...":" ...","salesActions.reservations":"","salesActions.totalRevenue":" ","salesActions.accounts":"","salesActions.callsBreakdown":" ","salesActions.byType":" ","salesActions.noCalls":"  ","salesActions.topTeam":" ","salesActions.viewTeamDetails":"  ","salesActions.noTeamData":"   ","salesActions.leaderboard":"  ","salesActions.byAccounts":" ","salesActions.monthlyReservationsSummary":"   ","salesActions.lastMonths":" {{months}} ",Month:"",Revenue:"",View:"",Details:"",Rank:"",Conversion:"",Team:"",Excel:"",PDF:"PDF",Print:"","teamDetails.title":" ","teamDetails.roster":"","teamDetails.search":"...","teamDetails.noMembers":"  ","teamDetails.managerialControls":" ","teamDetails.assignNewTask":"  ","teamDetails.sendNote":" /","teamDetails.openPerformanceReview":"   ","teamDetails.suspend":" ","teamDetails.reactivate":" ","teamDetails.tabs.profile":"","teamDetails.tabs.performance":"","teamDetails.tabs.projects":"","teamDetails.tabs.permissions":"","teamDetails.tabs.activity":"","teamDetails.basicInfo":" ","teamDetails.fields.fullName":" ","teamDetails.fields.jobTitle":" ","teamDetails.fields.department":"","teamDetails.fields.employeeId":" ","teamDetails.fields.email":" ","teamDetails.fields.phone":"","teamDetails.fields.joinDate":" ","teamDetails.fields.status":"",Active:"","On Leave":" ",Inactive:" ","teamDetails.performanceMetrics":" ","teamDetails.metrics.totalTasks":" ","teamDetails.metrics.tasksCompletionRate":"  ","teamDetails.metrics.avgResponseTime":"  ","teamDetails.metrics.attendanceRate":" ","teamDetails.metrics.performanceScore":" ","teamDetails.metrics.lastEvaluation":" ","teamDetails.projectsAndResponsibilities":" ",Started:"",Tasks:"","View Project":" ",Reset:" ","teamDetails.noProjects":"  ","teamDetails.permissionsAndAccess":" ","teamDetails.regionBranch":"/","teamDetails.availableModules":" ","teamDetails.updateAccess":" ","teamDetails.restrictAccess":" ","teamDetails.activityLog":" ","teamDetails.filterByDate":" ","activity.leadUpdated":"   ","activity.dealClosed":"  ","activity.newRequestCreated":"   ","security.passwordAuth":"  ","security.save":"","security.currentPassword":"  ","security.newPassword":"  ","security.confirmPassword":"  ","security.passwordMismatch":"   ","security.twoFactor":" ","security.defaultMethod":" ","security.emailOtp":"  ","security.sms":" ","security.app":" ","security.enableMethods":" ","security.enableNotice":"        .","security.setup2fa":"  ","security.accountAccess":" ","security.editPermissions":" ","security.activeSessions":" ","security.device":"","security.location":"","security.lastActive":" ","security.action":"","security.noSessions":"   ","security.logout":" ","security.logoutAll":"    ","security.securityNotifications":" ","security.loginNewDevice":"    ","security.passwordChange":"  ","security.failedLogins":"   ","security.notificationMethod":" ","security.push":" ","security.policies":"   ","security.minLength":" ","security.failedLimit":"   ","security.charReq":" ","security.upper":" ","security.lower":" ","security.number":"","security.special":" ","security.lockoutPolicy":"  ","security.tempLockout":" ","security.lockoutNote":"     .","security.auditLogs":" ","security.modal.setupTitle":"  ","security.modal.setupHelp":"     .","security.modal.logoutTitle":"  ","security.modal.logoutDesc":"    .","security.modal.editPermsTitle":" ","security.perms.viewCustomers":" ","security.perms.editCustomers":" ","security.perms.manageUsers":" ","security.perms.viewBilling":" ","common.cancel":"","common.save":"",Attachment:"","Selected file":" ",Remove:"","Tax Rate (%)":"  (%)","Create Quotation":"  ",Opportunity:"",Select:"","Loading...":" ...","Sent successfully":"  ","Conversion created successfully":"   ","Tax rate updated":"   ","Failed to update tax rate":"   ","Product / Service":" / ",SKU:" ",Quantity:"","Unit Price":" ",Discount:"",Subtotal:" ",Tax:"",Total:"",Quotations:" ","Sales Orders":" ",Invoices:"",Sales:"",Created:" ",ID:"","Send to Customer":"  ","Convert to Sales Order":"   ","Convert to Quotation":"   ",Amount:"",Stage:"","Expected Close Date":"  ","Contact (B2B)":"  (B2B)","Contact person":"  ","Quick add":" ","Add Opportunity":" ",Optional:"",Individual:"","Company name":" ",Tags:"","Comma separated":" ","Assigned Rep":" ","Sales representative":" ","Quick Add Customer":"  ","  CIL":"  CIL","CIL    CRM:           .":"CIL    CRM:           ."," ":" ",:"",system:"",modules:"",rules:"",workflows:" ",validations:" ",flags:" ",governance:""," ":" ","  ":"  "," ":" "," ":" ",:"",Production:"",Staging:"","  ":"  ",leads:" ",eoi:" ",reservation:"",contracts:"",paymentPlans:" ",":    ":":    "," ":" "," ":" ",:"",:""," ":" ",:"",:"",:"",:"",:"",:""," ":" ","   ":"   ",:""," ":" ",:"",:"",:""," ":" "," ":" ","  ":"  ","  ":"  "," ":" "," ":" "," ":" ","  ":"  ",:"","  ":"  ","  ":"  ",:""," ":" ","/ ":"/ ","  ":"  "," ":" "," ":" ","  ":"  "," ":" "," ":" ",:"",:""," ":" "," ":" "," ":" "," ":" ",:""," ":" ","  ":"  "," ":" ","Contract.TotalAmount":" "," ":" "," ":" "," ":" "}}};Gr.use(Eae).init({resources:p6e,lng:(()=>{try{if(typeof window<"u"&&window.localStorage){const e=window.localStorage.getItem("systemPrefs");if(e){const a=JSON.parse(e);if(a&&a.language)return a.language}const t=window.localStorage.getItem("language");if(t)return t}}catch{}return"en"})(),fallbackLng:"en",interpolation:{escapeValue:!1}});function x6e(){const{t:e}=St(),t=Gr.language==="ar",a=y.useMemo(()=>({allowAssignRotation:!0,delayAssignRotation:!1,workFrom:"00:00",workTo:"23:59",reshuffleColdLeads:!1,reshuffleColdLeadsNumber:0}),[]),[r,n]=y.useState(a),[i,l]=y.useState(!1);y.useEffect(()=>{try{const p=localStorage.getItem("rotationSettings");if(p){const m=JSON.parse(p);n({...a,...m})}}catch{}},[a]);const o=p=>{n(m=>({...m,...p})),l(!0)},c=()=>{try{localStorage.setItem("rotationSettings",JSON.stringify(r)),l(!1)}catch{}},d=()=>{n(a),l(!0)},u=({label:p,value:m,onChange:v})=>s.jsxs("div",{className:"flex items-center justify-between py-3",children:[s.jsx("div",{className:"text-sm text-[var(--content-text)] opacity-80",children:p}),s.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"hidden",checked:!!m,onChange:g=>v(g.target.checked)}),s.jsx("span",{className:`w-11 h-6 flex items-center rounded-full p-1 transition ${m?"bg-blue-600":"bg-gray-300 dark:bg-gray-700"}`,children:s.jsx("span",{className:`w-4 h-4 rounded-full bg-white transform transition ${m?t?"-translate-x-0 translate-x-0":"translate-x-5":"translate-x-0"}`})}),s.jsx("span",{className:"ml-2 text-sm",children:e(m?"Yes":"No")})]})]}),f=({label:p,value:m,onChange:v})=>s.jsxs("div",{className:"flex items-center gap-3 py-2",children:[s.jsx("div",{className:"text-sm text-[var(--content-text)] opacity-80 w-28",children:p}),s.jsx("input",{type:"time",value:m,onChange:g=>v(g.target.value),className:"px-3 py-2 rounded-lg border bg-white/80 dark:bg-gray-800/70"})]});return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-1 h-8 bg-gradient-to-b from-blue-500 to-purple-600 rounded-full"}),s.jsx("h2",{className:"text-2xl font-bold",children:e("Rotation Settings")})]}),s.jsxs("div",{className:"glass-panel rounded-2xl p-4 space-y-4",children:[s.jsx(u,{label:e("Allow Assign Rotation"),value:r.allowAssignRotation,onChange:p=>o({allowAssignRotation:p})}),s.jsx(u,{label:e("Delay Assign Rotation"),value:r.delayAssignRotation,onChange:p=>o({delayAssignRotation:p})}),s.jsxs("div",{className:`py-2 ${t?"text-right":""}`,children:[s.jsx("div",{className:"text-sm text-[var(--content-text)] opacity-80 mb-2",children:e("Working Hours From")}),s.jsxs("div",{className:`flex items-center gap-4 ${t?"flex-row-reverse":""}`,children:[s.jsx(f,{label:e("From"),value:r.workFrom,onChange:p=>o({workFrom:p})}),s.jsx("span",{className:"opacity-70",children:e("To")}),s.jsx(f,{label:"",value:r.workTo,onChange:p=>o({workTo:p})})]})]}),s.jsx(u,{label:e("Reshuffle Cold Leads"),value:r.reshuffleColdLeads,onChange:p=>o({reshuffleColdLeads:p})}),s.jsxs("div",{className:"py-2",children:[s.jsx("div",{className:"text-sm text-[var(--content-text)] opacity-80 mb-2",children:e("Reshuffle Cold Leads Number")}),s.jsx("input",{type:"number",min:0,value:r.reshuffleColdLeadsNumber,onChange:p=>o({reshuffleColdLeadsNumber:Number(p.target.value||0)}),className:"w-40 px-3 py-2 rounded-lg border bg-white/80 dark:bg-gray-800/70"})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2 border-t border-[var(--panel-border)]",children:[s.jsx("button",{className:"px-4 py-2 rounded-lg bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-100",onClick:d,children:e("Reset")}),s.jsx("button",{className:"px-4 py-2 rounded-lg bg-blue-600 text-white shadow hover:bg-blue-700 disabled:opacity-50",disabled:!i,onClick:c,children:e("Save")})]})]})]})})}const QG="contracts.settings";function a6(){return{general:{enabled:!0,defaultStatus:"Draft",defaultTemplateId:"",defaultAssigneeId:"",expiryDays:30,autoRenew:!1,renewalTermMonths:12,renewalGraceDays:7},templates:[{id:"basic-contract",name:"Basic Contract",fields:[{key:"customerName",label:"Customer Name",required:!0,type:"text"},{key:"service",label:"Product/Service",required:!0,type:"text"},{key:"amount",label:"Amount",required:!0,type:"number"},{key:"startDate",label:"Start Date",required:!0,type:"date"},{key:"endDate",label:"End Date",required:!1,type:"date"},{key:"terms",label:"Terms",required:!1,type:"textarea"}],dynamicTokens:["{{customer}}","{{lead.id}}","{{sales.opportunityId}}"]}],notifications:{recipients:{admin:!0,broker:!0,customer:!0},methods:{email:!0,sms:!1,inApp:!0},messages:{created:"Contract created for {{customer}}",pending:"Contract pending signature",signed:"Contract signed successfully",expired:"Contract expired. Consider renewal."}},workflow:{autoGenerateFromSales:!0,autoLinkToInvoice:!1,autoRenewContracts:!1,minApprovalRequired:"Manager"}}}async function g6e(){try{const e=await fetch("/api/contracts/settings");if(e.ok)return await e.json()}catch{}try{const e=typeof window<"u"?window.localStorage.getItem(QG):null;if(e)return JSON.parse(e)}catch{}return a6()}async function y9(e){try{if((await fetch("/api/contracts/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)return!0}catch{}try{if(typeof window<"u")return window.localStorage.setItem(QG,JSON.stringify(e)),!0}catch{}return!1}function v6e(){const{t:e,i18n:t}=St();y.useMemo(()=>t.dir()==="rtl",[t]);const[a,r]=y.useState(!0),[n,i]=y.useState(!1),[l,o]=y.useState(a6()),[c,d]=y.useState("general"),[u,f]=y.useState(""),[p]=y.useState([{id:"st1",name:"Staff A"},{id:"st2",name:"Staff B"},{id:"bk1",name:"Broker X"}]);y.useEffect(()=>{let N=!0;return(async()=>{const A=await g6e();N&&(o(_=>({..._,...A})),r(!1))})(),()=>{N=!1}},[]);const m=[{key:"general",label:e("General Settings")},{key:"templates",label:e("Contract Templates")},{key:"notifications",label:e("Notifications")},{key:"workflow",label:e("Workflow & Rules")}],v=(N,A)=>{o(_=>{const E={..._},D=N.split(".");let R=E;for(let I=0;I<D.length-1;I++)R[D[I]]={...R[D[I]]},R=R[D[I]];return R[D[D.length-1]]=A,E})},g=async()=>{i(!0),await y9(l),i(!1)},b=async()=>{const N=a6();o(N),await y9(N)},j=()=>{const N=`tpl-${Date.now()}`,A={id:N,name:"New Template",fields:[{key:"customerName",label:"Customer Name",required:!0,type:"text"},{key:"amount",label:"Amount",required:!0,type:"number"},{key:"startDate",label:"Start Date",required:!0,type:"date"}],dynamicTokens:["{{customer}}"]};o(_=>({..._,templates:[..._.templates,A]})),f(N)},k=N=>{o(A=>({...A,templates:A.templates.filter(_=>_.id!==N)})),u===N&&f(""),l.general.defaultTemplateId===N&&v("general.defaultTemplateId","")},S=(N,A)=>{o(_=>({..._,templates:_.templates.map(E=>E.id===N?{...E,...A}:E)}))};return a?s.jsxs("div",{className:"p-4 text-[var(--muted-text)]",children:[e("Loading"),"..."]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(N=>s.jsx("button",{className:`btn btn-outline btn-sm ${c===N.key?"bg-primary text-white":""}`,onClick:()=>d(N.key),children:N.label},N.key))}),c==="general"&&s.jsx("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Enable Contracts Module")}),s.jsx("input",{type:"checkbox",checked:l.general.enabled,onChange:N=>v("general.enabled",N.target.checked)})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Default Contract Status")}),s.jsx("select",{className:"input",value:l.general.defaultStatus,onChange:N=>v("general.defaultStatus",N.target.value),children:["Draft","Pending Signature","Signed","Cancelled"].map(N=>s.jsx("option",{value:N,children:e(N)},N))})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Default Template")}),s.jsxs("select",{className:"input",value:l.general.defaultTemplateId,onChange:N=>v("general.defaultTemplateId",N.target.value),children:[s.jsx("option",{value:"",children:e("None")}),l.templates.map(N=>s.jsx("option",{value:N.id,children:N.name},N.id))]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Default Assigned Staff / Broker")}),s.jsxs("select",{className:"input",value:l.general.defaultAssigneeId,onChange:N=>v("general.defaultAssigneeId",N.target.value),children:[s.jsx("option",{value:"",children:e("None")}),p.map(N=>s.jsx("option",{value:N.id,children:N.name},N.id))]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Contract Expiry (days)")}),s.jsx("input",{type:"number",min:0,className:"input",value:l.general.expiryDays,onChange:N=>v("general.expiryDays",parseInt(N.target.value||"0",10))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Auto-Renew Contracts")}),s.jsx("input",{type:"checkbox",checked:l.general.autoRenew,onChange:N=>v("general.autoRenew",N.target.checked)})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Renewal Term (months)")}),s.jsx("input",{type:"number",min:1,className:"input",value:l.general.renewalTermMonths,onChange:N=>v("general.renewalTermMonths",parseInt(N.target.value||"0",10))})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Renewal Grace (days)")}),s.jsx("input",{type:"number",min:0,className:"input",value:l.general.renewalGraceDays,onChange:N=>v("general.renewalGraceDays",parseInt(N.target.value||"0",10))})]})]})}),c==="templates"&&s.jsxs("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-base font-semibold",children:e("Contract Templates")}),s.jsx("div",{className:"flex gap-2",children:s.jsx("button",{className:"btn btn-secondary btn-sm",onClick:j,children:e("Add Template")})})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left",children:[s.jsx("th",{className:"p-2",children:e("Name")}),s.jsx("th",{className:"p-2",children:e("Fields")}),s.jsx("th",{className:"p-2",children:e("Actions")})]})}),s.jsx("tbody",{children:l.templates.map(N=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"p-2",children:s.jsx("input",{className:"input",value:N.name,onChange:A=>S(N.id,{name:A.target.value})})}),s.jsx("td",{className:"p-2",children:s.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-300",children:[e("Fields"),": ",N.fields.length]})}),s.jsx("td",{className:"p-2",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"btn btn-outline btn-sm",onClick:()=>f(u===N.id?"":N.id),children:u===N.id?e("Close"):e("Edit")}),s.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>k(N.id),children:e("Delete")})]})})]},N.id))})]})}),u&&s.jsx("div",{className:"rounded-xl border border-gray-200 dark:border-gray-700 p-4",children:l.templates.filter(N=>N.id===u).map(N=>s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"font-medium",children:[e("Edit Template"),": ",N.name]}),s.jsx("button",{className:"btn btn-glass btn-sm",onClick:()=>f(""),children:e("Done")})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:N.fields.map((A,_)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{className:"input flex-1",value:A.label,onChange:E=>{const D=[...N.fields];D[_]={...A,label:E.target.value},S(N.id,{fields:D})}}),s.jsx("select",{className:"input w-32",value:A.type,onChange:E=>{const D=[...N.fields];D[_]={...A,type:E.target.value},S(N.id,{fields:D})},children:["text","number","date","textarea"].map(E=>s.jsx("option",{value:E,children:E},E))}),s.jsxs("label",{className:"text-xs inline-flex items-center gap-1",children:[s.jsx("input",{type:"checkbox",checked:A.required,onChange:E=>{const D=[...N.fields];D[_]={...A,required:E.target.checked},S(N.id,{fields:D})}}),e("Required")]})]},A.key))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"btn btn-outline btn-sm",onClick:()=>{const A=[...N.fields,{key:`field_${N.fields.length+1}`,label:"New Field",required:!1,type:"text"}];S(N.id,{fields:A})},children:e("Add Field")}),s.jsx("button",{className:"btn btn-glass btn-sm",onClick:()=>S(N.id,{dynamicTokens:[...N.dynamicTokens||[],"{{contract.id}}"]}),children:e("Add Dynamic Token")})]})]},N.id))})]}),c==="notifications"&&s.jsxs("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-medium text-sm",children:e("Recipients")}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.notifications.recipients.admin,onChange:N=>v("notifications.recipients",{...l.notifications.recipients,admin:N.target.checked})})," Admin"]}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.notifications.recipients.broker,onChange:N=>v("notifications.recipients",{...l.notifications.recipients,broker:N.target.checked})})," Broker"]}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.notifications.recipients.customer,onChange:N=>v("notifications.recipients",{...l.notifications.recipients,customer:N.target.checked})})," Customer"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-medium text-sm",children:e("Methods")}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.notifications.methods.email,onChange:N=>v("notifications.methods",{...l.notifications.methods,email:N.target.checked})})," Email"]}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.notifications.methods.sms,onChange:N=>v("notifications.methods",{...l.notifications.methods,sms:N.target.checked})})," SMS"]}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.notifications.methods.inApp,onChange:N=>v("notifications.methods",{...l.notifications.methods,inApp:N.target.checked})})," In-App"]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:["created","pending","signed","expired"].map(N=>s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e(`Message: ${N.charAt(0).toUpperCase()+N.slice(1)}`)}),s.jsx("textarea",{className:"input h-24",value:l.notifications.messages[N],onChange:A=>v("notifications.messages",{...l.notifications.messages,[N]:A.target.value})})]},N))})]}),c==="workflow"&&s.jsx("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Auto-generate Contract from Sales Opportunity")}),s.jsx("input",{type:"checkbox",checked:l.workflow.autoGenerateFromSales,onChange:N=>v("workflow.autoGenerateFromSales",N.target.checked)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Auto-link Contract to Invoice")}),s.jsx("input",{type:"checkbox",checked:l.workflow.autoLinkToInvoice,onChange:N=>v("workflow.autoLinkToInvoice",N.target.checked)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Auto-renew Contracts")}),s.jsx("input",{type:"checkbox",checked:l.workflow.autoRenewContracts,onChange:N=>v("workflow.autoRenewContracts",N.target.checked)})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Minimum Approval Required")}),s.jsx("select",{className:"input",value:l.workflow.minApprovalRequired,onChange:N=>v("workflow.minApprovalRequired",N.target.value),children:["None","Admin","Manager"].map(N=>s.jsx("option",{value:N,children:e(N)},N))})]})]})}),s.jsxs("div",{className:"sticky bottom-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur border-t p-4 flex items-center justify-end gap-2 rounded-t-2xl",children:[s.jsx("button",{className:"btn btn-glass",onClick:b,children:e("Reset to Default")}),s.jsx("button",{className:"btn btn-primary",onClick:g,disabled:n,children:e(n?"Saving...":"Save Changes")})]})]})}function b6e(){const{t:e}=St();return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold",children:e("Contracts Settings")}),s.jsx("span",{className:"text-xs px-2 py-1 rounded bg-gray-100 dark:bg-gray-800",children:e("Admin Only")})]}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e("Manage contract templates, required fields, e-sign rules, and integration with Sales/Invoice/Reservation.")}),s.jsx(v6e,{})]})})}const ZG="buyer_request_reset.settings";function s6(){return{general:{enabled:!0,defaultResetStatus:"pending",maxResetsPerRequest:3},rules:{allowedRoles:["admin","broker"],allowedFields:["budget","location","propertyType","notes"],autoNotifyAssignedBroker:!0},notifications:{customer:{enabled:!0,methods:{email:!0,sms:!1,inApp:!0}},admin:{enabled:!0,methods:{email:!0,sms:!1,inApp:!0}},broker:{enabled:!0,methods:{email:!0,sms:!1,inApp:!0}}},workflowLogs:{trackResetHistory:!0,displayChanges:!0,autoConvertToLead:!1,autoConvertToEoi:!1}}}async function y6e(){try{const e=await fetch("/api/buyer-request-reset/settings");if(e.ok)return await e.json()}catch{}try{const e=typeof window<"u"?window.localStorage.getItem(ZG):null;if(e)return JSON.parse(e)}catch{}return s6()}async function w6e(e){try{if(!(await fetch("/api/buyer-request-reset/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw new Error("Failed to save")}catch{}try{typeof window<"u"&&window.localStorage.setItem(ZG,JSON.stringify(e))}catch{}}function j6e(){const{t:e,i18n:t}=St();y.useMemo(()=>t.dir()==="rtl",[t]);const[a,r]=y.useState(!0),[n,i]=y.useState(!1),[l,o]=y.useState(s6()),[c,d]=y.useState("general"),u=[{key:"general",label:e("General Settings")},{key:"rules",label:e("Reset Rules")},{key:"notifications",label:e("Notifications")},{key:"workflow",label:e("Workflow & Logs")}];y.useEffect(()=>{let v=!0;return(async()=>{const g=await y6e();v&&(o(b=>({...b,...g})),r(!1))})(),()=>{v=!1}},[]);const f=(v,g)=>{o(b=>{const j={...b},k=v.split(".");let S=j;for(let N=0;N<k.length-1;N++)S[k[N]]={...S[k[N]]},S=S[k[N]];return S[k[k.length-1]]=g,j})},p=async()=>{i(!0),await w6e(l),i(!1)},m=()=>{const v=s6();o(v)};return a?s.jsx("div",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6",children:s.jsx("div",{className:"animate-pulse text-sm text-gray-500",children:e("Loading settings...")})}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex flex-wrap gap-2",children:u.map(v=>s.jsx("button",{onClick:()=>d(v.key),className:`px-3 py-2 text-sm rounded-full border ${c===v.key?"bg-gray-900 text-white dark:bg-white dark:text-black":"bg-white dark:bg-gray-900 text-gray-700 dark:text-gray-200"} border-gray-200 dark:border-gray-700`,children:v.label},v.key))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:m,className:"px-3 py-2 text-sm rounded bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 border border-gray-200 dark:border-gray-700",children:e("Reset to Default")}),s.jsx("button",{onClick:p,disabled:n,className:`px-3 py-2 text-sm rounded ${n?"opacity-70 cursor-not-allowed":""} bg-blue-600 text-white`,children:e(n?"Saving...":"Save Changes")})]})]}),c==="general"&&s.jsx("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-medium text-sm",children:e("Enable Buyer Request Reset")}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:l.general.enabled,onChange:v=>f("general.enabled",v.target.checked)}),s.jsx("span",{children:l.general.enabled?e("Enabled"):e("Disabled")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-medium text-sm",children:e("Default Reset Status")}),s.jsx("select",{className:"input",value:l.general.defaultResetStatus,onChange:v=>f("general.defaultResetStatus",v.target.value),children:["pending","draft","verified"].map(v=>s.jsx("option",{value:v,children:e(v)},v))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-medium text-sm",children:e("Max Number of Resets per Request")}),s.jsx("input",{type:"number",min:0,className:"input",value:l.general.maxResetsPerRequest,onChange:v=>f("general.maxResetsPerRequest",Number(v.target.value))})]})]})}),c==="rules"&&s.jsxs("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-medium text-sm",children:e("Allowed Roles")}),s.jsx("div",{className:"flex flex-wrap gap-3 text-sm",children:["admin","broker","customer"].map(v=>s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.rules.allowedRoles.includes(v),onChange:g=>{const j=g.target.checked?[...l.rules.allowedRoles,v]:l.rules.allowedRoles.filter(k=>k!==v);f("rules.allowedRoles",j)}}),s.jsx("span",{children:e(v)})]},v))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-medium text-sm",children:e("Fields Allowed for Reset")}),s.jsx("div",{className:"flex flex-wrap gap-3 text-sm",children:[{key:"budget",label:e("Budget")},{key:"location",label:e("Location")},{key:"propertyType",label:e("Property Type")},{key:"notes",label:e("Notes")}].map(v=>s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.rules.allowedFields.includes(v.key),onChange:g=>{const j=g.target.checked?[...l.rules.allowedFields,v.key]:l.rules.allowedFields.filter(k=>k!==v.key);f("rules.allowedFields",j)}}),s.jsx("span",{children:v.label})]},v.key))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-medium text-sm",children:e("Auto-Notify Assigned Broker After Reset")}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:l.rules.autoNotifyAssignedBroker,onChange:v=>f("rules.autoNotifyAssignedBroker",v.target.checked)}),s.jsx("span",{children:l.rules.autoNotifyAssignedBroker?e("Enabled"):e("Disabled")})]})]})]}),c==="notifications"&&s.jsx("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["customer","admin","broker"].map(v=>s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-medium text-sm",children:e(`Notify ${v.charAt(0).toUpperCase()+v.slice(1)}`)}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:l.notifications[v].enabled,onChange:g=>f(`notifications.${v}.enabled`,g.target.checked)}),s.jsx("span",{children:l.notifications[v].enabled?e("Enabled"):e("Disabled")})]}),s.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.notifications[v].methods.email,onChange:g=>f(`notifications.${v}.methods`,{...l.notifications[v].methods,email:g.target.checked})}),s.jsx("span",{children:e("Email")})]}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.notifications[v].methods.sms,onChange:g=>f(`notifications.${v}.methods`,{...l.notifications[v].methods,sms:g.target.checked})}),s.jsx("span",{children:e("SMS")})]}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.notifications[v].methods.inApp,onChange:g=>f(`notifications.${v}.methods`,{...l.notifications[v].methods,inApp:g.target.checked})}),s.jsx("span",{children:e("In-App")})]})]})]},v))})}),c==="workflow"&&s.jsxs("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-medium text-sm",children:e("Track Reset History per Request")}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:l.workflowLogs.trackResetHistory,onChange:v=>f("workflowLogs.trackResetHistory",v.target.checked)}),s.jsx("span",{children:l.workflowLogs.trackResetHistory?e("Enabled"):e("Disabled")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-medium text-sm",children:e("Display Who Reset, When, and Which Fields Changed")}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:l.workflowLogs.displayChanges,onChange:v=>f("workflowLogs.displayChanges",v.target.checked)}),s.jsx("span",{children:l.workflowLogs.displayChanges?e("Enabled"):e("Disabled")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-medium text-sm",children:e("Auto-Convert Reset to Lead")}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:l.workflowLogs.autoConvertToLead,onChange:v=>f("workflowLogs.autoConvertToLead",v.target.checked)}),s.jsx("span",{children:l.workflowLogs.autoConvertToLead?e("Enabled"):e("Disabled")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-medium text-sm",children:e("Auto-Convert Reset to EOI")}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:l.workflowLogs.autoConvertToEoi,onChange:v=>f("workflowLogs.autoConvertToEoi",v.target.checked)}),s.jsx("span",{children:l.workflowLogs.autoConvertToEoi?e("Enabled"):e("Disabled")})]})]})]}),s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 space-y-1",children:[s.jsxs("div",{children:[e("Logs endpoint"),": /api/buyer-request-reset/logs"]}),s.jsxs("div",{children:[e("Apply reset endpoint"),": /api/buyer-request-reset/apply"]}),s.jsxs("div",{children:[e("Notifications endpoint"),": /api/buyer-request-reset/notify"]})]})]})]})}function N6e(){const{t:e}=St();return s.jsx(_r,{title:e("Buyer Request Reset Settings"),children:s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold",children:e("Buyer Request Reset Settings")}),s.jsx("span",{className:"text-xs px-2 py-1 rounded bg-gray-100 dark:bg-gray-800",children:e("Admin Only")})]}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e("Configure reset permissions, notifications, and workflow/logs for buyer requests.")}),s.jsx(j6e,{})]})})}const eK="matching.settings";function tK(e="Default Profile"){return{id:`${Date.now()}`,name:e,fields:{location:!0,budget:!0,propertyType:!0,leadPriority:!0,tags:!1},weights:{location:40,budget:30,propertyType:30,leadPriority:0,tags:0}}}function r6(){const e=tK();return{general:{enabled:!0,defaultStatus:"Pending",autoMatching:!0},criteria:{profiles:[e],activeProfileId:e.id},notifications:{notifyBroker:!0,notifyCustomer:!1,methods:{email:!0,sms:!1,inApp:!0}},workflow:{trackHistory:!0,showScore:!0,manualOverride:{admin:!0,broker:!0}}}}async function k6e(){try{const e=await fetch("/api/matching/settings");if(e.ok)return await e.json()}catch{}try{const e=typeof window<"u"?window.localStorage.getItem(eK):null;if(e)return JSON.parse(e)}catch{}return r6()}async function S6e(e){try{if((await fetch("/api/matching/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)return!0}catch{}try{if(typeof window<"u")return window.localStorage.setItem(eK,JSON.stringify(e)),!0}catch{}return!1}async function C6e(){try{const e=await fetch("/api/matching/logs");if(e.ok)return await e.json()}catch{}try{const e=typeof window<"u"?window.localStorage.getItem("matching.logs"):null;if(e)return JSON.parse(e)}catch{}return[]}async function A6e(e={}){try{const t=await fetch("/api/matching/run",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok)return await t.json()}catch{}return{status:"mocked",matchedCount:0,message:"Mock run completed."}}async function _6e(e={}){try{const t=await fetch("/api/matching/notify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok)return await t.json()}catch{}return{status:"mocked",message:"Notifications simulated."}}function E6e(){const{t:e,i18n:t}=St(),a=t.language==="ar",[r,n]=y.useState(r6()),[i,l]=y.useState(!0),[o,c]=y.useState(!1),[d,u]=y.useState(null),[f,p]=y.useState("General"),[m,v]=y.useState([]),[g,b]=y.useState("");y.useEffect(()=>{let P=!0;return k6e().then(F=>{P&&(n(F),l(!1))}),()=>{P=!1}},[]);const j=(P,F)=>{n(K=>{const V={...K},J=P.split(".");let Q=V;for(let z=0;z<J.length-1;z++)Q[J[z]]={...Q[J[z]]},Q=Q[J[z]];return Q[J[J.length-1]]=F,V})},k=r.criteria.profiles||[],S=y.useMemo(()=>k.find(P=>P.id===r.criteria.activeProfileId)||k[0],[k,r.criteria.activeProfileId]),N=y.useMemo(()=>{const P=S?.weights||{};return(Number(P.location)||0)+(Number(P.budget)||0)+(Number(P.propertyType)||0)+(Number(P.leadPriority)||0)+(Number(P.tags)||0)},[S]),A=()=>{const P=g.trim()||"Profile",F=tK(P),K=[...k,F];j("criteria.profiles",K),j("criteria.activeProfileId",F.id),b(""),u({type:"success",message:e("Profile added")}),setTimeout(()=>u(null),1800)},_=P=>{const F=k.filter(V=>V.id!==P),K=P===r.criteria.activeProfileId?F[0]?.id||null:r.criteria.activeProfileId;j("criteria.profiles",F),j("criteria.activeProfileId",K),u({type:"info",message:e("Profile removed")}),setTimeout(()=>u(null),1800)},E=(P,F)=>{const K=k.map(V=>V.id===P?F({...V}):V);j("criteria.profiles",K)},D=async()=>{c(!0);const P=await S6e(r);c(!1),u({type:P?"success":"error",message:e(P?"Settings saved":"Failed to save settings")}),setTimeout(()=>u(null),2e3)},R=()=>{const P=r6();n(P),u({type:"info",message:e("Settings reset to default")}),setTimeout(()=>u(null),2e3)},I=async()=>{const P=await C6e();v(Array.isArray(P)?P:[])},M=async()=>{const P={profile:S,general:r.general};await A6e(P),u({type:"success",message:e("Matching run completed")}),setTimeout(()=>u(null),1500),await I()},U=async()=>{await _6e({methods:r.notifications.methods}),u({type:"info",message:e("Notifications sent (mock)")}),setTimeout(()=>u(null),1500)};return i?s.jsx("div",{className:"p-4",children:s.jsx("div",{className:"animate-pulse h-6 w-40 bg-gray-200 dark:bg-gray-700 rounded"})}):s.jsxs("div",{className:"mt-4 space-y-4",children:[s.jsx("div",{className:"flex flex-wrap gap-2 border-b border-gray-200 dark:border-gray-700 pb-2",children:["General","Matching Criteria","Notifications","Workflow & Logs"].map(P=>s.jsx("button",{onClick:()=>p(P),className:`px-3 py-1.5 rounded text-sm ${f===P?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200"}`,children:e(P)},P))}),f==="General"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.general.enabled,onChange:P=>j("general.enabled",P.target.checked)}),s.jsx("label",{className:"font-medium",children:e("Enable Matching System")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"font-medium w-48",children:e("Default Matching Status")}),s.jsx("select",{value:r.general.defaultStatus,onChange:P=>j("general.defaultStatus",P.target.value),className:"px-2 py-1 rounded bg-[var(--content-bg)] border border-gray-300 dark:border-gray-700",children:["Pending","Matched","Unmatched"].map(P=>s.jsx("option",{value:P,children:e(P)},P))})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.general.autoMatching,onChange:P=>j("general.autoMatching",P.target.checked)}),s.jsx("label",{className:"font-medium",children:e("Auto-Matching Enabled")})]})]}),f==="Matching Criteria"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"rounded border border-gray-200 dark:border-gray-700 p-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("div",{className:"font-semibold",children:e("Matching Profiles")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{value:g,onChange:P=>b(P.target.value),placeholder:e("Profile name"),className:"px-2 py-1 rounded bg-[var(--content-bg)] border border-gray-300 dark:border-gray-700"}),s.jsx("button",{onClick:A,className:"px-3 py-1 rounded bg-blue-600 text-white text-sm",children:e("Add Profile")})]})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:k.map(P=>s.jsxs("div",{className:`px-3 py-1 rounded text-sm flex items-center gap-2 ${P.id===S?.id?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-800"}`,children:[s.jsx("input",{type:"radio",name:"activeProfile",checked:P.id===S?.id,onChange:()=>j("criteria.activeProfileId",P.id)}),s.jsx("span",{children:P.name}),s.jsx("button",{onClick:()=>_(P.id),className:"text-xs opacity-80",children:e("Remove")})]},P.id))})]}),S&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"font-semibold",children:e("Fields for Matching")}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[{key:"location",label:"Location"},{key:"budget",label:"Budget"},{key:"propertyType",label:"Property Type"},{key:"leadPriority",label:"Lead Priority"},{key:"tags",label:"Tags / Keywords"}].map(P=>s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:!!S.fields[P.key],onChange:F=>E(S.id,K=>(K.fields[P.key]=F.target.checked,K))}),s.jsx("span",{children:e(P.label)})]},P.key))}),s.jsx("div",{className:"font-semibold",children:e("Matching Priority Weight (%)")}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[{key:"location",label:"Location"},{key:"budget",label:"Budget"},{key:"propertyType",label:"Property Type"},{key:"leadPriority",label:"Lead Priority"},{key:"tags",label:"Tags / Keywords"}].map(P=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"w-40",children:e(P.label)}),s.jsx("input",{type:"number",min:0,max:100,value:S.weights[P.key]??0,onChange:F=>E(S.id,K=>(K.weights[P.key]=Number(F.target.value)||0,K)),className:"px-2 py-1 rounded bg-[var(--content-bg)] border border-gray-300 dark:border-gray-700 w-28"}),s.jsx("span",{className:"text-xs text-gray-500",children:e("%")})]},P.key))}),s.jsxs("div",{className:`text-sm ${N===100?"text-green-600":"text-amber-600"}`,children:[e("Total weight"),": ",N,"% ",N!==100&&e("(recommended: 100%)")]})]})]}),f==="Notifications"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.notifications.notifyBroker,onChange:P=>j("notifications.notifyBroker",P.target.checked)}),s.jsx("label",{className:"font-medium",children:e("Notify Assigned Broker / Staff After Match")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.notifications.notifyCustomer,onChange:P=>j("notifications.notifyCustomer",P.target.checked)}),s.jsx("label",{className:"font-medium",children:e("Notify Customer if Matched")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-semibold",children:e("Methods")}),s.jsx("div",{className:"flex flex-wrap gap-4",children:[{key:"email",label:"Email"},{key:"sms",label:"SMS"},{key:"inApp",label:"In-App"}].map(P=>s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.notifications.methods[P.key],onChange:F=>j(`notifications.methods.${P.key}`,F.target.checked)}),s.jsx("span",{children:e(P.label)})]},P.key))})]})]}),f==="Workflow & Logs"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.workflow.trackHistory,onChange:P=>j("workflow.trackHistory",P.target.checked)}),s.jsx("label",{className:"font-medium",children:e("Track Matching History")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.workflow.showScore,onChange:P=>j("workflow.showScore",P.target.checked)}),s.jsx("label",{className:"font-medium",children:e("Display Matches & Score %")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-semibold",children:e("Manual Override Option")}),s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.workflow.manualOverride.admin,onChange:P=>j("workflow.manualOverride.admin",P.target.checked)}),s.jsx("span",{children:e("Admin")})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.workflow.manualOverride.broker,onChange:P=>j("workflow.manualOverride.broker",P.target.checked)}),s.jsx("span",{children:e("Broker")})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:M,className:"px-3 py-1.5 rounded bg-blue-600 text-white text-sm",children:e("Run Matching")}),s.jsx("button",{onClick:I,className:"px-3 py-1.5 rounded bg-gray-200 dark:bg-gray-700 text-sm",children:e("Refresh Logs")}),s.jsx("button",{onClick:U,className:"px-3 py-1.5 rounded bg-amber-500 text-white text-sm",children:e("Send Notifications")})]}),s.jsxs("div",{className:"rounded border border-gray-200 dark:border-gray-700 p-3",children:[s.jsx("div",{className:"font-semibold mb-2",children:e("Matching History")}),m.length===0?s.jsx("div",{className:"text-sm text-gray-500",children:e("No matching logs yet.")}):s.jsx("div",{className:"space-y-2",children:m.map((P,F)=>s.jsxs("div",{className:"text-sm flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:P.entity||"Item"}),s.jsx("span",{className:"opacity-70",children:P.score?`${P.score}%`:""})]}),s.jsx("div",{className:"opacity-70",children:P.time||""})]},F))})]})]}),s.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("button",{onClick:D,disabled:o,className:"px-4 py-2 rounded bg-green-600 text-white disabled:opacity-60",children:e(o?"Saving...":"Save Changes")}),s.jsx("button",{onClick:R,className:"px-4 py-2 rounded bg-gray-200 dark:bg-gray-700",children:e("Reset to Default")})]}),d&&s.jsx("div",{className:`fixed bottom-4 ${a?"left-4":"right-4"} px-3 py-2 rounded text-sm shadow ${d.type==="error"?"bg-red-600 text-white":d.type==="success"?"bg-green-600 text-white":"bg-gray-800 text-white"}`,children:d.message})]})}function T6e(){const{t:e}=St();return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold",children:e("Matching Settings")}),s.jsx("span",{className:"text-xs px-2 py-1 rounded bg-gray-100 dark:bg-gray-800",children:e("Admin Only")})]}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e("Manage matching between Leads, EOI, Buyer Requests, Opportunities, and Properties/Products.")}),s.jsx(E6e,{})]})})}const aK="rent.configuration";function n6(e=1){return{id:`${Date.now()}-${e}`,name:`Unit ${e}`,rentPrice:1e3,minContractMonths:12,depositAmount:500,autoRenew:!0,currency:"USD"}}function i6(){const e=[n6(1),n6(2)];return{general:{enabled:!0,defaultStatus:"Active",defaultCurrency:"USD",paymentTerms:"Monthly",autoGenerateInvoice:!0},units:e,notifications:{customerBeforeDue:{email:!0,sms:!0,inApp:!0},adminLatePayment:!0,beforeExpiry:!1},workflow:{autoUpdateStatus:!0,trackPaymentHistory:!0,linkToContract:!0,linkToSalesOpportunity:!0}}}async function D6e(){try{const e=await fetch("/api/rent/configuration");if(e.ok)return await e.json()}catch{}try{const e=typeof window<"u"?window.localStorage.getItem(aK):null;if(e)return JSON.parse(e)}catch{}return i6()}async function P6e(e){try{if((await fetch("/api/rent/configuration",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)return!0}catch{}try{if(typeof window<"u")return window.localStorage.setItem(aK,JSON.stringify(e)),!0}catch{}return!1}async function M6e(e={}){try{const t=await fetch("/api/rent/generate-invoice",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok)return await t.json()}catch{}return{status:"mocked",message:"Invoice generation simulated."}}async function L6e(){try{const e=await fetch("/api/rent/payment-history");if(e.ok)return await e.json()}catch{}try{const e=typeof window<"u"?window.localStorage.getItem("rent.paymentHistory"):null;if(e)return JSON.parse(e)}catch{}return[]}async function O6e(e={}){try{const t=await fetch("/api/rent/notify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok)return await t.json()}catch{}return{status:"mocked",message:"Notifications simulated."}}function R6e(){const{t:e,i18n:t}=St(),a=t.language==="ar",[r,n]=y.useState(i6()),[i,l]=y.useState(!0),[o,c]=y.useState(!1),[d,u]=y.useState(null),[f,p]=y.useState("General"),[m,v]=y.useState([]);y.useEffect(()=>{let D=!0;return D6e().then(R=>{D&&(n(R),l(!1))}),()=>{D=!1}},[]);const g=(D,R)=>{n(I=>{const M={...I},U=D.split(".");let P=M;for(let F=0;F<U.length-1;F++)P[U[F]]={...P[U[F]]},P=P[U[F]];return P[U[U.length-1]]=R,M})},b=()=>{const D=[...r.units,n6(r.units.length+1)];g("units",D)},j=D=>{const R=r.units.filter(I=>I.id!==D);g("units",R)},k=(D,R)=>{const I=r.units.map(M=>M.id===D?R({...M}):M);g("units",I)},S=async()=>{c(!0);const D=await P6e(r);c(!1),u({type:D?"success":"error",message:e(D?"Settings saved":"Failed to save settings")}),setTimeout(()=>u(null),2e3)},N=()=>{const D=i6();n(D),u({type:"info",message:e("Settings reset to default")}),setTimeout(()=>u(null),2e3)},A=async()=>{const D=await L6e();v(Array.isArray(D)?D:[])},_=async()=>{await M6e({units:r.units,general:r.general}),u({type:"success",message:e("Invoice generation triggered")}),setTimeout(()=>u(null),1500),await A()},E=async()=>{await O6e({methods:r.notifications.customerBeforeDue}),u({type:"info",message:e("Notifications sent (mock)")}),setTimeout(()=>u(null),1500)};return i?s.jsx("div",{className:"p-4",children:s.jsx("div",{className:"animate-pulse h-6 w-40 bg-gray-200 dark:bg-gray-700 rounded"})}):s.jsxs("div",{className:"mt-4 space-y-4",children:[s.jsx("div",{className:"flex flex-wrap gap-2 border-b border-gray-200 dark:border-gray-700 pb-2",children:["General","Rent Units / Properties","Notifications","Workflow & Rules"].map(D=>s.jsx("button",{onClick:()=>p(D),className:`px-3 py-1.5 rounded text-sm ${f===D?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200"}`,children:e(D)},D))}),f==="General"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.general.enabled,onChange:D=>g("general.enabled",D.target.checked)}),s.jsx("label",{className:"font-medium",children:e("Enable Rent Module")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"font-medium w-56",children:e("Default Rent Status")}),s.jsx("select",{value:r.general.defaultStatus,onChange:D=>g("general.defaultStatus",D.target.value),className:"px-2 py-1 rounded bg-[var(--content-bg)] border border-gray-300 dark:border-gray-700",children:["Active","Pending","Expired"].map(D=>s.jsx("option",{value:D,children:e(D)},D))})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"font-medium w-56",children:e("Default Currency")}),s.jsx("input",{value:r.general.defaultCurrency,onChange:D=>g("general.defaultCurrency",D.target.value),className:"px-2 py-1 rounded bg-[var(--content-bg)] border border-gray-300 dark:border-gray-700 w-40"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"font-medium w-56",children:e("Default Payment Terms")}),s.jsx("select",{value:r.general.paymentTerms,onChange:D=>g("general.paymentTerms",D.target.value),className:"px-2 py-1 rounded bg-[var(--content-bg)] border border-gray-300 dark:border-gray-700",children:["Monthly","Quarterly","Yearly"].map(D=>s.jsx("option",{value:D,children:e(D)},D))})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.general.autoGenerateInvoice,onChange:D=>g("general.autoGenerateInvoice",D.target.checked)}),s.jsx("label",{className:"font-medium",children:e("Auto-generate Invoice for Rent")})]})]}),f==="Rent Units / Properties"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"font-semibold",children:e("List of Units / Properties")}),s.jsx("button",{onClick:b,className:"px-3 py-1 rounded bg-blue-600 text-white text-sm",children:e("Add Unit / Property")})]}),s.jsx("div",{className:"space-y-3",children:r.units.map(D=>s.jsxs("div",{className:"rounded border border-gray-200 dark:border-gray-700 p-3 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"w-40",children:e("Name / ID")}),s.jsx("input",{value:D.name,onChange:R=>k(D.id,I=>(I.name=R.target.value,I)),className:"input px-2 py-1 rounded bg-[var(--content-bg)] border border-gray-300 dark:border-gray-700 w-full"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"w-40",children:e("Rent Price")}),s.jsx("input",{type:"number",value:D.rentPrice,onChange:R=>k(D.id,I=>(I.rentPrice=Number(R.target.value)||0,I)),className:"px-2 py-1 rounded bg-[var(--content-bg)] border border-gray-300 dark:border-gray-700 w-40"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"w-56",children:e("Minimum Contract Duration")}),s.jsx("input",{type:"number",value:D.minContractMonths,onChange:R=>k(D.id,I=>(I.minContractMonths=Number(R.target.value)||0,I)),className:"px-2 py-1 rounded bg-[var(--content-bg)] border border-gray-300 dark:border-gray-700 w-40"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"w-40",children:e("Deposit Amount")}),s.jsx("input",{type:"number",value:D.depositAmount,onChange:R=>k(D.id,I=>(I.depositAmount=Number(R.target.value)||0,I)),className:"px-2 py-1 rounded bg-[var(--content-bg)] border border-gray-300 dark:border-gray-700 w-40"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"w-40",children:e("Auto-Renew Option")}),s.jsx("input",{type:"checkbox",checked:D.autoRenew,onChange:R=>k(D.id,I=>(I.autoRenew=R.target.checked,I))})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"w-40",children:e("Currency")}),s.jsx("input",{value:D.currency,onChange:R=>k(D.id,I=>(I.currency=R.target.value,I)),className:"px-2 py-1 rounded bg-[var(--content-bg)] border border-gray-300 dark:border-gray-700 w-32"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{onClick:()=>j(D.id),className:"px-3 py-1 rounded bg-red-600 text-white text-sm",children:e("Remove")})})]},D.id))})]}),f==="Notifications"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"font-semibold",children:e("Notify Customer Before Payment Due")}),s.jsx("div",{className:"flex flex-wrap gap-4",children:[{key:"email",label:"Email"},{key:"sms",label:"SMS"},{key:"inApp",label:"In-App"}].map(D=>s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.notifications.customerBeforeDue[D.key],onChange:R=>g(`notifications.customerBeforeDue.${D.key}`,R.target.checked)}),s.jsx("span",{children:e(D.label)})]},D.key))}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.notifications.adminLatePayment,onChange:D=>g("notifications.adminLatePayment",D.target.checked)}),s.jsx("span",{children:e("Notify Admin / Broker on Late Payment")})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.notifications.beforeExpiry,onChange:D=>g("notifications.beforeExpiry",D.target.checked)}),s.jsx("span",{children:e("Notify before Contract Expiry")})]})]}),f==="Workflow & Rules"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.workflow.autoUpdateStatus,onChange:D=>g("workflow.autoUpdateStatus",D.target.checked)}),s.jsx("span",{className:"font-medium",children:e("Auto-Update Rent Status (Active  Expired)")})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.workflow.trackPaymentHistory,onChange:D=>g("workflow.trackPaymentHistory",D.target.checked)}),s.jsx("span",{className:"font-medium",children:e("Track Rent Payment History")})]}),s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.workflow.linkToContract,onChange:D=>g("workflow.linkToContract",D.target.checked)}),s.jsx("span",{children:e("Link Rent to Contract")})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.workflow.linkToSalesOpportunity,onChange:D=>g("workflow.linkToSalesOpportunity",D.target.checked)}),s.jsx("span",{children:e("Link to Sales Opportunity")})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:_,className:"px-3 py-1.5 rounded bg-blue-600 text-white text-sm",children:e("Generate Invoice")}),s.jsx("button",{onClick:A,className:"px-3 py-1.5 rounded bg-gray-200 dark:bg-gray-700 text-sm",children:e("Refresh Payment History")}),s.jsx("button",{onClick:E,className:"px-3 py-1.5 rounded bg-amber-500 text-white text-sm",children:e("Send Notifications")})]}),s.jsxs("div",{className:"rounded border border-gray-200 dark:border-gray-700 p-3",children:[s.jsx("div",{className:"font-semibold mb-2",children:e("Payment History")}),m.length===0?s.jsx("div",{className:"text-sm text-gray-500",children:e("No payment history yet.")}):s.jsx("div",{className:"space-y-2",children:m.map((D,R)=>s.jsxs("div",{className:"text-sm flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:D.contract||"Contract"}),s.jsx("span",{className:"opacity-70",children:D.amount?`${D.amount} ${D.currency||r.general.defaultCurrency}`:""})]}),s.jsx("div",{className:"opacity-70",children:D.time||""})]},R))})]})]}),s.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("button",{onClick:S,disabled:o,className:"px-4 py-2 rounded bg-green-600 text-white disabled:opacity-60",children:e(o?"Saving...":"Save Changes")}),s.jsx("button",{onClick:N,className:"px-4 py-2 rounded bg-gray-200 dark:bg-gray-700",children:e("Reset to Default")})]}),d&&s.jsx("div",{className:`fixed bottom-4 ${a?"left-4":"right-4"} px-3 py-2 rounded text-sm shadow ${d.type==="error"?"bg-red-600 text-white":d.type==="success"?"bg-green-600 text-white":"bg-gray-800 text-white"}`,children:d.message})]})}function F6e(){const{t:e}=St();return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold",children:e("Rent Configuration")}),s.jsx("span",{className:"text-xs px-2 py-1 rounded bg-gray-100 dark:bg-gray-800",children:e("Admin Only")})]}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e("Manage rent contracts, pricing, invoices, and links to Contracts/Sales/Customers.")}),s.jsx(R6e,{})]})})}const sK="cil.config";function I6e(e){try{return JSON.parse(e)}catch{return null}}function l6(){return{system:{readOnly:!1,strict:!1,defaultCurrency:"USD",environment:"production"},modules:{leads:!0,eoi:!0,reservation:!0,contracts:!0,paymentPlans:!0},rules:[],workflows:[],validations:[],flags:{newDashboard:!1,betaSearch:!1,roleFlags:{admin:!0,manager:!1},envFlags:{production:!1,staging:!0}},governance:{version:1,history:[]}}}function B6e(){try{const e=typeof window<"u"?window.localStorage.getItem(sK):null,t=e?I6e(e):null;return t&&typeof t=="object"?t:l6()}catch{return l6()}}function yx(e){try{typeof window<"u"&&window.localStorage.setItem(sK,JSON.stringify(e))}catch{}}function $6e(){const{t:e,i18n:t}=St(),{theme:a}=Ar(),{stages:r}=Kf(),n=String(t.language||"").startsWith("ar"),i=a==="dark",[l,o]=y.useState(l6()),[c,d]=y.useState(!0),[u,f]=y.useState("system"),p=y.useMemo(()=>{const g=Array.isArray(r)?r:[],b=String(t.language||"").startsWith("ar");return g.map(j=>{if(typeof j=="string")return{key:j,label:j};const k=j.name||j.key||j,S=b?j.nameAr||j.name||j.key||"":j.name||j.nameAr||j.key||"";return{key:k,label:S}})},[r,t.language]);y.useEffect(()=>{o(B6e()),d(!1)},[]);const m=()=>{const g={...l,governance:{...l.governance,version:Number(l.governance.version||1)+1,history:[...l.governance.history||[],{ts:Date.now(),version:Number(l.governance.version||1),summary:"save"}]}};o(g),yx(g)},v=()=>{const g=Number(l.governance.version||1);if(g<=1)return;const b={...l,governance:{...l.governance,version:g-1}};o(b),yx(b)};return c?s.jsxs("div",{className:"p-4 text-[var(--muted-text)]",children:[e(" "),"..."]}):s.jsxs("div",{className:`px-2 py-4 md:px-6 md:py-6 min-h-screen ${i?"bg-[#0b1524] text-white":"bg-gray-50 text-gray-900"}`,dir:n?"rtl":"ltr",children:[s.jsxs("div",{className:"p-4 flex flex-wrap items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 min-w-[260px]",children:[s.jsx("h1",{className:`text-2xl md:text-3xl font-bold ${i?"text-white":"text-black"}`,children:e("  CIL")}),s.jsx("p",{className:"mt-1 text-sm opacity-80",children:e("CIL    CRM:           .")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"px-3 py-2 rounded bg-blue-600 text-white",onClick:m,children:e(" ")}),s.jsx("button",{className:"px-3 py-2 rounded bg-gray-300 dark:bg-gray-700",onClick:v,children:e("")})]})]}),s.jsx("div",{className:"px-4",children:s.jsx("div",{className:"rounded-2xl p-2 overflow-x-auto bg-transparent",children:s.jsx("div",{className:"flex flex-nowrap gap-2 px-2 py-2",children:["system","modules","rules","workflows","validations","flags","governance"].map(g=>s.jsx("button",{className:`min-w-[140px] px-3 py-2 rounded backdrop-blur-sm border ${u===g?i?"bg-white/20 border-white/30 text-white":"bg-black/10 border-black/20 text-black":i?"bg-white/10 border-white/20 text-white":"bg-black/5 border-black/10 text-black"}
                `,onClick:()=>f(g),children:e(g)},g))})})}),s.jsxs("div",{className:"glass-panel rounded-2xl p-4 space-y-4 bg-white/60 dark:bg-[#0b2b4f]",children:[u==="system"&&s.jsxs("div",{className:"grid grid-cols-12 gap-3",children:[s.jsx("div",{className:"col-span-12 h-8"}),s.jsxs("div",{className:"col-span-12 md:col-span-6",children:[s.jsx("div",{className:"font-semibold",children:e(" ")}),s.jsxs("div",{className:"mt-2 space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.system.readOnly,onChange:g=>o(b=>({...b,system:{...b.system,readOnly:g.target.checked}}))}),e("  ")]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.system.strict,onChange:g=>o(b=>({...b,system:{...b.system,strict:g.target.checked}}))}),e(" ")]}),s.jsxs("div",{className:"grid grid-cols-12 gap-2",children:[s.jsxs("div",{className:"col-span-6",children:[s.jsx("div",{className:"text-xs opacity-70",children:e(" ")}),s.jsx("input",{className:"input w-full",value:l.system.defaultCurrency,onChange:g=>o(b=>({...b,system:{...b.system,defaultCurrency:g.target.value}}))})]}),s.jsxs("div",{className:"col-span-6",children:[s.jsx("div",{className:"text-xs opacity-70",children:e("")}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{className:"input w-full pr-10",value:l.system.environment,onChange:g=>o(b=>({...b,system:{...b.system,environment:g.target.value}})),children:[s.jsx("option",{value:"production",children:e("Production")}),s.jsx("option",{value:"staging",children:e("Staging")})]}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700",onMouseDown:g=>{const b=g.currentTarget.previousElementSibling;b&&typeof b.focus=="function"&&b.focus()},children:s.jsx(Ec,{size:18})})]})]})]})]})]}),s.jsx("div",{className:"col-span-12 h-8"})]}),u==="modules"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"grid grid-cols-12 gap-2",children:s.jsx("div",{className:"col-span-12 h-4"})}),s.jsx("div",{className:"font-semibold",children:e("  ")}),["leads","eoi","reservation","contracts","paymentPlans"].map(g=>s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.modules[g],onChange:b=>{const j=b.target.checked;let k={...l.modules,[g]:j};g==="contracts"&&j&&(k.paymentPlans=!0),g==="paymentPlans"&&!j&&(k.contracts=!1),o(S=>({...S,modules:k}))}}),e(g)]},g)),s.jsx("div",{className:"text-xs opacity-70",children:e(":    ")}),s.jsx("div",{className:"grid grid-cols-12 gap-2",children:s.jsx("div",{className:"col-span-12 h-6"})})]}),u==="rules"&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"grid grid-cols-12 gap-2",children:s.jsx("div",{className:"col-span-12 h-4"})}),s.jsx("div",{className:"font-semibold",children:e(" ")}),s.jsx(U6e,{config:l,setConfig:o,t:e}),s.jsx("div",{className:"grid grid-cols-12 gap-2",children:s.jsx("div",{className:"col-span-12 h-6"})})]}),u==="workflows"&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"grid grid-cols-12 gap-2",children:s.jsx("div",{className:"col-span-12 h-4"})}),s.jsx("div",{className:"font-semibold",children:e("  ")}),s.jsx(z6e,{config:l,setConfig:o,stages:p,t:e}),s.jsx("div",{className:"grid grid-cols-12 gap-2",children:s.jsx("div",{className:"col-span-12 h-6"})})]}),u==="validations"&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"grid grid-cols-12 gap-2",children:s.jsx("div",{className:"col-span-12 h-4"})}),s.jsx("div",{className:"font-semibold",children:e(" ")}),s.jsx(H6e,{config:l,setConfig:o,t:e}),s.jsx("div",{className:"grid grid-cols-12 gap-2",children:s.jsx("div",{className:"col-span-12 h-6"})})]}),u==="flags"&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"grid grid-cols-12 gap-2",children:s.jsx("div",{className:"col-span-12 h-4"})}),s.jsx("div",{className:"font-semibold",children:e(" ")}),s.jsx(V6e,{config:l,setConfig:o,t:e}),s.jsx("div",{className:"grid grid-cols-12 gap-2",children:s.jsx("div",{className:"col-span-12 h-6"})})]}),u==="governance"&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"grid grid-cols-12 gap-2",children:s.jsx("div",{className:"col-span-12 h-4"})}),s.jsx("div",{className:"font-semibold",children:e(" ")}),s.jsxs("div",{className:"grid grid-cols-12 gap-2",children:[s.jsxs("div",{className:"col-span-12 md:col-span-4",children:[s.jsx("div",{className:"text-xs opacity-70",children:e(" ")}),s.jsx("div",{className:"mt-1",children:String(l.governance.version||1)})]}),s.jsxs("div",{className:"col-span-12 md:col-span-8",children:[s.jsx("div",{className:"text-xs opacity-70",children:e(" ")}),s.jsxs("div",{className:"mt-1 text-xs",children:[(l.governance.history||[]).length," ",e("")]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-primary",onClick:m,children:e(" ")}),s.jsx("button",{className:"btn btn-outline",onClick:v,children:e("  ")})]}),s.jsx("div",{className:"grid grid-cols-12 gap-2",children:s.jsx("div",{className:"col-span-12 h-6"})})]})]}),s.jsx("div",{className:"px-4",children:s.jsxs("div",{className:"glass-panel rounded-2xl p-4 space-y-3 bg-white/60 dark:bg-[#0b2b4f]",children:[s.jsx("div",{className:"font-semibold",children:e(" ")}),s.jsx(W6e,{config:l,t:e})]})})]})}function U6e({config:e,setConfig:t,t:a}){const[r,n]=y.useState({name:"",scope:"contracts",condition:{left:"Contract.TotalAmount",op:">",right:"100000"},action:{type:"RequireApproval",value:"manager"},priority:1,status:"active"}),i=()=>{if(!String(r.name||"").trim())return;const o={id:`rule-${Date.now()}`,...r,version:1,history:[]},c=[...e.rules||[],o];t(d=>({...d,rules:c})),yx({...e,rules:c}),n({name:"",scope:"contracts",condition:{left:"Contract.TotalAmount",op:">",right:"100000"},action:{type:"RequireApproval",value:"manager"},priority:1,status:"active"})},l=(o,c)=>{const d={...r},u=o.split(".");let f=d;for(let p=0;p<u.length-1;p++)f=f[u[p]];f[u[u.length-1]]=c,n(d)};return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"grid grid-cols-12 gap-2",children:[s.jsxs("div",{className:"col-span-12 md:col-span-4",children:[s.jsx("div",{className:"text-xs opacity-70",children:a(" ")}),s.jsx("input",{className:"input w-full",value:r.name,onChange:o=>n(c=>({...c,name:o.target.value}))})]}),s.jsxs("div",{className:"col-span-12 md:col-span-4",children:[s.jsx("div",{className:"text-xs opacity-70",children:a("")}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{className:"input w-full pr-10",value:r.scope,onChange:o=>n(c=>({...c,scope:o.target.value})),children:[s.jsx("option",{value:"contracts",children:a("")}),s.jsx("option",{value:"leads",children:a(" ")}),s.jsx("option",{value:"reservation",children:a("")})]}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700",onMouseDown:o=>{const c=o.currentTarget.previousElementSibling;c&&typeof c.focus=="function"&&c.focus()},children:s.jsx(Ec,{size:18})})]})]}),s.jsxs("div",{className:"col-span-12 md:col-span-4",children:[s.jsx("div",{className:"text-xs opacity-70",children:a("")}),s.jsx("input",{type:"number",className:"input w-full",value:r.priority,onChange:o=>n(c=>({...c,priority:Number(o.target.value||0)}))})]})]}),s.jsxs("div",{className:"grid grid-cols-12 gap-2",children:[s.jsxs("div",{className:"col-span-12 md:col-span-4",children:[s.jsx("div",{className:"text-xs opacity-70",children:a("")}),s.jsx("input",{className:"input w-full",value:r.condition.left,onChange:o=>l("condition.left",o.target.value)})]}),s.jsxs("div",{className:"col-span-12 md:col-span-2",children:[s.jsx("div",{className:"text-xs opacity-70",children:a("")}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{className:"input w-full pr-10",value:r.condition.op,onChange:o=>l("condition.op",o.target.value),children:[s.jsx("option",{value:">",children:">"}),s.jsx("option",{value:"<",children:"<"}),s.jsx("option",{value:"==",children:"=="}),s.jsx("option",{value:">=",children:">="}),s.jsx("option",{value:"<=",children:"<="})]}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700",onMouseDown:o=>{const c=o.currentTarget.previousElementSibling;c&&typeof c.focus=="function"&&c.focus()},children:s.jsx(Ec,{size:18})})]})]}),s.jsxs("div",{className:"col-span-12 md:col-span-6",children:[s.jsx("div",{className:"text-xs opacity-70",children:a("")}),s.jsx("input",{className:"input w-full",value:r.condition.right,onChange:o=>l("condition.right",o.target.value)})]})]}),s.jsxs("div",{className:"grid grid-cols-12 gap-2",children:[s.jsxs("div",{className:"col-span-12 md:col-span-6",children:[s.jsx("div",{className:"text-xs opacity-70",children:a("")}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{className:"input w-full pr-10",value:r.action.type,onChange:o=>l("action.type",o.target.value),children:[s.jsx("option",{value:"RequireApproval",children:a(" ")}),s.jsx("option",{value:"AutoCreatePaymentPlan",children:a("   ")}),s.jsx("option",{value:"Notify",children:a("")})]}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700",onMouseDown:o=>{const c=o.currentTarget.previousElementSibling;c&&typeof c.focus=="function"&&c.focus()},children:s.jsx(Ec,{size:18})})]})]}),s.jsxs("div",{className:"col-span-12 md:col-span-6",children:[s.jsx("div",{className:"text-xs opacity-70",children:a(" ")}),s.jsx("input",{className:"input w-full",value:r.action.value,onChange:o=>l("action.value",o.target.value)})]})]}),s.jsx("div",{className:"grid grid-cols-12 gap-2",children:s.jsxs("div",{className:"col-span-12 md:col-span-4",children:[s.jsx("div",{className:"text-xs opacity-70",children:a("")}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{className:"input w-full pr-10",value:r.status,onChange:o=>n(c=>({...c,status:o.target.value})),children:[s.jsx("option",{value:"active",children:a("")}),s.jsx("option",{value:"inactive",children:a("")})]}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700",onMouseDown:o=>{const c=o.currentTarget.previousElementSibling;c&&typeof c.focus=="function"&&c.focus()},children:s.jsx(Ec,{size:18})})]})]})}),s.jsx("div",{className:"flex items-center justify-end gap-2",children:s.jsx("button",{className:"btn btn-primary",onClick:i,children:a(" ")})}),s.jsxs("div",{className:"border rounded p-2",children:[s.jsx("div",{className:"text-xs opacity-70",children:a(" ")}),s.jsxs("div",{className:"space-y-1 mt-1",children:[(e.rules||[]).map(o=>s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsx("div",{className:"text-sm",children:o.name}),s.jsx("div",{className:"text-xs opacity-70",children:o.scope}),s.jsxs("div",{className:"text-xs",children:[o.condition.left," ",o.condition.op," ",o.condition.right]}),s.jsxs("div",{className:"text-xs",children:[o.action.type,":",o.action.value]})]},o.id)),(e.rules||[]).length===0&&s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:a("  ")})]})]})]})}function z6e({config:e,setConfig:t,stages:a,t:r}){const[n,i]=y.useState({from:"",to:"",actions:["AutoCreatePaymentPlan"]}),l=()=>{if(!n.from||!n.to)return;const o={id:`wf-${Date.now()}`,from:n.from,to:n.to,actions:n.actions},c=[...e.workflows||[],o];t(d=>({...d,workflows:c})),yx({...e,workflows:c}),i({from:"",to:"",actions:["AutoCreatePaymentPlan"]})};return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"grid grid-cols-12 gap-2",children:[s.jsxs("div",{className:"col-span-12 md:col-span-5",children:[s.jsx("div",{className:"text-xs opacity-70",children:r(" ")}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{className:"input w-full pr-10",value:n.from,onChange:o=>i(c=>({...c,from:o.target.value})),children:[s.jsx("option",{value:"",children:r("")}),a.map(o=>s.jsx("option",{value:o.key,children:o.label||o.key},o.key))]}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700",onMouseDown:o=>{const c=o.currentTarget.previousElementSibling;c&&typeof c.focus=="function"&&c.focus()},children:s.jsx(Ec,{size:18})})]})]}),s.jsxs("div",{className:"col-span-12 md:col-span-5",children:[s.jsx("div",{className:"text-xs opacity-70",children:r(" ")}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{className:"input w-full pr-10",value:n.to,onChange:o=>i(c=>({...c,to:o.target.value})),children:[s.jsx("option",{value:"",children:r("")}),a.map(o=>s.jsx("option",{value:o.key,children:o.label||o.key},o.key))]}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700",onMouseDown:o=>{const c=o.currentTarget.previousElementSibling;c&&typeof c.focus=="function"&&c.focus()},children:s.jsx(Ec,{size:18})})]})]}),s.jsxs("div",{className:"col-span-12 md:col-span-2",children:[s.jsx("div",{className:"text-xs opacity-70",children:r(" ")}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{className:"input w-full pr-10",value:n.actions[0],onChange:o=>i(c=>({...c,actions:[o.target.value]})),children:[s.jsx("option",{value:"AutoCreatePaymentPlan",children:r("  ")}),s.jsx("option",{value:"Notify",children:r("")})]}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700",onMouseDown:o=>{const c=o.currentTarget.previousElementSibling;c&&typeof c.focus=="function"&&c.focus()},children:s.jsx(Ec,{size:18})})]})]})]}),s.jsx("div",{className:"flex items-center justify-end gap-2",children:s.jsx("button",{className:"btn btn-primary",onClick:l,children:r("")})}),s.jsxs("div",{className:"border rounded p-2",children:[s.jsx("div",{className:"text-xs opacity-70",children:r("  ")}),s.jsxs("div",{className:"space-y-1 mt-1",children:[(e.workflows||[]).map(o=>s.jsxs("div",{className:"text-xs",children:[o.from,"  ",o.to,"  ",o.actions.join(", ")]},o.id)),(e.workflows||[]).length===0&&s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:r("  ")})]})]})]})}function H6e({config:e,setConfig:t,t:a}){const[r,n]=y.useState({scope:"contracts",field:"DownPayment",op:"<=",value:"TotalAmount"}),i=()=>{if(!String(r.field||"").trim())return;const l={id:`val-${Date.now()}`,...r},o=[...e.validations||[],l];t(c=>({...c,validations:o})),yx({...e,validations:o}),n({scope:"contracts",field:"DownPayment",op:"<=",value:"TotalAmount"})};return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"grid grid-cols-12 gap-2",children:[s.jsxs("div",{className:"col-span-12 md:col-span-3",children:[s.jsx("div",{className:"text-xs opacity-70",children:a("")}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{className:"input w-full pr-10",value:r.scope,onChange:l=>n(o=>({...o,scope:l.target.value})),children:[s.jsx("option",{value:"contracts",children:a("")}),s.jsx("option",{value:"leads",children:a(" ")})]}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700",onMouseDown:l=>{const o=l.currentTarget.previousElementSibling;o&&typeof o.focus=="function"&&o.focus()},children:s.jsx(Ec,{size:18})})]})]}),s.jsxs("div",{className:"col-span-12 md:col-span-3",children:[s.jsx("div",{className:"text-xs opacity-70",children:a("")}),s.jsx("input",{className:"input w-full",value:r.field,onChange:l=>n(o=>({...o,field:l.target.value}))})]}),s.jsxs("div",{className:"col-span-12 md:col-span-2",children:[s.jsx("div",{className:"text-xs opacity-70",children:a("")}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{className:"input w-full pr-10",value:r.op,onChange:l=>n(o=>({...o,op:l.target.value})),children:[s.jsx("option",{value:"<=",children:"<="}),s.jsx("option",{value:">=",children:">="}),s.jsx("option",{value:"==",children:"=="})]}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700",onMouseDown:l=>{const o=l.currentTarget.previousElementSibling;o&&typeof o.focus=="function"&&o.focus()},children:s.jsx(Ec,{size:18})})]})]}),s.jsxs("div",{className:"col-span-12 md:col-span-4",children:[s.jsx("div",{className:"text-xs opacity-70",children:a("/ ")}),s.jsx("input",{className:"input w-full",value:r.value,onChange:l=>n(o=>({...o,value:l.target.value}))})]})]}),s.jsx("div",{className:"flex items-center justify-end gap-2",children:s.jsx("button",{className:"btn btn-primary",onClick:i,children:a("  ")})}),s.jsxs("div",{className:"border rounded p-2",children:[s.jsx("div",{className:"text-xs opacity-70",children:a(" ")}),s.jsxs("div",{className:"space-y-1 mt-1",children:[(e.validations||[]).map(l=>s.jsxs("div",{className:"text-xs",children:[l.scope,".",l.field," ",l.op," ",l.value]},l.id)),(e.validations||[]).length===0&&s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:a("  ")})]})]})]})}function V6e({config:e,setConfig:t,t:a}){const r=(n,i)=>{const l={...e.flags,[n]:i};t(o=>({...o,flags:l})),yx({...e,flags:l})};return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:e.flags.newDashboard,onChange:n=>r("newDashboard",n.target.checked)}),a("  ")]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:e.flags.betaSearch,onChange:n=>r("betaSearch",n.target.checked)}),a(" ")]}),s.jsxs("div",{className:"grid grid-cols-12 gap-2",children:[s.jsxs("div",{className:"col-span-12 md:col-span-6",children:[s.jsx("div",{className:"text-xs opacity-70",children:a(" ")}),s.jsxs("div",{className:"mt-1 flex items-center gap-3",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:e.flags.roleFlags.admin,onChange:n=>r("roleFlags",{...e.flags.roleFlags,admin:n.target.checked})}),a("")]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:e.flags.roleFlags.manager,onChange:n=>r("roleFlags",{...e.flags.roleFlags,manager:n.target.checked})}),a("")]})]})]}),s.jsxs("div",{className:"col-span-12 md:col-span-6",children:[s.jsx("div",{className:"text-xs opacity-70",children:a(" ")}),s.jsxs("div",{className:"mt-1 flex items-center gap-3",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:e.flags.envFlags.production,onChange:n=>r("envFlags",{...e.flags.envFlags,production:n.target.checked})}),a("Production")]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:e.flags.envFlags.staging,onChange:n=>r("envFlags",{...e.flags.envFlags,staging:n.target.checked})}),a("Staging")]})]})]})]})]})}function W6e({config:e,t}){const[a,r]=y.useState({scope:"contracts",Contract_TotalAmount:15e4}),i=(()=>{const l=a.scope;return(e.rules||[]).filter(d=>d.scope===l&&d.status==="active").filter(d=>{const u=String(d.condition.left||"").replace(".","_"),f=Number(a[u]||0),p=Number(d.condition.right||0);switch(d.condition.op){case">":return f>p;case"<":return f<p;case"==":return f===p;case">=":return f>=p;case"<=":return f<=p;default:return!1}}).map(d=>`${d.action.type}:${d.action.value}`)})();return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"grid grid-cols-12 gap-2",children:[s.jsxs("div",{className:"col-span-12 md:col-span-4",children:[s.jsx("div",{className:"text-xs opacity-70",children:t("")}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{className:"input w-full pr-10",value:a.scope,onChange:l=>r(o=>({...o,scope:l.target.value})),children:[s.jsx("option",{value:"contracts",children:t("")}),s.jsx("option",{value:"leads",children:t(" ")})]}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700",onMouseDown:l=>{const o=l.currentTarget.previousElementSibling;o&&typeof o.focus=="function"&&o.focus()},children:s.jsx(Ec,{size:18})})]})]}),s.jsxs("div",{className:"col-span-12 md:col-span-4",children:[s.jsx("div",{className:"text-xs opacity-70",children:t("Contract.TotalAmount")}),s.jsx("input",{type:"number",className:"input w-full",value:a.Contract_TotalAmount,onChange:l=>r(o=>({...o,Contract_TotalAmount:Number(l.target.value||0)}))})]})]}),s.jsxs("div",{className:"border rounded p-2",children:[s.jsx("div",{className:"text-xs opacity-70",children:t(" ")}),s.jsx("div",{className:"mt-1 text-xs",children:i.join(", ")||t(" ")})]})]})}const rK="crmStages";function w9(){try{const e=typeof window<"u"?window.localStorage.getItem(rK):null,t=e?JSON.parse(e):[];return Array.isArray(t)?t:[]}catch{return[]}}function zw(e){try{typeof window<"u"&&window.localStorage.setItem(rK,JSON.stringify(e))}catch{}}function z0(e){return[...e].sort((t,a)=>Number(t.order)-Number(a.order))}const nK=["no_answer","follow_up","meeting","proposal","reservation","deal","cancel"];function X3(e){return(Array.isArray(e)?e:[]).map(a=>({name:a?.name||"",nameAr:a?.nameAr||"",type:a?.type||"follow_up",order:a?.order??0,color:a?.color||"#3B82F6",icon:a?.icon||"",iconUrl:a?.iconUrl||""}))}function q6e(){return[{name:"Follow up",nameAr:"",type:"follow_up",order:2,color:"#3B82F6",icon:""},{name:"No Answer",nameAr:"",type:"follow_up",order:3,color:"#EF4444",icon:""},{name:"Meeting",nameAr:"",type:"meeting",order:4,color:"#8B5CF6",icon:""},{name:"Proposal",nameAr:"",type:"proposal",order:6,color:"#F59E0B",icon:""},{name:"Reservation",nameAr:"",type:"reservation",order:7,color:"#10B981",icon:""},{name:"Closing Deal",nameAr:"",type:"deal",order:8,color:"#22C55E",icon:""},{name:"Cancelation",nameAr:"",type:"cancel",order:9,color:"#F97316",icon:""}]}function G6e({s:e,idx:t,editingIndex:a,setEditingIndex:r,pipelineStages:n,setPipelineStages:i,t:l}){const o=a===t;return s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"p-2",children:t+1}),s.jsx("td",{className:"p-2",children:o?s.jsx("input",{className:"w-full border rounded p-1",value:e.name,onChange:c=>{const d=[...n];d[t]={...d[t],name:c.target.value},i(d)}}):e.name}),s.jsx("td",{className:"p-2",children:o?s.jsx("input",{className:"w-full border rounded p-1",value:e.nameAr||"",onChange:c=>{const d=[...n];d[t]={...d[t],nameAr:c.target.value},i(d)}}):e.nameAr||""}),s.jsx("td",{className:"p-2",children:o?s.jsx("select",{className:"w-full border rounded p-1",value:e.type,onChange:c=>{const d=[...n];d[t]={...d[t],type:c.target.value},i(d)},children:nK.map(c=>s.jsx("option",{value:c,children:l(c)},c))}):l(e.type)}),s.jsx("td",{className:"p-2",children:o?s.jsx("input",{className:"w-full border rounded p-1",type:"number",value:e.order,onChange:c=>{const d=[...n];d[t]={...d[t],order:c.target.value},i(d)}}):e.order}),s.jsx("td",{className:"p-2",children:o?s.jsx("input",{className:"border rounded p-0 h-8 w-12",type:"color",value:e.color||"#3B82F6",onChange:c=>{const d=[...n];d[t]={...d[t],color:c.target.value},i(d)}}):s.jsx("span",{className:"inline-block w-4 h-4 rounded",style:{backgroundColor:e.color||"#3B82F6"}})}),s.jsx("td",{className:"p-2",children:o?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{className:"w-16 h-8 text-center border rounded p-1",value:e.icon||"",placeholder:l("Icon"),onChange:c=>{const d=[...n];d[t]={...d[t],icon:c.target.value,iconUrl:""},i(d)}}),s.jsx("input",{className:"w-full border rounded p-1",type:"file",accept:"image/*",onChange:c=>{const d=c.target.files&&c.target.files[0];if(!d)return;const u=new FileReader;u.onload=()=>{const f=[...n];f[t]={...f[t],iconUrl:String(u.result||""),icon:""},i(f)},u.readAsDataURL(d)}})]}):e.iconUrl?s.jsx("img",{src:e.iconUrl,alt:"icon",className:"w-6 h-6 inline-block rounded"}):s.jsx("span",{className:"text-lg inline-block",children:e.icon||""})}),s.jsx("td",{className:"p-2",children:o?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"px-2 py-1 rounded bg-green-600 text-white",onClick:()=>{const c=z0(n);i(c),zw(c),r(null)},children:l("Save")}),s.jsx("button",{className:"px-2 py-1 rounded bg-gray-300 dark:bg-gray-700",onClick:()=>r(null),children:l("Cancel")})]}):s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"px-2 py-1 rounded bg-blue-600 text-white",onClick:()=>r(t),children:l("Edit")}),s.jsx("button",{className:"px-2 py-1 rounded bg-red-600 text-white",onClick:()=>{const c=n.filter((u,f)=>f!==t),d=z0(c);i(d),zw(d)},children:l("Delete")})]})})]})}function iK(){const{t:e,i18n:t}=St(),{theme:a}=Ar(),r=String(t.language||"").startsWith("ar"),[n,i]=y.useState(()=>X3(z0(w9()))),[l,o]=y.useState({name:"",nameAr:"",type:"follow_up",order:"",color:"#3B82F6",icon:"",iconUrl:""}),[c,d]=y.useState(null),[u,f]=y.useState(!1);y.useEffect(()=>{const b=w9();if(b.length===0){const j=X3(z0(q6e()));i(j),zw(j)}else i(X3(z0(b)))},[]);const p=a==="dark"?"bg-[#0b2b4f]":"bg-gray-100",m="text-left p-2 border-b",v=a==="dark"?" border-gray-700 text-white/80":"",g=()=>{if(!l.name.trim()||l.order==="")return;const b=Number(l.order),j=[...n,{name:l.name.trim(),nameAr:String(l.nameAr||"").trim(),type:l.type,order:isNaN(b)?n.length+1:b,color:l.color,icon:l.icon,iconUrl:l.iconUrl}],k=z0(j);i(k),zw(k),o({name:"",nameAr:"",type:"follow_up",order:"",color:"#3B82F6",icon:"",iconUrl:""}),f(!1)};return s.jsxs("div",{className:`px-2 max-[480px]:px-1 py-4 md:px-6 md:py-6 min-h-screen ${a==="dark"?"text-white":"text-gray-900"}`,dir:r?"rtl":"ltr",children:[s.jsx("div",{className:"p-4 flex justify-between items-center gap-4 mb-6",dir:r?"rtl":"ltr",children:s.jsxs("div",{className:`relative inline-flex items-center ${r?"flex-row-reverse":""} gap-2`,children:[s.jsx("h1",{className:`page-title text-2xl md:text-3xl font-bold ${a==="dark"?"text-white":"text-black"} flex items-center gap-2 ${r?"flex-row-reverse text-right":"text-left"}`,style:{textAlign:r?"right":"left"},children:e("Stages Setup")}),s.jsx("span",{"aria-hidden":!0,className:"absolute block h-[1px] rounded bg-gradient-to-r from-blue-500 via-purple-500 to-transparent",style:{width:"calc(100% + 8px)",left:r?"auto":"-4px",right:r?"-4px":"auto",bottom:"-4px"}})]})}),s.jsxs("div",{className:"glass-panel rounded-2xl p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"font-semibold",children:e("Pipeline Setup Stages")}),s.jsx("button",{className:"px-3 py-2 rounded bg-blue-600 text-white",onClick:()=>f(b=>!b),children:e("New Stage")})]}),u&&s.jsxs("div",{className:"grid grid-cols-12 gap-3",children:[s.jsxs("div",{className:"col-span-12 grid grid-cols-12 gap-3 items-center",children:[s.jsxs("div",{className:"col-span-12 md:col-span-3 flex flex-col gap-1",children:[s.jsx("span",{className:"text-xs font-medium opacity-70",children:e("Stage Name")}),s.jsx("input",{className:"w-full border rounded p-2 dark:bg-gray-800 dark:text-white",placeholder:e("Stage Name"),value:l.name,onChange:b=>o(j=>({...j,name:b.target.value}))})]}),s.jsxs("div",{className:"col-span-12 md:col-span-3 flex flex-col gap-1",children:[s.jsx("span",{className:"text-xs font-medium opacity-70",children:e("Stage Name (Arabic)")}),s.jsx("input",{className:"w-full border rounded p-2 dark:bg-gray-800 dark:text-white",placeholder:e("Stage Name (Arabic)"),value:l.nameAr,onChange:b=>o(j=>({...j,nameAr:b.target.value}))})]}),s.jsxs("div",{className:"col-span-12 md:col-span-3 flex flex-col gap-1",children:[s.jsx("span",{className:"text-xs font-medium opacity-70",children:e("Stage Type")}),s.jsxs("div",{className:"relative",children:[s.jsx("select",{className:"w-full border rounded p-2 pr-10 dark:bg-gray-800 dark:text-white",value:l.type,onChange:b=>o(j=>({...j,type:b.target.value})),children:nK.map(b=>s.jsx("option",{value:b,children:e(b)},b))}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700",onMouseDown:b=>{const j=b.currentTarget.previousElementSibling;j&&typeof j.focus=="function"&&j.focus()},children:s.jsx(Ec,{size:18})})]})]}),s.jsxs("div",{className:"col-span-12 md:col-span-3 flex flex-col gap-1",children:[s.jsx("span",{className:"text-xs font-medium opacity-70",children:e("Stage Order")}),s.jsx("input",{className:"w-full border rounded p-2 dark:bg-gray-800 dark:text-white",type:"number",placeholder:e("Stage Order"),value:l.order,onChange:b=>o(j=>({...j,order:b.target.value}))})]})]}),s.jsxs("div",{className:"col-span-12 grid grid-cols-12 gap-3 items-center",children:[s.jsxs("div",{className:"col-span-12 sm:col-span-6 md:col-span-3 flex flex-col gap-1",children:[s.jsx("span",{className:"text-xs font-medium opacity-70",children:e("Stage Color")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{className:"border rounded p-0 h-10 w-16",type:"color",value:l.color,onChange:b=>o(j=>({...j,color:b.target.value}))}),s.jsx("span",{className:"text-xs opacity-70",children:l.color})]})]}),s.jsxs("div",{className:"col-span-12 md:col-span-6 flex flex-col gap-1",children:[s.jsx("span",{className:"text-xs font-medium opacity-70",children:e("Stage Icon")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{className:"w-16 h-10 text-center border rounded p-2 dark:bg-gray-800 dark:text-white",placeholder:e("Icon"),value:l.icon,onChange:b=>o(j=>({...j,icon:b.target.value}))}),s.jsx("input",{id:"new-stage-icon-file",className:"hidden",type:"file",accept:"image/*",onChange:b=>{const j=b.target.files&&b.target.files[0];if(!j)return;const k=new FileReader;k.onload=()=>o(S=>({...S,iconUrl:String(k.result||""),icon:""})),k.readAsDataURL(j)}}),s.jsx("label",{htmlFor:"new-stage-icon-file",className:"px-3 py-2 rounded bg-blue-600 text-white hover:bg-blue-700 cursor-pointer whitespace-nowrap",children:e("Upload Icon")}),(l.iconUrl||l.icon)&&(l.iconUrl?s.jsx("img",{src:l.iconUrl,alt:"icon",className:"w-7 h-7 rounded"}):s.jsx("span",{className:"text-xl",children:l.icon}))]})]})]}),s.jsx("div",{className:"col-span-12 flex items-center justify-end gap-2",children:s.jsx("button",{className:"px-3 py-2 rounded bg-green-600 hover:bg-green-700 text-white",onClick:g,children:e("Add")})})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm border border-gray-200 dark:border-gray-700 rounded",children:[s.jsx("thead",{className:p,children:s.jsxs("tr",{children:[s.jsx("th",{className:`${m}${v}`,children:e("No.")}),s.jsx("th",{className:`${m}${v}`,children:e("Stage Name")}),s.jsx("th",{className:`${m}${v}`,children:e("Stage Name (Arabic)")}),s.jsx("th",{className:`${m}${v}`,children:e("Stage Type")}),s.jsx("th",{className:`${m}${v}`,children:e("Stage Order")}),s.jsx("th",{className:`${m}${v}`,children:e("Stage Color")}),s.jsx("th",{className:`${m}${v}`,children:e("Stage Icon")}),s.jsx("th",{className:`${m}${v}`,children:e("Actions")})]})}),s.jsxs("tbody",{children:[z0(n).map((b,j)=>s.jsx(G6e,{s:b,idx:j,editingIndex:c,setEditingIndex:d,pipelineStages:n,setPipelineStages:i,t:e},`stage-${j}-${b.name}`)),n.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"p-2 text-[var(--muted-text)]",colSpan:8,children:e("No data")})})]})]})})]})]})}function K6e(){return s.jsx("div",{className:"px-0 py-0 w-full",children:s.jsx(iK,{})})}function Y6e(){return s.jsx("div",{className:"px-0 py-0 w-full",children:s.jsx(iK,{})})}const lK="crmCancelReasons";function j9(){try{const e=typeof window<"u"?window.localStorage.getItem(lK):null,t=e?JSON.parse(e):[];return Array.isArray(t)?t:[]}catch{return[]}}function Hw(e){try{typeof window<"u"&&window.localStorage.setItem(lK,JSON.stringify(e))}catch{}}function J3(e){return(Array.isArray(e)?e:[]).map(a=>({title:a?.title||"",titleAr:a?.titleAr||""}))}function X6e(){return[{title:"Not Interested",titleAr:""},{title:"Wrong Number",titleAr:""},{title:"Payment Plan",titleAr:""},{title:"Low Budget",titleAr:""}]}function J6e({r:e,idx:t,editingIndex:a,setEditingIndex:r,reasons:n,setReasons:i,t:l}){const o=a===t;return s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"p-2",children:t+1}),s.jsx("td",{className:"p-2",children:o?s.jsx("input",{className:"w-full border rounded p-1",value:e.title,onChange:c=>{const d=[...n];d[t]={...d[t],title:c.target.value},i(d)}}):e.title}),s.jsx("td",{className:"p-2",children:o?s.jsx("input",{className:"w-full border rounded p-1",value:e.titleAr||"",onChange:c=>{const d=[...n];d[t]={...d[t],titleAr:c.target.value},i(d)}}):e.titleAr||""}),s.jsx("td",{className:"p-2",children:o?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"px-2 py-1 rounded bg-green-600 text-white",onClick:()=>{Hw(n),r(null)},children:l("Save")}),s.jsx("button",{className:"px-2 py-1 rounded bg-gray-300 dark:bg-gray-700",onClick:()=>r(null),children:l("Cancel")})]}):s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"px-2 py-1 rounded bg-blue-600 text-white",onClick:()=>r(t),children:l("Edit")}),s.jsx("button",{className:"px-2 py-1 rounded bg-red-600 text-white",onClick:()=>{const c=n.filter((d,u)=>u!==t);i(c),Hw(c)},children:l("Delete")})]})})]})}function Q6e(){const{t:e,i18n:t}=St(),{theme:a}=Ar(),r=String(t.language||"").startsWith("ar"),[n,i]=y.useState(()=>J3(j9())),[l,o]=y.useState({title:"",titleAr:""}),[c,d]=y.useState(null),[u,f]=y.useState(!1);y.useEffect(()=>{const b=j9();if(b.length===0){const j=J3(X6e());i(j),Hw(j)}else i(J3(b))},[]);const p=a==="dark"?"bg-[#0b2b4f]":"bg-gray-100",m="text-left p-2 border-b",v=a==="dark"?" border-gray-700 text-white/80":"",g=()=>{if(!l.title.trim())return;const b=[...n,{title:l.title.trim(),titleAr:String(l.titleAr||"").trim()}];i(b),Hw(b),o({title:"",titleAr:""}),f(!1)};return s.jsxs("div",{className:`px-2 max-[480px]:px-1 py-4 md:px-6 md:py-6 min-h-screen ${a==="dark"?"text-white":"text-gray-900"}`,dir:r?"rtl":"ltr",children:[s.jsx("div",{className:"p-4 flex justify-between items-center gap-4 mb-6",dir:r?"rtl":"ltr",children:s.jsxs("div",{className:`relative inline-flex items-center ${r?"flex-row-reverse":""} gap-2`,children:[s.jsx("h1",{className:`page-title text-2xl md:text-3xl font-bold ${a==="dark"?"text-white":"text-black"} flex items-center gap-2 ${r?"flex-row-reverse text-right":"text-left"}`,style:{textAlign:r?"right":"left"},children:e("Cancel Reasons")}),s.jsx("span",{"aria-hidden":!0,className:"absolute block h-[1px] rounded bg-gradient-to-r from-blue-500 via-purple-500 to-transparent",style:{width:"calc(100% + 8px)",left:r?"auto":"-4px",right:r?"-4px":"auto",bottom:"-4px"}})]})}),s.jsxs("div",{className:"glass-panel rounded-2xl p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"font-semibold",children:e("Cancel Reasons")}),s.jsx("button",{className:"px-3 py-2 rounded bg-blue-600 text-white",onClick:()=>f(b=>!b),children:e("Add Cancel Reason")})]}),u&&s.jsxs("div",{className:"grid grid-cols-12 gap-3",children:[s.jsxs("div",{className:"col-span-12 grid grid-cols-12 gap-3 items-center",children:[s.jsxs("div",{className:"col-span-12 md:col-span-6 flex flex-col gap-1",children:[s.jsx("span",{className:"text-xs font-medium opacity-70",children:e("Reason Title")}),s.jsx("input",{className:"w-full border rounded p-2 dark:bg-gray-800 dark:text-white",placeholder:e("Reason Title"),value:l.title,onChange:b=>o(j=>({...j,title:b.target.value}))})]}),s.jsxs("div",{className:"col-span-12 md:col-span-6 flex flex-col gap-1",children:[s.jsx("span",{className:"text-xs font-medium opacity-70",children:e("Reason Title (Arabic)")}),s.jsx("input",{className:"w-full border rounded p-2 dark:bg-gray-800 dark:text-white",placeholder:e("Reason Title (Arabic)"),value:l.titleAr,onChange:b=>o(j=>({...j,titleAr:b.target.value}))})]})]}),s.jsx("div",{className:"col-span-12 flex items-center justify-end gap-2",children:s.jsx("button",{className:"px-3 py-2 rounded bg-green-600 hover:bg-green-700 text-white",onClick:g,children:e("Add")})})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm border border-gray-200 dark:border-gray-700 rounded",children:[s.jsx("thead",{className:p,children:s.jsxs("tr",{children:[s.jsx("th",{className:`${m}${v}`,children:e("No.")}),s.jsx("th",{className:`${m}${v}`,children:e("Reason Title")}),s.jsx("th",{className:`${m}${v}`,children:e("Reason Title (Arabic)")}),s.jsx("th",{className:`${m}${v}`,children:e("Actions")})]})}),s.jsxs("tbody",{children:[n.map((b,j)=>s.jsx(J6e,{r:b,idx:j,editingIndex:c,setEditingIndex:d,reasons:n,setReasons:i,t:e},`reason-${j}-${b.title}`)),n.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"p-2 text-[var(--muted-text)]",colSpan:4,children:e("No cancel reasons yet. Add your first reason above.")})})]})]})})]})]})}const oK="paymentPlans.templates";function Z6e(e){try{return JSON.parse(e)}catch{return null}}function Vx(){try{const e=typeof window<"u"?window.localStorage.getItem(oK):null,t=e?Z6e(e):[];return Array.isArray(t)?t:[]}catch{return[]}}function vN(e){try{typeof window<"u"&&window.localStorage.setItem(oK,JSON.stringify(e))}catch{}}function N9(){return{id:`tpl-${Date.now()}`,name:"New Payment Plan",allowedStages:["deal"],installments:[{label:"Down Payment",percentage:20,dueAfterDays:0},{label:"Installment 1",percentage:40,dueAfterDays:30},{label:"Installment 2",percentage:40,dueAfterDays:60}],usedCount:0}}async function eAe(){try{const e=await fetch("/api/payment-plans/templates");if(!e.ok)throw new Error("network");const t=await e.json();return Array.isArray(t.items)?t.items:[]}catch{return Vx()}}async function tAe(e){try{const t=await fetch("/api/payment-plans/templates",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("network");return(await t.json()).item}catch{const t=Vx(),a={...e,id:e.id||`tpl-${Date.now()}`},r=[...t,a];return vN(r),a}}async function aAe(e,t){try{const a=await fetch(`/api/payment-plans/templates/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw new Error("network");return(await a.json()).item}catch{const r=Vx().map(n=>n.id===e?{...n,...t}:n);return vN(r),r.find(n=>n.id===e)}}async function sAe(e){try{const t=await fetch(`/api/payment-plans/templates/${e}`,{method:"DELETE"});if(!t.ok)throw new Error("network");return(await t.json()).item}catch{const a=Vx().filter(r=>r.id!==e);return vN(a),!0}}async function rAe({templateId:e,amount:t,startDate:a}){try{const r=await fetch("/api/payment-plans/generate-schedule",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({templateId:e,amount:t,startDate:a})});if(!r.ok)throw new Error("network");const n=await r.json();return Array.isArray(n.items)?n.items:[]}catch{const n=Vx().find(o=>o.id===e);if(!n)return[];const i=Number(t||0),l=new Date(a||Date.now());return n.installments.map(o=>{const c=new Date(l.getTime()+(o.dueAfterDays||0)*24*60*60*1e3);return{label:o.label,percentage:o.percentage,amount:Math.round(i*o.percentage/100*100)/100,dueDate:c.toISOString().slice(0,10),status:"Pending"}})}}function nAe(){const{t:e,i18n:t}=St(),{theme:a}=Ar(),{stages:r}=Kf(),n=String(t.language||"").startsWith("ar"),i=a==="dark",[l,o]=y.useState([]),[c,d]=y.useState(!0),[u,f]=y.useState(""),[p,m]=y.useState([]),[v,g]=y.useState({amount:1e5,startDate:new Date().toISOString().slice(0,10),templateId:""}),b=y.useMemo(()=>{const E=Array.isArray(r)?r:[],D=String(t.language||"").startsWith("ar");return E.map(R=>{if(typeof R=="string")return{key:R,label:R};const I=R.name||R.key||R,M=D?R.nameAr||R.name||R.key||"":R.name||R.nameAr||R.key||"";return{key:I,label:M}})},[r,t.language]);y.useEffect(()=>{let E=!0;return(async()=>{const D=await eAe();if(!E)return;const R=Array.isArray(D)&&D.length?D:Vx();let I=[];R.length?o(R):(I=[N9()],vN(I),o(I)),d(!1);const M=R[0]?.id||I[0]?.id||"";g(U=>({...U,templateId:M}))})(),()=>{E=!1}},[]);const j=E=>Array.isArray(E.installments)?E.installments.reduce((D,R)=>D+Number(R.percentage||0),0):0,k=async()=>{const E=N9(),D=await tAe(E);o(R=>[D,...R]),f(D.id)},S=async E=>{l.find(R=>R.id===E)?.usedCount>0||(await sAe(E),o(R=>R.filter(I=>I.id!==E)),u===E&&f(""))},N=async(E,D)=>{const R=await aAe(E,D);o(I=>I.map(M=>M.id===E?R:M))},A=async E=>{const R=[...l.find(I=>I.id===E)?.installments||[],{label:e("Installment"),percentage:0,dueAfterDays:30}];await N(E,{installments:R})},_=async()=>{const E=await rAe(v);m(E)};return c?s.jsxs("div",{className:"p-4 text-[var(--muted-text)]",children:[e("Loading"),"..."]}):s.jsxs("div",{className:`px-2 py-4 md:px-6 md:py-6 min-h-screen ${i?"text-white":"text-gray-900"}`,dir:n?"rtl":"ltr",children:[s.jsxs("div",{className:"p-4 flex justify-between items-center gap-4",children:[s.jsx("h1",{className:`text-2xl md:text-3xl font-bold ${i?"text-white":"text-black"}`,children:e("Payment Plans")}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{className:"px-3 py-2 rounded bg-blue-600 text-white",onClick:k,children:e("Add Payment Plan")})})]}),s.jsx("div",{className:"glass-panel rounded-2xl p-4 space-y-4",children:s.jsxs("div",{className:"space-y-4",children:[l.map(E=>s.jsxs("div",{className:"border rounded p-3 space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-12 gap-3",children:[s.jsxs("div",{className:"col-span-12 md:col-span-4",children:[s.jsx("label",{className:"text-xs opacity-70",children:e("Template Name")}),s.jsx("input",{className:"input w-full",value:E.name,onChange:D=>N(E.id,{name:D.target.value})}),s.jsxs("div",{className:"mt-1 text-xs opacity-70",children:[e("Total")," %: ",j(E)]}),j(E)!==100&&s.jsx("div",{className:"text-xs text-red-600 mt-1",children:e("Total must equal 100%")})]}),s.jsxs("div",{className:"col-span-12 md:col-span-4",children:[s.jsx("label",{className:"text-xs opacity-70",children:e("Allowed Stages")}),s.jsx("select",{multiple:!0,className:"input w-full h-[120px]",value:E.allowedStages,onChange:D=>{const R=Array.from(D.target.selectedOptions).map(I=>I.value);N(E.id,{allowedStages:R})},children:b.map(D=>s.jsx("option",{value:D.key,children:D.label||D.key},D.key))}),s.jsx("div",{className:"text-xs opacity-70",children:e("Use in contract stages only")})]}),s.jsxs("div",{className:"col-span-12 md:col-span-4",children:[s.jsx("label",{className:"text-xs opacity-70",children:e("Actions")}),s.jsxs("div",{className:"flex flex-col gap-2 mt-1",children:[s.jsx("button",{className:"btn btn-glass text-xs px-2 py-1 h-7 min-h-[28px]",onClick:()=>f(u===E.id?"":E.id),children:u===E.id?e("Close"):e("Edit")}),s.jsx("button",{className:"btn btn-danger text-xs px-2 py-1 h-7 min-h-[28px]",disabled:E.usedCount>0,onClick:()=>S(E.id),children:e("Delete")})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs opacity-70",children:e("Installments")}),Array.from({length:Math.ceil((E.installments||[]).length/3)}).map((D,R)=>{const I=R*3,M=I+1,U=I+2,P=(E.installments||[])[I],F=(E.installments||[])[M],K=(E.installments||[])[U];return s.jsxs("div",{className:"grid grid-cols-12 gap-2",children:[P&&s.jsx("div",{className:"col-span-12 md:col-span-4",children:s.jsxs("div",{className:"border rounded-md p-2 space-y-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs opacity-70",children:e("Installment")}),s.jsx("input",{className:"input w-full",value:P.label,onChange:V=>{const J=[...E.installments];J[I]={...P,label:V.target.value},N(E.id,{installments:J})}})]}),s.jsxs("div",{className:"grid grid-cols-12 gap-2",children:[s.jsxs("div",{className:"col-span-12 md:col-span-6",children:[s.jsx("label",{className:"text-xs opacity-70",children:e("Percentage")}),s.jsx("input",{type:"number",min:0,max:100,className:"input w-full",value:P.percentage,onChange:V=>{const J=[...E.installments];J[I]={...P,percentage:Number(V.target.value||0)},N(E.id,{installments:J})}})]}),s.jsxs("div",{className:"col-span-12 md:col-span-6",children:[s.jsx("label",{className:"text-xs opacity-70",children:e("Due After (days)")}),s.jsx("input",{type:"number",min:0,className:"input w-full",value:P.dueAfterDays,onChange:V=>{const J=[...E.installments];J[I]={...P,dueAfterDays:Number(V.target.value||0)},N(E.id,{installments:J})}})]})]}),s.jsx("div",{className:"flex items-center justify-end",children:s.jsx("button",{className:"btn btn-outline btn-sm",onClick:()=>{const V=E.installments.filter((J,Q)=>Q!==I);N(E.id,{installments:V})},children:e("Delete")})})]})}),F&&s.jsx("div",{className:"col-span-12 md:col-span-4",children:s.jsxs("div",{className:"border rounded-md p-2 space-y-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs opacity-70",children:e("Installment")}),s.jsx("input",{className:"input w-full",value:F.label,onChange:V=>{const J=[...E.installments];J[M]={...F,label:V.target.value},N(E.id,{installments:J})}})]}),s.jsxs("div",{className:"grid grid-cols-12 gap-2",children:[s.jsxs("div",{className:"col-span-12 md:col-span-6",children:[s.jsx("label",{className:"text-xs opacity-70",children:e("Percentage")}),s.jsx("input",{type:"number",min:0,max:100,className:"input w-full",value:F.percentage,onChange:V=>{const J=[...E.installments];J[M]={...F,percentage:Number(V.target.value||0)},N(E.id,{installments:J})}})]}),s.jsxs("div",{className:"col-span-12 md:col-span-6",children:[s.jsx("label",{className:"text-xs opacity-70",children:e("Due After (days)")}),s.jsx("input",{type:"number",min:0,className:"input w-full",value:F.dueAfterDays,onChange:V=>{const J=[...E.installments];J[M]={...F,dueAfterDays:Number(V.target.value||0)},N(E.id,{installments:J})}})]})]}),s.jsx("div",{className:"flex items-center justify-end",children:s.jsx("button",{className:"btn btn-outline btn-sm",onClick:()=>{const V=E.installments.filter((J,Q)=>Q!==M);N(E.id,{installments:V})},children:e("Delete")})})]})}),K&&s.jsx("div",{className:"col-span-12 md:col-span-4",children:s.jsxs("div",{className:"border rounded-md p-2 space-y-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs opacity-70",children:e("Installment")}),s.jsx("input",{className:"input w-full",value:K.label,onChange:V=>{const J=[...E.installments];J[U]={...K,label:V.target.value},N(E.id,{installments:J})}})]}),s.jsxs("div",{className:"grid grid-cols-12 gap-2",children:[s.jsxs("div",{className:"col-span-12 md:col-span-6",children:[s.jsx("label",{className:"text-xs opacity-70",children:e("Percentage")}),s.jsx("input",{type:"number",min:0,max:100,className:"input w-full",value:K.percentage,onChange:V=>{const J=[...E.installments];J[U]={...K,percentage:Number(V.target.value||0)},N(E.id,{installments:J})}})]}),s.jsxs("div",{className:"col-span-12 md:col-span-6",children:[s.jsx("label",{className:"text-xs opacity-70",children:e("Due After (days)")}),s.jsx("input",{type:"number",min:0,className:"input w-full",value:K.dueAfterDays,onChange:V=>{const J=[...E.installments];J[U]={...K,dueAfterDays:Number(V.target.value||0)},N(E.id,{installments:J})}})]})]}),s.jsx("div",{className:"flex items-center justify-end",children:s.jsx("button",{className:"btn btn-outline btn-sm",onClick:()=>{const V=E.installments.filter((J,Q)=>Q!==U);N(E.id,{installments:V})},children:e("Delete")})})]})})]},`${E.id}-row-${R}`)}),s.jsx("div",{className:"flex items-center justify-end",children:s.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>A(E.id),children:e("Add Installment")})})]})]},E.id)),l.length===0&&s.jsx("div",{className:"p-2 text-[var(--muted-text)]",children:e("No data")})]})}),s.jsxs("div",{className:"glass-panel rounded-2xl p-4 space-y-3",children:[s.jsx("div",{className:"font-semibold",children:e("Schedule Preview")}),s.jsxs("div",{className:"grid grid-cols-12 gap-2",children:[s.jsxs("div",{className:"col-span-12 md:col-span-4",children:[s.jsx("label",{className:"text-xs opacity-70",children:e("Template")}),s.jsx("select",{className:"input w-full",value:v.templateId,onChange:E=>g(D=>({...D,templateId:E.target.value})),children:l.map(E=>s.jsx("option",{value:E.id,children:E.name},E.id))})]}),s.jsxs("div",{className:"col-span-6 md:col-span-4",children:[s.jsx("label",{className:"text-xs opacity-70",children:e("Contract Amount")}),s.jsx("input",{type:"number",min:0,className:"input w-full",value:v.amount,onChange:E=>g(D=>({...D,amount:Number(E.target.value||0)}))})]}),s.jsxs("div",{className:"col-span-6 md:col-span-4",children:[s.jsx("label",{className:"text-xs opacity-70",children:e("Start Date")}),s.jsx("input",{type:"date",className:"input w-full",value:v.startDate,onChange:E=>g(D=>({...D,startDate:E.target.value}))})]}),s.jsx("div",{className:"col-span-12 flex items-center justify-end",children:s.jsx("button",{className:"btn btn-primary",onClick:_,children:e("Generate")})})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm border border-gray-200 dark:border-gray-700 rounded",children:[s.jsx("thead",{className:i?"bg-[#0b2b4f]":"bg-gray-100",children:s.jsxs("tr",{className:"text-left",children:[s.jsx("th",{className:"p-2",children:e("Installment")}),s.jsx("th",{className:"p-2",children:e("Percentage")}),s.jsx("th",{className:"p-2",children:e("Amount")}),s.jsx("th",{className:"p-2",children:e("Due Date")}),s.jsx("th",{className:"p-2",children:e("Status")})]})}),s.jsxs("tbody",{children:[p.map((E,D)=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"p-2",children:E.label}),s.jsxs("td",{className:"p-2",children:[E.percentage,"%"]}),s.jsx("td",{className:"p-2",children:E.amount}),s.jsx("td",{className:"p-2",children:E.dueDate}),s.jsx("td",{className:"p-2",children:s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs ${E.status==="Paid"?"bg-green-100 text-green-700":E.status==="Overdue"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:e(E.status)})})]},`prev-${D}`)),p.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"p-2 text-[var(--muted-text)]",colSpan:5,children:e("No data")})})]})]})})]})]})}function iAe(){const{i18n:e}=St(),t=e.language==="ar",a=y.useMemo(()=>({title:t?" > ":"Inventory > Products",formTitle:t?" ":"Product Details",name:t?" ":"Product Name",category:t?"":"Category",description:t?"":"Description",uom:t?" ":"Unit of Measure",supplier:t?" ":"Default Supplier",price:t?" ":"Default Price",save:t?" ":"Save Product",listTitle:t?"   ":"All Products",empty:t?"   ":"No products yet",actions:t?"":"Actions",delete:t?"":"Delete",edit:t?"":"Edit"}),[t]),r=y.useMemo(()=>t?["","",""]:["Electronics","Furniture","Clothing"],[t]),n=y.useMemo(()=>t?["","",""]:["Piece","Box","Kg"],[t]),i=y.useMemo(()=>t?[" "," "," "]:["Supplier A","Supplier B","Supplier C"],[t]),l="inventoryProducts",[o,c]=y.useState({name:"",category:r[0]||"",description:"",uom:n[0]||"",supplier:i[0]||"",price:""}),[d,u]=y.useState([]);y.useEffect(()=>{try{const g=localStorage.getItem(l);if(g){const b=JSON.parse(g);Array.isArray(b)&&u(b)}}catch(g){console.warn("Failed to load products from localStorage",g)}},[]),y.useEffect(()=>{try{localStorage.setItem(l,JSON.stringify(d))}catch(g){console.warn("Failed to save products to localStorage",g)}},[d]);function f(g){const{name:b,value:j}=g.target;c(k=>({...k,[b]:j}))}function p(g){g.preventDefault();const b=o.name.trim();if(!b)return;const j={id:Date.now(),name:b,category:o.category,description:o.description.trim(),uom:o.uom,supplier:o.supplier,price:o.price?Number(o.price):0};u(k=>[j,...k]),c({name:"",category:r[0]||"",description:"",uom:n[0]||"",supplier:i[0]||"",price:""})}function m(g){u(b=>b.filter(j=>j.id!==g))}function v(g){c({name:g.name||"",category:g.category||r[0]||"",description:g.description||"",uom:g.uom||n[0]||"",supplier:g.supplier||i[0]||"",price:g.price!=null?String(g.price):""});try{window.scrollTo({top:0,behavior:"smooth"})}catch{}}return s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:a.title}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitle}),s.jsxs("form",{onSubmit:p,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.name}),s.jsx("input",{name:"name",value:o.name,onChange:f,placeholder:a.name,className:"input",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.category}),s.jsx("select",{name:"category",value:o.category,onChange:f,className:"input",children:r.map(g=>s.jsx("option",{value:g,children:g},g))})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm mb-1",children:a.description}),s.jsx("textarea",{name:"description",value:o.description,onChange:f,placeholder:a.description,className:"input h-24"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.uom}),s.jsx("select",{name:"uom",value:o.uom,onChange:f,className:"input",children:n.map(g=>s.jsx("option",{value:g,children:g},g))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.supplier}),s.jsx("select",{name:"supplier",value:o.supplier,onChange:f,className:"input",children:i.map(g=>s.jsx("option",{value:g,children:g},g))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.price}),s.jsx("input",{type:"number",name:"price",value:o.price,onChange:f,placeholder:a.price,className:"input",min:"0",step:"0.01"})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx("button",{type:"submit",className:"btn btn-primary",children:a.save})})]})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.listTitle}),d.length===0?s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:a.empty}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"nova-table w-full",children:[s.jsx("thead",{className:"thead-soft",children:s.jsxs("tr",{className:"text-gray-600 dark:text-gray-300",children:[s.jsx("th",{className:"text-start px-3 min-w-[180px]",children:a.name}),s.jsx("th",{className:"text-start px-3 min-w-[140px]",children:a.category}),s.jsx("th",{className:"text-start px-3 min-w-[120px]",children:a.uom}),s.jsx("th",{className:"text-start px-3 min-w-[160px]",children:a.supplier}),s.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.price}),s.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.actions})]})}),s.jsx("tbody",{children:d.map(g=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-3",children:s.jsx("span",{className:"font-medium",children:g.name})}),s.jsx("td",{className:"px-3",children:g.category}),s.jsx("td",{className:"px-3",children:g.uom}),s.jsx("td",{className:"px-3",children:g.supplier}),s.jsx("td",{className:"px-3 text-center",children:(g.price??0).toFixed(2)}),s.jsx("td",{className:"px-3 text-center",children:s.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[s.jsx("button",{type:"button",className:"btn btn-outline btn-sm px-2 py-1",title:a.edit,"aria-label":a.edit,onClick:()=>v(g),children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:[s.jsx("path",{d:"M12 20h9"}),s.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 113 3L7 19l-4 1 1-4 12.5-12.5z"})]})}),s.jsx("button",{type:"button",className:"btn-icon-danger",title:a.delete,"aria-label":a.delete,onClick:()=>m(g.id),children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:[s.jsx("path",{d:"M3 6h18"}),s.jsx("path",{d:"M8 6V4h8v2"}),s.jsx("rect",{x:"5",y:"6",width:"14",height:"14",rx:"2"})]})})]})})]},g.id))})]})})]})]})}function lAe(){const{i18n:e}=St(),t=e.language==="ar",a=y.useMemo(()=>({title:t?" > ":"Inventory > Items",formTitle:t?" ":"Item Details",itemName:t?" ":"Item Name",linkedProduct:t?" ":"Linked Product",sku:t?"  (SKU)":"SKU",barcode:t?"":"Barcode",costPrice:t?" ":"Cost Price",sellingPrice:t?" ":"Selling Price",stockCount:t?" ()":"Stock Count",warehouse:t?"":"Warehouse",save:t?" ":"Save Item",listTitle:t?" ":"Items List",empty:t?"   ":"No items yet",actions:t?"":"Actions",delete:t?"":"Delete",edit:t?"":"Edit",noProducts:t?"   ":"No products available"}),[t]),r="inventoryItems",n="inventoryProducts",[i,l]=y.useState([]),[o,c]=y.useState({name:"",productId:"",sku:"",barcode:"",costPrice:"",sellingPrice:"",stockCount:"",warehouse:""}),[d,u]=y.useState([]);y.useEffect(()=>{try{const b=localStorage.getItem(r);if(b){const j=JSON.parse(b);Array.isArray(j)&&u(j)}}catch(b){console.warn("Failed to load items from localStorage",b)}try{const b=localStorage.getItem(n);if(b){const j=JSON.parse(b);Array.isArray(j)&&l(j)}}catch(b){console.warn("Failed to load products from localStorage",b)}},[]),y.useEffect(()=>{try{localStorage.setItem(r,JSON.stringify(d))}catch(b){console.warn("Failed to save items to localStorage",b)}},[d]);function f(b){const{name:j,value:k}=b.target;c(S=>({...S,[j]:k}))}function p(b){b.preventDefault();const j=o.name.trim();if(!j)return;const k=i.find(N=>String(N.id)===String(o.productId)),S={id:Date.now(),name:j,productId:o.productId||"",productName:k?k.name:"",sku:o.sku.trim(),barcode:o.barcode.trim(),costPrice:o.costPrice?Number(o.costPrice):0,sellingPrice:o.sellingPrice?Number(o.sellingPrice):0,stockCount:o.stockCount?Number(o.stockCount):0,warehouse:o.warehouse.trim()};u(N=>[S,...N]),c({name:"",productId:"",sku:"",barcode:"",costPrice:"",sellingPrice:"",stockCount:"",warehouse:""})}function m(b){u(j=>j.filter(k=>k.id!==b))}function v(b){c({name:b.name||"",productId:b.productId||"",sku:b.sku||"",barcode:b.barcode||"",costPrice:b.costPrice!=null?String(b.costPrice):"",sellingPrice:b.sellingPrice!=null?String(b.sellingPrice):"",stockCount:b.stockCount!=null?String(b.stockCount):"",warehouse:b.warehouse||""});try{window.scrollTo({top:0,behavior:"smooth"})}catch{}}const g=y.useMemo(()=>t?[" "," "," "]:["Main Warehouse","Secondary Warehouse","Outdoor Storage"],[t]);return s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:a.title}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitle}),s.jsxs("form",{onSubmit:p,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.itemName}),s.jsx("input",{name:"name",value:o.name,onChange:f,placeholder:a.itemName,className:"input",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.linkedProduct}),s.jsxs("select",{name:"productId",value:o.productId,onChange:f,className:"input",children:[s.jsx("option",{value:"",children:a.noProducts}),i.map(b=>s.jsx("option",{value:b.id,children:b.name},b.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.sku}),s.jsx("input",{name:"sku",value:o.sku,onChange:f,placeholder:a.sku,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.barcode}),s.jsx("input",{name:"barcode",value:o.barcode,onChange:f,placeholder:a.barcode,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.costPrice}),s.jsx("input",{type:"number",name:"costPrice",value:o.costPrice,onChange:f,placeholder:a.costPrice,className:"input",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.sellingPrice}),s.jsx("input",{type:"number",name:"sellingPrice",value:o.sellingPrice,onChange:f,placeholder:a.sellingPrice,className:"input",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.stockCount}),s.jsx("input",{type:"number",name:"stockCount",value:o.stockCount,onChange:f,placeholder:a.stockCount,className:"input",min:"0",step:"1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.warehouse}),s.jsxs("select",{name:"warehouse",value:o.warehouse,onChange:f,className:"input",children:[s.jsx("option",{value:"",children:a.warehouse}),g.map(b=>s.jsx("option",{value:b,children:b},b))]})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx("button",{type:"submit",className:"btn btn-primary",children:a.save})})]})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.listTitle}),d.length===0?s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:a.empty}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"nova-table w-full",children:[s.jsx("thead",{className:"thead-soft",children:s.jsxs("tr",{className:"text-gray-600 dark:text-gray-300",children:[s.jsx("th",{className:"text-start px-3 min-w-[180px]",children:a.itemName}),s.jsx("th",{className:"text-start px-3 min-w-[160px]",children:a.linkedProduct}),s.jsx("th",{className:"text-start px-3 min-w-[140px]",children:a.sku}),s.jsx("th",{className:"text-start px-3 min-w-[140px]",children:a.barcode}),s.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.costPrice}),s.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.sellingPrice}),s.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.stockCount}),s.jsx("th",{className:"text-start px-3 min-w-[160px]",children:a.warehouse}),s.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.actions})]})}),s.jsx("tbody",{children:d.map(b=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-3",children:s.jsx("span",{className:"font-medium",children:b.name})}),s.jsx("td",{className:"px-3",children:b.productName||"-"}),s.jsx("td",{className:"px-3",children:b.sku}),s.jsx("td",{className:"px-3",children:b.barcode}),s.jsx("td",{className:"px-3 text-center",children:(b.costPrice??0).toFixed(2)}),s.jsx("td",{className:"px-3 text-center",children:(b.sellingPrice??0).toFixed(2)}),s.jsx("td",{className:"px-3 text-center",children:b.stockCount??0}),s.jsx("td",{className:"px-3",children:b.warehouse}),s.jsx("td",{className:"px-3 text-center",children:s.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[s.jsx("button",{type:"button",className:"btn btn-outline btn-sm px-2 py-1",title:a.edit,"aria-label":a.edit,onClick:()=>v(b),children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:[s.jsx("path",{d:"M12 20h9"}),s.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 113 3L7 19l-4 1 1-4 12.5-12.5z"})]})}),s.jsx("button",{type:"button",className:"btn-icon-danger",title:a.delete,"aria-label":a.delete,onClick:()=>m(b.id),children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:[s.jsx("path",{d:"M3 6h18"}),s.jsx("path",{d:"M8 6V4h8v2"}),s.jsx("rect",{x:"5",y:"6",width:"14",height:"14",rx:"2"})]})})]})})]},b.id))})]})})]})]})}function oAe(){const{i18n:e}=St(),t=e.language==="ar",a=y.useMemo(()=>({title:t?" > ":"Inventory > Categories",formTitle:t?" ":"Category Details",name:t?" ":"Category Name",parent:t?" ":"Parent Category",description:t?"":"Description",save:t?" ":"Save Category",listTitle:t?" ":"All Categories",empty:t?"   ":"No categories yet",actions:t?"":"Actions",delete:t?"":"Delete",edit:t?"":"Edit"}),[t]),r="inventoryCategories",[n,i]=y.useState({name:"",parent:"",description:""}),[l,o]=y.useState([]);y.useEffect(()=>{try{const m=localStorage.getItem(r);if(m){const v=JSON.parse(m);Array.isArray(v)&&o(v)}}catch(m){console.warn("Failed to load categories",m)}},[]),y.useEffect(()=>{try{localStorage.setItem(r,JSON.stringify(l))}catch{}},[l]);function c(m){const{name:v,value:g}=m.target;i(b=>({...b,[v]:g}))}function d(m){m.preventDefault();const v=n.name.trim();if(!v)return;const g={id:Date.now(),name:v,parent:n.parent||"",description:n.description.trim()};o(b=>[g,...b]),i({name:"",parent:"",description:""})}function u(m){o(v=>v.filter(g=>g.id!==m))}function f(m){i({name:m.name||"",parent:m.parent||"",description:m.description||""})}const p=y.useMemo(()=>[""].concat(l.map(m=>m.name)),[l]);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:`relative inline-flex items-center ${t?"flex-row-reverse":""} gap-2`,children:[s.jsx("h1",{className:`page-title text-2xl font-semibold ${t?"text-right":"text-left"}`,children:a.title}),s.jsx("span",{"aria-hidden":!0,className:"absolute block h-[1px] rounded bg-gradient-to-r from-blue-500 via-purple-500 to-transparent",style:{width:"calc(100% + 8px)",left:t?"auto":"-4px",right:t?"-4px":"auto",bottom:"-4px"}})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitle}),s.jsxs("form",{onSubmit:d,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.name}),s.jsx("input",{name:"name",value:n.name,onChange:c,placeholder:a.name,className:"input",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.parent}),s.jsx("select",{name:"parent",value:n.parent,onChange:c,className:"input",children:p.map((m,v)=>s.jsx("option",{value:m,children:m||(t?"":"None")},v))})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm mb-1",children:a.description}),s.jsx("textarea",{name:"description",value:n.description,onChange:c,placeholder:a.description,className:"input h-24"})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx("button",{type:"submit",className:"btn btn-primary",children:a.save})})]})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.listTitle}),l.length===0?s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:a.empty}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"nova-table w-full",children:[s.jsx("thead",{className:"thead-soft",children:s.jsxs("tr",{className:"text-gray-600 dark:text-gray-300",children:[s.jsx("th",{className:"text-start px-3 min-w-[200px]",children:a.name}),s.jsx("th",{className:"text-start px-3 min-w-[160px]",children:a.parent}),s.jsx("th",{className:"text-start px-3 min-w-[220px]",children:a.description}),s.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.actions})]})}),s.jsx("tbody",{children:l.map(m=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-3",children:s.jsx("span",{className:"font-medium",children:m.name})}),s.jsx("td",{className:"px-3",children:m.parent||(t?"":"None")}),s.jsx("td",{className:"px-3",children:m.description}),s.jsx("td",{className:"px-3 text-center",children:s.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[s.jsx("button",{type:"button",className:"btn btn-outline btn-sm px-2 py-1",title:a.edit,"aria-label":a.edit,onClick:()=>f(m),children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:[s.jsx("path",{d:"M12 20h9"}),s.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 113 3L7 19l-4 1 1-4 12.5-12.5z"})]})}),s.jsx("button",{type:"button",className:"btn-icon-danger",title:a.delete,"aria-label":a.delete,onClick:()=>u(m.id),children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:[s.jsx("path",{d:"M3 6h18"}),s.jsx("path",{d:"M8 6V4h8v2"}),s.jsx("rect",{x:"5",y:"6",width:"14",height:"14",rx:"2"})]})})]})})]},m.id))})]})})]})]})}function cAe(){const{i18n:e}=St(),t=e.language==="ar",a=y.useMemo(()=>({title:t?" > ":"Inventory > Brokers",formTitle:t?" ":"Broker Details",name:t?" ":"Broker Name",company:t?"":"Company",phone:t?"":"Phone",email:t?" ":"Email",license:t?" ":"License No.",status:t?"":"Status",save:t?" ":"Save Broker",listTitle:t?" ":"All Brokers",empty:t?"   ":"No records yet",actions:t?"":"Actions",delete:t?"":"Delete",edit:t?"":"Edit"}),[t]),r="inventoryBrokers",[n,i]=y.useState({name:"",company:"",phone:"",email:"",license:"",status:t?"":"Active"}),[l,o]=y.useState([]);y.useEffect(()=>{try{const m=localStorage.getItem(r);if(m){const v=JSON.parse(m);Array.isArray(v)&&o(v)}}catch{}},[]),y.useEffect(()=>{try{localStorage.setItem(r,JSON.stringify(l))}catch{}},[l]);function c(m){const{name:v,value:g}=m.target;i(b=>({...b,[v]:g}))}function d(m){if(m.preventDefault(),!n.name.trim())return;const g={id:Date.now(),...n};o(b=>[g,...b]),i({name:"",company:"",phone:"",email:"",license:"",status:t?"":"Active"})}function u(m){o(v=>v.filter(g=>g.id!==m))}function f(m){i({name:m.name||"",company:m.company||"",phone:m.phone||"",email:m.email||"",license:m.license||"",status:m.status||(t?"":"Active")})}const p=y.useMemo(()=>t?["",""]:["Active","Inactive"],[t]);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:`relative inline-flex items-center ${t?"flex-row-reverse":""} gap-2`,children:[s.jsx("h1",{className:`page-title text-2xl font-semibold ${t?"text-right":"text-left"}`,children:a.title}),s.jsx("span",{"aria-hidden":!0,className:"absolute block h-[1px] rounded bg-gradient-to-r from-blue-500 via-purple-500 to-transparent",style:{width:"calc(100% + 8px)",left:t?"auto":"-4px",right:t?"-4px":"auto",bottom:"-4px"}})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitle}),s.jsxs("form",{onSubmit:d,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.name}),s.jsx("input",{name:"name",value:n.name,onChange:c,placeholder:a.name,className:"input",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.company}),s.jsx("input",{name:"company",value:n.company,onChange:c,placeholder:a.company,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.phone}),s.jsx("input",{name:"phone",value:n.phone,onChange:c,placeholder:a.phone,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.email}),s.jsx("input",{type:"email",name:"email",value:n.email,onChange:c,placeholder:a.email,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.license}),s.jsx("input",{name:"license",value:n.license,onChange:c,placeholder:a.license,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.status}),s.jsx("select",{name:"status",value:n.status,onChange:c,className:"input",children:p.map(m=>s.jsx("option",{value:m,children:m},m))})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx("button",{type:"submit",className:"btn btn-primary",children:a.save})})]})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.listTitle}),l.length===0?s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:a.empty}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"nova-table w-full",children:[s.jsx("thead",{className:"thead-soft",children:s.jsxs("tr",{className:"text-gray-600 dark:text-gray-300",children:[s.jsx("th",{className:"text-start px-3 min-w-[180px]",children:a.name}),s.jsx("th",{className:"text-start px-3 min-w-[160px]",children:a.company}),s.jsx("th",{className:"text-start px-3 min-w-[140px]",children:a.phone}),s.jsx("th",{className:"text-start px-3 min-w-[200px]",children:a.email}),s.jsx("th",{className:"text-start px-3 min-w-[140px]",children:a.license}),s.jsx("th",{className:"text-center px-3 min-w-[120px]",children:a.status}),s.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.actions})]})}),s.jsx("tbody",{children:l.map(m=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-3",children:s.jsx("span",{className:"font-medium",children:m.name})}),s.jsx("td",{className:"px-3",children:m.company}),s.jsx("td",{className:"px-3",children:m.phone}),s.jsx("td",{className:"px-3",children:m.email}),s.jsx("td",{className:"px-3",children:m.license}),s.jsx("td",{className:"px-3 text-center",children:m.status}),s.jsx("td",{className:"px-3 text-center",children:s.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[s.jsx("button",{type:"button",className:"btn btn-outline btn-sm px-2 py-1",title:a.edit,"aria-label":a.edit,onClick:()=>f(m),children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:[s.jsx("path",{d:"M12 20h9"}),s.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 113 3L7 19l-4 1 1-4 12.5-12.5z"})]})}),s.jsx("button",{type:"button",className:"btn-icon-danger",title:a.delete,"aria-label":a.delete,onClick:()=>u(m.id),children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:[s.jsx("path",{d:"M3 6h18"}),s.jsx("path",{d:"M8 6V4h8v2"}),s.jsx("rect",{x:"5",y:"6",width:"14",height:"14",rx:"2"})]})})]})})]},m.id))})]})})]})]})}function dAe(){const{i18n:e}=St(),t=e.language==="ar",a=y.useMemo(()=>({title:t?" > ":"Inventory > Developers",formTitle:t?"  ":"Developer Company Details",companyName:t?" ":"Company Name",contactPerson:t?" ":"Contact Person",phone:t?"":"Phone",email:t?" ":"Email",city:t?"":"City",status:t?"":"Status",save:t?" ":"Save Company",listTitle:t?"  ":"All Developer Companies",empty:t?"   ":"No records yet",actions:t?"":"Actions",delete:t?"":"Delete",edit:t?"":"Edit"}),[t]),r="inventoryDevelopers",[n,i]=y.useState({companyName:"",contactPerson:"",phone:"",email:"",city:"",status:t?"":"Active"}),[l,o]=y.useState([]);y.useEffect(()=>{try{const m=localStorage.getItem(r);if(m){const v=JSON.parse(m);Array.isArray(v)&&o(v)}}catch{}},[]),y.useEffect(()=>{try{localStorage.setItem(r,JSON.stringify(l))}catch{}},[l]);function c(m){const{name:v,value:g}=m.target;i(b=>({...b,[v]:g}))}function d(m){if(m.preventDefault(),!n.companyName.trim())return;const g={id:Date.now(),...n};o(b=>[g,...b]),i({companyName:"",contactPerson:"",phone:"",email:"",city:"",status:t?"":"Active"})}function u(m){o(v=>v.filter(g=>g.id!==m))}function f(m){i({companyName:m.companyName||"",contactPerson:m.contactPerson||"",phone:m.phone||"",email:m.email||"",city:m.city||"",status:m.status||(t?"":"Active")})}const p=y.useMemo(()=>t?["",""]:["Active","Inactive"],[t]);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:`relative inline-flex items-center ${t?"flex-row-reverse":""} gap-2`,children:[s.jsx("h1",{className:`page-title text-2xl font-semibold ${t?"text-right":"text-left"}`,children:a.title}),s.jsx("span",{"aria-hidden":!0,className:"absolute block h-[1px] rounded bg-gradient-to-r from-blue-500 via-purple-500 to-transparent",style:{width:"calc(100% + 8px)",left:t?"auto":"-4px",right:t?"-4px":"auto",bottom:"-4px"}})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitle}),s.jsxs("form",{onSubmit:d,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.companyName}),s.jsx("input",{name:"companyName",value:n.companyName,onChange:c,placeholder:a.companyName,className:"input",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.contactPerson}),s.jsx("input",{name:"contactPerson",value:n.contactPerson,onChange:c,placeholder:a.contactPerson,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.phone}),s.jsx("input",{name:"phone",value:n.phone,onChange:c,placeholder:a.phone,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.email}),s.jsx("input",{type:"email",name:"email",value:n.email,onChange:c,placeholder:a.email,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.city}),s.jsx("input",{name:"city",value:n.city,onChange:c,placeholder:a.city,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.status}),s.jsx("select",{name:"status",value:n.status,onChange:c,className:"input",children:p.map(m=>s.jsx("option",{value:m,children:m},m))})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx("button",{type:"submit",className:"btn btn-primary",children:a.save})})]})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.listTitle}),l.length===0?s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:a.empty}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"nova-table w-full",children:[s.jsx("thead",{className:"thead-soft",children:s.jsxs("tr",{className:"text-gray-600 dark:text-gray-300",children:[s.jsx("th",{className:"text-start px-3 min-w-[200px]",children:a.companyName}),s.jsx("th",{className:"text-start px-3 min-w-[160px]",children:a.contactPerson}),s.jsx("th",{className:"text-start px-3 min-w-[140px]",children:a.phone}),s.jsx("th",{className:"text-start px-3 min-w-[200px]",children:a.email}),s.jsx("th",{className:"text-start px-3 min-w-[140px]",children:a.city}),s.jsx("th",{className:"text-center px-3 min-w-[120px]",children:a.status}),s.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.actions})]})}),s.jsx("tbody",{children:l.map(m=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-3",children:s.jsx("span",{className:"font-medium",children:m.companyName})}),s.jsx("td",{className:"px-3",children:m.contactPerson}),s.jsx("td",{className:"px-3",children:m.phone}),s.jsx("td",{className:"px-3",children:m.email}),s.jsx("td",{className:"px-3",children:m.city}),s.jsx("td",{className:"px-3 text-center",children:m.status}),s.jsx("td",{className:"px-3 text-center",children:s.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[s.jsx("button",{type:"button",className:"btn btn-outline btn-sm px-2 py-1",title:a.edit,"aria-label":a.edit,onClick:()=>f(m),children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:[s.jsx("path",{d:"M12 20h9"}),s.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 113 3L7 19l-4 1 1-4 12.5-12.5z"})]})}),s.jsx("button",{type:"button",className:"btn-icon-danger",title:a.delete,"aria-label":a.delete,onClick:()=>u(m.id),children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:[s.jsx("path",{d:"M3 6h18"}),s.jsx("path",{d:"M8 6V4h8v2"}),s.jsx("rect",{x:"5",y:"6",width:"14",height:"14",rx:"2"})]})})]})})]},m.id))})]})})]})]})}function uAe(){const{i18n:e}=St(),t=e.language==="ar",a=y.useMemo(()=>({title:t?" >  ":"Inventory > Stock Management",formTitle:t?"  ":"Stock Entry",itemOrSku:t?" / SKU":"Item / SKU",selectItem:t?" ":"Select Item",manualSku:t?" SKU ":"Enter SKU manually",qtyAvailable:t?" ":"Quantity Available",qtyReserved:t?" ":"Reserved Quantity",minAlert:t?"  ":"Minimum Quantity Alert",warehouse:t?"":"Warehouse location",save:t?" ":"Save Entry",listTitle:t?"  ":"Stock Records",empty:t?"   ":"No records yet",actions:t?"":"Actions",delete:t?"":"Delete",effective:t?" ":"Effective Available",status:t?"":"Status",lowStock:t?"":"Low",okStock:t?"":"OK"}),[t]),r="inventoryStock",n="inventoryItems",[i,l]=y.useState([]),[o,c]=y.useState([]),[d,u]=y.useState({itemId:"",manualSku:"",qtyAvailable:"",qtyReserved:"",minAlert:"",warehouse:""});y.useEffect(()=>{try{const b=localStorage.getItem(n);if(b){const j=JSON.parse(b);Array.isArray(j)&&l(j)}}catch(b){console.warn("Failed to load items",b)}try{const b=localStorage.getItem(r);if(b){const j=JSON.parse(b);Array.isArray(j)&&c(j)}}catch(b){console.warn("Failed to load stock records",b)}},[]),y.useEffect(()=>{try{localStorage.setItem(r,JSON.stringify(o))}catch{}},[o]);const f=y.useMemo(()=>t?[" "," "," "]:["Main Warehouse","Secondary Warehouse","Outdoor Storage"],[t]),p=b=>{const{name:j,value:k}=b.target;u(S=>({...S,[j]:k}))},m=b=>{b.preventDefault();const j=i.find(_=>String(_.id)===String(d.itemId)),k=Number(d.qtyAvailable||0),S=Number(d.qtyReserved||0),N=Number(d.minAlert||0),A={id:Date.now(),itemId:d.itemId||null,itemName:j?.name||"",sku:d.manualSku||j?.sku||"",qtyAvailable:k,qtyReserved:S,minAlert:N,warehouse:d.warehouse||""};c(_=>[A,..._]),u({itemId:"",manualSku:"",qtyAvailable:"",qtyReserved:"",minAlert:"",warehouse:""})},v=b=>{c(j=>j.filter(k=>k.id!==b))},g=b=>{const k=(b.qtyAvailable||0)-(b.qtyReserved||0)<=(b.minAlert||0),S=k?"text-red-600 bg-red-100 dark:text-red-300 dark:bg-red-900/40":"text-green-600 bg-green-100 dark:text-green-300 dark:bg-green-900/40";return s.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${S}`,children:k?a.lowStock:a.okStock})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:`relative inline-flex items-center ${t?"flex-row-reverse":""} gap-2`,children:[s.jsx("h1",{className:`page-title text-2xl font-semibold ${t?"text-right":"text-left"}`,children:a.title}),s.jsx("span",{"aria-hidden":!0,className:"absolute block h-[1px] rounded bg-gradient-to-r from-blue-500 via-purple-500 to-transparent",style:{width:"calc(100% + 8px)",left:t?"auto":"-4px",right:t?"-4px":"auto",bottom:"-4px"}})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitle}),s.jsxs("form",{onSubmit:m,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.itemOrSku}),s.jsxs("select",{name:"itemId",value:d.itemId,onChange:p,className:"input",children:[s.jsx("option",{value:"",children:a.selectItem}),i.map(b=>s.jsxs("option",{value:b.id,children:[b.name," ",b.sku?`(${b.sku})`:""]},b.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.manualSku}),s.jsx("input",{name:"manualSku",value:d.manualSku,onChange:p,placeholder:a.manualSku,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.qtyAvailable}),s.jsx("input",{type:"number",name:"qtyAvailable",value:d.qtyAvailable,onChange:p,min:"0",step:"1",placeholder:a.qtyAvailable,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.qtyReserved}),s.jsx("input",{type:"number",name:"qtyReserved",value:d.qtyReserved,onChange:p,min:"0",step:"1",placeholder:a.qtyReserved,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.minAlert}),s.jsx("input",{type:"number",name:"minAlert",value:d.minAlert,onChange:p,min:"0",step:"1",placeholder:a.minAlert,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.warehouse}),s.jsxs("select",{name:"warehouse",value:d.warehouse,onChange:p,className:"input",children:[s.jsx("option",{value:"",children:a.warehouse}),f.map(b=>s.jsx("option",{value:b,children:b},b))]})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx("button",{type:"submit",className:"btn btn-primary",children:a.save})})]})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.listTitle}),o.length===0?s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:a.empty}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"nova-table w-full",children:[s.jsx("thead",{className:"thead-soft",children:s.jsxs("tr",{className:"text-gray-600 dark:text-gray-300",children:[s.jsx("th",{className:"text-start px-3 min-w-[180px]",children:a.itemOrSku}),s.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.qtyAvailable}),s.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.qtyReserved}),s.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.effective}),s.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.minAlert}),s.jsx("th",{className:"text-start px-3 min-w-[160px]",children:a.warehouse}),s.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.status}),s.jsx("th",{className:"text-center px-3 min-w-[100px]",children:a.actions})]})}),s.jsx("tbody",{children:o.map(b=>{const j=(b.qtyAvailable||0)-(b.qtyReserved||0),k=j<=(b.minAlert||0);return s.jsxs("tr",{className:k?"bg-red-50 dark:bg-red-900/10":"",children:[s.jsx("td",{className:"px-3",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:b.itemName||"-"}),s.jsx("span",{className:"text-xs text-[var(--muted-text)]",children:b.sku||"-"})]})}),s.jsx("td",{className:"px-3 text-center",children:b.qtyAvailable??0}),s.jsx("td",{className:"px-3 text-center",children:b.qtyReserved??0}),s.jsx("td",{className:"px-3 text-center",children:j}),s.jsx("td",{className:"px-3 text-center",children:b.minAlert??0}),s.jsx("td",{className:"px-3",children:b.warehouse||"-"}),s.jsx("td",{className:"px-3 text-center",children:g(b)}),s.jsx("td",{className:"px-3 text-center",children:s.jsx("button",{className:"btn btn-danger btn-xs",onClick:()=>v(b.id),children:a.delete})})]},b.id)})})]})})]})]})}function hAe(){const{i18n:e}=St(),t=e.language==="ar",a=y.useMemo(()=>({title:t?" > ":"Inventory > Transactions",formTitle:t?"  ":"Record Stock Transaction",date:t?"":"Date",type:t?" (//)":"Type (in/out/transfer)",quantity:t?"":"Quantity",reference:t?" ( /)":"Reference (Sales/Purchase Order)",username:t?" ":"User name",save:t?" ":"Save Transaction",listTitle:t?" ":"Transaction Log",empty:t?"   ":"No transactions yet",actions:t?"":"Actions",delete:t?"":"Delete",type_in:t?"":"In",type_out:t?"":"Out",type_transfer:t?"":"Transfer"}),[t]),r="inventoryTransactions",[n,i]=y.useState({date:new Date().toISOString().slice(0,10),type:"in",quantity:"",reference:"",username:""}),[l,o]=y.useState([]);y.useEffect(()=>{try{const p=localStorage.getItem(r);if(p){const m=JSON.parse(p);Array.isArray(m)&&o(m)}}catch(p){console.warn("Failed to load transactions",p)}},[]),y.useEffect(()=>{try{localStorage.setItem(r,JSON.stringify(l))}catch{}},[l]);const c=p=>{const{name:m,value:v}=p.target;i(g=>({...g,[m]:v}))},d=p=>{p.preventDefault();const m=Number(n.quantity||0);if(!n.date||!n.type||m<=0)return;const v={id:Date.now(),date:n.date,type:n.type,quantity:m,reference:n.reference||"",username:n.username||""};o(g=>[v,...g]),i({date:new Date().toISOString().slice(0,10),type:"in",quantity:"",reference:"",username:""})},u=p=>o(m=>m.filter(v=>v.id!==p)),f=p=>{switch(p){case"in":return a.type_in;case"out":return a.type_out;case"transfer":return a.type_transfer;default:return p}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:`relative inline-flex items-center ${t?"flex-row-reverse":""} gap-2`,children:[s.jsx("h1",{className:`page-title text-2xl font-semibold ${t?"text-right":"text-left"}`,children:a.title}),s.jsx("span",{"aria-hidden":!0,className:"absolute block h-[1px] rounded bg-gradient-to-r from-blue-500 via-purple-500 to-transparent",style:{width:"calc(100% + 8px)",left:t?"auto":"-4px",right:t?"-4px":"auto",bottom:"-4px"}})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitle}),s.jsxs("form",{onSubmit:d,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.date}),s.jsx("input",{type:"date",name:"date",value:n.date,onChange:c,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.type}),s.jsxs("select",{name:"type",value:n.type,onChange:c,className:"input",children:[s.jsx("option",{value:"in",children:a.type_in}),s.jsx("option",{value:"out",children:a.type_out}),s.jsx("option",{value:"transfer",children:a.type_transfer})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.quantity}),s.jsx("input",{type:"number",name:"quantity",value:n.quantity,onChange:c,min:"1",step:"1",placeholder:a.quantity,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.reference}),s.jsx("input",{name:"reference",value:n.reference,onChange:c,placeholder:a.reference,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.username}),s.jsx("input",{name:"username",value:n.username,onChange:c,placeholder:a.username,className:"input"})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx("button",{type:"submit",className:"btn btn-primary",children:a.save})})]})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.listTitle}),l.length===0?s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:a.empty}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"nova-table w-full",children:[s.jsx("thead",{className:"thead-soft",children:s.jsxs("tr",{className:"text-gray-600 dark:text-gray-300",children:[s.jsx("th",{className:"text-start px-3 min-w-[140px]",children:a.date}),s.jsx("th",{className:"text-start px-3 min-w-[160px]",children:a.type}),s.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.quantity}),s.jsx("th",{className:"text-start px-3 min-w-[220px]",children:a.reference}),s.jsx("th",{className:"text-start px-3 min-w-[160px]",children:a.username}),s.jsx("th",{className:"text-center px-3 min-w-[100px]",children:a.actions})]})}),s.jsx("tbody",{children:l.map(p=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-3",children:s.jsx("span",{className:"font-medium",children:p.date})}),s.jsx("td",{className:"px-3",children:f(p.type)}),s.jsx("td",{className:"px-3 text-center",children:p.quantity}),s.jsx("td",{className:"px-3",children:p.reference}),s.jsx("td",{className:"px-3",children:p.username}),s.jsx("td",{className:"px-3 text-center",children:s.jsx("div",{className:"flex items-center gap-2 justify-center",children:s.jsx("button",{type:"button",className:"btn btn-danger btn-sm",onClick:()=>u(p.id),children:a.delete})})})]},p.id))})]})})]})]})}function fAe(){const{i18n:e}=St(),t=e.language==="ar",a=y.useMemo(()=>({title:t?" > /":"Inventory > Suppliers/Vendors",formTitleBasic:t?" ":"Basic Information",formTitleBusiness:t?" ":"Business Information",formTitleAttachments:t?"":"Attachments",supplierName:t?" ":"Supplier Name",supplierCode:t?" ":"Supplier Code",companyName:t?" ":"Company Name",contactPerson:t?" ":"Contact Person",phone:t?" ":"Phone Number",email:t?" ":"Email",website:t?" ":"Website",address:t?"":"Address",taxId:t?" ":"Tax ID",countryCity:t?"/":"Country/City",supplierType:t?" ":"Supplier Type",category:t?"":"Category",productLine:t?" ":"Product Line",paymentTerms:t?" ":"Payment Terms",currency:t?"":"Currency",creditLimit:t?" ":"Credit Limit",discountRate:t?"  (%)":"Discount Rate (%)",deliveryTime:t?"  ()":"Delivery Time (days)",contractDoc:t?" ":"Contract Document",certificates:t?" ":"Supplier Certificates",quotations:t?" ":"Quotations",previousBills:t?" ":"Previous Bills",save:t?" ":"Save Supplier",listTitle:t?" ":"Suppliers List",empty:t?"   ":"No suppliers yet",actions:t?"":"Actions",edit:t?"":"Edit",delete:t?"":"Delete"}),[t]),r=y.useMemo(()=>t?["","",""]:["Company","Individual","Agent"],[t]),n=y.useMemo(()=>t?[" ","",""]:["Raw Materials","Services","Hardware"],[t]),i=y.useMemo(()=>t?["","30 ","60 "]:["Cash","Net 30","Net 60"],[t]),l=y.useMemo(()=>t?["","",""]:["SAR","USD","EUR"],[t]),o=y.useMemo(()=>t?["","",""]:["Electronics","Construction","Services"],[t]),c="inventorySuppliers",[d,u]=y.useState({supplierName:"",supplierCode:"",companyName:"",contactPerson:"",phone:"",email:"",website:"",address:"",taxId:"",countryCity:"",supplierType:r[0]||"",category:n[0]||"",productLine:o[0]||"",paymentTerms:i[0]||"",currency:l[0]||"",creditLimit:"",discountRate:"",deliveryTime:"",attachments:{contractDoc:[],certificates:[],quotations:[],previousBills:[]}}),[f,p]=y.useState([]);y.useEffect(()=>{try{const k=localStorage.getItem(c);if(k){const S=JSON.parse(k);Array.isArray(S)&&p(S)}}catch(k){console.warn("Failed to load suppliers",k)}},[]),y.useEffect(()=>{try{localStorage.setItem(c,JSON.stringify(f))}catch{}},[f]);const m=k=>{const{name:S,value:N}=k.target;u(A=>({...A,[S]:N}))},v=(k,S)=>{const N=Array.from(S||[]).map(A=>A.name);u(A=>({...A,attachments:{...A.attachments,[k]:N}}))},g=k=>{if(k.preventDefault(),!(d.supplierName||"").trim())return;const N={id:Date.now(),...d,creditLimit:d.creditLimit?Number(d.creditLimit):0,discountRate:d.discountRate?Number(d.discountRate):0,deliveryTime:d.deliveryTime?Number(d.deliveryTime):0};p(A=>[N,...A]),u({supplierName:"",supplierCode:"",companyName:"",contactPerson:"",phone:"",email:"",website:"",address:"",taxId:"",countryCity:"",supplierType:r[0]||"",category:n[0]||"",productLine:o[0]||"",paymentTerms:i[0]||"",currency:l[0]||"",creditLimit:"",discountRate:"",deliveryTime:"",attachments:{contractDoc:[],certificates:[],quotations:[],previousBills:[]}});try{window.scrollTo({top:0,behavior:"smooth"})}catch{}},b=k=>p(S=>S.filter(N=>N.id!==k)),j=k=>{u({supplierName:k.supplierName||"",supplierCode:k.supplierCode||"",companyName:k.companyName||"",contactPerson:k.contactPerson||"",phone:k.phone||"",email:k.email||"",website:k.website||"",address:k.address||"",taxId:k.taxId||"",countryCity:k.countryCity||"",supplierType:k.supplierType||r[0]||"",category:k.category||n[0]||"",productLine:k.productLine||o[0]||"",paymentTerms:k.paymentTerms||i[0]||"",currency:k.currency||l[0]||"",creditLimit:k.creditLimit!=null?String(k.creditLimit):"",discountRate:k.discountRate!=null?String(k.discountRate):"",deliveryTime:k.deliveryTime!=null?String(k.deliveryTime):"",attachments:{contractDoc:k.attachments?.contractDoc||[],certificates:k.attachments?.certificates||[],quotations:k.attachments?.quotations||[],previousBills:k.attachments?.previousBills||[]}});try{window.scrollTo({top:0,behavior:"smooth"})}catch{}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:`relative inline-flex items-center ${t?"flex-row-reverse":""} gap-2`,children:[s.jsx("h1",{className:`page-title text-2xl font-semibold ${t?"text-right":"text-left"}`,children:a.title}),s.jsx("span",{"aria-hidden":!0,className:"absolute block h-[1px] rounded bg-gradient-to-r from-blue-500 via-purple-500 to-transparent",style:{width:"calc(100% + 8px)",left:t?"auto":"-4px",right:t?"-4px":"auto",bottom:"-4px"}})]}),s.jsxs("form",{onSubmit:g,className:"space-y-6",children:[s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitleBasic}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.supplierName}),s.jsx("input",{name:"supplierName",value:d.supplierName,onChange:m,placeholder:a.supplierName,className:"input",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.supplierCode}),s.jsx("input",{name:"supplierCode",value:d.supplierCode,onChange:m,placeholder:a.supplierCode,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.companyName}),s.jsx("input",{name:"companyName",value:d.companyName,onChange:m,placeholder:a.companyName,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.contactPerson}),s.jsx("input",{name:"contactPerson",value:d.contactPerson,onChange:m,placeholder:a.contactPerson,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.phone}),s.jsx("input",{name:"phone",value:d.phone,onChange:m,placeholder:a.phone,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.email}),s.jsx("input",{type:"email",name:"email",value:d.email,onChange:m,placeholder:a.email,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.website}),s.jsx("input",{name:"website",value:d.website,onChange:m,placeholder:a.website,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.address}),s.jsx("input",{name:"address",value:d.address,onChange:m,placeholder:a.address,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.taxId}),s.jsx("input",{name:"taxId",value:d.taxId,onChange:m,placeholder:a.taxId,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.countryCity}),s.jsx("input",{name:"countryCity",value:d.countryCity,onChange:m,placeholder:a.countryCity,className:"input"})]})]})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitleBusiness}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.supplierType}),s.jsx("select",{name:"supplierType",value:d.supplierType,onChange:m,className:"input",children:r.map(k=>s.jsx("option",{value:k,children:k},k))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.category}),s.jsx("select",{name:"category",value:d.category,onChange:m,className:"input",children:n.map(k=>s.jsx("option",{value:k,children:k},k))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.productLine}),s.jsx("select",{name:"productLine",value:d.productLine,onChange:m,className:"input",children:o.map(k=>s.jsx("option",{value:k,children:k},k))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.paymentTerms}),s.jsx("select",{name:"paymentTerms",value:d.paymentTerms,onChange:m,className:"input",children:i.map(k=>s.jsx("option",{value:k,children:k},k))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.currency}),s.jsx("select",{name:"currency",value:d.currency,onChange:m,className:"input",children:l.map(k=>s.jsx("option",{value:k,children:k},k))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.creditLimit}),s.jsx("input",{type:"number",name:"creditLimit",value:d.creditLimit,onChange:m,placeholder:a.creditLimit,className:"input",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.discountRate}),s.jsx("input",{type:"number",name:"discountRate",value:d.discountRate,onChange:m,placeholder:a.discountRate,className:"input",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.deliveryTime}),s.jsx("input",{type:"number",name:"deliveryTime",value:d.deliveryTime,onChange:m,placeholder:a.deliveryTime,className:"input",min:"0",step:"1"})]})]})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitleAttachments}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.contractDoc}),s.jsx("input",{type:"file",multiple:!0,onChange:k=>v("contractDoc",k.target.files),className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.certificates}),s.jsx("input",{type:"file",multiple:!0,onChange:k=>v("certificates",k.target.files),className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.quotations}),s.jsx("input",{type:"file",multiple:!0,onChange:k=>v("quotations",k.target.files),className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.previousBills}),s.jsx("input",{type:"file",multiple:!0,onChange:k=>v("previousBills",k.target.files),className:"input"})]})]})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",className:"btn btn-primary",children:a.save})})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.listTitle}),f.length===0?s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:a.empty}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"nova-table w-full",children:[s.jsx("thead",{className:"thead-soft",children:s.jsxs("tr",{className:"text-gray-600 dark:text-gray-300",children:[s.jsx("th",{className:"text-start px-3 min-w-[180px]",children:a.supplierName}),s.jsx("th",{className:"text-start px-3 min-w-[140px]",children:a.companyName}),s.jsx("th",{className:"text-start px-3 min-w-[120px]",children:a.supplierCode}),s.jsx("th",{className:"text-start px-3 min-w-[160px]",children:a.contactPerson}),s.jsx("th",{className:"text-start px-3 min-w-[140px]",children:a.phone}),s.jsx("th",{className:"text-start px-3 min-w-[160px]",children:a.email}),s.jsx("th",{className:"text-start px-3 min-w-[160px]",children:a.countryCity}),s.jsx("th",{className:"text-start px-3 min-w-[140px]",children:a.supplierType}),s.jsx("th",{className:"text-start px-3 min-w-[140px]",children:a.category}),s.jsx("th",{className:"text-start px-3 min-w-[140px]",children:a.productLine}),s.jsx("th",{className:"text-start px-3 min-w-[120px]",children:a.currency}),s.jsx("th",{className:"text-center px-3 min-w-[120px]",children:a.creditLimit}),s.jsx("th",{className:"text-center px-3 min-w-[120px]",children:a.discountRate}),s.jsx("th",{className:"text-center px-3 min-w-[140px]",children:a.deliveryTime}),s.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.actions})]})}),s.jsx("tbody",{children:f.map(k=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-3",children:s.jsx("span",{className:"font-medium",children:k.supplierName})}),s.jsx("td",{className:"px-3",children:k.companyName}),s.jsx("td",{className:"px-3",children:k.supplierCode}),s.jsx("td",{className:"px-3",children:k.contactPerson}),s.jsx("td",{className:"px-3",children:k.phone}),s.jsx("td",{className:"px-3",children:k.email}),s.jsx("td",{className:"px-3",children:k.countryCity}),s.jsx("td",{className:"px-3",children:k.supplierType}),s.jsx("td",{className:"px-3",children:k.category}),s.jsx("td",{className:"px-3",children:k.productLine}),s.jsx("td",{className:"px-3",children:k.currency}),s.jsx("td",{className:"px-3 text-center",children:(k.creditLimit??0).toFixed(2)}),s.jsx("td",{className:"px-3 text-center",children:(k.discountRate??0).toFixed(2)}),s.jsx("td",{className:"px-3 text-center",children:k.deliveryTime??0}),s.jsx("td",{className:"px-3 text-center",children:s.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[s.jsx("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:()=>j(k),children:a.edit}),s.jsx("button",{type:"button",className:"btn btn-danger btn-sm",onClick:()=>b(k.id),children:a.delete})]})})]},k.id))})]})})]})]})}function mAe(){const{i18n:e}=St(),t=e.language==="ar",a=y.useMemo(()=>({title:t?" > ":"Inventory > Warehouse",save:t?" ":"Save Warehouse",listTitle:t?" ":"Warehouses List",empty:t?"   ":"No warehouses yet",actions:t?"":"Actions",edit:t?"":"Edit",delete:t?"":"Delete",formTitleBasic:t?"1-  ":"1- Basic Information",warehouseName:t?" ":"Warehouse Name",warehouseCode:t?" ":"Warehouse Code",warehouseType:t?" ":"Warehouse Type",status:t?"":"Status",manager:t?"/ ":"Manager/Responsible Person",contactNumber:t?" ":"Contact Number",email:t?" ":"Email",address:t?"":"Address",city:t?"":"City",formTitleOperational:t?"2-  ":"2- Operational Details",storageCapacity:t?" ":"Storage Capacity",sections:t?"":"Sections",allowedUsers:t?"  ":"Allowed Users",temperatureControlled:t?" ":"Temperature Controlled",defaultSupplier:t?" ":"Default Supplier",operatingHours:t?" ":"Operating Hours",formTitleStock:t?"3-  ":"3- Stock & Inventory",currentStockValue:t?"  ":"Current Stock Value",minThreshold:t?" ":"Min Threshold",maxThreshold:t?" ":"Max Threshold",nextStockAudit:t?" ":"Next Stock Audit",totalSkusStored:t?"  ":"Total SKUs Stored",lastStockAudit:t?" ":"Last Stock Audit",formTitleAttachments:t?"4- ":"4- Attachments",validityCertificates:t?" ":"Validity Certificates",maintenanceReports:t?"  ":"Periodic Maintenance Reports",note:t?"":"Note"}),[t]),r=y.useMemo(()=>t?["","",""]:["Central","Regional","Cold Storage"],[t]),n=y.useMemo(()=>t?["",""]:["Active","Inactive"],[t]),i="inventoryWarehouses",[l,o]=y.useState({warehouseName:"",warehouseCode:"",warehouseType:r[0]||"",status:n[0]||"",manager:"",contactNumber:"",email:"",address:"",city:"",storageCapacity:"",sections:"",allowedUsers:"",temperatureControlled:!1,defaultSupplier:"",operatingHours:"",currentStockValue:"",minThreshold:"",maxThreshold:"",nextStockAudit:"",totalSkusStored:"",lastStockAudit:"",attachments:{validityCertificates:[],maintenanceReports:[]},note:""}),[c,d]=y.useState([]);y.useEffect(()=>{try{const g=localStorage.getItem(i);if(g){const b=JSON.parse(g);Array.isArray(b)&&d(b)}}catch(g){console.warn("Failed to load warehouses",g)}},[]),y.useEffect(()=>{try{localStorage.setItem(i,JSON.stringify(c))}catch{}},[c]);const u=g=>{const{name:b,value:j,type:k,checked:S}=g.target;o(N=>({...N,[b]:k==="checkbox"?S:j}))},f=(g,b)=>{const j=Array.from(b||[]).map(k=>k.name);o(k=>({...k,attachments:{...k.attachments,[g]:j}}))},p=g=>{if(g.preventDefault(),!(l.warehouseName||"").trim())return;const j={id:Date.now(),...l,storageCapacity:l.storageCapacity?Number(l.storageCapacity):0,currentStockValue:l.currentStockValue?Number(l.currentStockValue):0,minThreshold:l.minThreshold?Number(l.minThreshold):0,maxThreshold:l.maxThreshold?Number(l.maxThreshold):0,totalSkusStored:l.totalSkusStored?Number(l.totalSkusStored):0};d(k=>[j,...k]),o({warehouseName:"",warehouseCode:"",warehouseType:r[0]||"",status:n[0]||"",manager:"",contactNumber:"",email:"",address:"",city:"",storageCapacity:"",sections:"",allowedUsers:"",temperatureControlled:!1,defaultSupplier:"",operatingHours:"",currentStockValue:"",minThreshold:"",maxThreshold:"",nextStockAudit:"",totalSkusStored:"",lastStockAudit:"",attachments:{validityCertificates:[],maintenanceReports:[]},note:""});try{window.scrollTo({top:0,behavior:"smooth"})}catch{}},m=g=>d(b=>b.filter(j=>j.id!==g)),v=g=>{o({warehouseName:g.warehouseName||"",warehouseCode:g.warehouseCode||"",warehouseType:g.warehouseType||r[0]||"",status:g.status||n[0]||"",manager:g.manager||"",contactNumber:g.contactNumber||"",email:g.email||"",address:g.address||"",city:g.city||"",storageCapacity:g.storageCapacity!=null?String(g.storageCapacity):"",sections:g.sections||"",allowedUsers:g.allowedUsers||"",temperatureControlled:!!g.temperatureControlled,defaultSupplier:g.defaultSupplier||"",operatingHours:g.operatingHours||"",currentStockValue:g.currentStockValue!=null?String(g.currentStockValue):"",minThreshold:g.minThreshold!=null?String(g.minThreshold):"",maxThreshold:g.maxThreshold!=null?String(g.maxThreshold):"",nextStockAudit:g.nextStockAudit||"",totalSkusStored:g.totalSkusStored!=null?String(g.totalSkusStored):"",lastStockAudit:g.lastStockAudit||"",attachments:{validityCertificates:g.attachments?.validityCertificates||[],maintenanceReports:g.attachments?.maintenanceReports||[]},note:g.note||""});try{window.scrollTo({top:0,behavior:"smooth"})}catch{}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:`relative inline-flex items-center ${t?"flex-row-reverse":""} gap-2`,children:[s.jsx("h1",{className:`page-title text-2xl font-semibold ${t?"text-right":"text-left"}`,children:a.title}),s.jsx("span",{"aria-hidden":!0,className:"absolute block h-[1px] rounded bg-gradient-to-r from-blue-500 via-purple-500 to-transparent",style:{width:"calc(100% + 8px)",left:t?"auto":"-4px",right:t?"-4px":"auto",bottom:"-4px"}})]}),s.jsxs("form",{onSubmit:p,className:"space-y-6",children:[s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitleBasic}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.warehouseName}),s.jsx("input",{name:"warehouseName",value:l.warehouseName,onChange:u,placeholder:a.warehouseName,className:"input",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.warehouseCode}),s.jsx("input",{name:"warehouseCode",value:l.warehouseCode,onChange:u,placeholder:a.warehouseCode,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.warehouseType}),s.jsx("select",{name:"warehouseType",value:l.warehouseType,onChange:u,className:"input",children:r.map(g=>s.jsx("option",{value:g,children:g},g))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.status}),s.jsx("select",{name:"status",value:l.status,onChange:u,className:"input",children:n.map(g=>s.jsx("option",{value:g,children:g},g))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.manager}),s.jsx("input",{name:"manager",value:l.manager,onChange:u,placeholder:a.manager,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.contactNumber}),s.jsx("input",{name:"contactNumber",value:l.contactNumber,onChange:u,placeholder:a.contactNumber,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.email}),s.jsx("input",{type:"email",name:"email",value:l.email,onChange:u,placeholder:a.email,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.address}),s.jsx("input",{name:"address",value:l.address,onChange:u,placeholder:a.address,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.city}),s.jsx("input",{name:"city",value:l.city,onChange:u,placeholder:a.city,className:"input"})]})]})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitleOperational}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.storageCapacity}),s.jsx("input",{type:"number",name:"storageCapacity",value:l.storageCapacity,onChange:u,placeholder:a.storageCapacity,className:"input",min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.sections}),s.jsx("input",{name:"sections",value:l.sections,onChange:u,placeholder:a.sections,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.allowedUsers}),s.jsx("input",{name:"allowedUsers",value:l.allowedUsers,onChange:u,placeholder:a.allowedUsers,className:"input"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"temperatureControlled",name:"temperatureControlled",checked:l.temperatureControlled,onChange:u}),s.jsx("label",{htmlFor:"temperatureControlled",className:"text-sm",children:a.temperatureControlled})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.defaultSupplier}),s.jsx("input",{name:"defaultSupplier",value:l.defaultSupplier,onChange:u,placeholder:a.defaultSupplier,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.operatingHours}),s.jsx("input",{name:"operatingHours",value:l.operatingHours,onChange:u,placeholder:a.operatingHours,className:"input"})]})]})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitleStock}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.currentStockValue}),s.jsx("input",{type:"number",name:"currentStockValue",value:l.currentStockValue,onChange:u,placeholder:a.currentStockValue,className:"input",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.totalSkusStored}),s.jsx("input",{type:"number",name:"totalSkusStored",value:l.totalSkusStored,onChange:u,placeholder:a.totalSkusStored,className:"input",min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.minThreshold}),s.jsx("input",{type:"number",name:"minThreshold",value:l.minThreshold,onChange:u,placeholder:a.minThreshold,className:"input",min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.maxThreshold}),s.jsx("input",{type:"number",name:"maxThreshold",value:l.maxThreshold,onChange:u,placeholder:a.maxThreshold,className:"input",min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.nextStockAudit}),s.jsx("input",{type:"date",name:"nextStockAudit",value:l.nextStockAudit,onChange:u,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.lastStockAudit}),s.jsx("input",{type:"date",name:"lastStockAudit",value:l.lastStockAudit,onChange:u,className:"input"})]})]})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitleAttachments}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.validityCertificates}),s.jsx("input",{type:"file",multiple:!0,onChange:g=>f("validityCertificates",g.target.files),className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.maintenanceReports}),s.jsx("input",{type:"file",multiple:!0,onChange:g=>f("maintenanceReports",g.target.files),className:"input"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm mb-1",children:a.note}),s.jsx("textarea",{name:"note",value:l.note,onChange:u,placeholder:a.note,className:"input h-24"})]})]})]}),s.jsx("div",{className:"h-6"}),s.jsx("div",{className:"flex justify-center",children:s.jsx("button",{type:"submit",className:"btn bg-white text-blue-600 border border-blue-600 hover:bg-blue-50",children:a.save})}),s.jsx("div",{className:"h-6"})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.listTitle}),c.length===0?s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:a.empty}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"nova-table w-full",children:[s.jsx("thead",{className:"thead-soft",children:s.jsxs("tr",{className:"text-gray-600 dark:text-gray-300",children:[s.jsx("th",{className:"text-start",children:a.warehouseName}),s.jsx("th",{className:"text-start",children:a.warehouseCode}),s.jsx("th",{className:"text-start",children:a.city}),s.jsx("th",{className:"text-start",children:a.status}),s.jsx("th",{className:"text-start",children:a.actions})]})}),s.jsx("tbody",{children:c.map(g=>s.jsxs("tr",{children:[s.jsx("td",{children:g.warehouseName}),s.jsx("td",{children:g.warehouseCode}),s.jsx("td",{children:g.city}),s.jsx("td",{children:g.status}),s.jsx("td",{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{type:"button",className:"btn btn-xs",onClick:()=>v(g),children:a.edit}),s.jsx("button",{type:"button",className:"btn btn-xs btn-danger",onClick:()=>m(g.id),children:a.delete})]})})]},g.id))})]})})]})]})}function pAe(){const{i18n:e}=St(),t=(e?.language||"").toLowerCase().startsWith("ar"),[a,r]=y.useState([]);return y.useEffect(()=>{try{const n=localStorage.getItem("marketingCampaigns");r(n?JSON.parse(n):[])}catch{r([])}},[]),a.length?s.jsx("ul",{className:"space-y-3",children:a.slice().reverse().map(n=>s.jsxs("li",{className:"border border-white/20 rounded-lg p-3 backdrop-blur-sm bg-white/5",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"font-medium",children:n.name}),s.jsx("span",{className:"text-xs opacity-70",children:n.platform})]}),s.jsxs("div",{className:"mt-1 text-xs opacity-75",children:[t?": ":"Budget: ",n.totalBudget||0,"  ",t?": ":"Type: ",n.budgetType]}),n.startDate||n.endDate?s.jsxs("div",{className:"mt-1 text-xs opacity-75",children:[t?": ":"Period: ",n.startDate||"","  ",n.endDate||""]}):null]},n.id))}):s.jsx("p",{className:"text-sm opacity-70",children:t?"   ":"No campaigns yet"})}function xAe(){const{i18n:e}=St(),t=(e?.language||"").toLowerCase().startsWith("ar"),[a,r]=y.useState({name:"",platform:"",budgetType:"daily",totalBudget:"",startDate:"",endDate:"",landingPage:"",notes:""}),[n,i]=y.useState(!1),[l,o]=y.useState(null),[c,d]=y.useState([]);y.useEffect(()=>{try{const p=localStorage.getItem("marketingLandingPages");if(p){const m=JSON.parse(p);d(Array.isArray(m)?m:[])}else d([{id:"lp1",name:"LP - Registration"},{id:"lp2",name:"LP - Pricing"},{id:"lp3",name:"LP - Webinar"}])}catch{d([{id:"lp1",name:"LP - Registration"},{id:"lp2",name:"LP - Pricing"},{id:"lp3",name:"LP - Webinar"}])}},[]);function u(p){const{name:m,value:v}=p.target;r(g=>({...g,[m]:v}))}function f(p){if(p.preventDefault(),!a.name||!a.platform){o({type:"error",text:t?"    ":"Please enter name and platform"});return}i(!0);try{const m={id:Date.now(),...a},v=localStorage.getItem("marketingCampaigns"),g=v?JSON.parse(v):[];g.push(m),localStorage.setItem("marketingCampaigns",JSON.stringify(g)),o({type:"success",text:t?"   ":"Campaign saved successfully"}),r({name:"",platform:"",budgetType:"daily",totalBudget:"",startDate:"",endDate:"",landingPage:"",notes:""})}catch{o({type:"error",text:t?"   ":"Error while saving"})}finally{i(!1)}}return s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:t?"":"Campaigns"}),s.jsxs("div",{className:"card glass-card p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:t?" ":"Add Campaign"}),s.jsxs("form",{onSubmit:f,className:`space-y-4 ${t?"text-right":"text-left"}`,children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:t?" ":"Campaign Name"}),s.jsx("input",{name:"name",value:a.name,onChange:u,placeholder:t?"  ":"Enter campaign name",className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:t?"":"Platform"}),s.jsxs("select",{name:"platform",value:a.platform,onChange:u,className:"input",children:[s.jsx("option",{value:"",children:t?" ":"Select Platform"}),s.jsx("option",{value:"Meta",children:"Meta"}),s.jsx("option",{value:"Google",children:"Google"}),s.jsx("option",{value:"Manual",children:t?"":"Manual"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:t?" ":"Budget Type"}),s.jsxs("div",{className:`flex items-center gap-6 ${t?"justify-end":""}`,children:[s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"budgetType",value:"daily",checked:a.budgetType==="daily",onChange:u}),s.jsx("span",{children:t?"":"Daily"})]}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"budgetType",value:"lifetime",checked:a.budgetType==="lifetime",onChange:u}),s.jsx("span",{children:t?" ":"Lifetime"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:t?" ":"Total Budget"}),s.jsx("input",{type:"number",name:"totalBudget",value:a.totalBudget,onChange:u,className:"input",placeholder:"0"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:t?" ":"Start Date"}),s.jsx("input",{type:"date",name:"startDate",value:a.startDate,onChange:u,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:t?" ":"End Date"}),s.jsx("input",{type:"date",name:"endDate",value:a.endDate,onChange:u,className:"input"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:t?"  ":"Linked Landing Page"}),s.jsxs("select",{name:"landingPage",value:a.landingPage,onChange:u,className:"input",children:[s.jsx("option",{value:"",children:t?"  ":"Select Landing Page"}),c.map(p=>s.jsx("option",{value:p.id,children:p.name||p.title||`LP ${p.id}`},p.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:t?"":"Notes"}),s.jsx("textarea",{name:"notes",value:a.notes,onChange:u,className:"input",rows:3,placeholder:t?" ":"Additional notes"})]}),s.jsx("div",{className:`flex ${t?"justify-start":"justify-end"}`,children:s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n,children:n?t?" ...":"Saving...":t?"":"Save"})}),l&&s.jsx("div",{className:`text-sm ${l.type==="success"?"text-green-600":"text-red-600"}`,children:l.text})]})]}),s.jsxs("div",{className:"card glass-card p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:t?" ":"Active Campaigns"}),s.jsx(pAe,{})]})]})}function gAe(){const{t:e,i18n:t}=St(),a=t.language==="ar",r=In(),n=[{name:"Landing Page",url:"https://example.co",source:"Meta",campaign:"Conevecal",visitors:140,leads:120,conversion:"30.6%"},{name:"Product Demo Page",url:"https://google",source:"Google",campaign:"Spring Sale",visitors:30,leads:45,conversion:"14.5%"},{name:"Real Estate Lead",url:"https://man.ru",source:"Manual",campaign:"Somouse",visitors:20,leads:30,conversion:"12.5%"},{name:"Webinar Signup",url:"https://manuee",source:"Manual",campaign:"Summer Offer",visitors:20,leads:50,conversion:"13.0%"},{name:"Product Pela mcre",url:"https://example.c",source:"Meta",campaign:"Forris",visitors:10,leads:30,conversion:"Paused"},{name:"Running Ages",url:"https://example.co",source:"Maca",campaign:"Google",visitors:30,leads:10,conversion:"Active"}],[i,l]=y.useState(n),[o,c]=y.useState(!1),[d,u]=y.useState(!1),[f,p]=y.useState(""),[m,v]=y.useState(""),[g,b]=y.useState("All"),[j,k]=y.useState("All"),[S,N]=y.useState("All"),A=y.useMemo(()=>["All",...Array.from(new Set(i.map(F=>F.source)))],[i]),_=y.useMemo(()=>["All",...Array.from(new Set(i.map(F=>F.campaign)))],[i]),E=["All","Active","Paused","Percentage"],D=y.useMemo(()=>{const F=m.trim().toLowerCase();return i.filter(K=>{const V=!F||K.name.toLowerCase().includes(F)||K.url.toLowerCase().includes(F),J=g==="All"||K.source===g,Q=j==="All"||K.campaign===j,z=String(K.conversion||"").toLowerCase(),X=z.includes("%")?"Percentage":z==="active"?"Active":z==="paused"?"Paused":"Percentage";return V&&J&&Q&&(S==="All"||X===S)})},[i,m,g,j,S]),R=y.useMemo(()=>D.reduce((F,K)=>F+(Number(K.visitors)||0),0),[D]),I=y.useMemo(()=>D.reduce((F,K)=>F+(Number(K.leads)||0),0),[D]),M=y.useMemo(()=>`${(R>0?I/R*100:0).toFixed(1)}%`,[R,I]),U=()=>{d||(u(!0),p(""),setTimeout(()=>{l(F=>F.map(K=>{const V=Math.floor(Math.random()*20)+5,J=Math.floor(Math.random()*10)-2,Q=(Number(K.visitors)||0)+V;let z=(Number(K.leads)||0)+Math.max(0,J);z>Q&&(z=Math.floor(Q*.8));let X=`${Q>0?(z/Q*100).toFixed(1):"0.0"}%`;return(K.conversion==="Paused"||K.conversion==="Active")&&(X=K.conversion),{...K,visitors:Q,leads:z,conversion:X}})),u(!1),p(e("Sync complete")),setTimeout(()=>p(""),2500)},1400))},P=()=>{v(""),b("All"),k("All"),N("All")};return s.jsxs("div",{className:"space-y-4 bg-transparent text-[var(--content-text)] overflow-y-auto",children:[s.jsx("h1",{className:"page-title text-2xl font-bold",children:e("Landing Pages")}),s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsxs("button",{className:`btn btn-primary inline-flex items-center gap-2 ${a?"flex-row-reverse":""}`,onClick:()=>r("/marketing/landing-pages/add"),children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M12 5v14M5 12h14"})}),s.jsx("span",{children:e("Add Landing Page")})]}),s.jsxs("button",{className:`btn inline-flex items-center gap-2 ${a?"flex-row-reverse":""}`,onClick:U,disabled:d,children:[d?s.jsx("span",{className:"inline-block w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[s.jsx("path",{d:"M21 12a9 9 0 10-3.28 6.92"}),s.jsx("path",{d:"M21 12h-4"})]}),s.jsx("span",{children:e(d?"Syncing...":"Sync Data")})]}),s.jsxs("button",{className:`btn inline-flex items-center gap-2 ${a?"flex-row-reverse":""}`,onClick:()=>c(F=>!F),children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M3 4h18l-7 8v6l-4 2v-8z"})}),s.jsx("span",{children:e("Filters")})]})]}),s.jsx("div",{className:"spacer-row w-full",children:s.jsx("div",{className:"h-2"})}),f&&s.jsx("div",{className:`card glass-card p-3 text-sm ${a?"text-right":"text-left"}`,children:f}),f&&s.jsx("div",{className:"spacer-row w-full",children:s.jsx("div",{className:"h-2"})}),o&&s.jsxs("section",{className:"card glass-card p-4",children:[s.jsxs("div",{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 ${a?"text-right":""}`,children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Search")}),s.jsx("input",{value:m,onChange:F=>v(F.target.value),placeholder:e("Type to filter..."),className:"input"})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Source")}),s.jsx("select",{value:g,onChange:F=>b(F.target.value),className:"select",children:A.map(F=>s.jsx("option",{value:F,children:F},F))})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Campaign")}),s.jsx("select",{value:j,onChange:F=>k(F.target.value),className:"select",children:_.map(F=>s.jsx("option",{value:F,children:F},F))})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Status")}),s.jsx("select",{value:S,onChange:F=>N(F.target.value),className:"select",children:E.map(F=>s.jsx("option",{value:F,children:e(F)},F))})]})]}),s.jsxs("div",{className:`mt-4 flex items-center gap-2 ${a?"justify-start":"justify-end"}`,children:[s.jsx("button",{className:"btn",onClick:()=>c(!1),children:e("Apply")}),s.jsx("button",{className:"btn",onClick:P,children:e("Reset")}),s.jsx("button",{className:"btn",onClick:()=>c(!1),children:e("Close")})]})]}),o&&s.jsx("div",{className:"spacer-row w-full",children:s.jsx("div",{className:"h-2"})}),s.jsx("section",{className:"card glass-card p-4",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"card glass-card p-4",children:[s.jsxs("div",{className:"text-sm text-[var(--muted-text)] inline-flex items-center gap-2",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[s.jsx("circle",{cx:"8",cy:"9",r:"2.5"}),s.jsx("circle",{cx:"16",cy:"9",r:"2.5"}),s.jsx("path",{d:"M3 20v-1a5 5 0 015-5h8a5 5 0 015 5v1"})]}),s.jsx("span",{children:e("Total Visitors")})]}),s.jsx("div",{className:"text-3xl font-semibold",children:R.toLocaleString()})]}),s.jsxs("div",{className:"card glass-card p-4",children:[s.jsxs("div",{className:"text-sm text-[var(--muted-text)] inline-flex items-center gap-2",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[s.jsx("rect",{x:"6",y:"4",width:"12",height:"16",rx:"2"}),s.jsx("path",{d:"M9 12l2 2 4-4"})]}),s.jsx("span",{children:e("Total Leads")})]}),s.jsx("div",{className:"text-3xl font-semibold",children:I.toLocaleString()})]}),s.jsxs("div",{className:"card glass-card p-4",children:[s.jsxs("div",{className:"text-sm text-[var(--muted-text)] inline-flex items-center gap-2",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[s.jsx("path",{d:"M3 17l6-6 4 4 8-8"}),s.jsx("path",{d:"M3 17h18"})]}),s.jsx("span",{children:e("Avg. Conversion %")})]}),s.jsx("div",{className:"text-3xl font-semibold",children:M})]}),s.jsx("div",{className:"card glass-card p-3 flex items-center justify-center",children:s.jsxs("svg",{viewBox:"0 0 120 60",className:"w-full h-20",children:[s.jsx("path",{d:"M0 45 L10 40 L20 42 L30 36 L40 38 L50 34 L60 35 L70 30 L80 35 L90 32 L100 28 L110 30 L120 27 L120 60 L0 60 Z",fill:"rgba(16,185,129,0.35)",stroke:"rgba(16,185,129,0.6)",strokeWidth:"1"}),s.jsx("path",{d:"M0 50 L10 48 L20 46 L30 47 L40 44 L50 43 L60 44 L70 41 L80 39 L90 38 L100 35 L110 36 L120 37",fill:"none",stroke:"rgba(59,130,246,0.8)",strokeWidth:"2"})]})})]})}),s.jsx("div",{className:"spacer-row w-full",children:s.jsx("div",{className:"h-2"})}),s.jsx("section",{className:"card glass-card p-4 max-[550px]:p-3",children:s.jsx("div",{className:"max-[550px]:-mx-3",children:s.jsxs("table",{className:"nova-table w-full table-fixed text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"glass-row text-left text-gray-600 dark:text-gray-300",children:[s.jsx("th",{className:"py-2 px-4",children:e("Page Name")}),s.jsx("th",{className:"py-2 px-4",children:"URL"}),s.jsx("th",{className:"py-2 px-4",children:e("Source")}),s.jsx("th",{className:"py-2 px-4",children:e("Linked Campaign")}),s.jsx("th",{className:"py-2 px-4",children:e("Visitors")}),s.jsx("th",{className:"py-2 px-4",children:e("Leads")}),s.jsx("th",{className:"py-2 px-4",children:e("Conversion %")})]})}),s.jsx("tbody",{className:"text-gray-800 dark:text-gray-100",children:D.map((F,K)=>s.jsxs(Ws.Fragment,{children:[s.jsxs("tr",{className:"glass-row border-t border-gray-200 dark:border-gray-800",children:[s.jsx("td",{className:"py-2 px-4",children:F.name}),s.jsx("td",{className:"py-2 px-4",children:s.jsx("a",{href:F.url,className:"text-blue-600 hover:underline",target:"_blank",rel:"noreferrer",children:F.url})}),s.jsx("td",{className:"py-2 px-4",children:F.source}),s.jsx("td",{className:"py-2 px-4",children:F.campaign}),s.jsx("td",{className:"py-2 px-4",children:F.visitors}),s.jsx("td",{className:"py-2 px-4",children:F.leads}),s.jsx("td",{className:"py-2 px-4",children:F.conversion})]}),K<D.length-1&&s.jsx("tr",{className:"spacer-row",children:s.jsx("td",{colSpan:7,children:s.jsx("div",{className:"h-2"})})})]},K))})]})})})]})}function vAe(){const{t:e}=St(),[t,a]=y.useState(()=>{try{return JSON.parse(localStorage.getItem("meta.integration")||"{}")}catch{return{}}}),[r,n]=y.useState(()=>t.events||{Lead:!0,Contact:!0,CompleteRegistration:!1,Purchase:!1}),[i,l]=y.useState(!!t.enableCapi),[o,c]=y.useState(!!t.autoSync),[d,u]=y.useState(()=>t.fieldMap||{name:"name",email:"email",phone:"phone",utm_source:"utm_source",utm_campaign:"utm_campaign"}),[f,p]=y.useState(null),[m,v]=y.useState(null),g="http://localhost:8787",b=`${g}/api/meta/webhook`,[j,k]=y.useState(null),[S,N]=y.useState(null),[A,_]=y.useState(!1),[E,D]=y.useState("default");y.useEffect(()=>{const X={...t,events:r,enableCapi:i,autoSync:o,fieldMap:d};localStorage.setItem("meta.integration",JSON.stringify(X))},[t,r,i,o,d]);const R=y.useMemo(()=>({account:!!t.businessManagerId&&!!t.adAccountId&&!!t.pageId,pixel:!!t.pixelId,leadAds:!!t.pageId&&o}),[t,o]),I=()=>{localStorage.removeItem("meta.integration"),a({}),n({Lead:!0,Contact:!0,CompleteRegistration:!1,Purchase:!1}),l(!1),c(!1),u({name:"name",email:"email",phone:"phone",utm_source:"utm_source",utm_campaign:"utm_campaign"}),p(null),v(null)},M=(X,le)=>a(O=>({...O,[X]:le})),U=()=>{const X={pixel_id:t.pixelId||"PIXEL_ID",event_name:Object.keys(r).find(le=>r[le])||"Lead",event_time:Math.floor(Date.now()/1e3),event_source_url:window.location.href,action_source:i?"website+capi":"website",user_data:{email:"lead@example.com",phone:"+201234567890"},custom_data:{value:0,currency:"USD"}};p(X)},P=()=>{const X={full_name:"Ahmed Ali",email:"ahmed@example.com",phone_number:"+201000000000",utm_source:"facebook",utm_campaign:"spring_campaign"},le={[d.name]:X.full_name,[d.email]:X.email,[d.phone]:X.phone_number,[d.utm_source]:X.utm_source,[d.utm_campaign]:X.utm_campaign};v({sampleLead:X,mapped:le})},F=async()=>{try{const X=f||{pixel_id:t.pixelId||"PIXEL_ID",event_name:"Lead"},O=await(await fetch(`${g}/api/meta/capi/test`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(X)})).json();N(O)}catch(X){N({ok:!1,error:X.message})}},K=async()=>{try{const X=`${g}/api/meta/webhook?hub.mode=subscribe&hub.verify_token=${encodeURIComponent(t.verifyToken||"")}&hub.challenge=TEST`,le=await fetch(X),O=await le.text();k({ok:le.ok,text:O})}catch(X){k({ok:!1,error:X.message})}},V=()=>{M("callbackUrl",b)},J=async()=>{try{await navigator.clipboard.writeText(t.callbackUrl||b),_(!0),setTimeout(()=>_(!1),1500)}catch{_(!1)}},Q=X=>{D(X),u(X==="facebook"?{name:"full_name",email:"email",phone:"phone_number",utm_source:"utm_source",utm_campaign:"utm_campaign"}:{name:"name",email:"email",phone:"phone",utm_source:"utm_source",utm_campaign:"utm_campaign"})},z=({ok:X,label:le})=>s.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs rounded-full ${X?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300":"bg-rose-100 text-rose-700 dark:bg-rose-900/30 dark:text-rose-300"}`,children:[s.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${X?"bg-emerald-500":"bg-rose-500"}`}),le]});return s.jsxs("div",{className:"space-y-6 bg-transparent text-[var(--content-text)]",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:e("Meta Integration")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(z,{ok:R.account,label:e("Account Connected")}),s.jsx(z,{ok:R.pixel,label:e("Pixel Configured")}),s.jsx(z,{ok:R.leadAds,label:e("Lead Ads Auto-sync")})]})]}),s.jsxs("div",{className:"card glass-card p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-lg font-semibold",children:e("Meta Account")}),s.jsx("button",{className:"btn btn-outline",onClick:I,children:e("Reset Settings")})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"label",children:e("Business Manager ID")}),s.jsx("input",{className:"input",value:t.businessManagerId||"",onChange:X=>M("businessManagerId",X.target.value),placeholder:e("e.g., 1234567890")})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"label",children:e("Ad Account ID")}),s.jsx("input",{className:"input",value:t.adAccountId||"",onChange:X=>M("adAccountId",X.target.value),placeholder:e("e.g., act_1234567890")})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"label",children:e("Page ID")}),s.jsx("input",{className:"input",value:t.pageId||"",onChange:X=>M("pageId",X.target.value),placeholder:e("e.g., 1234567890")})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"label",children:e("App ID")}),s.jsx("input",{className:"input",value:t.appId||"",onChange:X=>M("appId",X.target.value),placeholder:e("e.g., 123456789012345")})]})]}),s.jsx("p",{className:"mt-2 text-xs text-[var(--muted-text)]",children:e("For production, store secrets on the server, not in the browser.")})]}),s.jsxs("div",{className:"card glass-card p-4",children:[s.jsx("h2",{className:"text-lg font-semibold mb-3",children:e("Facebook Pixel")}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"label",children:e("Pixel ID")}),s.jsx("input",{className:"input",value:t.pixelId||"",onChange:X=>M("pixelId",X.target.value),placeholder:e("e.g., 123456789012345")})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-6",children:[s.jsx("input",{id:"enableCapi",type:"checkbox",checked:i,onChange:X=>l(X.target.checked)}),s.jsx("label",{htmlFor:"enableCapi",className:"text-sm",children:e("Enable CAPI")})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-6",children:[s.jsx("label",{className:"text-sm",children:e("Events")}),s.jsx("div",{className:"flex flex-wrap gap-3",children:Object.keys(r).map(X=>s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:!!r[X],onChange:le=>n(O=>({...O,[X]:le.target.checked}))}),s.jsx("span",{children:e(X)})]},X))})]})]}),s.jsxs("div",{className:"flex md:justify-end items-start gap-2",children:[s.jsx("button",{className:"btn btn-primary",onClick:U,children:e("Test Pixel Event")}),s.jsx("button",{className:"btn btn-outline",onClick:F,children:e("Send to Server (CAPI echo)")})]})]}),f&&s.jsxs("div",{className:"mt-4 rounded-lg ring-1 ring-gray-200 dark:ring-gray-800 p-3",children:[s.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mb-2",children:e("Payload Preview")}),s.jsx("pre",{className:"text-xs overflow-auto",children:JSON.stringify(f,null,2)})]}),S&&s.jsxs("div",{className:"mt-3 rounded-lg ring-1 ring-gray-200 dark:ring-gray-800 p-3",children:[s.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mb-2",children:e("Server Response")}),s.jsx("pre",{className:"text-xs overflow-auto",children:JSON.stringify(S,null,2)})]}),s.jsx("p",{className:"mt-2 text-xs text-[var(--muted-text)]",children:e("Use Events Manager to verify pixel firing and CAPI events.")})]}),s.jsxs("div",{className:"card glass-card p-4",children:[s.jsx("h2",{className:"text-lg font-semibold mb-3",children:e("Lead Ads Synchronization")}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mb-2",children:e("Webhook Settings")}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"autoSync",type:"checkbox",checked:o,onChange:X=>c(X.target.checked)}),s.jsx("label",{htmlFor:"autoSync",className:"text-sm",children:e("Enable Auto-sync")})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"label",children:e("Verify Token")}),s.jsx("input",{className:"input",dir:"ltr",value:t.verifyToken||"",onChange:X=>M("verifyToken",X.target.value),placeholder:e("Webhook verify token")})]}),s.jsxs("div",{className:"flex flex-col lg:col-span-2",children:[s.jsx("label",{className:"label",children:e("Callback URL")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{className:"input flex-1 w-full",dir:"ltr",value:t.callbackUrl||"",onChange:X=>M("callbackUrl",X.target.value),placeholder:e("https://your-domain.com/api/meta/webhook")}),s.jsx("button",{type:"button",className:"btn btn-xs",onClick:V,children:e("Set local server URL")}),s.jsx("button",{type:"button",className:"btn btn-outline btn-xs",onClick:J,children:e("Copy")})]}),A&&s.jsx("div",{className:"text-xs text-emerald-600 mt-1",children:e("Copied")}),s.jsx("div",{className:"h-2","aria-hidden":"true"})]})]})]}),s.jsxs("div",{className:"flex md:justify-end items-start gap-2",children:[s.jsx("button",{className:"btn btn-outline",onClick:P,children:e("Simulate Lead Mapping")}),s.jsx("button",{className:"btn btn-primary",onClick:K,children:e("Test Verify Webhook")})]})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"rounded-lg ring-1 ring-gray-200 dark:ring-gray-800 p-3",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs font-semibold text-gray-600 dark:text-gray-300 mb-2",children:[s.jsx("span",{children:e("Field Mapping")}),s.jsxs("select",{className:"input input-xs w-auto",value:E,onChange:X=>Q(X.target.value),children:[s.jsx("option",{value:"default",children:e("Default")}),s.jsx("option",{value:"facebook",children:e("Facebook Fields")})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"label",children:e("Full Name")}),s.jsx("input",{className:"input",value:d.name,onChange:X=>u(le=>({...le,name:X.target.value}))})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"label",children:e("Email")}),s.jsx("input",{className:"input",value:d.email,onChange:X=>u(le=>({...le,email:X.target.value}))})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"label",children:e("Phone")}),s.jsx("input",{className:"input",value:d.phone,onChange:X=>u(le=>({...le,phone:X.target.value}))})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"label",children:e("UTM Source")}),s.jsx("input",{className:"input",value:d.utm_source,onChange:X=>u(le=>({...le,utm_source:X.target.value}))})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"label",children:e("UTM Campaign")}),s.jsx("input",{className:"input",value:d.utm_campaign,onChange:X=>u(le=>({...le,utm_campaign:X.target.value}))})]})]})]}),m&&s.jsxs("div",{className:"rounded-lg ring-1 ring-gray-200 dark:ring-gray-800 p-3",children:[s.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mb-2",children:e("Mapping Preview")}),s.jsx("pre",{className:"text-xs overflow-auto",children:JSON.stringify(m,null,2)})]})]}),j&&s.jsxs("div",{className:"mt-3 rounded-lg ring-1 ring-gray-200 dark:ring-gray-800 p-3",children:[s.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mb-2",children:e("Webhook Verify Result")}),s.jsx("pre",{className:"text-xs overflow-auto",children:JSON.stringify(j,null,2)})]}),s.jsx("p",{className:"mt-2 text-xs text-[var(--muted-text)]",children:e("Subscribe Page to webhook via Meta settings; use the verify token above.")})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"card glass-card p-4",children:[s.jsx("h3",{className:"text-base font-semibold mb-2",children:e("Diagnostics")}),s.jsxs("ul",{className:"text-sm space-y-2",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(z,{ok:R.account,label:e("Account Connected")}),s.jsx("span",{className:"text-[var(--muted-text)]",children:e("Business Manager, Ad Account, and Page configured")})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(z,{ok:R.pixel,label:e("Pixel Configured")}),s.jsx("span",{className:"text-[var(--muted-text)]",children:e("Pixel ID present; test event recommended")})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(z,{ok:R.leadAds,label:e("Lead Ads Auto-sync")}),s.jsx("span",{className:"text-[var(--muted-text)]",children:e("Webhook enabled and auto-sync active")})]})]})]}),s.jsxs("div",{className:"card glass-card p-4 md:col-span-2",children:[s.jsx("h3",{className:"text-base font-semibold mb-2",children:e("Marketing Tips")}),s.jsxs("ul",{className:"text-sm space-y-2 list-disc pl-5",children:[s.jsx("li",{children:e("Use CAPI + Pixel to reduce tracking loss and improve optimization.")}),s.jsx("li",{children:e("Map UTM parameters and campaigns to CRM for end-to-end attribution.")}),s.jsx("li",{children:e("Test events in Events Manager after any change to your funnel.")}),s.jsx("li",{children:e("Auto-sync Lead Ads and dedupe by phone/email to avoid duplicates.")}),s.jsx("li",{children:e("Retarget unconverted leads with Custom Audiences for higher ROAS.")})]})]})]})]})}function bN({startDate:e,endDate:t,onChange:a,className:r=""}){const{t:n,i18n:i}=St(),l=(i?.language||"").toLowerCase().startsWith("ar"),o=(u,f)=>{const p=m=>new Date(m).toISOString().split("T")[0];a?.({startDate:p(u),endDate:p(f)})},c=new Date,d=[{key:"today",label:n("Today"),range:[c,c]},{key:"last7",label:n("Last 7 Days"),range:[new Date(c.getFullYear(),c.getMonth(),c.getDate()-6),c]},{key:"last30",label:n("Last 30 Days"),range:[new Date(c.getFullYear(),c.getMonth(),c.getDate()-29),c]},{key:"thisMonth",label:n("This Month"),range:[new Date(c.getFullYear(),c.getMonth(),1),new Date(c.getFullYear(),c.getMonth()+1,0)]},{key:"lastMonth",label:n("Last Month"),range:[new Date(c.getFullYear(),c.getMonth()-1,1),new Date(c.getFullYear(),c.getMonth(),0)]},{key:"thisQuarter",label:n("This Quarter"),range:(()=>{const u=Math.floor(c.getMonth()/3)*3;return[new Date(c.getFullYear(),u,1),new Date(c.getFullYear(),u+3,0)]})()},{key:"thisYear",label:n("This Year"),range:[new Date(c.getFullYear(),0,1),new Date(c.getFullYear(),11,31)]}];return s.jsxs("div",{className:`rounded-lg border border-[var(--panel-border)] bg-[var(--dropdown-bg)] p-3 ${r}`,children:[s.jsxs("div",{className:`flex flex-wrap items-center gap-2 ${l?"flex-row-reverse":""}`,children:[s.jsx("span",{className:"text-sm opacity-70",children:n("Advanced Date Filter")}),s.jsx("div",{className:`flex flex-wrap items-center gap-2 ${l?"flex-row-reverse":""}`,children:d.map(u=>s.jsx("button",{onClick:()=>o(u.range[0],u.range[1]),className:"px-2 py-1 text-xs rounded-full border border-[var(--panel-border)] bg-white/60 dark:bg-gray-800/60 hover:bg-white dark:hover:bg-gray-800 transition-colors",children:u.label},u.key))})]}),s.jsxs("div",{className:`mt-3 grid grid-cols-1 sm:grid-cols-3 gap-2 ${l?"text-right":""}`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs opacity-70",children:n("From")}),s.jsx("input",{type:"date",lang:l?"ar":"en",dir:l?"rtl":"ltr",placeholder:l?"//":"mm/dd/yyyy",value:e,onChange:u=>a?.({startDate:u.target.value,endDate:t}),className:"bg-transparent outline-none text-sm px-2 py-1 rounded-md border"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs opacity-70",children:n("To")}),s.jsx("input",{type:"date",lang:l?"ar":"en",dir:l?"rtl":"ltr",placeholder:l?"//":"mm/dd/yyyy",value:t,onChange:u=>a?.({startDate:e,endDate:u.target.value}),className:"bg-transparent outline-none text-sm px-2 py-1 rounded-md border"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs opacity-70",children:n("Month")}),s.jsx("input",{type:"month",value:`${(e||"").slice(0,7)}`,onChange:u=>{const[f,p]=u.target.value.split("-"),m=new Date(parseInt(f),parseInt(p)-1,1),v=new Date(parseInt(f),parseInt(p),0);o(m,v)},className:"bg-transparent outline-none text-sm px-2 py-1 rounded-md border"})]})]})]})}Ls.register(Bn,$n,Xn,Sl,hi,yn,bn);function k9(){const{t:e,i18n:t}=St(),a=(t?.language||"").toLowerCase().startsWith("ar"),[r,n]=y.useState("2024-01-01"),[i,l]=y.useState("2024-03-31"),[o,c]=y.useState(""),d=y.useMemo(()=>[{name:"Spring Launch",platform:"Facebook",spend:5e3,impressions:15e4,clicks:5200,ctr:3.47,cpc:.96,leads:240,cpl:20.8,qualifiedPct:42,roi:2.4},{name:"Brand Awareness",platform:"Instagram",spend:3600,impressions:18e4,clicks:3400,ctr:1.89,cpc:1.06,leads:120,cpl:30,qualifiedPct:28,roi:1.3},{name:"Referral Boost",platform:"Google Ads",spend:6200,impressions:12e4,clicks:6800,ctr:5.67,cpc:.91,leads:310,cpl:20,qualifiedPct:51,roi:2.9},{name:"Retargeting",platform:"Facebook",spend:2800,impressions:9e4,clicks:3200,ctr:3.56,cpc:.88,leads:130,cpl:21.5,qualifiedPct:37,roi:1.9},{name:"Holiday Promo",platform:"Google Ads",spend:4100,impressions:11e4,clicks:4500,ctr:4.09,cpc:.91,leads:210,cpl:19.5,qualifiedPct:46,roi:2.2}],[]),u=y.useMemo(()=>d.filter(b=>b.name.toLowerCase().includes(o.toLowerCase())||b.platform.toLowerCase().includes(o.toLowerCase())),[d,o]),f=()=>{const b=u.map(({name:D,platform:R,spend:I,impressions:M,clicks:U,ctr:P,cpc:F,leads:K,cpl:V,qualifiedPct:J,roi:Q})=>({"Campaign Name":D,Platform:R,Spend:I,Impressions:M,Clicks:U,CTR:P,CPC:F,"Leads Generated":K,CPL:V,"Qualified Leads %":J,ROI:Q})),j=sa.json_to_sheet(b),k=u.map(({name:D,spend:R,roi:I,clicks:M,ctr:U,leads:P,qualifiedPct:F})=>({Campaign:D,Spend,ROI,Clicks,CTR:U,Leads,QualifiedPct:F})),S=sa.json_to_sheet(k),N=[{"Start Date":r,"End Date":i,Query:o||"","Rows Exported":u.length,"Exported At":new Date().toISOString()}],A=sa.json_to_sheet(N),_=sa.book_new();sa.book_append_sheet(_,j,"Summary"),sa.book_append_sheet(_,S,"Charts Data"),sa.book_append_sheet(_,A,"Metadata");const E=`campaign-summary-dashboard_${r}_to_${i}.xlsx`;qr(_,E)},p=()=>{const j=[["Campaign Name","Platform","Spend","Impressions","Clicks","CTR","CPC","Leads","CPL","Qualified Leads %","ROI"],...u.map(A=>[A.name,A.platform,A.spend,A.impressions,A.clicks,A.ctr,A.cpc,A.leads,A.cpl,A.qualifiedPct,A.roi])].map(A=>A.join(",")).join(`
`),k=new Blob([j],{type:"text/csv;charset=utf-8;"}),S=URL.createObjectURL(k),N=document.createElement("a");N.href=S,N.download="campaign-summary.csv",N.click(),URL.revokeObjectURL(S)},m=y.useMemo(()=>{const b={};for(const S of u){const N=S.platform;b[N]||(b[N]={spend:0,leads:0,roiSum:0,count:0}),b[N].spend+=S.spend,b[N].leads+=S.leads,b[N].roiSum+=S.roi,b[N].count+=1}const j=Object.entries(b).map(([S,N])=>({platform:S,avgRoi:+(N.roiSum/N.count).toFixed(2),spend:N.spend,leads:N.leads})),k=j.sort((S,N)=>N.avgRoi-S.avgRoi)[0];return{entries:j,best:k}},[u]),v=y.useMemo(()=>u.filter(b=>b.roi<1||b.cpl>30).slice(0,3),[u]),g=y.useMemo(()=>{const b=[];m.best&&b.push(` Boost budget on ${m.best.platform}  avg ROI ${m.best.avgRoi}`);for(const j of v)j.roi<1&&b.push(` Optimize ${j.name} (${j.platform}): ROI ${j.roi} < 1`),j.cpl>30&&b.push(` Reduce CPL for ${j.name}: CPL ${j.cpl}`);return b.length===0&&b.push(" All campaigns performing within targets"),b},[m,v]);return s.jsxs("div",{id:"report-root",className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:e("Campaign Summary")}),s.jsxs("div",{className:`flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[s.jsxs("button",{onClick:f,className:"btn btn-primary px-3 py-2 rounded-md border",children:[s.jsx("span",{className:"mr-2",children:""})," ",e("Export Excel")]}),s.jsxs("button",{onClick:p,className:"btn btn-ghost px-3 py-2 rounded-md border",children:[s.jsx("span",{className:"mr-2",children:""})," ",e("Google Sheets CSV")]})]})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-3 justify-items-start",children:s.jsx("div",{className:"px-3 py-2 rounded-lg border bg-[var(--dropdown-bg)] w-full sm:w-[280px] md:w-[360px]",children:s.jsx("input",{value:o,onChange:b=>c(b.target.value),placeholder:e("Search by Campaign or Source"),className:"bg-transparent outline-none text-sm w-full"})})}),s.jsx(bN,{startDate:r,endDate:i,onChange:({startDate:b,endDate:j})=>{n(b),l(j)},className:"mt-2"}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsxs("section",{className:"glass-panel p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Overview by Campaign")}),s.jsx("div",{className:"overflow-auto -mx-4",children:s.jsxs("table",{className:"w-full text-sm min-w-[1000px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left opacity-70",children:[s.jsx("th",{className:"px-4 py-2",children:e("Campaign Name")}),s.jsx("th",{className:"px-4 py-2",children:e("Platform")}),s.jsxs("th",{className:"px-4 py-2",children:[" ",e("Spend")]}),s.jsxs("th",{className:"px-4 py-2",children:[" ",e("Impressions")]}),s.jsx("th",{className:"px-4 py-2",children:e("Clicks")}),s.jsxs("th",{className:"px-4 py-2",children:[e("CTR")," %"]}),s.jsx("th",{className:"px-4 py-2",children:e("CPC")}),s.jsx("th",{className:"px-4 py-2",children:e("Leads Generated")}),s.jsx("th",{className:"px-4 py-2",children:e("CPL")}),s.jsx("th",{className:"px-4 py-2",children:e("Qualified Leads %")}),s.jsx("th",{className:"px-4 py-2",children:e("ROI")})]})}),s.jsx("tbody",{children:u.map(b=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"px-4 py-2 font-medium",children:b.name}),s.jsx("td",{className:"px-4 py-2",children:b.platform}),s.jsxs("td",{className:"px-4 py-2",children:["$",b.spend.toLocaleString()]}),s.jsx("td",{className:"px-4 py-2",children:b.impressions.toLocaleString()}),s.jsx("td",{className:"px-4 py-2",children:b.clicks.toLocaleString()}),s.jsxs("td",{className:"px-4 py-2",children:[b.ctr,"%"]}),s.jsxs("td",{className:"px-4 py-2",children:["$",b.cpc]}),s.jsx("td",{className:"px-4 py-2",children:b.leads}),s.jsxs("td",{className:"px-4 py-2",children:["$",b.cpl]}),s.jsxs("td",{className:"px-4 py-2",children:[b.qualifiedPct,"%"]}),s.jsxs("td",{className:"px-4 py-2",children:[b.roi,"x"]})]},b.name))})]})})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("section",{className:"glass-panel p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Spend vs ROI")}),s.jsx("div",{style:{height:"240px"},children:s.jsx(Vr,{data:{labels:u.map(b=>b.name),datasets:[{label:e("Spend"),data:u.map(b=>b.spend),backgroundColor:"#2563eb",borderRadius:6,yAxisID:"y"},{label:e("ROI"),data:u.map(b=>b.roi),type:"line",borderColor:"#22c55e",backgroundColor:"rgba(34,197,94,0.25)",tension:.3,yAxisID:"y1"}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{position:"left",grid:{display:!1}},y1:{position:"right",grid:{display:!1}}},plugins:{legend:{position:"bottom"}}}})})]}),s.jsxs("section",{className:"glass-panel p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Clicks vs CTR")}),s.jsx("div",{style:{height:"240px"},children:s.jsx(Vr,{data:{labels:u.map(b=>b.name),datasets:[{label:e("Clicks"),data:u.map(b=>b.clicks),backgroundColor:"#8b5cf6",borderRadius:6,yAxisID:"y"},{label:e("CTR %"),data:u.map(b=>b.ctr),type:"line",borderColor:"#f59e0b",backgroundColor:"rgba(245,158,11,0.25)",tension:.3,yAxisID:"y1"}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{position:"left",grid:{display:!1}},y1:{position:"right",grid:{display:!1}}},plugins:{legend:{position:"bottom"}}}})})]}),s.jsxs("section",{className:"glass-panel p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Leads vs Qualified Leads %")}),s.jsx("div",{style:{height:"240px"},children:s.jsx(Vr,{data:{labels:u.map(b=>b.name),datasets:[{label:e("Leads"),data:u.map(b=>b.leads),backgroundColor:"#22c55e",borderRadius:6,yAxisID:"y"},{label:e("Qualified %"),data:u.map(b=>b.qualifiedPct),type:"line",borderColor:"#2563eb",backgroundColor:"rgba(37,99,235,0.25)",tension:.3,yAxisID:"y1"}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{position:"left",grid:{display:!1}},y1:{position:"right",grid:{display:!1}}},plugins:{legend:{position:"bottom"}}}})})]}),s.jsx("div",{className:"col-span-1 md:col-span-3 h-6","aria-hidden":"true"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("section",{className:"glass-panel p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("Best Performing Platform")}),m.best?s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium",children:m.best.platform}),s.jsxs("div",{className:"mt-1",children:[" Avg ROI: ",s.jsxs("span",{className:"font-semibold",children:[m.best.avgRoi,"x"]})]}),s.jsxs("div",{className:"mt-1",children:[" Spend: $",m.best.spend.toLocaleString()]}),s.jsxs("div",{className:"mt-1",children:[" Leads: ",m.best.leads]})]}):s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("No data")})]}),s.jsxs("section",{className:"glass-panel p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("Campaigns Needing Improvement")}),s.jsxs("ul",{className:"space-y-1 text-sm",children:[v.map(b=>s.jsxs("li",{children:[" ",b.name,"  ROI ",b.roi,"x, CPL $",b.cpl]},b.name)),v.length===0&&s.jsx("li",{className:"text-[var(--muted-text)]",children:e("None")})]})]}),s.jsxs("section",{className:"glass-panel p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("Recommendations")}),s.jsx("ul",{className:"space-y-1 text-sm",children:g.map((b,j)=>s.jsx("li",{children:b},j))})]})]})]})}Ls.register(Bn,$n,Xn,yn,bn);function bAe({sources:e,height:t=260,stacked:a=!0,horizontal:r=!1,showLeads:n=!0,showConverted:i=!0,subtitle:l="Last 30 Days",normalize:o=!1}){const{t:c}=St(),d=e?.map(A=>A.source)||["Facebook","Google Ads","Referral","Email"],u=e?.map(A=>A.leads)||[500,300,150,100],p=(e?.map(A=>A.converted)||[120,110,80,40]).map((A,_)=>Math.min(A,u[_])),m=u.map((A,_)=>Math.max(0,A-(p[_]||0))),v=u.map((A,_)=>A>0?p[_]/A*100:0),g=u.map((A,_)=>A>0?(A-p[_])/A*100:0),j=typeof document<"u"&&document.documentElement.classList.contains("dark")?"#e5e7eb":"#374151",k=[];n&&k.push({label:c("Unconverted"),data:o?g:m,backgroundColor:"rgba(99, 102, 241, 0.85)",borderRadius:6,stack:a?"leads":void 0,order:1}),i&&k.push({label:c("Converted"),data:o?v:p,backgroundColor:"rgba(14, 165, 233, 0.7)",borderRadius:6,stack:a?"leads":void 0,order:2});const S={labels:d,datasets:k},N={responsive:!0,maintainAspectRatio:!1,indexAxis:r?"y":"x",scales:{x:{grid:{display:!1},ticks:{color:j,font:{size:12}},stacked:a},y:{grid:{display:!1},ticks:{color:j,font:{size:12},callback:o?A=>`${A}%`:void 0},stacked:a,min:0,max:o?100:void 0}},plugins:{legend:{display:!0,labels:{color:j}},tooltip:{mode:"index",intersect:!1,callbacks:{title:A=>d[A[0].dataIndex],beforeBody:A=>{const _=A[0].dataIndex;return`${c("Total Leads")}: ${u[_].toLocaleString()}`},label:A=>{const _=A.dataIndex,E=u[_];if(A.dataset.label===c("Converted")){const I=p[_],M=E>0?I/E*100:0;return`${c("Converted")}: ${I.toLocaleString()} (${M.toFixed(1)}%)`}const D=m[_],R=E>0?D/E*100:0;return`${c("Unconverted")}: ${D.toLocaleString()} (${R.toFixed(1)}%)`},footer:A=>{const _=A[0].dataIndex,E=u[_],D=p[_],R=E>0?D/E*100:0;return`${c("Conversion Rate")}: ${R.toFixed(1)}%`}}}}};return s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3 text-transparent bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 bg-clip-text",children:c("Lead Source Performance")}),s.jsx("div",{style:{height:typeof t=="number"?`${t}px`:t},children:s.jsx(Vr,{data:S,options:N})}),s.jsx("div",{className:"mt-3 text-xs text-[var(--muted-text)] dark:text-blue-200",children:c(l)})]})}function yAe(){const{t:e}=St(),t=[{source:"Facebook",leads:500,converted:120,revenue:9e4},{source:"Google Ads",leads:300,converted:110,revenue:11e4},{source:"Referral",leads:150,converted:80,revenue:13e4},{source:"Email",leads:100,converted:40,revenue:3e4}],[a,r]=y.useState("Leads"),[n,i]=y.useState(!0),[l,o]=y.useState(!0),[c,d]=y.useState(!1),[u,f]=y.useState(!0),[p,m]=y.useState(!0),[v,g]=y.useState(""),[b,j]=y.useState("2024-01-01"),[k,S]=y.useState("2024-03-31"),[N,A]=y.useState("Last 30 Days"),[_,E]=y.useState(t.map(V=>V.source)),[D,R]=y.useState(!1),[I,M]=y.useState(t.length),U=y.useMemo(()=>{const V=Q=>Q.leads>0?Math.min(Q.converted,Q.leads)/Q.leads:0;let J=t.filter(Q=>_.includes(Q.source));return v&&(J=J.filter(Q=>Q.source.toLowerCase().includes(v.toLowerCase()))),J=J.slice().sort((Q,z)=>{if(a==="Conversion Rate")return n?V(z)-V(Q):V(Q)-V(z);const X=a==="Leads"?"leads":a==="Converted"?"converted":"revenue";return n?z[X]-Q[X]:Q[X]-z[X]}),I&&I>0&&(J=J.slice(0,Math.min(I,J.length))),J},[t,_,v,a,n,I]),P=U.reduce((V,J)=>V+J.leads,0),F=V=>{E(J=>J.includes(V)?J.filter(Q=>Q!==V):[...J,V])},K=()=>{const V=["Source","Leads","Converted","Revenue"],J=U.map(O=>[O.source,O.leads,O.converted,O.revenue]),Q=[V.join(","),...J.map(O=>O.join(","))].join(`
`),z=new Blob([Q],{type:"text/csv;charset=utf-8;"}),X=URL.createObjectURL(z),le=document.createElement("a");le.href=X,le.download="lead-source-performance.csv",le.click(),URL.revokeObjectURL(X)};return s.jsxs("div",{className:"space-y-6 bg-transparent text-[var(--content-text)]",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:e("Lead Source Performance")}),s.jsxs("div",{className:"card glass-card p-4",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"rounded-lg ring-1 ring-gray-200 dark:ring-gray-800 p-3",children:[s.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mb-2",children:e("Sorting")}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"label",children:e("Time Range")}),s.jsxs(ss,{value:N,onChange:V=>A(V),children:[s.jsx("option",{value:"Last 30 Days",children:e("Last 30 Days")}),s.jsx("option",{value:"Last Quarter",children:e("Last Quarter")}),s.jsx("option",{value:"Last Year",children:e("Last Year")})]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"label",children:e("Sort By")}),s.jsxs(ss,{value:a,onChange:V=>r(V),children:[s.jsx("option",{value:"Leads",children:e("Leads")}),s.jsx("option",{value:"Converted",children:e("Converted")}),s.jsx("option",{value:"Revenue",children:e("Revenue")}),s.jsx("option",{value:"Conversion Rate",children:e("Conversion Rate")})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"desc",type:"checkbox",checked:n,onChange:V=>i(V.target.checked)}),s.jsx("label",{htmlFor:"desc",className:"text-sm",children:e("Descending")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm",htmlFor:"topN",children:e("Top N")}),s.jsx("input",{id:"topN",className:"input w-20",type:"number",min:"1",max:t.length,value:I,onChange:V=>M(Number(V.target.value))})]})]})]}),s.jsxs("div",{className:"rounded-lg ring-1 ring-gray-200 dark:ring-gray-800 p-3",children:[s.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mb-2",children:e("Chart")}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"stacked",type:"checkbox",checked:l,onChange:V=>o(V.target.checked)}),s.jsx("label",{htmlFor:"stacked",className:"text-sm",children:e("Stacked")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"normalize",type:"checkbox",checked:D,onChange:V=>R(V.target.checked)}),s.jsx("label",{htmlFor:"normalize",className:"text-sm",children:e("100% Stacked")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"horizontal",type:"checkbox",checked:c,onChange:V=>d(V.target.checked)}),s.jsx("label",{htmlFor:"horizontal",className:"text-sm",children:e("Horizontal")})]})]})]}),s.jsxs("div",{className:"rounded-lg ring-1 ring-gray-200 dark:ring-gray-800 p-3",children:[s.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mb-2",children:e("Display")}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-indigo-500"}),s.jsx("input",{id:"showLeads",type:"checkbox",checked:u,onChange:V=>f(V.target.checked)}),s.jsx("label",{htmlFor:"showLeads",className:"text-sm",children:e("Show Unconverted")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-sky-500"}),s.jsx("input",{id:"showConverted",type:"checkbox",checked:p,onChange:V=>m(V.target.checked)}),s.jsx("label",{htmlFor:"showConverted",className:"text-sm",children:e("Show Converted")})]})]})]})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"label",children:e("Search")}),s.jsx("input",{className:"input",value:v,onChange:V=>g(V.target.value),placeholder:e("Search source...")})]}),s.jsx("div",{className:"flex md:justify-end",children:s.jsx("button",{className:"btn btn-outline",onClick:K,children:e("Export CSV")})})]}),s.jsx(bN,{startDate:b,endDate:k,onChange:({startDate:V,endDate:J})=>{j(V),S(J)},className:"mt-2"}),s.jsxs("div",{className:"mt-4 rounded-lg ring-1 ring-gray-200 dark:ring-gray-800 p-3",children:[s.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mb-2",children:e("Sources")}),s.jsx("div",{className:"flex flex-wrap gap-3",children:t.map(V=>s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:_.includes(V.source),onChange:()=>F(V.source)}),s.jsx("span",{children:V.source})]},V.source))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx("div",{className:"card glass-card p-4 md:col-span-2",children:s.jsxs("table",{className:"nova-table w-full text-sm min-w-[520px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left text-gray-600 dark:text-gray-300",children:[s.jsx("th",{className:"py-2 pr-4",children:e("Source")}),s.jsx("th",{className:"py-2 pr-4",children:e("Leads")}),s.jsx("th",{className:"py-2 pr-4",children:e("Converted")}),s.jsx("th",{className:"py-2 pr-4",children:e("Conversion Rate")}),s.jsx("th",{className:"py-2 pr-4",children:e("Revenue")})]})}),s.jsx("tbody",{className:"text-gray-800 dark:text-gray-100",children:U.map(V=>s.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-800",children:[s.jsx("td",{className:"py-2 pr-4",children:V.source}),s.jsx("td",{className:"py-2 pr-4",children:V.leads.toLocaleString()}),s.jsx("td",{className:"py-2 pr-4",children:V.converted.toLocaleString()}),s.jsxs("td",{className:"py-2 pr-4",children:[(Math.min(V.converted,V.leads)/(V.leads||1)*100).toFixed(1),"%"]}),s.jsxs("td",{className:"py-2 pr-4",children:["$",V.revenue.toLocaleString()]})]},V.source))})]})}),s.jsx("div",{className:"card glass-card p-6 flex flex-col items-start justify-between",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-semibold mb-1",children:e("Total Leads")}),s.jsx("div",{className:"text-5xl font-extrabold tracking-tight",children:P.toLocaleString()})]})})]}),s.jsx("div",{className:"card glass-card p-4",children:s.jsx(bAe,{sources:U,height:280,stacked:l,horizontal:c,showLeads:u,showConverted:p,subtitle:N,normalize:D})})]})}Ls.register(Bn,$n,Xn,yn,bn);function wAe(){const{t:e,i18n:t}=St(),a=(t?.language||"").toLowerCase().startsWith("ar"),[r,n]=y.useState("2024-01-01"),[i,l]=y.useState("2024-03-31"),[o,c]=y.useState(""),d=y.useMemo(()=>[{platform:"Facebook",cost:580,revenue:1860},{platform:"Google Ads",cost:450,revenue:720},{platform:"Instagram",cost:420,revenue:540}],[]),u=y.useMemo(()=>d.filter(N=>N.platform.toLowerCase().includes(o.toLowerCase())),[d,o]),f=y.useMemo(()=>{const N=u.reduce((_,E)=>_+E.cost,0),A=u.reduce((_,E)=>_+E.revenue,0);return{totalCost:N,totalRevenue:A}},[u]),p=()=>{const N=sa.json_to_sheet(u),A=[{"Total Cost (EGP)":f.totalCost,"Total Revenue (EGP)":f.totalRevenue,"ROI (x)":f.totalCost?f.totalRevenue/f.totalCost:0}],_=sa.json_to_sheet(A),E=[{"Start Date":r,"End Date":i,Query:o||"","Rows Exported":u.length,"Exported At":new Date().toISOString()}],D=sa.json_to_sheet(E),R=sa.book_new();sa.book_append_sheet(R,N,"Platforms"),sa.book_append_sheet(R,_,"Totals"),sa.book_append_sheet(R,D,"Metadata");const I=`cost-vs-revenue_${r}_to_${i}.xlsx`;qr(R,I)},m=()=>{const N=document.getElementById("report-root")?.innerHTML||"",A=window.open("","PRINT","height=800,width=1000");A&&(A.document.write(`<html><head><title>${e("Cost vs Revenue by Platform")}</title></head><body>${N}</body></html>`),A.document.close(),A.focus(),A.print())},g=typeof document<"u"&&document.documentElement.classList.contains("dark")?"#e5e7eb":"#374151",b=u.map(N=>N.platform),j={labels:b,datasets:[{label:e("Cost"),data:u.map(N=>N.cost),backgroundColor:"rgba(99, 102, 241, 0.85)",borderRadius:6},{label:e("Revenue"),data:u.map(N=>N.revenue),backgroundColor:"rgba(14, 165, 233, 0.85)",borderRadius:6}]},k={responsive:!0,maintainAspectRatio:!1,scales:{x:{grid:{display:!1},ticks:{color:g}},y:{grid:{display:!1},ticks:{color:g}}},plugins:{legend:{labels:{color:g}}}},S={labels:b,datasets:[{label:e("ROI (x)"),data:u.map(N=>N.cost?N.revenue/N.cost:0),backgroundColor:"rgba(34, 197, 94, 0.85)",borderRadius:6}]};return s.jsx(s.Fragment,{children:s.jsxs("div",{id:"report-root",className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:e("Cost vs Revenue by Platform")}),s.jsxs("div",{className:`flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[s.jsxs("button",{onClick:m,"aria-label":e("Export PDF"),className:"group inline-flex items-center gap-2 px-3 py-2 rounded-full border border-[var(--panel-border)] bg-[var(--dropdown-bg)] hover:bg-[var(--dropdown-bg)]/80 shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400 dark:focus-visible:ring-indigo-300",children:[s.jsx(hz,{className:"text-red-500"}),s.jsx("span",{className:"font-medium",children:e("Export PDF")})]}),s.jsxs("button",{onClick:p,"aria-label":e("Export Excel"),className:"group inline-flex items-center gap-2 px-3 py-2 rounded-full border border-[var(--panel-border)] bg-[var(--dropdown-bg)] hover:bg-[var(--dropdown-bg)]/80 shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-400 dark:focus-visible:ring-emerald-300",children:[s.jsx(uz,{className:"text-emerald-500"}),s.jsx("span",{className:"font-medium",children:e("Export Excel")})]})]})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:s.jsx("div",{className:"px-3 py-2 rounded-lg border bg-[var(--dropdown-bg)]",children:s.jsx("input",{value:o,onChange:N=>c(N.target.value),placeholder:e("Search by Campaign or Source"),className:"bg-transparent outline-none text-sm w-full"})})}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsx(bN,{startDate:r,endDate:i,onChange:({startDate:N,endDate:A})=>{n(N),l(A)},className:"mt-2"}),s.jsx("div",{className:"px-3 py-2 rounded-lg border bg-[var(--dropdown-bg)]",children:s.jsxs("div",{className:`flex flex-wrap items-center gap-2 text-sm ${a?"flex-row-reverse":""}`,children:[s.jsxs("span",{className:"opacity-70",children:[e("Date Range"),":"]}),s.jsx("span",{className:"px-2 py-1 rounded-md bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-100 border border-gray-200 dark:border-gray-600",children:r}),s.jsx("span",{className:"opacity-60",children:""}),s.jsx("span",{className:"px-2 py-1 rounded-md bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-100 border border-gray-200 dark:border-gray-600",children:i}),s.jsxs("span",{className:`opacity-70 ${a?"mr-0 ml-3":"ml-3"}`,children:[e("Platforms"),":"]}),u.map(N=>s.jsx("span",{className:"px-2 py-1 rounded-full bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border border-blue-200 dark:border-blue-700",children:N.platform},N.platform))]})}),s.jsxs("section",{className:"glass-panel p-4",children:[s.jsxs("div",{className:`flex items-center gap-2 mb-3 ${a?"flex-row-reverse":""}`,children:[s.jsx("div",{className:`${a?"border-r-4":"border-l-4"} border-primary h-full`}),s.jsx("h3",{className:`${a?"text-right":""} text-lg font-semibold`,children:e("Platform Performance")})]}),s.jsx("div",{className:"overflow-auto -mx-4",children:s.jsxs("table",{className:"w-full text-sm min-w-[860px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left opacity-70",children:[s.jsx("th",{className:"px-4 py-2",children:e("Platform")}),s.jsxs("th",{className:"px-4 py-2",children:[" ",e("Spend")," (EGP)"]}),s.jsxs("th",{className:"px-4 py-2",children:[" ",e("Revenue")," (EGP)"]}),s.jsx("th",{className:"px-4 py-2",children:e("ROI")}),s.jsx("th",{className:"px-4 py-2",children:e("Profit / Loss")}),s.jsx("th",{className:"px-4 py-2",children:e("Cost %")}),s.jsx("th",{className:"px-4 py-2",children:e("Revenue %")})]})}),s.jsx("tbody",{children:u.map(N=>{const A=N.cost?N.revenue/N.cost:0,_=N.revenue-N.cost,E=f.totalCost?N.cost/f.totalCost*100:0,D=f.totalRevenue?N.revenue/f.totalRevenue*100:0;return s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"px-4 py-2 font-medium",children:N.platform}),s.jsxs("td",{className:"px-4 py-2",children:[N.cost.toLocaleString()," EGP"]}),s.jsxs("td",{className:"px-4 py-2",children:[N.revenue.toLocaleString()," EGP"]}),s.jsxs("td",{className:"px-4 py-2",children:[A.toFixed(1),"x"]}),s.jsxs("td",{className:`px-4 py-2 ${_>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[_>=0?"+":"",_.toLocaleString()," EGP"]}),s.jsxs("td",{className:"px-4 py-2",children:[E.toFixed(0),"%"]}),s.jsxs("td",{className:"px-4 py-2",children:[D.toFixed(0),"%"]})]},N.platform)})}),s.jsx("tfoot",{children:s.jsxs("tr",{className:"border-t font-semibold",children:[s.jsx("td",{className:"px-4 py-2",children:e("Total")}),s.jsxs("td",{className:"px-4 py-2",children:[f.totalCost.toLocaleString()," EGP"]}),s.jsxs("td",{className:"px-4 py-2",children:[f.totalRevenue.toLocaleString()," EGP"]}),s.jsxs("td",{className:"px-4 py-2",children:[(f.totalCost?f.totalRevenue/f.totalCost:0).toFixed(1),"x"]}),s.jsxs("td",{className:`px-4 py-2 ${f.totalRevenue-f.totalCost>=0?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:[f.totalRevenue-f.totalCost>=0?"+":"",(f.totalRevenue-f.totalCost).toLocaleString()," EGP"]}),s.jsx("td",{className:"px-4 py-2",children:"100%"}),s.jsx("td",{className:"px-4 py-2",children:"100%"})]})})]})})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("section",{className:"glass-panel p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Cost vs Revenue")}),s.jsx("div",{style:{height:"280px"},children:s.jsx(Vr,{data:j,options:k})}),s.jsx("div",{className:"mt-3 text-xs text-[var(--muted-text)]",children:e("Last 30 Days")})]}),s.jsxs("section",{className:"glass-panel p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("ROI Comparison")}),s.jsx("div",{style:{height:"280px"},children:s.jsx(Vr,{data:S,options:k})}),s.jsx("div",{className:"mt-3 text-xs text-[var(--muted-text)]",children:e("Last 30 Days")})]})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("section",{className:"glass-panel p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("Best ROI Platform")}),(()=>{const N=u.map(A=>({...A,roi:A.cost?A.revenue/A.cost:0})).sort((A,_)=>_.roi-A.roi)[0];return N?s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium",children:N.platform}),s.jsxs("div",{className:"mt-1",children:["ROI: ",s.jsxs("span",{className:"font-semibold",children:[N.roi.toFixed(1),"x"]})]}),s.jsxs("div",{className:"mt-1",children:["Spend: ",N.cost.toLocaleString()," EGP"]}),s.jsxs("div",{className:"mt-1",children:["Revenue: ",N.revenue.toLocaleString()," EGP"]})]}):s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("No data")})})()]}),s.jsxs("section",{className:"glass-panel p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("Highest Revenue Contributor")}),(()=>{const N=u.map(A=>({...A,revenuePct:f.totalRevenue?A.revenue/f.totalRevenue:0})).sort((A,_)=>_.revenue-A.revenue)[0];return N?s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium",children:N.platform}),s.jsxs("div",{className:"mt-1",children:["Revenue: ",N.revenue.toLocaleString()," EGP"]}),s.jsxs("div",{className:"mt-1",children:["Contribution: ",(N.revenuePct*100).toFixed(0),"%"]})]}):s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("No data")})})()]}),s.jsxs("section",{className:"glass-panel p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("Recommendations")}),s.jsx("ul",{className:"text-sm space-y-1",children:u.map(N=>{const A=N.cost?N.revenue/N.cost:0,_=N.revenue-N.cost;return A>=2?s.jsxs("li",{children:[" ",e("Consider increasing budget for")," ",N.platform," (",A.toFixed(1),"x)"]},`rec-${N.platform}`):_<0?s.jsxs("li",{children:[" ",e("Reduce spend or optimize")," ",N.platform," (",_.toLocaleString()," EGP)"]},`rec-${N.platform}`):s.jsxs("li",{children:[" ",e("Monitor performance and test creatives for")," ",N.platform]},`rec-${N.platform}`)})})]})]})]})})}Ls.register(Bn,$n,Xn,Sl,hi,Fm,yn,bn);function jAe(){const{t:e,i18n:t}=St(),a=t?.dir?.()==="rtl",[r,n]=y.useState("2025-11-01"),[i,l]=y.useState("2025-11-30"),[o,c]=y.useState(""),d="November 2025",u=y.useMemo(()=>({spend:1450,impressions:98e3,clicks:2700,leads:240,qualifiedPct:42,revenue:3100}),[]),f=y.useMemo(()=>u.impressions?u.clicks/u.impressions*100:0,[u]),p=y.useMemo(()=>u.clicks?u.spend/u.clicks:0,[u]),m=y.useMemo(()=>u.leads?u.spend/u.leads:0,[u]),v=y.useMemo(()=>u.spend?u.revenue/u.spend:0,[u]),g=y.useMemo(()=>({spend:1320,revenue:2800,leads:210,impressions:9e4,clicks:2500}),[]),b=y.useMemo(()=>[{platform:"Facebook",spend:580,leads:120,revenue:1860},{platform:"Google Ads",spend:450,leads:80,revenue:720},{platform:"Instagram",spend:420,leads:40,revenue:520}],[]),j=typeof document<"u"&&document.documentElement.classList.contains("dark"),k=j?"#e5e7eb":"#374151",S={labels:["Week 1","Week 2","Week 3","Week 4"],datasets:[{label:e("Spend"),data:[320,360,370,400],borderColor:"#6366f1",backgroundColor:"rgba(99,102,241,0.25)",tension:.3,fill:!0},{label:e("Revenue"),data:[700,760,780,860],borderColor:"#14b8a6",backgroundColor:"rgba(20,184,166,0.25)",tension:.3,fill:!0}]},N={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:k}}},scales:{x:{ticks:{color:k},grid:{display:!1}},y:{ticks:{color:k},grid:{display:!1}}}},A={labels:b.map(M=>M.platform),datasets:[{label:e("Leads"),data:b.map(M=>M.leads),backgroundColor:["#2563eb","#06b6d4","#22c55e"],borderRadius:6}]},_={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:k}}},scales:{x:{ticks:{color:k},grid:{display:!1}},y:{ticks:{color:k},grid:{display:!1}}}},E={labels:b.map(M=>M.platform),datasets:[{label:e("Spend"),data:b.map(M=>M.spend),backgroundColor:["#2563eb","#06b6d4","#22c55e"],borderColor:j?"#1f2937":"#ffffff",borderWidth:1}]},D={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{color:k}}}},R=()=>{const M=[{Month:d,Spend:u.spend,Impressions:u.impressions,Clicks:u.clicks,CTR:`${f.toFixed(1)}%`,AvgCPC:`${p.toFixed(2)} EGP`,Leads:u.leads,AvgCPL:`${m.toFixed(2)} EGP`,QualifiedPct:`${u.qualifiedPct}%`,Revenue:u.revenue,ROI:`${v.toFixed(1)}x`}],U=sa.json_to_sheet(M),P=sa.book_new();sa.book_append_sheet(P,U,"MonthlyOverview"),qr(P,"monthly-marketing-overview.xlsx")},I=()=>{const M=document.getElementById("report-root")?.innerHTML||"",U=window.open("","PRINT","height=800,width=1000");U&&(U.document.write(`<html><head><title>${e("Monthly Marketing Overview")}</title></head><body>${M}</body></html>`),U.document.close(),U.focus(),U.print())};return s.jsxs("div",{id:"report-root",className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:e("Monthly Marketing Overview")}),s.jsxs("div",{className:`flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[s.jsxs("button",{onClick:I,"aria-label":e("Export PDF"),className:"group inline-flex items-center gap-2 px-3 py-2 rounded-full border border-[var(--panel-border)] bg-[var(--dropdown-bg)] hover:bg-[var(--dropdown-bg)]/80 shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400 dark:focus-visible:ring-indigo-300",children:[s.jsx(hz,{className:"text-red-500"}),s.jsx("span",{className:"font-medium",children:e("Export PDF")})]}),s.jsxs("button",{onClick:R,"aria-label":e("Export Excel"),className:"group inline-flex items-center gap-2 px-3 py-2 rounded-full border border-[var(--panel-border)] bg-[var(--dropdown-bg)] hover:bg-[var(--dropdown-bg)]/80 shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-400 dark:focus-visible:ring-emerald-300",children:[s.jsx(uz,{className:"text-emerald-500"}),s.jsx("span",{className:"font-medium",children:e("Export Excel")})]})]})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:s.jsx("div",{className:"px-3 py-2 rounded-lg border bg-[var(--dropdown-bg)]",children:s.jsx("input",{value:o,onChange:M=>c(M.target.value),placeholder:e("Search by Campaign or Source"),className:"bg-transparent outline-none text-sm w-full"})})}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsx(bN,{startDate:r,endDate:i,onChange:({startDate:M,endDate:U})=>{n(M),l(U)}}),s.jsx("div",{className:"mt-3 px-3 py-2 rounded-lg border bg-[var(--dropdown-bg)]",children:s.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm",children:[s.jsxs("span",{className:"opacity-70",children:[e("Date Range"),":"]}),s.jsx("span",{className:"px-2 py-1 rounded-md bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-100 border border-gray-200 dark:border-gray-600",children:r}),s.jsx("span",{className:"opacity-60",children:""}),s.jsx("span",{className:"px-2 py-1 rounded-md bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-100 border border-gray-200 dark:border-gray-600",children:i})]})}),s.jsxs("section",{className:"glass-panel p-4",children:[s.jsxs("div",{className:`flex items-center gap-2 mb-3 ${a?"flex-row-reverse":""}`,children:[s.jsx("div",{className:`${a?"border-r-4":"border-l-4"} border-primary h-full`}),s.jsx("h3",{className:`${a?"text-right":""} text-lg font-semibold`,children:e("Monthly Summary")})]}),s.jsx("div",{children:s.jsxs("table",{className:"w-full table-fixed text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left opacity-70",children:[s.jsx("th",{className:"px-4 py-2",children:e("Month")}),s.jsxs("th",{className:"px-4 py-2",children:[" ",e("Total Spend")]}),s.jsxs("th",{className:"px-4 py-2",children:[" ",e("Impressions")]}),s.jsxs("th",{className:"px-4 py-2",children:[e("Clicks")," / ",e("CTR")]}),s.jsx("th",{className:"px-4 py-2",children:e("Avg. CPC")}),s.jsx("th",{className:"px-4 py-2",children:e("Leads")}),s.jsx("th",{className:"px-4 py-2",children:e("Avg. CPL")}),s.jsx("th",{className:"px-4 py-2",children:e("Qualified Leads %")}),s.jsxs("th",{className:"px-4 py-2",children:[" ",e("Revenue")]}),s.jsx("th",{className:"px-4 py-2",children:e("ROI")})]})}),s.jsx("tbody",{children:s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"px-4 py-2 font-medium",children:d}),s.jsxs("td",{className:"px-4 py-2",children:[u.spend.toLocaleString()," EGP"]}),s.jsx("td",{className:"px-4 py-2",children:u.impressions.toLocaleString()}),s.jsxs("td",{className:"px-4 py-2",children:[u.clicks.toLocaleString()," / ",f.toFixed(1),"%"]}),s.jsxs("td",{className:"px-4 py-2",children:[p.toFixed(2)," EGP"]}),s.jsx("td",{className:"px-4 py-2",children:u.leads.toLocaleString()}),s.jsxs("td",{className:"px-4 py-2",children:[m.toFixed(2)," EGP"]}),s.jsxs("td",{className:"px-4 py-2",children:[u.qualifiedPct,"%"]}),s.jsxs("td",{className:"px-4 py-2",children:[u.revenue.toLocaleString()," EGP"]}),s.jsxs("td",{className:"px-4 py-2",children:[v.toFixed(1),"x"]})]})}),s.jsx("tfoot",{children:s.jsx("tr",{className:"border-t text-xs text-[var(--muted-text)]",children:s.jsxs("td",{className:"px-4 py-2",colSpan:10,children:[e("Month-over-Month"),": ",e("Spend")," ",u.spend>=g.spend?"":""," ",Math.abs(u.spend-g.spend)," EGP, ",e("Revenue")," ",u.revenue>=g.revenue?"":""," ",Math.abs(u.revenue-g.revenue)," EGP, ",e("Leads")," ",u.leads>=g.leads?"":""," ",Math.abs(u.leads-g.leads)]})})})]})})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("section",{className:"glass-panel p-4 md:col-span-2",children:[s.jsxs("div",{className:`flex items-center gap-2 mb-3 ${a?"flex-row-reverse":""}`,children:[s.jsx("div",{className:`${a?"border-r-4":"border-l-4"} border-primary h-full`}),s.jsx("h3",{className:`${a?"text-right":""} text-lg font-semibold`,children:e("Spend vs Revenue Trend")})]}),s.jsx("div",{style:{height:"280px"},children:s.jsx(yo,{data:S,options:N})}),s.jsx("div",{className:"mt-3 text-xs text-[var(--muted-text)]",children:e("November Weekly")})]}),s.jsxs("section",{className:"glass-panel p-4",children:[s.jsxs("div",{className:`flex items-center gap-2 mb-3 ${a?"flex-row-reverse":""}`,children:[s.jsx("div",{className:`${a?"border-r-4":"border-l-4"} border-primary h-full`}),s.jsx("h3",{className:`${a?"text-right":""} text-lg font-semibold`,children:e("Leads by Platform")})]}),s.jsx("div",{style:{height:"280px"},children:s.jsx(Vr,{data:A,options:_})}),s.jsx("div",{className:"mt-3 text-xs text-[var(--muted-text)]",children:e("Platform Contribution")})]})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsxs("section",{className:"glass-panel p-4",children:[s.jsxs("div",{className:`flex items-center gap-2 mb-3 ${a?"flex-row-reverse":""}`,children:[s.jsx("div",{className:`${a?"border-r-4":"border-l-4"} border-primary h-full`}),s.jsx("h3",{className:`${a?"text-right":""} text-lg font-semibold`,children:e("Spend Distribution by Platform")})]}),s.jsx("div",{style:{height:"280px"},children:s.jsx(iz,{data:E,options:D})})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("section",{className:"glass-panel p-4",children:[s.jsxs("div",{className:`flex items-center gap-2 mb-2 ${a?"flex-row-reverse":""}`,children:[s.jsx("div",{className:`${a?"border-r-4":"border-l-4"} border-primary h-full`}),s.jsxs("h3",{className:`${a?"text-right":""} text-lg font-semibold`,children:[" ",e("Best Growth Area")]})]}),s.jsxs("div",{className:"text-sm",children:[e("Revenue growth vs last month"),": +",(u.revenue-g.revenue).toLocaleString()," EGP"]})]}),s.jsxs("section",{className:"glass-panel p-4",children:[s.jsxs("div",{className:`flex items-center gap-2 mb-2 ${a?"flex-row-reverse":""}`,children:[s.jsx("div",{className:`${a?"border-r-4":"border-l-4"} border-primary h-full`}),s.jsxs("h3",{className:`${a?"text-right":""} text-lg font-semibold`,children:[" ",e("Needs Improvement")]})]}),s.jsxs("div",{className:"text-sm",children:[e("Optimize CPC and CTR on lower-performing platforms")," (",b[2].platform,")"]})]}),s.jsxs("section",{className:"glass-panel p-4",children:[s.jsxs("div",{className:`flex items-center gap-2 mb-2 ${a?"flex-row-reverse":""}`,children:[s.jsx("div",{className:`${a?"border-r-4":"border-l-4"} border-primary h-full`}),s.jsxs("h3",{className:`${a?"text-right":""} text-lg font-semibold`,children:[" ",e("Recommendation")]})]}),s.jsxs("div",{className:"text-sm",children:[e("Increase budget for high-ROI platform"),": ",b[0].platform]})]})]})]})}function S9({titleKey:e,descKey:t}){const{t:a}=St();return s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsx("p",{className:"text-gray-700 dark:text-gray-200 text-base",children:a(t)}),s.jsx("div",{className:"mt-6 text-gray-500 dark:text-gray-400 text-sm",children:a("Coming soon")})]})}function NAe(){const{t:e,i18n:t}=St(),a=t.language==="ar",[r,n]=y.useState({name:"",email:"",phone:"",subject:"",message:""}),[i,l]=y.useState(!1),[o,c]=y.useState(""),[d,u]=y.useState("Cairo, Egypt"),[f,p]=y.useState(null),[m,v]=y.useState(14),[g,b]=y.useState(""),j=t.language==="en"?"We'd love to hear from you":"   ";y.useEffect(()=>{const E=localStorage.getItem("contact_map_query");E&&u(E)},[]),y.useEffect(()=>{localStorage.setItem("contact_map_query",d)},[d]);const k=f?`https://www.google.com/maps?q=${f.lat},${f.lng}&z=${m}&output=embed`:`https://www.google.com/maps?q=${encodeURIComponent(d)}&z=${m}&output=embed`,S=()=>{const E=f?`https://www.google.com/maps/search/?api=1&query=${f.lat},${f.lng}`:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(d)}`;window.open(E,"_blank")},N=async()=>{const E=f?`${f.lat},${f.lng}`:d;try{await navigator.clipboard.writeText(E),b(e("Location copied to clipboard"))}catch{b(e("Unable to copy to clipboard"))}},A=E=>{const{name:D,value:R}=E.target;n(I=>({...I,[D]:R}))},_=async E=>{E.preventDefault(),!i&&(c(""),l(!0),await new Promise(D=>setTimeout(D,1200)),l(!1),c(e("Your message has been sent successfully")),n({name:"",email:"",phone:"",subject:"",message:""}))};return s.jsx(_r,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:e("Contact us")}),s.jsx("section",{className:`card glass-card p-4 ${a?"text-right":"text-left"}`,children:s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:j})}),s.jsx("div",{className:"spacer-row w-full",children:s.jsx("div",{className:"h-2"})}),o&&s.jsxs("div",{className:`card glass-card p-3 text-sm inline-flex items-center gap-2 ${a?"justify-end text-right":"justify-start text-left"}`,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4 text-green-600",children:s.jsx("path",{d:"M20 6L9 17l-5-5"})}),s.jsx("span",{children:o})]}),s.jsx("div",{className:"spacer-row w-full",children:s.jsx("div",{className:"h-2"})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 items-stretch gap-6",children:[s.jsx("section",{className:"lg:col-span-2 card glass-card p-4 h-full",children:s.jsxs("form",{onSubmit:_,className:`space-y-4 ${a?"text-right":""}`,children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("label",{className:`text-xs text-[var(--muted-text)] inline-flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[s.jsx("circle",{cx:"12",cy:"8",r:"3"}),s.jsx("path",{d:"M6 21v-2a6 6 0 0112 0v2"})]}),s.jsx("span",{children:e("Your Name")})]}),s.jsx("input",{name:"name",value:r.name,onChange:A,className:"input",placeholder:e("Enter your name"),required:!0})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("label",{className:`text-xs text-[var(--muted-text)] inline-flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[s.jsx("rect",{x:"4",y:"6",width:"16",height:"12",rx:"2"}),s.jsx("path",{d:"M4 8l8 6 8-6"})]}),s.jsx("span",{children:e("Email")})]}),s.jsx("input",{type:"email",name:"email",value:r.email,onChange:A,className:"input",placeholder:e("Enter your email"),required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("label",{className:`text-xs text-[var(--muted-text)] inline-flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M22 16.92v-3a2 2 0 00-2-2h-3l-2 3a16 16 0 01-7-7l3-2V4a2 2 0 00-2-2H3.08a2 2 0 00-2 2C1.08 13.91 10.09 22.92 22 22.92a2 2 0 002-2v-3z"})}),s.jsx("span",{children:e("Phone")})]}),s.jsx("input",{name:"phone",value:r.phone,onChange:A,className:"input",placeholder:e("Enter your phone")})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("label",{className:`text-xs text-[var(--muted-text)] inline-flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M4 6h16M4 12h16M4 18h10"})}),s.jsx("span",{children:e("Subject")})]}),s.jsx("input",{name:"subject",value:r.subject,onChange:A,className:"input",placeholder:e("Subject of your message")})]})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("label",{className:`text-xs text-[var(--muted-text)] inline-flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[s.jsx("path",{d:"M22 2L11 13"}),s.jsx("path",{d:"M22 2l-7 20-4-9-9-4 20-7z"})]}),s.jsx("span",{children:e("Message")})]}),s.jsx("textarea",{name:"message",value:r.message,onChange:A,className:"input min-h-[120px]",placeholder:e("Write your message here"),required:!0})]}),s.jsx("div",{className:"spacer-row w-full",children:s.jsx("div",{className:"h-2"})}),s.jsxs("div",{className:`flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[s.jsxs("button",{type:"submit",className:`btn btn-primary inline-flex items-center gap-2 ${a?"flex-row-reverse":""}`,disabled:i,children:[i?s.jsx("span",{className:"inline-block w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[s.jsx("path",{d:"M22 2L11 13"}),s.jsx("path",{d:"M22 2l-7 20-4-9-9-4 20-7z"})]}),s.jsx("span",{children:e(i?"Sending...":"Send")})]}),s.jsx("button",{type:"button",className:"btn",onClick:()=>n({name:"",email:"",phone:"",subject:"",message:""}),children:e("Reset")})]})]})}),s.jsxs("section",{className:`card glass-card p-4 h-full ${a?"text-right":"text-left"}`,children:[s.jsx("div",{className:"text-base font-medium text-[var(--muted-text)] mb-2",children:a?" ":"Contact Methods"}),s.jsx("div",{className:"spacer-row w-full",children:s.jsx("div",{className:"h-4"})}),s.jsx("div",{className:"spacer-row w-full",children:s.jsx("div",{className:"h-4"})}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"group flex items-start gap-3 cm-item cm-anim delay-100 p-2",children:[s.jsx("span",{className:"text-blue-500",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4 transition-transform duration-300 group-hover:scale-110",children:[s.jsx("rect",{x:"4",y:"6",width:"16",height:"12",rx:"2"}),s.jsx("path",{d:"M4 8l8 6 8-6"})]})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("Support Email")}),s.jsx("a",{href:"mailto:support@example.com",className:"text-base hover:underline",target:"_blank",rel:"noopener noreferrer",children:"support@example.com"})]})]}),s.jsxs("div",{className:"group flex items-start gap-3 cm-item cm-anim delay-200 p-2",children:[s.jsx("span",{className:"text-green-600",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4 transition-transform duration-300 group-hover:scale-110",children:s.jsx("path",{d:"M22 16.92v-3a2 2 0 00-2-2h-3l-2 3a16 16 0 01-7-7l3-2V4a2 2 0 00-2-2H3.08a2 2 0 00-2 2C1.08 13.91 10.09 22.92 22 22.92a2 2 0 002-2v-3z"})})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("Phone")}),s.jsx("a",{href:"tel:+201000000000",className:"text-base hover:underline",children:"+20 10 000 0000"})]})]}),s.jsxs("div",{className:"group flex items-start gap-3 cm-item cm-anim delay-300 p-2",children:[s.jsx("span",{className:"text-green-500",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",className:"w-4 h-4 transition-transform duration-300 group-hover:scale-110",children:s.jsx("path",{d:"M6 12l4 4 8-8"})})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("WhatsApp")}),s.jsx("a",{href:"https://wa.me/201000000000",className:"text-base hover:underline",target:"_blank",rel:"noopener noreferrer",children:"+20 10 000 0000"})]})]}),s.jsxs("div",{className:"group flex items-start gap-3 cm-item cm-anim delay-400 p-2",children:[s.jsx("span",{className:"text-gray-600",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4 transition-transform duration-300 group-hover:scale-110",children:[s.jsx("path",{d:"M3 10l9-7 9 7"}),s.jsx("path",{d:"M5 10v9h14v-9"})]})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("Address")}),s.jsx("a",{href:"https://www.google.com/maps/search/?api=1&query=Cairo%2C%20Egypt",className:"text-base hover:underline",target:"_blank",rel:"noopener noreferrer",children:"Cairo, Egypt"})]})]}),s.jsxs("div",{className:"pt-2 sm:col-span-2 border-t border-gray-200 dark:border-gray-800",children:[s.jsx("div",{className:"spacer-row w-full",children:s.jsx("div",{className:"h-2"})}),s.jsx("div",{className:"text-base font-medium text-[var(--muted-text)] mb-2",children:a?"":"Follow us"}),s.jsx("div",{className:"spacer-row w-full",children:s.jsx("div",{className:"h-2"})}),s.jsx("div",{className:"spacer-row w-full",children:s.jsx("div",{className:"h-2"})}),s.jsxs("div",{className:"flex items-center gap-3 justify-center",children:[s.jsx("a",{href:"#","aria-label":"Facebook",className:"inline-flex p-2 rounded-md hover:bg-white/10",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",className:"w-4 h-4",children:s.jsx("path",{d:"M22 12a10 10 0 10-11.5 9.9v-7h-2v-3h2V9.5a3 3 0 013-3h3v3h-2a1 1 0 00-1 1V12h3l-.5 3h-2.5v7A10 10 0 0022 12z"})})}),s.jsx("a",{href:"#","aria-label":"Twitter",className:"inline-flex p-2 rounded-md hover:bg-white/10",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",className:"w-4 h-4",children:s.jsx("path",{d:"M22 5.9a8.2 8.2 0 01-2.3.6 4 4 0 001.8-2.2 8.3 8.3 0 01-2.6 1 4 4 0 00-6.9 3.6A11.3 11.3 0 013 5.2a4 4 0 001.2 5.3 4 4 0 01-1.8-.5v.1a4 4 0 003.2 3.9 4 4 0 01-1.8.1 4 4 0 003.7 2.8A8.1 8.1 0 012 18.6 11.4 11.4 0 008.1 20c7.4 0 11.5-6.1 11.5-11.5v-.5A8.1 8.1 0 0022 5.9z"})})}),s.jsx("a",{href:"#","aria-label":"LinkedIn",className:"inline-flex p-2 rounded-md hover:bg-white/10",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",className:"w-4 h-4",children:s.jsx("path",{d:"M4 3a2 2 0 110 4 2 2 0 010-4zm0 6h4v12H4V9zm6 0h4v2.5h.1a4.4 4.4 0 013.9-2.2c4.1 0 4.8 2.7 4.8 6.2V21h-4v-5.2c0-1.3 0-3-1.8-3s-2.2 1.4-2.2 2.9V21h-4V9z"})})}),s.jsx("a",{href:"#","aria-label":"WhatsApp",className:"inline-flex p-2 rounded-md hover:bg-white/10",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",className:"w-4 h-4",children:s.jsx("path",{d:"M12 2a10 10 0 00-8.7 14.9L2 22l5.3-1.3A10 10 0 1012 2zm5.6 14.3c-.2.6-1.2 1.1-1.7 1.2-.4.1-.9.1-1.5-.1-1.5-.5-3.3-1.4-4.7-2.8-1.3-1.3-2.3-3.1-2.8-4.7-.2-.6-.2-1.1-.1-1.5.1-.5.6-1.5 1.2-1.7.3-.1.7-.1 1 .1.4.2.9.7 1 1.1l.2.4c.3.6.1.9-.2 1.3l-.3.3c-.1.1-.2.3-.1.5.1.4.6 1.3 1.4 2.1.8.8 1.7 1.3 2.1 1.4.2.1.4 0 .5-.1l.3-.3c.4-.3.7-.5 1.3-.2l.4.2c.4.1.9.6 1.1 1 .2.3.2.7.1 1z"})})})]})]})]})]})]}),s.jsx("div",{className:"spacer-row w-full",children:s.jsx("div",{className:"h-2"})}),s.jsxs("section",{className:"card glass-card p-4",children:[s.jsxs("div",{className:`flex items-center justify-between gap-3 ${a?"flex-row-reverse":""}`,children:[s.jsx("h2",{className:"text-lg font-semibold",children:e("Our Location")}),s.jsxs("div",{className:`flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[s.jsx("button",{type:"button",className:`btn ${a?"flex-row-reverse":""}`,onClick:S,children:e("Open in Maps")}),s.jsx("button",{type:"button",className:`btn ${a?"flex-row-reverse":""}`,onClick:N,children:e("Copy")})]})]}),s.jsxs("div",{className:`mt-3 flex items-center gap-3 ${a?"flex-row-reverse":""}`,children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Zoom")}),s.jsx("input",{type:"range",min:"3",max:"20",value:m,onChange:E=>v(Number(E.target.value))})]}),g&&s.jsx("div",{className:`mt-2 text-xs text-[var(--muted-text)] ${a?"text-right":"text-left"}`,children:g}),s.jsx("div",{className:"mt-3 rounded-lg overflow-hidden",children:s.jsx("iframe",{title:"map",src:k,className:"w-full h-64 rounded-lg border border-gray-200 dark:border-gray-800",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})]}),s.jsx("div",{className:"spacer-row w-full",children:s.jsx("div",{className:"h-2"})})]})})}function kAe(){const e=In();return s.jsxs("div",{className:"relative min-h-screen flex flex-col pb-20 sm:pb-24 bg-[linear-gradient(120deg,_#f0f4ff,_#e8f7ff_30%,_#fff6f0_60%,_#f0faff_90%)] dark:bg-[linear-gradient(120deg,_#0b1220,_#101828_30%,_#1b2433_60%,_#0f172a_90%)]",children:[s.jsx(uh.header,{className:"w-full bg-white/20 dark:bg-gray-800/25 backdrop-blur-md border-b border-white/30 dark:border-gray-600 shadow",initial:{opacity:0,y:-12},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},children:s.jsxs("div",{className:"flex justify-between items-center w-full max-w-6xl mx-auto px-4 sm:px-6 py-2 sm:py-3",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("img",{src:Zf,alt:"Be Souhola",className:"w-16 h-16 sm:w-20 sm:h-20 drop-shadow-lg"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs sm:text-sm text-white/90 drop-shadow-md",children:"Make everything ....."}),s.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold bg-gradient-to-r from-white via-sky-100 to-cyan-200 text-transparent bg-clip-text drop-shadow-lg",children:"Be Souhola"})]})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("nav",{className:"hidden sm:flex items-center gap-4 text-white/90",children:[s.jsx(Wt,{to:"/",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Home"}),s.jsx(Wt,{to:"/about",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"About"}),s.jsx(Wt,{to:"/welcome/contact",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Contact"}),s.jsx(Wt,{to:"/pricing",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Pricing"})]}),s.jsx("button",{onClick:()=>e("/login"),className:"px-8 py-3 rounded-full bg-white/25 backdrop-blur-md text-white font-semibold shadow-lg transition-all duration-200 hover:bg-white/40 hover:scale-105 hover:shadow-2xl hover:ring-2 hover:ring-white/40",children:"LOGIN "})]})]})}),s.jsx("main",{className:"flex-1 w-full",children:s.jsxs("div",{className:"mx-auto max-w-3xl px-6 sm:px-10 mt-8 sm:mt-12",children:[s.jsx("div",{className:"flex justify-end mb-3 sm:mb-4",children:s.jsx(Cs,{to:"/",className:"text-xs sm:text-sm text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Back to Welcome "})}),s.jsxs("div",{className:"bg-white/30 dark:bg-gray-800/40 rounded-3xl p-5 sm:p-6 border border-gray-200/60 dark:border-gray-700/60 shadow-lg",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-center mb-3 sm:mb-4",children:"Privacy Policy"}),s.jsx("p",{className:"mb-3 sm:mb-4 text-sm sm:text-base",children:"We respect your privacy and are committed to protecting your personal data. This policy explains how we collect, use, and process information when you use our services."}),s.jsx("h3",{className:"text-xl font-semibold mt-5 mb-2",children:"Information We Collect"}),s.jsx("p",{className:"mb-3 sm:mb-4 text-sm sm:text-base",children:"We may collect basic identifying information such as name, email, and phone number, along with service usage data to improve performance and provide better support."}),s.jsx("h3",{className:"text-xl font-semibold mt-5 mb-2",children:"How We Use Information"}),s.jsx("p",{className:"mb-3 sm:mb-4 text-sm sm:text-base",children:"We use your data to provide core features, enhance your experience, communicate updates and support, and comply with legal requirements."}),s.jsx("h3",{className:"text-xl font-semibold mt-5 mb-2",children:"Data Sharing"}),s.jsx("p",{className:"mb-3 sm:mb-4 text-sm sm:text-base",children:"Your data is not shared with third parties except when legally required, with your explicit consent, or to deliver a complete service through trusted providers."}),s.jsx("h3",{className:"text-xl font-semibold mt-5 mb-2",children:"Your Rights"}),s.jsx("p",{className:"mb-3 sm:mb-4 text-sm sm:text-base",children:"You have the right to access, correct, and request deletion of your personal data. You can contact us to exercise these rights at any time."}),s.jsx("h3",{className:"text-xl font-semibold mt-5 mb-2",children:"Contact Us"}),s.jsx("p",{className:"text-sm sm:text-base",children:"For privacy-related inquiries, please reach out through the Contact page."})]})]})}),s.jsx("footer",{className:"fixed bottom-0 left-0 w-full border-t border-gray-200/60 dark:border-gray-700/60 bg-white/70 dark:bg-gray-900/40 backdrop-blur-md",children:s.jsxs("div",{className:"mx-auto max-w-7xl px-6 sm:px-10 py-2 sm:py-3 flex items-center justify-between text-xs sm:text-sm",children:[s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:" 2024 Be Souhola"}),s.jsxs("nav",{className:"flex items-center gap-4",children:[s.jsx(Cs,{to:"/privacy",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Privacy"}),s.jsx(Cs,{to:"/terms",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Terms"}),s.jsx(Cs,{to:"/welcome/contact",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Contact"})]})]})})]})}function SAe(){const e=In();return s.jsxs("div",{className:"relative min-h-screen flex flex-col pb-20 sm:pb-24 bg-[linear-gradient(120deg,_#f0f4ff,_#e8f7ff_30%,_#fff6f0_60%,_#f0faff_90%)] dark:bg-[linear-gradient(120deg,_#0b1220,_#101828_30%,_#1b2433_60%,_#0f172a_90%)]",children:[s.jsx(uh.header,{className:"w-full bg-white/20 dark:bg-gray-800/25 backdrop-blur-md border-b border-white/30 dark:border-gray-600 shadow",initial:{opacity:0,y:-12},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},children:s.jsxs("div",{className:"flex justify-between items-center w-full max-w-6xl mx-auto px-4 sm:px-6 py-2 sm:py-3",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("img",{src:Zf,alt:"Be Souhola",className:"w-16 h-16 sm:w-20 sm:h-20 drop-shadow-lg"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs sm:text-sm text-white/90 drop-shadow-md",children:"Make everything ....."}),s.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold bg-gradient-to-r from-white via-sky-100 to-cyan-200 text-transparent bg-clip-text drop-shadow-lg",children:"Be Souhola"})]})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("nav",{className:"hidden sm:flex items-center gap-4 text-white/90",children:[s.jsx(Wt,{to:"/",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Home"}),s.jsx(Wt,{to:"/about",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"About"}),s.jsx(Wt,{to:"/welcome/contact",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Contact"}),s.jsx(Wt,{to:"/pricing",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Pricing"})]}),s.jsx("button",{onClick:()=>e("/login"),className:"px-8 py-3 rounded-full bg-white/25 backdrop-blur-md text-white font-semibold shadow-lg transition-all duration-200 hover:bg-white/40 hover:scale-105 hover:shadow-2xl hover:ring-2 hover:ring-white/40",children:"LOGIN "})]})]})}),s.jsx("main",{className:"flex-1 w-full",children:s.jsxs("div",{className:"mx-auto max-w-3xl px-6 sm:px-10 mt-8 sm:mt-12",children:[s.jsx("div",{className:"flex justify-end mb-3 sm:mb-4",children:s.jsx(Cs,{to:"/",className:"text-xs sm:text-sm text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Back to Welcome "})}),s.jsxs("div",{className:"bg-white/30 dark:bg-gray-800/40 rounded-3xl p-5 sm:p-6 border border-gray-200/60 dark:border-gray-700/60 shadow-lg",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-center mb-3 sm:mb-4",children:"Terms & Conditions"}),s.jsx("p",{className:"mb-3 sm:mb-4 text-sm sm:text-base",children:"These Terms & Conditions define the rules for using the service and your rights and responsibilities. By using the service, you agree to be bound by these terms."}),s.jsx("h3",{className:"text-xl font-semibold mt-5 mb-2",children:"Use of Service"}),s.jsx("p",{className:"mb-3 sm:mb-4 text-sm sm:text-base",children:"You must use the service lawfully and refrain from any activity that may negatively affect performance or put user data at risk."}),s.jsx("h3",{className:"text-xl font-semibold mt-5 mb-2",children:"Accounts & Responsibility"}),s.jsx("p",{className:"mb-3 sm:mb-4 text-sm sm:text-base",children:"You are responsible for keeping your login credentials confidential and for all activities that occur under your account."}),s.jsx("h3",{className:"text-xl font-semibold mt-5 mb-2",children:"Updates & Changes"}),s.jsx("p",{className:"mb-3 sm:mb-4 text-sm sm:text-base",children:"We may update these terms from time to time. Continuing to use the service after any update constitutes acceptance of the modified terms."}),s.jsx("h3",{className:"text-xl font-semibold mt-5 mb-2",children:"Termination"}),s.jsx("p",{className:"mb-3 sm:mb-4 text-sm sm:text-base",children:"We reserve the right to suspend or terminate access to the service upon violation of the terms or misuse."}),s.jsx("h3",{className:"text-xl font-semibold mt-5 mb-2",children:"Contact"}),s.jsx("p",{className:"text-sm sm:text-base",children:"For any inquiries regarding these terms, please contact us via the Contact page."})]})]})}),s.jsx("footer",{className:"fixed bottom-0 left-0 w-full border-t border-gray-200/60 dark:border-gray-700/60 bg-white/70 dark:bg-gray-900/40 backdrop-blur-md",children:s.jsxs("div",{className:"mx-auto max-w-7xl px-6 sm:px-10 py-2 sm:py-3 flex items-center justify-between text-xs sm:text-sm",children:[s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:" 2024 Be Souhola"}),s.jsxs("nav",{className:"flex items-center gap-4",children:[s.jsx(Cs,{to:"/privacy",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Privacy"}),s.jsx(Cs,{to:"/terms",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Terms"}),s.jsx(Cs,{to:"/welcome/contact",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Contact"})]})]})})]})}function CAe(){const e=t=>{t.preventDefault(),alert("Your message has been sent successfully (Welcome Contact)")};return s.jsxs("div",{className:"relative min-h-screen flex flex-col pb-20 sm:pb-24 bg-gradient-to-br from-cyan-200 via-sky-300 to-indigo-200 dark:from-gray-900 dark:via-indigo-900 dark:to-purple-900",children:[s.jsx(uh.header,{className:"w-full bg-white/20 dark:bg-gray-800/25 backdrop-blur-md border-b border-white/30 dark:border-gray-600 shadow",initial:{opacity:0,y:-12},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},children:s.jsxs("div",{className:"flex justify-between items-center w-full max-w-6xl mx-auto px-4 sm:px-6 py-2 sm:py-3",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("img",{src:Zf,alt:"Be Souhola",className:"w-16 h-16 sm:w-20 sm:h-20 drop-shadow-lg"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs sm:text-sm text-white/90 drop-shadow-md",children:"Make everything ....."}),s.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold bg-gradient-to-r from-white via-sky-100 to-cyan-200 text-transparent bg-clip-text drop-shadow-lg",children:"Be Souhola"})]})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("nav",{className:"hidden sm:flex items-center gap-4 text-white/90",children:[s.jsx(Wt,{to:"/",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Home"}),s.jsx(Wt,{to:"/about",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"About"}),s.jsx(Wt,{to:"/welcome/contact",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Contact"}),s.jsx(Wt,{to:"/pricing",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Pricing"})]}),s.jsx(Cs,{to:"/login",className:"px-8 py-3 rounded-full bg-white/25 backdrop-blur-md text-white font-semibold shadow-lg hover:bg-white/40 transition-all",children:"LOGIN "})]})]})}),s.jsxs("main",{className:"flex-1 w-full max-w-3xl mx-auto px-6 sm:px-10 mt-8 sm:mt-12",children:[s.jsx("div",{className:"flex justify-end mb-4",children:s.jsx(Cs,{to:"/",className:"px-6 py-2 rounded-full bg-white/25 backdrop-blur-md text-white font-semibold shadow hover:bg-white/40 transition-all",children:"Back to Welcome "})}),s.jsxs("div",{className:"bg-white/30 dark:bg-gray-800/30 backdrop-blur-md rounded-3xl p-5 sm:p-6 border border-white/40 dark:border-gray-700 shadow",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white/90 mb-4 text-center",children:"contact us"}),s.jsxs("form",{onSubmit:e,className:"grid grid-cols-1 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/90 text-sm mb-1",children:"Name"}),s.jsx("input",{type:"text",required:!0,className:"w-full rounded-xl bg-white/60 dark:bg-gray-900/40 border border-white/40 dark:border-gray-700 px-3 py-2 text-gray-900 dark:text-gray-100"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/90 text-sm mb-1",children:"Email"}),s.jsx("input",{type:"email",required:!0,className:"w-full rounded-xl bg-white/60 dark:bg-gray-900/40 border border-white/40 dark:border-gray-700 px-3 py-2 text-gray-900 dark:text-gray-100"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/90 text-sm mb-1",children:"Phone"}),s.jsx("input",{type:"tel",className:"w-full rounded-xl bg-white/60 dark:bg-gray-900/40 border border-white/40 dark:border-gray-700 px-3 py-2 text-gray-900 dark:text-gray-100"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/90 text-sm mb-1",children:"Subject"}),s.jsx("input",{type:"text",className:"w-full rounded-xl bg-white/60 dark:bg-gray-900/40 border border-white/40 dark:border-gray-700 px-3 py-2 text-gray-900 dark:text-gray-100"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/90 text-sm mb-1",children:"Message"}),s.jsx("textarea",{rows:5,required:!0,className:"w-full rounded-xl bg-white/60 dark:bg-gray-900/40 border border-white/40 dark:border-gray-700 px-3 py-2 text-gray-900 dark:text-gray-100"})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{type:"submit",className:"px-6 py-2 rounded-full bg-white text-indigo-700 dark:bg-indigo-600 dark:text-white font-semibold shadow hover:bg-white/90 dark:hover:bg-indigo-700 transition-all",children:"Send"})})]})]})]}),s.jsx("footer",{className:"fixed bottom-0 left-0 w-full border-t border-gray-200/60 dark:border-gray-700/60 bg-white/70 dark:bg-gray-900/40 backdrop-blur-md",children:s.jsxs("div",{className:"mx-auto max-w-7xl px-6 sm:px-10 py-2 sm:py-3 flex items-center justify-between text-xs sm:text-sm",children:[s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:" 2024 Be Souhola"}),s.jsxs("nav",{className:"flex items-center gap-4",children:[s.jsx(Cs,{to:"/privacy",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Privacy"}),s.jsx(Cs,{to:"/terms",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Terms"}),s.jsx(Cs,{to:"/welcome/contact",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Contact"})]})]})})]})}function AAe(){const e=In();return s.jsxs("div",{className:"relative min-h-screen flex flex-col pb-20 sm:pb-24 bg-gradient-to-br from-cyan-200 via-sky-300 to-indigo-200 dark:from-gray-900 dark:via-indigo-900 dark:to-purple-900",children:[s.jsx(uh.header,{className:"w-full bg-white/20 dark:bg-gray-800/25 backdrop-blur-md border-b border-white/30 dark:border-gray-600 shadow",initial:{opacity:0,y:-12},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},children:s.jsxs("div",{className:"flex justify-between items-center w-full max-w-6xl mx-auto px-4 sm:px-6 py-2 sm:py-3",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("img",{src:Zf,alt:"Be Souhola",className:"w-16 h-16 sm:w-20 sm:h-20 drop-shadow-lg"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs sm:text-sm text-white/90 drop-shadow-md",children:"Make everything ....."}),s.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold bg-gradient-to-r from-white via-sky-100 to-cyan-200 text-transparent bg-clip-text drop-shadow-lg",children:"Be Souhola"})]})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("nav",{className:"hidden sm:flex items-center gap-4 text-white/90",children:[s.jsx(Wt,{to:"/",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Home"}),s.jsx(Wt,{to:"/about",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"About"}),s.jsx(Wt,{to:"/welcome/contact",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Contact"}),s.jsx(Wt,{to:"/pricing",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Pricing"})]}),s.jsx("button",{onClick:()=>e("/login"),className:"px-8 py-3 rounded-full bg-white/25 backdrop-blur-md text-white font-semibold shadow-lg transition-all duration-200 hover:bg-white/40 hover:scale-105 hover:shadow-2xl hover:ring-2 hover:ring-white/40",children:"LOGIN "})]})]})}),s.jsx("main",{className:"flex-1 w-full",children:s.jsxs("div",{className:"mx-auto max-w-3xl px-6 sm:px-10 mt-8 sm:mt-12",children:[s.jsx("div",{className:"flex justify-end mb-4",children:s.jsx(Cs,{to:"/",className:"px-6 py-2 rounded-full bg-white/25 backdrop-blur-md text-white font-semibold shadow hover:bg-white/40 transition-all",children:"Back to Welcome "})}),s.jsxs("div",{className:"bg-white/30 dark:bg-gray-800/30 backdrop-blur-md rounded-3xl p-5 sm:p-6 border border-white/40 dark:border-gray-700 shadow",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white/90 mb-4 text-center",children:"About"}),s.jsx("p",{className:"text-sm sm:text-base text-white/90",children:"Be Souhola is a modern CRM designed to streamline client management, leads tracking, marketing campaigns, and analytics. Our mission is to make everything simpler and more efficient for teams."}),s.jsx("p",{className:"mt-3 text-sm sm:text-base text-white/90",children:"This project brings together powerful modules like Dashboard, Inventory, Projects, Reports, and Settings, all crafted for a smooth daily workflow."})]})]})}),s.jsx("footer",{className:"fixed bottom-0 left-0 w-full border-t border-gray-200/60 dark:border-gray-700/60 bg-white/70 dark:bg-gray-900/40 backdrop-blur-md",children:s.jsxs("div",{className:"mx-auto max-w-7xl px-6 sm:px-10 py-2 sm:py-3 flex items-center justify-between text-xs sm:text-sm",children:[s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:" 2024 Be Souhola"}),s.jsxs("nav",{className:"flex items-center gap-4",children:[s.jsx(Cs,{to:"/privacy",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Privacy"}),s.jsx(Cs,{to:"/terms",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Terms"}),s.jsx(Cs,{to:"/welcome/contact",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Contact"})]})]})})]})}function _Ae(){const{t:e,i18n:t}=St(),a=t.language==="ar",r=In(),[n,i]=y.useState("general"),[l,o]=y.useState(!1),[c,d]=y.useState(""),[u,f]=y.useState({title:"",channel:"",project:"",description:"",targetUrl:"",media:[],headerScript:"",bodyScript:"",enableTracking:!0}),p=b=>{const{name:j,value:k,type:S,checked:N}=b.target;f(A=>({...A,[j]:S==="checkbox"?N:k}))},m=b=>{const j=Array.from(b.target.files||[]);f(k=>({...k,media:j}))},v=()=>r("/marketing/landing-pages"),g=async()=>{l||(o(!0),d(""),await new Promise(b=>setTimeout(b,1e3)),o(!1),d(e("Saved successfully")),setTimeout(()=>r("/marketing/landing-pages"),900))};return s.jsx(_r,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"page-title text-2xl font-semibold",children:e("Add Landing Page")}),c&&s.jsx("div",{className:`card glass-card p-3 text-sm ${a?"text-right":"text-left"}`,children:c}),s.jsxs("section",{className:`card glass-card p-0 ${a?"text-right":"text-left"}`,children:[s.jsx("div",{className:"flex items-center gap-2 px-4 pt-4",children:["general","description","media","script"].map(b=>s.jsxs("button",{className:`btn !px-3 !py-1 text-sm ${n===b?"btn-primary":""}`,onClick:()=>i(b),children:[b==="general"&&e("General"),b==="description"&&e("Description"),b==="media"&&e("Media"),b==="script"&&e("Script")]},b))}),s.jsxs("div",{className:"p-4",children:[n==="general"&&s.jsxs("div",{className:`grid grid-cols-1 sm:grid-cols-2 gap-4 ${a?"text-right":""}`,children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Title")}),s.jsx("input",{name:"title",value:u.title,onChange:p,className:"input",placeholder:e("Enter title")})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Channel")}),s.jsxs("select",{name:"channel",value:u.channel,onChange:p,className:"select",children:[s.jsx("option",{value:"",children:e("Select Channel")}),s.jsx("option",{value:"Meta",children:"Meta (Facebook/Instagram)"}),s.jsx("option",{value:"Google Ads",children:"Google Ads"}),s.jsx("option",{value:"TikTok Ads",children:"TikTok Ads"}),s.jsx("option",{value:"Twitter/X",children:"Twitter / X"}),s.jsx("option",{value:"LinkedIn",children:"LinkedIn"}),s.jsx("option",{value:"Manual",children:"Manual"})]})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Project")}),s.jsxs("select",{name:"project",value:u.project,onChange:p,className:"select",children:[s.jsx("option",{value:"",children:e("Select Project")}),s.jsx("option",{value:"Cairo Downtown",children:"Cairo Downtown"}),s.jsx("option",{value:"New Capital",children:"New Capital"}),s.jsx("option",{value:"Project A",children:"Project A"}),s.jsx("option",{value:"Project B",children:"Project B"})]})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Target URL")}),s.jsx("input",{name:"targetUrl",value:u.targetUrl,onChange:p,className:"input",placeholder:"https://example.com/landing"})]})]}),n==="description"&&s.jsx("div",{className:"grid grid-cols-1 gap-3",children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Short Description")}),s.jsx("textarea",{name:"description",value:u.description,onChange:p,className:"input min-h-[140px]",placeholder:e("Short Description")})]})}),n==="media"&&s.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Upload Media")}),s.jsx("input",{type:"file",multiple:!0,onChange:m,className:"input",accept:"image/*,video/*"})]}),u.media.length>0&&s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:u.media.map((b,j)=>s.jsxs("div",{className:"card glass-card p-3 text-sm",children:[s.jsx("div",{className:"font-medium truncate",children:b.name}),s.jsxs("div",{className:"text-[var(--muted-text)]",children:[(b.size/1024).toFixed(1)," KB"]})]},j))})]}),n==="script"&&s.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"enableTracking",type:"checkbox",name:"enableTracking",checked:u.enableTracking,onChange:p}),s.jsx("label",{htmlFor:"enableTracking",className:"text-sm",children:"Meta Pixel / GTM"})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Header Script")}),s.jsx("textarea",{name:"headerScript",value:u.headerScript,onChange:p,className:"input min-h-[120px]",placeholder:"<!-- scripts in <head> -->"})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Body Script")}),s.jsx("textarea",{name:"bodyScript",value:u.bodyScript,onChange:p,className:"input min-h-[120px]",placeholder:"<!-- scripts before </body> -->"})]})]}),s.jsxs("div",{className:`mt-4 flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[s.jsx("button",{type:"button",className:"btn",onClick:v,children:e("Cancel")}),s.jsxs("button",{type:"button",className:"btn btn-primary inline-flex items-center gap-2",onClick:g,disabled:l,children:[l?s.jsx("span",{className:"inline-block w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M12 5v14M5 12h14"})}),s.jsx("span",{children:e(l?"Saving...":"Create")})]})]})]})]})]})})}function EAe({isOpen:e,onClose:t,onSave:a}){const{t:r,i18n:n}=St(),i=(n?.language||"").toLowerCase().startsWith("ar"),[l,o]=y.useState(""),[c,d]=y.useState(""),[u,f]=y.useState(""),[p,m]=y.useState(""),[v,g]=y.useState(""),[b,j]=y.useState("medium"),[k,S]=y.useState(""),[N,A]=y.useState(null),[_,E]=y.useState("visit"),[D,R]=y.useState("Admin"),[I,M]=y.useState(""),[U,P]=y.useState(""),[F,K]=y.useState(""),[V,J]=y.useState(0),[Q,z]=y.useState(""),[X,le]=y.useState("none"),O=y.useMemo(()=>["Team A","Team B","Support","Sales","Admin","Ibrahim","Ahmed"],[]),q=y.useMemo(()=>["Lead","Deal","Contact","Opportunity","Ticket","Project"],[]),W=y.useMemo(()=>["visit","mission","delivery","email","meeting","call"],[]),te=y.useMemo(()=>[{value:"5m",label:i?" 5 ":"5 minutes before"},{value:"15m",label:i?" 15 ":"15 minutes before"},{value:"30m",label:i?" 30 ":"30 minutes before"},{value:"1h",label:i?" ":"1 hour before"},{value:"2h",label:i?" ":"2 hours before"},{value:"1d",label:i?" ":"1 day before"}],[i]),re=y.useMemo(()=>[{value:"none",label:i?"":"None"},{value:"daily",label:i?"":"Daily"},{value:"weekly",label:i?"":"Weekly"},{value:"monthly",label:i?"":"Monthly"}],[i]);if(!e)return null;const oe=()=>{if(!l.trim()){S(i?" ":"Title is required");return}const G={title:l.trim(),description:c.trim(),assignedTo:u,due:p,endDate:p,startDate:v,priority:b,attachment:N,taskType:_,createdBy:D,relatedType:I,relatedRef:U,tags:F.split(",").map(ie=>ie.trim()).filter(Boolean),progress:V,reminderBefore:Q,recurring:X};a?.(G),o(""),d(""),f(""),m(""),g(""),j("medium"),A(null),E("visit"),R("Admin"),M(""),P(""),K(""),J(0),z(""),le("none"),S("")},ce=G=>{const ie=G.target.files?.[0];if(!ie){A(null);return}const ye=URL.createObjectURL(ie);A({name:ie.name,size:ie.size,type:ie.type,url:ye})};return s.jsxs("div",{className:"fixed inset-0 z-[130] flex items-start justify-center pt-20",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),s.jsxs("div",{className:"relative w-full sm:w-[90%] sm:max-w-2xl sm:max-h-[90vh] overflow-y-auto bg-[var(--content-bg)] text-[var(--content-text)] border shadow-xl rounded-none sm:rounded-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[s.jsx("h2",{className:"text-xl font-semibold",children:i?" ":"New Task"}),s.jsx("button",{onClick:t,className:"p-2 rounded-md hover:bg-[var(--table-row-hover)]","aria-label":i?"":"Close",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:s.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),s.jsxs("div",{className:"px-6 py-5 space-y-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm opacity-80",children:i?"":"Title"}),s.jsx("input",{value:l,onChange:G=>o(G.target.value),placeholder:i?"":"Title",className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)]"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm opacity-80",children:i?"":"Description"}),s.jsx("textarea",{value:c,onChange:G=>d(G.target.value),placeholder:i?"":"Description",className:"w-full min-h-28 px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] resize-y"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm opacity-80",children:i?" ":"Assigned To"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:u,onChange:G=>f(G.target.value),className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] appearance-none pr-8",children:[s.jsx("option",{value:"",children:i?" /":"Select person/team"}),O.map(G=>s.jsx("option",{value:G,children:G},G))]}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4 absolute right-2 top-1/2 -translate-y-1/2 opacity-70 pointer-events-none",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm opacity-80",children:i?"":"Priority"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:b,onChange:G=>j(G.target.value),className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] appearance-none pr-8",children:[s.jsx("option",{value:"low",children:i?"":"Low"}),s.jsx("option",{value:"medium",children:i?"":"Medium"}),s.jsx("option",{value:"high",children:i?"":"High"})]}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4 absolute right-2 top-1/2 -translate-y-1/2 opacity-70 pointer-events-none",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm opacity-80",children:i?" ":"Start date"}),s.jsx("input",{type:"date",value:v,onChange:G=>g(G.target.value),className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)]"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm opacity-80",children:i?" ":"Due date"}),s.jsx("input",{type:"date",value:p,onChange:G=>m(G.target.value),className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)]"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm opacity-80",children:i?" ":"Attached File"}),s.jsx("input",{type:"file",onChange:ce,className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)]"}),N?s.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs bg-[var(--dropdown-bg)] border rounded-md px-3 py-2",children:[s.jsxs("div",{className:"flex items-center gap-2 truncate",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:s.jsx("path",{d:"M21.44 11.05l-9.9 9.9a5.5 5.5 0 01-7.78-7.78l9.9-9.9a3.5 3.5 0 015 5l-9.2 9.2a1.5 1.5 0 01-2.12-2.12l8.49-8.49"})}),s.jsx("a",{href:N.url,target:"_blank",rel:"noreferrer",className:"truncate hover:underline",children:N.name})]}),s.jsx("button",{type:"button",onClick:()=>A(null),className:"px-2 py-1 rounded-md border bg-[var(--table-row-hover)]",children:i?"":"Remove"})]}):null]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm opacity-80",children:i?" ":"Task type"}),s.jsxs("div",{className:"relative",children:[s.jsx("select",{value:_,onChange:G=>E(G.target.value),className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] appearance-none pr-8",children:W.map(G=>s.jsx("option",{value:G,children:G},G))}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4 absolute right-2 top-1/2 -translate-y-1/2 opacity-70 pointer-events-none",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm opacity-80",children:i?" ":"Related to"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:I,onChange:G=>M(G.target.value),className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] appearance-none pr-8",children:[s.jsx("option",{value:"",children:i?" ":"Select entity"}),q.map(G=>s.jsx("option",{value:G,children:G},G))]}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4 absolute right-2 top-1/2 -translate-y-1/2 opacity-70 pointer-events-none",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm opacity-80",children:i?"/":"Reference/ID"}),s.jsx("input",{value:U,onChange:G=>P(G.target.value),placeholder:i?": LEAD-102":"e.g., LEAD-102",className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)]"})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm opacity-80",children:i?" ":"Created by"}),s.jsx("input",{value:D,onChange:G=>R(G.target.value),className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)]"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm opacity-80",children:i?"/":"Tags/Labels"}),s.jsx("input",{value:F,onChange:G=>K(G.target.value),placeholder:i?"   ":"Comma-separated tags",className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)]"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm opacity-80",children:i?" ":"Progress %"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"range",min:0,max:100,value:V,onChange:G=>J(Number(G.target.value)),className:"flex-1"}),s.jsxs("span",{className:"text-sm w-12 text-right",children:[V,"%"]})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm opacity-80",children:i?"":"Reminder"}),s.jsxs("div",{className:"relative",children:[s.jsx("select",{value:Q,onChange:G=>z(G.target.value),className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] appearance-none pr-8",children:te.map(G=>s.jsx("option",{value:G.value,children:G.label},G.value))}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4 absolute right-2 top-1/2 -translate-y-1/2 opacity-70 pointer-events-none",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm opacity-80",children:i?" ":"Recurring"}),s.jsxs("div",{className:"relative",children:[s.jsx("select",{value:X,onChange:G=>le(G.target.value),className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] appearance-none pr-8",children:re.map(G=>s.jsx("option",{value:G.value,children:G.label},G.value))}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4 absolute right-2 top-1/2 -translate-y-1/2 opacity-70 pointer-events-none",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})]})]}),k&&s.jsx("div",{className:"text-red-500 text-sm",children:k})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t",children:[s.jsx("button",{onClick:t,className:"px-4 py-2 rounded-md border bg-[var(--dropdown-bg)] text-sm",children:i?"":"Cancel"}),s.jsx("button",{onClick:oe,className:"px-4 py-2 rounded-md bg-blue-600 hover:bg-blue-500 text-white text-sm",children:i?" ":"New Task"})]})]})]})}function TAe({isOpen:e,onClose:t,task:a}){const{i18n:r}=St(),n=(r?.language||"").toLowerCase().startsWith("ar");if(!e||!a)return null;const i={title:n?"":"Title",description:n?"":"Description",assigned:n?"":"Assigned",status:n?"":"Status",due:n?" ":"Due",start:n?" ":"Start",salesman:n?"":"Salesman",priority:n?"":"Priority",attachment:n?" ":"Attached File",createdBy:n?" ":"Created By",taskType:n?" ":"Task Type",relatedTo:n?" ":"Related To",reference:n?"/":"Reference",tags:n?"":"Tags",progress:n?" ":"Progress %",reminder:n?"":"Reminder",recurring:n?"":"Recurring",details:n?" ":"Task Details",close:n?"":"Close"};return s.jsxs("div",{className:"fixed inset-x-0 top-24 bottom-0 z-[100] flex items-stretch sm:items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),s.jsxs("div",{className:"relative w-full h-full sm:w-[90%] sm:max-w-2xl sm:max-h-[90vh] sm:h-auto bg-[var(--content-bg)] text-[var(--content-text)] border shadow-xl rounded-none sm:rounded-2xl flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-6 py-3 sm:py-4 border-b sticky top-0 bg-[var(--content-bg)] z-10",children:[s.jsx("h2",{className:"text-xl font-semibold",children:i.details}),s.jsx("button",{onClick:t,className:"p-2 rounded-md hover:bg-[var(--table-row-hover)]","aria-label":i.close,children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:s.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto px-4 sm:px-6 py-4 sm:py-5 space-y-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs opacity-70",children:i.title}),s.jsx("div",{className:"text-base font-medium",children:a.name})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs opacity-70",children:i.description}),s.jsx("div",{className:"text-sm whitespace-pre-wrap",children:a.sub||""})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs opacity-70",children:i.assigned}),s.jsx("div",{className:"text-sm",children:a.assignee||""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs opacity-70",children:i.salesman}),s.jsx("div",{className:"text-sm",children:a.salesman||""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs opacity-70",children:i.status}),s.jsx("div",{className:"text-sm",children:a.status||""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs opacity-70",children:i.priority}),s.jsx("div",{className:"text-sm",children:a.priority||""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs opacity-70",children:i.due}),s.jsx("div",{className:"text-sm",children:a.due||""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs opacity-70",children:i.start}),s.jsx("div",{className:"text-sm",children:a.startDate||""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs opacity-70",children:i.createdBy}),s.jsx("div",{className:"text-sm",children:a.createdBy||""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs opacity-70",children:i.taskType}),s.jsx("div",{className:"text-sm",children:a.taskType||""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs opacity-70",children:i.relatedTo}),s.jsx("div",{className:"text-sm",children:a.relatedType||""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs opacity-70",children:i.reference}),s.jsx("div",{className:"text-sm",children:a.relatedRef||""})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("div",{className:"text-xs opacity-70",children:i.tags}),s.jsx("div",{className:"text-sm",children:a.tags&&a.tags.length>0?a.tags.join(", "):""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs opacity-70",children:i.progress}),s.jsx("div",{className:"text-sm",children:typeof a.progress=="number"?`${a.progress}%`:""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs opacity-70",children:i.reminder}),s.jsx("div",{className:"text-sm",children:a.reminderBefore||""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs opacity-70",children:i.recurring}),s.jsx("div",{className:"text-sm",children:a.recurring||""})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("div",{className:"text-xs opacity-70",children:i.attachment}),a.attachment?s.jsxs("div",{className:"mt-1 inline-flex items-center gap-2 px-2 py-1 rounded-md border bg-[var(--dropdown-bg)] text-xs",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:s.jsx("path",{d:"M21.44 11.05l-9.9 9.9a5.5 5.5 0 01-7.78-7.78l9.9-9.9a3.5 3.5 0 015 5l-9.2 9.2a1.5 1.5 0 01-2.12-2.12l8.49-8.49"})}),s.jsx("a",{href:a.attachment.url,target:"_blank",rel:"noreferrer",className:"hover:underline",children:a.attachment.name})]}):s.jsx("div",{className:"text-sm",children:""})]})]})]}),s.jsx("div",{className:"flex items-center justify-end gap-3 px-4 sm:px-6 py-3 sm:py-4 border-t bg-[var(--content-bg)]",children:s.jsx("button",{onClick:t,className:"px-4 py-2 rounded-md border bg-[var(--dropdown-bg)] text-sm",children:i.close})})]})]})}function y2({label:e,active:t,onClick:a,tone:r="default",count:n}){const{theme:i}=Ar(),l=i==="dark",o="inline-flex items-center gap-2 px-2 py-1 sm:px-3 sm:py-1.5 rounded-full text-[11px] sm:text-xs font-medium border transition-colors",c={default:`bg-[var(--dropdown-bg)] ${l?"text-white":"text-[var(--content-text)]"} border-[var(--divider)] hover:bg-[var(--table-row-hover)]`,green:`bg-emerald-900/20 ${l?"text-white":"text-black"} border-emerald-600/40 hover:bg-emerald-900/30`,red:`bg-red-900/20 ${l?"text-white":"text-black"} border-red-600/40 hover:bg-red-900/30`,yellow:`bg-yellow-900/20 ${l?"text-white":"text-black"} border-yellow-600/40 hover:bg-yellow-900/30`,blue:`bg-sky-900/20 ${l?"text-white":"text-black"} border-sky-600/40 hover:bg-sky-900/30`},d=t?" ring-2 ring-indigo-500/40":"";return s.jsxs("button",{type:"button",onClick:a,className:`${o} ${c[r]}${d}`,children:[s.jsx("span",{className:"w-2 h-2 rounded-full",style:{background:r==="green"?"#10b981":r==="red"?"#ef4444":r==="yellow"?"#f59e0b":r==="blue"?"#0ea5e9":"var(--muted-text)"}}),e,typeof n=="number"?s.jsx("span",{className:"px-1.5 py-0.5 rounded border border-current text-[10px] opacity-80",children:n}):null]})}function w2({label:e,tone:t="yellow"}){const{theme:a}=Ar(),r=a==="dark",n={yellow:`bg-yellow-500/20 ${r?"text-white":"text-black"} border-yellow-500/40`,blue:`bg-sky-500/20 ${r?"text-white":"text-black"} border-sky-500/40`,green:`bg-emerald-500/20 ${r?"text-white":"text-black"} border-emerald-500/40`,red:`bg-red-500/20 ${r?"text-white":"text-black"} border-red-500/40`};return s.jsx("span",{className:`inline-flex items-center px-2 py-0.5 sm:px-2.5 sm:py-1 rounded-full text-[11px] sm:text-xs border ${n[t]}`,children:e})}function DAe(){const{t:e,i18n:t}=St(),a=(t?.language||"").toLowerCase().startsWith("ar"),[r,n]=y.useState(""),[i,l]=y.useState(""),o=Ws.useRef(null),c=Ws.useRef(!1),[d,u]=y.useState({status:{PENDING:!0,ACCEPTING:!0,FINISHED:!0,CANCELLED:!1}}),[f,p]=y.useState(!1),[m,v]=y.useState({search:"",createdAt:"",endDate:"",assignedTo:"",relatedType:"",status:"",priority:"",createdBy:"",useCreatedAt:!1,useEndDate:!1,overdueOnly:!1}),g=(ue,Z)=>v(Se=>({...Se,[ue]:Z})),b=()=>v({search:"",createdAt:"",endDate:"",assignedTo:"",relatedType:"",status:"",priority:"",createdBy:"",useCreatedAt:!1,useEndDate:!1,overdueOnly:!1}),j=(ue,Z)=>u(Se=>({...Se,[ue]:{...Se[ue],[Z]:!Se[ue][Z]}})),k=ue=>{const Z=(ue||"").trim().replace(/\s|-/g,"");if(!Z)return"";if(Z.startsWith("+"))return Z;const Se=Z.match(/^0+(\d{1,4})/);if(Se)return`+${Se[1]}`;const Ne=Z.match(/^(\d{1,4})$/);return Ne?`+${Ne[1]}`:""};Ws.useEffect(()=>{!o.current&&!c.current&&(c.current=!0,fetch("https://restcountries.com/v3.1/all?fields=idd,flag").then(ue=>ue.json()).then(ue=>{const Z=new Map;Array.isArray(ue)&&ue.forEach(Ne=>{const Ye=(Ne?.idd?.root||"").trim();(Array.isArray(Ne?.idd?.suffixes)?Ne.idd.suffixes:[]).forEach(qt=>{const at=`${Ye}${qt}`;at&&Z.set(at,Ne?.flag||"")})}),o.current=Z;const Se=k(r);Se&&Z.has(Se)&&l(Z.get(Se)||"")}).catch(()=>{o.current=new Map}).finally(()=>{c.current=!1}))},[]),Ws.useEffect(()=>{const ue=k(r);if(!ue){l("");return}const Z=o.current;Z&&Z.has(ue)?l(Z.get(ue)||""):l("")},[r]);const S=y.useMemo(()=>[{id:101,name:"Initial Setup",sub:"Project structure and configs",assignee:"Ibrahim",state1:"Phase 1",state2:"Init",due:"Today",salesman:"Ibrahim",priority:"high",status:"PENDING"},{id:102,name:"Client Meeting",sub:"Requirements alignment",assignee:"Ahmed",state1:"Phase 2",state2:"Discuss",due:"Tomorrow",salesman:"Ahmed",priority:"medium",status:"PENDING"},{id:103,name:"Content Review",sub:"Marketing copy",assignee:"Semik",state1:"Review",state2:"Draft",due:"Soon",salesman:"Semik L",priority:"low",status:"PENDING"},{id:104,name:"Deployment Prep",sub:"CI/CD and smoke tests",assignee:"Admin",state1:"Release",state2:"Check",due:"Next week",salesman:"Admin",priority:"medium",status:"PENDING"}],[]),[N,A]=y.useState(S),_=(ue,Z)=>A(Se=>Se.map(Ne=>Ne.id===ue?{...Ne,status:Z}:Ne)),E=ue=>_(ue,"ACCEPTING"),D=ue=>_(ue,"FINISHED"),R=ue=>{window.confirm(a?"  ":"Confirm cancel task?")&&_(ue,"CANCELLED")},I=()=>A([]),M=ue=>{const Z={id:Date.now(),name:ue.title,sub:ue.description||"",assignee:ue.assignedTo||ue.salesman||"",state1:"New",state2:"",due:ue.due||ue.endDate||"Soon",salesman:ue.salesman||"",priority:ue.priority||"medium",status:"PENDING",attachment:ue.attachment||null,startDate:ue.startDate||"",taskType:ue.taskType||"",createdBy:ue.createdBy||"Admin",relatedType:ue.relatedType||"",relatedRef:ue.relatedRef||"",tags:ue.tags||[],progress:typeof ue.progress=="number"?ue.progress:0,reminderBefore:ue.reminderBefore||"",recurring:ue.recurring||"none"};A(Se=>[...Se,Z])},U=()=>{try{const ue=["id","name","sub","assignee","state1","state2","due","salesman","priority","status"],Z=[ue.join(",")];N.forEach(gt=>{const qt=ue.map(at=>String(gt[at]??"").replace(/"/g,'""'));Z.push(qt.map(at=>`"${at}"`).join(","))});const Se=new Blob([Z.join(`
`)],{type:"text/csv;charset=utf-8;"}),Ne=URL.createObjectURL(Se),Ye=document.createElement("a");Ye.href=Ne,Ye.download="tasks.csv",document.body.appendChild(Ye),Ye.click(),document.body.removeChild(Ye),URL.revokeObjectURL(Ne)}catch(ue){console.error("Export failed",ue),alert("Export failed")}},P=y.useMemo(()=>{const ue=d?.status||{},Z=m.status,Se=m.priority,Ne=m.assignedTo,Ye=m.relatedType,gt=m.overdueOnly,qt=new Date().toISOString().slice(0,10);return N.filter(at=>{const $t=ue[at.status]??!0,ze=Z?at.status===Z:!0,Ke=Se?at.priority===Se:!0,Ze=Ne?at.assignee===Ne:!0,ht=Ye?at.relatedType===Ye:!0;let At=!0;return gt&&(At=typeof at.due=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(at.due)&&at.due<qt),$t&&ze&&Ke&&Ze&&ht&&At})},[N,d,m.status,m.priority,m.assignedTo,m.relatedType,m.overdueOnly]),F=y.useMemo(()=>{const ue={PENDING:0,ACCEPTING:0,FINISHED:0,CANCELLED:0};return N.forEach(Z=>{ue[Z.status]!==void 0&&ue[Z.status]++}),ue},[N]),[K,V]=y.useState(20),J=y.useMemo(()=>P.slice(0,K),[P,K]),[Q,z]=y.useState({}),X=y.useMemo(()=>Object.values(Q).filter(Boolean).length,[Q]),le=ue=>z(Z=>({...Z,[ue]:!Z[ue]})),O=()=>z({}),q=y.useMemo(()=>J.length>0&&J.every(ue=>Q[ue.id]),[J,Q]),W=()=>{if(q){const ue={...Q};J.forEach(Z=>{delete ue[Z.id]}),z(ue)}else{const ue={...Q};J.forEach(Z=>{ue[Z.id]=!0}),z(ue)}},te=()=>{const ue=Object.keys(Q).filter(Z=>Q[Z]).map(Z=>Number(Z));if(ue.length===0){alert(a?"   ":"No selected items");return}window.confirm(a?"   ":"Confirm delete selected?")&&(A(Z=>Z.filter(Se=>!ue.includes(Se.id))),O())},[re,oe]=y.useState(""),ce=()=>{const ue=Object.keys(Q).filter(Z=>Q[Z]).map(Z=>Number(Z));if(ue.length===0){alert(a?"   ":"Select tasks to reassign");return}if(!re){alert(a?"  ":"Please choose a salesman");return}A(Z=>Z.map(Se=>ue.includes(Se.id)?{...Se,salesman:re}:Se)),O()},[G,ie]=y.useState(!1),[ye,se]=y.useState(null),Ie=ue=>se(ue),pe=()=>se(null),[ae,ge]=y.useState(!0),Re=()=>{if(window.history&&window.history.length>1)try{window.history.back()}catch{}else try{window.location.href="/crm-new/"}catch{window.location.href="/crm-ibrahim/"}};return s.jsxs("div",{className:"px-4 md:px-6 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-lg font-semibold tracking-wide",children:a?"":"ALL TASK"}),s.jsxs("button",{type:"button",onClick:Re,className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] hover:bg-[var(--table-row-hover)]",title:a?" ":"Close page","aria-label":a?"":"Close",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:s.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),s.jsx("span",{className:"hidden sm:inline text-sm",children:a?"":"Close"})]})]}),s.jsx("div",{className:"h-6"}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 justify-start sm:justify-between",children:[s.jsxs("button",{onClick:()=>p(ue=>!ue),className:"inline-flex items-center gap-2 px-2.5 py-1.5 text-xs sm:px-3.5 sm:py-2.5 sm:text-sm rounded-md bg-[var(--dropdown-bg)] text-[var(--content-text)]",title:a?"/  ":"Toggle advanced filters","aria-label":a?"":"Filter",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:[s.jsx("path",{d:"M3 6h18"}),s.jsx("path",{d:"M6 12h12"}),s.jsx("path",{d:"M10 18h4"})]}),s.jsx("span",{className:"text-sm font-medium",children:a?" ":"Filter options"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>ie(!0),className:"inline-flex items-center gap-2 px-2.5 py-1.5 text-xs sm:px-3.5 sm:py-2.5 sm:text-sm rounded-md bg-[var(--dropdown-bg)] text-[var(--content-text)]",title:a?" ":"New Task",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:s.jsx("path",{d:"M12 4v16M4 12h16"})}),a?"":"New"]}),s.jsxs("button",{onClick:U,className:"inline-flex items-center gap-2 px-2.5 py-1.5 text-xs sm:px-3.5 sm:py-2.5 sm:text-sm rounded-md bg-[var(--dropdown-bg)] text-[var(--content-text)]",title:a?"":"Export",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:[s.jsx("path",{d:"M12 5v8m0 0l-3-3m3 3l3-3"}),s.jsx("path",{d:"M5 19h14"})]}),a?"":"Export"]})]})]}),f&&s.jsxs("div",{className:"mt-4 rounded-xl border bg-[var(--content-bg)] text-[var(--content-text)] p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-sm font-medium",children:a?" ":"Advanced Filters"}),s.jsx("button",{type:"button",onClick:b,className:"text-xs px-2 py-1 rounded-md border bg-[var(--dropdown-bg)]",children:a?" ":"Reset"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-xs opacity-70 block mb-1",children:a?"":"Search"}),s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg border bg-[var(--dropdown-bg)] w-full",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4 opacity-70",children:[s.jsx("circle",{cx:"11",cy:"11",r:"6"}),s.jsx("path",{d:"M21 21l-4.5-4.5"})]}),i?s.jsx("span",{className:"text-lg",children:i}):null,s.jsx("input",{value:r,onChange:ue=>n(ue.target.value),placeholder:a?"    ...":"Search task or project...",className:"bg-transparent outline-none text-sm flex-1 w-full"})]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-xs opacity-70 mb-1",children:a?" ":"Creation"}),s.jsx("input",{type:"date",value:m.createdAt,onChange:ue=>g("createdAt",ue.target.value),className:"px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] text-sm w-full"})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-xs opacity-70 mb-1",children:a?" ":"End"}),s.jsx("input",{type:"date",value:m.endDate,onChange:ue=>g("endDate",ue.target.value),className:"px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] text-sm w-full"})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-xs opacity-70 mb-1",children:a?" ":"Assigned To"}),s.jsxs("select",{value:m.assignedTo,onChange:ue=>g("assignedTo",ue.target.value),className:"px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] text-sm w-full",children:[s.jsx("option",{value:"",children:a?"":"Select"}),s.jsx("option",{children:"Team A"}),s.jsx("option",{children:"Team B"}),s.jsx("option",{children:"Support"}),s.jsx("option",{children:"Sales"}),s.jsx("option",{children:"Admin"}),s.jsx("option",{children:"Ibrahim"}),s.jsx("option",{children:"Ahmed"})]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-xs opacity-70 mb-1",children:a?"":"Status"}),s.jsxs("select",{value:m.status,onChange:ue=>g("status",ue.target.value),className:"px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] text-sm w-full",children:[s.jsx("option",{value:"",children:a?"":"Select"}),s.jsx("option",{children:"PENDING"}),s.jsx("option",{children:"ACCEPTING"}),s.jsx("option",{children:"FINISHED"}),s.jsx("option",{children:"CANCELLED"})]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-xs opacity-70 mb-1",children:a?"":"Priority"}),s.jsxs("select",{value:m.priority,onChange:ue=>g("priority",ue.target.value),className:"px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] text-sm w-full",children:[s.jsx("option",{value:"",children:a?"":"Select"}),s.jsx("option",{value:"high",children:"High"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"low",children:"Low"})]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-xs opacity-70 mb-1",children:a?" ":"Related Module"}),s.jsxs("select",{value:m.relatedType,onChange:ue=>g("relatedType",ue.target.value),className:"px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] text-sm w-full",children:[s.jsx("option",{value:"",children:a?"":"Select"}),s.jsx("option",{children:"Lead"}),s.jsx("option",{children:"Deal"}),s.jsx("option",{children:"Contact"}),s.jsx("option",{children:"Opportunity"}),s.jsx("option",{children:"Ticket"}),s.jsx("option",{children:"Project"})]})]})]}),s.jsxs("div",{className:"mt-4 flex justify-end",children:[s.jsxs("label",{className:"text-xs opacity-70 flex items-center gap-2",children:[a?" ":"Sort By",s.jsxs("select",{className:"px-2 py-1 rounded-md border bg-transparent text-sm",children:[s.jsx("option",{children:a?"":"Newest"}),s.jsx("option",{children:a?" ":"Due Soon"}),s.jsx("option",{children:a?"":"Priority"})]})]}),s.jsxs("label",{className:"text-xs opacity-70 flex items-center gap-2 ml-4",children:[s.jsx("input",{type:"checkbox",checked:m.overdueOnly,onChange:()=>g("overdueOnly",!m.overdueOnly)}),a?" ":"Overdue only"]})]})]}),s.jsx("div",{className:"w-full h-6"}),s.jsxs("div",{className:"mb-3 flex items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx(y2,{label:a?" ":"PENDING",tone:"yellow",active:!!d.status.PENDING,count:F.PENDING,onClick:()=>j("status","PENDING")}),s.jsx(y2,{label:a?"":"ACCEPTING",tone:"blue",active:!!d.status.ACCEPTING,count:F.ACCEPTING,onClick:()=>j("status","ACCEPTING")}),s.jsx(y2,{label:a?"":"FINISHED",tone:"green",active:!!d.status.FINISHED,count:F.FINISHED,onClick:()=>j("status","FINISHED")}),s.jsx(y2,{label:a?"":"CANCELLED",tone:"red",active:!!d.status.CANCELLED,count:F.CANCELLED,onClick:()=>j("status","CANCELLED")})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{type:"button",onClick:I,className:"px-2 py-1 sm:px-3 sm:py-1.5 rounded-md border text-xs sm:text-sm bg-[var(--dropdown-bg)]",children:a?" ":"Clear Data"})})]}),s.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[s.jsx("div",{className:"text-xs opacity-70",children:a?`: ${X}`:`Selected: ${X}`}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{type:"button",onClick:te,className:"px-2 py-1 sm:px-3 sm:py-1.5 rounded-md border text-xs sm:text-sm bg-[var(--dropdown-bg)]",children:a?" ":"Delete Selected"}),s.jsx("label",{className:"text-xs opacity-70",children:a?"  ":"Reassign to"}),s.jsxs("select",{value:re,onChange:ue=>oe(ue.target.value),className:"px-2 py-1 rounded-md border bg-[var(--dropdown-bg)] text-xs sm:text-sm",children:[s.jsx("option",{value:"",children:a?"":"Select"}),s.jsx("option",{children:"Ibrahim"}),s.jsx("option",{children:"Admin"}),s.jsx("option",{children:"Ahmed"})]}),s.jsx("button",{type:"button",onClick:ce,className:"px-2 py-1 sm:px-3 sm:py-1.5 rounded-md border text-xs sm:text-sm bg-[var(--dropdown-bg)]",children:a?"":"Apply"})]})]}),s.jsxs("div",{className:"mt-2 rounded-xl border overflow-hidden md:hidden",children:[s.jsx("div",{className:"px-4 py-3 bg-[var(--table-header-bg)] border-b",children:s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:q,onChange:W}),a?" ":"Select all"]})}),J.length===0?s.jsx("div",{className:"px-4 py-6 text-center text-sm opacity-70",children:a?"   ":"No tasks right now"}):J.map(ue=>s.jsxs("div",{className:"px-4 py-3 border-b hover:bg-[var(--table-row-hover)] cursor-pointer",onClick:()=>Ie(ue),children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[s.jsx("input",{type:"checkbox",checked:!!Q[ue.id],onClick:Z=>Z.stopPropagation(),onChange:Z=>{Z.stopPropagation(),le(ue.id)}}),s.jsx("div",{className:"font-medium truncate",children:ue.name})]}),s.jsx("div",{className:"shrink-0",children:(()=>{const Z=ue.status,Se=Z==="PENDING"?"yellow":Z==="ACCEPTING"?"blue":Z==="FINISHED"?"green":Z==="CANCELLED"?"red":"yellow",Ne=a?Z==="PENDING"?" ":Z==="ACCEPTING"?"":Z==="FINISHED"?"":Z==="CANCELLED"?"":Z:Z;return s.jsx(w2,{label:Ne,tone:Se})})()})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"opacity-70",children:a?" ":"Created By"}),s.jsx("div",{className:"truncate",children:ue.createdBy})]}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"opacity-70",children:a?" ":"Due"}),s.jsx("div",{className:"truncate",children:ue.due})]}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"opacity-70",children:a?" ":"Assigned To"}),s.jsx("div",{className:"truncate",children:ue.assignee})]}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"opacity-70",children:a?"":"Priority"}),s.jsx("div",{children:(()=>{const Z=ue.priority==="high"?"red":ue.priority==="medium"?"yellow":"green",Se=ue.priority==="high"?a?"":"High":ue.priority==="medium"?a?"":"Medium":a?"":"Low";return s.jsx(w2,{label:Se,tone:Z})})()})]})]}),s.jsx("div",{className:"pt-2 mt-2 border-t border-[var(--divider)]",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{type:"button",onClick:Z=>{Z.stopPropagation(),E(ue.id)},className:"px-2 py-1 rounded-md border text-xs bg-[var(--dropdown-bg)]",title:a?" ":"Start Task",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:s.jsx("path",{d:"M8 5v14l11-7z"})})}),s.jsx("button",{type:"button",onClick:Z=>{Z.stopPropagation(),D(ue.id)},className:"px-2 py-1 rounded-md border text-xs bg-[var(--dropdown-bg)]",title:a?" ":"Finish Task",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:s.jsx("path",{d:"M20 6L9 17l-5-5"})})}),s.jsx("button",{type:"button",onClick:Z=>{Z.stopPropagation(),R(ue.id)},className:"px-2 py-1 rounded-md border text-xs",title:a?" ":"Cancel Task",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:s.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]})})]},ue.id))]}),s.jsx("div",{className:"mt-2 rounded-xl border hidden md:block overflow-x-auto",children:s.jsxs("table",{className:"w-full text-xs sm:text-sm min-w-[900px] lg:min-w-[1000px]",children:[s.jsx("thead",{className:"bg-[var(--table-header-bg)]",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-2 sm:px-4 py-2 sm:py-3 text-left",children:s.jsx("input",{type:"checkbox",checked:q,onChange:W})}),s.jsx("th",{className:"px-2 sm:px-4 py-2 sm:py-3 text-left",children:a?"":"Task"}),s.jsx("th",{className:"px-2 sm:px-4 py-2 sm:py-3 text-left border-l border-[var(--divider)]",children:a?" ":"Created By"}),s.jsx("th",{className:"px-2 sm:px-4 py-2 sm:py-3 text-left border-l border-[var(--divider)]",children:a?"":"Status"}),s.jsx("th",{className:"px-2 sm:px-4 py-2 sm:py-3 text-left border-l border-[var(--divider)]",children:a?" ":"Due"}),s.jsx("th",{className:"px-2 sm:px-4 py-2 sm:py-3 text-left border-l border-[var(--divider)]",children:a?" ":"Assigned To"}),s.jsx("th",{className:"px-2 sm:px-4 py-2 sm:py-3 text-left border-l border-[var(--divider)]",children:a?"":"Priority"}),s.jsx("th",{className:"px-2 sm:px-4 py-2 sm:py-3 text-left border-l border-[var(--divider)]",children:a?"":"Actions"})]})}),s.jsx("tbody",{className:"bg-[var(--content-bg)]",children:J.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"8",className:"px-2 sm:px-4 py-6 text-center opacity-70",children:a?"   ":"No tasks right now"})}):J.map(ue=>s.jsxs("tr",{className:"hover:bg-[var(--table-row-hover)] cursor-pointer",onClick:()=>Ie(ue),children:[s.jsx("td",{className:"px-2 sm:px-4 py-2 sm:py-3",children:s.jsx("input",{type:"checkbox",checked:!!Q[ue.id],onClick:Z=>Z.stopPropagation(),onChange:Z=>{Z.stopPropagation(),le(ue.id)}})}),s.jsx("td",{className:"px-2 sm:px-4 py-2 sm:py-3",children:s.jsx("div",{className:"font-medium",children:ue.name})}),s.jsx("td",{className:"px-2 sm:px-4 py-2 sm:py-3 border-l border-[var(--divider)]",children:ue.createdBy}),s.jsx("td",{className:"px-2 sm:px-4 py-2 sm:py-3 border-l border-[var(--divider)]",children:s.jsx("div",{className:"flex items-center gap-1",children:(()=>{const Z=ue.status,Se=Z==="PENDING"?"yellow":Z==="ACCEPTING"?"blue":Z==="FINISHED"?"green":Z==="CANCELLED"?"red":"yellow",Ne=a?Z==="PENDING"?" ":Z==="ACCEPTING"?"":Z==="FINISHED"?"":Z==="CANCELLED"?"":Z:Z;return s.jsx(w2,{label:Ne,tone:Se})})()})}),s.jsx("td",{className:"px-2 sm:px-4 py-2 sm:py-3 border-l border-[var(--divider)]",children:ue.due}),s.jsx("td",{className:"px-2 sm:px-4 py-2 sm:py-3 border-l border-[var(--divider)]",children:ue.assignee}),s.jsx("td",{className:"px-2 sm:px-4 py-2 sm:py-3 border-l border-[var(--divider)]",children:(()=>{const Z=ue.priority==="high"?"red":ue.priority==="medium"?"yellow":"green",Se=ue.priority==="high"?a?"":"High":ue.priority==="medium"?a?"":"Medium":a?"":"Low";return s.jsx(w2,{label:Se,tone:Z})})()}),s.jsx("td",{className:"px-2 sm:px-4 py-2 sm:py-3 border-l border-[var(--divider)]",children:s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("button",{type:"button",onClick:Z=>{Z.stopPropagation(),E(ue.id)},className:"px-2 py-1 rounded-md border text-xs bg-[var(--dropdown-bg)]",title:a?" ":"Start Task",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:s.jsx("path",{d:"M8 5v14l11-7z"})})}),s.jsx("button",{type:"button",onClick:Z=>{Z.stopPropagation(),D(ue.id)},className:"px-2 py-1 rounded-md border text-xs bg-[var(--dropdown-bg)]",title:a?" ":"Finish Task",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:s.jsx("path",{d:"M20 6L9 17l-5-5"})})}),s.jsx("button",{type:"button",onClick:Z=>{Z.stopPropagation(),R(ue.id)},className:"px-2 py-1 rounded-md border text-xs",title:a?" ":"Cancel Task",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:s.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]})})]},ue.id))})]})}),s.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm opacity-70",children:a?"":"Show"}),s.jsxs("select",{value:K,onChange:ue=>V(Number(ue.target.value)),className:"px-2 py-1 rounded-md border bg-[var(--dropdown-bg)] text-sm",children:[s.jsx("option",{value:10,children:"10"}),s.jsx("option",{value:20,children:"20"}),s.jsx("option",{value:40,children:"40"}),s.jsx("option",{value:50,children:"50"}),s.jsx("option",{value:100,children:"100"})]})]}),s.jsx("div",{className:"text-sm opacity-70",children:a?` ${P.length}`:`of ${P.length}`})]}),s.jsx(EAe,{isOpen:G,onClose:()=>ie(!1),onSave:ue=>{M(ue),ie(!1)}}),s.jsx(TAe,{isOpen:!!ye,onClose:pe,task:ye})]})}function PAe(){const{t:e,i18n:t}=St(),a=t.language==="ar",[r,n]=y.useState(""),[i,l]=y.useState(""),[o,c]=y.useState("opportunities"),[d,u]=y.useState(1),f=10,[p,m]=y.useState("all"),[v,g]=y.useState("all"),[b,j]=y.useState("all"),[k,S]=y.useState("all"),[N,A]=y.useState("all"),[_,E]=y.useState("all"),[D,R]=y.useState("all"),[I,M]=y.useState("all"),[U,P]=y.useState("all"),[F,K]=y.useState(""),[V,J]=y.useState("all"),[Q,z]=y.useState("all"),X=[{id:1,name:"Opportunity A",customer:"Ahmed Ali",owner:"Sara Mohamed",value:12e3,status:"open",createdAt:"2025-10-01"},{id:2,name:"Opportunity B",customer:"Omar Hassan",owner:"Khaled Ibrahim",value:8e3,status:"open",createdAt:"2025-10-05"},{id:3,name:"Opportunity C",customer:"Layla Mohamed",owner:"Fatima Ali",value:15e3,status:"closed",createdAt:"2025-09-12"},{id:4,name:"Opportunity D",customer:"Yousef Nader",owner:"Nadia Fahd",value:9500,status:"missed",createdAt:"2025-10-07"},{id:5,name:"Opportunity E",customer:"Reem Saleh",owner:"Ahmed Ali",value:22e3,status:"open",createdAt:"2025-08-21"}],le=[{id:1,lead:"Hassan Ali",project:"Project X",date:"2025-09-30",status:"interested"},{id:2,lead:"Mona Saleh",project:"Project Y",date:"2025-10-02",status:"interested"}],O=[{id:1,lead:"Ola Sami",unit:"APT-12B",date:"2025-10-01",status:"confirmed"},{id:2,lead:"Karim Mostafa",unit:"APT-09A",date:"2025-10-06",status:"cancelled"}],q=[{id:1,customer:"Ahmed Ali",amount:45e3,date:"2025-10-05",status:"won"},{id:2,customer:"Sara Mohamed",amount:27e3,date:"2025-09-22",status:"lost"},{id:3,customer:"Omar Hassan",amount:18e3,date:"2025-10-04",status:"won"}],W=[{id:1,reason:a?" ":"High Price",count:6},{id:2,reason:a?" ":"Not Interested",count:4},{id:3,reason:a?" ":"Decision Delayed",count:3}],te=new Date,re=`${te.getFullYear()}-${String(te.getMonth()+1).padStart(2,"0")}`,oe=X.filter(Ae=>(Ae.createdAt||"").startsWith(re)).length,ce=X.filter(Ae=>Ae.status==="open").length,G=X.filter(Ae=>Ae.status==="missed").length,ie=X.filter(Ae=>Ae.status==="closed").length+q.filter(Ae=>Ae.status==="won"&&Ae.date.startsWith(re)).length,ye=q.filter(Ae=>Ae.status==="won"&&Ae.date.startsWith(re)).length,se=Math.max(ce-ie,0),Ie=[{key:"opportunities",label:e("Opportunities","Opportunities"),icon:woe},{key:"cils",label:e("Cils","Cils"),icon:Soe},{key:"eoi",label:e("EOI","EOI"),icon:Moe},{key:"reservation",label:e("Reservation","Reservation"),icon:koe},{key:"deals",label:e("Deals","Deals"),icon:xz},{key:"cancel_reasons",label:e("Cancel Reasons","Cancel Reasons"),icon:Ioe}],pe=y.useMemo(()=>{switch(o){case"opportunities":return"#2563eb";case"cils":return"#10b981";case"eoi":return"#f59e0b";case"reservation":return"#8b5cf6";case"deals":return"#14b8a6";case"cancel_reasons":return"#ef4444";default:return"#9ca3af"}},[o]),ae=y.useRef(null),ge=y.useRef({}),[Re,ue]=y.useState({left:0,width:0});y.useEffect(()=>{const Ae=()=>{const Tt=ge.current[o],We=ae.current;if(!Tt||!We)return;const Ot=Tt.getBoundingClientRect(),Rt=We.getBoundingClientRect();ue({left:Ot.left-Rt.left,width:Ot.width})};return Ae(),window.addEventListener("resize",Ae),()=>window.removeEventListener("resize",Ae)},[o]);const Z=Ae=>!r&&!i?Ae:Ae.filter(Tt=>{const We=Tt.date||Tt.createdAt||"";return!(!We||r&&We<r||i&&We>i)}),[Se,Ne]=y.useState(()=>{try{const Ae=localStorage.getItem("sales_cils");if(Ae)return JSON.parse(Ae)}catch{}return[{id:1,client:"Ahmed Ali",phone:"0100000000",email:"ahmed@example.com",project:"Project X",developer:"DevCo",agent:"Sara Mohamed",date:"2025-10-09"},{id:2,client:"Fatima Ali",phone:"0111111111",email:"fatima@example.com",project:"Project Y",developer:"Alpha Dev",agent:"Khaled Ibrahim",date:"2025-10-08"}]});y.useEffect(()=>{try{localStorage.setItem("sales_cils",JSON.stringify(Se))}catch{}},[Se]);const Ye=y.useMemo(()=>{switch(o){case"opportunities":{let Ae=Z(X);return p!=="all"&&(Ae=Ae.filter(Tt=>Tt.status===p)),v!=="all"&&(Ae=Ae.filter(Tt=>Tt.owner===v)),Ae}case"cils":{let Ae=Z(Se);return b!=="all"&&(Ae=Ae.filter(Tt=>Tt.project===b)),k!=="all"&&(Ae=Ae.filter(Tt=>Tt.developer===k)),N!=="all"&&(Ae=Ae.filter(Tt=>Tt.agent===N)),Ae}case"eoi":{let Ae=Z(le);return _!=="all"&&(Ae=Ae.filter(Tt=>Tt.status===_)),D!=="all"&&(Ae=Ae.filter(Tt=>Tt.project===D)),Ae}case"reservation":{let Ae=Z(O);return I!=="all"&&(Ae=Ae.filter(Tt=>Tt.status===I)),Ae}case"deals":{let Ae=Z(q);return U!=="all"&&(Ae=Ae.filter(Tt=>Tt.status===U)),Ae}case"cancel_reasons":{let Ae=W;if(F){const Tt=F.toLowerCase();Ae=Ae.filter(We=>String(We.reason).toLowerCase().includes(Tt))}return Ae}default:return[]}},[o,r,i,p,v,b,k,N,_,D,I,U,F]),gt=Math.max(1,Math.ceil(Ye.length/f)),qt=Ye.slice((d-1)*f,d*f),at=()=>{u(1)},$t=Ae=>{if(!Ae||!Ae.length)return"";const Tt=Object.keys(Ae[0]),We=Tt.join(","),Ot=Ae.map(Rt=>Tt.map(na=>JSON.stringify(Rt[na]??"")).join(","));return[We,...Ot].join(`
`)},ze=(Ae,Tt)=>{const We=new Blob([Tt],{type:"text/csv;charset=utf-8;"}),Ot=URL.createObjectURL(We),Rt=document.createElement("a");Rt.href=Ot,Rt.download=Ae,Rt.click(),URL.revokeObjectURL(Ot)},Ke=()=>{const Ae=[{metric:e("Opened This Month","Opened This Month"),value:oe},{metric:e("Closed This Month","Closed This Month"),value:ye},{metric:e("Open Chances","Open Chances"),value:ce},{metric:e("Missed Chances","Missed Chances"),value:G},{metric:e("Remaining","Remaining"),value:se},{metric:e("Closed Chances","Closed Chances"),value:ie}];ze("sales_report_summary.csv",$t(Ae))},Ze=y.useMemo(()=>{const Ae=Ye;switch(o){case"opportunities":return[{label:e("Opened This Month","Opened This Month"),value:oe,color:"bg-blue-500"},{label:e("Closed This Month","Closed This Month"),value:ye,color:"bg-green-500"},{label:e("Open Chances","Open Chances"),value:ce,color:"bg-indigo-500"},{label:e("Missed Chances","Missed Chances"),value:G,color:"bg-red-500"},{label:e("Remaining","Remaining"),value:se,color:"bg-amber-500"},{label:e("Closed Chances","Closed Chances"),value:ie,color:"bg-teal-500"}];case"cils":{const Tt=Ae.length,We=Ae.filter(pt=>(pt.date||"").startsWith(re)).length,Ot=new Set(Ae.map(pt=>pt.project)).size,Rt=new Set(Ae.map(pt=>pt.developer)).size,na=new Set(Ae.map(pt=>pt.agent)).size;return[{label:e("Total CILs","Total CILs"),value:Tt,color:"bg-blue-500"},{label:e("This Month","This Month"),value:We,color:"bg-amber-600"},{label:e("Projects","Projects"),value:Ot,color:"bg-violet-600"},{label:e("Developers","Developers"),value:Rt,color:"bg-indigo-600"},{label:e("Agents","Agents"),value:na,color:"bg-emerald-600"}]}case"eoi":{const Tt=Ae.length,We=Ae.filter(na=>na.status==="interested").length,Ot=new Set(Ae.map(na=>na.project)).size,Rt=Ae.filter(na=>(na.date||"").startsWith(re)).length;return[{label:e("Total EOI","Total EOI"),value:Tt,color:"bg-orange-500"},{label:e("Interested","Interested"),value:We,color:"bg-emerald-600"},{label:e("Projects","Projects"),value:Ot,color:"bg-violet-600"},{label:e("This Month","This Month"),value:Rt,color:"bg-amber-600"}]}case"reservation":{const Tt=Ae.length,We=Ae.filter(na=>na.status==="confirmed").length,Ot=Ae.filter(na=>na.status==="cancelled").length,Rt=Ae.filter(na=>(na.date||"").startsWith(re)).length;return[{label:e("Total Reservations","Total Reservations"),value:Tt,color:"bg-purple-500"},{label:e("Confirmed","Confirmed"),value:We,color:"bg-emerald-600"},{label:e("Cancelled","Cancelled"),value:Ot,color:"bg-red-600"},{label:e("This Month","This Month"),value:Rt,color:"bg-amber-600"}]}case"deals":{const Tt=Ae.length,We=Ae.filter(na=>na.status==="won").length,Ot=Ae.filter(na=>na.status==="lost").length,Rt=Ae.filter(na=>na.status==="won"&&(na.date||"").startsWith(re)).length;return[{label:e("Total Deals","Total Deals"),value:Tt,color:"bg-teal-500"},{label:e("Won","Won"),value:We,color:"bg-emerald-600"},{label:e("Lost","Lost"),value:Ot,color:"bg-red-600"},{label:e("Won This Month","Won This Month"),value:Rt,color:"bg-blue-600"}]}case"cancel_reasons":{const Tt=Ae.reduce((Rt,na)=>Rt+(na.count||0),0),We=Ae.length?Math.max(...Ae.map(Rt=>Rt.count||0)):0,Ot=Ae.length;return[{label:e("Total Cancellations","Total Cancellations"),value:Tt,color:"bg-red-600"},{label:e("Top Reason Count","Top Reason Count"),value:We,color:"bg-pink-600"},{label:e("Unique Reasons","Unique Reasons"),value:Ot,color:"bg-gray-600"}]}default:return[]}},[o,Ye]),ht=()=>{ze(`sales_${o}_list.csv`,$t(Ye))},At=new Date().toISOString().slice(0,10),[Mt,Pt]=y.useState({client:"",phone:"",email:"",project:"",developer:"",agent:"",date:At}),Gt=()=>{const{client:Ae,project:Tt,agent:We}=Mt;if(!Ae||!Tt||!We){alert(t.language==="ar"?"    :   ":"Please fill required fields: client, project, agent");return}const Ot=Date.now();Ne(Rt=>[{id:Ot,...Mt},...Rt]),Pt({client:"",phone:"",email:"",project:"",developer:"",agent:"",date:At})};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:e("Sales Report")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:Ke,className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border btn-glass",children:e("Export Report")}),s.jsx("button",{onClick:ht,className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border btn-glass",children:e("Export Data")})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"card glass-card p-4",children:s.jsxs("div",{className:"flex flex-wrap items-end gap-3",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("From")}),s.jsx("input",{type:"date",value:r,onChange:Ae=>n(Ae.target.value),className:"input",placeholder:e("Date Input Placeholder")})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("To")}),s.jsx("input",{type:"date",value:i,onChange:Ae=>l(Ae.target.value),className:"input",placeholder:e("Date Input Placeholder")})]}),o==="opportunities"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Status")}),s.jsxs("select",{value:p,onChange:Ae=>m(Ae.target.value),className:"input",children:[s.jsx("option",{value:"all",children:e("All","All")}),s.jsx("option",{value:"open",children:e("Open","Open")}),s.jsx("option",{value:"missed",children:e("Missed","Missed")}),s.jsx("option",{value:"closed",children:e("Closed","Closed")})]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Owner")}),s.jsxs("select",{value:v,onChange:Ae=>g(Ae.target.value),className:"input",children:[s.jsx("option",{value:"all",children:e("All","All")}),[...new Set(X.map(Ae=>Ae.owner))].map(Ae=>s.jsx("option",{value:Ae,children:Ae},Ae))]})]})]}),o==="cils"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:"Project"}),s.jsxs("select",{value:b,onChange:Ae=>j(Ae.target.value),className:"input",children:[s.jsx("option",{value:"all",children:e("All","All")}),[...new Set(Se.map(Ae=>Ae.project))].map(Ae=>s.jsx("option",{value:Ae,children:Ae},Ae))]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Developer","Developer")}),s.jsxs("select",{value:k,onChange:Ae=>S(Ae.target.value),className:"input",children:[s.jsx("option",{value:"all",children:e("All","All")}),[...new Set(Se.map(Ae=>Ae.developer))].map(Ae=>s.jsx("option",{value:Ae,children:Ae},Ae))]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Agent","Agent")}),s.jsxs("select",{value:N,onChange:Ae=>A(Ae.target.value),className:"input",children:[s.jsx("option",{value:"all",children:e("All","All")}),[...new Set(Se.map(Ae=>Ae.agent))].map(Ae=>s.jsx("option",{value:Ae,children:Ae},Ae))]})]})]}),o==="eoi"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Status")}),s.jsxs("select",{value:_,onChange:Ae=>E(Ae.target.value),className:"input",children:[s.jsx("option",{value:"all",children:e("All","All")}),s.jsx("option",{value:"interested",children:e("Interested","Interested")})]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:"Project"}),s.jsxs("select",{value:D,onChange:Ae=>R(Ae.target.value),className:"input",children:[s.jsx("option",{value:"all",children:e("All","All")}),[...new Set(le.map(Ae=>Ae.project))].map(Ae=>s.jsx("option",{value:Ae,children:Ae},Ae))]})]})]}),o==="reservation"&&s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Status")}),s.jsxs("select",{value:I,onChange:Ae=>M(Ae.target.value),className:"input",children:[s.jsx("option",{value:"all",children:e("All","All")}),s.jsx("option",{value:"confirmed",children:e("Confirmed","Confirmed")}),s.jsx("option",{value:"cancelled",children:e("Cancelled","Cancelled")})]})]}),o==="deals"&&s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Status")}),s.jsxs("select",{value:U,onChange:Ae=>P(Ae.target.value),className:"input",children:[s.jsx("option",{value:"all",children:e("All","All")}),s.jsx("option",{value:"won",children:e("Won","Won")}),s.jsx("option",{value:"lost",children:e("Lost","Lost")})]})]}),o==="cancel_reasons"&&s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Reason")}),s.jsx("input",{type:"text",value:F,onChange:Ae=>K(Ae.target.value),className:"input",placeholder:e("Search","Search")})]}),s.jsx("button",{onClick:at,className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border btn-glass",children:e("Apply Filters")}),s.jsx("button",{onClick:()=>{n(""),l(""),u(1)},className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border btn-glass",children:e("Reset")})]})}),s.jsx("div",{className:"card glass-card p-3",children:s.jsxs("div",{ref:ae,className:"relative flex flex-wrap gap-4",children:[Ie.map(Ae=>{const Tt=Ae.icon;return s.jsxs("button",{ref:We=>{ge.current[Ae.key]=We},onClick:()=>{c(Ae.key),u(1)},className:`inline-flex items-center gap-2 px-4 py-2 rounded-md border text-sm ${o===Ae.key?"bg-blue-600 text-white border-blue-600":"btn-glass"}`,children:[Tt&&s.jsx(Tt,{className:"w-4 h-4"}),Ae.label]},Ae.key)}),s.jsx("div",{className:"absolute bottom-0 h-1 rounded transition-all",style:{left:Re.left,width:Re.width,background:pe}})]})}),Ze.length>0&&s.jsx("section",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mt-4",children:Ze.map((Ae,Tt)=>s.jsxs("div",{className:"card glass-card p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-[var(--muted-text)]",children:Ae.label}),s.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${Ae.color}`})]}),s.jsx("div",{className:"mt-2 text-2xl font-semibold",children:Ae.value})]},Tt))}),o==="cils"&&s.jsxs("div",{className:"card glass-card p-4",children:[s.jsx("h3",{className:"text-sm font-medium mb-3",children:e("Add CIL","Add CIL")}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsx("input",{className:"input",placeholder:e("Client","Client"),value:Mt.client,onChange:Ae=>Pt({...Mt,client:Ae.target.value})}),s.jsx("input",{className:"input",placeholder:e("Phone","Phone"),value:Mt.phone,onChange:Ae=>Pt({...Mt,phone:Ae.target.value})}),s.jsx("input",{className:"input",placeholder:e("Email","Email"),value:Mt.email,onChange:Ae=>Pt({...Mt,email:Ae.target.value})}),s.jsx("input",{className:"input",placeholder:"Project",value:Mt.project,onChange:Ae=>Pt({...Mt,project:Ae.target.value})}),s.jsx("input",{className:"input",placeholder:e("Developer","Developer"),value:Mt.developer,onChange:Ae=>Pt({...Mt,developer:Ae.target.value})}),s.jsx("input",{className:"input",placeholder:e("Agent","Agent"),value:Mt.agent,onChange:Ae=>Pt({...Mt,agent:Ae.target.value})}),s.jsx("input",{type:"date",className:"input",value:Mt.date,onChange:Ae=>Pt({...Mt,date:Ae.target.value})})]}),s.jsx("div",{className:"mt-3",children:s.jsx("button",{onClick:Gt,className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border btn-glass",children:e("Add","Add")})})]}),s.jsxs("div",{className:"card glass-card p-0",children:[s.jsxs("div",{className:"px-4 py-3 bg-transparent border-b flex items-center justify-between",children:[s.jsx("h2",{className:"text-sm font-medium",children:e("Data List")}),s.jsxs("span",{className:"text-xs text-[var(--muted-text)]",children:[e("Show Entries")," ",qt.length]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"nova-table nova-table--glass w-full text-sm min-w-[700px]",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[o==="opportunities"&&s.jsxs(s.Fragment,{children:[s.jsx("th",{children:e("Customer")}),s.jsx("th",{children:e("Assigned")}),s.jsx("th",{children:e("Value")}),s.jsx("th",{children:e("Status")}),s.jsx("th",{children:e("Last Contact")})]}),o==="cils"&&s.jsxs(s.Fragment,{children:[s.jsx("th",{children:e("Client","Client")}),s.jsx("th",{children:e("Phone","Phone")}),s.jsx("th",{children:e("Email","Email")}),s.jsx("th",{children:"Project"}),s.jsx("th",{children:e("Developer","Developer")}),s.jsx("th",{children:e("Agent","Agent")}),s.jsx("th",{children:e("Date","Date")})]}),o==="eoi"&&s.jsxs(s.Fragment,{children:[s.jsx("th",{children:e("Lead")}),s.jsx("th",{children:"Project"}),s.jsx("th",{children:e("Date Range")}),s.jsx("th",{children:e("Status")})]}),o==="reservation"&&s.jsxs(s.Fragment,{children:[s.jsx("th",{children:e("Lead")}),s.jsx("th",{children:"Unit"}),s.jsx("th",{children:e("Date Range")}),s.jsx("th",{children:e("Status")})]}),o==="deals"&&s.jsxs(s.Fragment,{children:[s.jsx("th",{children:e("Customer")}),s.jsx("th",{children:e("Value")}),s.jsx("th",{children:e("Date Range")}),s.jsx("th",{children:e("Status")})]}),o==="cancel_reasons"&&s.jsxs(s.Fragment,{children:[s.jsx("th",{children:e("Reason","Reason")}),s.jsx("th",{children:e("Count","Count")})]})]})}),s.jsxs("tbody",{children:[qt.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-[var(--muted-text)]",children:e("No data")})}),o==="opportunities"&&qt.map(Ae=>s.jsxs("tr",{children:[s.jsx("td",{children:Ae.customer}),s.jsx("td",{children:Ae.owner}),s.jsx("td",{children:Ae.value}),s.jsx("td",{children:Ae.status}),s.jsx("td",{children:Ae.createdAt})]},Ae.id)),o==="cils"&&qt.map(Ae=>s.jsxs("tr",{children:[s.jsx("td",{children:Ae.client}),s.jsx("td",{children:Ae.phone}),s.jsx("td",{children:Ae.email}),s.jsx("td",{children:Ae.project}),s.jsx("td",{children:Ae.developer}),s.jsx("td",{children:Ae.agent}),s.jsx("td",{children:Ae.date})]},Ae.id)),o==="eoi"&&qt.map(Ae=>s.jsxs("tr",{children:[s.jsx("td",{children:Ae.lead}),s.jsx("td",{children:Ae.project}),s.jsx("td",{children:Ae.date}),s.jsx("td",{children:Ae.status})]},Ae.id)),o==="reservation"&&qt.map(Ae=>s.jsxs("tr",{children:[s.jsx("td",{children:Ae.lead}),s.jsx("td",{children:Ae.unit}),s.jsx("td",{children:Ae.date}),s.jsx("td",{children:Ae.status})]},Ae.id)),o==="deals"&&qt.map(Ae=>s.jsxs("tr",{children:[s.jsx("td",{children:Ae.customer}),s.jsx("td",{children:Ae.amount}),s.jsx("td",{children:Ae.date}),s.jsx("td",{children:Ae.status})]},Ae.id)),o==="cancel_reasons"&&qt.map(Ae=>s.jsxs("tr",{children:[s.jsx("td",{children:Ae.reason}),s.jsx("td",{children:Ae.count})]},Ae.id))]})]})}),s.jsxs("nav",{className:"flex items-center justify-between p-4","aria-label":"Table navigation",children:[s.jsxs("span",{className:"text-sm text-[var(--muted-text)]",children:[e("Show Entries")," ",(d-1)*f+1,"-",Math.min(d*f,Ye.length)," / ",Ye.length]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{disabled:d<=1,onClick:()=>u(Ae=>Math.max(1,Ae-1)),className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] hover:bg-[var(--table-row-hover)] disabled:opacity-50",children:e("Previous")}),s.jsx("button",{disabled:d>=gt,onClick:()=>u(Ae=>Math.min(gt,Ae+1)),className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] hover:bg-[var(--table-row-hover)] disabled:opacity-50",children:e("Next")})]})]})]})]})]})}const MAe=[{name:"Jan",revenue:4e3},{name:"Feb",revenue:3e3},{name:"Mar",revenue:5e3},{name:"Apr",revenue:4500},{name:"May",revenue:6e3},{name:"Jun",revenue:5500}],LAe=[{name:"Answered",value:400},{name:"Not Answered",value:300},{name:"Busy",value:200},{name:"Wrong Number",value:100}],OAe=[{rank:1,team:"Team Alpha",accounts:25,conversion:"15%"},{rank:2,team:"Team Beta",accounts:22,conversion:"12%"},{rank:3,team:"Team Gamma",accounts:20,conversion:"10%"},{rank:4,team:"Team Delta",accounts:18,conversion:"9%"},{rank:5,team:"Team Epsilon",accounts:15,conversion:"8%"}],RAe=80,FAe=({activeTab:e,setActiveTab:t})=>{const a=["Sales Actions","Sales Leads","Assigned Report"];return s.jsx("div",{className:"flex gap-2 border-b border-gray-800",children:a.map(r=>s.jsx("button",{className:`px-3 py-2 rounded-t-md border-b-2 transition-colors ${e===r?"bg-primary text-white border-primary":"bg-gray-100 dark:bg-gray-800 text-[var(--content-text)] border-transparent hover:border-gray-600"}`,onClick:()=>t(r),children:r},r))})},IAe={id:0,name:"-",role:"-",department:"-",email:"-",phone:"-",join_date:"-",status:"Active",performance_score:0,tasks_assigned:0,tasks_completed_pct:0,avg_response_time:"-",attendance_rate:0,last_evaluation_date:"-",projects:[],permissions:[],region:"-",modules:[],last_activity:"-",photo_url:""},sv=({active:e,onClick:t,children:a})=>s.jsx("button",{onClick:t,className:`px-3 py-2 text-sm rounded-t-lg transition-all duration-300 border-b-2 ${e?"border-blue-500 text-blue-600 font-medium bg-white/60 dark:bg-gray-800/60":"border-transparent text-gray-700 dark:text-gray-200 hover:text-blue-600"}`,children:a}),Bp=({label:e,value:t,icon:a})=>s.jsxs("div",{className:"p-3 rounded-lg border bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-[var(--muted-text)]",children:[a,e]}),s.jsx("div",{className:"mt-1 text-lg font-semibold",children:t})]}),C9=({active:e,children:t,onClick:a})=>s.jsx("button",{onClick:a,className:`px-2.5 py-1 rounded-full text-xs border ${e?"bg-emerald-100 text-emerald-700 border-emerald-200":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 border-gray-200 dark:border-gray-700"}`,children:t}),M0=({title:e,children:t,right:a})=>s.jsxs("div",{className:"glass-panel rounded-xl p-4 border border-white/20 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:e}),a]}),t]}),A9=e=>{const[t,a]=y.useState(!1),[r,n]=y.useState(!1);return y.useEffect(()=>{const i=e.current;if(!i)return;const l=()=>{a(i.scrollTop>0),n(i.scrollTop<i.scrollHeight-i.clientHeight)};return l(),i.addEventListener("scroll",l),()=>i.removeEventListener("scroll",l)},[e]),{showTop:t,showBottom:r}},BAe=({onClose:e,team:t,roster:a=[],onSearch:r})=>{const{t:n,i18n:i}=St(),[l,o]=y.useState("profile"),[c,d]=y.useState(""),[u,f]=y.useState(null),[p,m]=y.useState(IAe),[v,g]=y.useState(!1),[b,j]=y.useState(""),[k,S]=y.useState(!1),N=y.useRef(null),A=y.useRef(null),{showBottom:_}=A9(N),{showBottom:E}=A9(A),D=y.useMemo(()=>Array.isArray(a)&&a.length?a:[{id:1,name:"Ibrahim Mohamed",role:"Team Lead",department:"Sales",email:"ibrahim@example.com",phone:"+2010XXXXXXX",join_date:"2024-03-15",status:"Active",performance_score:89,tasks_assigned:120,tasks_completed_pct:86,avg_response_time:"1.8h",attendance_rate:92,last_evaluation_date:"2025-10-30",projects:[{name:"CRM System",start:"2025-05-01",status:"Ongoing",tasks:24},{name:"Portfolio Website",start:"2024-09-01",status:"Completed",tasks:12}],permissions:["CRM","Reports","Dashboard"],region:"Cairo",modules:["CRM","Projects","Reports"],last_activity:"2025-11-10 14:32",photo_url:""},{id:2,name:"Sara Hassan",role:"Sales Manager",department:"Sales",email:"sara@example.com",phone:"+2011XXXXXXX",join_date:"2023-08-01",status:"Active",performance_score:93,tasks_assigned:140,tasks_completed_pct:90,avg_response_time:"1.2h",attendance_rate:95,last_evaluation_date:"2025-10-10",projects:[{name:"Sales Ops Revamp",start:"2025-02-01",status:"Ongoing",tasks:30}],permissions:["CRM","Reports","Dashboard"],region:"Giza",modules:["CRM","Reports"],last_activity:"2025-11-10 12:05",photo_url:""}],[a]),R=y.useMemo(()=>{const P=c.trim().toLowerCase();return D.filter(F=>!P||F.name.toLowerCase().includes(P)||F.role.toLowerCase().includes(P)||F.department.toLowerCase().includes(P))},[D,c]);y.useEffect(()=>{t&&Array.isArray(t.members)&&t.members.length?(f(t.members[0]),m(t.members[0])):(f(D[0]),m(D[0]))},[t,D]),y.useEffect(()=>{if(!u)return;g(!0);const P=setTimeout(()=>{g(!1),j(i.language==="ar"?"  ":"Auto-saved"),setTimeout(()=>j(""),1500)},700);return()=>clearTimeout(P)},[p]);const I=(P,F)=>m(K=>({...K,[P]:F})),M=()=>{const P=[p],F=sa.json_to_sheet(P),K=sa.book_new();sa.book_append_sheet(K,F,"Member"),qr(K,`member_${p.id||"unknown"}.xlsx`)},U=()=>{const P=new ga("p","pt","a4");P.setFontSize(14),P.text("Team Member Profile",40,40);const F=[["Name",p.name],["Role",p.role],["Department",p.department],["Employee ID",String(p.id)],["Email",p.email],["Phone",p.phone],["Join Date",p.join_date],["Status",p.status],["Performance Score",String(p.performance_score)],["Last Activity",p.last_activity]];P.autoTable({head:[["Field","Value"]],body:F,startY:60}),P.save(`member_${p.id||"unknown"}.pdf`)};return!t&&!D.length?null:s.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-lg transition-opacity",onClick:e}),s.jsx("div",{className:"relative z-[1001] w-[90vw] max-w-[1400px] h-[80vh]",children:s.jsxs("div",{className:"glass-panel rounded-2xl p-6 w-full h-full flex flex-col overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h2",{className:"text-xl font-semibold",children:n("teamDetails.title")}),s.jsx("span",{className:"text-sm text-[var(--muted-text)]",children:t?.name||n("Team")}),v&&s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-amber-100 text-amber-700 border border-amber-200 text-xs",children:[s.jsx(hw,{}),n("Saving...")]}),b&&s.jsx("span",{className:"text-xs text-emerald-600",children:b})]}),s.jsxs("div",{className:"flex items-center gap-2 relative",children:[s.jsxs("button",{className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-blue-600 text-white",onClick:()=>S(P=>!P),children:[s.jsx(lh,{})," ",n("Export")]}),k&&s.jsxs("div",{className:"absolute right-0 top-full mt-2 w-40 rounded-lg border bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 shadow-lg p-2 z-10",children:[s.jsxs("button",{className:"w-full text-left px-3 py-2 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 inline-flex items-center gap-2",onClick:()=>{S(!1),M()},children:[s.jsx(lh,{})," ",n("Excel")]}),s.jsxs("button",{className:"w-full text-left px-3 py-2 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 inline-flex items-center gap-2",onClick:()=>{S(!1),U()},children:[s.jsx(_A,{})," ",n("PDF")]}),s.jsxs("button",{className:"w-full text-left px-3 py-2 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 inline-flex items-center gap-2",onClick:()=>{S(!1),window.print()},children:[s.jsx(Roe,{})," ",n("Print")]})]}),s.jsxs("button",{className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200",onClick:e,children:[s.jsx(Lc,{})," ",n("Close")]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 flex-1 overflow-hidden",children:[s.jsxs("div",{className:"lg:col-span-1 space-y-4 overflow-hidden",children:[s.jsx(M0,{title:n("teamDetails.roster"),right:s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("input",{className:"px-3 py-2 border rounded-lg text-sm w-40",placeholder:n("teamDetails.search"),value:c,onChange:P=>{d(P.target.value),r&&r(P.target.value)}})}),children:s.jsxs("div",{className:"relative space-y-2 max-h-[60vh] overflow-auto",ref:N,children:[R.map(P=>s.jsx("button",{onClick:()=>{f(P),m(P)},className:`w-full text-left p-3 rounded-lg border hover:shadow-sm ${u?.id===P.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center",children:s.jsx(Cc,{className:"text-gray-600 dark:text-gray-300"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium",children:P.name}),s.jsxs("div",{className:"text-xs text-[var(--muted-text)]",children:[P.role,"  ",P.department]})]}),s.jsx(gu,{className:"text-gray-400"})]})},P.id)),R.length===0&&s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:n("teamDetails.noMembers")}),s.jsx("div",{className:`pointer-events-none absolute bottom-0 left-0 right-0 h-6 bg-gradient-to-t from-black/20 to-transparent transition-opacity ${_?"opacity-100":"opacity-0"}`})]})}),s.jsx(M0,{title:n("teamDetails.managerialControls"),children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("button",{className:"w-full px-3 py-2 rounded-lg bg-emerald-600 text-white inline-flex items-center gap-2",title:n("teamDetails.assignNewTask"),children:[s.jsx(RP,{})," ",n("teamDetails.assignNewTask")]}),s.jsxs("button",{className:"w-full px-3 py-2 rounded-lg bg-blue-600 text-white inline-flex items-center gap-2",title:n("teamDetails.sendNote"),children:[s.jsx(Lf,{})," ",n("teamDetails.sendNote")]}),s.jsxs("button",{className:"w-full px-3 py-2 rounded-lg bg-amber-600 text-white inline-flex items-center gap-2",title:n("teamDetails.openPerformanceReview"),children:[s.jsx(eC,{})," ",n("teamDetails.openPerformanceReview")]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{className:"flex-1 px-3 py-2 rounded-lg bg-rose-600 text-white inline-flex items-center gap-2",title:n("teamDetails.suspend"),onClick:()=>{window.confirm(i.language==="ar"?"    ":"Suspend this member?")&&(I("status",i.language==="ar"?"":"Suspended"),j(i.language==="ar"?"  ":"Member suspended"),setTimeout(()=>j(""),1500))},children:[s.jsx(yoe,{})," ",n("teamDetails.suspend")]}),s.jsxs("button",{className:"flex-1 px-3 py-2 rounded-lg bg-indigo-600 text-white inline-flex items-center gap-2",title:n("teamDetails.reactivate"),onClick:()=>{window.confirm(i.language==="ar"?"     ":"Reactivate this member?")&&(I("status",i.language==="ar"?"":"Active"),j(i.language==="ar"?"  ":"Member reactivated"),setTimeout(()=>j(""),1500))},children:[s.jsx(IP,{})," ",n("teamDetails.reactivate")]})]})]})})]}),s.jsxs("div",{className:"lg:col-span-2 relative overflow-auto",ref:A,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(sv,{active:l==="profile",onClick:()=>o("profile"),children:n("teamDetails.tabs.profile")}),s.jsx(sv,{active:l==="performance",onClick:()=>o("performance"),children:n("teamDetails.tabs.performance")}),s.jsx(sv,{active:l==="projects",onClick:()=>o("projects"),children:n("teamDetails.tabs.projects")}),s.jsx(sv,{active:l==="permissions",onClick:()=>o("permissions"),children:n("teamDetails.tabs.permissions")}),s.jsx(sv,{active:l==="logs",onClick:()=>o("logs"),children:n("teamDetails.tabs.activity")})]}),l==="profile"&&s.jsx(M0,{title:n("teamDetails.basicInfo"),children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:n("teamDetails.fields.fullName")}),s.jsx("input",{className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:p.name,onChange:P=>I("name",P.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:n("teamDetails.fields.jobTitle")}),s.jsx("input",{className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:p.role,onChange:P=>I("role",P.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:n("teamDetails.fields.department")}),s.jsx("input",{className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:p.department,onChange:P=>I("department",P.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:n("teamDetails.fields.employeeId")}),s.jsx("input",{className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:p.id,onChange:P=>I("id",P.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:n("teamDetails.fields.email")}),s.jsx("input",{className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:p.email,onChange:P=>I("email",P.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:n("teamDetails.fields.phone")}),s.jsx("input",{className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:p.phone,onChange:P=>I("phone",P.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:n("teamDetails.fields.joinDate")}),s.jsx("input",{type:"date",className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:p.join_date,onChange:P=>I("join_date",P.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:n("teamDetails.fields.status")}),s.jsxs("select",{className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:p.status,onChange:P=>I("status",P.target.value),children:[s.jsx("option",{children:n("Active")}),s.jsx("option",{children:n("On Leave")}),s.jsx("option",{children:n("Inactive")})]})]})]})}),l==="performance"&&s.jsx(M0,{title:n("teamDetails.performanceMetrics"),children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[s.jsx(Bp,{label:n("teamDetails.metrics.totalTasks"),value:p.tasks_assigned,icon:s.jsx(RP,{})}),s.jsx(Bp,{label:n("teamDetails.metrics.tasksCompletionRate"),value:`${p.tasks_completed_pct}%`,icon:s.jsx(joe,{})}),s.jsx(Bp,{label:n("teamDetails.metrics.avgResponseTime"),value:p.avg_response_time,icon:s.jsx(hw,{})}),s.jsx(Bp,{label:n("teamDetails.metrics.attendanceRate"),value:`${p.attendance_rate}%`,icon:s.jsx(Loe,{})}),s.jsx(Bp,{label:n("teamDetails.metrics.performanceScore"),value:p.performance_score,icon:s.jsx(eC,{})}),s.jsx(Bp,{label:n("teamDetails.metrics.lastEvaluation"),value:p.last_evaluation_date,icon:s.jsx(gm,{})})]})}),l==="projects"&&s.jsx(M0,{title:n("teamDetails.projectsAndResponsibilities"),right:s.jsxs("button",{className:"btn btn-glass inline-flex items-center gap-2",children:[s.jsx(Lf,{})," ",n("Reset")]}),children:s.jsxs("div",{className:"space-y-2",children:[(p.projects||[]).map((P,F)=>s.jsxs("div",{className:"p-3 rounded-lg border bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:P.name}),s.jsxs("div",{className:"text-xs text-[var(--muted-text)]",children:[n("Started"),": ",P.start||"-","  ",n("Status"),": ",P.status]})]}),s.jsxs("div",{className:"text-sm text-[var(--muted-text)]",children:[n("Tasks"),": ",P.tasks||0]})]}),s.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[s.jsx("button",{className:"px-3 py-1 rounded-lg border text-xs",children:n("View Project")}),s.jsx("button",{className:"px-3 py-1 rounded-lg border text-xs",children:n("Reset")})]})]},F)),(!p.projects||p.projects.length===0)&&s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:n("teamDetails.noProjects")})]})}),l==="permissions"&&s.jsx(M0,{title:n("teamDetails.permissionsAndAccess"),children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:["Admin","Manager","Sales","Support","Viewer"].map(P=>s.jsx(C9,{active:p.role===P,onClick:()=>I("role",P),children:P},P))}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:n("teamDetails.regionBranch")}),s.jsx("input",{className:"w-full px-3 py-2 rounded-lg border",value:p.region||"",onChange:P=>I("region",P.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:n("teamDetails.availableModules")}),s.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:["CRM","Projects","Reports","Dashboard"].map(P=>s.jsx(C9,{active:(p.modules||[]).includes(P),onClick:()=>{const F=(p.modules||[]).includes(P);I("modules",F?(p.modules||[]).filter(K=>K!==P):[...p.modules||[],P])},children:P},P))})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{className:"px-3 py-2 rounded-lg bg-blue-600 text-white inline-flex items-center gap-2",children:[s.jsx(Ooe,{})," ",n("teamDetails.updateAccess")]}),s.jsxs("button",{className:"px-3 py-2 rounded-lg bg-rose-600 text-white inline-flex items-center gap-2",children:[s.jsx(IP,{})," ",n("teamDetails.restrictAccess")]})]})]})}),l==="logs"&&s.jsx(M0,{title:n("teamDetails.activityLog"),right:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{className:"px-2 py-1 border rounded-lg text-sm",placeholder:n("teamDetails.filterByDate"),type:"date"}),s.jsxs("select",{className:"px-2 py-1 border rounded-lg text-sm",children:[s.jsx("option",{children:n("All")}),s.jsx("option",{children:"CRM"}),s.jsx("option",{children:"Projects"}),s.jsx("option",{children:"Reports"})]})]}),children:s.jsx("div",{className:"space-y-2 max-h-[300px] overflow-auto",children:[{type:"lead",text:i.language==="ar"?"   ":n("activity.leadUpdated"),at:"2025-11-10 10:12"},{type:"deal",text:i.language==="ar"?"  ":n("activity.dealClosed"),at:"2025-11-09 16:44"},{type:"request",text:i.language==="ar"?"   ":n("activity.newRequestCreated"),at:"2025-11-08 09:25"}].map((P,F)=>s.jsxs("div",{className:"p-3 rounded-lg border bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:P.text}),s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:P.at})]}),s.jsx("span",{className:"text-xs text-[var(--muted-text)]",children:P.type})]},F))})}),s.jsx("div",{className:`pointer-events-none absolute bottom-0 left-0 right-0 h-6 bg-gradient-to-t from-black/20 to-transparent transition-opacity ${E?"opacity-100":"opacity-0"}`})]})]})]})})]})},rv=({icon:e,label:t,value:a,tone:r="default",tooltip:n})=>{const i=r==="success"?"text-green-400":r==="warning"?"text-amber-400":r==="info"?"text-blue-400":"text-[#f1f5f9]";return s.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220] hover:scale-105 transition",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm text-gray-400",title:n,children:t}),s.jsx("div",{className:"text-xl text-gray-300",children:e})]}),s.jsx("div",{className:`mt-2 text-2xl font-bold ${i}`,children:a})]})};function cK(e){var t,a,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(a=cK(e[t]))&&(r&&(r+=" "),r+=a)}else for(a in e)e[a]&&(r&&(r+=" "),r+=a);return r}function cr(){for(var e,t,a=0,r="",n=arguments.length;a<n;a++)(e=arguments[a])&&(t=cK(e))&&(r&&(r+=" "),r+=t);return r}var $Ae=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function h_(e){if(typeof e!="string")return!1;var t=$Ae;return t.includes(e)}var UAe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function dK(e){if(typeof e!="string")return!1;var t=UAe;return t.includes(e)}function uK(e){return typeof e=="string"&&e.startsWith("data-")}function Sd(e){var t=Object.entries(e).filter(a=>{var[r]=a;return dK(r)||uK(r)});return Object.fromEntries(t)}function hb(e){if(e==null)return null;if(y.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Sd(t)}return typeof e=="object"&&!Array.isArray(e)?Sd(e):null}function Wl(e){var t=Object.entries(e).filter(a=>{var[r]=a;return dK(r)||uK(r)||h_(r)});return Object.fromEntries(t)}function zAe(e){return e==null?null:y.isValidElement(e)?Wl(e.props):typeof e=="object"&&!Array.isArray(e)?Wl(e):null}var HAe=["children","width","height","viewBox","className","style","title","desc"];function o6(){return o6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},o6.apply(null,arguments)}function VAe(e,t){if(e==null)return{};var a,r,n=WAe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function WAe(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var hK=y.forwardRef((e,t)=>{var{children:a,width:r,height:n,viewBox:i,className:l,style:o,title:c,desc:d}=e,u=VAe(e,HAe),f=i||{width:r,height:n,x:0,y:0},p=cr("recharts-surface",l);return y.createElement("svg",o6({},Wl(u),{className:p,width:r,height:n,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),y.createElement("title",null,c),y.createElement("desc",null,d),a)}),qAe=["children","className"];function c6(){return c6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},c6.apply(null,arguments)}function GAe(e,t){if(e==null)return{};var a,r,n=KAe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function KAe(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var Cd=y.forwardRef((e,t)=>{var{children:a,className:r}=e,n=GAe(e,qAe),i=cr("recharts-layer",r);return y.createElement("g",c6({className:i},Wl(n),{ref:t}),a)}),YAe=y.createContext(null);function gr(e){return function(){return e}}const fK=Math.cos,Vw=Math.sin,Pd=Math.sqrt,Ww=Math.PI,yN=2*Ww,d6=Math.PI,u6=2*d6,I0=1e-6,XAe=u6-I0;function mK(e){this._+=e[0];for(let t=1,a=e.length;t<a;++t)this._+=arguments[t]+e[t]}function JAe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return mK;const a=10**t;return function(r){this._+=r[0];for(let n=1,i=r.length;n<i;++n)this._+=Math.round(arguments[n]*a)/a+r[n]}}class QAe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?mK:JAe(t)}moveTo(t,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+a}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,a){this._append`L${this._x1=+t},${this._y1=+a}`}quadraticCurveTo(t,a,r,n){this._append`Q${+t},${+a},${this._x1=+r},${this._y1=+n}`}bezierCurveTo(t,a,r,n,i,l){this._append`C${+t},${+a},${+r},${+n},${this._x1=+i},${this._y1=+l}`}arcTo(t,a,r,n,i){if(t=+t,a=+a,r=+r,n=+n,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,o=this._y1,c=r-t,d=n-a,u=l-t,f=o-a,p=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=a}`;else if(p>I0)if(!(Math.abs(f*c-d*u)>I0)||!i)this._append`L${this._x1=t},${this._y1=a}`;else{let m=r-l,v=n-o,g=c*c+d*d,b=m*m+v*v,j=Math.sqrt(g),k=Math.sqrt(p),S=i*Math.tan((d6-Math.acos((g+p-b)/(2*j*k)))/2),N=S/k,A=S/j;Math.abs(N-1)>I0&&this._append`L${t+N*u},${a+N*f}`,this._append`A${i},${i},0,0,${+(f*m>u*v)},${this._x1=t+A*c},${this._y1=a+A*d}`}}arc(t,a,r,n,i,l){if(t=+t,a=+a,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(n),c=r*Math.sin(n),d=t+o,u=a+c,f=1^l,p=l?n-i:i-n;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>I0||Math.abs(this._y1-u)>I0)&&this._append`L${d},${u}`,r&&(p<0&&(p=p%u6+u6),p>XAe?this._append`A${r},${r},0,1,${f},${t-o},${a-c}A${r},${r},0,1,${f},${this._x1=d},${this._y1=u}`:p>I0&&this._append`A${r},${r},0,${+(p>=d6)},${f},${this._x1=t+r*Math.cos(i)},${this._y1=a+r*Math.sin(i)}`)}rect(t,a,r,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+a}h${r=+r}v${+n}h${-r}Z`}toString(){return this._}}function f_(e){let t=3;return e.digits=function(a){if(!arguments.length)return t;if(a==null)t=null;else{const r=Math.floor(a);if(!(r>=0))throw new RangeError(`invalid digits: ${a}`);t=r}return e},()=>new QAe(t)}function m_(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function pK(e){this._context=e}pK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function wN(e){return new pK(e)}function xK(e){return e[0]}function gK(e){return e[1]}function vK(e,t){var a=gr(!0),r=null,n=wN,i=null,l=f_(o);e=typeof e=="function"?e:e===void 0?xK:gr(e),t=typeof t=="function"?t:t===void 0?gK:gr(t);function o(c){var d,u=(c=m_(c)).length,f,p=!1,m;for(r==null&&(i=n(m=l())),d=0;d<=u;++d)!(d<u&&a(f=c[d],d,c))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(f,d,c),+t(f,d,c));if(m)return i=null,m+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:gr(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:gr(+c),o):t},o.defined=function(c){return arguments.length?(a=typeof c=="function"?c:gr(!!c),o):a},o.curve=function(c){return arguments.length?(n=c,r!=null&&(i=n(r)),o):n},o.context=function(c){return arguments.length?(c==null?r=i=null:i=n(r=c),o):r},o}function j2(e,t,a){var r=null,n=gr(!0),i=null,l=wN,o=null,c=f_(d);e=typeof e=="function"?e:e===void 0?xK:gr(+e),t=typeof t=="function"?t:gr(t===void 0?0:+t),a=typeof a=="function"?a:a===void 0?gK:gr(+a);function d(f){var p,m,v,g=(f=m_(f)).length,b,j=!1,k,S=new Array(g),N=new Array(g);for(i==null&&(o=l(k=c())),p=0;p<=g;++p){if(!(p<g&&n(b=f[p],p,f))===j)if(j=!j)m=p,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),v=p-1;v>=m;--v)o.point(S[v],N[v]);o.lineEnd(),o.areaEnd()}j&&(S[p]=+e(b,p,f),N[p]=+t(b,p,f),o.point(r?+r(b,p,f):S[p],a?+a(b,p,f):N[p]))}if(k)return o=null,k+""||null}function u(){return vK().defined(n).curve(l).context(i)}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:gr(+f),r=null,d):e},d.x0=function(f){return arguments.length?(e=typeof f=="function"?f:gr(+f),d):e},d.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:gr(+f),d):r},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:gr(+f),a=null,d):t},d.y0=function(f){return arguments.length?(t=typeof f=="function"?f:gr(+f),d):t},d.y1=function(f){return arguments.length?(a=f==null?null:typeof f=="function"?f:gr(+f),d):a},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(a)},d.lineX1=function(){return u().x(r).y(t)},d.defined=function(f){return arguments.length?(n=typeof f=="function"?f:gr(!!f),d):n},d.curve=function(f){return arguments.length?(l=f,i!=null&&(o=l(i)),d):l},d.context=function(f){return arguments.length?(f==null?i=o=null:o=l(i=f),d):i},d}class bK{constructor(t,a){this._context=t,this._x=a}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,a){switch(t=+t,a=+a,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,a):this._context.moveTo(t,a);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,a,t,a):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+a)/2,t,this._y0,t,a);break}}this._x0=t,this._y0=a}}function ZAe(e){return new bK(e,!0)}function e8e(e){return new bK(e,!1)}const p_={draw(e,t){const a=Pd(t/Ww);e.moveTo(a,0),e.arc(0,0,a,0,yN)}},t8e={draw(e,t){const a=Pd(t/5)/2;e.moveTo(-3*a,-a),e.lineTo(-a,-a),e.lineTo(-a,-3*a),e.lineTo(a,-3*a),e.lineTo(a,-a),e.lineTo(3*a,-a),e.lineTo(3*a,a),e.lineTo(a,a),e.lineTo(a,3*a),e.lineTo(-a,3*a),e.lineTo(-a,a),e.lineTo(-3*a,a),e.closePath()}},yK=Pd(1/3),a8e=yK*2,s8e={draw(e,t){const a=Pd(t/a8e),r=a*yK;e.moveTo(0,-a),e.lineTo(r,0),e.lineTo(0,a),e.lineTo(-r,0),e.closePath()}},r8e={draw(e,t){const a=Pd(t),r=-a/2;e.rect(r,r,a,a)}},n8e=.8908130915292852,wK=Vw(Ww/10)/Vw(7*Ww/10),i8e=Vw(yN/10)*wK,l8e=-fK(yN/10)*wK,o8e={draw(e,t){const a=Pd(t*n8e),r=i8e*a,n=l8e*a;e.moveTo(0,-a),e.lineTo(r,n);for(let i=1;i<5;++i){const l=yN*i/5,o=fK(l),c=Vw(l);e.lineTo(c*a,-o*a),e.lineTo(o*r-c*n,c*r+o*n)}e.closePath()}},Q3=Pd(3),c8e={draw(e,t){const a=-Pd(t/(Q3*3));e.moveTo(0,a*2),e.lineTo(-Q3*a,-a),e.lineTo(Q3*a,-a),e.closePath()}},gc=-.5,vc=Pd(3)/2,h6=1/Pd(12),d8e=(h6/2+1)*3,u8e={draw(e,t){const a=Pd(t/d8e),r=a/2,n=a*h6,i=r,l=a*h6+a,o=-i,c=l;e.moveTo(r,n),e.lineTo(i,l),e.lineTo(o,c),e.lineTo(gc*r-vc*n,vc*r+gc*n),e.lineTo(gc*i-vc*l,vc*i+gc*l),e.lineTo(gc*o-vc*c,vc*o+gc*c),e.lineTo(gc*r+vc*n,gc*n-vc*r),e.lineTo(gc*i+vc*l,gc*l-vc*i),e.lineTo(gc*o+vc*c,gc*c-vc*o),e.closePath()}};function h8e(e,t){let a=null,r=f_(n);e=typeof e=="function"?e:gr(e||p_),t=typeof t=="function"?t:gr(t===void 0?64:+t);function n(){let i;if(a||(a=i=r()),e.apply(this,arguments).draw(a,+t.apply(this,arguments)),i)return a=null,i+""||null}return n.type=function(i){return arguments.length?(e=typeof i=="function"?i:gr(i),n):e},n.size=function(i){return arguments.length?(t=typeof i=="function"?i:gr(+i),n):t},n.context=function(i){return arguments.length?(a=i??null,n):a},n}function qw(){}function Gw(e,t,a){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+a)/6)}function jK(e){this._context=e}jK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Gw(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Gw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function f8e(e){return new jK(e)}function NK(e){this._context=e}NK.prototype={areaStart:qw,areaEnd:qw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Gw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function m8e(e){return new NK(e)}function kK(e){this._context=e}kK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var a=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(a,r):this._context.moveTo(a,r);break;case 3:this._point=4;default:Gw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function p8e(e){return new kK(e)}function SK(e){this._context=e}SK.prototype={areaStart:qw,areaEnd:qw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function x8e(e){return new SK(e)}function _9(e){return e<0?-1:1}function E9(e,t,a){var r=e._x1-e._x0,n=t-e._x1,i=(e._y1-e._y0)/(r||n<0&&-0),l=(a-e._y1)/(n||r<0&&-0),o=(i*n+l*r)/(r+n);return(_9(i)+_9(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(o))||0}function T9(e,t){var a=e._x1-e._x0;return a?(3*(e._y1-e._y0)/a-t)/2:t}function Z3(e,t,a){var r=e._x0,n=e._y0,i=e._x1,l=e._y1,o=(i-r)/3;e._context.bezierCurveTo(r+o,n+o*t,i-o,l-o*a,i,l)}function Kw(e){this._context=e}Kw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Z3(this,this._t0,T9(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var a=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Z3(this,T9(this,a=E9(this,e,t)),a);break;default:Z3(this,this._t0,a=E9(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=a}}};function CK(e){this._context=new AK(e)}(CK.prototype=Object.create(Kw.prototype)).point=function(e,t){Kw.prototype.point.call(this,t,e)};function AK(e){this._context=e}AK.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,a,r,n,i){this._context.bezierCurveTo(t,e,r,a,i,n)}};function g8e(e){return new Kw(e)}function v8e(e){return new CK(e)}function _K(e){this._context=e}_K.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,a=e.length;if(a)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),a===2)this._context.lineTo(e[1],t[1]);else for(var r=D9(e),n=D9(t),i=0,l=1;l<a;++i,++l)this._context.bezierCurveTo(r[0][i],n[0][i],r[1][i],n[1][i],e[l],t[l]);(this._line||this._line!==0&&a===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function D9(e){var t,a=e.length-1,r,n=new Array(a),i=new Array(a),l=new Array(a);for(n[0]=0,i[0]=2,l[0]=e[0]+2*e[1],t=1;t<a-1;++t)n[t]=1,i[t]=4,l[t]=4*e[t]+2*e[t+1];for(n[a-1]=2,i[a-1]=7,l[a-1]=8*e[a-1]+e[a],t=1;t<a;++t)r=n[t]/i[t-1],i[t]-=r,l[t]-=r*l[t-1];for(n[a-1]=l[a-1]/i[a-1],t=a-2;t>=0;--t)n[t]=(l[t]-n[t+1])/i[t];for(i[a-1]=(e[a]+n[a-1])/2,t=0;t<a-1;++t)i[t]=2*e[t+1]-n[t+1];return[n,i]}function b8e(e){return new _K(e)}function jN(e,t){this._context=e,this._t=t}jN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var a=this._x*(1-this._t)+e*this._t;this._context.lineTo(a,this._y),this._context.lineTo(a,t)}break}}this._x=e,this._y=t}};function y8e(e){return new jN(e,.5)}function w8e(e){return new jN(e,0)}function j8e(e){return new jN(e,1)}function wx(e,t){if((l=e.length)>1)for(var a=1,r,n,i=e[t[0]],l,o=i.length;a<l;++a)for(n=i,i=e[t[a]],r=0;r<o;++r)i[r][1]+=i[r][0]=isNaN(n[r][1])?n[r][0]:n[r][1]}function f6(e){for(var t=e.length,a=new Array(t);--t>=0;)a[t]=t;return a}function N8e(e,t){return e[t]}function k8e(e){const t=[];return t.key=e,t}function S8e(){var e=gr([]),t=f6,a=wx,r=N8e;function n(i){var l=Array.from(e.apply(this,arguments),k8e),o,c=l.length,d=-1,u;for(const f of i)for(o=0,++d;o<c;++o)(l[o][d]=[0,+r(f,l[o].key,d,i)]).data=f;for(o=0,u=m_(t(l));o<c;++o)l[u[o]].index=o;return a(l,u),l}return n.keys=function(i){return arguments.length?(e=typeof i=="function"?i:gr(Array.from(i)),n):e},n.value=function(i){return arguments.length?(r=typeof i=="function"?i:gr(+i),n):r},n.order=function(i){return arguments.length?(t=i==null?f6:typeof i=="function"?i:gr(Array.from(i)),n):t},n.offset=function(i){return arguments.length?(a=i??wx,n):a},n}function C8e(e,t){if((r=e.length)>0){for(var a,r,n=0,i=e[0].length,l;n<i;++n){for(l=a=0;a<r;++a)l+=e[a][n][1]||0;if(l)for(a=0;a<r;++a)e[a][n][1]/=l}wx(e,t)}}function A8e(e,t){if((n=e.length)>0){for(var a=0,r=e[t[0]],n,i=r.length;a<i;++a){for(var l=0,o=0;l<n;++l)o+=e[l][a][1]||0;r[a][1]+=r[a][0]=-o/2}wx(e,t)}}function _8e(e,t){if(!(!((l=e.length)>0)||!((i=(n=e[t[0]]).length)>0))){for(var a=0,r=1,n,i,l;r<i;++r){for(var o=0,c=0,d=0;o<l;++o){for(var u=e[t[o]],f=u[r][1]||0,p=u[r-1][1]||0,m=(f-p)/2,v=0;v<o;++v){var g=e[t[v]],b=g[r][1]||0,j=g[r-1][1]||0;m+=b-j}c+=f,d+=m*f}n[r-1][1]+=n[r-1][0]=a,c&&(a-=d/c)}n[r-1][1]+=n[r-1][0]=a,wx(e,t)}}var ek={},tk={},P9;function E8e(){return P9||(P9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a==="__proto__"}e.isUnsafeProperty=t})(tk)),tk}var ak={},M9;function EK(){return M9||(M9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){switch(typeof a){case"number":case"symbol":return!1;case"string":return a.includes(".")||a.includes("[")||a.includes("]")}}e.isDeepKey=t})(ak)),ak}var sk={},L9;function x_(){return L9||(L9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="string"||typeof a=="symbol"?a:Object.is(a?.valueOf?.(),-0)?"-0":String(a)}e.toKey=t})(sk)),sk}var rk={},nk={},O9;function T8e(){return O9||(O9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){if(a==null)return"";if(typeof a=="string")return a;if(Array.isArray(a))return a.map(t).join(",");const r=String(a);return r==="0"&&Object.is(Number(a),-0)?"-0":r}e.toString=t})(nk)),nk}var R9;function g_(){return R9||(R9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T8e(),a=x_();function r(n){if(Array.isArray(n))return n.map(a.toKey);if(typeof n=="symbol")return[n];n=t.toString(n);const i=[],l=n.length;if(l===0)return i;let o=0,c="",d="",u=!1;for(n.charCodeAt(0)===46&&(i.push(""),o++);o<l;){const f=n[o];d?f==="\\"&&o+1<l?(o++,c+=n[o]):f===d?d="":c+=f:u?f==='"'||f==="'"?d=f:f==="]"?(u=!1,i.push(c),c=""):c+=f:f==="["?(u=!0,c&&(i.push(c),c="")):f==="."?c&&(i.push(c),c=""):c+=f,o++}return c&&i.push(c),i}e.toPath=r})(rk)),rk}var F9;function v_(){return F9||(F9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=E8e(),a=EK(),r=x_(),n=g_();function i(o,c,d){if(o==null)return d;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return d;const u=o[c];return u===void 0?a.isDeepKey(c)?i(o,n.toPath(c),d):d:u}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const u=o[c];return u===void 0?d:u}default:{if(Array.isArray(c))return l(o,c,d);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return d;const u=o[c];return u===void 0?d:u}}}function l(o,c,d){if(c.length===0)return d;let u=o;for(let f=0;f<c.length;f++){if(u==null||t.isUnsafeProperty(c[f]))return d;u=u[c[f]]}return u===void 0?d:u}e.get=i})(ek)),ek}var ik,I9;function D8e(){return I9||(I9=1,ik=v_().get),ik}var P8e=D8e();const jx=kh(P8e);var mo=e=>e===0?0:e>0?1:-1,Fc=e=>typeof e=="number"&&e!=+e,bh=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ea=e=>(typeof e=="number"||e instanceof Number)&&!Fc(e),vu=e=>Ea(e)||typeof e=="string",M8e=0,T1=e=>{var t=++M8e;return"".concat(e||"").concat(t)},Ad=function(t,a){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ea(t)&&typeof t!="string")return r;var i;if(bh(t)){if(a==null)return r;var l=t.indexOf("%");i=a*parseFloat(t.slice(0,l))/100}else i=+t;return Fc(i)&&(i=r),n&&a!=null&&i>a&&(i=a),i},TK=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,a={},r=0;r<t;r++)if(!a[e[r]])a[e[r]]=!0;else return!0;return!1};function Kn(e,t,a){return Ea(e)&&Ea(t)?e+a*(t-e):t}function DK(e,t,a){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):jx(r,t))===a)}var Wr=e=>e===null||typeof e>"u",fb=e=>Wr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),L8e=["type","size","sizeType"];function m6(){return m6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},m6.apply(null,arguments)}function B9(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function $9(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?B9(Object(a),!0).forEach(function(r){O8e(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):B9(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function O8e(e,t,a){return(t=R8e(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function R8e(e){var t=F8e(e,"string");return typeof t=="symbol"?t:t+""}function F8e(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function I8e(e,t){if(e==null)return{};var a,r,n=B8e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function B8e(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var PK={symbolCircle:p_,symbolCross:t8e,symbolDiamond:s8e,symbolSquare:r8e,symbolStar:o8e,symbolTriangle:c8e,symbolWye:u8e},$8e=Math.PI/180,U8e=e=>{var t="symbol".concat(fb(e));return PK[t]||p_},z8e=(e,t,a)=>{if(t==="area")return e;switch(a){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*$8e;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},H8e=(e,t)=>{PK["symbol".concat(fb(e))]=t},MK=e=>{var{type:t="circle",size:a=64,sizeType:r="area"}=e,n=I8e(e,L8e),i=$9($9({},n),{},{type:t,size:a,sizeType:r}),l="circle";typeof t=="string"&&(l=t);var o=()=>{var p=U8e(l),m=h8e().type(p).size(z8e(a,r,l)),v=m();if(v!==null)return v},{className:c,cx:d,cy:u}=i,f=Wl(i);return d===+d&&u===+u&&a===+a?y.createElement("path",m6({},f,{className:cr("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(u,")"),d:o()})):null};MK.registerSymbol=H8e;var b_=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(y.isValidElement(e)&&(a=e.props),typeof a!="object"&&typeof a!="function")return null;var r={};return Object.keys(a).forEach(n=>{h_(n)&&(r[n]=(i=>a[n](a,i)))}),r},V8e=(e,t,a)=>r=>(e(t,a,r),null),y_=(e,t,a)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(n=>{var i=e[n];h_(n)&&typeof i=="function"&&(r||(r={}),r[n]=V8e(i,t,a))}),r},lk={},ok={},U9;function W8e(){return U9||(U9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,r){const n=new Map;for(let i=0;i<a.length;i++){const l=a[i],o=r(l);n.has(o)||n.set(o,l)}return Array.from(n.values())}e.uniqBy=t})(ok)),ok}var ck={},z9;function LK(){return z9||(z9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a}e.identity=t})(ck)),ck}var dk={},uk={},hk={},H9;function q8e(){return H9||(H9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return Number.isSafeInteger(a)&&a>=0}e.isLength=t})(hk)),hk}var V9;function w_(){return V9||(V9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q8e();function a(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=a})(uk)),uk}var fk={},W9;function G8e(){return W9||(W9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="object"&&a!==null}e.isObjectLike=t})(fk)),fk}var q9;function K8e(){return q9||(q9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w_(),a=G8e();function r(n){return a.isObjectLike(n)&&t.isArrayLike(n)}e.isArrayLikeObject=r})(dk)),dk}var mk={},pk={},G9;function Y8e(){return G9||(G9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v_();function a(r){return function(n){return t.get(n,r)}}e.property=a})(pk)),pk}var xk={},gk={},vk={},bk={},K9;function OK(){return K9||(K9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a!==null&&(typeof a=="object"||typeof a=="function")}e.isObject=t})(bk)),bk}var yk={},Y9;function RK(){return Y9||(Y9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a==null||typeof a!="object"&&typeof a!="function"}e.isPrimitive=t})(yk)),yk}var wk={},X9;function FK(){return X9||(X9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,r){return a===r||Number.isNaN(a)&&Number.isNaN(r)}e.eq=t})(wk)),wk}var J9;function X8e(){return J9||(J9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OK(),a=RK(),r=FK();function n(u,f,p){return typeof p!="function"?n(u,f,()=>{}):i(u,f,function m(v,g,b,j,k,S){const N=p(v,g,b,j,k,S);return N!==void 0?!!N:i(v,g,m,S)},new Map)}function i(u,f,p,m){if(f===u)return!0;switch(typeof f){case"object":return l(u,f,p,m);case"function":return Object.keys(f).length>0?i(u,{...f},p,m):r.eq(u,f);default:return t.isObject(u)?typeof f=="string"?f==="":!0:r.eq(u,f)}}function l(u,f,p,m){if(f==null)return!0;if(Array.isArray(f))return c(u,f,p,m);if(f instanceof Map)return o(u,f,p,m);if(f instanceof Set)return d(u,f,p,m);const v=Object.keys(f);if(u==null)return v.length===0;if(v.length===0)return!0;if(m?.has(f))return m.get(f)===u;m?.set(f,u);try{for(let g=0;g<v.length;g++){const b=v[g];if(!a.isPrimitive(u)&&!(b in u)||f[b]===void 0&&u[b]!==void 0||f[b]===null&&u[b]!==null||!p(u[b],f[b],b,u,f,m))return!1}return!0}finally{m?.delete(f)}}function o(u,f,p,m){if(f.size===0)return!0;if(!(u instanceof Map))return!1;for(const[v,g]of f.entries()){const b=u.get(v);if(p(b,g,v,u,f,m)===!1)return!1}return!0}function c(u,f,p,m){if(f.length===0)return!0;if(!Array.isArray(u))return!1;const v=new Set;for(let g=0;g<f.length;g++){const b=f[g];let j=!1;for(let k=0;k<u.length;k++){if(v.has(k))continue;const S=u[k];let N=!1;if(p(S,b,g,u,f,m)&&(N=!0),N){v.add(k),j=!0;break}}if(!j)return!1}return!0}function d(u,f,p,m){return f.size===0?!0:u instanceof Set?c([...u],[...f],p,m):!1}e.isMatchWith=n,e.isSetMatch=d})(vk)),vk}var Q9;function IK(){return Q9||(Q9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X8e();function a(r,n){return t.isMatchWith(r,n,()=>{})}e.isMatch=a})(gk)),gk}var jk={},Nk={},kk={},Z9;function J8e(){return Z9||(Z9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return Object.getOwnPropertySymbols(a).filter(r=>Object.prototype.propertyIsEnumerable.call(a,r))}e.getSymbols=t})(kk)),kk}var Sk={},eF;function BK(){return eF||(eF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a==null?a===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(a)}e.getTag=t})(Sk)),Sk}var Ck={},tF;function $K(){return tF||(tF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",a="[object String]",r="[object Number]",n="[object Boolean]",i="[object Arguments]",l="[object Symbol]",o="[object Date]",c="[object Map]",d="[object Set]",u="[object Array]",f="[object Function]",p="[object ArrayBuffer]",m="[object Object]",v="[object Error]",g="[object DataView]",b="[object Uint8Array]",j="[object Uint8ClampedArray]",k="[object Uint16Array]",S="[object Uint32Array]",N="[object BigUint64Array]",A="[object Int8Array]",_="[object Int16Array]",E="[object Int32Array]",D="[object BigInt64Array]",R="[object Float32Array]",I="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=p,e.arrayTag=u,e.bigInt64ArrayTag=D,e.bigUint64ArrayTag=N,e.booleanTag=n,e.dataViewTag=g,e.dateTag=o,e.errorTag=v,e.float32ArrayTag=R,e.float64ArrayTag=I,e.functionTag=f,e.int16ArrayTag=_,e.int32ArrayTag=E,e.int8ArrayTag=A,e.mapTag=c,e.numberTag=r,e.objectTag=m,e.regexpTag=t,e.setTag=d,e.stringTag=a,e.symbolTag=l,e.uint16ArrayTag=k,e.uint32ArrayTag=S,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=j})(Ck)),Ck}var Ak={},aF;function Q8e(){return aF||(aF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)}e.isTypedArray=t})(Ak)),Ak}var sF;function UK(){return sF||(sF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J8e(),a=BK(),r=$K(),n=RK(),i=Q8e();function l(u,f){return o(u,void 0,u,new Map,f)}function o(u,f,p,m=new Map,v=void 0){const g=v?.(u,f,p,m);if(g!==void 0)return g;if(n.isPrimitive(u))return u;if(m.has(u))return m.get(u);if(Array.isArray(u)){const b=new Array(u.length);m.set(u,b);for(let j=0;j<u.length;j++)b[j]=o(u[j],j,p,m,v);return Object.hasOwn(u,"index")&&(b.index=u.index),Object.hasOwn(u,"input")&&(b.input=u.input),b}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const b=new RegExp(u.source,u.flags);return b.lastIndex=u.lastIndex,b}if(u instanceof Map){const b=new Map;m.set(u,b);for(const[j,k]of u)b.set(j,o(k,j,p,m,v));return b}if(u instanceof Set){const b=new Set;m.set(u,b);for(const j of u)b.add(o(j,void 0,p,m,v));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(i.isTypedArray(u)){const b=new(Object.getPrototypeOf(u)).constructor(u.length);m.set(u,b);for(let j=0;j<u.length;j++)b[j]=o(u[j],j,p,m,v);return b}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const b=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return m.set(u,b),c(b,u,p,m,v),b}if(typeof File<"u"&&u instanceof File){const b=new File([u],u.name,{type:u.type});return m.set(u,b),c(b,u,p,m,v),b}if(typeof Blob<"u"&&u instanceof Blob){const b=new Blob([u],{type:u.type});return m.set(u,b),c(b,u,p,m,v),b}if(u instanceof Error){const b=new u.constructor;return m.set(u,b),b.message=u.message,b.name=u.name,b.stack=u.stack,b.cause=u.cause,c(b,u,p,m,v),b}if(u instanceof Boolean){const b=new Boolean(u.valueOf());return m.set(u,b),c(b,u,p,m,v),b}if(u instanceof Number){const b=new Number(u.valueOf());return m.set(u,b),c(b,u,p,m,v),b}if(u instanceof String){const b=new String(u.valueOf());return m.set(u,b),c(b,u,p,m,v),b}if(typeof u=="object"&&d(u)){const b=Object.create(Object.getPrototypeOf(u));return m.set(u,b),c(b,u,p,m,v),b}return u}function c(u,f,p=u,m,v){const g=[...Object.keys(f),...t.getSymbols(f)];for(let b=0;b<g.length;b++){const j=g[b],k=Object.getOwnPropertyDescriptor(u,j);(k==null||k.writable)&&(u[j]=o(f[j],j,p,m,v))}}function d(u){switch(a.getTag(u)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=o,e.copyProperties=c})(Nk)),Nk}var rF;function Z8e(){return rF||(rF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UK();function a(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=a})(jk)),jk}var nF;function e_e(){return nF||(nF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IK(),a=Z8e();function r(n){return n=a.cloneDeep(n),i=>t.isMatch(i,n)}e.matches=r})(xk)),xk}var _k={},Ek={},Tk={},iF;function t_e(){return iF||(iF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UK(),a=$K();function r(n,i){return t.cloneDeepWith(n,(l,o,c,d)=>{const u=i?.(l,o,c,d);if(u!==void 0)return u;if(typeof n=="object")switch(Object.prototype.toString.call(n)){case a.numberTag:case a.stringTag:case a.booleanTag:{const f=new n.constructor(n?.valueOf());return t.copyProperties(f,n),f}case a.argumentsTag:{const f={};return t.copyProperties(f,n),f.length=n.length,f[Symbol.iterator]=n[Symbol.iterator],f}default:return}})}e.cloneDeepWith=r})(Tk)),Tk}var lF;function a_e(){return lF||(lF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=t_e();function a(r){return t.cloneDeepWith(r)}e.cloneDeep=a})(Ek)),Ek}var Dk={},Pk={},oF;function zK(){return oF||(oF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function a(r,n=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<n;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=a})(Pk)),Pk}var Mk={},cF;function s_e(){return cF||(cF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BK();function a(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=a})(Mk)),Mk}var dF;function r_e(){return dF||(dF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EK(),a=zK(),r=s_e(),n=g_();function i(l,o){let c;if(Array.isArray(o)?c=o:typeof o=="string"&&t.isDeepKey(o)&&l?.[o]==null?c=n.toPath(o):c=[o],c.length===0)return!1;let d=l;for(let u=0;u<c.length;u++){const f=c[u];if((d==null||!Object.hasOwn(d,f))&&!((Array.isArray(d)||r.isArguments(d))&&a.isIndex(f)&&f<d.length))return!1;d=d[f]}return!0}e.has=i})(Dk)),Dk}var uF;function n_e(){return uF||(uF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IK(),a=x_(),r=a_e(),n=v_(),i=r_e();function l(o,c){switch(typeof o){case"object":{Object.is(o?.valueOf(),-0)&&(o="-0");break}case"number":{o=a.toKey(o);break}}return c=r.cloneDeep(c),function(d){const u=n.get(d,o);return u===void 0?i.has(d,o):c===void 0?u===void 0:t.isMatch(u,c)}}e.matchesProperty=l})(_k)),_k}var hF;function i_e(){return hF||(hF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LK(),a=Y8e(),r=e_e(),n=n_e();function i(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?n.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return a.property(l)}}e.iteratee=i})(mk)),mk}var fF;function l_e(){return fF||(fF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W8e(),a=LK(),r=K8e(),n=i_e();function i(l,o=a.identity){return r.isArrayLikeObject(l)?t.uniqBy(Array.from(l),n.iteratee(o)):[]}e.uniqBy=i})(lk)),lk}var Lk,mF;function o_e(){return mF||(mF=1,Lk=l_e().uniqBy),Lk}var c_e=o_e();const pF=kh(c_e);function d_e(e,t,a){return t===!0?pF(e,a):typeof t=="function"?pF(e,t):e}var Ok={exports:{}},Rk={},Fk={exports:{}},Ik={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xF;function u_e(){if(xF)return Ik;xF=1;var e=_x();function t(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var a=typeof Object.is=="function"?Object.is:t,r=e.useState,n=e.useEffect,i=e.useLayoutEffect,l=e.useDebugValue;function o(f,p){var m=p(),v=r({inst:{value:m,getSnapshot:p}}),g=v[0].inst,b=v[1];return i(function(){g.value=m,g.getSnapshot=p,c(g)&&b({inst:g})},[f,m,p]),n(function(){return c(g)&&b({inst:g}),f(function(){c(g)&&b({inst:g})})},[f]),l(m),m}function c(f){var p=f.getSnapshot;f=f.value;try{var m=p();return!a(f,m)}catch{return!0}}function d(f,p){return p()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:o;return Ik.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u,Ik}var gF;function h_e(){return gF||(gF=1,Fk.exports=u_e()),Fk.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vF;function f_e(){if(vF)return Rk;vF=1;var e=_x(),t=h_e();function a(d,u){return d===u&&(d!==0||1/d===1/u)||d!==d&&u!==u}var r=typeof Object.is=="function"?Object.is:a,n=t.useSyncExternalStore,i=e.useRef,l=e.useEffect,o=e.useMemo,c=e.useDebugValue;return Rk.useSyncExternalStoreWithSelector=function(d,u,f,p,m){var v=i(null);if(v.current===null){var g={hasValue:!1,value:null};v.current=g}else g=v.current;v=o(function(){function j(_){if(!k){if(k=!0,S=_,_=p(_),m!==void 0&&g.hasValue){var E=g.value;if(m(E,_))return N=E}return N=_}if(E=N,r(S,_))return E;var D=p(_);return m!==void 0&&m(E,D)?(S=_,E):(S=_,N=D)}var k=!1,S,N,A=f===void 0?null:f;return[function(){return j(u())},A===null?void 0:function(){return j(A())}]},[u,f,p,m]);var b=n(d,v[0],v[1]);return l(function(){g.hasValue=!0,g.value=b},[b]),c(b),b},Rk}var bF;function m_e(){return bF||(bF=1,Ok.exports=f_e()),Ok.exports}var p_e=m_e(),j_=y.createContext(null),x_e=e=>e,fi=()=>{var e=y.useContext(j_);return e?e.store.dispatch:x_e},J2=()=>{},g_e=()=>J2,v_e=(e,t)=>e===t;function Ca(e){var t=y.useContext(j_);return p_e.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:g_e,t?t.store.getState:J2,t?t.store.getState:J2,t?e:J2,v_e)}function b_e(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function y_e(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function w_e(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(a=>typeof a=="function")){const a=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${a}]`)}}var yF=e=>Array.isArray(e)?e:[e];function j_e(e){const t=Array.isArray(e[0])?e[0]:e;return w_e(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function N_e(e,t){const a=[],{length:r}=e;for(let n=0;n<r;n++)a.push(e[n].apply(null,t));return a}var k_e=class{constructor(e){this.value=e}deref(){return this.value}},S_e=typeof WeakRef<"u"?WeakRef:k_e,C_e=0,wF=1;function N2(){return{s:C_e,v:void 0,o:null,p:null}}function HK(e,t={}){let a=N2();const{resultEqualityCheck:r}=t;let n,i=0;function l(){let o=a;const{length:c}=arguments;for(let f=0,p=c;f<p;f++){const m=arguments[f];if(typeof m=="function"||typeof m=="object"&&m!==null){let v=o.o;v===null&&(o.o=v=new WeakMap);const g=v.get(m);g===void 0?(o=N2(),v.set(m,o)):o=g}else{let v=o.p;v===null&&(o.p=v=new Map);const g=v.get(m);g===void 0?(o=N2(),v.set(m,o)):o=g}}const d=o;let u;if(o.s===wF)u=o.v;else if(u=e.apply(null,arguments),i++,r){const f=n?.deref?.()??n;f!=null&&r(f,u)&&(u=f,i!==0&&i--),n=typeof u=="object"&&u!==null||typeof u=="function"?new S_e(u):u}return d.s=wF,d.v=u,u}return l.clearCache=()=>{a=N2(),l.resetResultsCount()},l.resultsCount=()=>i,l.resetResultsCount=()=>{i=0},l}function A_e(e,...t){const a=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...n)=>{let i=0,l=0,o,c={},d=n.pop();typeof d=="object"&&(c=d,d=n.pop()),b_e(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const u={...a,...c},{memoize:f,memoizeOptions:p=[],argsMemoize:m=HK,argsMemoizeOptions:v=[]}=u,g=yF(p),b=yF(v),j=j_e(n),k=f(function(){return i++,d.apply(null,arguments)},...g),S=m(function(){l++;const A=N_e(j,arguments);return o=k.apply(null,A),o},...b);return Object.assign(S,{resultFunc:d,memoizedResultFunc:k,dependencies:j,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>o,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var yt=A_e(HK),__e=Object.assign((e,t=yt)=>{y_e(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const a=Object.keys(e),r=a.map(i=>e[i]);return t(r,(...i)=>i.reduce((l,o,c)=>(l[a[c]]=o,l),{}))},{withTypes:()=>__e}),Bk={},$k={},Uk={},jF;function E_e(){return jF||(jF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const a=(r,n,i)=>{if(r!==n){const l=t(r),o=t(n);if(l===o&&l===0){if(r<n)return i==="desc"?1:-1;if(r>n)return i==="desc"?-1:1}return i==="desc"?o-l:l-o}return 0};e.compareValues=a})(Uk)),Uk}var zk={},Hk={},NF;function VK(){return NF||(NF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="symbol"||a instanceof Symbol}e.isSymbol=t})(Hk)),Hk}var kF;function T_e(){return kF||(kF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VK(),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function n(i,l){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(r.test(i)||!a.test(i))||l!=null&&Object.hasOwn(l,i)}e.isKey=n})(zk)),zk}var SF;function D_e(){return SF||(SF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=E_e(),a=T_e(),r=g_();function n(i,l,o,c){if(i==null)return[];o=c?void 0:o,Array.isArray(i)||(i=Object.values(i)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(m=>String(m));const d=(m,v)=>{let g=m;for(let b=0;b<v.length&&g!=null;++b)g=g[v[b]];return g},u=(m,v)=>v==null||m==null?v:typeof m=="object"&&"key"in m?Object.hasOwn(v,m.key)?v[m.key]:d(v,m.path):typeof m=="function"?m(v):Array.isArray(m)?d(v,m):typeof v=="object"?v[m]:v,f=l.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||a.isKey(m)?m:{key:m,path:r.toPath(m)}));return i.map(m=>({original:m,criteria:f.map(v=>u(v,m))})).slice().sort((m,v)=>{for(let g=0;g<f.length;g++){const b=t.compareValues(m.criteria[g],v.criteria[g],o[g]);if(b!==0)return b}return 0}).map(m=>m.original)}e.orderBy=n})($k)),$k}var Vk={},CF;function P_e(){return CF||(CF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,r=1){const n=[],i=Math.floor(r),l=(o,c)=>{for(let d=0;d<o.length;d++){const u=o[d];Array.isArray(u)&&c<i?l(u,c+1):n.push(u)}};return l(a,0),n}e.flatten=t})(Vk)),Vk}var Wk={},AF;function WK(){return AF||(AF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zK(),a=w_(),r=OK(),n=FK();function i(l,o,c){return r.isObject(c)&&(typeof o=="number"&&a.isArrayLike(c)&&t.isIndex(o)&&o<c.length||typeof o=="string"&&o in c)?n.eq(c[o],l):!1}e.isIterateeCall=i})(Wk)),Wk}var _F;function M_e(){return _F||(_F=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D_e(),a=P_e(),r=WK();function n(i,...l){const o=l.length;return o>1&&r.isIterateeCall(i,l[0],l[1])?l=[]:o>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(i,a.flatten(l),["asc"])}e.sortBy=n})(Bk)),Bk}var qk,EF;function L_e(){return EF||(EF=1,qk=M_e().sortBy),qk}var O_e=L_e();const NN=kh(O_e);var qK=e=>e.legend.settings,R_e=e=>e.legend.size,F_e=e=>e.legend.payload;yt([F_e,qK],(e,t)=>{var{itemSorter:a}=t,r=e.flat(1);return a?NN(r,a):r});var k2=1;function I_e(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,a]=y.useState({height:0,left:0,top:0,width:0}),r=y.useCallback(n=>{if(n!=null){var i=n.getBoundingClientRect(),l={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(l.height-t.height)>k2||Math.abs(l.left-t.left)>k2||Math.abs(l.top-t.top)>k2||Math.abs(l.width-t.width)>k2)&&a({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function qi(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var B_e=typeof Symbol=="function"&&Symbol.observable||"@@observable",TF=B_e,Gk=()=>Math.random().toString(36).substring(7).split("").join("."),$_e={INIT:`@@redux/INIT${Gk()}`,REPLACE:`@@redux/REPLACE${Gk()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Gk()}`},Yw=$_e;function N_(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function GK(e,t,a){if(typeof e!="function")throw new Error(qi(2));if(typeof t=="function"&&typeof a=="function"||typeof a=="function"&&typeof arguments[3]=="function")throw new Error(qi(0));if(typeof t=="function"&&typeof a>"u"&&(a=t,t=void 0),typeof a<"u"){if(typeof a!="function")throw new Error(qi(1));return a(GK)(e,t)}let r=e,n=t,i=new Map,l=i,o=0,c=!1;function d(){l===i&&(l=new Map,i.forEach((b,j)=>{l.set(j,b)}))}function u(){if(c)throw new Error(qi(3));return n}function f(b){if(typeof b!="function")throw new Error(qi(4));if(c)throw new Error(qi(5));let j=!0;d();const k=o++;return l.set(k,b),function(){if(j){if(c)throw new Error(qi(6));j=!1,d(),l.delete(k),i=null}}}function p(b){if(!N_(b))throw new Error(qi(7));if(typeof b.type>"u")throw new Error(qi(8));if(typeof b.type!="string")throw new Error(qi(17));if(c)throw new Error(qi(9));try{c=!0,n=r(n,b)}finally{c=!1}return(i=l).forEach(k=>{k()}),b}function m(b){if(typeof b!="function")throw new Error(qi(10));r=b,p({type:Yw.REPLACE})}function v(){const b=f;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(qi(11));function k(){const N=j;N.next&&N.next(u())}return k(),{unsubscribe:b(k)}},[TF](){return this}}}return p({type:Yw.INIT}),{dispatch:p,subscribe:f,getState:u,replaceReducer:m,[TF]:v}}function U_e(e){Object.keys(e).forEach(t=>{const a=e[t];if(typeof a(void 0,{type:Yw.INIT})>"u")throw new Error(qi(12));if(typeof a(void 0,{type:Yw.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(qi(13))})}function KK(e){const t=Object.keys(e),a={};for(let i=0;i<t.length;i++){const l=t[i];typeof e[l]=="function"&&(a[l]=e[l])}const r=Object.keys(a);let n;try{U_e(a)}catch(i){n=i}return function(l={},o){if(n)throw n;let c=!1;const d={};for(let u=0;u<r.length;u++){const f=r[u],p=a[f],m=l[f],v=p(m,o);if(typeof v>"u")throw o&&o.type,new Error(qi(14));d[f]=v,c=c||v!==m}return c=c||r.length!==Object.keys(l).length,c?d:l}}function Xw(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,a)=>(...r)=>t(a(...r)))}function z_e(...e){return t=>(a,r)=>{const n=t(a,r);let i=()=>{throw new Error(qi(15))};const l={getState:n.getState,dispatch:(c,...d)=>i(c,...d)},o=e.map(c=>c(l));return i=Xw(...o)(n.dispatch),{...n,dispatch:i}}}function YK(e){return N_(e)&&"type"in e&&typeof e.type=="string"}var XK=Symbol.for("immer-nothing"),DF=Symbol.for("immer-draftable"),Ko=Symbol.for("immer-state");function gd(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var D1=Object.getPrototypeOf;function Am(e){return!!e&&!!e[Ko]}function yh(e){return e?JK(e)||Array.isArray(e)||!!e[DF]||!!e.constructor?.[DF]||mb(e)||SN(e):!1}var H_e=Object.prototype.constructor.toString(),PF=new WeakMap;function JK(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const a=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(a===Object)return!0;if(typeof a!="function")return!1;let r=PF.get(a);return r===void 0&&(r=Function.toString.call(a),PF.set(a,r)),r===H_e}function Jw(e,t,a=!0){kN(e)===0?(a?Reflect.ownKeys(e):Object.keys(e)).forEach(n=>{t(n,e[n],e)}):e.forEach((r,n)=>t(n,r,e))}function kN(e){const t=e[Ko];return t?t.type_:Array.isArray(e)?1:mb(e)?2:SN(e)?3:0}function p6(e,t){return kN(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function QK(e,t,a){const r=kN(e);r===2?e.set(t,a):r===3?e.add(a):e[t]=a}function V_e(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function mb(e){return e instanceof Map}function SN(e){return e instanceof Set}function B0(e){return e.copy_||e.base_}function x6(e,t){if(mb(e))return new Map(e);if(SN(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const a=JK(e);if(t===!0||t==="class_only"&&!a){const r=Object.getOwnPropertyDescriptors(e);delete r[Ko];let n=Reflect.ownKeys(r);for(let i=0;i<n.length;i++){const l=n[i],o=r[l];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[l]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[l]})}return Object.create(D1(e),r)}else{const r=D1(e);if(r!==null&&a)return{...e};const n=Object.create(r);return Object.assign(n,e)}}function k_(e,t=!1){return CN(e)||Am(e)||!yh(e)||(kN(e)>1&&Object.defineProperties(e,{set:S2,add:S2,clear:S2,delete:S2}),Object.freeze(e),t&&Object.values(e).forEach(a=>k_(a,!0))),e}function W_e(){gd(2)}var S2={value:W_e};function CN(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var q_e={};function _m(e){const t=q_e[e];return t||gd(0,e),t}var P1;function ZK(){return P1}function G_e(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function MF(e,t){t&&(_m("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function g6(e){v6(e),e.drafts_.forEach(K_e),e.drafts_=null}function v6(e){e===P1&&(P1=e.parent_)}function LF(e){return P1=G_e(P1,e)}function K_e(e){const t=e[Ko];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function OF(e,t){t.unfinalizedDrafts_=t.drafts_.length;const a=t.drafts_[0];return e!==void 0&&e!==a?(a[Ko].modified_&&(g6(t),gd(4)),yh(e)&&(e=Qw(t,e),t.parent_||Zw(t,e)),t.patches_&&_m("Patches").generateReplacementPatches_(a[Ko].base_,e,t.patches_,t.inversePatches_)):e=Qw(t,a,[]),g6(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==XK?e:void 0}function Qw(e,t,a){if(CN(t))return t;const r=e.immer_.shouldUseStrictIteration(),n=t[Ko];if(!n)return Jw(t,(i,l)=>RF(e,n,t,i,l,a),r),t;if(n.scope_!==e)return t;if(!n.modified_)return Zw(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let l=i,o=!1;n.type_===3&&(l=new Set(i),i.clear(),o=!0),Jw(l,(c,d)=>RF(e,n,i,c,d,a,o),r),Zw(e,i,!1),a&&e.patches_&&_m("Patches").generatePatches_(n,a,e.patches_,e.inversePatches_)}return n.copy_}function RF(e,t,a,r,n,i,l){if(n==null||typeof n!="object"&&!l)return;const o=CN(n);if(!(o&&!l)){if(Am(n)){const c=i&&t&&t.type_!==3&&!p6(t.assigned_,r)?i.concat(r):void 0,d=Qw(e,n,c);if(QK(a,r,d),Am(d))e.canAutoFreeze_=!1;else return}else l&&a.add(n);if(yh(n)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===n&&o)return;Qw(e,n),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(mb(a)?a.has(r):Object.prototype.propertyIsEnumerable.call(a,r))&&Zw(e,n)}}}function Zw(e,t,a=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&k_(t,a)}function Y_e(e,t){const a=Array.isArray(e),r={type_:a?1:0,scope_:t?t.scope_:ZK(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let n=r,i=S_;a&&(n=[r],i=M1);const{revoke:l,proxy:o}=Proxy.revocable(n,i);return r.draft_=o,r.revoke_=l,o}var S_={get(e,t){if(t===Ko)return e;const a=B0(e);if(!p6(a,t))return X_e(e,a,t);const r=a[t];return e.finalized_||!yh(r)?r:r===Kk(e.base_,t)?(Yk(e),e.copy_[t]=y6(r,e)):r},has(e,t){return t in B0(e)},ownKeys(e){return Reflect.ownKeys(B0(e))},set(e,t,a){const r=eY(B0(e),t);if(r?.set)return r.set.call(e.draft_,a),!0;if(!e.modified_){const n=Kk(B0(e),t),i=n?.[Ko];if(i&&i.base_===a)return e.copy_[t]=a,e.assigned_[t]=!1,!0;if(V_e(a,n)&&(a!==void 0||p6(e.base_,t)))return!0;Yk(e),b6(e)}return e.copy_[t]===a&&(a!==void 0||t in e.copy_)||Number.isNaN(a)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=a,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Kk(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Yk(e),b6(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const a=B0(e),r=Reflect.getOwnPropertyDescriptor(a,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:a[t]}},defineProperty(){gd(11)},getPrototypeOf(e){return D1(e.base_)},setPrototypeOf(){gd(12)}},M1={};Jw(S_,(e,t)=>{M1[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});M1.deleteProperty=function(e,t){return M1.set.call(this,e,t,void 0)};M1.set=function(e,t,a){return S_.set.call(this,e[0],t,a,e[0])};function Kk(e,t){const a=e[Ko];return(a?B0(a):e)[t]}function X_e(e,t,a){const r=eY(t,a);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function eY(e,t){if(!(t in e))return;let a=D1(e);for(;a;){const r=Object.getOwnPropertyDescriptor(a,t);if(r)return r;a=D1(a)}}function b6(e){e.modified_||(e.modified_=!0,e.parent_&&b6(e.parent_))}function Yk(e){e.copy_||(e.copy_=x6(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var J_e=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,a,r)=>{if(typeof t=="function"&&typeof a!="function"){const i=a;a=t;const l=this;return function(c=i,...d){return l.produce(c,u=>a.call(this,u,...d))}}typeof a!="function"&&gd(6),r!==void 0&&typeof r!="function"&&gd(7);let n;if(yh(t)){const i=LF(this),l=y6(t,void 0);let o=!0;try{n=a(l),o=!1}finally{o?g6(i):v6(i)}return MF(i,r),OF(n,i)}else if(!t||typeof t!="object"){if(n=a(t),n===void 0&&(n=t),n===XK&&(n=void 0),this.autoFreeze_&&k_(n,!0),r){const i=[],l=[];_m("Patches").generateReplacementPatches_(t,n,i,l),r(i,l)}return n}else gd(1,t)},this.produceWithPatches=(t,a)=>{if(typeof t=="function")return(l,...o)=>this.produceWithPatches(l,c=>t(c,...o));let r,n;return[this.produce(t,a,(l,o)=>{r=l,n=o}),r,n]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){yh(e)||gd(8),Am(e)&&(e=hh(e));const t=LF(this),a=y6(e,void 0);return a[Ko].isManual_=!0,v6(t),a}finishDraft(e,t){const a=e&&e[Ko];(!a||!a.isManual_)&&gd(9);const{scope_:r}=a;return MF(r,t),OF(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let a;for(a=t.length-1;a>=0;a--){const n=t[a];if(n.path.length===0&&n.op==="replace"){e=n.value;break}}a>-1&&(t=t.slice(a+1));const r=_m("Patches").applyPatches_;return Am(e)?r(e,t):this.produce(e,n=>r(n,t))}};function y6(e,t){const a=mb(e)?_m("MapSet").proxyMap_(e,t):SN(e)?_m("MapSet").proxySet_(e,t):Y_e(e,t);return(t?t.scope_:ZK()).drafts_.push(a),a}function hh(e){return Am(e)||gd(10,e),tY(e)}function tY(e){if(!yh(e)||CN(e))return e;const t=e[Ko];let a,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,a=x6(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else a=x6(e,!0);return Jw(a,(n,i)=>{QK(a,n,tY(i))},r),t&&(t.finalized_=!1),a}var Q_e=new J_e,aY=Q_e.produce;function sY(e){return({dispatch:a,getState:r})=>n=>i=>typeof i=="function"?i(a,r,e):n(i)}var Z_e=sY(),eEe=sY,tEe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Xw:Xw.apply(null,arguments)};function Ic(e,t){function a(...r){if(t){let n=t(...r);if(!n)throw new Error(qo(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:r[0]}}return a.toString=()=>`${e}`,a.type=e,a.match=r=>YK(r)&&r.type===e,a}var rY=class wv extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,wv.prototype)}static get[Symbol.species](){return wv}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new wv(...t[0].concat(this)):new wv(...t.concat(this))}};function FF(e){return yh(e)?aY(e,()=>{}):e}function C2(e,t,a){return e.has(t)?e.get(t):e.set(t,a(t)).get(t)}function aEe(e){return typeof e=="boolean"}var sEe=()=>function(t){const{thunk:a=!0,immutableCheck:r=!0,serializableCheck:n=!0,actionCreatorCheck:i=!0}=t??{};let l=new rY;return a&&(aEe(a)?l.push(Z_e):l.push(eEe(a.extraArgument))),l},nY="RTK_autoBatch",Bl=()=>e=>({payload:e,meta:{[nY]:!0}}),IF=e=>t=>{setTimeout(t,e)},iY=(e={type:"raf"})=>t=>(...a)=>{const r=t(...a);let n=!0,i=!1,l=!1;const o=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:IF(10):e.type==="callback"?e.queueNotification:IF(e.timeout),d=()=>{l=!1,i&&(i=!1,o.forEach(u=>u()))};return Object.assign({},r,{subscribe(u){const f=()=>n&&u(),p=r.subscribe(f);return o.add(u),()=>{p(),o.delete(u)}},dispatch(u){try{return n=!u?.meta?.[nY],i=!n,i&&(l||(l=!0,c(d))),r.dispatch(u)}finally{n=!0}}})},rEe=e=>function(a){const{autoBatch:r=!0}=a??{};let n=new rY(e);return r&&n.push(iY(typeof r=="object"?r:void 0)),n};function nEe(e){const t=sEe(),{reducer:a=void 0,middleware:r,devTools:n=!0,preloadedState:i=void 0,enhancers:l=void 0}=e||{};let o;if(typeof a=="function")o=a;else if(N_(a))o=KK(a);else throw new Error(qo(1));let c;typeof r=="function"?c=r(t):c=t();let d=Xw;n&&(d=tEe({trace:!1,...typeof n=="object"&&n}));const u=z_e(...c),f=rEe(u);let p=typeof l=="function"?l(f):f();const m=d(...p);return GK(o,i,m)}function lY(e){const t={},a=[];let r;const n={addCase(i,l){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(qo(28));if(o in t)throw new Error(qo(29));return t[o]=l,n},addAsyncThunk(i,l){return l.pending&&(t[i.pending.type]=l.pending),l.rejected&&(t[i.rejected.type]=l.rejected),l.fulfilled&&(t[i.fulfilled.type]=l.fulfilled),l.settled&&a.push({matcher:i.settled,reducer:l.settled}),n},addMatcher(i,l){return a.push({matcher:i,reducer:l}),n},addDefaultCase(i){return r=i,n}};return e(n),[t,a,r]}function iEe(e){return typeof e=="function"}function lEe(e,t){let[a,r,n]=lY(t),i;if(iEe(e))i=()=>FF(e());else{const o=FF(e);i=()=>o}function l(o=i(),c){let d=[a[c.type],...r.filter(({matcher:u})=>u(c)).map(({reducer:u})=>u)];return d.filter(u=>!!u).length===0&&(d=[n]),d.reduce((u,f)=>{if(f)if(Am(u)){const m=f(u,c);return m===void 0?u:m}else{if(yh(u))return aY(u,p=>f(p,c));{const p=f(u,c);if(p===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return u},o)}return l.getInitialState=i,l}var oEe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",cEe=(e=21)=>{let t="",a=e;for(;a--;)t+=oEe[Math.random()*64|0];return t},dEe=Symbol.for("rtk-slice-createasyncthunk");function uEe(e,t){return`${e}/${t}`}function hEe({creators:e}={}){const t=e?.asyncThunk?.[dEe];return function(r){const{name:n,reducerPath:i=n}=r;if(!n)throw new Error(qo(11));const l=(typeof r.reducers=="function"?r.reducers(mEe()):r.reducers)||{},o=Object.keys(l),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(S,N){const A=typeof S=="string"?S:S.type;if(!A)throw new Error(qo(12));if(A in c.sliceCaseReducersByType)throw new Error(qo(13));return c.sliceCaseReducersByType[A]=N,d},addMatcher(S,N){return c.sliceMatchers.push({matcher:S,reducer:N}),d},exposeAction(S,N){return c.actionCreators[S]=N,d},exposeCaseReducer(S,N){return c.sliceCaseReducersByName[S]=N,d}};o.forEach(S=>{const N=l[S],A={reducerName:S,type:uEe(n,S),createNotation:typeof r.reducers=="function"};xEe(N)?vEe(A,N,d,t):pEe(A,N,d)});function u(){const[S={},N=[],A=void 0]=typeof r.extraReducers=="function"?lY(r.extraReducers):[r.extraReducers],_={...S,...c.sliceCaseReducersByType};return lEe(r.initialState,E=>{for(let D in _)E.addCase(D,_[D]);for(let D of c.sliceMatchers)E.addMatcher(D.matcher,D.reducer);for(let D of N)E.addMatcher(D.matcher,D.reducer);A&&E.addDefaultCase(A)})}const f=S=>S,p=new Map,m=new WeakMap;let v;function g(S,N){return v||(v=u()),v(S,N)}function b(){return v||(v=u()),v.getInitialState()}function j(S,N=!1){function A(E){let D=E[S];return typeof D>"u"&&N&&(D=C2(m,A,b)),D}function _(E=f){const D=C2(p,N,()=>new WeakMap);return C2(D,E,()=>{const R={};for(const[I,M]of Object.entries(r.selectors??{}))R[I]=fEe(M,E,()=>C2(m,E,b),N);return R})}return{reducerPath:S,getSelectors:_,get selectors(){return _(A)},selectSlice:A}}const k={name:n,reducer:g,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:b,...j(i),injectInto(S,{reducerPath:N,...A}={}){const _=N??i;return S.inject({reducerPath:_,reducer:g},A),{...k,...j(_,!0)}}};return k}}function fEe(e,t,a,r){function n(i,...l){let o=t(i);return typeof o>"u"&&r&&(o=a()),e(o,...l)}return n.unwrapped=e,n}var Yo=hEe();function mEe(){function e(t,a){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...a}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...a){return t(...a)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,a){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:a}},asyncThunk:e}}function pEe({type:e,reducerName:t,createNotation:a},r,n){let i,l;if("reducer"in r){if(a&&!gEe(r))throw new Error(qo(17));i=r.reducer,l=r.prepare}else i=r;n.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,l?Ic(e,l):Ic(e))}function xEe(e){return e._reducerDefinitionType==="asyncThunk"}function gEe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function vEe({type:e,reducerName:t},a,r,n){if(!n)throw new Error(qo(18));const{payloadCreator:i,fulfilled:l,pending:o,rejected:c,settled:d,options:u}=a,f=n(e,i,u);r.exposeAction(t,f),l&&r.addCase(f.fulfilled,l),o&&r.addCase(f.pending,o),c&&r.addCase(f.rejected,c),d&&r.addMatcher(f.settled,d),r.exposeCaseReducer(t,{fulfilled:l||A2,pending:o||A2,rejected:c||A2,settled:d||A2})}function A2(){}var bEe="task",oY="listener",cY="completed",C_="cancelled",yEe=`task-${C_}`,wEe=`task-${cY}`,w6=`${oY}-${C_}`,jEe=`${oY}-${cY}`,AN=class{constructor(e){this.code=e,this.message=`${bEe} ${C_} (reason: ${e})`}name="TaskAbortError";message},A_=(e,t)=>{if(typeof e!="function")throw new TypeError(qo(32))},ej=()=>{},dY=(e,t=ej)=>(e.catch(t),e),uY=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),um=(e,t)=>{const a=e.signal;a.aborted||("reason"in a||Object.defineProperty(a,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},hm=e=>{if(e.aborted){const{reason:t}=e;throw new AN(t)}};function hY(e,t){let a=ej;return new Promise((r,n)=>{const i=()=>n(new AN(e.reason));if(e.aborted){i();return}a=uY(e,i),t.finally(()=>a()).then(r,n)}).finally(()=>{a=ej})}var NEe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(a){return{status:a instanceof AN?"cancelled":"rejected",error:a}}finally{t?.()}},tj=e=>t=>dY(hY(e,t).then(a=>(hm(e),a))),fY=e=>{const t=tj(e);return a=>t(new Promise(r=>setTimeout(r,a)))},{assign:nx}=Object,BF={},_N="listenerMiddleware",kEe=(e,t)=>{const a=r=>uY(e,()=>um(r,e.reason));return(r,n)=>{A_(r);const i=new AbortController;a(i);const l=NEe(async()=>{hm(e),hm(i.signal);const o=await r({pause:tj(i.signal),delay:fY(i.signal),signal:i.signal});return hm(i.signal),o},()=>um(i,wEe));return n?.autoJoin&&t.push(l.catch(ej)),{result:tj(e)(l),cancel(){um(i,yEe)}}}},SEe=(e,t)=>{const a=async(r,n)=>{hm(t);let i=()=>{};const o=[new Promise((c,d)=>{let u=e({predicate:r,effect:(f,p)=>{p.unsubscribe(),c([f,p.getState(),p.getOriginalState()])}});i=()=>{u(),d()}})];n!=null&&o.push(new Promise(c=>setTimeout(c,n,null)));try{const c=await hY(t,Promise.race(o));return hm(t),c}finally{i()}};return(r,n)=>dY(a(r,n))},mY=e=>{let{type:t,actionCreator:a,matcher:r,predicate:n,effect:i}=e;if(t)n=Ic(t).match;else if(a)t=a.type,n=a.match;else if(r)n=r;else if(!n)throw new Error(qo(21));return A_(i),{predicate:n,type:t,effect:i}},pY=nx(e=>{const{type:t,predicate:a,effect:r}=mY(e);return{id:cEe(),effect:r,type:t,predicate:a,pending:new Set,unsubscribe:()=>{throw new Error(qo(22))}}},{withTypes:()=>pY}),$F=(e,t)=>{const{type:a,effect:r,predicate:n}=mY(t);return Array.from(e.values()).find(i=>(typeof a=="string"?i.type===a:i.predicate===n)&&i.effect===r)},j6=e=>{e.pending.forEach(t=>{um(t,w6)})},CEe=(e,t)=>()=>{for(const a of t.keys())j6(a);e.clear()},UF=(e,t,a)=>{try{e(t,a)}catch(r){setTimeout(()=>{throw r},0)}},xY=nx(Ic(`${_N}/add`),{withTypes:()=>xY}),AEe=Ic(`${_N}/removeAll`),gY=nx(Ic(`${_N}/remove`),{withTypes:()=>gY}),_Ee=(...e)=>{console.error(`${_N}/error`,...e)},pb=(e={})=>{const t=new Map,a=new Map,r=m=>{const v=a.get(m)??0;a.set(m,v+1)},n=m=>{const v=a.get(m)??1;v===1?a.delete(m):a.set(m,v-1)},{extra:i,onError:l=_Ee}=e;A_(l);const o=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),v=>{m.unsubscribe(),v?.cancelActive&&j6(m)}),c=m=>{const v=$F(t,m)??pY(m);return o(v)};nx(c,{withTypes:()=>c});const d=m=>{const v=$F(t,m);return v&&(v.unsubscribe(),m.cancelActive&&j6(v)),!!v};nx(d,{withTypes:()=>d});const u=async(m,v,g,b)=>{const j=new AbortController,k=SEe(c,j.signal),S=[];try{m.pending.add(j),r(m),await Promise.resolve(m.effect(v,nx({},g,{getOriginalState:b,condition:(N,A)=>k(N,A).then(Boolean),take:k,delay:fY(j.signal),pause:tj(j.signal),extra:i,signal:j.signal,fork:kEe(j.signal,S),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((N,A,_)=>{N!==j&&(um(N,w6),_.delete(N))})},cancel:()=>{um(j,w6),m.pending.delete(j)},throwIfCancelled:()=>{hm(j.signal)}})))}catch(N){N instanceof AN||UF(l,N,{raisedBy:"effect"})}finally{await Promise.all(S),um(j,jEe),n(m),m.pending.delete(j)}},f=CEe(t,a);return{middleware:m=>v=>g=>{if(!YK(g))return v(g);if(xY.match(g))return c(g.payload);if(AEe.match(g)){f();return}if(gY.match(g))return d(g.payload);let b=m.getState();const j=()=>{if(b===BF)throw new Error(qo(23));return b};let k;try{if(k=v(g),t.size>0){const S=m.getState(),N=Array.from(t.values());for(const A of N){let _=!1;try{_=A.predicate(g,S,b)}catch(E){_=!1,UF(l,E,{raisedBy:"predicate"})}_&&u(A,g,m,j)}}}finally{b=BF}return k},startListening:c,stopListening:d,clearListeners:f}};function qo(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var EEe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},vY=Yo({name:"chartLayout",initialState:EEe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var a,r,n,i;e.margin.top=(a=t.payload.top)!==null&&a!==void 0?a:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(n=t.payload.bottom)!==null&&n!==void 0?n:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:TEe,setLayout:DEe,setChartSize:PEe,setScale:MEe}=vY.actions,LEe=vY.reducer;function zF(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function HF(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?zF(Object(a),!0).forEach(function(r){OEe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):zF(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function OEe(e,t,a){return(t=REe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function REe(e){var t=FEe(e,"string");return typeof t=="symbol"?t:t+""}function FEe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aj=Math.PI/180,IEe=e=>e*180/Math.PI,Qi=(e,t,a,r)=>({x:e+Math.cos(-aj*r)*a,y:t+Math.sin(-aj*r)*a}),BEe=function(t,a){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(a-(r.top||0)-(r.bottom||0)))/2},$Ee=(e,t)=>{var{x:a,y:r}=e,{x:n,y:i}=t;return Math.sqrt((a-n)**2+(r-i)**2)},UEe=(e,t)=>{var{x:a,y:r}=e,{cx:n,cy:i}=t,l=$Ee({x:a,y:r},{x:n,y:i});if(l<=0)return{radius:l,angle:0};var o=(a-n)/l,c=Math.acos(o);return r>i&&(c=2*Math.PI-c),{radius:l,angle:IEe(c),angleInRadian:c}},zEe=e=>{var{startAngle:t,endAngle:a}=e,r=Math.floor(t/360),n=Math.floor(a/360),i=Math.min(r,n);return{startAngle:t-i*360,endAngle:a-i*360}},HEe=(e,t)=>{var{startAngle:a,endAngle:r}=t,n=Math.floor(a/360),i=Math.floor(r/360),l=Math.min(n,i);return e+l*360},VEe=(e,t)=>{var{x:a,y:r}=e,{radius:n,angle:i}=UEe({x:a,y:r},t),{innerRadius:l,outerRadius:o}=t;if(n<l||n>o||n===0)return null;var{startAngle:c,endAngle:d}=zEe(t),u=i,f;if(c<=d){for(;u>d;)u-=360;for(;u<c;)u+=360;f=u>=c&&u<=d}else{for(;u>c;)u-=360;for(;u<d;)u+=360;f=u>=d&&u<=c}return f?HF(HF({},t),{},{radius:n,angle:HEe(u,t)}):null};function bY(e,t,a){return Array.isArray(e)&&e&&t+a!==0?e.slice(t,a+1):e}function VF(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function Ac(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?VF(Object(a),!0).forEach(function(r){WEe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):VF(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function WEe(e,t,a){return(t=qEe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function qEe(e){var t=GEe(e,"string");return typeof t=="symbol"?t:t+""}function GEe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pi(e,t,a){return Wr(e)||Wr(t)?a:vu(t)?jx(e,t,a):typeof t=="function"?t(e):a}var KEe=(e,t,a,r,n)=>{var i,l=-1,o=(i=t?.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(r==="angleAxis"&&n!=null&&Math.abs(Math.abs(n[1]-n[0])-360)<=1e-6)for(var c=0;c<o;c++){var d=c>0?a[c-1].coordinate:a[o-1].coordinate,u=a[c].coordinate,f=c>=o-1?a[0].coordinate:a[c+1].coordinate,p=void 0;if(mo(u-d)!==mo(f-u)){var m=[];if(mo(f-u)===mo(n[1]-n[0])){p=f;var v=u+n[1]-n[0];m[0]=Math.min(v,(v+d)/2),m[1]=Math.max(v,(v+d)/2)}else{p=d;var g=f+n[1]-n[0];m[0]=Math.min(u,(g+u)/2),m[1]=Math.max(u,(g+u)/2)}var b=[Math.min(u,(p+u)/2),Math.max(u,(p+u)/2)];if(e>b[0]&&e<=b[1]||e>=m[0]&&e<=m[1]){({index:l}=a[c]);break}}else{var j=Math.min(d,f),k=Math.max(d,f);if(e>(j+u)/2&&e<=(k+u)/2){({index:l}=a[c]);break}}}else if(t){for(var S=0;S<o;S++)if(S===0&&e<=(t[S].coordinate+t[S+1].coordinate)/2||S>0&&S<o-1&&e>(t[S].coordinate+t[S-1].coordinate)/2&&e<=(t[S].coordinate+t[S+1].coordinate)/2||S===o-1&&e>(t[S].coordinate+t[S-1].coordinate)/2){({index:l}=t[S]);break}}return l},YEe=(e,t,a)=>{if(t&&a){var{width:r,height:n}=a,{align:i,verticalAlign:l,layout:o}=t;if((o==="vertical"||o==="horizontal"&&l==="middle")&&i!=="center"&&Ea(e[i]))return Ac(Ac({},e),{},{[i]:e[i]+(r||0)});if((o==="horizontal"||o==="vertical"&&i==="center")&&l!=="middle"&&Ea(e[l]))return Ac(Ac({},e),{},{[l]:e[l]+(n||0)})}return e},e0=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",yY=(e,t,a,r)=>{if(r)return e.map(o=>o.coordinate);var n,i,l=e.map(o=>(o.coordinate===t&&(n=!0),o.coordinate===a&&(i=!0),o.coordinate));return n||l.push(t),i||l.push(a),l},wY=(e,t,a)=>{if(!e)return null;var{duplicateDomain:r,type:n,range:i,scale:l,realScaleType:o,isCategorical:c,categoricalDomain:d,tickCount:u,ticks:f,niceTicks:p,axisType:m}=e;if(!l)return null;var v=o==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,g=n==="category"&&l.bandwidth?l.bandwidth()/v:0;if(g=m==="angleAxis"&&i&&i.length>=2?mo(i[0]-i[1])*2*g:g,f||p){var b=(f||p||[]).map((j,k)=>{var S=r?r.indexOf(j):j;return{coordinate:l(S)+g,value:j,offset:g,index:k}});return b.filter(j=>!Fc(j.coordinate))}return c&&d?d.map((j,k)=>({coordinate:l(j)+g,value:j,index:k,offset:g})):l.ticks&&u!=null?l.ticks(u).map((j,k)=>({coordinate:l(j)+g,value:j,offset:g,index:k})):l.domain().map((j,k)=>({coordinate:l(j)+g,value:r?r[j]:j,index:k,offset:g}))},WF=1e-4,XEe=e=>{var t=e.domain();if(!(!t||t.length<=2)){var a=t.length,r=e.range(),n=Math.min(r[0],r[1])-WF,i=Math.max(r[0],r[1])+WF,l=e(t[0]),o=e(t[a-1]);(l<n||l>i||o<n||o>i)&&e.domain([t[0],t[a-1]])}},JEe=(e,t)=>{if(!t||t.length!==2||!Ea(t[0])||!Ea(t[1]))return e;var a=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),n=[e[0],e[1]];return(!Ea(e[0])||e[0]<a)&&(n[0]=a),(!Ea(e[1])||e[1]>r)&&(n[1]=r),n[0]>r&&(n[0]=r),n[1]<a&&(n[1]=a),n},QEe=e=>{var t=e.length;if(!(t<=0))for(var a=0,r=e[0].length;a<r;++a)for(var n=0,i=0,l=0;l<t;++l){var o=Fc(e[l][a][1])?e[l][a][0]:e[l][a][1];o>=0?(e[l][a][0]=n,e[l][a][1]=n+o,n=e[l][a][1]):(e[l][a][0]=i,e[l][a][1]=i+o,i=e[l][a][1])}},ZEe=e=>{var t=e.length;if(!(t<=0))for(var a=0,r=e[0].length;a<r;++a)for(var n=0,i=0;i<t;++i){var l=Fc(e[i][a][1])?e[i][a][0]:e[i][a][1];l>=0?(e[i][a][0]=n,e[i][a][1]=n+l,n=e[i][a][1]):(e[i][a][0]=0,e[i][a][1]=0)}},eTe={sign:QEe,expand:C8e,none:wx,silhouette:A8e,wiggle:_8e,positive:ZEe},tTe=(e,t,a)=>{var r=eTe[a],n=S8e().keys(t).value((i,l)=>+Pi(i,l,0)).order(f6).offset(r);return n(e)};function aTe(e){return e==null?void 0:String(e)}function qF(e){var{axis:t,ticks:a,bandSize:r,entry:n,index:i,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Wr(n[t.dataKey])){var o=DK(a,"value",n[t.dataKey]);if(o)return o.coordinate+r/2}return a[i]?a[i].coordinate+r/2:null}var c=Pi(n,Wr(l)?t.dataKey:l);return Wr(c)?null:t.scale(c)}var GF=e=>{var{axis:t,ticks:a,offset:r,bandSize:n,entry:i,index:l}=e;if(t.type==="category")return a[l]?a[l].coordinate+r:null;var o=Pi(i,t.dataKey,t.scale.domain()[l]);return Wr(o)?null:t.scale(o)-n/2+r},sTe=e=>{var{numericAxis:t}=e,a=t.scale.domain();if(t.type==="number"){var r=Math.min(a[0],a[1]),n=Math.max(a[0],a[1]);return r<=0&&n>=0?0:n<0?n:r}return a[0]},rTe=e=>{var t=e.flat(2).filter(Ea);return[Math.min(...t),Math.max(...t)]},nTe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],iTe=(e,t,a)=>{if(e!=null)return nTe(Object.keys(e).reduce((r,n)=>{var i=e[n],{stackedData:l}=i,o=l.reduce((c,d)=>{var u=bY(d,t,a),f=rTe(u);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},KF=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,YF=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,L1=(e,t,a)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!a||r>0)return r}if(e&&t&&t.length>=2){for(var n=NN(t,u=>u.coordinate),i=1/0,l=1,o=n.length;l<o;l++){var c=n[l],d=n[l-1];i=Math.min((c.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return a?void 0:0};function XF(e){var{tooltipEntrySettings:t,dataKey:a,payload:r,value:n,name:i}=e;return Ac(Ac({},t),{},{dataKey:a,payload:r,value:n,name:i})}function EN(e,t){if(e)return String(e);if(typeof t=="string")return t}function lTe(e,t,a,r,n){if(a==="horizontal"||a==="vertical"){var i=e>=n.left&&e<=n.left+n.width&&t>=n.top&&t<=n.top+n.height;return i?{x:e,y:t}:null}return r?VEe({x:e,y:t},r):null}var oTe=(e,t,a,r)=>{var n=t.find(d=>d&&d.index===a);if(n){if(e==="horizontal")return{x:n.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:n.coordinate};if(e==="centric"){var i=n.coordinate,{radius:l}=r;return Ac(Ac(Ac({},r),Qi(r.cx,r.cy,l,i)),{},{angle:i,radius:l})}var o=n.coordinate,{angle:c}=r;return Ac(Ac(Ac({},r),Qi(r.cx,r.cy,o,c)),{},{angle:c,radius:o})}return{x:0,y:0}},cTe=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Eh=e=>e.layout.width,Th=e=>e.layout.height,dTe=e=>e.layout.scale,jY=e=>e.layout.margin,TN=yt(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),DN=yt(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),uTe="data-recharts-item-index",hTe="data-recharts-item-data-key",xb=60;function JF(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function _2(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?JF(Object(a),!0).forEach(function(r){fTe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):JF(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function fTe(e,t,a){return(t=mTe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function mTe(e){var t=pTe(e,"string");return typeof t=="symbol"?t:t+""}function pTe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xTe=e=>e.brush.height;function gTe(e){var t=DN(e);return t.reduce((a,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var n=typeof r.width=="number"?r.width:xb;return a+n}return a},0)}function vTe(e){var t=DN(e);return t.reduce((a,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var n=typeof r.width=="number"?r.width:xb;return a+n}return a},0)}function bTe(e){var t=TN(e);return t.reduce((a,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?a+r.height:a,0)}function yTe(e){var t=TN(e);return t.reduce((a,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?a+r.height:a,0)}var Mi=yt([Eh,Th,jY,xTe,gTe,vTe,bTe,yTe,qK,R_e],(e,t,a,r,n,i,l,o,c,d)=>{var u={left:(a.left||0)+n,right:(a.right||0)+i},f={top:(a.top||0)+l,bottom:(a.bottom||0)+o},p=_2(_2({},f),u),m=p.bottom;p.bottom+=r,p=YEe(p,c,d);var v=e-p.left-p.right,g=t-p.top-p.bottom;return _2(_2({brushBottom:m},p),{},{width:Math.max(v,0),height:Math.max(g,0)})}),wTe=yt(Mi,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),__=yt(Eh,Th,(e,t)=>({x:0,y:0,width:e,height:t})),jTe=y.createContext(null),ql=()=>y.useContext(jTe)!=null,PN=e=>e.brush,MN=yt([PN,Mi,jY],(e,t,a)=>({height:e.height,x:Ea(e.x)?e.x:t.left,y:Ea(e.y)?e.y:t.top+t.height+t.brushBottom-(a?.bottom||0),width:Ea(e.width)?e.width:t.width})),Xk={},Jk={},Qk={},QF;function NTe(){return QF||(QF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,r,{signal:n,edges:i}={}){let l,o=null;const c=i!=null&&i.includes("leading"),d=i==null||i.includes("trailing"),u=()=>{o!==null&&(a.apply(l,o),l=void 0,o=null)},f=()=>{d&&u(),g()};let p=null;const m=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,f()},r)},v=()=>{p!==null&&(clearTimeout(p),p=null)},g=()=>{v(),l=void 0,o=null},b=()=>{u()},j=function(...k){if(n?.aborted)return;l=this,o=k;const S=p==null;m(),c&&S&&u()};return j.schedule=m,j.cancel=g,j.flush=b,n?.addEventListener("abort",g,{once:!0}),j}e.debounce=t})(Qk)),Qk}var ZF;function kTe(){return ZF||(ZF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NTe();function a(r,n=0,i={}){typeof i!="object"&&(i={});const{leading:l=!1,trailing:o=!0,maxWait:c}=i,d=Array(2);l&&(d[0]="leading"),o&&(d[1]="trailing");let u,f=null;const p=t.debounce(function(...g){u=r.apply(this,g),f=null},n,{edges:d}),m=function(...g){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(u=r.apply(this,g),f=Date.now(),p.cancel(),p.schedule(),u):(p.apply(this,g),u)},v=()=>(p.flush(),u);return m.cancel=p.cancel,m.flush=v,m}e.debounce=a})(Jk)),Jk}var eI;function STe(){return eI||(eI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kTe();function a(r,n=0,i={}){const{leading:l=!0,trailing:o=!0}=i;return t.debounce(r,n,{leading:l,maxWait:n,trailing:o})}e.throttle=a})(Xk)),Xk}var Zk,tI;function CTe(){return tI||(tI=1,Zk=STe().throttle),Zk}var ATe=CTe();const _Te=kh(ATe);var sj=function(t,a){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i]},NY=(e,t,a)=>{var{width:r="100%",height:n="100%",aspect:i,maxHeight:l}=a,o=bh(r)?e:Number(r),c=bh(n)?t:Number(n);return i&&i>0&&(o?c=o/i:c&&(o=c*i),l&&c>l&&(c=l)),{calculatedWidth:o,calculatedHeight:c}},ETe={width:0,height:0,overflow:"visible"},TTe={width:0,overflowX:"visible"},DTe={height:0,overflowY:"visible"},PTe={},MTe=e=>{var{width:t,height:a}=e,r=bh(t),n=bh(a);return r&&n?ETe:r?TTe:n?DTe:PTe};function LTe(e){var{width:t,height:a,aspect:r}=e,n=t,i=a;return n===void 0&&i===void 0?(n="100%",i="100%"):n===void 0?n=r&&r>0?void 0:"100%":i===void 0&&(i=r&&r>0?void 0:"100%"),{width:n,height:i}}function kl(e){return Number.isFinite(e)}function Nx(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function N6(){return N6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},N6.apply(null,arguments)}function aI(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function sI(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?aI(Object(a),!0).forEach(function(r){OTe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):aI(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function OTe(e,t,a){return(t=RTe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function RTe(e){var t=FTe(e,"string");return typeof t=="symbol"?t:t+""}function FTe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kY=y.createContext({width:-1,height:-1});function SY(e){var{children:t,width:a,height:r}=e,n=y.useMemo(()=>({width:a,height:r}),[a,r]);return a<=0||r<=0?null:y.createElement(kY.Provider,{value:n},t)}var E_=()=>y.useContext(kY),ITe=y.forwardRef((e,t)=>{var{aspect:a,initialDimension:r={width:-1,height:-1},width:n,height:i,minWidth:l=0,minHeight:o,maxHeight:c,children:d,debounce:u=0,id:f,className:p,onResize:m,style:v={}}=e,g=y.useRef(null),b=y.useRef();b.current=m,y.useImperativeHandle(t,()=>g.current);var[j,k]=y.useState({containerWidth:r.width,containerHeight:r.height}),S=y.useCallback((D,R)=>{k(I=>{var M=Math.round(D),U=Math.round(R);return I.containerWidth===M&&I.containerHeight===U?I:{containerWidth:M,containerHeight:U}})},[]);y.useEffect(()=>{var D=U=>{var P,{width:F,height:K}=U[0].contentRect;S(F,K),(P=b.current)===null||P===void 0||P.call(b,F,K)};u>0&&(D=_Te(D,u,{trailing:!0,leading:!1}));var R=new ResizeObserver(D),{width:I,height:M}=g.current.getBoundingClientRect();return S(I,M),R.observe(g.current),()=>{R.disconnect()}},[S,u]);var{containerWidth:N,containerHeight:A}=j;sj(!a||a>0,"The aspect(%s) must be greater than zero.",a);var{calculatedWidth:_,calculatedHeight:E}=NY(N,A,{width:n,height:i,aspect:a,maxHeight:c});return sj(_>0||E>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,_,E,n,i,l,o,a),y.createElement("div",{id:f?"".concat(f):void 0,className:cr("recharts-responsive-container",p),style:sI(sI({},v),{},{width:n,height:i,minWidth:l,minHeight:o,maxHeight:c}),ref:g},y.createElement("div",{style:MTe({width:n,height:i})},y.createElement(SY,{width:_,height:E},d)))}),rj=y.forwardRef((e,t)=>{var a=E_();if(Nx(a.width)&&Nx(a.height))return e.children;var{width:r,height:n}=LTe({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:l}=NY(void 0,void 0,{width:r,height:n,aspect:e.aspect,maxHeight:e.maxHeight});return Ea(i)&&Ea(l)?y.createElement(SY,{width:i,height:l},e.children):y.createElement(ITe,N6({},e,{width:r,height:n,ref:t}))}),LN=()=>{var e,t=ql(),a=Ca(wTe),r=Ca(MN),n=(e=Ca(PN))===null||e===void 0?void 0:e.padding;return!t||!r||!n?a:{width:r.width-n.left-n.right,height:r.height-n.top-n.bottom,x:n.left,y:n.top}},BTe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},CY=()=>{var e;return(e=Ca(Mi))!==null&&e!==void 0?e:BTe},AY=()=>Ca(Eh),_Y=()=>Ca(Th),qs=e=>e.layout.layoutType,ON=()=>Ca(qs),RN=e=>{var t=fi(),a=ql(),{width:r,height:n}=e,i=E_(),l=r,o=n;return i&&(l=i.width>0?i.width:r,o=i.height>0?i.height:n),y.useEffect(()=>{!a&&Nx(l)&&Nx(o)&&t(PEe({width:l,height:o}))},[t,a,l,o]),null},$Te={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},EY=Yo({name:"legend",initialState:$Te,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Bl()},removeLegendPayload:{reducer(e,t){var a=hh(e).payload.indexOf(t.payload);a>-1&&e.payload.splice(a,1)},prepare:Bl()}}}),{setLegendSize:bHe,setLegendSettings:yHe,addLegendPayload:UTe,removeLegendPayload:zTe}=EY.actions,HTe=EY.reducer;function k6(){return k6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},k6.apply(null,arguments)}function rI(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function eS(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?rI(Object(a),!0).forEach(function(r){VTe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):rI(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function VTe(e,t,a){return(t=WTe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function WTe(e){var t=qTe(e,"string");return typeof t=="symbol"?t:t+""}function qTe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GTe(e){return Array.isArray(e)&&vu(e[0])&&vu(e[1])?e.join(" ~ "):e}var KTe=e=>{var{separator:t=" : ",contentStyle:a={},itemStyle:r={},labelStyle:n={},payload:i,formatter:l,itemSorter:o,wrapperClassName:c,labelClassName:d,label:u,labelFormatter:f,accessibilityLayer:p=!1}=e,m=()=>{if(i&&i.length){var A={padding:0,margin:0},_=(o?NN(i,o):i).map((E,D)=>{if(E.type==="none")return null;var R=E.formatter||l||GTe,{value:I,name:M}=E,U=I,P=M;if(R){var F=R(I,M,E,D,i);if(Array.isArray(F))[U,P]=F;else if(F!=null)U=F;else return null}var K=eS({display:"block",paddingTop:4,paddingBottom:4,color:E.color||"#000"},r);return y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:K},vu(P)?y.createElement("span",{className:"recharts-tooltip-item-name"},P):null,vu(P)?y.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,y.createElement("span",{className:"recharts-tooltip-item-value"},U),y.createElement("span",{className:"recharts-tooltip-item-unit"},E.unit||""))});return y.createElement("ul",{className:"recharts-tooltip-item-list",style:A},_)}return null},v=eS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),g=eS({margin:0},n),b=!Wr(u),j=b?u:"",k=cr("recharts-default-tooltip",c),S=cr("recharts-tooltip-label",d);b&&f&&i!==void 0&&i!==null&&(j=f(u,i));var N=p?{role:"status","aria-live":"assertive"}:{};return y.createElement("div",k6({className:k,style:v},N),y.createElement("p",{className:S,style:g},y.isValidElement(j)?j:"".concat(j)),m())},nv="recharts-tooltip-wrapper",YTe={visibility:"hidden"};function XTe(e){var{coordinate:t,translateX:a,translateY:r}=e;return cr(nv,{["".concat(nv,"-right")]:Ea(a)&&t&&Ea(t.x)&&a>=t.x,["".concat(nv,"-left")]:Ea(a)&&t&&Ea(t.x)&&a<t.x,["".concat(nv,"-bottom")]:Ea(r)&&t&&Ea(t.y)&&r>=t.y,["".concat(nv,"-top")]:Ea(r)&&t&&Ea(t.y)&&r<t.y})}function nI(e){var{allowEscapeViewBox:t,coordinate:a,key:r,offsetTopLeft:n,position:i,reverseDirection:l,tooltipDimension:o,viewBox:c,viewBoxDimension:d}=e;if(i&&Ea(i[r]))return i[r];var u=a[r]-o-(n>0?n:0),f=a[r]+n;if(t[r])return l[r]?u:f;var p=c[r];if(p==null)return 0;if(l[r]){var m=u,v=p;return m<v?Math.max(f,p):Math.max(u,p)}if(d==null)return 0;var g=f+o,b=p+d;return g>b?Math.max(u,p):Math.max(f,p)}function JTe(e){var{translateX:t,translateY:a,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(a,"px, 0)"):"translate(".concat(t,"px, ").concat(a,"px)")}}function QTe(e){var{allowEscapeViewBox:t,coordinate:a,offsetTopLeft:r,position:n,reverseDirection:i,tooltipBox:l,useTranslate3d:o,viewBox:c}=e,d,u,f;return l.height>0&&l.width>0&&a?(u=nI({allowEscapeViewBox:t,coordinate:a,key:"x",offsetTopLeft:r,position:n,reverseDirection:i,tooltipDimension:l.width,viewBox:c,viewBoxDimension:c.width}),f=nI({allowEscapeViewBox:t,coordinate:a,key:"y",offsetTopLeft:r,position:n,reverseDirection:i,tooltipDimension:l.height,viewBox:c,viewBoxDimension:c.height}),d=JTe({translateX:u,translateY:f,useTranslate3d:o})):d=YTe,{cssProperties:d,cssClasses:XTe({translateX:u,translateY:f,coordinate:a})}}function iI(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function E2(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?iI(Object(a),!0).forEach(function(r){S6(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):iI(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function S6(e,t,a){return(t=ZTe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ZTe(e){var t=e7e(e,"string");return typeof t=="symbol"?t:t+""}function e7e(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class t7e extends y.PureComponent{constructor(){super(...arguments),S6(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),S6(this,"handleKeyDown",t=>{if(t.key==="Escape"){var a,r,n,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&a!==void 0?a:0,y:(n=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&n!==void 0?n:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,a;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:a,animationDuration:r,animationEasing:n,children:i,coordinate:l,hasPayload:o,isAnimationActive:c,offset:d,position:u,reverseDirection:f,useTranslate3d:p,viewBox:m,wrapperStyle:v,lastBoundingBox:g,innerRef:b,hasPortalFromProps:j}=this.props,{cssClasses:k,cssProperties:S}=QTe({allowEscapeViewBox:a,coordinate:l,offsetTopLeft:d,position:u,reverseDirection:f,tooltipBox:{height:g.height,width:g.width},useTranslate3d:p,viewBox:m}),N=j?{}:E2(E2({transition:c&&t?"transform ".concat(r,"ms ").concat(n):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),A=E2(E2({},N),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},v);return y.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:k,style:A,ref:b},i)}}var a7e=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),qm={devToolsEnabled:!1,isSsr:a7e()},TY=()=>Ca(e=>e.rootProps.accessibilityLayer);function C6(){return C6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},C6.apply(null,arguments)}function lI(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function oI(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?lI(Object(a),!0).forEach(function(r){s7e(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):lI(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function s7e(e,t,a){return(t=r7e(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r7e(e){var t=n7e(e,"string");return typeof t=="symbol"?t:t+""}function n7e(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cI={curveBasisClosed:m8e,curveBasisOpen:p8e,curveBasis:f8e,curveBumpX:ZAe,curveBumpY:e8e,curveLinearClosed:x8e,curveLinear:wN,curveMonotoneX:g8e,curveMonotoneY:v8e,curveNatural:b8e,curveStep:y8e,curveStepAfter:j8e,curveStepBefore:w8e},T2=e=>kl(e.x)&&kl(e.y),iv=e=>e.x,lv=e=>e.y,i7e=(e,t)=>{if(typeof e=="function")return e;var a="curve".concat(fb(e));return(a==="curveMonotone"||a==="curveBump")&&t?cI["".concat(a).concat(t==="vertical"?"Y":"X")]:cI[a]||wN},l7e=e=>{var{type:t="linear",points:a=[],baseLine:r,layout:n,connectNulls:i=!1}=e,l=i7e(t,n),o=i?a.filter(T2):a,c;if(Array.isArray(r)){var d=i?r.filter(f=>T2(f)):r,u=o.map((f,p)=>oI(oI({},f),{},{base:d[p]}));return n==="vertical"?c=j2().y(lv).x1(iv).x0(f=>f.base.x):c=j2().x(iv).y1(lv).y0(f=>f.base.y),c.defined(T2).curve(l),c(u)}return n==="vertical"&&Ea(r)?c=j2().y(lv).x1(iv).x0(r):Ea(r)?c=j2().x(iv).y1(lv).y0(r):c=vK().x(iv).y(lv),c.defined(T2).curve(l),c(o)},DY=e=>{var{className:t,points:a,path:r,pathRef:n}=e;if((!a||!a.length)&&!r)return null;var i=a&&a.length?l7e(e):r;return y.createElement("path",C6({},Sd(e),b_(e),{className:cr("recharts-curve",t),d:i===null?void 0:i,ref:n}))},o7e=["x","y","top","left","width","height","className"];function A6(){return A6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},A6.apply(null,arguments)}function dI(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function c7e(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?dI(Object(a),!0).forEach(function(r){d7e(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):dI(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function d7e(e,t,a){return(t=u7e(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function u7e(e){var t=h7e(e,"string");return typeof t=="symbol"?t:t+""}function h7e(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function f7e(e,t){if(e==null)return{};var a,r,n=m7e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function m7e(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var p7e=(e,t,a,r,n,i)=>"M".concat(e,",").concat(n,"v").concat(r,"M").concat(i,",").concat(t,"h").concat(a),x7e=e=>{var{x:t=0,y:a=0,top:r=0,left:n=0,width:i=0,height:l=0,className:o}=e,c=f7e(e,o7e),d=c7e({x:t,y:a,top:r,left:n,width:i,height:l},c);return!Ea(t)||!Ea(a)||!Ea(i)||!Ea(l)||!Ea(r)||!Ea(n)?null:y.createElement("path",A6({},Wl(d),{className:cr("recharts-cross",o),d:p7e(t,a,i,l,r,n)}))};function g7e(e,t,a,r){var n=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-n:a.left+.5,y:e==="horizontal"?a.top+.5:t.y-n,width:e==="horizontal"?r:a.width-1,height:e==="horizontal"?a.height-1:r}}function uI(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function v7e(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?uI(Object(a),!0).forEach(function(r){b7e(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):uI(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function b7e(e,t,a){return(t=y7e(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function y7e(e){var t=w7e(e,"string");return typeof t=="symbol"?t:t+""}function w7e(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jo(e,t){var a=v7e({},e),r=t,n=Object.keys(t),i=n.reduce((l,o)=>(l[o]===void 0&&r[o]!==void 0&&(l[o]=r[o]),l),a);return i}function j7e(){}function N7e(e){return e!=null}function hI(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function fI(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?hI(Object(a),!0).forEach(function(r){k7e(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):hI(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function k7e(e,t,a){return(t=S7e(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function S7e(e){var t=C7e(e,"string");return typeof t=="symbol"?t:t+""}function C7e(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var A7e=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),PY=(e,t,a)=>e.map(r=>"".concat(A7e(r)," ").concat(t,"ms ").concat(a)).join(","),_7e=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((a,r)=>a.filter(n=>r.includes(n))),O1=(e,t)=>Object.keys(t).reduce((a,r)=>fI(fI({},a),{},{[r]:e(r,t[r])}),{});function mI(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function Ki(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?mI(Object(a),!0).forEach(function(r){E7e(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):mI(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function E7e(e,t,a){return(t=T7e(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function T7e(e){var t=D7e(e,"string");return typeof t=="symbol"?t:t+""}function D7e(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nj=(e,t,a)=>e+(t-e)*a,_6=e=>{var{from:t,to:a}=e;return t!==a},MY=(e,t,a)=>{var r=O1((n,i)=>{if(_6(i)){var[l,o]=e(i.from,i.to,i.velocity);return Ki(Ki({},i),{},{from:l,velocity:o})}return i},t);return a<1?O1((n,i)=>_6(i)?Ki(Ki({},i),{},{velocity:nj(i.velocity,r[n].velocity,a),from:nj(i.from,r[n].from,a)}):i,t):MY(e,r,a-1)};function P7e(e,t,a,r,n,i){var l,o=r.reduce((p,m)=>Ki(Ki({},p),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>O1((p,m)=>m.from,o),d=()=>!Object.values(o).filter(_6).length,u=null,f=p=>{l||(l=p);var m=p-l,v=m/a.dt;o=MY(a,o,v),n(Ki(Ki(Ki({},e),t),c())),l=p,d()||(u=i.setTimeout(f))};return()=>(u=i.setTimeout(f),()=>{u()})}function M7e(e,t,a,r,n,i,l){var o=null,c=n.reduce((f,p)=>Ki(Ki({},f),{},{[p]:[e[p],t[p]]}),{}),d,u=f=>{d||(d=f);var p=(f-d)/r,m=O1((g,b)=>nj(...b,a(p)),c);if(i(Ki(Ki(Ki({},e),t),m)),p<1)o=l.setTimeout(u);else{var v=O1((g,b)=>nj(...b,a(1)),c);i(Ki(Ki(Ki({},e),t),v))}};return()=>(o=l.setTimeout(u),()=>{o()})}const L7e=(e,t,a,r,n,i)=>{var l=_7e(e,t);return a.isStepper===!0?P7e(e,t,a,l,n,i):M7e(e,t,a,r,l,n,i)};var ij=1e-4,LY=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],OY=(e,t)=>e.map((a,r)=>a*t**r).reduce((a,r)=>a+r),pI=(e,t)=>a=>{var r=LY(e,t);return OY(r,a)},O7e=(e,t)=>a=>{var r=LY(e,t),n=[...r.map((i,l)=>i*l).slice(1),0];return OY(n,a)},xI=function(){for(var t,a,r,n,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];if(l.length===1)switch(l[0]){case"linear":[t,r,a,n]=[0,0,1,1];break;case"ease":[t,r,a,n]=[.25,.1,.25,1];break;case"ease-in":[t,r,a,n]=[.42,0,1,1];break;case"ease-out":[t,r,a,n]=[.42,0,.58,1];break;case"ease-in-out":[t,r,a,n]=[0,0,.58,1];break;default:{var c=l[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,r,a,n]=c[1].split(")")[0].split(",").map(v=>parseFloat(v)))}}else l.length===4&&([t,r,a,n]=l);var d=pI(t,a),u=pI(r,n),f=O7e(t,a),p=v=>v>1?1:v<0?0:v,m=v=>{for(var g=v>1?1:v,b=g,j=0;j<8;++j){var k=d(b)-g,S=f(b);if(Math.abs(k-g)<ij||S<ij)return u(b);b=p(b-k/S)}return u(b)};return m.isStepper=!1,m},R7e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:a=100,damping:r=8,dt:n=17}=t,i=(l,o,c)=>{var d=-(l-o)*a,u=c*r,f=c+(d-u)*n/1e3,p=c*n/1e3+l;return Math.abs(p-o)<ij&&Math.abs(f)<ij?[o,0]:[p,f]};return i.isStepper=!0,i.dt=n,i},F7e=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return xI(e);case"spring":return R7e();default:if(e.split("(")[0]==="cubic-bezier")return xI(e)}return typeof e=="function"?e:null};function I7e(e){var t,a=()=>null,r=!1,n=null,i=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var o=l,[c,...d]=o;if(typeof c=="number"){n=e.setTimeout(i.bind(null,d),c);return}i(c),n=e.setTimeout(i.bind(null,d));return}typeof l=="string"&&(t=l,a(t)),typeof l=="object"&&(t=l,a(t)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,n&&(n(),n=null),i(l)},subscribe:l=>(a=l,()=>{a=()=>null}),getTimeoutController:()=>e}}class B7e{setTimeout(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),n=null,i=l=>{l-r>=a?t(l):typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(i))};return n=requestAnimationFrame(i),()=>{cancelAnimationFrame(n)}}}function $7e(){return I7e(new B7e)}var U7e=y.createContext($7e);function z7e(e,t){var a=y.useContext(U7e);return y.useMemo(()=>t??a(e),[e,t,a])}var H7e={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},gI={t:0},tS={t:1};function FN(e){var t=jo(e,H7e),{isActive:a,canBegin:r,duration:n,easing:i,begin:l,onAnimationEnd:o,onAnimationStart:c,children:d}=t,u=z7e(t.animationId,t.animationManager),[f,p]=y.useState(a?gI:tS),m=y.useRef(null);return y.useEffect(()=>{a||p(tS)},[a]),y.useEffect(()=>{if(!a||!r)return j7e;var v=L7e(gI,tS,F7e(i),n,p,u.getTimeoutController()),g=()=>{m.current=v()};return u.start([c,l,g,n,o]),()=>{u.stop(),m.current&&m.current(),o()}},[a,r,n,i,l,c,o,u]),d(f.t)}function IN(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",a=y.useRef(T1(t)),r=y.useRef(e);return r.current!==e&&(a.current=T1(t),r.current=e),a.current}var V7e=["radius"],W7e=["radius"];function vI(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function bI(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?vI(Object(a),!0).forEach(function(r){q7e(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):vI(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function q7e(e,t,a){return(t=G7e(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function G7e(e){var t=K7e(e,"string");return typeof t=="symbol"?t:t+""}function K7e(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lj(){return lj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},lj.apply(null,arguments)}function yI(e,t){if(e==null)return{};var a,r,n=Y7e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Y7e(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var wI=(e,t,a,r,n)=>{var i=Math.min(Math.abs(a)/2,Math.abs(r)/2),l=r>=0?1:-1,o=a>=0?1:-1,c=r>=0&&a>=0||r<0&&a<0?1:0,d;if(i>0&&n instanceof Array){for(var u=[0,0,0,0],f=0,p=4;f<p;f++)u[f]=n[f]>i?i:n[f];d="M".concat(e,",").concat(t+l*u[0]),u[0]>0&&(d+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+o*u[0],",").concat(t)),d+="L ".concat(e+a-o*u[1],",").concat(t),u[1]>0&&(d+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,`,
        `).concat(e+a,",").concat(t+l*u[1])),d+="L ".concat(e+a,",").concat(t+r-l*u[2]),u[2]>0&&(d+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,`,
        `).concat(e+a-o*u[2],",").concat(t+r)),d+="L ".concat(e+o*u[3],",").concat(t+r),u[3]>0&&(d+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+r-l*u[3])),d+="Z"}else if(i>0&&n===+n&&n>0){var m=Math.min(i,n);d="M ".concat(e,",").concat(t+l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+o*m,",").concat(t,`
            L `).concat(e+a-o*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+a,",").concat(t+l*m,`
            L `).concat(e+a,",").concat(t+r-l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+a-o*m,",").concat(t+r,`
            L `).concat(e+o*m,",").concat(t+r,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+r-l*m," Z")}else d="M ".concat(e,",").concat(t," h ").concat(a," v ").concat(r," h ").concat(-a," Z");return d},X7e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},RY=e=>{var t=jo(e,X7e),a=y.useRef(null),[r,n]=y.useState(-1);y.useEffect(()=>{if(a.current&&a.current.getTotalLength)try{var J=a.current.getTotalLength();J&&n(J)}catch{}},[]);var{x:i,y:l,width:o,height:c,radius:d,className:u}=t,{animationEasing:f,animationDuration:p,animationBegin:m,isAnimationActive:v,isUpdateAnimationActive:g}=t,b=y.useRef(o),j=y.useRef(c),k=y.useRef(i),S=y.useRef(l),N=y.useMemo(()=>({x:i,y:l,width:o,height:c,radius:d}),[i,l,o,c,d]),A=IN(N,"rectangle-");if(i!==+i||l!==+l||o!==+o||c!==+c||o===0||c===0)return null;var _=cr("recharts-rectangle",u);if(!g){var E=Wl(t),{radius:D}=E,R=yI(E,V7e);return y.createElement("path",lj({},R,{radius:typeof d=="number"?d:void 0,className:_,d:wI(i,l,o,c,d)}))}var I=b.current,M=j.current,U=k.current,P=S.current,F="0px ".concat(r===-1?1:r,"px"),K="".concat(r,"px 0px"),V=PY(["strokeDasharray"],p,typeof f=="string"?f:void 0);return y.createElement(FN,{animationId:A,key:A,canBegin:r>0,duration:p,easing:f,isActive:g,begin:m},J=>{var Q=Kn(I,o,J),z=Kn(M,c,J),X=Kn(U,i,J),le=Kn(P,l,J);a.current&&(b.current=Q,j.current=z,k.current=X,S.current=le);var O;v?J>0?O={transition:V,strokeDasharray:K}:O={strokeDasharray:F}:O={strokeDasharray:K};var q=Wl(t),{radius:W}=q,te=yI(q,W7e);return y.createElement("path",lj({},te,{radius:typeof d=="number"?d:void 0,className:_,d:wI(X,le,Q,z,d),ref:a,style:bI(bI({},O),t.style)}))})};function FY(e){var{cx:t,cy:a,radius:r,startAngle:n,endAngle:i}=e,l=Qi(t,a,r,n),o=Qi(t,a,r,i);return{points:[l,o],cx:t,cy:a,radius:r,startAngle:n,endAngle:i}}function E6(){return E6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},E6.apply(null,arguments)}var J7e=(e,t)=>{var a=mo(t-e),r=Math.min(Math.abs(t-e),359.999);return a*r},D2=e=>{var{cx:t,cy:a,radius:r,angle:n,sign:i,isExternal:l,cornerRadius:o,cornerIsExternal:c}=e,d=o*(l?1:-1)+r,u=Math.asin(o/d)/aj,f=c?n:n+i*u,p=Qi(t,a,d,f),m=Qi(t,a,r,f),v=c?n-i*u:n,g=Qi(t,a,d*Math.cos(u*aj),v);return{center:p,circleTangency:m,lineTangency:g,theta:u}},IY=e=>{var{cx:t,cy:a,innerRadius:r,outerRadius:n,startAngle:i,endAngle:l}=e,o=J7e(i,l),c=i+o,d=Qi(t,a,n,i),u=Qi(t,a,n,c),f="M ".concat(d.x,",").concat(d.y,`
    A `).concat(n,",").concat(n,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(i>c),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(r>0){var p=Qi(t,a,r,i),m=Qi(t,a,r,c);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(i<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else f+="L ".concat(t,",").concat(a," Z");return f},Q7e=e=>{var{cx:t,cy:a,innerRadius:r,outerRadius:n,cornerRadius:i,forceCornerRadius:l,cornerIsExternal:o,startAngle:c,endAngle:d}=e,u=mo(d-c),{circleTangency:f,lineTangency:p,theta:m}=D2({cx:t,cy:a,radius:n,angle:c,sign:u,cornerRadius:i,cornerIsExternal:o}),{circleTangency:v,lineTangency:g,theta:b}=D2({cx:t,cy:a,radius:n,angle:d,sign:-u,cornerRadius:i,cornerIsExternal:o}),j=o?Math.abs(c-d):Math.abs(c-d)-m-b;if(j<0)return l?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):IY({cx:t,cy:a,innerRadius:r,outerRadius:n,startAngle:c,endAngle:d});var k="M ".concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(n,",").concat(n,",0,").concat(+(j>180),",").concat(+(u<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(g.x,",").concat(g.y,`
  `);if(r>0){var{circleTangency:S,lineTangency:N,theta:A}=D2({cx:t,cy:a,radius:r,angle:c,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),{circleTangency:_,lineTangency:E,theta:D}=D2({cx:t,cy:a,radius:r,angle:d,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),R=o?Math.abs(c-d):Math.abs(c-d)-A-D;if(R<0&&i===0)return"".concat(k,"L").concat(t,",").concat(a,"Z");k+="L".concat(E.x,",").concat(E.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(_.x,",").concat(_.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(R>180),",").concat(+(u>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(N.x,",").concat(N.y,"Z")}else k+="L".concat(t,",").concat(a,"Z");return k},Z7e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},BY=e=>{var t=jo(e,Z7e),{cx:a,cy:r,innerRadius:n,outerRadius:i,cornerRadius:l,forceCornerRadius:o,cornerIsExternal:c,startAngle:d,endAngle:u,className:f}=t;if(i<n||d===u)return null;var p=cr("recharts-sector",f),m=i-n,v=Ad(l,m,0,!0),g;return v>0&&Math.abs(d-u)<360?g=Q7e({cx:a,cy:r,innerRadius:n,outerRadius:i,cornerRadius:Math.min(v,m/2),forceCornerRadius:o,cornerIsExternal:c,startAngle:d,endAngle:u}):g=IY({cx:a,cy:r,innerRadius:n,outerRadius:i,startAngle:d,endAngle:u}),y.createElement("path",E6({},Wl(t),{className:p,d:g}))};function eDe(e,t,a){var r,n,i,l;if(e==="horizontal")r=t.x,i=r,n=a.top,l=a.top+a.height;else if(e==="vertical")n=t.y,l=n,r=a.left,i=a.left+a.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:o,cy:c,innerRadius:d,outerRadius:u,angle:f}=t,p=Qi(o,c,d,f),m=Qi(o,c,u,f);r=p.x,n=p.y,i=m.x,l=m.y}else return FY(t);return[{x:r,y:n},{x:i,y:l}]}var aS={},sS={},rS={},jI;function tDe(){return jI||(jI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VK();function a(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=a})(rS)),rS}var NI;function aDe(){return NI||(NI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tDe();function a(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=a})(sS)),sS}var kI;function sDe(){return kI||(kI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WK(),a=aDe();function r(n,i,l){l&&typeof l!="number"&&t.isIterateeCall(n,i,l)&&(i=l=void 0),n=a.toFinite(n),i===void 0?(i=n,n=0):i=a.toFinite(i),l=l===void 0?n<i?1:-1:a.toFinite(l);const o=Math.max(Math.ceil((i-n)/(l||1)),0),c=new Array(o);for(let d=0;d<o;d++)c[d]=n,n+=l;return c}e.range=r})(aS)),aS}var nS,SI;function rDe(){return SI||(SI=1,nS=sDe().range),nS}var nDe=rDe();const $Y=kh(nDe);function Df(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function iDe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function T_(e){let t,a,r;e.length!==2?(t=Df,a=(o,c)=>Df(e(o),c),r=(o,c)=>e(o)-c):(t=e===Df||e===iDe?e:lDe,a=e,r=e);function n(o,c,d=0,u=o.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;a(o[f],c)<0?d=f+1:u=f}while(d<u)}return d}function i(o,c,d=0,u=o.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;a(o[f],c)<=0?d=f+1:u=f}while(d<u)}return d}function l(o,c,d=0,u=o.length){const f=n(o,c,d,u-1);return f>d&&r(o[f-1],c)>-r(o[f],c)?f-1:f}return{left:n,center:l,right:i}}function lDe(){return 0}function UY(e){return e===null?NaN:+e}function*oDe(e,t){for(let a of e)a!=null&&(a=+a)>=a&&(yield a)}const cDe=T_(Df),gb=cDe.right;T_(UY).center;class CI extends Map{constructor(t,a=hDe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:a}}),t!=null)for(const[r,n]of t)this.set(r,n)}get(t){return super.get(AI(this,t))}has(t){return super.has(AI(this,t))}set(t,a){return super.set(dDe(this,t),a)}delete(t){return super.delete(uDe(this,t))}}function AI({_intern:e,_key:t},a){const r=t(a);return e.has(r)?e.get(r):a}function dDe({_intern:e,_key:t},a){const r=t(a);return e.has(r)?e.get(r):(e.set(r,a),a)}function uDe({_intern:e,_key:t},a){const r=t(a);return e.has(r)&&(a=e.get(r),e.delete(r)),a}function hDe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function fDe(e=Df){if(e===Df)return zY;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,a)=>{const r=e(t,a);return r||r===0?r:(e(a,a)===0)-(e(t,t)===0)}}function zY(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const mDe=Math.sqrt(50),pDe=Math.sqrt(10),xDe=Math.sqrt(2);function oj(e,t,a){const r=(t-e)/Math.max(0,a),n=Math.floor(Math.log10(r)),i=r/Math.pow(10,n),l=i>=mDe?10:i>=pDe?5:i>=xDe?2:1;let o,c,d;return n<0?(d=Math.pow(10,-n)/l,o=Math.round(e*d),c=Math.round(t*d),o/d<e&&++o,c/d>t&&--c,d=-d):(d=Math.pow(10,n)*l,o=Math.round(e/d),c=Math.round(t/d),o*d<e&&++o,c*d>t&&--c),c<o&&.5<=a&&a<2?oj(e,t,a*2):[o,c,d]}function T6(e,t,a){if(t=+t,e=+e,a=+a,!(a>0))return[];if(e===t)return[e];const r=t<e,[n,i,l]=r?oj(t,e,a):oj(e,t,a);if(!(i>=n))return[];const o=i-n+1,c=new Array(o);if(r)if(l<0)for(let d=0;d<o;++d)c[d]=(i-d)/-l;else for(let d=0;d<o;++d)c[d]=(i-d)*l;else if(l<0)for(let d=0;d<o;++d)c[d]=(n+d)/-l;else for(let d=0;d<o;++d)c[d]=(n+d)*l;return c}function D6(e,t,a){return t=+t,e=+e,a=+a,oj(e,t,a)[2]}function P6(e,t,a){t=+t,e=+e,a=+a;const r=t<e,n=r?D6(t,e,a):D6(e,t,a);return(r?-1:1)*(n<0?1/-n:n)}function _I(e,t){let a;for(const r of e)r!=null&&(a<r||a===void 0&&r>=r)&&(a=r);return a}function EI(e,t){let a;for(const r of e)r!=null&&(a>r||a===void 0&&r>=r)&&(a=r);return a}function HY(e,t,a=0,r=1/0,n){if(t=Math.floor(t),a=Math.floor(Math.max(0,a)),r=Math.floor(Math.min(e.length-1,r)),!(a<=t&&t<=r))return e;for(n=n===void 0?zY:fDe(n);r>a;){if(r-a>600){const c=r-a+1,d=t-a+1,u=Math.log(c),f=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*f*(c-f)/c)*(d-c/2<0?-1:1),m=Math.max(a,Math.floor(t-d*f/c+p)),v=Math.min(r,Math.floor(t+(c-d)*f/c+p));HY(e,t,m,v,n)}const i=e[t];let l=a,o=r;for(ov(e,a,t),n(e[r],i)>0&&ov(e,a,r);l<o;){for(ov(e,l,o),++l,--o;n(e[l],i)<0;)++l;for(;n(e[o],i)>0;)--o}n(e[a],i)===0?ov(e,a,o):(++o,ov(e,o,r)),o<=t&&(a=o+1),t<=o&&(r=o-1)}return e}function ov(e,t,a){const r=e[t];e[t]=e[a],e[a]=r}function gDe(e,t,a){if(e=Float64Array.from(oDe(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return EI(e);if(t>=1)return _I(e);var r,n=(r-1)*t,i=Math.floor(n),l=_I(HY(e,i).subarray(0,i+1)),o=EI(e.subarray(i+1));return l+(o-l)*(n-i)}}function vDe(e,t,a=UY){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+a(e[0],0,e);if(t>=1)return+a(e[r-1],r-1,e);var r,n=(r-1)*t,i=Math.floor(n),l=+a(e[i],i,e),o=+a(e[i+1],i+1,e);return l+(o-l)*(n-i)}}function bDe(e,t,a){e=+e,t=+t,a=(n=arguments.length)<2?(t=e,e=0,1):n<3?1:+a;for(var r=-1,n=Math.max(0,Math.ceil((t-e)/a))|0,i=new Array(n);++r<n;)i[r]=e+r*a;return i}function Hc(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Dh(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const M6=Symbol("implicit");function D_(){var e=new CI,t=[],a=[],r=M6;function n(i){let l=e.get(i);if(l===void 0){if(r!==M6)return r;e.set(i,l=t.push(i)-1)}return a[l%a.length]}return n.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new CI;for(const l of i)e.has(l)||e.set(l,t.push(l)-1);return n},n.range=function(i){return arguments.length?(a=Array.from(i),n):a.slice()},n.unknown=function(i){return arguments.length?(r=i,n):r},n.copy=function(){return D_(t,a).unknown(r)},Hc.apply(n,arguments),n}function P_(){var e=D_().unknown(void 0),t=e.domain,a=e.range,r=0,n=1,i,l,o=!1,c=0,d=0,u=.5;delete e.unknown;function f(){var p=t().length,m=n<r,v=m?n:r,g=m?r:n;i=(g-v)/Math.max(1,p-c+d*2),o&&(i=Math.floor(i)),v+=(g-v-i*(p-c))*u,l=i*(1-c),o&&(v=Math.round(v),l=Math.round(l));var b=bDe(p).map(function(j){return v+i*j});return a(m?b.reverse():b)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([r,n]=p,r=+r,n=+n,f()):[r,n]},e.rangeRound=function(p){return[r,n]=p,r=+r,n=+n,o=!0,f()},e.bandwidth=function(){return l},e.step=function(){return i},e.round=function(p){return arguments.length?(o=!!p,f()):o},e.padding=function(p){return arguments.length?(c=Math.min(1,d=+p),f()):c},e.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),f()):c},e.paddingOuter=function(p){return arguments.length?(d=+p,f()):d},e.align=function(p){return arguments.length?(u=Math.max(0,Math.min(1,p)),f()):u},e.copy=function(){return P_(t(),[r,n]).round(o).paddingInner(c).paddingOuter(d).align(u)},Hc.apply(f(),arguments)}function VY(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return VY(t())},e}function yDe(){return VY(P_.apply(null,arguments).paddingInner(1))}function M_(e,t,a){e.prototype=t.prototype=a,a.constructor=e}function WY(e,t){var a=Object.create(e.prototype);for(var r in t)a[r]=t[r];return a}function vb(){}var R1=.7,cj=1/R1,ix="\\s*([+-]?\\d+)\\s*",F1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",xu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wDe=/^#([0-9a-f]{3,8})$/,jDe=new RegExp(`^rgb\\(${ix},${ix},${ix}\\)$`),NDe=new RegExp(`^rgb\\(${xu},${xu},${xu}\\)$`),kDe=new RegExp(`^rgba\\(${ix},${ix},${ix},${F1}\\)$`),SDe=new RegExp(`^rgba\\(${xu},${xu},${xu},${F1}\\)$`),CDe=new RegExp(`^hsl\\(${F1},${xu},${xu}\\)$`),ADe=new RegExp(`^hsla\\(${F1},${xu},${xu},${F1}\\)$`),TI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};M_(vb,I1,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:DI,formatHex:DI,formatHex8:_De,formatHsl:EDe,formatRgb:PI,toString:PI});function DI(){return this.rgb().formatHex()}function _De(){return this.rgb().formatHex8()}function EDe(){return qY(this).formatHsl()}function PI(){return this.rgb().formatRgb()}function I1(e){var t,a;return e=(e+"").trim().toLowerCase(),(t=wDe.exec(e))?(a=t[1].length,t=parseInt(t[1],16),a===6?MI(t):a===3?new po(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):a===8?P2(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):a===4?P2(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=jDe.exec(e))?new po(t[1],t[2],t[3],1):(t=NDe.exec(e))?new po(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=kDe.exec(e))?P2(t[1],t[2],t[3],t[4]):(t=SDe.exec(e))?P2(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=CDe.exec(e))?RI(t[1],t[2]/100,t[3]/100,1):(t=ADe.exec(e))?RI(t[1],t[2]/100,t[3]/100,t[4]):TI.hasOwnProperty(e)?MI(TI[e]):e==="transparent"?new po(NaN,NaN,NaN,0):null}function MI(e){return new po(e>>16&255,e>>8&255,e&255,1)}function P2(e,t,a,r){return r<=0&&(e=t=a=NaN),new po(e,t,a,r)}function TDe(e){return e instanceof vb||(e=I1(e)),e?(e=e.rgb(),new po(e.r,e.g,e.b,e.opacity)):new po}function L6(e,t,a,r){return arguments.length===1?TDe(e):new po(e,t,a,r??1)}function po(e,t,a,r){this.r=+e,this.g=+t,this.b=+a,this.opacity=+r}M_(po,L6,WY(vb,{brighter(e){return e=e==null?cj:Math.pow(cj,e),new po(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?R1:Math.pow(R1,e),new po(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new po(fm(this.r),fm(this.g),fm(this.b),dj(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:LI,formatHex:LI,formatHex8:DDe,formatRgb:OI,toString:OI}));function LI(){return`#${K0(this.r)}${K0(this.g)}${K0(this.b)}`}function DDe(){return`#${K0(this.r)}${K0(this.g)}${K0(this.b)}${K0((isNaN(this.opacity)?1:this.opacity)*255)}`}function OI(){const e=dj(this.opacity);return`${e===1?"rgb(":"rgba("}${fm(this.r)}, ${fm(this.g)}, ${fm(this.b)}${e===1?")":`, ${e})`}`}function dj(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function fm(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function K0(e){return e=fm(e),(e<16?"0":"")+e.toString(16)}function RI(e,t,a,r){return r<=0?e=t=a=NaN:a<=0||a>=1?e=t=NaN:t<=0&&(e=NaN),new vd(e,t,a,r)}function qY(e){if(e instanceof vd)return new vd(e.h,e.s,e.l,e.opacity);if(e instanceof vb||(e=I1(e)),!e)return new vd;if(e instanceof vd)return e;e=e.rgb();var t=e.r/255,a=e.g/255,r=e.b/255,n=Math.min(t,a,r),i=Math.max(t,a,r),l=NaN,o=i-n,c=(i+n)/2;return o?(t===i?l=(a-r)/o+(a<r)*6:a===i?l=(r-t)/o+2:l=(t-a)/o+4,o/=c<.5?i+n:2-i-n,l*=60):o=c>0&&c<1?0:l,new vd(l,o,c,e.opacity)}function PDe(e,t,a,r){return arguments.length===1?qY(e):new vd(e,t,a,r??1)}function vd(e,t,a,r){this.h=+e,this.s=+t,this.l=+a,this.opacity=+r}M_(vd,PDe,WY(vb,{brighter(e){return e=e==null?cj:Math.pow(cj,e),new vd(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?R1:Math.pow(R1,e),new vd(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,a=this.l,r=a+(a<.5?a:1-a)*t,n=2*a-r;return new po(iS(e>=240?e-240:e+120,n,r),iS(e,n,r),iS(e<120?e+240:e-120,n,r),this.opacity)},clamp(){return new vd(FI(this.h),M2(this.s),M2(this.l),dj(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=dj(this.opacity);return`${e===1?"hsl(":"hsla("}${FI(this.h)}, ${M2(this.s)*100}%, ${M2(this.l)*100}%${e===1?")":`, ${e})`}`}}));function FI(e){return e=(e||0)%360,e<0?e+360:e}function M2(e){return Math.max(0,Math.min(1,e||0))}function iS(e,t,a){return(e<60?t+(a-t)*e/60:e<180?a:e<240?t+(a-t)*(240-e)/60:t)*255}const L_=e=>()=>e;function MDe(e,t){return function(a){return e+a*t}}function LDe(e,t,a){return e=Math.pow(e,a),t=Math.pow(t,a)-e,a=1/a,function(r){return Math.pow(e+r*t,a)}}function ODe(e){return(e=+e)==1?GY:function(t,a){return a-t?LDe(t,a,e):L_(isNaN(t)?a:t)}}function GY(e,t){var a=t-e;return a?MDe(e,a):L_(isNaN(e)?t:e)}const II=(function e(t){var a=ODe(t);function r(n,i){var l=a((n=L6(n)).r,(i=L6(i)).r),o=a(n.g,i.g),c=a(n.b,i.b),d=GY(n.opacity,i.opacity);return function(u){return n.r=l(u),n.g=o(u),n.b=c(u),n.opacity=d(u),n+""}}return r.gamma=e,r})(1);function RDe(e,t){t||(t=[]);var a=e?Math.min(t.length,e.length):0,r=t.slice(),n;return function(i){for(n=0;n<a;++n)r[n]=e[n]*(1-i)+t[n]*i;return r}}function FDe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function IDe(e,t){var a=t?t.length:0,r=e?Math.min(a,e.length):0,n=new Array(r),i=new Array(a),l;for(l=0;l<r;++l)n[l]=Wx(e[l],t[l]);for(;l<a;++l)i[l]=t[l];return function(o){for(l=0;l<r;++l)i[l]=n[l](o);return i}}function BDe(e,t){var a=new Date;return e=+e,t=+t,function(r){return a.setTime(e*(1-r)+t*r),a}}function uj(e,t){return e=+e,t=+t,function(a){return e*(1-a)+t*a}}function $De(e,t){var a={},r={},n;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(n in t)n in e?a[n]=Wx(e[n],t[n]):r[n]=t[n];return function(i){for(n in a)r[n]=a[n](i);return r}}var O6=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lS=new RegExp(O6.source,"g");function UDe(e){return function(){return e}}function zDe(e){return function(t){return e(t)+""}}function HDe(e,t){var a=O6.lastIndex=lS.lastIndex=0,r,n,i,l=-1,o=[],c=[];for(e=e+"",t=t+"";(r=O6.exec(e))&&(n=lS.exec(t));)(i=n.index)>a&&(i=t.slice(a,i),o[l]?o[l]+=i:o[++l]=i),(r=r[0])===(n=n[0])?o[l]?o[l]+=n:o[++l]=n:(o[++l]=null,c.push({i:l,x:uj(r,n)})),a=lS.lastIndex;return a<t.length&&(i=t.slice(a),o[l]?o[l]+=i:o[++l]=i),o.length<2?c[0]?zDe(c[0].x):UDe(t):(t=c.length,function(d){for(var u=0,f;u<t;++u)o[(f=c[u]).i]=f.x(d);return o.join("")})}function Wx(e,t){var a=typeof t,r;return t==null||a==="boolean"?L_(t):(a==="number"?uj:a==="string"?(r=I1(t))?(t=r,II):HDe:t instanceof I1?II:t instanceof Date?BDe:FDe(t)?RDe:Array.isArray(t)?IDe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?$De:uj)(e,t)}function O_(e,t){return e=+e,t=+t,function(a){return Math.round(e*(1-a)+t*a)}}function VDe(e,t){t===void 0&&(t=e,e=Wx);for(var a=0,r=t.length-1,n=t[0],i=new Array(r<0?0:r);a<r;)i[a]=e(n,n=t[++a]);return function(l){var o=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return i[o](l-o)}}function WDe(e){return function(){return e}}function hj(e){return+e}var BI=[0,1];function zl(e){return e}function R6(e,t){return(t-=e=+e)?function(a){return(a-e)/t}:WDe(isNaN(t)?NaN:.5)}function qDe(e,t){var a;return e>t&&(a=e,e=t,t=a),function(r){return Math.max(e,Math.min(t,r))}}function GDe(e,t,a){var r=e[0],n=e[1],i=t[0],l=t[1];return n<r?(r=R6(n,r),i=a(l,i)):(r=R6(r,n),i=a(i,l)),function(o){return i(r(o))}}function KDe(e,t,a){var r=Math.min(e.length,t.length)-1,n=new Array(r),i=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)n[l]=R6(e[l],e[l+1]),i[l]=a(t[l],t[l+1]);return function(o){var c=gb(e,o,1,r)-1;return i[c](n[c](o))}}function bb(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function BN(){var e=BI,t=BI,a=Wx,r,n,i,l=zl,o,c,d;function u(){var p=Math.min(e.length,t.length);return l!==zl&&(l=qDe(e[0],e[p-1])),o=p>2?KDe:GDe,c=d=null,f}function f(p){return p==null||isNaN(p=+p)?i:(c||(c=o(e.map(r),t,a)))(r(l(p)))}return f.invert=function(p){return l(n((d||(d=o(t,e.map(r),uj)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,hj),u()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),u()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),a=O_,u()},f.clamp=function(p){return arguments.length?(l=p?!0:zl,u()):l!==zl},f.interpolate=function(p){return arguments.length?(a=p,u()):a},f.unknown=function(p){return arguments.length?(i=p,f):i},function(p,m){return r=p,n=m,u()}}function R_(){return BN()(zl,zl)}function YDe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function fj(e,t){if((a=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var a,r=e.slice(0,a);return[r.length>1?r[0]+r.slice(2):r,+e.slice(a+1)]}function kx(e){return e=fj(Math.abs(e)),e?e[1]:NaN}function XDe(e,t){return function(a,r){for(var n=a.length,i=[],l=0,o=e[0],c=0;n>0&&o>0&&(c+o+1>r&&(o=Math.max(1,r-c)),i.push(a.substring(n-=o,n+o)),!((c+=o+1)>r));)o=e[l=(l+1)%e.length];return i.reverse().join(t)}}function JDe(e){return function(t){return t.replace(/[0-9]/g,function(a){return e[+a]})}}var QDe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function B1(e){if(!(t=QDe.exec(e)))throw new Error("invalid format: "+e);var t;return new F_({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}B1.prototype=F_.prototype;function F_(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}F_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ZDe(e){e:for(var t=e.length,a=1,r=-1,n;a<t;++a)switch(e[a]){case".":r=n=a;break;case"0":r===0&&(r=a),n=a;break;default:if(!+e[a])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(n+1):e}var KY;function ePe(e,t){var a=fj(e,t);if(!a)return e+"";var r=a[0],n=a[1],i=n-(KY=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,l=r.length;return i===l?r:i>l?r+new Array(i-l+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+fj(e,Math.max(0,t+i-1))[0]}function $I(e,t){var a=fj(e,t);if(!a)return e+"";var r=a[0],n=a[1];return n<0?"0."+new Array(-n).join("0")+r:r.length>n+1?r.slice(0,n+1)+"."+r.slice(n+1):r+new Array(n-r.length+2).join("0")}const UI={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:YDe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>$I(e*100,t),r:$I,s:ePe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function zI(e){return e}var HI=Array.prototype.map,VI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function tPe(e){var t=e.grouping===void 0||e.thousands===void 0?zI:XDe(HI.call(e.grouping,Number),e.thousands+""),a=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",n=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?zI:JDe(HI.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(f){f=B1(f);var p=f.fill,m=f.align,v=f.sign,g=f.symbol,b=f.zero,j=f.width,k=f.comma,S=f.precision,N=f.trim,A=f.type;A==="n"?(k=!0,A="g"):UI[A]||(S===void 0&&(S=12),N=!0,A="g"),(b||p==="0"&&m==="=")&&(b=!0,p="0",m="=");var _=g==="$"?a:g==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",E=g==="$"?r:/[%p]/.test(A)?l:"",D=UI[A],R=/[defgprs%]/.test(A);S=S===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function I(M){var U=_,P=E,F,K,V;if(A==="c")P=D(M)+P,M="";else{M=+M;var J=M<0||1/M<0;if(M=isNaN(M)?c:D(Math.abs(M),S),N&&(M=ZDe(M)),J&&+M==0&&v!=="+"&&(J=!1),U=(J?v==="("?v:o:v==="-"||v==="("?"":v)+U,P=(A==="s"?VI[8+KY/3]:"")+P+(J&&v==="("?")":""),R){for(F=-1,K=M.length;++F<K;)if(V=M.charCodeAt(F),48>V||V>57){P=(V===46?n+M.slice(F+1):M.slice(F))+P,M=M.slice(0,F);break}}}k&&!b&&(M=t(M,1/0));var Q=U.length+M.length+P.length,z=Q<j?new Array(j-Q+1).join(p):"";switch(k&&b&&(M=t(z+M,z.length?j-P.length:1/0),z=""),m){case"<":M=U+M+P+z;break;case"=":M=U+z+M+P;break;case"^":M=z.slice(0,Q=z.length>>1)+U+M+P+z.slice(Q);break;default:M=z+U+M+P;break}return i(M)}return I.toString=function(){return f+""},I}function u(f,p){var m=d((f=B1(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(kx(p)/3)))*3,g=Math.pow(10,-v),b=VI[8+v/3];return function(j){return m(g*j)+b}}return{format:d,formatPrefix:u}}var L2,I_,YY;aPe({thousands:",",grouping:[3],currency:["$",""]});function aPe(e){return L2=tPe(e),I_=L2.format,YY=L2.formatPrefix,L2}function sPe(e){return Math.max(0,-kx(Math.abs(e)))}function rPe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(kx(t)/3)))*3-kx(Math.abs(e)))}function nPe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,kx(t)-kx(e))+1}function XY(e,t,a,r){var n=P6(e,t,a),i;switch(r=B1(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=rPe(n,l))&&(r.precision=i),YY(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=nPe(n,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=sPe(n))&&(r.precision=i-(r.type==="%")*2);break}}return I_(r)}function t0(e){var t=e.domain;return e.ticks=function(a){var r=t();return T6(r[0],r[r.length-1],a??10)},e.tickFormat=function(a,r){var n=t();return XY(n[0],n[n.length-1],a??10,r)},e.nice=function(a){a==null&&(a=10);var r=t(),n=0,i=r.length-1,l=r[n],o=r[i],c,d,u=10;for(o<l&&(d=l,l=o,o=d,d=n,n=i,i=d);u-- >0;){if(d=D6(l,o,a),d===c)return r[n]=l,r[i]=o,t(r);if(d>0)l=Math.floor(l/d)*d,o=Math.ceil(o/d)*d;else if(d<0)l=Math.ceil(l*d)/d,o=Math.floor(o*d)/d;else break;c=d}return e},e}function JY(){var e=R_();return e.copy=function(){return bb(e,JY())},Hc.apply(e,arguments),t0(e)}function QY(e){var t;function a(r){return r==null||isNaN(r=+r)?t:r}return a.invert=a,a.domain=a.range=function(r){return arguments.length?(e=Array.from(r,hj),a):e.slice()},a.unknown=function(r){return arguments.length?(t=r,a):t},a.copy=function(){return QY(e).unknown(t)},e=arguments.length?Array.from(e,hj):[0,1],t0(a)}function ZY(e,t){e=e.slice();var a=0,r=e.length-1,n=e[a],i=e[r],l;return i<n&&(l=a,a=r,r=l,l=n,n=i,i=l),e[a]=t.floor(n),e[r]=t.ceil(i),e}function WI(e){return Math.log(e)}function qI(e){return Math.exp(e)}function iPe(e){return-Math.log(-e)}function lPe(e){return-Math.exp(-e)}function oPe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function cPe(e){return e===10?oPe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function dPe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function GI(e){return(t,a)=>-e(-t,a)}function B_(e){const t=e(WI,qI),a=t.domain;let r=10,n,i;function l(){return n=dPe(r),i=cPe(r),a()[0]<0?(n=GI(n),i=GI(i),e(iPe,lPe)):e(WI,qI),t}return t.base=function(o){return arguments.length?(r=+o,l()):r},t.domain=function(o){return arguments.length?(a(o),l()):a()},t.ticks=o=>{const c=a();let d=c[0],u=c[c.length-1];const f=u<d;f&&([d,u]=[u,d]);let p=n(d),m=n(u),v,g;const b=o==null?10:+o;let j=[];if(!(r%1)&&m-p<b){if(p=Math.floor(p),m=Math.ceil(m),d>0){for(;p<=m;++p)for(v=1;v<r;++v)if(g=p<0?v/i(-p):v*i(p),!(g<d)){if(g>u)break;j.push(g)}}else for(;p<=m;++p)for(v=r-1;v>=1;--v)if(g=p>0?v/i(-p):v*i(p),!(g<d)){if(g>u)break;j.push(g)}j.length*2<b&&(j=T6(d,u,b))}else j=T6(p,m,Math.min(m-p,b)).map(i);return f?j.reverse():j},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=B1(c)).precision==null&&(c.trim=!0),c=I_(c)),o===1/0)return c;const d=Math.max(1,r*o/t.ticks().length);return u=>{let f=u/i(Math.round(n(u)));return f*r<r-.5&&(f*=r),f<=d?c(u):""}},t.nice=()=>a(ZY(a(),{floor:o=>i(Math.floor(n(o))),ceil:o=>i(Math.ceil(n(o)))})),t}function eX(){const e=B_(BN()).domain([1,10]);return e.copy=()=>bb(e,eX()).base(e.base()),Hc.apply(e,arguments),e}function KI(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function YI(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function $_(e){var t=1,a=e(KI(t),YI(t));return a.constant=function(r){return arguments.length?e(KI(t=+r),YI(t)):t},t0(a)}function tX(){var e=$_(BN());return e.copy=function(){return bb(e,tX()).constant(e.constant())},Hc.apply(e,arguments)}function XI(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function uPe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function hPe(e){return e<0?-e*e:e*e}function U_(e){var t=e(zl,zl),a=1;function r(){return a===1?e(zl,zl):a===.5?e(uPe,hPe):e(XI(a),XI(1/a))}return t.exponent=function(n){return arguments.length?(a=+n,r()):a},t0(t)}function z_(){var e=U_(BN());return e.copy=function(){return bb(e,z_()).exponent(e.exponent())},Hc.apply(e,arguments),e}function fPe(){return z_.apply(null,arguments).exponent(.5)}function JI(e){return Math.sign(e)*e*e}function mPe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function aX(){var e=R_(),t=[0,1],a=!1,r;function n(i){var l=mPe(e(i));return isNaN(l)?r:a?Math.round(l):l}return n.invert=function(i){return e.invert(JI(i))},n.domain=function(i){return arguments.length?(e.domain(i),n):e.domain()},n.range=function(i){return arguments.length?(e.range((t=Array.from(i,hj)).map(JI)),n):t.slice()},n.rangeRound=function(i){return n.range(i).round(!0)},n.round=function(i){return arguments.length?(a=!!i,n):a},n.clamp=function(i){return arguments.length?(e.clamp(i),n):e.clamp()},n.unknown=function(i){return arguments.length?(r=i,n):r},n.copy=function(){return aX(e.domain(),t).round(a).clamp(e.clamp()).unknown(r)},Hc.apply(n,arguments),t0(n)}function sX(){var e=[],t=[],a=[],r;function n(){var l=0,o=Math.max(1,t.length);for(a=new Array(o-1);++l<o;)a[l-1]=vDe(e,l/o);return i}function i(l){return l==null||isNaN(l=+l)?r:t[gb(a,l)]}return i.invertExtent=function(l){var o=t.indexOf(l);return o<0?[NaN,NaN]:[o>0?a[o-1]:e[0],o<a.length?a[o]:e[e.length-1]]},i.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let o of l)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Df),n()},i.range=function(l){return arguments.length?(t=Array.from(l),n()):t.slice()},i.unknown=function(l){return arguments.length?(r=l,i):r},i.quantiles=function(){return a.slice()},i.copy=function(){return sX().domain(e).range(t).unknown(r)},Hc.apply(i,arguments)}function rX(){var e=0,t=1,a=1,r=[.5],n=[0,1],i;function l(c){return c!=null&&c<=c?n[gb(r,c,0,a)]:i}function o(){var c=-1;for(r=new Array(a);++c<a;)r[c]=((c+1)*t-(c-a)*e)/(a+1);return l}return l.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},l.range=function(c){return arguments.length?(a=(n=Array.from(c)).length-1,o()):n.slice()},l.invertExtent=function(c){var d=n.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,r[0]]:d>=a?[r[a-1],t]:[r[d-1],r[d]]},l.unknown=function(c){return arguments.length&&(i=c),l},l.thresholds=function(){return r.slice()},l.copy=function(){return rX().domain([e,t]).range(n).unknown(i)},Hc.apply(t0(l),arguments)}function nX(){var e=[.5],t=[0,1],a,r=1;function n(i){return i!=null&&i<=i?t[gb(e,i,0,r)]:a}return n.domain=function(i){return arguments.length?(e=Array.from(i),r=Math.min(e.length,t.length-1),n):e.slice()},n.range=function(i){return arguments.length?(t=Array.from(i),r=Math.min(e.length,t.length-1),n):t.slice()},n.invertExtent=function(i){var l=t.indexOf(i);return[e[l-1],e[l]]},n.unknown=function(i){return arguments.length?(a=i,n):a},n.copy=function(){return nX().domain(e).range(t).unknown(a)},Hc.apply(n,arguments)}const oS=new Date,cS=new Date;function mi(e,t,a,r){function n(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return n.floor=i=>(e(i=new Date(+i)),i),n.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),n.round=i=>{const l=n(i),o=n.ceil(i);return i-l<o-i?l:o},n.offset=(i,l)=>(t(i=new Date(+i),l==null?1:Math.floor(l)),i),n.range=(i,l,o)=>{const c=[];if(i=n.ceil(i),o=o==null?1:Math.floor(o),!(i<l)||!(o>0))return c;let d;do c.push(d=new Date(+i)),t(i,o),e(i);while(d<i&&i<l);return c},n.filter=i=>mi(l=>{if(l>=l)for(;e(l),!i(l);)l.setTime(l-1)},(l,o)=>{if(l>=l)if(o<0)for(;++o<=0;)for(;t(l,-1),!i(l););else for(;--o>=0;)for(;t(l,1),!i(l););}),a&&(n.count=(i,l)=>(oS.setTime(+i),cS.setTime(+l),e(oS),e(cS),Math.floor(a(oS,cS))),n.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?n.filter(r?l=>r(l)%i===0:l=>n.count(0,l)%i===0):n)),n}const mj=mi(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);mj.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?mi(t=>{t.setTime(Math.floor(t/e)*e)},(t,a)=>{t.setTime(+t+a*e)},(t,a)=>(a-t)/e):mj);mj.range;const rh=1e3,Tc=rh*60,nh=Tc*60,wh=nh*24,H_=wh*7,QI=wh*30,dS=wh*365,Y0=mi(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*rh)},(e,t)=>(t-e)/rh,e=>e.getUTCSeconds());Y0.range;const V_=mi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*rh)},(e,t)=>{e.setTime(+e+t*Tc)},(e,t)=>(t-e)/Tc,e=>e.getMinutes());V_.range;const W_=mi(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Tc)},(e,t)=>(t-e)/Tc,e=>e.getUTCMinutes());W_.range;const q_=mi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*rh-e.getMinutes()*Tc)},(e,t)=>{e.setTime(+e+t*nh)},(e,t)=>(t-e)/nh,e=>e.getHours());q_.range;const G_=mi(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*nh)},(e,t)=>(t-e)/nh,e=>e.getUTCHours());G_.range;const yb=mi(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Tc)/wh,e=>e.getDate()-1);yb.range;const $N=mi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/wh,e=>e.getUTCDate()-1);$N.range;const iX=mi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/wh,e=>Math.floor(e/wh));iX.range;function Gm(e){return mi(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,a)=>{t.setDate(t.getDate()+a*7)},(t,a)=>(a-t-(a.getTimezoneOffset()-t.getTimezoneOffset())*Tc)/H_)}const UN=Gm(0),pj=Gm(1),pPe=Gm(2),xPe=Gm(3),Sx=Gm(4),gPe=Gm(5),vPe=Gm(6);UN.range;pj.range;pPe.range;xPe.range;Sx.range;gPe.range;vPe.range;function Km(e){return mi(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,a)=>{t.setUTCDate(t.getUTCDate()+a*7)},(t,a)=>(a-t)/H_)}const zN=Km(0),xj=Km(1),bPe=Km(2),yPe=Km(3),Cx=Km(4),wPe=Km(5),jPe=Km(6);zN.range;xj.range;bPe.range;yPe.range;Cx.range;wPe.range;jPe.range;const K_=mi(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());K_.range;const Y_=mi(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Y_.range;const jh=mi(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());jh.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:mi(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,a)=>{t.setFullYear(t.getFullYear()+a*e)});jh.range;const Nh=mi(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Nh.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:mi(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,a)=>{t.setUTCFullYear(t.getUTCFullYear()+a*e)});Nh.range;function lX(e,t,a,r,n,i){const l=[[Y0,1,rh],[Y0,5,5*rh],[Y0,15,15*rh],[Y0,30,30*rh],[i,1,Tc],[i,5,5*Tc],[i,15,15*Tc],[i,30,30*Tc],[n,1,nh],[n,3,3*nh],[n,6,6*nh],[n,12,12*nh],[r,1,wh],[r,2,2*wh],[a,1,H_],[t,1,QI],[t,3,3*QI],[e,1,dS]];function o(d,u,f){const p=u<d;p&&([d,u]=[u,d]);const m=f&&typeof f.range=="function"?f:c(d,u,f),v=m?m.range(d,+u+1):[];return p?v.reverse():v}function c(d,u,f){const p=Math.abs(u-d)/f,m=T_(([,,b])=>b).right(l,p);if(m===l.length)return e.every(P6(d/dS,u/dS,f));if(m===0)return mj.every(Math.max(P6(d,u,f),1));const[v,g]=l[p/l[m-1][2]<l[m][2]/p?m-1:m];return v.every(g)}return[o,c]}const[NPe,kPe]=lX(Nh,Y_,zN,iX,G_,W_),[SPe,CPe]=lX(jh,K_,UN,yb,q_,V_);function uS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function hS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function cv(e,t,a){return{y:e,m:t,d:a,H:0,M:0,S:0,L:0}}function APe(e){var t=e.dateTime,a=e.date,r=e.time,n=e.periods,i=e.days,l=e.shortDays,o=e.months,c=e.shortMonths,d=dv(n),u=uv(n),f=dv(i),p=uv(i),m=dv(l),v=uv(l),g=dv(o),b=uv(o),j=dv(c),k=uv(c),S={a:J,A:Q,b:z,B:X,c:null,d:rB,e:rB,f:XPe,g:iMe,G:oMe,H:GPe,I:KPe,j:YPe,L:oX,m:JPe,M:QPe,p:le,q:O,Q:lB,s:oB,S:ZPe,u:eMe,U:tMe,V:aMe,w:sMe,W:rMe,x:null,X:null,y:nMe,Y:lMe,Z:cMe,"%":iB},N={a:q,A:W,b:te,B:re,c:null,d:nB,e:nB,f:fMe,g:NMe,G:SMe,H:dMe,I:uMe,j:hMe,L:dX,m:mMe,M:pMe,p:oe,q:ce,Q:lB,s:oB,S:xMe,u:gMe,U:vMe,V:bMe,w:yMe,W:wMe,x:null,X:null,y:jMe,Y:kMe,Z:CMe,"%":iB},A={a:I,A:M,b:U,B:P,c:F,d:aB,e:aB,f:HPe,g:tB,G:eB,H:sB,I:sB,j:BPe,L:zPe,m:IPe,M:$Pe,p:R,q:FPe,Q:WPe,s:qPe,S:UPe,u:PPe,U:MPe,V:LPe,w:DPe,W:OPe,x:K,X:V,y:tB,Y:eB,Z:RPe,"%":VPe};S.x=_(a,S),S.X=_(r,S),S.c=_(t,S),N.x=_(a,N),N.X=_(r,N),N.c=_(t,N);function _(G,ie){return function(ye){var se=[],Ie=-1,pe=0,ae=G.length,ge,Re,ue;for(ye instanceof Date||(ye=new Date(+ye));++Ie<ae;)G.charCodeAt(Ie)===37&&(se.push(G.slice(pe,Ie)),(Re=ZI[ge=G.charAt(++Ie)])!=null?ge=G.charAt(++Ie):Re=ge==="e"?" ":"0",(ue=ie[ge])&&(ge=ue(ye,Re)),se.push(ge),pe=Ie+1);return se.push(G.slice(pe,Ie)),se.join("")}}function E(G,ie){return function(ye){var se=cv(1900,void 0,1),Ie=D(se,G,ye+="",0),pe,ae;if(Ie!=ye.length)return null;if("Q"in se)return new Date(se.Q);if("s"in se)return new Date(se.s*1e3+("L"in se?se.L:0));if(ie&&!("Z"in se)&&(se.Z=0),"p"in se&&(se.H=se.H%12+se.p*12),se.m===void 0&&(se.m="q"in se?se.q:0),"V"in se){if(se.V<1||se.V>53)return null;"w"in se||(se.w=1),"Z"in se?(pe=hS(cv(se.y,0,1)),ae=pe.getUTCDay(),pe=ae>4||ae===0?xj.ceil(pe):xj(pe),pe=$N.offset(pe,(se.V-1)*7),se.y=pe.getUTCFullYear(),se.m=pe.getUTCMonth(),se.d=pe.getUTCDate()+(se.w+6)%7):(pe=uS(cv(se.y,0,1)),ae=pe.getDay(),pe=ae>4||ae===0?pj.ceil(pe):pj(pe),pe=yb.offset(pe,(se.V-1)*7),se.y=pe.getFullYear(),se.m=pe.getMonth(),se.d=pe.getDate()+(se.w+6)%7)}else("W"in se||"U"in se)&&("w"in se||(se.w="u"in se?se.u%7:"W"in se?1:0),ae="Z"in se?hS(cv(se.y,0,1)).getUTCDay():uS(cv(se.y,0,1)).getDay(),se.m=0,se.d="W"in se?(se.w+6)%7+se.W*7-(ae+5)%7:se.w+se.U*7-(ae+6)%7);return"Z"in se?(se.H+=se.Z/100|0,se.M+=se.Z%100,hS(se)):uS(se)}}function D(G,ie,ye,se){for(var Ie=0,pe=ie.length,ae=ye.length,ge,Re;Ie<pe;){if(se>=ae)return-1;if(ge=ie.charCodeAt(Ie++),ge===37){if(ge=ie.charAt(Ie++),Re=A[ge in ZI?ie.charAt(Ie++):ge],!Re||(se=Re(G,ye,se))<0)return-1}else if(ge!=ye.charCodeAt(se++))return-1}return se}function R(G,ie,ye){var se=d.exec(ie.slice(ye));return se?(G.p=u.get(se[0].toLowerCase()),ye+se[0].length):-1}function I(G,ie,ye){var se=m.exec(ie.slice(ye));return se?(G.w=v.get(se[0].toLowerCase()),ye+se[0].length):-1}function M(G,ie,ye){var se=f.exec(ie.slice(ye));return se?(G.w=p.get(se[0].toLowerCase()),ye+se[0].length):-1}function U(G,ie,ye){var se=j.exec(ie.slice(ye));return se?(G.m=k.get(se[0].toLowerCase()),ye+se[0].length):-1}function P(G,ie,ye){var se=g.exec(ie.slice(ye));return se?(G.m=b.get(se[0].toLowerCase()),ye+se[0].length):-1}function F(G,ie,ye){return D(G,t,ie,ye)}function K(G,ie,ye){return D(G,a,ie,ye)}function V(G,ie,ye){return D(G,r,ie,ye)}function J(G){return l[G.getDay()]}function Q(G){return i[G.getDay()]}function z(G){return c[G.getMonth()]}function X(G){return o[G.getMonth()]}function le(G){return n[+(G.getHours()>=12)]}function O(G){return 1+~~(G.getMonth()/3)}function q(G){return l[G.getUTCDay()]}function W(G){return i[G.getUTCDay()]}function te(G){return c[G.getUTCMonth()]}function re(G){return o[G.getUTCMonth()]}function oe(G){return n[+(G.getUTCHours()>=12)]}function ce(G){return 1+~~(G.getUTCMonth()/3)}return{format:function(G){var ie=_(G+="",S);return ie.toString=function(){return G},ie},parse:function(G){var ie=E(G+="",!1);return ie.toString=function(){return G},ie},utcFormat:function(G){var ie=_(G+="",N);return ie.toString=function(){return G},ie},utcParse:function(G){var ie=E(G+="",!0);return ie.toString=function(){return G},ie}}}var ZI={"-":"",_:" ",0:"0"},Li=/^\s*\d+/,_Pe=/^%/,EPe=/[\\^$*+?|[\]().{}]/g;function zs(e,t,a){var r=e<0?"-":"",n=(r?-e:e)+"",i=n.length;return r+(i<a?new Array(a-i+1).join(t)+n:n)}function TPe(e){return e.replace(EPe,"\\$&")}function dv(e){return new RegExp("^(?:"+e.map(TPe).join("|")+")","i")}function uv(e){return new Map(e.map((t,a)=>[t.toLowerCase(),a]))}function DPe(e,t,a){var r=Li.exec(t.slice(a,a+1));return r?(e.w=+r[0],a+r[0].length):-1}function PPe(e,t,a){var r=Li.exec(t.slice(a,a+1));return r?(e.u=+r[0],a+r[0].length):-1}function MPe(e,t,a){var r=Li.exec(t.slice(a,a+2));return r?(e.U=+r[0],a+r[0].length):-1}function LPe(e,t,a){var r=Li.exec(t.slice(a,a+2));return r?(e.V=+r[0],a+r[0].length):-1}function OPe(e,t,a){var r=Li.exec(t.slice(a,a+2));return r?(e.W=+r[0],a+r[0].length):-1}function eB(e,t,a){var r=Li.exec(t.slice(a,a+4));return r?(e.y=+r[0],a+r[0].length):-1}function tB(e,t,a){var r=Li.exec(t.slice(a,a+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),a+r[0].length):-1}function RPe(e,t,a){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(a,a+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),a+r[0].length):-1}function FPe(e,t,a){var r=Li.exec(t.slice(a,a+1));return r?(e.q=r[0]*3-3,a+r[0].length):-1}function IPe(e,t,a){var r=Li.exec(t.slice(a,a+2));return r?(e.m=r[0]-1,a+r[0].length):-1}function aB(e,t,a){var r=Li.exec(t.slice(a,a+2));return r?(e.d=+r[0],a+r[0].length):-1}function BPe(e,t,a){var r=Li.exec(t.slice(a,a+3));return r?(e.m=0,e.d=+r[0],a+r[0].length):-1}function sB(e,t,a){var r=Li.exec(t.slice(a,a+2));return r?(e.H=+r[0],a+r[0].length):-1}function $Pe(e,t,a){var r=Li.exec(t.slice(a,a+2));return r?(e.M=+r[0],a+r[0].length):-1}function UPe(e,t,a){var r=Li.exec(t.slice(a,a+2));return r?(e.S=+r[0],a+r[0].length):-1}function zPe(e,t,a){var r=Li.exec(t.slice(a,a+3));return r?(e.L=+r[0],a+r[0].length):-1}function HPe(e,t,a){var r=Li.exec(t.slice(a,a+6));return r?(e.L=Math.floor(r[0]/1e3),a+r[0].length):-1}function VPe(e,t,a){var r=_Pe.exec(t.slice(a,a+1));return r?a+r[0].length:-1}function WPe(e,t,a){var r=Li.exec(t.slice(a));return r?(e.Q=+r[0],a+r[0].length):-1}function qPe(e,t,a){var r=Li.exec(t.slice(a));return r?(e.s=+r[0],a+r[0].length):-1}function rB(e,t){return zs(e.getDate(),t,2)}function GPe(e,t){return zs(e.getHours(),t,2)}function KPe(e,t){return zs(e.getHours()%12||12,t,2)}function YPe(e,t){return zs(1+yb.count(jh(e),e),t,3)}function oX(e,t){return zs(e.getMilliseconds(),t,3)}function XPe(e,t){return oX(e,t)+"000"}function JPe(e,t){return zs(e.getMonth()+1,t,2)}function QPe(e,t){return zs(e.getMinutes(),t,2)}function ZPe(e,t){return zs(e.getSeconds(),t,2)}function eMe(e){var t=e.getDay();return t===0?7:t}function tMe(e,t){return zs(UN.count(jh(e)-1,e),t,2)}function cX(e){var t=e.getDay();return t>=4||t===0?Sx(e):Sx.ceil(e)}function aMe(e,t){return e=cX(e),zs(Sx.count(jh(e),e)+(jh(e).getDay()===4),t,2)}function sMe(e){return e.getDay()}function rMe(e,t){return zs(pj.count(jh(e)-1,e),t,2)}function nMe(e,t){return zs(e.getFullYear()%100,t,2)}function iMe(e,t){return e=cX(e),zs(e.getFullYear()%100,t,2)}function lMe(e,t){return zs(e.getFullYear()%1e4,t,4)}function oMe(e,t){var a=e.getDay();return e=a>=4||a===0?Sx(e):Sx.ceil(e),zs(e.getFullYear()%1e4,t,4)}function cMe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+zs(t/60|0,"0",2)+zs(t%60,"0",2)}function nB(e,t){return zs(e.getUTCDate(),t,2)}function dMe(e,t){return zs(e.getUTCHours(),t,2)}function uMe(e,t){return zs(e.getUTCHours()%12||12,t,2)}function hMe(e,t){return zs(1+$N.count(Nh(e),e),t,3)}function dX(e,t){return zs(e.getUTCMilliseconds(),t,3)}function fMe(e,t){return dX(e,t)+"000"}function mMe(e,t){return zs(e.getUTCMonth()+1,t,2)}function pMe(e,t){return zs(e.getUTCMinutes(),t,2)}function xMe(e,t){return zs(e.getUTCSeconds(),t,2)}function gMe(e){var t=e.getUTCDay();return t===0?7:t}function vMe(e,t){return zs(zN.count(Nh(e)-1,e),t,2)}function uX(e){var t=e.getUTCDay();return t>=4||t===0?Cx(e):Cx.ceil(e)}function bMe(e,t){return e=uX(e),zs(Cx.count(Nh(e),e)+(Nh(e).getUTCDay()===4),t,2)}function yMe(e){return e.getUTCDay()}function wMe(e,t){return zs(xj.count(Nh(e)-1,e),t,2)}function jMe(e,t){return zs(e.getUTCFullYear()%100,t,2)}function NMe(e,t){return e=uX(e),zs(e.getUTCFullYear()%100,t,2)}function kMe(e,t){return zs(e.getUTCFullYear()%1e4,t,4)}function SMe(e,t){var a=e.getUTCDay();return e=a>=4||a===0?Cx(e):Cx.ceil(e),zs(e.getUTCFullYear()%1e4,t,4)}function CMe(){return"+0000"}function iB(){return"%"}function lB(e){return+e}function oB(e){return Math.floor(+e/1e3)}var $p,hX,fX;AMe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function AMe(e){return $p=APe(e),hX=$p.format,$p.parse,fX=$p.utcFormat,$p.utcParse,$p}function _Me(e){return new Date(e)}function EMe(e){return e instanceof Date?+e:+new Date(+e)}function X_(e,t,a,r,n,i,l,o,c,d){var u=R_(),f=u.invert,p=u.domain,m=d(".%L"),v=d(":%S"),g=d("%I:%M"),b=d("%I %p"),j=d("%a %d"),k=d("%b %d"),S=d("%B"),N=d("%Y");function A(_){return(c(_)<_?m:o(_)<_?v:l(_)<_?g:i(_)<_?b:r(_)<_?n(_)<_?j:k:a(_)<_?S:N)(_)}return u.invert=function(_){return new Date(f(_))},u.domain=function(_){return arguments.length?p(Array.from(_,EMe)):p().map(_Me)},u.ticks=function(_){var E=p();return e(E[0],E[E.length-1],_??10)},u.tickFormat=function(_,E){return E==null?A:d(E)},u.nice=function(_){var E=p();return(!_||typeof _.range!="function")&&(_=t(E[0],E[E.length-1],_??10)),_?p(ZY(E,_)):u},u.copy=function(){return bb(u,X_(e,t,a,r,n,i,l,o,c,d))},u}function TMe(){return Hc.apply(X_(SPe,CPe,jh,K_,UN,yb,q_,V_,Y0,hX).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function DMe(){return Hc.apply(X_(NPe,kPe,Nh,Y_,zN,$N,G_,W_,Y0,fX).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function HN(){var e=0,t=1,a,r,n,i,l=zl,o=!1,c;function d(f){return f==null||isNaN(f=+f)?c:l(n===0?.5:(f=(i(f)-a)*n,o?Math.max(0,Math.min(1,f)):f))}d.domain=function(f){return arguments.length?([e,t]=f,a=i(e=+e),r=i(t=+t),n=a===r?0:1/(r-a),d):[e,t]},d.clamp=function(f){return arguments.length?(o=!!f,d):o},d.interpolator=function(f){return arguments.length?(l=f,d):l};function u(f){return function(p){var m,v;return arguments.length?([m,v]=p,l=f(m,v),d):[l(0),l(1)]}}return d.range=u(Wx),d.rangeRound=u(O_),d.unknown=function(f){return arguments.length?(c=f,d):c},function(f){return i=f,a=f(e),r=f(t),n=a===r?0:1/(r-a),d}}function a0(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function mX(){var e=t0(HN()(zl));return e.copy=function(){return a0(e,mX())},Dh.apply(e,arguments)}function pX(){var e=B_(HN()).domain([1,10]);return e.copy=function(){return a0(e,pX()).base(e.base())},Dh.apply(e,arguments)}function xX(){var e=$_(HN());return e.copy=function(){return a0(e,xX()).constant(e.constant())},Dh.apply(e,arguments)}function J_(){var e=U_(HN());return e.copy=function(){return a0(e,J_()).exponent(e.exponent())},Dh.apply(e,arguments)}function PMe(){return J_.apply(null,arguments).exponent(.5)}function gX(){var e=[],t=zl;function a(r){if(r!=null&&!isNaN(r=+r))return t((gb(e,r,1)-1)/(e.length-1))}return a.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let n of r)n!=null&&!isNaN(n=+n)&&e.push(n);return e.sort(Df),a},a.interpolator=function(r){return arguments.length?(t=r,a):t},a.range=function(){return e.map((r,n)=>t(n/(e.length-1)))},a.quantiles=function(r){return Array.from({length:r+1},(n,i)=>gDe(e,i/r))},a.copy=function(){return gX(t).domain(e)},Dh.apply(a,arguments)}function VN(){var e=0,t=.5,a=1,r=1,n,i,l,o,c,d=zl,u,f=!1,p;function m(g){return isNaN(g=+g)?p:(g=.5+((g=+u(g))-i)*(r*g<r*i?o:c),d(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,a]=g,n=u(e=+e),i=u(t=+t),l=u(a=+a),o=n===i?0:.5/(i-n),c=i===l?0:.5/(l-i),r=i<n?-1:1,m):[e,t,a]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(d=g,m):d};function v(g){return function(b){var j,k,S;return arguments.length?([j,k,S]=b,d=VDe(g,[j,k,S]),m):[d(0),d(.5),d(1)]}}return m.range=v(Wx),m.rangeRound=v(O_),m.unknown=function(g){return arguments.length?(p=g,m):p},function(g){return u=g,n=g(e),i=g(t),l=g(a),o=n===i?0:.5/(i-n),c=i===l?0:.5/(l-i),r=i<n?-1:1,m}}function vX(){var e=t0(VN()(zl));return e.copy=function(){return a0(e,vX())},Dh.apply(e,arguments)}function bX(){var e=B_(VN()).domain([.1,1,10]);return e.copy=function(){return a0(e,bX()).base(e.base())},Dh.apply(e,arguments)}function yX(){var e=$_(VN());return e.copy=function(){return a0(e,yX()).constant(e.constant())},Dh.apply(e,arguments)}function Q_(){var e=U_(VN());return e.copy=function(){return a0(e,Q_()).exponent(e.exponent())},Dh.apply(e,arguments)}function MMe(){return Q_.apply(null,arguments).exponent(.5)}const jv=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:P_,scaleDiverging:vX,scaleDivergingLog:bX,scaleDivergingPow:Q_,scaleDivergingSqrt:MMe,scaleDivergingSymlog:yX,scaleIdentity:QY,scaleImplicit:M6,scaleLinear:JY,scaleLog:eX,scaleOrdinal:D_,scalePoint:yDe,scalePow:z_,scaleQuantile:sX,scaleQuantize:rX,scaleRadial:aX,scaleSequential:mX,scaleSequentialLog:pX,scaleSequentialPow:J_,scaleSequentialQuantile:gX,scaleSequentialSqrt:PMe,scaleSequentialSymlog:xX,scaleSqrt:fPe,scaleSymlog:tX,scaleThreshold:nX,scaleTime:TMe,scaleUtc:DMe,tickFormat:XY},Symbol.toStringTag,{value:"Module"}));var s0=e=>e.chartData,LMe=yt([s0],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),WN=(e,t,a,r)=>r?LMe(e):s0(e);function Em(e){if(Array.isArray(e)&&e.length===2){var[t,a]=e;if(kl(t)&&kl(a))return!0}return!1}function cB(e,t,a){return a?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function wX(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[a,r]=e,n,i;if(kl(a))n=a;else if(typeof a=="function")return;if(kl(r))i=r;else if(typeof r=="function")return;var l=[n,i];if(Em(l))return l}}function OMe(e,t,a){if(!(!a&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,a);if(Em(r))return cB(r,t,a)}catch{}if(Array.isArray(e)&&e.length===2){var[n,i]=e,l,o;if(n==="auto")t!=null&&(l=Math.min(...t));else if(Ea(n))l=n;else if(typeof n=="function")try{t!=null&&(l=n(t?.[0]))}catch{}else if(typeof n=="string"&&KF.test(n)){var c=KF.exec(n);if(c==null||t==null)l=void 0;else{var d=+c[1];l=t[0]-d}}else l=t?.[0];if(i==="auto")t!=null&&(o=Math.max(...t));else if(Ea(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t?.[1]))}catch{}else if(typeof i=="string"&&YF.test(i)){var u=YF.exec(i);if(u==null||t==null)o=void 0;else{var f=+u[1];o=t[1]+f}}else o=t?.[1];var p=[l,o];if(Em(p))return t==null?p:cB(p,t,a)}}}var qx=1e9,RMe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},eE,zr=!0,Bc="[DecimalError] ",mm=Bc+"Invalid argument: ",Z_=Bc+"Exponent out of range: ",Gx=Math.floor,$0=Math.pow,FMe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Vo,Ai=1e7,wr=7,jX=9007199254740991,gj=Gx(jX/wr),fa={};fa.absoluteValue=fa.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};fa.comparedTo=fa.cmp=function(e){var t,a,r,n,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(r=i.d.length,n=e.d.length,t=0,a=r<n?r:n;t<a;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===n?0:r>n^i.s<0?1:-1};fa.decimalPlaces=fa.dp=function(){var e=this,t=e.d.length-1,a=(t-e.e)*wr;if(t=e.d[t],t)for(;t%10==0;t/=10)a--;return a<0?0:a};fa.dividedBy=fa.div=function(e){return fh(this,new this.constructor(e))};fa.dividedToIntegerBy=fa.idiv=function(e){var t=this,a=t.constructor;return mr(fh(t,new a(e),0,1),a.precision)};fa.equals=fa.eq=function(e){return!this.cmp(e)};fa.exponent=function(){return Yn(this)};fa.greaterThan=fa.gt=function(e){return this.cmp(e)>0};fa.greaterThanOrEqualTo=fa.gte=function(e){return this.cmp(e)>=0};fa.isInteger=fa.isint=function(){return this.e>this.d.length-2};fa.isNegative=fa.isneg=function(){return this.s<0};fa.isPositive=fa.ispos=function(){return this.s>0};fa.isZero=function(){return this.s===0};fa.lessThan=fa.lt=function(e){return this.cmp(e)<0};fa.lessThanOrEqualTo=fa.lte=function(e){return this.cmp(e)<1};fa.logarithm=fa.log=function(e){var t,a=this,r=a.constructor,n=r.precision,i=n+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Vo))throw Error(Bc+"NaN");if(a.s<1)throw Error(Bc+(a.s?"NaN":"-Infinity"));return a.eq(Vo)?new r(0):(zr=!1,t=fh($1(a,i),$1(e,i),i),zr=!0,mr(t,n))};fa.minus=fa.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?SX(t,e):NX(t,(e.s=-e.s,e))};fa.modulo=fa.mod=function(e){var t,a=this,r=a.constructor,n=r.precision;if(e=new r(e),!e.s)throw Error(Bc+"NaN");return a.s?(zr=!1,t=fh(a,e,0,1).times(e),zr=!0,a.minus(t)):mr(new r(a),n)};fa.naturalExponential=fa.exp=function(){return kX(this)};fa.naturalLogarithm=fa.ln=function(){return $1(this)};fa.negated=fa.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};fa.plus=fa.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?NX(t,e):SX(t,(e.s=-e.s,e))};fa.precision=fa.sd=function(e){var t,a,r,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(mm+e);if(t=Yn(n)+1,r=n.d.length-1,a=r*wr+1,r=n.d[r],r){for(;r%10==0;r/=10)a--;for(r=n.d[0];r>=10;r/=10)a++}return e&&t>a?t:a};fa.squareRoot=fa.sqrt=function(){var e,t,a,r,n,i,l,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(Bc+"NaN")}for(e=Yn(o),zr=!1,n=Math.sqrt(+o),n==0||n==1/0?(t=hu(o.d),(t.length+e)%2==0&&(t+="0"),n=Math.sqrt(t),e=Gx((e+1)/2)-(e<0||e%2),n==1/0?t="5e"+e:(t=n.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(n.toString()),a=c.precision,n=l=a+3;;)if(i=r,r=i.plus(fh(o,i,l+2)).times(.5),hu(i.d).slice(0,l)===(t=hu(r.d)).slice(0,l)){if(t=t.slice(l-3,l+1),n==l&&t=="4999"){if(mr(i,a+1,0),i.times(i).eq(o)){r=i;break}}else if(t!="9999")break;l+=4}return zr=!0,mr(r,a)};fa.times=fa.mul=function(e){var t,a,r,n,i,l,o,c,d,u=this,f=u.constructor,p=u.d,m=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,a=u.e+e.e,c=p.length,d=m.length,c<d&&(i=p,p=m,m=i,l=c,c=d,d=l),i=[],l=c+d,r=l;r--;)i.push(0);for(r=d;--r>=0;){for(t=0,n=c+r;n>r;)o=i[n]+m[r]*p[n-r-1]+t,i[n--]=o%Ai|0,t=o/Ai|0;i[n]=(i[n]+t)%Ai|0}for(;!i[--l];)i.pop();return t?++a:i.shift(),e.d=i,e.e=a,zr?mr(e,f.precision):e};fa.toDecimalPlaces=fa.todp=function(e,t){var a=this,r=a.constructor;return a=new r(a),e===void 0?a:(bu(e,0,qx),t===void 0?t=r.rounding:bu(t,0,8),mr(a,e+Yn(a)+1,t))};fa.toExponential=function(e,t){var a,r=this,n=r.constructor;return e===void 0?a=Tm(r,!0):(bu(e,0,qx),t===void 0?t=n.rounding:bu(t,0,8),r=mr(new n(r),e+1,t),a=Tm(r,!0,e+1)),a};fa.toFixed=function(e,t){var a,r,n=this,i=n.constructor;return e===void 0?Tm(n):(bu(e,0,qx),t===void 0?t=i.rounding:bu(t,0,8),r=mr(new i(n),e+Yn(n)+1,t),a=Tm(r.abs(),!1,e+Yn(r)+1),n.isneg()&&!n.isZero()?"-"+a:a)};fa.toInteger=fa.toint=function(){var e=this,t=e.constructor;return mr(new t(e),Yn(e)+1,t.rounding)};fa.toNumber=function(){return+this};fa.toPower=fa.pow=function(e){var t,a,r,n,i,l,o=this,c=o.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(Vo);if(o=new c(o),!o.s){if(e.s<1)throw Error(Bc+"Infinity");return o}if(o.eq(Vo))return o;if(r=c.precision,e.eq(Vo))return mr(o,r);if(t=e.e,a=e.d.length-1,l=t>=a,i=o.s,l){if((a=u<0?-u:u)<=jX){for(n=new c(Vo),t=Math.ceil(r/wr+4),zr=!1;a%2&&(n=n.times(o),uB(n.d,t)),a=Gx(a/2),a!==0;)o=o.times(o),uB(o.d,t);return zr=!0,e.s<0?new c(Vo).div(n):mr(n,r)}}else if(i<0)throw Error(Bc+"NaN");return i=i<0&&e.d[Math.max(t,a)]&1?-1:1,o.s=1,zr=!1,n=e.times($1(o,r+d)),zr=!0,n=kX(n),n.s=i,n};fa.toPrecision=function(e,t){var a,r,n=this,i=n.constructor;return e===void 0?(a=Yn(n),r=Tm(n,a<=i.toExpNeg||a>=i.toExpPos)):(bu(e,1,qx),t===void 0?t=i.rounding:bu(t,0,8),n=mr(new i(n),e,t),a=Yn(n),r=Tm(n,e<=a||a<=i.toExpNeg,e)),r};fa.toSignificantDigits=fa.tosd=function(e,t){var a=this,r=a.constructor;return e===void 0?(e=r.precision,t=r.rounding):(bu(e,1,qx),t===void 0?t=r.rounding:bu(t,0,8)),mr(new r(a),e,t)};fa.toString=fa.valueOf=fa.val=fa.toJSON=fa[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Yn(e),a=e.constructor;return Tm(e,t<=a.toExpNeg||t>=a.toExpPos)};function NX(e,t){var a,r,n,i,l,o,c,d,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),zr?mr(t,f):t;if(c=e.d,d=t.d,l=e.e,n=t.e,c=c.slice(),i=l-n,i){for(i<0?(r=c,i=-i,o=d.length):(r=d,n=l,o=c.length),l=Math.ceil(f/wr),o=l>o?l+1:o+1,i>o&&(i=o,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(o=c.length,i=d.length,o-i<0&&(i=o,r=d,d=c,c=r),a=0;i;)a=(c[--i]=c[i]+d[i]+a)/Ai|0,c[i]%=Ai;for(a&&(c.unshift(a),++n),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=n,zr?mr(t,f):t}function bu(e,t,a){if(e!==~~e||e<t||e>a)throw Error(mm+e)}function hu(e){var t,a,r,n=e.length-1,i="",l=e[0];if(n>0){for(i+=l,t=1;t<n;t++)r=e[t]+"",a=wr-r.length,a&&(i+=bf(a)),i+=r;l=e[t],r=l+"",a=wr-r.length,a&&(i+=bf(a))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var fh=(function(){function e(r,n){var i,l=0,o=r.length;for(r=r.slice();o--;)i=r[o]*n+l,r[o]=i%Ai|0,l=i/Ai|0;return l&&r.unshift(l),r}function t(r,n,i,l){var o,c;if(i!=l)c=i>l?1:-1;else for(o=c=0;o<i;o++)if(r[o]!=n[o]){c=r[o]>n[o]?1:-1;break}return c}function a(r,n,i){for(var l=0;i--;)r[i]-=l,l=r[i]<n[i]?1:0,r[i]=l*Ai+r[i]-n[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,n,i,l){var o,c,d,u,f,p,m,v,g,b,j,k,S,N,A,_,E,D,R=r.constructor,I=r.s==n.s?1:-1,M=r.d,U=n.d;if(!r.s)return new R(r);if(!n.s)throw Error(Bc+"Division by zero");for(c=r.e-n.e,E=U.length,A=M.length,m=new R(I),v=m.d=[],d=0;U[d]==(M[d]||0);)++d;if(U[d]>(M[d]||0)&&--c,i==null?k=i=R.precision:l?k=i+(Yn(r)-Yn(n))+1:k=i,k<0)return new R(0);if(k=k/wr+2|0,d=0,E==1)for(u=0,U=U[0],k++;(d<A||u)&&k--;d++)S=u*Ai+(M[d]||0),v[d]=S/U|0,u=S%U|0;else{for(u=Ai/(U[0]+1)|0,u>1&&(U=e(U,u),M=e(M,u),E=U.length,A=M.length),N=E,g=M.slice(0,E),b=g.length;b<E;)g[b++]=0;D=U.slice(),D.unshift(0),_=U[0],U[1]>=Ai/2&&++_;do u=0,o=t(U,g,E,b),o<0?(j=g[0],E!=b&&(j=j*Ai+(g[1]||0)),u=j/_|0,u>1?(u>=Ai&&(u=Ai-1),f=e(U,u),p=f.length,b=g.length,o=t(f,g,p,b),o==1&&(u--,a(f,E<p?D:U,p))):(u==0&&(o=u=1),f=U.slice()),p=f.length,p<b&&f.unshift(0),a(g,f,b),o==-1&&(b=g.length,o=t(U,g,E,b),o<1&&(u++,a(g,E<b?D:U,b))),b=g.length):o===0&&(u++,g=[0]),v[d++]=u,o&&g[0]?g[b++]=M[N]||0:(g=[M[N]],b=1);while((N++<A||g[0]!==void 0)&&k--)}return v[0]||v.shift(),m.e=c,mr(m,l?i+Yn(m)+1:i)}})();function kX(e,t){var a,r,n,i,l,o,c=0,d=0,u=e.constructor,f=u.precision;if(Yn(e)>16)throw Error(Z_+Yn(e));if(!e.s)return new u(Vo);for(zr=!1,o=f,l=new u(.03125);e.abs().gte(.1);)e=e.times(l),d+=5;for(r=Math.log($0(2,d))/Math.LN10*2+5|0,o+=r,a=n=i=new u(Vo),u.precision=o;;){if(n=mr(n.times(e),o),a=a.times(++c),l=i.plus(fh(n,a,o)),hu(l.d).slice(0,o)===hu(i.d).slice(0,o)){for(;d--;)i=mr(i.times(i),o);return u.precision=f,t==null?(zr=!0,mr(i,f)):i}i=l}}function Yn(e){for(var t=e.e*wr,a=e.d[0];a>=10;a/=10)t++;return t}function fS(e,t,a){if(t>e.LN10.sd())throw zr=!0,a&&(e.precision=a),Error(Bc+"LN10 precision limit exceeded");return mr(new e(e.LN10),t)}function bf(e){for(var t="";e--;)t+="0";return t}function $1(e,t){var a,r,n,i,l,o,c,d,u,f=1,p=10,m=e,v=m.d,g=m.constructor,b=g.precision;if(m.s<1)throw Error(Bc+(m.s?"NaN":"-Infinity"));if(m.eq(Vo))return new g(0);if(t==null?(zr=!1,d=b):d=t,m.eq(10))return t==null&&(zr=!0),fS(g,d);if(d+=p,g.precision=d,a=hu(v),r=a.charAt(0),i=Yn(m),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&a.charAt(1)>3;)m=m.times(e),a=hu(m.d),r=a.charAt(0),f++;i=Yn(m),r>1?(m=new g("0."+a),i++):m=new g(r+"."+a.slice(1))}else return c=fS(g,d+2,b).times(i+""),m=$1(new g(r+"."+a.slice(1)),d-p).plus(c),g.precision=b,t==null?(zr=!0,mr(m,b)):m;for(o=l=m=fh(m.minus(Vo),m.plus(Vo),d),u=mr(m.times(m),d),n=3;;){if(l=mr(l.times(u),d),c=o.plus(fh(l,new g(n),d)),hu(c.d).slice(0,d)===hu(o.d).slice(0,d))return o=o.times(2),i!==0&&(o=o.plus(fS(g,d+2,b).times(i+""))),o=fh(o,new g(f),d),g.precision=b,t==null?(zr=!0,mr(o,b)):o;o=c,n+=2}}function dB(e,t){var a,r,n;for((a=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(a<0&&(a=r),a+=+t.slice(r+1),t=t.substring(0,r)):a<0&&(a=t.length),r=0;t.charCodeAt(r)===48;)++r;for(n=t.length;t.charCodeAt(n-1)===48;)--n;if(t=t.slice(r,n),t){if(n-=r,a=a-r-1,e.e=Gx(a/wr),e.d=[],r=(a+1)%wr,a<0&&(r+=wr),r<n){for(r&&e.d.push(+t.slice(0,r)),n-=wr;r<n;)e.d.push(+t.slice(r,r+=wr));t=t.slice(r),r=wr-t.length}else r-=n;for(;r--;)t+="0";if(e.d.push(+t),zr&&(e.e>gj||e.e<-gj))throw Error(Z_+a)}else e.s=0,e.e=0,e.d=[0];return e}function mr(e,t,a){var r,n,i,l,o,c,d,u,f=e.d;for(l=1,i=f[0];i>=10;i/=10)l++;if(r=t-l,r<0)r+=wr,n=t,d=f[u=0];else{if(u=Math.ceil((r+1)/wr),i=f.length,u>=i)return e;for(d=i=f[u],l=1;i>=10;i/=10)l++;r%=wr,n=r-wr+l}if(a!==void 0&&(i=$0(10,l-n-1),o=d/i%10|0,c=t<0||f[u+1]!==void 0||d%i,c=a<4?(o||c)&&(a==0||a==(e.s<0?3:2)):o>5||o==5&&(a==4||c||a==6&&(r>0?n>0?d/$0(10,l-n):0:f[u-1])%10&1||a==(e.s<0?8:7))),t<1||!f[0])return c?(i=Yn(e),f.length=1,t=t-i-1,f[0]=$0(10,(wr-t%wr)%wr),e.e=Gx(-t/wr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=u,i=1,u--):(f.length=u+1,i=$0(10,wr-r),f[u]=n>0?(d/$0(10,l-n)%$0(10,n)|0)*i:0),c)for(;;)if(u==0){(f[0]+=i)==Ai&&(f[0]=1,++e.e);break}else{if(f[u]+=i,f[u]!=Ai)break;f[u--]=0,i=1}for(r=f.length;f[--r]===0;)f.pop();if(zr&&(e.e>gj||e.e<-gj))throw Error(Z_+Yn(e));return e}function SX(e,t){var a,r,n,i,l,o,c,d,u,f,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),zr?mr(t,m):t;if(c=e.d,f=t.d,r=t.e,d=e.e,c=c.slice(),l=d-r,l){for(u=l<0,u?(a=c,l=-l,o=f.length):(a=f,r=d,o=c.length),n=Math.max(Math.ceil(m/wr),o)+2,l>n&&(l=n,a.length=1),a.reverse(),n=l;n--;)a.push(0);a.reverse()}else{for(n=c.length,o=f.length,u=n<o,u&&(o=n),n=0;n<o;n++)if(c[n]!=f[n]){u=c[n]<f[n];break}l=0}for(u&&(a=c,c=f,f=a,t.s=-t.s),o=c.length,n=f.length-o;n>0;--n)c[o++]=0;for(n=f.length;n>l;){if(c[--n]<f[n]){for(i=n;i&&c[--i]===0;)c[i]=Ai-1;--c[i],c[n]+=Ai}c[n]-=f[n]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,zr?mr(t,m):t):new p(0)}function Tm(e,t,a){var r,n=Yn(e),i=hu(e.d),l=i.length;return t?(a&&(r=a-l)>0?i=i.charAt(0)+"."+i.slice(1)+bf(r):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(n<0?"e":"e+")+n):n<0?(i="0."+bf(-n-1)+i,a&&(r=a-l)>0&&(i+=bf(r))):n>=l?(i+=bf(n+1-l),a&&(r=a-n-1)>0&&(i=i+"."+bf(r))):((r=n+1)<l&&(i=i.slice(0,r)+"."+i.slice(r)),a&&(r=a-l)>0&&(n+1===l&&(i+="."),i+=bf(r))),e.s<0?"-"+i:i}function uB(e,t){if(e.length>t)return e.length=t,!0}function CX(e){var t,a,r;function n(i){var l=this;if(!(l instanceof n))return new n(i);if(l.constructor=n,i instanceof n){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(mm+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return dB(l,i.toString())}else if(typeof i!="string")throw Error(mm+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,FMe.test(i))dB(l,i);else throw Error(mm+i)}if(n.prototype=fa,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.clone=CX,n.config=n.set=IMe,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(a=r[t++])||(e[a]=this[a]);return n.config(e),n}function IMe(e){if(!e||typeof e!="object")throw Error(Bc+"Object expected");var t,a,r,n=["precision",1,qx,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<n.length;t+=3)if((r=e[a=n[t]])!==void 0)if(Gx(r)===r&&r>=n[t+1]&&r<=n[t+2])this[a]=r;else throw Error(mm+a+": "+r);if((r=e[a="LN10"])!==void 0)if(r==Math.LN10)this[a]=new this(r);else throw Error(mm+a+": "+r);return this}var eE=CX(RMe);Vo=new eE(1);const er=eE;var BMe=e=>e,AX={},_X=e=>e===AX,hB=e=>function t(){return arguments.length===0||arguments.length===1&&_X(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},EX=(e,t)=>e===1?t:hB(function(){for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];var i=r.filter(l=>l!==AX).length;return i>=e?t(...r):EX(e-i,hB(function(){for(var l=arguments.length,o=new Array(l),c=0;c<l;c++)o[c]=arguments[c];var d=r.map(u=>_X(u)?o.shift():u);return t(...d,...o)}))}),qN=e=>EX(e.length,e),F6=(e,t)=>{for(var a=[],r=e;r<t;++r)a[r-e]=r;return a},$Me=qN((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(a=>t[a]).map(e)),UMe=function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];if(!a.length)return BMe;var n=a.reverse(),i=n[0],l=n.slice(1);return function(){return l.reduce((o,c)=>c(o),i(...arguments))}},I6=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),TX=e=>{var t=null,a=null;return function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t&&n.every((l,o)=>{var c;return l===((c=t)===null||c===void 0?void 0:c[o])})||(t=n,a=e(...n)),a}};function DX(e){var t;return e===0?t=1:t=Math.floor(new er(e).abs().log(10).toNumber())+1,t}function PX(e,t,a){for(var r=new er(e),n=0,i=[];r.lt(t)&&n<1e5;)i.push(r.toNumber()),r=r.add(a),n++;return i}qN((e,t,a)=>{var r=+e,n=+t;return r+a*(n-r)});qN((e,t,a)=>{var r=t-+e;return r=r||1/0,(a-e)/r});qN((e,t,a)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(a-e)/r))});var MX=e=>{var[t,a]=e,[r,n]=[t,a];return t>a&&([r,n]=[a,t]),[r,n]},LX=(e,t,a)=>{if(e.lte(0))return new er(0);var r=DX(e.toNumber()),n=new er(10).pow(r),i=e.div(n),l=r!==1?.05:.1,o=new er(Math.ceil(i.div(l).toNumber())).add(a).mul(l),c=o.mul(n);return t?new er(c.toNumber()):new er(Math.ceil(c.toNumber()))},zMe=(e,t,a)=>{var r=new er(1),n=new er(e);if(!n.isint()&&a){var i=Math.abs(e);i<1?(r=new er(10).pow(DX(e)-1),n=new er(Math.floor(n.div(r).toNumber())).mul(r)):i>1&&(n=new er(Math.floor(e)))}else e===0?n=new er(Math.floor((t-1)/2)):a||(n=new er(Math.floor(e)));var l=Math.floor((t-1)/2),o=UMe($Me(c=>n.add(new er(c-l).mul(r)).toNumber()),F6);return o(0,t)},OX=function(t,a,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((a-t)/(r-1)))return{step:new er(0),tickMin:new er(0),tickMax:new er(0)};var l=LX(new er(a).sub(t).div(r-1),n,i),o;t<=0&&a>=0?o=new er(0):(o=new er(t).add(a).div(2),o=o.sub(new er(o).mod(l)));var c=Math.ceil(o.sub(t).div(l).toNumber()),d=Math.ceil(new er(a).sub(o).div(l).toNumber()),u=c+d+1;return u>r?OX(t,a,r,n,i+1):(u<r&&(d=a>0?d+(r-u):d,c=a>0?c:c+(r-u)),{step:l,tickMin:o.sub(new er(c).mul(l)),tickMax:o.add(new er(d).mul(l))})};function HMe(e){var[t,a]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(r,2),[l,o]=MX([t,a]);if(l===-1/0||o===1/0){var c=o===1/0?[l,...F6(0,r-1).map(()=>1/0)]:[...F6(0,r-1).map(()=>-1/0),o];return t>a?I6(c):c}if(l===o)return zMe(l,r,n);var{step:d,tickMin:u,tickMax:f}=OX(l,o,i,n,0),p=PX(u,f.add(new er(.1).mul(d)),d);return t>a?I6(p):p}function VMe(e,t){var[a,r]=e,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,l]=MX([a,r]);if(i===-1/0||l===1/0)return[a,r];if(i===l)return[i];var o=Math.max(t,2),c=LX(new er(l).sub(i).div(o-1),n,0),d=[...PX(new er(i),new er(l),c),l];return n===!1&&(d=d.map(u=>Math.round(u))),a>r?I6(d):d}var WMe=TX(HMe),qMe=TX(VMe),RX=e=>e.rootProps.maxBarSize,GMe=e=>e.rootProps.barGap,FX=e=>e.rootProps.barCategoryGap,KMe=e=>e.rootProps.barSize,GN=e=>e.rootProps.stackOffset,tE=e=>e.options.chartName,aE=e=>e.rootProps.syncId,IX=e=>e.rootProps.syncMethod,sE=e=>e.options.eventEmitter,Ju={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Io={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},KN=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},YMe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ju.angleAxisId,includeHidden:!1,name:void 0,reversed:Ju.reversed,scale:Ju.scale,tick:Ju.tick,tickCount:void 0,ticks:void 0,type:Ju.type,unit:void 0},XMe={allowDataOverflow:Io.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Io.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Io.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Io.scale,tick:Io.tick,tickCount:Io.tickCount,ticks:void 0,type:Io.type,unit:void 0},JMe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ju.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ju.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ju.scale,tick:Ju.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},QMe={allowDataOverflow:Io.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Io.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Io.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Io.scale,tick:Io.tick,tickCount:Io.tickCount,ticks:void 0,type:"category",unit:void 0},rE=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?JMe:YMe,nE=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?QMe:XMe,YN=e=>e.polarOptions,iE=yt([Eh,Th,Mi],BEe),BX=yt([YN,iE],(e,t)=>{if(e!=null)return Ad(e.innerRadius,t,0)}),$X=yt([YN,iE],(e,t)=>{if(e!=null)return Ad(e.outerRadius,t,t*.8)}),ZMe=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:a}=e;return[t,a]},UX=yt([YN],ZMe);yt([rE,UX],KN);var zX=yt([iE,BX,$X],(e,t,a)=>{if(!(e==null||t==null||a==null))return[t,a]});yt([nE,zX],KN);var HX=yt([qs,YN,BX,$X,Eh,Th],(e,t,a,r,n,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||a==null||r==null)){var{cx:l,cy:o,startAngle:c,endAngle:d}=t;return{cx:Ad(l,n,n/2),cy:Ad(o,i,i/2),innerRadius:a,outerRadius:r,startAngle:c,endAngle:d,clockWise:!1}}}),pi=(e,t)=>t,XN=(e,t,a)=>a;function lE(e){return e?.id}var xi=e=>{var t=qs(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Kx=e=>e.tooltip.settings.axisId,gi=e=>{var t=xi(e),a=Kx(e);return wb(e,t,a)},VX=yt([gi],e=>e?.dataKey);function WX(e,t,a){var{chartData:r=[]}=t,{allowDuplicatedCategory:n,dataKey:i}=a,l=new Map;return e.forEach(o=>{var c,d=(c=o.data)!==null&&c!==void 0?c:r;if(!(d==null||d.length===0)){var u=lE(o);d.forEach((f,p)=>{var m=i==null||n?p:String(Pi(f,i,null)),v=Pi(f,o.dataKey,0),g;l.has(m)?g=l.get(m):g={},Object.assign(g,{[u]:v}),l.set(m,g)})}}),Array.from(l.values())}function JN(e){return e.stackId!=null&&e.dataKey!=null}var QN=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function ZN(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function fB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function vj(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?fB(Object(a),!0).forEach(function(r){eLe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):fB(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function eLe(e,t,a){return(t=tLe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function tLe(e){var t=aLe(e,"string");return typeof t=="symbol"?t:t+""}function aLe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var B6=[0,"auto"],Oo={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},qX=(e,t)=>e.cartesianAxis.xAxis[t],Ph=(e,t)=>{var a=qX(e,t);return a??Oo},Ro={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:B6,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:xb},GX=(e,t)=>e.cartesianAxis.yAxis[t],Mh=(e,t)=>{var a=GX(e,t);return a??Ro},sLe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},oE=(e,t)=>{var a=e.cartesianAxis.zAxis[t];return a??sLe},Gl=(e,t,a)=>{switch(t){case"xAxis":return Ph(e,a);case"yAxis":return Mh(e,a);case"zAxis":return oE(e,a);case"angleAxis":return rE(e,a);case"radiusAxis":return nE(e,a);default:throw new Error("Unexpected axis type: ".concat(t))}},rLe=(e,t,a)=>{switch(t){case"xAxis":return Ph(e,a);case"yAxis":return Mh(e,a);default:throw new Error("Unexpected axis type: ".concat(t))}},wb=(e,t,a)=>{switch(t){case"xAxis":return Ph(e,a);case"yAxis":return Mh(e,a);case"angleAxis":return rE(e,a);case"radiusAxis":return nE(e,a);default:throw new Error("Unexpected axis type: ".concat(t))}},KX=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function YX(e,t){return a=>{switch(e){case"xAxis":return"xAxisId"in a&&a.xAxisId===t;case"yAxis":return"yAxisId"in a&&a.yAxisId===t;case"zAxis":return"zAxisId"in a&&a.zAxisId===t;case"angleAxis":return"angleAxisId"in a&&a.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in a&&a.radiusAxisId===t;default:return!1}}}var e4=e=>e.graphicalItems.cartesianItems,nLe=yt([pi,XN],YX),XX=(e,t,a)=>e.filter(a).filter(r=>t?.includeHidden===!0?!0:!r.hide),jb=yt([e4,Gl,nLe],XX,{memoizeOptions:{resultEqualityCheck:ZN}}),JX=yt([jb],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(JN)),QX=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),iLe=yt([jb],QX),ZX=e=>e.map(t=>t.data).filter(Boolean).flat(1),lLe=yt([jb],ZX,{memoizeOptions:{resultEqualityCheck:ZN}}),eJ=(e,t)=>{var{chartData:a=[],dataStartIndex:r,dataEndIndex:n}=t;return e.length>0?e:a.slice(r,n+1)},cE=yt([lLe,WN],eJ),tJ=(e,t,a)=>t?.dataKey!=null?e.map(r=>({value:Pi(r,t.dataKey)})):a.length>0?a.map(r=>r.dataKey).flatMap(r=>e.map(n=>({value:Pi(n,r)}))):e.map(r=>({value:r})),t4=yt([cE,Gl,jb],tJ);function aJ(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Q2(e){if(vu(e)||e instanceof Date){var t=Number(e);if(kl(t))return t}}function mB(e){if(Array.isArray(e)){var t=[Q2(e[0]),Q2(e[1])];return Em(t)?t:void 0}var a=Q2(e);if(a!=null)return[a,a]}function Yx(e){return e.map(Q2).filter(N7e)}function oLe(e,t,a){return!a||typeof t!="number"||Fc(t)?[]:a.length?Yx(a.flatMap(r=>{var n=Pi(e,r.dataKey),i,l;if(Array.isArray(n)?[i,l]=n:i=l=n,!(!kl(i)||!kl(l)))return[t-i,t+l]})):[]}var cLe=yt([JX,WN,gi],WX),sJ=(e,t,a)=>{var r={},n=t.reduce((i,l)=>(l.stackId==null||(i[l.stackId]==null&&(i[l.stackId]=[]),i[l.stackId].push(l)),i),r);return Object.fromEntries(Object.entries(n).map(i=>{var[l,o]=i,c=o.map(lE);return[l,{stackedData:tTe(e,c,a),graphicalItems:o}]}))},$6=yt([cLe,JX,GN],sJ),rJ=(e,t,a,r)=>{var{dataStartIndex:n,dataEndIndex:i}=t;if(r==null&&a!=="zAxis"){var l=iTe(e,n,i);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},dLe=yt([Gl],e=>e.allowDataOverflow),dE=e=>{var t;if(e==null||!("domain"in e))return B6;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var a=Yx(e.ticks);return[Math.min(...a),Math.max(...a)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:B6},nJ=yt([Gl],dE),iJ=yt([nJ,dLe],wX),uLe=yt([$6,s0,pi,iJ],rJ,{memoizeOptions:{resultEqualityCheck:QN}}),uE=e=>e.errorBars,hLe=(e,t,a)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>aJ(a,r)),bj=function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];var n=a.filter(Boolean);if(n.length!==0){var i=n.flat(),l=Math.min(...i),o=Math.max(...i);return[l,o]}},lJ=(e,t,a,r,n)=>{var i,l;if(a.length>0&&e.forEach(o=>{a.forEach(c=>{var d,u,f=(d=r[c.id])===null||d===void 0?void 0:d.filter(j=>aJ(n,j)),p=Pi(o,(u=t.dataKey)!==null&&u!==void 0?u:c.dataKey),m=oLe(o,p,f);if(m.length>=2){var v=Math.min(...m),g=Math.max(...m);(i==null||v<i)&&(i=v),(l==null||g>l)&&(l=g)}var b=mB(p);b!=null&&(i=i==null?b[0]:Math.min(i,b[0]),l=l==null?b[1]:Math.max(l,b[1]))})}),t?.dataKey!=null&&e.forEach(o=>{var c=mB(Pi(o,t.dataKey));c!=null&&(i=i==null?c[0]:Math.min(i,c[0]),l=l==null?c[1]:Math.max(l,c[1]))}),kl(i)&&kl(l))return[i,l]},fLe=yt([cE,Gl,iLe,uE,pi],lJ,{memoizeOptions:{resultEqualityCheck:QN}});function mLe(e){var{value:t}=e;if(vu(t)||t instanceof Date)return t}var pLe=(e,t,a)=>{var r=e.map(mLe).filter(n=>n!=null);return a&&(t.dataKey==null||t.allowDuplicatedCategory&&TK(r))?$Y(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},oJ=e=>e.referenceElements.dots,Xx=(e,t,a)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===a:r.yAxisId===a),xLe=yt([oJ,pi,XN],Xx),cJ=e=>e.referenceElements.areas,gLe=yt([cJ,pi,XN],Xx),dJ=e=>e.referenceElements.lines,vLe=yt([dJ,pi,XN],Xx),uJ=(e,t)=>{var a=Yx(e.map(r=>t==="xAxis"?r.x:r.y));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},bLe=yt(xLe,pi,uJ),hJ=(e,t)=>{var a=Yx(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},yLe=yt([gLe,pi],hJ),fJ=(e,t)=>{var a=Yx(e.map(r=>t==="xAxis"?r.x:r.y));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},wLe=yt(vLe,pi,fJ),jLe=yt(bLe,wLe,yLe,(e,t,a)=>bj(e,a,t)),mJ=(e,t,a,r,n,i,l,o)=>{if(a!=null)return a;var c=l==="vertical"&&o==="xAxis"||l==="horizontal"&&o==="yAxis",d=c?bj(r,i,n):bj(i,n);return OMe(t,d,e.allowDataOverflow)},NLe=yt([Gl,nJ,iJ,uLe,fLe,jLe,qs,pi],mJ,{memoizeOptions:{resultEqualityCheck:QN}}),kLe=[0,1],pJ=(e,t,a,r,n,i,l)=>{if(!((e==null||a==null||a.length===0)&&l===void 0)){var{dataKey:o,type:c}=e,d=e0(t,i);return d&&o==null?$Y(0,a.length):c==="category"?pLe(r,e,d):n==="expand"?kLe:l}},hE=yt([Gl,qs,cE,t4,GN,pi,NLe],pJ),xJ=(e,t,a,r,n)=>{if(e!=null){var{scale:i,type:l}=e;if(i==="auto")return t==="radial"&&n==="radiusAxis"?"band":t==="radial"&&n==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!a)?"point":l==="category"?"band":"linear";if(typeof i=="string"){var o="scale".concat(fb(i));return o in jv?o:"point"}}},Nb=yt([Gl,qs,KX,tE,pi],xJ);function SLe(e){if(e!=null){if(e in jv)return jv[e]();var t="scale".concat(fb(e));if(t in jv)return jv[t]()}}function fE(e,t,a,r){if(!(a==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(a).range(r);var n=SLe(t);if(n!=null){var i=n.domain(a).range(r);return XEe(i),i}}}var gJ=(e,t,a)=>{var r=dE(t);if(!(a!=="auto"&&a!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Em(e))return WMe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Em(e))return qMe(e,t.tickCount,t.allowDecimals)}},mE=yt([hE,wb,Nb],gJ),vJ=(e,t,a,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&Em(t)&&Array.isArray(a)&&a.length>0){var n=t[0],i=a[0],l=t[1],o=a[a.length-1];return[Math.min(n,i),Math.max(l,o)]}return t},CLe=yt([Gl,hE,mE,pi],vJ),ALe=yt(t4,Gl,(e,t)=>{if(!(!t||t.type!=="number")){var a=1/0,r=Array.from(Yx(e.map(o=>o.value))).sort((o,c)=>o-c);if(r.length<2)return 1/0;var n=r[r.length-1]-r[0];if(n===0)return 1/0;for(var i=0;i<r.length-1;i++){var l=r[i+1]-r[i];a=Math.min(a,l)}return a/n}}),bJ=yt(ALe,qs,FX,Mi,(e,t,a,r)=>r,(e,t,a,r,n)=>{if(!kl(e))return 0;var i=t==="vertical"?r.height:r.width;if(n==="gap")return e*i/2;if(n==="no-gap"){var l=Ad(a,e*i),o=e*i/2;return o-l-(o-l)/i*l}return 0}),_Le=(e,t)=>{var a=Ph(e,t);return a==null||typeof a.padding!="string"?0:bJ(e,"xAxis",t,a.padding)},ELe=(e,t)=>{var a=Mh(e,t);return a==null||typeof a.padding!="string"?0:bJ(e,"yAxis",t,a.padding)},TLe=yt(Ph,_Le,(e,t)=>{var a,r;if(e==null)return{left:0,right:0};var{padding:n}=e;return typeof n=="string"?{left:t,right:t}:{left:((a=n.left)!==null&&a!==void 0?a:0)+t,right:((r=n.right)!==null&&r!==void 0?r:0)+t}}),DLe=yt(Mh,ELe,(e,t)=>{var a,r;if(e==null)return{top:0,bottom:0};var{padding:n}=e;return typeof n=="string"?{top:t,bottom:t}:{top:((a=n.top)!==null&&a!==void 0?a:0)+t,bottom:((r=n.bottom)!==null&&r!==void 0?r:0)+t}}),PLe=yt([Mi,TLe,MN,PN,(e,t,a)=>a],(e,t,a,r,n)=>{var{padding:i}=r;return n?[i.left,a.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),MLe=yt([Mi,qs,DLe,MN,PN,(e,t,a)=>a],(e,t,a,r,n,i)=>{var{padding:l}=n;return i?[r.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-a.bottom,e.top+a.top]:[e.top+a.top,e.top+e.height-a.bottom]}),kb=(e,t,a,r)=>{var n;switch(t){case"xAxis":return PLe(e,a,r);case"yAxis":return MLe(e,a,r);case"zAxis":return(n=oE(e,a))===null||n===void 0?void 0:n.range;case"angleAxis":return UX(e);case"radiusAxis":return zX(e,a);default:return}},yJ=yt([Gl,kb],KN),Jx=yt([Gl,Nb,CLe,yJ],fE);yt([jb,uE,pi],hLe);function wJ(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var a4=(e,t)=>t,s4=(e,t,a)=>a,LLe=yt(TN,a4,s4,(e,t,a)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===a).sort(wJ)),OLe=yt(DN,a4,s4,(e,t,a)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===a).sort(wJ)),jJ=(e,t)=>({width:e.width,height:t.height}),RLe=(e,t)=>{var a=typeof t.width=="number"?t.width:xb;return{width:a,height:e.height}},NJ=yt(Mi,Ph,jJ),FLe=(e,t,a)=>{switch(t){case"top":return e.top;case"bottom":return a-e.bottom;default:return 0}},ILe=(e,t,a)=>{switch(t){case"left":return e.left;case"right":return a-e.right;default:return 0}},BLe=yt(Th,Mi,LLe,a4,s4,(e,t,a,r,n)=>{var i={},l;return a.forEach(o=>{var c=jJ(t,o);l==null&&(l=FLe(t,r,e));var d=r==="top"&&!n||r==="bottom"&&n;i[o.id]=l-Number(d)*c.height,l+=(d?-1:1)*c.height}),i}),$Le=yt(Eh,Mi,OLe,a4,s4,(e,t,a,r,n)=>{var i={},l;return a.forEach(o=>{var c=RLe(t,o);l==null&&(l=ILe(t,r,e));var d=r==="left"&&!n||r==="right"&&n;i[o.id]=l-Number(d)*c.width,l+=(d?-1:1)*c.width}),i}),ULe=(e,t)=>{var a=Ph(e,t);if(a!=null)return BLe(e,a.orientation,a.mirror)},zLe=yt([Mi,Ph,ULe,(e,t)=>t],(e,t,a,r)=>{if(t!=null){var n=a?.[r];return n==null?{x:e.left,y:0}:{x:e.left,y:n}}}),HLe=(e,t)=>{var a=Mh(e,t);if(a!=null)return $Le(e,a.orientation,a.mirror)},VLe=yt([Mi,Mh,HLe,(e,t)=>t],(e,t,a,r)=>{if(t!=null){var n=a?.[r];return n==null?{x:0,y:e.top}:{x:n,y:e.top}}}),kJ=yt(Mi,Mh,(e,t)=>{var a=typeof t.width=="number"?t.width:xb;return{width:a,height:e.height}}),pB=(e,t,a)=>{switch(t){case"xAxis":return NJ(e,a).width;case"yAxis":return kJ(e,a).height;default:return}},SJ=(e,t,a,r)=>{if(a!=null){var{allowDuplicatedCategory:n,type:i,dataKey:l}=a,o=e0(e,r),c=t.map(d=>d.value);if(l&&o&&i==="category"&&n&&TK(c))return c}},pE=yt([qs,t4,Gl,pi],SJ),CJ=(e,t,a,r)=>{if(!(a==null||a.dataKey==null)){var{type:n,scale:i}=a,l=e0(e,r);if(l&&(n==="number"||i!=="auto"))return t.map(o=>o.value)}},xE=yt([qs,t4,wb,pi],CJ),xB=yt([qs,rLe,Nb,Jx,pE,xE,kb,mE,pi],(e,t,a,r,n,i,l,o,c)=>{if(t==null)return null;var d=e0(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:n,isCategorical:d,niceTicks:o,range:l,realScaleType:a,scale:r}}),WLe=(e,t,a,r,n,i,l,o,c)=>{if(!(t==null||r==null)){var d=e0(e,c),{type:u,ticks:f,tickCount:p}=t,m=a==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,v=u==="category"&&r.bandwidth?r.bandwidth()/m:0;v=c==="angleAxis"&&i!=null&&i.length>=2?mo(i[0]-i[1])*2*v:v;var g=f||n;if(g){var b=g.map((j,k)=>{var S=l?l.indexOf(j):j;return{index:k,coordinate:r(S)+v,value:j,offset:v}});return b.filter(j=>!Fc(j.coordinate))}return d&&o?o.map((j,k)=>({coordinate:r(j)+v,value:j,index:k,offset:v})):r.ticks?r.ticks(p).map(j=>({coordinate:r(j)+v,value:j,offset:v})):r.domain().map((j,k)=>({coordinate:r(j)+v,value:l?l[j]:j,index:k,offset:v}))}},AJ=yt([qs,wb,Nb,Jx,mE,kb,pE,xE,pi],WLe),qLe=(e,t,a,r,n,i,l)=>{if(!(t==null||a==null||r==null||r[0]===r[1])){var o=e0(e,l),{tickCount:c}=t,d=0;return d=l==="angleAxis"&&r?.length>=2?mo(r[0]-r[1])*2*d:d,o&&i?i.map((u,f)=>({coordinate:a(u)+d,value:u,index:f,offset:d})):a.ticks?a.ticks(c).map(u=>({coordinate:a(u)+d,value:u,offset:d})):a.domain().map((u,f)=>({coordinate:a(u)+d,value:n?n[u]:u,index:f,offset:d}))}},Hf=yt([qs,wb,Jx,kb,pE,xE,pi],qLe),Vf=yt(Gl,Jx,(e,t)=>{if(!(e==null||t==null))return vj(vj({},e),{},{scale:t})}),GLe=yt([Gl,Nb,hE,yJ],fE);yt((e,t,a)=>oE(e,a),GLe,(e,t)=>{if(!(e==null||t==null))return vj(vj({},e),{},{scale:t})});var KLe=yt([qs,TN,DN],(e,t,a)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return a.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),_J=e=>e.options.defaultTooltipEventType,EJ=e=>e.options.validateTooltipEventTypes;function TJ(e,t,a){if(e==null)return t;var r=e?"axis":"item";return a==null?t:a.includes(r)?r:t}function gE(e,t){var a=_J(e),r=EJ(e);return TJ(t,a,r)}function YLe(e){return Ca(t=>gE(t,e))}var DJ=(e,t)=>{var a,r=Number(t);if(!(Fc(r)||t==null))return r>=0?e==null||(a=e[r])===null||a===void 0?void 0:a.value:void 0},XLe=e=>e.tooltip.settings,jf={active:!1,index:null,dataKey:void 0,coordinate:void 0},JLe={itemInteraction:{click:jf,hover:jf},axisInteraction:{click:jf,hover:jf},keyboardInteraction:jf,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},PJ=Yo({name:"tooltip",initialState:JLe,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Bl()},removeTooltipEntrySettings:{reducer(e,t){var a=hh(e).tooltipItemPayloads.indexOf(t.payload);a>-1&&e.tooltipItemPayloads.splice(a,1)},prepare:Bl()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:QLe,removeTooltipEntrySettings:ZLe,setTooltipSettingsState:eOe,setActiveMouseOverItemIndex:MJ,mouseLeaveItem:tOe,mouseLeaveChart:LJ,setActiveClickItemIndex:aOe,setMouseOverAxisIndex:OJ,setMouseClickAxisIndex:sOe,setSyncInteraction:U6,setKeyboardInteraction:z6}=PJ.actions,rOe=PJ.reducer;function gB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function O2(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?gB(Object(a),!0).forEach(function(r){nOe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):gB(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function nOe(e,t,a){return(t=iOe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function iOe(e){var t=lOe(e,"string");return typeof t=="symbol"?t:t+""}function lOe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oOe(e,t,a){return t==="axis"?a==="click"?e.axisInteraction.click:e.axisInteraction.hover:a==="click"?e.itemInteraction.click:e.itemInteraction.hover}function cOe(e){return e.index!=null}var RJ=(e,t,a,r)=>{if(t==null)return jf;var n=oOe(e,t,a);if(n==null)return jf;if(n.active)return n;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(cOe(n)){if(i)return O2(O2({},n),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return O2(O2({},jf),{},{coordinate:n.coordinate})},vE=(e,t)=>{var a=e?.index;if(a==null)return null;var r=Number(a);if(!kl(r))return a;var n=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(n,Math.min(r,i)))},FJ=(e,t,a,r,n,i,l,o)=>{if(!(i==null||o==null)){var c=l[0],d=c==null?void 0:o(c.positions,i);if(d!=null)return d;var u=n?.[Number(i)];if(u)switch(a){case"horizontal":return{x:u.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:u.coordinate}}}},IJ=(e,t,a,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var n;return a==="hover"?n=e.itemInteraction.hover.dataKey:n=e.itemInteraction.click.dataKey,n==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var l;return((l=i.settings)===null||l===void 0?void 0:l.dataKey)===n})},Sb=e=>e.options.tooltipPayloadSearcher,Qx=e=>e.tooltip;function vB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function bB(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?vB(Object(a),!0).forEach(function(r){dOe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):vB(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function dOe(e,t,a){return(t=uOe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function uOe(e){var t=hOe(e,"string");return typeof t=="symbol"?t:t+""}function hOe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fOe(e,t){return e??t}var BJ=(e,t,a,r,n,i,l)=>{if(!(t==null||i==null)){var{chartData:o,computedData:c,dataStartIndex:d,dataEndIndex:u}=a,f=[];return e.reduce((p,m)=>{var v,{dataDefinedOnItem:g,settings:b}=m,j=fOe(g,o),k=Array.isArray(j)?bY(j,d,u):j,S=(v=b?.dataKey)!==null&&v!==void 0?v:r,N=b?.nameKey,A;if(r&&Array.isArray(k)&&!Array.isArray(k[0])&&l==="axis"?A=DK(k,r,n):A=i(k,t,c,N),Array.isArray(A))A.forEach(E=>{var D=bB(bB({},b),{},{name:E.name,unit:E.unit,color:void 0,fill:void 0});p.push(XF({tooltipEntrySettings:D,dataKey:E.dataKey,payload:E.payload,value:Pi(E.payload,E.dataKey),name:E.name}))});else{var _;p.push(XF({tooltipEntrySettings:b,dataKey:S,payload:A,value:Pi(A,S),name:(_=Pi(A,N))!==null&&_!==void 0?_:b?.name}))}return p},f)}},bE=yt([gi,qs,KX,tE,xi],xJ),mOe=yt([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),pOe=yt([xi,Kx],YX),Cb=yt([mOe,gi,pOe],XX,{memoizeOptions:{resultEqualityCheck:ZN}}),xOe=yt([Cb],e=>e.filter(JN)),gOe=yt([Cb],ZX,{memoizeOptions:{resultEqualityCheck:ZN}}),Zx=yt([gOe,s0],eJ),vOe=yt([xOe,s0,gi],WX),yE=yt([Zx,gi,Cb],tJ),$J=yt([gi],dE),bOe=yt([gi],e=>e.allowDataOverflow),UJ=yt([$J,bOe],wX),yOe=yt([Cb],e=>e.filter(JN)),wOe=yt([vOe,yOe,GN],sJ),jOe=yt([wOe,s0,xi,UJ],rJ),NOe=yt([Cb],QX),kOe=yt([Zx,gi,NOe,uE,xi],lJ,{memoizeOptions:{resultEqualityCheck:QN}}),SOe=yt([oJ,xi,Kx],Xx),COe=yt([SOe,xi],uJ),AOe=yt([cJ,xi,Kx],Xx),_Oe=yt([AOe,xi],hJ),EOe=yt([dJ,xi,Kx],Xx),TOe=yt([EOe,xi],fJ),DOe=yt([COe,TOe,_Oe],bj),POe=yt([gi,$J,UJ,jOe,kOe,DOe,qs,xi],mJ),zJ=yt([gi,qs,Zx,yE,GN,xi,POe],pJ),MOe=yt([zJ,gi,bE],gJ),LOe=yt([gi,zJ,MOe,xi],vJ),HJ=e=>{var t=xi(e),a=Kx(e),r=!1;return kb(e,t,a,r)},VJ=yt([gi,HJ],KN),WJ=yt([gi,bE,LOe,VJ],fE),OOe=yt([qs,yE,gi,xi],SJ),ROe=yt([qs,yE,gi,xi],CJ),FOe=(e,t,a,r,n,i,l,o)=>{if(t){var{type:c}=t,d=e0(e,o);if(r){var u=a==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=c==="category"&&r.bandwidth?r.bandwidth()/u:0;return f=o==="angleAxis"&&n!=null&&n?.length>=2?mo(n[0]-n[1])*2*f:f,d&&l?l.map((p,m)=>({coordinate:r(p)+f,value:p,index:m,offset:f})):r.domain().map((p,m)=>({coordinate:r(p)+f,value:i?i[p]:p,index:m,offset:f}))}}},Lh=yt([qs,gi,bE,WJ,HJ,OOe,ROe,xi],FOe),wE=yt([_J,EJ,XLe],(e,t,a)=>TJ(a.shared,e,t)),qJ=e=>e.tooltip.settings.trigger,jE=e=>e.tooltip.settings.defaultIndex,r4=yt([Qx,wE,qJ,jE],RJ),Dm=yt([r4,Zx],vE),GJ=yt([Lh,Dm],DJ),KJ=yt([r4],e=>{if(e)return e.dataKey}),YJ=yt([Qx,wE,qJ,jE],IJ),IOe=yt([Eh,Th,qs,Mi,Lh,jE,YJ,Sb],FJ),BOe=yt([r4,IOe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),$Oe=yt([r4],e=>e.active),UOe=yt([YJ,Dm,s0,VX,GJ,Sb,wE],BJ),zOe=yt([UOe],e=>{if(e!=null){var t=e.map(a=>a.payload).filter(a=>a!=null);return Array.from(new Set(t))}});function yB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function wB(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?yB(Object(a),!0).forEach(function(r){HOe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):yB(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function HOe(e,t,a){return(t=VOe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function VOe(e){var t=WOe(e,"string");return typeof t=="symbol"?t:t+""}function WOe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qOe=()=>Ca(gi),GOe=()=>{var e=qOe(),t=Ca(Lh),a=Ca(WJ);return L1(wB(wB({},e),{},{scale:a}),t)},KOe=()=>Ca(tE),NE=(e,t)=>t,XJ=(e,t,a)=>a,kE=(e,t,a,r)=>r,YOe=yt(Lh,e=>NN(e,t=>t.coordinate)),SE=yt([Qx,NE,XJ,kE],RJ),JJ=yt([SE,Zx],vE),XOe=(e,t,a)=>{if(t!=null){var r=Qx(e);return t==="axis"?a==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:a==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},QJ=yt([Qx,NE,XJ,kE],IJ),yj=yt([Eh,Th,qs,Mi,Lh,kE,QJ,Sb],FJ),JOe=yt([SE,yj],(e,t)=>{var a;return(a=e.coordinate)!==null&&a!==void 0?a:t}),ZJ=yt(Lh,JJ,DJ),QOe=yt([QJ,JJ,s0,VX,ZJ,Sb,NE],BJ),ZOe=yt([SE],e=>({isActive:e.active,activeIndex:e.index})),eRe=(e,t,a,r,n,i,l,o)=>{if(!(!e||!t||!r||!n||!i)){var c=lTe(e.chartX,e.chartY,t,a,o);if(c){var d=cTe(c,t),u=KEe(d,l,i,r,n),f=oTe(t,i,u,c);return{activeIndex:String(u),activeCoordinate:f}}}};function H6(){return H6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},H6.apply(null,arguments)}function jB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function R2(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?jB(Object(a),!0).forEach(function(r){tRe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):jB(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function tRe(e,t,a){return(t=aRe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function aRe(e){var t=sRe(e,"string");return typeof t=="symbol"?t:t+""}function sRe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rRe(e){var{coordinate:t,payload:a,index:r,offset:n,tooltipAxisBandSize:i,layout:l,cursor:o,tooltipEventType:c,chartName:d}=e,u=t,f=a,p=r;if(!o||!u||d!=="ScatterChart"&&c!=="axis")return null;var m,v;if(d==="ScatterChart")m=u,v=x7e;else if(d==="BarChart")m=g7e(l,u,n,i),v=RY;else if(l==="radial"){var{cx:g,cy:b,radius:j,startAngle:k,endAngle:S}=FY(u);m={cx:g,cy:b,startAngle:k,endAngle:S,innerRadius:j,outerRadius:j},v=BY}else m={points:eDe(l,u,n)},v=DY;var N=typeof o=="object"&&"className"in o?o.className:void 0,A=R2(R2(R2(R2({stroke:"#ccc",pointerEvents:"none"},n),m),hb(o)),{},{payload:f,payloadIndex:p,className:cr("recharts-tooltip-cursor",N)});return y.isValidElement(o)?y.cloneElement(o,A):y.createElement(v,A)}function nRe(e){var t=GOe(),a=CY(),r=ON(),n=KOe();return y.createElement(rRe,H6({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:a,layout:r,tooltipAxisBandSize:t,chartName:n}))}var eQ=y.createContext(null),iRe=()=>y.useContext(eQ),mS={exports:{}},NB;function lRe(){return NB||(NB=1,(function(e){var t=Object.prototype.hasOwnProperty,a="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(a=!1));function n(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,f,p){if(typeof u!="function")throw new TypeError("The listener must be a function");var m=new n(u,f||c,p),v=a?a+d:d;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],m]:c._events[v].push(m):(c._events[v]=m,c._eventsCount++),c}function l(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var d=[],u,f;if(this._eventsCount===0)return d;for(f in u=this._events)t.call(u,f)&&d.push(a?f.slice(1):f);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},o.prototype.listeners=function(d){var u=a?a+d:d,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,m=f.length,v=new Array(m);p<m;p++)v[p]=f[p].fn;return v},o.prototype.listenerCount=function(d){var u=a?a+d:d,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(d,u,f,p,m,v){var g=a?a+d:d;if(!this._events[g])return!1;var b=this._events[g],j=arguments.length,k,S;if(b.fn){switch(b.once&&this.removeListener(d,b.fn,void 0,!0),j){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,u),!0;case 3:return b.fn.call(b.context,u,f),!0;case 4:return b.fn.call(b.context,u,f,p),!0;case 5:return b.fn.call(b.context,u,f,p,m),!0;case 6:return b.fn.call(b.context,u,f,p,m,v),!0}for(S=1,k=new Array(j-1);S<j;S++)k[S-1]=arguments[S];b.fn.apply(b.context,k)}else{var N=b.length,A;for(S=0;S<N;S++)switch(b[S].once&&this.removeListener(d,b[S].fn,void 0,!0),j){case 1:b[S].fn.call(b[S].context);break;case 2:b[S].fn.call(b[S].context,u);break;case 3:b[S].fn.call(b[S].context,u,f);break;case 4:b[S].fn.call(b[S].context,u,f,p);break;default:if(!k)for(A=1,k=new Array(j-1);A<j;A++)k[A-1]=arguments[A];b[S].fn.apply(b[S].context,k)}}return!0},o.prototype.on=function(d,u,f){return i(this,d,u,f,!1)},o.prototype.once=function(d,u,f){return i(this,d,u,f,!0)},o.prototype.removeListener=function(d,u,f,p){var m=a?a+d:d;if(!this._events[m])return this;if(!u)return l(this,m),this;var v=this._events[m];if(v.fn)v.fn===u&&(!p||v.once)&&(!f||v.context===f)&&l(this,m);else{for(var g=0,b=[],j=v.length;g<j;g++)(v[g].fn!==u||p&&!v[g].once||f&&v[g].context!==f)&&b.push(v[g]);b.length?this._events[m]=b.length===1?b[0]:b:l(this,m)}return this},o.prototype.removeAllListeners=function(d){var u;return d?(u=a?a+d:d,this._events[u]&&l(this,u)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=a,o.EventEmitter=o,e.exports=o})(mS)),mS.exports}var oRe=lRe();const cRe=kh(oRe);var U1=new cRe,V6="recharts.syncEvent.tooltip",kB="recharts.syncEvent.brush";function tQ(e,t){if(t){var a=Number.parseInt(t,10);if(!Fc(a))return e?.[a]}}var dRe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},aQ=Yo({name:"options",initialState:dRe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),uRe=aQ.reducer,{createEventEmitter:hRe}=aQ.actions;function fRe(e){return e.tooltip.syncInteraction}var mRe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},sQ=Yo({name:"chartData",initialState:mRe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:a,endIndex:r}=t.payload;a!=null&&(e.dataStartIndex=a),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:SB,setDataStartEndIndexes:pRe,setComputedData:wHe}=sQ.actions,xRe=sQ.reducer,gRe=["x","y"];function CB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function Up(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?CB(Object(a),!0).forEach(function(r){vRe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):CB(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function vRe(e,t,a){return(t=bRe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function bRe(e){var t=yRe(e,"string");return typeof t=="symbol"?t:t+""}function yRe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wRe(e,t){if(e==null)return{};var a,r,n=jRe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function jRe(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var rQ=()=>{};function NRe(){var e=Ca(aE),t=Ca(sE),a=fi(),r=Ca(IX),n=Ca(Lh),i=ON(),l=LN(),o=Ca(c=>c.rootProps.className);y.useEffect(()=>{if(e==null)return rQ;var c=(d,u,f)=>{if(t!==f&&e===d){if(r==="index"){var p;if(l&&u!==null&&u!==void 0&&(p=u.payload)!==null&&p!==void 0&&p.coordinate&&u.payload.sourceViewBox){var m=u.payload.coordinate,{x:v,y:g}=m,b=wRe(m,gRe),{x:j,y:k,width:S,height:N}=u.payload.sourceViewBox,A=Up(Up({},b),{},{x:l.x+(S?(v-j)/S:0)*l.width,y:l.y+(N?(g-k)/N:0)*l.height});a(Up(Up({},u),{},{payload:Up(Up({},u.payload),{},{coordinate:A})}))}else a(u);return}if(n!=null){var _;if(typeof r=="function"){var E={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},D=r(n,E);_=n[D]}else r==="value"&&(_=n.find(V=>String(V.value)===u.payload.label));var{coordinate:R}=u.payload;if(_==null||u.payload.active===!1||R==null||l==null){a(U6({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:I,y:M}=R,U=Math.min(I,l.x+l.width),P=Math.min(M,l.y+l.height),F={x:i==="horizontal"?_.coordinate:U,y:i==="horizontal"?P:_.coordinate},K=U6({active:u.payload.active,coordinate:F,dataKey:u.payload.dataKey,index:String(_.index),label:u.payload.label,sourceViewBox:u.payload.sourceViewBox});a(K)}}};return U1.on(V6,c),()=>{U1.off(V6,c)}},[o,a,t,e,r,n,i,l])}function kRe(){var e=Ca(aE),t=Ca(sE),a=fi();y.useEffect(()=>{if(e==null)return rQ;var r=(n,i,l)=>{t!==l&&e===n&&a(pRe(i))};return U1.on(kB,r),()=>{U1.off(kB,r)}},[a,t,e])}function SRe(){var e=fi();y.useEffect(()=>{e(hRe())},[e]),NRe(),kRe()}function CRe(e,t,a,r,n,i){var l=Ca(m=>XOe(m,e,t)),o=Ca(sE),c=Ca(aE),d=Ca(IX),u=Ca(fRe),f=u?.active,p=LN();y.useEffect(()=>{if(!f&&c!=null&&o!=null){var m=U6({active:i,coordinate:a,dataKey:l,index:n,label:typeof r=="number"?String(r):r,sourceViewBox:p});U1.emit(V6,c,m,o)}},[f,a,l,n,r,o,c,d,i,p])}function AB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function _B(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?AB(Object(a),!0).forEach(function(r){ARe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):AB(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function ARe(e,t,a){return(t=_Re(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _Re(e){var t=ERe(e,"string");return typeof t=="symbol"?t:t+""}function ERe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TRe(e){return e.dataKey}function DRe(e,t){return y.isValidElement(e)?y.cloneElement(e,t):typeof e=="function"?y.createElement(e,t):y.createElement(KTe,t)}var EB=[],PRe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!qm.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function wj(e){var t=jo(e,PRe),{active:a,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,content:l,filterNull:o,isAnimationActive:c,offset:d,payloadUniqBy:u,position:f,reverseDirection:p,useTranslate3d:m,wrapperStyle:v,cursor:g,shared:b,trigger:j,defaultIndex:k,portal:S,axisId:N}=t,A=fi(),_=typeof k=="number"?String(k):k;y.useEffect(()=>{A(eOe({shared:b,trigger:j,axisId:N,active:a,defaultIndex:_}))},[A,b,j,N,a,_]);var E=LN(),D=TY(),R=YLe(b),{activeIndex:I,isActive:M}=Ca(te=>ZOe(te,R,j,_)),U=Ca(te=>QOe(te,R,j,_)),P=Ca(te=>ZJ(te,R,j,_)),F=Ca(te=>JOe(te,R,j,_)),K=U,V=iRe(),J=a??M,[Q,z]=I_e([K,J]),X=R==="axis"?P:void 0;CRe(R,j,F,X,I,J);var le=S??V;if(le==null)return null;var O=K??EB;J||(O=EB),o&&O.length&&(O=d_e(K.filter(te=>te.value!=null&&(te.hide!==!0||t.includeHidden)),u,TRe));var q=O.length>0,W=y.createElement(t7e,{allowEscapeViewBox:r,animationDuration:n,animationEasing:i,isAnimationActive:c,active:J,coordinate:F,hasPayload:q,offset:d,position:f,reverseDirection:p,useTranslate3d:m,viewBox:E,wrapperStyle:v,lastBoundingBox:Q,innerRef:z,hasPortalFromProps:!!S},DRe(l,_B(_B({},t),{},{payload:O,label:X,active:J,coordinate:F,accessibilityLayer:D})));return y.createElement(y.Fragment,null,lx.createPortal(W,le),J&&y.createElement(nRe,{cursor:g,tooltipEventType:R,coordinate:F,payload:K,index:I}))}var CE=e=>null;CE.displayName="Cell";function MRe(e,t,a){return(t=LRe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function LRe(e){var t=ORe(e,"string");return typeof t=="symbol"?t:t+""}function ORe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class RRe{constructor(t){MRe(this,"cache",new Map),this.maxSize=t}get(t){var a=this.cache.get(t);return a!==void 0&&(this.cache.delete(t),this.cache.set(t,a)),a}set(t,a){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,a)}clear(){this.cache.clear()}size(){return this.cache.size}}function TB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function FRe(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?TB(Object(a),!0).forEach(function(r){IRe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):TB(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function IRe(e,t,a){return(t=BRe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function BRe(e){var t=$Re(e,"string");return typeof t=="symbol"?t:t+""}function $Re(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var URe={cacheSize:2e3,enableCache:!0},nQ=FRe({},URe),DB=new RRe(nQ.cacheSize),zRe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},PB="recharts_measurement_span";function HRe(e,t){var a=t.fontSize||"",r=t.fontFamily||"",n=t.fontWeight||"",i=t.fontStyle||"",l=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(a,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(l,"|").concat(o)}var MB=(e,t)=>{try{var a=document.getElementById(PB);a||(a=document.createElement("span"),a.setAttribute("id",PB),a.setAttribute("aria-hidden","true"),document.body.appendChild(a)),Object.assign(a.style,zRe,t),a.textContent="".concat(e);var r=a.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Kv=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||qm.isSsr)return{width:0,height:0};if(!nQ.enableCache)return MB(t,a);var r=HRe(t,a),n=DB.get(r);if(n)return n;var i=MB(t,a);return DB.set(r,i),i},LB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,OB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,VRe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,WRe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,iQ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},qRe=Object.keys(iQ),Jp="NaN";function GRe(e,t){return e*iQ[t]}class co{static parse(t){var a,[,r,n]=(a=WRe.exec(t))!==null&&a!==void 0?a:[];return new co(parseFloat(r),n??"")}constructor(t,a){this.num=t,this.unit=a,this.num=t,this.unit=a,Fc(t)&&(this.unit=""),a!==""&&!VRe.test(a)&&(this.num=NaN,this.unit=""),qRe.includes(a)&&(this.num=GRe(t,a),this.unit="px")}add(t){return this.unit!==t.unit?new co(NaN,""):new co(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new co(NaN,""):new co(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new co(NaN,""):new co(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new co(NaN,""):new co(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Fc(this.num)}}function lQ(e){if(e.includes(Jp))return Jp;for(var t=e;t.includes("*")||t.includes("/");){var a,[,r,n,i]=(a=LB.exec(t))!==null&&a!==void 0?a:[],l=co.parse(r??""),o=co.parse(i??""),c=n==="*"?l.multiply(o):l.divide(o);if(c.isNaN())return Jp;t=t.replace(LB,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,u,f,p]=(d=OB.exec(t))!==null&&d!==void 0?d:[],m=co.parse(u??""),v=co.parse(p??""),g=f==="+"?m.add(v):m.subtract(v);if(g.isNaN())return Jp;t=t.replace(OB,g.toString())}return t}var RB=/\(([^()]*)\)/;function KRe(e){for(var t=e,a;(a=RB.exec(t))!=null;){var[,r]=a;t=t.replace(RB,lQ(r))}return t}function YRe(e){var t=e.replace(/\s+/g,"");return t=KRe(t),t=lQ(t),t}function XRe(e){try{return YRe(e)}catch{return Jp}}function pS(e){var t=XRe(e.slice(5,-1));return t===Jp?"":t}var JRe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],QRe=["dx","dy","angle","className","breakAll"];function W6(){return W6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},W6.apply(null,arguments)}function FB(e,t){if(e==null)return{};var a,r,n=ZRe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function ZRe(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var oQ=/[ \f\n\r\t\v\u2028\u2029]+/,cQ=e=>{var{children:t,breakAll:a,style:r}=e;try{var n=[];Wr(t)||(a?n=t.toString().split(""):n=t.toString().split(oQ));var i=n.map(o=>({word:o,width:Kv(o,r).width})),l=a?0:Kv("",r).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},e9e=(e,t,a,r,n)=>{var{maxLines:i,children:l,style:o,breakAll:c}=e,d=Ea(i),u=l,f=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce((U,P)=>{var{word:F,width:K}=P,V=U[U.length-1];if(V&&(r==null||n||V.width+K+a<Number(r)))V.words.push(F),V.width+=K+a;else{var J={words:[F],width:K};U.push(J)}return U},[])},p=f(t),m=I=>I.reduce((M,U)=>M.width>U.width?M:U);if(!d||n)return p;var v=p.length>i||m(p).width>Number(r);if(!v)return p;for(var g="",b=I=>{var M=u.slice(0,I),U=cQ({breakAll:c,style:o,children:M+g}).wordsWithComputedWidth,P=f(U),F=P.length>i||m(P).width>Number(r);return[F,P]},j=0,k=u.length-1,S=0,N;j<=k&&S<=u.length-1;){var A=Math.floor((j+k)/2),_=A-1,[E,D]=b(_),[R]=b(A);if(!E&&!R&&(j=A+1),E&&R&&(k=A-1),!E&&R){N=D;break}S++}return N||p},IB=e=>{var t=Wr(e)?[]:e.toString().split(oQ);return[{words:t}]},t9e=e=>{var{width:t,scaleToFit:a,children:r,style:n,breakAll:i,maxLines:l}=e;if((t||a)&&!qm.isSsr){var o,c,d=cQ({breakAll:i,children:r,style:n});if(d){var{wordsWithComputedWidth:u,spaceWidth:f}=d;o=u,c=f}else return IB(r);return e9e({breakAll:i,children:r,maxLines:l,style:n},o,c,t,a)}return IB(r)},BB="#808080",AE=y.forwardRef((e,t)=>{var{x:a=0,y:r=0,lineHeight:n="1em",capHeight:i="0.71em",scaleToFit:l=!1,textAnchor:o="start",verticalAnchor:c="end",fill:d=BB}=e,u=FB(e,JRe),f=y.useMemo(()=>t9e({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:l,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,l,u.style,u.width]),{dx:p,dy:m,angle:v,className:g,breakAll:b}=u,j=FB(u,QRe);if(!vu(a)||!vu(r)||f.length===0)return null;var k=a+(Ea(p)?p:0),S=r+(Ea(m)?m:0),N;switch(c){case"start":N=pS("calc(".concat(i,")"));break;case"middle":N=pS("calc(".concat((f.length-1)/2," * -").concat(n," + (").concat(i," / 2))"));break;default:N=pS("calc(".concat(f.length-1," * -").concat(n,")"));break}var A=[];if(l){var _=f[0].width,{width:E}=u;A.push("scale(".concat(Ea(E)?E/_:1,")"))}return v&&A.push("rotate(".concat(v,", ").concat(k,", ").concat(S,")")),A.length&&(j.transform=A.join(" ")),y.createElement("text",W6({},Wl(j),{ref:t,x:k,y:S,className:cr("recharts-text",g),textAnchor:o,fill:d.includes("url")?BB:d}),f.map((D,R)=>{var I=D.words.join(b?"":" ");return y.createElement("tspan",{x:k,dy:R===0?N:n,key:"".concat(I,"-").concat(R)},I)}))});AE.displayName="Text";var a9e=["labelRef"];function s9e(e,t){if(e==null)return{};var a,r,n=r9e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function r9e(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function $B(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function Tn(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?$B(Object(a),!0).forEach(function(r){n9e(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$B(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function n9e(e,t,a){return(t=i9e(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i9e(e){var t=l9e(e,"string");return typeof t=="symbol"?t:t+""}function l9e(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qu(){return Qu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Qu.apply(null,arguments)}var dQ=y.createContext(null),o9e=e=>{var{x:t,y:a,width:r,height:n,children:i}=e,l=y.useMemo(()=>({x:t,y:a,width:r,height:n}),[t,a,r,n]);return y.createElement(dQ.Provider,{value:l},i)},uQ=()=>{var e=y.useContext(dQ),t=LN();return e||t},c9e=y.createContext(null),d9e=()=>{var e=y.useContext(c9e),t=Ca(HX);return e||t},u9e=e=>{var{value:t,formatter:a}=e,r=Wr(e.children)?t:e.children;return typeof a=="function"?a(r):r},_E=e=>e!=null&&typeof e=="function",h9e=(e,t)=>{var a=mo(t-e),r=Math.min(Math.abs(t-e),360);return a*r},f9e=(e,t,a,r,n)=>{var{offset:i,className:l}=e,{cx:o,cy:c,innerRadius:d,outerRadius:u,startAngle:f,endAngle:p,clockWise:m}=n,v=(d+u)/2,g=h9e(f,p),b=g>=0?1:-1,j,k;switch(t){case"insideStart":j=f+b*i,k=m;break;case"insideEnd":j=p-b*i,k=!m;break;case"end":j=p+b*i,k=m;break;default:throw new Error("Unsupported position ".concat(t))}k=g<=0?k:!k;var S=Qi(o,c,v,j),N=Qi(o,c,v,j+(k?1:-1)*359),A="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(k?0:1,`,
    `).concat(N.x,",").concat(N.y),_=Wr(e.id)?T1("recharts-radial-line-"):e.id;return y.createElement("text",Qu({},r,{dominantBaseline:"central",className:cr("recharts-radial-bar-label",l)}),y.createElement("defs",null,y.createElement("path",{id:_,d:A})),y.createElement("textPath",{xlinkHref:"#".concat(_)},a))},m9e=(e,t,a)=>{var{cx:r,cy:n,innerRadius:i,outerRadius:l,startAngle:o,endAngle:c}=e,d=(o+c)/2;if(a==="outside"){var{x:u,y:f}=Qi(r,n,l+t,d);return{x:u,y:f,textAnchor:u>=r?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:r,y:n,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:r,y:n,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:r,y:n,textAnchor:"middle",verticalAnchor:"end"};var p=(i+l)/2,{x:m,y:v}=Qi(r,n,p,d);return{x:m,y:v,textAnchor:"middle",verticalAnchor:"middle"}},hQ=e=>"cx"in e&&Ea(e.cx),p9e=(e,t)=>{var{parentViewBox:a,offset:r,position:n}=e,i;a!=null&&!hQ(a)&&(i=a);var{x:l,y:o,width:c,height:d}=t,u=d>=0?1:-1,f=u*r,p=u>0?"end":"start",m=u>0?"start":"end",v=c>=0?1:-1,g=v*r,b=v>0?"end":"start",j=v>0?"start":"end";if(n==="top"){var k={x:l+c/2,y:o-u*r,textAnchor:"middle",verticalAnchor:p};return Tn(Tn({},k),i?{height:Math.max(o-i.y,0),width:c}:{})}if(n==="bottom"){var S={x:l+c/2,y:o+d+f,textAnchor:"middle",verticalAnchor:m};return Tn(Tn({},S),i?{height:Math.max(i.y+i.height-(o+d),0),width:c}:{})}if(n==="left"){var N={x:l-g,y:o+d/2,textAnchor:b,verticalAnchor:"middle"};return Tn(Tn({},N),i?{width:Math.max(N.x-i.x,0),height:d}:{})}if(n==="right"){var A={x:l+c+g,y:o+d/2,textAnchor:j,verticalAnchor:"middle"};return Tn(Tn({},A),i?{width:Math.max(i.x+i.width-A.x,0),height:d}:{})}var _=i?{width:c,height:d}:{};return n==="insideLeft"?Tn({x:l+g,y:o+d/2,textAnchor:j,verticalAnchor:"middle"},_):n==="insideRight"?Tn({x:l+c-g,y:o+d/2,textAnchor:b,verticalAnchor:"middle"},_):n==="insideTop"?Tn({x:l+c/2,y:o+f,textAnchor:"middle",verticalAnchor:m},_):n==="insideBottom"?Tn({x:l+c/2,y:o+d-f,textAnchor:"middle",verticalAnchor:p},_):n==="insideTopLeft"?Tn({x:l+g,y:o+f,textAnchor:j,verticalAnchor:m},_):n==="insideTopRight"?Tn({x:l+c-g,y:o+f,textAnchor:b,verticalAnchor:m},_):n==="insideBottomLeft"?Tn({x:l+g,y:o+d-f,textAnchor:j,verticalAnchor:p},_):n==="insideBottomRight"?Tn({x:l+c-g,y:o+d-f,textAnchor:b,verticalAnchor:p},_):n&&typeof n=="object"&&(Ea(n.x)||bh(n.x))&&(Ea(n.y)||bh(n.y))?Tn({x:l+Ad(n.x,c),y:o+Ad(n.y,d),textAnchor:"end",verticalAnchor:"end"},_):Tn({x:l+c/2,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},_)},x9e={offset:5};function yf(e){var t=jo(e,x9e),{viewBox:a,position:r,value:n,children:i,content:l,className:o="",textBreakAll:c,labelRef:d}=t,u=d9e(),f=uQ(),p=r==="center"?f:u??f,m=a||p;if(!m||Wr(n)&&Wr(i)&&!y.isValidElement(l)&&typeof l!="function")return null;var v=Tn(Tn({},t),{},{viewBox:m});if(y.isValidElement(l)){var{labelRef:g}=v,b=s9e(v,a9e);return y.cloneElement(l,b)}var j;if(typeof l=="function"){if(j=y.createElement(l,v),y.isValidElement(j))return j}else j=u9e(t);var k=hQ(m),S=Wl(t);if(k&&(r==="insideStart"||r==="insideEnd"||r==="end"))return f9e(t,r,j,S,m);var N=k?m9e(m,t.offset,t.position):p9e(t,m);return y.createElement(AE,Qu({ref:d,className:cr("recharts-label",o)},S,N,{breakAll:c}),j)}yf.displayName="Label";var g9e=(e,t,a)=>{if(!e)return null;var r={viewBox:t,labelRef:a};return e===!0?y.createElement(yf,Qu({key:"label-implicit"},r)):vu(e)?y.createElement(yf,Qu({key:"label-implicit",value:e},r)):y.isValidElement(e)?e.type===yf?y.cloneElement(e,Tn({key:"label-implicit"},r)):y.createElement(yf,Qu({key:"label-implicit",content:e},r)):_E(e)?y.createElement(yf,Qu({key:"label-implicit",content:e},r)):e&&typeof e=="object"?y.createElement(yf,Qu({},e,{key:"label-implicit"},r)):null};function v9e(e){var{label:t,labelRef:a}=e,r=uQ();return g9e(t,r,a)||null}var xS={},gS={},UB;function b9e(){return UB||(UB=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a[a.length-1]}e.last=t})(gS)),gS}var vS={},zB;function y9e(){return zB||(zB=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return Array.isArray(a)?a:Array.from(a)}e.toArray=t})(vS)),vS}var HB;function w9e(){return HB||(HB=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b9e(),a=y9e(),r=w_();function n(i){if(r.isArrayLike(i))return t.last(a.toArray(i))}e.last=n})(xS)),xS}var bS,VB;function j9e(){return VB||(VB=1,bS=w9e().last),bS}var N9e=j9e();const k9e=kh(N9e);var S9e=["valueAccessor"],C9e=["dataKey","clockWise","id","textBreakAll"];function jj(){return jj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},jj.apply(null,arguments)}function WB(e,t){if(e==null)return{};var a,r,n=A9e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function A9e(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var _9e=e=>Array.isArray(e.value)?k9e(e.value):e.value,fQ=y.createContext(void 0),mQ=fQ.Provider,pQ=y.createContext(void 0);pQ.Provider;function E9e(){return y.useContext(fQ)}function T9e(){return y.useContext(pQ)}function Yv(e){var{valueAccessor:t=_9e}=e,a=WB(e,S9e),{dataKey:r,clockWise:n,id:i,textBreakAll:l}=a,o=WB(a,C9e),c=E9e(),d=T9e(),u=c||d;return!u||!u.length?null:y.createElement(Cd,{className:"recharts-label-list"},u.map((f,p)=>{var m,v=Wr(r)?t(f,p):Pi(f&&f.payload,r),g=Wr(i)?{}:{id:"".concat(i,"-").concat(p)};return y.createElement(yf,jj({key:"label-".concat(p)},Wl(f),o,g,{fill:(m=a.fill)!==null&&m!==void 0?m:f.fill,parentViewBox:f.parentViewBox,value:v,textBreakAll:l,viewBox:f.viewBox,index:p}))}))}Yv.displayName="LabelList";function xQ(e){var{label:t}=e;return t?t===!0?y.createElement(Yv,{key:"labelList-implicit"}):y.isValidElement(t)||_E(t)?y.createElement(Yv,{key:"labelList-implicit",content:t}):typeof t=="object"?y.createElement(Yv,jj({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function q6(){return q6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},q6.apply(null,arguments)}var gQ=e=>{var{cx:t,cy:a,r,className:n}=e,i=cr("recharts-dot",n);return t===+t&&a===+a&&r===+r?y.createElement("circle",q6({},Sd(e),b_(e),{className:i,cx:t,cy:a,r})):null},D9e={radiusAxis:{},angleAxis:{}},vQ=Yo({name:"polarAxis",initialState:D9e,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:jHe,removeRadiusAxis:NHe,addAngleAxis:kHe,removeAngleAxis:SHe}=vQ.actions,P9e=vQ.reducer,yS={exports:{}},lr={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qB;function M9e(){if(qB)return lr;qB=1;var e=60103,t=60106,a=60107,r=60108,n=60114,i=60109,l=60110,o=60112,c=60113,d=60120,u=60115,f=60116,p=60121,m=60122,v=60117,g=60129,b=60131;if(typeof Symbol=="function"&&Symbol.for){var j=Symbol.for;e=j("react.element"),t=j("react.portal"),a=j("react.fragment"),r=j("react.strict_mode"),n=j("react.profiler"),i=j("react.provider"),l=j("react.context"),o=j("react.forward_ref"),c=j("react.suspense"),d=j("react.suspense_list"),u=j("react.memo"),f=j("react.lazy"),p=j("react.block"),m=j("react.server.block"),v=j("react.fundamental"),g=j("react.debug_trace_mode"),b=j("react.legacy_hidden")}function k(P){if(typeof P=="object"&&P!==null){var F=P.$$typeof;switch(F){case e:switch(P=P.type,P){case a:case n:case r:case c:case d:return P;default:switch(P=P&&P.$$typeof,P){case l:case o:case f:case u:case i:return P;default:return F}}case t:return F}}}var S=i,N=e,A=o,_=a,E=f,D=u,R=t,I=n,M=r,U=c;return lr.ContextConsumer=l,lr.ContextProvider=S,lr.Element=N,lr.ForwardRef=A,lr.Fragment=_,lr.Lazy=E,lr.Memo=D,lr.Portal=R,lr.Profiler=I,lr.StrictMode=M,lr.Suspense=U,lr.isAsyncMode=function(){return!1},lr.isConcurrentMode=function(){return!1},lr.isContextConsumer=function(P){return k(P)===l},lr.isContextProvider=function(P){return k(P)===i},lr.isElement=function(P){return typeof P=="object"&&P!==null&&P.$$typeof===e},lr.isForwardRef=function(P){return k(P)===o},lr.isFragment=function(P){return k(P)===a},lr.isLazy=function(P){return k(P)===f},lr.isMemo=function(P){return k(P)===u},lr.isPortal=function(P){return k(P)===t},lr.isProfiler=function(P){return k(P)===n},lr.isStrictMode=function(P){return k(P)===r},lr.isSuspense=function(P){return k(P)===c},lr.isValidElementType=function(P){return typeof P=="string"||typeof P=="function"||P===a||P===n||P===g||P===r||P===c||P===d||P===b||typeof P=="object"&&P!==null&&(P.$$typeof===f||P.$$typeof===u||P.$$typeof===i||P.$$typeof===l||P.$$typeof===o||P.$$typeof===v||P.$$typeof===p||P[0]===m)},lr.typeOf=k,lr}var GB;function L9e(){return GB||(GB=1,yS.exports=M9e()),yS.exports}var O9e=L9e(),KB=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",YB=null,wS=null,bQ=e=>{if(e===YB&&Array.isArray(wS))return wS;var t=[];return y.Children.forEach(e,a=>{Wr(a)||(O9e.isFragment(a)?t=t.concat(bQ(a.props.children)):t.push(a))}),wS=t,YB=e,t};function R9e(e,t){var a=[],r=[];return Array.isArray(t)?r=t.map(n=>KB(n)):r=[KB(t)],bQ(e).forEach(n=>{var i=jx(n,"type.displayName")||jx(n,"type.name");r.indexOf(i)!==-1&&a.push(n)}),a}var yQ=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,jS={},XB;function F9e(){return XB||(XB=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){if(typeof a!="object"||a==null)return!1;if(Object.getPrototypeOf(a)===null)return!0;if(Object.prototype.toString.call(a)!=="[object Object]"){const n=a[Symbol.toStringTag];return n==null||!Object.getOwnPropertyDescriptor(a,Symbol.toStringTag)?.writable?!1:a.toString()===`[object ${n}]`}let r=a;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(a)===r}e.isPlainObject=t})(jS)),jS}var NS,JB;function I9e(){return JB||(JB=1,NS=F9e().isPlainObject),NS}var B9e=I9e();const $9e=kh(B9e);function QB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function ZB(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?QB(Object(a),!0).forEach(function(r){U9e(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):QB(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function U9e(e,t,a){return(t=z9e(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function z9e(e){var t=H9e(e,"string");return typeof t=="symbol"?t:t+""}function H9e(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nj(){return Nj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Nj.apply(null,arguments)}var e$=(e,t,a,r,n)=>{var i=a-r,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+a,",").concat(t),l+="L ".concat(e+a-i/2,",").concat(t+n),l+="L ".concat(e+a-i/2-r,",").concat(t+n),l+="L ".concat(e,",").concat(t," Z"),l},V9e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},W9e=e=>{var t=jo(e,V9e),{x:a,y:r,upperWidth:n,lowerWidth:i,height:l,className:o}=t,{animationEasing:c,animationDuration:d,animationBegin:u,isUpdateAnimationActive:f}=t,p=y.useRef(null),[m,v]=y.useState(-1),g=y.useRef(n),b=y.useRef(i),j=y.useRef(l),k=y.useRef(a),S=y.useRef(r),N=IN(e,"trapezoid-");if(y.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var F=p.current.getTotalLength();F&&v(F)}catch{}},[]),a!==+a||r!==+r||n!==+n||i!==+i||l!==+l||n===0&&i===0||l===0)return null;var A=cr("recharts-trapezoid",o);if(!f)return y.createElement("g",null,y.createElement("path",Nj({},Wl(t),{className:A,d:e$(a,r,n,i,l)})));var _=g.current,E=b.current,D=j.current,R=k.current,I=S.current,M="0px ".concat(m===-1?1:m,"px"),U="".concat(m,"px 0px"),P=PY(["strokeDasharray"],d,c);return y.createElement(FN,{animationId:N,key:N,canBegin:m>0,duration:d,easing:c,isActive:f,begin:u},F=>{var K=Kn(_,n,F),V=Kn(E,i,F),J=Kn(D,l,F),Q=Kn(R,a,F),z=Kn(I,r,F);p.current&&(g.current=K,b.current=V,j.current=J,k.current=Q,S.current=z);var X=F>0?{transition:P,strokeDasharray:U}:{strokeDasharray:M};return y.createElement("path",Nj({},Wl(t),{className:A,d:e$(Q,z,K,V,J),ref:p,style:ZB(ZB({},X),t.style)}))})},q9e=["option","shapeType","propTransformer","activeClassName","isActive"];function G9e(e,t){if(e==null)return{};var a,r,n=K9e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function K9e(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function t$(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function kj(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?t$(Object(a),!0).forEach(function(r){Y9e(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):t$(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Y9e(e,t,a){return(t=X9e(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function X9e(e){var t=J9e(e,"string");return typeof t=="symbol"?t:t+""}function J9e(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q9e(e,t){return kj(kj({},t),e)}function Z9e(e,t){return e==="symbols"}function a$(e){var{shapeType:t,elementProps:a}=e;switch(t){case"rectangle":return y.createElement(RY,a);case"trapezoid":return y.createElement(W9e,a);case"sector":return y.createElement(BY,a);case"symbols":if(Z9e(t))return y.createElement(MK,a);break;default:return null}}function eFe(e){return y.isValidElement(e)?e.props:e}function tFe(e){var{option:t,shapeType:a,propTransformer:r=Q9e,activeClassName:n="recharts-active-shape",isActive:i}=e,l=G9e(e,q9e),o;if(y.isValidElement(t))o=y.cloneElement(t,kj(kj({},l),eFe(t)));else if(typeof t=="function")o=t(l);else if($9e(t)&&typeof t!="boolean"){var c=r(t,l);o=y.createElement(a$,{shapeType:a,elementProps:c})}else{var d=l;o=y.createElement(a$,{shapeType:a,elementProps:d})}return i?y.createElement(Cd,{className:n},o):o}var wQ=(e,t)=>{var a=fi();return(r,n)=>i=>{e?.(r,n,i),a(MJ({activeIndex:String(n),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},jQ=e=>{var t=fi();return(a,r)=>n=>{e?.(a,r,n),t(tOe())}},NQ=(e,t)=>{var a=fi();return(r,n)=>i=>{e?.(r,n,i),a(aOe({activeIndex:String(n),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function kQ(e){var{fn:t,args:a}=e,r=fi(),n=ql();return y.useLayoutEffect(()=>{if(!n){var i=t(a);return r(QLe(i)),()=>{r(ZLe(i))}}},[t,a,r,n]),null}var aFe=()=>{};function SQ(e){var{legendPayload:t}=e,a=fi(),r=ql();return y.useLayoutEffect(()=>r?aFe:(a(UTe(t)),()=>{a(zTe(t))}),[a,r,t]),null}var kS,sFe=()=>{var[e]=y.useState(()=>T1("uid-"));return e},rFe=(kS=fee.useId)!==null&&kS!==void 0?kS:sFe;function nFe(e,t){var a=rFe();return t||(e?"".concat(e,"-").concat(a):a)}var iFe=y.createContext(void 0),CQ=e=>{var{id:t,type:a,children:r}=e,n=nFe("recharts-".concat(a),t);return y.createElement(iFe.Provider,{value:n},r(n))},lFe={cartesianItems:[],polarItems:[]},AQ=Yo({name:"graphicalItems",initialState:lFe,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Bl()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:a,next:r}=t.payload,n=hh(e).cartesianItems.indexOf(a);n>-1&&(e.cartesianItems[n]=r)},prepare:Bl()},removeCartesianGraphicalItem:{reducer(e,t){var a=hh(e).cartesianItems.indexOf(t.payload);a>-1&&e.cartesianItems.splice(a,1)},prepare:Bl()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Bl()},removePolarGraphicalItem:{reducer(e,t){var a=hh(e).polarItems.indexOf(t.payload);a>-1&&e.polarItems.splice(a,1)},prepare:Bl()}}}),{addCartesianGraphicalItem:oFe,replaceCartesianGraphicalItem:cFe,removeCartesianGraphicalItem:dFe,addPolarGraphicalItem:CHe,removePolarGraphicalItem:AHe}=AQ.actions,uFe=AQ.reducer;function _Q(e){var t=fi(),a=y.useRef(null);return y.useLayoutEffect(()=>{a.current===null?t(oFe(e)):a.current!==e&&t(cFe({prev:a.current,next:e})),a.current=e},[t,e]),y.useLayoutEffect(()=>()=>{a.current&&(t(dFe(a.current)),a.current=null)},[t]),null}function s$(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function r$(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?s$(Object(a),!0).forEach(function(r){hFe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s$(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function hFe(e,t,a){return(t=fFe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function fFe(e){var t=mFe(e,"string");return typeof t=="symbol"?t:t+""}function mFe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pFe={xAxis:{},yAxis:{},zAxis:{}},EQ=Yo({name:"cartesianAxis",initialState:pFe,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Bl()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Bl()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Bl()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Bl()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Bl()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Bl()},updateYAxisWidth(e,t){var{id:a,width:r}=t.payload,n=e.yAxis[a];if(n){var i=n.widthHistory||[];if(i.length===3&&i[0]===i[2]&&r===i[1]&&r!==n.width&&Math.abs(r-i[0])<=1)return;var l=[...i,r].slice(-3);e.yAxis[a]=r$(r$({},e.yAxis[a]),{},{width:r,widthHistory:l})}}}}),{addXAxis:xFe,removeXAxis:gFe,addYAxis:vFe,removeYAxis:bFe,addZAxis:_He,removeZAxis:EHe,updateYAxisWidth:yFe}=EQ.actions,wFe=EQ.reducer,jFe=yt([Mi],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),NFe=yt([jFe,Eh,Th],(e,t,a)=>{if(!(!e||t==null||a==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,a-e.top-e.bottom)}}),EE=()=>Ca(NFe),kFe=()=>Ca(zOe);function n$(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function i$(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?n$(Object(a),!0).forEach(function(r){SFe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n$(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function SFe(e,t,a){return(t=CFe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function CFe(e){var t=AFe(e,"string");return typeof t=="symbol"?t:t+""}function AFe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _Fe=e=>{var{point:t,childIndex:a,mainColor:r,activeDot:n,dataKey:i}=e;if(n===!1||t.x==null||t.y==null)return null;var l=i$(i$({index:a,dataKey:i,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},hb(n)),b_(n)),o;return y.isValidElement(n)?o=y.cloneElement(n,l):typeof n=="function"?o=n(l):o=y.createElement(gQ,l),y.createElement(Cd,{className:"recharts-active-dot"},o)};function EFe(e){var{points:t,mainColor:a,activeDot:r,itemDataKey:n}=e,i=Ca(Dm),l=kFe();if(t==null||l==null)return null;var o=t.find(c=>l.includes(c.payload));return Wr(o)?null:_Fe({point:o,childIndex:Number(i),mainColor:a,dataKey:n,activeDot:r})}var TFe="Invariant failed";function DFe(e,t){throw new Error(TFe)}var PFe=["x","y"];function G6(){return G6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},G6.apply(null,arguments)}function l$(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function hv(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?l$(Object(a),!0).forEach(function(r){MFe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l$(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function MFe(e,t,a){return(t=LFe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function LFe(e){var t=OFe(e,"string");return typeof t=="symbol"?t:t+""}function OFe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RFe(e,t){if(e==null)return{};var a,r,n=FFe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function FFe(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function IFe(e,t){var{x:a,y:r}=e,n=RFe(e,PFe),i="".concat(a),l=parseInt(i,10),o="".concat(r),c=parseInt(o,10),d="".concat(t.height||n.height),u=parseInt(d,10),f="".concat(t.width||n.width),p=parseInt(f,10);return hv(hv(hv(hv(hv({},t),n),l?{x:l}:{}),c?{y:c}:{}),{},{height:u,width:p,name:t.name,radius:t.radius})}function TE(e){return y.createElement(tFe,G6({shapeType:"rectangle",propTransformer:IFe,activeClassName:"recharts-active-bar"},e))}var BFe=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,n)=>{if(Ea(t))return t;var i=Ea(r)||Wr(r);return i?t(r,n):(i||DFe(),a)}},$Fe={},TQ=Yo({name:"errorBars",initialState:$Fe,reducers:{addErrorBar:(e,t)=>{var{itemId:a,errorBar:r}=t.payload;e[a]||(e[a]=[]),e[a].push(r)},replaceErrorBar:(e,t)=>{var{itemId:a,prev:r,next:n}=t.payload;e[a]&&(e[a]=e[a].map(i=>i.dataKey===r.dataKey&&i.direction===r.direction?n:i))},removeErrorBar:(e,t)=>{var{itemId:a,errorBar:r}=t.payload;e[a]&&(e[a]=e[a].filter(n=>n.dataKey!==r.dataKey||n.direction!==r.direction))}}}),{addErrorBar:THe,replaceErrorBar:DHe,removeErrorBar:PHe}=TQ.actions,UFe=TQ.reducer,zFe=["children"];function HFe(e,t){if(e==null)return{};var a,r,n=VFe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function VFe(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var WFe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},qFe=y.createContext(WFe);function DQ(e){var{children:t}=e,a=HFe(e,zFe);return y.createElement(qFe.Provider,{value:a},t)}function DE(e,t){var a,r,n=Ca(d=>Ph(d,e)),i=Ca(d=>Mh(d,t)),l=(a=n?.allowDataOverflow)!==null&&a!==void 0?a:Oo.allowDataOverflow,o=(r=i?.allowDataOverflow)!==null&&r!==void 0?r:Ro.allowDataOverflow,c=l||o;return{needClip:c,needClipX:l,needClipY:o}}function PQ(e){var{xAxisId:t,yAxisId:a,clipPathId:r}=e,n=EE(),{needClipX:i,needClipY:l,needClip:o}=DE(t,a);if(!o)return null;var{x:c,y:d,width:u,height:f}=n;return y.createElement("clipPath",{id:"clipPath-".concat(r)},y.createElement("rect",{x:i?c:c-u/2,y:l?d:d-f/2,width:i?u:u*2,height:l?f:f*2}))}var GFe=["onMouseEnter","onMouseLeave","onClick"],KFe=["value","background","tooltipPosition"],YFe=["id"],XFe=["onMouseEnter","onClick","onMouseLeave"];function Wf(){return Wf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Wf.apply(null,arguments)}function o$(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function $l(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?o$(Object(a),!0).forEach(function(r){JFe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o$(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function JFe(e,t,a){return(t=QFe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function QFe(e){var t=ZFe(e,"string");return typeof t=="symbol"?t:t+""}function ZFe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sj(e,t){if(e==null)return{};var a,r,n=eIe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function eIe(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var tIe=e=>{var{dataKey:t,name:a,fill:r,legendType:n,hide:i}=e;return[{inactive:i,dataKey:t,type:n,color:r,value:EN(a,t),payload:e}]};function aIe(e){var{dataKey:t,stroke:a,strokeWidth:r,fill:n,name:i,hide:l,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:a,strokeWidth:r,fill:n,dataKey:t,nameKey:void 0,name:EN(i,t),hide:l,type:e.tooltipType,color:e.fill,unit:o}}}function sIe(e){var t=Ca(Dm),{data:a,dataKey:r,background:n,allOtherBarProps:i}=e,{onMouseEnter:l,onMouseLeave:o,onClick:c}=i,d=Sj(i,GFe),u=wQ(l,r),f=jQ(o),p=NQ(c,r);if(!n||a==null)return null;var m=hb(n);return y.createElement(y.Fragment,null,a.map((v,g)=>{var{value:b,background:j,tooltipPosition:k}=v,S=Sj(v,KFe);if(!j)return null;var N=u(v,g),A=f(v,g),_=p(v,g),E=$l($l($l($l($l({option:n,isActive:String(g)===t},S),{},{fill:"#eee"},j),m),y_(d,v,g)),{},{onMouseEnter:N,onMouseLeave:A,onClick:_,dataKey:r,index:g,className:"recharts-bar-background-rectangle"});return y.createElement(TE,Wf({key:"background-bar-".concat(g)},E))}))}function rIe(e){var{showLabels:t,children:a,rects:r}=e,n=r?.map(i=>{var l={x:i.x,y:i.y,width:i.width,height:i.height};return $l($l({},l),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:l,fill:i.fill})});return y.createElement(mQ,{value:t?n:void 0},a)}function nIe(e){var{shape:t,activeBar:a,baseProps:r,entry:n,index:i,dataKey:l}=e,o=Ca(Dm),c=Ca(KJ),d=a&&String(i)===o&&(c==null||l===c),u=d?a:t;return y.createElement(TE,Wf({},r,{name:String(r.name)},n,{isActive:d,option:u,index:i,dataKey:l}))}function iIe(e){var{shape:t,baseProps:a,entry:r,index:n,dataKey:i}=e;return y.createElement(TE,Wf({},a,{name:String(a.name)},r,{isActive:!1,option:t,index:n,dataKey:i}))}function lIe(e){var{data:t,props:a}=e,r=Sd(a),{id:n}=r,i=Sj(r,YFe),{shape:l,dataKey:o,activeBar:c}=a,{onMouseEnter:d,onClick:u,onMouseLeave:f}=a,p=Sj(a,XFe),m=wQ(d,o),v=jQ(f),g=NQ(u,o);return t?y.createElement(y.Fragment,null,t.map((b,j)=>y.createElement(Cd,Wf({key:"rectangle-".concat(b?.x,"-").concat(b?.y,"-").concat(b?.value,"-").concat(j),className:"recharts-bar-rectangle"},y_(p,b,j),{onMouseEnter:m(b,j),onMouseLeave:v(b,j),onClick:g(b,j)}),c?y.createElement(nIe,{shape:l,activeBar:c,baseProps:i,entry:b,index:j,dataKey:o}):y.createElement(iIe,{shape:l,baseProps:i,entry:b,index:j,dataKey:o})))):null}function oIe(e){var{props:t,previousRectanglesRef:a}=e,{data:r,layout:n,isAnimationActive:i,animationBegin:l,animationDuration:o,animationEasing:c,onAnimationEnd:d,onAnimationStart:u}=t,f=a.current,p=IN(t,"recharts-bar-"),[m,v]=y.useState(!1),g=!m,b=y.useCallback(()=>{typeof d=="function"&&d(),v(!1)},[d]),j=y.useCallback(()=>{typeof u=="function"&&u(),v(!0)},[u]);return y.createElement(rIe,{showLabels:g,rects:r},y.createElement(FN,{animationId:p,begin:l,duration:o,isActive:i,easing:c,onAnimationEnd:b,onAnimationStart:j,key:p},k=>{var S=k===1?r:r?.map((N,A)=>{var _=f&&f[A];if(_)return $l($l({},N),{},{x:Kn(_.x,N.x,k),y:Kn(_.y,N.y,k),width:Kn(_.width,N.width,k),height:Kn(_.height,N.height,k)});if(n==="horizontal"){var E=Kn(0,N.height,k);return $l($l({},N),{},{y:N.y+N.height-E,height:E})}var D=Kn(0,N.width,k);return $l($l({},N),{},{width:D})});return k>0&&(a.current=S??null),S==null?null:y.createElement(Cd,null,y.createElement(lIe,{props:t,data:S}))}),y.createElement(xQ,{label:t.label}),t.children)}function cIe(e){var t=y.useRef(null);return y.createElement(oIe,{previousRectanglesRef:t,props:e})}var MQ=0,dIe=(e,t)=>{var a=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:a,errorVal:Pi(e,t)}};class uIe extends y.PureComponent{render(){var{hide:t,data:a,dataKey:r,className:n,xAxisId:i,yAxisId:l,needClip:o,background:c,id:d}=this.props;if(t||a==null)return null;var u=cr("recharts-bar",n),f=d;return y.createElement(Cd,{className:u,id:d},o&&y.createElement("defs",null,y.createElement(PQ,{clipPathId:f,xAxisId:i,yAxisId:l})),y.createElement(Cd,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(f,")"):void 0},y.createElement(sIe,{data:a,dataKey:r,background:c,allOtherBarProps:this.props}),y.createElement(cIe,this.props)))}}var hIe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!qm.isSsr,legendType:"rect",minPointSize:MQ,xAxisId:0,yAxisId:0};function fIe(e){var{xAxisId:t,yAxisId:a,hide:r,legendType:n,minPointSize:i,activeBar:l,animationBegin:o,animationDuration:c,animationEasing:d,isAnimationActive:u}=e,{needClip:f}=DE(t,a),p=ON(),m=ql(),v=R9e(e.children,CE),g=Ca(k=>UIe(k,t,a,m,e.id,v));if(p!=="vertical"&&p!=="horizontal")return null;var b,j=g?.[0];return j==null||j.height==null||j.width==null?b=0:b=p==="vertical"?j.height/2:j.width/2,y.createElement(DQ,{xAxisId:t,yAxisId:a,data:g,dataPointFormatter:dIe,errorBarOffset:b},y.createElement(uIe,Wf({},e,{layout:p,needClip:f,data:g,xAxisId:t,yAxisId:a,hide:r,legendType:n,minPointSize:i,activeBar:l,animationBegin:o,animationDuration:c,animationEasing:d,isAnimationActive:u})))}function mIe(e){var{layout:t,barSettings:{dataKey:a,minPointSize:r},pos:n,bandSize:i,xAxis:l,yAxis:o,xAxisTicks:c,yAxisTicks:d,stackedData:u,displayedData:f,offset:p,cells:m,parentViewBox:v}=e,g=t==="horizontal"?o:l,b=u?g.scale.domain():null,j=sTe({numericAxis:g});return f.map((k,S)=>{var N,A,_,E,D,R;u?N=JEe(u[S],b):(N=Pi(k,a),Array.isArray(N)||(N=[j,N]));var I=BFe(r,MQ)(N[1],S);if(t==="horizontal"){var M,[U,P]=[o.scale(N[0]),o.scale(N[1])];A=GF({axis:l,ticks:c,bandSize:i,offset:n.offset,entry:k,index:S}),_=(M=P??U)!==null&&M!==void 0?M:void 0,E=n.size;var F=U-P;if(D=Fc(F)?0:F,R={x:A,y:p.top,width:E,height:p.height},Math.abs(I)>0&&Math.abs(D)<Math.abs(I)){var K=mo(D||I)*(Math.abs(I)-Math.abs(D));_-=K,D+=K}}else{var[V,J]=[l.scale(N[0]),l.scale(N[1])];if(A=V,_=GF({axis:o,ticks:d,bandSize:i,offset:n.offset,entry:k,index:S}),E=J-V,D=n.size,R={x:p.left,y:_,width:p.width,height:D},Math.abs(I)>0&&Math.abs(E)<Math.abs(I)){var Q=mo(E||I)*(Math.abs(I)-Math.abs(E));E+=Q}}if(A==null||_==null||E==null||D==null)return null;var z=$l($l({},k),{},{x:A,y:_,width:E,height:D,value:u?N:N[1],payload:k,background:R,tooltipPosition:{x:A+E/2,y:_+D/2},parentViewBox:v},m&&m[S]&&m[S].props);return z}).filter(Boolean)}function pIe(e){var t=jo(e,hIe),a=ql();return y.createElement(CQ,{id:t.id,type:"bar"},r=>y.createElement(y.Fragment,null,y.createElement(SQ,{legendPayload:tIe(t)}),y.createElement(kQ,{fn:aIe,args:t}),y.createElement(_Q,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:aTe(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:a}),y.createElement(fIe,Wf({},t,{id:r}))))}var LQ=y.memo(pIe);LQ.displayName="Bar";function c$(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function F2(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?c$(Object(a),!0).forEach(function(r){xIe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c$(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function xIe(e,t,a){return(t=gIe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function gIe(e){var t=vIe(e,"string");return typeof t=="symbol"?t:t+""}function vIe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bIe=(e,t)=>t,yIe=(e,t,a)=>a,wIe=(e,t,a,r)=>r,jIe=(e,t,a,r,n)=>n,Ab=yt([e4,jIe],(e,t)=>e.filter(a=>a.type==="bar").find(a=>a.id===t)),NIe=yt([Ab],e=>e?.maxBarSize),kIe=(e,t,a,r,n,i)=>i,d$=(e,t,a)=>{var r=a??e;if(!Wr(r))return Ad(r,t,0)},SIe=yt([qs,e4,bIe,yIe,wIe],(e,t,a,r,n)=>t.filter(i=>e==="horizontal"?i.xAxisId===a:i.yAxisId===r).filter(i=>i.isPanorama===n).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),CIe=(e,t,a,r)=>{var n=qs(e);return n==="horizontal"?$6(e,"yAxis",a,r):$6(e,"xAxis",t,r)},AIe=(e,t,a)=>{var r=qs(e);return r==="horizontal"?pB(e,"xAxis",t):pB(e,"yAxis",a)},_Ie=(e,t,a)=>{var r={},n=e.filter(JN),i=e.filter(d=>d.stackId==null),l=n.reduce((d,u)=>(d[u.stackId]||(d[u.stackId]=[]),d[u.stackId].push(u),d),r),o=Object.entries(l).map(d=>{var[u,f]=d,p=f.map(v=>v.dataKey),m=d$(t,a,f[0].barSize);return{stackId:u,dataKeys:p,barSize:m}}),c=i.map(d=>{var u=[d.dataKey].filter(p=>p!=null),f=d$(t,a,d.barSize);return{stackId:void 0,dataKeys:u,barSize:f}});return[...o,...c]},EIe=yt([SIe,KMe,AIe],_Ie),TIe=(e,t,a,r,n)=>{var i,l,o=Ab(e,t,a,r,n);if(o!=null){var c=qs(e),d=RX(e),{maxBarSize:u}=o,f=Wr(u)?d:u,p,m;return c==="horizontal"?(p=Vf(e,"xAxis",t,r),m=Hf(e,"xAxis",t,r)):(p=Vf(e,"yAxis",a,r),m=Hf(e,"yAxis",a,r)),(i=(l=L1(p,m,!0))!==null&&l!==void 0?l:f)!==null&&i!==void 0?i:0}},OQ=(e,t,a,r)=>{var n=qs(e),i,l;return n==="horizontal"?(i=Vf(e,"xAxis",t,r),l=Hf(e,"xAxis",t,r)):(i=Vf(e,"yAxis",a,r),l=Hf(e,"yAxis",a,r)),L1(i,l)};function DIe(e,t,a,r,n){var i=r.length;if(!(i<1)){var l=Ad(e,a,0,!0),o,c=[];if(kl(r[0].barSize)){var d=!1,u=a/i,f=r.reduce((j,k)=>j+(k.barSize||0),0);f+=(i-1)*l,f>=a&&(f-=(i-1)*l,l=0),f>=a&&u>0&&(d=!0,u*=.9,f=i*u);var p=(a-f)/2>>0,m={offset:p-l,size:0};o=r.reduce((j,k)=>{var S,N={stackId:k.stackId,dataKeys:k.dataKeys,position:{offset:m.offset+m.size+l,size:d?u:(S=k.barSize)!==null&&S!==void 0?S:0}},A=[...j,N];return m=A[A.length-1].position,A},c)}else{var v=Ad(t,a,0,!0);a-2*v-(i-1)*l<=0&&(l=0);var g=(a-2*v-(i-1)*l)/i;g>1&&(g>>=0);var b=kl(n)?Math.min(g,n):g;o=r.reduce((j,k,S)=>[...j,{stackId:k.stackId,dataKeys:k.dataKeys,position:{offset:v+(g+l)*S+(g-b)/2,size:b}}],c)}return o}}var PIe=(e,t,a,r,n,i,l)=>{var o=Wr(l)?t:l,c=DIe(a,r,n!==i?n:i,e,o);return n!==i&&c!=null&&(c=c.map(d=>F2(F2({},d),{},{position:F2(F2({},d.position),{},{offset:d.position.offset-n/2})}))),c},MIe=yt([EIe,RX,GMe,FX,TIe,OQ,NIe],PIe),LIe=(e,t,a,r)=>Vf(e,"xAxis",t,r),OIe=(e,t,a,r)=>Vf(e,"yAxis",a,r),RIe=(e,t,a,r)=>Hf(e,"xAxis",t,r),FIe=(e,t,a,r)=>Hf(e,"yAxis",a,r),IIe=yt([MIe,Ab],(e,t)=>{if(!(e==null||t==null)){var a=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(a!=null)return a.position}}),BIe=(e,t)=>{var a=lE(t);if(!(!e||a==null||t==null)){var{stackId:r}=t;if(r!=null){var n=e[r];if(n){var{stackedData:i}=n;if(i)return i.find(l=>l.key===a)}}}},$Ie=yt([CIe,Ab],BIe),UIe=yt([Mi,__,LIe,OIe,RIe,FIe,IIe,qs,WN,OQ,$Ie,Ab,kIe],(e,t,a,r,n,i,l,o,c,d,u,f,p)=>{var{chartData:m,dataStartIndex:v,dataEndIndex:g}=c;if(!(f==null||l==null||t==null||o!=="horizontal"&&o!=="vertical"||a==null||r==null||n==null||i==null||d==null)){var{data:b}=f,j;if(b!=null&&b.length>0?j=b:j=m?.slice(v,g+1),j!=null)return mIe({layout:o,barSettings:f,pos:l,parentViewBox:t,bandSize:d,xAxis:a,yAxis:r,xAxisTicks:n,yAxisTicks:i,stackedData:u,displayedData:j,offset:e,cells:p})}}),zIe=e=>{var{chartData:t}=e,a=fi(),r=ql();return y.useEffect(()=>r?()=>{}:(a(SB(t)),()=>{a(SB(void 0))}),[t,a,r]),null},u$={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},RQ=Yo({name:"brush",initialState:u$,reducers:{setBrushSettings(e,t){return t.payload==null?u$:t.payload}}}),{setBrushSettings:MHe}=RQ.actions,HIe=RQ.reducer;function VIe(e,t,a){return(t=WIe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function WIe(e){var t=qIe(e,"string");return typeof t=="symbol"?t:t+""}function qIe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class PE{static create(t){return new PE(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:a,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var n=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+n}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var a=this.range(),r=a[0],n=a[a.length-1];return r<=n?t>=r&&t<=n:t>=n&&t<=r}}VIe(PE,"EPS",1e-4);function GIe(e){return(e%180+180)%180}var KIe=function(t){var{width:a,height:r}=t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=GIe(n),l=i*Math.PI/180,o=Math.atan(r/a),c=l>o&&l<Math.PI-o?r/Math.sin(l):a/Math.cos(l);return Math.abs(c)},YIe={dots:[],areas:[],lines:[]},FQ=Yo({name:"referenceElements",initialState:YIe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var a=hh(e).dots.findIndex(r=>r===t.payload);a!==-1&&e.dots.splice(a,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var a=hh(e).areas.findIndex(r=>r===t.payload);a!==-1&&e.areas.splice(a,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var a=hh(e).lines.findIndex(r=>r===t.payload);a!==-1&&e.lines.splice(a,1)}}}),{addDot:LHe,removeDot:OHe,addArea:RHe,removeArea:FHe,addLine:IHe,removeLine:BHe}=FQ.actions,XIe=FQ.reducer,JIe=y.createContext(void 0),QIe=e=>{var{children:t}=e,[a]=y.useState("".concat(T1("recharts"),"-clip")),r=EE();if(r==null)return null;var{x:n,y:i,width:l,height:o}=r;return y.createElement(JIe.Provider,{value:a},y.createElement("defs",null,y.createElement("clipPath",{id:a},y.createElement("rect",{x:n,y:i,height:o,width:l}))),t)};function Ax(e,t){for(var a in e)if({}.hasOwnProperty.call(e,a)&&(!{}.hasOwnProperty.call(t,a)||e[a]!==t[a]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function IQ(e,t,a){if(t<1)return[];if(t===1&&a===void 0)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function ZIe(e,t,a){var r={width:e.width+t.width,height:e.height+t.height};return KIe(r,a)}function eBe(e,t,a){var r=a==="width",{x:n,y:i,width:l,height:o}=e;return t===1?{start:r?n:i,end:r?n+l:i+o}:{start:r?n+l:i+o,end:r?n:i}}function Cj(e,t,a,r,n){if(e*t<e*r||e*t>e*n)return!1;var i=a();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-n)<=0}function tBe(e,t){return IQ(e,t+1)}function aBe(e,t,a,r,n){for(var i=(r||[]).slice(),{start:l,end:o}=t,c=0,d=1,u=l,f=function(){var v=r?.[c];if(v===void 0)return{v:IQ(r,d)};var g=c,b,j=()=>(b===void 0&&(b=a(v,g)),b),k=v.coordinate,S=c===0||Cj(e,k,j,u,o);S||(c=0,u=l,d+=1),S&&(u=k+e*(j()/2+n),c+=d)},p;d<=i.length;)if(p=f(),p)return p.v;return[]}function h$(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function ul(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?h$(Object(a),!0).forEach(function(r){sBe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h$(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function sBe(e,t,a){return(t=rBe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function rBe(e){var t=nBe(e,"string");return typeof t=="symbol"?t:t+""}function nBe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iBe(e,t,a,r,n){for(var i=(r||[]).slice(),l=i.length,{start:o}=t,{end:c}=t,d=function(p){var m=i[p],v,g=()=>(v===void 0&&(v=a(m,p)),v);if(p===l-1){var b=e*(m.coordinate+e*g()/2-c);i[p]=m=ul(ul({},m),{},{tickCoord:b>0?m.coordinate-b*e:m.coordinate})}else i[p]=m=ul(ul({},m),{},{tickCoord:m.coordinate});var j=Cj(e,m.tickCoord,g,o,c);j&&(c=m.tickCoord-e*(g()/2+n),i[p]=ul(ul({},m),{},{isShow:!0}))},u=l-1;u>=0;u--)d(u);return i}function lBe(e,t,a,r,n,i){var l=(r||[]).slice(),o=l.length,{start:c,end:d}=t;if(i){var u=r[o-1],f=a(u,o-1),p=e*(u.coordinate+e*f/2-d);l[o-1]=u=ul(ul({},u),{},{tickCoord:p>0?u.coordinate-p*e:u.coordinate});var m=Cj(e,u.tickCoord,()=>f,c,d);m&&(d=u.tickCoord-e*(f/2+n),l[o-1]=ul(ul({},u),{},{isShow:!0}))}for(var v=i?o-1:o,g=function(k){var S=l[k],N,A=()=>(N===void 0&&(N=a(S,k)),N);if(k===0){var _=e*(S.coordinate-e*A()/2-c);l[k]=S=ul(ul({},S),{},{tickCoord:_<0?S.coordinate-_*e:S.coordinate})}else l[k]=S=ul(ul({},S),{},{tickCoord:S.coordinate});var E=Cj(e,S.tickCoord,A,c,d);E&&(c=S.tickCoord+e*(A()/2+n),l[k]=ul(ul({},S),{},{isShow:!0}))},b=0;b<v;b++)g(b);return l}function ME(e,t,a){var{tick:r,ticks:n,viewBox:i,minTickGap:l,orientation:o,interval:c,tickFormatter:d,unit:u,angle:f}=e;if(!n||!n.length||!r)return[];if(Ea(c)||qm.isSsr){var p;return(p=tBe(n,Ea(c)?c:0))!==null&&p!==void 0?p:[]}var m=[],v=o==="top"||o==="bottom"?"width":"height",g=u&&v==="width"?Kv(u,{fontSize:t,letterSpacing:a}):{width:0,height:0},b=(S,N)=>{var A=typeof d=="function"?d(S.value,N):S.value;return v==="width"?ZIe(Kv(A,{fontSize:t,letterSpacing:a}),g,f):Kv(A,{fontSize:t,letterSpacing:a})[v]},j=n.length>=2?mo(n[1].coordinate-n[0].coordinate):1,k=eBe(i,j,v);return c==="equidistantPreserveStart"?aBe(j,k,b,n,l):(c==="preserveStart"||c==="preserveStartEnd"?m=lBe(j,k,b,n,l,c==="preserveStartEnd"):m=iBe(j,k,b,n,l),m.filter(S=>S.isShow))}var oBe=e=>{var{ticks:t,label:a,labelGapWithTick:r=5,tickSize:n=0,tickMargin:i=0}=e,l=0;if(t){Array.from(t).forEach(u=>{if(u){var f=u.getBoundingClientRect();f.width>l&&(l=f.width)}});var o=a?a.getBoundingClientRect().width:0,c=n+i,d=l+c+o+(a?r:0);return Math.round(d)}return 0},cBe=["axisLine","width","height","className","hide","ticks"],dBe=["viewBox"],uBe=["viewBox"];function K6(e,t){if(e==null)return{};var a,r,n=hBe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function hBe(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function Pm(){return Pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Pm.apply(null,arguments)}function f$(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function li(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?f$(Object(a),!0).forEach(function(r){fBe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f$(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function fBe(e,t,a){return(t=mBe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function mBe(e){var t=pBe(e,"string");return typeof t=="symbol"?t:t+""}function pBe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LE={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function xBe(e){var{x:t,y:a,width:r,height:n,orientation:i,mirror:l,axisLine:o,otherSvgProps:c}=e;if(!o)return null;var d=li(li(li({},c),Sd(o)),{},{fill:"none"});if(i==="top"||i==="bottom"){var u=+(i==="top"&&!l||i==="bottom"&&l);d=li(li({},d),{},{x1:t,y1:a+u*n,x2:t+r,y2:a+u*n})}else{var f=+(i==="left"&&!l||i==="right"&&l);d=li(li({},d),{},{x1:t+f*r,y1:a,x2:t+f*r,y2:a+n})}return y.createElement("line",Pm({},d,{className:cr("recharts-cartesian-axis-line",jx(o,"className"))}))}function gBe(e,t,a,r,n,i,l,o,c){var d,u,f,p,m,v,g=o?-1:1,b=e.tickSize||l,j=Ea(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":d=u=e.coordinate,p=a+ +!o*n,f=p-g*b,v=f-g*c,m=j;break;case"left":f=p=e.coordinate,u=t+ +!o*r,d=u-g*b,m=d-g*c,v=j;break;case"right":f=p=e.coordinate,u=t+ +o*r,d=u+g*b,m=d+g*c,v=j;break;default:d=u=e.coordinate,p=a+ +o*n,f=p+g*b,v=f+g*c,m=j;break}return{line:{x1:d,y1:f,x2:u,y2:p},tick:{x:m,y:v}}}function vBe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function bBe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function yBe(e){var{option:t,tickProps:a,value:r}=e,n,i=cr(a.className,"recharts-cartesian-axis-tick-value");if(y.isValidElement(t))n=y.cloneElement(t,li(li({},a),{},{className:i}));else if(typeof t=="function")n=t(li(li({},a),{},{className:i}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=cr(l,t?.className)),n=y.createElement(AE,Pm({},a,{className:l}),r)}return n}function wBe(e){var{ticks:t=[],tick:a,tickLine:r,stroke:n,tickFormatter:i,unit:l,padding:o,tickTextProps:c,orientation:d,mirror:u,x:f,y:p,width:m,height:v,tickSize:g,tickMargin:b,fontSize:j,letterSpacing:k,getTicksConfig:S,events:N}=e,A=ME(li(li({},S),{},{ticks:t}),j,k),_=vBe(d,u),E=bBe(d,u),D=Sd(S),R=hb(a),I={};typeof r=="object"&&(I=r);var M=li(li({},D),{},{fill:"none"},I),U=A.map((P,F)=>{var{line:K,tick:V}=gBe(P,f,p,m,v,d,g,u,b),J=li(li(li(li({textAnchor:_,verticalAnchor:E},D),{},{stroke:"none",fill:n},R),V),{},{index:F,payload:P,visibleTicksCount:A.length,tickFormatter:i,padding:o},c);return y.createElement(Cd,Pm({className:"recharts-cartesian-axis-tick",key:"tick-".concat(P.value,"-").concat(P.coordinate,"-").concat(P.tickCoord)},y_(N,P,F)),r&&y.createElement("line",Pm({},M,K,{className:cr("recharts-cartesian-axis-tick-line",jx(r,"className"))})),a&&y.createElement(yBe,{option:a,tickProps:J,value:"".concat(typeof i=="function"?i(P.value,F):P.value).concat(l||"")}))});return U.length>0?y.createElement("g",{className:"recharts-cartesian-axis-ticks"},U):null}var jBe=y.forwardRef((e,t)=>{var{axisLine:a,width:r,height:n,className:i,hide:l,ticks:o}=e,c=K6(e,cBe),[d,u]=y.useState(""),[f,p]=y.useState(""),m=y.useRef(null);y.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var g;return oBe({ticks:m.current,label:(g=e.labelRef)===null||g===void 0?void 0:g.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var v=y.useCallback(g=>{if(g){var b=g.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=b;var j=b[0];if(j){var k=window.getComputedStyle(j),S=k.fontSize,N=k.letterSpacing;(S!==d||N!==f)&&(u(S),p(N))}}},[d,f]);return l||r!=null&&r<=0||n!=null&&n<=0?null:y.createElement(Cd,{className:cr("recharts-cartesian-axis",i),ref:v},y.createElement(xBe,{x:e.x,y:e.y,width:r,height:n,orientation:e.orientation,mirror:e.mirror,axisLine:a,otherSvgProps:Sd(e)}),y.createElement(wBe,{ticks:o,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:d,letterSpacing:f,getTicksConfig:e,events:c}),y.createElement(o9e,{x:e.x,y:e.y,width:e.width,height:e.height},y.createElement(v9e,{label:e.label,labelRef:e.labelRef}),e.children))}),NBe=y.memo(jBe,(e,t)=>{var{viewBox:a}=e,r=K6(e,dBe),{viewBox:n}=t,i=K6(t,uBe);return Ax(a,n)&&Ax(r,i)}),OE=y.forwardRef((e,t)=>{var a=jo(e,LE);return y.createElement(NBe,Pm({},a,{ref:t}))});OE.displayName="CartesianAxis";var kBe=["x1","y1","x2","y2","key"],SBe=["offset"],CBe=["xAxisId","yAxisId"],ABe=["xAxisId","yAxisId"];function m$(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function xl(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?m$(Object(a),!0).forEach(function(r){_Be(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m$(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function _Be(e,t,a){return(t=EBe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function EBe(e){var t=TBe(e,"string");return typeof t=="symbol"?t:t+""}function TBe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X0(){return X0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},X0.apply(null,arguments)}function Aj(e,t){if(e==null)return{};var a,r,n=DBe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function DBe(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var PBe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:a,x:r,y:n,width:i,height:l,ry:o}=e;return y.createElement("rect",{x:r,y:n,ry:o,width:i,height:l,stroke:"none",fill:t,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function BQ(e,t){var a;if(y.isValidElement(e))a=y.cloneElement(e,t);else if(typeof e=="function")a=e(t);else{var{x1:r,y1:n,x2:i,y2:l,key:o}=t,c=Aj(t,kBe),d=Sd(c),{offset:u}=d,f=Aj(d,SBe);a=y.createElement("line",X0({},f,{x1:r,y1:n,x2:i,y2:l,fill:"none",key:o}))}return a}function MBe(e){var{x:t,width:a,horizontal:r=!0,horizontalPoints:n}=e;if(!r||!n||!n.length)return null;var{xAxisId:i,yAxisId:l}=e,o=Aj(e,CBe),c=n.map((d,u)=>{var f=xl(xl({},o),{},{x1:t,y1:d,x2:t+a,y2:d,key:"line-".concat(u),index:u});return BQ(r,f)});return y.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function LBe(e){var{y:t,height:a,vertical:r=!0,verticalPoints:n}=e;if(!r||!n||!n.length)return null;var{xAxisId:i,yAxisId:l}=e,o=Aj(e,ABe),c=n.map((d,u)=>{var f=xl(xl({},o),{},{x1:d,y1:t,x2:d,y2:t+a,key:"line-".concat(u),index:u});return BQ(r,f)});return y.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function OBe(e){var{horizontalFill:t,fillOpacity:a,x:r,y:n,width:i,height:l,horizontalPoints:o,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var d=o.map(f=>Math.round(f+n-n)).sort((f,p)=>f-p);n!==d[0]&&d.unshift(0);var u=d.map((f,p)=>{var m=!d[p+1],v=m?n+l-f:d[p+1]-f;if(v<=0)return null;var g=p%t.length;return y.createElement("rect",{key:"react-".concat(p),y:f,x:r,height:v,width:i,stroke:"none",fill:t[g],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function RBe(e){var{vertical:t=!0,verticalFill:a,fillOpacity:r,x:n,y:i,width:l,height:o,verticalPoints:c}=e;if(!t||!a||!a.length)return null;var d=c.map(f=>Math.round(f+n-n)).sort((f,p)=>f-p);n!==d[0]&&d.unshift(0);var u=d.map((f,p)=>{var m=!d[p+1],v=m?n+l-f:d[p+1]-f;if(v<=0)return null;var g=p%a.length;return y.createElement("rect",{key:"react-".concat(p),x:f,y:i,width:v,height:o,stroke:"none",fill:a[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var FBe=(e,t)=>{var{xAxis:a,width:r,height:n,offset:i}=e;return yY(ME(xl(xl(xl({},LE),a),{},{ticks:wY(a),viewBox:{x:0,y:0,width:r,height:n}})),i.left,i.left+i.width,t)},IBe=(e,t)=>{var{yAxis:a,width:r,height:n,offset:i}=e;return yY(ME(xl(xl(xl({},LE),a),{},{ticks:wY(a),viewBox:{x:0,y:0,width:r,height:n}})),i.top,i.top+i.height,t)},BBe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Y6(e){var t=AY(),a=_Y(),r=CY(),n=xl(xl({},jo(e,BBe)),{},{x:Ea(e.x)?e.x:r.left,y:Ea(e.y)?e.y:r.top,width:Ea(e.width)?e.width:r.width,height:Ea(e.height)?e.height:r.height}),{xAxisId:i,yAxisId:l,x:o,y:c,width:d,height:u,syncWithTicks:f,horizontalValues:p,verticalValues:m}=n,v=ql(),g=Ca(R=>xB(R,"xAxis",i,v)),b=Ca(R=>xB(R,"yAxis",l,v));if(!Ea(d)||d<=0||!Ea(u)||u<=0||!Ea(o)||o!==+o||!Ea(c)||c!==+c)return null;var j=n.verticalCoordinatesGenerator||FBe,k=n.horizontalCoordinatesGenerator||IBe,{horizontalPoints:S,verticalPoints:N}=n;if((!S||!S.length)&&typeof k=="function"){var A=p&&p.length,_=k({yAxis:b?xl(xl({},b),{},{ticks:A?p:b.ticks}):void 0,width:t,height:a,offset:r},A?!0:f);sj(Array.isArray(_),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(S=_)}if((!N||!N.length)&&typeof j=="function"){var E=m&&m.length,D=j({xAxis:g?xl(xl({},g),{},{ticks:E?m:g.ticks}):void 0,width:t,height:a,offset:r},E?!0:f);sj(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(N=D)}return y.createElement("g",{className:"recharts-cartesian-grid"},y.createElement(PBe,{fill:n.fill,fillOpacity:n.fillOpacity,x:n.x,y:n.y,width:n.width,height:n.height,ry:n.ry}),y.createElement(OBe,X0({},n,{horizontalPoints:S})),y.createElement(RBe,X0({},n,{verticalPoints:N})),y.createElement(MBe,X0({},n,{offset:r,horizontalPoints:S,xAxis:g,yAxis:b})),y.createElement(LBe,X0({},n,{offset:r,verticalPoints:N,xAxis:g,yAxis:b})))}Y6.displayName="CartesianGrid";var $Q=(e,t,a,r)=>Vf(e,"xAxis",t,r),UQ=(e,t,a,r)=>Hf(e,"xAxis",t,r),zQ=(e,t,a,r)=>Vf(e,"yAxis",a,r),HQ=(e,t,a,r)=>Hf(e,"yAxis",a,r),$Be=yt([qs,$Q,zQ,UQ,HQ],(e,t,a,r,n)=>e0(e,"xAxis")?L1(t,r,!1):L1(a,n,!1)),UBe=(e,t,a,r,n)=>n;function zBe(e){return e.type==="line"}var HBe=yt([e4,UBe],(e,t)=>e.filter(zBe).find(a=>a.id===t)),VBe=yt([qs,$Q,zQ,UQ,HQ,HBe,$Be,WN],(e,t,a,r,n,i,l,o)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:u}=o;if(!(i==null||t==null||a==null||r==null||n==null||r.length===0||n.length===0||l==null)){var{dataKey:f,data:p}=i,m;if(p!=null&&p.length>0?m=p:m=c?.slice(d,u+1),m!=null)return f$e({layout:e,xAxis:t,yAxis:a,xAxisTicks:r,yAxisTicks:n,dataKey:f,bandSize:l,displayedData:m})}});function WBe(e){var t=hb(e),a=3,r=2;if(t!=null){var{r:n,strokeWidth:i}=t,l=Number(n),o=Number(i);return(Number.isNaN(l)||l<0)&&(l=a),(Number.isNaN(o)||o<0)&&(o=r),{r:l,strokeWidth:o}}return{r:a,strokeWidth:r}}var qBe=["id"],GBe=["type","layout","connectNulls","needClip"],KBe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function p$(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function Uo(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?p$(Object(a),!0).forEach(function(r){YBe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p$(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function YBe(e,t,a){return(t=XBe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function XBe(e){var t=JBe(e,"string");return typeof t=="symbol"?t:t+""}function JBe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RE(e,t){if(e==null)return{};var a,r,n=QBe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function QBe(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function Mm(){return Mm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Mm.apply(null,arguments)}var ZBe=e=>{var{dataKey:t,name:a,stroke:r,legendType:n,hide:i}=e;return[{inactive:i,dataKey:t,type:n,color:r,value:EN(a,t),payload:e}]};function e$e(e){var{dataKey:t,data:a,stroke:r,strokeWidth:n,fill:i,name:l,hide:o,unit:c}=e;return{dataDefinedOnItem:a,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:EN(l,t),hide:o,type:e.tooltipType,color:e.stroke,unit:c}}}var VQ=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function t$e(e,t){for(var a=e.length%2!==0?[...e,0]:e,r=[],n=0;n<t;++n)r=[...r,...a];return r}var a$e=(e,t,a)=>{var r=a.reduce((f,p)=>f+p);if(!r)return VQ(t,e);for(var n=Math.floor(e/r),i=e%r,l=t-e,o=[],c=0,d=0;c<a.length;d+=a[c],++c)if(d+a[c]>i){o=[...a.slice(0,c),i-d];break}var u=o.length%2===0?[0,l]:[l];return[...t$e(a,n),...o,...u].map(f=>"".concat(f,"px")).join(", ")};function s$e(e,t){var a;if(y.isValidElement(e))a=y.cloneElement(e,t);else if(typeof e=="function")a=e(t);else{var r=cr("recharts-line-dot",typeof e!="boolean"?e.className:"");a=y.createElement(gQ,Mm({},t,{className:r}))}return a}function r$e(e,t){return e==null?!1:t?!0:e.length===1}function n$e(e){var{clipPathId:t,points:a,props:r}=e,{dot:n,dataKey:i,needClip:l}=r;if(!r$e(a,n))return null;var{id:o}=r,c=RE(r,qBe),d=yQ(n),u=Sd(c),f=zAe(n),p=a.map((v,g)=>{var b=Uo(Uo(Uo({key:"dot-".concat(g),r:3},u),f),{},{index:g,cx:v.x,cy:v.y,dataKey:i,value:v.value,payload:v.payload,points:a});return s$e(n,b)}),m={clipPath:l?"url(#clipPath-".concat(d?"":"dots-").concat(t,")"):void 0};return y.createElement(Cd,Mm({className:"recharts-line-dots",key:"dots"},m),p)}function i$e(e){var{showLabels:t,children:a,points:r}=e,n=y.useMemo(()=>r?.map(i=>{var l={x:i.x,y:i.y,width:0,height:0};return Uo(Uo({},l),{},{value:i.value,payload:i.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return y.createElement(mQ,{value:t?n:null},a)}function x$(e){var{clipPathId:t,pathRef:a,points:r,strokeDasharray:n,props:i}=e,{type:l,layout:o,connectNulls:c,needClip:d}=i,u=RE(i,GBe),f=Uo(Uo({},Wl(u)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(t,")"):void 0,points:r,type:l,layout:o,connectNulls:c,strokeDasharray:n??i.strokeDasharray});return y.createElement(y.Fragment,null,r?.length>1&&y.createElement(DY,Mm({},f,{pathRef:a})),y.createElement(n$e,{points:r,clipPathId:t,props:i}))}function l$e(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function o$e(e){var{clipPathId:t,props:a,pathRef:r,previousPointsRef:n,longestAnimatedLengthRef:i}=e,{points:l,strokeDasharray:o,isAnimationActive:c,animationBegin:d,animationDuration:u,animationEasing:f,animateNewValues:p,width:m,height:v,onAnimationEnd:g,onAnimationStart:b}=a,j=n.current,k=IN(a,"recharts-line-"),[S,N]=y.useState(!1),A=!S,_=y.useCallback(()=>{typeof g=="function"&&g(),N(!1)},[g]),E=y.useCallback(()=>{typeof b=="function"&&b(),N(!0)},[b]),D=l$e(r.current),R=i.current;return y.createElement(i$e,{points:l,showLabels:A},a.children,y.createElement(FN,{animationId:k,begin:d,duration:u,isActive:c,easing:f,onAnimationEnd:_,onAnimationStart:E,key:k},I=>{var M=Kn(R,D+R,I),U=Math.min(M,D),P;if(c)if(o){var F="".concat(o).split(/[,\s]+/gim).map(J=>parseFloat(J));P=a$e(U,D,F)}else P=VQ(D,U);else P=o==null?void 0:String(o);if(j){var K=j.length/l.length,V=I===1?l:l.map((J,Q)=>{var z=Math.floor(Q*K);if(j[z]){var X=j[z];return Uo(Uo({},J),{},{x:Kn(X.x,J.x,I),y:Kn(X.y,J.y,I)})}return p?Uo(Uo({},J),{},{x:Kn(m*2,J.x,I),y:Kn(v/2,J.y,I)}):Uo(Uo({},J),{},{x:J.x,y:J.y})});return n.current=V,y.createElement(x$,{props:a,points:V,clipPathId:t,pathRef:r,strokeDasharray:P})}return I>0&&D>0&&(n.current=l,i.current=U),y.createElement(x$,{props:a,points:l,clipPathId:t,pathRef:r,strokeDasharray:P})}),y.createElement(xQ,{label:a.label}))}function c$e(e){var{clipPathId:t,props:a}=e,r=y.useRef(null),n=y.useRef(0),i=y.useRef(null);return y.createElement(o$e,{props:a,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:n,pathRef:i})}var d$e=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Pi(e.payload,t)});class u$e extends y.Component{render(){var{hide:t,dot:a,points:r,className:n,xAxisId:i,yAxisId:l,top:o,left:c,width:d,height:u,id:f,needClip:p}=this.props;if(t)return null;var m=cr("recharts-line",n),v=f,{r:g,strokeWidth:b}=WBe(a),j=yQ(a),k=g*2+b;return y.createElement(y.Fragment,null,y.createElement(Cd,{className:m},p&&y.createElement("defs",null,y.createElement(PQ,{clipPathId:v,xAxisId:i,yAxisId:l}),!j&&y.createElement("clipPath",{id:"clipPath-dots-".concat(v)},y.createElement("rect",{x:c-k/2,y:o-k/2,width:d+k,height:u+k}))),y.createElement(DQ,{xAxisId:i,yAxisId:l,data:r,dataPointFormatter:d$e,errorBarOffset:0},y.createElement(c$e,{props:this.props,clipPathId:v}))),y.createElement(EFe,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var WQ={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!qm.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function h$e(e){var t=jo(e,WQ),{activeDot:a,animateNewValues:r,animationBegin:n,animationDuration:i,animationEasing:l,connectNulls:o,dot:c,hide:d,isAnimationActive:u,label:f,legendType:p,xAxisId:m,yAxisId:v,id:g}=t,b=RE(t,KBe),{needClip:j}=DE(m,v),k=EE(),S=ON(),N=ql(),A=Ca(I=>VBe(I,m,v,N,g));if(S!=="horizontal"&&S!=="vertical"||A==null||k==null)return null;var{height:_,width:E,x:D,y:R}=k;return y.createElement(u$e,Mm({},b,{id:g,connectNulls:o,dot:c,activeDot:a,animateNewValues:r,animationBegin:n,animationDuration:i,animationEasing:l,isAnimationActive:u,hide:d,label:f,legendType:p,xAxisId:m,yAxisId:v,points:A,layout:S,height:_,width:E,left:D,top:R,needClip:j}))}function f$e(e){var{layout:t,xAxis:a,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:l,bandSize:o,displayedData:c}=e;return c.map((d,u)=>{var f=Pi(d,l);if(t==="horizontal"){var p=qF({axis:a,ticks:n,bandSize:o,entry:d,index:u}),m=Wr(f)?null:r.scale(f);return{x:p,y:m,value:f,payload:d}}var v=Wr(f)?null:a.scale(f),g=qF({axis:r,ticks:i,bandSize:o,entry:d,index:u});return v==null||g==null?null:{x:v,y:g,value:f,payload:d}}).filter(Boolean)}function m$e(e){var t=jo(e,WQ),a=ql();return y.createElement(CQ,{id:t.id,type:"line"},r=>y.createElement(y.Fragment,null,y.createElement(SQ,{legendPayload:ZBe(t)}),y.createElement(kQ,{fn:e$e,args:t}),y.createElement(_Q,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:a}),y.createElement(h$e,Mm({},t,{id:r}))))}var _j=y.memo(m$e);_j.displayName="Line";var p$e=["dangerouslySetInnerHTML","ticks"],x$e=["id"],g$e=["domain"],v$e=["domain"];function X6(){return X6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},X6.apply(null,arguments)}function Ej(e,t){if(e==null)return{};var a,r,n=b$e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function b$e(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function y$e(e){var t=fi();return y.useLayoutEffect(()=>(t(xFe(e)),()=>{t(gFe(e))}),[e,t]),null}var w$e=e=>{var{xAxisId:t,className:a}=e,r=Ca(__),n=ql(),i="xAxis",l=Ca(b=>Jx(b,i,t,n)),o=Ca(b=>AJ(b,i,t,n)),c=Ca(b=>NJ(b,t)),d=Ca(b=>zLe(b,t)),u=Ca(b=>qX(b,t));if(c==null||d==null||u==null)return null;var{dangerouslySetInnerHTML:f,ticks:p}=e,m=Ej(e,p$e),{id:v}=u,g=Ej(u,x$e);return y.createElement(OE,X6({},m,g,{scale:l,x:d.x,y:d.y,width:c.width,height:c.height,className:cr("recharts-".concat(i," ").concat(i),a),viewBox:r,ticks:o}))},j$e={allowDataOverflow:Oo.allowDataOverflow,allowDecimals:Oo.allowDecimals,allowDuplicatedCategory:Oo.allowDuplicatedCategory,height:Oo.height,hide:!1,mirror:Oo.mirror,orientation:Oo.orientation,padding:Oo.padding,reversed:Oo.reversed,scale:Oo.scale,tickCount:Oo.tickCount,type:Oo.type,xAxisId:0},N$e=e=>{var t,a,r,n,i,l=jo(e,j$e);return y.createElement(y.Fragment,null,y.createElement(y$e,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(a=l.includeHidden)!==null&&a!==void 0?a:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(n=l.minTickGap)!==null&&n!==void 0?n:5,tick:(i=l.tick)!==null&&i!==void 0?i:!0,tickFormatter:l.tickFormatter}),y.createElement(w$e,l))},k$e=(e,t)=>{var{domain:a}=e,r=Ej(e,g$e),{domain:n}=t,i=Ej(t,v$e);return Ax(r,i)?Array.isArray(a)&&a.length===2&&Array.isArray(n)&&n.length===2?a[0]===n[0]&&a[1]===n[1]:Ax({domain:a},{domain:n}):!1},z1=y.memo(N$e,k$e);z1.displayName="XAxis";var S$e=["dangerouslySetInnerHTML","ticks"],C$e=["id"],A$e=["domain"],_$e=["domain"];function J6(){return J6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},J6.apply(null,arguments)}function Tj(e,t){if(e==null)return{};var a,r,n=E$e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function E$e(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function T$e(e){var t=fi();return y.useLayoutEffect(()=>(t(vFe(e)),()=>{t(bFe(e))}),[e,t]),null}var D$e=e=>{var{yAxisId:t,className:a,width:r,label:n}=e,i=y.useRef(null),l=y.useRef(null),o=Ca(__),c=ql(),d=fi(),u="yAxis",f=Ca(A=>Jx(A,u,t,c)),p=Ca(A=>kJ(A,t)),m=Ca(A=>VLe(A,t)),v=Ca(A=>AJ(A,u,t,c)),g=Ca(A=>GX(A,t));if(y.useLayoutEffect(()=>{if(!(r!=="auto"||!p||_E(n)||y.isValidElement(n)||g==null)){var A=i.current;if(A){var _=A.getCalculatedWidth();Math.round(p.width)!==Math.round(_)&&d(yFe({id:t,width:_}))}}},[v,p,d,n,t,r,g]),p==null||m==null||g==null)return null;var{dangerouslySetInnerHTML:b,ticks:j}=e,k=Tj(e,S$e),{id:S}=g,N=Tj(g,C$e);return y.createElement(OE,J6({},k,N,{ref:i,labelRef:l,scale:f,x:m.x,y:m.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:p.width,height:p.height,className:cr("recharts-".concat(u," ").concat(u),a),viewBox:o,ticks:v}))},P$e={allowDataOverflow:Ro.allowDataOverflow,allowDecimals:Ro.allowDecimals,allowDuplicatedCategory:Ro.allowDuplicatedCategory,hide:!1,mirror:Ro.mirror,orientation:Ro.orientation,padding:Ro.padding,reversed:Ro.reversed,scale:Ro.scale,tickCount:Ro.tickCount,type:Ro.type,width:Ro.width,yAxisId:0},M$e=e=>{var t,a,r,n,i,l=jo(e,P$e);return y.createElement(y.Fragment,null,y.createElement(T$e,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(a=l.includeHidden)!==null&&a!==void 0?a:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(n=l.minTickGap)!==null&&n!==void 0?n:5,tick:(i=l.tick)!==null&&i!==void 0?i:!0,tickFormatter:l.tickFormatter}),y.createElement(D$e,l))},L$e=(e,t)=>{var{domain:a}=e,r=Tj(e,A$e),{domain:n}=t,i=Tj(t,_$e);return Ax(r,i)?Array.isArray(a)&&a.length===2&&Array.isArray(n)&&n.length===2?a[0]===n[0]&&a[1]===n[1]:Ax({domain:a},{domain:n}):!1},H1=y.memo(M$e,L$e);H1.displayName="YAxis";var SS={exports:{}},CS={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g$;function O$e(){if(g$)return CS;g$=1;var e=_x();function t(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var a=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,n=e.useRef,i=e.useEffect,l=e.useMemo,o=e.useDebugValue;return CS.useSyncExternalStoreWithSelector=function(c,d,u,f,p){var m=n(null);if(m.current===null){var v={hasValue:!1,value:null};m.current=v}else v=m.current;m=l(function(){function b(A){if(!j){if(j=!0,k=A,A=f(A),p!==void 0&&v.hasValue){var _=v.value;if(p(_,A))return S=_}return S=A}if(_=S,a(k,A))return _;var E=f(A);return p!==void 0&&p(_,E)?(k=A,_):(k=A,S=E)}var j=!1,k,S,N=u===void 0?null:u;return[function(){return b(d())},N===null?void 0:function(){return b(N())}]},[d,u,f,p]);var g=r(c,m[0],m[1]);return i(function(){v.hasValue=!0,v.value=g},[g]),o(g),g},CS}var v$;function R$e(){return v$||(v$=1,SS.exports=O$e()),SS.exports}R$e();function F$e(e){e()}function I$e(){let e=null,t=null;return{clear(){e=null,t=null},notify(){F$e(()=>{let a=e;for(;a;)a.callback(),a=a.next})},get(){const a=[];let r=e;for(;r;)a.push(r),r=r.next;return a},subscribe(a){let r=!0;const n=t={callback:a,next:null,prev:t};return n.prev?n.prev.next=n:e=n,function(){!r||e===null||(r=!1,n.next?n.next.prev=n.prev:t=n.prev,n.prev?n.prev.next=n.next:e=n.next)}}}}var b$={notify(){},get:()=>[]};function B$e(e,t){let a,r=b$,n=0,i=!1;function l(g){u();const b=r.subscribe(g);let j=!1;return()=>{j||(j=!0,b(),f())}}function o(){r.notify()}function c(){v.onStateChange&&v.onStateChange()}function d(){return i}function u(){n++,a||(a=e.subscribe(c),r=I$e())}function f(){n--,a&&n===0&&(a(),a=void 0,r.clear(),r=b$)}function p(){i||(i=!0,u())}function m(){i&&(i=!1,f())}const v={addNestedSub:l,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:d,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>r};return v}var $$e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",U$e=$$e(),z$e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",H$e=z$e(),V$e=()=>U$e||H$e?y.useLayoutEffect:y.useEffect,W$e=V$e(),q$e=Symbol.for("react-redux-context"),G$e=typeof globalThis<"u"?globalThis:{};function K$e(){if(!y.createContext)return{};const e=G$e[q$e]??=new Map;let t=e.get(y.createContext);return t||(t=y.createContext(null),e.set(y.createContext,t)),t}var Y$e=K$e();function X$e(e){const{children:t,context:a,serverState:r,store:n}=e,i=y.useMemo(()=>{const c=B$e(n);return{store:n,subscription:c,getServerState:r?()=>r:void 0}},[n,r]),l=y.useMemo(()=>n.getState(),[n]);W$e(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),l!==n.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,l]);const o=a||Y$e;return y.createElement(o.Provider,{value:i},t)}var J$e=X$e,Q$e=(e,t)=>t,FE=yt([Q$e,qs,HX,xi,VJ,Lh,YOe,Mi],eRe),IE=e=>{var t=e.currentTarget.getBoundingClientRect(),a=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/a),chartY:Math.round((e.clientY-t.top)/r)}},qQ=Ic("mouseClick"),GQ=pb();GQ.startListening({actionCreator:qQ,effect:(e,t)=>{var a=e.payload,r=FE(t.getState(),IE(a));r?.activeIndex!=null&&t.dispatch(sOe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Q6=Ic("mouseMove"),KQ=pb();KQ.startListening({actionCreator:Q6,effect:(e,t)=>{var a=e.payload,r=t.getState(),n=gE(r,r.tooltip.settings.shared),i=FE(r,IE(a));n==="axis"&&(i?.activeIndex!=null?t.dispatch(OJ({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(LJ()))}});var y$={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},YQ=Yo({name:"rootProps",initialState:y$,reducers:{updateOptions:(e,t)=>{var a;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(a=t.payload.barGap)!==null&&a!==void 0?a:y$.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),Z$e=YQ.reducer,{updateOptions:eUe}=YQ.actions,XQ=Yo({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:$He}=XQ.actions,tUe=XQ.reducer,JQ=Ic("keyDown"),QQ=Ic("focus"),BE=pb();BE.startListening({actionCreator:JQ,effect:(e,t)=>{var a=t.getState(),r=a.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:n}=a.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var l=Number(vE(n,Zx(a))),o=Lh(a);if(i==="Enter"){var c=yj(a,"axis","hover",String(n.index));t.dispatch(z6({active:!n.active,activeIndex:n.index,activeDataKey:n.dataKey,activeCoordinate:c}));return}var d=KLe(a),u=d==="left-to-right"?1:-1,f=i==="ArrowRight"?1:-1,p=l+f*u;if(!(o==null||p>=o.length||p<0)){var m=yj(a,"axis","hover",String(p));t.dispatch(z6({active:!0,activeIndex:p.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});BE.startListening({actionCreator:QQ,effect:(e,t)=>{var a=t.getState(),r=a.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:n}=a.tooltip;if(!n.active&&n.index==null){var i="0",l=yj(a,"axis","hover",String(i));t.dispatch(z6({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:l}))}}}});var jc=Ic("externalEvent"),ZQ=pb();ZQ.startListening({actionCreator:jc,effect:(e,t)=>{if(e.payload.handler!=null){var a=t.getState(),r={activeCoordinate:BOe(a),activeDataKey:KJ(a),activeIndex:Dm(a),activeLabel:GJ(a),activeTooltipIndex:Dm(a),isTooltipActive:$Oe(a)};e.payload.handler(r,e.payload.reactEvent)}}});var aUe=yt([Qx],e=>e.tooltipItemPayloads),sUe=yt([aUe,Sb,(e,t,a)=>t,(e,t,a)=>a],(e,t,a,r)=>{var n=e.find(o=>o.settings.dataKey===r);if(n!=null){var{positions:i}=n;if(i!=null){var l=t(i,a);return l}}}),eZ=Ic("touchMove"),tZ=pb();tZ.startListening({actionCreator:eZ,effect:(e,t)=>{var a=e.payload,r=t.getState(),n=gE(r,r.tooltip.settings.shared);if(n==="axis"){var i=FE(r,IE({clientX:a.touches[0].clientX,clientY:a.touches[0].clientY,currentTarget:a.currentTarget}));i?.activeIndex!=null&&t.dispatch(OJ({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(n==="item"){var l,o=a.touches[0],c=document.elementFromPoint(o.clientX,o.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(uTe),u=(l=c.getAttribute(hTe))!==null&&l!==void 0?l:void 0,f=sUe(t.getState(),d,u);t.dispatch(MJ({activeDataKey:u,activeIndex:d,activeCoordinate:f}))}}});var rUe=KK({brush:HIe,cartesianAxis:wFe,chartData:xRe,errorBars:UFe,graphicalItems:uFe,layout:LEe,legend:HTe,options:uRe,polarAxis:P9e,polarOptions:tUe,referenceElements:XIe,rootProps:Z$e,tooltip:rOe}),nUe=function(t){return nEe({reducer:rUe,preloadedState:t,middleware:a=>a({serializableCheck:!1}).concat([GQ.middleware,KQ.middleware,BE.middleware,ZQ.middleware,tZ.middleware]),enhancers:a=>{var r=a;return typeof a=="function"&&(r=a()),r.concat(iY({type:"raf"}))},devTools:qm.devToolsEnabled})};function iUe(e){var{preloadedState:t,children:a,reduxStoreName:r}=e,n=ql(),i=y.useRef(null);if(n)return a;i.current==null&&(i.current=nUe(t));var l=j_;return y.createElement(J$e,{context:l,store:i.current},a)}function lUe(e){var{layout:t,margin:a}=e,r=fi(),n=ql();return y.useEffect(()=>{n||(r(DEe(t)),r(TEe(a)))},[r,n,t,a]),null}function oUe(e){var t=fi();return y.useEffect(()=>{t(eUe(e))},[t,e]),null}var cUe=["children"];function dUe(e,t){if(e==null)return{};var a,r,n=uUe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function uUe(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function Dj(){return Dj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Dj.apply(null,arguments)}var hUe={width:"100%",height:"100%",display:"block"},fUe=y.forwardRef((e,t)=>{var a=AY(),r=_Y(),n=TY();if(!Nx(a)||!Nx(r))return null;var{children:i,otherAttributes:l,title:o,desc:c}=e,d,u;return typeof l.tabIndex=="number"?d=l.tabIndex:d=n?0:void 0,typeof l.role=="string"?u=l.role:u=n?"application":void 0,y.createElement(hK,Dj({},l,{title:o,desc:c,role:u,tabIndex:d,width:a,height:r,style:hUe,ref:t}),i)}),mUe=e=>{var{children:t}=e,a=Ca(MN);if(!a)return null;var{width:r,height:n,y:i,x:l}=a;return y.createElement(hK,{width:r,height:n,x:l,y:i},t)},w$=y.forwardRef((e,t)=>{var{children:a}=e,r=dUe(e,cUe),n=ql();return n?y.createElement(mUe,null,a):y.createElement(fUe,Dj({ref:t},r),a)});function pUe(){var e=fi(),[t,a]=y.useState(null),r=Ca(dTe);return y.useEffect(()=>{if(t!=null){var n=t.getBoundingClientRect(),i=n.width/t.offsetWidth;kl(i)&&i!==r&&e(MEe(i))}},[t,e,r]),a}function j$(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function xUe(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?j$(Object(a),!0).forEach(function(r){gUe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j$(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function gUe(e,t,a){return(t=vUe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function vUe(e){var t=bUe(e,"string");return typeof t=="symbol"?t:t+""}function bUe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lm(){return Lm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Lm.apply(null,arguments)}var yUe=()=>(SRe(),null);function Pj(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var wUe=y.forwardRef((e,t)=>{var a,r,n=y.useRef(null),[i,l]=y.useState({containerWidth:Pj((a=e.style)===null||a===void 0?void 0:a.width),containerHeight:Pj((r=e.style)===null||r===void 0?void 0:r.height)}),o=y.useCallback((d,u)=>{l(f=>{var p=Math.round(d),m=Math.round(u);return f.containerWidth===p&&f.containerHeight===m?f:{containerWidth:p,containerHeight:m}})},[]),c=y.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:u,height:f}=d.getBoundingClientRect();o(u,f);var p=v=>{var{width:g,height:b}=v[0].contentRect;o(g,b)},m=new ResizeObserver(p);m.observe(d),n.current=m}},[t,o]);return y.useEffect(()=>()=>{var d=n.current;d?.disconnect()},[o]),y.createElement(y.Fragment,null,y.createElement(RN,{width:i.containerWidth,height:i.containerHeight}),y.createElement("div",Lm({ref:c},e)))}),jUe=y.forwardRef((e,t)=>{var{width:a,height:r}=e,[n,i]=y.useState({containerWidth:Pj(a),containerHeight:Pj(r)}),l=y.useCallback((c,d)=>{i(u=>{var f=Math.round(c),p=Math.round(d);return u.containerWidth===f&&u.containerHeight===p?u:{containerWidth:f,containerHeight:p}})},[]),o=y.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:d,height:u}=c.getBoundingClientRect();l(d,u)}},[t,l]);return y.createElement(y.Fragment,null,y.createElement(RN,{width:n.containerWidth,height:n.containerHeight}),y.createElement("div",Lm({ref:o},e)))}),NUe=y.forwardRef((e,t)=>{var{width:a,height:r}=e;return y.createElement(y.Fragment,null,y.createElement(RN,{width:a,height:r}),y.createElement("div",Lm({ref:t},e)))}),kUe=y.forwardRef((e,t)=>{var{width:a,height:r}=e;return bh(a)||bh(r)?y.createElement(jUe,Lm({},e,{ref:t})):y.createElement(NUe,Lm({},e,{ref:t}))});function SUe(e){return e===!0?wUe:kUe}var CUe=y.forwardRef((e,t)=>{var{children:a,className:r,height:n,onClick:i,onContextMenu:l,onDoubleClick:o,onMouseDown:c,onMouseEnter:d,onMouseLeave:u,onMouseMove:f,onMouseUp:p,onTouchEnd:m,onTouchMove:v,onTouchStart:g,style:b,width:j,responsive:k,dispatchTouchEvents:S=!0}=e,N=y.useRef(null),A=fi(),[_,E]=y.useState(null),[D,R]=y.useState(null),I=pUe(),M=E_(),U=M?.width>0?M.width:j,P=M?.height>0?M.height:n,F=y.useCallback(G=>{I(G),typeof t=="function"&&t(G),E(G),R(G),G!=null&&(N.current=G)},[I,t,E,R]),K=y.useCallback(G=>{A(qQ(G)),A(jc({handler:i,reactEvent:G}))},[A,i]),V=y.useCallback(G=>{A(Q6(G)),A(jc({handler:d,reactEvent:G}))},[A,d]),J=y.useCallback(G=>{A(LJ()),A(jc({handler:u,reactEvent:G}))},[A,u]),Q=y.useCallback(G=>{A(Q6(G)),A(jc({handler:f,reactEvent:G}))},[A,f]),z=y.useCallback(()=>{A(QQ())},[A]),X=y.useCallback(G=>{A(JQ(G.key))},[A]),le=y.useCallback(G=>{A(jc({handler:l,reactEvent:G}))},[A,l]),O=y.useCallback(G=>{A(jc({handler:o,reactEvent:G}))},[A,o]),q=y.useCallback(G=>{A(jc({handler:c,reactEvent:G}))},[A,c]),W=y.useCallback(G=>{A(jc({handler:p,reactEvent:G}))},[A,p]),te=y.useCallback(G=>{A(jc({handler:g,reactEvent:G}))},[A,g]),re=y.useCallback(G=>{S&&A(eZ(G)),A(jc({handler:v,reactEvent:G}))},[A,S,v]),oe=y.useCallback(G=>{A(jc({handler:m,reactEvent:G}))},[A,m]),ce=SUe(k);return y.createElement(eQ.Provider,{value:_},y.createElement(YAe.Provider,{value:D},y.createElement(ce,{width:U??b?.width,height:P??b?.height,className:cr("recharts-wrapper",r),style:xUe({position:"relative",cursor:"default",width:U,height:P},b),onClick:K,onContextMenu:le,onDoubleClick:O,onFocus:z,onKeyDown:X,onMouseDown:q,onMouseEnter:V,onMouseLeave:J,onMouseMove:Q,onMouseUp:W,onTouchEnd:oe,onTouchMove:re,onTouchStart:te,ref:F},y.createElement(yUe,null),a)))}),AUe=["width","height","responsive","children","className","style","compact","title","desc"];function _Ue(e,t){if(e==null)return{};var a,r,n=EUe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function EUe(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var TUe=y.forwardRef((e,t)=>{var{width:a,height:r,responsive:n,children:i,className:l,style:o,compact:c,title:d,desc:u}=e,f=_Ue(e,AUe),p=Sd(f);return c?y.createElement(y.Fragment,null,y.createElement(RN,{width:a,height:r}),y.createElement(w$,{otherAttributes:p,title:d,desc:u},i)):y.createElement(CUe,{className:l,style:o,width:a,height:r,responsive:n,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},y.createElement(w$,{otherAttributes:p,title:d,desc:u,ref:t},y.createElement(QIe,null,i)))});function Z6(){return Z6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Z6.apply(null,arguments)}var DUe={top:5,right:5,bottom:5,left:5},PUe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:DUe,reverseStackOrder:!1,syncMethod:"index",responsive:!1},aZ=y.forwardRef(function(t,a){var r,n=jo(t.categoricalChartProps,PUe),{chartName:i,defaultTooltipEventType:l,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,categoricalChartProps:d}=t,u={chartName:i,defaultTooltipEventType:l,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,eventEmitter:void 0};return y.createElement(iUe,{preloadedState:{options:u},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:i},y.createElement(zIe,{chartData:d.data}),y.createElement(lUe,{layout:n.layout,margin:n.margin}),y.createElement(oUe,{accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),y.createElement(TUe,Z6({},n,{ref:a})))}),MUe=["axis"],eA=y.forwardRef((e,t)=>y.createElement(aZ,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:MUe,tooltipPayloadSearcher:tQ,categoricalChartProps:e,ref:t})),LUe=["axis","item"],OUe=y.forwardRef((e,t)=>y.createElement(aZ,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:LUe,tooltipPayloadSearcher:tQ,categoricalChartProps:e,ref:t}));const N$={Answered:"#10b981","Not Answered":"#ef4444",Busy:"#f59e0b","Wrong Number":"#64748b"},RUe=({title:e,subtitle:t,data:a=[]})=>{const[r,n]=y.useState("desc"),i=y.useMemo(()=>(Array.isArray(a)?[...a]:[]).sort((c,d)=>r==="desc"?(d.value||0)-(c.value||0):(c.value||0)-(d.value||0)),[a,r]),l=y.useMemo(()=>i.reduce((o,c)=>o+(c.value||0),0),[i]);return s.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h3",{className:"text-xl font-semibold",children:e}),t&&s.jsx("span",{className:"text-xs text-gray-400",children:t})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs text-gray-400",children:[": ",l]}),s.jsx("button",{className:`px-2 py-1 text-xs rounded-md border transition ${r==="desc"?"bg-gray-700 text-white border-gray-600":"bg-gray-800 text-gray-300 border-gray-700 hover:bg-gray-700"}`,onClick:()=>n(o=>o==="desc"?"asc":"desc"),title:r==="desc"?" ":" ",children:r==="desc"?" ":" "})]})]}),s.jsx("div",{style:{height:300},children:s.jsx(rj,{width:"100%",height:"100%",children:s.jsxs(OUe,{data:i,layout:"vertical",margin:{top:10,right:24,left:24,bottom:10},children:[s.jsx(z1,{type:"number",hide:!0}),s.jsx(H1,{type:"category",dataKey:"name",width:120,tick:{fill:"#94a3b8"}}),s.jsx(wj,{cursor:{fill:"rgba(148,163,184,0.15)"},formatter:(o,c)=>{const d=Math.round(Number(o)/Math.max(l,1)*100);return[`${o} (${d}%)`,c]}}),s.jsxs(LQ,{dataKey:"value",barSize:18,radius:[8,8,8,8],isAnimationActive:!0,animationDuration:500,children:[i.map((o,c)=>s.jsx(CE,{fill:N$[o.name]||"#3b82f6"},`cell-${c}`)),s.jsx(Yv,{dataKey:"value",position:"right",formatter:o=>`${o} (${Math.round(o/Math.max(l,1)*100)}%)`,fill:"#e2e8f0"})]})]})})}),s.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:i.map((o,c)=>s.jsxs("span",{className:"inline-flex items-center gap-2 text-xs text-gray-300",children:[s.jsx("span",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:N$[o.name]||"#3b82f6"}}),s.jsx("span",{children:o.name})]},`legend-${c}`))})]})},FUe=({columns:e=[],rows:t=[],align:a=[]})=>s.jsx("div",{className:"rounded-xl border border-gray-800 bg-[#0b1220] overflow-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"sticky top-0 bg-[#0b1220]",children:s.jsx("tr",{className:"text-left",children:e.map((r,n)=>s.jsx("th",{className:"px-3 py-2 font-medium text-gray-200",children:r},n))})}),s.jsxs("tbody",{children:[t.map((r,n)=>s.jsx("tr",{className:"odd:bg-gray-900 even:bg-gray-800 hover:bg-gray-700 transition",children:r.map((i,l)=>s.jsx("td",{className:`px-3 py-2 ${a[l]==="right"?"text-right":"text-left"}`,children:i},l))},n)),t.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"px-3 py-3 text-center text-gray-400",colSpan:e.length,children:"No data"})})]})]})}),IUe=({title:e,subtitle:t,data:a=[]})=>{const r=a.slice(-6);return s.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-xl font-semibold",children:e}),t&&s.jsx("span",{className:"text-xs text-gray-400",children:t})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[s.jsx("div",{className:"overflow-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left",children:[s.jsx("th",{className:"px-3 py-2 font-medium text-gray-200",children:"Month"}),s.jsx("th",{className:"px-3 py-2 font-medium text-gray-200",children:"Revenue"})]})}),s.jsxs("tbody",{children:[r.map((n,i)=>s.jsxs("tr",{className:"odd:bg-gray-900 even:bg-gray-800",children:[s.jsx("td",{className:"px-3 py-2",children:n.name}),s.jsx("td",{className:"px-3 py-2 text-right",children:n.revenue?.toLocaleString?.()??n.revenue})]},i)),r.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"px-3 py-3 text-center text-gray-400",colSpan:2,children:"No data"})})]})]})}),s.jsx("div",{style:{height:220},children:s.jsx(rj,{width:"100%",height:"100%",children:s.jsxs(eA,{data:r,margin:{top:10,right:20,left:0,bottom:10},children:[s.jsx(z1,{dataKey:"name",tick:{fill:"#94a3b8"}}),s.jsx(H1,{tick:{fill:"#94a3b8"}}),s.jsx(wj,{}),s.jsx(_j,{type:"monotone",dataKey:"revenue",stroke:"#22c55e",strokeWidth:2,dot:!1})]})})})]}),s.jsx("div",{className:"mt-2 text-xs text-gray-400",children:"Last 6 months"})]})};function k$(e){return Jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 2v4"},child:[]},{tag:"path",attr:{d:"M16 2v4"},child:[]},{tag:"rect",attr:{width:"18",height:"18",x:"3",y:"4",rx:"2"},child:[]},{tag:"path",attr:{d:"M3 10h18"},child:[]},{tag:"path",attr:{d:"m9 16 2 2 4-4"},child:[]}]})(e)}function BUe(e){return Jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",x2:"12",y1:"2",y2:"22"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(e)}function sZ(e){return Jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(e)}function $Ue(e){return Jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 2v4"},child:[]},{tag:"path",attr:{d:"m16.2 7.8 2.9-2.9"},child:[]},{tag:"path",attr:{d:"M18 12h4"},child:[]},{tag:"path",attr:{d:"m16.2 16.2 2.9 2.9"},child:[]},{tag:"path",attr:{d:"M12 18v4"},child:[]},{tag:"path",attr:{d:"m4.9 19.1 2.9-2.9"},child:[]},{tag:"path",attr:{d:"M2 12h4"},child:[]},{tag:"path",attr:{d:"m4.9 4.9 2.9 2.9"},child:[]}]})(e)}function UUe(e){return Jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(e)}function zUe(e){return Jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"},child:[]},{tag:"path",attr:{d:"M21 3v5h-5"},child:[]},{tag:"path",attr:{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"},child:[]},{tag:"path",attr:{d:"M8 16H3v5"},child:[]}]})(e)}function HUe(e){return Jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M22 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(e)}const VUe=({reservationData:e=[],callsData:t=[],teamsData:a=[],totalAccounts:r=0,lastUpdate:n,onUpdate:i})=>{const{t:l,i18n:o}=St(),c=In(),[d,u]=y.useState(!1),[f,p]=y.useState(null),m=e.length;y.useMemo(()=>e.reduce((N,A)=>N+(A.revenue||0),0),[e]);const v=y.useMemo(()=>t.reduce((N,A)=>N+(A.value||0),0),[t]),g=y.useMemo(()=>[...a].sort((A,_)=>(_.accounts||0)-(A.accounts||0))[0]||null,[a]);y.useMemo(()=>{const N=t.map(A=>A.value||0);return Math.max(100,...N)},[t]);const b=y.useMemo(()=>t.filter(N=>/follow/i.test(N?.name||"")).reduce((N,A)=>N+(A.value||0),0),[t]),j=y.useMemo(()=>t.filter(N=>/(meeting|visit)/i.test(N?.name||"")).reduce((N,A)=>N+(A.value||0),0),[t]),k=y.useMemo(()=>v+b+j,[v,b,j]),S=y.useMemo(()=>v>0?`${Math.round(m/v*100)}%`:typeof g?.conversion=="string"?g.conversion:"",[m,v,g]);return s.jsxs("div",{className:"space-y-6 my-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h2",{className:"text-xl font-semibold",children:l("Sales Actions Overview")})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[s.jsx(rv,{label:l("Total Actions"),value:k,tone:"default",icon:s.jsx(HUe,{}),tooltip:"All tracked actions"}),s.jsx(rv,{label:l("Calls Made"),value:v,tone:"warning",icon:s.jsx(UUe,{}),tooltip:"Total calls count"}),s.jsx(rv,{label:l("Follow-ups Done"),value:b,tone:"info",icon:s.jsx(k$,{}),tooltip:"Follow-up actions"}),s.jsx(rv,{label:l("Meetings Scheduled"),value:j,tone:"success",icon:s.jsx(k$,{}),tooltip:"Meetings count"}),s.jsx(rv,{label:l("Conversion Rate %"),value:S,tone:"success",icon:s.jsx(BUe,{}),tooltip:"Leads converted vs calls"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsx(RUe,{title:l("Action Distribution"),subtitle:l("By type"),data:t}),s.jsx("div",{className:"mt-4",children:s.jsx("button",{className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border border-gray-700 bg-gray-800 hover:bg-gray-700 transition",onClick:()=>c("/reports/activity"),children:l("View Detailed Activity Report")})})]}),s.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsx("h3",{className:"text-xl font-semibold",children:l("salesActions.topTeam")})}),g?s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-sm text-gray-400",children:g.team}),s.jsxs("div",{className:"text-2xl font-bold text-green-400",children:[g.accounts," ",l("salesActions.accounts")]}),s.jsxs("div",{className:"text-xs text-gray-400",title:"Conversion Rate",children:[l("Conversion"),": ",g.conversion]}),s.jsx("div",{children:s.jsx("button",{className:"mt-2 inline-flex items-center gap-2 px-3 py-2 rounded-md border border-gray-700 bg-gray-800 hover:bg-gray-700 transition",onClick:()=>c(`/reports/team?team=${encodeURIComponent(g.team)}&manager=All`),children:l("salesActions.viewTeamDetails")})})]}):s.jsx("div",{className:"text-sm text-gray-400",children:l("salesActions.noTeamData")})]})]}),s.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-xl font-semibold",children:l("salesActions.leaderboard")}),s.jsx("span",{className:"text-xs text-gray-400",children:l("salesActions.byAccounts")})]}),s.jsx(FUe,{columns:[l("Rank"),l("Team"),l("salesActions.accounts"),l("Conversion Rate"),l("Details")],align:["right","left","right","right","left"],rows:a.map(N=>[N.rank,s.jsx("button",{className:"text-blue-400 hover:underline",onClick:()=>{p({name:N.team}),u(!0)},children:N.team},`team-${N.team}`),N.accounts,N.conversion,s.jsx("button",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md border border-gray-700 bg-gray-800 hover:bg-gray-700 transition text-xs",onClick:()=>c(`/reports/team?team=${encodeURIComponent(N.team)}&manager=All`),title:l("Details"),children:s.jsx(sZ,{className:"text-gray-200"})},`btn-${N.team}`)])})]}),s.jsx(IUe,{title:l("salesActions.monthlyReservationsSummary"),subtitle:l("salesActions.lastMonths",{months:Math.min(6,e.length)}),data:e}),d&&s.jsx(BAe,{onClose:()=>u(!1),team:f})]})},WUe=e=>String(e||"").trim().toLowerCase(),qUe=({leads:e=[],onExport:t,filters:a={},setFilters:r})=>{const{t:n}=St(),i=b=>r({...a,[b.target.name]:b.target.value}),l=e.filter(b=>{const j=!a.manager||(b.manager||"").toLowerCase().includes(a.manager.toLowerCase()),k=!a.employee||(b.employee||"").toLowerCase().includes(a.employee.toLowerCase()),S=!a.startDate||new Date(b.date||0)>=new Date(a.startDate),N=!a.endDate||new Date(b.date||0)<=new Date(a.endDate);return j&&k&&S&&N}),o=y.useMemo(()=>{const b={};return l.forEach(j=>{const k=j.employee||"Unassigned";b[k]||(b[k]={total:0,closed:0,inProgress:0,dept:j.manager||"-"}),b[k].total+=1;const S=WUe(j.stage||j.status);S==="closed"||S==="converted"?b[k].closed+=1:b[k].inProgress+=1}),b},[l]),c=l.length,d=Object.values(o).reduce((b,j)=>b+j.closed,0),u=y.useMemo(()=>{const b=Object.values(o);if(!b.length)return 0;const j=b.reduce((k,S)=>k+(S.total?S.closed/S.total*100:0),0)/b.length;return Math.round(j)},[o]),[f,p]=y.useState({key:"total",dir:"desc"}),m=b=>{const{key:j,dir:k}=f,S=k==="asc"?1:-1;return[...b].sort((N,A)=>{const _=N[j],E=A[j];return typeof _=="number"&&typeof E=="number"?(_-E)*S:String(_).localeCompare(String(E))*S})},v=y.useMemo(()=>{const b=Object.entries(o).map(([j,k])=>({name:j,dept:k.dept,total:k.total,inProgress:k.inProgress,closed:k.closed,conversion:k.total?Math.round(k.closed/k.total*100):0}));return m(b)},[o,f]),g=y.useMemo(()=>(v.reduce((b,j)=>b+j.total,0),v.map(b=>({label:b.name,value:b.total,color:void 0}))),[v]);return s.jsxs("div",{className:"space-y-6 my-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold",children:n("Assigned Leads Report")}),s.jsx("button",{className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border border-gray-700 bg-gray-800 hover:bg-gray-700 transition",onClick:t,children:n("Export")})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3",children:[s.jsx("input",{name:"manager",className:"px-3 py-2 rounded-md border border-gray-700 bg-gray-800 text-gray-100",placeholder:n("Manager"),value:a.manager||"",onChange:i}),s.jsx("input",{name:"employee",className:"px-3 py-2 rounded-md border border-gray-700 bg-gray-800 text-gray-100",placeholder:n("Salesperson"),value:a.employee||"",onChange:i}),s.jsx("input",{name:"startDate",type:"date",className:"px-3 py-2 rounded-md border border-gray-700 bg-gray-800 text-gray-100",value:a.startDate||"",onChange:i}),s.jsx("input",{name:"endDate",type:"date",className:"px-3 py-2 rounded-md border border-gray-700 bg-gray-800 text-gray-100",value:a.endDate||"",onChange:i}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border border-gray-700 bg-gray-800 hover:bg-gray-700 transition",onClick:t,children:n("Export")})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[s.jsx("div",{className:"text-sm text-gray-400",children:n("Total Assigned Leads")}),s.jsx("div",{className:"text-2xl font-bold text-green-400",children:c})]}),s.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[s.jsx("div",{className:"text-sm text-gray-400",children:n("Total Closed")}),s.jsx("div",{className:"text-2xl font-bold text-green-400",children:d})]}),s.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[s.jsx("div",{className:"text-sm text-gray-400",children:n("Team Average Conversion %")}),s.jsxs("div",{className:"text-2xl font-bold text-green-400",children:[u,"%"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsx("h3",{className:"text-lg font-semibold",children:n("Team Distribution")})}),s.jsx("div",{className:"overflow-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left border-b border-gray-800",children:[[{key:"name",label:n("Salesperson Name")},{key:"dept",label:n("Department / Region")},{key:"total",label:n("Total Leads Assigned")},{key:"inProgress",label:n("Leads in Progress")},{key:"closed",label:n("Leads Closed")},{key:"conversion",label:n("Conversion %")}].map(b=>s.jsx("th",{className:"px-3 py-2",children:s.jsx("button",{className:"inline-flex items-center gap-1 text-gray-200 hover:text-white",onClick:()=>p(j=>({key:b.key,dir:j.key===b.key&&j.dir==="asc"?"desc":"asc"})),title:n("Sort"),children:b.label})},b.key)),s.jsx("th",{className:"px-3 py-2",children:n("Details")})]})}),s.jsxs("tbody",{children:[v.map((b,j)=>s.jsxs("tr",{className:"border-t border-gray-800 hover:bg-gray-900",children:[s.jsx("td",{className:"px-3 py-2",children:b.name}),s.jsx("td",{className:"px-3 py-2",children:b.dept}),s.jsx("td",{className:"px-3 py-2 text-right",children:b.total}),s.jsx("td",{className:"px-3 py-2 text-right",children:b.inProgress}),s.jsx("td",{className:"px-3 py-2 text-right",children:b.closed}),s.jsxs("td",{className:"px-3 py-2 text-right",children:[b.conversion,"%"]}),s.jsx("td",{className:"px-3 py-2",children:s.jsx("button",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md border border-gray-700 bg-gray-800 hover:bg-gray-700 transition text-xs",title:n("View Details"),children:s.jsx(sZ,{className:"text-gray-200"})})})]},j)),v.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"px-3 py-3 text-center text-[var(--muted-text)]",colSpan:7,children:n("No data")})})]})]})})]}),s.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsx("h3",{className:"text-lg font-semibold",children:n("Leads per Salesperson")})}),s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(di,{segments:g,size:220,cutout:70,centerValue:v.reduce((b,j)=>b+j.total,0),centerLabel:n("Leads")})})]})]})]})},GUe={New:"#60a5fa",Contacted:"#34d399",Qualified:"#f59e0b",Proposal:"#a78bfa",Closed:"#22d3ee"},KUe=({stages:e=[]})=>{const t=e.reduce((a,r)=>a+(r.count||0),0)||1;return s.jsx("div",{className:"space-y-3",children:e.map((a,r)=>{const n=Math.round((a.count||0)/t*100),i=a.color||GUe[a.label]||"#64748b";return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("div",{className:"text-sm text-gray-200",children:a.label}),s.jsxs("div",{className:"text-xs text-gray-400",children:[a.count,"  ",n,"%"]})]}),s.jsx("div",{className:"h-3 rounded-full bg-gray-800 overflow-hidden",children:s.jsx("div",{className:"h-full",style:{width:`${n}%`,backgroundColor:i}})})]},r)})})},AS=e=>String(e||"").trim().toLowerCase(),YUe=({leads:e=[]})=>{const{t}=St(),a=y.useMemo(()=>["All",...Array.from(new Set(e.map(A=>A.source).filter(Boolean)))],[e]),[r,n]=y.useState("All"),i=y.useMemo(()=>r==="All"?e:e.filter(A=>A.source===r),[e,r]),l=["new","contacted","qualified","proposal","closed"],o=y.useMemo(()=>{const A=Object.fromEntries(l.map(_=>[_,0]));return i.forEach(_=>{const E=AS(_.stage);E in A&&(A[E]=(A[E]||0)+1)}),A},[i]),c=i.length,d=o.qualified||0,u=o.closed||0,f=i.filter(A=>AS(A.status)==="lost").length,p=c>0?Math.round(u/c*100):0,m=c>0?Math.round(d/c*100):0,v=y.useMemo(()=>{const A=i.map(E=>{const D=E.createdAt?new Date(E.createdAt).getTime():null,R=E.lastContact?new Date(E.lastContact).getTime():null;return!D||!R?null:Math.max(0,(R-D)/36e5)}).filter(E=>E!=null);if(A.length===0)return 0;const _=A.reduce((E,D)=>E+D,0)/A.length;return Math.round(_)},[i]),g=y.useMemo(()=>{const A={};i.forEach(R=>{const I=R.source||"Unknown";A[I]||(A[I]={total:0,closed:0}),A[I].total+=1,AS(R.stage)==="closed"&&(A[I].closed+=1)});const _=Object.entries(A);if(_.length===0)return null;_.sort((R,I)=>I[1].closed-R[1].closed);const[E,D]=_[0];return{name:E,stats:D}},[i]),[b,j]=y.useState(!1),[k,S]=y.useState(null),N=A=>{S(A),j(!0)};return s.jsxs("div",{className:"space-y-6 my-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold",children:t("Sales Leads Overview")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm text-gray-400",children:t("Source")}),s.jsx("select",{value:r,onChange:A=>n(A.target.value),className:"px-3 py-2 rounded-md border border-gray-700 bg-gray-800 text-gray-100",children:a.map(A=>s.jsx("option",{value:A,children:A},A))})]})]}),s.jsx(KUe,{stages:[{key:"new",label:t("New"),value:o.new},{key:"contacted",label:t("Contacted"),value:o.contacted},{key:"qualified",label:t("Qualified"),value:o.qualified},{key:"proposal",label:t("Proposal"),value:o.proposal},{key:"closed",label:t("Closed"),value:o.closed}]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[s.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[s.jsx("div",{className:"text-sm text-gray-400",children:t("Total Leads")}),s.jsx("div",{className:"text-2xl font-bold text-green-400",children:c})]}),s.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[s.jsx("div",{className:"text-sm text-gray-400",children:t("Qualified Leads %")}),s.jsxs("div",{className:"text-2xl font-bold text-green-400",children:[m,"%"]})]}),s.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[s.jsx("div",{className:"text-sm text-gray-400",children:t("Average Response Time")}),s.jsxs("div",{className:"text-2xl font-bold text-green-400",children:[v,"h"]})]}),s.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[s.jsx("div",{className:"text-sm text-gray-400",children:t("Conversion Rate")}),s.jsxs("div",{className:"text-2xl font-bold text-green-400",children:[p,"%"]})]}),s.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[s.jsx("div",{className:"text-sm text-gray-400",children:t("Lost Leads")}),s.jsx("div",{className:"text-2xl font-bold text-green-400",children:f})]})]}),s.jsx("div",{className:"rounded-lg border border-gray-800 bg-[#0b1220] overflow-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-900",children:[s.jsx("th",{className:"px-3 py-2 text-left",children:t("Name")}),s.jsx("th",{className:"px-3 py-2 text-left",children:t("Phone")}),s.jsx("th",{className:"px-3 py-2 text-left",children:t("Source")}),s.jsx("th",{className:"px-3 py-2 text-left",children:t("Stage")}),s.jsx("th",{className:"px-3 py-2 text-left",children:t("Actions")})]})}),s.jsxs("tbody",{children:[i.map((A,_)=>s.jsxs("tr",{className:"border-t border-gray-800",children:[s.jsx("td",{className:"px-3 py-2",children:A.name||"-"}),s.jsx("td",{className:"px-3 py-2",children:A.phone||"-"}),s.jsx("td",{className:"px-3 py-2",children:A.source||"-"}),s.jsx("td",{className:"px-3 py-2",children:A.stage||"-"}),s.jsx("td",{className:"px-3 py-2",children:s.jsx("button",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-md border border-gray-700 bg-gray-800 hover:bg-gray-700 transition text-xs",onClick:()=>N(A),children:t("View Lead Details")})})]},_)),i.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"px-3 py-3 text-center text-[var(--muted-text)]",colSpan:5,children:t("No leads")})})]})]})}),s.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-lg font-semibold",children:t("Top-performing Source")}),s.jsx("span",{className:"text-xs text-gray-400",children:t("Based on closed leads")})]}),g?s.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[s.jsx("span",{className:"px-2 py-1 rounded-md border border-gray-700 bg-gray-800",children:g.name}),s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t("Closed"),":"]}),s.jsx("span",{className:"font-semibold text-green-400",children:g.stats.closed}),s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t("Total"),":"]}),s.jsx("span",{className:"font-semibold",children:g.stats.total})]}):s.jsx("div",{className:"text-sm text-gray-400",children:t("No source data")})]}),b&&k&&s.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:s.jsxs("div",{className:"w-full max-w-lg rounded-xl border border-gray-700 bg-[#0b1220] p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-lg font-semibold",children:t("Lead Details")}),s.jsx("button",{className:"px-2 py-1 rounded-md border border-gray-700 hover:bg-gray-800",onClick:()=>j(!1),children:t("Close")})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t("Name"),":"]})," ",s.jsx("span",{className:"font-semibold",children:k.name})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t("Phone"),":"]})," ",s.jsx("span",{children:k.phone})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t("Source"),":"]})," ",s.jsx("span",{children:k.source})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t("Stage"),":"]})," ",s.jsx("span",{children:k.stage})]}),k.lastContact&&s.jsxs("div",{children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t("Last Contact"),":"]})," ",s.jsx("span",{children:new Date(k.lastContact).toLocaleString()})]}),k.createdAt&&s.jsxs("div",{children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t("Created At"),":"]})," ",s.jsx("span",{children:new Date(k.createdAt).toLocaleString()})]})]})]})})]})},S$=()=>new Promise(e=>{setTimeout(()=>{e({reservationData:MAe,callsData:LAe,teamsData:OAe,totalAccounts:RAe,leads:JSON.parse(localStorage.getItem("leads"))||[]})},1e3)}),XUe=()=>{const{t:e}=St(),[t,a]=y.useState("Sales Actions"),[r,n]=y.useState(!0),[i,l]=y.useState(null),[o,c]=y.useState({reservationData:[],callsData:[],teamsData:[],totalAccounts:0,leads:[]}),[d,u]=y.useState(new Date().toLocaleString()),[f,p]=y.useState(!1),[m,v]=y.useState({manager:"",employee:"",startDate:"",endDate:""});y.useEffect(()=>{n(!0),S$().then(j=>{c(j),n(!1)}).catch(j=>{l("Failed to fetch data"),n(!1)})},[]);const g=()=>{f||(p(!0),S$().then(j=>{c(j),u(new Date().toLocaleString()),p(!1)}).catch(j=>{l("Failed to fetch data"),p(!1)}))};y.useEffect(()=>{const j=k=>{k.key.toLowerCase()==="u"&&g()};return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[f]);const b=()=>{const j=sa.json_to_sheet(o.leads),k=sa.book_new();sa.book_append_sheet(k,j,"Leads"),qr(k,"leads-report.xlsx")};return r?s.jsx(s.Fragment,{children:s.jsx("div",{children:"Loading..."})}):i?s.jsx(s.Fragment,{children:s.jsx("div",{children:i})}):s.jsx(s.Fragment,{children:s.jsxs("div",{className:"p-4 md:p-6 bg-[#0f172a] text-[#f1f5f9] rounded-lg shadow-lg",children:[s.jsxs("div",{className:"flex flex-col gap-2 md:flex-row items-start md:items-center md:justify-between",children:[s.jsx("div",{className:"self-start",children:s.jsx("h1",{className:"text-2xl font-semibold text-left",children:"Leads Report"})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"text-xs text-gray-400",children:[e("salesActions.lastUpdate"),": ",d]}),s.jsxs("button",{onClick:g,title:e("Update"),"aria-label":e("Update"),"aria-busy":f,"aria-disabled":f,disabled:f,className:"relative overflow-hidden inline-flex items-center gap-2 px-4 py-2 rounded-md border border-blue-500 bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg shadow-blue-500/30 ring-1 ring-blue-400/40 hover:from-blue-500 hover:to-indigo-500 hover:shadow-blue-500/40 hover:scale-[1.02] active:scale-[0.98] transition disabled:opacity-60 disabled:cursor-not-allowed focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-1 focus-visible:ring-blue-400",children:[f?s.jsx($Ue,{className:"w-4 h-4 animate-spin"}):s.jsx(zUe,{className:"w-4 h-4"}),e(f?"Updating...":"Update")]}),s.jsx("span",{className:"sr-only","aria-live":"polite",children:f?"Updating data":"Data up to date"})]})]}),s.jsx("div",{className:"mt-3 border-t border-gray-800"}),s.jsx("div",{className:"mt-4",children:s.jsx(FAe,{activeTab:t,setActiveTab:a})}),s.jsxs("div",{className:"mt-10",children:[t==="Sales Actions"&&s.jsx(VUe,{reservationData:o.reservationData,callsData:o.callsData,teamsData:o.teamsData,totalAccounts:o.totalAccounts,lastUpdate:d,onUpdate:g}),t==="Sales Leads"&&s.jsx(YUe,{leads:o.leads}),t==="Assigned Report"&&s.jsx(qUe,{leads:o.leads,onExport:b,filters:m,setFilters:v})]})]})})};function JUe(){const{t:e,i18n:t}=St(),a=t.language==="ar",[r,n]=y.useState("Overall"),i=y.useMemo(()=>["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map((ye,se)=>({day:ye,meetings:3+se%4+(se>3?2:0)})),[]),l=y.useMemo(()=>i.reduce((G,ie)=>G+ie.meetings,0),[i]),o=28,c=[{label:a?"":"WhatsApp",value:35,color:"#3b82f6"},{label:a?"":"Calls",value:15,color:"#8b5cf6"}],d=[{label:a?" ":"Project A",value:30,color:"#3b82f6"},{label:a?" ":"Project B",value:15,color:"#8b5cf6"}],u=[{name:"Alaa Mahamed",score:7},{name:"Mariam Salama",score:6},{name:"Mohamed Osama",score:6},{name:"Eman Anwar",score:6},{name:"Mohamed Mostafa",score:5}],f=({label:G,icon:ie})=>s.jsxs("button",{className:`px-5 py-2 rounded-md text-sm font-semibold transition-all inline-flex items-center gap-2 ${r===G?"bg-primary text-white shadow-lg ring-1 ring-primary/50":"btn-glass"}`,onClick:()=>n(G),children:[ie&&s.jsx("span",{className:"text-base",children:ie}),s.jsx("span",{children:G})]}),p=({title:G,desc:ie,icon:ye})=>s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:`flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[s.jsx("div",{className:`${a?"border-r-4":"border-l-4"} border-primary h-full`}),ye&&s.jsx("span",{className:"text-primary",children:ye}),s.jsx("h3",{className:`${a?"text-right":""} text-lg font-semibold`,children:G})]}),ie&&s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:ie})]}),m=({title:G,value:ie,icon:ye})=>s.jsxs("div",{className:"glass-panel rounded-xl p-4 h-full",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsxs("div",{className:"inline-flex items-center gap-2",children:[ye&&s.jsx("span",{className:"w-7 h-7 rounded-full bg-primary/10 text-primary flex items-center justify-center",children:ye}),s.jsx("span",{className:"text-sm text-[var(--muted-text)]",children:G})]})}),s.jsx("div",{className:"text-3xl font-bold",children:ie})]}),[v,g]=y.useState(10),[b,j]=y.useState(1),[k,S]=y.useState({key:"name",dir:"asc"}),[N,A]=y.useState(!1),[_,E]=y.useState({salesman:"",project:"",dateFrom:"",dateTo:""}),[D,R]=y.useState([]),I=y.useMemo(()=>[{date:"2025-11-01",status:"arranged"},{date:"2025-11-02",status:"arranged"},{date:"2025-11-03",status:"done"},{date:"2025-11-04",status:"arranged"},{date:"2025-11-05",status:"done"},{date:"2025-11-06",status:"done"},{date:"2025-11-07",status:"arranged"}],[]),M=G=>{const ie=_.dateFrom?new Date(_.dateFrom):null,ye=_.dateTo?new Date(_.dateTo):null,se=new Date(G),Ie=ie?se>=ie:!0,pe=ye?se<=ye:!0;return Ie&&pe},U=y.useMemo(()=>I.filter(G=>G.status==="arranged"&&M(G.date)).length,[I,_]),P=y.useMemo(()=>I.filter(G=>G.status==="done"&&M(G.date)).length,[I,_]),F=y.useMemo(()=>[{date:"2025-11-01",name:"Abdullah Saleh",mobile:"1004******",meetings:1,project:"Crown Medical Center",salesman:"Mohamed"},{date:"2025-11-01",name:"",mobile:"1095******",meetings:1,project:"Crown Medical Center",salesman:"Mohamed"},{date:"2025-11-02",name:"Mohamed Zayed",mobile:"1012******",meetings:1,project:"Crown Plaza Mall",salesman:"Mohamed"},{date:"2025-11-02",name:"",mobile:"1094******",meetings:1,project:"Crown Plaza Mall",salesman:"Mina M"},{date:"2025-11-03",name:"ayman Shafie",mobile:"1033******",meetings:1,project:"Crown Medical Center",salesman:"Eman A"},{date:"2025-11-03",name:"Shady",mobile:"1005******",meetings:1,project:"Crown Plaza Mall",salesman:"Eman A"},{date:"2025-11-04",name:" ",mobile:"1147128208",meetings:1,project:"Crown Plaza Mall",salesman:"Mohamed"},{date:"2025-11-04",name:"Rawan Ahmed",mobile:"1006******",meetings:2,project:"Crown Medical Center",salesman:"Hossam"},{date:"2025-11-05",name:"Layla Saad",mobile:"1011******",meetings:1,project:"Crown Plaza Mall",salesman:"Khaled"},{date:"2025-11-06",name:"Omar Nabil",mobile:"1009******",meetings:3,project:"Crown Medical Center",salesman:"Nour"},{date:"2025-11-06",name:"Heba Adel",mobile:"1010******",meetings:1,project:"Crown Medical Center",salesman:"Mariam"}],[]),K=y.useMemo(()=>F.filter(G=>{const ie=_.salesman?String(G.salesman).toLowerCase().includes(String(_.salesman).toLowerCase().trim()):!0,ye=_.project?String(G.project).toLowerCase().includes(String(_.project).toLowerCase().trim()):!0,se=_.dateFrom?G.date>=_.dateFrom:!0,Ie=_.dateTo?G.date<=_.dateTo:!0;return ie&&ye&&(se&&Ie)}),[F,_]),V=y.useMemo(()=>{const G=[...K];return G.sort((ie,ye)=>{const se=ie[k.key],Ie=ye[k.key];return typeof se=="number"&&typeof Ie=="number"?k.dir==="asc"?se-Ie:Ie-se:k.dir==="asc"?String(se).localeCompare(String(Ie)):String(Ie).localeCompare(String(se))}),G},[K,k]),J=Math.max(1,Math.ceil(V.length/v)),Q=y.useMemo(()=>{const G=(b-1)*v;return V.slice(G,G+v)},[V,b,v]),z=G=>`${G.name}|${G.mobile}`,X=y.useMemo(()=>Q.length>0&&Q.every(G=>D.includes(z(G))),[Q,D]),le=G=>{const ie=Q.map(z);R(G?ye=>Array.from(new Set([...ye,...ie])):ye=>ye.filter(se=>!ie.includes(se)))},O=G=>S(ie=>({key:G,dir:ie.key===G&&ie.dir==="asc"?"desc":"asc"})),q=()=>{const G=sa.json_to_sheet(V),ie=sa.book_new();sa.book_append_sheet(ie,G,"Meetings"),qr(ie,"meetings_list.xlsx")},[W,te]=y.useState("Day"),re=[{name:"Amany Gamal",score:1}],oe=[{salesman:"Amany Gamal",date:"11-01-2024 06:02 PM",location:"#"}],ce=y.useMemo(()=>oe.filter(G=>{const ie=_.salesman?String(G.salesman).toLowerCase().includes(String(_.salesman).toLowerCase()):!0,ye=_.dateFrom?_.dateFrom:"",se=_.dateTo?_.dateTo:"",Ie=G.date?.split(" ")[0]||"",pe=Z=>Z?Z.split("-").reverse().join("-"):"",ae=pe(Ie),ge=pe(ye),Re=pe(se),ue=(ge?ae>=ge:!0)&&(Re?ae<=Re:!0);return ie&&ue}),[oe,_]);return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between relative",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:e("Meetings Report")}),s.jsxs("button",{onClick:()=>A(G=>!G),className:"btn btn-glass inline-flex items-center gap-2",children:[s.jsx(doe,{className:"text-base"}),s.jsx("span",{children:e("Filter")})]}),N&&s.jsxs("div",{className:"absolute right-0 top-full mt-2 z-20 glass-panel rounded-xl p-4 w-80 shadow-lg",children:[s.jsx("div",{className:"text-sm font-semibold mb-2",children:e("Filter Data")}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"text-xs mb-1 block",children:e("Salesman")}),s.jsx("input",{value:_.salesman,onChange:G=>E(ie=>({...ie,salesman:G.target.value})),className:"input w-full text-sm",placeholder:e("Type name")})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"text-xs mb-1 block",children:e("Project")}),s.jsx("input",{value:_.project,onChange:G=>E(ie=>({...ie,project:G.target.value})),className:"input w-full text-sm",placeholder:e("Type project")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs mb-1 block",children:e("From Date")}),s.jsx("input",{type:"date",lang:a?"ar":"en",dir:a?"rtl":"ltr",placeholder:a?"//":"mm/dd/yyyy",value:_.dateFrom,onChange:G=>E(ie=>({...ie,dateFrom:G.target.value})),className:"input w-full text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs mb-1 block",children:e("To Date")}),s.jsx("input",{type:"date",lang:a?"ar":"en",dir:a?"rtl":"ltr",placeholder:a?"//":"mm/dd/yyyy",value:_.dateTo,onChange:G=>E(ie=>({...ie,dateTo:G.target.value})),className:"input w-full text-sm"})]})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{className:"btn btn-glass",onClick:()=>E({salesman:"",project:"",dateFrom:"",dateTo:""}),children:e("Clear")}),s.jsx("button",{className:"btn bg-primary text-white",onClick:()=>A(!1),children:e("Apply")})]})]})]}),s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("reports.meetings.desc")}),s.jsx("div",{className:"h-3"}),s.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[s.jsx(f,{label:"Overall",icon:s.jsx(uw,{})}),s.jsx(f,{label:"Checkin",icon:s.jsx(roe,{})})]}),s.jsx("div",{className:"h-3"}),r==="Overall"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"glass-panel rounded-xl p-4 lg:col-span-2",children:[s.jsx(p,{title:a?"  ":"Meeting Over time"}),s.jsx("div",{className:"h-56",children:s.jsx(rj,{width:"100%",height:"100%",children:s.jsxs(eA,{data:i,children:[s.jsx(Y6,{strokeDasharray:"3 3"}),s.jsx(z1,{dataKey:"day"}),s.jsx(H1,{allowDecimals:!1}),s.jsx(wj,{}),s.jsx(_j,{type:"monotone",dataKey:"meetings",stroke:"#3b82f6",strokeWidth:2,dot:{r:3}})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsx(m,{title:a?" ":"Total Of Meetings",value:l,icon:""}),s.jsx(m,{title:a?"  ":"Total Of Leads",value:o,icon:""}),s.jsx(m,{title:a?"  Arrange Meetings":"Arrange Meetings Count",value:U,icon:""}),s.jsx(m,{title:a?"  Done Meetings":"Done Meetings Count",value:P,icon:""})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:a?"":"Channels"}),s.jsx("div",{className:"flex items-center justify-center h-48",children:s.jsx(di,{segments:c,centerValue:c.reduce((G,ie)=>G+ie.value,0),centerLabel:a?"":"Total",size:180})})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:a?"":"Projects"}),s.jsx("div",{className:"flex items-center justify-center h-48",children:s.jsx(di,{segments:d,centerValue:d.reduce((G,ie)=>G+ie.value,0),centerLabel:a?"":"Total",size:180})})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold",children:a?"":"The Best"}),s.jsx("button",{className:"btn-glass px-2 py-1 rounded-md text-xs",children:"All "})]}),s.jsx("div",{className:"space-y-2",children:u.map((G,ie)=>s.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg ${ie===0?"bg-yellow-100 dark:bg-yellow-900/30":"bg-transparent"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 text-primary flex items-center justify-center text-xs",children:ie+1}),s.jsx("div",{className:"text-sm",children:G.name})]}),s.jsx("div",{className:"text-sm font-semibold",children:G.score})]},ie))})]})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold",children:a?" ":"Data List"}),s.jsx("button",{onClick:q,className:"btn btn-glass",children:a?" ":"Export List"})]}),s.jsx("div",{className:"text-sm text-[var(--muted-text)] mb-3",children:a?"     .":"Manage your team members and their account permissions here."}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left",children:s.jsx("input",{type:"checkbox","aria-label":"select all",checked:X,onChange:G=>le(G.target.checked)})}),s.jsxs("th",{className:"px-3 py-2 text-left cursor-pointer",onClick:()=>O("name"),children:[a?"":"Lead"," ",k.key==="name"?k.dir==="asc"?"":"":""]}),s.jsxs("th",{className:"px-3 py-2 text-left cursor-pointer",onClick:()=>O("mobile"),children:[a?"":"Mobile"," ",k.key==="mobile"?k.dir==="asc"?"":"":""]}),s.jsxs("th",{className:"px-3 py-2 text-left cursor-pointer",onClick:()=>O("meetings"),children:[a?" ":"Number Of Meetings"," ",k.key==="meetings"?k.dir==="asc"?"":"":""]}),s.jsxs("th",{className:"px-3 py-2 text-left cursor-pointer",onClick:()=>O("project"),children:[a?"":"Project"," ",k.key==="project"?k.dir==="asc"?"":"":""]}),s.jsxs("th",{className:"px-3 py-2 text-left cursor-pointer",onClick:()=>O("salesman"),children:[a?"":"Salesman"," ",k.key==="salesman"?k.dir==="asc"?"":"":""]})]})}),s.jsx("tbody",{children:Q.map((G,ie)=>s.jsxs(Ws.Fragment,{children:[s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"px-3 py-2",children:s.jsx("input",{type:"checkbox","aria-label":"select row",checked:D.includes(z(G)),onChange:ye=>{const se=z(G);R(Ie=>ye.target.checked?Array.from(new Set([...Ie,se])):Ie.filter(pe=>pe!==se))}})}),s.jsx("td",{className:"px-3 py-2",children:G.name}),s.jsx("td",{className:"px-3 py-2",children:G.mobile}),s.jsx("td",{className:"px-3 py-2",children:G.meetings}),s.jsx("td",{className:"px-3 py-2",children:G.project}),s.jsx("td",{className:"px-3 py-2",children:G.salesman})]}),ie!==Q.length-1&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"py-2"})})]},ie))})]})}),s.jsxs("div",{className:"flex items-center justify-between mt-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("label",{children:a?"":"Show Entries"}),s.jsxs("select",{value:v,onChange:G=>{g(Number(G.target.value)),j(1)},className:"input text-sm",children:[s.jsx("option",{value:10,children:"10"}),s.jsx("option",{value:20,children:"20"}),s.jsx("option",{value:50,children:"50"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{disabled:b===1,onClick:()=>j(G=>Math.max(1,G-1)),className:"btn btn-glass",children:a?"":"Previous"}),s.jsx("div",{className:"px-3 py-1 rounded-md bg-gray-200 dark:bg-gray-700 text-sm",children:b}),s.jsx("button",{disabled:b===J,onClick:()=>j(G=>Math.min(J,G+1)),className:"btn btn-glass",children:a?"":"Next"})]})]})]})]}),r==="Checkin"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:a?" ":"Check In"}),s.jsx("div",{className:"text-sm text-[var(--muted-text)] mb-3",children:a?"    .":"Manage your team members and their account permissions here."}),s.jsx("div",{className:"flex items-center gap-3",children:["Day","Weekly","Monthly","Year"].map(G=>s.jsx("button",{onClick:()=>te(G),className:`px-3 py-1 rounded-md text-sm ${W===G?"bg-primary text-white":"btn-glass"}`,children:a?{Day:"",Weekly:"",Monthly:"",Year:""}[G]:G},G))}),s.jsx("div",{className:"h-56 mt-3",children:s.jsx(rj,{width:"100%",height:"100%",children:s.jsxs(eA,{data:i,children:[s.jsx(Y6,{strokeDasharray:"3 3"}),s.jsx(z1,{dataKey:"day"}),s.jsx(H1,{allowDecimals:!1}),s.jsx(wj,{}),s.jsx(_j,{type:"monotone",dataKey:"meetings",stroke:"#3b82f6",strokeWidth:2,dot:!1})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsx("div",{className:"lg:col-span-2 space-y-4",children:s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:a?" ":"Data List"}),s.jsx("div",{className:"text-sm text-[var(--muted-text)] mb-3",children:a?"    .":"Manage your team members and their account permissions here."}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left",children:s.jsx("input",{type:"checkbox","aria-label":"select all"})}),s.jsx("th",{className:"px-3 py-2 text-left",children:a?" ":"Salesman"}),s.jsx("th",{className:"px-3 py-2 text-left",children:a?"  ":"Check In Date"}),s.jsx("th",{className:"px-3 py-2 text-left",children:a?"":"Location"})]})}),s.jsx("tbody",{children:ce.map((G,ie)=>s.jsxs(Ws.Fragment,{children:[s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"px-3 py-2",children:s.jsx("input",{type:"checkbox","aria-label":"select row"})}),s.jsx("td",{className:"px-3 py-2",children:G.salesman}),s.jsx("td",{className:"px-3 py-2",children:G.date}),s.jsx("td",{className:"px-3 py-2",children:s.jsx("a",{href:G.location,className:"text-primary",children:a?"":"Location"})})]}),ie!==ce.length-1&&s.jsx("tr",{children:s.jsx("td",{colSpan:4,className:"py-2"})})]},ie))})]})}),s.jsxs("div",{className:"flex items-center justify-between mt-3",children:[s.jsx("div",{className:"text-sm",children:a?" 1":"Show Entries 1"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-glass",disabled:!0,children:"Previous"}),s.jsx("div",{className:"px-3 py-1 rounded-md bg-gray-200 dark:bg-gray-700 text-sm",children:"1"}),s.jsx("button",{className:"btn btn-glass",disabled:!0,children:"Next"})]})]})]})}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold",children:a?"":"The Best"}),s.jsx("button",{className:"btn-glass px-2 py-1 rounded-md text-xs",children:"All "})]}),s.jsx("div",{className:"space-y-2",children:re.map((G,ie)=>s.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg ${ie===0?"bg-yellow-100 dark:bg-yellow-900/30":"bg-transparent"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 text-primary flex items-center justify-center text-xs",children:ie+1}),s.jsx("div",{className:"text-sm",children:G.name})]}),s.jsx("div",{className:"text-sm font-semibold",children:G.score})]},ie))})]})]})]})]})})}Ls.register(Bn,$n,Xn,Sl,hi,yn,bn);const QUe=()=>{const{t:e}=St(),t=Gr.dir()==="rtl",a=[{id:1,fileName:"clients_nov.csv",department:"Customers",performedBy:"Ahmed Ali",manager:"Maram Admin",dateTime:"2025-11-09T08:45:00",status:"Success",notes:""},{id:2,fileName:"orders_oct.xlsx",department:"Orders",performedBy:"Sara Hassan",manager:"Maram Admin",dateTime:"2025-11-08T15:10:00",status:"Failed",notes:"Missing column Order ID"},{id:3,fileName:"inventory_11_07.csv",department:"Inventory",performedBy:"Omar Ali",manager:"Maram Admin",dateTime:"2025-11-07T10:05:00",status:"Success",notes:""},{id:4,fileName:"leads_batch_oct.xlsx",department:"Leads",performedBy:"Mona Adel",manager:"Maram Admin",dateTime:"2025-11-06T13:30:00",status:"Success",notes:""},{id:5,fileName:"marketing_campaigns.csv",department:"Marketing",performedBy:"Ahmed Ali",manager:"Maram Admin",dateTime:"2025-11-05T09:15:00",status:"Failed",notes:"Unsupported date format in column Start Date"}],[r,n]=y.useState(a),[i,l]=y.useState("all"),[o,c]=y.useState("all"),[d,u]=y.useState("all"),[f,p]=y.useState("day"),[m,v]=y.useState(""),[g,b]=y.useState(""),[j,k]=y.useState(""),[S,N]=y.useState(""),[A,_]=y.useState(""),[E,D]=y.useState(!1),[R,I]=y.useState(null),[M,U]=y.useState("Customers"),[P,F]=y.useState("Ahmed Ali"),[K,V]=y.useState("Maram Admin"),[J,Q]=y.useState("Success"),[z,X]=y.useState(""),le=y.useMemo(()=>Array.from(new Set(r.map(Z=>Z.department))),[r]),O=y.useMemo(()=>Array.from(new Set(r.map(Z=>Z.manager))),[r]),q=y.useMemo(()=>Array.from(new Set(r.map(Z=>Z.performedBy))),[r]),W=Z=>{const Se=new Date(Date.UTC(Z.getFullYear(),Z.getMonth(),Z.getDate())),Ne=Se.getUTCDay()||7;Se.setUTCDate(Se.getUTCDate()+4-Ne);const Ye=new Date(Date.UTC(Se.getUTCFullYear(),0,1)),gt=Math.ceil(((Se-Ye)/864e5+1)/7);return`${Se.getUTCFullYear()}-W${String(gt).padStart(2,"0")}`},te=Z=>{if(!f)return!0;if(f==="day")return!m||new Date(Z).toISOString().slice(0,10)===m;if(f==="week")return!g||W(new Date(Z))===g;if(f==="month")return!j||new Date(Z).toISOString().slice(0,7)===j;if(f==="range"){const Se=new Date(Z),Ne=S?Se>=new Date(S):!0,Ye=A?Se<=new Date(A):!0;return Ne&&Ye}return!0},re=y.useMemo(()=>r.filter(Z=>{const Se=i==="all"||Z.manager===i,Ne=o==="all"||Z.performedBy===o,Ye=d==="all"||Z.department===d,gt=te(Z.dateTime);return Se&&Ne&&Ye&&gt}),[r,i,o,d,f,m,g,j,S,A]),oe=re.length,ce=re.filter(Z=>Z.status==="Success").length,G=re.filter(Z=>Z.status==="Failed").length,ie=y.useMemo(()=>{const Z=new Map;return re.forEach(Se=>{Z.set(Se.department,(Z.get(Se.department)||0)+1)}),Z},[re]),ye=y.useMemo(()=>({Success:ce,Failed:G}),[ce,G]),se=y.useMemo(()=>{const Z=new Map;re.forEach(Ne=>{const Ye=new Date(Ne.dateTime).toISOString().slice(0,10);Z.set(Ye,(Z.get(Ye)||0)+1)});const Se=Array.from(Z.entries()).sort((Ne,Ye)=>Ne[0].localeCompare(Ye[0]));return{labels:Se.map(Ne=>Ne[0]),counts:Se.map(Ne=>Ne[1])}},[re]),Ie=Z=>{const Se={id:r.length?Math.max(...r.map(Ne=>Ne.id))+1:1,...Z,dateTime:Z.dateTime||new Date().toISOString()};n(Ne=>[Se,...Ne])},pe=Z=>{Z.preventDefault(),R&&(Ie({fileName:R.name,department:M,performedBy:P,manager:K,status:J,notes:z||""}),D(!1),I(null),X(""),Q("Success"))},ae=Z=>{Ie({fileName:Z.fileName,department:Z.department,performedBy:Z.performedBy,manager:Z.manager,status:"Success",notes:"Re-run completed successfully"})},ge=()=>{const Z=re.map(Ye=>({FileName:Ye.fileName,Department:Ye.department,PerformedBy:Ye.performedBy,Manager:Ye.manager,DateTime:new Date(Ye.dateTime).toLocaleString(),Status:Ye.status,Notes:Ye.notes||""})),Se=sa.json_to_sheet(Z),Ne=sa.book_new();sa.book_append_sheet(Ne,Se,"Imports"),qr(Ne,"imports_report.xlsx")},Re=()=>window.print(),ue=({status:Z})=>s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${Z==="Success"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300"}`,children:e(Z==="Success"?"Success":"Failed")});return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-4",children:s.jsx("h1",{className:"text-2xl font-bold",children:t?" ":"Imports Report"})}),s.jsxs("div",{className:"flex justify-end gap-2 mb-4",children:[s.jsx("button",{onClick:Re,className:"btn btn-primary",children:e("Download PDF","Download PDF")}),s.jsx("button",{onClick:ge,className:"btn btn-secondary",children:e("Download Excel","Download Excel")}),s.jsxs("button",{onClick:()=>D(!0),className:"btn btn-accent inline-flex items-center gap-2",children:[s.jsx(MP,{})," ",e("Import","Import")]})]}),s.jsx("div",{className:"glass-panel p-4",children:s.jsx("div",{className:"flex items-center justify-between flex-wrap gap-3",children:s.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Manager","Manager")}),s.jsxs("select",{value:i,onChange:Z=>l(Z.target.value),className:"input min-w-[160px]",children:[s.jsx("option",{value:"all",children:e("All","All")}),O.map(Z=>s.jsx("option",{value:Z,children:Z},Z))]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Employee","Employee")}),s.jsxs("select",{value:o,onChange:Z=>c(Z.target.value),className:"input min-w-[160px]",children:[s.jsx("option",{value:"all",children:e("All","All")}),q.map(Z=>s.jsx("option",{value:Z,children:Z},Z))]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Department","Department")}),s.jsxs("select",{value:d,onChange:Z=>u(Z.target.value),className:"input min-w-[140px]",children:[s.jsx("option",{value:"all",children:e("All","All")}),le.map(Z=>s.jsx("option",{value:Z,children:Z},Z))]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Date Filter")}),s.jsxs("select",{value:f,onChange:Z=>p(Z.target.value),className:"input min-w-[160px]",children:[s.jsx("option",{value:"day",children:e("Day")}),s.jsx("option",{value:"week",children:e("Week")}),s.jsx("option",{value:"month",children:e("Month")}),s.jsx("option",{value:"range",children:e("Custom Range")})]})]}),f==="day"&&s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Date")}),s.jsx("input",{type:"date",value:m,onChange:Z=>v(Z.target.value),className:"input"})]}),f==="week"&&s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Week")}),s.jsx("input",{type:"week",value:g,onChange:Z=>b(Z.target.value),className:"input"})]}),f==="month"&&s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Month")}),s.jsx("input",{type:"month",value:j,onChange:Z=>k(Z.target.value),className:"input"})]}),f==="range"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("From")}),s.jsx("input",{type:"date",value:S,onChange:Z=>N(Z.target.value),className:"input"})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("To")}),s.jsx("input",{type:"date",value:A,onChange:Z=>_(Z.target.value),className:"input"})]})]})]})})}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[{label:e("Total Imports"),value:oe,color:"bg-blue-500"},{label:e("Successful"),value:ce,color:"bg-emerald-500"},{label:e("Failed"),value:G,color:"bg-rose-500"}].map((Z,Se)=>s.jsxs("div",{className:"glass-panel p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:Z.label}),s.jsx("div",{className:"mt-1 text-2xl font-semibold",children:Z.value}),s.jsx("div",{className:`mt-2 h-1.5 rounded ${Z.color}`})]},Se))}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"glass-panel p-4",children:[s.jsx("div",{className:"text-sm font-medium mb-2",children:e("Imports per Department")}),s.jsx(Vr,{data:{labels:Array.from(ie.keys()),datasets:[{label:e("Imports"),data:Array.from(ie.values()),backgroundColor:"rgba(59, 130, 246, 0.6)",borderRadius:6}]},options:{responsive:!0,plugins:{legend:{display:!1}},scales:{y:{ticks:{callback:Z=>`${Z}`}}}}})]}),s.jsxs("div",{className:"glass-panel p-4",children:[s.jsx("div",{className:"text-sm font-medium mb-2",children:e("Success vs Failed")}),s.jsx(di,{segments:[{label:e("Success"),value:ye.Success,color:"#10b981"},{label:e("Failed"),value:ye.Failed,color:"#ef4444"}],totalLabel:e("Imports")})]}),s.jsxs("div",{className:"glass-panel p-4",children:[s.jsx("div",{className:"text-sm font-medium mb-2",children:e("Imports Over Time")}),s.jsx(yo,{data:{labels:se.labels,datasets:[{label:e("Imports"),data:se.counts,borderColor:"rgba(16, 185, 129, 0.9)",backgroundColor:"transparent",tension:.3,pointRadius:2}]},options:{responsive:!0,plugins:{legend:{position:"bottom"}},scales:{y:{ticks:{callback:Z=>`${Z}`}}}}})]})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsxs("div",{className:"glass-panel p-4",children:[s.jsx("div",{className:"text-sm font-medium mb-3",children:e("Import Logs")}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm nova-table nova-table--glass",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left bg-[var(--table-header-bg)]",children:[s.jsx("th",{className:"px-3 py-2",children:e("File Name")}),s.jsx("th",{className:"px-3 py-2",children:e("Department")}),s.jsx("th",{className:"px-3 py-2",children:e("Performed By")}),s.jsx("th",{className:"px-3 py-2",children:e("Date & Time")}),s.jsx("th",{className:"px-3 py-2",children:e("Status")}),s.jsx("th",{className:"px-3 py-2",children:e("Notes / Errors")}),s.jsx("th",{className:"px-3 py-2",children:e("Action")})]})}),s.jsxs("tbody",{children:[re.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"px-3 py-6 text-center text-[var(--muted-text)]",children:e("No data")})}),re.map(Z=>s.jsxs("tr",{className:"border-t border-[var(--table-row-border)] odd:bg-[var(--table-row-bg)] hover:bg-[var(--table-row-hover)] transition-colors",children:[s.jsx("td",{className:"px-3 py-2",children:Z.fileName}),s.jsx("td",{className:"px-3 py-2",children:Z.department}),s.jsxs("td",{className:"px-3 py-2",children:[Z.performedBy," ",s.jsxs("span",{className:"text-[var(--muted-text)]",children:["(",Z.manager,")"]})]}),s.jsx("td",{className:"px-3 py-2",children:new Date(Z.dateTime).toLocaleString()}),s.jsx("td",{className:"px-3 py-2",children:s.jsx(ue,{status:Z.status})}),s.jsx("td",{className:"px-3 py-2",children:Z.notes||""}),s.jsx("td",{className:"px-3 py-2",children:s.jsx("div",{className:"flex items-center gap-2",children:Z.status==="Failed"&&s.jsxs("button",{onClick:()=>ae(Z),className:"btn btn-glass inline-flex items-center gap-1",children:[s.jsx(CA,{})," ",e("Re-run")]})})})]},Z.id))]})]})})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),E&&s.jsxs("div",{className:"fixed inset-0 z-40 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>D(!1)}),s.jsxs("form",{onSubmit:pe,className:"relative z-50 glass-panel rounded-xl p-4 w-[560px] max-w-[95vw]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-lg font-semibold",children:e("New Import")}),s.jsx("button",{type:"button",className:"btn btn-glass",onClick:()=>D(!1),children:e("Close")})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("File")}),s.jsx("input",{type:"file",onChange:Z=>I(Z.target.files?.[0]||null),className:"input",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Department")}),s.jsx("select",{value:M,onChange:Z=>U(Z.target.value),className:"input",children:le.map(Z=>s.jsx("option",{value:Z,children:Z},Z))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Performed By")}),s.jsx("select",{value:P,onChange:Z=>F(Z.target.value),className:"input",children:q.map(Z=>s.jsx("option",{value:Z,children:Z},Z))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Manager")}),s.jsx("select",{value:K,onChange:Z=>V(Z.target.value),className:"input",children:O.map(Z=>s.jsx("option",{value:Z,children:Z},Z))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Result")}),s.jsxs("select",{value:J,onChange:Z=>Q(Z.target.value),className:"input",children:[s.jsx("option",{value:"Success",children:e("Success")}),s.jsx("option",{value:"Failed",children:e("Failed")})]})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Notes / Errors")}),s.jsx("textarea",{value:z,onChange:Z=>X(Z.target.value),className:"input",rows:3,placeholder:e("Optional","Optional")})]})]}),s.jsx("div",{className:"mt-3 flex items-center justify-end gap-2",children:s.jsxs("button",{type:"submit",className:"btn btn-primary inline-flex items-center gap-2",children:[s.jsx(MP,{})," ",e("Import")]})})]})]})]})};Ls.register(Bn,$n,Sl,hi,Xn,Fm,Dx,yn,bn);const C$=()=>{const{t:e}=St(),t=Gr.dir()==="rtl",[a,r]=y.useState(""),[n,i]=y.useState(10),[l,o]=y.useState(1),[c,d]=y.useState(!1),[u,f]=y.useState(null),[p,m]=y.useState(!1),[v,g]=y.useState("All"),[b,j]=y.useState("All"),[k,S]=y.useState("All"),[N,A]=y.useState("month"),[_,E]=y.useState(""),[D,R]=y.useState(""),[I,M]=y.useState(""),U=["All","Ahmed Ali","Sara Hassan"],P=["All","Maram Admin","Ibrahim Manager","Lina Ops"],F=["All","Customers","Orders","Sales","Inventory"],[K,V]=y.useState(()=>{const ue=new Date,Z=(Se,Ne,Ye,gt,qt,at)=>({fileName:Se,department:Ne,performedBy:Ye,timestamp:new Date(ue.getTime()-gt*24*60*60*1e3),status:qt,notes:at});return[Z("clients_nov.csv","Customers","Ahmed Ali",0,"Success",""),Z("orders_oct.xlsx","Orders","Sara Hassan",1,"Failed","Connection timeout"),Z("sales_week_44.xlsx","Sales","Maram Admin",3,"Success",""),Z("inventory_snapshot.csv","Inventory","Lina Ops",6,"Failed","Auth token expired"),Z("clients_oct.csv","Customers","Ahmed Ali",8,"Success",""),Z("orders_sep.xlsx","Orders","Ibrahim Manager",11,"Success",""),Z("sales_q3.xlsx","Sales","Maram Admin",15,"Failed","Network drop")]}),[J,Q]=y.useState(()=>[]),z=(ue,Z,Se,Ne,Ye,gt="")=>{Q(qt=>[{id:`${Date.now()}_${Math.random().toString(36).slice(2)}`,action:ue,status:Z,fileName:Se,user:Ne,department:Ye,timestamp:new Date,notes:gt},...qt])},X=y.useMemo(()=>{const ue=K.length,Z=K.filter(Ne=>Ne.status==="Success").length,Se=K.filter(Ne=>Ne.status==="Failed").length;return{total:ue,success:Z,failed:Se}},[K]),le=(ue,Z)=>ue.getFullYear()===Z.getFullYear()&&ue.getMonth()===Z.getMonth()&&ue.getDate()===Z.getDate(),O=(ue,Z)=>{const Se=new Date(Z),Ne=(ue-Se)/(1e3*60*60*24);return Math.abs(Ne)<=3},q=(ue,Z)=>ue.getFullYear()===Z.getFullYear()&&ue.getMonth()===Z.getMonth(),W=y.useMemo(()=>{let ue=K;if(a&&(ue=ue.filter(Z=>Z.fileName.toLowerCase().includes(a.toLowerCase()))),v!=="All"&&(ue=ue.filter(Z=>Z.performedBy===v)),b!=="All"&&(ue=ue.filter(Z=>Z.performedBy===b)),k!=="All"&&(ue=ue.filter(Z=>Z.department===k)),N==="day"&&_){const Z=new Date(_);ue=ue.filter(Se=>le(Se.timestamp,Z))}if(N==="week"&&_){const Z=new Date(_);ue=ue.filter(Se=>O(Se.timestamp,Z))}if(N==="month"&&_){const Z=new Date(_);ue=ue.filter(Se=>q(Se.timestamp,Z))}if(N==="range"&&D&&I){const Z=new Date(D),Se=new Date(I);ue=ue.filter(Ne=>Ne.timestamp>=Z&&Ne.timestamp<=Se)}return ue},[K,a,v,b,k,N,_,D,I]),te=Math.max(1,Math.ceil(W.length/n)),re=y.useMemo(()=>{const ue=(l-1)*n;return W.slice(ue,ue+n)},[W,l,n]),oe=ue=>{const Z=`File Name,Department,Performed By,Date & Time,Status,Notes
${ue.fileName},${ue.department},${ue.performedBy},${ue.timestamp.toLocaleString()},${ue.status},${ue.notes||""}`,Se=new Blob([Z],{type:"text/csv;charset=utf-8;"}),Ne=URL.createObjectURL(Se),Ye=document.createElement("a");Ye.href=Ne;const gt=ue.fileName?.replace(/\.(xlsx|csv)$/i,".csv")||"export.csv";Ye.download=gt,document.body.appendChild(Ye),Ye.click(),document.body.removeChild(Ye),URL.revokeObjectURL(Ne),z("Download Row","Success",ue.fileName,ue.performedBy,ue.department,"")},ce=ue=>{V(Z=>{const Se=[...Z],Ne={...Se[ue]},Ye=Math.random()<.7;return Ne.status=Ye?"Success":"Failed",Ne.notes=Ye?"":"Retry failed",Se[ue]=Ne,z("Re-run Export",Ne.status,Ne.fileName,Ne.performedBy,Ne.department,Ne.notes),Se})},G=()=>{const ue=W.map(Ne=>({"File Name":Ne.fileName,Department:Ne.department,"Performed By":Ne.performedBy,"Date & Time":Ne.timestamp.toLocaleString(),Status:Ne.status,"Notes / Errors":Ne.notes||""})),Z=sa.json_to_sheet(ue),Se=sa.book_new();sa.book_append_sheet(Se,Z,"Exports"),qr(Se,"exports_report.xlsx"),z("Export Excel","Success","exports_report.xlsx","System",k==="All"?"Mixed":k)},ie=()=>{const ue=new ga("l","pt","a4");ue.setFontSize(14),ue.text(t?" ":"Exports Report",40,40);const Z=[[t?" ":"File Name",t?"":"Department",t?" ":"Performed By",t?" ":"Date & Time",t?"":"Status",t?"":"Notes"]],Se=W.map(Ne=>[Ne.fileName,Ne.department,Ne.performedBy,Ne.timestamp.toLocaleString(),Ne.status,Ne.notes||""]);ue.autoTable({head:Z,body:Se,startY:60}),ue.save("exports_report.pdf"),z("Export PDF","Success","exports_report.pdf","System",k==="All"?"Mixed":k)},ye=y.useMemo(()=>{const ue=new Map;W.forEach(Ne=>ue.set(Ne.department,(ue.get(Ne.department)||0)+1));const Z=Array.from(ue.keys()),Se=Z.map(Ne=>ue.get(Ne));return{labels:Z,data:Se}},[W]),se=y.useMemo(()=>{const ue=W.filter(Se=>Se.status==="Success").length,Z=W.filter(Se=>Se.status==="Failed").length;return{success:ue,failed:Z}},[W]),Ie=y.useMemo(()=>{const ue=Ye=>new Date(Ye.getFullYear(),Ye.getMonth(),Ye.getDate()).toLocaleDateString(),Z=new Map;W.forEach(Ye=>{const gt=ue(Ye.timestamp);Z.set(gt,(Z.get(gt)||0)+1)});const Se=Array.from(Z.keys()).sort((Ye,gt)=>new Date(Ye)-new Date(gt)),Ne=Se.map(Ye=>Z.get(Ye));return{labels:Se,data:Ne}},[W]),pe=({status:ue})=>{const Z=ue==="Success",Se=t?Z?"":"":ue,Ne=Z?"ring-emerald-200":"ring-rose-200",Ye=Z?"bg-emerald-100":"bg-rose-100",gt=Z?"text-emerald-700":"text-rose-700",qt=Z?"bg-emerald-600":"bg-rose-600";return s.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ${Ye} ${gt} ring-1 ${Ne}`,title:ue,children:[s.jsx("span",{className:`inline-block w-1.5 h-1.5 rounded-full ${qt}`}),Se]})},[ae,ge]=y.useState({fileName:"",department:"Customers"}),Re=()=>{const ue="Maram Admin",Z=Math.random()<.85,Se={fileName:ae.fileName||`export_${Date.now()}.csv`,department:ae.department,performedBy:ue,timestamp:new Date,status:Z?"Success":"Failed",notes:Z?"":"Service unavailable"};V(Ne=>[Se,...Ne]),z("Export",Se.status,Se.fileName,ue,Se.department,Se.notes),m(!1),ge({fileName:"",department:"Customers"})};return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:t?"  ":"Exports Report"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{className:"btn btn-glass",onClick:ie,children:[s.jsx(M5,{className:"mr-1"})," ",t?" PDF":"Download PDF"]}),s.jsxs("button",{className:"btn btn-glass",onClick:G,children:[s.jsx(M5,{className:"mr-1"})," ",t?" Excel":"Download Excel"]}),s.jsx("button",{className:"btn btn-primary",onClick:()=>m(!0),children:t?"":"Export"})]})]})}),s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Manager"}),s.jsx("select",{className:"input w-full",value:v,onChange:ue=>{g(ue.target.value),o(1)},children:U.map(ue=>s.jsx("option",{value:ue,children:ue},ue))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Employee"}),s.jsx("select",{className:"input w-full",value:b,onChange:ue=>{j(ue.target.value),o(1)},children:P.map(ue=>s.jsx("option",{value:ue,children:ue},ue))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Department"}),s.jsx("select",{className:"input w-full",value:k,onChange:ue=>{S(ue.target.value),o(1)},children:F.map(ue=>s.jsx("option",{value:ue,children:ue},ue))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?" ":"Date Mode"}),s.jsxs("select",{className:"input w-full",value:N,onChange:ue=>{A(ue.target.value),o(1)},children:[s.jsx("option",{value:"day",children:t?"":"Day"}),s.jsx("option",{value:"week",children:t?"":"Week"}),s.jsx("option",{value:"month",children:t?"":"Month"}),s.jsx("option",{value:"range",children:t?"":"Range"})]})]}),N!=="range"&&s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Date"}),s.jsx("input",{type:"date",className:"input w-full",value:_,onChange:ue=>{E(ue.target.value),o(1)}})]}),N==="range"&&s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Start"}),s.jsx("input",{type:"date",className:"input w-full",value:D,onChange:ue=>{R(ue.target.value),o(1)}})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"End"}),s.jsx("input",{type:"date",className:"input w-full",value:I,onChange:ue=>{M(ue.target.value),o(1)}})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(uoe,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),s.jsx("input",{value:a,onChange:ue=>{r(ue.target.value),o(1)},placeholder:t?" ":"Search file name",className:"input w-full pl-9"})]})]})]})}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-gray-500",children:t?"  ":"Total Exports"}),s.jsx("div",{className:"text-2xl font-semibold",children:X.total})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-gray-500",children:t?"":"Successful"}),s.jsx("div",{className:"text-2xl font-semibold text-emerald-600",children:X.success})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-gray-500",children:t?"":"Failed"}),s.jsx("div",{className:"text-2xl font-semibold text-rose-600",children:X.failed})]})]}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"font-semibold mb-2",children:t?"  ":"Exports per Department"}),s.jsx(Vr,{data:{labels:ye.labels,datasets:[{label:t?"":"Count",data:ye.data,backgroundColor:"#4f46e5"}]},options:{responsive:!0,plugins:{legend:{display:!1}}}})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"font-semibold mb-2",children:t?"  ":"Successful vs Failed"}),s.jsx(Gj,{data:{labels:[t?"":"Successful",t?"":"Failed"],datasets:[{data:[se.success,se.failed],backgroundColor:["#10b981","#ef4444"],borderColor:["#ffffff","#ffffff"],borderWidth:2,hoverOffset:6}]},options:{responsive:!0,cutout:"70%",plugins:{legend:{position:"bottom",labels:{usePointStyle:!0}},tooltip:{callbacks:{label:ue=>`${ue.label}: ${ue.raw}`}}}}}),s.jsxs("div",{className:"mt-3 flex items-center gap-4 text-sm",children:[s.jsxs("div",{className:"inline-flex items-center gap-2",children:[s.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-emerald-600"}),s.jsxs("span",{className:"text-emerald-700",children:[t?"":"Successful",": ",se.success]})]}),s.jsxs("div",{className:"inline-flex items-center gap-2",children:[s.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-rose-600"}),s.jsxs("span",{className:"text-rose-700",children:[t?"":"Failed",": ",se.failed]})]})]})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"font-semibold mb-2",children:t?"  ":"Exports Over Time"}),s.jsx(yo,{data:{labels:Ie.labels,datasets:[{label:t?"":"Exports",data:Ie.data,borderColor:"#4f46e5",backgroundColor:"#4f46e5"}]},options:{responsive:!0,plugins:{legend:{display:!1}}}})]})]}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsxs("div",{className:"glass-panel rounded-xl p-0 overflow-hidden",children:[s.jsxs("table",{className:"nova-table nova-table--glass w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"nova-th"}),s.jsx("th",{className:"nova-th",children:t?" ":"File Name"}),s.jsx("th",{className:"nova-th",children:t?"":"Department"}),s.jsx("th",{className:"nova-th",children:t?" ":"Performed By"}),s.jsx("th",{className:"nova-th",children:t?" ":"Date & Time"}),s.jsx("th",{className:"nova-th",children:t?"":"Status"}),s.jsx("th",{className:"nova-th",children:t?"":"Notes"}),s.jsx("th",{className:"nova-th",children:t?"":"Action"})]})}),s.jsxs("tbody",{children:[re.map((ue,Z)=>s.jsxs("tr",{className:"nova-tr",children:[s.jsx("td",{className:"nova-td",children:s.jsx("input",{type:"checkbox",checked:c,onChange:Se=>d(Se.target.checked),"aria-label":"select"})}),s.jsx("td",{className:"nova-td text-sm",children:ue.fileName}),s.jsx("td",{className:"nova-td text-sm",children:ue.department}),s.jsx("td",{className:"nova-td text-sm",children:ue.performedBy}),s.jsx("td",{className:"nova-td text-sm",children:ue.timestamp.toLocaleString()}),s.jsx("td",{className:"nova-td",children:s.jsx(pe,{status:ue.status})}),s.jsx("td",{className:"nova-td text-sm",children:ue.notes||"-"}),s.jsx("td",{className:"nova-td",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>f(ue),className:"text-primary text-sm hover:underline",children:t?"":"Preview"}),s.jsx("button",{onClick:()=>oe(ue),className:"btn btn-glass px-2 py-1",title:t?"":"Download",children:s.jsx(M5,{})}),ue.status==="Failed"&&s.jsx("button",{onClick:()=>ce((l-1)*n+Z),className:"btn btn-glass px-2 py-1",title:t?" ":"Re-run",children:s.jsx(CA,{})})]})})]},Z)),re.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"nova-td text-center text-sm text-gray-500",colSpan:8,children:t?"  ":"No results"})})]})]}),s.jsxs("div",{className:"p-3 flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:[t?"  ":"Entries per page",s.jsxs("select",{value:n,onChange:ue=>{i(Number(ue.target.value)),o(1)},className:"ml-2 input w-20",children:[s.jsx("option",{value:10,children:"10"}),s.jsx("option",{value:25,children:"25"}),s.jsx("option",{value:50,children:"50"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-glass",disabled:l===1,onClick:()=>o(ue=>Math.max(1,ue-1)),children:t?"":"Prev"}),s.jsxs("span",{className:"text-sm",children:[l," / ",te]}),s.jsx("button",{className:"btn btn-glass",disabled:l===te,onClick:()=>o(ue=>Math.min(te,ue+1)),children:t?"":"Next"})]})]})]}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"font-semibold",children:t?" ":"Audit Trail"}),s.jsx("div",{className:"text-xs text-gray-500",children:t?"      ":"Logs all export, download, and re-run actions"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"nova-table nova-table--glass w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"nova-th",children:t?"":"Time"}),s.jsx("th",{className:"nova-th",children:t?"":"Action"}),s.jsx("th",{className:"nova-th",children:t?" ":"File Name"}),s.jsx("th",{className:"nova-th",children:t?"":"Department"}),s.jsx("th",{className:"nova-th",children:t?"":"User"}),s.jsx("th",{className:"nova-th",children:t?"":"Status"}),s.jsx("th",{className:"nova-th",children:t?"":"Notes"})]})}),s.jsxs("tbody",{children:[J.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"nova-td text-center text-sm text-gray-500",colSpan:7,children:t?"   ":"No logs yet"})}),J.map(ue=>s.jsxs("tr",{className:"nova-tr",children:[s.jsx("td",{className:"nova-td text-sm",children:new Date(ue.timestamp).toLocaleString()}),s.jsx("td",{className:"nova-td text-sm",children:ue.action}),s.jsx("td",{className:"nova-td text-sm",children:ue.fileName}),s.jsx("td",{className:"nova-td text-sm",children:ue.department}),s.jsx("td",{className:"nova-td text-sm",children:ue.user}),s.jsx("td",{className:"nova-td",children:s.jsx(pe,{status:ue.status})}),s.jsx("td",{className:"nova-td text-sm",children:ue.notes||"-"})]},ue.id))]})]})})]}),u&&s.jsxs("div",{className:"fixed inset-0 z-40 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>f(null)}),s.jsxs("div",{className:"relative z-50 glass-panel rounded-xl p-4 w-[560px] max-w-[95vw]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-lg font-semibold",children:t?" ":"File Preview"}),s.jsx("button",{className:"btn btn-glass",onClick:()=>f(null),children:t?"":"Close"})]}),s.jsxs("div",{className:"text-sm space-y-2",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium",children:[t?"":"Name",":"]})," ",u.fileName]}),s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium",children:[t?"":"Department",":"]})," ",u.department]}),s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium",children:[t?"":"Status",":"]})," ",u.status]}),s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium",children:[t?" ":"Performed By",":"]})," ",u.performedBy]}),s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium",children:[t?"":"Date",":"]})," ",u.timestamp.toLocaleString()]})]}),s.jsx("div",{className:"mt-3 p-3 rounded-lg border border-gray-200 dark:border-gray-700 bg-transparent text-xs text-gray-600 dark:text-gray-300",children:t?"  .":"This is a descriptive preview."})]})]}),p&&s.jsxs("div",{className:"fixed inset-0 z-40 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>m(!1)}),s.jsxs("div",{className:"relative z-50 glass-panel rounded-xl p-4 w-[560px] max-w-[95vw]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-lg font-semibold",children:t?" ":"New Export"}),s.jsx("button",{className:"btn btn-glass",onClick:()=>m(!1),children:t?"":"Close"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?" ":"File Name"}),s.jsx("input",{className:"input w-full",value:ae.fileName,onChange:ue=>ge(Z=>({...Z,fileName:ue.target.value})),placeholder:"clients_export.csv"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Department"}),s.jsx("select",{className:"input w-full",value:ae.department,onChange:ue=>ge(Z=>({...Z,department:ue.target.value})),children:F.filter(ue=>ue!=="All").map(ue=>s.jsx("option",{value:ue,children:ue},ue))})]})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[s.jsx("button",{className:"btn btn-glass",onClick:()=>m(!1),children:t?"":"Cancel"}),s.jsx("button",{className:"btn btn-primary",onClick:Re,children:t?" ":"Perform Export"})]})]})]})]})})};Ls.register(Bn,$n,Xn,yn,bn);function ZUe(){const{t:e,i18n:t}=St(),a=(t?.language||"").toLowerCase().startsWith("ar"),r=[{name:"Ahmed Ali",calls:45,actions:30,delayed:3,stages:{lead:10,qualified:12,proposal:0,closed:8},revenue:82e3,target:1e5},{name:"Sara Hassan",calls:58,actions:40,delayed:1,stages:{lead:14,qualified:18,proposal:0,closed:8},revenue:105e3,target:1e5},{name:"Omar Mostafa",calls:32,actions:22,delayed:5,stages:{lead:8,qualified:9,proposal:3,closed:2},revenue:54e3,target:9e4},{name:"Mona Adel",calls:40,actions:27,delayed:2,stages:{lead:12,qualified:10,proposal:4,closed:6},revenue:76e3,target:11e4}],[n,i]=y.useState("all"),[l,o]=y.useState("month"),c=y.useMemo(()=>n==="all"?r:r.filter(j=>j.name===n),[n]),d=y.useMemo(()=>{const j=c.reduce((E,D)=>E+D.calls,0),k=c.reduce((E,D)=>E+D.actions,0),S=c.reduce((E,D)=>E+D.delayed,0),N=c.reduce((E,D)=>E+D.revenue,0),A=c.reduce((E,D)=>E+D.target,0),_=c.length?Math.round(c.reduce((E,D)=>E+D.revenue/D.target*100,0)/c.length):0;return{calls:j,actions:k,delayed:S,revenue:N,target:A,avgPct:_}},[c]),u=y.useMemo(()=>{const j=c.reduce((S,N)=>(S.lead+=N.stages.lead,S.qualified+=N.stages.qualified,S.proposal+=N.stages.proposal,S.closed+=N.stages.closed,S),{lead:0,qualified:0,proposal:0,closed:0}),k=typeof document<"u"&&document.documentElement.classList.contains("dark");return[{label:e("Lead"),value:j.lead,color:"#3b82f6"},{label:e("Qualified"),value:j.qualified,color:"#22c55e"},{label:e("Proposal"),value:j.proposal,color:"#f59e0b"},{label:e("Closed"),value:j.closed,color:"#8b5cf6"}]},[c,e]),f=typeof document<"u"&&document.documentElement.classList.contains("dark")?"#e5e7eb":"#374151",p={labels:c.map(j=>j.name),datasets:[{label:e("Calls"),data:c.map(j=>j.calls),backgroundColor:"#2563eb",borderRadius:6,barThickness:24},{label:e("Actions"),data:c.map(j=>j.actions),backgroundColor:"#22c55e",borderRadius:6,barThickness:24}]},m={responsive:!0,maintainAspectRatio:!1,scales:{x:{grid:{display:!1},ticks:{font:{size:12},color:f}},y:{grid:{display:!1},ticks:{font:{size:12},color:f}}},plugins:{legend:{display:!0}}},v=j=>j>=90?"bg-emerald-500":j>=60?"bg-yellow-500":"bg-red-500",g=()=>{const j=c.map(N=>({Salesperson:N.name,Calls:N.calls,Actions:N.actions,Delayed:N.delayed,Lead:N.stages.lead,Qualified:N.stages.qualified,Proposal:N.stages.proposal,Closed:N.stages.closed,RevenueAchieved:N.revenue,TargetPercent:Math.round(N.revenue/N.target*100)})),k=sa.json_to_sheet(j),S=sa.book_new();sa.book_append_sheet(S,k,"SalesActivities"),qr(S,"sales-activities-dashboard.xlsx")},b=()=>{window.print()};return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h1",{className:"text-2xl font-semibold",children:e("Sales Activities")})}),s.jsx("div",{className:"h-2","aria-hidden":"true"}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:b,className:"btn btn-primary",children:e("Download PDF")}),s.jsx("button",{onClick:g,className:"btn btn-secondary",children:e("Download Excel")})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4",children:s.jsxs("div",{className:"flex flex-wrap gap-3 items-end",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-300 mb-1",children:e("Salesperson")}),s.jsxs("select",{value:n,onChange:j=>i(j.target.value),className:"px-3 py-2 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-100",children:[s.jsx("option",{value:"all",children:e("All")}),r.map(j=>s.jsx("option",{value:j.name,children:j.name},j.name))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-300 mb-1",children:e("Date Range")}),s.jsx("div",{className:"flex gap-2",children:["day","week","month"].map(j=>s.jsx("button",{onClick:()=>o(j),className:`px-3 py-2 rounded-md border text-sm ${l===j?"bg-blue-600 text-white border-blue-600":"bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-100 border-gray-300 dark:border-gray-700"}`,children:e(j.charAt(0).toUpperCase()+j.slice(1))},j))})]})]})}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{label:e("Total Calls"),value:d.calls,accent:"bg-blue-500"},{label:e("Total Actions"),value:d.actions,accent:"bg-emerald-500"},{label:e("Total Revenue"),value:`${d.revenue.toLocaleString()} EGP`,accent:"bg-purple-500"},{label:e("Average Achievement %"),value:`${d.avgPct}%`,accent:"bg-indigo-500"}].map(j=>s.jsx("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`inline-block w-2 h-6 rounded ${j.accent}`}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-300",children:j.label}),s.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:j.value})]})]})},j.label))}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:`flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[s.jsx("div",{className:`${a?"border-r-4":"border-l-4"} border-primary h-full`}),s.jsx("h3",{className:`${a?"text-right":""} text-lg font-semibold text-gray-900 dark:text-gray-100`,children:e("Calls & Actions")})]}),s.jsx("span",{className:"text-xs text-[var(--muted-text)]",children:e("Per Salesperson")})]}),s.jsx("div",{style:{height:"260px"},children:s.jsx(Vr,{data:p,options:m})})]}),s.jsxs("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsxs("div",{className:`flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[s.jsx("div",{className:`${a?"border-r-4":"border-l-4"} border-primary h-full`}),s.jsx("h3",{className:`${a?"text-right":""} text-lg font-semibold text-gray-900 dark:text-gray-100`,children:e("Actions by Stage")})]})}),s.jsx(di,{segments:u,size:180,centerLabel:e("Stages")})]})]}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsx("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsx("tr",{className:"text-left border-b border-gray-200 dark:border-gray-700",children:[e("Salesperson"),e("Calls"),e("Actions"),e("Delayed"),e("Actions by Stage"),e("Revenue Achieved"),e("Target %")].map((j,k)=>s.jsx("th",{className:"px-3 py-2 text-gray-700 dark:text-gray-200 font-medium",children:j},k))})}),s.jsx("tbody",{children:c.map((j,k)=>{const S=Math.round(j.revenue/j.target*100);return s.jsxs(Ws.Fragment,{children:[s.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-700",children:[s.jsx("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100",children:j.name}),s.jsx("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100",children:j.calls}),s.jsx("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100",children:j.actions}),s.jsx("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100",children:j.delayed}),s.jsx("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100",children:`${j.stages.lead} ${e("Lead")} / ${j.stages.qualified} ${e("Qualified")} / ${j.stages.closed} ${e("Closed")}`}),s.jsx("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100",children:`${j.revenue.toLocaleString()} EGP`}),s.jsx("td",{className:"px-3 py-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex-1 h-2 rounded bg-gray-200 dark:bg-gray-700 overflow-hidden",children:s.jsx("div",{className:`h-2 ${v(S)}`,style:{width:`${Math.min(100,S)}%`}})}),s.jsxs("span",{className:"text-xs text-gray-700 dark:text-gray-200 w-10 text-right",children:[S,"%"]})]})})]}),k!==c.length-1&&s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"py-2"})})]},j.name)})})]})})})]})})}function eze({segments:e=[],width:t=380,sliceHeight:a=30,gap:r=10,showConversions:n=!0,formatValue:i}){const l=Math.max(...e.map(f=>f.value),1),o=e.reduce((f,p)=>f+p.value,0)||1,c=typeof document<"u"&&document.documentElement.classList.contains("dark"),d=c?"text-gray-100":"text-gray-900",u=c?"text-gray-300":"text-gray-600";return s.jsx("div",{style:{width:t},className:"mx-auto",children:e.map((f,p)=>{const m=Math.max(48,Math.round(f.value/l*t)),v=Math.round(f.value/o*100),g=i?i(f.value):f.value.toLocaleString(),b=f.colorStart||f.color||"#3b82f6",j=f.colorEnd||f.color||"#1e40af",k=e[p+1],S=k&&f.value>0?Math.round(k.value/f.value*100):null;return s.jsxs("div",{style:{marginBottom:r},children:[s.jsxs("div",{className:"relative",style:{height:a},children:[s.jsx("div",{style:{width:m,height:a,margin:"0 auto",clipPath:"polygon(6% 0%, 94% 0%, 100% 100%, 0% 100%)",backgroundImage:`linear-gradient(90deg, ${b}, ${j})`},className:"rounded-md shadow-sm transition-all duration-200 hover:shadow-md",title:`${f.label}: ${g} (${v}%)`}),s.jsxs("div",{className:"absolute inset-0 flex items-center justify-between px-3",children:[s.jsxs("span",{className:`text-xs ${d} flex items-center gap-2`,children:[f.icon?s.jsx("span",{className:"text-sm",children:f.icon}):s.jsx("span",{className:"inline-block w-2 h-2 rounded-full",style:{backgroundColor:b}}),f.label]}),s.jsxs("span",{className:`text-xs ${u}`,children:[g,"  ",v,"%"]})]})]}),n&&S!==null&&s.jsx("div",{className:"flex items-center justify-center mt-1",children:s.jsxs("span",{className:`text-[11px] ${u}`,children:[" ",S,"%"]})})]},f.label)})})}Ls.register(Bn,$n,Xn,yn,bn);function tze(){const{t:e,i18n:t}=St(),{stages:a}=Kf(),r=[{name:"ABC Pharma",stage:"Qualified",expectedValue:25e3,salesperson:"Ahmed Ali",dateCreated:"2025-11-02",expectedClose:"2025-12-10",status:"Active"},{name:"Delta Med",stage:"Proposal",expectedValue:42e3,salesperson:"Sara Hassan",dateCreated:"2025-11-04",expectedClose:"2025-12-15",status:"Pending"},{name:"Green Labs",stage:"Negotiation",expectedValue:33e3,salesperson:"Omar Tarek",dateCreated:"2025-11-06",expectedClose:"2025-12-22",status:"Active"},{name:"Sun Health",stage:"Contacted",expectedValue:18e3,salesperson:"Ahmed Ali",dateCreated:"2025-11-07",expectedClose:"2025-12-05",status:"Active"},{name:"Medix Co.",stage:"New",expectedValue:15e3,salesperson:"Mona Adel",dateCreated:"2025-11-05",expectedClose:"2025-12-01",status:"Active"},{name:"BioCure",stage:"Closed Won",expectedValue:7e4,salesperson:"Sara Hassan",dateCreated:"2025-10-28",expectedClose:"2025-11-08",status:"Closed"},{name:"LifeChem",stage:"Closed Lost",expectedValue:12e3,salesperson:"Omar Tarek",dateCreated:"2025-10-26",expectedClose:"2025-11-03",status:"Lost"},{name:"CarePlus",stage:"Proposal",expectedValue:38e3,salesperson:"Mona Adel",dateCreated:"2025-11-03",expectedClose:"2025-12-18",status:"Pending"},{name:"HealRight",stage:"Qualified",expectedValue:26e3,salesperson:"Ahmed Ali",dateCreated:"2025-11-01",expectedClose:"2025-12-12",status:"Active"},{name:"NovaMed",stage:"Negotiation",expectedValue:45e3,salesperson:"Sara Hassan",dateCreated:"2025-11-02",expectedClose:"2025-12-20",status:"Active"}],n=y.useMemo(()=>Array.from(new Set(r.map(M=>M.salesperson))),[]),[i,l]=y.useState("all"),[o,c]=y.useState("created"),[d,u]=y.useState(""),[f,p]=y.useState(""),m=y.useMemo(()=>r.filter(M=>{const U=i==="all"||M.salesperson===i,P=o==="created"?M.dateCreated:M.expectedClose,F=new Date(P),K=d?F>=new Date(d):!0,V=f?F<=new Date(f):!0;return U&&K&&V}),[i,o,d,f]),v=y.useMemo(()=>{const M=m.length,U=m.reduce((P,F)=>P+F.expectedValue,0);return{totalLeads:M,totalExpected:U}},[m]),g=M=>String(M||"").trim().toLowerCase(),b=y.useMemo(()=>{const M=Object.fromEntries((a||[]).map(U=>[g(U.name),0]));return m.forEach(U=>{const P=g(U.stage);P in M&&(M[P]=(M[P]||0)+1)}),M},[m,a]),j=y.useMemo(()=>{const M=Object.fromEntries((a||[]).map(U=>[g(U.name),0]));return m.forEach(U=>{const P=g(U.stage);P in M&&(M[P]=(M[P]||0)+U.expectedValue)}),M},[m,a]),k=y.useMemo(()=>{const M={};m.forEach(P=>{M[P.salesperson]=(M[P.salesperson]||0)+1}),typeof document<"u"&&document.documentElement.classList.contains("dark");const U=["#3b82f6","#22c55e","#f59e0b","#8b5cf6","#ef4444","#10b981","#6366f1"];return Object.entries(M).map(([P,F],K)=>({label:P,value:F,color:U[K%U.length]}))},[m]),S=typeof document<"u"&&document.documentElement.classList.contains("dark")?"#e5e7eb":"#374151",A={labels:(a||[]).map(M=>M.name),datasets:[{label:e("Total Expected Value"),data:(a||[]).map(M=>j[g(M.name)]),backgroundColor:"#2563eb",borderRadius:6,barThickness:24}]},_={responsive:!0,maintainAspectRatio:!1,scales:{x:{grid:{display:!1},ticks:{color:S}},y:{grid:{display:!1},ticks:{color:S}}},plugins:{legend:{display:!0}}},E=M=>(a||[]).find(P=>g(P.name)===g(M))?.color||"#3b82f6",D=()=>{const M=m.map(F=>({LeadName:F.name,SalesStage:F.stage,ExpectedValueEGP:F.expectedValue,Salesperson:F.salesperson,DateCreated:F.dateCreated,ExpectedClosing:F.expectedClose,Status:F.status})),U=sa.json_to_sheet(M),P=sa.book_new();sa.book_append_sheet(P,U,"LeadsPipeline"),qr(P,"leads-pipeline-dashboard.xlsx")},R=()=>window.print(),I=M=>(a||[]).find(U=>g(U.name)===g(M));return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h1",{className:"text-2xl font-semibold",children:e("Leads pipeline")})}),s.jsx("div",{className:"h-2","aria-hidden":"true"}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:R,className:"btn btn-primary",children:e("Download PDF")}),s.jsx("button",{onClick:D,className:"btn btn-secondary",children:e("Download Excel")})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4",children:s.jsxs("div",{className:"flex flex-wrap gap-3 items-end",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-300 mb-1",children:e("Salesperson")}),s.jsxs("select",{value:i,onChange:M=>l(M.target.value),className:"px-3 py-2 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-100",children:[s.jsx("option",{value:"all",children:e("All")}),n.map(M=>s.jsx("option",{value:M,children:M},M))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-300 mb-1",children:e("Date Type")}),s.jsxs("select",{value:o,onChange:M=>c(M.target.value),className:"px-3 py-2 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-100",children:[s.jsx("option",{value:"created",children:e("Created Date")}),s.jsx("option",{value:"expectedClose",children:e("Expected Close Date")})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-300 mb-1",children:e("From")}),s.jsx("input",{type:"date",lang:(t?.language||"").toLowerCase().startsWith("ar")?"ar":"en",dir:(t?.language||"").toLowerCase().startsWith("ar")?"rtl":"ltr",placeholder:(t?.language||"").toLowerCase().startsWith("ar")?"//":"mm/dd/yyyy",value:d,onChange:M=>u(M.target.value),className:"px-3 py-2 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-100"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-300 mb-1",children:e("To")}),s.jsx("input",{type:"date",lang:(t?.language||"").toLowerCase().startsWith("ar")?"ar":"en",dir:(t?.language||"").toLowerCase().startsWith("ar")?"rtl":"ltr",placeholder:(t?.language||"").toLowerCase().startsWith("ar")?"//":"mm/dd/yyyy",value:f,onChange:M=>p(M.target.value),className:"px-3 py-2 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-100"})]})]})}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{label:e("Total Leads"),value:v.totalLeads,accent:"bg-blue-500"},{label:e("Total Expected Value"),value:`${v.totalExpected.toLocaleString()} EGP`,accent:"bg-emerald-500"}].map(M=>s.jsx("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`inline-block w-2 h-6 rounded ${M.accent}`}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-300",children:M.label}),s.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:M.value})]})]})},M.label))}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[s.jsxs("div",{className:`flex items-center gap-2 mb-3 ${t?.dir?.()==="rtl"?"flex-row-reverse":""}`,children:[s.jsx("div",{className:`${t?.dir?.()==="rtl"?"border-r-4":"border-l-4"} border-primary h-full`}),s.jsx("h3",{className:`${t?.dir?.()==="rtl"?"text-right":""} text-lg font-semibold text-gray-900 dark:text-gray-100`,children:e("Funnel by Stage")})]}),(()=>{const M=(P,F=40)=>{try{const K=P.replace("#",""),V=parseInt(K,16);let J=V>>16&255,Q=V>>8&255,z=V&255;return J=Math.max(0,J-F),Q=Math.max(0,Q-F),z=Math.max(0,z-F),`#${(J<<16|Q<<8|z).toString(16).padStart(6,"0")}`}catch{return P}},U=(a||[]).map(P=>({label:e(P.nameAr||P.name),value:b[g(P.name)]||0,colorStart:P.color||"#3b82f6",colorEnd:M(P.color||"#3b82f6",40),icon:P.icon}));return s.jsx(eze,{segments:U,width:460,sliceHeight:34,gap:12,showConversions:!0,formatValue:P=>P.toLocaleString()})})()]}),s.jsxs("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 lg:col-span-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3",children:e("Expected Value by Stage")}),s.jsx("div",{style:{height:"260px"},children:s.jsx(Vr,{data:A,options:_})})]}),s.jsxs("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3",children:e("Leads by Salesperson")}),s.jsx(di,{segments:k,size:200,centerLabel:e("Leads")})]})]}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsx("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:s.jsx("div",{className:"w-full overflow-x-auto",children:s.jsxs("table",{className:"min-w-max table-fixed text-sm whitespace-nowrap",children:[s.jsx("thead",{className:"bg-gray-100 dark:bg-gray-900/95",style:{backgroundColor:"var(--table-header-bg)"},children:s.jsx("tr",{className:"text-left border-b border-gray-200 dark:border-gray-700",children:[e("Lead Name"),e("Sales Stage"),e("Expected Value"),e("Salesperson"),e("Date Created"),e("Status")].map((M,U)=>s.jsx("th",{className:"px-3 py-2 text-gray-700 dark:text-gray-200 font-medium whitespace-nowrap",children:M},U))})}),s.jsx("tbody",{children:m.map((M,U)=>s.jsxs(Ws.Fragment,{children:[s.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-700",children:[s.jsx("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100 whitespace-nowrap",children:M.name}),s.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:(()=>{const P=I(M.stage),F=t.language==="ar"?P?.nameAr||P?.name||M.stage:P?.name||M.stage,K=P?.color||E(M.stage);return s.jsxs("span",{className:"inline-flex items-center gap-2 px-2 py-1 rounded text-white text-xs",style:{backgroundColor:K},children:[P?.icon&&s.jsx("span",{className:"text-sm",children:P.icon}),s.jsx("span",{children:F})]})})()}),s.jsx("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100 whitespace-nowrap",children:`${M.expectedValue.toLocaleString()} EGP`}),s.jsx("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100 whitespace-nowrap",children:M.salesperson}),s.jsx("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100 whitespace-nowrap",children:new Date(M.dateCreated).toLocaleDateString()}),s.jsx("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100 whitespace-nowrap",children:e(M.status)})]}),U!==m.length-1&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"py-2"})})]},`${M.name}-${U}`))})]})})})]})}Ls.register(Bn,$n,Xn,Sl,hi,yn,bn);function aze(){const{t:e}=St(),t=[{id:1,customer:"Ahmed Hassan",contact:"+20 100 123 4567",reservationDateTime:"2025-11-09T20:00:00",type:"Table for 4",status:"confirmed",value:850,handledBy:"Omar Ali",createdOn:"2025-11-07"},{id:2,customer:"Mona Said",contact:"+20 101 555 0000",reservationDateTime:"2025-11-10T14:00:00",type:"Catering Order",status:"pending",value:1200,handledBy:"Sara Kamal",createdOn:"2025-11-08"},{id:3,customer:"Ola Sami",contact:"+20 120 222 3333",reservationDateTime:"2025-11-11T18:30:00",type:"Room",status:"confirmed",value:1800,handledBy:"Omar Ali",createdOn:"2025-11-08"},{id:4,customer:"Karim Mostafa",contact:"+20 111 777 8888",reservationDateTime:"2025-11-09T12:00:00",type:"Appointment",status:"cancelled",value:0,handledBy:"Nour El-Din",createdOn:"2025-11-07"},{id:5,customer:"Sara Hassan",contact:"+20 102 987 6543",reservationDateTime:"2025-11-12T16:00:00",type:"Table for 2",status:"completed",value:400,handledBy:"Sara Kamal",createdOn:"2025-11-09"},{id:6,customer:"Omar Mostafa",contact:"+20 103 321 0000",reservationDateTime:"2025-11-10T19:30:00",type:"Room",status:"confirmed",value:2200,handledBy:"Mona Adel",createdOn:"2025-11-08"},{id:7,customer:"Layla Ahmed",contact:"+20 104 888 1234",reservationDateTime:"2025-11-11T10:00:00",type:"Appointment",status:"pending",value:300,handledBy:"Nour El-Din",createdOn:"2025-11-09"},{id:8,customer:"Hussein Ali",contact:"+20 105 444 2222",reservationDateTime:"2025-11-12T21:00:00",type:"Table for 6",status:"cancelled",value:0,handledBy:"Mona Adel",createdOn:"2025-11-10"}],a=y.useMemo(()=>{const V=new Set(t.map(J=>J.handledBy));return["all",...Array.from(V)]},[]),[r,n]=y.useState("all"),[i,l]=y.useState("reservation"),[o,c]=y.useState(""),[d,u]=y.useState(""),[f,p]=y.useState("all"),m=V=>{if(!o&&!d)return!0;const J=new Date(V),Q=o?J>=new Date(o):!0,z=d?J<=new Date(d):!0;return Q&&z},v=y.useMemo(()=>t.filter(V=>{const J=i==="created"?V.createdOn:V.reservationDateTime.slice(0,10),Q=r==="all"?!0:V.handledBy===r,z=f==="all"?!0:V.status===f,X=m(J);return Q&&z&&X}),[t,r,f,i,o,d]),g=v.length,b=v.filter(V=>V.status==="confirmed").length,j=v.filter(V=>V.status==="cancelled").length,k=v.reduce((V,J)=>V+(J.value||0),0),S=g?Math.round(k/g):0,N=v.filter(V=>V.type.toLowerCase().includes("room"));N.length&&Math.round(N.filter(V=>V.status==="confirmed").length/N.length*100);const A=V=>V.slice(0,10),_=Array.from(new Set(v.map(V=>A(V.reservationDateTime)))).sort(),E={labels:_,datasets:[{label:e("Reservations per day"),data:_.map(V=>v.filter(J=>A(J.reservationDateTime)===V).length),borderColor:"#3b82f6",backgroundColor:"rgba(59,130,246,0.2)"}]},D={responsive:!0,plugins:{legend:{display:!1}}},R=[{label:e("Confirmed"),value:v.filter(V=>V.status==="confirmed").length,color:"#10b981"},{label:e("Pending"),value:v.filter(V=>V.status==="pending").length,color:"#f59e0b"},{label:e("Cancelled"),value:v.filter(V=>V.status==="cancelled").length,color:"#ef4444"},{label:e("Completed"),value:v.filter(V=>V.status==="completed").length,color:"#64748b"}],I=Array.from(new Set(v.map(V=>V.handledBy))),M={labels:I,datasets:[{label:e("Revenue by staff"),data:I.map(V=>v.filter(J=>J.handledBy===V).reduce((J,Q)=>J+(Q.value||0),0)),backgroundColor:"#10b981"}]},U={responsive:!0,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0}}},P=()=>{const V=v.map(z=>({Customer:z.customer,Contact:z.contact,ReservationDateTime:z.reservationDateTime,Type:z.type,Status:z.status,ValueEGP:z.value,HandledBy:z.handledBy,CreatedOn:z.createdOn})),J=sa.json_to_sheet(V),Q=sa.book_new();sa.book_append_sheet(Q,J,"Reservations"),qr(Q,"reservations-dashboard.xlsx")},F=()=>window.print(),K=V=>{switch(V){case"confirmed":return"bg-emerald-100 text-emerald-700 dark:bg-emerald-950 dark:text-emerald-300";case"pending":return"bg-amber-100 text-amber-700 dark:bg-amber-950 dark:text-amber-300";case"cancelled":return"bg-rose-100 text-rose-700 dark:bg-rose-950 dark:text-rose-300";case"completed":return"bg-slate-100 text-slate-700 dark:bg-slate-900 dark:text-slate-300";default:return"bg-gray-100 text-gray-700 dark:bg-gray-900 dark:text-gray-300"}};return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:e("Reservations")}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:F,className:"btn btn-primary",children:e("Download PDF")}),s.jsx("button",{onClick:P,className:"btn btn-secondary",children:e("Download Excel")})]})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4",children:s.jsxs("div",{className:"flex flex-wrap gap-3 items-end",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-300 mb-1",children:e("Staff")}),s.jsx(ss,{value:r,onChange:V=>n(V),className:"px-3 py-2",children:a.map(V=>s.jsx("option",{value:V,children:V==="all"?e("All"):V},V))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-300 mb-1",children:e("Date Type")}),s.jsxs(ss,{value:i,onChange:V=>l(V),className:"px-3 py-2",children:[s.jsx("option",{value:"reservation",children:e("Reservation Date")}),s.jsx("option",{value:"created",children:e("Created Date")})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-300 mb-1",children:e("From")}),s.jsx("input",{type:"date",value:o,onChange:V=>c(V.target.value),className:"px-3 py-2 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-100"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-300 mb-1",children:e("To")}),s.jsx("input",{type:"date",value:d,onChange:V=>u(V.target.value),className:"px-3 py-2 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-100"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-300 mb-1",children:e("Status")}),s.jsxs(ss,{value:f,onChange:V=>p(V),className:"px-3 py-2",children:[s.jsx("option",{value:"all",children:e("All")}),s.jsx("option",{value:"confirmed",children:e("Confirmed")}),s.jsx("option",{value:"pending",children:e("Pending")}),s.jsx("option",{value:"cancelled",children:e("Cancelled")}),s.jsx("option",{value:"completed",children:e("Completed")})]})]})]})}),s.jsx("div",{className:"h-3","aria-hidden":"true"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{label:e("Total Reservations"),value:g,accent:"bg-blue-500"},{label:e("Confirmed vs Cancelled"),value:`${b} / ${j}`,accent:"bg-emerald-500"},{label:e("Total Revenue"),value:`${k.toLocaleString()} EGP`,accent:"bg-indigo-500"},{label:e("Average Value"),value:`${S.toLocaleString()} EGP`,accent:"bg-amber-500"}].map(V=>s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-300",children:V.label}),s.jsx("div",{className:"text-lg font-semibold",children:V.value})]}),s.jsx("div",{className:`w-8 h-8 rounded-lg ${V.accent}`})]},V.label))}),s.jsx("div",{className:"h-3","aria-hidden":"true"}),s.jsx("div",{className:"h-3","aria-hidden":"true"}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4",children:[s.jsx("div",{className:"text-sm font-semibold mb-3",children:e("Reservations")}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left border-b border-gray-200 dark:border-gray-700",children:[s.jsx("th",{className:"py-2 px-3",children:e("Customer")}),s.jsx("th",{className:"py-2 px-3",children:e("Reservation Date")}),s.jsx("th",{className:"py-2 px-3",children:e("Type")}),s.jsx("th",{className:"py-2 px-3",children:e("Status")}),s.jsx("th",{className:"py-2 px-3",children:e("Value")}),s.jsx("th",{className:"py-2 px-3",children:e("Handled By")}),s.jsx("th",{className:"py-2 px-3",children:e("Created On")})]})}),s.jsxs("tbody",{children:[v.map(V=>s.jsxs(s.Fragment,{children:[s.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-700",children:[s.jsxs("td",{className:"py-2 px-3",children:[s.jsx("div",{className:"font-medium",children:V.customer}),s.jsx("div",{className:"text-xs text-gray-500",children:V.contact})]}),s.jsx("td",{className:"py-2 px-3",children:new Date(V.reservationDateTime).toLocaleString()}),s.jsx("td",{className:"py-2 px-3",children:V.type}),s.jsx("td",{className:"py-2 px-3",children:s.jsx("span",{className:`px-2 py-1 rounded-md text-xs ${K(V.status)}`,children:e(V.status.charAt(0).toUpperCase()+V.status.slice(1))})}),s.jsx("td",{className:"py-2 px-3",children:V.value?`${V.value.toLocaleString()} EGP`:"-"}),s.jsx("td",{className:"py-2 px-3",children:V.handledBy}),s.jsx("td",{className:"py-2 px-3",children:V.createdOn})]},V.id),s.jsx("tr",{"aria-hidden":"true",children:s.jsx("td",{colSpan:7,children:s.jsx("div",{className:"h-3"})})})]})),v.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"py-6 text-center text-gray-500",children:e("No reservations found for selected filters")})})]})]})})]}),s.jsx("div",{className:"h-3","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4",children:[s.jsx("div",{className:"text-sm font-semibold mb-2",children:e("Reservations per day")}),s.jsx("div",{className:"h-48",children:s.jsx(yo,{data:E,options:D})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4",children:[s.jsx("div",{className:"text-sm font-semibold mb-2",children:e("Distribution by status")}),s.jsx("div",{className:"h-48 flex items-center justify-center",children:s.jsx(di,{segments:R,size:170})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4",children:[s.jsx("div",{className:"text-sm font-semibold mb-2",children:e("Revenue by staff")}),s.jsx("div",{className:"h-48",children:s.jsx(Vr,{data:M,options:U})})]})]})]})})}Ls.register(Bn,$n,Xn,Sl,hi,yn,bn);function sze(){const{t:e,i18n:t}=St(),a=(t?.language||"").toLowerCase().startsWith("ar"),r=[{id:1,client:"ABC Pharma",value:48e3,product:"Digital Marketing Package",closedDate:"2025-11-02",salesperson:"Ahmed Ali",durationDays:7,paymentStatus:"Paid"},{id:2,client:"Delta Med",value:35e3,product:"Web Development",closedDate:"2025-11-04",salesperson:"Sara Hassan",durationDays:5,paymentStatus:"Pending"},{id:3,client:"Green Labs",value:6e4,product:"CRM System",closedDate:"2025-11-05",salesperson:"Omar Tarek",durationDays:9,paymentStatus:"Paid"},{id:4,client:"Sun Health",value:42e3,product:"SEO & Content",closedDate:"2025-11-06",salesperson:"Ahmed Ali",durationDays:8,paymentStatus:"Partial"},{id:5,client:"Medix Co.",value:28e3,product:"Landing Page + Ads",closedDate:"2025-11-07",salesperson:"Sara Hassan",durationDays:6,paymentStatus:"Paid"},{id:6,client:"BioCure",value:52e3,product:"Marketing Automation",closedDate:"2025-10-30",salesperson:"Omar Tarek",durationDays:10,paymentStatus:"Pending"},{id:7,client:"LifeChem",value:31e3,product:"Social Media Management",closedDate:"2025-10-28",salesperson:"Ahmed Ali",durationDays:4,paymentStatus:"Paid"},{id:8,client:"Nova Labs",value:65e3,product:"CRM + Training",closedDate:"2025-10-25",salesperson:"Mona Adel",durationDays:11,paymentStatus:"Partial"},{id:9,client:"HealthPro",value:47e3,product:"Web Revamp",closedDate:"2025-11-08",salesperson:"Ahmed Ali",durationDays:7,paymentStatus:"Paid"},{id:10,client:"CarePlus",value:33e3,product:"Content & Design",closedDate:"2025-11-03",salesperson:"Mona Adel",durationDays:6,paymentStatus:"Pending"}],i=Object.values({"Ahmed Ali":1e5,"Sara Hassan":9e4,"Omar Tarek":12e4,"Mona Adel":8e4}).reduce((Q,z)=>Q+z,0),[l,o]=y.useState("all"),[c,d]=y.useState("all"),[u,f]=y.useState("range"),[p,m]=y.useState(""),[v,g]=y.useState(""),[b,j]=y.useState(""),k=y.useMemo(()=>{let Q=[...r];return l!=="all"&&(Q=Q.filter(z=>z.salesperson===l)),c!=="all"&&(Q=Q.filter(z=>z.paymentStatus===c)),u==="range"?(p&&(Q=Q.filter(z=>z.closedDate>=p)),v&&(Q=Q.filter(z=>z.closedDate<=v))):u==="month"&&b&&(Q=Q.filter(z=>(z.closedDate||"").startsWith(b))),Q},[r,l,c,u,p,v,b]),S=k.length,N=k.reduce((Q,z)=>Q+(z.value||0),0),A=S?Math.round(N/S):0,_=S?Math.round(k.reduce((Q,z)=>Q+(z.durationDays||0),0)/S):0,E=i?Math.round(N/i*100):0,D=y.useMemo(()=>{const Q=new Map;return k.forEach(z=>{Q.set(z.salesperson,(Q.get(z.salesperson)||0)+z.value)}),Q},[k]),R=y.useMemo(()=>{const Q={Paid:0,Pending:0,Partial:0};return k.forEach(z=>{Q[z.paymentStatus]=(Q[z.paymentStatus]||0)+1}),Q},[k]),I=y.useMemo(()=>{const Q=new Map;k.forEach(X=>{Q.set(X.closedDate,(Q.get(X.closedDate)||0)+1)});const z=Array.from(Q.entries()).sort((X,le)=>X[0].localeCompare(le[0]));return{labels:z.map(X=>X[0]),counts:z.map(X=>X[1])}},[k]),M=()=>{const Q=k.map(le=>({Client:le.client,Salesperson:le.salesperson,ProductService:le.product,ClosedDate:le.closedDate,DealValueEGP:le.value,DurationDays:le.durationDays,PaymentStatus:le.paymentStatus})),z=sa.json_to_sheet(Q),X=sa.book_new();sa.book_append_sheet(X,z,"ClosedDeals"),qr(X,"closed-deals-report.xlsx")},U=()=>{window.print()},P=Q=>{const z=Q==="Paid"?"bg-emerald-50 text-emerald-700 border-emerald-200":Q==="Partial"?"bg-amber-50 text-amber-700 border-amber-200":"bg-red-50 text-red-700 border-red-200";return s.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-md border ${z}`,children:e(Q)})},F={labels:Array.from(D.keys()),datasets:[{label:e("Deal Value (EGP)"),data:Array.from(D.values()),backgroundColor:"rgba(59, 130, 246, 0.6)",borderColor:"rgba(59, 130, 246, 1)",borderWidth:1}]},K={labels:I.labels,datasets:[{label:e("Closed Deals"),data:I.counts,fill:!1,borderColor:"rgba(16, 185, 129, 1)",backgroundColor:"rgba(16, 185, 129, 0.3)",tension:.3}]},V=[{label:e("Paid"),value:R.Paid,color:"#10b981"},{label:e("Partial"),value:R.Partial,color:"#f59e0b"},{label:e("Pending"),value:R.Pending,color:"#ef4444"}],J=Array.from(new Set(r.map(Q=>Q.salesperson)));return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:e("Closed Deals Report")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:U,className:"btn btn-primary",children:e("Download PDF")}),s.jsx("button",{onClick:M,className:"btn btn-secondary",children:e("Download Excel")})]})]}),s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsxs("div",{className:"flex flex-wrap items-end gap-3",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Salesperson")}),s.jsxs(ss,{value:l,onChange:Q=>o(Q),className:"min-w-[180px]",children:[s.jsx("option",{value:"all",children:e("All")}),J.map(Q=>s.jsx("option",{value:Q,children:Q},Q))]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Date Filter Type")}),s.jsxs(ss,{value:u,onChange:Q=>f(Q),className:"min-w-[160px]",children:[s.jsx("option",{value:"range",children:e("By Date Range")}),s.jsx("option",{value:"month",children:e("By Month")})]})]}),u==="range"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("From")}),s.jsx("input",{type:"date",lang:(t?.language||"").toLowerCase().startsWith("ar")?"ar":"en",dir:(t?.language||"").toLowerCase().startsWith("ar")?"rtl":"ltr",placeholder:(t?.language||"").toLowerCase().startsWith("ar")?"//":"mm/dd/yyyy",value:p,onChange:Q=>m(Q.target.value),className:"input"})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("To")}),s.jsx("input",{type:"date",lang:(t?.language||"").toLowerCase().startsWith("ar")?"ar":"en",dir:(t?.language||"").toLowerCase().startsWith("ar")?"rtl":"ltr",placeholder:(t?.language||"").toLowerCase().startsWith("ar")?"//":"mm/dd/yyyy",value:v,onChange:Q=>g(Q.target.value),className:"input"})]})]}):s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Month")}),s.jsx("input",{type:"month",value:b,onChange:Q=>j(Q.target.value),className:"input"})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Payment Status")}),s.jsxs(ss,{value:c,onChange:Q=>d(Q),className:"min-w-[160px]",children:[s.jsx("option",{value:"all",children:e("All")}),s.jsx("option",{value:"Paid",children:e("Paid")}),s.jsx("option",{value:"Partial",children:e("Partial")}),s.jsx("option",{value:"Pending",children:e("Pending")})]})]})]})}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[{label:e("Total Closed Deals"),value:S,color:"bg-blue-500"},{label:e("Total Revenue (EGP)"),value:N.toLocaleString(),color:"bg-emerald-500"},{label:e("Average Deal Value"),value:A.toLocaleString(),color:"bg-indigo-500"},{label:e("Average Closing Time"),value:`${_} ${e("days")}`,color:"bg-amber-500"},{label:e("% of Target Achieved"),value:`${E}%`,color:"bg-teal-500"}].map((Q,z)=>s.jsx("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:Q.label}),s.jsx("div",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:Q.value})]}),s.jsx("div",{className:`w-10 h-10 rounded-lg ${Q.color} opacity-80`})]})},z))}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsxs("div",{className:`flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[s.jsx("div",{className:`${a?"border-r-4":"border-l-4"} border-primary h-full`}),s.jsx("h3",{className:`${a?"text-right":""} text-lg font-semibold text-gray-800 dark:text-gray-100`,children:e("Deal Value per Salesperson")})]})}),s.jsx(Vr,{data:F,options:{responsive:!0,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0}}}})]}),s.jsx("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(di,{segments:V,centerValue:S,centerLabel:e("Deals"),size:200,cutout:"70%",borderRadius:6})}),s.jsx("div",{className:"flex-1 md:ml-6 grid grid-cols-1 sm:grid-cols-3 gap-3",children:[{key:"Paid",color:"#10b981",value:R.Paid},{key:"Partial",color:"#f59e0b",value:R.Partial},{key:"Pending",color:"#ef4444",value:R.Pending}].map(Q=>{const z=S?Math.round(Q.value/S*100):0;return s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-gray-200 dark:border-gray-700",children:[s.jsx("span",{className:"inline-block w-3 h-3 rounded-full",style:{backgroundColor:Q.color}}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-200",children:e(Q.key)}),s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[Q.value," / ",S," (",z,"%)"]})]})]},Q.key)})})]})}),s.jsxs("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsxs("div",{className:`flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[s.jsx("div",{className:`${a?"border-r-4":"border-l-4"} border-primary h-full`}),s.jsx("h3",{className:`${a?"text-right":""} text-lg font-semibold text-gray-800 dark:text-gray-100`,children:e("Closed Deals Trend")})]})}),s.jsx(yo,{data:K,options:{responsive:!0,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,precision:0}}}})]})]}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsx("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsx("tr",{className:"text-left border-b border-gray-200 dark:border-gray-700",children:[e("Client"),e("Deal Value"),e("Product / Service"),e("Closed Date"),e("Salesperson"),e("Duration (Days)"),e("Payment Status")].map((Q,z)=>s.jsx("th",{className:"px-3 py-2 text-gray-700 dark:text-gray-200 font-medium",children:Q},z))})}),s.jsx("tbody",{children:k.map((Q,z)=>s.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-700",children:[s.jsx("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100",children:Q.client}),s.jsxs("td",{className:"px-3 py-2",children:[Q.value.toLocaleString()," EGP"]}),s.jsx("td",{className:"px-3 py-2",children:Q.product}),s.jsx("td",{className:"px-3 py-2",children:Q.closedDate}),s.jsx("td",{className:"px-3 py-2",children:Q.salesperson}),s.jsx("td",{className:"px-3 py-2",children:Q.durationDays}),s.jsx("td",{className:"px-3 py-2",children:P(Q.paymentStatus)})]},`${Q.id}-${z}`))})]})})})]})}Ls.register(Bn,$n,Xn,Sl,hi,yn,bn);function rze(){const{t:e}=St(),t=y.useMemo(()=>[{id:1,property:"Villa A1",tenant:"Ahmed Hassan",start:"2025-11-01",end:"2026-10-31",monthlyRent:12e3,totalContractValue:144e3,amountPaid:12e3,balance:0,paymentStatus:"Paid",handledBy:"Sara Kamal",renewed:!0},{id:2,property:"Shop 4",tenant:"Mona Said",start:"2025-11-10",end:"2026-11-09",monthlyRent:8e3,totalContractValue:96e3,amountPaid:4e3,balance:4e3,paymentStatus:"Partial",handledBy:"Omar Ali",renewed:!1},{id:3,property:"Office 302",tenant:"Delta Group",start:"2025-09-15",end:"2026-09-14",monthlyRent:15e3,totalContractValue:18e4,amountPaid:0,balance:15e3,paymentStatus:"Pending",handledBy:"Ahmed Tarek",renewed:!1},{id:4,property:"Warehouse B2",tenant:"LogiX Co.",start:"2025-08-01",end:"2026-07-31",monthlyRent:22e3,totalContractValue:264e3,amountPaid:11e3,balance:11e3,paymentStatus:"Overdue",handledBy:"Nour El-Din",renewed:!1},{id:5,property:"Apartment 5C",tenant:"Yara Samir",start:"2025-12-01",end:"2026-11-30",monthlyRent:9e3,totalContractValue:108e3,amountPaid:9e3,balance:0,paymentStatus:"Paid",handledBy:"Omar Ali",renewed:!0},{id:6,property:"Kiosk K7",tenant:"Snack Hub",start:"2025-10-01",end:"2026-09-30",monthlyRent:4e3,totalContractValue:48e3,amountPaid:2e3,balance:2e3,paymentStatus:"Partial",handledBy:"Sara Kamal",renewed:!1},{id:7,property:"Studio S12",tenant:"Design House",start:"2025-07-01",end:"2026-06-30",monthlyRent:7e3,totalContractValue:84e3,amountPaid:0,balance:7e3,paymentStatus:"Pending",handledBy:"Omar Ali",renewed:!1},{id:8,property:"Office 101",tenant:"TechMinds",start:"2025-06-01",end:"2026-05-31",monthlyRent:13e3,totalContractValue:156e3,amountPaid:13e3,balance:0,paymentStatus:"Paid",handledBy:"Ahmed Tarek",renewed:!0},{id:9,property:"Shop 12",tenant:"Fashion Hub",start:"2025-05-15",end:"2026-05-14",monthlyRent:1e4,totalContractValue:12e4,amountPaid:5e3,balance:5e3,paymentStatus:"Overdue",handledBy:"Nour El-Din",renewed:!1},{id:10,property:"Villa B2",tenant:"Karim Mostafa",start:"2025-04-01",end:"2026-03-31",monthlyRent:11e3,totalContractValue:132e3,amountPaid:11e3,balance:0,paymentStatus:"Paid",handledBy:"Sara Kamal",renewed:!0},{id:11,property:"Office 405",tenant:"Alpha Corp",start:"2025-03-10",end:"2026-03-09",monthlyRent:2e4,totalContractValue:24e4,amountPaid:1e4,balance:1e4,paymentStatus:"Partial",handledBy:"Ahmed Tarek",renewed:!1},{id:12,property:"Warehouse C1",tenant:"AgriFoods",start:"2025-02-01",end:"2026-01-31",monthlyRent:18e3,totalContractValue:216e3,amountPaid:0,balance:18e3,paymentStatus:"Pending",handledBy:"Omar Ali",renewed:!1}],[]),[a,r]=y.useState(""),[n,i]=y.useState(""),[l,o]=y.useState(""),[c,d]=y.useState("all"),u=y.useMemo(()=>new Date().toISOString().slice(0,10),[]),f=M=>M.start<=u&&M.end>=u,p=M=>M.end<u,m=M=>M.start>u,v=y.useMemo(()=>t.filter(M=>{const U=a?String(M.handledBy).toLowerCase().includes(a.toLowerCase().trim()):!0,P=n?M.end>=n:!0,F=l?M.start<=l:!0,K=P&&F,V=c==="all"?!0:c==="active"?f(M):c==="expired"?p(M):c==="upcoming"?m(M):!0;return U&&K&&V}),[t,a,n,l,c]),g=y.useMemo(()=>v.reduce((M,U)=>M+(U.amountPaid||0),0),[v]),b=y.useMemo(()=>v.reduce((M,U)=>M+(U.balance||0),0),[v]),j=y.useMemo(()=>v.filter(f).length,[v]),k=y.useMemo(()=>v.filter(p).length,[v]),S=y.useMemo(()=>{const M=v.filter(P=>P.renewed).length,U=v.length||1;return Math.round(M/U*100)},[v]),N=y.useMemo(()=>{const M={Paid:0,Partial:0,Pending:0,Overdue:0};return v.forEach(U=>{M[U.paymentStatus]=(M[U.paymentStatus]||0)+1}),[{label:"Paid",value:M.Paid,color:"#10b981"},{label:"Partial",value:M.Partial,color:"#f59e0b"},{label:"Pending",value:M.Pending,color:"#9ca3af"},{label:"Overdue",value:M.Overdue,color:"#ef4444"}]},[v]),A=M=>{const U=new Date(M);return`${U.getFullYear()}-${String(U.getMonth()+1).padStart(2,"0")}`},_=y.useMemo(()=>{const M=new Map;v.forEach(P=>{const F=A(P.start);M.set(F,(M.get(F)||0)+(P.amountPaid||0))});const U=Array.from(M.entries()).sort((P,F)=>P[0].localeCompare(F[0]));return{labels:U.map(([P])=>P),values:U.map(([,P])=>P)}},[v]),E=y.useMemo(()=>{const M=new Map;v.forEach(P=>{const F=A(P.start);M.set(F,(M.get(F)||0)+(P.totalContractValue||0))});const U=Array.from(M.entries()).sort((P,F)=>P[0].localeCompare(F[0]));return{labels:U.map(([P])=>P),values:U.map(([,P])=>P)}},[v]),D=()=>{const M=v.map(F=>({Property:F.property,Tenant:F.tenant,StartDate:F.start,EndDate:F.end,MonthlyRent:F.monthlyRent,TotalContractValue:F.totalContractValue,AmountPaid:F.amountPaid,Balance:F.balance,PaymentStatus:F.paymentStatus,HandledBy:F.handledBy})),U=sa.json_to_sheet(M),P=sa.book_new();sa.book_append_sheet(P,U,"RentReport"),qr(P,"rent_report.xlsx")},R=()=>{window.print()},I=({status:M})=>{const U="px-2 py-1 text-xs rounded-md",P=M==="Paid"?"bg-emerald-50 text-emerald-600":M==="Partial"?"bg-yellow-50 text-yellow-600":M==="Overdue"?"bg-red-50 text-red-600":"bg-gray-100 text-gray-600";return s.jsx("span",{className:`${U} ${P}`,children:M})};return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{onClick:R,className:"btn btn-primary",children:e("Download PDF")}),s.jsx("button",{onClick:D,className:"btn btn-secondary",children:e("Download Excel")})]}),s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Salesperson / Manager")}),s.jsx("input",{value:a,onChange:M=>r(M.target.value),className:"input w-full",placeholder:e("e.g. Omar Ali")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Date From")}),s.jsx("input",{type:"date",value:n,onChange:M=>i(M.target.value),className:"input w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Date To")}),s.jsx("input",{type:"date",value:l,onChange:M=>o(M.target.value),className:"input w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Status")}),s.jsxs("select",{value:c,onChange:M=>d(M.target.value),className:"input w-full",children:[s.jsx("option",{value:"all",children:e("All")}),s.jsx("option",{value:"active",children:e("Active")}),s.jsx("option",{value:"expired",children:e("Expired")}),s.jsx("option",{value:"upcoming",children:e("Upcoming")})]})]})]})}),s.jsx("div",{"aria-hidden":"true",className:"h-6"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("Total Rent Collected")}),s.jsxs("div",{className:"text-3xl font-bold",children:[g.toLocaleString()," EGP"]})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("Total Outstanding Balance")}),s.jsxs("div",{className:"text-3xl font-bold",children:[b.toLocaleString()," EGP"]})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("Active Contracts")}),s.jsx("div",{className:"text-3xl font-bold",children:j})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("Expired Contracts")}),s.jsx("div",{className:"text-3xl font-bold",children:k})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("Renewal Rate %")}),s.jsxs("div",{className:"text-3xl font-bold",children:[S,"%"]})]})]}),s.jsx("div",{"aria-hidden":"true",className:"h-6"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("Payment Status")}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx(di,{segments:N,size:180,cutout:70,centerValue:v.length,centerLabel:e("Contracts")}),s.jsx("div",{className:"space-y-2 text-sm",children:N.map(M=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-block w-3 h-3 rounded",style:{backgroundColor:M.color}}),s.jsx("span",{children:e(M.label)}),s.jsxs("span",{className:"ml-auto text-[var(--muted-text)]",children:[M.value," (",v.length?Math.round(M.value/v.length*100):0,"%)"]})]},M.label))})]})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("Rent Collected by Month")}),s.jsx(Vr,{data:{labels:_.labels,datasets:[{label:e("Collected (EGP)"),data:_.values,backgroundColor:"#3b82f6",borderRadius:6}]},options:{responsive:!0,plugins:{legend:{display:!0}},scales:{y:{ticks:{callback:M=>`${M}`}}}}})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("Total Rent Trend")}),s.jsx(yo,{data:{labels:E.labels,datasets:[{label:e("Total Contract Value (EGP)"),data:E.values,borderColor:"#10b981",backgroundColor:"rgba(16,185,129,0.2)",tension:.3,fill:!0,pointRadius:3}]},options:{responsive:!0,plugins:{legend:{display:!0}}}})]})]}),s.jsx("div",{"aria-hidden":"true",className:"h-6"}),s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm nova-table nova-table--glass",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left bg-[var(--table-header-bg)]",children:[s.jsx("th",{className:"px-3 py-2",children:e("Property")}),s.jsx("th",{className:"px-3 py-2",children:e("Tenant")}),s.jsx("th",{className:"px-3 py-2",children:e("Start Date")}),s.jsx("th",{className:"px-3 py-2",children:e("End Date")}),s.jsx("th",{className:"px-3 py-2",children:e("Monthly Rent")}),s.jsx("th",{className:"px-3 py-2",children:e("Amount Paid")}),s.jsx("th",{className:"px-3 py-2",children:e("Balance")}),s.jsx("th",{className:"px-3 py-2",children:e("Payment Status")}),s.jsx("th",{className:"px-3 py-2",children:e("Handled By")})]})}),s.jsxs("tbody",{children:[v.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:9,className:"px-3 py-6 text-center text-[var(--muted-text)]",children:e("No data")})}),v.map(M=>s.jsxs("tr",{className:"border-t border-[var(--table-row-border)] odd:bg-[var(--table-row-bg)] hover:bg-[var(--table-row-hover)] transition-colors",children:[s.jsx("td",{className:"px-3 py-2",children:M.property}),s.jsx("td",{className:"px-3 py-2",children:M.tenant}),s.jsx("td",{className:"px-3 py-2",children:M.start}),s.jsx("td",{className:"px-3 py-2",children:M.end}),s.jsxs("td",{className:"px-3 py-2",children:[M.monthlyRent.toLocaleString()," EGP"]}),s.jsxs("td",{className:"px-3 py-2",children:[M.amountPaid.toLocaleString()," EGP"]}),s.jsxs("td",{className:"px-3 py-2",children:[M.balance.toLocaleString()," EGP"]}),s.jsx("td",{className:"px-3 py-2",children:s.jsx(I,{status:M.paymentStatus})}),s.jsx("td",{className:"px-3 py-2",children:M.handledBy})]},M.id))]})]})})}),s.jsx("div",{"aria-hidden":"true",className:"h-6"})]})})}Ls.register(Bn,$n,Xn,Sl,hi,yn,bn);function nze(){const{t:e,i18n:t}=St(),a=t?.dir?.()==="rtl",r=y.useMemo(()=>[{id:1,name:"Ahmed Hassan",checkIn:"2025-11-09T08:00:00",checkOut:"2025-11-09T18:00:00",type:"Table Reservation",status:"Checked-in",handledBy:"Sara Kamal"},{id:2,name:"Mona Said",checkIn:"2025-11-10T14:00:00",checkOut:"2025-11-10T16:00:00",type:"Catering Appointment",status:"No-show",handledBy:"Omar Ali"},{id:3,name:"Delta Group",checkIn:"2025-11-09T10:00:00",checkOut:"2025-11-09T17:00:00",type:"Office Visit",status:"Completed",handledBy:"Ahmed Tarek"},{id:4,name:"Ola Sami",checkIn:"2025-11-11T09:30:00",checkOut:"",type:"Department Visit",status:"Pending",handledBy:"Sara Kamal"},{id:5,name:"Karim Mostafa",checkIn:"2025-11-08T11:15:00",checkOut:"",type:"Appointment",status:"Cancelled",handledBy:"Omar Ali"},{id:6,name:"Yara Samir",checkIn:"2025-11-12T13:00:00",checkOut:"2025-11-12T15:00:00",type:"Office Visit",status:"Completed",handledBy:"Ahmed Tarek"}],[]),[n,i]=y.useState(""),[l,o]=y.useState("day"),[c,d]=y.useState(()=>new Date().toISOString().slice(0,10)),[u,f]=y.useState("all"),p=Q=>{const z=new Date(Q),X=z.getDay(),le=(X===0?-6:1)-X;return z.setDate(z.getDate()+le),z.setHours(0,0,0,0),z},m=Q=>{const z=p(Q),X=new Date(z);return X.setDate(z.getDate()+6),X.setHours(23,59,59,999),X},v=Q=>{const z=new Date(Q);return z.setHours(0,0,0,0),z},g=Q=>{const z=new Date(Q);return z.setHours(23,59,59,999),z},b=Q=>{const z=new Date(Q);return z.setDate(1),z.setHours(0,0,0,0),z},j=Q=>{const z=new Date(Q);return z.setMonth(z.getMonth()+1),z.setDate(0),z.setHours(23,59,59,999),z},[k,S]=y.useMemo(()=>l==="day"?[v(c),g(c)]:l==="week"?[p(c),m(c)]:[b(c),j(c)],[l,c]),N=Q=>{const z=new Date(Q);return z>=k&&z<=S},A=y.useMemo(()=>r.filter(Q=>{const z=n?String(Q.handledBy).toLowerCase().includes(n.toLowerCase().trim()):!0,X=u==="all"?!0:Q.status===u,le=N(Q.checkIn);return z&&X&&le}),[r,n,u,k,S]),_=y.useMemo(()=>A.length,[A]),E=y.useMemo(()=>A.filter(Q=>Q.status==="No-show").length,[A]),D=y.useMemo(()=>A.filter(Q=>Q.status==="Completed").length,[A]),R=y.useMemo(()=>A.filter(Q=>Q.status==="Pending").length,[A]),I=y.useMemo(()=>{const Q={Completed:0,Pending:0,"No-show":0,Cancelled:0,"Checked-in":0};return A.forEach(z=>{Q[z.status]=(Q[z.status]||0)+1}),[{label:"Completed",value:Q.Completed,color:"#10b981"},{label:"Pending",value:Q.Pending,color:"#f59e0b"},{label:"No-show",value:Q["No-show"],color:"#ef4444"},{label:"Cancelled",value:Q.Cancelled,color:"#9ca3af"},{label:"Checked-in",value:Q["Checked-in"],color:"#3b82f6"}]},[A]),M=Q=>{const z=new Date(Q);return`${z.getFullYear()}-${String(z.getMonth()+1).padStart(2,"0")}-${String(z.getDate()).padStart(2,"0")}`},U=y.useMemo(()=>{const Q=new Map;A.forEach(X=>{const le=M(X.checkIn);Q.set(le,(Q.get(le)||0)+1)});const z=Array.from(Q.entries()).sort((X,le)=>X[0].localeCompare(le[0]));return{labels:z.map(([X])=>X),values:z.map(([,X])=>X)}},[A]),P=y.useMemo(()=>{const Q=new Map;A.forEach(X=>{Q.set(X.handledBy,(Q.get(X.handledBy)||0)+1)});const z=Array.from(Q.entries()).sort((X,le)=>X[0].localeCompare(le[0]));return{labels:z.map(([X])=>X),values:z.map(([,X])=>X)}},[A]),F=()=>{const Q=A.map(le=>({Name:le.name,CheckIn:le.checkIn,CheckOut:le.checkOut||"",DepartmentOrReservation:le.type,Status:le.status,HandledBy:le.handledBy})),z=sa.json_to_sheet(Q),X=sa.book_new();sa.book_append_sheet(X,z,"CheckIns"),qr(X,"check_in_report.xlsx")},K=()=>{window.print()},V=Q=>{if(!Q)return"";const z=new Date(Q),X=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],le=z.getHours(),O=String(z.getMinutes()).padStart(2,"0"),q=le>=12?"PM":"AM",W=le%12||12;return`${String(z.getDate()).padStart(2,"0")}-${X[z.getMonth()]}-${z.getFullYear()}  ${String(W).padStart(2,"0")}:${O} ${q}`},J=({status:Q})=>{const z="px-2 py-1 text-xs rounded-md",X=Q==="Completed"?"bg-emerald-50 text-emerald-600":Q==="Pending"?"bg-yellow-50 text-yellow-600":Q==="No-show"?"bg-red-50 text-red-600":Q==="Cancelled"?"bg-gray-100 text-gray-600":"bg-blue-50 text-blue-600";return s.jsx("span",{className:`${z} ${X}`,children:e(Q)})};return s.jsx(_r,{titleKey:"Check-in Report",children:s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{onClick:K,className:"btn btn-primary",children:e("Download PDF")}),s.jsx("button",{onClick:F,className:"btn btn-secondary",children:e("Download Excel")})]}),s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Staff / Manager")}),s.jsx("input",{value:n,onChange:Q=>i(Q.target.value),className:"input w-full",placeholder:e("e.g. Omar Ali")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Timeframe")}),s.jsxs("select",{value:l,onChange:Q=>o(Q.target.value),className:"input w-full",children:[s.jsx("option",{value:"day",children:e("Day")}),s.jsx("option",{value:"week",children:e("Week")}),s.jsx("option",{value:"month",children:e("Month")})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Reference Date")}),s.jsx("input",{type:"date",lang:a?"ar":"en",dir:a?"rtl":"ltr",placeholder:a?"//":"mm/dd/yyyy",value:c,onChange:Q=>d(Q.target.value),className:"input w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Status")}),s.jsxs("select",{value:u,onChange:Q=>f(Q.target.value),className:"input w-full",children:[s.jsx("option",{value:"all",children:e("All")}),s.jsx("option",{value:"Checked-in",children:e("Checked-in")}),s.jsx("option",{value:"No-show",children:e("No-show")}),s.jsx("option",{value:"Cancelled",children:e("Cancelled")}),s.jsx("option",{value:"Completed",children:e("Completed")}),s.jsx("option",{value:"Pending",children:e("Pending")})]})]})]})}),s.jsx("div",{"aria-hidden":"true",className:"h-6"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("Total Check-ins")}),s.jsx("div",{className:"text-3xl font-bold",children:_})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("No-shows")}),s.jsx("div",{className:"text-3xl font-bold",children:E})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("Completed")}),s.jsx("div",{className:"text-3xl font-bold",children:D})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("Pending / Upcoming")}),s.jsx("div",{className:"text-3xl font-bold",children:R})]})]}),s.jsx("div",{"aria-hidden":"true",className:"h-6"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsxs("div",{className:`flex items-center gap-2 mb-2 ${a?"flex-row-reverse":""}`,children:[s.jsx("div",{className:`${a?"border-r-4":"border-l-4"} border-primary h-full`}),s.jsx("h3",{className:`${a?"text-right":""} text-lg font-semibold`,children:e("Status Distribution")})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx(di,{segments:I,size:180,cutout:70,centerValue:A.length,centerLabel:e("Check-ins")}),s.jsx("div",{className:"space-y-2 text-sm",children:I.map(Q=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-block w-3 h-3 rounded",style:{backgroundColor:Q.color}}),s.jsx("span",{children:e(Q.label)}),s.jsxs("span",{className:"ml-auto text-[var(--muted-text)]",children:[Q.value," (",A.length?Math.round(Q.value/A.length*100):0,"%)"]})]},Q.label))})]})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsxs("div",{className:`flex items-center gap-2 mb-2 ${a?"flex-row-reverse":""}`,children:[s.jsx("div",{className:`${a?"border-r-4":"border-l-4"} border-primary h-full`}),s.jsx("h3",{className:`${a?"text-right":""} text-lg font-semibold`,children:e("Check-ins Trend")})]}),s.jsx(yo,{data:{labels:U.labels,datasets:[{label:e("Check-ins"),data:U.values,borderColor:"#3b82f6",backgroundColor:"rgba(59,130,246,0.2)",tension:.3,fill:!0,pointRadius:3}]},options:{responsive:!0,plugins:{legend:{display:!0}}}})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsxs("div",{className:`flex items-center gap-2 mb-2 ${a?"flex-row-reverse":""}`,children:[s.jsx("div",{className:`${a?"border-r-4":"border-l-4"} border-primary h-full`}),s.jsx("h3",{className:`${a?"text-right":""} text-lg font-semibold`,children:e("Check-ins per Staff")})]}),s.jsx(Vr,{data:{labels:P.labels,datasets:[{label:e("Check-ins"),data:P.values,backgroundColor:"#10b981",borderRadius:6}]},options:{responsive:!0,plugins:{legend:{display:!0}}}})]})]}),s.jsx("div",{"aria-hidden":"true",className:"h-6"}),s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm nova-table nova-table--glass",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left bg-[var(--table-header-bg)]",children:[s.jsx("th",{className:"px-3 py-2",children:e("Name")}),s.jsx("th",{className:"px-3 py-2",children:e("Check-in Date")}),s.jsx("th",{className:"px-3 py-2",children:e("Check-out Date")}),s.jsx("th",{className:"px-3 py-2",children:e("Department / Reservation")}),s.jsx("th",{className:"px-3 py-2",children:e("Status")}),s.jsx("th",{className:"px-3 py-2",children:e("Handled By")})]})}),s.jsxs("tbody",{children:[A.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-3 py-6 text-center text-[var(--muted-text)]",children:e("No data")})}),A.map(Q=>s.jsxs("tr",{className:"border-t border-[var(--table-row-border)] odd:bg-[var(--table-row-bg)] hover:bg-[var(--table-row-hover)] transition-colors",children:[s.jsx("td",{className:"px-3 py-2",children:Q.name}),s.jsx("td",{className:"px-3 py-2",children:V(Q.checkIn)}),s.jsx("td",{className:"px-3 py-2",children:V(Q.checkOut)}),s.jsx("td",{className:"px-3 py-2",children:Q.type}),s.jsx("td",{className:"px-3 py-2",children:s.jsx(J,{status:Q.status})}),s.jsx("td",{className:"px-3 py-2",children:Q.handledBy})]},Q.id))]})]})})}),s.jsx("div",{"aria-hidden":"true",className:"h-6"})]})})}Ls.register(Bn,$n,Xn,Sl,hi,yn,bn);function ize(){const{t:e}=St(),t=[{id:1,name:"Ahmed Hassan",type:"VIP",phone:"01012345678",email:"ahmed.hassan@example.com",joinedDate:"2025-01-12",totalRevenue:12e4,orders:15,lastActivity:"2025-11-08",salesperson:"Sara Kamal",history:[{date:"2025-07",amount:15e3},{date:"2025-08",amount:18e3},{date:"2025-09",amount:25e3},{date:"2025-10",amount:32e3},{date:"2025-11",amount:3e4}]},{id:2,name:"Delta Group",type:"Regular",phone:"01234567890",email:"finance@deltagroup.com",joinedDate:"2024-11-20",totalRevenue:85e3,orders:10,lastActivity:"2025-11-05",salesperson:"Omar Ali",history:[{date:"2025-07",amount:12e3},{date:"2025-08",amount:16e3},{date:"2025-09",amount:18e3},{date:"2025-10",amount:19e3},{date:"2025-11",amount:2e4}]},{id:3,name:"Mona Said",type:"New",phone:"01122334455",email:"mona.said@example.com",joinedDate:"2025-09-02",totalRevenue:25e3,orders:3,lastActivity:"2025-11-09",salesperson:"Ahmed Tarek",history:[{date:"2025-09",amount:8e3},{date:"2025-10",amount:9e3},{date:"2025-11",amount:8e3}]},{id:4,name:"Green Labs",type:"VIP",phone:"01098765432",email:"info@greenlabs.com",joinedDate:"2023-07-15",totalRevenue:16e4,orders:22,lastActivity:"2025-10-28",salesperson:"Sara Kamal",history:[{date:"2025-07",amount:28e3},{date:"2025-08",amount:3e4},{date:"2025-09",amount:32e3},{date:"2025-10",amount:35e3},{date:"2025-11",amount:35e3}]},{id:5,name:"ABC Pharma",type:"Regular",phone:"01000099887",email:"contact@abcpharma.co",joinedDate:"2024-03-21",totalRevenue:72e3,orders:9,lastActivity:"2025-09-30",salesperson:"Mona Adel",history:[{date:"2025-07",amount:12e3},{date:"2025-08",amount:14e3},{date:"2025-09",amount:16e3},{date:"2025-10",amount:15e3},{date:"2025-11",amount:15e3}]},{id:6,name:"Nova Tech",type:"New",phone:"01500055544",email:"hello@novatech.io",joinedDate:"2025-08-05",totalRevenue:18e3,orders:2,lastActivity:"2025-10-12",salesperson:"Omar Ali",history:[{date:"2025-08",amount:8e3},{date:"2025-10",amount:1e4}]},{id:7,name:"Medix Co.",type:"Regular",phone:"01200033322",email:"sales@medix.co",joinedDate:"2024-06-11",totalRevenue:54e3,orders:7,lastActivity:"2025-11-03",salesperson:"Ahmed Tarek",history:[{date:"2025-07",amount:9e3},{date:"2025-08",amount:1e4},{date:"2025-10",amount:17e3},{date:"2025-11",amount:18e3}]},{id:8,name:"Sun Health",type:"VIP",phone:"01100998877",email:"support@sunhealth.com",joinedDate:"2023-12-01",totalRevenue:98e3,orders:12,lastActivity:"2025-08-24",salesperson:"Mona Adel",history:[{date:"2025-07",amount:18e3},{date:"2025-08",amount:2e4},{date:"2025-09",amount:22e3},{date:"2025-10",amount:19e3},{date:"2025-11",amount:19e3}]},{id:9,name:"LifeChem",type:"Regular",phone:"01011122233",email:"info@lifechem.org",joinedDate:"2024-10-01",totalRevenue:31e3,orders:4,lastActivity:"2025-10-28",salesperson:"Ahmed Tarek",history:[{date:"2025-09",amount:9e3},{date:"2025-10",amount:11e3},{date:"2025-11",amount:11e3}]},{id:10,name:"CarePlus",type:"New",phone:"01233445566",email:"care@careplus.org",joinedDate:"2025-10-12",totalRevenue:22e3,orders:3,lastActivity:"2025-11-07",salesperson:"Sara Kamal",history:[{date:"2025-10",amount:1e4},{date:"2025-11",amount:12e3}]}],[a,r]=y.useState("all"),[n,i]=y.useState("activity"),[l,o]=y.useState(""),[c,d]=y.useState(""),[u,f]=y.useState("all"),p=I=>{if(!l&&!c)return!0;const M=new Date(I),U=l?M>=new Date(l):!0,P=c?M<=new Date(c):!0;return U&&P},m=y.useMemo(()=>t.filter(I=>{const M=a==="all"||I.salesperson===a,U=u==="all"||I.type===u;let P=I.lastActivity;if(n==="joined"&&(P=I.joinedDate),n==="last"){const K=I.history?.[I.history.length-1]?.date;P=K?`${K}-01`:I.lastActivity}const F=p(P);return M&&U&&F}),[t,a,u,n,l,c]),v=I=>{const M=new Date(I.lastActivity);return Math.floor((new Date("2025-11-09")-M)/(1e3*60*60*24))<=60},g=m.length,b=m.reduce((I,M)=>I+(M.totalRevenue||0),0),j=m.reduce((I,M)=>I+(v(M)?1:0),0),k=Math.max(0,g-j),S=[...m].sort((I,M)=>(M.totalRevenue||0)-(I.totalRevenue||0)).slice(0,5),N=y.useMemo(()=>{const I=new Map;return m.forEach(M=>{I.set(M.type,(I.get(M.type)||0)+(M.totalRevenue||0))}),I},[m]),A=y.useMemo(()=>({Active:m.filter(v).length,Inactive:m.filter(I=>!v(I)).length}),[m]),_=y.useMemo(()=>{const I=new Set;S.forEach(P=>P.history?.forEach(F=>I.add(F.date)));const M=Array.from(I).sort((P,F)=>P.localeCompare(F)),U=S.map(P=>{const F=new Map(P.history.map(K=>[K.date,K.amount]));return{label:P.name,data:M.map(K=>F.get(K)||0),borderColor:`hsl(${P.id*57%360} 70% 45%)`,backgroundColor:"transparent",tension:.3,pointRadius:2}});return{labels:M,datasets:U}},[S]),E=()=>{const I=m.map(P=>({Name:P.name,Type:P.type,Phone:P.phone,Email:P.email,Joined:P.joinedDate,TotalRevenueEGP:P.totalRevenue,Orders:P.orders,LastActivity:P.lastActivity,Salesperson:P.salesperson,Status:v(P)?"Active":"Inactive"})),M=sa.json_to_sheet(I),U=sa.book_new();sa.book_append_sheet(U,M,"Customers"),qr(U,"customers_report.xlsx")},D=()=>{window.print()},R=I=>s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${I?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300":"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-300"}`,children:e(I?"Active":"Inactive")});return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-end gap-2 mb-4",children:[s.jsx("button",{onClick:D,className:"btn btn-primary",children:e("Download PDF")}),s.jsx("button",{onClick:E,className:"btn btn-secondary",children:e("Download Excel")})]}),s.jsx("div",{className:"glass-panel p-4",children:s.jsx("div",{className:"flex items-center justify-between flex-wrap gap-3",children:s.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Salesperson")}),s.jsxs(ss,{value:a,onChange:I=>r(I),className:"min-w-[160px]",children:[s.jsx("option",{value:"all",children:e("All")}),[...new Set(t.map(I=>I.salesperson))].map(I=>s.jsx("option",{value:I,children:I},I))]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Customer Type")}),s.jsxs(ss,{value:u,onChange:I=>f(I),className:"min-w-[140px]",children:[s.jsx("option",{value:"all",children:e("All")}),[...new Set(t.map(I=>I.type))].map(I=>s.jsx("option",{value:I,children:I},I))]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Date Mode")}),s.jsxs(ss,{value:n,onChange:I=>i(I),className:"min-w-[180px]",children:[s.jsx("option",{value:"activity",children:e("Activity Date")}),s.jsx("option",{value:"joined",children:e("Join Date")}),s.jsx("option",{value:"last",children:e("Last Purchase Date")})]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("From")}),s.jsx("input",{type:"date",value:l,onChange:I=>o(I.target.value),className:"input"})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("To")}),s.jsx("input",{type:"date",value:c,onChange:I=>d(I.target.value),className:"input"})]})]})})}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[[{label:e("Total Customers"),value:g,color:"bg-blue-500"},{label:e("Total Revenue (EGP)"),value:b.toLocaleString(),color:"bg-emerald-500"},{label:e("Active Customers"),value:j,color:"bg-indigo-500"},{label:e("Inactive Customers"),value:k,color:"bg-rose-500"}].map((I,M)=>s.jsxs("div",{className:"glass-panel p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:I.label}),s.jsx("div",{className:"mt-1 text-2xl font-semibold",children:I.value}),s.jsx("div",{className:`mt-2 h-1.5 rounded ${I.color}`})]},M)),s.jsxs("div",{className:"glass-panel p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("Top 5 Customers by Revenue")}),s.jsxs("ul",{className:"mt-2 space-y-1 text-sm",children:[S.map(I=>s.jsxs("li",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"truncate max-w-[60%]",children:I.name}),s.jsxs("span",{className:"font-medium",children:[I.totalRevenue.toLocaleString()," EGP"]})]},I.id)),S.length===0&&s.jsx("li",{className:"text-[var(--muted-text)]",children:e("No data")})]})]})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"glass-panel p-4",children:[s.jsx("div",{className:"text-sm font-medium mb-2",children:e("Revenue by Customer Type")}),s.jsx(Vr,{data:{labels:Array.from(N.keys()),datasets:[{label:e("Revenue (EGP)"),data:Array.from(N.values()),backgroundColor:"rgba(16, 185, 129, 0.6)",borderRadius:6}]},options:{responsive:!0,plugins:{legend:{display:!1}},scales:{y:{ticks:{callback:I=>`${I}`}}}}})]}),s.jsxs("div",{className:"glass-panel p-4",children:[s.jsx("div",{className:"text-sm font-medium mb-2",children:e("Active vs Inactive")}),s.jsx(di,{segments:[{label:e("Active"),value:A.Active,color:"#10b981"},{label:e("Inactive"),value:A.Inactive,color:"#ef4444"}],totalLabel:e("Customers")})]}),s.jsxs("div",{className:"glass-panel p-4",children:[s.jsx("div",{className:"text-sm font-medium mb-2",children:e("Revenue Trend  Top Customers")}),s.jsx(yo,{data:{labels:_.labels,datasets:_.datasets},options:{responsive:!0,plugins:{legend:{position:"bottom"}},scales:{y:{ticks:{callback:I=>`${I}`}}}}})]})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsxs("div",{className:"glass-panel p-4",children:[s.jsx("div",{className:"text-sm font-medium mb-3",children:e("Customers")}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm nova-table nova-table--glass",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left bg-[var(--table-header-bg)]",children:[s.jsx("th",{className:"px-3 py-2",children:e("Customer Name")}),s.jsx("th",{className:"px-3 py-2",children:e("Type")}),s.jsx("th",{className:"px-3 py-2",children:e("Contact")}),s.jsx("th",{className:"px-3 py-2",children:e("Total Revenue")}),s.jsx("th",{className:"px-3 py-2",children:e("Orders")}),s.jsx("th",{className:"px-3 py-2",children:e("Last Activity")}),s.jsx("th",{className:"px-3 py-2",children:e("Status")}),s.jsx("th",{className:"px-3 py-2",children:e("Salesperson")})]})}),s.jsxs("tbody",{children:[m.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:8,className:"px-3 py-6 text-center text-[var(--muted-text)]",children:e("No data")})}),m.map(I=>s.jsxs("tr",{className:"border-t border-[var(--table-row-border)] odd:bg-[var(--table-row-bg)] hover:bg-[var(--table-row-hover)] transition-colors",children:[s.jsx("td",{className:"px-3 py-2",children:I.name}),s.jsx("td",{className:"px-3 py-2",children:I.type}),s.jsx("td",{className:"px-3 py-2",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{children:I.phone}),s.jsx("span",{className:"text-[var(--muted-text)]",children:I.email})]})}),s.jsxs("td",{className:"px-3 py-2",children:[I.totalRevenue.toLocaleString()," EGP"]}),s.jsx("td",{className:"px-3 py-2",children:I.orders}),s.jsx("td",{className:"px-3 py-2",children:new Date(I.lastActivity).toLocaleDateString()}),s.jsx("td",{className:"px-3 py-2",children:R(v(I))}),s.jsx("td",{className:"px-3 py-2",children:I.salesperson})]},I.id))]})]})})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"})]})}Ls.register(Bn,$n,Sl,hi,Xn,Fm,Dx,yn,bn);const _S=e=>new Intl.NumberFormat("en-EG",{style:"currency",currency:"EGP",maximumFractionDigits:0}).format(e),ES=()=>{const{t:e}=St(),t=Gr.dir()==="rtl",a=Uc(),[r,n]=y.useState("All"),[i,l]=y.useState("All"),[o,c]=y.useState("month"),[d,u]=y.useState(""),[f,p]=y.useState(""),[m,v]=y.useState(""),[g,b]=y.useState(""),j=["All","Ahmed Ali","Sara Hassan"],k=["All","Sales","Operations"],[S]=y.useState(()=>{const F=new Date,K=(V,J,Q,z,X,le,O,q,W,te,re,oe,ce)=>({name:V,manager:J,team:Q,calls:z,actions:X,delayed:le,stages:{lead:O,qualified:q,proposal:W,closed:te},revenue:re,targetPct:oe,date:new Date(F.getTime()-ce*24*60*60*1e3)});return[K("Ahmed Ali","Ahmed Ali","Sales",45,30,3,10,12,0,8,82e3,82,2),K("Sara Hassan","Sara Hassan","Sales",58,40,1,14,18,0,8,105e3,105,1),K("Omar Tarek","Ahmed Ali","Operations",32,20,2,8,7,0,5,65e3,65,6),K("Lina Ops","Sara Hassan","Operations",50,35,4,15,12,3,5,73e3,88,10),K("Maram Admin","Ahmed Ali","Sales",62,43,2,20,15,5,3,98e3,91,15)]}),N=F=>{if(o==="day"&&d){const K=new Date(d);return F.toDateString()===K.toDateString()}if(o==="week"&&d){const K=new Date(d),V=new Date(K);V.setDate(K.getDate()-K.getDay());const J=new Date(V);return J.setDate(V.getDate()+6),F>=V&&F<=J}if(o==="month"&&d){const K=new Date(d);return F.getFullYear()===K.getFullYear()&&F.getMonth()===K.getMonth()}if(o==="range"&&f&&m){const K=new Date(f),V=new Date(m);return F>=K&&F<=V}return!0},A=y.useMemo(()=>S.filter(F=>(r==="All"||F.manager===r)&&(i==="All"||F.team===i)&&N(F.date)&&(!g||F.name.toLowerCase().includes(g.toLowerCase()))),[S,r,i,o,d,f,m,g]);y.useEffect(()=>{try{const F=new URLSearchParams(a.search||""),K=F.get("team"),V=F.get("manager");K&&l(K),V&&n(V)}catch{}},[a.search]);const _=y.useMemo(()=>{const F=A.reduce((z,X)=>z+X.calls,0),K=A.reduce((z,X)=>z+X.actions,0),V=A.reduce((z,X)=>z+X.revenue,0),J=A.length?Math.round(A.reduce((z,X)=>z+X.targetPct,0)/A.length):0,Q=A.slice().sort((z,X)=>X.targetPct-z.targetPct)[0]||null;return{totalCalls:F,totalActions:K,totalRevenue:V,avgTarget:J,top:Q}},[A]),E=y.useMemo(()=>({labels:A.map(K=>K.name),datasets:[{label:t?"":"Calls",data:A.map(K=>K.calls),backgroundColor:"#4f46e5"},{label:t?"":"Actions",data:A.map(K=>K.actions),backgroundColor:"#10b981"}]}),[A,t]),D=y.useMemo(()=>{const F=A.reduce((Q,z)=>Q+(z.stages.lead||0),0),K=A.reduce((Q,z)=>Q+(z.stages.qualified||0),0),V=A.reduce((Q,z)=>Q+(z.stages.proposal||0),0),J=A.reduce((Q,z)=>Q+(z.stages.closed||0),0);return{labels:[t?"":"Lead",t?"":"Qualified",t?"":"Proposal",t?"":"Closed"],datasets:[{data:[F,K,V,J],backgroundColor:["#60a5fa","#f59e0b","#a78bfa","#10b981"]}]}},[A,t]),R=y.useMemo(()=>{const F=new Map;A.forEach(J=>{const Q=new Date(J.date.getFullYear(),J.date.getMonth(),J.date.getDate()).toLocaleDateString();F.set(Q,(F.get(Q)||0)+J.targetPct)});const K=Array.from(F.keys()).sort((J,Q)=>new Date(J)-new Date(Q)),V=K.map(J=>Math.round((F.get(J)||0)/A.length));return{labels:K,data:V}},[A]),I=({pct:F})=>{const K=F>=90?"text-emerald-700 bg-emerald-100 ring-emerald-200":F>=60?"text-amber-700 bg-amber-100 ring-amber-200":"text-rose-700 bg-rose-100 ring-rose-200";return s.jsxs("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ring-1 ${K}`,children:[F,"%"]})},M=({value:F,max:K=100})=>{const V=Math.min(100,Math.round(F/K*100)),J=F>=90?"bg-emerald-600":F>=60?"bg-amber-600":"bg-rose-600";return s.jsx("div",{className:"w-full h-2.5 rounded-full bg-gray-200 dark:bg-gray-800",children:s.jsx("div",{className:`h-2.5 rounded-full ${J}`,style:{width:`${V}%`}})})},U=()=>{const F=A.map(J=>({"Employee Name":J.name,Manager:J.manager,Team:J.team,Calls:J.calls,Actions:J.actions,Delayed:J.delayed,Lead:J.stages.lead,Qualified:J.stages.qualified,Proposal:J.stages.proposal,Closed:J.stages.closed,Revenue:J.revenue,"Target %":J.targetPct,Date:J.date.toLocaleDateString()})),K=sa.json_to_sheet(F),V=sa.book_new();sa.book_append_sheet(V,K,"Team Performance"),qr(V,"team_performance_report.xlsx")},P=()=>{const F=new ga("l","pt","a4");F.setFontSize(14),F.text(t?"  ":"Team Performance Report",40,40);const K=[[t?"":"Employee",t?"":"Manager",t?"":"Team",t?"":"Calls",t?"":"Actions",t?"":"Delayed",t?"":"Lead",t?"":"Qualified",t?"":"Proposal",t?"":"Closed",t?"":"Revenue",t?" ":"Target %",t?"":"Date"]],V=A.map(J=>[J.name,J.manager,J.team,J.calls,J.actions,J.delayed,J.stages.lead,J.stages.qualified,J.stages.proposal,J.stages.closed,_S(J.revenue),`${J.targetPct}%`,J.date.toLocaleDateString()]);F.autoTable({head:K,body:V,startY:60}),F.save("team_performance_report.pdf")};return s.jsx(_r,{children:s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:t?"  ":"Team Performance Report"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-glass",onClick:P,children:t?" PDF":"Download PDF"}),s.jsx("button",{className:"btn btn-glass",onClick:U,children:t?" Excel":"Download Excel"})]})]})}),s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Manager"}),s.jsx(ss,{value:r,onChange:F=>n(F),children:j.map(F=>s.jsx("option",{value:F,children:F},F))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?" / ":"Team / Department"}),s.jsx(ss,{value:i,onChange:F=>l(F),children:k.map(F=>s.jsx("option",{value:F,children:F},F))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Search"}),s.jsx("input",{className:"input w-full",placeholder:t?" ":"Employee name",value:g,onChange:F=>b(F.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?" ":"Period Mode"}),s.jsxs(ss,{value:o,onChange:F=>{c(F),u(""),p(""),v("")},children:[s.jsx("option",{value:"day",children:t?"":"Day"}),s.jsx("option",{value:"week",children:t?"":"Week"}),s.jsx("option",{value:"month",children:t?"":"Month"}),s.jsx("option",{value:"range",children:t?" ":"Custom Range"})]})]}),o!=="range"&&s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Date"}),s.jsx("input",{type:"date",className:"input w-full",value:d,onChange:F=>u(F.target.value)})]}),o==="range"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Start"}),s.jsx("input",{type:"date",className:"input w-full",value:f,onChange:F=>p(F.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"End"}),s.jsx("input",{type:"date",className:"input w-full",value:m,onChange:F=>v(F.target.value)})]})]})]})}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3",children:[s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-gray-500",children:t?" ":"Total Calls"}),s.jsx("div",{className:"text-2xl font-semibold",children:_.totalCalls})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-gray-500",children:t?" ":"Total Actions Completed"}),s.jsx("div",{className:"text-2xl font-semibold",children:_.totalActions})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-gray-500",children:t?" ":"Total Revenue Achieved"}),s.jsx("div",{className:"text-2xl font-semibold text-indigo-600",children:_S(_.totalRevenue)})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-gray-500",children:t?"   ":"Avg Target Achievement %"}),s.jsx("div",{className:"text-2xl font-semibold",children:s.jsx(I,{pct:_.avgTarget})})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-gray-500",children:t?" ":"Top Performer of the Period"}),s.jsx("div",{className:"text-base font-semibold",children:_.top?_.top.name:t?" ":"N/A"})]})]}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"font-semibold mb-2",children:t?"   ":"Calls & Actions per Employee"}),s.jsx(Vr,{data:E,options:{responsive:!0,plugins:{legend:{position:"bottom"}}}})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"font-semibold mb-2",children:t?"   ":"Actions Distribution by Stage"}),s.jsx(Gj,{data:D,options:{responsive:!0}})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"font-semibold mb-2",children:t?"   ":"Team Performance Trend Over Time"}),s.jsx(yo,{data:{labels:R.labels,datasets:[{label:t?" ":"Target %",data:R.data,borderColor:"#4f46e5",backgroundColor:"#4f46e5"}]},options:{responsive:!0,plugins:{legend:{display:!1}}}})]})]}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsx("div",{className:"glass-panel rounded-xl p-0",children:s.jsxs("table",{className:"nova-table nova-table--glass w-full",children:[s.jsx("thead",{className:"nova-thead bg-gray-50 dark:bg-gray-800/50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"nova-th",children:t?"":"Employee Name"}),s.jsx("th",{className:"nova-th",children:t?"":"Calls"}),s.jsx("th",{className:"nova-th",children:t?"":"Actions"}),s.jsx("th",{className:"nova-th",children:t?"":"Delayed"}),s.jsx("th",{className:"nova-th",children:t?" ":"Actions by Stage"}),s.jsx("th",{className:"nova-th",children:t?"":"Revenue"}),s.jsx("th",{className:"nova-th",children:t?"  ":"Target %"})]})}),s.jsxs("tbody",{className:"nova-tbody",children:[A.map((F,K)=>s.jsxs("tr",{className:"nova-tr",children:[s.jsxs("td",{className:"nova-td text-sm",children:[s.jsx("div",{className:"font-medium",children:F.name}),s.jsxs("div",{className:"text-xs text-gray-500",children:[F.team,"  ",F.manager]})]}),s.jsx("td",{className:"nova-td text-sm",children:F.calls}),s.jsx("td",{className:"nova-td text-sm",children:F.actions}),s.jsx("td",{className:"nova-td text-sm",children:F.delayed}),s.jsx("td",{className:"nova-td text-xs",children:s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-blue-50 text-blue-700 ring-1 ring-blue-200",children:[t?"":"Lead",": ",F.stages.lead]}),s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-amber-50 text-amber-700 ring-1 ring-amber-200",children:[t?"":"Qualified",": ",F.stages.qualified]}),s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-violet-50 text-violet-700 ring-1 ring-violet-200",children:[t?"":"Proposal",": ",F.stages.proposal]}),s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-emerald-50 text-emerald-700 ring-1 ring-emerald-200",children:[t?"":"Closed",": ",F.stages.closed]})]})}),s.jsxs("td",{className:"nova-td text-sm",children:[_S(F.revenue),s.jsx("div",{className:"mt-1",children:s.jsx(M,{value:F.targetPct})})]}),s.jsx("td",{className:"nova-td",children:s.jsx(I,{pct:F.targetPct})})]},K)),A.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"nova-td text-center text-sm text-gray-500",colSpan:7,children:t?"  ":"No results"})})]})]})}),s.jsx("div",{className:"h-4","aria-hidden":"true"})]})})};Ls.register(Bn,$n,Sl,hi,Xn,Fm,Dx,yn,bn);const TS=e=>new Intl.NumberFormat("en-EG",{style:"currency",currency:"EGP",maximumFractionDigits:0}).format(e),DS=()=>{const{t:e}=St(),t=Gr.dir()==="rtl",[a,r]=y.useState("month"),[n,i]=y.useState(""),[l,o]=y.useState(""),[c,d]=y.useState(""),[u,f]=y.useState("All"),[p,m]=y.useState("All"),[v,g]=y.useState("All"),[b,j]=y.useState(""),k=["All","Sales","Operations","Marketing","Inventory"],S=["All","Ahmed Ali","Sara Hassan"],[N]=y.useState(()=>[{key:"campaign_summary",name:"Campaign Summary Overview",route:"/marketing/reports/campaign-summary",revenue:21e4,leads:320,actions:0,importsSuccess:0,exportsSuccess:0,dept:"Marketing",manager:"Sara Hassan",status:"Active"},{key:"cost_vs_revenue",name:"Cost vs Revenue",route:"/marketing/reports/cost-vs-revenue",revenue:42e4,leads:0,actions:0,importsSuccess:0,exportsSuccess:0,dept:"Marketing",manager:"Sara Hassan",status:"Active"},{key:"monthly_marketing",name:"Monthly Marketing Overview",route:"/marketing/reports/monthly-overview",revenue:18e4,leads:240,actions:0,importsSuccess:0,exportsSuccess:0,dept:"Marketing",manager:"Sara Hassan",status:"Active"},{key:"sales_activities",name:"Sales Activities Report",route:"/reports/sales/activities",revenue:31e4,leads:0,actions:1250,importsSuccess:0,exportsSuccess:0,dept:"Sales",manager:"Ahmed Ali",status:"Active"},{key:"pipeline",name:"Leads Pipeline Report",route:"/reports/sales/pipeline",revenue:53e4,leads:540,actions:0,importsSuccess:0,exportsSuccess:0,dept:"Sales",manager:"Ahmed Ali",status:"Active"},{key:"closed_deals",name:"Closed Deals Report",route:"/reports/sales/closed-deals",revenue:26e4,leads:0,actions:0,importsSuccess:0,exportsSuccess:0,dept:"Sales",manager:"Ahmed Ali",status:"Active"},{key:"reservations",name:"Reservations Report",route:"/reports/sales/reservations",revenue:145e3,leads:0,actions:0,importsSuccess:0,exportsSuccess:0,dept:"Sales",manager:"Ahmed Ali",status:"Active"},{key:"customers",name:"Customers Report",route:"/reports/sales/customers",revenue:195e3,leads:0,actions:0,importsSuccess:0,exportsSuccess:0,dept:"Sales",manager:"Ahmed Ali",status:"Active"},{key:"imports",name:"Imports Report",route:"/reports/sales/imports",revenue:0,leads:0,actions:0,importsSuccess:38,exportsSuccess:0,dept:"Operations",manager:"Sara Hassan",status:"Success"},{key:"exports",name:"Exports Report",route:"/reports/sales/exports",revenue:0,leads:0,actions:0,importsSuccess:0,exportsSuccess:41,dept:"Operations",manager:"Sara Hassan",status:"Success"},{key:"rent",name:"Rent Report",route:"/reports/sales/rent",revenue:87e3,leads:0,actions:0,importsSuccess:0,exportsSuccess:0,dept:"Operations",manager:"Sara Hassan",status:"Active"},{key:"check_in",name:"Check-in Report",route:"/reports/sales/check-in",revenue:0,leads:0,actions:0,importsSuccess:0,exportsSuccess:0,dept:"Operations",manager:"Sara Hassan",status:"Checked-in"},{key:"team_performance",name:"Team Performance Report",route:"/reports/team",revenue:0,leads:0,actions:0,importsSuccess:0,exportsSuccess:0,dept:"Sales",manager:"Ahmed Ali",status:"Active"}]),A=y.useMemo(()=>N.filter(P=>(u==="All"||P.dept===u)&&(p==="All"||P.manager===p)&&(v==="All"||P.status===v)&&(!b||P.name.toLowerCase().includes(b.toLowerCase()))),[N,u,p,v,b]),_=y.useMemo(()=>{const P=A.reduce((Q,z)=>Q+(z.revenue||0),0),F=A.reduce((Q,z)=>Q+(z.leads||0),0),K=A.reduce((Q,z)=>Q+(z.actions||0),0),V=A.reduce((Q,z)=>Q+(z.importsSuccess||0),0),J=A.reduce((Q,z)=>Q+(z.exportsSuccess||0),0);return{totalRevenue:P,totalLeads:F,totalActions:K,successfulImports:V,successfulExports:J}},[A]),E=y.useMemo(()=>({labels:A.map(P=>P.name),datasets:[{label:t?"":"Actions",data:A.map(P=>P.actions||0),backgroundColor:"#4f46e5"},{label:t?" ":"Leads",data:A.map(P=>P.leads||0),backgroundColor:"#10b981"}]}),[A,t]),D=y.useMemo(()=>({labels:[t?" ":"Successful Imports",t?" ":"Successful Exports"],datasets:[{data:[_.successfulImports,_.successfulExports],backgroundColor:["#60a5fa","#f59e0b"]}]}),[_,t]),R=y.useMemo(()=>({labels:A.map(P=>P.name),datasets:[{label:t?"":"Revenue",data:A.map(P=>P.revenue||0),borderColor:"#4f46e5",backgroundColor:"#4f46e5"}]}),[A,t]),I=({status:P})=>{const K={Success:"bg-emerald-100 text-emerald-700 ring-emerald-200",Active:"bg-blue-100 text-blue-700 ring-blue-200",Expired:"bg-amber-100 text-amber-700 ring-amber-200","Checked-in":"bg-indigo-100 text-indigo-700 ring-indigo-200","No-show":"bg-rose-100 text-rose-700 ring-rose-200",Failed:"bg-rose-100 text-rose-700 ring-rose-200"}[P]||"bg-gray-100 text-gray-700 ring-gray-200";return s.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ring-1 ${K}`,children:P})},M=()=>{const P=A.map(V=>({Module:V.name,Department:V.dept,Manager:V.manager,Revenue:V.revenue,Leads:V.leads,Actions:V.actions,"Successful Imports":V.importsSuccess,"Successful Exports":V.exportsSuccess,Status:V.status,Route:V.route})),F=sa.json_to_sheet(P),K=sa.book_new();sa.book_append_sheet(K,F,"Reports Dashboard"),qr(K,"reports_dashboard.xlsx")},U=()=>{const P=new ga("l","pt","a4");P.setFontSize(14),P.text(t?" ":"Reports Dashboard",40,40);const F=[[t?"":"Module",t?"":"Department",t?"":"Manager",t?"":"Revenue",t?" ":"Leads",t?"":"Actions",t?" ":"Successful Imports",t?" ":"Successful Exports",t?"":"Status"]],K=A.map(V=>[V.name,V.dept,V.manager,TS(V.revenue||0),V.leads||0,V.actions||0,V.importsSuccess||0,V.exportsSuccess||0,V.status]);P.autoTable({head:F,body:K,startY:60}),P.save("reports_dashboard.pdf")};return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:t?" ":"Reports Dashboard"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-glass",onClick:U,children:t?" PDF":"Download PDF"}),s.jsx("button",{className:"btn btn-glass",onClick:M,children:t?" Excel":"Download Excel"})]})]})}),s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?" ":"Period Mode"}),s.jsxs(ss,{value:a,onChange:P=>{r(P),i(""),o(""),d("")},children:[s.jsx("option",{value:"day",children:t?"":"Day"}),s.jsx("option",{value:"week",children:t?"":"Week"}),s.jsx("option",{value:"month",children:t?"":"Month"}),s.jsx("option",{value:"range",children:t?" ":"Custom Range"})]})]}),a!=="range"&&s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Date"}),s.jsx("input",{type:"date",className:"input w-full",value:n,onChange:P=>i(P.target.value)})]}),a==="range"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Start"}),s.jsx("input",{type:"date",className:"input w-full",value:l,onChange:P=>o(P.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"End"}),s.jsx("input",{type:"date",className:"input w-full",value:c,onChange:P=>d(P.target.value)})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?" / ":"Department / Team"}),s.jsx(ss,{value:u,onChange:P=>f(P),children:k.map(P=>s.jsx("option",{value:P,children:P},P))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Manager"}),s.jsx(ss,{value:p,onChange:P=>m(P),children:S.map(P=>s.jsx("option",{value:P,children:P},P))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Status"}),s.jsx(ss,{value:v,onChange:P=>g(P),children:["All","Active","Success","Failed","Expired","Checked-in","No-show"].map(P=>s.jsx("option",{value:P,children:P},P))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Search"}),s.jsx("input",{className:"input w-full",placeholder:t?" ":"Report name",value:b,onChange:P=>j(P.target.value)})]})]})}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3",children:[s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-gray-500",children:t?" ":"Total Revenue"}),s.jsx("div",{className:"text-2xl font-semibold text-indigo-600",children:TS(_.totalRevenue)})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-gray-500",children:t?"  ":"Total Leads"}),s.jsx("div",{className:"text-2xl font-semibold",children:_.totalLeads})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-gray-500",children:t?" ":"Total Actions"}),s.jsx("div",{className:"text-2xl font-semibold",children:_.totalActions})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-gray-500",children:t?" ":"Successful Imports"}),s.jsx("div",{className:"text-2xl font-semibold text-emerald-600",children:_.successfulImports})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-gray-500",children:t?" ":"Successful Exports"}),s.jsx("div",{className:"text-2xl font-semibold text-amber-600",children:_.successfulExports})]})]}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsxs("div",{className:`flex items-center gap-2 mb-2 ${t?"flex-row-reverse":""}`,children:[s.jsx("div",{className:`${t?"border-r-4":"border-l-4"} border-primary h-full`}),s.jsx("div",{className:`${t?"text-right":""} font-semibold`,children:t?"   ":"Actions & Leads Across Reports"})]}),s.jsx(Vr,{data:E,options:{responsive:!0,plugins:{legend:{position:"bottom"}}}})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsxs("div",{className:`flex items-center gap-2 mb-2 ${t?"flex-row-reverse":""}`,children:[s.jsx("div",{className:`${t?"border-r-4":"border-l-4"} border-primary h-full`}),s.jsx("div",{className:`${t?"text-right":""} font-semibold`,children:t?"/ ":"Successful Imports/Exports"})]}),s.jsx(Gj,{data:D,options:{responsive:!0}})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsxs("div",{className:`flex items-center gap-2 mb-2 ${t?"flex-row-reverse":""}`,children:[s.jsx("div",{className:`${t?"border-r-4":"border-l-4"} border-primary h-full`}),s.jsx("div",{className:`${t?"text-right":""} font-semibold`,children:t?"   ":"Revenue Trend by Report"})]}),s.jsx(yo,{data:R,options:{responsive:!0,plugins:{legend:{display:!1}}}})]})]}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:A.map(P=>s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-semibold",children:P.name}),s.jsxs("div",{className:"text-xs text-gray-500",children:[P.dept,"  ",P.manager]})]}),s.jsx(I,{status:P.status})]}),s.jsxs("div",{className:"mt-3 grid grid-cols-3 gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500",children:t?"":"Revenue"}),s.jsx("div",{className:"text-sm font-semibold",children:TS(P.revenue||0)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500",children:t?" ":"Leads"}),s.jsx("div",{className:"text-sm font-semibold",children:P.leads||0})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500",children:t?"":"Actions"}),s.jsx("div",{className:"text-sm font-semibold",children:P.actions||0})]})]}),s.jsx("div",{className:"mt-4",children:s.jsx(Cs,{to:P.route,className:"btn btn-primary",children:t?" ":"Open Report"})})]},P.key))})]})})};function lze(){return s.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-md rounded-lg border border-gray-300 dark:border-gray-700 p-6 space-y-3",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Subscription Expired"}),s.jsx("p",{children:"Your subscription has expired. Please renew to continue."})]})})}function oze(){return s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-2xl font-semibold mb-2",children:"Upgrade Plan"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Your current plan limits access to this feature. Please upgrade to unlock advanced modules and settings."}),s.jsxs("div",{className:"mt-4 flex gap-3",children:[s.jsx("a",{href:"#",className:"px-4 py-2 rounded-md bg-indigo-600 text-white text-sm",children:"View Plans"}),s.jsx("a",{href:"#",className:"px-4 py-2 rounded-md border border-gray-300 dark:border-gray-700 text-sm",children:"Contact Sales"})]})]})}function cze(){const e=In(),t=[{key:"clients",title:"Client Management",desc:"Track clients and communication history with ease."},{key:"leads",title:"Leads Management",desc:"Manage lead stages smartly with quick filtering."},{key:"marketing",title:"Marketing & Campaigns",desc:"Launch campaigns and track landing results."},{key:"reports",title:"Reports & Analytics",desc:"Visualize performance with smart dashboards."},{key:"inventory",title:"Inventory",desc:"Manage products, stock, and transactions efficiently."},{key:"projects",title:"Projects",desc:"Track projects, timelines, and milestones with ease."},{key:"settings",title:"Settings",desc:"Configure modules, roles, and subscription details."},{key:"requests",title:"Requests",desc:"Manage requests and follow-ups efficiently."}],a=n=>{const i="w-12 h-12";switch(n){case"clients":return s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:`${i} text-teal-500`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[s.jsx("circle",{cx:"12",cy:"12",r:"6",strokeWidth:"2"}),s.jsx("path",{d:"M6 20c2-3 10-3 12 0",strokeWidth:"2"})]});case"leads":return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`${i} text-orange-500`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:s.jsx("path",{d:"M5 13l4 4L19 7",strokeWidth:"2"})});case"marketing":return s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:`${i} text-purple-500`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[s.jsx("path",{d:"M3 8l9 6 9-6",strokeWidth:"2"}),s.jsx("path",{d:"M5 19h14",strokeWidth:"2"})]});case"reports":return s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:`${i} text-blue-500`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[s.jsx("rect",{x:"6",y:"12",width:"3",height:"8"}),s.jsx("rect",{x:"11",y:"9",width:"3",height:"11"}),s.jsx("rect",{x:"16",y:"6",width:"3",height:"14"})]});case"inventory":return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`${i} text-yellow-500`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:s.jsx("rect",{x:"3",y:"7",width:"18",height:"14",rx:"2"})});case"projects":return s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:`${i} text-gray-500`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[s.jsx("rect",{x:"4",y:"7",width:"16",height:"12"}),s.jsx("path",{d:"M4 7l4-3h8l4 3"})]});case"settings":return s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:`${i} text-indigo-500`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[s.jsx("circle",{cx:"12",cy:"12",r:"3"}),s.jsx("path",{d:"M19 12a7 7 0 01-.3 2l2 1-2 3-2-1a7 7 0 01-2 1l-.3 2H9l-.3-2a7 7 0 01-2-1l-2 1-2-3 2-1A7 7 0 015 12a7 7 0 01.3-2L3 9l2-3 2 1a7 7 0 012-1L9 4h6l.3 2a7 7 0 012 1l2-1 2 3-2 1c.3.6.4 1.3.4 2z"})]});case"requests":return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`${i} text-teal-600`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:s.jsx("path",{d:"M5 13l4 4L19 7",strokeWidth:"2"})});default:return null}},r={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.08}}};return s.jsxs("div",{className:"relative min-h-screen flex flex-col pb-20 sm:pb-24 bg-gradient-to-br from-cyan-200 via-sky-300 to-indigo-200 dark:from-gray-900 dark:via-indigo-900 dark:to-purple-900",children:[s.jsx(uh.header,{className:"w-full bg-white/20 dark:bg-gray-800/25 backdrop-blur-md border-b border-white/30 dark:border-gray-600 shadow",initial:{opacity:0,y:-12},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},children:s.jsxs("div",{className:"flex justify-between items-center w-full max-w-6xl mx-auto px-4 sm:px-6 py-2 sm:py-3",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("img",{src:Zf,alt:"Be Souhola",className:"w-16 h-16 sm:w-20 sm:h-20 drop-shadow-lg"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs sm:text-sm text-white/90 drop-shadow-md",children:"Make everything ....."}),s.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold bg-gradient-to-r from-white via-sky-100 to-cyan-200 text-transparent bg-clip-text drop-shadow-lg",children:"Be Souhola"})]})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("nav",{className:"hidden sm:flex items-center gap-4 text-white/90",children:[s.jsx(Wt,{to:"/",className:({isActive:n})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${n?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Home"}),s.jsx(Wt,{to:"/about",className:({isActive:n})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${n?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"About"}),s.jsx(Wt,{to:"/welcome/contact",className:({isActive:n})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${n?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Contact"}),s.jsx(Wt,{to:"/pricing",className:({isActive:n})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${n?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Pricing"})]}),s.jsx("button",{onClick:()=>e("/login"),className:"px-8 py-3 rounded-full bg-white/25 backdrop-blur-md text-white font-semibold shadow-lg transition-all duration-200 hover:bg-white/40 hover:scale-105 hover:shadow-2xl hover:ring-2 hover:ring-white/40",children:"LOGIN "})]})]})}),s.jsx(uh.div,{variants:r,initial:"hidden",animate:"show",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 mt-12 sm:mt-16 w-full max-w-6xl mx-auto px-6 sm:px-10",children:t.map((n,i)=>s.jsxs(uh.div,{whileHover:{scale:1.05,y:-5},className:"bg-white/30 dark:bg-gray-800/30 backdrop-blur-md rounded-3xl p-6 flex flex-col gap-4 cursor-pointer transition-all border border-white/40 dark:border-gray-600 shadow-md",children:[a(n.key),s.jsx("h3",{className:"text-lg font-semibold text-white drop-shadow-md",children:n.title}),s.jsx("p",{className:"text-sm text-white/80",children:n.desc})]},i))}),s.jsx("footer",{className:"fixed bottom-0 left-0 w-full border-t border-gray-200/60 dark:border-gray-700/60 bg-white/70 dark:bg-gray-900/40 backdrop-blur-md",children:s.jsxs("div",{className:"mx-auto max-w-7xl px-6 sm:px-10 py-2 sm:py-3 flex items-center justify-between text-xs sm:text-sm",children:[s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:" 2024 Be Souhola"}),s.jsxs("nav",{className:"flex items-center gap-4",children:[s.jsx(Cs,{to:"/privacy",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Privacy"}),s.jsx(Cs,{to:"/terms",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Terms"}),s.jsx(Cs,{to:"/welcome/contact",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Contact"})]})]})})]})}function dze(){const e=In(),t=[{name:"Basic",price:"$19/mo",duration:"Monthly",features:["Up to 3 users","Email support","Basic reports"]},{name:"Pro",price:"$49/mo",duration:"Monthly",features:["Up to 10 users","Priority support","Advanced analytics"]},{name:"Enterprise",price:"Custom",duration:"Annual",features:["Unlimited users","Dedicated manager","Custom integrations"]}];return s.jsxs("div",{className:"relative min-h-screen flex flex-col pb-20 sm:pb-24 bg-gradient-to-br from-cyan-200 via-sky-300 to-indigo-200 dark:from-gray-900 dark:via-indigo-900 dark:to-purple-900",children:[s.jsx(uh.header,{className:"w-full bg-white/20 dark:bg-gray-800/25 backdrop-blur-md border-b border-white/30 dark:border-gray-600 shadow",initial:{opacity:0,y:-12},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},children:s.jsxs("div",{className:"flex justify-between items-center w-full max-w-6xl mx-auto px-4 sm:px-6 py-2 sm:py-3",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("img",{src:Zf,alt:"Be Souhola",className:"w-16 h-16 sm:w-20 sm:h-20 drop-shadow-lg"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs sm:text-sm text-white/90 drop-shadow-md",children:"Make everything ....."}),s.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold bg-gradient-to-r from-white via-sky-100 to-cyan-200 text-transparent bg-clip-text drop-shadow-lg",children:"Be Souhola"})]})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("nav",{className:"hidden sm:flex items-center gap-4 text-white/90",children:[s.jsx(Wt,{to:"/",className:({isActive:a})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${a?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Home"}),s.jsx(Wt,{to:"/about",className:({isActive:a})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${a?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"About"}),s.jsx(Wt,{to:"/welcome/contact",className:({isActive:a})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${a?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Contact"}),s.jsx(Wt,{to:"/pricing",className:({isActive:a})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${a?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Pricing"})]}),s.jsx("button",{onClick:()=>e("/login"),className:"px-8 py-3 rounded-full bg-white/25 backdrop-blur-md text-white font-semibold shadow-lg transition-all duration-200 hover:bg-white/40 hover:scale-105 hover:shadow-2xl hover:ring-2 hover:ring-white/40",children:"LOGIN "})]})]})}),s.jsx("main",{className:"flex-1 w-full",children:s.jsxs("div",{className:"mx-auto max-w-6xl px-6 sm:px-10 mt-8 sm:mt-12",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white/90 mb-6 text-center",children:"Plans & Pricing"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:t.map((a,r)=>s.jsxs("div",{className:"bg-white/30 dark:bg-gray-800/30 backdrop-blur-md rounded-3xl p-6 border border-white/40 dark:border-gray-700 shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"text-lg font-semibold text-white",children:a.name}),s.jsx("span",{children:""})]}),s.jsx("div",{className:"text-2xl font-bold mb-1 text-white/90",children:a.price}),s.jsx("div",{className:"text-sm text-white/80 mb-3",children:a.duration}),s.jsx("ul",{className:"text-sm text-white/90 space-y-1 mb-4",children:a.features.map((n,i)=>s.jsxs("li",{children:[" ",n]},i))}),s.jsx(Cs,{to:"/upgrade",className:"inline-block px-4 py-2 rounded-lg bg-blue-600 text-white shadow hover:bg-blue-700",children:"Upgrade Plan"})]},r))})]})}),s.jsx("footer",{className:"fixed bottom-0 left-0 w-full border-t border-gray-200/60 dark:border-gray-700/60 bg-white/70 dark:bg-gray-900/40 backdrop-blur-md",children:s.jsxs("div",{className:"mx-auto max-w-7xl px-6 sm:px-10 py-2 sm:py-3 flex items-center justify-between text-xs sm:text-sm",children:[s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:" 2024 Be Souhola"}),s.jsxs("nav",{className:"flex items-center gap-4",children:[s.jsx(Cs,{to:"/privacy",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Privacy"}),s.jsx(Cs,{to:"/terms",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Terms"}),s.jsx(Cs,{to:"/welcome/contact",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Contact"})]})]})})]})}function rZ({onEdit:e,onChangePassword:t,onToggleActive:a,onDelete:r,onEnable:n,onRefresh:i,onAssignRotation:l,onDelayRotation:o}){return s.jsxs("div",{className:"action-toolbar",children:[s.jsx("button",{className:"btn-icon",title:"Edit",onClick:e,children:s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M12 20h9"}),s.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"})]})}),s.jsx("button",{className:"btn-icon",title:"Change Password",onClick:t,children:s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("rect",{x:"3",y:"11",width:"18",height:"10",rx:"2"}),s.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}),s.jsx("path",{d:"M12 16v3"}),s.jsx("path",{d:"M10 16h4"})]})}),s.jsx("button",{className:"btn-icon",title:"Toggle Active",onClick:a,children:s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("rect",{x:"3",y:"7",width:"18",height:"10",rx:"5"}),s.jsx("circle",{cx:"9",cy:"12",r:"3"})]})}),s.jsx("button",{className:"btn-icon",title:"Delete",onClick:r,children:s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("polyline",{points:"3 6 5 6 21 6"}),s.jsx("path",{d:"M19 6l-1 14a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2L5 6"}),s.jsx("path",{d:"M10 11v6"}),s.jsx("path",{d:"M14 11v6"}),s.jsx("path",{d:"M9 6V4a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2"})]})}),n&&s.jsx("button",{className:"btn-icon",title:"Enable",onClick:n,children:s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"12",r:"9"}),s.jsx("path",{d:"M9 12l2 2 4-4"})]})}),i&&s.jsx("button",{className:"btn-icon",title:"Refresh",onClick:i,children:s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("polyline",{points:"23 4 23 10 17 10"}),s.jsx("polyline",{points:"1 20 1 14 7 14"}),s.jsx("path",{d:"M3.51 9a10 10 0 0 1 14.88-3.36L23 10"}),s.jsx("path",{d:"M1 14l4.62 4.62A10 10 0 0 0 20.49 15"})]})}),l&&s.jsx("button",{className:"btn-icon",title:"Assign Rotation",onClick:l,children:s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M12 2v5"}),s.jsx("path",{d:"M12 17v5"}),s.jsx("path",{d:"M2 12h5"}),s.jsx("path",{d:"M17 12h5"}),s.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),o&&s.jsx("button",{className:"btn-icon",title:"Delay Rotation",onClick:o,children:s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 3v5h5"}),s.jsx("path",{d:"M21 21v-5h-5"}),s.jsx("path",{d:"M5 13a7 7 0 0 0 12 3"}),s.jsx("path",{d:"M19 11a7 7 0 0 0-12-3"})]})})]})}function uze({open:e,onClose:t,onSubmit:a,context:r="task",teams:n=[],users:i=[],leads:l=[],defaultAssignType:o="team",defaultTargetId:c}){const{i18n:d}=St(),[u,f]=y.useState(o),[p,m]=y.useState(o==="team"?c||n[0]?.id:""),[v,g]=y.useState(o==="user"?c||i[0]?.id:""),[b,j]=y.useState(o==="team"&&c?[c]:[]),[k,S]=y.useState(o==="user"&&c?[c]:[]),[N,A]=y.useState(l[0]?.id||""),[_,E]=y.useState("Normal"),[D,R]=y.useState(""),[I,M]=y.useState(""),U=r==="task",P=d?.language==="ar",F=y.useMemo(()=>({title:P?" ":"Assignment Center",close:P?"":"Close",assignType:P?" ":"Assign Type",team:P?"":"Team",user:P?"":"User",teams:P?U?"":"":U?"Teams":"Team",users:P?U?"":"":U?"Users":"User",lead:P?"":"Lead",noLeads:P?"   ":"No leads available",priority:P?"":"Priority",priorityOptions:P?["","","",""]:["Low","Normal","High","Critical"],deadline:P?" ":"Deadline",notes:P?"":"Notes",cancel:P?"":"Cancel",assign:P?"":"Assign",selectedSuffix:P?"/":"selected",badgePrefixTeam:P?"":"Team",badgePrefixUser:P?"":"User",contextLabel:{task:P?"":"Task",lead:P?"":"Lead",ticket:P?"":"Ticket",user:P?"":"User"}}),[P,U]),K=y.useMemo(()=>{if(u==="team"){if(U){const W=n.filter(te=>b.includes(te.id));return W.length===0?"":W.length<=2?W.map(te=>te.name).join(", "):`${W.length} ${F.selectedSuffix}`}return n.find(W=>W.id===(p||c))?.name||""}if(U){const q=i.filter(W=>k.includes(W.id));return q.length===0?"":q.length<=2?q.map(W=>W.fullName).join(", "):`${q.length} ${F.selectedSuffix}`}return i.find(q=>q.id===(v||c))?.fullName||""},[u,p,v,n,i,c,U,b,k,F.selectedSuffix]),V=y.useMemo(()=>p?i.filter(O=>!O.team||O.team===p||O.team===n.find(q=>q.id===p)?.name):i,[i,p,n]),J=y.useMemo(()=>{if(!N)return"";const O=l.find(q=>q.id===N);return O?.name||O?.full_name||""},[N,l]);if(!e)return null;const X=(u==="team"?U?b.length>0:!!p:U?k.length>0:!!v)&&(!(r==="lead")||!!N),le=()=>{a?.({context:r,assignType:u,teamId:u==="team"&&!U?p:void 0,userId:u==="user"&&!U?v:void 0,teamIds:u==="team"&&U?b:void 0,userIds:u==="user"&&U?k:void 0,targetName:K,leadId:r==="lead"?N:void 0,leadName:r==="lead"?J:void 0,priority:_,deadline:D,notes:I}),t?.()};return s.jsxs("div",{className:"modal modal-open",children:[s.jsxs("div",{className:"modal-box glass-panel rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"font-semibold",children:F.title}),!!K&&s.jsxs("span",{className:"badge badge-outline",children:[u==="team"?F.badgePrefixTeam:F.badgePrefixUser,": ",K]})]}),s.jsx("button",{className:"btn btn-ghost btn-sm",onClick:t,children:F.close})]}),s.jsx("div",{className:"mb-2 text-sm opacity-70",children:P?`: ${F.contextLabel[r]}`:`Context: ${F.contextLabel[r]}`}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("label",{className:"form-control",children:[s.jsx("span",{className:"label-text",children:F.assignType}),s.jsxs("select",{className:"select select-bordered bg-transparent",value:u,onChange:O=>f(O.target.value),children:[s.jsx("option",{value:"team",children:F.team}),s.jsx("option",{value:"user",children:F.user})]})]}),u==="team"&&s.jsxs("label",{className:"form-control",children:[s.jsx("span",{className:"label-text",children:F.teams}),s.jsx("select",{className:"select select-bordered bg-transparent",multiple:U,value:U?b:p,onChange:O=>{if(U){const q=Array.from(O.target.selectedOptions).map(W=>W.value);j(q)}else m(O.target.value)},children:n.map(O=>s.jsx("option",{value:O.id,children:O.name},O.id))})]}),u==="user"&&s.jsxs("label",{className:"form-control md:col-span-1",children:[s.jsx("span",{className:"label-text",children:F.users}),s.jsx("select",{className:"select select-bordered bg-transparent",multiple:U,value:U?k:v,onChange:O=>{if(U){const q=Array.from(O.target.selectedOptions).map(W=>W.value);S(q)}else g(O.target.value)},children:V.map(O=>s.jsxs("option",{value:O.id,children:[O.fullName," ",O.team?`(${O.team})`:""]},O.id))})]}),r==="lead"&&s.jsxs("label",{className:"form-control md:col-span-1",children:[s.jsx("span",{className:"label-text",children:F.lead}),s.jsxs("select",{className:"select select-bordered bg-transparent",value:N,onChange:O=>A(O.target.value),children:[l.length===0&&s.jsx("option",{value:"",disabled:!0,children:F.noLeads}),l.map(O=>s.jsx("option",{value:O.id,children:O.name||O.full_name||`Lead ${O.id}`},O.id))]})]}),r!=="user"&&s.jsxs(s.Fragment,{children:[s.jsxs("label",{className:"form-control",children:[s.jsx("span",{className:"label-text",children:F.priority}),s.jsx("select",{className:"select select-bordered bg-transparent",value:_,onChange:O=>E(O.target.value),children:F.priorityOptions.map(O=>s.jsx("option",{value:O,children:O},O))})]}),s.jsxs("label",{className:"form-control",children:[s.jsx("span",{className:"label-text",children:F.deadline}),s.jsx("input",{type:"date",className:"input input-bordered bg-transparent",value:D,onChange:O=>R(O.target.value)})]})]}),s.jsxs("label",{className:"form-control md:col-span-2",children:[s.jsx("span",{className:"label-text",children:F.notes}),s.jsx("textarea",{className:"textarea textarea-bordered bg-transparent",rows:3,value:I,onChange:O=>M(O.target.value),placeholder:`${P?"":"Context"}: ${F.contextLabel[r]}${K?`  ${P?" ":"Assigning to"} ${u==="team"?F.team:F.user}: ${K}`:""}`})]})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-between gap-2",children:[s.jsx("div",{className:"text-sm opacity-70",children:u==="team"?U?`${(b||[]).length} ${F.selectedSuffix}`:p?`${F.badgePrefixTeam}: ${K}`:"":U?`${(k||[]).length} ${F.selectedSuffix}`:v?`${F.badgePrefixUser}: ${K}`:""}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-ghost",onClick:t,children:F.cancel}),s.jsx("button",{className:"btn btn-primary",onClick:le,disabled:!X,children:F.assign})]})]})]}),s.jsx("div",{className:"modal-backdrop",onClick:t})]})}const nZ=[{id:"d-3001",name:"Customer Support"},{id:"d-3002",name:"Sales"},{id:"d-3003",name:"Technical Support"},{id:"d-3004",name:"Marketing"},{id:"d-3005",name:"Operations"},{id:"d-3006",name:"Finance"},{id:"d-3007",name:"Human Resources"},{id:"d-3008",name:"Legal"},{id:"d-3009",name:"IT"},{id:"d-3010",name:"Warehouse"},{id:"d-3011",name:"Procurement"},{id:"d-3012",name:"Logistics"},{id:"d-3013",name:"Projects"},{id:"d-3014",name:"Inventory"},{id:"d-3015",name:"Quality Assurance"},{id:"d-3016",name:"Training"},{id:"d-3017",name:"Call Center"},{id:"d-3018",name:"Social Media"},{id:"d-3019",name:"CRM"},{id:"d-3020",name:"Business Development"},{id:"d-3021",name:"Partnerships"},{id:"d-3022",name:"Administration"},{id:"d-3023",name:"Facilities"},{id:"d-3024",name:"Security"},{id:"d-3025",name:"Compliance"},{id:"d-3026",name:"R&D"},{id:"d-3027",name:"Product"},{id:"d-3028",name:"Engineering"},{id:"d-3029",name:"Design"},{id:"d-3030",name:"Data Science"},{id:"d-3031",name:"Analytics"},{id:"d-3032",name:"Business Intelligence"},{id:"d-3033",name:"Content"},{id:"d-3034",name:"Public Relations"},{id:"d-3035",name:"Events"},{id:"d-3036",name:"Field Sales"},{id:"d-3037",name:"Inside Sales"},{id:"d-3038",name:"Account Management"},{id:"d-3039",name:"Retention"},{id:"d-3040",name:"Onboarding"},{id:"d-3041",name:"Implementation"},{id:"d-3042",name:"After Sales"},{id:"d-3043",name:"Billing"},{id:"d-3044",name:"Collections"},{id:"d-3045",name:"Vendor Relations"}],hze=[{id:"u-1001",avatarUrl:"",fullName:"Ibrahim Hassan",email:"ibrahim@example.com",phone:"+20 100 000 0000",role:"Admin",status:"Active",team:"Support",department:"Customer Support",lastLogin:"2025-11-18 10:24",createdAt:"2025-10-02"},{id:"u-1002",avatarUrl:"",fullName:"Sara Ali",email:"sara.ali@example.com",phone:"+20 111 222 3333",role:"Agent",status:"Inactive",team:"Sales",department:"Sales",lastLogin:"2025-11-15 09:17",createdAt:"2025-09-12"},{id:"u-1003",avatarUrl:"",fullName:"Mohamed Salem",email:"msalem@example.com",phone:"+20 122 444 5555",role:"Manager",status:"Suspended",team:"Operations",department:"Technical Support",lastLogin:"2025-11-10 14:05",createdAt:"2025-08-20"}],fze=["Admin","Manager","Agent","Viewer"],mze=["Active","Inactive","Suspended"],A$=["Support","Sales","Operations","Finance"];function pze(){const e=In(),{i18n:t}=St(),a=t.language==="ar",[r,n]=y.useState(""),[i,l]=y.useState(""),[o,c]=y.useState(""),[d,u]=y.useState(""),[f,p]=y.useState(""),[m,v]=y.useState(""),[g,b]=y.useState(""),[j,k]=y.useState(hze),[S,N]=y.useState([]),A=y.useMemo(()=>{try{return JSON.parse(localStorage.getItem("leads")||"[]")}catch{return[]}},[]),[_,E]=y.useState(!1),[D,R]=y.useState("task"),[I,M]=y.useState("user"),[U,P]=y.useState(""),F=y.useMemo(()=>j.filter(G=>{const ie=[G.fullName,G.email,G.phone].join(" ").toLowerCase().includes(r.toLowerCase()),ye=i?G.role===i:!0,se=o?G.status===o:!0,Ie=d?(G.team||"")===d:!0,pe=f?(G.department||"")===f:!0,ae=m?(G.createdAt||"")>=m:!0,ge=g?(G.createdAt||"")<=g:!0;return ie&&ye&&se&&Ie&&pe&&ae&&ge}),[j,r,i,o,d,f,m,g]),K=F.length>0&&F.every(G=>S.includes(G.id)),V=G=>{k(ie=>ie.map(ye=>ye.id===G?{...ye,status:ye.status==="Active"?"Inactive":"Active"}:ye))},J=G=>{window.confirm("Delete this user?")&&k(ie=>ie.filter(ye=>ye.id!==G))},Q=G=>{alert(`Change password dialog opened for ${G}`)},z=G=>{alert(`Refreshed user ${G}`)},X=G=>{alert(`Assigned rotation to user ${G}`)},le=G=>{alert(`Delayed rotation for user ${G}`)},O=y.useMemo(()=>({title:a?"   ":"Bulk actions on selected",deleteSelected:"delete",assignTask:a?" ":"Assign task",assignLead:a?" ":"Assign lead",assignTicket:a?" ":"Assign ticket",selectUsersFirst:a?"  ":"Select users first",bulkAssignUsersFirst:a?"     ":"Select users first to perform bulk assignment",deletedMsg:a?"   ":"Selected users deleted",confirmDelete:a?`  ${S.length} ().   `:`This will delete ${S.length} user(s). Are you sure?`}),[a,S.length]),q=()=>{if(S.length===0)return alert(O.selectUsersFirst);window.confirm(O.confirmDelete)&&(k(G=>G.filter(ie=>!S.includes(ie.id))),N([]),alert(O.deletedMsg))},W=G=>{if(S.length===0)return alert(O.selectUsersFirst);R(G),M("user"),P(""),E(!0)},te=()=>{N(K?[]:F.map(G=>G.id))},re=G=>{N(ie=>ie.includes(G)?ie.filter(ye=>ye!==G):[...ie,G])},oe=()=>{const G=["ID","Full Name","Email","Phone","Role","Status","Team","Created At"],ie=F.map(ae=>[ae.id,ae.fullName,ae.email,ae.phone,ae.role,ae.status,ae.team||"",ae.createdAt||""]),ye=[G.join(","),...ie.map(ae=>ae.map(ge=>`"${String(ge||"").replace(/"/g,'""')}"`).join(","))].join(`
`),se=new Blob([ye],{type:"text/csv;charset=utf-8;"}),Ie=URL.createObjectURL(se),pe=document.createElement("a");pe.href=Ie,pe.download="users-export.csv",pe.click(),URL.revokeObjectURL(Ie)},ce=G=>{console.log("Assignment payload (Users):",{...G,selectedUserIds:S}),alert("   ")};return s.jsx(_r,{title:"User Management  Users",children:s.jsxs("div",{className:"w-full max-w-none px-0 py-0",children:[s.jsxs("div",{className:"glass-panel rounded-xl px-4 py-3 mb-4 flex items-center justify-between",children:[s.jsx("h1",{className:"text-xl font-semibold text-primary",children:"Users"}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs("label",{className:"btn btn-ghost cursor-pointer",children:["Import Users",s.jsx("input",{type:"file",accept:".csv,text/csv",className:"hidden",onChange:G=>{const ie=G.target.files?.[0];if(!ie)return;const ye=new FileReader;ye.onload=()=>{try{const Ie=String(ye.result||"").split(/\r?\n/).filter(Boolean),pe=Ie[0].split(",").map(at=>at.trim().replace(/"/g,"")),ae=at=>pe.findIndex($t=>$t.toLowerCase()===at.toLowerCase()),ge=ae("id"),Re=ae("full name"),ue=ae("email"),Z=ae("phone"),Se=ae("role"),Ne=ae("status"),Ye=ae("team"),gt=ae("created at"),qt=Ie.slice(1).map(at=>{const $t=at.split(",").map(ze=>ze.replace(/^\"|\"$/g,""));return{id:$t[ge]||`u-${Date.now()}`,fullName:$t[Re]||"",email:$t[ue]||"",phone:$t[Z]||"",role:$t[Se]||"Viewer",status:$t[Ne]||"Active",team:$t[Ye]||"",createdAt:$t[gt]||""}}).filter(at=>at.fullName&&at.email);k(at=>[...at,...qt]),alert(`Imported ${qt.length} users`)}catch(se){console.error(se),alert("Failed to import CSV")}},ye.readAsText(ie)}})]}),s.jsx("button",{className:"btn",onClick:oe,children:"Export Excel"}),s.jsx(Cs,{to:"/user-management/users/new",className:"btn btn-primary",children:"Add New User"})]})]}),s.jsx("div",{className:"glass-panel rounded-xl p-3 mb-4 w-full",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-7 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:a?"":"Search"})}),s.jsx("input",{type:"text",className:"input-soft w-full",placeholder:a?" (  )":"Search (name, email, phone)",value:r,onChange:G=>n(G.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:a?"":"Role"})}),s.jsx(ss,{className:"w-full",options:fze,value:i,onChange:G=>l(G),placeholder:a?" ":"Select role"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:a?"":"Status"})}),s.jsx(ss,{className:"w-full",options:mze,value:o,onChange:G=>c(G),placeholder:a?" ":"Select status"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:a?"":"Team"})}),s.jsx(ss,{className:"w-full",options:A$,value:d,onChange:G=>u(G),placeholder:a?" ":"Select team"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:a?"":"Department"})}),s.jsx(ss,{className:"w-full",options:nZ.map(G=>G.name),value:f,onChange:G=>p(G),placeholder:a?" ":"Select department"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:a?" ":"Date From"})}),s.jsx("input",{type:"date",className:"input-soft w-full",value:m,onChange:G=>v(G.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:a?" ":"Date To"})}),s.jsx("input",{type:"date",className:"input-soft w-full",value:g,onChange:G=>b(G.target.value)})]})]})}),S.length>0&&s.jsxs("div",{className:"glass-panel rounded-xl px-3 py-2 mb-3 flex flex-wrap items-center gap-2",children:[s.jsxs("span",{className:"text-sm text-[var(--muted-text)]",children:[O.title,":"]}),s.jsx("button",{className:"btn btn-ghost",onClick:q,children:O.deleteSelected}),s.jsx("button",{className:"btn btn-ghost",onClick:()=>W("task"),children:O.assignTask}),s.jsx("button",{className:"btn btn-ghost",onClick:()=>W("lead"),children:O.assignLead}),s.jsx("button",{className:"btn btn-ghost",onClick:()=>W("ticket"),children:O.assignTicket})]}),s.jsx("div",{className:"glass-panel rounded-xl overflow-x-auto w-full",children:s.jsxs("table",{className:"nova-table w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"thead-soft",children:[s.jsx("th",{children:s.jsx("input",{type:"checkbox",className:"checkbox",checked:K,onChange:te})}),s.jsx("th",{children:"Avatar"}),s.jsx("th",{children:"Full Name"}),s.jsx("th",{children:"Role"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Actions"}),s.jsx("th",{children:"Last Login"})]})}),s.jsx("tbody",{children:F.map(G=>s.jsxs("tr",{children:[s.jsx("td",{children:s.jsx("input",{type:"checkbox",className:"checkbox",checked:S.includes(G.id),onChange:()=>re(G.id)})}),s.jsx("td",{children:s.jsx("div",{className:"avatar placeholder",children:s.jsx("div",{className:"bg-neutral text-neutral-content rounded-full w-10",children:s.jsx("span",{children:G.fullName?.[0]||"?"})})})}),s.jsx("td",{className:"font-medium",children:s.jsx(Cs,{to:`/user-management/users/${G.id}`,children:G.fullName})}),s.jsx("td",{children:G.role}),s.jsx("td",{children:s.jsx("span",{className:`badge ${G.status==="Active"?"badge-success":G.status==="Suspended"?"badge-error":""}`,children:G.status})}),s.jsx("td",{children:s.jsx(rZ,{onEdit:()=>e(`/user-management/users/${G.id}?edit=1`),onChangePassword:()=>Q(G.id),onToggleActive:()=>V(G.id),onDelete:()=>J(G.id),onEnable:()=>V(G.id),onRefresh:()=>z(G.id),onAssignRotation:()=>X(G.id),onDelayRotation:()=>le(G.id)})}),s.jsx("td",{children:G.lastLogin})]},G.id))})]})}),s.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[s.jsxs("div",{children:["Showing ",F.length," of ",j.length," users"]}),s.jsxs("div",{className:"join",children:[s.jsx("button",{className:"join-item btn",children:""}),s.jsx("button",{className:"join-item btn",children:"1"}),s.jsx("button",{className:"join-item btn",children:"2"}),s.jsx("button",{className:"join-item btn",children:"3"}),s.jsx("button",{className:"join-item btn",children:""})]})]}),_&&s.jsx(uze,{open:_,onClose:()=>E(!1),onSubmit:ce,context:D,teams:A$.map(G=>({id:G,name:G})),users:j.map(G=>({id:G.id,fullName:G.fullName,team:G.team,role:G.role})),leads:A,defaultAssignType:I,defaultTargetId:U})]})})}const xze=["Sales Admin","Operation Manager","Branch Manager","Director","Sales Manager","Team Leader","Sales Person","Marketing Manager","Marketing Moderator","Customer Manager","Customer Team Leader","Customer Agent","Support Manager","Support Team Leader","Support Agent","Custom"],gze=["Active","Inactive","Suspended"],vze={Leads:["addLead","importLeads","addInputs","showCreator","editInfo","editPhone"],Inventory:["addProducts","addItems","addSuppliers","addWarehouse","showTransaction","addProject","addUnits"],Marketing:["showCampaigns","addLandingPages","integrations","exportReports","showReports"],Customers:["convertFromLead","addCustomer","editInfo","deleteCustomer","showModule"],Support:["showModule","addTickets","sla","editInfo","exportReports","convertFromCustomer","convertFromLead","reports","deleteTickets"],Control:["addRegions","addArea","addStage","addSource","userManagement","multiAction","salesComment","allowActionOnTeam","assignLeads","importLeads","exportLeads","showReports","addDepartment","editConfigurationSettings"]},_$={groups:{Leads:"",Inventory:"",Marketing:"",Customers:"",Support:"",Control:""},actions:{view:"",create:"",assign:"",addLead:" ",addInputs:" ",showCreator:" ",editPhone:" ",showCampaigns:" ",addLandingPages:"  ",integrations:"",exportReports:" ",showReports:" ",convertFromLead:"  ",addCustomer:" ",editInfo:" ",deleteCustomer:" ",showModule:" ",addTickets:" ",sla:"  ",convertFromCustomer:"  ",reports:"",deleteTickets:" ",addRegions:" ",addArea:" ",addStage:" ",addSource:" ",userManagement:" ",multiAction:" ",salesComment:" ",allowActionOnTeam:"   ",assignLeads:" ",importLeads:" ",exportLeads:" ",addDepartment:" ",editConfigurationSettings:"  ",addProducts:" ",addItems:" ",addSuppliers:" ",addWarehouse:" ",showTransaction:" ",addProject:" ",addUnits:" "}};function bze(){const{i18n:e}=St(),t=e.language==="ar",a=In(),[r,n]=y.useState({fullName:"",firstName:"",lastName:"",email:"",phone:"",username:"",password:"",birthDate:"",avatar:"",sendInvite:!0,role:"",status:"Active",department:"",branch:"",region:"",area:"",notifEmail:!0,notifSms:!1}),[i,l]=y.useState({}),[o,c]=y.useState({}),[d,u]=y.useState("info"),f=y.useMemo(()=>r.role==="Custom",[r.role]);y.useMemo(()=>f||r.role==="Sales Admin",[f,r.role]);const p=y.useMemo(()=>["Sales Admin","Operation Manager","Branch Manager","Director"].includes(r.role),[r.role]);y.useEffect(()=>{r.role==="Sales Admin"?l({Leads:["addLead","importLeads"],Inventory:[],Marketing:["showCampaigns","addLandingPages","exportReports"],Customers:["convertFromLead","addCustomer","showModule"],Support:["showModule"],Control:["addRegions","addArea","addSource","userManagement","allowActionOnTeam","assignLeads","showReports","addDepartment"]}):r.role==="Operation Manager"?l({Leads:["addLead","importLeads","editInfo","editPhone"],Inventory:["addProducts","addItems","addSuppliers","addWarehouse","showTransaction"],Marketing:[],Customers:["editInfo","showModule"],Support:["showModule","addTickets","sla","reports"],Control:["allowActionOnTeam","showReports","addDepartment"]}):r.role==="Branch Manager"?l({Leads:["addLead","importLeads","editInfo"],Inventory:["addProducts","addItems","addWarehouse","showTransaction"],Customers:["addCustomer","editInfo","showModule"],Support:["showModule"],Control:["allowActionOnTeam","assignLeads","showReports"]}):r.role==="Director"?l({Leads:["addLead","importLeads","editInfo"],Inventory:[],Marketing:["showCampaigns","addLandingPages","integrations","exportReports","showReports"],Customers:["convertFromLead","addCustomer","editInfo","showModule"],Support:["showModule"],Control:["userManagement","assignLeads","exportLeads","showReports","multiAction","salesComment"]}):r.role==="Sales Manager"?l({Leads:["addLead","importLeads","editInfo"],Customers:["convertFromLead","addCustomer","editInfo","showModule"],Control:["assignLeads","showReports"]}):r.role==="Team Leader"?l({Leads:["addLead","importLeads"],Customers:["editInfo","showModule"],Control:["allowActionOnTeam","assignLeads"]}):r.role==="Sales Person"?l({Leads:["addLead","importLeads"],Customers:["showModule"]}):r.role==="Marketing Manager"?l({Marketing:["showCampaigns","addLandingPages","integrations","exportReports","showReports"]}):r.role==="Marketing Moderator"?l({Marketing:["showCampaigns","showReports"]}):r.role==="Customer Manager"?l({Customers:["convertFromLead","addCustomer","editInfo","deleteCustomer","showModule"],Control:["showReports"]}):r.role==="Customer Team Leader"?l({Customers:["editInfo","showModule"]}):r.role==="Customer Agent"?l({Customers:["showModule"]}):r.role==="Support Manager"?l({Support:["showModule","addTickets","sla","reports","exportReports","deleteTickets"],Control:["showReports"]}):r.role==="Support Team Leader"?l({Support:["showModule","addTickets","sla","reports"]}):r.role==="Support Agent"?l({Support:["showModule","addTickets"]}):r.role==="Custom"?l({}):l({})},[r.role]);const m=(j,k)=>{n(S=>({...S,[j]:k}))},v=(j,k)=>{l(S=>{const N=new Set(S[j]||[]);return N.has(k)?N.delete(k):N.add(k),{...S,[j]:Array.from(N)}})},g=()=>{const j={};return r.fullName?.trim()||r.firstName?.trim()&&r.lastName?.trim()||(j.fullName="Full Name is required"),r.email?.trim()||(j.email="Email is required"),r.username?.trim()||(j.username="Username is required"),r.role?.trim()||(j.role="Role is required"),(r.password?.length||0)<8&&(j.password="Password must be at least 8 characters"),c(j),Object.keys(j).length===0},b=j=>{if(j.preventDefault(),!g())return;const k={...r,fullName:r.fullName?.trim()||`${r.firstName||""} ${r.lastName||""}`.trim(),permissions:i};console.log("Create User payload",k),alert("User created (mock). Returning to Users list."),a("/user-management/users")};return s.jsx(_r,{title:"User Management  Add New User",children:s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Add New User"}),s.jsxs("form",{onSubmit:b,className:"space-y-6",children:[s.jsx("div",{className:"glass-panel rounded-xl p-2 mb-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{type:"button",className:`btn btn-ghost ${d==="info"?"btn-active":""}`,onClick:()=>u("info"),children:t?"":"Info"}),s.jsx("button",{type:"button",className:`btn btn-ghost ${d==="account"?"btn-active":""}`,onClick:()=>u("account"),children:t?" ":"Account Setting"}),s.jsx("button",{type:"button",className:`btn btn-ghost ${d==="notifications"?"btn-active":""}`,onClick:()=>u("notifications"),children:t?"":"Notifications"})]})}),d==="info"&&s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsxs("div",{children:[s.jsx("h2",{className:"card-title",children:"1. Basic Info"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:"Full Name"})}),s.jsx("input",{className:"input input-bordered w-full bg-transparent",value:r.fullName,onChange:j=>m("fullName",j.target.value)}),o.fullName&&s.jsx("p",{className:"text-error text-sm mt-1",children:o.fullName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:"First Name"})}),s.jsx("input",{className:"input input-bordered w-full bg-transparent",value:r.firstName,onChange:j=>m("firstName",j.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:"Last Name"})}),s.jsx("input",{className:"input input-bordered w-full bg-transparent",value:r.lastName,onChange:j=>m("lastName",j.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:"Email"})}),s.jsx("input",{type:"email",className:"input input-bordered w-full bg-transparent",value:r.email,onChange:j=>m("email",j.target.value)}),o.email&&s.jsx("p",{className:"text-error text-sm mt-1",children:o.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:"Phone (Optional)"})}),s.jsx("input",{className:"input input-bordered w-full bg-transparent",value:r.phone,onChange:j=>m("phone",j.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:"Username"})}),s.jsx("input",{className:"input input-bordered w-full bg-transparent",value:r.username,onChange:j=>m("username",j.target.value)}),o.username&&s.jsx("p",{className:"text-error text-sm mt-1",children:o.username})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:"Birth Date (Optional)"})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"date",className:"input input-bordered w-full bg-transparent",value:r.birthDate,onChange:j=>m("birthDate",j.target.value)}),s.jsx("button",{type:"button",className:"btn btn-ghost btn-square",onClick:()=>{},"aria-label":"Calendar",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),s.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),s.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),s.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:"Profile Photo (Optional)"})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-base-200 overflow-hidden",children:r.avatar?s.jsx("img",{src:r.avatar,alt:"avatar",className:"w-full h-full object-cover"}):null}),s.jsxs("label",{className:"btn btn-ghost cursor-pointer",children:["Upload",s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:j=>{const k=j.target.files?.[0];if(!k)return;const S=new FileReader;S.onload=()=>m("avatar",S.result),S.readAsDataURL(k)}})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:"Password"})}),s.jsx("input",{type:"password",className:"input input-bordered w-full bg-transparent",value:r.password,onChange:j=>m("password",j.target.value)}),o.password&&s.jsx("p",{className:"text-error text-sm mt-1",children:o.password})]})]})]})}),d==="account"&&s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsxs("div",{children:[s.jsx("h2",{className:"card-title",children:"2. Account Settings"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mt-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:"Role *"})}),s.jsx(ss,{className:"w-full",options:xze,value:r.role,onChange:j=>m("role",j)}),o.role&&s.jsx("p",{className:"text-error text-sm mt-1",children:o.role})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:"Status *"})}),s.jsx(ss,{className:"w-full",options:gze,value:r.status,onChange:j=>m("status",j)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:"Department (Optional)"})}),s.jsx(ss,{className:"w-full",options:nZ.map(j=>({value:j.name,label:j.name})),value:r.department,onChange:j=>{n(k=>({...k,department:j}))}})]})]}),p&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mt-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:t?" ()":"Branch (Optional)"})}),s.jsx("input",{className:"input input-bordered w-full bg-transparent",value:r.branch,onChange:j=>m("branch",j.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:t?" ()":"Region (Optional)"})}),s.jsx("input",{className:"input input-bordered w-full bg-transparent",value:r.region,onChange:j=>m("region",j.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:t?"/ ()":"Area (Optional)"})}),s.jsx("input",{className:"input input-bordered w-full bg-transparent",value:r.area,onChange:j=>m("area",j.target.value)})]})]})]})}),d==="account"&&s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsxs("div",{children:[s.jsx("h2",{className:"card-title",children:"3. Permissions"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-3",children:Object.entries(vze).map(([j,k])=>s.jsxs("div",{className:"glass-panel rounded-lg p-3",children:[s.jsx("h3",{className:"font-medium mb-2",children:t&&_$.groups[j]||j}),s.jsx("div",{className:"flex flex-wrap gap-2",children:k.map(S=>{const N=(i[j]||[]).includes(S);return s.jsxs("label",{className:"cursor-pointer flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",className:"checkbox",checked:N,onChange:()=>v(j,S)}),s.jsx("span",{children:t&&_$.actions[S]||S})]},S)})})]},j))})]})}),d==="notifications"&&s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsxs("div",{children:[s.jsx("h2",{className:"card-title",children:"3. Notifications"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mt-3",children:[s.jsx("div",{className:"form-control",children:s.jsxs("label",{className:"label cursor-pointer",children:[s.jsx("span",{className:"label-text",children:"Email Notifications"}),s.jsx("input",{type:"checkbox",className:"toggle",checked:r.notifEmail,onChange:j=>m("notifEmail",j.target.checked)})]})}),s.jsx("div",{className:"form-control",children:s.jsxs("label",{className:"label cursor-pointer",children:[s.jsx("span",{className:"label-text",children:"SMS Notifications"}),s.jsx("input",{type:"checkbox",className:"toggle",checked:r.notifSms,onChange:j=>m("notifSms",j.target.checked)})]})})]})]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"}),s.jsx("button",{type:"button",className:"btn",onClick:()=>a("/user-management/users"),children:"Cancel"})]})]})]})})}const yze=[{type:"Created",user:"Ibrahim",target:"Ticket #4531",description:"Created new ticket",ts:"2025-11-18 10:24",ip:"192.168.1.12",module:"Tickets"},{type:"Updated",user:"Sara",target:"Customer #100",description:"Updated address",ts:"2025-11-17 12:05",ip:"192.168.1.18",module:"Customers"},{type:"Login",user:"Ibrahim",target:"-",description:"Successful login",ts:"2025-11-17 08:12",ip:"192.168.1.12",module:"User Management"},{type:"Failed Login",user:"Unknown",target:"-",description:"Failed login attempt",ts:"2025-11-16 23:51",ip:"192.168.1.99",module:"User Management"}],wze=["Created","Updated","Deleted","Login","Failed Login","Permission Change"],jze=["Tickets","Customers","SLA","Reports","User Management","Settings","Integrations","Custom Modules"];function Nze(){const[e,t]=y.useState(""),[a,r]=y.useState(""),[n,i]=y.useState(""),[l,o]=y.useState(""),[c,d]=y.useState(""),[u,f]=y.useState(""),p=y.useMemo(()=>yze.filter(m=>{const v=e?m.user.toLowerCase().includes(e.toLowerCase()):!0,g=a?m.type===a:!0,b=n?m.module===n:!0,j=u?`${m.description} ${m.target}`.toLowerCase().includes(u.toLowerCase()):!0,k=l?m.ts>=l:!0,S=c?m.ts<=c:!0;return v&&g&&b&&j&&k&&S}),[e,a,n,l,c,u]);return s.jsx(_r,{title:"User Management  Activity Logs",children:s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Activity Logs"}),s.jsxs("div",{className:"glass-panel rounded-xl p-3 mb-3 grid grid-cols-1 md:grid-cols-6 gap-3",children:[s.jsx("input",{className:"input-soft",placeholder:"Filter by user",value:e,onChange:m=>t(m.target.value)}),s.jsx(ss,{className:"w-full",options:wze,value:a,onChange:m=>r(m),placeholder:"Action Type"}),s.jsx(ss,{className:"w-full",options:jze,value:n,onChange:m=>i(m),placeholder:"Module"}),s.jsx("input",{type:"date",className:"input-soft",value:l,onChange:m=>o(m.target.value)}),s.jsx("input",{type:"date",className:"input-soft",value:c,onChange:m=>d(m.target.value)}),s.jsx("input",{className:"input-soft",placeholder:"Search description/target",value:u,onChange:m=>f(m.target.value)})]}),s.jsxs("div",{className:"flex gap-2 mb-3",children:[s.jsx("button",{className:"btn btn-ghost",children:"Export PDF"}),s.jsx("button",{className:"btn btn-ghost",children:"Export Excel"})]}),s.jsx("div",{className:"glass-panel rounded-xl overflow-x-auto",children:s.jsxs("table",{className:"nova-table w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"thead-soft",children:[s.jsx("th",{children:"Action Type"}),s.jsx("th",{children:"Performed By"}),s.jsx("th",{children:"Target"}),s.jsx("th",{children:"Description"}),s.jsx("th",{children:"Timestamp"}),s.jsx("th",{children:"IP Address"})]})}),s.jsx("tbody",{children:p.map((m,v)=>s.jsxs("tr",{children:[s.jsx("td",{children:m.type}),s.jsx("td",{children:m.user}),s.jsx("td",{children:m.target}),s.jsx("td",{children:m.description}),s.jsx("td",{children:m.ts}),s.jsx("td",{children:m.ip})]},v))})]})})]})})}const kze=[{user:"Ibrahim",login:"2025-11-18 10:24",logout:"2025-11-18 18:04",ip:"192.168.1.12",location:"Cairo",device:"Windows PC",browser:"Chrome"},{user:"Sara",login:"2025-11-17 09:14",logout:"2025-11-17 17:01",ip:"192.168.1.18",location:"Giza",device:"MacBook",browser:"Safari"},{user:"Mohamed",login:"2025-11-16 08:33",logout:"2025-11-16 16:22",ip:"192.168.1.21",location:"Alexandria",device:"iPhone",browser:"Safari"}],Sze=["Windows PC","MacBook","Linux PC","iPhone","Android"];function Cze(){const[e,t]=y.useState(""),[a,r]=y.useState(""),[n,i]=y.useState(""),[l,o]=y.useState(""),c=y.useMemo(()=>kze.filter(d=>{const u=e?d.user.toLowerCase().includes(e.toLowerCase()):!0,f=l?d.device===l:!0,p=a?d.login>=a:!0,m=n?d.login<=n:!0;return u&&f&&p&&m}),[e,l,a,n]);return s.jsx(_r,{title:"User Management  User Access Logs",children:s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsx("h1",{className:"text-xl font-semibold mb-4",children:"User Access Logs"}),s.jsxs("div",{className:"glass-panel rounded-xl p-3 mb-3 grid grid-cols-1 md:grid-cols-5 gap-3",children:[s.jsx("input",{className:"input-soft",placeholder:"Filter by user",value:e,onChange:d=>t(d.target.value)}),s.jsx("input",{type:"date",className:"input-soft",value:a,onChange:d=>r(d.target.value)}),s.jsx("input",{type:"date",className:"input-soft",value:n,onChange:d=>i(d.target.value)}),s.jsx(ss,{className:"w-full",options:Sze,value:l,onChange:d=>o(d),placeholder:"Device Type"}),s.jsx("button",{className:"btn btn-ghost",children:"Export"})]}),s.jsx("div",{className:"glass-panel rounded-xl overflow-x-auto",children:s.jsxs("table",{className:"nova-table w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"thead-soft",children:[s.jsx("th",{children:"User"}),s.jsx("th",{children:"Login Time"}),s.jsx("th",{children:"Logout Time"}),s.jsx("th",{children:"IP Address"}),s.jsx("th",{children:"Location"}),s.jsx("th",{children:"Device"}),s.jsx("th",{children:"Browser"})]})}),s.jsx("tbody",{children:c.map((d,u)=>s.jsxs("tr",{children:[s.jsx("td",{children:d.user}),s.jsx("td",{children:d.login}),s.jsx("td",{children:d.logout}),s.jsx("td",{children:d.ip}),s.jsx("td",{children:d.location}),s.jsx("td",{children:d.device}),s.jsx("td",{children:d.browser})]},u))})]})})]})})}const Aze=[{name:"Admin",users:3,createdAt:"2025-01-01",updatedAt:"2025-11-10"},{name:"Manager",users:5,createdAt:"2025-02-12",updatedAt:"2025-11-09"},{name:"Agent",users:12,createdAt:"2025-03-05",updatedAt:"2025-10-30"},{name:"Viewer",users:4,createdAt:"2025-04-15",updatedAt:"2025-09-22"}];function _ze(){const e=In(),[t,a]=y.useState(""),[r,n]=y.useState(Aze),i=y.useMemo(()=>r.filter(o=>o.name.toLowerCase().includes(t.toLowerCase())),[r,t]),l=o=>{window.confirm("Delete this role?")&&n(c=>c.filter(d=>d.name!==o))};return s.jsx(_r,{title:"User Management  Roles & Permissions",children:s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h1",{className:"text-xl font-semibold",children:"Roles & Permissions"}),s.jsx(Cs,{to:"/user-management/roles/new",className:"btn btn-primary",children:"Add New Role"})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-3 mb-3 flex gap-2",children:[s.jsx("input",{className:"input-soft",placeholder:"Search roles",value:t,onChange:o=>a(o.target.value)}),s.jsx("button",{className:"btn btn-ghost",children:"Export"})]}),s.jsx("div",{className:"glass-panel rounded-xl overflow-x-auto",children:s.jsxs("table",{className:"nova-table w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"thead-soft",children:[s.jsx("th",{children:"Role Name"}),s.jsx("th",{children:"Number of Users"}),s.jsx("th",{children:"Created At"}),s.jsx("th",{children:"Updated At"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:i.map(o=>s.jsxs("tr",{children:[s.jsx("td",{className:"font-medium",children:o.name}),s.jsx("td",{children:o.users}),s.jsx("td",{children:o.createdAt}),s.jsx("td",{children:o.updatedAt}),s.jsx("td",{children:s.jsx(rZ,{onEdit:()=>e(`/user-management/roles/${o.name}`),onToggleActive:()=>{},onDelete:()=>l(o.name)})})]},o.name))})]})})]})})}const Eze={Tickets:["view","create","update","delete","assign","close"],Customers:["view","create","update","delete"],SLA:["view","create","update","delete"],Reports:["view","export"],"User Management":["view","create","update","delete","changeRole"],Settings:["view","update"],Integrations:["view","configure"],"Custom Modules":["view","create","update","delete"]};function Tze(){const e=In(),{id:t}=Ste(),[a,r]=y.useState(t||""),[n,i]=y.useState(""),[l,o]=y.useState({}),[c,d]=y.useState({}),u=(p,m)=>{o(v=>{const g=new Set(v[p]||[]);return g.has(m)?g.delete(m):g.add(m),{...v,[p]:Array.from(g)}})},f=p=>{p.preventDefault();const m={};if(a.trim()||(m.roleName="Role Name is required"),d(m),Object.keys(m).length)return;console.log("Save Role payload",{roleName:a,description:n,permissions:l}),alert("Role saved (mock)."),e("/user-management/roles")};return s.jsx(_r,{title:`Role  ${a||"New Role"}`,children:s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsx("h1",{className:"text-xl font-semibold mb-4",children:t?"Edit Role":"Add Role"}),s.jsxs("form",{onSubmit:f,className:"space-y-6",children:[s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsx("div",{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:"Role Name"})}),s.jsx("input",{className:"input input-bordered w-full bg-transparent",value:a,onChange:p=>r(p.target.value)}),c.roleName&&s.jsx("p",{className:"text-error text-sm mt-1",children:c.roleName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:"Description"})}),s.jsx("input",{className:"input input-bordered w-full bg-transparent",value:n,onChange:p=>i(p.target.value)})]})]})})}),s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsxs("div",{children:[s.jsx("h2",{className:"card-title",children:"Permissions"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-3",children:Object.entries(Eze).map(([p,m])=>s.jsxs("div",{className:"glass-panel rounded-lg p-3",children:[s.jsx("div",{className:"font-medium mb-2",children:p}),s.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(v=>{const g=(l[p]||[]).includes(v);return s.jsxs("label",{className:"cursor-pointer flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",className:"checkbox",checked:g,onChange:()=>u(p,v)}),s.jsx("span",{children:v})]},v)})})]},p))})]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"}),s.jsx("button",{type:"button",className:"btn",onClick:()=>e("/user-management/roles"),children:"Cancel"})]})]})]})})}function PS(){return s.jsx(Rj,{})}function Dze(){return s.jsx(Rj,{})}function Pze(){return s.jsx(Rj,{})}function Mze(){const{i18n:e}=St();return s.jsx("div",{className:e.language==="ar"?"rtl":"ltr",children:s.jsxs($te,{children:[s.jsx(Ct,{path:"/",element:s.jsx(cze,{})}),s.jsx(Ct,{path:"/login",element:s.jsx(Fde,{})}),s.jsx(Ct,{path:"/subscription-expired",element:s.jsx(lze,{})}),s.jsx(Ct,{path:"/upgrade",element:s.jsx(oze,{})}),s.jsx(Ct,{path:"/pricing",element:s.jsx(dze,{})}),s.jsx(Ct,{path:"/about",element:s.jsx(AAe,{})}),s.jsx(Ct,{path:"/privacy",element:s.jsx(kAe,{})}),s.jsx(Ct,{path:"/terms",element:s.jsx(SAe,{})}),s.jsx(Ct,{path:"/welcome/contact",element:s.jsx(CAe,{})}),s.jsx(Ct,{element:s.jsx(Dze,{}),children:s.jsxs(Ct,{element:s.jsx(_r,{}),children:[s.jsx(Ct,{path:"/dashboard",element:s.jsx(Joe,{})}),s.jsx(Ct,{path:"/customers",element:s.jsx(Ide,{})}),s.jsx(Ct,{path:"/support",element:s.jsx(E4e,{})}),s.jsx(Ct,{path:"/support/tickets",element:s.jsx(P4e,{})}),s.jsx(Ct,{path:"/support/customers",element:s.jsx(M4e,{})}),s.jsx(Ct,{path:"/support/sla",element:s.jsx(L4e,{})}),s.jsx(Ct,{path:"/support/reports",element:s.jsx(O4e,{})}),s.jsx(Ct,{path:"/support/feedbacks",element:s.jsx(R4e,{})}),s.jsx(Ct,{path:"/sales",element:s.jsx(g5,{to:"/sales/opportunities",replace:!0})}),s.jsx(Ct,{path:"/sales/opportunities",element:s.jsx(Vye,{})}),s.jsx(Ct,{path:"/sales/quotations",element:s.jsx(Wye,{})}),s.jsx(Ct,{path:"/sales/orders",element:s.jsx(qye,{})}),s.jsx(Ct,{path:"/sales/invoices",element:s.jsx(Gye,{})}),s.jsxs(Ct,{element:s.jsx(PS,{moduleKey:"leads"}),children:[s.jsx(Ct,{path:"/leads",element:s.jsx($ye,{})}),s.jsx(Ct,{path:"/leads/new",element:s.jsx(Hye,{})}),s.jsx(Ct,{path:"/recycle",element:s.jsx(Uye,{})}),s.jsx(Ct,{path:"/stages-setup",element:s.jsx(Y6e,{})})]}),s.jsx(Ct,{path:"/inventory/projects",element:s.jsx(F4e,{})}),s.jsx(Ct,{path:"/inventory/properties",element:s.jsx(X4e,{})}),s.jsx(Ct,{path:"/inventory/requests",element:s.jsx(s5e,{})}),s.jsx(Ct,{path:"/inventory/buyer-requests",element:s.jsx(r5e,{})}),s.jsx(Ct,{path:"/inventory/seller-requests",element:s.jsx(n5e,{})}),s.jsx(Ct,{path:"/inventory/dev-companies",element:s.jsx(i5e,{})}),s.jsxs(Ct,{element:s.jsx(PS,{moduleKey:"campaigns"}),children:[s.jsx(Ct,{path:"/marketing",element:s.jsx(d5e,{})}),s.jsx(Ct,{path:"/marketing/campaigns",element:s.jsx(xAe,{})}),s.jsx(Ct,{path:"/marketing/landing-pages",element:s.jsx(gAe,{})}),s.jsx(Ct,{path:"/marketing/landing-pages/add",element:s.jsx(_Ae,{})}),s.jsx(Ct,{path:"/marketing/meta-integration",element:s.jsx(vAe,{})}),s.jsx(Ct,{path:"/marketing/reports",element:s.jsx(k9,{})}),s.jsx(Ct,{path:"/marketing/reports/campaign-summary",element:s.jsx(k9,{})}),s.jsx(Ct,{path:"/marketing/reports/lead-source-performance",element:s.jsx(yAe,{})}),s.jsx(Ct,{path:"/marketing/reports/cost-vs-revenue",element:s.jsx(wAe,{})}),s.jsx(Ct,{path:"/marketing/reports/monthly-overview",element:s.jsx(jAe,{})})]}),s.jsx(Ct,{path:"/reports",element:s.jsx(DS,{})}),s.jsx(Ct,{path:"/reports/overview",element:s.jsx(DS,{})}),s.jsx(Ct,{path:"/reports/dashboard",element:s.jsx(DS,{})}),s.jsx(Ct,{path:"/reports/sales",element:s.jsx(PAe,{})}),s.jsx(Ct,{path:"/reports/sales/activities",element:s.jsx(ZUe,{})}),s.jsx(Ct,{path:"/reports/sales/pipeline",element:s.jsx(tze,{})}),s.jsx(Ct,{path:"/reports/sales/reservations",element:s.jsx(aze,{})}),s.jsx(Ct,{path:"/reports/sales/closed-deals",element:s.jsx(sze,{})}),s.jsx(Ct,{path:"/reports/sales/rent",element:s.jsx(rze,{})}),s.jsx(Ct,{path:"/reports/sales/check-in",element:s.jsx(nze,{})}),s.jsx(Ct,{path:"/reports/sales/customers",element:s.jsx(ize,{})}),s.jsx(Ct,{path:"/reports/sales/imports",element:s.jsx(QUe,{})}),s.jsx(Ct,{path:"/reports/sales/exports",element:s.jsx(C$,{})}),s.jsx(Ct,{path:"/exports",element:s.jsx(C$,{})}),s.jsx(Ct,{path:"/reports/sales/meetings",element:s.jsx(JUe,{})}),s.jsx(Ct,{path:"/reports/leads",element:s.jsx(XUe,{})}),s.jsx(Ct,{path:"/reports/team",element:s.jsx(ES,{})}),s.jsx(Ct,{path:"/reports/sms",element:s.jsx(S9,{titleKey:"Sms Report",descKey:"reports.sms.desc"})}),s.jsx(Ct,{path:"/reports/calls",element:s.jsx(S9,{titleKey:"Calls Report",descKey:"reports.calls.desc"})}),s.jsx(Ct,{path:"/reports/performance",element:s.jsx(ES,{})}),s.jsx(Ct,{path:"/team-performance",element:s.jsx(ES,{})}),s.jsxs(Ct,{element:s.jsx(PS,{moduleKey:"settings"}),children:[s.jsx(Ct,{path:"/settings",element:s.jsx(g5,{to:"/settings/profile",replace:!0})}),s.jsx(Ct,{path:"/settings/profile",element:s.jsx(mCe,{})}),s.jsx(Ct,{path:"/settings/profile/company",element:s.jsx(pCe,{})}),s.jsx(Ct,{path:"/settings/profile/contact-info",element:s.jsx(yCe,{})}),s.jsx(Ct,{path:"/settings/system/preferences",element:s.jsx(wCe,{})}),s.jsx(Ct,{path:"/settings/system/modules",element:s.jsx(jCe,{})}),s.jsx(Ct,{path:"/settings/system/security",element:s.jsx(NCe,{})}),s.jsx(Ct,{path:"/settings/system/custom-fields",element:s.jsx(kCe,{})}),s.jsx(Ct,{path:"/settings/system/audit-logs",element:s.jsx(SCe,{})}),s.jsx(Ct,{path:"/settings/configuration",element:s.jsx(K6e,{})}),s.jsx(Ct,{path:"/settings/configuration/cancel-reasons",element:s.jsx(Q6e,{})}),s.jsx(Ct,{path:"/settings/configuration/payment-plans",element:s.jsx(nAe,{})}),s.jsx(Ct,{path:"/settings/company-setup",element:s.jsx(g5,{to:"/settings/company-setup/info",replace:!0})}),s.jsx(Ct,{path:"/settings/company-setup/info",element:s.jsx(y.Suspense,{fallback:s.jsx("div",{className:"p-4 text-sm",children:"Loading"}),children:s.jsx(Lze,{})})}),s.jsx(Ct,{path:"/settings/company-setup/subscription",element:s.jsx(y.Suspense,{fallback:s.jsx("div",{className:"p-4 text-sm",children:"Loading"}),children:s.jsx(Oze,{})})}),s.jsx(Ct,{path:"/settings/company-setup/modules",element:s.jsx(y.Suspense,{fallback:s.jsx("div",{className:"p-4 text-sm",children:"Loading"}),children:s.jsx(Rze,{})})}),s.jsx(Ct,{path:"/settings/company-setup/departments",element:s.jsx(y.Suspense,{fallback:s.jsx("div",{className:"p-4 text-sm",children:"Loading"}),children:s.jsx(Fze,{})})}),s.jsx(Ct,{path:"/settings/company-setup/visibility",element:s.jsx(y.Suspense,{fallback:s.jsx("div",{className:"p-4 text-sm",children:"Loading"}),children:s.jsx(Ize,{})})}),s.jsxs(Ct,{element:s.jsx(Pze,{}),children:[" ",s.jsx(Ct,{path:"/settings/billing/subscription",element:s.jsx(CCe,{})})," "]}),s.jsx(Ct,{path:"/settings/billing/payment-history",element:s.jsx(ACe,{})}),s.jsx(Ct,{path:"/settings/billing/plans-upgrade",element:s.jsx(_Ce,{})}),s.jsx(Ct,{path:"/settings/integrations/api-keys",element:s.jsx(ECe,{})}),s.jsx(Ct,{path:"/settings/integrations/webhooks",element:s.jsx(TCe,{})}),s.jsx(Ct,{path:"/settings/integrations/whatsapp",element:s.jsx(LCe,{})}),s.jsx(Ct,{path:"/settings/integrations/payment-gateway",element:s.jsx(OCe,{})}),s.jsx(Ct,{path:"/settings/integrations/google-slack",element:s.jsx(RCe,{})}),s.jsx(Ct,{path:"/settings/data/import",element:s.jsx(FCe,{})}),s.jsx(Ct,{path:"/settings/data/export",element:s.jsx(ICe,{})}),s.jsx(Ct,{path:"/settings/data/backup",element:s.jsx(BCe,{})}),s.jsx(Ct,{path:"/settings/operations/scripting",element:s.jsx(zCe,{})}),s.jsx(Ct,{path:"/settings/operations/eoi",element:s.jsx(WCe,{})}),s.jsx(Ct,{path:"/settings/operations/reservation",element:s.jsx(KCe,{})}),s.jsx(Ct,{path:"/settings/operations/rotation",element:s.jsx(x6e,{})}),s.jsx(Ct,{path:"/settings/operations/contracts",element:s.jsx(b6e,{})}),s.jsx(Ct,{path:"/settings/operations/buyer-request-reset",element:s.jsx(N6e,{})}),s.jsx(Ct,{path:"/settings/operations/matching",element:s.jsx(T6e,{})}),s.jsx(Ct,{path:"/settings/operations/rent",element:s.jsx(F6e,{})}),s.jsx(Ct,{path:"/settings/operations/cil",element:s.jsx($6e,{})})]}),s.jsx(Ct,{path:"/user-management/users",element:s.jsx(pze,{})}),s.jsx(Ct,{path:"/user-management/users/new",element:s.jsx(bze,{})}),s.jsx(Ct,{path:"/user-management/activity-logs",element:s.jsx(Nze,{})}),s.jsx(Ct,{path:"/user-management/access-logs",element:s.jsx(Cze,{})}),s.jsx(Ct,{path:"/user-management/roles",element:s.jsx(_ze,{})}),s.jsx(Ct,{path:"/user-management/roles/:name",element:s.jsx(Tze,{})}),s.jsx(Ct,{path:"/inventory/products",element:s.jsx(iAe,{})}),s.jsx(Ct,{path:"/inventory/items",element:s.jsx(lAe,{})}),s.jsx(Ct,{path:"/inventory/categories",element:s.jsx(oAe,{})}),s.jsx(Ct,{path:"/inventory/brokers",element:s.jsx(cAe,{})}),s.jsx(Ct,{path:"/inventory/developers",element:s.jsx(dAe,{})}),s.jsx(Ct,{path:"/inventory/stock-management",element:s.jsx(uAe,{})}),s.jsx(Ct,{path:"/inventory/transactions",element:s.jsx(hAe,{})}),s.jsx(Ct,{path:"/inventory/warehouse",element:s.jsx(mAe,{})}),s.jsx(Ct,{path:"/inventory/suppliers",element:s.jsx(fAe,{})}),s.jsx(Ct,{path:"/contact",element:s.jsx(NAe,{})}),s.jsx(Ct,{path:"/tasks",element:s.jsx(DAe,{})}),s.jsx(Ct,{path:"/notifications",element:s.jsx(N5e,{})})]})})]})})}const Lze=y.lazy(()=>pn(()=>import("./CompanyInfoPage-BUNcHE4F.js"),__vite__mapDeps([0,1]))),Oze=y.lazy(()=>pn(()=>import("./SubscriptionPage-C8duW2Z7.js"),__vite__mapDeps([2,1]))),Rze=y.lazy(()=>pn(()=>import("./ModulesPage-DT_3VtFc.js"),__vite__mapDeps([3,1]))),Fze=y.lazy(()=>pn(()=>import("./DepartmentsPage-CGicAiA7.js"),__vite__mapDeps([4,1]))),Ize=y.lazy(()=>pn(()=>import("./VisibilityPage-B6_5my3A.js"),__vite__mapDeps([5,1])));function Bze(){const{i18n:e}=St();return s.jsx("div",{className:e.language==="ar"?"rtl":"ltr",children:s.jsx(Mze,{})})}const $ze=y.createContext({show:()=>{}}),Uze=({children:e})=>{const[t,a]=y.useState([]),r=y.useCallback(i=>{const l=Math.random().toString(36).slice(2),o={id:l,type:i?.type||"info",message:i?.message||""};a(c=>[...c,o]),setTimeout(()=>{a(c=>c.filter(d=>d.id!==l))},3500)},[]);y.useEffect(()=>{const i=l=>r(l.detail);return window.addEventListener("app:toast",i),()=>window.removeEventListener("app:toast",i)},[r]);const n=y.useMemo(()=>({show:r}),[r]);return s.jsxs($ze.Provider,{value:n,children:[e,s.jsx("div",{className:"fixed bottom-4 right-4 space-y-2 z-50",children:t.map(i=>s.jsx("div",{className:`${i.type==="error"?"bg-red-600":i.type==="success"?"bg-green-600":"bg-slate-700"} text-white px-4 py-2 rounded shadow`,children:i.message},i.id))})]})};class zze extends Ws.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(t){try{const a=new CustomEvent("app:toast",{detail:{type:"error",message:t?.message||"Unexpected error"}});window.dispatchEvent(a)}catch{}}render(){return this.state.hasError?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"p-6 rounded-lg border bg-white/80 dark:bg-neutral-900",children:s.jsx("div",{className:"text-red-600 font-semibold",children:"Something went wrong"})})}):this.props.children}}const _b=e=>new Promise(t=>setTimeout(t,e));async function Hze(){return await _b(250),{companyInfo:{companyName:"Be Souhola",industry:"Real Estate",address:"123 Example St, Cairo",phone:"+20 111 222 3333",logoUrl:""},subscription:{plan:"Pro",features:["settings","leads","clients","deals","reservations","contracts","operations","matching","billing","reports","notifications","integrations"]},enabledModules:["settings","leads","clients","deals","reservations","contracts","operations","matching","billing","reports","notifications","integrations"],departments:[{id:"dept-sales",name:"Sales",role:"Sales",users:12},{id:"dept-ops",name:"Operations",role:"Ops",users:9},{id:"dept-fin",name:"Finance",role:"Finance",users:5}],visibility:{Sales:["settings","leads","deals","reports"],Operations:["settings","contracts","matching","reservations","operations"],Finance:["settings","billing","contracts","reports"]}}}async function Vze(e){return await _b(200),{status:200,data:{ok:!0,companyInfo:e}}}async function Wze(e){return await _b(200),{status:200,data:{ok:!0,enabledModules:e}}}async function E$(e){return await _b(200),{status:200,data:{ok:!0,departments:e}}}async function qze(e){return await _b(200),{status:200,data:{ok:!0,visibility:e}}}const iZ=y.createContext(null);function Gze({children:e}){const[t,a]=y.useState({companyName:"",industry:"",address:"",phone:"",logoUrl:""}),[r,n]=y.useState({plan:"Free",features:[]}),[i,l]=y.useState([]),[o,c]=y.useState([]),[d,u]=y.useState({}),[f,p]=y.useState(!1),m=y.useMemo(()=>({modules:i,departments:d}),[i,d]),v=y.useCallback(async N=>{a(A=>({...A,...N}));try{await Vze(N)}catch{}},[]),g=y.useCallback(async N=>{l(A=>A.includes(N)?A.filter(D=>D!==N):[...A,N]);try{await Wze(i)}catch{}},[i]),b=y.useCallback(async N=>{c(A=>[...A,{...N,id:N.id||`dept-${Date.now()}`}]);try{await E$(o)}catch{}},[o]),j=y.useCallback(async(N,A)=>{c(_=>_.map(E=>E.id===N?{...E,...A}:E));try{await E$(o)}catch{}},[o]),k=y.useCallback(async N=>{u(N);try{await qze(N)}catch{}},[]);y.useEffect(()=>{let N=!0;return(async()=>{p(!0);try{const A=await Hze();if(!N)return;a(A.companyInfo||{}),n(A.subscription||{plan:"Free",features:[]}),l(Array.isArray(A.enabledModules)?A.enabledModules:[]),c(Array.isArray(A.departments)?A.departments:[]),u(A.visibility||{})}finally{N&&p(!1)}})(),()=>{N=!1}},[]);const S=y.useMemo(()=>({companySetup:{companyInfo:t,subscription:r,enabledModules:i,departments:o,visibility:d},permissions:m,loading:f,updateCompanyInfo:v,toggleModule:g,addDepartment:b,updateDepartment:j,updateVisibility:k}),[t,r,i,o,d,m,f,v,g,b,j,k]);return s.jsx(iZ.Provider,{value:S,children:e})}function UHe(){const e=y.useContext(iZ);if(!e)throw new Error("useCompanySetup must be used within CompanySetupProvider");return e}Ls.register(...qle);try{if(typeof window<"u"&&window.localStorage){const e=window.localStorage.getItem("systemPrefs");if(e){const t=JSON.parse(e);t&&(Ls.defaults.elements=Ls.defaults.elements||{},Ls.defaults.elements.bar={...Ls.defaults.elements.bar||{},borderRadius:t.chartsRounded?6:0},Ls.defaults.scales={...Ls.defaults.scales||{},x:{...Ls.defaults.scales?.x||{},stacked:!!t.chartsStacked},y:{...Ls.defaults.scales?.y||{},stacked:!!t.chartsStacked}})}}}catch{}const Kze=new Wee;bee.createRoot(document.getElementById("root")).render(s.jsx(y.StrictMode,{children:s.jsx(Mae,{i18n:Gr,children:s.jsx(Gee,{client:Kze,children:s.jsx(cae,{children:s.jsx(Uze,{children:s.jsx(goe,{children:s.jsx(Rde,{children:s.jsx(Gze,{children:s.jsx(zze,{children:s.jsx(Bze,{})})})})})})})})})}));export{_r as L,tr as _,Yze as c,kh as g,s as j,y as r,UHe as u};
//# sourceMappingURL=index-BAEzyTLv.js.map
