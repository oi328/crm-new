const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CompanyInfoPage-eYFYPOLj.js","assets/SaveButton-BixOR6YV.js","assets/SubscriptionPage-PLgolSJQ.js","assets/ModulesPage-qMr5GVqN.js","assets/DepartmentsPage-ogt3bzB6.js","assets/VisibilityPage-295nGPPL.js"])))=>i.map(i=>d[i]);
function OZ(e,t){for(var a=0;a<t.length;a++){const s=t[a];if(typeof s!="string"&&!Array.isArray(s)){for(const n in s)if(n!=="default"&&!(n in e)){const i=Object.getOwnPropertyDescriptor(s,n);i&&Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:()=>s[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function a(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=a(n);fetch(n.href,i)}})();var aze=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var J4={exports:{}},Cg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b7;function RZ(){if(b7)return Cg;b7=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function a(s,n,i){var l=null;if(i!==void 0&&(l=""+i),n.key!==void 0&&(l=""+n.key),"key"in n){i={};for(var o in n)o!=="key"&&(i[o]=n[o])}else i=n;return n=i.ref,{$$typeof:e,type:s,key:l,ref:n!==void 0?n:null,props:i}}return Cg.Fragment=t,Cg.jsx=a,Cg.jsxs=a,Cg}var y7;function FZ(){return y7||(y7=1,J4.exports=RZ()),J4.exports}var r=FZ(),Q4={exports:{}},tr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w7;function IZ(){if(w7)return tr;w7=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),f=Symbol.iterator;function x(W){return W===null||typeof W!="object"?null:(W=f&&W[f]||W["@@iterator"],typeof W=="function"?W:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function b(W,le,M){this.props=W,this.context=le,this.refs=v,this.updater=M||m}b.prototype.isReactComponent={},b.prototype.setState=function(W,le){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,le,"setState")},b.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function j(){}j.prototype=b.prototype;function S(W,le,M){this.props=W,this.context=le,this.refs=v,this.updater=M||m}var k=S.prototype=new j;k.constructor=S,g(k,b.prototype),k.isPureReactComponent=!0;var N=Array.isArray,A={H:null,A:null,T:null,S:null,V:null},_=Object.prototype.hasOwnProperty;function D(W,le,M,X,z,Q){return M=Q.ref,{$$typeof:e,type:W,key:le,ref:M!==void 0?M:null,props:Q}}function P(W,le){return D(W.type,le,void 0,void 0,void 0,W.props)}function I(W){return typeof W=="object"&&W!==null&&W.$$typeof===e}function B(W){var le={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(M){return le[M]})}var O=/\/+/g;function U(W,le){return typeof W=="object"&&W!==null&&W.key!=null?B(""+W.key):le.toString(36)}function E(){}function R(W){switch(W.status){case"fulfilled":return W.value;case"rejected":throw W.reason;default:switch(typeof W.status=="string"?W.then(E,E):(W.status="pending",W.then(function(le){W.status==="pending"&&(W.status="fulfilled",W.value=le)},function(le){W.status==="pending"&&(W.status="rejected",W.reason=le)})),W.status){case"fulfilled":return W.value;case"rejected":throw W.reason}}throw W}function K(W,le,M,X,z){var Q=typeof W;(Q==="undefined"||Q==="boolean")&&(W=null);var ne=!1;if(W===null)ne=!0;else switch(Q){case"bigint":case"string":case"number":ne=!0;break;case"object":switch(W.$$typeof){case e:case t:ne=!0;break;case u:return ne=W._init,K(ne(W._payload),le,M,X,z)}}if(ne)return z=z(W),ne=X===""?"."+U(W,0):X,N(z)?(M="",ne!=null&&(M=ne.replace(O,"$&/")+"/"),K(z,le,M,"",function(q){return q})):z!=null&&(I(z)&&(z=P(z,M+(z.key==null||W&&W.key===z.key?"":(""+z.key).replace(O,"$&/")+"/")+ne)),le.push(z)),1;ne=0;var re=X===""?".":X+":";if(N(W))for(var oe=0;oe<W.length;oe++)X=W[oe],Q=re+U(X,oe),ne+=K(X,le,M,Q,z);else if(oe=x(W),typeof oe=="function")for(W=oe.call(W),oe=0;!(X=W.next()).done;)X=X.value,Q=re+U(X,oe++),ne+=K(X,le,M,Q,z);else if(Q==="object"){if(typeof W.then=="function")return K(R(W),le,M,X,z);throw le=String(W),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return ne}function V(W,le,M){if(W==null)return W;var X=[],z=0;return K(W,X,"","",function(Q){return le.call(M,Q,z++)}),X}function Z(W){if(W._status===-1){var le=W._result;le=le(),le.then(function(M){(W._status===0||W._status===-1)&&(W._status=1,W._result=M)},function(M){(W._status===0||W._status===-1)&&(W._status=2,W._result=M)}),W._status===-1&&(W._status=0,W._result=le)}if(W._status===1)return W._result.default;throw W._result}var J=typeof reportError=="function"?reportError:function(W){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof W=="object"&&W!==null&&typeof W.message=="string"?String(W.message):String(W),error:W});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",W);return}console.error(W)};function ee(){}return tr.Children={map:V,forEach:function(W,le,M){V(W,function(){le.apply(this,arguments)},M)},count:function(W){var le=0;return V(W,function(){le++}),le},toArray:function(W){return V(W,function(le){return le})||[]},only:function(W){if(!I(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},tr.Component=b,tr.Fragment=a,tr.Profiler=n,tr.PureComponent=S,tr.StrictMode=s,tr.Suspense=c,tr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,tr.__COMPILER_RUNTIME={__proto__:null,c:function(W){return A.H.useMemoCache(W)}},tr.cache=function(W){return function(){return W.apply(null,arguments)}},tr.cloneElement=function(W,le,M){if(W==null)throw Error("The argument must be a React element, but you passed "+W+".");var X=g({},W.props),z=W.key,Q=void 0;if(le!=null)for(ne in le.ref!==void 0&&(Q=void 0),le.key!==void 0&&(z=""+le.key),le)!_.call(le,ne)||ne==="key"||ne==="__self"||ne==="__source"||ne==="ref"&&le.ref===void 0||(X[ne]=le[ne]);var ne=arguments.length-2;if(ne===1)X.children=M;else if(1<ne){for(var re=Array(ne),oe=0;oe<ne;oe++)re[oe]=arguments[oe+2];X.children=re}return D(W.type,z,void 0,void 0,Q,X)},tr.createContext=function(W){return W={$$typeof:l,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null},W.Provider=W,W.Consumer={$$typeof:i,_context:W},W},tr.createElement=function(W,le,M){var X,z={},Q=null;if(le!=null)for(X in le.key!==void 0&&(Q=""+le.key),le)_.call(le,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(z[X]=le[X]);var ne=arguments.length-2;if(ne===1)z.children=M;else if(1<ne){for(var re=Array(ne),oe=0;oe<ne;oe++)re[oe]=arguments[oe+2];z.children=re}if(W&&W.defaultProps)for(X in ne=W.defaultProps,ne)z[X]===void 0&&(z[X]=ne[X]);return D(W,Q,void 0,void 0,null,z)},tr.createRef=function(){return{current:null}},tr.forwardRef=function(W){return{$$typeof:o,render:W}},tr.isValidElement=I,tr.lazy=function(W){return{$$typeof:u,_payload:{_status:-1,_result:W},_init:Z}},tr.memo=function(W,le){return{$$typeof:d,type:W,compare:le===void 0?null:le}},tr.startTransition=function(W){var le=A.T,M={};A.T=M;try{var X=W(),z=A.S;z!==null&&z(M,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(ee,J)}catch(Q){J(Q)}finally{A.T=le}},tr.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},tr.use=function(W){return A.H.use(W)},tr.useActionState=function(W,le,M){return A.H.useActionState(W,le,M)},tr.useCallback=function(W,le){return A.H.useCallback(W,le)},tr.useContext=function(W){return A.H.useContext(W)},tr.useDebugValue=function(){},tr.useDeferredValue=function(W,le){return A.H.useDeferredValue(W,le)},tr.useEffect=function(W,le,M){var X=A.H;if(typeof M=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(W,le)},tr.useId=function(){return A.H.useId()},tr.useImperativeHandle=function(W,le,M){return A.H.useImperativeHandle(W,le,M)},tr.useInsertionEffect=function(W,le){return A.H.useInsertionEffect(W,le)},tr.useLayoutEffect=function(W,le){return A.H.useLayoutEffect(W,le)},tr.useMemo=function(W,le){return A.H.useMemo(W,le)},tr.useOptimistic=function(W,le){return A.H.useOptimistic(W,le)},tr.useReducer=function(W,le,M){return A.H.useReducer(W,le,M)},tr.useRef=function(W){return A.H.useRef(W)},tr.useState=function(W){return A.H.useState(W)},tr.useSyncExternalStore=function(W,le,M){return A.H.useSyncExternalStore(W,le,M)},tr.useTransition=function(){return A.H.useTransition()},tr.version="19.1.1",tr}var j7;function vx(){return j7||(j7=1,Q4.exports=IZ()),Q4.exports}var w=vx();const In=vh(w),BZ=OZ({__proto__:null,default:In},[w]);var Z4={exports:{}},Ag={},e5={exports:{}},t5={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N7;function $Z(){return N7||(N7=1,(function(e){function t(V,Z){var J=V.length;V.push(Z);e:for(;0<J;){var ee=J-1>>>1,W=V[ee];if(0<n(W,Z))V[ee]=Z,V[J]=W,J=ee;else break e}}function a(V){return V.length===0?null:V[0]}function s(V){if(V.length===0)return null;var Z=V[0],J=V.pop();if(J!==Z){V[0]=J;e:for(var ee=0,W=V.length,le=W>>>1;ee<le;){var M=2*(ee+1)-1,X=V[M],z=M+1,Q=V[z];if(0>n(X,J))z<W&&0>n(Q,X)?(V[ee]=Q,V[z]=J,ee=z):(V[ee]=X,V[M]=J,ee=M);else if(z<W&&0>n(Q,J))V[ee]=Q,V[z]=J,ee=z;else break e}}return Z}function n(V,Z){var J=V.sortIndex-Z.sortIndex;return J!==0?J:V.id-Z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,f=null,x=3,m=!1,g=!1,v=!1,b=!1,j=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function N(V){for(var Z=a(d);Z!==null;){if(Z.callback===null)s(d);else if(Z.startTime<=V)s(d),Z.sortIndex=Z.expirationTime,t(c,Z);else break;Z=a(d)}}function A(V){if(v=!1,N(V),!g)if(a(c)!==null)g=!0,_||(_=!0,U());else{var Z=a(d);Z!==null&&K(A,Z.startTime-V)}}var _=!1,D=-1,P=5,I=-1;function B(){return b?!0:!(e.unstable_now()-I<P)}function O(){if(b=!1,_){var V=e.unstable_now();I=V;var Z=!0;try{e:{g=!1,v&&(v=!1,S(D),D=-1),m=!0;var J=x;try{t:{for(N(V),f=a(c);f!==null&&!(f.expirationTime>V&&B());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,x=f.priorityLevel;var W=ee(f.expirationTime<=V);if(V=e.unstable_now(),typeof W=="function"){f.callback=W,N(V),Z=!0;break t}f===a(c)&&s(c),N(V)}else s(c);f=a(c)}if(f!==null)Z=!0;else{var le=a(d);le!==null&&K(A,le.startTime-V),Z=!1}}break e}finally{f=null,x=J,m=!1}Z=void 0}}finally{Z?U():_=!1}}}var U;if(typeof k=="function")U=function(){k(O)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,R=E.port2;E.port1.onmessage=O,U=function(){R.postMessage(null)}}else U=function(){j(O,0)};function K(V,Z){D=j(function(){V(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(V){switch(x){case 1:case 2:case 3:var Z=3;break;default:Z=x}var J=x;x=Z;try{return V()}finally{x=J}},e.unstable_requestPaint=function(){b=!0},e.unstable_runWithPriority=function(V,Z){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var J=x;x=V;try{return Z()}finally{x=J}},e.unstable_scheduleCallback=function(V,Z,J){var ee=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ee+J:ee):J=ee,V){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=J+W,V={id:u++,callback:Z,priorityLevel:V,startTime:J,expirationTime:W,sortIndex:-1},J>ee?(V.sortIndex=J,t(d,V),a(c)===null&&V===a(d)&&(v?(S(D),D=-1):v=!0,K(A,J-ee))):(V.sortIndex=W,t(c,V),g||m||(g=!0,_||(_=!0,U()))),V},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(V){var Z=x;return function(){var J=x;x=Z;try{return V.apply(this,arguments)}finally{x=J}}}})(t5)),t5}var S7;function UZ(){return S7||(S7=1,e5.exports=$Z()),e5.exports}var a5={exports:{}},Yi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k7;function zZ(){if(k7)return Yi;k7=1;var e=vx();function t(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)d+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(t(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},n=Symbol.for("react.portal");function i(c,d,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:n,key:f==null?null:""+f,children:c,containerInfo:d,implementation:u}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Yi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Yi.createPortal=function(c,d){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return i(c,d,null,u)},Yi.flushSync=function(c){var d=l.T,u=s.p;try{if(l.T=null,s.p=2,c)return c()}finally{l.T=d,s.p=u,s.d.f()}},Yi.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,s.d.C(c,d))},Yi.prefetchDNS=function(c){typeof c=="string"&&s.d.D(c)},Yi.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var u=d.as,f=o(u,d.crossOrigin),x=typeof d.integrity=="string"?d.integrity:void 0,m=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;u==="style"?s.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:f,integrity:x,fetchPriority:m}):u==="script"&&s.d.X(c,{crossOrigin:f,integrity:x,fetchPriority:m,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Yi.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var u=o(d.as,d.crossOrigin);s.d.M(c,{crossOrigin:u,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&s.d.M(c)},Yi.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var u=d.as,f=o(u,d.crossOrigin);s.d.L(c,u,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Yi.preloadModule=function(c,d){if(typeof c=="string")if(d){var u=o(d.as,d.crossOrigin);s.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:u,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else s.d.m(c)},Yi.requestFormReset=function(c){s.d.r(c)},Yi.unstable_batchedUpdates=function(c,d){return c(d)},Yi.useFormState=function(c,d,u){return l.H.useFormState(c,d,u)},Yi.useFormStatus=function(){return l.H.useHostTransitionStatus()},Yi.version="19.1.1",Yi}var C7;function h$(){if(C7)return a5.exports;C7=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),a5.exports=zZ(),a5.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A7;function HZ(){if(A7)return Ag;A7=1;var e=UZ(),t=vx(),a=h$();function s(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function i(h){var p=h,y=h;if(h.alternate)for(;p.return;)p=p.return;else{h=p;do p=h,(p.flags&4098)!==0&&(y=p.return),h=p.return;while(h)}return p.tag===3?y:null}function l(h){if(h.tag===13){var p=h.memoizedState;if(p===null&&(h=h.alternate,h!==null&&(p=h.memoizedState)),p!==null)return p.dehydrated}return null}function o(h){if(i(h)!==h)throw Error(s(188))}function c(h){var p=h.alternate;if(!p){if(p=i(h),p===null)throw Error(s(188));return p!==h?null:h}for(var y=h,C=p;;){var L=y.return;if(L===null)break;var H=L.alternate;if(H===null){if(C=L.return,C!==null){y=C;continue}break}if(L.child===H.child){for(H=L.child;H;){if(H===y)return o(L),h;if(H===C)return o(L),p;H=H.sibling}throw Error(s(188))}if(y.return!==C.return)y=L,C=H;else{for(var de=!1,ve=L.child;ve;){if(ve===y){de=!0,y=L,C=H;break}if(ve===C){de=!0,C=L,y=H;break}ve=ve.sibling}if(!de){for(ve=H.child;ve;){if(ve===y){de=!0,y=H,C=L;break}if(ve===C){de=!0,C=H,y=L;break}ve=ve.sibling}if(!de)throw Error(s(189))}}if(y.alternate!==C)throw Error(s(190))}if(y.tag!==3)throw Error(s(188));return y.stateNode.current===y?h:p}function d(h){var p=h.tag;if(p===5||p===26||p===27||p===6)return h;for(h=h.child;h!==null;){if(p=d(h),p!==null)return p;h=h.sibling}return null}var u=Object.assign,f=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),k=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(h){return h===null||typeof h!="object"?null:(h=O&&h[O]||h["@@iterator"],typeof h=="function"?h:null)}var E=Symbol.for("react.client.reference");function R(h){if(h==null)return null;if(typeof h=="function")return h.$$typeof===E?null:h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case g:return"Fragment";case b:return"Profiler";case v:return"StrictMode";case A:return"Suspense";case _:return"SuspenseList";case I:return"Activity"}if(typeof h=="object")switch(h.$$typeof){case m:return"Portal";case k:return(h.displayName||"Context")+".Provider";case S:return(h._context.displayName||"Context")+".Consumer";case N:var p=h.render;return h=h.displayName,h||(h=p.displayName||p.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case D:return p=h.displayName||null,p!==null?p:R(h.type)||"Memo";case P:p=h._payload,h=h._init;try{return R(h(p))}catch{}}return null}var K=Array.isArray,V=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},ee=[],W=-1;function le(h){return{current:h}}function M(h){0>W||(h.current=ee[W],ee[W]=null,W--)}function X(h,p){W++,ee[W]=h.current,h.current=p}var z=le(null),Q=le(null),ne=le(null),re=le(null);function oe(h,p){switch(X(ne,p),X(Q,h),X(z,null),p.nodeType){case 9:case 11:h=(h=p.documentElement)&&(h=h.namespaceURI)?GE(h):0;break;default:if(h=p.tagName,p=p.namespaceURI)p=GE(p),h=KE(p,h);else switch(h){case"svg":h=1;break;case"math":h=2;break;default:h=0}}M(z),X(z,h)}function q(){M(z),M(Q),M(ne)}function ie(h){h.memoizedState!==null&&X(re,h);var p=z.current,y=KE(p,h.type);p!==y&&(X(Q,h),X(z,y))}function ye(h){Q.current===h&&(M(z),M(Q)),re.current===h&&(M(re),wg._currentValue=J)}var Y=Object.prototype.hasOwnProperty,ce=e.unstable_scheduleCallback,he=e.unstable_cancelCallback,ue=e.unstable_shouldYield,Fe=e.unstable_requestPaint,Ue=e.unstable_now,Te=e.unstable_getCurrentPriorityLevel,ae=e.unstable_ImmediatePriority,De=e.unstable_UserBlockingPriority,Ce=e.unstable_NormalPriority,at=e.unstable_LowPriority,ft=e.unstable_IdlePriority,zt=e.log,st=e.unstable_setDisableYieldValue,$e=null,qe=null;function ct(h){if(typeof zt=="function"&&st(h),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode($e,h)}catch{}}var dt=Math.clz32?Math.clz32:Lt,Nt=Math.log,Ct=Math.LN2;function Lt(h){return h>>>=0,h===0?32:31-(Nt(h)/Ct|0)|0}var Ht=256,Vt=4194304;function Ne(h){var p=h&42;if(p!==0)return p;switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return h&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return h}}function Mt(h,p,y){var C=h.pendingLanes;if(C===0)return 0;var L=0,H=h.suspendedLanes,de=h.pingedLanes;h=h.warmLanes;var ve=C&134217727;return ve!==0?(C=ve&~H,C!==0?L=Ne(C):(de&=ve,de!==0?L=Ne(de):y||(y=ve&~h,y!==0&&(L=Ne(y))))):(ve=C&~H,ve!==0?L=Ne(ve):de!==0?L=Ne(de):y||(y=C&~h,y!==0&&(L=Ne(y)))),L===0?0:p!==0&&p!==L&&(p&H)===0&&(H=L&-L,y=p&-p,H>=y||H===32&&(y&4194048)!==0)?p:L}function Ee(h,p){return(h.pendingLanes&~(h.suspendedLanes&~h.pingedLanes)&p)===0}function ze(h,p){switch(h){case 1:case 2:case 4:case 8:case 64:return p+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function We(){var h=Ht;return Ht<<=1,(Ht&4194048)===0&&(Ht=256),h}function xt(){var h=Vt;return Vt<<=1,(Vt&62914560)===0&&(Vt=4194304),h}function gt(h){for(var p=[],y=0;31>y;y++)p.push(h);return p}function sa(h,p){h.pendingLanes|=p,p!==268435456&&(h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0)}function Zt(h,p,y,C,L,H){var de=h.pendingLanes;h.pendingLanes=y,h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0,h.expiredLanes&=y,h.entangledLanes&=y,h.errorRecoveryDisabledLanes&=y,h.shellSuspendCounter=0;var ve=h.entanglements,Be=h.expirationTimes,ot=h.hiddenUpdates;for(y=de&~y;0<y;){var Tt=31-dt(y),Rt=1<<Tt;ve[Tt]=0,Be[Tt]=-1;var ht=ot[Tt];if(ht!==null)for(ot[Tt]=null,Tt=0;Tt<ht.length;Tt++){var mt=ht[Tt];mt!==null&&(mt.lane&=-536870913)}y&=~Rt}C!==0&&ka(h,C,0),H!==0&&L===0&&h.tag!==0&&(h.suspendedLanes|=H&~(de&~p))}function ka(h,p,y){h.pendingLanes|=p,h.suspendedLanes&=~p;var C=31-dt(p);h.entangledLanes|=p,h.entanglements[C]=h.entanglements[C]|1073741824|y&4194090}function ut(h,p){var y=h.entangledLanes|=p;for(h=h.entanglements;y;){var C=31-dt(y),L=1<<C;L&p|h[C]&p&&(h[C]|=p),y&=~L}}function ta(h){switch(h){case 2:h=1;break;case 8:h=4;break;case 32:h=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:h=128;break;case 268435456:h=134217728;break;default:h=0}return h}function va(h){return h&=-h,2<h?8<h?(h&134217727)!==0?32:268435456:8:2}function pa(){var h=Z.p;return h!==0?h:(h=window.event,h===void 0?32:f7(h.type))}function Ae(h,p){var y=Z.p;try{return Z.p=h,p()}finally{Z.p=y}}var na=Math.random().toString(36).slice(2),Za="__reactFiber$"+na,Ka="__reactProps$"+na,rr="__reactContainer$"+na,$a="__reactEvents$"+na,Ua="__reactListeners$"+na,pe="__reactHandles$"+na,Me="__reactResources$"+na,we="__reactMarker$"+na;function Se(h){delete h[Za],delete h[Ka],delete h[$a],delete h[Ua],delete h[pe]}function _e(h){var p=h[Za];if(p)return p;for(var y=h.parentNode;y;){if(p=y[rr]||y[Za]){if(y=p.alternate,p.child!==null||y!==null&&y.child!==null)for(h=QE(h);h!==null;){if(y=h[Za])return y;h=QE(h)}return p}h=y,y=h.parentNode}return null}function Oe(h){if(h=h[Za]||h[rr]){var p=h.tag;if(p===5||p===6||p===13||p===26||p===27||p===3)return h}return null}function Ze(h){var p=h.tag;if(p===5||p===26||p===27||p===6)return h.stateNode;throw Error(s(33))}function pt(h){var p=h[Me];return p||(p=h[Me]={hoistableStyles:new Map,hoistableScripts:new Map}),p}function Xe(h){h[we]=!0}var tt=new Set,nt={};function At(h,p){Ft(h,p),Ft(h+"Capture",p)}function Ft(h,p){for(nt[h]=p,h=0;h<p.length;h++)tt.add(p[h])}var Qt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ke={},Ge={};function qt(h){return Y.call(Ge,h)?!0:Y.call(ke,h)?!1:Qt.test(h)?Ge[h]=!0:(ke[h]=!0,!1)}function xa(h,p,y){if(qt(p))if(y===null)h.removeAttribute(p);else{switch(typeof y){case"undefined":case"function":case"symbol":h.removeAttribute(p);return;case"boolean":var C=p.toLowerCase().slice(0,5);if(C!=="data-"&&C!=="aria-"){h.removeAttribute(p);return}}h.setAttribute(p,""+y)}}function wa(h,p,y){if(y===null)h.removeAttribute(p);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":h.removeAttribute(p);return}h.setAttribute(p,""+y)}}function Wa(h,p,y,C){if(C===null)h.removeAttribute(y);else{switch(typeof C){case"undefined":case"function":case"symbol":case"boolean":h.removeAttribute(y);return}h.setAttributeNS(p,y,""+C)}}var Ws,Rr;function Un(h){if(Ws===void 0)try{throw Error()}catch(y){var p=y.stack.trim().match(/\n( *(at )?)/);Ws=p&&p[1]||"",Rr=-1<y.stack.indexOf(`
    at`)?" (<anonymous>)":-1<y.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ws+h+Rr}var oi=!1;function Fl(h,p){if(!h||oi)return"";oi=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var C={DetermineComponentFrameRoot:function(){try{if(p){var Rt=function(){throw Error()};if(Object.defineProperty(Rt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Rt,[])}catch(mt){var ht=mt}Reflect.construct(h,[],Rt)}else{try{Rt.call()}catch(mt){ht=mt}h.call(Rt.prototype)}}else{try{throw Error()}catch(mt){ht=mt}(Rt=h())&&typeof Rt.catch=="function"&&Rt.catch(function(){})}}catch(mt){if(mt&&ht&&typeof mt.stack=="string")return[mt.stack,ht.stack]}return[null,null]}};C.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var L=Object.getOwnPropertyDescriptor(C.DetermineComponentFrameRoot,"name");L&&L.configurable&&Object.defineProperty(C.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var H=C.DetermineComponentFrameRoot(),de=H[0],ve=H[1];if(de&&ve){var Be=de.split(`
`),ot=ve.split(`
`);for(L=C=0;C<Be.length&&!Be[C].includes("DetermineComponentFrameRoot");)C++;for(;L<ot.length&&!ot[L].includes("DetermineComponentFrameRoot");)L++;if(C===Be.length||L===ot.length)for(C=Be.length-1,L=ot.length-1;1<=C&&0<=L&&Be[C]!==ot[L];)L--;for(;1<=C&&0<=L;C--,L--)if(Be[C]!==ot[L]){if(C!==1||L!==1)do if(C--,L--,0>L||Be[C]!==ot[L]){var Tt=`
`+Be[C].replace(" at new "," at ");return h.displayName&&Tt.includes("<anonymous>")&&(Tt=Tt.replace("<anonymous>",h.displayName)),Tt}while(1<=C&&0<=L);break}}}finally{oi=!1,Error.prepareStackTrace=y}return(y=h?h.displayName||h.name:"")?Un(y):""}function Tn(h){switch(h.tag){case 26:case 27:case 5:return Un(h.type);case 16:return Un("Lazy");case 13:return Un("Suspense");case 19:return Un("SuspenseList");case 0:case 15:return Fl(h.type,!1);case 11:return Fl(h.type.render,!1);case 1:return Fl(h.type,!0);case 31:return Un("Activity");default:return""}}function cu(h){try{var p="";do p+=Tn(h),h=h.return;while(h);return p}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}function fr(h){switch(typeof h){case"bigint":case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function yd(h){var p=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function du(h){var p=yd(h)?"checked":"value",y=Object.getOwnPropertyDescriptor(h.constructor.prototype,p),C=""+h[p];if(!h.hasOwnProperty(p)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var L=y.get,H=y.set;return Object.defineProperty(h,p,{configurable:!0,get:function(){return L.call(this)},set:function(de){C=""+de,H.call(this,de)}}),Object.defineProperty(h,p,{enumerable:y.enumerable}),{getValue:function(){return C},setValue:function(de){C=""+de},stopTracking:function(){h._valueTracker=null,delete h[p]}}}}function zn(h){h._valueTracker||(h._valueTracker=du(h))}function Hn(h){if(!h)return!1;var p=h._valueTracker;if(!p)return!0;var y=p.getValue(),C="";return h&&(C=yd(h)?h.checked?"true":"false":h.value),h=C,h!==y?(p.setValue(h),!0):!1}function ci(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}var Tc=/[\n"\\]/g;function mr(h){return h.replace(Tc,function(p){return"\\"+p.charCodeAt(0).toString(16)+" "})}function Ec(h,p,y,C,L,H,de,ve){h.name="",de!=null&&typeof de!="function"&&typeof de!="symbol"&&typeof de!="boolean"?h.type=de:h.removeAttribute("type"),p!=null?de==="number"?(p===0&&h.value===""||h.value!=p)&&(h.value=""+fr(p)):h.value!==""+fr(p)&&(h.value=""+fr(p)):de!=="submit"&&de!=="reset"||h.removeAttribute("value"),p!=null?uu(h,de,fr(p)):y!=null?uu(h,de,fr(y)):C!=null&&h.removeAttribute("value"),L==null&&H!=null&&(h.defaultChecked=!!H),L!=null&&(h.checked=L&&typeof L!="function"&&typeof L!="symbol"),ve!=null&&typeof ve!="function"&&typeof ve!="symbol"&&typeof ve!="boolean"?h.name=""+fr(ve):h.removeAttribute("name")}function Th(h,p,y,C,L,H,de,ve){if(H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"&&(h.type=H),p!=null||y!=null){if(!(H!=="submit"&&H!=="reset"||p!=null))return;y=y!=null?""+fr(y):"",p=p!=null?""+fr(p):y,ve||p===h.value||(h.value=p),h.defaultValue=p}C=C??L,C=typeof C!="function"&&typeof C!="symbol"&&!!C,h.checked=ve?h.checked:!!C,h.defaultChecked=!!C,de!=null&&typeof de!="function"&&typeof de!="symbol"&&typeof de!="boolean"&&(h.name=de)}function uu(h,p,y){p==="number"&&ci(h.ownerDocument)===h||h.defaultValue===""+y||(h.defaultValue=""+y)}function oo(h,p,y,C){if(h=h.options,p){p={};for(var L=0;L<y.length;L++)p["$"+y[L]]=!0;for(y=0;y<h.length;y++)L=p.hasOwnProperty("$"+h[y].value),h[y].selected!==L&&(h[y].selected=L),L&&C&&(h[y].defaultSelected=!0)}else{for(y=""+fr(y),p=null,L=0;L<h.length;L++){if(h[L].value===y){h[L].selected=!0,C&&(h[L].defaultSelected=!0);return}p!==null||h[L].disabled||(p=h[L])}p!==null&&(p.selected=!0)}}function sn(h,p,y){if(p!=null&&(p=""+fr(p),p!==h.value&&(h.value=p),y==null)){h.defaultValue!==p&&(h.defaultValue=p);return}h.defaultValue=y!=null?""+fr(y):""}function Io(h,p,y,C){if(p==null){if(C!=null){if(y!=null)throw Error(s(92));if(K(C)){if(1<C.length)throw Error(s(93));C=C[0]}y=C}y==null&&(y=""),p=y}y=fr(p),h.defaultValue=y,C=h.textContent,C===y&&C!==""&&C!==null&&(h.value=C)}function Ai(h,p){if(p){var y=h.firstChild;if(y&&y===h.lastChild&&y.nodeType===3){y.nodeValue=p;return}}h.textContent=p}var Bo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ie(h,p,y){var C=p.indexOf("--")===0;y==null||typeof y=="boolean"||y===""?C?h.setProperty(p,""):p==="float"?h.cssFloat="":h[p]="":C?h.setProperty(p,y):typeof y!="number"||y===0||Bo.has(p)?p==="float"?h.cssFloat=y:h[p]=(""+y).trim():h[p]=y+"px"}function wt(h,p,y){if(p!=null&&typeof p!="object")throw Error(s(62));if(h=h.style,y!=null){for(var C in y)!y.hasOwnProperty(C)||p!=null&&p.hasOwnProperty(C)||(C.indexOf("--")===0?h.setProperty(C,""):C==="float"?h.cssFloat="":h[C]="");for(var L in p)C=p[L],p.hasOwnProperty(L)&&y[L]!==C&&Ie(h,L,C)}else for(var H in p)p.hasOwnProperty(H)&&Ie(h,H,p[H])}function ea(h){if(h.indexOf("-")===-1)return!1;switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),br=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mr(h){return br.test(""+h)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":h}var Zr=null;function En(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var er=null,vs=null;function ia(h){var p=Oe(h);if(p&&(h=p.stateNode)){var y=h[Ka]||null;e:switch(h=p.stateNode,p.type){case"input":if(Ec(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name),p=y.name,y.type==="radio"&&p!=null){for(y=h;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll('input[name="'+mr(""+p)+'"][type="radio"]'),p=0;p<y.length;p++){var C=y[p];if(C!==h&&C.form===h.form){var L=C[Ka]||null;if(!L)throw Error(s(90));Ec(C,L.value,L.defaultValue,L.defaultValue,L.checked,L.defaultChecked,L.type,L.name)}}for(p=0;p<y.length;p++)C=y[p],C.form===h.form&&Hn(C)}break e;case"textarea":sn(h,y.value,y.defaultValue);break e;case"select":p=y.value,p!=null&&oo(h,!!y.multiple,p,!1)}}}var co=!1;function es(h,p,y){if(co)return h(p,y);co=!0;try{var C=h(p);return C}finally{if(co=!1,(er!==null||vs!==null)&&(Yb(),er&&(p=er,h=vs,vs=er=null,ia(p),h)))for(p=0;p<h.length;p++)ia(h[p])}}function Ar(h,p){var y=h.stateNode;if(y===null)return null;var C=y[Ka]||null;if(C===null)return null;y=C[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(C=!C.disabled)||(h=h.type,C=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!C;break e;default:h=!1}if(h)return null;if(y&&typeof y!="function")throw Error(s(231,p,typeof y));return y}var bs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nn=!1;if(bs)try{var ln={};Object.defineProperty(ln,"passive",{get:function(){nn=!0}}),window.addEventListener("test",ln,ln),window.removeEventListener("test",ln,ln)}catch{nn=!1}var di=null,uo=null,_i=null;function Il(){if(_i)return _i;var h,p=uo,y=p.length,C,L="value"in di?di.value:di.textContent,H=L.length;for(h=0;h<y&&p[h]===L[h];h++);var de=y-h;for(C=1;C<=de&&p[y-C]===L[H-C];C++);return _i=L.slice(h,1<C?1-C:void 0)}function Wi(h){var p=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&p===13&&(h=13)):h=p,h===10&&(h=13),32<=h||h===13?h:0}function vl(){return!0}function $o(){return!1}function on(h){function p(y,C,L,H,de){this._reactName=y,this._targetInst=L,this.type=C,this.nativeEvent=H,this.target=de,this.currentTarget=null;for(var ve in h)h.hasOwnProperty(ve)&&(y=h[ve],this[ve]=y?y(H):H[ve]);return this.isDefaultPrevented=(H.defaultPrevented!=null?H.defaultPrevented:H.returnValue===!1)?vl:$o,this.isPropagationStopped=$o,this}return u(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=vl)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=vl)},persist:function(){},isPersistent:vl}),p}var ho={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wd=on(ho),fo=u({},ho,{view:0,detail:0}),hu=on(fo),fu,jd,Dc,Uo=u({},fo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:la,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==Dc&&(Dc&&h.type==="mousemove"?(fu=h.screenX-Dc.screenX,jd=h.screenY-Dc.screenY):jd=fu=0,Dc=h),fu)},movementY:function(h){return"movementY"in h?h.movementY:jd}}),Qf=on(Uo),zm=u({},Uo,{dataTransfer:0}),Mc=on(zm),Pc=u({},fo,{relatedTarget:0}),Eh=on(Pc),Hm=u({},ho,{animationName:0,elapsedTime:0,pseudoElement:0}),mu=on(Hm),Vm=u({},ho,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),G=on(Vm),fe=u({},ho,{data:0}),Re=on(fe),He={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_t={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function It(h){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(h):(h=_t[h])?!!p[h]:!1}function la(){return It}var ba=u({},fo,{key:function(h){if(h.key){var p=He[h.key]||h.key;if(p!=="Unidentified")return p}return h.type==="keypress"?(h=Wi(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?Qe[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:la,charCode:function(h){return h.type==="keypress"?Wi(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?Wi(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),Ma=on(ba),za=u({},Uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yr=on(za),cs=u({},fo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:la}),qs=on(cs),qr=u({},ho,{propertyName:0,elapsedTime:0,pseudoElement:0}),cn=on(qr),Gs=u({},Uo,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),Vn=on(Gs),Bl=u({},ho,{newState:0,oldState:0}),qi=on(Bl),Wm=[9,13,27,32],Nd=bs&&"CompositionEvent"in window,mo=null;bs&&"documentMode"in document&&(mo=document.documentMode);var Sd=bs&&"TextEvent"in window&&!mo,kd=bs&&(!Nd||mo&&8<mo&&11>=mo),Cd=" ",Ad=!1;function Wn(h,p){switch(h){case"keyup":return Wm.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _d(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var $l=!1;function Zf(h,p){switch(h){case"compositionend":return _d(p);case"keypress":return p.which!==32?null:(Ad=!0,Cd);case"textInput":return h=p.data,h===Cd&&Ad?null:h;default:return null}}function e0(h,p){if($l)return h==="compositionend"||!Nd&&Wn(h,p)?(h=Il(),_i=uo=di=null,$l=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return kd&&p.locale!=="ko"?null:p.data;default:return null}}var ys={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zo(h){var p=h&&h.nodeName&&h.nodeName.toLowerCase();return p==="input"?!!ys[h.type]:p==="textarea"}function pu(h,p,y,C){er?vs?vs.push(C):vs=[C]:er=C,p=ty(p,"onChange"),0<p.length&&(y=new wd("onChange","change",null,y,C),h.push({event:y,listeners:p}))}var Td=null,ui=null;function xu(h){zE(h,0)}function Ed(h){var p=Ze(h);if(Hn(p))return h}function Dh(h,p){if(h==="change")return p}var Lc=!1;if(bs){var Oc;if(bs){var Ti="oninput"in document;if(!Ti){var Gi=document.createElement("div");Gi.setAttribute("oninput","return;"),Ti=typeof Gi.oninput=="function"}Oc=Ti}else Oc=!1;Lc=Oc&&(!document.documentMode||9<document.documentMode)}function Rc(){Td&&(Td.detachEvent("onpropertychange",Ho),ui=Td=null)}function Ho(h){if(h.propertyName==="value"&&Ed(ui)){var p=[];pu(p,ui,h,En(h)),es(xu,p)}}function Dd(h,p,y){h==="focusin"?(Rc(),Td=p,ui=y,Td.attachEvent("onpropertychange",Ho)):h==="focusout"&&Rc()}function t0(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return Ed(ui)}function Mh(h,p){if(h==="click")return Ed(p)}function Fs(h,p){if(h==="input"||h==="change")return Ed(p)}function qm(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var ws=typeof Object.is=="function"?Object.is:qm;function Ki(h,p){if(ws(h,p))return!0;if(typeof h!="object"||h===null||typeof p!="object"||p===null)return!1;var y=Object.keys(h),C=Object.keys(p);if(y.length!==C.length)return!1;for(C=0;C<y.length;C++){var L=y[C];if(!Y.call(p,L)||!ws(h[L],p[L]))return!1}return!0}function Ph(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function Lh(h,p){var y=Ph(h);h=0;for(var C;y;){if(y.nodeType===3){if(C=h+y.textContent.length,h<=p&&C>=p)return{node:y,offset:p-h};h=C}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=Ph(y)}}function Oh(h,p){return h&&p?h===p?!0:h&&h.nodeType===3?!1:p&&p.nodeType===3?Oh(h,p.parentNode):"contains"in h?h.contains(p):h.compareDocumentPosition?!!(h.compareDocumentPosition(p)&16):!1:!1}function Rh(h){h=h!=null&&h.ownerDocument!=null&&h.ownerDocument.defaultView!=null?h.ownerDocument.defaultView:window;for(var p=ci(h.document);p instanceof h.HTMLIFrameElement;){try{var y=typeof p.contentWindow.location.href=="string"}catch{y=!1}if(y)h=p.contentWindow;else break;p=ci(h.document)}return p}function Vo(h){var p=h&&h.nodeName&&h.nodeName.toLowerCase();return p&&(p==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||p==="textarea"||h.contentEditable==="true")}var Md=bs&&"documentMode"in document&&11>=document.documentMode,bl=null,Fc=null,Ul=null,Ic=!1;function yl(h,p,y){var C=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;Ic||bl==null||bl!==ci(C)||(C=bl,"selectionStart"in C&&Vo(C)?C={start:C.selectionStart,end:C.selectionEnd}:(C=(C.ownerDocument&&C.ownerDocument.defaultView||window).getSelection(),C={anchorNode:C.anchorNode,anchorOffset:C.anchorOffset,focusNode:C.focusNode,focusOffset:C.focusOffset}),Ul&&Ki(Ul,C)||(Ul=C,C=ty(Fc,"onSelect"),0<C.length&&(p=new wd("onSelect","select",null,p,y),h.push({event:p,listeners:C}),p.target=bl)))}function hi(h,p){var y={};return y[h.toLowerCase()]=p.toLowerCase(),y["Webkit"+h]="webkit"+p,y["Moz"+h]="moz"+p,y}var cr={animationend:hi("Animation","AnimationEnd"),animationiteration:hi("Animation","AnimationIteration"),animationstart:hi("Animation","AnimationStart"),transitionrun:hi("Transition","TransitionRun"),transitionstart:hi("Transition","TransitionStart"),transitioncancel:hi("Transition","TransitionCancel"),transitionend:hi("Transition","TransitionEnd")},Pr={},js={};bs&&(js=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);function ts(h){if(Pr[h])return Pr[h];if(!cr[h])return h;var p=cr[h],y;for(y in p)if(p.hasOwnProperty(y)&&y in js)return Pr[h]=p[y];return h}var Wo=ts("animationend"),Fh=ts("animationiteration"),gu=ts("animationstart"),Gm=ts("transitionrun"),gb=ts("transitionstart"),vb=ts("transitioncancel"),Ux=ts("transitionend"),zx=new Map,Km="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Km.push("scrollEnd");function zl(h,p){zx.set(h,p),At(p,[h])}var Ih=new WeakMap;function wl(h,p){if(typeof h=="object"&&h!==null){var y=Ih.get(h);return y!==void 0?y:(p={value:h,source:p,stack:cu(p)},Ih.set(h,p),p)}return{value:h,source:p,stack:cu(p)}}var jl=[],vu=0,Ym=0;function a0(){for(var h=vu,p=Ym=vu=0;p<h;){var y=jl[p];jl[p++]=null;var C=jl[p];jl[p++]=null;var L=jl[p];jl[p++]=null;var H=jl[p];if(jl[p++]=null,C!==null&&L!==null){var de=C.pending;de===null?L.next=L:(L.next=de.next,de.next=L),C.pending=L}H!==0&&Jm(y,L,H)}}function r0(h,p,y,C){jl[vu++]=h,jl[vu++]=p,jl[vu++]=y,jl[vu++]=C,Ym|=C,h.lanes|=C,h=h.alternate,h!==null&&(h.lanes|=C)}function Xm(h,p,y,C){return r0(h,p,y,C),yu(h)}function bu(h,p){return r0(h,null,null,p),yu(h)}function Jm(h,p,y){h.lanes|=y;var C=h.alternate;C!==null&&(C.lanes|=y);for(var L=!1,H=h.return;H!==null;)H.childLanes|=y,C=H.alternate,C!==null&&(C.childLanes|=y),H.tag===22&&(h=H.stateNode,h===null||h._visibility&1||(L=!0)),h=H,H=H.return;return h.tag===3?(H=h.stateNode,L&&p!==null&&(L=31-dt(y),h=H.hiddenUpdates,C=h[L],C===null?h[L]=[p]:C.push(p),p.lane=y|536870912),H):null}function yu(h){if(50<fg)throw fg=0,w4=null,Error(s(185));for(var p=h.return;p!==null;)h=p,p=h.return;return h.tag===3?h.stateNode:null}var Dn={};function Hl(h,p,y,C){this.tag=h,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fi(h,p,y,C){return new Hl(h,p,y,C)}function Bh(h){return h=h.prototype,!(!h||!h.isReactComponent)}function qo(h,p){var y=h.alternate;return y===null?(y=fi(h.tag,p,h.key,h.mode),y.elementType=h.elementType,y.type=h.type,y.stateNode=h.stateNode,y.alternate=h,h.alternate=y):(y.pendingProps=p,y.type=h.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=h.flags&65011712,y.childLanes=h.childLanes,y.lanes=h.lanes,y.child=h.child,y.memoizedProps=h.memoizedProps,y.memoizedState=h.memoizedState,y.updateQueue=h.updateQueue,p=h.dependencies,y.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},y.sibling=h.sibling,y.index=h.index,y.ref=h.ref,y.refCleanup=h.refCleanup,y}function s0(h,p){h.flags&=65011714;var y=h.alternate;return y===null?(h.childLanes=0,h.lanes=p,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=y.childLanes,h.lanes=y.lanes,h.child=y.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=y.memoizedProps,h.memoizedState=y.memoizedState,h.updateQueue=y.updateQueue,h.type=y.type,p=y.dependencies,h.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),h}function wu(h,p,y,C,L,H){var de=0;if(C=h,typeof h=="function")Bh(h)&&(de=1);else if(typeof h=="string")de=jZ(h,y,z.current)?26:h==="html"||h==="head"||h==="body"?27:5;else e:switch(h){case I:return h=fi(31,y,p,L),h.elementType=I,h.lanes=H,h;case g:return Bc(y.children,L,H,p);case v:de=8,L|=24;break;case b:return h=fi(12,y,p,L|2),h.elementType=b,h.lanes=H,h;case A:return h=fi(13,y,p,L),h.elementType=A,h.lanes=H,h;case _:return h=fi(19,y,p,L),h.elementType=_,h.lanes=H,h;default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case j:case k:de=10;break e;case S:de=9;break e;case N:de=11;break e;case D:de=14;break e;case P:de=16,C=null;break e}de=29,y=Error(s(130,h===null?"null":typeof h,"")),C=null}return p=fi(de,y,p,L),p.elementType=h,p.type=C,p.lanes=H,p}function Bc(h,p,y,C){return h=fi(7,h,C,p),h.lanes=y,h}function Qm(h,p,y){return h=fi(6,h,null,p),h.lanes=y,h}function n0(h,p,y){return p=fi(4,h.children!==null?h.children:[],h.key,p),p.lanes=y,p.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},p}var Pd=[],$c=0,$h=null,Zm=0,Vl=[],Nl=0,ju=null,Uc=1,zc="";function Nu(h,p){Pd[$c++]=Zm,Pd[$c++]=$h,$h=h,Zm=p}function bb(h,p,y){Vl[Nl++]=Uc,Vl[Nl++]=zc,Vl[Nl++]=ju,ju=h;var C=Uc;h=zc;var L=32-dt(C)-1;C&=~(1<<L),y+=1;var H=32-dt(p)+L;if(30<H){var de=L-L%5;H=(C&(1<<de)-1).toString(32),C>>=de,L-=de,Uc=1<<32-dt(p)+L|y<<L|C,zc=H+h}else Uc=1<<H|y<<L|C,zc=h}function i0(h){h.return!==null&&(Nu(h,1),bb(h,1,0))}function l0(h){for(;h===$h;)$h=Pd[--$c],Pd[$c]=null,Zm=Pd[--$c],Pd[$c]=null;for(;h===ju;)ju=Vl[--Nl],Vl[Nl]=null,zc=Vl[--Nl],Vl[Nl]=null,Uc=Vl[--Nl],Vl[Nl]=null}var dn=null,Ns=null,Nr=!1,Ld=null,Go=!1,Hx=Error(s(519));function Su(h){var p=Error(s(418,""));throw Uh(wl(p,h)),Hx}function yb(h){var p=h.stateNode,y=h.type,C=h.memoizedProps;switch(p[Za]=h,p[Ka]=C,y){case"dialog":ur("cancel",p),ur("close",p);break;case"iframe":case"object":case"embed":ur("load",p);break;case"video":case"audio":for(y=0;y<pg.length;y++)ur(pg[y],p);break;case"source":ur("error",p);break;case"img":case"image":case"link":ur("error",p),ur("load",p);break;case"details":ur("toggle",p);break;case"input":ur("invalid",p),Th(p,C.value,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name,!0),zn(p);break;case"select":ur("invalid",p);break;case"textarea":ur("invalid",p),Io(p,C.value,C.defaultValue,C.children),zn(p)}y=C.children,typeof y!="string"&&typeof y!="number"&&typeof y!="bigint"||p.textContent===""+y||C.suppressHydrationWarning===!0||qE(p.textContent,y)?(C.popover!=null&&(ur("beforetoggle",p),ur("toggle",p)),C.onScroll!=null&&ur("scroll",p),C.onScrollEnd!=null&&ur("scrollend",p),C.onClick!=null&&(p.onclick=ay),p=!0):p=!1,p||Su(h)}function Hc(h){for(dn=h.return;dn;)switch(dn.tag){case 5:case 13:Go=!1;return;case 27:case 3:Go=!0;return;default:dn=dn.return}}function Ei(h){if(h!==dn)return!1;if(!Nr)return Hc(h),Nr=!0,!1;var p=h.tag,y;if((y=p!==3&&p!==27)&&((y=p===5)&&(y=h.type,y=!(y!=="form"&&y!=="button")||F4(h.type,h.memoizedProps)),y=!y),y&&Ns&&Su(h),Hc(h),p===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));e:{for(h=h.nextSibling,p=0;h;){if(h.nodeType===8)if(y=h.data,y==="/$"){if(p===0){Ns=Jc(h.nextSibling);break e}p--}else y!=="$"&&y!=="$!"&&y!=="$?"||p++;h=h.nextSibling}Ns=null}}else p===27?(p=Ns,rf(h.type)?(h=U4,U4=null,Ns=h):Ns=p):Ns=dn?Jc(h.stateNode.nextSibling):null;return!0}function Sl(){Ns=dn=null,Nr=!1}function wb(){var h=Ld;return h!==null&&(ql===null?ql=h:ql.push.apply(ql,h),Ld=null),h}function Uh(h){Ld===null?Ld=[h]:Ld.push(h)}var Ko=le(null),Mn=null,Vc=null;function Od(h,p,y){X(Ko,p._currentValue),p._currentValue=y}function Yo(h){h._currentValue=Ko.current,M(Ko)}function ep(h,p,y){for(;h!==null;){var C=h.alternate;if((h.childLanes&p)!==p?(h.childLanes|=p,C!==null&&(C.childLanes|=p)):C!==null&&(C.childLanes&p)!==p&&(C.childLanes|=p),h===y)break;h=h.return}}function tp(h,p,y,C){var L=h.child;for(L!==null&&(L.return=h);L!==null;){var H=L.dependencies;if(H!==null){var de=L.child;H=H.firstContext;e:for(;H!==null;){var ve=H;H=L;for(var Be=0;Be<p.length;Be++)if(ve.context===p[Be]){H.lanes|=y,ve=H.alternate,ve!==null&&(ve.lanes|=y),ep(H.return,y,h),C||(de=null);break e}H=ve.next}}else if(L.tag===18){if(de=L.return,de===null)throw Error(s(341));de.lanes|=y,H=de.alternate,H!==null&&(H.lanes|=y),ep(de,y,h),de=null}else de=L.child;if(de!==null)de.return=L;else for(de=L;de!==null;){if(de===h){de=null;break}if(L=de.sibling,L!==null){L.return=de.return,de=L;break}de=de.return}L=de}}function zh(h,p,y,C){h=null;for(var L=p,H=!1;L!==null;){if(!H){if((L.flags&524288)!==0)H=!0;else if((L.flags&262144)!==0)break}if(L.tag===10){var de=L.alternate;if(de===null)throw Error(s(387));if(de=de.memoizedProps,de!==null){var ve=L.type;ws(L.pendingProps.value,de.value)||(h!==null?h.push(ve):h=[ve])}}else if(L===re.current){if(de=L.alternate,de===null)throw Error(s(387));de.memoizedState.memoizedState!==L.memoizedState.memoizedState&&(h!==null?h.push(wg):h=[wg])}L=L.return}h!==null&&tp(p,h,y,C),p.flags|=262144}function ap(h){for(h=h.firstContext;h!==null;){if(!ws(h.context._currentValue,h.memoizedValue))return!0;h=h.next}return!1}function Xo(h){Mn=h,Vc=null,h=h.dependencies,h!==null&&(h.firstContext=null)}function un(h){return rp(Mn,h)}function Rd(h,p){return Mn===null&&Xo(h),rp(h,p)}function rp(h,p){var y=p._currentValue;if(p={context:p,memoizedValue:y,next:null},Vc===null){if(h===null)throw Error(s(308));Vc=p,h.dependencies={lanes:0,firstContext:p},h.flags|=524288}else Vc=Vc.next=p;return y}var qN=typeof AbortController<"u"?AbortController:function(){var h=[],p=this.signal={aborted:!1,addEventListener:function(y,C){h.push(C)}};this.abort=function(){p.aborted=!0,h.forEach(function(y){return y()})}},jb=e.unstable_scheduleCallback,GN=e.unstable_NormalPriority,hn={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vx(){return{controller:new qN,data:new Map,refCount:0}}function o0(h){h.refCount--,h.refCount===0&&jb(GN,function(){h.controller.abort()})}var c0=null,Wx=0,ku=0,Wc=null;function KN(h,p){if(c0===null){var y=c0=[];Wx=0,ku=_4(),Wc={status:"pending",value:void 0,then:function(C){y.push(C)}}}return Wx++,p.then(Nb,Nb),p}function Nb(){if(--Wx===0&&c0!==null){Wc!==null&&(Wc.status="fulfilled");var h=c0;c0=null,ku=0,Wc=null;for(var p=0;p<h.length;p++)(0,h[p])()}}function Sb(h,p){var y=[],C={status:"pending",value:null,reason:null,then:function(L){y.push(L)}};return h.then(function(){C.status="fulfilled",C.value=p;for(var L=0;L<y.length;L++)(0,y[L])(p)},function(L){for(C.status="rejected",C.reason=L,L=0;L<y.length;L++)(0,y[L])(void 0)}),C}var T=V.S;V.S=function(h,p){typeof p=="object"&&p!==null&&typeof p.then=="function"&&KN(h,p),T!==null&&T(h,p)};var F=le(null);function te(){var h=F.current;return h!==null?h:is.pooledCache}function se(h,p){p===null?X(F,F.current):X(F,p.pool)}function me(){var h=te();return h===null?null:{parent:hn._currentValue,pool:h}}var xe=Error(s(460)),ge=Error(s(474)),be=Error(s(542)),je={then:function(){}};function Le(h){return h=h.status,h==="fulfilled"||h==="rejected"}function Ve(){}function lt(h,p,y){switch(y=h[y],y===void 0?h.push(p):y!==p&&(p.then(Ve,Ve),p=y),p.status){case"fulfilled":return p.value;case"rejected":throw h=p.reason,et(h),h;default:if(typeof p.status=="string")p.then(Ve,Ve);else{if(h=is,h!==null&&100<h.shellSuspendCounter)throw Error(s(482));h=p,h.status="pending",h.then(function(C){if(p.status==="pending"){var L=p;L.status="fulfilled",L.value=C}},function(C){if(p.status==="pending"){var L=p;L.status="rejected",L.reason=C}})}switch(p.status){case"fulfilled":return p.value;case"rejected":throw h=p.reason,et(h),h}throw Pe=p,xe}}var Pe=null;function Ye(){if(Pe===null)throw Error(s(459));var h=Pe;return Pe=null,h}function et(h){if(h===xe||h===be)throw Error(s(483))}var yt=!1;function it(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function St(h,p){h=h.updateQueue,p.updateQueue===h&&(p.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,callbacks:null})}function jt(h){return{lane:h,tag:0,payload:null,callback:null,next:null}}function $t(h,p,y){var C=h.updateQueue;if(C===null)return null;if(C=C.shared,(Ir&2)!==0){var L=C.pending;return L===null?p.next=p:(p.next=L.next,L.next=p),C.pending=p,p=yu(h),Jm(h,null,y),p}return r0(h,C,p,y),yu(h)}function Ot(h,p,y){if(p=p.updateQueue,p!==null&&(p=p.shared,(y&4194048)!==0)){var C=p.lanes;C&=h.pendingLanes,y|=C,p.lanes=y,ut(h,y)}}function ga(h,p){var y=h.updateQueue,C=h.alternate;if(C!==null&&(C=C.updateQueue,y===C)){var L=null,H=null;if(y=y.firstBaseUpdate,y!==null){do{var de={lane:y.lane,tag:y.tag,payload:y.payload,callback:null,next:null};H===null?L=H=de:H=H.next=de,y=y.next}while(y!==null);H===null?L=H=p:H=H.next=p}else L=H=p;y={baseState:C.baseState,firstBaseUpdate:L,lastBaseUpdate:H,shared:C.shared,callbacks:C.callbacks},h.updateQueue=y;return}h=y.lastBaseUpdate,h===null?y.firstBaseUpdate=p:h.next=p,y.lastBaseUpdate=p}var ra=!1;function Fa(){if(ra){var h=Wc;if(h!==null)throw h}}function oa(h,p,y,C){ra=!1;var L=h.updateQueue;yt=!1;var H=L.firstBaseUpdate,de=L.lastBaseUpdate,ve=L.shared.pending;if(ve!==null){L.shared.pending=null;var Be=ve,ot=Be.next;Be.next=null,de===null?H=ot:de.next=ot,de=Be;var Tt=h.alternate;Tt!==null&&(Tt=Tt.updateQueue,ve=Tt.lastBaseUpdate,ve!==de&&(ve===null?Tt.firstBaseUpdate=ot:ve.next=ot,Tt.lastBaseUpdate=Be))}if(H!==null){var Rt=L.baseState;de=0,Tt=ot=Be=null,ve=H;do{var ht=ve.lane&-536870913,mt=ht!==ve.lane;if(mt?(jr&ht)===ht:(C&ht)===ht){ht!==0&&ht===ku&&(ra=!0),Tt!==null&&(Tt=Tt.next={lane:0,tag:ve.tag,payload:ve.payload,callback:null,next:null});e:{var La=h,_a=ve;ht=p;var Yr=y;switch(_a.tag){case 1:if(La=_a.payload,typeof La=="function"){Rt=La.call(Yr,Rt,ht);break e}Rt=La;break e;case 3:La.flags=La.flags&-65537|128;case 0:if(La=_a.payload,ht=typeof La=="function"?La.call(Yr,Rt,ht):La,ht==null)break e;Rt=u({},Rt,ht);break e;case 2:yt=!0}}ht=ve.callback,ht!==null&&(h.flags|=64,mt&&(h.flags|=8192),mt=L.callbacks,mt===null?L.callbacks=[ht]:mt.push(ht))}else mt={lane:ht,tag:ve.tag,payload:ve.payload,callback:ve.callback,next:null},Tt===null?(ot=Tt=mt,Be=Rt):Tt=Tt.next=mt,de|=ht;if(ve=ve.next,ve===null){if(ve=L.shared.pending,ve===null)break;mt=ve,ve=mt.next,mt.next=null,L.lastBaseUpdate=mt,L.shared.pending=null}}while(!0);Tt===null&&(Be=Rt),L.baseState=Be,L.firstBaseUpdate=ot,L.lastBaseUpdate=Tt,H===null&&(L.shared.lanes=0),Zh|=de,h.lanes=de,h.memoizedState=Rt}}function ir(h,p){if(typeof h!="function")throw Error(s(191,h));h.call(p)}function Ks(h,p){var y=h.callbacks;if(y!==null)for(h.callbacks=null,h=0;h<y.length;h++)ir(y[h],p)}var Pa=le(null),ca=le(0);function Xt(h,p){h=Pu,X(ca,h),X(Pa,p),Pu=h|p.baseLanes}function ds(){X(ca,Pu),X(Pa,Pa.current)}function Ia(){Pu=ca.current,M(Pa),M(ca)}var Ya=0,ua=null,Ha=null,pr=null,as=!1,Is=!1,Bs=!1,Ss=0,sr=0,xr=null,ks=0;function Aa(){throw Error(s(321))}function fn(h,p){if(p===null)return!1;for(var y=0;y<p.length&&y<h.length;y++)if(!ws(h[y],p[y]))return!1;return!0}function kl(h,p,y,C,L,H){return Ya=H,ua=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,V.H=h===null||h.memoizedState===null?CT:AT,Bs=!1,H=y(C,L),Bs=!1,Is&&(H=Di(p,y,C,L)),Cs(h),H}function Cs(h){V.H=Rb;var p=Ha!==null&&Ha.next!==null;if(Ya=0,pr=Ha=ua=null,as=!1,sr=0,xr=null,p)throw Error(s(300));h===null||pi||(h=h.dependencies,h!==null&&ap(h)&&(pi=!0))}function Di(h,p,y,C){ua=h;var L=0;do{if(Is&&(xr=null),sr=0,Is=!1,25<=L)throw Error(s(301));if(L+=1,pr=Ha=null,h.updateQueue!=null){var H=h.updateQueue;H.lastEffect=null,H.events=null,H.stores=null,H.memoCache!=null&&(H.memoCache.index=0)}V.H=PQ,H=p(y,C)}while(Is);return H}function Fr(){var h=V.H,p=h.useState()[0];return p=typeof p.then=="function"?Gn(p):p,h=h.useState()[0],(Ha!==null?Ha.memoizedState:null)!==h&&(ua.flags|=1024),p}function $s(){var h=Ss!==0;return Ss=0,h}function Mi(h,p,y){p.updateQueue=h.updateQueue,p.flags&=-2053,h.lanes&=~y}function qn(h){if(as){for(h=h.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}as=!1}Ya=0,pr=Ha=ua=null,Is=!1,sr=Ss=0,xr=null}function Gr(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pr===null?ua.memoizedState=pr=h:pr=pr.next=h,pr}function wr(){if(Ha===null){var h=ua.alternate;h=h!==null?h.memoizedState:null}else h=Ha.next;var p=pr===null?ua.memoizedState:pr.next;if(p!==null)pr=p,Ha=h;else{if(h===null)throw ua.alternate===null?Error(s(467)):Error(s(310));Ha=h,h={memoizedState:Ha.memoizedState,baseState:Ha.baseState,baseQueue:Ha.baseQueue,queue:Ha.queue,next:null},pr===null?ua.memoizedState=pr=h:pr=pr.next=h}return pr}function mi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gn(h){var p=sr;return sr+=1,xr===null&&(xr=[]),h=lt(xr,h,p),p=ua,(pr===null?p.memoizedState:pr.next)===null&&(p=p.alternate,V.H=p===null||p.memoizedState===null?CT:AT),h}function Lr(h){if(h!==null&&typeof h=="object"){if(typeof h.then=="function")return Gn(h);if(h.$$typeof===k)return un(h)}throw Error(s(438,String(h)))}function Pi(h){var p=null,y=ua.updateQueue;if(y!==null&&(p=y.memoCache),p==null){var C=ua.alternate;C!==null&&(C=C.updateQueue,C!==null&&(C=C.memoCache,C!=null&&(p={data:C.data.map(function(L){return L.slice()}),index:0})))}if(p==null&&(p={data:[],index:0}),y===null&&(y=mi(),ua.updateQueue=y),y.memoCache=p,y=p.data[p.index],y===void 0)for(y=p.data[p.index]=Array(h),C=0;C<h;C++)y[C]=B;return p.index++,y}function mn(h,p){return typeof p=="function"?p(h):p}function Jo(h){var p=wr();return po(p,Ha,h)}function po(h,p,y){var C=h.queue;if(C===null)throw Error(s(311));C.lastRenderedReducer=y;var L=h.baseQueue,H=C.pending;if(H!==null){if(L!==null){var de=L.next;L.next=H.next,H.next=de}p.baseQueue=L=H,C.pending=null}if(H=h.baseState,L===null)h.memoizedState=H;else{p=L.next;var ve=de=null,Be=null,ot=p,Tt=!1;do{var Rt=ot.lane&-536870913;if(Rt!==ot.lane?(jr&Rt)===Rt:(Ya&Rt)===Rt){var ht=ot.revertLane;if(ht===0)Be!==null&&(Be=Be.next={lane:0,revertLane:0,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null}),Rt===ku&&(Tt=!0);else if((Ya&ht)===ht){ot=ot.next,ht===ku&&(Tt=!0);continue}else Rt={lane:0,revertLane:ot.revertLane,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null},Be===null?(ve=Be=Rt,de=H):Be=Be.next=Rt,ua.lanes|=ht,Zh|=ht;Rt=ot.action,Bs&&y(H,Rt),H=ot.hasEagerState?ot.eagerState:y(H,Rt)}else ht={lane:Rt,revertLane:ot.revertLane,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null},Be===null?(ve=Be=ht,de=H):Be=Be.next=ht,ua.lanes|=Rt,Zh|=Rt;ot=ot.next}while(ot!==null&&ot!==p);if(Be===null?de=H:Be.next=ve,!ws(H,h.memoizedState)&&(pi=!0,Tt&&(y=Wc,y!==null)))throw y;h.memoizedState=H,h.baseState=de,h.baseQueue=Be,C.lastRenderedState=H}return L===null&&(C.lanes=0),[h.memoizedState,C.dispatch]}function pn(h){var p=wr(),y=p.queue;if(y===null)throw Error(s(311));y.lastRenderedReducer=h;var C=y.dispatch,L=y.pending,H=p.memoizedState;if(L!==null){y.pending=null;var de=L=L.next;do H=h(H,de.action),de=de.next;while(de!==L);ws(H,p.memoizedState)||(pi=!0),p.memoizedState=H,p.baseQueue===null&&(p.baseState=H),y.lastRenderedState=H}return[H,C]}function d0(h,p,y){var C=ua,L=wr(),H=Nr;if(H){if(y===void 0)throw Error(s(407));y=y()}else y=p();var de=!ws((Ha||L).memoizedState,y);de&&(L.memoizedState=y,pi=!0),L=L.queue;var ve=Hh.bind(null,C,L,h);if(qh(2048,8,ve,[h]),L.getSnapshot!==p||de||pr!==null&&pr.memoizedState.tag&1){if(C.flags|=2048,Gc(9,m0(),u0.bind(null,C,L,y,p),null),is===null)throw Error(s(349));H||(Ya&124)!==0||sp(C,p,y)}return y}function sp(h,p,y){h.flags|=16384,h={getSnapshot:p,value:y},p=ua.updateQueue,p===null?(p=mi(),ua.updateQueue=p,p.stores=[h]):(y=p.stores,y===null?p.stores=[h]:y.push(h))}function u0(h,p,y,C){p.value=y,p.getSnapshot=C,kb(p)&&Cb(h)}function Hh(h,p,y){return y(function(){kb(p)&&Cb(h)})}function kb(h){var p=h.getSnapshot;h=h.value;try{var y=p();return!ws(h,y)}catch{return!0}}function Cb(h){var p=bu(h,2);p!==null&&wo(p,h,2)}function h0(h){var p=Gr();if(typeof h=="function"){var y=h;if(h=y(),Bs){ct(!0);try{y()}finally{ct(!1)}}}return p.memoizedState=p.baseState=h,p.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mn,lastRenderedState:h},p}function qc(h,p,y,C){return h.baseState=y,po(h,Ha,typeof C=="function"?C:mn)}function YN(h,p,y,C,L){if(Ob(h))throw Error(s(485));if(h=p.action,h!==null){var H={payload:L,action:h,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(de){H.listeners.push(de)}};V.T!==null?y(!0):H.isTransition=!1,C(H),y=p.pending,y===null?(H.next=p.pending=H,Ab(p,H)):(H.next=y.next,p.pending=y.next=H)}}function Ab(h,p){var y=p.action,C=p.payload,L=h.state;if(p.isTransition){var H=V.T,de={};V.T=de;try{var ve=y(L,C),Be=V.S;Be!==null&&Be(de,ve),_b(h,p,ve)}catch(ot){Vh(h,p,ot)}finally{V.T=H}}else try{H=y(L,C),_b(h,p,H)}catch(ot){Vh(h,p,ot)}}function _b(h,p,y){y!==null&&typeof y=="object"&&typeof y.then=="function"?y.then(function(C){qx(h,p,C)},function(C){return Vh(h,p,C)}):qx(h,p,y)}function qx(h,p,y){p.status="fulfilled",p.value=y,Gx(p),h.state=y,p=h.pending,p!==null&&(y=p.next,y===p?h.pending=null:(y=y.next,p.next=y,Ab(h,y)))}function Vh(h,p,y){var C=h.pending;if(h.pending=null,C!==null){C=C.next;do p.status="rejected",p.reason=y,Gx(p),p=p.next;while(p!==C)}h.action=null}function Gx(h){h=h.listeners;for(var p=0;p<h.length;p++)(0,h[p])()}function Kx(h,p){return p}function f0(h,p){if(Nr){var y=is.formState;if(y!==null){e:{var C=ua;if(Nr){if(Ns){t:{for(var L=Ns,H=Go;L.nodeType!==8;){if(!H){L=null;break t}if(L=Jc(L.nextSibling),L===null){L=null;break t}}H=L.data,L=H==="F!"||H==="F"?L:null}if(L){Ns=Jc(L.nextSibling),C=L.data==="F!";break e}}Su(C)}C=!1}C&&(p=y[0])}}return y=Gr(),y.memoizedState=y.baseState=p,C={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kx,lastRenderedState:p},y.queue=C,y=NT.bind(null,ua,C),C.dispatch=y,C=h0(!1),H=XN.bind(null,ua,!1,C.queue),C=Gr(),L={state:p,dispatch:null,action:h,pending:null},C.queue=L,y=YN.bind(null,ua,L,H,y),L.dispatch=y,C.memoizedState=h,[p,y,!1]}function np(h){var p=wr();return Wh(p,Ha,h)}function Wh(h,p,y){if(p=po(h,p,Kx)[0],h=Jo(mn)[0],typeof p=="object"&&p!==null&&typeof p.then=="function")try{var C=Gn(p)}catch(de){throw de===xe?be:de}else C=p;p=wr();var L=p.queue,H=L.dispatch;return y!==p.memoizedState&&(ua.flags|=2048,Gc(9,m0(),Tb.bind(null,L,y),null)),[C,H,h]}function Tb(h,p){h.action=p}function Eb(h){var p=wr(),y=Ha;if(y!==null)return Wh(p,y,h);wr(),p=p.memoizedState,y=wr();var C=y.queue.dispatch;return y.memoizedState=h,[p,C,!1]}function Gc(h,p,y,C){return h={tag:h,create:y,deps:C,inst:p,next:null},p=ua.updateQueue,p===null&&(p=mi(),ua.updateQueue=p),y=p.lastEffect,y===null?p.lastEffect=h.next=h:(C=y.next,y.next=h,h.next=C,p.lastEffect=h),h}function m0(){return{destroy:void 0,resource:void 0}}function ip(){return wr().memoizedState}function xo(h,p,y,C){var L=Gr();C=C===void 0?null:C,ua.flags|=h,L.memoizedState=Gc(1|p,m0(),y,C)}function qh(h,p,y,C){var L=wr();C=C===void 0?null:C;var H=L.memoizedState.inst;Ha!==null&&C!==null&&fn(C,Ha.memoizedState.deps)?L.memoizedState=Gc(p,H,y,C):(ua.flags|=h,L.memoizedState=Gc(1|p,H,y,C))}function Yx(h,p){xo(8390656,8,h,p)}function Db(h,p){qh(2048,8,h,p)}function Xx(h,p){return qh(4,2,h,p)}function Cu(h,p){return qh(4,4,h,p)}function Mb(h,p){if(typeof p=="function"){h=h();var y=p(h);return function(){typeof y=="function"?y():p(null)}}if(p!=null)return h=h(),p.current=h,function(){p.current=null}}function Jx(h,p,y){y=y!=null?y.concat([h]):null,qh(4,4,Mb.bind(null,p,h),y)}function Qx(){}function Zx(h,p){var y=wr();p=p===void 0?null:p;var C=y.memoizedState;return p!==null&&fn(p,C[1])?C[0]:(y.memoizedState=[h,p],h)}function Pb(h,p){var y=wr();p=p===void 0?null:p;var C=y.memoizedState;if(p!==null&&fn(p,C[1]))return C[0];if(C=h(),Bs){ct(!0);try{h()}finally{ct(!1)}}return y.memoizedState=[C,p],C}function Au(h,p,y){return y===void 0||(Ya&1073741824)!==0?h.memoizedState=p:(h.memoizedState=y,h=bE(),ua.lanes|=h,Zh|=h,y)}function lp(h,p,y,C){return ws(y,p)?y:Pa.current!==null?(h=Au(h,y,C),ws(h,p)||(pi=!0),h):(Ya&42)===0?(pi=!0,h.memoizedState=y):(h=bE(),ua.lanes|=h,Zh|=h,p)}function p0(h,p,y,C,L){var H=Z.p;Z.p=H!==0&&8>H?H:8;var de=V.T,ve={};V.T=ve,XN(h,!1,p,y);try{var Be=L(),ot=V.S;if(ot!==null&&ot(ve,Be),Be!==null&&typeof Be=="object"&&typeof Be.then=="function"){var Tt=Sb(Be,C);rg(h,p,Tt,yo(h))}else rg(h,p,C,yo(h))}catch(Rt){rg(h,p,{then:function(){},status:"rejected",reason:Rt},yo())}finally{Z.p=H,V.T=de}}function Kc(){}function Qo(h,p,y,C){if(h.tag!==5)throw Error(s(476));var L=Yc(h).queue;p0(h,L,p,J,y===null?Kc:function(){return x0(h),y(C)})}function Yc(h){var p=h.memoizedState;if(p!==null)return p;p={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mn,lastRenderedState:J},next:null};var y={};return p.next={memoizedState:y,baseState:y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mn,lastRenderedState:y},next:null},h.memoizedState=p,h=h.alternate,h!==null&&(h.memoizedState=p),p}function x0(h){var p=Yc(h).next.queue;rg(h,p,{},yo())}function g0(){return un(wg)}function eg(){return wr().memoizedState}function Lb(){return wr().memoizedState}function tg(h){for(var p=h.return;p!==null;){switch(p.tag){case 24:case 3:var y=yo();h=jt(y);var C=$t(p,h,y);C!==null&&(wo(C,p,y),Ot(C,p,y)),p={cache:Vx()},h.payload=p;return}p=p.return}}function ag(h,p,y){var C=yo();y={lane:C,revertLane:0,action:y,hasEagerState:!1,eagerState:null,next:null},Ob(h)?ST(p,y):(y=Xm(h,p,y,C),y!==null&&(wo(y,h,C),kT(y,p,C)))}function NT(h,p,y){var C=yo();rg(h,p,y,C)}function rg(h,p,y,C){var L={lane:C,revertLane:0,action:y,hasEagerState:!1,eagerState:null,next:null};if(Ob(h))ST(p,L);else{var H=h.alternate;if(h.lanes===0&&(H===null||H.lanes===0)&&(H=p.lastRenderedReducer,H!==null))try{var de=p.lastRenderedState,ve=H(de,y);if(L.hasEagerState=!0,L.eagerState=ve,ws(ve,de))return r0(h,p,L,0),is===null&&a0(),!1}catch{}finally{}if(y=Xm(h,p,L,C),y!==null)return wo(y,h,C),kT(y,p,C),!0}return!1}function XN(h,p,y,C){if(C={lane:2,revertLane:_4(),action:C,hasEagerState:!1,eagerState:null,next:null},Ob(h)){if(p)throw Error(s(479))}else p=Xm(h,y,C,2),p!==null&&wo(p,h,2)}function Ob(h){var p=h.alternate;return h===ua||p!==null&&p===ua}function ST(h,p){Is=as=!0;var y=h.pending;y===null?p.next=p:(p.next=y.next,y.next=p),h.pending=p}function kT(h,p,y){if((y&4194048)!==0){var C=p.lanes;C&=h.pendingLanes,y|=C,p.lanes=y,ut(h,y)}}var Rb={readContext:un,use:Lr,useCallback:Aa,useContext:Aa,useEffect:Aa,useImperativeHandle:Aa,useLayoutEffect:Aa,useInsertionEffect:Aa,useMemo:Aa,useReducer:Aa,useRef:Aa,useState:Aa,useDebugValue:Aa,useDeferredValue:Aa,useTransition:Aa,useSyncExternalStore:Aa,useId:Aa,useHostTransitionStatus:Aa,useFormState:Aa,useActionState:Aa,useOptimistic:Aa,useMemoCache:Aa,useCacheRefresh:Aa},CT={readContext:un,use:Lr,useCallback:function(h,p){return Gr().memoizedState=[h,p===void 0?null:p],h},useContext:un,useEffect:Yx,useImperativeHandle:function(h,p,y){y=y!=null?y.concat([h]):null,xo(4194308,4,Mb.bind(null,p,h),y)},useLayoutEffect:function(h,p){return xo(4194308,4,h,p)},useInsertionEffect:function(h,p){xo(4,2,h,p)},useMemo:function(h,p){var y=Gr();p=p===void 0?null:p;var C=h();if(Bs){ct(!0);try{h()}finally{ct(!1)}}return y.memoizedState=[C,p],C},useReducer:function(h,p,y){var C=Gr();if(y!==void 0){var L=y(p);if(Bs){ct(!0);try{y(p)}finally{ct(!1)}}}else L=p;return C.memoizedState=C.baseState=L,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:L},C.queue=h,h=h.dispatch=ag.bind(null,ua,h),[C.memoizedState,h]},useRef:function(h){var p=Gr();return h={current:h},p.memoizedState=h},useState:function(h){h=h0(h);var p=h.queue,y=NT.bind(null,ua,p);return p.dispatch=y,[h.memoizedState,y]},useDebugValue:Qx,useDeferredValue:function(h,p){var y=Gr();return Au(y,h,p)},useTransition:function(){var h=h0(!1);return h=p0.bind(null,ua,h.queue,!0,!1),Gr().memoizedState=h,[!1,h]},useSyncExternalStore:function(h,p,y){var C=ua,L=Gr();if(Nr){if(y===void 0)throw Error(s(407));y=y()}else{if(y=p(),is===null)throw Error(s(349));(jr&124)!==0||sp(C,p,y)}L.memoizedState=y;var H={value:y,getSnapshot:p};return L.queue=H,Yx(Hh.bind(null,C,H,h),[h]),C.flags|=2048,Gc(9,m0(),u0.bind(null,C,H,y,p),null),y},useId:function(){var h=Gr(),p=is.identifierPrefix;if(Nr){var y=zc,C=Uc;y=(C&~(1<<32-dt(C)-1)).toString(32)+y,p=""+p+"R"+y,y=Ss++,0<y&&(p+="H"+y.toString(32)),p+=""}else y=ks++,p=""+p+"r"+y.toString(32)+"";return h.memoizedState=p},useHostTransitionStatus:g0,useFormState:f0,useActionState:f0,useOptimistic:function(h){var p=Gr();p.memoizedState=p.baseState=h;var y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return p.queue=y,p=XN.bind(null,ua,!0,y),y.dispatch=p,[h,p]},useMemoCache:Pi,useCacheRefresh:function(){return Gr().memoizedState=tg.bind(null,ua)}},AT={readContext:un,use:Lr,useCallback:Zx,useContext:un,useEffect:Db,useImperativeHandle:Jx,useInsertionEffect:Xx,useLayoutEffect:Cu,useMemo:Pb,useReducer:Jo,useRef:ip,useState:function(){return Jo(mn)},useDebugValue:Qx,useDeferredValue:function(h,p){var y=wr();return lp(y,Ha.memoizedState,h,p)},useTransition:function(){var h=Jo(mn)[0],p=wr().memoizedState;return[typeof h=="boolean"?h:Gn(h),p]},useSyncExternalStore:d0,useId:eg,useHostTransitionStatus:g0,useFormState:np,useActionState:np,useOptimistic:function(h,p){var y=wr();return qc(y,Ha,h,p)},useMemoCache:Pi,useCacheRefresh:Lb},PQ={readContext:un,use:Lr,useCallback:Zx,useContext:un,useEffect:Db,useImperativeHandle:Jx,useInsertionEffect:Xx,useLayoutEffect:Cu,useMemo:Pb,useReducer:pn,useRef:ip,useState:function(){return pn(mn)},useDebugValue:Qx,useDeferredValue:function(h,p){var y=wr();return Ha===null?Au(y,h,p):lp(y,Ha.memoizedState,h,p)},useTransition:function(){var h=pn(mn)[0],p=wr().memoizedState;return[typeof h=="boolean"?h:Gn(h),p]},useSyncExternalStore:d0,useId:eg,useHostTransitionStatus:g0,useFormState:Eb,useActionState:Eb,useOptimistic:function(h,p){var y=wr();return Ha!==null?qc(y,Ha,h,p):(y.baseState=h,[h,y.queue.dispatch])},useMemoCache:Pi,useCacheRefresh:Lb},op=null,sg=0;function Fb(h){var p=sg;return sg+=1,op===null&&(op=[]),lt(op,h,p)}function ng(h,p){p=p.props.ref,h.ref=p!==void 0?p:null}function Ib(h,p){throw p.$$typeof===f?Error(s(525)):(h=Object.prototype.toString.call(p),Error(s(31,h==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":h)))}function _T(h){var p=h._init;return p(h._payload)}function TT(h){function p(Je,Ke){if(h){var rt=Je.deletions;rt===null?(Je.deletions=[Ke],Je.flags|=16):rt.push(Ke)}}function y(Je,Ke){if(!h)return null;for(;Ke!==null;)p(Je,Ke),Ke=Ke.sibling;return null}function C(Je){for(var Ke=new Map;Je!==null;)Je.key!==null?Ke.set(Je.key,Je):Ke.set(Je.index,Je),Je=Je.sibling;return Ke}function L(Je,Ke){return Je=qo(Je,Ke),Je.index=0,Je.sibling=null,Je}function H(Je,Ke,rt){return Je.index=rt,h?(rt=Je.alternate,rt!==null?(rt=rt.index,rt<Ke?(Je.flags|=67108866,Ke):rt):(Je.flags|=67108866,Ke)):(Je.flags|=1048576,Ke)}function de(Je){return h&&Je.alternate===null&&(Je.flags|=67108866),Je}function ve(Je,Ke,rt,Pt){return Ke===null||Ke.tag!==6?(Ke=Qm(rt,Je.mode,Pt),Ke.return=Je,Ke):(Ke=L(Ke,rt),Ke.return=Je,Ke)}function Be(Je,Ke,rt,Pt){var fa=rt.type;return fa===g?Tt(Je,Ke,rt.props.children,Pt,rt.key):Ke!==null&&(Ke.elementType===fa||typeof fa=="object"&&fa!==null&&fa.$$typeof===P&&_T(fa)===Ke.type)?(Ke=L(Ke,rt.props),ng(Ke,rt),Ke.return=Je,Ke):(Ke=wu(rt.type,rt.key,rt.props,null,Je.mode,Pt),ng(Ke,rt),Ke.return=Je,Ke)}function ot(Je,Ke,rt,Pt){return Ke===null||Ke.tag!==4||Ke.stateNode.containerInfo!==rt.containerInfo||Ke.stateNode.implementation!==rt.implementation?(Ke=n0(rt,Je.mode,Pt),Ke.return=Je,Ke):(Ke=L(Ke,rt.children||[]),Ke.return=Je,Ke)}function Tt(Je,Ke,rt,Pt,fa){return Ke===null||Ke.tag!==7?(Ke=Bc(rt,Je.mode,Pt,fa),Ke.return=Je,Ke):(Ke=L(Ke,rt),Ke.return=Je,Ke)}function Rt(Je,Ke,rt){if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number"||typeof Ke=="bigint")return Ke=Qm(""+Ke,Je.mode,rt),Ke.return=Je,Ke;if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case x:return rt=wu(Ke.type,Ke.key,Ke.props,null,Je.mode,rt),ng(rt,Ke),rt.return=Je,rt;case m:return Ke=n0(Ke,Je.mode,rt),Ke.return=Je,Ke;case P:var Pt=Ke._init;return Ke=Pt(Ke._payload),Rt(Je,Ke,rt)}if(K(Ke)||U(Ke))return Ke=Bc(Ke,Je.mode,rt,null),Ke.return=Je,Ke;if(typeof Ke.then=="function")return Rt(Je,Fb(Ke),rt);if(Ke.$$typeof===k)return Rt(Je,Rd(Je,Ke),rt);Ib(Je,Ke)}return null}function ht(Je,Ke,rt,Pt){var fa=Ke!==null?Ke.key:null;if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return fa!==null?null:ve(Je,Ke,""+rt,Pt);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case x:return rt.key===fa?Be(Je,Ke,rt,Pt):null;case m:return rt.key===fa?ot(Je,Ke,rt,Pt):null;case P:return fa=rt._init,rt=fa(rt._payload),ht(Je,Ke,rt,Pt)}if(K(rt)||U(rt))return fa!==null?null:Tt(Je,Ke,rt,Pt,null);if(typeof rt.then=="function")return ht(Je,Ke,Fb(rt),Pt);if(rt.$$typeof===k)return ht(Je,Ke,Rd(Je,rt),Pt);Ib(Je,rt)}return null}function mt(Je,Ke,rt,Pt,fa){if(typeof Pt=="string"&&Pt!==""||typeof Pt=="number"||typeof Pt=="bigint")return Je=Je.get(rt)||null,ve(Ke,Je,""+Pt,fa);if(typeof Pt=="object"&&Pt!==null){switch(Pt.$$typeof){case x:return Je=Je.get(Pt.key===null?rt:Pt.key)||null,Be(Ke,Je,Pt,fa);case m:return Je=Je.get(Pt.key===null?rt:Pt.key)||null,ot(Ke,Je,Pt,fa);case P:var lr=Pt._init;return Pt=lr(Pt._payload),mt(Je,Ke,rt,Pt,fa)}if(K(Pt)||U(Pt))return Je=Je.get(rt)||null,Tt(Ke,Je,Pt,fa,null);if(typeof Pt.then=="function")return mt(Je,Ke,rt,Fb(Pt),fa);if(Pt.$$typeof===k)return mt(Je,Ke,rt,Rd(Ke,Pt),fa);Ib(Ke,Pt)}return null}function La(Je,Ke,rt,Pt){for(var fa=null,lr=null,ja=Ke,Ta=Ke=0,gi=null;ja!==null&&Ta<rt.length;Ta++){ja.index>Ta?(gi=ja,ja=null):gi=ja.sibling;var _r=ht(Je,ja,rt[Ta],Pt);if(_r===null){ja===null&&(ja=gi);break}h&&ja&&_r.alternate===null&&p(Je,ja),Ke=H(_r,Ke,Ta),lr===null?fa=_r:lr.sibling=_r,lr=_r,ja=gi}if(Ta===rt.length)return y(Je,ja),Nr&&Nu(Je,Ta),fa;if(ja===null){for(;Ta<rt.length;Ta++)ja=Rt(Je,rt[Ta],Pt),ja!==null&&(Ke=H(ja,Ke,Ta),lr===null?fa=ja:lr.sibling=ja,lr=ja);return Nr&&Nu(Je,Ta),fa}for(ja=C(ja);Ta<rt.length;Ta++)gi=mt(ja,Je,Ta,rt[Ta],Pt),gi!==null&&(h&&gi.alternate!==null&&ja.delete(gi.key===null?Ta:gi.key),Ke=H(gi,Ke,Ta),lr===null?fa=gi:lr.sibling=gi,lr=gi);return h&&ja.forEach(function(cf){return p(Je,cf)}),Nr&&Nu(Je,Ta),fa}function _a(Je,Ke,rt,Pt){if(rt==null)throw Error(s(151));for(var fa=null,lr=null,ja=Ke,Ta=Ke=0,gi=null,_r=rt.next();ja!==null&&!_r.done;Ta++,_r=rt.next()){ja.index>Ta?(gi=ja,ja=null):gi=ja.sibling;var cf=ht(Je,ja,_r.value,Pt);if(cf===null){ja===null&&(ja=gi);break}h&&ja&&cf.alternate===null&&p(Je,ja),Ke=H(cf,Ke,Ta),lr===null?fa=cf:lr.sibling=cf,lr=cf,ja=gi}if(_r.done)return y(Je,ja),Nr&&Nu(Je,Ta),fa;if(ja===null){for(;!_r.done;Ta++,_r=rt.next())_r=Rt(Je,_r.value,Pt),_r!==null&&(Ke=H(_r,Ke,Ta),lr===null?fa=_r:lr.sibling=_r,lr=_r);return Nr&&Nu(Je,Ta),fa}for(ja=C(ja);!_r.done;Ta++,_r=rt.next())_r=mt(ja,Je,Ta,_r.value,Pt),_r!==null&&(h&&_r.alternate!==null&&ja.delete(_r.key===null?Ta:_r.key),Ke=H(_r,Ke,Ta),lr===null?fa=_r:lr.sibling=_r,lr=_r);return h&&ja.forEach(function(LZ){return p(Je,LZ)}),Nr&&Nu(Je,Ta),fa}function Yr(Je,Ke,rt,Pt){if(typeof rt=="object"&&rt!==null&&rt.type===g&&rt.key===null&&(rt=rt.props.children),typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case x:e:{for(var fa=rt.key;Ke!==null;){if(Ke.key===fa){if(fa=rt.type,fa===g){if(Ke.tag===7){y(Je,Ke.sibling),Pt=L(Ke,rt.props.children),Pt.return=Je,Je=Pt;break e}}else if(Ke.elementType===fa||typeof fa=="object"&&fa!==null&&fa.$$typeof===P&&_T(fa)===Ke.type){y(Je,Ke.sibling),Pt=L(Ke,rt.props),ng(Pt,rt),Pt.return=Je,Je=Pt;break e}y(Je,Ke);break}else p(Je,Ke);Ke=Ke.sibling}rt.type===g?(Pt=Bc(rt.props.children,Je.mode,Pt,rt.key),Pt.return=Je,Je=Pt):(Pt=wu(rt.type,rt.key,rt.props,null,Je.mode,Pt),ng(Pt,rt),Pt.return=Je,Je=Pt)}return de(Je);case m:e:{for(fa=rt.key;Ke!==null;){if(Ke.key===fa)if(Ke.tag===4&&Ke.stateNode.containerInfo===rt.containerInfo&&Ke.stateNode.implementation===rt.implementation){y(Je,Ke.sibling),Pt=L(Ke,rt.children||[]),Pt.return=Je,Je=Pt;break e}else{y(Je,Ke);break}else p(Je,Ke);Ke=Ke.sibling}Pt=n0(rt,Je.mode,Pt),Pt.return=Je,Je=Pt}return de(Je);case P:return fa=rt._init,rt=fa(rt._payload),Yr(Je,Ke,rt,Pt)}if(K(rt))return La(Je,Ke,rt,Pt);if(U(rt)){if(fa=U(rt),typeof fa!="function")throw Error(s(150));return rt=fa.call(rt),_a(Je,Ke,rt,Pt)}if(typeof rt.then=="function")return Yr(Je,Ke,Fb(rt),Pt);if(rt.$$typeof===k)return Yr(Je,Ke,Rd(Je,rt),Pt);Ib(Je,rt)}return typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint"?(rt=""+rt,Ke!==null&&Ke.tag===6?(y(Je,Ke.sibling),Pt=L(Ke,rt),Pt.return=Je,Je=Pt):(y(Je,Ke),Pt=Qm(rt,Je.mode,Pt),Pt.return=Je,Je=Pt),de(Je)):y(Je,Ke)}return function(Je,Ke,rt,Pt){try{sg=0;var fa=Yr(Je,Ke,rt,Pt);return op=null,fa}catch(ja){if(ja===xe||ja===be)throw ja;var lr=fi(29,ja,null,Je.mode);return lr.lanes=Pt,lr.return=Je,lr}finally{}}}var cp=TT(!0),ET=TT(!1),Zo=le(null),Fd=null;function Gh(h){var p=h.alternate;X(Kn,Kn.current&1),X(Zo,h),Fd===null&&(p===null||Pa.current!==null||p.memoizedState!==null)&&(Fd=h)}function DT(h){if(h.tag===22){if(X(Kn,Kn.current),X(Zo,h),Fd===null){var p=h.alternate;p!==null&&p.memoizedState!==null&&(Fd=h)}}else Kh()}function Kh(){X(Kn,Kn.current),X(Zo,Zo.current)}function _u(h){M(Zo),Fd===h&&(Fd=null),M(Kn)}var Kn=le(0);function Bb(h){for(var p=h;p!==null;){if(p.tag===13){var y=p.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||y.data==="$?"||$4(y)))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}function JN(h,p,y,C){p=h.memoizedState,y=y(C,p),y=y==null?p:u({},p,y),h.memoizedState=y,h.lanes===0&&(h.updateQueue.baseState=y)}var QN={enqueueSetState:function(h,p,y){h=h._reactInternals;var C=yo(),L=jt(C);L.payload=p,y!=null&&(L.callback=y),p=$t(h,L,C),p!==null&&(wo(p,h,C),Ot(p,h,C))},enqueueReplaceState:function(h,p,y){h=h._reactInternals;var C=yo(),L=jt(C);L.tag=1,L.payload=p,y!=null&&(L.callback=y),p=$t(h,L,C),p!==null&&(wo(p,h,C),Ot(p,h,C))},enqueueForceUpdate:function(h,p){h=h._reactInternals;var y=yo(),C=jt(y);C.tag=2,p!=null&&(C.callback=p),p=$t(h,C,y),p!==null&&(wo(p,h,y),Ot(p,h,y))}};function MT(h,p,y,C,L,H,de){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(C,H,de):p.prototype&&p.prototype.isPureReactComponent?!Ki(y,C)||!Ki(L,H):!0}function PT(h,p,y,C){h=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(y,C),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(y,C),p.state!==h&&QN.enqueueReplaceState(p,p.state,null)}function v0(h,p){var y=p;if("ref"in p){y={};for(var C in p)C!=="ref"&&(y[C]=p[C])}if(h=h.defaultProps){y===p&&(y=u({},y));for(var L in h)y[L]===void 0&&(y[L]=h[L])}return y}var $b=typeof reportError=="function"?reportError:function(h){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var p=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof h=="object"&&h!==null&&typeof h.message=="string"?String(h.message):String(h),error:h});if(!window.dispatchEvent(p))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",h);return}console.error(h)};function LT(h){$b(h)}function OT(h){console.error(h)}function RT(h){$b(h)}function Ub(h,p){try{var y=h.onUncaughtError;y(p.value,{componentStack:p.stack})}catch(C){setTimeout(function(){throw C})}}function FT(h,p,y){try{var C=h.onCaughtError;C(y.value,{componentStack:y.stack,errorBoundary:p.tag===1?p.stateNode:null})}catch(L){setTimeout(function(){throw L})}}function ZN(h,p,y){return y=jt(y),y.tag=3,y.payload={element:null},y.callback=function(){Ub(h,p)},y}function IT(h){return h=jt(h),h.tag=3,h}function BT(h,p,y,C){var L=y.type.getDerivedStateFromError;if(typeof L=="function"){var H=C.value;h.payload=function(){return L(H)},h.callback=function(){FT(p,y,C)}}var de=y.stateNode;de!==null&&typeof de.componentDidCatch=="function"&&(h.callback=function(){FT(p,y,C),typeof L!="function"&&(ef===null?ef=new Set([this]):ef.add(this));var ve=C.stack;this.componentDidCatch(C.value,{componentStack:ve!==null?ve:""})})}function LQ(h,p,y,C,L){if(y.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){if(p=y.alternate,p!==null&&zh(p,y,L,!0),y=Zo.current,y!==null){switch(y.tag){case 13:return Fd===null?N4():y.alternate===null&&Ys===0&&(Ys=3),y.flags&=-257,y.flags|=65536,y.lanes=L,C===je?y.flags|=16384:(p=y.updateQueue,p===null?y.updateQueue=new Set([C]):p.add(C),k4(h,C,L)),!1;case 22:return y.flags|=65536,C===je?y.flags|=16384:(p=y.updateQueue,p===null?(p={transitions:null,markerInstances:null,retryQueue:new Set([C])},y.updateQueue=p):(y=p.retryQueue,y===null?p.retryQueue=new Set([C]):y.add(C)),k4(h,C,L)),!1}throw Error(s(435,y.tag))}return k4(h,C,L),N4(),!1}if(Nr)return p=Zo.current,p!==null?((p.flags&65536)===0&&(p.flags|=256),p.flags|=65536,p.lanes=L,C!==Hx&&(h=Error(s(422),{cause:C}),Uh(wl(h,y)))):(C!==Hx&&(p=Error(s(423),{cause:C}),Uh(wl(p,y))),h=h.current.alternate,h.flags|=65536,L&=-L,h.lanes|=L,C=wl(C,y),L=ZN(h.stateNode,C,L),ga(h,L),Ys!==4&&(Ys=2)),!1;var H=Error(s(520),{cause:C});if(H=wl(H,y),hg===null?hg=[H]:hg.push(H),Ys!==4&&(Ys=2),p===null)return!0;C=wl(C,y),y=p;do{switch(y.tag){case 3:return y.flags|=65536,h=L&-L,y.lanes|=h,h=ZN(y.stateNode,C,h),ga(y,h),!1;case 1:if(p=y.type,H=y.stateNode,(y.flags&128)===0&&(typeof p.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(ef===null||!ef.has(H))))return y.flags|=65536,L&=-L,y.lanes|=L,L=IT(L),BT(L,h,y,C),ga(y,L),!1}y=y.return}while(y!==null);return!1}var $T=Error(s(461)),pi=!1;function Li(h,p,y,C){p.child=h===null?ET(p,null,y,C):cp(p,h.child,y,C)}function UT(h,p,y,C,L){y=y.render;var H=p.ref;if("ref"in C){var de={};for(var ve in C)ve!=="ref"&&(de[ve]=C[ve])}else de=C;return Xo(p),C=kl(h,p,y,de,H,L),ve=$s(),h!==null&&!pi?(Mi(h,p,L),Tu(h,p,L)):(Nr&&ve&&i0(p),p.flags|=1,Li(h,p,C,L),p.child)}function zT(h,p,y,C,L){if(h===null){var H=y.type;return typeof H=="function"&&!Bh(H)&&H.defaultProps===void 0&&y.compare===null?(p.tag=15,p.type=H,HT(h,p,H,C,L)):(h=wu(y.type,null,C,p,p.mode,L),h.ref=p.ref,h.return=p,p.child=h)}if(H=h.child,!l4(h,L)){var de=H.memoizedProps;if(y=y.compare,y=y!==null?y:Ki,y(de,C)&&h.ref===p.ref)return Tu(h,p,L)}return p.flags|=1,h=qo(H,C),h.ref=p.ref,h.return=p,p.child=h}function HT(h,p,y,C,L){if(h!==null){var H=h.memoizedProps;if(Ki(H,C)&&h.ref===p.ref)if(pi=!1,p.pendingProps=C=H,l4(h,L))(h.flags&131072)!==0&&(pi=!0);else return p.lanes=h.lanes,Tu(h,p,L)}return e4(h,p,y,C,L)}function VT(h,p,y){var C=p.pendingProps,L=C.children,H=h!==null?h.memoizedState:null;if(C.mode==="hidden"){if((p.flags&128)!==0){if(C=H!==null?H.baseLanes|y:y,h!==null){for(L=p.child=h.child,H=0;L!==null;)H=H|L.lanes|L.childLanes,L=L.sibling;p.childLanes=H&~C}else p.childLanes=0,p.child=null;return WT(h,p,C,y)}if((y&536870912)!==0)p.memoizedState={baseLanes:0,cachePool:null},h!==null&&se(p,H!==null?H.cachePool:null),H!==null?Xt(p,H):ds(),DT(p);else return p.lanes=p.childLanes=536870912,WT(h,p,H!==null?H.baseLanes|y:y,y)}else H!==null?(se(p,H.cachePool),Xt(p,H),Kh(),p.memoizedState=null):(h!==null&&se(p,null),ds(),Kh());return Li(h,p,L,y),p.child}function WT(h,p,y,C){var L=te();return L=L===null?null:{parent:hn._currentValue,pool:L},p.memoizedState={baseLanes:y,cachePool:L},h!==null&&se(p,null),ds(),DT(p),h!==null&&zh(h,p,C,!0),null}function zb(h,p){var y=p.ref;if(y===null)h!==null&&h.ref!==null&&(p.flags|=4194816);else{if(typeof y!="function"&&typeof y!="object")throw Error(s(284));(h===null||h.ref!==y)&&(p.flags|=4194816)}}function e4(h,p,y,C,L){return Xo(p),y=kl(h,p,y,C,void 0,L),C=$s(),h!==null&&!pi?(Mi(h,p,L),Tu(h,p,L)):(Nr&&C&&i0(p),p.flags|=1,Li(h,p,y,L),p.child)}function qT(h,p,y,C,L,H){return Xo(p),p.updateQueue=null,y=Di(p,C,y,L),Cs(h),C=$s(),h!==null&&!pi?(Mi(h,p,H),Tu(h,p,H)):(Nr&&C&&i0(p),p.flags|=1,Li(h,p,y,H),p.child)}function GT(h,p,y,C,L){if(Xo(p),p.stateNode===null){var H=Dn,de=y.contextType;typeof de=="object"&&de!==null&&(H=un(de)),H=new y(C,H),p.memoizedState=H.state!==null&&H.state!==void 0?H.state:null,H.updater=QN,p.stateNode=H,H._reactInternals=p,H=p.stateNode,H.props=C,H.state=p.memoizedState,H.refs={},it(p),de=y.contextType,H.context=typeof de=="object"&&de!==null?un(de):Dn,H.state=p.memoizedState,de=y.getDerivedStateFromProps,typeof de=="function"&&(JN(p,y,de,C),H.state=p.memoizedState),typeof y.getDerivedStateFromProps=="function"||typeof H.getSnapshotBeforeUpdate=="function"||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(de=H.state,typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount(),de!==H.state&&QN.enqueueReplaceState(H,H.state,null),oa(p,C,H,L),Fa(),H.state=p.memoizedState),typeof H.componentDidMount=="function"&&(p.flags|=4194308),C=!0}else if(h===null){H=p.stateNode;var ve=p.memoizedProps,Be=v0(y,ve);H.props=Be;var ot=H.context,Tt=y.contextType;de=Dn,typeof Tt=="object"&&Tt!==null&&(de=un(Tt));var Rt=y.getDerivedStateFromProps;Tt=typeof Rt=="function"||typeof H.getSnapshotBeforeUpdate=="function",ve=p.pendingProps!==ve,Tt||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(ve||ot!==de)&&PT(p,H,C,de),yt=!1;var ht=p.memoizedState;H.state=ht,oa(p,C,H,L),Fa(),ot=p.memoizedState,ve||ht!==ot||yt?(typeof Rt=="function"&&(JN(p,y,Rt,C),ot=p.memoizedState),(Be=yt||MT(p,y,Be,C,ht,ot,de))?(Tt||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount()),typeof H.componentDidMount=="function"&&(p.flags|=4194308)):(typeof H.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=C,p.memoizedState=ot),H.props=C,H.state=ot,H.context=de,C=Be):(typeof H.componentDidMount=="function"&&(p.flags|=4194308),C=!1)}else{H=p.stateNode,St(h,p),de=p.memoizedProps,Tt=v0(y,de),H.props=Tt,Rt=p.pendingProps,ht=H.context,ot=y.contextType,Be=Dn,typeof ot=="object"&&ot!==null&&(Be=un(ot)),ve=y.getDerivedStateFromProps,(ot=typeof ve=="function"||typeof H.getSnapshotBeforeUpdate=="function")||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(de!==Rt||ht!==Be)&&PT(p,H,C,Be),yt=!1,ht=p.memoizedState,H.state=ht,oa(p,C,H,L),Fa();var mt=p.memoizedState;de!==Rt||ht!==mt||yt||h!==null&&h.dependencies!==null&&ap(h.dependencies)?(typeof ve=="function"&&(JN(p,y,ve,C),mt=p.memoizedState),(Tt=yt||MT(p,y,Tt,C,ht,mt,Be)||h!==null&&h.dependencies!==null&&ap(h.dependencies))?(ot||typeof H.UNSAFE_componentWillUpdate!="function"&&typeof H.componentWillUpdate!="function"||(typeof H.componentWillUpdate=="function"&&H.componentWillUpdate(C,mt,Be),typeof H.UNSAFE_componentWillUpdate=="function"&&H.UNSAFE_componentWillUpdate(C,mt,Be)),typeof H.componentDidUpdate=="function"&&(p.flags|=4),typeof H.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof H.componentDidUpdate!="function"||de===h.memoizedProps&&ht===h.memoizedState||(p.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||de===h.memoizedProps&&ht===h.memoizedState||(p.flags|=1024),p.memoizedProps=C,p.memoizedState=mt),H.props=C,H.state=mt,H.context=Be,C=Tt):(typeof H.componentDidUpdate!="function"||de===h.memoizedProps&&ht===h.memoizedState||(p.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||de===h.memoizedProps&&ht===h.memoizedState||(p.flags|=1024),C=!1)}return H=C,zb(h,p),C=(p.flags&128)!==0,H||C?(H=p.stateNode,y=C&&typeof y.getDerivedStateFromError!="function"?null:H.render(),p.flags|=1,h!==null&&C?(p.child=cp(p,h.child,null,L),p.child=cp(p,null,y,L)):Li(h,p,y,L),p.memoizedState=H.state,h=p.child):h=Tu(h,p,L),h}function KT(h,p,y,C){return Sl(),p.flags|=256,Li(h,p,y,C),p.child}var t4={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function a4(h){return{baseLanes:h,cachePool:me()}}function r4(h,p,y){return h=h!==null?h.childLanes&~y:0,p&&(h|=ec),h}function YT(h,p,y){var C=p.pendingProps,L=!1,H=(p.flags&128)!==0,de;if((de=H)||(de=h!==null&&h.memoizedState===null?!1:(Kn.current&2)!==0),de&&(L=!0,p.flags&=-129),de=(p.flags&32)!==0,p.flags&=-33,h===null){if(Nr){if(L?Gh(p):Kh(),Nr){var ve=Ns,Be;if(Be=ve){e:{for(Be=ve,ve=Go;Be.nodeType!==8;){if(!ve){ve=null;break e}if(Be=Jc(Be.nextSibling),Be===null){ve=null;break e}}ve=Be}ve!==null?(p.memoizedState={dehydrated:ve,treeContext:ju!==null?{id:Uc,overflow:zc}:null,retryLane:536870912,hydrationErrors:null},Be=fi(18,null,null,0),Be.stateNode=ve,Be.return=p,p.child=Be,dn=p,Ns=null,Be=!0):Be=!1}Be||Su(p)}if(ve=p.memoizedState,ve!==null&&(ve=ve.dehydrated,ve!==null))return $4(ve)?p.lanes=32:p.lanes=536870912,null;_u(p)}return ve=C.children,C=C.fallback,L?(Kh(),L=p.mode,ve=Hb({mode:"hidden",children:ve},L),C=Bc(C,L,y,null),ve.return=p,C.return=p,ve.sibling=C,p.child=ve,L=p.child,L.memoizedState=a4(y),L.childLanes=r4(h,de,y),p.memoizedState=t4,C):(Gh(p),s4(p,ve))}if(Be=h.memoizedState,Be!==null&&(ve=Be.dehydrated,ve!==null)){if(H)p.flags&256?(Gh(p),p.flags&=-257,p=n4(h,p,y)):p.memoizedState!==null?(Kh(),p.child=h.child,p.flags|=128,p=null):(Kh(),L=C.fallback,ve=p.mode,C=Hb({mode:"visible",children:C.children},ve),L=Bc(L,ve,y,null),L.flags|=2,C.return=p,L.return=p,C.sibling=L,p.child=C,cp(p,h.child,null,y),C=p.child,C.memoizedState=a4(y),C.childLanes=r4(h,de,y),p.memoizedState=t4,p=L);else if(Gh(p),$4(ve)){if(de=ve.nextSibling&&ve.nextSibling.dataset,de)var ot=de.dgst;de=ot,C=Error(s(419)),C.stack="",C.digest=de,Uh({value:C,source:null,stack:null}),p=n4(h,p,y)}else if(pi||zh(h,p,y,!1),de=(y&h.childLanes)!==0,pi||de){if(de=is,de!==null&&(C=y&-y,C=(C&42)!==0?1:ta(C),C=(C&(de.suspendedLanes|y))!==0?0:C,C!==0&&C!==Be.retryLane))throw Be.retryLane=C,bu(h,C),wo(de,h,C),$T;ve.data==="$?"||N4(),p=n4(h,p,y)}else ve.data==="$?"?(p.flags|=192,p.child=h.child,p=null):(h=Be.treeContext,Ns=Jc(ve.nextSibling),dn=p,Nr=!0,Ld=null,Go=!1,h!==null&&(Vl[Nl++]=Uc,Vl[Nl++]=zc,Vl[Nl++]=ju,Uc=h.id,zc=h.overflow,ju=p),p=s4(p,C.children),p.flags|=4096);return p}return L?(Kh(),L=C.fallback,ve=p.mode,Be=h.child,ot=Be.sibling,C=qo(Be,{mode:"hidden",children:C.children}),C.subtreeFlags=Be.subtreeFlags&65011712,ot!==null?L=qo(ot,L):(L=Bc(L,ve,y,null),L.flags|=2),L.return=p,C.return=p,C.sibling=L,p.child=C,C=L,L=p.child,ve=h.child.memoizedState,ve===null?ve=a4(y):(Be=ve.cachePool,Be!==null?(ot=hn._currentValue,Be=Be.parent!==ot?{parent:ot,pool:ot}:Be):Be=me(),ve={baseLanes:ve.baseLanes|y,cachePool:Be}),L.memoizedState=ve,L.childLanes=r4(h,de,y),p.memoizedState=t4,C):(Gh(p),y=h.child,h=y.sibling,y=qo(y,{mode:"visible",children:C.children}),y.return=p,y.sibling=null,h!==null&&(de=p.deletions,de===null?(p.deletions=[h],p.flags|=16):de.push(h)),p.child=y,p.memoizedState=null,y)}function s4(h,p){return p=Hb({mode:"visible",children:p},h.mode),p.return=h,h.child=p}function Hb(h,p){return h=fi(22,h,null,p),h.lanes=0,h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},h}function n4(h,p,y){return cp(p,h.child,null,y),h=s4(p,p.pendingProps.children),h.flags|=2,p.memoizedState=null,h}function XT(h,p,y){h.lanes|=p;var C=h.alternate;C!==null&&(C.lanes|=p),ep(h.return,p,y)}function i4(h,p,y,C,L){var H=h.memoizedState;H===null?h.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:C,tail:y,tailMode:L}:(H.isBackwards=p,H.rendering=null,H.renderingStartTime=0,H.last=C,H.tail=y,H.tailMode=L)}function JT(h,p,y){var C=p.pendingProps,L=C.revealOrder,H=C.tail;if(Li(h,p,C.children,y),C=Kn.current,(C&2)!==0)C=C&1|2,p.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=p.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&XT(h,y,p);else if(h.tag===19)XT(h,y,p);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===p)break e;for(;h.sibling===null;){if(h.return===null||h.return===p)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}C&=1}switch(X(Kn,C),L){case"forwards":for(y=p.child,L=null;y!==null;)h=y.alternate,h!==null&&Bb(h)===null&&(L=y),y=y.sibling;y=L,y===null?(L=p.child,p.child=null):(L=y.sibling,y.sibling=null),i4(p,!1,L,y,H);break;case"backwards":for(y=null,L=p.child,p.child=null;L!==null;){if(h=L.alternate,h!==null&&Bb(h)===null){p.child=L;break}h=L.sibling,L.sibling=y,y=L,L=h}i4(p,!0,y,null,H);break;case"together":i4(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function Tu(h,p,y){if(h!==null&&(p.dependencies=h.dependencies),Zh|=p.lanes,(y&p.childLanes)===0)if(h!==null){if(zh(h,p,y,!1),(y&p.childLanes)===0)return null}else return null;if(h!==null&&p.child!==h.child)throw Error(s(153));if(p.child!==null){for(h=p.child,y=qo(h,h.pendingProps),p.child=y,y.return=p;h.sibling!==null;)h=h.sibling,y=y.sibling=qo(h,h.pendingProps),y.return=p;y.sibling=null}return p.child}function l4(h,p){return(h.lanes&p)!==0?!0:(h=h.dependencies,!!(h!==null&&ap(h)))}function OQ(h,p,y){switch(p.tag){case 3:oe(p,p.stateNode.containerInfo),Od(p,hn,h.memoizedState.cache),Sl();break;case 27:case 5:ie(p);break;case 4:oe(p,p.stateNode.containerInfo);break;case 10:Od(p,p.type,p.memoizedProps.value);break;case 13:var C=p.memoizedState;if(C!==null)return C.dehydrated!==null?(Gh(p),p.flags|=128,null):(y&p.child.childLanes)!==0?YT(h,p,y):(Gh(p),h=Tu(h,p,y),h!==null?h.sibling:null);Gh(p);break;case 19:var L=(h.flags&128)!==0;if(C=(y&p.childLanes)!==0,C||(zh(h,p,y,!1),C=(y&p.childLanes)!==0),L){if(C)return JT(h,p,y);p.flags|=128}if(L=p.memoizedState,L!==null&&(L.rendering=null,L.tail=null,L.lastEffect=null),X(Kn,Kn.current),C)break;return null;case 22:case 23:return p.lanes=0,VT(h,p,y);case 24:Od(p,hn,h.memoizedState.cache)}return Tu(h,p,y)}function QT(h,p,y){if(h!==null)if(h.memoizedProps!==p.pendingProps)pi=!0;else{if(!l4(h,y)&&(p.flags&128)===0)return pi=!1,OQ(h,p,y);pi=(h.flags&131072)!==0}else pi=!1,Nr&&(p.flags&1048576)!==0&&bb(p,Zm,p.index);switch(p.lanes=0,p.tag){case 16:e:{h=p.pendingProps;var C=p.elementType,L=C._init;if(C=L(C._payload),p.type=C,typeof C=="function")Bh(C)?(h=v0(C,h),p.tag=1,p=GT(null,p,C,h,y)):(p.tag=0,p=e4(null,p,C,h,y));else{if(C!=null){if(L=C.$$typeof,L===N){p.tag=11,p=UT(null,p,C,h,y);break e}else if(L===D){p.tag=14,p=zT(null,p,C,h,y);break e}}throw p=R(C)||C,Error(s(306,p,""))}}return p;case 0:return e4(h,p,p.type,p.pendingProps,y);case 1:return C=p.type,L=v0(C,p.pendingProps),GT(h,p,C,L,y);case 3:e:{if(oe(p,p.stateNode.containerInfo),h===null)throw Error(s(387));C=p.pendingProps;var H=p.memoizedState;L=H.element,St(h,p),oa(p,C,null,y);var de=p.memoizedState;if(C=de.cache,Od(p,hn,C),C!==H.cache&&tp(p,[hn],y,!0),Fa(),C=de.element,H.isDehydrated)if(H={element:C,isDehydrated:!1,cache:de.cache},p.updateQueue.baseState=H,p.memoizedState=H,p.flags&256){p=KT(h,p,C,y);break e}else if(C!==L){L=wl(Error(s(424)),p),Uh(L),p=KT(h,p,C,y);break e}else{switch(h=p.stateNode.containerInfo,h.nodeType){case 9:h=h.body;break;default:h=h.nodeName==="HTML"?h.ownerDocument.body:h}for(Ns=Jc(h.firstChild),dn=p,Nr=!0,Ld=null,Go=!0,y=ET(p,null,C,y),p.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling}else{if(Sl(),C===L){p=Tu(h,p,y);break e}Li(h,p,C,y)}p=p.child}return p;case 26:return zb(h,p),h===null?(y=a7(p.type,null,p.pendingProps,null))?p.memoizedState=y:Nr||(y=p.type,h=p.pendingProps,C=ry(ne.current).createElement(y),C[Za]=p,C[Ka]=h,Ri(C,y,h),Xe(C),p.stateNode=C):p.memoizedState=a7(p.type,h.memoizedProps,p.pendingProps,h.memoizedState),null;case 27:return ie(p),h===null&&Nr&&(C=p.stateNode=ZE(p.type,p.pendingProps,ne.current),dn=p,Go=!0,L=Ns,rf(p.type)?(U4=L,Ns=Jc(C.firstChild)):Ns=L),Li(h,p,p.pendingProps.children,y),zb(h,p),h===null&&(p.flags|=4194304),p.child;case 5:return h===null&&Nr&&((L=C=Ns)&&(C=cZ(C,p.type,p.pendingProps,Go),C!==null?(p.stateNode=C,dn=p,Ns=Jc(C.firstChild),Go=!1,L=!0):L=!1),L||Su(p)),ie(p),L=p.type,H=p.pendingProps,de=h!==null?h.memoizedProps:null,C=H.children,F4(L,H)?C=null:de!==null&&F4(L,de)&&(p.flags|=32),p.memoizedState!==null&&(L=kl(h,p,Fr,null,null,y),wg._currentValue=L),zb(h,p),Li(h,p,C,y),p.child;case 6:return h===null&&Nr&&((h=y=Ns)&&(y=dZ(y,p.pendingProps,Go),y!==null?(p.stateNode=y,dn=p,Ns=null,h=!0):h=!1),h||Su(p)),null;case 13:return YT(h,p,y);case 4:return oe(p,p.stateNode.containerInfo),C=p.pendingProps,h===null?p.child=cp(p,null,C,y):Li(h,p,C,y),p.child;case 11:return UT(h,p,p.type,p.pendingProps,y);case 7:return Li(h,p,p.pendingProps,y),p.child;case 8:return Li(h,p,p.pendingProps.children,y),p.child;case 12:return Li(h,p,p.pendingProps.children,y),p.child;case 10:return C=p.pendingProps,Od(p,p.type,C.value),Li(h,p,C.children,y),p.child;case 9:return L=p.type._context,C=p.pendingProps.children,Xo(p),L=un(L),C=C(L),p.flags|=1,Li(h,p,C,y),p.child;case 14:return zT(h,p,p.type,p.pendingProps,y);case 15:return HT(h,p,p.type,p.pendingProps,y);case 19:return JT(h,p,y);case 31:return C=p.pendingProps,y=p.mode,C={mode:C.mode,children:C.children},h===null?(y=Hb(C,y),y.ref=p.ref,p.child=y,y.return=p,p=y):(y=qo(h.child,C),y.ref=p.ref,p.child=y,y.return=p,p=y),p;case 22:return VT(h,p,y);case 24:return Xo(p),C=un(hn),h===null?(L=te(),L===null&&(L=is,H=Vx(),L.pooledCache=H,H.refCount++,H!==null&&(L.pooledCacheLanes|=y),L=H),p.memoizedState={parent:C,cache:L},it(p),Od(p,hn,L)):((h.lanes&y)!==0&&(St(h,p),oa(p,null,null,y),Fa()),L=h.memoizedState,H=p.memoizedState,L.parent!==C?(L={parent:C,cache:C},p.memoizedState=L,p.lanes===0&&(p.memoizedState=p.updateQueue.baseState=L),Od(p,hn,C)):(C=H.cache,Od(p,hn,C),C!==L.cache&&tp(p,[hn],y,!0))),Li(h,p,p.pendingProps.children,y),p.child;case 29:throw p.pendingProps}throw Error(s(156,p.tag))}function Eu(h){h.flags|=4}function ZT(h,p){if(p.type!=="stylesheet"||(p.state.loading&4)!==0)h.flags&=-16777217;else if(h.flags|=16777216,!l7(p)){if(p=Zo.current,p!==null&&((jr&4194048)===jr?Fd!==null:(jr&62914560)!==jr&&(jr&536870912)===0||p!==Fd))throw Pe=je,ge;h.flags|=8192}}function Vb(h,p){p!==null&&(h.flags|=4),h.flags&16384&&(p=h.tag!==22?xt():536870912,h.lanes|=p,fp|=p)}function ig(h,p){if(!Nr)switch(h.tailMode){case"hidden":p=h.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?h.tail=null:y.sibling=null;break;case"collapsed":y=h.tail;for(var C=null;y!==null;)y.alternate!==null&&(C=y),y=y.sibling;C===null?p||h.tail===null?h.tail=null:h.tail.sibling=null:C.sibling=null}}function Us(h){var p=h.alternate!==null&&h.alternate.child===h.child,y=0,C=0;if(p)for(var L=h.child;L!==null;)y|=L.lanes|L.childLanes,C|=L.subtreeFlags&65011712,C|=L.flags&65011712,L.return=h,L=L.sibling;else for(L=h.child;L!==null;)y|=L.lanes|L.childLanes,C|=L.subtreeFlags,C|=L.flags,L.return=h,L=L.sibling;return h.subtreeFlags|=C,h.childLanes=y,p}function RQ(h,p,y){var C=p.pendingProps;switch(l0(p),p.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Us(p),null;case 1:return Us(p),null;case 3:return y=p.stateNode,C=null,h!==null&&(C=h.memoizedState.cache),p.memoizedState.cache!==C&&(p.flags|=2048),Yo(hn),q(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(h===null||h.child===null)&&(Ei(p)?Eu(p):h===null||h.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,wb())),Us(p),null;case 26:return y=p.memoizedState,h===null?(Eu(p),y!==null?(Us(p),ZT(p,y)):(Us(p),p.flags&=-16777217)):y?y!==h.memoizedState?(Eu(p),Us(p),ZT(p,y)):(Us(p),p.flags&=-16777217):(h.memoizedProps!==C&&Eu(p),Us(p),p.flags&=-16777217),null;case 27:ye(p),y=ne.current;var L=p.type;if(h!==null&&p.stateNode!=null)h.memoizedProps!==C&&Eu(p);else{if(!C){if(p.stateNode===null)throw Error(s(166));return Us(p),null}h=z.current,Ei(p)?yb(p):(h=ZE(L,C,y),p.stateNode=h,Eu(p))}return Us(p),null;case 5:if(ye(p),y=p.type,h!==null&&p.stateNode!=null)h.memoizedProps!==C&&Eu(p);else{if(!C){if(p.stateNode===null)throw Error(s(166));return Us(p),null}if(h=z.current,Ei(p))yb(p);else{switch(L=ry(ne.current),h){case 1:h=L.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:h=L.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":h=L.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":h=L.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":h=L.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof C.is=="string"?L.createElement("select",{is:C.is}):L.createElement("select"),C.multiple?h.multiple=!0:C.size&&(h.size=C.size);break;default:h=typeof C.is=="string"?L.createElement(y,{is:C.is}):L.createElement(y)}}h[Za]=p,h[Ka]=C;e:for(L=p.child;L!==null;){if(L.tag===5||L.tag===6)h.appendChild(L.stateNode);else if(L.tag!==4&&L.tag!==27&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===p)break e;for(;L.sibling===null;){if(L.return===null||L.return===p)break e;L=L.return}L.sibling.return=L.return,L=L.sibling}p.stateNode=h;e:switch(Ri(h,y,C),y){case"button":case"input":case"select":case"textarea":h=!!C.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Eu(p)}}return Us(p),p.flags&=-16777217,null;case 6:if(h&&p.stateNode!=null)h.memoizedProps!==C&&Eu(p);else{if(typeof C!="string"&&p.stateNode===null)throw Error(s(166));if(h=ne.current,Ei(p)){if(h=p.stateNode,y=p.memoizedProps,C=null,L=dn,L!==null)switch(L.tag){case 27:case 5:C=L.memoizedProps}h[Za]=p,h=!!(h.nodeValue===y||C!==null&&C.suppressHydrationWarning===!0||qE(h.nodeValue,y)),h||Su(p)}else h=ry(h).createTextNode(C),h[Za]=p,p.stateNode=h}return Us(p),null;case 13:if(C=p.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(L=Ei(p),C!==null&&C.dehydrated!==null){if(h===null){if(!L)throw Error(s(318));if(L=p.memoizedState,L=L!==null?L.dehydrated:null,!L)throw Error(s(317));L[Za]=p}else Sl(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;Us(p),L=!1}else L=wb(),h!==null&&h.memoizedState!==null&&(h.memoizedState.hydrationErrors=L),L=!0;if(!L)return p.flags&256?(_u(p),p):(_u(p),null)}if(_u(p),(p.flags&128)!==0)return p.lanes=y,p;if(y=C!==null,h=h!==null&&h.memoizedState!==null,y){C=p.child,L=null,C.alternate!==null&&C.alternate.memoizedState!==null&&C.alternate.memoizedState.cachePool!==null&&(L=C.alternate.memoizedState.cachePool.pool);var H=null;C.memoizedState!==null&&C.memoizedState.cachePool!==null&&(H=C.memoizedState.cachePool.pool),H!==L&&(C.flags|=2048)}return y!==h&&y&&(p.child.flags|=8192),Vb(p,p.updateQueue),Us(p),null;case 4:return q(),h===null&&M4(p.stateNode.containerInfo),Us(p),null;case 10:return Yo(p.type),Us(p),null;case 19:if(M(Kn),L=p.memoizedState,L===null)return Us(p),null;if(C=(p.flags&128)!==0,H=L.rendering,H===null)if(C)ig(L,!1);else{if(Ys!==0||h!==null&&(h.flags&128)!==0)for(h=p.child;h!==null;){if(H=Bb(h),H!==null){for(p.flags|=128,ig(L,!1),h=H.updateQueue,p.updateQueue=h,Vb(p,h),p.subtreeFlags=0,h=y,y=p.child;y!==null;)s0(y,h),y=y.sibling;return X(Kn,Kn.current&1|2),p.child}h=h.sibling}L.tail!==null&&Ue()>Gb&&(p.flags|=128,C=!0,ig(L,!1),p.lanes=4194304)}else{if(!C)if(h=Bb(H),h!==null){if(p.flags|=128,C=!0,h=h.updateQueue,p.updateQueue=h,Vb(p,h),ig(L,!0),L.tail===null&&L.tailMode==="hidden"&&!H.alternate&&!Nr)return Us(p),null}else 2*Ue()-L.renderingStartTime>Gb&&y!==536870912&&(p.flags|=128,C=!0,ig(L,!1),p.lanes=4194304);L.isBackwards?(H.sibling=p.child,p.child=H):(h=L.last,h!==null?h.sibling=H:p.child=H,L.last=H)}return L.tail!==null?(p=L.tail,L.rendering=p,L.tail=p.sibling,L.renderingStartTime=Ue(),p.sibling=null,h=Kn.current,X(Kn,C?h&1|2:h&1),p):(Us(p),null);case 22:case 23:return _u(p),Ia(),C=p.memoizedState!==null,h!==null?h.memoizedState!==null!==C&&(p.flags|=8192):C&&(p.flags|=8192),C?(y&536870912)!==0&&(p.flags&128)===0&&(Us(p),p.subtreeFlags&6&&(p.flags|=8192)):Us(p),y=p.updateQueue,y!==null&&Vb(p,y.retryQueue),y=null,h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),C=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(C=p.memoizedState.cachePool.pool),C!==y&&(p.flags|=2048),h!==null&&M(F),null;case 24:return y=null,h!==null&&(y=h.memoizedState.cache),p.memoizedState.cache!==y&&(p.flags|=2048),Yo(hn),Us(p),null;case 25:return null;case 30:return null}throw Error(s(156,p.tag))}function FQ(h,p){switch(l0(p),p.tag){case 1:return h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 3:return Yo(hn),q(),h=p.flags,(h&65536)!==0&&(h&128)===0?(p.flags=h&-65537|128,p):null;case 26:case 27:case 5:return ye(p),null;case 13:if(_u(p),h=p.memoizedState,h!==null&&h.dehydrated!==null){if(p.alternate===null)throw Error(s(340));Sl()}return h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 19:return M(Kn),null;case 4:return q(),null;case 10:return Yo(p.type),null;case 22:case 23:return _u(p),Ia(),h!==null&&M(F),h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 24:return Yo(hn),null;case 25:return null;default:return null}}function eE(h,p){switch(l0(p),p.tag){case 3:Yo(hn),q();break;case 26:case 27:case 5:ye(p);break;case 4:q();break;case 13:_u(p);break;case 19:M(Kn);break;case 10:Yo(p.type);break;case 22:case 23:_u(p),Ia(),h!==null&&M(F);break;case 24:Yo(hn)}}function lg(h,p){try{var y=p.updateQueue,C=y!==null?y.lastEffect:null;if(C!==null){var L=C.next;y=L;do{if((y.tag&h)===h){C=void 0;var H=y.create,de=y.inst;C=H(),de.destroy=C}y=y.next}while(y!==L)}}catch(ve){rs(p,p.return,ve)}}function Yh(h,p,y){try{var C=p.updateQueue,L=C!==null?C.lastEffect:null;if(L!==null){var H=L.next;C=H;do{if((C.tag&h)===h){var de=C.inst,ve=de.destroy;if(ve!==void 0){de.destroy=void 0,L=p;var Be=y,ot=ve;try{ot()}catch(Tt){rs(L,Be,Tt)}}}C=C.next}while(C!==H)}}catch(Tt){rs(p,p.return,Tt)}}function tE(h){var p=h.updateQueue;if(p!==null){var y=h.stateNode;try{Ks(p,y)}catch(C){rs(h,h.return,C)}}}function aE(h,p,y){y.props=v0(h.type,h.memoizedProps),y.state=h.memoizedState;try{y.componentWillUnmount()}catch(C){rs(h,p,C)}}function og(h,p){try{var y=h.ref;if(y!==null){switch(h.tag){case 26:case 27:case 5:var C=h.stateNode;break;case 30:C=h.stateNode;break;default:C=h.stateNode}typeof y=="function"?h.refCleanup=y(C):y.current=C}}catch(L){rs(h,p,L)}}function Id(h,p){var y=h.ref,C=h.refCleanup;if(y!==null)if(typeof C=="function")try{C()}catch(L){rs(h,p,L)}finally{h.refCleanup=null,h=h.alternate,h!=null&&(h.refCleanup=null)}else if(typeof y=="function")try{y(null)}catch(L){rs(h,p,L)}else y.current=null}function rE(h){var p=h.type,y=h.memoizedProps,C=h.stateNode;try{e:switch(p){case"button":case"input":case"select":case"textarea":y.autoFocus&&C.focus();break e;case"img":y.src?C.src=y.src:y.srcSet&&(C.srcset=y.srcSet)}}catch(L){rs(h,h.return,L)}}function o4(h,p,y){try{var C=h.stateNode;sZ(C,h.type,y,p),C[Ka]=p}catch(L){rs(h,h.return,L)}}function sE(h){return h.tag===5||h.tag===3||h.tag===26||h.tag===27&&rf(h.type)||h.tag===4}function c4(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||sE(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.tag===27&&rf(h.type)||h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function d4(h,p,y){var C=h.tag;if(C===5||C===6)h=h.stateNode,p?(y.nodeType===9?y.body:y.nodeName==="HTML"?y.ownerDocument.body:y).insertBefore(h,p):(p=y.nodeType===9?y.body:y.nodeName==="HTML"?y.ownerDocument.body:y,p.appendChild(h),y=y._reactRootContainer,y!=null||p.onclick!==null||(p.onclick=ay));else if(C!==4&&(C===27&&rf(h.type)&&(y=h.stateNode,p=null),h=h.child,h!==null))for(d4(h,p,y),h=h.sibling;h!==null;)d4(h,p,y),h=h.sibling}function Wb(h,p,y){var C=h.tag;if(C===5||C===6)h=h.stateNode,p?y.insertBefore(h,p):y.appendChild(h);else if(C!==4&&(C===27&&rf(h.type)&&(y=h.stateNode),h=h.child,h!==null))for(Wb(h,p,y),h=h.sibling;h!==null;)Wb(h,p,y),h=h.sibling}function nE(h){var p=h.stateNode,y=h.memoizedProps;try{for(var C=h.type,L=p.attributes;L.length;)p.removeAttributeNode(L[0]);Ri(p,C,y),p[Za]=h,p[Ka]=y}catch(H){rs(h,h.return,H)}}var Du=!1,xn=!1,u4=!1,iE=typeof WeakSet=="function"?WeakSet:Set,xi=null;function IQ(h,p){if(h=h.containerInfo,O4=cy,h=Rh(h),Vo(h)){if("selectionStart"in h)var y={start:h.selectionStart,end:h.selectionEnd};else e:{y=(y=h.ownerDocument)&&y.defaultView||window;var C=y.getSelection&&y.getSelection();if(C&&C.rangeCount!==0){y=C.anchorNode;var L=C.anchorOffset,H=C.focusNode;C=C.focusOffset;try{y.nodeType,H.nodeType}catch{y=null;break e}var de=0,ve=-1,Be=-1,ot=0,Tt=0,Rt=h,ht=null;t:for(;;){for(var mt;Rt!==y||L!==0&&Rt.nodeType!==3||(ve=de+L),Rt!==H||C!==0&&Rt.nodeType!==3||(Be=de+C),Rt.nodeType===3&&(de+=Rt.nodeValue.length),(mt=Rt.firstChild)!==null;)ht=Rt,Rt=mt;for(;;){if(Rt===h)break t;if(ht===y&&++ot===L&&(ve=de),ht===H&&++Tt===C&&(Be=de),(mt=Rt.nextSibling)!==null)break;Rt=ht,ht=Rt.parentNode}Rt=mt}y=ve===-1||Be===-1?null:{start:ve,end:Be}}else y=null}y=y||{start:0,end:0}}else y=null;for(R4={focusedElem:h,selectionRange:y},cy=!1,xi=p;xi!==null;)if(p=xi,h=p.child,(p.subtreeFlags&1024)!==0&&h!==null)h.return=p,xi=h;else for(;xi!==null;){switch(p=xi,H=p.alternate,h=p.flags,p.tag){case 0:break;case 11:case 15:break;case 1:if((h&1024)!==0&&H!==null){h=void 0,y=p,L=H.memoizedProps,H=H.memoizedState,C=y.stateNode;try{var La=v0(y.type,L,y.elementType===y.type);h=C.getSnapshotBeforeUpdate(La,H),C.__reactInternalSnapshotBeforeUpdate=h}catch(_a){rs(y,y.return,_a)}}break;case 3:if((h&1024)!==0){if(h=p.stateNode.containerInfo,y=h.nodeType,y===9)B4(h);else if(y===1)switch(h.nodeName){case"HEAD":case"HTML":case"BODY":B4(h);break;default:h.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((h&1024)!==0)throw Error(s(163))}if(h=p.sibling,h!==null){h.return=p.return,xi=h;break}xi=p.return}}function lE(h,p,y){var C=y.flags;switch(y.tag){case 0:case 11:case 15:Xh(h,y),C&4&&lg(5,y);break;case 1:if(Xh(h,y),C&4)if(h=y.stateNode,p===null)try{h.componentDidMount()}catch(de){rs(y,y.return,de)}else{var L=v0(y.type,p.memoizedProps);p=p.memoizedState;try{h.componentDidUpdate(L,p,h.__reactInternalSnapshotBeforeUpdate)}catch(de){rs(y,y.return,de)}}C&64&&tE(y),C&512&&og(y,y.return);break;case 3:if(Xh(h,y),C&64&&(h=y.updateQueue,h!==null)){if(p=null,y.child!==null)switch(y.child.tag){case 27:case 5:p=y.child.stateNode;break;case 1:p=y.child.stateNode}try{Ks(h,p)}catch(de){rs(y,y.return,de)}}break;case 27:p===null&&C&4&&nE(y);case 26:case 5:Xh(h,y),p===null&&C&4&&rE(y),C&512&&og(y,y.return);break;case 12:Xh(h,y);break;case 13:Xh(h,y),C&4&&dE(h,y),C&64&&(h=y.memoizedState,h!==null&&(h=h.dehydrated,h!==null&&(y=GQ.bind(null,y),uZ(h,y))));break;case 22:if(C=y.memoizedState!==null||Du,!C){p=p!==null&&p.memoizedState!==null||xn,L=Du;var H=xn;Du=C,(xn=p)&&!H?Jh(h,y,(y.subtreeFlags&8772)!==0):Xh(h,y),Du=L,xn=H}break;case 30:break;default:Xh(h,y)}}function oE(h){var p=h.alternate;p!==null&&(h.alternate=null,oE(p)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(p=h.stateNode,p!==null&&Se(p)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}var As=null,Wl=!1;function Mu(h,p,y){for(y=y.child;y!==null;)cE(h,p,y),y=y.sibling}function cE(h,p,y){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount($e,y)}catch{}switch(y.tag){case 26:xn||Id(y,p),Mu(h,p,y),y.memoizedState?y.memoizedState.count--:y.stateNode&&(y=y.stateNode,y.parentNode.removeChild(y));break;case 27:xn||Id(y,p);var C=As,L=Wl;rf(y.type)&&(As=y.stateNode,Wl=!1),Mu(h,p,y),gg(y.stateNode),As=C,Wl=L;break;case 5:xn||Id(y,p);case 6:if(C=As,L=Wl,As=null,Mu(h,p,y),As=C,Wl=L,As!==null)if(Wl)try{(As.nodeType===9?As.body:As.nodeName==="HTML"?As.ownerDocument.body:As).removeChild(y.stateNode)}catch(H){rs(y,p,H)}else try{As.removeChild(y.stateNode)}catch(H){rs(y,p,H)}break;case 18:As!==null&&(Wl?(h=As,JE(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,y.stateNode),kg(h)):JE(As,y.stateNode));break;case 4:C=As,L=Wl,As=y.stateNode.containerInfo,Wl=!0,Mu(h,p,y),As=C,Wl=L;break;case 0:case 11:case 14:case 15:xn||Yh(2,y,p),xn||Yh(4,y,p),Mu(h,p,y);break;case 1:xn||(Id(y,p),C=y.stateNode,typeof C.componentWillUnmount=="function"&&aE(y,p,C)),Mu(h,p,y);break;case 21:Mu(h,p,y);break;case 22:xn=(C=xn)||y.memoizedState!==null,Mu(h,p,y),xn=C;break;default:Mu(h,p,y)}}function dE(h,p){if(p.memoizedState===null&&(h=p.alternate,h!==null&&(h=h.memoizedState,h!==null&&(h=h.dehydrated,h!==null))))try{kg(h)}catch(y){rs(p,p.return,y)}}function BQ(h){switch(h.tag){case 13:case 19:var p=h.stateNode;return p===null&&(p=h.stateNode=new iE),p;case 22:return h=h.stateNode,p=h._retryCache,p===null&&(p=h._retryCache=new iE),p;default:throw Error(s(435,h.tag))}}function h4(h,p){var y=BQ(h);p.forEach(function(C){var L=KQ.bind(null,h,C);y.has(C)||(y.add(C),C.then(L,L))})}function go(h,p){var y=p.deletions;if(y!==null)for(var C=0;C<y.length;C++){var L=y[C],H=h,de=p,ve=de;e:for(;ve!==null;){switch(ve.tag){case 27:if(rf(ve.type)){As=ve.stateNode,Wl=!1;break e}break;case 5:As=ve.stateNode,Wl=!1;break e;case 3:case 4:As=ve.stateNode.containerInfo,Wl=!0;break e}ve=ve.return}if(As===null)throw Error(s(160));cE(H,de,L),As=null,Wl=!1,H=L.alternate,H!==null&&(H.return=null),L.return=null}if(p.subtreeFlags&13878)for(p=p.child;p!==null;)uE(p,h),p=p.sibling}var Xc=null;function uE(h,p){var y=h.alternate,C=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:go(p,h),vo(h),C&4&&(Yh(3,h,h.return),lg(3,h),Yh(5,h,h.return));break;case 1:go(p,h),vo(h),C&512&&(xn||y===null||Id(y,y.return)),C&64&&Du&&(h=h.updateQueue,h!==null&&(C=h.callbacks,C!==null&&(y=h.shared.hiddenCallbacks,h.shared.hiddenCallbacks=y===null?C:y.concat(C))));break;case 26:var L=Xc;if(go(p,h),vo(h),C&512&&(xn||y===null||Id(y,y.return)),C&4){var H=y!==null?y.memoizedState:null;if(C=h.memoizedState,y===null)if(C===null)if(h.stateNode===null){e:{C=h.type,y=h.memoizedProps,L=L.ownerDocument||L;t:switch(C){case"title":H=L.getElementsByTagName("title")[0],(!H||H[we]||H[Za]||H.namespaceURI==="http://www.w3.org/2000/svg"||H.hasAttribute("itemprop"))&&(H=L.createElement(C),L.head.insertBefore(H,L.querySelector("head > title"))),Ri(H,C,y),H[Za]=h,Xe(H),C=H;break e;case"link":var de=n7("link","href",L).get(C+(y.href||""));if(de){for(var ve=0;ve<de.length;ve++)if(H=de[ve],H.getAttribute("href")===(y.href==null||y.href===""?null:y.href)&&H.getAttribute("rel")===(y.rel==null?null:y.rel)&&H.getAttribute("title")===(y.title==null?null:y.title)&&H.getAttribute("crossorigin")===(y.crossOrigin==null?null:y.crossOrigin)){de.splice(ve,1);break t}}H=L.createElement(C),Ri(H,C,y),L.head.appendChild(H);break;case"meta":if(de=n7("meta","content",L).get(C+(y.content||""))){for(ve=0;ve<de.length;ve++)if(H=de[ve],H.getAttribute("content")===(y.content==null?null:""+y.content)&&H.getAttribute("name")===(y.name==null?null:y.name)&&H.getAttribute("property")===(y.property==null?null:y.property)&&H.getAttribute("http-equiv")===(y.httpEquiv==null?null:y.httpEquiv)&&H.getAttribute("charset")===(y.charSet==null?null:y.charSet)){de.splice(ve,1);break t}}H=L.createElement(C),Ri(H,C,y),L.head.appendChild(H);break;default:throw Error(s(468,C))}H[Za]=h,Xe(H),C=H}h.stateNode=C}else i7(L,h.type,h.stateNode);else h.stateNode=s7(L,C,h.memoizedProps);else H!==C?(H===null?y.stateNode!==null&&(y=y.stateNode,y.parentNode.removeChild(y)):H.count--,C===null?i7(L,h.type,h.stateNode):s7(L,C,h.memoizedProps)):C===null&&h.stateNode!==null&&o4(h,h.memoizedProps,y.memoizedProps)}break;case 27:go(p,h),vo(h),C&512&&(xn||y===null||Id(y,y.return)),y!==null&&C&4&&o4(h,h.memoizedProps,y.memoizedProps);break;case 5:if(go(p,h),vo(h),C&512&&(xn||y===null||Id(y,y.return)),h.flags&32){L=h.stateNode;try{Ai(L,"")}catch(mt){rs(h,h.return,mt)}}C&4&&h.stateNode!=null&&(L=h.memoizedProps,o4(h,L,y!==null?y.memoizedProps:L)),C&1024&&(u4=!0);break;case 6:if(go(p,h),vo(h),C&4){if(h.stateNode===null)throw Error(s(162));C=h.memoizedProps,y=h.stateNode;try{y.nodeValue=C}catch(mt){rs(h,h.return,mt)}}break;case 3:if(iy=null,L=Xc,Xc=sy(p.containerInfo),go(p,h),Xc=L,vo(h),C&4&&y!==null&&y.memoizedState.isDehydrated)try{kg(p.containerInfo)}catch(mt){rs(h,h.return,mt)}u4&&(u4=!1,hE(h));break;case 4:C=Xc,Xc=sy(h.stateNode.containerInfo),go(p,h),vo(h),Xc=C;break;case 12:go(p,h),vo(h);break;case 13:go(p,h),vo(h),h.child.flags&8192&&h.memoizedState!==null!=(y!==null&&y.memoizedState!==null)&&(v4=Ue()),C&4&&(C=h.updateQueue,C!==null&&(h.updateQueue=null,h4(h,C)));break;case 22:L=h.memoizedState!==null;var Be=y!==null&&y.memoizedState!==null,ot=Du,Tt=xn;if(Du=ot||L,xn=Tt||Be,go(p,h),xn=Tt,Du=ot,vo(h),C&8192)e:for(p=h.stateNode,p._visibility=L?p._visibility&-2:p._visibility|1,L&&(y===null||Be||Du||xn||b0(h)),y=null,p=h;;){if(p.tag===5||p.tag===26){if(y===null){Be=y=p;try{if(H=Be.stateNode,L)de=H.style,typeof de.setProperty=="function"?de.setProperty("display","none","important"):de.display="none";else{ve=Be.stateNode;var Rt=Be.memoizedProps.style,ht=Rt!=null&&Rt.hasOwnProperty("display")?Rt.display:null;ve.style.display=ht==null||typeof ht=="boolean"?"":(""+ht).trim()}}catch(mt){rs(Be,Be.return,mt)}}}else if(p.tag===6){if(y===null){Be=p;try{Be.stateNode.nodeValue=L?"":Be.memoizedProps}catch(mt){rs(Be,Be.return,mt)}}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===h)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===h)break e;for(;p.sibling===null;){if(p.return===null||p.return===h)break e;y===p&&(y=null),p=p.return}y===p&&(y=null),p.sibling.return=p.return,p=p.sibling}C&4&&(C=h.updateQueue,C!==null&&(y=C.retryQueue,y!==null&&(C.retryQueue=null,h4(h,y))));break;case 19:go(p,h),vo(h),C&4&&(C=h.updateQueue,C!==null&&(h.updateQueue=null,h4(h,C)));break;case 30:break;case 21:break;default:go(p,h),vo(h)}}function vo(h){var p=h.flags;if(p&2){try{for(var y,C=h.return;C!==null;){if(sE(C)){y=C;break}C=C.return}if(y==null)throw Error(s(160));switch(y.tag){case 27:var L=y.stateNode,H=c4(h);Wb(h,H,L);break;case 5:var de=y.stateNode;y.flags&32&&(Ai(de,""),y.flags&=-33);var ve=c4(h);Wb(h,ve,de);break;case 3:case 4:var Be=y.stateNode.containerInfo,ot=c4(h);d4(h,ot,Be);break;default:throw Error(s(161))}}catch(Tt){rs(h,h.return,Tt)}h.flags&=-3}p&4096&&(h.flags&=-4097)}function hE(h){if(h.subtreeFlags&1024)for(h=h.child;h!==null;){var p=h;hE(p),p.tag===5&&p.flags&1024&&p.stateNode.reset(),h=h.sibling}}function Xh(h,p){if(p.subtreeFlags&8772)for(p=p.child;p!==null;)lE(h,p.alternate,p),p=p.sibling}function b0(h){for(h=h.child;h!==null;){var p=h;switch(p.tag){case 0:case 11:case 14:case 15:Yh(4,p,p.return),b0(p);break;case 1:Id(p,p.return);var y=p.stateNode;typeof y.componentWillUnmount=="function"&&aE(p,p.return,y),b0(p);break;case 27:gg(p.stateNode);case 26:case 5:Id(p,p.return),b0(p);break;case 22:p.memoizedState===null&&b0(p);break;case 30:b0(p);break;default:b0(p)}h=h.sibling}}function Jh(h,p,y){for(y=y&&(p.subtreeFlags&8772)!==0,p=p.child;p!==null;){var C=p.alternate,L=h,H=p,de=H.flags;switch(H.tag){case 0:case 11:case 15:Jh(L,H,y),lg(4,H);break;case 1:if(Jh(L,H,y),C=H,L=C.stateNode,typeof L.componentDidMount=="function")try{L.componentDidMount()}catch(ot){rs(C,C.return,ot)}if(C=H,L=C.updateQueue,L!==null){var ve=C.stateNode;try{var Be=L.shared.hiddenCallbacks;if(Be!==null)for(L.shared.hiddenCallbacks=null,L=0;L<Be.length;L++)ir(Be[L],ve)}catch(ot){rs(C,C.return,ot)}}y&&de&64&&tE(H),og(H,H.return);break;case 27:nE(H);case 26:case 5:Jh(L,H,y),y&&C===null&&de&4&&rE(H),og(H,H.return);break;case 12:Jh(L,H,y);break;case 13:Jh(L,H,y),y&&de&4&&dE(L,H);break;case 22:H.memoizedState===null&&Jh(L,H,y),og(H,H.return);break;case 30:break;default:Jh(L,H,y)}p=p.sibling}}function f4(h,p){var y=null;h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),h=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(h=p.memoizedState.cachePool.pool),h!==y&&(h!=null&&h.refCount++,y!=null&&o0(y))}function m4(h,p){h=null,p.alternate!==null&&(h=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==h&&(p.refCount++,h!=null&&o0(h))}function Bd(h,p,y,C){if(p.subtreeFlags&10256)for(p=p.child;p!==null;)fE(h,p,y,C),p=p.sibling}function fE(h,p,y,C){var L=p.flags;switch(p.tag){case 0:case 11:case 15:Bd(h,p,y,C),L&2048&&lg(9,p);break;case 1:Bd(h,p,y,C);break;case 3:Bd(h,p,y,C),L&2048&&(h=null,p.alternate!==null&&(h=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==h&&(p.refCount++,h!=null&&o0(h)));break;case 12:if(L&2048){Bd(h,p,y,C),h=p.stateNode;try{var H=p.memoizedProps,de=H.id,ve=H.onPostCommit;typeof ve=="function"&&ve(de,p.alternate===null?"mount":"update",h.passiveEffectDuration,-0)}catch(Be){rs(p,p.return,Be)}}else Bd(h,p,y,C);break;case 13:Bd(h,p,y,C);break;case 23:break;case 22:H=p.stateNode,de=p.alternate,p.memoizedState!==null?H._visibility&2?Bd(h,p,y,C):cg(h,p):H._visibility&2?Bd(h,p,y,C):(H._visibility|=2,dp(h,p,y,C,(p.subtreeFlags&10256)!==0)),L&2048&&f4(de,p);break;case 24:Bd(h,p,y,C),L&2048&&m4(p.alternate,p);break;default:Bd(h,p,y,C)}}function dp(h,p,y,C,L){for(L=L&&(p.subtreeFlags&10256)!==0,p=p.child;p!==null;){var H=h,de=p,ve=y,Be=C,ot=de.flags;switch(de.tag){case 0:case 11:case 15:dp(H,de,ve,Be,L),lg(8,de);break;case 23:break;case 22:var Tt=de.stateNode;de.memoizedState!==null?Tt._visibility&2?dp(H,de,ve,Be,L):cg(H,de):(Tt._visibility|=2,dp(H,de,ve,Be,L)),L&&ot&2048&&f4(de.alternate,de);break;case 24:dp(H,de,ve,Be,L),L&&ot&2048&&m4(de.alternate,de);break;default:dp(H,de,ve,Be,L)}p=p.sibling}}function cg(h,p){if(p.subtreeFlags&10256)for(p=p.child;p!==null;){var y=h,C=p,L=C.flags;switch(C.tag){case 22:cg(y,C),L&2048&&f4(C.alternate,C);break;case 24:cg(y,C),L&2048&&m4(C.alternate,C);break;default:cg(y,C)}p=p.sibling}}var dg=8192;function up(h){if(h.subtreeFlags&dg)for(h=h.child;h!==null;)mE(h),h=h.sibling}function mE(h){switch(h.tag){case 26:up(h),h.flags&dg&&h.memoizedState!==null&&SZ(Xc,h.memoizedState,h.memoizedProps);break;case 5:up(h);break;case 3:case 4:var p=Xc;Xc=sy(h.stateNode.containerInfo),up(h),Xc=p;break;case 22:h.memoizedState===null&&(p=h.alternate,p!==null&&p.memoizedState!==null?(p=dg,dg=16777216,up(h),dg=p):up(h));break;default:up(h)}}function pE(h){var p=h.alternate;if(p!==null&&(h=p.child,h!==null)){p.child=null;do p=h.sibling,h.sibling=null,h=p;while(h!==null)}}function ug(h){var p=h.deletions;if((h.flags&16)!==0){if(p!==null)for(var y=0;y<p.length;y++){var C=p[y];xi=C,gE(C,h)}pE(h)}if(h.subtreeFlags&10256)for(h=h.child;h!==null;)xE(h),h=h.sibling}function xE(h){switch(h.tag){case 0:case 11:case 15:ug(h),h.flags&2048&&Yh(9,h,h.return);break;case 3:ug(h);break;case 12:ug(h);break;case 22:var p=h.stateNode;h.memoizedState!==null&&p._visibility&2&&(h.return===null||h.return.tag!==13)?(p._visibility&=-3,qb(h)):ug(h);break;default:ug(h)}}function qb(h){var p=h.deletions;if((h.flags&16)!==0){if(p!==null)for(var y=0;y<p.length;y++){var C=p[y];xi=C,gE(C,h)}pE(h)}for(h=h.child;h!==null;){switch(p=h,p.tag){case 0:case 11:case 15:Yh(8,p,p.return),qb(p);break;case 22:y=p.stateNode,y._visibility&2&&(y._visibility&=-3,qb(p));break;default:qb(p)}h=h.sibling}}function gE(h,p){for(;xi!==null;){var y=xi;switch(y.tag){case 0:case 11:case 15:Yh(8,y,p);break;case 23:case 22:if(y.memoizedState!==null&&y.memoizedState.cachePool!==null){var C=y.memoizedState.cachePool.pool;C!=null&&C.refCount++}break;case 24:o0(y.memoizedState.cache)}if(C=y.child,C!==null)C.return=y,xi=C;else e:for(y=h;xi!==null;){C=xi;var L=C.sibling,H=C.return;if(oE(C),C===y){xi=null;break e}if(L!==null){L.return=H,xi=L;break e}xi=H}}}var $Q={getCacheForType:function(h){var p=un(hn),y=p.data.get(h);return y===void 0&&(y=h(),p.data.set(h,y)),y}},UQ=typeof WeakMap=="function"?WeakMap:Map,Ir=0,is=null,dr=null,jr=0,Br=0,bo=null,Qh=!1,hp=!1,p4=!1,Pu=0,Ys=0,Zh=0,y0=0,x4=0,ec=0,fp=0,hg=null,ql=null,g4=!1,v4=0,Gb=1/0,Kb=null,ef=null,Oi=0,tf=null,mp=null,pp=0,b4=0,y4=null,vE=null,fg=0,w4=null;function yo(){if((Ir&2)!==0&&jr!==0)return jr&-jr;if(V.T!==null){var h=ku;return h!==0?h:_4()}return pa()}function bE(){ec===0&&(ec=(jr&536870912)===0||Nr?We():536870912);var h=Zo.current;return h!==null&&(h.flags|=32),ec}function wo(h,p,y){(h===is&&(Br===2||Br===9)||h.cancelPendingCommit!==null)&&(xp(h,0),af(h,jr,ec,!1)),sa(h,y),((Ir&2)===0||h!==is)&&(h===is&&((Ir&2)===0&&(y0|=y),Ys===4&&af(h,jr,ec,!1)),$d(h))}function yE(h,p,y){if((Ir&6)!==0)throw Error(s(327));var C=!y&&(p&124)===0&&(p&h.expiredLanes)===0||Ee(h,p),L=C?VQ(h,p):S4(h,p,!0),H=C;do{if(L===0){hp&&!C&&af(h,p,0,!1);break}else{if(y=h.current.alternate,H&&!zQ(y)){L=S4(h,p,!1),H=!1;continue}if(L===2){if(H=p,h.errorRecoveryDisabledLanes&H)var de=0;else de=h.pendingLanes&-536870913,de=de!==0?de:de&536870912?536870912:0;if(de!==0){p=de;e:{var ve=h;L=hg;var Be=ve.current.memoizedState.isDehydrated;if(Be&&(xp(ve,de).flags|=256),de=S4(ve,de,!1),de!==2){if(p4&&!Be){ve.errorRecoveryDisabledLanes|=H,y0|=H,L=4;break e}H=ql,ql=L,H!==null&&(ql===null?ql=H:ql.push.apply(ql,H))}L=de}if(H=!1,L!==2)continue}}if(L===1){xp(h,0),af(h,p,0,!0);break}e:{switch(C=h,H=L,H){case 0:case 1:throw Error(s(345));case 4:if((p&4194048)!==p)break;case 6:af(C,p,ec,!Qh);break e;case 2:ql=null;break;case 3:case 5:break;default:throw Error(s(329))}if((p&62914560)===p&&(L=v4+300-Ue(),10<L)){if(af(C,p,ec,!Qh),Mt(C,0,!0)!==0)break e;C.timeoutHandle=YE(wE.bind(null,C,y,ql,Kb,g4,p,ec,y0,fp,Qh,H,2,-0,0),L);break e}wE(C,y,ql,Kb,g4,p,ec,y0,fp,Qh,H,0,-0,0)}}break}while(!0);$d(h)}function wE(h,p,y,C,L,H,de,ve,Be,ot,Tt,Rt,ht,mt){if(h.timeoutHandle=-1,Rt=p.subtreeFlags,(Rt&8192||(Rt&16785408)===16785408)&&(yg={stylesheets:null,count:0,unsuspend:NZ},mE(p),Rt=kZ(),Rt!==null)){h.cancelPendingCommit=Rt(_E.bind(null,h,p,H,y,C,L,de,ve,Be,Tt,1,ht,mt)),af(h,H,de,!ot);return}_E(h,p,H,y,C,L,de,ve,Be)}function zQ(h){for(var p=h;;){var y=p.tag;if((y===0||y===11||y===15)&&p.flags&16384&&(y=p.updateQueue,y!==null&&(y=y.stores,y!==null)))for(var C=0;C<y.length;C++){var L=y[C],H=L.getSnapshot;L=L.value;try{if(!ws(H(),L))return!1}catch{return!1}}if(y=p.child,p.subtreeFlags&16384&&y!==null)y.return=p,p=y;else{if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function af(h,p,y,C){p&=~x4,p&=~y0,h.suspendedLanes|=p,h.pingedLanes&=~p,C&&(h.warmLanes|=p),C=h.expirationTimes;for(var L=p;0<L;){var H=31-dt(L),de=1<<H;C[H]=-1,L&=~de}y!==0&&ka(h,y,p)}function Yb(){return(Ir&6)===0?(mg(0),!1):!0}function j4(){if(dr!==null){if(Br===0)var h=dr.return;else h=dr,Vc=Mn=null,qn(h),op=null,sg=0,h=dr;for(;h!==null;)eE(h.alternate,h),h=h.return;dr=null}}function xp(h,p){var y=h.timeoutHandle;y!==-1&&(h.timeoutHandle=-1,iZ(y)),y=h.cancelPendingCommit,y!==null&&(h.cancelPendingCommit=null,y()),j4(),is=h,dr=y=qo(h.current,null),jr=p,Br=0,bo=null,Qh=!1,hp=Ee(h,p),p4=!1,fp=ec=x4=y0=Zh=Ys=0,ql=hg=null,g4=!1,(p&8)!==0&&(p|=p&32);var C=h.entangledLanes;if(C!==0)for(h=h.entanglements,C&=p;0<C;){var L=31-dt(C),H=1<<L;p|=h[L],C&=~H}return Pu=p,a0(),y}function jE(h,p){ua=null,V.H=Rb,p===xe||p===be?(p=Ye(),Br=3):p===ge?(p=Ye(),Br=4):Br=p===$T?8:p!==null&&typeof p=="object"&&typeof p.then=="function"?6:1,bo=p,dr===null&&(Ys=1,Ub(h,wl(p,h.current)))}function NE(){var h=V.H;return V.H=Rb,h===null?Rb:h}function SE(){var h=V.A;return V.A=$Q,h}function N4(){Ys=4,Qh||(jr&4194048)!==jr&&Zo.current!==null||(hp=!0),(Zh&134217727)===0&&(y0&134217727)===0||is===null||af(is,jr,ec,!1)}function S4(h,p,y){var C=Ir;Ir|=2;var L=NE(),H=SE();(is!==h||jr!==p)&&(Kb=null,xp(h,p)),p=!1;var de=Ys;e:do try{if(Br!==0&&dr!==null){var ve=dr,Be=bo;switch(Br){case 8:j4(),de=6;break e;case 3:case 2:case 9:case 6:Zo.current===null&&(p=!0);var ot=Br;if(Br=0,bo=null,gp(h,ve,Be,ot),y&&hp){de=0;break e}break;default:ot=Br,Br=0,bo=null,gp(h,ve,Be,ot)}}HQ(),de=Ys;break}catch(Tt){jE(h,Tt)}while(!0);return p&&h.shellSuspendCounter++,Vc=Mn=null,Ir=C,V.H=L,V.A=H,dr===null&&(is=null,jr=0,a0()),de}function HQ(){for(;dr!==null;)kE(dr)}function VQ(h,p){var y=Ir;Ir|=2;var C=NE(),L=SE();is!==h||jr!==p?(Kb=null,Gb=Ue()+500,xp(h,p)):hp=Ee(h,p);e:do try{if(Br!==0&&dr!==null){p=dr;var H=bo;t:switch(Br){case 1:Br=0,bo=null,gp(h,p,H,1);break;case 2:case 9:if(Le(H)){Br=0,bo=null,CE(p);break}p=function(){Br!==2&&Br!==9||is!==h||(Br=7),$d(h)},H.then(p,p);break e;case 3:Br=7;break e;case 4:Br=5;break e;case 7:Le(H)?(Br=0,bo=null,CE(p)):(Br=0,bo=null,gp(h,p,H,7));break;case 5:var de=null;switch(dr.tag){case 26:de=dr.memoizedState;case 5:case 27:var ve=dr;if(!de||l7(de)){Br=0,bo=null;var Be=ve.sibling;if(Be!==null)dr=Be;else{var ot=ve.return;ot!==null?(dr=ot,Xb(ot)):dr=null}break t}}Br=0,bo=null,gp(h,p,H,5);break;case 6:Br=0,bo=null,gp(h,p,H,6);break;case 8:j4(),Ys=6;break e;default:throw Error(s(462))}}WQ();break}catch(Tt){jE(h,Tt)}while(!0);return Vc=Mn=null,V.H=C,V.A=L,Ir=y,dr!==null?0:(is=null,jr=0,a0(),Ys)}function WQ(){for(;dr!==null&&!ue();)kE(dr)}function kE(h){var p=QT(h.alternate,h,Pu);h.memoizedProps=h.pendingProps,p===null?Xb(h):dr=p}function CE(h){var p=h,y=p.alternate;switch(p.tag){case 15:case 0:p=qT(y,p,p.pendingProps,p.type,void 0,jr);break;case 11:p=qT(y,p,p.pendingProps,p.type.render,p.ref,jr);break;case 5:qn(p);default:eE(y,p),p=dr=s0(p,Pu),p=QT(y,p,Pu)}h.memoizedProps=h.pendingProps,p===null?Xb(h):dr=p}function gp(h,p,y,C){Vc=Mn=null,qn(p),op=null,sg=0;var L=p.return;try{if(LQ(h,L,p,y,jr)){Ys=1,Ub(h,wl(y,h.current)),dr=null;return}}catch(H){if(L!==null)throw dr=L,H;Ys=1,Ub(h,wl(y,h.current)),dr=null;return}p.flags&32768?(Nr||C===1?h=!0:hp||(jr&536870912)!==0?h=!1:(Qh=h=!0,(C===2||C===9||C===3||C===6)&&(C=Zo.current,C!==null&&C.tag===13&&(C.flags|=16384))),AE(p,h)):Xb(p)}function Xb(h){var p=h;do{if((p.flags&32768)!==0){AE(p,Qh);return}h=p.return;var y=RQ(p.alternate,p,Pu);if(y!==null){dr=y;return}if(p=p.sibling,p!==null){dr=p;return}dr=p=h}while(p!==null);Ys===0&&(Ys=5)}function AE(h,p){do{var y=FQ(h.alternate,h);if(y!==null){y.flags&=32767,dr=y;return}if(y=h.return,y!==null&&(y.flags|=32768,y.subtreeFlags=0,y.deletions=null),!p&&(h=h.sibling,h!==null)){dr=h;return}dr=h=y}while(h!==null);Ys=6,dr=null}function _E(h,p,y,C,L,H,de,ve,Be){h.cancelPendingCommit=null;do Jb();while(Oi!==0);if((Ir&6)!==0)throw Error(s(327));if(p!==null){if(p===h.current)throw Error(s(177));if(H=p.lanes|p.childLanes,H|=Ym,Zt(h,y,H,de,ve,Be),h===is&&(dr=is=null,jr=0),mp=p,tf=h,pp=y,b4=H,y4=L,vE=C,(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?(h.callbackNode=null,h.callbackPriority=0,YQ(Ce,function(){return PE(),null})):(h.callbackNode=null,h.callbackPriority=0),C=(p.flags&13878)!==0,(p.subtreeFlags&13878)!==0||C){C=V.T,V.T=null,L=Z.p,Z.p=2,de=Ir,Ir|=4;try{IQ(h,p,y)}finally{Ir=de,Z.p=L,V.T=C}}Oi=1,TE(),EE(),DE()}}function TE(){if(Oi===1){Oi=0;var h=tf,p=mp,y=(p.flags&13878)!==0;if((p.subtreeFlags&13878)!==0||y){y=V.T,V.T=null;var C=Z.p;Z.p=2;var L=Ir;Ir|=4;try{uE(p,h);var H=R4,de=Rh(h.containerInfo),ve=H.focusedElem,Be=H.selectionRange;if(de!==ve&&ve&&ve.ownerDocument&&Oh(ve.ownerDocument.documentElement,ve)){if(Be!==null&&Vo(ve)){var ot=Be.start,Tt=Be.end;if(Tt===void 0&&(Tt=ot),"selectionStart"in ve)ve.selectionStart=ot,ve.selectionEnd=Math.min(Tt,ve.value.length);else{var Rt=ve.ownerDocument||document,ht=Rt&&Rt.defaultView||window;if(ht.getSelection){var mt=ht.getSelection(),La=ve.textContent.length,_a=Math.min(Be.start,La),Yr=Be.end===void 0?_a:Math.min(Be.end,La);!mt.extend&&_a>Yr&&(de=Yr,Yr=_a,_a=de);var Je=Lh(ve,_a),Ke=Lh(ve,Yr);if(Je&&Ke&&(mt.rangeCount!==1||mt.anchorNode!==Je.node||mt.anchorOffset!==Je.offset||mt.focusNode!==Ke.node||mt.focusOffset!==Ke.offset)){var rt=Rt.createRange();rt.setStart(Je.node,Je.offset),mt.removeAllRanges(),_a>Yr?(mt.addRange(rt),mt.extend(Ke.node,Ke.offset)):(rt.setEnd(Ke.node,Ke.offset),mt.addRange(rt))}}}}for(Rt=[],mt=ve;mt=mt.parentNode;)mt.nodeType===1&&Rt.push({element:mt,left:mt.scrollLeft,top:mt.scrollTop});for(typeof ve.focus=="function"&&ve.focus(),ve=0;ve<Rt.length;ve++){var Pt=Rt[ve];Pt.element.scrollLeft=Pt.left,Pt.element.scrollTop=Pt.top}}cy=!!O4,R4=O4=null}finally{Ir=L,Z.p=C,V.T=y}}h.current=p,Oi=2}}function EE(){if(Oi===2){Oi=0;var h=tf,p=mp,y=(p.flags&8772)!==0;if((p.subtreeFlags&8772)!==0||y){y=V.T,V.T=null;var C=Z.p;Z.p=2;var L=Ir;Ir|=4;try{lE(h,p.alternate,p)}finally{Ir=L,Z.p=C,V.T=y}}Oi=3}}function DE(){if(Oi===4||Oi===3){Oi=0,Fe();var h=tf,p=mp,y=pp,C=vE;(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?Oi=5:(Oi=0,mp=tf=null,ME(h,h.pendingLanes));var L=h.pendingLanes;if(L===0&&(ef=null),va(y),p=p.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot($e,p,void 0,(p.current.flags&128)===128)}catch{}if(C!==null){p=V.T,L=Z.p,Z.p=2,V.T=null;try{for(var H=h.onRecoverableError,de=0;de<C.length;de++){var ve=C[de];H(ve.value,{componentStack:ve.stack})}}finally{V.T=p,Z.p=L}}(pp&3)!==0&&Jb(),$d(h),L=h.pendingLanes,(y&4194090)!==0&&(L&42)!==0?h===w4?fg++:(fg=0,w4=h):fg=0,mg(0)}}function ME(h,p){(h.pooledCacheLanes&=p)===0&&(p=h.pooledCache,p!=null&&(h.pooledCache=null,o0(p)))}function Jb(h){return TE(),EE(),DE(),PE()}function PE(){if(Oi!==5)return!1;var h=tf,p=b4;b4=0;var y=va(pp),C=V.T,L=Z.p;try{Z.p=32>y?32:y,V.T=null,y=y4,y4=null;var H=tf,de=pp;if(Oi=0,mp=tf=null,pp=0,(Ir&6)!==0)throw Error(s(331));var ve=Ir;if(Ir|=4,xE(H.current),fE(H,H.current,de,y),Ir=ve,mg(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot($e,H)}catch{}return!0}finally{Z.p=L,V.T=C,ME(h,p)}}function LE(h,p,y){p=wl(y,p),p=ZN(h.stateNode,p,2),h=$t(h,p,2),h!==null&&(sa(h,2),$d(h))}function rs(h,p,y){if(h.tag===3)LE(h,h,y);else for(;p!==null;){if(p.tag===3){LE(p,h,y);break}else if(p.tag===1){var C=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(ef===null||!ef.has(C))){h=wl(y,h),y=IT(2),C=$t(p,y,2),C!==null&&(BT(y,C,p,h),sa(C,2),$d(C));break}}p=p.return}}function k4(h,p,y){var C=h.pingCache;if(C===null){C=h.pingCache=new UQ;var L=new Set;C.set(p,L)}else L=C.get(p),L===void 0&&(L=new Set,C.set(p,L));L.has(y)||(p4=!0,L.add(y),h=qQ.bind(null,h,p,y),p.then(h,h))}function qQ(h,p,y){var C=h.pingCache;C!==null&&C.delete(p),h.pingedLanes|=h.suspendedLanes&y,h.warmLanes&=~y,is===h&&(jr&y)===y&&(Ys===4||Ys===3&&(jr&62914560)===jr&&300>Ue()-v4?(Ir&2)===0&&xp(h,0):x4|=y,fp===jr&&(fp=0)),$d(h)}function OE(h,p){p===0&&(p=xt()),h=bu(h,p),h!==null&&(sa(h,p),$d(h))}function GQ(h){var p=h.memoizedState,y=0;p!==null&&(y=p.retryLane),OE(h,y)}function KQ(h,p){var y=0;switch(h.tag){case 13:var C=h.stateNode,L=h.memoizedState;L!==null&&(y=L.retryLane);break;case 19:C=h.stateNode;break;case 22:C=h.stateNode._retryCache;break;default:throw Error(s(314))}C!==null&&C.delete(p),OE(h,y)}function YQ(h,p){return ce(h,p)}var Qb=null,vp=null,C4=!1,Zb=!1,A4=!1,w0=0;function $d(h){h!==vp&&h.next===null&&(vp===null?Qb=vp=h:vp=vp.next=h),Zb=!0,C4||(C4=!0,JQ())}function mg(h,p){if(!A4&&Zb){A4=!0;do for(var y=!1,C=Qb;C!==null;){if(h!==0){var L=C.pendingLanes;if(L===0)var H=0;else{var de=C.suspendedLanes,ve=C.pingedLanes;H=(1<<31-dt(42|h)+1)-1,H&=L&~(de&~ve),H=H&201326741?H&201326741|1:H?H|2:0}H!==0&&(y=!0,BE(C,H))}else H=jr,H=Mt(C,C===is?H:0,C.cancelPendingCommit!==null||C.timeoutHandle!==-1),(H&3)===0||Ee(C,H)||(y=!0,BE(C,H));C=C.next}while(y);A4=!1}}function XQ(){RE()}function RE(){Zb=C4=!1;var h=0;w0!==0&&(nZ()&&(h=w0),w0=0);for(var p=Ue(),y=null,C=Qb;C!==null;){var L=C.next,H=FE(C,p);H===0?(C.next=null,y===null?Qb=L:y.next=L,L===null&&(vp=y)):(y=C,(h!==0||(H&3)!==0)&&(Zb=!0)),C=L}mg(h)}function FE(h,p){for(var y=h.suspendedLanes,C=h.pingedLanes,L=h.expirationTimes,H=h.pendingLanes&-62914561;0<H;){var de=31-dt(H),ve=1<<de,Be=L[de];Be===-1?((ve&y)===0||(ve&C)!==0)&&(L[de]=ze(ve,p)):Be<=p&&(h.expiredLanes|=ve),H&=~ve}if(p=is,y=jr,y=Mt(h,h===p?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),C=h.callbackNode,y===0||h===p&&(Br===2||Br===9)||h.cancelPendingCommit!==null)return C!==null&&C!==null&&he(C),h.callbackNode=null,h.callbackPriority=0;if((y&3)===0||Ee(h,y)){if(p=y&-y,p===h.callbackPriority)return p;switch(C!==null&&he(C),va(y)){case 2:case 8:y=De;break;case 32:y=Ce;break;case 268435456:y=ft;break;default:y=Ce}return C=IE.bind(null,h),y=ce(y,C),h.callbackPriority=p,h.callbackNode=y,p}return C!==null&&C!==null&&he(C),h.callbackPriority=2,h.callbackNode=null,2}function IE(h,p){if(Oi!==0&&Oi!==5)return h.callbackNode=null,h.callbackPriority=0,null;var y=h.callbackNode;if(Jb()&&h.callbackNode!==y)return null;var C=jr;return C=Mt(h,h===is?C:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),C===0?null:(yE(h,C,p),FE(h,Ue()),h.callbackNode!=null&&h.callbackNode===y?IE.bind(null,h):null)}function BE(h,p){if(Jb())return null;yE(h,p,!0)}function JQ(){lZ(function(){(Ir&6)!==0?ce(ae,XQ):RE()})}function _4(){return w0===0&&(w0=We()),w0}function $E(h){return h==null||typeof h=="symbol"||typeof h=="boolean"?null:typeof h=="function"?h:Mr(""+h)}function UE(h,p){var y=p.ownerDocument.createElement("input");return y.name=p.name,y.value=p.value,h.id&&y.setAttribute("form",h.id),p.parentNode.insertBefore(y,p),h=new FormData(h),y.parentNode.removeChild(y),h}function QQ(h,p,y,C,L){if(p==="submit"&&y&&y.stateNode===L){var H=$E((L[Ka]||null).action),de=C.submitter;de&&(p=(p=de[Ka]||null)?$E(p.formAction):de.getAttribute("formAction"),p!==null&&(H=p,de=null));var ve=new wd("action","action",null,C,L);h.push({event:ve,listeners:[{instance:null,listener:function(){if(C.defaultPrevented){if(w0!==0){var Be=de?UE(L,de):new FormData(L);Qo(y,{pending:!0,data:Be,method:L.method,action:H},null,Be)}}else typeof H=="function"&&(ve.preventDefault(),Be=de?UE(L,de):new FormData(L),Qo(y,{pending:!0,data:Be,method:L.method,action:H},H,Be))},currentTarget:L}]})}}for(var T4=0;T4<Km.length;T4++){var E4=Km[T4],ZQ=E4.toLowerCase(),eZ=E4[0].toUpperCase()+E4.slice(1);zl(ZQ,"on"+eZ)}zl(Wo,"onAnimationEnd"),zl(Fh,"onAnimationIteration"),zl(gu,"onAnimationStart"),zl("dblclick","onDoubleClick"),zl("focusin","onFocus"),zl("focusout","onBlur"),zl(Gm,"onTransitionRun"),zl(gb,"onTransitionStart"),zl(vb,"onTransitionCancel"),zl(Ux,"onTransitionEnd"),Ft("onMouseEnter",["mouseout","mouseover"]),Ft("onMouseLeave",["mouseout","mouseover"]),Ft("onPointerEnter",["pointerout","pointerover"]),Ft("onPointerLeave",["pointerout","pointerover"]),At("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),At("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),At("onBeforeInput",["compositionend","keypress","textInput","paste"]),At("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),At("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),At("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tZ=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pg));function zE(h,p){p=(p&4)!==0;for(var y=0;y<h.length;y++){var C=h[y],L=C.event;C=C.listeners;e:{var H=void 0;if(p)for(var de=C.length-1;0<=de;de--){var ve=C[de],Be=ve.instance,ot=ve.currentTarget;if(ve=ve.listener,Be!==H&&L.isPropagationStopped())break e;H=ve,L.currentTarget=ot;try{H(L)}catch(Tt){$b(Tt)}L.currentTarget=null,H=Be}else for(de=0;de<C.length;de++){if(ve=C[de],Be=ve.instance,ot=ve.currentTarget,ve=ve.listener,Be!==H&&L.isPropagationStopped())break e;H=ve,L.currentTarget=ot;try{H(L)}catch(Tt){$b(Tt)}L.currentTarget=null,H=Be}}}}function ur(h,p){var y=p[$a];y===void 0&&(y=p[$a]=new Set);var C=h+"__bubble";y.has(C)||(HE(p,h,2,!1),y.add(C))}function D4(h,p,y){var C=0;p&&(C|=4),HE(y,h,C,p)}var ey="_reactListening"+Math.random().toString(36).slice(2);function M4(h){if(!h[ey]){h[ey]=!0,tt.forEach(function(y){y!=="selectionchange"&&(tZ.has(y)||D4(y,!1,h),D4(y,!0,h))});var p=h.nodeType===9?h:h.ownerDocument;p===null||p[ey]||(p[ey]=!0,D4("selectionchange",!1,p))}}function HE(h,p,y,C){switch(f7(p)){case 2:var L=_Z;break;case 8:L=TZ;break;default:L=q4}y=L.bind(null,p,y,h),L=void 0,!nn||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(L=!0),C?L!==void 0?h.addEventListener(p,y,{capture:!0,passive:L}):h.addEventListener(p,y,!0):L!==void 0?h.addEventListener(p,y,{passive:L}):h.addEventListener(p,y,!1)}function P4(h,p,y,C,L){var H=C;if((p&1)===0&&(p&2)===0&&C!==null)e:for(;;){if(C===null)return;var de=C.tag;if(de===3||de===4){var ve=C.stateNode.containerInfo;if(ve===L)break;if(de===4)for(de=C.return;de!==null;){var Be=de.tag;if((Be===3||Be===4)&&de.stateNode.containerInfo===L)return;de=de.return}for(;ve!==null;){if(de=_e(ve),de===null)return;if(Be=de.tag,Be===5||Be===6||Be===26||Be===27){C=H=de;continue e}ve=ve.parentNode}}C=C.return}es(function(){var ot=H,Tt=En(y),Rt=[];e:{var ht=zx.get(h);if(ht!==void 0){var mt=wd,La=h;switch(h){case"keypress":if(Wi(y)===0)break e;case"keydown":case"keyup":mt=Ma;break;case"focusin":La="focus",mt=Eh;break;case"focusout":La="blur",mt=Eh;break;case"beforeblur":case"afterblur":mt=Eh;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":mt=Qf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":mt=Mc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":mt=qs;break;case Wo:case Fh:case gu:mt=mu;break;case Ux:mt=cn;break;case"scroll":case"scrollend":mt=hu;break;case"wheel":mt=Vn;break;case"copy":case"cut":case"paste":mt=G;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":mt=yr;break;case"toggle":case"beforetoggle":mt=qi}var _a=(p&4)!==0,Yr=!_a&&(h==="scroll"||h==="scrollend"),Je=_a?ht!==null?ht+"Capture":null:ht;_a=[];for(var Ke=ot,rt;Ke!==null;){var Pt=Ke;if(rt=Pt.stateNode,Pt=Pt.tag,Pt!==5&&Pt!==26&&Pt!==27||rt===null||Je===null||(Pt=Ar(Ke,Je),Pt!=null&&_a.push(xg(Ke,Pt,rt))),Yr)break;Ke=Ke.return}0<_a.length&&(ht=new mt(ht,La,null,y,Tt),Rt.push({event:ht,listeners:_a}))}}if((p&7)===0){e:{if(ht=h==="mouseover"||h==="pointerover",mt=h==="mouseout"||h==="pointerout",ht&&y!==Zr&&(La=y.relatedTarget||y.fromElement)&&(_e(La)||La[rr]))break e;if((mt||ht)&&(ht=Tt.window===Tt?Tt:(ht=Tt.ownerDocument)?ht.defaultView||ht.parentWindow:window,mt?(La=y.relatedTarget||y.toElement,mt=ot,La=La?_e(La):null,La!==null&&(Yr=i(La),_a=La.tag,La!==Yr||_a!==5&&_a!==27&&_a!==6)&&(La=null)):(mt=null,La=ot),mt!==La)){if(_a=Qf,Pt="onMouseLeave",Je="onMouseEnter",Ke="mouse",(h==="pointerout"||h==="pointerover")&&(_a=yr,Pt="onPointerLeave",Je="onPointerEnter",Ke="pointer"),Yr=mt==null?ht:Ze(mt),rt=La==null?ht:Ze(La),ht=new _a(Pt,Ke+"leave",mt,y,Tt),ht.target=Yr,ht.relatedTarget=rt,Pt=null,_e(Tt)===ot&&(_a=new _a(Je,Ke+"enter",La,y,Tt),_a.target=rt,_a.relatedTarget=Yr,Pt=_a),Yr=Pt,mt&&La)t:{for(_a=mt,Je=La,Ke=0,rt=_a;rt;rt=bp(rt))Ke++;for(rt=0,Pt=Je;Pt;Pt=bp(Pt))rt++;for(;0<Ke-rt;)_a=bp(_a),Ke--;for(;0<rt-Ke;)Je=bp(Je),rt--;for(;Ke--;){if(_a===Je||Je!==null&&_a===Je.alternate)break t;_a=bp(_a),Je=bp(Je)}_a=null}else _a=null;mt!==null&&VE(Rt,ht,mt,_a,!1),La!==null&&Yr!==null&&VE(Rt,Yr,La,_a,!0)}}e:{if(ht=ot?Ze(ot):window,mt=ht.nodeName&&ht.nodeName.toLowerCase(),mt==="select"||mt==="input"&&ht.type==="file")var fa=Dh;else if(zo(ht))if(Lc)fa=Fs;else{fa=t0;var lr=Dd}else mt=ht.nodeName,!mt||mt.toLowerCase()!=="input"||ht.type!=="checkbox"&&ht.type!=="radio"?ot&&ea(ot.elementType)&&(fa=Dh):fa=Mh;if(fa&&(fa=fa(h,ot))){pu(Rt,fa,y,Tt);break e}lr&&lr(h,ht,ot),h==="focusout"&&ot&&ht.type==="number"&&ot.memoizedProps.value!=null&&uu(ht,"number",ht.value)}switch(lr=ot?Ze(ot):window,h){case"focusin":(zo(lr)||lr.contentEditable==="true")&&(bl=lr,Fc=ot,Ul=null);break;case"focusout":Ul=Fc=bl=null;break;case"mousedown":Ic=!0;break;case"contextmenu":case"mouseup":case"dragend":Ic=!1,yl(Rt,y,Tt);break;case"selectionchange":if(Md)break;case"keydown":case"keyup":yl(Rt,y,Tt)}var ja;if(Nd)e:{switch(h){case"compositionstart":var Ta="onCompositionStart";break e;case"compositionend":Ta="onCompositionEnd";break e;case"compositionupdate":Ta="onCompositionUpdate";break e}Ta=void 0}else $l?Wn(h,y)&&(Ta="onCompositionEnd"):h==="keydown"&&y.keyCode===229&&(Ta="onCompositionStart");Ta&&(kd&&y.locale!=="ko"&&($l||Ta!=="onCompositionStart"?Ta==="onCompositionEnd"&&$l&&(ja=Il()):(di=Tt,uo="value"in di?di.value:di.textContent,$l=!0)),lr=ty(ot,Ta),0<lr.length&&(Ta=new Re(Ta,h,null,y,Tt),Rt.push({event:Ta,listeners:lr}),ja?Ta.data=ja:(ja=_d(y),ja!==null&&(Ta.data=ja)))),(ja=Sd?Zf(h,y):e0(h,y))&&(Ta=ty(ot,"onBeforeInput"),0<Ta.length&&(lr=new Re("onBeforeInput","beforeinput",null,y,Tt),Rt.push({event:lr,listeners:Ta}),lr.data=ja)),QQ(Rt,h,ot,y,Tt)}zE(Rt,p)})}function xg(h,p,y){return{instance:h,listener:p,currentTarget:y}}function ty(h,p){for(var y=p+"Capture",C=[];h!==null;){var L=h,H=L.stateNode;if(L=L.tag,L!==5&&L!==26&&L!==27||H===null||(L=Ar(h,y),L!=null&&C.unshift(xg(h,L,H)),L=Ar(h,p),L!=null&&C.push(xg(h,L,H))),h.tag===3)return C;h=h.return}return[]}function bp(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5&&h.tag!==27);return h||null}function VE(h,p,y,C,L){for(var H=p._reactName,de=[];y!==null&&y!==C;){var ve=y,Be=ve.alternate,ot=ve.stateNode;if(ve=ve.tag,Be!==null&&Be===C)break;ve!==5&&ve!==26&&ve!==27||ot===null||(Be=ot,L?(ot=Ar(y,H),ot!=null&&de.unshift(xg(y,ot,Be))):L||(ot=Ar(y,H),ot!=null&&de.push(xg(y,ot,Be)))),y=y.return}de.length!==0&&h.push({event:p,listeners:de})}var aZ=/\r\n?/g,rZ=/\u0000|\uFFFD/g;function WE(h){return(typeof h=="string"?h:""+h).replace(aZ,`
`).replace(rZ,"")}function qE(h,p){return p=WE(p),WE(h)===p}function ay(){}function Kr(h,p,y,C,L,H){switch(y){case"children":typeof C=="string"?p==="body"||p==="textarea"&&C===""||Ai(h,C):(typeof C=="number"||typeof C=="bigint")&&p!=="body"&&Ai(h,""+C);break;case"className":wa(h,"class",C);break;case"tabIndex":wa(h,"tabindex",C);break;case"dir":case"role":case"viewBox":case"width":case"height":wa(h,y,C);break;case"style":wt(h,C,H);break;case"data":if(p!=="object"){wa(h,"data",C);break}case"src":case"href":if(C===""&&(p!=="a"||y!=="href")){h.removeAttribute(y);break}if(C==null||typeof C=="function"||typeof C=="symbol"||typeof C=="boolean"){h.removeAttribute(y);break}C=Mr(""+C),h.setAttribute(y,C);break;case"action":case"formAction":if(typeof C=="function"){h.setAttribute(y,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof H=="function"&&(y==="formAction"?(p!=="input"&&Kr(h,p,"name",L.name,L,null),Kr(h,p,"formEncType",L.formEncType,L,null),Kr(h,p,"formMethod",L.formMethod,L,null),Kr(h,p,"formTarget",L.formTarget,L,null)):(Kr(h,p,"encType",L.encType,L,null),Kr(h,p,"method",L.method,L,null),Kr(h,p,"target",L.target,L,null)));if(C==null||typeof C=="symbol"||typeof C=="boolean"){h.removeAttribute(y);break}C=Mr(""+C),h.setAttribute(y,C);break;case"onClick":C!=null&&(h.onclick=ay);break;case"onScroll":C!=null&&ur("scroll",h);break;case"onScrollEnd":C!=null&&ur("scrollend",h);break;case"dangerouslySetInnerHTML":if(C!=null){if(typeof C!="object"||!("__html"in C))throw Error(s(61));if(y=C.__html,y!=null){if(L.children!=null)throw Error(s(60));h.innerHTML=y}}break;case"multiple":h.multiple=C&&typeof C!="function"&&typeof C!="symbol";break;case"muted":h.muted=C&&typeof C!="function"&&typeof C!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(C==null||typeof C=="function"||typeof C=="boolean"||typeof C=="symbol"){h.removeAttribute("xlink:href");break}y=Mr(""+C),h.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",y);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":C!=null&&typeof C!="function"&&typeof C!="symbol"?h.setAttribute(y,""+C):h.removeAttribute(y);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":C&&typeof C!="function"&&typeof C!="symbol"?h.setAttribute(y,""):h.removeAttribute(y);break;case"capture":case"download":C===!0?h.setAttribute(y,""):C!==!1&&C!=null&&typeof C!="function"&&typeof C!="symbol"?h.setAttribute(y,C):h.removeAttribute(y);break;case"cols":case"rows":case"size":case"span":C!=null&&typeof C!="function"&&typeof C!="symbol"&&!isNaN(C)&&1<=C?h.setAttribute(y,C):h.removeAttribute(y);break;case"rowSpan":case"start":C==null||typeof C=="function"||typeof C=="symbol"||isNaN(C)?h.removeAttribute(y):h.setAttribute(y,C);break;case"popover":ur("beforetoggle",h),ur("toggle",h),xa(h,"popover",C);break;case"xlinkActuate":Wa(h,"http://www.w3.org/1999/xlink","xlink:actuate",C);break;case"xlinkArcrole":Wa(h,"http://www.w3.org/1999/xlink","xlink:arcrole",C);break;case"xlinkRole":Wa(h,"http://www.w3.org/1999/xlink","xlink:role",C);break;case"xlinkShow":Wa(h,"http://www.w3.org/1999/xlink","xlink:show",C);break;case"xlinkTitle":Wa(h,"http://www.w3.org/1999/xlink","xlink:title",C);break;case"xlinkType":Wa(h,"http://www.w3.org/1999/xlink","xlink:type",C);break;case"xmlBase":Wa(h,"http://www.w3.org/XML/1998/namespace","xml:base",C);break;case"xmlLang":Wa(h,"http://www.w3.org/XML/1998/namespace","xml:lang",C);break;case"xmlSpace":Wa(h,"http://www.w3.org/XML/1998/namespace","xml:space",C);break;case"is":xa(h,"is",C);break;case"innerText":case"textContent":break;default:(!(2<y.length)||y[0]!=="o"&&y[0]!=="O"||y[1]!=="n"&&y[1]!=="N")&&(y=Wt.get(y)||y,xa(h,y,C))}}function L4(h,p,y,C,L,H){switch(y){case"style":wt(h,C,H);break;case"dangerouslySetInnerHTML":if(C!=null){if(typeof C!="object"||!("__html"in C))throw Error(s(61));if(y=C.__html,y!=null){if(L.children!=null)throw Error(s(60));h.innerHTML=y}}break;case"children":typeof C=="string"?Ai(h,C):(typeof C=="number"||typeof C=="bigint")&&Ai(h,""+C);break;case"onScroll":C!=null&&ur("scroll",h);break;case"onScrollEnd":C!=null&&ur("scrollend",h);break;case"onClick":C!=null&&(h.onclick=ay);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nt.hasOwnProperty(y))e:{if(y[0]==="o"&&y[1]==="n"&&(L=y.endsWith("Capture"),p=y.slice(2,L?y.length-7:void 0),H=h[Ka]||null,H=H!=null?H[y]:null,typeof H=="function"&&h.removeEventListener(p,H,L),typeof C=="function")){typeof H!="function"&&H!==null&&(y in h?h[y]=null:h.hasAttribute(y)&&h.removeAttribute(y)),h.addEventListener(p,C,L);break e}y in h?h[y]=C:C===!0?h.setAttribute(y,""):xa(h,y,C)}}}function Ri(h,p,y){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ur("error",h),ur("load",h);var C=!1,L=!1,H;for(H in y)if(y.hasOwnProperty(H)){var de=y[H];if(de!=null)switch(H){case"src":C=!0;break;case"srcSet":L=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,p));default:Kr(h,p,H,de,y,null)}}L&&Kr(h,p,"srcSet",y.srcSet,y,null),C&&Kr(h,p,"src",y.src,y,null);return;case"input":ur("invalid",h);var ve=H=de=L=null,Be=null,ot=null;for(C in y)if(y.hasOwnProperty(C)){var Tt=y[C];if(Tt!=null)switch(C){case"name":L=Tt;break;case"type":de=Tt;break;case"checked":Be=Tt;break;case"defaultChecked":ot=Tt;break;case"value":H=Tt;break;case"defaultValue":ve=Tt;break;case"children":case"dangerouslySetInnerHTML":if(Tt!=null)throw Error(s(137,p));break;default:Kr(h,p,C,Tt,y,null)}}Th(h,H,ve,Be,ot,de,L,!1),zn(h);return;case"select":ur("invalid",h),C=de=H=null;for(L in y)if(y.hasOwnProperty(L)&&(ve=y[L],ve!=null))switch(L){case"value":H=ve;break;case"defaultValue":de=ve;break;case"multiple":C=ve;default:Kr(h,p,L,ve,y,null)}p=H,y=de,h.multiple=!!C,p!=null?oo(h,!!C,p,!1):y!=null&&oo(h,!!C,y,!0);return;case"textarea":ur("invalid",h),H=L=C=null;for(de in y)if(y.hasOwnProperty(de)&&(ve=y[de],ve!=null))switch(de){case"value":C=ve;break;case"defaultValue":L=ve;break;case"children":H=ve;break;case"dangerouslySetInnerHTML":if(ve!=null)throw Error(s(91));break;default:Kr(h,p,de,ve,y,null)}Io(h,C,L,H),zn(h);return;case"option":for(Be in y)if(y.hasOwnProperty(Be)&&(C=y[Be],C!=null))switch(Be){case"selected":h.selected=C&&typeof C!="function"&&typeof C!="symbol";break;default:Kr(h,p,Be,C,y,null)}return;case"dialog":ur("beforetoggle",h),ur("toggle",h),ur("cancel",h),ur("close",h);break;case"iframe":case"object":ur("load",h);break;case"video":case"audio":for(C=0;C<pg.length;C++)ur(pg[C],h);break;case"image":ur("error",h),ur("load",h);break;case"details":ur("toggle",h);break;case"embed":case"source":case"link":ur("error",h),ur("load",h);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ot in y)if(y.hasOwnProperty(ot)&&(C=y[ot],C!=null))switch(ot){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,p));default:Kr(h,p,ot,C,y,null)}return;default:if(ea(p)){for(Tt in y)y.hasOwnProperty(Tt)&&(C=y[Tt],C!==void 0&&L4(h,p,Tt,C,y,void 0));return}}for(ve in y)y.hasOwnProperty(ve)&&(C=y[ve],C!=null&&Kr(h,p,ve,C,y,null))}function sZ(h,p,y,C){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var L=null,H=null,de=null,ve=null,Be=null,ot=null,Tt=null;for(mt in y){var Rt=y[mt];if(y.hasOwnProperty(mt)&&Rt!=null)switch(mt){case"checked":break;case"value":break;case"defaultValue":Be=Rt;default:C.hasOwnProperty(mt)||Kr(h,p,mt,null,C,Rt)}}for(var ht in C){var mt=C[ht];if(Rt=y[ht],C.hasOwnProperty(ht)&&(mt!=null||Rt!=null))switch(ht){case"type":H=mt;break;case"name":L=mt;break;case"checked":ot=mt;break;case"defaultChecked":Tt=mt;break;case"value":de=mt;break;case"defaultValue":ve=mt;break;case"children":case"dangerouslySetInnerHTML":if(mt!=null)throw Error(s(137,p));break;default:mt!==Rt&&Kr(h,p,ht,mt,C,Rt)}}Ec(h,de,ve,Be,ot,Tt,H,L);return;case"select":mt=de=ve=ht=null;for(H in y)if(Be=y[H],y.hasOwnProperty(H)&&Be!=null)switch(H){case"value":break;case"multiple":mt=Be;default:C.hasOwnProperty(H)||Kr(h,p,H,null,C,Be)}for(L in C)if(H=C[L],Be=y[L],C.hasOwnProperty(L)&&(H!=null||Be!=null))switch(L){case"value":ht=H;break;case"defaultValue":ve=H;break;case"multiple":de=H;default:H!==Be&&Kr(h,p,L,H,C,Be)}p=ve,y=de,C=mt,ht!=null?oo(h,!!y,ht,!1):!!C!=!!y&&(p!=null?oo(h,!!y,p,!0):oo(h,!!y,y?[]:"",!1));return;case"textarea":mt=ht=null;for(ve in y)if(L=y[ve],y.hasOwnProperty(ve)&&L!=null&&!C.hasOwnProperty(ve))switch(ve){case"value":break;case"children":break;default:Kr(h,p,ve,null,C,L)}for(de in C)if(L=C[de],H=y[de],C.hasOwnProperty(de)&&(L!=null||H!=null))switch(de){case"value":ht=L;break;case"defaultValue":mt=L;break;case"children":break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(s(91));break;default:L!==H&&Kr(h,p,de,L,C,H)}sn(h,ht,mt);return;case"option":for(var La in y)if(ht=y[La],y.hasOwnProperty(La)&&ht!=null&&!C.hasOwnProperty(La))switch(La){case"selected":h.selected=!1;break;default:Kr(h,p,La,null,C,ht)}for(Be in C)if(ht=C[Be],mt=y[Be],C.hasOwnProperty(Be)&&ht!==mt&&(ht!=null||mt!=null))switch(Be){case"selected":h.selected=ht&&typeof ht!="function"&&typeof ht!="symbol";break;default:Kr(h,p,Be,ht,C,mt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _a in y)ht=y[_a],y.hasOwnProperty(_a)&&ht!=null&&!C.hasOwnProperty(_a)&&Kr(h,p,_a,null,C,ht);for(ot in C)if(ht=C[ot],mt=y[ot],C.hasOwnProperty(ot)&&ht!==mt&&(ht!=null||mt!=null))switch(ot){case"children":case"dangerouslySetInnerHTML":if(ht!=null)throw Error(s(137,p));break;default:Kr(h,p,ot,ht,C,mt)}return;default:if(ea(p)){for(var Yr in y)ht=y[Yr],y.hasOwnProperty(Yr)&&ht!==void 0&&!C.hasOwnProperty(Yr)&&L4(h,p,Yr,void 0,C,ht);for(Tt in C)ht=C[Tt],mt=y[Tt],!C.hasOwnProperty(Tt)||ht===mt||ht===void 0&&mt===void 0||L4(h,p,Tt,ht,C,mt);return}}for(var Je in y)ht=y[Je],y.hasOwnProperty(Je)&&ht!=null&&!C.hasOwnProperty(Je)&&Kr(h,p,Je,null,C,ht);for(Rt in C)ht=C[Rt],mt=y[Rt],!C.hasOwnProperty(Rt)||ht===mt||ht==null&&mt==null||Kr(h,p,Rt,ht,C,mt)}var O4=null,R4=null;function ry(h){return h.nodeType===9?h:h.ownerDocument}function GE(h){switch(h){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function KE(h,p){if(h===0)switch(p){case"svg":return 1;case"math":return 2;default:return 0}return h===1&&p==="foreignObject"?0:h}function F4(h,p){return h==="textarea"||h==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.children=="bigint"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var I4=null;function nZ(){var h=window.event;return h&&h.type==="popstate"?h===I4?!1:(I4=h,!0):(I4=null,!1)}var YE=typeof setTimeout=="function"?setTimeout:void 0,iZ=typeof clearTimeout=="function"?clearTimeout:void 0,XE=typeof Promise=="function"?Promise:void 0,lZ=typeof queueMicrotask=="function"?queueMicrotask:typeof XE<"u"?function(h){return XE.resolve(null).then(h).catch(oZ)}:YE;function oZ(h){setTimeout(function(){throw h})}function rf(h){return h==="head"}function JE(h,p){var y=p,C=0,L=0;do{var H=y.nextSibling;if(h.removeChild(y),H&&H.nodeType===8)if(y=H.data,y==="/$"){if(0<C&&8>C){y=C;var de=h.ownerDocument;if(y&1&&gg(de.documentElement),y&2&&gg(de.body),y&4)for(y=de.head,gg(y),de=y.firstChild;de;){var ve=de.nextSibling,Be=de.nodeName;de[we]||Be==="SCRIPT"||Be==="STYLE"||Be==="LINK"&&de.rel.toLowerCase()==="stylesheet"||y.removeChild(de),de=ve}}if(L===0){h.removeChild(H),kg(p);return}L--}else y==="$"||y==="$?"||y==="$!"?L++:C=y.charCodeAt(0)-48;else C=0;y=H}while(y);kg(p)}function B4(h){var p=h.firstChild;for(p&&p.nodeType===10&&(p=p.nextSibling);p;){var y=p;switch(p=p.nextSibling,y.nodeName){case"HTML":case"HEAD":case"BODY":B4(y),Se(y);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(y.rel.toLowerCase()==="stylesheet")continue}h.removeChild(y)}}function cZ(h,p,y,C){for(;h.nodeType===1;){var L=y;if(h.nodeName.toLowerCase()!==p.toLowerCase()){if(!C&&(h.nodeName!=="INPUT"||h.type!=="hidden"))break}else if(C){if(!h[we])switch(p){case"meta":if(!h.hasAttribute("itemprop"))break;return h;case"link":if(H=h.getAttribute("rel"),H==="stylesheet"&&h.hasAttribute("data-precedence"))break;if(H!==L.rel||h.getAttribute("href")!==(L.href==null||L.href===""?null:L.href)||h.getAttribute("crossorigin")!==(L.crossOrigin==null?null:L.crossOrigin)||h.getAttribute("title")!==(L.title==null?null:L.title))break;return h;case"style":if(h.hasAttribute("data-precedence"))break;return h;case"script":if(H=h.getAttribute("src"),(H!==(L.src==null?null:L.src)||h.getAttribute("type")!==(L.type==null?null:L.type)||h.getAttribute("crossorigin")!==(L.crossOrigin==null?null:L.crossOrigin))&&H&&h.hasAttribute("async")&&!h.hasAttribute("itemprop"))break;return h;default:return h}}else if(p==="input"&&h.type==="hidden"){var H=L.name==null?null:""+L.name;if(L.type==="hidden"&&h.getAttribute("name")===H)return h}else return h;if(h=Jc(h.nextSibling),h===null)break}return null}function dZ(h,p,y){if(p==="")return null;for(;h.nodeType!==3;)if((h.nodeType!==1||h.nodeName!=="INPUT"||h.type!=="hidden")&&!y||(h=Jc(h.nextSibling),h===null))return null;return h}function $4(h){return h.data==="$!"||h.data==="$?"&&h.ownerDocument.readyState==="complete"}function uZ(h,p){var y=h.ownerDocument;if(h.data!=="$?"||y.readyState==="complete")p();else{var C=function(){p(),y.removeEventListener("DOMContentLoaded",C)};y.addEventListener("DOMContentLoaded",C),h._reactRetry=C}}function Jc(h){for(;h!=null;h=h.nextSibling){var p=h.nodeType;if(p===1||p===3)break;if(p===8){if(p=h.data,p==="$"||p==="$!"||p==="$?"||p==="F!"||p==="F")break;if(p==="/$")return null}}return h}var U4=null;function QE(h){h=h.previousSibling;for(var p=0;h;){if(h.nodeType===8){var y=h.data;if(y==="$"||y==="$!"||y==="$?"){if(p===0)return h;p--}else y==="/$"&&p++}h=h.previousSibling}return null}function ZE(h,p,y){switch(p=ry(y),h){case"html":if(h=p.documentElement,!h)throw Error(s(452));return h;case"head":if(h=p.head,!h)throw Error(s(453));return h;case"body":if(h=p.body,!h)throw Error(s(454));return h;default:throw Error(s(451))}}function gg(h){for(var p=h.attributes;p.length;)h.removeAttributeNode(p[0]);Se(h)}var tc=new Map,e7=new Set;function sy(h){return typeof h.getRootNode=="function"?h.getRootNode():h.nodeType===9?h:h.ownerDocument}var Lu=Z.d;Z.d={f:hZ,r:fZ,D:mZ,C:pZ,L:xZ,m:gZ,X:bZ,S:vZ,M:yZ};function hZ(){var h=Lu.f(),p=Yb();return h||p}function fZ(h){var p=Oe(h);p!==null&&p.tag===5&&p.type==="form"?x0(p):Lu.r(h)}var yp=typeof document>"u"?null:document;function t7(h,p,y){var C=yp;if(C&&typeof p=="string"&&p){var L=mr(p);L='link[rel="'+h+'"][href="'+L+'"]',typeof y=="string"&&(L+='[crossorigin="'+y+'"]'),e7.has(L)||(e7.add(L),h={rel:h,crossOrigin:y,href:p},C.querySelector(L)===null&&(p=C.createElement("link"),Ri(p,"link",h),Xe(p),C.head.appendChild(p)))}}function mZ(h){Lu.D(h),t7("dns-prefetch",h,null)}function pZ(h,p){Lu.C(h,p),t7("preconnect",h,p)}function xZ(h,p,y){Lu.L(h,p,y);var C=yp;if(C&&h&&p){var L='link[rel="preload"][as="'+mr(p)+'"]';p==="image"&&y&&y.imageSrcSet?(L+='[imagesrcset="'+mr(y.imageSrcSet)+'"]',typeof y.imageSizes=="string"&&(L+='[imagesizes="'+mr(y.imageSizes)+'"]')):L+='[href="'+mr(h)+'"]';var H=L;switch(p){case"style":H=wp(h);break;case"script":H=jp(h)}tc.has(H)||(h=u({rel:"preload",href:p==="image"&&y&&y.imageSrcSet?void 0:h,as:p},y),tc.set(H,h),C.querySelector(L)!==null||p==="style"&&C.querySelector(vg(H))||p==="script"&&C.querySelector(bg(H))||(p=C.createElement("link"),Ri(p,"link",h),Xe(p),C.head.appendChild(p)))}}function gZ(h,p){Lu.m(h,p);var y=yp;if(y&&h){var C=p&&typeof p.as=="string"?p.as:"script",L='link[rel="modulepreload"][as="'+mr(C)+'"][href="'+mr(h)+'"]',H=L;switch(C){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":H=jp(h)}if(!tc.has(H)&&(h=u({rel:"modulepreload",href:h},p),tc.set(H,h),y.querySelector(L)===null)){switch(C){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(y.querySelector(bg(H)))return}C=y.createElement("link"),Ri(C,"link",h),Xe(C),y.head.appendChild(C)}}}function vZ(h,p,y){Lu.S(h,p,y);var C=yp;if(C&&h){var L=pt(C).hoistableStyles,H=wp(h);p=p||"default";var de=L.get(H);if(!de){var ve={loading:0,preload:null};if(de=C.querySelector(vg(H)))ve.loading=5;else{h=u({rel:"stylesheet",href:h,"data-precedence":p},y),(y=tc.get(H))&&z4(h,y);var Be=de=C.createElement("link");Xe(Be),Ri(Be,"link",h),Be._p=new Promise(function(ot,Tt){Be.onload=ot,Be.onerror=Tt}),Be.addEventListener("load",function(){ve.loading|=1}),Be.addEventListener("error",function(){ve.loading|=2}),ve.loading|=4,ny(de,p,C)}de={type:"stylesheet",instance:de,count:1,state:ve},L.set(H,de)}}}function bZ(h,p){Lu.X(h,p);var y=yp;if(y&&h){var C=pt(y).hoistableScripts,L=jp(h),H=C.get(L);H||(H=y.querySelector(bg(L)),H||(h=u({src:h,async:!0},p),(p=tc.get(L))&&H4(h,p),H=y.createElement("script"),Xe(H),Ri(H,"link",h),y.head.appendChild(H)),H={type:"script",instance:H,count:1,state:null},C.set(L,H))}}function yZ(h,p){Lu.M(h,p);var y=yp;if(y&&h){var C=pt(y).hoistableScripts,L=jp(h),H=C.get(L);H||(H=y.querySelector(bg(L)),H||(h=u({src:h,async:!0,type:"module"},p),(p=tc.get(L))&&H4(h,p),H=y.createElement("script"),Xe(H),Ri(H,"link",h),y.head.appendChild(H)),H={type:"script",instance:H,count:1,state:null},C.set(L,H))}}function a7(h,p,y,C){var L=(L=ne.current)?sy(L):null;if(!L)throw Error(s(446));switch(h){case"meta":case"title":return null;case"style":return typeof y.precedence=="string"&&typeof y.href=="string"?(p=wp(y.href),y=pt(L).hoistableStyles,C=y.get(p),C||(C={type:"style",instance:null,count:0,state:null},y.set(p,C)),C):{type:"void",instance:null,count:0,state:null};case"link":if(y.rel==="stylesheet"&&typeof y.href=="string"&&typeof y.precedence=="string"){h=wp(y.href);var H=pt(L).hoistableStyles,de=H.get(h);if(de||(L=L.ownerDocument||L,de={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},H.set(h,de),(H=L.querySelector(vg(h)))&&!H._p&&(de.instance=H,de.state.loading=5),tc.has(h)||(y={rel:"preload",as:"style",href:y.href,crossOrigin:y.crossOrigin,integrity:y.integrity,media:y.media,hrefLang:y.hrefLang,referrerPolicy:y.referrerPolicy},tc.set(h,y),H||wZ(L,h,y,de.state))),p&&C===null)throw Error(s(528,""));return de}if(p&&C!==null)throw Error(s(529,""));return null;case"script":return p=y.async,y=y.src,typeof y=="string"&&p&&typeof p!="function"&&typeof p!="symbol"?(p=jp(y),y=pt(L).hoistableScripts,C=y.get(p),C||(C={type:"script",instance:null,count:0,state:null},y.set(p,C)),C):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,h))}}function wp(h){return'href="'+mr(h)+'"'}function vg(h){return'link[rel="stylesheet"]['+h+"]"}function r7(h){return u({},h,{"data-precedence":h.precedence,precedence:null})}function wZ(h,p,y,C){h.querySelector('link[rel="preload"][as="style"]['+p+"]")?C.loading=1:(p=h.createElement("link"),C.preload=p,p.addEventListener("load",function(){return C.loading|=1}),p.addEventListener("error",function(){return C.loading|=2}),Ri(p,"link",y),Xe(p),h.head.appendChild(p))}function jp(h){return'[src="'+mr(h)+'"]'}function bg(h){return"script[async]"+h}function s7(h,p,y){if(p.count++,p.instance===null)switch(p.type){case"style":var C=h.querySelector('style[data-href~="'+mr(y.href)+'"]');if(C)return p.instance=C,Xe(C),C;var L=u({},y,{"data-href":y.href,"data-precedence":y.precedence,href:null,precedence:null});return C=(h.ownerDocument||h).createElement("style"),Xe(C),Ri(C,"style",L),ny(C,y.precedence,h),p.instance=C;case"stylesheet":L=wp(y.href);var H=h.querySelector(vg(L));if(H)return p.state.loading|=4,p.instance=H,Xe(H),H;C=r7(y),(L=tc.get(L))&&z4(C,L),H=(h.ownerDocument||h).createElement("link"),Xe(H);var de=H;return de._p=new Promise(function(ve,Be){de.onload=ve,de.onerror=Be}),Ri(H,"link",C),p.state.loading|=4,ny(H,y.precedence,h),p.instance=H;case"script":return H=jp(y.src),(L=h.querySelector(bg(H)))?(p.instance=L,Xe(L),L):(C=y,(L=tc.get(H))&&(C=u({},y),H4(C,L)),h=h.ownerDocument||h,L=h.createElement("script"),Xe(L),Ri(L,"link",C),h.head.appendChild(L),p.instance=L);case"void":return null;default:throw Error(s(443,p.type))}else p.type==="stylesheet"&&(p.state.loading&4)===0&&(C=p.instance,p.state.loading|=4,ny(C,y.precedence,h));return p.instance}function ny(h,p,y){for(var C=y.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),L=C.length?C[C.length-1]:null,H=L,de=0;de<C.length;de++){var ve=C[de];if(ve.dataset.precedence===p)H=ve;else if(H!==L)break}H?H.parentNode.insertBefore(h,H.nextSibling):(p=y.nodeType===9?y.head:y,p.insertBefore(h,p.firstChild))}function z4(h,p){h.crossOrigin==null&&(h.crossOrigin=p.crossOrigin),h.referrerPolicy==null&&(h.referrerPolicy=p.referrerPolicy),h.title==null&&(h.title=p.title)}function H4(h,p){h.crossOrigin==null&&(h.crossOrigin=p.crossOrigin),h.referrerPolicy==null&&(h.referrerPolicy=p.referrerPolicy),h.integrity==null&&(h.integrity=p.integrity)}var iy=null;function n7(h,p,y){if(iy===null){var C=new Map,L=iy=new Map;L.set(y,C)}else L=iy,C=L.get(y),C||(C=new Map,L.set(y,C));if(C.has(h))return C;for(C.set(h,null),y=y.getElementsByTagName(h),L=0;L<y.length;L++){var H=y[L];if(!(H[we]||H[Za]||h==="link"&&H.getAttribute("rel")==="stylesheet")&&H.namespaceURI!=="http://www.w3.org/2000/svg"){var de=H.getAttribute(p)||"";de=h+de;var ve=C.get(de);ve?ve.push(H):C.set(de,[H])}}return C}function i7(h,p,y){h=h.ownerDocument||h,h.head.insertBefore(y,p==="title"?h.querySelector("head > title"):null)}function jZ(h,p,y){if(y===1||p.itemProp!=null)return!1;switch(h){case"meta":case"title":return!0;case"style":if(typeof p.precedence!="string"||typeof p.href!="string"||p.href==="")break;return!0;case"link":if(typeof p.rel!="string"||typeof p.href!="string"||p.href===""||p.onLoad||p.onError)break;switch(p.rel){case"stylesheet":return h=p.disabled,typeof p.precedence=="string"&&h==null;default:return!0}case"script":if(p.async&&typeof p.async!="function"&&typeof p.async!="symbol"&&!p.onLoad&&!p.onError&&p.src&&typeof p.src=="string")return!0}return!1}function l7(h){return!(h.type==="stylesheet"&&(h.state.loading&3)===0)}var yg=null;function NZ(){}function SZ(h,p,y){if(yg===null)throw Error(s(475));var C=yg;if(p.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var L=wp(y.href),H=h.querySelector(vg(L));if(H){h=H._p,h!==null&&typeof h=="object"&&typeof h.then=="function"&&(C.count++,C=ly.bind(C),h.then(C,C)),p.state.loading|=4,p.instance=H,Xe(H);return}H=h.ownerDocument||h,y=r7(y),(L=tc.get(L))&&z4(y,L),H=H.createElement("link"),Xe(H);var de=H;de._p=new Promise(function(ve,Be){de.onload=ve,de.onerror=Be}),Ri(H,"link",y),p.instance=H}C.stylesheets===null&&(C.stylesheets=new Map),C.stylesheets.set(p,h),(h=p.state.preload)&&(p.state.loading&3)===0&&(C.count++,p=ly.bind(C),h.addEventListener("load",p),h.addEventListener("error",p))}}function kZ(){if(yg===null)throw Error(s(475));var h=yg;return h.stylesheets&&h.count===0&&V4(h,h.stylesheets),0<h.count?function(p){var y=setTimeout(function(){if(h.stylesheets&&V4(h,h.stylesheets),h.unsuspend){var C=h.unsuspend;h.unsuspend=null,C()}},6e4);return h.unsuspend=p,function(){h.unsuspend=null,clearTimeout(y)}}:null}function ly(){if(this.count--,this.count===0){if(this.stylesheets)V4(this,this.stylesheets);else if(this.unsuspend){var h=this.unsuspend;this.unsuspend=null,h()}}}var oy=null;function V4(h,p){h.stylesheets=null,h.unsuspend!==null&&(h.count++,oy=new Map,p.forEach(CZ,h),oy=null,ly.call(h))}function CZ(h,p){if(!(p.state.loading&4)){var y=oy.get(h);if(y)var C=y.get(null);else{y=new Map,oy.set(h,y);for(var L=h.querySelectorAll("link[data-precedence],style[data-precedence]"),H=0;H<L.length;H++){var de=L[H];(de.nodeName==="LINK"||de.getAttribute("media")!=="not all")&&(y.set(de.dataset.precedence,de),C=de)}C&&y.set(null,C)}L=p.instance,de=L.getAttribute("data-precedence"),H=y.get(de)||C,H===C&&y.set(null,L),y.set(de,L),this.count++,C=ly.bind(this),L.addEventListener("load",C),L.addEventListener("error",C),H?H.parentNode.insertBefore(L,H.nextSibling):(h=h.nodeType===9?h.head:h,h.insertBefore(L,h.firstChild)),p.state.loading|=4}}var wg={$$typeof:k,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function AZ(h,p,y,C,L,H,de,ve){this.tag=1,this.containerInfo=h,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.hiddenUpdates=gt(null),this.identifierPrefix=C,this.onUncaughtError=L,this.onCaughtError=H,this.onRecoverableError=de,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ve,this.incompleteTransitions=new Map}function o7(h,p,y,C,L,H,de,ve,Be,ot,Tt,Rt){return h=new AZ(h,p,y,de,ve,Be,ot,Rt),p=1,H===!0&&(p|=24),H=fi(3,null,null,p),h.current=H,H.stateNode=h,p=Vx(),p.refCount++,h.pooledCache=p,p.refCount++,H.memoizedState={element:C,isDehydrated:y,cache:p},it(H),h}function c7(h){return h?(h=Dn,h):Dn}function d7(h,p,y,C,L,H){L=c7(L),C.context===null?C.context=L:C.pendingContext=L,C=jt(p),C.payload={element:y},H=H===void 0?null:H,H!==null&&(C.callback=H),y=$t(h,C,p),y!==null&&(wo(y,h,p),Ot(y,h,p))}function u7(h,p){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var y=h.retryLane;h.retryLane=y!==0&&y<p?y:p}}function W4(h,p){u7(h,p),(h=h.alternate)&&u7(h,p)}function h7(h){if(h.tag===13){var p=bu(h,67108864);p!==null&&wo(p,h,67108864),W4(h,67108864)}}var cy=!0;function _Z(h,p,y,C){var L=V.T;V.T=null;var H=Z.p;try{Z.p=2,q4(h,p,y,C)}finally{Z.p=H,V.T=L}}function TZ(h,p,y,C){var L=V.T;V.T=null;var H=Z.p;try{Z.p=8,q4(h,p,y,C)}finally{Z.p=H,V.T=L}}function q4(h,p,y,C){if(cy){var L=G4(C);if(L===null)P4(h,p,C,dy,y),m7(h,C);else if(DZ(L,h,p,y,C))C.stopPropagation();else if(m7(h,C),p&4&&-1<EZ.indexOf(h)){for(;L!==null;){var H=Oe(L);if(H!==null)switch(H.tag){case 3:if(H=H.stateNode,H.current.memoizedState.isDehydrated){var de=Ne(H.pendingLanes);if(de!==0){var ve=H;for(ve.pendingLanes|=2,ve.entangledLanes|=2;de;){var Be=1<<31-dt(de);ve.entanglements[1]|=Be,de&=~Be}$d(H),(Ir&6)===0&&(Gb=Ue()+500,mg(0))}}break;case 13:ve=bu(H,2),ve!==null&&wo(ve,H,2),Yb(),W4(H,2)}if(H=G4(C),H===null&&P4(h,p,C,dy,y),H===L)break;L=H}L!==null&&C.stopPropagation()}else P4(h,p,C,null,y)}}function G4(h){return h=En(h),K4(h)}var dy=null;function K4(h){if(dy=null,h=_e(h),h!==null){var p=i(h);if(p===null)h=null;else{var y=p.tag;if(y===13){if(h=l(p),h!==null)return h;h=null}else if(y===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;h=null}else p!==h&&(h=null)}}return dy=h,null}function f7(h){switch(h){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Te()){case ae:return 2;case De:return 8;case Ce:case at:return 32;case ft:return 268435456;default:return 32}default:return 32}}var Y4=!1,sf=null,nf=null,lf=null,jg=new Map,Ng=new Map,of=[],EZ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function m7(h,p){switch(h){case"focusin":case"focusout":sf=null;break;case"dragenter":case"dragleave":nf=null;break;case"mouseover":case"mouseout":lf=null;break;case"pointerover":case"pointerout":jg.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ng.delete(p.pointerId)}}function Sg(h,p,y,C,L,H){return h===null||h.nativeEvent!==H?(h={blockedOn:p,domEventName:y,eventSystemFlags:C,nativeEvent:H,targetContainers:[L]},p!==null&&(p=Oe(p),p!==null&&h7(p)),h):(h.eventSystemFlags|=C,p=h.targetContainers,L!==null&&p.indexOf(L)===-1&&p.push(L),h)}function DZ(h,p,y,C,L){switch(p){case"focusin":return sf=Sg(sf,h,p,y,C,L),!0;case"dragenter":return nf=Sg(nf,h,p,y,C,L),!0;case"mouseover":return lf=Sg(lf,h,p,y,C,L),!0;case"pointerover":var H=L.pointerId;return jg.set(H,Sg(jg.get(H)||null,h,p,y,C,L)),!0;case"gotpointercapture":return H=L.pointerId,Ng.set(H,Sg(Ng.get(H)||null,h,p,y,C,L)),!0}return!1}function p7(h){var p=_e(h.target);if(p!==null){var y=i(p);if(y!==null){if(p=y.tag,p===13){if(p=l(y),p!==null){h.blockedOn=p,Ae(h.priority,function(){if(y.tag===13){var C=yo();C=ta(C);var L=bu(y,C);L!==null&&wo(L,y,C),W4(y,C)}});return}}else if(p===3&&y.stateNode.current.memoizedState.isDehydrated){h.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}h.blockedOn=null}function uy(h){if(h.blockedOn!==null)return!1;for(var p=h.targetContainers;0<p.length;){var y=G4(h.nativeEvent);if(y===null){y=h.nativeEvent;var C=new y.constructor(y.type,y);Zr=C,y.target.dispatchEvent(C),Zr=null}else return p=Oe(y),p!==null&&h7(p),h.blockedOn=y,!1;p.shift()}return!0}function x7(h,p,y){uy(h)&&y.delete(p)}function MZ(){Y4=!1,sf!==null&&uy(sf)&&(sf=null),nf!==null&&uy(nf)&&(nf=null),lf!==null&&uy(lf)&&(lf=null),jg.forEach(x7),Ng.forEach(x7)}function hy(h,p){h.blockedOn===p&&(h.blockedOn=null,Y4||(Y4=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,MZ)))}var fy=null;function g7(h){fy!==h&&(fy=h,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){fy===h&&(fy=null);for(var p=0;p<h.length;p+=3){var y=h[p],C=h[p+1],L=h[p+2];if(typeof C!="function"){if(K4(C||y)===null)continue;break}var H=Oe(y);H!==null&&(h.splice(p,3),p-=3,Qo(H,{pending:!0,data:L,method:y.method,action:C},C,L))}}))}function kg(h){function p(Be){return hy(Be,h)}sf!==null&&hy(sf,h),nf!==null&&hy(nf,h),lf!==null&&hy(lf,h),jg.forEach(p),Ng.forEach(p);for(var y=0;y<of.length;y++){var C=of[y];C.blockedOn===h&&(C.blockedOn=null)}for(;0<of.length&&(y=of[0],y.blockedOn===null);)p7(y),y.blockedOn===null&&of.shift();if(y=(h.ownerDocument||h).$$reactFormReplay,y!=null)for(C=0;C<y.length;C+=3){var L=y[C],H=y[C+1],de=L[Ka]||null;if(typeof H=="function")de||g7(y);else if(de){var ve=null;if(H&&H.hasAttribute("formAction")){if(L=H,de=H[Ka]||null)ve=de.formAction;else if(K4(L)!==null)continue}else ve=de.action;typeof ve=="function"?y[C+1]=ve:(y.splice(C,3),C-=3),g7(y)}}}function X4(h){this._internalRoot=h}my.prototype.render=X4.prototype.render=function(h){var p=this._internalRoot;if(p===null)throw Error(s(409));var y=p.current,C=yo();d7(y,C,h,p,null,null)},my.prototype.unmount=X4.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var p=h.containerInfo;d7(h.current,2,null,h,null,null),Yb(),p[rr]=null}};function my(h){this._internalRoot=h}my.prototype.unstable_scheduleHydration=function(h){if(h){var p=pa();h={blockedOn:null,target:h,priority:p};for(var y=0;y<of.length&&p!==0&&p<of[y].priority;y++);of.splice(y,0,h),y===0&&p7(h)}};var v7=t.version;if(v7!=="19.1.1")throw Error(s(527,v7,"19.1.1"));Z.findDOMNode=function(h){var p=h._reactInternals;if(p===void 0)throw typeof h.render=="function"?Error(s(188)):(h=Object.keys(h).join(","),Error(s(268,h)));return h=c(p),h=h!==null?d(h):null,h=h===null?null:h.stateNode,h};var PZ={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var py=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!py.isDisabled&&py.supportsFiber)try{$e=py.inject(PZ),qe=py}catch{}}return Ag.createRoot=function(h,p){if(!n(h))throw Error(s(299));var y=!1,C="",L=LT,H=OT,de=RT,ve=null;return p!=null&&(p.unstable_strictMode===!0&&(y=!0),p.identifierPrefix!==void 0&&(C=p.identifierPrefix),p.onUncaughtError!==void 0&&(L=p.onUncaughtError),p.onCaughtError!==void 0&&(H=p.onCaughtError),p.onRecoverableError!==void 0&&(de=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(ve=p.unstable_transitionCallbacks)),p=o7(h,1,!1,null,null,y,C,L,H,de,ve,null),h[rr]=p.current,M4(h),new X4(p)},Ag.hydrateRoot=function(h,p,y){if(!n(h))throw Error(s(299));var C=!1,L="",H=LT,de=OT,ve=RT,Be=null,ot=null;return y!=null&&(y.unstable_strictMode===!0&&(C=!0),y.identifierPrefix!==void 0&&(L=y.identifierPrefix),y.onUncaughtError!==void 0&&(H=y.onUncaughtError),y.onCaughtError!==void 0&&(de=y.onCaughtError),y.onRecoverableError!==void 0&&(ve=y.onRecoverableError),y.unstable_transitionCallbacks!==void 0&&(Be=y.unstable_transitionCallbacks),y.formState!==void 0&&(ot=y.formState)),p=o7(h,1,!0,p,y??null,C,L,H,de,ve,Be,ot),p.context=c7(null),y=p.current,C=yo(),C=ta(C),L=jt(C),L.callback=null,$t(y,L,C),y=C,p.current.lanes=y,sa(p,y),$d(p),h[rr]=p.current,M4(h),new my(p)},Ag.version="19.1.1",Ag}var _7;function VZ(){if(_7)return Z4.exports;_7=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Z4.exports=HZ(),Z4.exports}var WZ=VZ(),wj=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},qZ={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},GZ=class{#e=qZ;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},xk=new GZ;function KZ(e){setTimeout(e,0)}var jj=typeof window>"u"||"Deno"in globalThis;function ad(){}function YZ(e,t){return typeof e=="function"?e(t):e}function XZ(e){return typeof e=="number"&&e>=0&&e!==1/0}function JZ(e,t){return Math.max(e+(t||0)-Date.now(),0)}function gk(e,t){return typeof e=="function"?e(t):e}function QZ(e,t){return typeof e=="function"?e(t):e}function T7(e,t){const{type:a="all",exact:s,fetchStatus:n,predicate:i,queryKey:l,stale:o}=e;if(l){if(s){if(t.queryHash!==B6(l,t.options))return!1}else if(!F1(t.queryKey,l))return!1}if(a!=="all"){const c=t.isActive();if(a==="active"&&!c||a==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||n&&n!==t.state.fetchStatus||i&&!i(t))}function E7(e,t){const{exact:a,status:s,predicate:n,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(a){if(R1(t.options.mutationKey)!==R1(i))return!1}else if(!F1(t.options.mutationKey,i))return!1}return!(s&&t.state.status!==s||n&&!n(t))}function B6(e,t){return(t?.queryKeyHashFn||R1)(e)}function R1(e){return JSON.stringify(e,(t,a)=>vk(a)?Object.keys(a).sort().reduce((s,n)=>(s[n]=a[n],s),{}):a)}function F1(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(a=>F1(e[a],t[a])):!1}var ZZ=Object.prototype.hasOwnProperty;function f$(e,t){if(e===t)return e;const a=D7(e)&&D7(t);if(!a&&!(vk(e)&&vk(t)))return t;const n=(a?e:Object.keys(e)).length,i=a?t:Object.keys(t),l=i.length,o=a?new Array(l):{};let c=0;for(let d=0;d<l;d++){const u=a?d:i[d],f=e[u],x=t[u];if(f===x){o[u]=f,(a?d<n:ZZ.call(e,u))&&c++;continue}if(f===null||x===null||typeof f!="object"||typeof x!="object"){o[u]=x;continue}const m=f$(f,x);o[u]=m,m===f&&c++}return n===l&&c===n?e:o}function D7(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function vk(e){if(!M7(e))return!1;const t=e.constructor;if(t===void 0)return!0;const a=t.prototype;return!(!M7(a)||!a.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function M7(e){return Object.prototype.toString.call(e)==="[object Object]"}function eee(e){return new Promise(t=>{xk.setTimeout(t,e)})}function tee(e,t,a){return typeof a.structuralSharing=="function"?a.structuralSharing(e,t):a.structuralSharing!==!1?f$(e,t):t}function aee(e,t,a=0){const s=[...e,t];return a&&s.length>a?s.slice(1):s}function ree(e,t,a=0){const s=[t,...e];return a&&s.length>a?s.slice(0,-1):s}var $6=Symbol();function m$(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===$6?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var see=class extends wj{#e;#t;#a;constructor(){super(),this.#a=e=>{if(!jj&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#a)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#a=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},p$=new see;function nee(){let e,t;const a=new Promise((n,i)=>{e=n,t=i});a.status="pending",a.catch(()=>{});function s(n){Object.assign(a,n),delete a.resolve,delete a.reject}return a.resolve=n=>{s({status:"fulfilled",value:n}),e(n)},a.reject=n=>{s({status:"rejected",reason:n}),t(n)},a}var iee=KZ;function lee(){let e=[],t=0,a=o=>{o()},s=o=>{o()},n=iee;const i=o=>{t?e.push(o):n(()=>{a(o)})},l=()=>{const o=e;e=[],o.length&&n(()=>{s(()=>{o.forEach(c=>{a(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||l()}return c},batchCalls:o=>(...c)=>{i(()=>{o(...c)})},schedule:i,setNotifyFunction:o=>{a=o},setBatchNotifyFunction:o=>{s=o},setScheduler:o=>{n=o}}}var _l=lee(),oee=class extends wj{#e=!0;#t;#a;constructor(){super(),this.#a=e=>{if(!jj&&window.addEventListener){const t=()=>e(!0),a=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",a)}}}}onSubscribe(){this.#t||this.setEventListener(this.#a)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#a=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(a=>{a(e)}))}isOnline(){return this.#e}},U2=new oee;function cee(e){return Math.min(1e3*2**e,3e4)}function x$(e){return(e??"online")==="online"?U2.isOnline():!0}var bk=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function g$(e){let t=!1,a=0,s;const n=nee(),i=()=>n.status!=="pending",l=v=>{if(!i()){const b=new bk(v);x(b),e.onCancel?.(b)}},o=()=>{t=!0},c=()=>{t=!1},d=()=>p$.isFocused()&&(e.networkMode==="always"||U2.isOnline())&&e.canRun(),u=()=>x$(e.networkMode)&&e.canRun(),f=v=>{i()||(s?.(),n.resolve(v))},x=v=>{i()||(s?.(),n.reject(v))},m=()=>new Promise(v=>{s=b=>{(i()||d())&&v(b)},e.onPause?.()}).then(()=>{s=void 0,i()||e.onContinue?.()}),g=()=>{if(i())return;let v;const b=a===0?e.initialPromise:void 0;try{v=b??e.fn()}catch(j){v=Promise.reject(j)}Promise.resolve(v).then(f).catch(j=>{if(i())return;const S=e.retry??(jj?0:3),k=e.retryDelay??cee,N=typeof k=="function"?k(a,j):k,A=S===!0||typeof S=="number"&&a<S||typeof S=="function"&&S(a,j);if(t||!A){x(j);return}a++,e.onFail?.(a,j),eee(N).then(()=>d()?void 0:m()).then(()=>{t?x(j):g()})})};return{promise:n,status:()=>n.status,cancel:l,continue:()=>(s?.(),n),cancelRetry:o,continueRetry:c,canStart:u,start:()=>(u()?g():m().then(g),n)}}var v$=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),XZ(this.gcTime)&&(this.#e=xk.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(jj?1/0:300*1e3))}clearGcTimeout(){this.#e&&(xk.clearTimeout(this.#e),this.#e=void 0)}},dee=class extends v${#e;#t;#a;#s;#r;#i;#l;constructor(e){super(),this.#l=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#a=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=P7(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=P7(this.options);t.data!==void 0&&(this.setData(t.data,{updatedAt:t.dataUpdatedAt,manual:!0}),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#a.remove(this)}setData(e,t){const a=tee(this.state.data,e,this.options);return this.#n({data:a,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),a}setState(e,t){this.#n({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(ad).catch(ad):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>QZ(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===$6||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>gk(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!JZ(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#a.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#l?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#a.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#n({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const o=this.observers.find(c=>c.options.queryFn);o&&this.setOptions(o.options)}const a=new AbortController,s=o=>{Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(this.#l=!0,a.signal)})},n=()=>{const o=m$(this.options,t),d=(()=>{const u={client:this.#s,queryKey:this.queryKey,meta:this.meta};return s(u),u})();return this.#l=!1,this.options.persister?this.options.persister(o,d,this):o(d)},l=(()=>{const o={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:n};return s(o),o})();this.options.behavior?.onFetch(l,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#n({type:"fetch",meta:l.fetchOptions?.meta}),this.#r=g$({initialPromise:t?.initialPromise,fn:l.fetchFn,onCancel:o=>{o instanceof bk&&o.revert&&this.setState({...this.#t,fetchStatus:"idle"}),a.abort()},onFail:(o,c)=>{this.#n({type:"failed",failureCount:o,error:c})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0});try{const o=await this.#r.start();if(o===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(o),this.#a.config.onSuccess?.(o,this),this.#a.config.onSettled?.(o,this.state.error,this),o}catch(o){if(o instanceof bk){if(o.silent)return this.#r.promise;if(o.revert){if(this.state.data===void 0)throw o;return this.state.data}}throw this.#n({type:"error",error:o}),this.#a.config.onError?.(o,this),this.#a.config.onSettled?.(this.state.data,o,this),o}finally{this.scheduleGc()}}#n(e){const t=a=>{switch(e.type){case"failed":return{...a,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...uee(a.data,this.options),fetchMeta:e.meta??null};case"success":const s={...a,data:e.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?s:void 0,s;case"error":const n=e.error;return{...a,error:n,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...e.state}}};this.state=t(this.state),_l.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),this.#a.notify({query:this,type:"updated",action:e})})}};function uee(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:x$(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function P7(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,a=t!==void 0,s=a?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:a?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:a?"success":"pending",fetchStatus:"idle"}}function L7(e){return{onFetch:(t,a)=>{const s=t.options,n=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],l=t.state.data?.pageParams||[];let o={pages:[],pageParams:[]},c=0;const d=async()=>{let u=!1;const f=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(t.signal.aborted?u=!0:t.signal.addEventListener("abort",()=>{u=!0}),t.signal)})},x=m$(t.options,t.fetchOptions),m=async(g,v,b)=>{if(u)return Promise.reject();if(v==null&&g.pages.length)return Promise.resolve(g);const S=(()=>{const _={client:t.client,queryKey:t.queryKey,pageParam:v,direction:b?"backward":"forward",meta:t.options.meta};return f(_),_})(),k=await x(S),{maxPages:N}=t.options,A=b?ree:aee;return{pages:A(g.pages,k,N),pageParams:A(g.pageParams,v,N)}};if(n&&i.length){const g=n==="backward",v=g?hee:O7,b={pages:i,pageParams:l},j=v(s,b);o=await m(b,j,g)}else{const g=e??i.length;do{const v=c===0?l[0]??s.initialPageParam:O7(s,o);if(c>0&&v==null)break;o=await m(o,v),c++}while(c<g)}return o};t.options.persister?t.fetchFn=()=>t.options.persister?.(d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},a):t.fetchFn=d}}}function O7(e,{pages:t,pageParams:a}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,a[s],a):void 0}function hee(e,{pages:t,pageParams:a}){return t.length>0?e.getPreviousPageParam?.(t[0],t,a[0],a):void 0}var fee=class extends v${#e;#t;#a;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#a=e.mutationCache,this.#t=[],this.state=e.state||mee(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#a.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#a.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#a.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})},a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=g$({fn:()=>this.options.mutationFn?this.options.mutationFn(e,a):Promise.reject(new Error("No mutationFn found")),onFail:(i,l)=>{this.#r({type:"failed",failureCount:i,error:l})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#a.canRun(this)});const s=this.state.status==="pending",n=!this.#s.canStart();try{if(s)t();else{this.#r({type:"pending",variables:e,isPaused:n}),await this.#a.config.onMutate?.(e,this,a);const l=await this.options.onMutate?.(e,a);l!==this.state.context&&this.#r({type:"pending",context:l,variables:e,isPaused:n})}const i=await this.#s.start();return await this.#a.config.onSuccess?.(i,e,this.state.context,this,a),await this.options.onSuccess?.(i,e,this.state.context,a),await this.#a.config.onSettled?.(i,null,this.state.variables,this.state.context,this,a),await this.options.onSettled?.(i,null,e,this.state.context,a),this.#r({type:"success",data:i}),i}catch(i){try{throw await this.#a.config.onError?.(i,e,this.state.context,this,a),await this.options.onError?.(i,e,this.state.context,a),await this.#a.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,a),await this.options.onSettled?.(void 0,i,e,this.state.context,a),i}finally{this.#r({type:"error",error:i})}}finally{this.#a.runNext(this)}}#r(e){const t=a=>{switch(e.type){case"failed":return{...a,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...a,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:e.error,failureCount:a.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),_l.batch(()=>{this.#t.forEach(a=>{a.onMutationUpdate(e)}),this.#a.notify({mutation:this,type:"updated",action:e})})}};function mee(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var pee=class extends wj{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#a=0}#e;#t;#a;build(e,t,a){const s=new fee({client:e,mutationCache:this,mutationId:++this.#a,options:e.defaultMutationOptions(t),state:a});return this.add(s),s}add(e){this.#e.add(e);const t=xy(e);if(typeof t=="string"){const a=this.#t.get(t);a?a.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=xy(e);if(typeof t=="string"){const a=this.#t.get(t);if(a)if(a.length>1){const s=a.indexOf(e);s!==-1&&a.splice(s,1)}else a[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=xy(e);if(typeof t=="string"){const s=this.#t.get(t)?.find(n=>n.state.status==="pending");return!s||s===e}else return!0}runNext(e){const t=xy(e);return typeof t=="string"?this.#t.get(t)?.find(s=>s!==e&&s.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){_l.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(a=>E7(t,a))}findAll(e={}){return this.getAll().filter(t=>E7(e,t))}notify(e){_l.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return _l.batch(()=>Promise.all(e.map(t=>t.continue().catch(ad))))}};function xy(e){return e.options.scope?.id}var xee=class extends wj{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,a){const s=t.queryKey,n=t.queryHash??B6(s,t);let i=this.get(n);return i||(i=new dee({client:e,queryKey:s,queryHash:n,options:e.defaultQueryOptions(t),state:a,defaultOptions:e.getQueryDefaults(s)}),this.add(i)),i}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){_l.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(a=>T7(t,a))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(a=>T7(e,a)):t}notify(e){_l.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){_l.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){_l.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},gee=class{#e;#t;#a;#s;#r;#i;#l;#n;constructor(e={}){this.#e=e.queryCache||new xee,this.#t=e.mutationCache||new pee,this.#a=e.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#l=p$.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#n=U2.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#l?.(),this.#l=void 0,this.#n?.(),this.#n=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),a=this.#e.build(this,t),s=a.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&a.isStaleByTime(gk(t.staleTime,a))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:a})=>{const s=a.data;return[t,s]})}setQueryData(e,t,a){const s=this.defaultQueryOptions({queryKey:e}),i=this.#e.get(s.queryHash)?.state.data,l=YZ(t,i);if(l!==void 0)return this.#e.build(this,s).setData(l,{...a,manual:!0})}setQueriesData(e,t,a){return _l.batch(()=>this.#e.findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,a)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;_l.batch(()=>{t.findAll(e).forEach(a=>{t.remove(a)})})}resetQueries(e,t){const a=this.#e;return _l.batch(()=>(a.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const a={revert:!0,...t},s=_l.batch(()=>this.#e.findAll(e).map(n=>n.cancel(a)));return Promise.all(s).then(ad).catch(ad)}invalidateQueries(e,t={}){return _l.batch(()=>(this.#e.findAll(e).forEach(a=>{a.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const a={...t,cancelRefetch:t.cancelRefetch??!0},s=_l.batch(()=>this.#e.findAll(e).filter(n=>!n.isDisabled()&&!n.isStatic()).map(n=>{let i=n.fetch(void 0,a);return a.throwOnError||(i=i.catch(ad)),n.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(ad)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const a=this.#e.build(this,t);return a.isStaleByTime(gk(t.staleTime,a))?a.fetch(t):Promise.resolve(a.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ad).catch(ad)}fetchInfiniteQuery(e){return e.behavior=L7(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ad).catch(ad)}ensureInfiniteQueryData(e){return e.behavior=L7(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return U2.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#a}setDefaultOptions(e){this.#a=e}setQueryDefaults(e,t){this.#s.set(R1(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#s.values()],a={};return t.forEach(s=>{F1(e,s.queryKey)&&Object.assign(a,s.defaultOptions)}),a}setMutationDefaults(e,t){this.#r.set(R1(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#r.values()],a={};return t.forEach(s=>{F1(e,s.mutationKey)&&Object.assign(a,s.defaultOptions)}),a}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#a.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=B6(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===$6&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#a.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},vee=w.createContext(void 0),bee=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(vee.Provider,{value:e,children:t}));/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var R7="popstate";function yee(e={}){function t(n,i){let{pathname:l="/",search:o="",hash:c=""}=_m(n.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),yk("",{pathname:l,search:o,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function a(n,i){let l=n.document.querySelector("base"),o="";if(l&&l.getAttribute("href")){let c=n.location.href,d=c.indexOf("#");o=d===-1?c:c.slice(0,d)}return o+"#"+(typeof i=="string"?i:I1(i))}function s(n,i){bc(n.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return jee(t,a,s,e)}function Ps(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function bc(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function wee(){return Math.random().toString(36).substring(2,10)}function F7(e,t){return{usr:e.state,key:e.key,idx:t}}function yk(e,t,a=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?_m(t):t,state:a,key:t&&t.key||s||wee()}}function I1({pathname:e="/",search:t="",hash:a=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),a&&a!=="#"&&(e+=a.charAt(0)==="#"?a:"#"+a),e}function _m(e){let t={};if(e){let a=e.indexOf("#");a>=0&&(t.hash=e.substring(a),e=e.substring(0,a));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function jee(e,t,a,s={}){let{window:n=document.defaultView,v5Compat:i=!1}=s,l=n.history,o="POP",c=null,d=u();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function u(){return(l.state||{idx:null}).idx}function f(){o="POP";let b=u(),j=b==null?null:b-d;d=b,c&&c({action:o,location:v.location,delta:j})}function x(b,j){o="PUSH";let S=yk(v.location,b,j);a&&a(S,b),d=u()+1;let k=F7(S,d),N=v.createHref(S);try{l.pushState(k,"",N)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;n.location.assign(N)}i&&c&&c({action:o,location:v.location,delta:1})}function m(b,j){o="REPLACE";let S=yk(v.location,b,j);a&&a(S,b),d=u();let k=F7(S,d),N=v.createHref(S);l.replaceState(k,"",N),i&&c&&c({action:o,location:v.location,delta:0})}function g(b){return Nee(b)}let v={get action(){return o},get location(){return e(n,l)},listen(b){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(R7,f),c=b,()=>{n.removeEventListener(R7,f),c=null}},createHref(b){return t(n,b)},createURL:g,encodeLocation(b){let j=g(b);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:x,replace:m,go(b){return l.go(b)}};return v}function Nee(e,t=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),Ps(a,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:I1(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=a+s),new URL(s,a)}function b$(e,t,a="/"){return See(e,t,a,!1)}function See(e,t,a,s){let n=typeof t=="string"?_m(t):t,i=oh(n.pathname||"/",a);if(i==null)return null;let l=y$(e);kee(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let d=Ree(i);o=Lee(l[c],d,s)}return o}function y$(e,t=[],a=[],s="",n=!1){let i=(l,o,c=n,d)=>{let u={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(s)&&c)return;Ps(u.relativePath.startsWith(s),`Absolute route path "${u.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(s.length)}let f=Qu([s,u.relativePath]),x=a.concat(u);l.children&&l.children.length>0&&(Ps(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),y$(l.children,t,x,f,c)),!(l.path==null&&!l.index)&&t.push({path:f,score:Mee(f,l.index),routesMeta:x})};return e.forEach((l,o)=>{if(l.path===""||!l.path?.includes("?"))i(l,o);else for(let c of w$(l.path))i(l,o,!0,c)}),t}function w$(e){let t=e.split("/");if(t.length===0)return[];let[a,...s]=t,n=a.endsWith("?"),i=a.replace(/\?$/,"");if(s.length===0)return n?[i,""]:[i];let l=w$(s.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),n&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function kee(e){e.sort((t,a)=>t.score!==a.score?a.score-t.score:Pee(t.routesMeta.map(s=>s.childrenIndex),a.routesMeta.map(s=>s.childrenIndex)))}var Cee=/^:[\w-]+$/,Aee=3,_ee=2,Tee=1,Eee=10,Dee=-2,I7=e=>e==="*";function Mee(e,t){let a=e.split("/"),s=a.length;return a.some(I7)&&(s+=Dee),t&&(s+=_ee),a.filter(n=>!I7(n)).reduce((n,i)=>n+(Cee.test(i)?Aee:i===""?Tee:Eee),s)}function Pee(e,t){return e.length===t.length&&e.slice(0,-1).every((s,n)=>s===t[n])?e[e.length-1]-t[t.length-1]:0}function Lee(e,t,a=!1){let{routesMeta:s}=e,n={},i="/",l=[];for(let o=0;o<s.length;++o){let c=s[o],d=o===s.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=z2({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),x=c.route;if(!f&&d&&a&&!s[s.length-1].route.index&&(f=z2({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!f)return null;Object.assign(n,f.params),l.push({params:n,pathname:Qu([i,f.pathname]),pathnameBase:$ee(Qu([i,f.pathnameBase])),route:x}),f.pathnameBase!=="/"&&(i=Qu([i,f.pathnameBase]))}return l}function z2(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[a,s]=Oee(e.path,e.caseSensitive,e.end),n=t.match(a);if(!n)return null;let i=n[0],l=i.replace(/(.)\/+$/,"$1"),o=n.slice(1);return{params:s.reduce((d,{paramName:u,isOptional:f},x)=>{if(u==="*"){let g=o[x]||"";l=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const m=o[x];return f&&!m?d[u]=void 0:d[u]=(m||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:l,pattern:e}}function Oee(e,t=!1,a=!0){bc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(s.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),s]}function Ree(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return bc(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function oh(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,s=e.charAt(a);return s&&s!=="/"?null:e.slice(a)||"/"}function Fee(e,t="/"){let{pathname:a,search:s="",hash:n=""}=typeof e=="string"?_m(e):e;return{pathname:a?a.startsWith("/")?a:Iee(a,t):t,search:Uee(s),hash:zee(n)}}function Iee(e,t){let a=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?a.length>1&&a.pop():n!=="."&&a.push(n)}),a.length>1?a.join("/"):"/"}function r5(e,t,a,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Bee(e){return e.filter((t,a)=>a===0||t.route.path&&t.route.path.length>0)}function U6(e){let t=Bee(e);return t.map((a,s)=>s===t.length-1?a.pathname:a.pathnameBase)}function z6(e,t,a,s=!1){let n;typeof e=="string"?n=_m(e):(n={...e},Ps(!n.pathname||!n.pathname.includes("?"),r5("?","pathname","search",n)),Ps(!n.pathname||!n.pathname.includes("#"),r5("#","pathname","hash",n)),Ps(!n.search||!n.search.includes("#"),r5("#","search","hash",n)));let i=e===""||n.pathname==="",l=i?"/":n.pathname,o;if(l==null)o=a;else{let f=t.length-1;if(!s&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),f-=1;n.pathname=x.join("/")}o=f>=0?t[f]:"/"}let c=Fee(n,o),d=l&&l!=="/"&&l.endsWith("/"),u=(i||l===".")&&a.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}var Qu=e=>e.join("/").replace(/\/\/+/g,"/"),$ee=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Uee=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,zee=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Hee(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var j$=["POST","PUT","PATCH","DELETE"];new Set(j$);var Vee=["GET",...j$];new Set(Vee);var bx=w.createContext(null);bx.displayName="DataRouter";var Nj=w.createContext(null);Nj.displayName="DataRouterState";w.createContext(!1);var N$=w.createContext({isTransitioning:!1});N$.displayName="ViewTransition";var Wee=w.createContext(new Map);Wee.displayName="Fetchers";var qee=w.createContext(null);qee.displayName="Await";var pd=w.createContext(null);pd.displayName="Navigation";var Dv=w.createContext(null);Dv.displayName="Location";var kc=w.createContext({outlet:null,matches:[],isDataRoute:!1});kc.displayName="Route";var H6=w.createContext(null);H6.displayName="RouteError";function Gee(e,{relative:t}={}){Ps(yx(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:s}=w.useContext(pd),{hash:n,pathname:i,search:l}=Mv(e,{relative:t}),o=i;return a!=="/"&&(o=i==="/"?a:Qu([a,i])),s.createHref({pathname:o,search:l,hash:n})}function yx(){return w.useContext(Dv)!=null}function Cc(){return Ps(yx(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Dv).location}var S$="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function k$(e){w.useContext(pd).static||w.useLayoutEffect(e)}function ti(){let{isDataRoute:e}=w.useContext(kc);return e?cte():Kee()}function Kee(){Ps(yx(),"useNavigate() may be used only in the context of a <Router> component.");let e=w.useContext(bx),{basename:t,navigator:a}=w.useContext(pd),{matches:s}=w.useContext(kc),{pathname:n}=Cc(),i=JSON.stringify(U6(s)),l=w.useRef(!1);return k$(()=>{l.current=!0}),w.useCallback((c,d={})=>{if(bc(l.current,S$),!l.current)return;if(typeof c=="number"){a.go(c);return}let u=z6(c,JSON.parse(i),n,d.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:Qu([t,u.pathname])),(d.replace?a.replace:a.push)(u,d.state,d)},[t,a,i,n,e])}var Yee=w.createContext(null);function Xee(e){let t=w.useContext(kc).outlet;return w.useMemo(()=>t&&w.createElement(Yee.Provider,{value:e},t),[t,e])}function Jee(){let{matches:e}=w.useContext(kc),t=e[e.length-1];return t?t.params:{}}function Mv(e,{relative:t}={}){let{matches:a}=w.useContext(kc),{pathname:s}=Cc(),n=JSON.stringify(U6(a));return w.useMemo(()=>z6(e,JSON.parse(n),s,t==="path"),[e,n,s,t])}function Qee(e,t){return C$(e,t)}function C$(e,t,a,s,n){Ps(yx(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=w.useContext(pd),{matches:l}=w.useContext(kc),o=l[l.length-1],c=o?o.params:{},d=o?o.pathname:"/",u=o?o.pathnameBase:"/",f=o&&o.route;{let S=f&&f.path||"";A$(d,!f||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let x=Cc(),m;if(t){let S=typeof t=="string"?_m(t):t;Ps(u==="/"||S.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${S.pathname}" was given in the \`location\` prop.`),m=S}else m=x;let g=m.pathname||"/",v=g;if(u!=="/"){let S=u.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(S.length).join("/")}let b=b$(e,{pathname:v});bc(f||b!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),bc(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=rte(b&&b.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:Qu([u,i.encodeLocation?i.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?u:Qu([u,i.encodeLocation?i.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),l,a,s,n);return t&&j?w.createElement(Dv.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},j):j}function Zee(){let e=ote(),t=Hee(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",n={padding:"0.5rem",backgroundColor:s},i={padding:"2px 4px",backgroundColor:s},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:i},"ErrorBoundary")," or"," ",w.createElement("code",{style:i},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),a?w.createElement("pre",{style:n},a):null,l)}var ete=w.createElement(Zee,null),tte=class extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?w.createElement(kc.Provider,{value:this.props.routeContext},w.createElement(H6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ate({routeContext:e,match:t,children:a}){let s=w.useContext(bx);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(kc.Provider,{value:e},a)}function rte(e,t=[],a=null,s=null,n=null){if(e==null){if(!a)return null;if(a.errors)e=a.matches;else if(t.length===0&&!a.initialized&&a.matches.length>0)e=a.matches;else return null}let i=e,l=a?.errors;if(l!=null){let d=i.findIndex(u=>u.route.id&&l?.[u.route.id]!==void 0);Ps(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let o=!1,c=-1;if(a)for(let d=0;d<i.length;d++){let u=i[d];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(c=d),u.route.id){let{loaderData:f,errors:x}=a,m=u.route.loader&&!f.hasOwnProperty(u.route.id)&&(!x||x[u.route.id]===void 0);if(u.route.lazy||m){o=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,u,f)=>{let x,m=!1,g=null,v=null;a&&(x=l&&u.route.id?l[u.route.id]:void 0,g=u.route.errorElement||ete,o&&(c<0&&f===0?(A$("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,v=null):c===f&&(m=!0,v=u.route.hydrateFallbackElement||null)));let b=t.concat(i.slice(0,f+1)),j=()=>{let S;return x?S=g:m?S=v:u.route.Component?S=w.createElement(u.route.Component,null):u.route.element?S=u.route.element:S=d,w.createElement(ate,{match:u,routeContext:{outlet:d,matches:b,isDataRoute:a!=null},children:S})};return a&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?w.createElement(tte,{location:a.location,revalidation:a.revalidation,component:g,error:x,children:j(),routeContext:{outlet:null,matches:b,isDataRoute:!0},unstable_onError:s}):j()},null)}function V6(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ste(e){let t=w.useContext(bx);return Ps(t,V6(e)),t}function nte(e){let t=w.useContext(Nj);return Ps(t,V6(e)),t}function ite(e){let t=w.useContext(kc);return Ps(t,V6(e)),t}function W6(e){let t=ite(e),a=t.matches[t.matches.length-1];return Ps(a.route.id,`${e} can only be used on routes that contain a unique "id"`),a.route.id}function lte(){return W6("useRouteId")}function ote(){let e=w.useContext(H6),t=nte("useRouteError"),a=W6("useRouteError");return e!==void 0?e:t.errors?.[a]}function cte(){let{router:e}=ste("useNavigate"),t=W6("useNavigate"),a=w.useRef(!1);return k$(()=>{a.current=!0}),w.useCallback(async(n,i={})=>{bc(a.current,S$),a.current&&(typeof n=="number"?e.navigate(n):await e.navigate(n,{fromRouteId:t,...i}))},[e,t])}var B7={};function A$(e,t,a){!t&&!B7[e]&&(B7[e]=!0,bc(!1,a))}w.memo(dte);function dte({routes:e,future:t,state:a,unstable_onError:s}){return C$(e,void 0,a,s,t)}function s5({to:e,replace:t,state:a,relative:s}){Ps(yx(),"<Navigate> may be used only in the context of a <Router> component.");let{static:n}=w.useContext(pd);bc(!n,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=w.useContext(kc),{pathname:l}=Cc(),o=ti(),c=z6(e,U6(i),l,s==="path"),d=JSON.stringify(c);return w.useEffect(()=>{o(JSON.parse(d),{replace:t,state:a,relative:s})},[o,d,s,t,a]),null}function Sj(e){return Xee(e.context)}function Et(e){Ps(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ute({basename:e="/",children:t=null,location:a,navigationType:s="POP",navigator:n,static:i=!1}){Ps(!yx(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),o=w.useMemo(()=>({basename:l,navigator:n,static:i,future:{}}),[l,n,i]);typeof a=="string"&&(a=_m(a));let{pathname:c="/",search:d="",hash:u="",state:f=null,key:x="default"}=a,m=w.useMemo(()=>{let g=oh(c,l);return g==null?null:{location:{pathname:g,search:d,hash:u,state:f,key:x},navigationType:s}},[l,c,d,u,f,x,s]);return bc(m!=null,`<Router basename="${l}"> is not able to match the URL "${c}${d}${u}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:w.createElement(pd.Provider,{value:o},w.createElement(Dv.Provider,{children:t,value:m}))}function hte({children:e,location:t}){return Qee(wk(e),t)}function wk(e,t=[]){let a=[];return w.Children.forEach(e,(s,n)=>{if(!w.isValidElement(s))return;let i=[...t,n];if(s.type===w.Fragment){a.push.apply(a,wk(s.props.children,i));return}Ps(s.type===Et,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ps(!s.props.index||!s.props.children,"An index route cannot have child routes.");let l={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(l.children=wk(s.props.children,i)),a.push(l)}),a}var C2="get",A2="application/x-www-form-urlencoded";function kj(e){return e!=null&&typeof e.tagName=="string"}function fte(e){return kj(e)&&e.tagName.toLowerCase()==="button"}function mte(e){return kj(e)&&e.tagName.toLowerCase()==="form"}function pte(e){return kj(e)&&e.tagName.toLowerCase()==="input"}function xte(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function gte(e,t){return e.button===0&&(!t||t==="_self")&&!xte(e)}var gy=null;function vte(){if(gy===null)try{new FormData(document.createElement("form"),0),gy=!1}catch{gy=!0}return gy}var bte=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function n5(e){return e!=null&&!bte.has(e)?(bc(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${A2}"`),null):e}function yte(e,t){let a,s,n,i,l;if(mte(e)){let o=e.getAttribute("action");s=o?oh(o,t):null,a=e.getAttribute("method")||C2,n=n5(e.getAttribute("enctype"))||A2,i=new FormData(e)}else if(fte(e)||pte(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||o.getAttribute("action");if(s=c?oh(c,t):null,a=e.getAttribute("formmethod")||o.getAttribute("method")||C2,n=n5(e.getAttribute("formenctype"))||n5(o.getAttribute("enctype"))||A2,i=new FormData(o,e),!vte()){let{name:d,type:u,value:f}=e;if(u==="image"){let x=d?`${d}.`:"";i.append(`${x}x`,"0"),i.append(`${x}y`,"0")}else d&&i.append(d,f)}}else{if(kj(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=C2,s=null,n=A2,l=e}return i&&n==="text/plain"&&(l=i,i=void 0),{action:s,method:a.toLowerCase(),encType:n,formData:i,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function q6(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function wte(e,t,a){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${a}`:t&&oh(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${a}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${a}`,s}async function jte(e,t){if(e.id in t)return t[e.id];try{let a=await import(e.module);return t[e.id]=a,a}catch(a){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Nte(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Ste(e,t,a){let s=await Promise.all(e.map(async n=>{let i=t.routes[n.route.id];if(i){let l=await jte(i,a);return l.links?l.links():[]}return[]}));return _te(s.flat(1).filter(Nte).filter(n=>n.rel==="stylesheet"||n.rel==="preload").map(n=>n.rel==="stylesheet"?{...n,rel:"prefetch",as:"style"}:{...n,rel:"prefetch"}))}function $7(e,t,a,s,n,i){let l=(c,d)=>a[d]?c.route.id!==a[d].route.id:!0,o=(c,d)=>a[d].pathname!==c.pathname||a[d].route.path?.endsWith("*")&&a[d].params["*"]!==c.params["*"];return i==="assets"?t.filter((c,d)=>l(c,d)||o(c,d)):i==="data"?t.filter((c,d)=>{let u=s.routes[c.route.id];if(!u||!u.hasLoader)return!1;if(l(c,d)||o(c,d))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(n.pathname+n.search+n.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function kte(e,t,{includeHydrateFallback:a}={}){return Cte(e.map(s=>{let n=t.routes[s.route.id];if(!n)return[];let i=[n.module];return n.clientActionModule&&(i=i.concat(n.clientActionModule)),n.clientLoaderModule&&(i=i.concat(n.clientLoaderModule)),a&&n.hydrateFallbackModule&&(i=i.concat(n.hydrateFallbackModule)),n.imports&&(i=i.concat(n.imports)),i}).flat(1))}function Cte(e){return[...new Set(e)]}function Ate(e){let t={},a=Object.keys(e).sort();for(let s of a)t[s]=e[s];return t}function _te(e,t){let a=new Set;return new Set(t),e.reduce((s,n)=>{let i=JSON.stringify(Ate(n));return a.has(i)||(a.add(i),s.push({key:i,link:n})),s},[])}function _$(){let e=w.useContext(bx);return q6(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Tte(){let e=w.useContext(Nj);return q6(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var G6=w.createContext(void 0);G6.displayName="FrameworkContext";function T$(){let e=w.useContext(G6);return q6(e,"You must render this element inside a <HydratedRouter> element"),e}function Ete(e,t){let a=w.useContext(G6),[s,n]=w.useState(!1),[i,l]=w.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:f}=t,x=w.useRef(null);w.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let v=j=>{j.forEach(S=>{l(S.isIntersecting)})},b=new IntersectionObserver(v,{threshold:.5});return x.current&&b.observe(x.current),()=>{b.disconnect()}}},[e]),w.useEffect(()=>{if(s){let v=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(v)}}},[s]);let m=()=>{n(!0)},g=()=>{n(!1),l(!1)};return a?e!=="intent"?[i,x,{}]:[i,x,{onFocus:_g(o,m),onBlur:_g(c,g),onMouseEnter:_g(d,m),onMouseLeave:_g(u,g),onTouchStart:_g(f,m)}]:[!1,x,{}]}function _g(e,t){return a=>{e&&e(a),a.defaultPrevented||t(a)}}function Dte({page:e,...t}){let{router:a}=_$(),s=w.useMemo(()=>b$(a.routes,e,a.basename),[a.routes,e,a.basename]);return s?w.createElement(Pte,{page:e,matches:s,...t}):null}function Mte(e){let{manifest:t,routeModules:a}=T$(),[s,n]=w.useState([]);return w.useEffect(()=>{let i=!1;return Ste(e,t,a).then(l=>{i||n(l)}),()=>{i=!0}},[e,t,a]),s}function Pte({page:e,matches:t,...a}){let s=Cc(),{manifest:n,routeModules:i}=T$(),{basename:l}=_$(),{loaderData:o,matches:c}=Tte(),d=w.useMemo(()=>$7(e,t,c,n,s,"data"),[e,t,c,n,s]),u=w.useMemo(()=>$7(e,t,c,n,s,"assets"),[e,t,c,n,s]),f=w.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let g=new Set,v=!1;if(t.forEach(j=>{let S=n.routes[j.route.id];!S||!S.hasLoader||(!d.some(k=>k.route.id===j.route.id)&&j.route.id in o&&i[j.route.id]?.shouldRevalidate||S.hasClientLoader?v=!0:g.add(j.route.id))}),g.size===0)return[];let b=wte(e,l,"data");return v&&g.size>0&&b.searchParams.set("_routes",t.filter(j=>g.has(j.route.id)).map(j=>j.route.id).join(",")),[b.pathname+b.search]},[l,o,s,n,d,t,e,i]),x=w.useMemo(()=>kte(u,n),[u,n]),m=Mte(u);return w.createElement(w.Fragment,null,f.map(g=>w.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...a})),x.map(g=>w.createElement("link",{key:g,rel:"modulepreload",href:g,...a})),m.map(({key:g,link:v})=>w.createElement("link",{key:g,nonce:a.nonce,...v})))}function Lte(...e){return t=>{e.forEach(a=>{typeof a=="function"?a(t):a!=null&&(a.current=t)})}}var E$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{E$&&(window.__reactRouterVersion="7.9.3")}catch{}function Ote({basename:e,children:t,window:a}){let s=w.useRef();s.current==null&&(s.current=yee({window:a,v5Compat:!0}));let n=s.current,[i,l]=w.useState({action:n.action,location:n.location}),o=w.useCallback(c=>{w.startTransition(()=>l(c))},[l]);return w.useLayoutEffect(()=>n.listen(o),[n,o]),w.createElement(ute,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:n})}var D$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gr=w.forwardRef(function({onClick:t,discover:a="render",prefetch:s="none",relative:n,reloadDocument:i,replace:l,state:o,target:c,to:d,preventScrollReset:u,viewTransition:f,...x},m){let{basename:g}=w.useContext(pd),v=typeof d=="string"&&D$.test(d),b,j=!1;if(typeof d=="string"&&v&&(b=d,E$))try{let I=new URL(window.location.href),B=d.startsWith("//")?new URL(I.protocol+d):new URL(d),O=oh(B.pathname,g);B.origin===I.origin&&O!=null?d=O+B.search+B.hash:j=!0}catch{bc(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=Gee(d,{relative:n}),[k,N,A]=Ete(s,x),_=Ite(d,{replace:l,state:o,target:c,preventScrollReset:u,relative:n,viewTransition:f});function D(I){t&&t(I),I.defaultPrevented||_(I)}let P=w.createElement("a",{...x,...A,href:b||S,onClick:j||i?t:D,ref:Lte(m,N),target:c,"data-discover":!v&&a==="render"?"true":void 0});return k&&!v?w.createElement(w.Fragment,null,P,w.createElement(Dte,{page:S})):P});gr.displayName="Link";var Ut=w.forwardRef(function({"aria-current":t="page",caseSensitive:a=!1,className:s="",end:n=!1,style:i,to:l,viewTransition:o,children:c,...d},u){let f=Mv(l,{relative:d.relative}),x=Cc(),m=w.useContext(Nj),{navigator:g,basename:v}=w.useContext(pd),b=m!=null&&Hte(f)&&o===!0,j=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,S=x.pathname,k=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;a||(S=S.toLowerCase(),k=k?k.toLowerCase():null,j=j.toLowerCase()),k&&v&&(k=oh(k,v)||k);const N=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let A=S===j||!n&&S.startsWith(j)&&S.charAt(N)==="/",_=k!=null&&(k===j||!n&&k.startsWith(j)&&k.charAt(j.length)==="/"),D={isActive:A,isPending:_,isTransitioning:b},P=A?t:void 0,I;typeof s=="function"?I=s(D):I=[s,A?"active":null,_?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let B=typeof i=="function"?i(D):i;return w.createElement(gr,{...d,"aria-current":P,className:I,ref:u,style:B,to:l,viewTransition:o},typeof c=="function"?c(D):c)});Ut.displayName="NavLink";var Rte=w.forwardRef(({discover:e="render",fetcherKey:t,navigate:a,reloadDocument:s,replace:n,state:i,method:l=C2,action:o,onSubmit:c,relative:d,preventScrollReset:u,viewTransition:f,...x},m)=>{let g=Ute(),v=zte(o,{relative:d}),b=l.toLowerCase()==="get"?"get":"post",j=typeof o=="string"&&D$.test(o),S=k=>{if(c&&c(k),k.defaultPrevented)return;k.preventDefault();let N=k.nativeEvent.submitter,A=N?.getAttribute("formmethod")||l;g(N||k.currentTarget,{fetcherKey:t,method:A,navigate:a,replace:n,state:i,relative:d,preventScrollReset:u,viewTransition:f})};return w.createElement("form",{ref:m,method:b,action:v,onSubmit:s?c:S,...x,"data-discover":!j&&e==="render"?"true":void 0})});Rte.displayName="Form";function Fte(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function M$(e){let t=w.useContext(bx);return Ps(t,Fte(e)),t}function Ite(e,{target:t,replace:a,state:s,preventScrollReset:n,relative:i,viewTransition:l}={}){let o=ti(),c=Cc(),d=Mv(e,{relative:i});return w.useCallback(u=>{if(gte(u,t)){u.preventDefault();let f=a!==void 0?a:I1(c)===I1(d);o(e,{replace:f,state:s,preventScrollReset:n,relative:i,viewTransition:l})}},[c,o,d,a,s,t,e,n,i,l])}var Bte=0,$te=()=>`__${String(++Bte)}__`;function Ute(){let{router:e}=M$("useSubmit"),{basename:t}=w.useContext(pd),a=lte();return w.useCallback(async(s,n={})=>{let{action:i,method:l,encType:o,formData:c,body:d}=yte(s,t);if(n.navigate===!1){let u=n.fetcherKey||$te();await e.fetch(u,a,n.action||i,{preventScrollReset:n.preventScrollReset,formData:c,body:d,formMethod:n.method||l,formEncType:n.encType||o,flushSync:n.flushSync})}else await e.navigate(n.action||i,{preventScrollReset:n.preventScrollReset,formData:c,body:d,formMethod:n.method||l,formEncType:n.encType||o,replace:n.replace,state:n.state,fromRouteId:a,flushSync:n.flushSync,viewTransition:n.viewTransition})},[e,t,a])}function zte(e,{relative:t}={}){let{basename:a}=w.useContext(pd),s=w.useContext(kc);Ps(s,"useFormAction must be used inside a RouteContext");let[n]=s.matches.slice(-1),i={...Mv(e||".",{relative:t})},l=Cc();if(e==null){i.search=l.search;let o=new URLSearchParams(i.search),c=o.getAll("index");if(c.some(u=>u==="")){o.delete("index"),c.filter(f=>f).forEach(f=>o.append("index",f));let u=o.toString();i.search=u?`?${u}`:""}}return(!e||e===".")&&n.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(i.pathname=i.pathname==="/"?a:Qu([a,i.pathname])),I1(i)}function Hte(e,{relative:t}={}){let a=w.useContext(N$);Ps(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=M$("useViewTransitionState"),n=Mv(e,{relative:t});if(!a.isTransitioning)return!1;let i=oh(a.currentLocation.pathname,s)||a.currentLocation.pathname,l=oh(a.nextLocation.pathname,s)||a.nextLocation.pathname;return z2(n.pathname,l)!=null||z2(n.pathname,i)!=null}var Cj=h$();const Vte=(e,t,a,s)=>{const n=[a,{code:t,...s||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(n,"warn","react-i18next::",!0);V0(n[0])&&(n[0]=`react-i18next:: ${n[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...n):console?.warn&&console.warn(...n)},U7={},jk=(e,t,a,s)=>{V0(a)&&U7[a]||(V0(a)&&(U7[a]=new Date),Vte(e,t,a,s))},P$=(e,t)=>()=>{if(e.isInitialized)t();else{const a=()=>{setTimeout(()=>{e.off("initialized",a)},0),t()};e.on("initialized",a)}},Nk=(e,t,a)=>{e.loadNamespaces(t,P$(e,a))},z7=(e,t,a,s)=>{if(V0(a)&&(a=[a]),e.options.preload&&e.options.preload.indexOf(t)>-1)return Nk(e,a,s);a.forEach(n=>{e.options.ns.indexOf(n)<0&&e.options.ns.push(n)}),e.loadLanguages(t,P$(e,s))},Wte=(e,t,a={})=>!t.languages||!t.languages.length?(jk(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:a.lng,precheck:(s,n)=>{if(a.bindI18n&&a.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!n(s.isLanguageChangingTo,e))return!1}}),V0=e=>typeof e=="string",qte=e=>typeof e=="object"&&e!==null,Gte=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Kte={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Yte=e=>Kte[e],Xte=e=>e.replace(Gte,Yte);let Sk={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Xte};const Jte=(e={})=>{Sk={...Sk,...e}},Qte=()=>Sk;let L$;const Zte=e=>{L$=e},eae=()=>L$,tae={type:"3rdParty",init(e){Jte(e.options.react),Zte(e)}},O$=w.createContext();class aae{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(a=>{this.usedNamespaces[a]||(this.usedNamespaces[a]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const rae=(e,t)=>{const a=w.useRef();return w.useEffect(()=>{a.current=e},[e,t]),a.current},R$=(e,t,a,s)=>e.getFixedT(t,a,s),sae=(e,t,a,s)=>w.useCallback(R$(e,t,a,s),[e,t,a,s]),Dt=(e,t={})=>{const{i18n:a}=t,{i18n:s,defaultNS:n}=w.useContext(O$)||{},i=a||s||eae();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new aae),!i){jk(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const N=(_,D)=>V0(D)?D:qte(D)&&V0(D.defaultValue)?D.defaultValue:Array.isArray(_)?_[_.length-1]:_,A=[N,{},!1];return A.t=N,A.i18n={},A.ready=!1,A}i.options.react?.wait&&jk(i,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const l={...Qte(),...i.options.react,...t},{useSuspense:o,keyPrefix:c}=l;let d=n||i.options?.defaultNS;d=V0(d)?[d]:d||["translation"],i.reportNamespaces.addUsedNamespaces?.(d);const u=(i.isInitialized||i.initializedStoreOnce)&&d.every(N=>Wte(N,i,l)),f=sae(i,t.lng||null,l.nsMode==="fallback"?d:d[0],c),x=()=>f,m=()=>R$(i,t.lng||null,l.nsMode==="fallback"?d:d[0],c),[g,v]=w.useState(x);let b=d.join();t.lng&&(b=`${t.lng}${b}`);const j=rae(b),S=w.useRef(!0);w.useEffect(()=>{const{bindI18n:N,bindI18nStore:A}=l;S.current=!0,!u&&!o&&(t.lng?z7(i,t.lng,d,()=>{S.current&&v(m)}):Nk(i,d,()=>{S.current&&v(m)})),u&&j&&j!==b&&S.current&&v(m);const _=()=>{S.current&&v(m)};return N&&i?.on(N,_),A&&i?.store.on(A,_),()=>{S.current=!1,i&&N&&N?.split(" ").forEach(D=>i.off(D,_)),A&&i&&A.split(" ").forEach(D=>i.store.off(D,_))}},[i,b]),w.useEffect(()=>{S.current&&u&&v(x)},[i,c,u]);const k=[g,i,u];if(k.t=g,k.i18n=i,k.ready=u,u||!u&&!o)return k;throw new Promise(N=>{t.lng?z7(i,t.lng,d,()=>N()):Nk(i,d,()=>N())})};function nae({i18n:e,defaultNS:t,children:a}){const s=w.useMemo(()=>({i18n:e,defaultNS:t}),[e,t]);return w.createElement(O$.Provider,{value:s},a)}const iae="modulepreload",lae=function(e){return"/besouhoula/"+e},H7={},yi=function(t,a,s){let n=Promise.resolve();if(a&&a.length>0){let c=function(d){return Promise.all(d.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=l?.nonce||l?.getAttribute("nonce");n=c(a.map(d=>{if(d=lae(d),d in H7)return;H7[d]=!0;const u=d.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${f}`))return;const x=document.createElement("link");if(x.rel=u?"stylesheet":iae,u||(x.as="script"),x.crossOrigin="",x.href=d,o&&x.setAttribute("nonce",o),document.head.appendChild(x),u)return new Promise((m,g)=>{x.addEventListener("load",m),x.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return n.then(l=>{for(const o of l||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Pv(e){return e+.5|0}const vf=(e,t,a)=>Math.max(Math.min(e,a),t);function Zg(e){return vf(Pv(e*2.55),0,255)}function kf(e){return vf(Pv(e*255),0,255)}function $u(e){return vf(Pv(e/2.55)/100,0,1)}function V7(e){return vf(Pv(e*100),0,100)}const ac={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},kk=[..."0123456789ABCDEF"],oae=e=>kk[e&15],cae=e=>kk[(e&240)>>4]+kk[e&15],vy=e=>(e&240)>>4===(e&15),dae=e=>vy(e.r)&&vy(e.g)&&vy(e.b)&&vy(e.a);function uae(e){var t=e.length,a;return e[0]==="#"&&(t===4||t===5?a={r:255&ac[e[1]]*17,g:255&ac[e[2]]*17,b:255&ac[e[3]]*17,a:t===5?ac[e[4]]*17:255}:(t===7||t===9)&&(a={r:ac[e[1]]<<4|ac[e[2]],g:ac[e[3]]<<4|ac[e[4]],b:ac[e[5]]<<4|ac[e[6]],a:t===9?ac[e[7]]<<4|ac[e[8]]:255})),a}const hae=(e,t)=>e<255?t(e):"";function fae(e){var t=dae(e)?oae:cae;return e?"#"+t(e.r)+t(e.g)+t(e.b)+hae(e.a,t):void 0}const mae=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function F$(e,t,a){const s=t*Math.min(a,1-a),n=(i,l=(i+e/30)%12)=>a-s*Math.max(Math.min(l-3,9-l,1),-1);return[n(0),n(8),n(4)]}function pae(e,t,a){const s=(n,i=(n+e/60)%6)=>a-a*t*Math.max(Math.min(i,4-i,1),0);return[s(5),s(3),s(1)]}function xae(e,t,a){const s=F$(e,1,.5);let n;for(t+a>1&&(n=1/(t+a),t*=n,a*=n),n=0;n<3;n++)s[n]*=1-t-a,s[n]+=t;return s}function gae(e,t,a,s,n){return e===n?(t-a)/s+(t<a?6:0):t===n?(a-e)/s+2:(e-t)/s+4}function K6(e){const a=e.r/255,s=e.g/255,n=e.b/255,i=Math.max(a,s,n),l=Math.min(a,s,n),o=(i+l)/2;let c,d,u;return i!==l&&(u=i-l,d=o>.5?u/(2-i-l):u/(i+l),c=gae(a,s,n,u,i),c=c*60+.5),[c|0,d||0,o]}function Y6(e,t,a,s){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,a,s)).map(kf)}function X6(e,t,a){return Y6(F$,e,t,a)}function vae(e,t,a){return Y6(xae,e,t,a)}function bae(e,t,a){return Y6(pae,e,t,a)}function I$(e){return(e%360+360)%360}function yae(e){const t=mae.exec(e);let a=255,s;if(!t)return;t[5]!==s&&(a=t[6]?Zg(+t[5]):kf(+t[5]));const n=I$(+t[2]),i=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?s=vae(n,i,l):t[1]==="hsv"?s=bae(n,i,l):s=X6(n,i,l),{r:s[0],g:s[1],b:s[2],a}}function wae(e,t){var a=K6(e);a[0]=I$(a[0]+t),a=X6(a),e.r=a[0],e.g=a[1],e.b=a[2]}function jae(e){if(!e)return;const t=K6(e),a=t[0],s=V7(t[1]),n=V7(t[2]);return e.a<255?`hsla(${a}, ${s}%, ${n}%, ${$u(e.a)})`:`hsl(${a}, ${s}%, ${n}%)`}const W7={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},q7={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Nae(){const e={},t=Object.keys(q7),a=Object.keys(W7);let s,n,i,l,o;for(s=0;s<t.length;s++){for(l=o=t[s],n=0;n<a.length;n++)i=a[n],o=o.replace(i,W7[i]);i=parseInt(q7[l],16),e[o]=[i>>16&255,i>>8&255,i&255]}return e}let by;function Sae(e){by||(by=Nae(),by.transparent=[0,0,0,0]);const t=by[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const kae=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Cae(e){const t=kae.exec(e);let a=255,s,n,i;if(t){if(t[7]!==s){const l=+t[7];a=t[8]?Zg(l):vf(l*255,0,255)}return s=+t[1],n=+t[3],i=+t[5],s=255&(t[2]?Zg(s):vf(s,0,255)),n=255&(t[4]?Zg(n):vf(n,0,255)),i=255&(t[6]?Zg(i):vf(i,0,255)),{r:s,g:n,b:i,a}}}function Aae(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${$u(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const i5=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Np=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function _ae(e,t,a){const s=Np($u(e.r)),n=Np($u(e.g)),i=Np($u(e.b));return{r:kf(i5(s+a*(Np($u(t.r))-s))),g:kf(i5(n+a*(Np($u(t.g))-n))),b:kf(i5(i+a*(Np($u(t.b))-i))),a:e.a+a*(t.a-e.a)}}function yy(e,t,a){if(e){let s=K6(e);s[t]=Math.max(0,Math.min(s[t]+s[t]*a,t===0?360:1)),s=X6(s),e.r=s[0],e.g=s[1],e.b=s[2]}}function B$(e,t){return e&&Object.assign(t||{},e)}function G7(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=kf(e[3]))):(t=B$(e,{r:0,g:0,b:0,a:1}),t.a=kf(t.a)),t}function Tae(e){return e.charAt(0)==="r"?Cae(e):yae(e)}let $$=class Ck{constructor(t){if(t instanceof Ck)return t;const a=typeof t;let s;a==="object"?s=G7(t):a==="string"&&(s=uae(t)||Sae(t)||Tae(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=B$(this._rgb);return t&&(t.a=$u(t.a)),t}set rgb(t){this._rgb=G7(t)}rgbString(){return this._valid?Aae(this._rgb):void 0}hexString(){return this._valid?fae(this._rgb):void 0}hslString(){return this._valid?jae(this._rgb):void 0}mix(t,a){if(t){const s=this.rgb,n=t.rgb;let i;const l=a===i?.5:a,o=2*l-1,c=s.a-n.a,d=((o*c===-1?o:(o+c)/(1+o*c))+1)/2;i=1-d,s.r=255&d*s.r+i*n.r+.5,s.g=255&d*s.g+i*n.g+.5,s.b=255&d*s.b+i*n.b+.5,s.a=l*s.a+(1-l)*n.a,this.rgb=s}return this}interpolate(t,a){return t&&(this._rgb=_ae(this._rgb,t._rgb,a)),this}clone(){return new Ck(this.rgb)}alpha(t){return this._rgb.a=kf(t),this}clearer(t){const a=this._rgb;return a.a*=1-t,this}greyscale(){const t=this._rgb,a=Pv(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=a,this}opaquer(t){const a=this._rgb;return a.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return yy(this._rgb,2,t),this}darken(t){return yy(this._rgb,2,-t),this}saturate(t){return yy(this._rgb,1,t),this}desaturate(t){return yy(this._rgb,1,-t),this}rotate(t){return wae(this._rgb,t),this}};/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ou(){}const Eae=(()=>{let e=0;return()=>e++})();function hr(e){return e==null}function Ts(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function vr(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Zs(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function ko(e,t){return Zs(e)?e:t}function Ga(e,t){return typeof e>"u"?t:e}const Dae=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,U$=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function ls(e,t,a){if(e&&typeof e.call=="function")return e.apply(a,t)}function zr(e,t,a,s){let n,i,l;if(Ts(e))for(i=e.length,n=0;n<i;n++)t.call(a,e[n],n);else if(vr(e))for(l=Object.keys(e),i=l.length,n=0;n<i;n++)t.call(a,e[l[n]],l[n])}function H2(e,t){let a,s,n,i;if(!e||!t||e.length!==t.length)return!1;for(a=0,s=e.length;a<s;++a)if(n=e[a],i=t[a],n.datasetIndex!==i.datasetIndex||n.index!==i.index)return!1;return!0}function V2(e){if(Ts(e))return e.map(V2);if(vr(e)){const t=Object.create(null),a=Object.keys(e),s=a.length;let n=0;for(;n<s;++n)t[a[n]]=V2(e[a[n]]);return t}return e}function z$(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function Mae(e,t,a,s){if(!z$(e))return;const n=t[e],i=a[e];vr(n)&&vr(i)?B1(n,i,s):t[e]=V2(i)}function B1(e,t,a){const s=Ts(t)?t:[t],n=s.length;if(!vr(e))return e;a=a||{};const i=a.merger||Mae;let l;for(let o=0;o<n;++o){if(l=s[o],!vr(l))continue;const c=Object.keys(l);for(let d=0,u=c.length;d<u;++d)i(c[d],e,l,a)}return e}function c1(e,t){return B1(e,t,{merger:Pae})}function Pae(e,t,a){if(!z$(e))return;const s=t[e],n=a[e];vr(s)&&vr(n)?c1(s,n):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=V2(n))}const K7={"":e=>e,x:e=>e.x,y:e=>e.y};function Lae(e){const t=e.split("."),a=[];let s="";for(const n of t)s+=n,s.endsWith("\\")?s=s.slice(0,-1)+".":(a.push(s),s="");return a}function Oae(e){const t=Lae(e);return a=>{for(const s of t){if(s==="")break;a=a&&a[s]}return a}}function Tf(e,t){return(K7[t]||(K7[t]=Oae(t)))(e)}function J6(e){return e.charAt(0).toUpperCase()+e.slice(1)}const $1=e=>typeof e<"u",Ef=e=>typeof e=="function",Y7=(e,t)=>{if(e.size!==t.size)return!1;for(const a of e)if(!t.has(a))return!1;return!0};function Rae(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Er=Math.PI,ms=2*Er,Fae=ms+Er,W2=Number.POSITIVE_INFINITY,Iae=Er/180,Nn=Er/2,j0=Er/4,X7=Er*2/3,bf=Math.log10,Zd=Math.sign;function d1(e,t,a){return Math.abs(e-t)<a}function J7(e){const t=Math.round(e);e=d1(e,t,e/1e3)?t:e;const a=Math.pow(10,Math.floor(bf(e))),s=e/a;return(s<=1?1:s<=2?2:s<=5?5:10)*a}function Bae(e){const t=[],a=Math.sqrt(e);let s;for(s=1;s<a;s++)e%s===0&&(t.push(s),t.push(e/s));return a===(a|0)&&t.push(a),t.sort((n,i)=>n-i).pop(),t}function $ae(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function ex(e){return!$ae(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function Uae(e,t){const a=Math.round(e);return a-t<=e&&a+t>=e}function H$(e,t,a){let s,n,i;for(s=0,n=e.length;s<n;s++)i=e[s][a],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function nd(e){return e*(Er/180)}function Q6(e){return e*(180/Er)}function Q7(e){if(!Zs(e))return;let t=1,a=0;for(;Math.round(e*t)/t!==e;)t*=10,a++;return a}function V$(e,t){const a=t.x-e.x,s=t.y-e.y,n=Math.sqrt(a*a+s*s);let i=Math.atan2(s,a);return i<-.5*Er&&(i+=ms),{angle:i,distance:n}}function Ak(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function zae(e,t){return(e-t+Fae)%ms-Er}function sl(e){return(e%ms+ms)%ms}function U1(e,t,a,s){const n=sl(e),i=sl(t),l=sl(a),o=sl(i-n),c=sl(l-n),d=sl(n-i),u=sl(n-l);return n===i||n===l||s&&i===l||o>c&&d<u}function ji(e,t,a){return Math.max(t,Math.min(a,e))}function Hae(e){return ji(e,-32768,32767)}function Wu(e,t,a,s=1e-6){return e>=Math.min(t,a)-s&&e<=Math.max(t,a)+s}function Z6(e,t,a){a=a||(l=>e[l]<t);let s=e.length-1,n=0,i;for(;s-n>1;)i=n+s>>1,a(i)?n=i:s=i;return{lo:n,hi:s}}const qu=(e,t,a,s)=>Z6(e,a,s?n=>{const i=e[n][t];return i<a||i===a&&e[n+1][t]===a}:n=>e[n][t]<a),Vae=(e,t,a)=>Z6(e,a,s=>e[s][t]>=a);function Wae(e,t,a){let s=0,n=e.length;for(;s<n&&e[s]<t;)s++;for(;n>s&&e[n-1]>a;)n--;return s>0||n<e.length?e.slice(s,n):e}const W$=["push","pop","shift","splice","unshift"];function qae(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),W$.forEach(a=>{const s="_onData"+J6(a),n=e[a];Object.defineProperty(e,a,{configurable:!0,enumerable:!1,value(...i){const l=n.apply(this,i);return e._chartjs.listeners.forEach(o=>{typeof o[s]=="function"&&o[s](...i)}),l}})})}function Z7(e,t){const a=e._chartjs;if(!a)return;const s=a.listeners,n=s.indexOf(t);n!==-1&&s.splice(n,1),!(s.length>0)&&(W$.forEach(i=>{delete e[i]}),delete e._chartjs)}function q$(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const G$=(function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame})();function K$(e,t){let a=[],s=!1;return function(...n){a=n,s||(s=!0,G$.call(window,()=>{s=!1,e.apply(t,a)}))}}function Gae(e,t){let a;return function(...s){return t?(clearTimeout(a),a=setTimeout(e,t,s)):e.apply(this,s),t}}const eA=e=>e==="start"?"left":e==="end"?"right":"center",tl=(e,t,a)=>e==="start"?t:e==="end"?a:(t+a)/2,Kae=(e,t,a,s)=>e===(s?"left":"right")?a:e==="center"?(t+a)/2:t;function Y$(e,t,a){const s=t.length;let n=0,i=s;if(e._sorted){const{iScale:l,vScale:o,_parsed:c}=e,d=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=l.axis,{min:f,max:x,minDefined:m,maxDefined:g}=l.getUserBounds();if(m){if(n=Math.min(qu(c,u,f).lo,a?s:qu(t,u,l.getPixelForValue(f)).lo),d){const v=c.slice(0,n+1).reverse().findIndex(b=>!hr(b[o.axis]));n-=Math.max(0,v)}n=ji(n,0,s-1)}if(g){let v=Math.max(qu(c,l.axis,x,!0).hi+1,a?0:qu(t,u,l.getPixelForValue(x),!0).hi+1);if(d){const b=c.slice(v-1).findIndex(j=>!hr(j[o.axis]));v+=Math.max(0,b)}i=ji(v,n,s)-n}else i=s-n}return{start:n,count:i}}function X$(e){const{xScale:t,yScale:a,_scaleRanges:s}=e,n={xmin:t.min,xmax:t.max,ymin:a.min,ymax:a.max};if(!s)return e._scaleRanges=n,!0;const i=s.xmin!==t.min||s.xmax!==t.max||s.ymin!==a.min||s.ymax!==a.max;return Object.assign(s,n),i}const wy=e=>e===0||e===1,eD=(e,t,a)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*ms/a)),tD=(e,t,a)=>Math.pow(2,-10*e)*Math.sin((e-t)*ms/a)+1,u1={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Nn)+1,easeOutSine:e=>Math.sin(e*Nn),easeInOutSine:e=>-.5*(Math.cos(Er*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>wy(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>wy(e)?e:eD(e,.075,.3),easeOutElastic:e=>wy(e)?e:tD(e,.075,.3),easeInOutElastic(e){return wy(e)?e:e<.5?.5*eD(e*2,.1125,.45):.5+.5*tD(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-u1.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?u1.easeInBounce(e*2)*.5:u1.easeOutBounce(e*2-1)*.5+.5};function tA(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function aD(e){return tA(e)?e:new $$(e)}function l5(e){return tA(e)?e:new $$(e).saturate(.5).darken(.1).hexString()}const Yae=["x","y","borderWidth","radius","tension"],Xae=["color","borderColor","backgroundColor"];function Jae(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:Xae},numbers:{type:"number",properties:Yae}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Qae(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const rD=new Map;function Zae(e,t){t=t||{};const a=e+JSON.stringify(t);let s=rD.get(a);return s||(s=new Intl.NumberFormat(e,t),rD.set(a,s)),s}function Lv(e,t,a){return Zae(t,a).format(e)}const J$={values(e){return Ts(e)?e:""+e},numeric(e,t,a){if(e===0)return"0";const s=this.chart.options.locale;let n,i=e;if(a.length>1){const d=Math.max(Math.abs(a[0].value),Math.abs(a[a.length-1].value));(d<1e-4||d>1e15)&&(n="scientific"),i=ere(e,a)}const l=bf(Math.abs(i)),o=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),c={notation:n,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(c,this.options.ticks.format),Lv(e,s,c)},logarithmic(e,t,a){if(e===0)return"0";const s=a[t].significand||e/Math.pow(10,Math.floor(bf(e)));return[1,2,3,5,10,15].includes(s)||t>.8*a.length?J$.numeric.call(this,e,t,a):""}};function ere(e,t){let a=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(a)>=1&&e!==Math.floor(e)&&(a=e-Math.floor(e)),a}var Aj={formatters:J$};function tre(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,a)=>a.lineWidth,tickColor:(t,a)=>a.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Aj.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const om=Object.create(null),_k=Object.create(null);function h1(e,t){if(!t)return e;const a=t.split(".");for(let s=0,n=a.length;s<n;++s){const i=a[s];e=e[i]||(e[i]=Object.create(null))}return e}function o5(e,t,a){return typeof t=="string"?B1(h1(e,t),a):B1(h1(e,""),t)}class are{constructor(t,a){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,n)=>l5(n.backgroundColor),this.hoverBorderColor=(s,n)=>l5(n.borderColor),this.hoverColor=(s,n)=>l5(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(a)}set(t,a){return o5(this,t,a)}get(t){return h1(this,t)}describe(t,a){return o5(_k,t,a)}override(t,a){return o5(om,t,a)}route(t,a,s,n){const i=h1(this,t),l=h1(this,s),o="_"+a;Object.defineProperties(i,{[o]:{value:i[a],writable:!0},[a]:{enumerable:!0,get(){const c=this[o],d=l[n];return vr(c)?Object.assign({},d,c):Ga(c,d)},set(c){this[o]=c}}})}apply(t){t.forEach(a=>a(this))}}var Es=new are({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Jae,Qae,tre]);function rre(e){return!e||hr(e.size)||hr(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function q2(e,t,a,s,n){let i=t[n];return i||(i=t[n]=e.measureText(n).width,a.push(n)),i>s&&(s=i),s}function sre(e,t,a,s){s=s||{};let n=s.data=s.data||{},i=s.garbageCollect=s.garbageCollect||[];s.font!==t&&(n=s.data={},i=s.garbageCollect=[],s.font=t),e.save(),e.font=t;let l=0;const o=a.length;let c,d,u,f,x;for(c=0;c<o;c++)if(f=a[c],f!=null&&!Ts(f))l=q2(e,n,i,l,f);else if(Ts(f))for(d=0,u=f.length;d<u;d++)x=f[d],x!=null&&!Ts(x)&&(l=q2(e,n,i,l,x));e.restore();const m=i.length/2;if(m>a.length){for(c=0;c<m;c++)delete n[i[c]];i.splice(0,m)}return l}function N0(e,t,a){const s=e.currentDevicePixelRatio,n=a!==0?Math.max(a/2,.5):0;return Math.round((t-n)*s)/s+n}function sD(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Tk(e,t,a,s){Q$(e,t,a,s,null)}function Q$(e,t,a,s,n){let i,l,o,c,d,u,f,x;const m=t.pointStyle,g=t.rotation,v=t.radius;let b=(g||0)*Iae;if(m&&typeof m=="object"&&(i=m.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){e.save(),e.translate(a,s),e.rotate(b),e.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),e.restore();return}if(!(isNaN(v)||v<=0)){switch(e.beginPath(),m){default:n?e.ellipse(a,s,n/2,v,0,0,ms):e.arc(a,s,v,0,ms),e.closePath();break;case"triangle":u=n?n/2:v,e.moveTo(a+Math.sin(b)*u,s-Math.cos(b)*v),b+=X7,e.lineTo(a+Math.sin(b)*u,s-Math.cos(b)*v),b+=X7,e.lineTo(a+Math.sin(b)*u,s-Math.cos(b)*v),e.closePath();break;case"rectRounded":d=v*.516,c=v-d,l=Math.cos(b+j0)*c,f=Math.cos(b+j0)*(n?n/2-d:c),o=Math.sin(b+j0)*c,x=Math.sin(b+j0)*(n?n/2-d:c),e.arc(a-f,s-o,d,b-Er,b-Nn),e.arc(a+x,s-l,d,b-Nn,b),e.arc(a+f,s+o,d,b,b+Nn),e.arc(a-x,s+l,d,b+Nn,b+Er),e.closePath();break;case"rect":if(!g){c=Math.SQRT1_2*v,u=n?n/2:c,e.rect(a-u,s-c,2*u,2*c);break}b+=j0;case"rectRot":f=Math.cos(b)*(n?n/2:v),l=Math.cos(b)*v,o=Math.sin(b)*v,x=Math.sin(b)*(n?n/2:v),e.moveTo(a-f,s-o),e.lineTo(a+x,s-l),e.lineTo(a+f,s+o),e.lineTo(a-x,s+l),e.closePath();break;case"crossRot":b+=j0;case"cross":f=Math.cos(b)*(n?n/2:v),l=Math.cos(b)*v,o=Math.sin(b)*v,x=Math.sin(b)*(n?n/2:v),e.moveTo(a-f,s-o),e.lineTo(a+f,s+o),e.moveTo(a+x,s-l),e.lineTo(a-x,s+l);break;case"star":f=Math.cos(b)*(n?n/2:v),l=Math.cos(b)*v,o=Math.sin(b)*v,x=Math.sin(b)*(n?n/2:v),e.moveTo(a-f,s-o),e.lineTo(a+f,s+o),e.moveTo(a+x,s-l),e.lineTo(a-x,s+l),b+=j0,f=Math.cos(b)*(n?n/2:v),l=Math.cos(b)*v,o=Math.sin(b)*v,x=Math.sin(b)*(n?n/2:v),e.moveTo(a-f,s-o),e.lineTo(a+f,s+o),e.moveTo(a+x,s-l),e.lineTo(a-x,s+l);break;case"line":l=n?n/2:Math.cos(b)*v,o=Math.sin(b)*v,e.moveTo(a-l,s-o),e.lineTo(a+l,s+o);break;case"dash":e.moveTo(a,s),e.lineTo(a+Math.cos(b)*(n?n/2:v),s+Math.sin(b)*v);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Gu(e,t,a){return a=a||.5,!t||e&&e.x>t.left-a&&e.x<t.right+a&&e.y>t.top-a&&e.y<t.bottom+a}function _j(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Tj(e){e.restore()}function nre(e,t,a,s,n){if(!t)return e.lineTo(a.x,a.y);if(n==="middle"){const i=(t.x+a.x)/2;e.lineTo(i,t.y),e.lineTo(i,a.y)}else n==="after"!=!!s?e.lineTo(t.x,a.y):e.lineTo(a.x,t.y);e.lineTo(a.x,a.y)}function ire(e,t,a,s){if(!t)return e.lineTo(a.x,a.y);e.bezierCurveTo(s?t.cp1x:t.cp2x,s?t.cp1y:t.cp2y,s?a.cp2x:a.cp1x,s?a.cp2y:a.cp1y,a.x,a.y)}function lre(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),hr(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function ore(e,t,a,s,n){if(n.strikethrough||n.underline){const i=e.measureText(s),l=t-i.actualBoundingBoxLeft,o=t+i.actualBoundingBoxRight,c=a-i.actualBoundingBoxAscent,d=a+i.actualBoundingBoxDescent,u=n.strikethrough?(c+d)/2:d;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=n.decorationWidth||2,e.moveTo(l,u),e.lineTo(o,u),e.stroke()}}function cre(e,t){const a=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=a}function cm(e,t,a,s,n,i={}){const l=Ts(t)?t:[t],o=i.strokeWidth>0&&i.strokeColor!=="";let c,d;for(e.save(),e.font=n.string,lre(e,i),c=0;c<l.length;++c)d=l[c],i.backdrop&&cre(e,i.backdrop),o&&(i.strokeColor&&(e.strokeStyle=i.strokeColor),hr(i.strokeWidth)||(e.lineWidth=i.strokeWidth),e.strokeText(d,a,s,i.maxWidth)),e.fillText(d,a,s,i.maxWidth),ore(e,a,s,d,i),s+=Number(n.lineHeight);e.restore()}function z1(e,t){const{x:a,y:s,w:n,h:i,radius:l}=t;e.arc(a+l.topLeft,s+l.topLeft,l.topLeft,1.5*Er,Er,!0),e.lineTo(a,s+i-l.bottomLeft),e.arc(a+l.bottomLeft,s+i-l.bottomLeft,l.bottomLeft,Er,Nn,!0),e.lineTo(a+n-l.bottomRight,s+i),e.arc(a+n-l.bottomRight,s+i-l.bottomRight,l.bottomRight,Nn,0,!0),e.lineTo(a+n,s+l.topRight),e.arc(a+n-l.topRight,s+l.topRight,l.topRight,0,-Nn,!0),e.lineTo(a+l.topLeft,s)}const dre=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,ure=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function hre(e,t){const a=(""+e).match(dre);if(!a||a[1]==="normal")return t*1.2;switch(e=+a[2],a[3]){case"px":return e;case"%":e/=100;break}return t*e}const fre=e=>+e||0;function aA(e,t){const a={},s=vr(t),n=s?Object.keys(t):t,i=vr(e)?s?l=>Ga(e[l],e[t[l]]):l=>e[l]:()=>e;for(const l of n)a[l]=fre(i(l));return a}function Z$(e){return aA(e,{top:"y",right:"x",bottom:"y",left:"x"})}function W0(e){return aA(e,["topLeft","topRight","bottomLeft","bottomRight"])}function fl(e){const t=Z$(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Qn(e,t){e=e||{},t=t||Es.font;let a=Ga(e.size,t.size);typeof a=="string"&&(a=parseInt(a,10));let s=Ga(e.style,t.style);s&&!(""+s).match(ure)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const n={family:Ga(e.family,t.family),lineHeight:hre(Ga(e.lineHeight,t.lineHeight),a),size:a,style:s,weight:Ga(e.weight,t.weight),string:""};return n.string=rre(n),n}function e1(e,t,a,s){let n,i,l;for(n=0,i=e.length;n<i;++n)if(l=e[n],l!==void 0&&l!==void 0)return l}function mre(e,t,a){const{min:s,max:n}=e,i=U$(t,(n-s)/2),l=(o,c)=>a&&o===0?0:o+c;return{min:l(s,-Math.abs(i)),max:l(n,i)}}function Uf(e,t){return Object.assign(Object.create(e),t)}function rA(e,t=[""],a,s,n=()=>e[0]){const i=a||e;typeof s>"u"&&(s=rU("_fallback",e));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:s,_getTarget:n,override:o=>rA([o,...e],t,i,s)};return new Proxy(l,{deleteProperty(o,c){return delete o[c],delete o._keys,delete e[0][c],!0},get(o,c){return tU(o,c,()=>jre(c,t,e,o))},getOwnPropertyDescriptor(o,c){return Reflect.getOwnPropertyDescriptor(o._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(o,c){return iD(o).includes(c)},ownKeys(o){return iD(o)},set(o,c,d){const u=o._storage||(o._storage=n());return o[c]=u[c]=d,delete o._keys,!0}})}function tx(e,t,a,s){const n={_cacheable:!1,_proxy:e,_context:t,_subProxy:a,_stack:new Set,_descriptors:eU(e,s),setContext:i=>tx(e,i,a,s),override:i=>tx(e.override(i),t,a,s)};return new Proxy(n,{deleteProperty(i,l){return delete i[l],delete e[l],!0},get(i,l,o){return tU(i,l,()=>xre(i,l,o))},getOwnPropertyDescriptor(i,l){return i._descriptors.allKeys?Reflect.has(e,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,l)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(i,l){return Reflect.has(e,l)},ownKeys(){return Reflect.ownKeys(e)},set(i,l,o){return e[l]=o,delete i[l],!0}})}function eU(e,t={scriptable:!0,indexable:!0}){const{_scriptable:a=t.scriptable,_indexable:s=t.indexable,_allKeys:n=t.allKeys}=e;return{allKeys:n,scriptable:a,indexable:s,isScriptable:Ef(a)?a:()=>a,isIndexable:Ef(s)?s:()=>s}}const pre=(e,t)=>e?e+J6(t):t,sA=(e,t)=>vr(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function tU(e,t,a){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const s=a();return e[t]=s,s}function xre(e,t,a){const{_proxy:s,_context:n,_subProxy:i,_descriptors:l}=e;let o=s[t];return Ef(o)&&l.isScriptable(t)&&(o=gre(t,o,e,a)),Ts(o)&&o.length&&(o=vre(t,o,e,l.isIndexable)),sA(t,o)&&(o=tx(o,n,i&&i[t],l)),o}function gre(e,t,a,s){const{_proxy:n,_context:i,_subProxy:l,_stack:o}=a;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let c=t(i,l||s);return o.delete(e),sA(e,c)&&(c=nA(n._scopes,n,e,c)),c}function vre(e,t,a,s){const{_proxy:n,_context:i,_subProxy:l,_descriptors:o}=a;if(typeof i.index<"u"&&s(e))return t[i.index%t.length];if(vr(t[0])){const c=t,d=n._scopes.filter(u=>u!==c);t=[];for(const u of c){const f=nA(d,n,e,u);t.push(tx(f,i,l&&l[e],o))}}return t}function aU(e,t,a){return Ef(e)?e(t,a):e}const bre=(e,t)=>e===!0?t:typeof e=="string"?Tf(t,e):void 0;function yre(e,t,a,s,n){for(const i of t){const l=bre(a,i);if(l){e.add(l);const o=aU(l._fallback,a,n);if(typeof o<"u"&&o!==a&&o!==s)return o}else if(l===!1&&typeof s<"u"&&a!==s)return null}return!1}function nA(e,t,a,s){const n=t._rootScopes,i=aU(t._fallback,a,s),l=[...e,...n],o=new Set;o.add(s);let c=nD(o,l,a,i||a,s);return c===null||typeof i<"u"&&i!==a&&(c=nD(o,l,i,c,s),c===null)?!1:rA(Array.from(o),[""],n,i,()=>wre(t,a,s))}function nD(e,t,a,s,n){for(;a;)a=yre(e,t,a,s,n);return a}function wre(e,t,a){const s=e._getTarget();t in s||(s[t]={});const n=s[t];return Ts(n)&&vr(a)?a:n||{}}function jre(e,t,a,s){let n;for(const i of t)if(n=rU(pre(i,e),a),typeof n<"u")return sA(e,n)?nA(a,s,e,n):n}function rU(e,t){for(const a of t){if(!a)continue;const s=a[e];if(typeof s<"u")return s}}function iD(e){let t=e._keys;return t||(t=e._keys=Nre(e._scopes)),t}function Nre(e){const t=new Set;for(const a of e)for(const s of Object.keys(a).filter(n=>!n.startsWith("_")))t.add(s);return Array.from(t)}function sU(e,t,a,s){const{iScale:n}=e,{key:i="r"}=this._parsing,l=new Array(s);let o,c,d,u;for(o=0,c=s;o<c;++o)d=o+a,u=t[d],l[o]={r:n.parse(Tf(u,i),d)};return l}const Sre=Number.EPSILON||1e-14,ax=(e,t)=>t<e.length&&!e[t].skip&&e[t],nU=e=>e==="x"?"y":"x";function kre(e,t,a,s){const n=e.skip?t:e,i=t,l=a.skip?t:a,o=Ak(i,n),c=Ak(l,i);let d=o/(o+c),u=c/(o+c);d=isNaN(d)?0:d,u=isNaN(u)?0:u;const f=s*d,x=s*u;return{previous:{x:i.x-f*(l.x-n.x),y:i.y-f*(l.y-n.y)},next:{x:i.x+x*(l.x-n.x),y:i.y+x*(l.y-n.y)}}}function Cre(e,t,a){const s=e.length;let n,i,l,o,c,d=ax(e,0);for(let u=0;u<s-1;++u)if(c=d,d=ax(e,u+1),!(!c||!d)){if(d1(t[u],0,Sre)){a[u]=a[u+1]=0;continue}n=a[u]/t[u],i=a[u+1]/t[u],o=Math.pow(n,2)+Math.pow(i,2),!(o<=9)&&(l=3/Math.sqrt(o),a[u]=n*l*t[u],a[u+1]=i*l*t[u])}}function Are(e,t,a="x"){const s=nU(a),n=e.length;let i,l,o,c=ax(e,0);for(let d=0;d<n;++d){if(l=o,o=c,c=ax(e,d+1),!o)continue;const u=o[a],f=o[s];l&&(i=(u-l[a])/3,o[`cp1${a}`]=u-i,o[`cp1${s}`]=f-i*t[d]),c&&(i=(c[a]-u)/3,o[`cp2${a}`]=u+i,o[`cp2${s}`]=f+i*t[d])}}function _re(e,t="x"){const a=nU(t),s=e.length,n=Array(s).fill(0),i=Array(s);let l,o,c,d=ax(e,0);for(l=0;l<s;++l)if(o=c,c=d,d=ax(e,l+1),!!c){if(d){const u=d[t]-c[t];n[l]=u!==0?(d[a]-c[a])/u:0}i[l]=o?d?Zd(n[l-1])!==Zd(n[l])?0:(n[l-1]+n[l])/2:n[l-1]:n[l]}Cre(e,n,i),Are(e,i,t)}function jy(e,t,a){return Math.max(Math.min(e,a),t)}function Tre(e,t){let a,s,n,i,l,o=Gu(e[0],t);for(a=0,s=e.length;a<s;++a)l=i,i=o,o=a<s-1&&Gu(e[a+1],t),i&&(n=e[a],l&&(n.cp1x=jy(n.cp1x,t.left,t.right),n.cp1y=jy(n.cp1y,t.top,t.bottom)),o&&(n.cp2x=jy(n.cp2x,t.left,t.right),n.cp2y=jy(n.cp2y,t.top,t.bottom)))}function Ere(e,t,a,s,n){let i,l,o,c;if(t.spanGaps&&(e=e.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")_re(e,n);else{let d=s?e[e.length-1]:e[0];for(i=0,l=e.length;i<l;++i)o=e[i],c=kre(d,o,e[Math.min(i+1,l-(s?0:1))%l],t.tension),o.cp1x=c.previous.x,o.cp1y=c.previous.y,o.cp2x=c.next.x,o.cp2y=c.next.y,d=o}t.capBezierPoints&&Tre(e,a)}function iA(){return typeof window<"u"&&typeof document<"u"}function lA(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function G2(e,t,a){let s;return typeof e=="string"?(s=parseInt(e,10),e.indexOf("%")!==-1&&(s=s/100*t.parentNode[a])):s=e,s}const Ej=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function Dre(e,t){return Ej(e).getPropertyValue(t)}const Mre=["top","right","bottom","left"];function q0(e,t,a){const s={};a=a?"-"+a:"";for(let n=0;n<4;n++){const i=Mre[n];s[i]=parseFloat(e[t+"-"+i+a])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const Pre=(e,t,a)=>(e>0||t>0)&&(!a||!a.shadowRoot);function Lre(e,t){const a=e.touches,s=a&&a.length?a[0]:e,{offsetX:n,offsetY:i}=s;let l=!1,o,c;if(Pre(n,i,e.target))o=n,c=i;else{const d=t.getBoundingClientRect();o=s.clientX-d.left,c=s.clientY-d.top,l=!0}return{x:o,y:c,box:l}}function _0(e,t){if("native"in e)return e;const{canvas:a,currentDevicePixelRatio:s}=t,n=Ej(a),i=n.boxSizing==="border-box",l=q0(n,"padding"),o=q0(n,"border","width"),{x:c,y:d,box:u}=Lre(e,a),f=l.left+(u&&o.left),x=l.top+(u&&o.top);let{width:m,height:g}=t;return i&&(m-=l.width+o.width,g-=l.height+o.height),{x:Math.round((c-f)/m*a.width/s),y:Math.round((d-x)/g*a.height/s)}}function Ore(e,t,a){let s,n;if(t===void 0||a===void 0){const i=e&&lA(e);if(!i)t=e.clientWidth,a=e.clientHeight;else{const l=i.getBoundingClientRect(),o=Ej(i),c=q0(o,"border","width"),d=q0(o,"padding");t=l.width-d.width-c.width,a=l.height-d.height-c.height,s=G2(o.maxWidth,i,"clientWidth"),n=G2(o.maxHeight,i,"clientHeight")}}return{width:t,height:a,maxWidth:s||W2,maxHeight:n||W2}}const Ny=e=>Math.round(e*10)/10;function Rre(e,t,a,s){const n=Ej(e),i=q0(n,"margin"),l=G2(n.maxWidth,e,"clientWidth")||W2,o=G2(n.maxHeight,e,"clientHeight")||W2,c=Ore(e,t,a);let{width:d,height:u}=c;if(n.boxSizing==="content-box"){const x=q0(n,"border","width"),m=q0(n,"padding");d-=m.width+x.width,u-=m.height+x.height}return d=Math.max(0,d-i.width),u=Math.max(0,s?d/s:u-i.height),d=Ny(Math.min(d,l,c.maxWidth)),u=Ny(Math.min(u,o,c.maxHeight)),d&&!u&&(u=Ny(d/2)),(t!==void 0||a!==void 0)&&s&&c.height&&u>c.height&&(u=c.height,d=Ny(Math.floor(u*s))),{width:d,height:u}}function lD(e,t,a){const s=t||1,n=Math.floor(e.height*s),i=Math.floor(e.width*s);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const l=e.canvas;return l.style&&(a||!l.style.height&&!l.style.width)&&(l.style.height=`${e.height}px`,l.style.width=`${e.width}px`),e.currentDevicePixelRatio!==s||l.height!==n||l.width!==i?(e.currentDevicePixelRatio=s,l.height=n,l.width=i,e.ctx.setTransform(s,0,0,s,0,0),!0):!1}const Fre=(function(){let e=!1;try{const t={get passive(){return e=!0,!1}};iA()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e})();function oD(e,t){const a=Dre(e,t),s=a&&a.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function T0(e,t,a,s){return{x:e.x+a*(t.x-e.x),y:e.y+a*(t.y-e.y)}}function Ire(e,t,a,s){return{x:e.x+a*(t.x-e.x),y:s==="middle"?a<.5?e.y:t.y:s==="after"?a<1?e.y:t.y:a>0?t.y:e.y}}function Bre(e,t,a,s){const n={x:e.cp2x,y:e.cp2y},i={x:t.cp1x,y:t.cp1y},l=T0(e,n,a),o=T0(n,i,a),c=T0(i,t,a),d=T0(l,o,a),u=T0(o,c,a);return T0(d,u,a)}const $re=function(e,t){return{x(a){return e+e+t-a},setWidth(a){t=a},textAlign(a){return a==="center"?a:a==="right"?"left":"right"},xPlus(a,s){return a-s},leftForLtr(a,s){return a-s}}},Ure=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Wp(e,t,a){return e?$re(t,a):Ure()}function iU(e,t){let a,s;(t==="ltr"||t==="rtl")&&(a=e.canvas.style,s=[a.getPropertyValue("direction"),a.getPropertyPriority("direction")],a.setProperty("direction",t,"important"),e.prevTextDirection=s)}function lU(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function oU(e){return e==="angle"?{between:U1,compare:zae,normalize:sl}:{between:Wu,compare:(t,a)=>t-a,normalize:t=>t}}function cD({start:e,end:t,count:a,loop:s,style:n}){return{start:e%a,end:t%a,loop:s&&(t-e+1)%a===0,style:n}}function zre(e,t,a){const{property:s,start:n,end:i}=a,{between:l,normalize:o}=oU(s),c=t.length;let{start:d,end:u,loop:f}=e,x,m;if(f){for(d+=c,u+=c,x=0,m=c;x<m&&l(o(t[d%c][s]),n,i);++x)d--,u--;d%=c,u%=c}return u<d&&(u+=c),{start:d,end:u,loop:f,style:e.style}}function cU(e,t,a){if(!a)return[e];const{property:s,start:n,end:i}=a,l=t.length,{compare:o,between:c,normalize:d}=oU(s),{start:u,end:f,loop:x,style:m}=zre(e,t,a),g=[];let v=!1,b=null,j,S,k;const N=()=>c(n,k,j)&&o(n,k)!==0,A=()=>o(i,j)===0||c(i,k,j),_=()=>v||N(),D=()=>!v||A();for(let P=u,I=u;P<=f;++P)S=t[P%l],!S.skip&&(j=d(S[s]),j!==k&&(v=c(j,n,i),b===null&&_()&&(b=o(j,n)===0?P:I),b!==null&&D()&&(g.push(cD({start:b,end:P,loop:x,count:l,style:m})),b=null),I=P,k=j));return b!==null&&g.push(cD({start:b,end:f,loop:x,count:l,style:m})),g}function dU(e,t){const a=[],s=e.segments;for(let n=0;n<s.length;n++){const i=cU(s[n],e.points,t);i.length&&a.push(...i)}return a}function Hre(e,t,a,s){let n=0,i=t-1;if(a&&!s)for(;n<t&&!e[n].skip;)n++;for(;n<t&&e[n].skip;)n++;for(n%=t,a&&(i+=n);i>n&&e[i%t].skip;)i--;return i%=t,{start:n,end:i}}function Vre(e,t,a,s){const n=e.length,i=[];let l=t,o=e[t],c;for(c=t+1;c<=a;++c){const d=e[c%n];d.skip||d.stop?o.skip||(s=!1,i.push({start:t%n,end:(c-1)%n,loop:s}),t=l=d.stop?c:null):(l=c,o.skip&&(t=c)),o=d}return l!==null&&i.push({start:t%n,end:l%n,loop:s}),i}function Wre(e,t){const a=e.points,s=e.options.spanGaps,n=a.length;if(!n)return[];const i=!!e._loop,{start:l,end:o}=Hre(a,n,i,s);if(s===!0)return dD(e,[{start:l,end:o,loop:i}],a,t);const c=o<l?o+n:o,d=!!e._fullLoop&&l===0&&o===n-1;return dD(e,Vre(a,l,c,d),a,t)}function dD(e,t,a,s){return!s||!s.setContext||!a?t:qre(e,t,a,s)}function qre(e,t,a,s){const n=e._chart.getContext(),i=uD(e.options),{_datasetIndex:l,options:{spanGaps:o}}=e,c=a.length,d=[];let u=i,f=t[0].start,x=f;function m(g,v,b,j){const S=o?-1:1;if(g!==v){for(g+=c;a[g%c].skip;)g-=S;for(;a[v%c].skip;)v+=S;g%c!==v%c&&(d.push({start:g%c,end:v%c,loop:b,style:j}),u=j,f=v%c)}}for(const g of t){f=o?f:g.start;let v=a[f%c],b;for(x=f+1;x<=g.end;x++){const j=a[x%c];b=uD(s.setContext(Uf(n,{type:"segment",p0:v,p1:j,p0DataIndex:(x-1)%c,p1DataIndex:x%c,datasetIndex:l}))),Gre(b,u)&&m(f,x-1,g.loop,u),v=j,u=b}f<x-1&&m(f,x-1,g.loop,u)}return d}function uD(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Gre(e,t){if(!t)return!1;const a=[],s=function(n,i){return tA(i)?(a.includes(i)||a.push(i),a.indexOf(i)):i};return JSON.stringify(e,s)!==JSON.stringify(t,s)}function Sy(e,t,a){return e.options.clip?e[a]:t[a]}function Kre(e,t){const{xScale:a,yScale:s}=e;return a&&s?{left:Sy(a,t,"left"),right:Sy(a,t,"right"),top:Sy(s,t,"top"),bottom:Sy(s,t,"bottom")}:t}function uU(e,t){const a=t._clip;if(a.disabled)return!1;const s=Kre(t,e.chartArea);return{left:a.left===!1?0:s.left-(a.left===!0?0:a.left),right:a.right===!1?e.width:s.right+(a.right===!0?0:a.right),top:a.top===!1?0:s.top-(a.top===!0?0:a.top),bottom:a.bottom===!1?e.height:s.bottom+(a.bottom===!0?0:a.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Yre{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,a,s,n){const i=a.listeners[n],l=a.duration;i.forEach(o=>o({chart:t,initial:a.initial,numSteps:l,currentStep:Math.min(s-a.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=G$.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let a=0;this._charts.forEach((s,n)=>{if(!s.running||!s.items.length)return;const i=s.items;let l=i.length-1,o=!1,c;for(;l>=0;--l)c=i[l],c._active?(c._total>s.duration&&(s.duration=c._total),c.tick(t),o=!0):(i[l]=i[i.length-1],i.pop());o&&(n.draw(),this._notify(n,s,t,"progress")),i.length||(s.running=!1,this._notify(n,s,t,"complete"),s.initial=!1),a+=i.length}),this._lastDate=t,a===0&&(this._running=!1)}_getAnims(t){const a=this._charts;let s=a.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},a.set(t,s)),s}listen(t,a,s){this._getAnims(t).listeners[a].push(s)}add(t,a){!a||!a.length||this._getAnims(t).items.push(...a)}has(t){return this._getAnims(t).items.length>0}start(t){const a=this._charts.get(t);a&&(a.running=!0,a.start=Date.now(),a.duration=a.items.reduce((s,n)=>Math.max(s,n._duration),0),this._refresh())}running(t){if(!this._running)return!1;const a=this._charts.get(t);return!(!a||!a.running||!a.items.length)}stop(t){const a=this._charts.get(t);if(!a||!a.items.length)return;const s=a.items;let n=s.length-1;for(;n>=0;--n)s[n].cancel();a.items=[],this._notify(t,a,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Iu=new Yre;const hD="transparent",Xre={boolean(e,t,a){return a>.5?t:e},color(e,t,a){const s=aD(e||hD),n=s.valid&&aD(t||hD);return n&&n.valid?n.mix(s,a).hexString():t},number(e,t,a){return e+(t-e)*a}};class Jre{constructor(t,a,s,n){const i=a[s];n=e1([t.to,n,i,t.from]);const l=e1([t.from,i,n]);this._active=!0,this._fn=t.fn||Xre[t.type||typeof l],this._easing=u1[t.easing]||u1.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=a,this._prop=s,this._from=l,this._to=n,this._promises=void 0}active(){return this._active}update(t,a,s){if(this._active){this._notify(!1);const n=this._target[this._prop],i=s-this._start,l=this._duration-i;this._start=s,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=e1([t.to,a,n,t.from]),this._from=e1([t.from,n,a])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const a=t-this._start,s=this._duration,n=this._prop,i=this._from,l=this._loop,o=this._to;let c;if(this._active=i!==o&&(l||a<s),!this._active){this._target[n]=o,this._notify(!0);return}if(a<0){this._target[n]=i;return}c=a/s%2,c=l&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[n]=this._fn(i,o,c)}wait(){const t=this._promises||(this._promises=[]);return new Promise((a,s)=>{t.push({res:a,rej:s})})}_notify(t){const a=t?"res":"rej",s=this._promises||[];for(let n=0;n<s.length;n++)s[n][a]()}}class hU{constructor(t,a){this._chart=t,this._properties=new Map,this.configure(a)}configure(t){if(!vr(t))return;const a=Object.keys(Es.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(n=>{const i=t[n];if(!vr(i))return;const l={};for(const o of a)l[o]=i[o];(Ts(i.properties)&&i.properties||[n]).forEach(o=>{(o===n||!s.has(o))&&s.set(o,l)})})}_animateOptions(t,a){const s=a.options,n=Zre(t,s);if(!n)return[];const i=this._createAnimations(n,s);return s.$shared&&Qre(t.options.$animations,s).then(()=>{t.options=s},()=>{}),i}_createAnimations(t,a){const s=this._properties,n=[],i=t.$animations||(t.$animations={}),l=Object.keys(a),o=Date.now();let c;for(c=l.length-1;c>=0;--c){const d=l[c];if(d.charAt(0)==="$")continue;if(d==="options"){n.push(...this._animateOptions(t,a));continue}const u=a[d];let f=i[d];const x=s.get(d);if(f)if(x&&f.active()){f.update(x,u,o);continue}else f.cancel();if(!x||!x.duration){t[d]=u;continue}i[d]=f=new Jre(x,t,d,u),n.push(f)}return n}update(t,a){if(this._properties.size===0){Object.assign(t,a);return}const s=this._createAnimations(t,a);if(s.length)return Iu.add(this._chart,s),!0}}function Qre(e,t){const a=[],s=Object.keys(t);for(let n=0;n<s.length;n++){const i=e[s[n]];i&&i.active()&&a.push(i.wait())}return Promise.all(a)}function Zre(e,t){if(!t)return;let a=e.options;if(!a){e.options=t;return}return a.$shared&&(e.options=a=Object.assign({},a,{$shared:!1,$animations:{}})),a}function fD(e,t){const a=e&&e.options||{},s=a.reverse,n=a.min===void 0?t:0,i=a.max===void 0?t:0;return{start:s?i:n,end:s?n:i}}function ese(e,t,a){if(a===!1)return!1;const s=fD(e,a),n=fD(t,a);return{top:n.end,right:s.end,bottom:n.start,left:s.start}}function tse(e){let t,a,s,n;return vr(e)?(t=e.top,a=e.right,s=e.bottom,n=e.left):t=a=s=n=e,{top:t,right:a,bottom:s,left:n,disabled:e===!1}}function fU(e,t){const a=[],s=e._getSortedDatasetMetas(t);let n,i;for(n=0,i=s.length;n<i;++n)a.push(s[n].index);return a}function mD(e,t,a,s={}){const n=e.keys,i=s.mode==="single";let l,o,c,d;if(t===null)return;let u=!1;for(l=0,o=n.length;l<o;++l){if(c=+n[l],c===a){if(u=!0,s.all)continue;break}d=e.values[c],Zs(d)&&(i||t===0||Zd(t)===Zd(d))&&(t+=d)}return!u&&!s.all?0:t}function ase(e,t){const{iScale:a,vScale:s}=t,n=a.axis==="x"?"x":"y",i=s.axis==="x"?"x":"y",l=Object.keys(e),o=new Array(l.length);let c,d,u;for(c=0,d=l.length;c<d;++c)u=l[c],o[c]={[n]:u,[i]:e[u]};return o}function c5(e,t){const a=e&&e.options.stacked;return a||a===void 0&&t.stack!==void 0}function rse(e,t,a){return`${e.id}.${t.id}.${a.stack||a.type}`}function sse(e){const{min:t,max:a,minDefined:s,maxDefined:n}=e.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:n?a:Number.POSITIVE_INFINITY}}function nse(e,t,a){const s=e[t]||(e[t]={});return s[a]||(s[a]={})}function pD(e,t,a,s){for(const n of t.getMatchingVisibleMetas(s).reverse()){const i=e[n.index];if(a&&i>0||!a&&i<0)return n.index}return null}function xD(e,t){const{chart:a,_cachedMeta:s}=e,n=a._stacks||(a._stacks={}),{iScale:i,vScale:l,index:o}=s,c=i.axis,d=l.axis,u=rse(i,l,s),f=t.length;let x;for(let m=0;m<f;++m){const g=t[m],{[c]:v,[d]:b}=g,j=g._stacks||(g._stacks={});x=j[d]=nse(n,u,v),x[o]=b,x._top=pD(x,l,!0,s.type),x._bottom=pD(x,l,!1,s.type);const S=x._visualValues||(x._visualValues={});S[o]=b}}function d5(e,t){const a=e.scales;return Object.keys(a).filter(s=>a[s].axis===t).shift()}function ise(e,t){return Uf(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function lse(e,t,a){return Uf(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:a,index:t,mode:"default",type:"data"})}function Tg(e,t){const a=e.controller.index,s=e.vScale&&e.vScale.axis;if(s){t=t||e._parsed;for(const n of t){const i=n._stacks;if(!i||i[s]===void 0||i[s][a]===void 0)return;delete i[s][a],i[s]._visualValues!==void 0&&i[s]._visualValues[a]!==void 0&&delete i[s]._visualValues[a]}}}const u5=e=>e==="reset"||e==="none",gD=(e,t)=>t?e:Object.assign({},e),ose=(e,t,a)=>e&&!t.hidden&&t._stacked&&{keys:fU(a,!0),values:null};class zf{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,a){this.chart=t,this._ctx=t.ctx,this.index=a,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=c5(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Tg(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,a=this._cachedMeta,s=this.getDataset(),n=(f,x,m,g)=>f==="x"?x:f==="r"?g:m,i=a.xAxisID=Ga(s.xAxisID,d5(t,"x")),l=a.yAxisID=Ga(s.yAxisID,d5(t,"y")),o=a.rAxisID=Ga(s.rAxisID,d5(t,"r")),c=a.indexAxis,d=a.iAxisID=n(c,i,l,o),u=a.vAxisID=n(c,l,i,o);a.xScale=this.getScaleForId(i),a.yScale=this.getScaleForId(l),a.rScale=this.getScaleForId(o),a.iScale=this.getScaleForId(d),a.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const a=this._cachedMeta;return t===a.iScale?a.vScale:a.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Z7(this._data,this),t._stacked&&Tg(t)}_dataCheck(){const t=this.getDataset(),a=t.data||(t.data=[]),s=this._data;if(vr(a)){const n=this._cachedMeta;this._data=ase(a,n)}else if(s!==a){if(s){Z7(s,this);const n=this._cachedMeta;Tg(n),n._parsed=[]}a&&Object.isExtensible(a)&&qae(a,this),this._syncList=[],this._data=a}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const a=this._cachedMeta,s=this.getDataset();let n=!1;this._dataCheck();const i=a._stacked;a._stacked=c5(a.vScale,a),a.stack!==s.stack&&(n=!0,Tg(a),a.stack=s.stack),this._resyncElements(t),(n||i!==a._stacked)&&(xD(this,a._parsed),a._stacked=c5(a.vScale,a))}configure(){const t=this.chart.config,a=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),a,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,a){const{_cachedMeta:s,_data:n}=this,{iScale:i,_stacked:l}=s,o=i.axis;let c=t===0&&a===n.length?!0:s._sorted,d=t>0&&s._parsed[t-1],u,f,x;if(this._parsing===!1)s._parsed=n,s._sorted=!0,x=n;else{Ts(n[t])?x=this.parseArrayData(s,n,t,a):vr(n[t])?x=this.parseObjectData(s,n,t,a):x=this.parsePrimitiveData(s,n,t,a);const m=()=>f[o]===null||d&&f[o]<d[o];for(u=0;u<a;++u)s._parsed[u+t]=f=x[u],c&&(m()&&(c=!1),d=f);s._sorted=c}l&&xD(this,x)}parsePrimitiveData(t,a,s,n){const{iScale:i,vScale:l}=t,o=i.axis,c=l.axis,d=i.getLabels(),u=i===l,f=new Array(n);let x,m,g;for(x=0,m=n;x<m;++x)g=x+s,f[x]={[o]:u||i.parse(d[g],g),[c]:l.parse(a[g],g)};return f}parseArrayData(t,a,s,n){const{xScale:i,yScale:l}=t,o=new Array(n);let c,d,u,f;for(c=0,d=n;c<d;++c)u=c+s,f=a[u],o[c]={x:i.parse(f[0],u),y:l.parse(f[1],u)};return o}parseObjectData(t,a,s,n){const{xScale:i,yScale:l}=t,{xAxisKey:o="x",yAxisKey:c="y"}=this._parsing,d=new Array(n);let u,f,x,m;for(u=0,f=n;u<f;++u)x=u+s,m=a[x],d[u]={x:i.parse(Tf(m,o),x),y:l.parse(Tf(m,c),x)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,a,s){const n=this.chart,i=this._cachedMeta,l=a[t.axis],o={keys:fU(n,!0),values:a._stacks[t.axis]._visualValues};return mD(o,l,i.index,{mode:s})}updateRangeFromParsed(t,a,s,n){const i=s[a.axis];let l=i===null?NaN:i;const o=n&&s._stacks[a.axis];n&&o&&(n.values=o,l=mD(n,i,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,a){const s=this._cachedMeta,n=s._parsed,i=s._sorted&&t===s.iScale,l=n.length,o=this._getOtherScale(t),c=ose(a,s,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:f}=sse(o);let x,m;function g(){m=n[x];const v=m[o.axis];return!Zs(m[t.axis])||u>v||f<v}for(x=0;x<l&&!(!g()&&(this.updateRangeFromParsed(d,t,m,c),i));++x);if(i){for(x=l-1;x>=0;--x)if(!g()){this.updateRangeFromParsed(d,t,m,c);break}}return d}getAllParsedValues(t){const a=this._cachedMeta._parsed,s=[];let n,i,l;for(n=0,i=a.length;n<i;++n)l=a[n][t.axis],Zs(l)&&s.push(l);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const a=this._cachedMeta,s=a.iScale,n=a.vScale,i=this.getParsed(t);return{label:s?""+s.getLabelForValue(i[s.axis]):"",value:n?""+n.getLabelForValue(i[n.axis]):""}}_update(t){const a=this._cachedMeta;this.update(t||"default"),a._clip=tse(Ga(this.options.clip,ese(a.xScale,a.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,a=this.chart,s=this._cachedMeta,n=s.data||[],i=a.chartArea,l=[],o=this._drawStart||0,c=this._drawCount||n.length-o,d=this.options.drawActiveElementsOnTop;let u;for(s.dataset&&s.dataset.draw(t,i,o,c),u=o;u<o+c;++u){const f=n[u];f.hidden||(f.active&&d?l.push(f):f.draw(t,i))}for(u=0;u<l.length;++u)l[u].draw(t,i)}getStyle(t,a){const s=a?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,a,s){const n=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];i=l.$context||(l.$context=lse(this.getContext(),t,l)),i.parsed=this.getParsed(t),i.raw=n.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=ise(this.chart.getContext(),this.index)),i.dataset=n,i.index=i.datasetIndex=this.index;return i.active=!!a,i.mode=s,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,a){return this._resolveElementOptions(this.dataElementType.id,a,t)}_resolveElementOptions(t,a="default",s){const n=a==="active",i=this._cachedDataOpts,l=t+"-"+a,o=i[l],c=this.enableOptionSharing&&$1(s);if(o)return gD(o,c);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,t),f=n?[`${t}Hover`,"hover",t,""]:[t,""],x=d.getOptionScopes(this.getDataset(),u),m=Object.keys(Es.elements[t]),g=()=>this.getContext(s,n,a),v=d.resolveNamedOptions(x,m,g,f);return v.$shared&&(v.$shared=c,i[l]=Object.freeze(gD(v,c))),v}_resolveAnimations(t,a,s){const n=this.chart,i=this._cachedDataOpts,l=`animation-${a}`,o=i[l];if(o)return o;let c;if(n.options.animation!==!1){const u=this.chart.config,f=u.datasetAnimationScopeKeys(this._type,a),x=u.getOptionScopes(this.getDataset(),f);c=u.createResolver(x,this.getContext(t,s,a))}const d=new hU(n,c&&c.animations);return c&&c._cacheable&&(i[l]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,a){return!a||u5(t)||this.chart._animationsDisabled}_getSharedOptions(t,a){const s=this.resolveDataElementOptions(t,a),n=this._sharedOptions,i=this.getSharedOptions(s),l=this.includeOptions(a,i)||i!==n;return this.updateSharedOptions(i,a,s),{sharedOptions:i,includeOptions:l}}updateElement(t,a,s,n){u5(n)?Object.assign(t,s):this._resolveAnimations(a,n).update(t,s)}updateSharedOptions(t,a,s){t&&!u5(a)&&this._resolveAnimations(void 0,a).update(t,s)}_setStyle(t,a,s,n){t.active=n;const i=this.getStyle(a,n);this._resolveAnimations(a,s,n).update(t,{options:!n&&this.getSharedOptions(i)||i})}removeHoverStyle(t,a,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,a,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const a=this._data,s=this._cachedMeta.data;for(const[o,c,d]of this._syncList)this[o](c,d);this._syncList=[];const n=s.length,i=a.length,l=Math.min(i,n);l&&this.parse(0,l),i>n?this._insertElements(n,i-n,t):i<n&&this._removeElements(i,n-i)}_insertElements(t,a,s=!0){const n=this._cachedMeta,i=n.data,l=t+a;let o;const c=d=>{for(d.length+=a,o=d.length-1;o>=l;o--)d[o]=d[o-a]};for(c(i),o=t;o<l;++o)i[o]=new this.dataElementType;this._parsing&&c(n._parsed),this.parse(t,a),s&&this.updateElements(i,t,a,"reset")}updateElements(t,a,s,n){}_removeElements(t,a){const s=this._cachedMeta;if(this._parsing){const n=s._parsed.splice(t,a);s._stacked&&Tg(s,n)}s.data.splice(t,a)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[a,s,n]=t;this[a](s,n)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,a){a&&this._sync(["_removeElements",t,a]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function cse(e,t){if(!e._cache.$bar){const a=e.getMatchingVisibleMetas(t);let s=[];for(let n=0,i=a.length;n<i;n++)s=s.concat(a[n].controller.getAllParsedValues(e));e._cache.$bar=q$(s.sort((n,i)=>n-i))}return e._cache.$bar}function dse(e){const t=e.iScale,a=cse(t,e.type);let s=t._length,n,i,l,o;const c=()=>{l===32767||l===-32768||($1(o)&&(s=Math.min(s,Math.abs(l-o)||s)),o=l)};for(n=0,i=a.length;n<i;++n)l=t.getPixelForValue(a[n]),c();for(o=void 0,n=0,i=t.ticks.length;n<i;++n)l=t.getPixelForTick(n),c();return s}function use(e,t,a,s){const n=a.barThickness;let i,l;return hr(n)?(i=t.min*a.categoryPercentage,l=a.barPercentage):(i=n*s,l=1),{chunk:i/s,ratio:l,start:t.pixels[e]-i/2}}function hse(e,t,a,s){const n=t.pixels,i=n[e];let l=e>0?n[e-1]:null,o=e<n.length-1?n[e+1]:null;const c=a.categoryPercentage;l===null&&(l=i-(o===null?t.end-t.start:o-i)),o===null&&(o=i+i-l);const d=i-(i-Math.min(l,o))/2*c;return{chunk:Math.abs(o-l)/2*c/s,ratio:a.barPercentage,start:d}}function fse(e,t,a,s){const n=a.parse(e[0],s),i=a.parse(e[1],s),l=Math.min(n,i),o=Math.max(n,i);let c=l,d=o;Math.abs(l)>Math.abs(o)&&(c=o,d=l),t[a.axis]=d,t._custom={barStart:c,barEnd:d,start:n,end:i,min:l,max:o}}function mU(e,t,a,s){return Ts(e)?fse(e,t,a,s):t[a.axis]=a.parse(e,s),t}function vD(e,t,a,s){const n=e.iScale,i=e.vScale,l=n.getLabels(),o=n===i,c=[];let d,u,f,x;for(d=a,u=a+s;d<u;++d)x=t[d],f={},f[n.axis]=o||n.parse(l[d],d),c.push(mU(x,f,i,d));return c}function h5(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function mse(e,t,a){return e!==0?Zd(e):(t.isHorizontal()?1:-1)*(t.min>=a?1:-1)}function pse(e){let t,a,s,n,i;return e.horizontal?(t=e.base>e.x,a="left",s="right"):(t=e.base<e.y,a="bottom",s="top"),t?(n="end",i="start"):(n="start",i="end"),{start:a,end:s,reverse:t,top:n,bottom:i}}function xse(e,t,a,s){let n=t.borderSkipped;const i={};if(!n){e.borderSkipped=i;return}if(n===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:o,reverse:c,top:d,bottom:u}=pse(e);n==="middle"&&a&&(e.enableBorderRadius=!0,(a._top||0)===s?n=d:(a._bottom||0)===s?n=u:(i[bD(u,l,o,c)]=!0,n=d)),i[bD(n,l,o,c)]=!0,e.borderSkipped=i}function bD(e,t,a,s){return s?(e=gse(e,t,a),e=yD(e,a,t)):e=yD(e,t,a),e}function gse(e,t,a){return e===t?a:e===a?t:e}function yD(e,t,a){return e==="start"?t:e==="end"?a:e}function vse(e,{inflateAmount:t},a){e.inflateAmount=t==="auto"?a===1?.33:0:t}class pU extends zf{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,a,s,n){return vD(t,a,s,n)}parseArrayData(t,a,s,n){return vD(t,a,s,n)}parseObjectData(t,a,s,n){const{iScale:i,vScale:l}=t,{xAxisKey:o="x",yAxisKey:c="y"}=this._parsing,d=i.axis==="x"?o:c,u=l.axis==="x"?o:c,f=[];let x,m,g,v;for(x=s,m=s+n;x<m;++x)v=a[x],g={},g[i.axis]=i.parse(Tf(v,d),x),f.push(mU(Tf(v,u),g,l,x));return f}updateRangeFromParsed(t,a,s,n){super.updateRangeFromParsed(t,a,s,n);const i=s._custom;i&&a===this._cachedMeta.vScale&&(t.min=Math.min(t.min,i.min),t.max=Math.max(t.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const a=this._cachedMeta,{iScale:s,vScale:n}=a,i=this.getParsed(t),l=i._custom,o=h5(l)?"["+l.start+", "+l.end+"]":""+n.getLabelForValue(i[n.axis]);return{label:""+s.getLabelForValue(i[s.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const a=this._cachedMeta;this.updateElements(a.data,0,a.data.length,t)}updateElements(t,a,s,n){const i=n==="reset",{index:l,_cachedMeta:{vScale:o}}=this,c=o.getBasePixel(),d=o.isHorizontal(),u=this._getRuler(),{sharedOptions:f,includeOptions:x}=this._getSharedOptions(a,n);for(let m=a;m<a+s;m++){const g=this.getParsed(m),v=i||hr(g[o.axis])?{base:c,head:c}:this._calculateBarValuePixels(m),b=this._calculateBarIndexPixels(m,u),j=(g._stacks||{})[o.axis],S={horizontal:d,base:v.base,enableBorderRadius:!j||h5(g._custom)||l===j._top||l===j._bottom,x:d?v.head:b.center,y:d?b.center:v.head,height:d?b.size:Math.abs(v.size),width:d?Math.abs(v.size):b.size};x&&(S.options=f||this.resolveDataElementOptions(m,t[m].active?"active":n));const k=S.options||t[m].options;xse(S,k,j,l),vse(S,k,u.ratio),this.updateElement(t[m],m,S,n)}}_getStacks(t,a){const{iScale:s}=this._cachedMeta,n=s.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),i=s.options.stacked,l=[],o=this._cachedMeta.controller.getParsed(a),c=o&&o[s.axis],d=u=>{const f=u._parsed.find(m=>m[s.axis]===c),x=f&&f[u.vScale.axis];if(hr(x)||isNaN(x))return!0};for(const u of n)if(!(a!==void 0&&d(u))&&((i===!1||l.indexOf(u.stack)===-1||i===void 0&&u.stack===void 0)&&l.push(u.stack),u.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,a=this.chart.options.indexAxis;return Object.keys(t).filter(s=>t[s].axis===a).shift()}_getAxis(){const t={},a=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)t[Ga(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,a)]=!0;return Object.keys(t)}_getStackIndex(t,a,s){const n=this._getStacks(t,s),i=a!==void 0?n.indexOf(a):-1;return i===-1?n.length-1:i}_getRuler(){const t=this.options,a=this._cachedMeta,s=a.iScale,n=[];let i,l;for(i=0,l=a.data.length;i<l;++i)n.push(s.getPixelForValue(this.getParsed(i)[s.axis],i));const o=t.barThickness;return{min:o||dse(a),pixels:n,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:t.grouped,ratio:o?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:a,_stacked:s,index:n},options:{base:i,minBarLength:l}}=this,o=i||0,c=this.getParsed(t),d=c._custom,u=h5(d);let f=c[a.axis],x=0,m=s?this.applyStack(a,c,s):f,g,v;m!==f&&(x=m-f,m=f),u&&(f=d.barStart,m=d.barEnd-d.barStart,f!==0&&Zd(f)!==Zd(d.barEnd)&&(x=0),x+=f);const b=!hr(i)&&!u?i:x;let j=a.getPixelForValue(b);if(this.chart.getDataVisibility(t)?g=a.getPixelForValue(x+m):g=j,v=g-j,Math.abs(v)<l){v=mse(v,a,o)*l,f===o&&(j-=v/2);const S=a.getPixelForDecimal(0),k=a.getPixelForDecimal(1),N=Math.min(S,k),A=Math.max(S,k);j=Math.max(Math.min(j,A),N),g=j+v,s&&!u&&(c._stacks[a.axis]._visualValues[n]=a.getValueForPixel(g)-a.getValueForPixel(j))}if(j===a.getPixelForValue(o)){const S=Zd(v)*a.getLineWidthForValue(o)/2;j+=S,v-=S}return{size:v,base:j,head:g,center:g+v/2}}_calculateBarIndexPixels(t,a){const s=a.scale,n=this.options,i=n.skipNull,l=Ga(n.maxBarThickness,1/0);let o,c;const d=this._getAxisCount();if(a.grouped){const u=i?this._getStackCount(t):a.stackCount,f=n.barThickness==="flex"?hse(t,a,n,u*d):use(t,a,n,u*d),x=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,m=this._getAxis().indexOf(Ga(x,this.getFirstScaleIdForIndexAxis())),g=this._getStackIndex(this.index,this._cachedMeta.stack,i?t:void 0)+m;o=f.start+f.chunk*g+f.chunk/2,c=Math.min(l,f.chunk*f.ratio)}else o=s.getPixelForValue(this.getParsed(t)[s.axis],t),c=Math.min(l,a.min*a.ratio);return{base:o-c/2,head:o+c/2,center:o,size:c}}draw(){const t=this._cachedMeta,a=t.vScale,s=t.data,n=s.length;let i=0;for(;i<n;++i)this.getParsed(i)[a.axis]!==null&&!s[i].hidden&&s[i].draw(this._ctx)}}class bse extends zf{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,a,s,n){const i=super.parsePrimitiveData(t,a,s,n);for(let l=0;l<i.length;l++)i[l]._custom=this.resolveDataElementOptions(l+s).radius;return i}parseArrayData(t,a,s,n){const i=super.parseArrayData(t,a,s,n);for(let l=0;l<i.length;l++){const o=a[s+l];i[l]._custom=Ga(o[2],this.resolveDataElementOptions(l+s).radius)}return i}parseObjectData(t,a,s,n){const i=super.parseObjectData(t,a,s,n);for(let l=0;l<i.length;l++){const o=a[s+l];i[l]._custom=Ga(o&&o.r&&+o.r,this.resolveDataElementOptions(l+s).radius)}return i}getMaxOverflow(){const t=this._cachedMeta.data;let a=0;for(let s=t.length-1;s>=0;--s)a=Math.max(a,t[s].size(this.resolveDataElementOptions(s))/2);return a>0&&a}getLabelAndValue(t){const a=this._cachedMeta,s=this.chart.data.labels||[],{xScale:n,yScale:i}=a,l=this.getParsed(t),o=n.getLabelForValue(l.x),c=i.getLabelForValue(l.y),d=l._custom;return{label:s[t]||"",value:"("+o+", "+c+(d?", "+d:"")+")"}}update(t){const a=this._cachedMeta.data;this.updateElements(a,0,a.length,t)}updateElements(t,a,s,n){const i=n==="reset",{iScale:l,vScale:o}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(a,n),u=l.axis,f=o.axis;for(let x=a;x<a+s;x++){const m=t[x],g=!i&&this.getParsed(x),v={},b=v[u]=i?l.getPixelForDecimal(.5):l.getPixelForValue(g[u]),j=v[f]=i?o.getBasePixel():o.getPixelForValue(g[f]);v.skip=isNaN(b)||isNaN(j),d&&(v.options=c||this.resolveDataElementOptions(x,m.active?"active":n),i&&(v.options.radius=0)),this.updateElement(m,x,v,n)}}resolveDataElementOptions(t,a){const s=this.getParsed(t);let n=super.resolveDataElementOptions(t,a);n.$shared&&(n=Object.assign({},n,{$shared:!1}));const i=n.radius;return a!=="active"&&(n.radius=0),n.radius+=Ga(s&&s._custom,i),n}}function yse(e,t,a){let s=1,n=1,i=0,l=0;if(t<ms){const o=e,c=o+t,d=Math.cos(o),u=Math.sin(o),f=Math.cos(c),x=Math.sin(c),m=(k,N,A)=>U1(k,o,c,!0)?1:Math.max(N,N*a,A,A*a),g=(k,N,A)=>U1(k,o,c,!0)?-1:Math.min(N,N*a,A,A*a),v=m(0,d,f),b=m(Nn,u,x),j=g(Er,d,f),S=g(Er+Nn,u,x);s=(v-j)/2,n=(b-S)/2,i=-(v+j)/2,l=-(b+S)/2}return{ratioX:s,ratioY:n,offsetX:i,offsetY:l}}class Dj extends zf{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const a=t.data;if(a.labels.length&&a.datasets.length){const{labels:{pointStyle:s,color:n}}=t.legend.options;return a.labels.map((i,l)=>{const c=t.getDatasetMeta(0).controller.getStyle(l);return{text:i,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:n,lineWidth:c.borderWidth,pointStyle:s,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,a,s){s.chart.toggleDataVisibility(a.index),s.chart.update()}}}};constructor(t,a){super(t,a),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,a){const s=this.getDataset().data,n=this._cachedMeta;if(this._parsing===!1)n._parsed=s;else{let i=c=>+s[c];if(vr(s[t])){const{key:c="value"}=this._parsing;i=d=>+Tf(s[d],c)}let l,o;for(l=t,o=t+a;l<o;++l)n._parsed[l]=i(l)}}_getRotation(){return nd(this.options.rotation-90)}_getCircumference(){return nd(this.options.circumference)}_getRotationExtents(){let t=ms,a=-ms;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const n=this.chart.getDatasetMeta(s).controller,i=n._getRotation(),l=n._getCircumference();t=Math.min(t,i),a=Math.max(a,i+l)}return{rotation:t,circumference:a-t}}update(t){const a=this.chart,{chartArea:s}=a,n=this._cachedMeta,i=n.data,l=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,o=Math.max((Math.min(s.width,s.height)-l)/2,0),c=Math.min(Dae(this.options.cutout,o),1),d=this._getRingWeight(this.index),{circumference:u,rotation:f}=this._getRotationExtents(),{ratioX:x,ratioY:m,offsetX:g,offsetY:v}=yse(f,u,c),b=(s.width-l)/x,j=(s.height-l)/m,S=Math.max(Math.min(b,j)/2,0),k=U$(this.options.radius,S),N=Math.max(k*c,0),A=(k-N)/this._getVisibleDatasetWeightTotal();this.offsetX=g*k,this.offsetY=v*k,n.total=this.calculateTotal(),this.outerRadius=k-A*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-A*d,0),this.updateElements(i,0,i.length,t)}_circumference(t,a){const s=this.options,n=this._cachedMeta,i=this._getCircumference();return a&&s.animation.animateRotate||!this.chart.getDataVisibility(t)||n._parsed[t]===null||n.data[t].hidden?0:this.calculateCircumference(n._parsed[t]*i/ms)}updateElements(t,a,s,n){const i=n==="reset",l=this.chart,o=l.chartArea,d=l.options.animation,u=(o.left+o.right)/2,f=(o.top+o.bottom)/2,x=i&&d.animateScale,m=x?0:this.innerRadius,g=x?0:this.outerRadius,{sharedOptions:v,includeOptions:b}=this._getSharedOptions(a,n);let j=this._getRotation(),S;for(S=0;S<a;++S)j+=this._circumference(S,i);for(S=a;S<a+s;++S){const k=this._circumference(S,i),N=t[S],A={x:u+this.offsetX,y:f+this.offsetY,startAngle:j,endAngle:j+k,circumference:k,outerRadius:g,innerRadius:m};b&&(A.options=v||this.resolveDataElementOptions(S,N.active?"active":n)),j+=k,this.updateElement(N,S,A,n)}}calculateTotal(){const t=this._cachedMeta,a=t.data;let s=0,n;for(n=0;n<a.length;n++){const i=t._parsed[n];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(n)&&!a[n].hidden&&(s+=Math.abs(i))}return s}calculateCircumference(t){const a=this._cachedMeta.total;return a>0&&!isNaN(t)?ms*(Math.abs(t)/a):0}getLabelAndValue(t){const a=this._cachedMeta,s=this.chart,n=s.data.labels||[],i=Lv(a._parsed[t],s.options.locale);return{label:n[t]||"",value:i}}getMaxBorderWidth(t){let a=0;const s=this.chart;let n,i,l,o,c;if(!t){for(n=0,i=s.data.datasets.length;n<i;++n)if(s.isDatasetVisible(n)){l=s.getDatasetMeta(n),t=l.data,o=l.controller;break}}if(!t)return 0;for(n=0,i=t.length;n<i;++n)c=o.resolveDataElementOptions(n),c.borderAlign!=="inner"&&(a=Math.max(a,c.borderWidth||0,c.hoverBorderWidth||0));return a}getMaxOffset(t){let a=0;for(let s=0,n=t.length;s<n;++s){const i=this.resolveDataElementOptions(s);a=Math.max(a,i.offset||0,i.hoverOffset||0)}return a}_getRingWeightOffset(t){let a=0;for(let s=0;s<t;++s)this.chart.isDatasetVisible(s)&&(a+=this._getRingWeight(s));return a}_getRingWeight(t){return Math.max(Ga(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class xU extends zf{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const a=this._cachedMeta,{dataset:s,data:n=[],_dataset:i}=a,l=this.chart._animationsDisabled;let{start:o,count:c}=Y$(a,n,l);this._drawStart=o,this._drawCount=c,X$(a)&&(o=0,c=n.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!i._decimated,s.points=n;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(s,void 0,{animated:!l,options:d},t),this.updateElements(n,o,c,t)}updateElements(t,a,s,n){const i=n==="reset",{iScale:l,vScale:o,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:f}=this._getSharedOptions(a,n),x=l.axis,m=o.axis,{spanGaps:g,segment:v}=this.options,b=ex(g)?g:Number.POSITIVE_INFINITY,j=this.chart._animationsDisabled||i||n==="none",S=a+s,k=t.length;let N=a>0&&this.getParsed(a-1);for(let A=0;A<k;++A){const _=t[A],D=j?_:{};if(A<a||A>=S){D.skip=!0;continue}const P=this.getParsed(A),I=hr(P[m]),B=D[x]=l.getPixelForValue(P[x],A),O=D[m]=i||I?o.getBasePixel():o.getPixelForValue(c?this.applyStack(o,P,c):P[m],A);D.skip=isNaN(B)||isNaN(O)||I,D.stop=A>0&&Math.abs(P[x]-N[x])>b,v&&(D.parsed=P,D.raw=d.data[A]),f&&(D.options=u||this.resolveDataElementOptions(A,_.active?"active":n)),j||this.updateElement(_,A,D,n),N=P}}getMaxOverflow(){const t=this._cachedMeta,a=t.dataset,s=a.options&&a.options.borderWidth||0,n=t.data||[];if(!n.length)return s;const i=n[0].size(this.resolveDataElementOptions(0)),l=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,i,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class gU extends zf{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const a=t.data;if(a.labels.length&&a.datasets.length){const{labels:{pointStyle:s,color:n}}=t.legend.options;return a.labels.map((i,l)=>{const c=t.getDatasetMeta(0).controller.getStyle(l);return{text:i,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:n,lineWidth:c.borderWidth,pointStyle:s,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,a,s){s.chart.toggleDataVisibility(a.index),s.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,a){super(t,a),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const a=this._cachedMeta,s=this.chart,n=s.data.labels||[],i=Lv(a._parsed[t].r,s.options.locale);return{label:n[t]||"",value:i}}parseObjectData(t,a,s,n){return sU.bind(this)(t,a,s,n)}update(t){const a=this._cachedMeta.data;this._updateRadius(),this.updateElements(a,0,a.length,t)}getMinMax(){const t=this._cachedMeta,a={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((s,n)=>{const i=this.getParsed(n).r;!isNaN(i)&&this.chart.getDataVisibility(n)&&(i<a.min&&(a.min=i),i>a.max&&(a.max=i))}),a}_updateRadius(){const t=this.chart,a=t.chartArea,s=t.options,n=Math.min(a.right-a.left,a.bottom-a.top),i=Math.max(n/2,0),l=Math.max(s.cutoutPercentage?i/100*s.cutoutPercentage:1,0),o=(i-l)/t.getVisibleDatasetCount();this.outerRadius=i-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(t,a,s,n){const i=n==="reset",l=this.chart,c=l.options.animation,d=this._cachedMeta.rScale,u=d.xCenter,f=d.yCenter,x=d.getIndexAngle(0)-.5*Er;let m=x,g;const v=360/this.countVisibleElements();for(g=0;g<a;++g)m+=this._computeAngle(g,n,v);for(g=a;g<a+s;g++){const b=t[g];let j=m,S=m+this._computeAngle(g,n,v),k=l.getDataVisibility(g)?d.getDistanceFromCenterForValue(this.getParsed(g).r):0;m=S,i&&(c.animateScale&&(k=0),c.animateRotate&&(j=S=x));const N={x:u,y:f,innerRadius:0,outerRadius:k,startAngle:j,endAngle:S,options:this.resolveDataElementOptions(g,b.active?"active":n)};this.updateElement(b,g,N,n)}}countVisibleElements(){const t=this._cachedMeta;let a=0;return t.data.forEach((s,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&a++}),a}_computeAngle(t,a,s){return this.chart.getDataVisibility(t)?nd(this.resolveDataElementOptions(t,a).angle||s):0}}class vU extends Dj{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class wse extends zf{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const a=this._cachedMeta.vScale,s=this.getParsed(t);return{label:a.getLabels()[t],value:""+a.getLabelForValue(s[a.axis])}}parseObjectData(t,a,s,n){return sU.bind(this)(t,a,s,n)}update(t){const a=this._cachedMeta,s=a.dataset,n=a.data||[],i=a.iScale.getLabels();if(s.points=n,t!=="resize"){const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0);const o={_loop:!0,_fullLoop:i.length===n.length,options:l};this.updateElement(s,void 0,o,t)}this.updateElements(n,0,n.length,t)}updateElements(t,a,s,n){const i=this._cachedMeta.rScale,l=n==="reset";for(let o=a;o<a+s;o++){const c=t[o],d=this.resolveDataElementOptions(o,c.active?"active":n),u=i.getPointPositionForValue(o,this.getParsed(o).r),f=l?i.xCenter:u.x,x=l?i.yCenter:u.y,m={x:f,y:x,angle:u.angle,skip:isNaN(f)||isNaN(x),options:d};this.updateElement(c,o,m,n)}}}class jse extends zf{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const a=this._cachedMeta,s=this.chart.data.labels||[],{xScale:n,yScale:i}=a,l=this.getParsed(t),o=n.getLabelForValue(l.x),c=i.getLabelForValue(l.y);return{label:s[t]||"",value:"("+o+", "+c+")"}}update(t){const a=this._cachedMeta,{data:s=[]}=a,n=this.chart._animationsDisabled;let{start:i,count:l}=Y$(a,s,n);if(this._drawStart=i,this._drawCount=l,X$(a)&&(i=0,l=s.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:o,_dataset:c}=a;o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!c._decimated,o.points=s;const d=this.resolveDatasetElementOptions(t);d.segment=this.options.segment,this.updateElement(o,void 0,{animated:!n,options:d},t)}else this.datasetElementType&&(delete a.dataset,this.datasetElementType=!1);this.updateElements(s,i,l,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,a,s,n){const i=n==="reset",{iScale:l,vScale:o,_stacked:c,_dataset:d}=this._cachedMeta,u=this.resolveDataElementOptions(a,n),f=this.getSharedOptions(u),x=this.includeOptions(n,f),m=l.axis,g=o.axis,{spanGaps:v,segment:b}=this.options,j=ex(v)?v:Number.POSITIVE_INFINITY,S=this.chart._animationsDisabled||i||n==="none";let k=a>0&&this.getParsed(a-1);for(let N=a;N<a+s;++N){const A=t[N],_=this.getParsed(N),D=S?A:{},P=hr(_[g]),I=D[m]=l.getPixelForValue(_[m],N),B=D[g]=i||P?o.getBasePixel():o.getPixelForValue(c?this.applyStack(o,_,c):_[g],N);D.skip=isNaN(I)||isNaN(B)||P,D.stop=N>0&&Math.abs(_[m]-k[m])>j,b&&(D.parsed=_,D.raw=d.data[N]),x&&(D.options=f||this.resolveDataElementOptions(N,A.active?"active":n)),S||this.updateElement(A,N,D,n),k=_}this.updateSharedOptions(f,n,u)}getMaxOverflow(){const t=this._cachedMeta,a=t.data||[];if(!this.options.showLine){let o=0;for(let c=a.length-1;c>=0;--c)o=Math.max(o,a[c].size(this.resolveDataElementOptions(c))/2);return o>0&&o}const s=t.dataset,n=s.options&&s.options.borderWidth||0;if(!a.length)return n;const i=a[0].size(this.resolveDataElementOptions(0)),l=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(n,i,l)/2}}var Nse=Object.freeze({__proto__:null,BarController:pU,BubbleController:bse,DoughnutController:Dj,LineController:xU,PieController:vU,PolarAreaController:gU,RadarController:wse,ScatterController:jse});function S0(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class oA{static override(t){Object.assign(oA.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return S0()}parse(){return S0()}format(){return S0()}add(){return S0()}diff(){return S0()}startOf(){return S0()}endOf(){return S0()}}var Sse={_date:oA};function kse(e,t,a,s){const{controller:n,data:i,_sorted:l}=e,o=n._cachedMeta.iScale,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(o&&t===o.axis&&t!=="r"&&l&&i.length){const d=o._reversePixels?Vae:qu;if(s){if(n._sharedOptions){const u=i[0],f=typeof u.getRange=="function"&&u.getRange(t);if(f){const x=d(i,t,a-f),m=d(i,t,a+f);return{lo:x.lo,hi:m.hi}}}}else{const u=d(i,t,a);if(c){const{vScale:f}=n._cachedMeta,{_parsed:x}=e,m=x.slice(0,u.lo+1).reverse().findIndex(v=>!hr(v[f.axis]));u.lo-=Math.max(0,m);const g=x.slice(u.hi).findIndex(v=>!hr(v[f.axis]));u.hi+=Math.max(0,g)}return u}}return{lo:0,hi:i.length-1}}function Mj(e,t,a,s,n){const i=e.getSortedVisibleDatasetMetas(),l=a[t];for(let o=0,c=i.length;o<c;++o){const{index:d,data:u}=i[o],{lo:f,hi:x}=kse(i[o],t,l,n);for(let m=f;m<=x;++m){const g=u[m];g.skip||s(g,d,m)}}}function Cse(e){const t=e.indexOf("x")!==-1,a=e.indexOf("y")!==-1;return function(s,n){const i=t?Math.abs(s.x-n.x):0,l=a?Math.abs(s.y-n.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(l,2))}}function f5(e,t,a,s,n){const i=[];return!n&&!e.isPointInArea(t)||Mj(e,a,t,function(o,c,d){!n&&!Gu(o,e.chartArea,0)||o.inRange(t.x,t.y,s)&&i.push({element:o,datasetIndex:c,index:d})},!0),i}function Ase(e,t,a,s){let n=[];function i(l,o,c){const{startAngle:d,endAngle:u}=l.getProps(["startAngle","endAngle"],s),{angle:f}=V$(l,{x:t.x,y:t.y});U1(f,d,u)&&n.push({element:l,datasetIndex:o,index:c})}return Mj(e,a,t,i),n}function _se(e,t,a,s,n,i){let l=[];const o=Cse(a);let c=Number.POSITIVE_INFINITY;function d(u,f,x){const m=u.inRange(t.x,t.y,n);if(s&&!m)return;const g=u.getCenterPoint(n);if(!(!!i||e.isPointInArea(g))&&!m)return;const b=o(t,g);b<c?(l=[{element:u,datasetIndex:f,index:x}],c=b):b===c&&l.push({element:u,datasetIndex:f,index:x})}return Mj(e,a,t,d),l}function m5(e,t,a,s,n,i){return!i&&!e.isPointInArea(t)?[]:a==="r"&&!s?Ase(e,t,a,n):_se(e,t,a,s,n,i)}function wD(e,t,a,s,n){const i=[],l=a==="x"?"inXRange":"inYRange";let o=!1;return Mj(e,a,t,(c,d,u)=>{c[l]&&c[l](t[a],n)&&(i.push({element:c,datasetIndex:d,index:u}),o=o||c.inRange(t.x,t.y,n))}),s&&!o?[]:i}var Tse={modes:{index(e,t,a,s){const n=_0(t,e),i=a.axis||"x",l=a.includeInvisible||!1,o=a.intersect?f5(e,n,i,s,l):m5(e,n,i,!1,s,l),c=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach(d=>{const u=o[0].index,f=d.data[u];f&&!f.skip&&c.push({element:f,datasetIndex:d.index,index:u})}),c):[]},dataset(e,t,a,s){const n=_0(t,e),i=a.axis||"xy",l=a.includeInvisible||!1;let o=a.intersect?f5(e,n,i,s,l):m5(e,n,i,!1,s,l);if(o.length>0){const c=o[0].datasetIndex,d=e.getDatasetMeta(c).data;o=[];for(let u=0;u<d.length;++u)o.push({element:d[u],datasetIndex:c,index:u})}return o},point(e,t,a,s){const n=_0(t,e),i=a.axis||"xy",l=a.includeInvisible||!1;return f5(e,n,i,s,l)},nearest(e,t,a,s){const n=_0(t,e),i=a.axis||"xy",l=a.includeInvisible||!1;return m5(e,n,i,a.intersect,s,l)},x(e,t,a,s){const n=_0(t,e);return wD(e,n,"x",a.intersect,s)},y(e,t,a,s){const n=_0(t,e);return wD(e,n,"y",a.intersect,s)}}};const bU=["left","top","right","bottom"];function Eg(e,t){return e.filter(a=>a.pos===t)}function jD(e,t){return e.filter(a=>bU.indexOf(a.pos)===-1&&a.box.axis===t)}function Dg(e,t){return e.sort((a,s)=>{const n=t?s:a,i=t?a:s;return n.weight===i.weight?n.index-i.index:n.weight-i.weight})}function Ese(e){const t=[];let a,s,n,i,l,o;for(a=0,s=(e||[]).length;a<s;++a)n=e[a],{position:i,options:{stack:l,stackWeight:o=1}}=n,t.push({index:a,box:n,pos:i,horizontal:n.isHorizontal(),weight:n.weight,stack:l&&i+l,stackWeight:o});return t}function Dse(e){const t={};for(const a of e){const{stack:s,pos:n,stackWeight:i}=a;if(!s||!bU.includes(n))continue;const l=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=i}return t}function Mse(e,t){const a=Dse(e),{vBoxMaxWidth:s,hBoxMaxHeight:n}=t;let i,l,o;for(i=0,l=e.length;i<l;++i){o=e[i];const{fullSize:c}=o.box,d=a[o.stack],u=d&&o.stackWeight/d.weight;o.horizontal?(o.width=u?u*s:c&&t.availableWidth,o.height=n):(o.width=s,o.height=u?u*n:c&&t.availableHeight)}return a}function Pse(e){const t=Ese(e),a=Dg(t.filter(d=>d.box.fullSize),!0),s=Dg(Eg(t,"left"),!0),n=Dg(Eg(t,"right")),i=Dg(Eg(t,"top"),!0),l=Dg(Eg(t,"bottom")),o=jD(t,"x"),c=jD(t,"y");return{fullSize:a,leftAndTop:s.concat(i),rightAndBottom:n.concat(c).concat(l).concat(o),chartArea:Eg(t,"chartArea"),vertical:s.concat(n).concat(c),horizontal:i.concat(l).concat(o)}}function ND(e,t,a,s){return Math.max(e[a],t[a])+Math.max(e[s],t[s])}function yU(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Lse(e,t,a,s){const{pos:n,box:i}=a,l=e.maxPadding;if(!vr(n)){a.size&&(e[n]-=a.size);const f=s[a.stack]||{size:0,count:1};f.size=Math.max(f.size,a.horizontal?i.height:i.width),a.size=f.size/f.count,e[n]+=a.size}i.getPadding&&yU(l,i.getPadding());const o=Math.max(0,t.outerWidth-ND(l,e,"left","right")),c=Math.max(0,t.outerHeight-ND(l,e,"top","bottom")),d=o!==e.w,u=c!==e.h;return e.w=o,e.h=c,a.horizontal?{same:d,other:u}:{same:u,other:d}}function Ose(e){const t=e.maxPadding;function a(s){const n=Math.max(t[s]-e[s],0);return e[s]+=n,n}e.y+=a("top"),e.x+=a("left"),a("right"),a("bottom")}function Rse(e,t){const a=t.maxPadding;function s(n){const i={left:0,top:0,right:0,bottom:0};return n.forEach(l=>{i[l]=Math.max(t[l],a[l])}),i}return s(e?["left","right"]:["top","bottom"])}function t1(e,t,a,s){const n=[];let i,l,o,c,d,u;for(i=0,l=e.length,d=0;i<l;++i){o=e[i],c=o.box,c.update(o.width||t.w,o.height||t.h,Rse(o.horizontal,t));const{same:f,other:x}=Lse(t,a,o,s);d|=f&&n.length,u=u||x,c.fullSize||n.push(o)}return d&&t1(n,t,a,s)||u}function ky(e,t,a,s,n){e.top=a,e.left=t,e.right=t+s,e.bottom=a+n,e.width=s,e.height=n}function SD(e,t,a,s){const n=a.padding;let{x:i,y:l}=t;for(const o of e){const c=o.box,d=s[o.stack]||{placed:0,weight:1},u=o.stackWeight/d.weight||1;if(o.horizontal){const f=t.w*u,x=d.size||c.height;$1(d.start)&&(l=d.start),c.fullSize?ky(c,n.left,l,a.outerWidth-n.right-n.left,x):ky(c,t.left+d.placed,l,f,x),d.start=l,d.placed+=f,l=c.bottom}else{const f=t.h*u,x=d.size||c.width;$1(d.start)&&(i=d.start),c.fullSize?ky(c,i,n.top,x,a.outerHeight-n.bottom-n.top):ky(c,i,t.top+d.placed,x,f),d.start=i,d.placed+=f,i=c.right}}t.x=i,t.y=l}var dl={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(a){t.draw(a)}}]},e.boxes.push(t)},removeBox(e,t){const a=e.boxes?e.boxes.indexOf(t):-1;a!==-1&&e.boxes.splice(a,1)},configure(e,t,a){t.fullSize=a.fullSize,t.position=a.position,t.weight=a.weight},update(e,t,a,s){if(!e)return;const n=fl(e.options.layout.padding),i=Math.max(t-n.width,0),l=Math.max(a-n.height,0),o=Pse(e.boxes),c=o.vertical,d=o.horizontal;zr(e.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const u=c.reduce((v,b)=>b.box.options&&b.box.options.display===!1?v:v+1,0)||1,f=Object.freeze({outerWidth:t,outerHeight:a,padding:n,availableWidth:i,availableHeight:l,vBoxMaxWidth:i/2/u,hBoxMaxHeight:l/2}),x=Object.assign({},n);yU(x,fl(s));const m=Object.assign({maxPadding:x,w:i,h:l,x:n.left,y:n.top},n),g=Mse(c.concat(d),f);t1(o.fullSize,m,f,g),t1(c,m,f,g),t1(d,m,f,g)&&t1(c,m,f,g),Ose(m),SD(o.leftAndTop,m,f,g),m.x+=m.w,m.y+=m.h,SD(o.rightAndBottom,m,f,g),e.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},zr(o.chartArea,v=>{const b=v.box;Object.assign(b,e.chartArea),b.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class wU{acquireContext(t,a){}releaseContext(t){return!1}addEventListener(t,a,s){}removeEventListener(t,a,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,a,s,n){return a=Math.max(0,a||t.width),s=s||t.height,{width:a,height:Math.max(0,n?Math.floor(a/n):s)}}isAttached(t){return!0}updateConfig(t){}}class Fse extends wU{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const _2="$chartjs",Ise={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},kD=e=>e===null||e==="";function Bse(e,t){const a=e.style,s=e.getAttribute("height"),n=e.getAttribute("width");if(e[_2]={initial:{height:s,width:n,style:{display:a.display,height:a.height,width:a.width}}},a.display=a.display||"block",a.boxSizing=a.boxSizing||"border-box",kD(n)){const i=oD(e,"width");i!==void 0&&(e.width=i)}if(kD(s))if(e.style.height==="")e.height=e.width/(t||2);else{const i=oD(e,"height");i!==void 0&&(e.height=i)}return e}const jU=Fre?{passive:!0}:!1;function $se(e,t,a){e&&e.addEventListener(t,a,jU)}function Use(e,t,a){e&&e.canvas&&e.canvas.removeEventListener(t,a,jU)}function zse(e,t){const a=Ise[e.type]||e.type,{x:s,y:n}=_0(e,t);return{type:a,chart:t,native:e,x:s!==void 0?s:null,y:n!==void 0?n:null}}function K2(e,t){for(const a of e)if(a===t||a.contains(t))return!0}function Hse(e,t,a){const s=e.canvas,n=new MutationObserver(i=>{let l=!1;for(const o of i)l=l||K2(o.addedNodes,s),l=l&&!K2(o.removedNodes,s);l&&a()});return n.observe(document,{childList:!0,subtree:!0}),n}function Vse(e,t,a){const s=e.canvas,n=new MutationObserver(i=>{let l=!1;for(const o of i)l=l||K2(o.removedNodes,s),l=l&&!K2(o.addedNodes,s);l&&a()});return n.observe(document,{childList:!0,subtree:!0}),n}const H1=new Map;let CD=0;function NU(){const e=window.devicePixelRatio;e!==CD&&(CD=e,H1.forEach((t,a)=>{a.currentDevicePixelRatio!==e&&t()}))}function Wse(e,t){H1.size||window.addEventListener("resize",NU),H1.set(e,t)}function qse(e){H1.delete(e),H1.size||window.removeEventListener("resize",NU)}function Gse(e,t,a){const s=e.canvas,n=s&&lA(s);if(!n)return;const i=K$((o,c)=>{const d=n.clientWidth;a(o,c),d<n.clientWidth&&a()},window),l=new ResizeObserver(o=>{const c=o[0],d=c.contentRect.width,u=c.contentRect.height;d===0&&u===0||i(d,u)});return l.observe(n),Wse(e,i),l}function p5(e,t,a){a&&a.disconnect(),t==="resize"&&qse(e)}function Kse(e,t,a){const s=e.canvas,n=K$(i=>{e.ctx!==null&&a(zse(i,e))},e);return $se(s,t,n),n}class Yse extends wU{acquireContext(t,a){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(Bse(t,a),s):null}releaseContext(t){const a=t.canvas;if(!a[_2])return!1;const s=a[_2].initial;["height","width"].forEach(i=>{const l=s[i];hr(l)?a.removeAttribute(i):a.setAttribute(i,l)});const n=s.style||{};return Object.keys(n).forEach(i=>{a.style[i]=n[i]}),a.width=a.width,delete a[_2],!0}addEventListener(t,a,s){this.removeEventListener(t,a);const n=t.$proxies||(t.$proxies={}),l={attach:Hse,detach:Vse,resize:Gse}[a]||Kse;n[a]=l(t,a,s)}removeEventListener(t,a){const s=t.$proxies||(t.$proxies={}),n=s[a];if(!n)return;({attach:p5,detach:p5,resize:p5}[a]||Use)(t,a,n),s[a]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,a,s,n){return Rre(t,a,s,n)}isAttached(t){const a=t&&lA(t);return!!(a&&a.isConnected)}}function Xse(e){return!iA()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?Fse:Yse}let bh=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:a,y:s}=this.getProps(["x","y"],t);return{x:a,y:s}}hasValue(){return ex(this.x)&&ex(this.y)}getProps(t,a){const s=this.$animations;if(!a||!s)return this;const n={};return t.forEach(i=>{n[i]=s[i]&&s[i].active()?s[i]._to:this[i]}),n}};function Jse(e,t){const a=e.options.ticks,s=Qse(e),n=Math.min(a.maxTicksLimit||s,s),i=a.major.enabled?ene(t):[],l=i.length,o=i[0],c=i[l-1],d=[];if(l>n)return tne(t,d,i,l/n),d;const u=Zse(i,t,n);if(l>0){let f,x;const m=l>1?Math.round((c-o)/(l-1)):null;for(Cy(t,d,u,hr(m)?0:o-m,o),f=0,x=l-1;f<x;f++)Cy(t,d,u,i[f],i[f+1]);return Cy(t,d,u,c,hr(m)?t.length:c+m),d}return Cy(t,d,u),d}function Qse(e){const t=e.options.offset,a=e._tickSize(),s=e._length/a+(t?0:1),n=e._maxLength/a;return Math.floor(Math.min(s,n))}function Zse(e,t,a){const s=ane(e),n=t.length/a;if(!s)return Math.max(n,1);const i=Bae(s);for(let l=0,o=i.length-1;l<o;l++){const c=i[l];if(c>n)return c}return Math.max(n,1)}function ene(e){const t=[];let a,s;for(a=0,s=e.length;a<s;a++)e[a].major&&t.push(a);return t}function tne(e,t,a,s){let n=0,i=a[0],l;for(s=Math.ceil(s),l=0;l<e.length;l++)l===i&&(t.push(e[l]),n++,i=a[n*s])}function Cy(e,t,a,s,n){const i=Ga(s,0),l=Math.min(Ga(n,e.length),e.length);let o=0,c,d,u;for(a=Math.ceil(a),n&&(c=n-s,a=c/Math.floor(c/a)),u=i;u<0;)o++,u=Math.round(i+o*a);for(d=Math.max(i,0);d<l;d++)d===u&&(t.push(e[d]),o++,u=Math.round(i+o*a))}function ane(e){const t=e.length;let a,s;if(t<2)return!1;for(s=e[0],a=1;a<t;++a)if(e[a]-e[a-1]!==s)return!1;return s}const rne=e=>e==="left"?"right":e==="right"?"left":e,AD=(e,t,a)=>t==="top"||t==="left"?e[t]+a:e[t]-a,_D=(e,t)=>Math.min(t||e,e);function TD(e,t){const a=[],s=e.length/t,n=e.length;let i=0;for(;i<n;i+=s)a.push(e[Math.floor(i)]);return a}function sne(e,t,a){const s=e.ticks.length,n=Math.min(t,s-1),i=e._startPixel,l=e._endPixel,o=1e-6;let c=e.getPixelForTick(n),d;if(!(a&&(s===1?d=Math.max(c-i,l-c):t===0?d=(e.getPixelForTick(1)-c)/2:d=(c-e.getPixelForTick(n-1))/2,c+=n<t?d:-d,c<i-o||c>l+o)))return c}function nne(e,t){zr(e,a=>{const s=a.gc,n=s.length/2;let i;if(n>t){for(i=0;i<n;++i)delete a.data[s[i]];s.splice(0,n)}})}function Mg(e){return e.drawTicks?e.tickLength:0}function ED(e,t){if(!e.display)return 0;const a=Qn(e.font,t),s=fl(e.padding);return(Ts(e.text)?e.text.length:1)*a.lineHeight+s.height}function ine(e,t){return Uf(e,{scale:t,type:"scale"})}function lne(e,t,a){return Uf(e,{tick:a,index:t,type:"tick"})}function one(e,t,a){let s=eA(e);return(a&&t!=="right"||!a&&t==="right")&&(s=rne(s)),s}function cne(e,t,a,s){const{top:n,left:i,bottom:l,right:o,chart:c}=e,{chartArea:d,scales:u}=c;let f=0,x,m,g;const v=l-n,b=o-i;if(e.isHorizontal()){if(m=tl(s,i,o),vr(a)){const j=Object.keys(a)[0],S=a[j];g=u[j].getPixelForValue(S)+v-t}else a==="center"?g=(d.bottom+d.top)/2+v-t:g=AD(e,a,t);x=o-i}else{if(vr(a)){const j=Object.keys(a)[0],S=a[j];m=u[j].getPixelForValue(S)-b+t}else a==="center"?m=(d.left+d.right)/2-b+t:m=AD(e,a,t);g=tl(s,l,n),f=a==="left"?-Nn:Nn}return{titleX:m,titleY:g,maxWidth:x,rotation:f}}class Tm extends bh{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,a){return t}getUserBounds(){let{_userMin:t,_userMax:a,_suggestedMin:s,_suggestedMax:n}=this;return t=ko(t,Number.POSITIVE_INFINITY),a=ko(a,Number.NEGATIVE_INFINITY),s=ko(s,Number.POSITIVE_INFINITY),n=ko(n,Number.NEGATIVE_INFINITY),{min:ko(t,s),max:ko(a,n),minDefined:Zs(t),maxDefined:Zs(a)}}getMinMax(t){let{min:a,max:s,minDefined:n,maxDefined:i}=this.getUserBounds(),l;if(n&&i)return{min:a,max:s};const o=this.getMatchingVisibleMetas();for(let c=0,d=o.length;c<d;++c)l=o[c].controller.getMinMax(this,t),n||(a=Math.min(a,l.min)),i||(s=Math.max(s,l.max));return a=i&&a>s?s:a,s=n&&a>s?a:s,{min:ko(a,ko(s,a)),max:ko(s,ko(a,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ls(this.options.beforeUpdate,[this])}update(t,a,s){const{beginAtZero:n,grace:i,ticks:l}=this.options,o=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=a,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=mre(this,i,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=o<this.ticks.length;this._convertTicksToLabels(c?TD(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=Jse(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,a,s;this.isHorizontal()?(a=this.left,s=this.right):(a=this.top,s=this.bottom,t=!t),this._startPixel=a,this._endPixel=s,this._reversePixels=t,this._length=s-a,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ls(this.options.afterUpdate,[this])}beforeSetDimensions(){ls(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ls(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ls(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ls(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const a=this.options.ticks;let s,n,i;for(s=0,n=t.length;s<n;s++)i=t[s],i.label=ls(a.callback,[i.value,s,t],this)}afterTickToLabelConversion(){ls(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ls(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,a=t.ticks,s=_D(this.ticks.length,t.ticks.maxTicksLimit),n=a.minRotation||0,i=a.maxRotation;let l=n,o,c,d;if(!this._isVisible()||!a.display||n>=i||s<=1||!this.isHorizontal()){this.labelRotation=n;return}const u=this._getLabelSizes(),f=u.widest.width,x=u.highest.height,m=ji(this.chart.width-f,0,this.maxWidth);o=t.offset?this.maxWidth/s:m/(s-1),f+6>o&&(o=m/(s-(t.offset?.5:1)),c=this.maxHeight-Mg(t.grid)-a.padding-ED(t.title,this.chart.options.font),d=Math.sqrt(f*f+x*x),l=Q6(Math.min(Math.asin(ji((u.highest.height+6)/o,-1,1)),Math.asin(ji(c/d,-1,1))-Math.asin(ji(x/d,-1,1)))),l=Math.max(n,Math.min(i,l))),this.labelRotation=l}afterCalculateLabelRotation(){ls(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ls(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:a,options:{ticks:s,title:n,grid:i}}=this,l=this._isVisible(),o=this.isHorizontal();if(l){const c=ED(n,a.options.font);if(o?(t.width=this.maxWidth,t.height=Mg(i)+c):(t.height=this.maxHeight,t.width=Mg(i)+c),s.display&&this.ticks.length){const{first:d,last:u,widest:f,highest:x}=this._getLabelSizes(),m=s.padding*2,g=nd(this.labelRotation),v=Math.cos(g),b=Math.sin(g);if(o){const j=s.mirror?0:b*f.width+v*x.height;t.height=Math.min(this.maxHeight,t.height+j+m)}else{const j=s.mirror?0:v*f.width+b*x.height;t.width=Math.min(this.maxWidth,t.width+j+m)}this._calculatePadding(d,u,b,v)}}this._handleMargins(),o?(this.width=this._length=a.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=a.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,a,s,n){const{ticks:{align:i,padding:l},position:o}=this.options,c=this.labelRotation!==0,d=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let x=0,m=0;c?d?(x=n*t.width,m=s*a.height):(x=s*t.height,m=n*a.width):i==="start"?m=a.width:i==="end"?x=t.width:i!=="inner"&&(x=t.width/2,m=a.width/2),this.paddingLeft=Math.max((x-u+l)*this.width/(this.width-u),0),this.paddingRight=Math.max((m-f+l)*this.width/(this.width-f),0)}else{let u=a.height/2,f=t.height/2;i==="start"?(u=0,f=t.height):i==="end"&&(u=a.height,f=0),this.paddingTop=u+l,this.paddingBottom=f+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ls(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:a}=this.options;return a==="top"||a==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let a,s;for(a=0,s=t.length;a<s;a++)hr(t[a].label)&&(t.splice(a,1),s--,a--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const a=this.options.ticks.sampleSize;let s=this.ticks;a<s.length&&(s=TD(s,a)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,a,s){const{ctx:n,_longestTextCache:i}=this,l=[],o=[],c=Math.floor(a/_D(a,s));let d=0,u=0,f,x,m,g,v,b,j,S,k,N,A;for(f=0;f<a;f+=c){if(g=t[f].label,v=this._resolveTickFontOptions(f),n.font=b=v.string,j=i[b]=i[b]||{data:{},gc:[]},S=v.lineHeight,k=N=0,!hr(g)&&!Ts(g))k=q2(n,j.data,j.gc,k,g),N=S;else if(Ts(g))for(x=0,m=g.length;x<m;++x)A=g[x],!hr(A)&&!Ts(A)&&(k=q2(n,j.data,j.gc,k,A),N+=S);l.push(k),o.push(N),d=Math.max(k,d),u=Math.max(N,u)}nne(i,a);const _=l.indexOf(d),D=o.indexOf(u),P=I=>({width:l[I]||0,height:o[I]||0});return{first:P(0),last:P(a-1),widest:P(_),highest:P(D),widths:l,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,a){return NaN}getValueForPixel(t){}getPixelForTick(t){const a=this.ticks;return t<0||t>a.length-1?null:this.getPixelForValue(a[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const a=this._startPixel+t*this._length;return Hae(this._alignToPixels?N0(this.chart,a,0):a)}getDecimalForPixel(t){const a=(t-this._startPixel)/this._length;return this._reversePixels?1-a:a}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:a}=this;return t<0&&a<0?a:t>0&&a>0?t:0}getContext(t){const a=this.ticks||[];if(t>=0&&t<a.length){const s=a[t];return s.$context||(s.$context=lne(this.getContext(),t,s))}return this.$context||(this.$context=ine(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,a=nd(this.labelRotation),s=Math.abs(Math.cos(a)),n=Math.abs(Math.sin(a)),i=this._getLabelSizes(),l=t.autoSkipPadding||0,o=i?i.widest.width+l:0,c=i?i.highest.height+l:0;return this.isHorizontal()?c*s>o*n?o/s:c/n:c*n<o*s?c/s:o/n}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const a=this.axis,s=this.chart,n=this.options,{grid:i,position:l,border:o}=n,c=i.offset,d=this.isHorizontal(),f=this.ticks.length+(c?1:0),x=Mg(i),m=[],g=o.setContext(this.getContext()),v=g.display?g.width:0,b=v/2,j=function(V){return N0(s,V,v)};let S,k,N,A,_,D,P,I,B,O,U,E;if(l==="top")S=j(this.bottom),D=this.bottom-x,I=S-b,O=j(t.top)+b,E=t.bottom;else if(l==="bottom")S=j(this.top),O=t.top,E=j(t.bottom)-b,D=S+b,I=this.top+x;else if(l==="left")S=j(this.right),_=this.right-x,P=S-b,B=j(t.left)+b,U=t.right;else if(l==="right")S=j(this.left),B=t.left,U=j(t.right)-b,_=S+b,P=this.left+x;else if(a==="x"){if(l==="center")S=j((t.top+t.bottom)/2+.5);else if(vr(l)){const V=Object.keys(l)[0],Z=l[V];S=j(this.chart.scales[V].getPixelForValue(Z))}O=t.top,E=t.bottom,D=S+b,I=D+x}else if(a==="y"){if(l==="center")S=j((t.left+t.right)/2);else if(vr(l)){const V=Object.keys(l)[0],Z=l[V];S=j(this.chart.scales[V].getPixelForValue(Z))}_=S-b,P=_-x,B=t.left,U=t.right}const R=Ga(n.ticks.maxTicksLimit,f),K=Math.max(1,Math.ceil(f/R));for(k=0;k<f;k+=K){const V=this.getContext(k),Z=i.setContext(V),J=o.setContext(V),ee=Z.lineWidth,W=Z.color,le=J.dash||[],M=J.dashOffset,X=Z.tickWidth,z=Z.tickColor,Q=Z.tickBorderDash||[],ne=Z.tickBorderDashOffset;N=sne(this,k,c),N!==void 0&&(A=N0(s,N,ee),d?_=P=B=U=A:D=I=O=E=A,m.push({tx1:_,ty1:D,tx2:P,ty2:I,x1:B,y1:O,x2:U,y2:E,width:ee,color:W,borderDash:le,borderDashOffset:M,tickWidth:X,tickColor:z,tickBorderDash:Q,tickBorderDashOffset:ne}))}return this._ticksLength=f,this._borderValue=S,m}_computeLabelItems(t){const a=this.axis,s=this.options,{position:n,ticks:i}=s,l=this.isHorizontal(),o=this.ticks,{align:c,crossAlign:d,padding:u,mirror:f}=i,x=Mg(s.grid),m=x+u,g=f?-u:m,v=-nd(this.labelRotation),b=[];let j,S,k,N,A,_,D,P,I,B,O,U,E="middle";if(n==="top")_=this.bottom-g,D=this._getXAxisLabelAlignment();else if(n==="bottom")_=this.top+g,D=this._getXAxisLabelAlignment();else if(n==="left"){const K=this._getYAxisLabelAlignment(x);D=K.textAlign,A=K.x}else if(n==="right"){const K=this._getYAxisLabelAlignment(x);D=K.textAlign,A=K.x}else if(a==="x"){if(n==="center")_=(t.top+t.bottom)/2+m;else if(vr(n)){const K=Object.keys(n)[0],V=n[K];_=this.chart.scales[K].getPixelForValue(V)+m}D=this._getXAxisLabelAlignment()}else if(a==="y"){if(n==="center")A=(t.left+t.right)/2-m;else if(vr(n)){const K=Object.keys(n)[0],V=n[K];A=this.chart.scales[K].getPixelForValue(V)}D=this._getYAxisLabelAlignment(x).textAlign}a==="y"&&(c==="start"?E="top":c==="end"&&(E="bottom"));const R=this._getLabelSizes();for(j=0,S=o.length;j<S;++j){k=o[j],N=k.label;const K=i.setContext(this.getContext(j));P=this.getPixelForTick(j)+i.labelOffset,I=this._resolveTickFontOptions(j),B=I.lineHeight,O=Ts(N)?N.length:1;const V=O/2,Z=K.color,J=K.textStrokeColor,ee=K.textStrokeWidth;let W=D;l?(A=P,D==="inner"&&(j===S-1?W=this.options.reverse?"left":"right":j===0?W=this.options.reverse?"right":"left":W="center"),n==="top"?d==="near"||v!==0?U=-O*B+B/2:d==="center"?U=-R.highest.height/2-V*B+B:U=-R.highest.height+B/2:d==="near"||v!==0?U=B/2:d==="center"?U=R.highest.height/2-V*B:U=R.highest.height-O*B,f&&(U*=-1),v!==0&&!K.showLabelBackdrop&&(A+=B/2*Math.sin(v))):(_=P,U=(1-O)*B/2);let le;if(K.showLabelBackdrop){const M=fl(K.backdropPadding),X=R.heights[j],z=R.widths[j];let Q=U-M.top,ne=0-M.left;switch(E){case"middle":Q-=X/2;break;case"bottom":Q-=X;break}switch(D){case"center":ne-=z/2;break;case"right":ne-=z;break;case"inner":j===S-1?ne-=z:j>0&&(ne-=z/2);break}le={left:ne,top:Q,width:z+M.width,height:X+M.height,color:K.backdropColor}}b.push({label:N,font:I,textOffset:U,options:{rotation:v,color:Z,strokeColor:J,strokeWidth:ee,textAlign:W,textBaseline:E,translation:[A,_],backdrop:le}})}return b}_getXAxisLabelAlignment(){const{position:t,ticks:a}=this.options;if(-nd(this.labelRotation))return t==="top"?"left":"right";let n="center";return a.align==="start"?n="left":a.align==="end"?n="right":a.align==="inner"&&(n="inner"),n}_getYAxisLabelAlignment(t){const{position:a,ticks:{crossAlign:s,mirror:n,padding:i}}=this.options,l=this._getLabelSizes(),o=t+i,c=l.widest.width;let d,u;return a==="left"?n?(u=this.right+i,s==="near"?d="left":s==="center"?(d="center",u+=c/2):(d="right",u+=c)):(u=this.right-o,s==="near"?d="right":s==="center"?(d="center",u-=c/2):(d="left",u=this.left)):a==="right"?n?(u=this.left+i,s==="near"?d="right":s==="center"?(d="center",u-=c/2):(d="left",u-=c)):(u=this.left+o,s==="near"?d="left":s==="center"?(d="center",u+=c/2):(d="right",u=this.right)):d="right",{textAlign:d,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,a=this.options.position;if(a==="left"||a==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(a==="top"||a==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:a},left:s,top:n,width:i,height:l}=this;a&&(t.save(),t.fillStyle=a,t.fillRect(s,n,i,l),t.restore())}getLineWidthForValue(t){const a=this.options.grid;if(!this._isVisible()||!a.display)return 0;const n=this.ticks.findIndex(i=>i.value===t);return n>=0?a.setContext(this.getContext(n)).lineWidth:0}drawGrid(t){const a=this.options.grid,s=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,l;const o=(c,d,u)=>{!u.width||!u.color||(s.save(),s.lineWidth=u.width,s.strokeStyle=u.color,s.setLineDash(u.borderDash||[]),s.lineDashOffset=u.borderDashOffset,s.beginPath(),s.moveTo(c.x,c.y),s.lineTo(d.x,d.y),s.stroke(),s.restore())};if(a.display)for(i=0,l=n.length;i<l;++i){const c=n[i];a.drawOnChartArea&&o({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),a.drawTicks&&o({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:a,options:{border:s,grid:n}}=this,i=s.setContext(this.getContext()),l=s.display?i.width:0;if(!l)return;const o=n.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,u,f,x;this.isHorizontal()?(d=N0(t,this.left,l)-l/2,u=N0(t,this.right,o)+o/2,f=x=c):(f=N0(t,this.top,l)-l/2,x=N0(t,this.bottom,o)+o/2,d=u=c),a.save(),a.lineWidth=i.width,a.strokeStyle=i.color,a.beginPath(),a.moveTo(d,f),a.lineTo(u,x),a.stroke(),a.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,n=this._computeLabelArea();n&&_j(s,n);const i=this.getLabelItems(t);for(const l of i){const o=l.options,c=l.font,d=l.label,u=l.textOffset;cm(s,d,0,u,c,o)}n&&Tj(s)}drawTitle(){const{ctx:t,options:{position:a,title:s,reverse:n}}=this;if(!s.display)return;const i=Qn(s.font),l=fl(s.padding),o=s.align;let c=i.lineHeight/2;a==="bottom"||a==="center"||vr(a)?(c+=l.bottom,Ts(s.text)&&(c+=i.lineHeight*(s.text.length-1))):c+=l.top;const{titleX:d,titleY:u,maxWidth:f,rotation:x}=cne(this,c,a,o);cm(t,s.text,0,0,i,{color:s.color,maxWidth:f,rotation:x,textAlign:one(o,a,n),textBaseline:"middle",translation:[d,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,a=t.ticks&&t.ticks.z||0,s=Ga(t.grid&&t.grid.z,-1),n=Ga(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Tm.prototype.draw?[{z:a,draw:i=>{this.draw(i)}}]:[{z:s,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:a,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(t){const a=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",n=[];let i,l;for(i=0,l=a.length;i<l;++i){const o=a[i];o[s]===this.id&&(!t||o.type===t)&&n.push(o)}return n}_resolveTickFontOptions(t){const a=this.options.ticks.setContext(this.getContext(t));return Qn(a.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Ay{constructor(t,a,s){this.type=t,this.scope=a,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const a=Object.getPrototypeOf(t);let s;hne(a)&&(s=this.register(a));const n=this.items,i=t.id,l=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in n||(n[i]=t,dne(t,l,s),this.override&&Es.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const a=this.items,s=t.id,n=this.scope;s in a&&delete a[s],n&&s in Es[n]&&(delete Es[n][s],this.override&&delete om[s])}}function dne(e,t,a){const s=B1(Object.create(null),[a?Es.get(a):{},Es.get(t),e.defaults]);Es.set(t,s),e.defaultRoutes&&une(t,e.defaultRoutes),e.descriptors&&Es.describe(t,e.descriptors)}function une(e,t){Object.keys(t).forEach(a=>{const s=a.split("."),n=s.pop(),i=[e].concat(s).join("."),l=t[a].split("."),o=l.pop(),c=l.join(".");Es.route(i,n,c,o)})}function hne(e){return"id"in e&&"defaults"in e}class fne{constructor(){this.controllers=new Ay(zf,"datasets",!0),this.elements=new Ay(bh,"elements"),this.plugins=new Ay(Object,"plugins"),this.scales=new Ay(Tm,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,a,s){[...a].forEach(n=>{const i=s||this._getRegistryForType(n);s||i.isForType(n)||i===this.plugins&&n.id?this._exec(t,i,n):zr(n,l=>{const o=s||this._getRegistryForType(l);this._exec(t,o,l)})})}_exec(t,a,s){const n=J6(t);ls(s["before"+n],[],s),a[t](s),ls(s["after"+n],[],s)}_getRegistryForType(t){for(let a=0;a<this._typedRegistries.length;a++){const s=this._typedRegistries[a];if(s.isForType(t))return s}return this.plugins}_get(t,a,s){const n=a.get(t);if(n===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return n}}var Kd=new fne;class mne{constructor(){this._init=[]}notify(t,a,s,n){a==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const i=n?this._descriptors(t).filter(n):this._descriptors(t),l=this._notify(i,t,a,s);return a==="afterDestroy"&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,a,s,n){n=n||{};for(const i of t){const l=i.plugin,o=l[s],c=[a,n,i.options];if(ls(o,c,l)===!1&&n.cancelable)return!1}return!0}invalidate(){hr(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const a=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),a}_createDescriptors(t,a){const s=t&&t.config,n=Ga(s.options&&s.options.plugins,{}),i=pne(s);return n===!1&&!a?[]:gne(t,i,n,a)}_notifyStateChanges(t){const a=this._oldCache||[],s=this._cache,n=(i,l)=>i.filter(o=>!l.some(c=>o.plugin.id===c.plugin.id));this._notify(n(a,s),t,"stop"),this._notify(n(s,a),t,"start")}}function pne(e){const t={},a=[],s=Object.keys(Kd.plugins.items);for(let i=0;i<s.length;i++)a.push(Kd.getPlugin(s[i]));const n=e.plugins||[];for(let i=0;i<n.length;i++){const l=n[i];a.indexOf(l)===-1&&(a.push(l),t[l.id]=!0)}return{plugins:a,localIds:t}}function xne(e,t){return!t&&e===!1?null:e===!0?{}:e}function gne(e,{plugins:t,localIds:a},s,n){const i=[],l=e.getContext();for(const o of t){const c=o.id,d=xne(s[c],n);d!==null&&i.push({plugin:o,options:vne(e.config,{plugin:o,local:a[c]},d,l)})}return i}function vne(e,{plugin:t,local:a},s,n){const i=e.pluginScopeKeys(t),l=e.getOptionScopes(s,i);return a&&t.defaults&&l.push(t.defaults),e.createResolver(l,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ek(e,t){const a=Es.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||a.indexAxis||"x"}function bne(e,t){let a=e;return e==="_index_"?a=t:e==="_value_"&&(a=t==="x"?"y":"x"),a}function yne(e,t){return e===t?"_index_":"_value_"}function DD(e){if(e==="x"||e==="y"||e==="r")return e}function wne(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Dk(e,...t){if(DD(e))return e;for(const a of t){const s=a.axis||wne(a.position)||e.length>1&&DD(e[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function MD(e,t,a){if(a[t+"AxisID"]===e)return{axis:t}}function jne(e,t){if(t.data&&t.data.datasets){const a=t.data.datasets.filter(s=>s.xAxisID===e||s.yAxisID===e);if(a.length)return MD(e,"x",a[0])||MD(e,"y",a[0])}return{}}function Nne(e,t){const a=om[e.type]||{scales:{}},s=t.scales||{},n=Ek(e.type,t),i=Object.create(null);return Object.keys(s).forEach(l=>{const o=s[l];if(!vr(o))return console.error(`Invalid scale configuration for scale: ${l}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const c=Dk(l,o,jne(l,e),Es.scales[o.type]),d=yne(c,n),u=a.scales||{};i[l]=c1(Object.create(null),[{axis:c},o,u[c],u[d]])}),e.data.datasets.forEach(l=>{const o=l.type||e.type,c=l.indexAxis||Ek(o,t),u=(om[o]||{}).scales||{};Object.keys(u).forEach(f=>{const x=bne(f,c),m=l[x+"AxisID"]||x;i[m]=i[m]||Object.create(null),c1(i[m],[{axis:x},s[m],u[f]])})}),Object.keys(i).forEach(l=>{const o=i[l];c1(o,[Es.scales[o.type],Es.scale])}),i}function SU(e){const t=e.options||(e.options={});t.plugins=Ga(t.plugins,{}),t.scales=Nne(e,t)}function kU(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function Sne(e){return e=e||{},e.data=kU(e.data),SU(e),e}const PD=new Map,CU=new Set;function _y(e,t){let a=PD.get(e);return a||(a=t(),PD.set(e,a),CU.add(a)),a}const Pg=(e,t,a)=>{const s=Tf(t,a);s!==void 0&&e.add(s)};class kne{constructor(t){this._config=Sne(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=kU(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),SU(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return _y(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,a){return _y(`${t}.transition.${a}`,()=>[[`datasets.${t}.transitions.${a}`,`transitions.${a}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,a){return _y(`${t}-${a}`,()=>[[`datasets.${t}.elements.${a}`,`datasets.${t}`,`elements.${a}`,""]])}pluginScopeKeys(t){const a=t.id,s=this.type;return _y(`${s}-plugin-${a}`,()=>[[`plugins.${a}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,a){const s=this._scopeCache;let n=s.get(t);return(!n||a)&&(n=new Map,s.set(t,n)),n}getOptionScopes(t,a,s){const{options:n,type:i}=this,l=this._cachedScopes(t,s),o=l.get(a);if(o)return o;const c=new Set;a.forEach(u=>{t&&(c.add(t),u.forEach(f=>Pg(c,t,f))),u.forEach(f=>Pg(c,n,f)),u.forEach(f=>Pg(c,om[i]||{},f)),u.forEach(f=>Pg(c,Es,f)),u.forEach(f=>Pg(c,_k,f))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),CU.has(a)&&l.set(a,d),d}chartOptionScopes(){const{options:t,type:a}=this;return[t,om[a]||{},Es.datasets[a]||{},{type:a},Es,_k]}resolveNamedOptions(t,a,s,n=[""]){const i={$shared:!0},{resolver:l,subPrefixes:o}=LD(this._resolverCache,t,n);let c=l;if(Ane(l,a)){i.$shared=!1,s=Ef(s)?s():s;const d=this.createResolver(t,s,o);c=tx(l,s,d)}for(const d of a)i[d]=c[d];return i}createResolver(t,a,s=[""],n){const{resolver:i}=LD(this._resolverCache,t,s);return vr(a)?tx(i,a,void 0,n):i}}function LD(e,t,a){let s=e.get(t);s||(s=new Map,e.set(t,s));const n=a.join();let i=s.get(n);return i||(i={resolver:rA(t,a),subPrefixes:a.filter(o=>!o.toLowerCase().includes("hover"))},s.set(n,i)),i}const Cne=e=>vr(e)&&Object.getOwnPropertyNames(e).some(t=>Ef(e[t]));function Ane(e,t){const{isScriptable:a,isIndexable:s}=eU(e);for(const n of t){const i=a(n),l=s(n),o=(l||i)&&e[n];if(i&&(Ef(o)||Cne(o))||l&&Ts(o))return!0}return!1}var _ne="4.5.0";const Tne=["top","bottom","left","right","chartArea"];function OD(e,t){return e==="top"||e==="bottom"||Tne.indexOf(e)===-1&&t==="x"}function RD(e,t){return function(a,s){return a[e]===s[e]?a[t]-s[t]:a[e]-s[e]}}function FD(e){const t=e.chart,a=t.options.animation;t.notifyPlugins("afterRender"),ls(a&&a.onComplete,[e],t)}function Ene(e){const t=e.chart,a=t.options.animation;ls(a&&a.onProgress,[e],t)}function AU(e){return iA()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const T2={},ID=e=>{const t=AU(e);return Object.values(T2).filter(a=>a.canvas===t).pop()};function Dne(e,t,a){const s=Object.keys(e);for(const n of s){const i=+n;if(i>=t){const l=e[n];delete e[n],(a>0||i>t)&&(e[i+a]=l)}}}function Mne(e,t,a,s){return!a||e.type==="mouseout"?null:s?t:e}let Sr=class{static defaults=Es;static instances=T2;static overrides=om;static registry=Kd;static version=_ne;static getChart=ID;static register(...t){Kd.add(...t),BD()}static unregister(...t){Kd.remove(...t),BD()}constructor(t,a){const s=this.config=new kne(a),n=AU(t),i=ID(n);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const l=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||Xse(n)),this.platform.updateConfig(s);const o=this.platform.acquireContext(n,l.aspectRatio),c=o&&o.canvas,d=c&&c.height,u=c&&c.width;if(this.id=Eae(),this.ctx=o,this.canvas=c,this.width=u,this.height=d,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new mne,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Gae(f=>this.update(f),l.resizeDelay||0),this._dataChanges=[],T2[this.id]=this,!o||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Iu.listen(this,"complete",FD),Iu.listen(this,"progress",Ene),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:a},width:s,height:n,_aspectRatio:i}=this;return hr(t)?a&&i?i:n?s/n:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Kd}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():lD(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return sD(this.canvas,this.ctx),this}stop(){return Iu.stop(this),this}resize(t,a){Iu.running(this)?this._resizeBeforeDraw={width:t,height:a}:this._resize(t,a)}_resize(t,a){const s=this.options,n=this.canvas,i=s.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(n,t,a,i),o=s.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,lD(this,o,!0)&&(this.notifyPlugins("resize",{size:l}),ls(s.onResize,[this,l],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const a=this.options.scales||{};zr(a,(s,n)=>{s.id=n})}buildOrUpdateScales(){const t=this.options,a=t.scales,s=this.scales,n=Object.keys(s).reduce((l,o)=>(l[o]=!1,l),{});let i=[];a&&(i=i.concat(Object.keys(a).map(l=>{const o=a[l],c=Dk(l,o),d=c==="r",u=c==="x";return{options:o,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),zr(i,l=>{const o=l.options,c=o.id,d=Dk(c,o),u=Ga(o.type,l.dtype);(o.position===void 0||OD(o.position,d)!==OD(l.dposition))&&(o.position=l.dposition),n[c]=!0;let f=null;if(c in s&&s[c].type===u)f=s[c];else{const x=Kd.getScale(u);f=new x({id:c,type:u,ctx:this.ctx,chart:this}),s[f.id]=f}f.init(o,t)}),zr(n,(l,o)=>{l||delete s[o]}),zr(s,l=>{dl.configure(this,l,l.options),dl.addBox(this,l)})}_updateMetasets(){const t=this._metasets,a=this.data.datasets.length,s=t.length;if(t.sort((n,i)=>n.index-i.index),s>a){for(let n=a;n<s;++n)this._destroyDatasetMeta(n);t.splice(a,s-a)}this._sortedMetasets=t.slice(0).sort(RD("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:a}}=this;t.length>a.length&&delete this._stacks,t.forEach((s,n)=>{a.filter(i=>i===s._dataset).length===0&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const t=[],a=this.data.datasets;let s,n;for(this._removeUnreferencedMetasets(),s=0,n=a.length;s<n;s++){const i=a[s];let l=this.getDatasetMeta(s);const o=i.type||this.config.type;if(l.type&&l.type!==o&&(this._destroyDatasetMeta(s),l=this.getDatasetMeta(s)),l.type=o,l.indexAxis=i.indexAxis||Ek(o,this.options),l.order=i.order||0,l.index=s,l.label=""+i.label,l.visible=this.isDatasetVisible(s),l.controller)l.controller.updateIndex(s),l.controller.linkScales();else{const c=Kd.getController(o),{datasetElementType:d,dataElementType:u}=Es.datasets[o];Object.assign(c,{dataElementType:Kd.getElement(u),datasetElementType:d&&Kd.getElement(d)}),l.controller=new c(this,s),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){zr(this.data.datasets,(t,a)=>{this.getDatasetMeta(a).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const a=this.config;a.update();const s=this._options=a.createResolver(a.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let d=0,u=this.data.datasets.length;d<u;d++){const{controller:f}=this.getDatasetMeta(d),x=!n&&i.indexOf(f)===-1;f.buildOrUpdateElements(x),l=Math.max(+f.getMaxOverflow(),l)}l=this._minPadding=s.layout.autoPadding?l:0,this._updateLayout(l),n||zr(i,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(RD("z","_idx"));const{_active:o,_lastEvent:c}=this;c?this._eventHandler(c,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){zr(this.scales,t=>{dl.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,a=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!Y7(a,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,a=this._getUniformDataChanges()||[];for(const{method:s,start:n,count:i}of a){const l=s==="_removeElements"?-i:i;Dne(t,n,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const a=this.data.datasets.length,s=i=>new Set(t.filter(l=>l[0]===i).map((l,o)=>o+","+l.splice(1).join(","))),n=s(0);for(let i=1;i<a;i++)if(!Y7(n,s(i)))return;return Array.from(n).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;dl.update(this,this.width,this.height,t);const a=this.chartArea,s=a.width<=0||a.height<=0;this._layers=[],zr(this.boxes,n=>{s&&n.position==="chartArea"||(n.configure&&n.configure(),this._layers.push(...n._layers()))},this),this._layers.forEach((n,i)=>{n._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let a=0,s=this.data.datasets.length;a<s;++a)this.getDatasetMeta(a).controller.configure();for(let a=0,s=this.data.datasets.length;a<s;++a)this._updateDataset(a,Ef(t)?t({datasetIndex:a}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,a){const s=this.getDatasetMeta(t),n={meta:s,index:t,mode:a,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",n)!==!1&&(s.controller._update(a),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Iu.has(this)?this.attached&&!Iu.running(this)&&Iu.start(this):(this.draw(),FD({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:n}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,n)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const a=this._layers;for(t=0;t<a.length&&a[t].z<=0;++t)a[t].draw(this.chartArea);for(this._drawDatasets();t<a.length;++t)a[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const a=this._sortedMetasets,s=[];let n,i;for(n=0,i=a.length;n<i;++n){const l=a[n];(!t||l.visible)&&s.push(l)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let a=t.length-1;a>=0;--a)this._drawDataset(t[a]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const a=this.ctx,s={meta:t,index:t.index,cancelable:!0},n=uU(this,t);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(n&&_j(a,n),t.controller.draw(),n&&Tj(a),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return Gu(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,a,s,n){const i=Tse.modes[a];return typeof i=="function"?i(this,t,s,n):[]}getDatasetMeta(t){const a=this.data.datasets[t],s=this._metasets;let n=s.filter(i=>i&&i._dataset===a).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:a&&a.order||0,index:t,_dataset:a,_parsed:[],_sorted:!1},s.push(n)),n}getContext(){return this.$context||(this.$context=Uf(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const a=this.data.datasets[t];if(!a)return!1;const s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!a.hidden}setDatasetVisibility(t,a){const s=this.getDatasetMeta(t);s.hidden=!a}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,a,s){const n=s?"show":"hide",i=this.getDatasetMeta(t),l=i.controller._resolveAnimations(void 0,n);$1(a)?(i.data[a].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),l.update(i,{visible:s}),this.update(o=>o.datasetIndex===t?n:void 0))}hide(t,a){this._updateVisibility(t,a,!1)}show(t,a){this._updateVisibility(t,a,!0)}_destroyDatasetMeta(t){const a=this._metasets[t];a&&a.controller&&a.controller._destroy(),delete this._metasets[t]}_stop(){let t,a;for(this.stop(),Iu.remove(this),t=0,a=this.data.datasets.length;t<a;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:a}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),sD(t,a),this.platform.releaseContext(a),this.canvas=null,this.ctx=null),delete T2[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,a=this.platform,s=(i,l)=>{a.addEventListener(this,i,l),t[i]=l},n=(i,l,o)=>{i.offsetX=l,i.offsetY=o,this._eventHandler(i)};zr(this.options.events,i=>s(i,n))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,a=this.platform,s=(c,d)=>{a.addEventListener(this,c,d),t[c]=d},n=(c,d)=>{t[c]&&(a.removeEventListener(this,c,d),delete t[c])},i=(c,d)=>{this.canvas&&this.resize(c,d)};let l;const o=()=>{n("attach",o),this.attached=!0,this.resize(),s("resize",i),s("detach",l)};l=()=>{this.attached=!1,n("resize",i),this._stop(),this._resize(0,0),s("attach",o)},a.isAttached(this.canvas)?o():l()}unbindEvents(){zr(this._listeners,(t,a)=>{this.platform.removeEventListener(this,a,t)}),this._listeners={},zr(this._responsiveListeners,(t,a)=>{this.platform.removeEventListener(this,a,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,a,s){const n=s?"set":"remove";let i,l,o,c;for(a==="dataset"&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+n+"DatasetHoverStyle"]()),o=0,c=t.length;o<c;++o){l=t[o];const d=l&&this.getDatasetMeta(l.datasetIndex).controller;d&&d[n+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const a=this._active||[],s=t.map(({datasetIndex:i,index:l})=>{const o=this.getDatasetMeta(i);if(!o)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:o.data[l],index:l}});!H2(s,a)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,a))}notifyPlugins(t,a,s){return this._plugins.notify(this,t,a,s)}isPluginEnabled(t){return this._plugins._cache.filter(a=>a.plugin.id===t).length===1}_updateHoverStyles(t,a,s){const n=this.options.hover,i=(c,d)=>c.filter(u=>!d.some(f=>u.datasetIndex===f.datasetIndex&&u.index===f.index)),l=i(a,t),o=s?t:i(t,a);l.length&&this.updateHoverStyle(l,n.mode,!1),o.length&&n.mode&&this.updateHoverStyle(o,n.mode,!0)}_eventHandler(t,a){const s={event:t,replay:a,cancelable:!0,inChartArea:this.isPointInArea(t)},n=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,n)===!1)return;const i=this._handleEvent(t,a,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,n),(i||s.changed)&&this.render(),this}_handleEvent(t,a,s){const{_active:n=[],options:i}=this,l=a,o=this._getActiveElements(t,n,s,l),c=Rae(t),d=Mne(t,this._lastEvent,s,c);s&&(this._lastEvent=null,ls(i.onHover,[t,o,this],this),c&&ls(i.onClick,[t,o,this],this));const u=!H2(o,n);return(u||a)&&(this._active=o,this._updateHoverStyles(o,n,a)),this._lastEvent=d,u}_getActiveElements(t,a,s,n){if(t.type==="mouseout")return[];if(!s)return a;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,n)}};function BD(){return zr(Sr.instances,e=>e._plugins.invalidate())}function Pne(e,t,a){const{startAngle:s,x:n,y:i,outerRadius:l,innerRadius:o,options:c}=t,{borderWidth:d,borderJoinStyle:u}=c,f=Math.min(d/l,sl(s-a));if(e.beginPath(),e.arc(n,i,l-d/2,s+f/2,a-f/2),o>0){const x=Math.min(d/o,sl(s-a));e.arc(n,i,o+d/2,a-x/2,s+x/2,!0)}else{const x=Math.min(d/2,l*sl(s-a));if(u==="round")e.arc(n,i,x,a-Er/2,s+Er/2,!0);else if(u==="bevel"){const m=2*x*x,g=-m*Math.cos(a+Er/2)+n,v=-m*Math.sin(a+Er/2)+i,b=m*Math.cos(s+Er/2)+n,j=m*Math.sin(s+Er/2)+i;e.lineTo(g,v),e.lineTo(b,j)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function Lne(e,t,a){const{startAngle:s,pixelMargin:n,x:i,y:l,outerRadius:o,innerRadius:c}=t;let d=n/o;e.beginPath(),e.arc(i,l,o,s-d,a+d),c>n?(d=n/c,e.arc(i,l,c,a+d,s-d,!0)):e.arc(i,l,n,a+Nn,s-Nn),e.closePath(),e.clip()}function One(e){return aA(e,["outerStart","outerEnd","innerStart","innerEnd"])}function Rne(e,t,a,s){const n=One(e.options.borderRadius),i=(a-t)/2,l=Math.min(i,s*t/2),o=c=>{const d=(a-Math.min(i,c))*s/2;return ji(c,0,Math.min(i,d))};return{outerStart:o(n.outerStart),outerEnd:o(n.outerEnd),innerStart:ji(n.innerStart,0,l),innerEnd:ji(n.innerEnd,0,l)}}function Sp(e,t,a,s){return{x:a+e*Math.cos(t),y:s+e*Math.sin(t)}}function Y2(e,t,a,s,n,i){const{x:l,y:o,startAngle:c,pixelMargin:d,innerRadius:u}=t,f=Math.max(t.outerRadius+s+a-d,0),x=u>0?u+s+a+d:0;let m=0;const g=n-c;if(s){const K=u>0?u-s:0,V=f>0?f-s:0,Z=(K+V)/2,J=Z!==0?g*Z/(Z+s):g;m=(g-J)/2}const v=Math.max(.001,g*f-a/Er)/f,b=(g-v)/2,j=c+b+m,S=n-b-m,{outerStart:k,outerEnd:N,innerStart:A,innerEnd:_}=Rne(t,x,f,S-j),D=f-k,P=f-N,I=j+k/D,B=S-N/P,O=x+A,U=x+_,E=j+A/O,R=S-_/U;if(e.beginPath(),i){const K=(I+B)/2;if(e.arc(l,o,f,I,K),e.arc(l,o,f,K,B),N>0){const ee=Sp(P,B,l,o);e.arc(ee.x,ee.y,N,B,S+Nn)}const V=Sp(U,S,l,o);if(e.lineTo(V.x,V.y),_>0){const ee=Sp(U,R,l,o);e.arc(ee.x,ee.y,_,S+Nn,R+Math.PI)}const Z=(S-_/x+(j+A/x))/2;if(e.arc(l,o,x,S-_/x,Z,!0),e.arc(l,o,x,Z,j+A/x,!0),A>0){const ee=Sp(O,E,l,o);e.arc(ee.x,ee.y,A,E+Math.PI,j-Nn)}const J=Sp(D,j,l,o);if(e.lineTo(J.x,J.y),k>0){const ee=Sp(D,I,l,o);e.arc(ee.x,ee.y,k,j-Nn,I)}}else{e.moveTo(l,o);const K=Math.cos(I)*f+l,V=Math.sin(I)*f+o;e.lineTo(K,V);const Z=Math.cos(B)*f+l,J=Math.sin(B)*f+o;e.lineTo(Z,J)}e.closePath()}function Fne(e,t,a,s,n){const{fullCircles:i,startAngle:l,circumference:o}=t;let c=t.endAngle;if(i){Y2(e,t,a,s,c,n);for(let d=0;d<i;++d)e.fill();isNaN(o)||(c=l+(o%ms||ms))}return Y2(e,t,a,s,c,n),e.fill(),c}function Ine(e,t,a,s,n){const{fullCircles:i,startAngle:l,circumference:o,options:c}=t,{borderWidth:d,borderJoinStyle:u,borderDash:f,borderDashOffset:x,borderRadius:m}=c,g=c.borderAlign==="inner";if(!d)return;e.setLineDash(f||[]),e.lineDashOffset=x,g?(e.lineWidth=d*2,e.lineJoin=u||"round"):(e.lineWidth=d,e.lineJoin=u||"bevel");let v=t.endAngle;if(i){Y2(e,t,a,s,v,n);for(let b=0;b<i;++b)e.stroke();isNaN(o)||(v=l+(o%ms||ms))}g&&Lne(e,t,v),c.selfJoin&&v-l>=Er&&m===0&&u!=="miter"&&Pne(e,t,v),i||(Y2(e,t,a,s,v,n),e.stroke())}class Em extends bh{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,a,s){const n=this.getProps(["x","y"],s),{angle:i,distance:l}=V$(n,{x:t,y:a}),{startAngle:o,endAngle:c,innerRadius:d,outerRadius:u,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),x=(this.options.spacing+this.options.borderWidth)/2,m=Ga(f,c-o),g=U1(i,o,c)&&o!==c,v=m>=ms||g,b=Wu(l,d+x,u+x);return v&&b}getCenterPoint(t){const{x:a,y:s,startAngle:n,endAngle:i,innerRadius:l,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:c,spacing:d}=this.options,u=(n+i)/2,f=(l+o+d+c)/2;return{x:a+Math.cos(u)*f,y:s+Math.sin(u)*f}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:a,circumference:s}=this,n=(a.offset||0)/4,i=(a.spacing||0)/2,l=a.circular;if(this.pixelMargin=a.borderAlign==="inner"?.33:0,this.fullCircles=s>ms?Math.floor(s/ms):0,s===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const o=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(o)*n,Math.sin(o)*n);const c=1-Math.sin(Math.min(Er,s||0)),d=n*c;t.fillStyle=a.backgroundColor,t.strokeStyle=a.borderColor,Fne(t,this,d,i,l),Ine(t,this,d,i,l),t.restore()}}function _U(e,t,a=t){e.lineCap=Ga(a.borderCapStyle,t.borderCapStyle),e.setLineDash(Ga(a.borderDash,t.borderDash)),e.lineDashOffset=Ga(a.borderDashOffset,t.borderDashOffset),e.lineJoin=Ga(a.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Ga(a.borderWidth,t.borderWidth),e.strokeStyle=Ga(a.borderColor,t.borderColor)}function Bne(e,t,a){e.lineTo(a.x,a.y)}function $ne(e){return e.stepped?nre:e.tension||e.cubicInterpolationMode==="monotone"?ire:Bne}function TU(e,t,a={}){const s=e.length,{start:n=0,end:i=s-1}=a,{start:l,end:o}=t,c=Math.max(n,l),d=Math.min(i,o),u=n<l&&i<l||n>o&&i>o;return{count:s,start:c,loop:t.loop,ilen:d<c&&!u?s+d-c:d-c}}function Une(e,t,a,s){const{points:n,options:i}=t,{count:l,start:o,loop:c,ilen:d}=TU(n,a,s),u=$ne(i);let{move:f=!0,reverse:x}=s||{},m,g,v;for(m=0;m<=d;++m)g=n[(o+(x?d-m:m))%l],!g.skip&&(f?(e.moveTo(g.x,g.y),f=!1):u(e,v,g,x,i.stepped),v=g);return c&&(g=n[(o+(x?d:0))%l],u(e,v,g,x,i.stepped)),!!c}function zne(e,t,a,s){const n=t.points,{count:i,start:l,ilen:o}=TU(n,a,s),{move:c=!0,reverse:d}=s||{};let u=0,f=0,x,m,g,v,b,j;const S=N=>(l+(d?o-N:N))%i,k=()=>{v!==b&&(e.lineTo(u,b),e.lineTo(u,v),e.lineTo(u,j))};for(c&&(m=n[S(0)],e.moveTo(m.x,m.y)),x=0;x<=o;++x){if(m=n[S(x)],m.skip)continue;const N=m.x,A=m.y,_=N|0;_===g?(A<v?v=A:A>b&&(b=A),u=(f*u+N)/++f):(k(),e.lineTo(N,A),g=_,f=0,v=b=A),j=A}k()}function Mk(e){const t=e.options,a=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!a?zne:Une}function Hne(e){return e.stepped?Ire:e.tension||e.cubicInterpolationMode==="monotone"?Bre:T0}function Vne(e,t,a,s){let n=t._path;n||(n=t._path=new Path2D,t.path(n,a,s)&&n.closePath()),_U(e,t.options),e.stroke(n)}function Wne(e,t,a,s){const{segments:n,options:i}=t,l=Mk(t);for(const o of n)_U(e,i,o.style),e.beginPath(),l(e,t,o,{start:a,end:a+s-1})&&e.closePath(),e.stroke()}const qne=typeof Path2D=="function";function Gne(e,t,a,s){qne&&!t.options.segment?Vne(e,t,a,s):Wne(e,t,a,s)}class ai extends bh{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,a){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const n=s.spanGaps?this._loop:this._fullLoop;Ere(this._points,s,t,n,a),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Wre(this,this.options.segment))}first(){const t=this.segments,a=this.points;return t.length&&a[t[0].start]}last(){const t=this.segments,a=this.points,s=t.length;return s&&a[t[s-1].end]}interpolate(t,a){const s=this.options,n=t[a],i=this.points,l=dU(this,{property:a,start:n,end:n});if(!l.length)return;const o=[],c=Hne(s);let d,u;for(d=0,u=l.length;d<u;++d){const{start:f,end:x}=l[d],m=i[f],g=i[x];if(m===g){o.push(m);continue}const v=Math.abs((n-m[a])/(g[a]-m[a])),b=c(m,g,v,s.stepped);b[a]=t[a],o.push(b)}return o.length===1?o[0]:o}pathSegment(t,a,s){return Mk(this)(t,this,a,s)}path(t,a,s){const n=this.segments,i=Mk(this);let l=this._loop;a=a||0,s=s||this.points.length-a;for(const o of n)l&=i(t,this,o,{start:a,end:a+s-1});return!!l}draw(t,a,s,n){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(t.save(),Gne(t,this,s,n),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function $D(e,t,a,s){const n=e.options,{[a]:i}=e.getProps([a],s);return Math.abs(t-i)<n.radius+n.hitRadius}class xl extends bh{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,a,s){const n=this.options,{x:i,y:l}=this.getProps(["x","y"],s);return Math.pow(t-i,2)+Math.pow(a-l,2)<Math.pow(n.hitRadius+n.radius,2)}inXRange(t,a){return $D(this,t,"x",a)}inYRange(t,a){return $D(this,t,"y",a)}getCenterPoint(t){const{x:a,y:s}=this.getProps(["x","y"],t);return{x:a,y:s}}size(t){t=t||this.options||{};let a=t.radius||0;a=Math.max(a,a&&t.hoverRadius||0);const s=a&&t.borderWidth||0;return(a+s)*2}draw(t,a){const s=this.options;this.skip||s.radius<.1||!Gu(this,a,this.size(s)/2)||(t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.fillStyle=s.backgroundColor,Tk(t,s,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function EU(e,t){const{x:a,y:s,base:n,width:i,height:l}=e.getProps(["x","y","base","width","height"],t);let o,c,d,u,f;return e.horizontal?(f=l/2,o=Math.min(a,n),c=Math.max(a,n),d=s-f,u=s+f):(f=i/2,o=a-f,c=a+f,d=Math.min(s,n),u=Math.max(s,n)),{left:o,top:d,right:c,bottom:u}}function yf(e,t,a,s){return e?0:ji(t,a,s)}function Kne(e,t,a){const s=e.options.borderWidth,n=e.borderSkipped,i=Z$(s);return{t:yf(n.top,i.top,0,a),r:yf(n.right,i.right,0,t),b:yf(n.bottom,i.bottom,0,a),l:yf(n.left,i.left,0,t)}}function Yne(e,t,a){const{enableBorderRadius:s}=e.getProps(["enableBorderRadius"]),n=e.options.borderRadius,i=W0(n),l=Math.min(t,a),o=e.borderSkipped,c=s||vr(n);return{topLeft:yf(!c||o.top||o.left,i.topLeft,0,l),topRight:yf(!c||o.top||o.right,i.topRight,0,l),bottomLeft:yf(!c||o.bottom||o.left,i.bottomLeft,0,l),bottomRight:yf(!c||o.bottom||o.right,i.bottomRight,0,l)}}function Xne(e){const t=EU(e),a=t.right-t.left,s=t.bottom-t.top,n=Kne(e,a/2,s/2),i=Yne(e,a/2,s/2);return{outer:{x:t.left,y:t.top,w:a,h:s,radius:i},inner:{x:t.left+n.l,y:t.top+n.t,w:a-n.l-n.r,h:s-n.t-n.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,i.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(n.b,n.r))}}}}function x5(e,t,a,s){const n=t===null,i=a===null,o=e&&!(n&&i)&&EU(e,s);return o&&(n||Wu(t,o.left,o.right))&&(i||Wu(a,o.top,o.bottom))}function Jne(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function Qne(e,t){e.rect(t.x,t.y,t.w,t.h)}function g5(e,t,a={}){const s=e.x!==a.x?-t:0,n=e.y!==a.y?-t:0,i=(e.x+e.w!==a.x+a.w?t:0)-s,l=(e.y+e.h!==a.y+a.h?t:0)-n;return{x:e.x+s,y:e.y+n,w:e.w+i,h:e.h+l,radius:e.radius}}class $n extends bh{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:a,options:{borderColor:s,backgroundColor:n}}=this,{inner:i,outer:l}=Xne(this),o=Jne(l.radius)?z1:Qne;t.save(),(l.w!==i.w||l.h!==i.h)&&(t.beginPath(),o(t,g5(l,a,i)),t.clip(),o(t,g5(i,-a,l)),t.fillStyle=s,t.fill("evenodd")),t.beginPath(),o(t,g5(i,a)),t.fillStyle=n,t.fill(),t.restore()}inRange(t,a,s){return x5(this,t,a,s)}inXRange(t,a){return x5(this,t,null,a)}inYRange(t,a){return x5(this,null,t,a)}getCenterPoint(t){const{x:a,y:s,base:n,horizontal:i}=this.getProps(["x","y","base","horizontal"],t);return{x:i?(a+n)/2:a,y:i?s:(s+n)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}var Zne=Object.freeze({__proto__:null,ArcElement:Em,BarElement:$n,LineElement:ai,PointElement:xl});const Pk=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],UD=Pk.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function DU(e){return Pk[e%Pk.length]}function MU(e){return UD[e%UD.length]}function eie(e,t){return e.borderColor=DU(t),e.backgroundColor=MU(t),++t}function tie(e,t){return e.backgroundColor=e.data.map(()=>DU(t++)),t}function aie(e,t){return e.backgroundColor=e.data.map(()=>MU(t++)),t}function rie(e){let t=0;return(a,s)=>{const n=e.getDatasetMeta(s).controller;n instanceof Dj?t=tie(a,t):n instanceof gU?t=aie(a,t):n&&(t=eie(a,t))}}function zD(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function sie(e){return e&&(e.borderColor||e.backgroundColor)}function nie(){return Es.borderColor!=="rgba(0,0,0,0.1)"||Es.backgroundColor!=="rgba(0,0,0,0.1)"}var iie={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,a){if(!a.enabled)return;const{data:{datasets:s},options:n}=e.config,{elements:i}=n,l=zD(s)||sie(n)||i&&zD(i)||nie();if(!a.forceOverride&&l)return;const o=rie(e);s.forEach(o)}};function lie(e,t,a,s,n){const i=n.samples||s;if(i>=a)return e.slice(t,t+a);const l=[],o=(a-2)/(i-2);let c=0;const d=t+a-1;let u=t,f,x,m,g,v;for(l[c++]=e[u],f=0;f<i-2;f++){let b=0,j=0,S;const k=Math.floor((f+1)*o)+1+t,N=Math.min(Math.floor((f+2)*o)+1,a)+t,A=N-k;for(S=k;S<N;S++)b+=e[S].x,j+=e[S].y;b/=A,j/=A;const _=Math.floor(f*o)+1+t,D=Math.min(Math.floor((f+1)*o)+1,a)+t,{x:P,y:I}=e[u];for(m=g=-1,S=_;S<D;S++)g=.5*Math.abs((P-b)*(e[S].y-I)-(P-e[S].x)*(j-I)),g>m&&(m=g,x=e[S],v=S);l[c++]=x,u=v}return l[c++]=e[d],l}function oie(e,t,a,s){let n=0,i=0,l,o,c,d,u,f,x,m,g,v;const b=[],j=t+a-1,S=e[t].x,N=e[j].x-S;for(l=t;l<t+a;++l){o=e[l],c=(o.x-S)/N*s,d=o.y;const A=c|0;if(A===u)d<g?(g=d,f=l):d>v&&(v=d,x=l),n=(i*n+o.x)/++i;else{const _=l-1;if(!hr(f)&&!hr(x)){const D=Math.min(f,x),P=Math.max(f,x);D!==m&&D!==_&&b.push({...e[D],x:n}),P!==m&&P!==_&&b.push({...e[P],x:n})}l>0&&_!==m&&b.push(e[_]),b.push(o),u=A,i=0,g=v=d,f=x=m=l}}return b}function PU(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function HD(e){e.data.datasets.forEach(t=>{PU(t)})}function cie(e,t){const a=t.length;let s=0,n;const{iScale:i}=e,{min:l,max:o,minDefined:c,maxDefined:d}=i.getUserBounds();return c&&(s=ji(qu(t,i.axis,l).lo,0,a-1)),d?n=ji(qu(t,i.axis,o).hi+1,s,a)-s:n=a-s,{start:s,count:n}}var die={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,a)=>{if(!a.enabled){HD(e);return}const s=e.width;e.data.datasets.forEach((n,i)=>{const{_data:l,indexAxis:o}=n,c=e.getDatasetMeta(i),d=l||n.data;if(e1([o,e.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;const u=e.scales[c.xAxisID];if(u.type!=="linear"&&u.type!=="time"||e.options.parsing)return;let{start:f,count:x}=cie(c,d);const m=a.threshold||4*s;if(x<=m){PU(n);return}hr(l)&&(n._data=d,delete n.data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(v){this._data=v}}));let g;switch(a.algorithm){case"lttb":g=lie(d,f,x,s,a);break;case"min-max":g=oie(d,f,x,s);break;default:throw new Error(`Unsupported decimation algorithm '${a.algorithm}'`)}n._decimated=g})},destroy(e){HD(e)}};function uie(e,t,a){const s=e.segments,n=e.points,i=t.points,l=[];for(const o of s){let{start:c,end:d}=o;d=Pj(c,d,n);const u=Lk(a,n[c],n[d],o.loop);if(!t.segments){l.push({source:o,target:u,start:n[c],end:n[d]});continue}const f=dU(t,u);for(const x of f){const m=Lk(a,i[x.start],i[x.end],x.loop),g=cU(o,n,m);for(const v of g)l.push({source:v,target:x,start:{[a]:VD(u,m,"start",Math.max)},end:{[a]:VD(u,m,"end",Math.min)}})}}return l}function Lk(e,t,a,s){if(s)return;let n=t[e],i=a[e];return e==="angle"&&(n=sl(n),i=sl(i)),{property:e,start:n,end:i}}function hie(e,t){const{x:a=null,y:s=null}=e||{},n=t.points,i=[];return t.segments.forEach(({start:l,end:o})=>{o=Pj(l,o,n);const c=n[l],d=n[o];s!==null?(i.push({x:c.x,y:s}),i.push({x:d.x,y:s})):a!==null&&(i.push({x:a,y:c.y}),i.push({x:a,y:d.y}))}),i}function Pj(e,t,a){for(;t>e;t--){const s=a[t];if(!isNaN(s.x)&&!isNaN(s.y))break}return t}function VD(e,t,a,s){return e&&t?s(e[a],t[a]):e?e[a]:t?t[a]:0}function LU(e,t){let a=[],s=!1;return Ts(e)?(s=!0,a=e):a=hie(e,t),a.length?new ai({points:a,options:{tension:0},_loop:s,_fullLoop:s}):null}function WD(e){return e&&e.fill!==!1}function fie(e,t,a){let n=e[t].fill;const i=[t];let l;if(!a)return n;for(;n!==!1&&i.indexOf(n)===-1;){if(!Zs(n))return n;if(l=e[n],!l)return!1;if(l.visible)return n;i.push(n),n=l.fill}return!1}function mie(e,t,a){const s=vie(e);if(vr(s))return isNaN(s.value)?!1:s;let n=parseFloat(s);return Zs(n)&&Math.floor(n)===n?pie(s[0],t,n,a):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function pie(e,t,a,s){return(e==="-"||e==="+")&&(a=t+a),a===t||a<0||a>=s?!1:a}function xie(e,t){let a=null;return e==="start"?a=t.bottom:e==="end"?a=t.top:vr(e)?a=t.getPixelForValue(e.value):t.getBasePixel&&(a=t.getBasePixel()),a}function gie(e,t,a){let s;return e==="start"?s=a:e==="end"?s=t.options.reverse?t.min:t.max:vr(e)?s=e.value:s=t.getBaseValue(),s}function vie(e){const t=e.options,a=t.fill;let s=Ga(a&&a.target,a);return s===void 0&&(s=!!t.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function bie(e){const{scale:t,index:a,line:s}=e,n=[],i=s.segments,l=s.points,o=yie(t,a);o.push(LU({x:null,y:t.bottom},s));for(let c=0;c<i.length;c++){const d=i[c];for(let u=d.start;u<=d.end;u++)wie(n,l[u],o)}return new ai({points:n,options:{}})}function yie(e,t){const a=[],s=e.getMatchingVisibleMetas("line");for(let n=0;n<s.length;n++){const i=s[n];if(i.index===t)break;i.hidden||a.unshift(i.dataset)}return a}function wie(e,t,a){const s=[];for(let n=0;n<a.length;n++){const i=a[n],{first:l,last:o,point:c}=jie(i,t,"x");if(!(!c||l&&o)){if(l)s.unshift(c);else if(e.push(c),!o)break}}e.push(...s)}function jie(e,t,a){const s=e.interpolate(t,a);if(!s)return{};const n=s[a],i=e.segments,l=e.points;let o=!1,c=!1;for(let d=0;d<i.length;d++){const u=i[d],f=l[u.start][a],x=l[u.end][a];if(Wu(n,f,x)){o=n===f,c=n===x;break}}return{first:o,last:c,point:s}}class OU{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,a,s){const{x:n,y:i,radius:l}=this;return a=a||{start:0,end:ms},t.arc(n,i,l,a.end,a.start,!0),!s.bounds}interpolate(t){const{x:a,y:s,radius:n}=this,i=t.angle;return{x:a+Math.cos(i)*n,y:s+Math.sin(i)*n,angle:i}}}function Nie(e){const{chart:t,fill:a,line:s}=e;if(Zs(a))return Sie(t,a);if(a==="stack")return bie(e);if(a==="shape")return!0;const n=kie(e);return n instanceof OU?n:LU(n,s)}function Sie(e,t){const a=e.getDatasetMeta(t);return a&&e.isDatasetVisible(t)?a.dataset:null}function kie(e){return(e.scale||{}).getPointPositionForValue?Aie(e):Cie(e)}function Cie(e){const{scale:t={},fill:a}=e,s=xie(a,t);if(Zs(s)){const n=t.isHorizontal();return{x:n?s:null,y:n?null:s}}return null}function Aie(e){const{scale:t,fill:a}=e,s=t.options,n=t.getLabels().length,i=s.reverse?t.max:t.min,l=gie(a,t,i),o=[];if(s.grid.circular){const c=t.getPointPositionForValue(0,i);return new OU({x:c.x,y:c.y,radius:t.getDistanceFromCenterForValue(l)})}for(let c=0;c<n;++c)o.push(t.getPointPositionForValue(c,l));return o}function v5(e,t,a){const s=Nie(t),{chart:n,index:i,line:l,scale:o,axis:c}=t,d=l.options,u=d.fill,f=d.backgroundColor,{above:x=f,below:m=f}=u||{},g=n.getDatasetMeta(i),v=uU(n,g);s&&l.points.length&&(_j(e,a),_ie(e,{line:l,target:s,above:x,below:m,area:a,scale:o,axis:c,clip:v}),Tj(e))}function _ie(e,t){const{line:a,target:s,above:n,below:i,area:l,scale:o,clip:c}=t,d=a._loop?"angle":t.axis;e.save();let u=i;i!==n&&(d==="x"?(qD(e,s,l.top),b5(e,{line:a,target:s,color:n,scale:o,property:d,clip:c}),e.restore(),e.save(),qD(e,s,l.bottom)):d==="y"&&(GD(e,s,l.left),b5(e,{line:a,target:s,color:i,scale:o,property:d,clip:c}),e.restore(),e.save(),GD(e,s,l.right),u=n)),b5(e,{line:a,target:s,color:u,scale:o,property:d,clip:c}),e.restore()}function qD(e,t,a){const{segments:s,points:n}=t;let i=!0,l=!1;e.beginPath();for(const o of s){const{start:c,end:d}=o,u=n[c],f=n[Pj(c,d,n)];i?(e.moveTo(u.x,u.y),i=!1):(e.lineTo(u.x,a),e.lineTo(u.x,u.y)),l=!!t.pathSegment(e,o,{move:l}),l?e.closePath():e.lineTo(f.x,a)}e.lineTo(t.first().x,a),e.closePath(),e.clip()}function GD(e,t,a){const{segments:s,points:n}=t;let i=!0,l=!1;e.beginPath();for(const o of s){const{start:c,end:d}=o,u=n[c],f=n[Pj(c,d,n)];i?(e.moveTo(u.x,u.y),i=!1):(e.lineTo(a,u.y),e.lineTo(u.x,u.y)),l=!!t.pathSegment(e,o,{move:l}),l?e.closePath():e.lineTo(a,f.y)}e.lineTo(a,t.first().y),e.closePath(),e.clip()}function b5(e,t){const{line:a,target:s,property:n,color:i,scale:l,clip:o}=t,c=uie(a,s,n);for(const{source:d,target:u,start:f,end:x}of c){const{style:{backgroundColor:m=i}={}}=d,g=s!==!0;e.save(),e.fillStyle=m,Tie(e,l,o,g&&Lk(n,f,x)),e.beginPath();const v=!!a.pathSegment(e,d);let b;if(g){v?e.closePath():KD(e,s,x,n);const j=!!s.pathSegment(e,u,{move:v,reverse:!0});b=v&&j,b||KD(e,s,f,n)}e.closePath(),e.fill(b?"evenodd":"nonzero"),e.restore()}}function Tie(e,t,a,s){const n=t.chart.chartArea,{property:i,start:l,end:o}=s||{};if(i==="x"||i==="y"){let c,d,u,f;i==="x"?(c=l,d=n.top,u=o,f=n.bottom):(c=n.left,d=l,u=n.right,f=o),e.beginPath(),a&&(c=Math.max(c,a.left),u=Math.min(u,a.right),d=Math.max(d,a.top),f=Math.min(f,a.bottom)),e.rect(c,d,u-c,f-d),e.clip()}}function KD(e,t,a,s){const n=t.interpolate(a,s);n&&e.lineTo(n.x,n.y)}var Eie={id:"filler",afterDatasetsUpdate(e,t,a){const s=(e.data.datasets||[]).length,n=[];let i,l,o,c;for(l=0;l<s;++l)i=e.getDatasetMeta(l),o=i.dataset,c=null,o&&o.options&&o instanceof ai&&(c={visible:e.isDatasetVisible(l),index:l,fill:mie(o,l,s),chart:e,axis:i.controller.options.indexAxis,scale:i.vScale,line:o}),i.$filler=c,n.push(c);for(l=0;l<s;++l)c=n[l],!(!c||c.fill===!1)&&(c.fill=fie(n,l,a.propagate))},beforeDraw(e,t,a){const s=a.drawTime==="beforeDraw",n=e.getSortedVisibleDatasetMetas(),i=e.chartArea;for(let l=n.length-1;l>=0;--l){const o=n[l].$filler;o&&(o.line.updateControlPoints(i,o.axis),s&&o.fill&&v5(e.ctx,o,i))}},beforeDatasetsDraw(e,t,a){if(a.drawTime!=="beforeDatasetsDraw")return;const s=e.getSortedVisibleDatasetMetas();for(let n=s.length-1;n>=0;--n){const i=s[n].$filler;WD(i)&&v5(e.ctx,i,e.chartArea)}},beforeDatasetDraw(e,t,a){const s=t.meta.$filler;!WD(s)||a.drawTime!=="beforeDatasetDraw"||v5(e.ctx,s,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const YD=(e,t)=>{let{boxHeight:a=t,boxWidth:s=t}=e;return e.usePointStyle&&(a=Math.min(a,t),s=e.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:a,itemHeight:Math.max(t,a)}},Die=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class XD extends bh{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,a,s){this.maxWidth=t,this.maxHeight=a,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let a=ls(t.generateLabels,[this.chart],this)||[];t.filter&&(a=a.filter(s=>t.filter(s,this.chart.data))),t.sort&&(a=a.sort((s,n)=>t.sort(s,n,this.chart.data))),this.options.reverse&&a.reverse(),this.legendItems=a}fit(){const{options:t,ctx:a}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels,n=Qn(s.font),i=n.size,l=this._computeTitleHeight(),{boxWidth:o,itemHeight:c}=YD(s,i);let d,u;a.font=n.string,this.isHorizontal()?(d=this.maxWidth,u=this._fitRows(l,i,o,c)+10):(u=this.maxHeight,d=this._fitCols(l,n,o,c)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,a,s,n){const{ctx:i,maxWidth:l,options:{labels:{padding:o}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],u=n+o;let f=t;i.textAlign="left",i.textBaseline="middle";let x=-1,m=-u;return this.legendItems.forEach((g,v)=>{const b=s+a/2+i.measureText(g.text).width;(v===0||d[d.length-1]+b+2*o>l)&&(f+=u,d[d.length-(v>0?0:1)]=0,m+=u,x++),c[v]={left:0,top:m,row:x,width:b,height:n},d[d.length-1]+=b+o}),f}_fitCols(t,a,s,n){const{ctx:i,maxHeight:l,options:{labels:{padding:o}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],u=l-t;let f=o,x=0,m=0,g=0,v=0;return this.legendItems.forEach((b,j)=>{const{itemWidth:S,itemHeight:k}=Mie(s,a,i,b,n);j>0&&m+k+2*o>u&&(f+=x+o,d.push({width:x,height:m}),g+=x+o,v++,x=m=0),c[j]={left:g,top:m,col:v,width:S,height:k},x=Math.max(x,S),m+=k+o}),f+=x,d.push({width:x,height:m}),f}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:a,options:{align:s,labels:{padding:n},rtl:i}}=this,l=Wp(i,this.left,this.width);if(this.isHorizontal()){let o=0,c=tl(s,this.left+n,this.right-this.lineWidths[o]);for(const d of a)o!==d.row&&(o=d.row,c=tl(s,this.left+n,this.right-this.lineWidths[o])),d.top+=this.top+t+n,d.left=l.leftForLtr(l.x(c),d.width),c+=d.width+n}else{let o=0,c=tl(s,this.top+t+n,this.bottom-this.columnSizes[o].height);for(const d of a)d.col!==o&&(o=d.col,c=tl(s,this.top+t+n,this.bottom-this.columnSizes[o].height)),d.top=c,d.left+=this.left+n,d.left=l.leftForLtr(l.x(d.left),d.width),c+=d.height+n}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;_j(t,this),this._draw(),Tj(t)}}_draw(){const{options:t,columnSizes:a,lineWidths:s,ctx:n}=this,{align:i,labels:l}=t,o=Es.color,c=Wp(t.rtl,this.left,this.width),d=Qn(l.font),{padding:u}=l,f=d.size,x=f/2;let m;this.drawTitle(),n.textAlign=c.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=d.string;const{boxWidth:g,boxHeight:v,itemHeight:b}=YD(l,f),j=function(_,D,P){if(isNaN(g)||g<=0||isNaN(v)||v<0)return;n.save();const I=Ga(P.lineWidth,1);if(n.fillStyle=Ga(P.fillStyle,o),n.lineCap=Ga(P.lineCap,"butt"),n.lineDashOffset=Ga(P.lineDashOffset,0),n.lineJoin=Ga(P.lineJoin,"miter"),n.lineWidth=I,n.strokeStyle=Ga(P.strokeStyle,o),n.setLineDash(Ga(P.lineDash,[])),l.usePointStyle){const B={radius:v*Math.SQRT2/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:I},O=c.xPlus(_,g/2),U=D+x;Q$(n,B,O,U,l.pointStyleWidth&&g)}else{const B=D+Math.max((f-v)/2,0),O=c.leftForLtr(_,g),U=W0(P.borderRadius);n.beginPath(),Object.values(U).some(E=>E!==0)?z1(n,{x:O,y:B,w:g,h:v,radius:U}):n.rect(O,B,g,v),n.fill(),I!==0&&n.stroke()}n.restore()},S=function(_,D,P){cm(n,P.text,_,D+b/2,d,{strikethrough:P.hidden,textAlign:c.textAlign(P.textAlign)})},k=this.isHorizontal(),N=this._computeTitleHeight();k?m={x:tl(i,this.left+u,this.right-s[0]),y:this.top+u+N,line:0}:m={x:this.left+u,y:tl(i,this.top+N+u,this.bottom-a[0].height),line:0},iU(this.ctx,t.textDirection);const A=b+u;this.legendItems.forEach((_,D)=>{n.strokeStyle=_.fontColor,n.fillStyle=_.fontColor;const P=n.measureText(_.text).width,I=c.textAlign(_.textAlign||(_.textAlign=l.textAlign)),B=g+x+P;let O=m.x,U=m.y;c.setWidth(this.width),k?D>0&&O+B+u>this.right&&(U=m.y+=A,m.line++,O=m.x=tl(i,this.left+u,this.right-s[m.line])):D>0&&U+A>this.bottom&&(O=m.x=O+a[m.line].width+u,m.line++,U=m.y=tl(i,this.top+N+u,this.bottom-a[m.line].height));const E=c.x(O);if(j(E,U,_),O=Kae(I,O+g+x,k?O+B:this.right,t.rtl),S(c.x(O),U,_),k)m.x+=B+u;else if(typeof _.text!="string"){const R=d.lineHeight;m.y+=RU(_,R)+u}else m.y+=A}),lU(this.ctx,t.textDirection)}drawTitle(){const t=this.options,a=t.title,s=Qn(a.font),n=fl(a.padding);if(!a.display)return;const i=Wp(t.rtl,this.left,this.width),l=this.ctx,o=a.position,c=s.size/2,d=n.top+c;let u,f=this.left,x=this.width;if(this.isHorizontal())x=Math.max(...this.lineWidths),u=this.top+d,f=tl(t.align,f,this.right-x);else{const g=this.columnSizes.reduce((v,b)=>Math.max(v,b.height),0);u=d+tl(t.align,this.top,this.bottom-g-t.labels.padding-this._computeTitleHeight())}const m=tl(o,f,f+x);l.textAlign=i.textAlign(eA(o)),l.textBaseline="middle",l.strokeStyle=a.color,l.fillStyle=a.color,l.font=s.string,cm(l,a.text,m,u,s)}_computeTitleHeight(){const t=this.options.title,a=Qn(t.font),s=fl(t.padding);return t.display?a.lineHeight+s.height:0}_getLegendItemAt(t,a){let s,n,i;if(Wu(t,this.left,this.right)&&Wu(a,this.top,this.bottom)){for(i=this.legendHitBoxes,s=0;s<i.length;++s)if(n=i[s],Wu(t,n.left,n.left+n.width)&&Wu(a,n.top,n.top+n.height))return this.legendItems[s]}return null}handleEvent(t){const a=this.options;if(!Oie(t.type,a))return;const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const n=this._hoveredItem,i=Die(n,s);n&&!i&&ls(a.onLeave,[t,n,this],this),this._hoveredItem=s,s&&!i&&ls(a.onHover,[t,s,this],this)}else s&&ls(a.onClick,[t,s,this],this)}}function Mie(e,t,a,s,n){const i=Pie(s,e,t,a),l=Lie(n,s,t.lineHeight);return{itemWidth:i,itemHeight:l}}function Pie(e,t,a,s){let n=e.text;return n&&typeof n!="string"&&(n=n.reduce((i,l)=>i.length>l.length?i:l)),t+a.size/2+s.measureText(n).width}function Lie(e,t,a){let s=e;return typeof t.text!="string"&&(s=RU(t,a)),s}function RU(e,t){const a=e.text?e.text.length:0;return t*a}function Oie(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var an={id:"legend",_element:XD,start(e,t,a){const s=e.legend=new XD({ctx:e.ctx,options:a,chart:e});dl.configure(e,s,a),dl.addBox(e,s)},stop(e){dl.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,a){const s=e.legend;dl.configure(e,s,a),s.options=a},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,a){const s=t.datasetIndex,n=a.chart;n.isDatasetVisible(s)?(n.hide(s),t.hidden=!0):(n.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:a,pointStyle:s,textAlign:n,color:i,useBorderRadius:l,borderRadius:o}}=e.legend.options;return e._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(a?0:void 0),u=fl(d.borderWidth);return{text:t[c.index].label,fillStyle:d.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:d.borderColor,pointStyle:s||d.pointStyle,rotation:d.rotation,textAlign:n||d.textAlign,borderRadius:l&&(o||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class cA extends bh{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,a){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=a;const n=Ts(s.text)?s.text.length:1;this._padding=fl(s.padding);const i=n*Qn(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:a,left:s,bottom:n,right:i,options:l}=this,o=l.align;let c=0,d,u,f;return this.isHorizontal()?(u=tl(o,s,i),f=a+t,d=i-s):(l.position==="left"?(u=s+t,f=tl(o,n,a),c=Er*-.5):(u=i-t,f=tl(o,a,n),c=Er*.5),d=n-a),{titleX:u,titleY:f,maxWidth:d,rotation:c}}draw(){const t=this.ctx,a=this.options;if(!a.display)return;const s=Qn(a.font),i=s.lineHeight/2+this._padding.top,{titleX:l,titleY:o,maxWidth:c,rotation:d}=this._drawArgs(i);cm(t,a.text,0,0,s,{color:a.color,maxWidth:c,rotation:d,textAlign:eA(a.align),textBaseline:"middle",translation:[l,o]})}}function Rie(e,t){const a=new cA({ctx:e.ctx,options:t,chart:e});dl.configure(e,a,t),dl.addBox(e,a),e.titleBlock=a}var wx={id:"title",_element:cA,start(e,t,a){Rie(e,a)},stop(e){const t=e.titleBlock;dl.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,a){const s=e.titleBlock;dl.configure(e,s,a),s.options=a},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ty=new WeakMap;var Fie={id:"subtitle",start(e,t,a){const s=new cA({ctx:e.ctx,options:a,chart:e});dl.configure(e,s,a),dl.addBox(e,s),Ty.set(e,s)},stop(e){dl.removeBox(e,Ty.get(e)),Ty.delete(e)},beforeUpdate(e,t,a){const s=Ty.get(e);dl.configure(e,s,a),s.options=a},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const a1={average(e){if(!e.length)return!1;let t,a,s=new Set,n=0,i=0;for(t=0,a=e.length;t<a;++t){const o=e[t].element;if(o&&o.hasValue()){const c=o.tooltipPosition();s.add(c.x),n+=c.y,++i}}return i===0||s.size===0?!1:{x:[...s].reduce((o,c)=>o+c)/s.size,y:n/i}},nearest(e,t){if(!e.length)return!1;let a=t.x,s=t.y,n=Number.POSITIVE_INFINITY,i,l,o;for(i=0,l=e.length;i<l;++i){const c=e[i].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),u=Ak(t,d);u<n&&(n=u,o=c)}}if(o){const c=o.tooltipPosition();a=c.x,s=c.y}return{x:a,y:s}}};function Vd(e,t){return t&&(Ts(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Bu(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function Iie(e,t){const{element:a,datasetIndex:s,index:n}=t,i=e.getDatasetMeta(s).controller,{label:l,value:o}=i.getLabelAndValue(n);return{chart:e,label:l,parsed:i.getParsed(n),raw:e.data.datasets[s].data[n],formattedValue:o,dataset:i.getDataset(),dataIndex:n,datasetIndex:s,element:a}}function JD(e,t){const a=e.chart.ctx,{body:s,footer:n,title:i}=e,{boxWidth:l,boxHeight:o}=t,c=Qn(t.bodyFont),d=Qn(t.titleFont),u=Qn(t.footerFont),f=i.length,x=n.length,m=s.length,g=fl(t.padding);let v=g.height,b=0,j=s.reduce((N,A)=>N+A.before.length+A.lines.length+A.after.length,0);if(j+=e.beforeBody.length+e.afterBody.length,f&&(v+=f*d.lineHeight+(f-1)*t.titleSpacing+t.titleMarginBottom),j){const N=t.displayColors?Math.max(o,c.lineHeight):c.lineHeight;v+=m*N+(j-m)*c.lineHeight+(j-1)*t.bodySpacing}x&&(v+=t.footerMarginTop+x*u.lineHeight+(x-1)*t.footerSpacing);let S=0;const k=function(N){b=Math.max(b,a.measureText(N).width+S)};return a.save(),a.font=d.string,zr(e.title,k),a.font=c.string,zr(e.beforeBody.concat(e.afterBody),k),S=t.displayColors?l+2+t.boxPadding:0,zr(s,N=>{zr(N.before,k),zr(N.lines,k),zr(N.after,k)}),S=0,a.font=u.string,zr(e.footer,k),a.restore(),b+=g.width,{width:b,height:v}}function Bie(e,t){const{y:a,height:s}=t;return a<s/2?"top":a>e.height-s/2?"bottom":"center"}function $ie(e,t,a,s){const{x:n,width:i}=s,l=a.caretSize+a.caretPadding;if(e==="left"&&n+i+l>t.width||e==="right"&&n-i-l<0)return!0}function Uie(e,t,a,s){const{x:n,width:i}=a,{width:l,chartArea:{left:o,right:c}}=e;let d="center";return s==="center"?d=n<=(o+c)/2?"left":"right":n<=i/2?d="left":n>=l-i/2&&(d="right"),$ie(d,e,t,a)&&(d="center"),d}function QD(e,t,a){const s=a.yAlign||t.yAlign||Bie(e,a);return{xAlign:a.xAlign||t.xAlign||Uie(e,t,a,s),yAlign:s}}function zie(e,t){let{x:a,width:s}=e;return t==="right"?a-=s:t==="center"&&(a-=s/2),a}function Hie(e,t,a){let{y:s,height:n}=e;return t==="top"?s+=a:t==="bottom"?s-=n+a:s-=n/2,s}function ZD(e,t,a,s){const{caretSize:n,caretPadding:i,cornerRadius:l}=e,{xAlign:o,yAlign:c}=a,d=n+i,{topLeft:u,topRight:f,bottomLeft:x,bottomRight:m}=W0(l);let g=zie(t,o);const v=Hie(t,c,d);return c==="center"?o==="left"?g+=d:o==="right"&&(g-=d):o==="left"?g-=Math.max(u,x)+n:o==="right"&&(g+=Math.max(f,m)+n),{x:ji(g,0,s.width-t.width),y:ji(v,0,s.height-t.height)}}function Ey(e,t,a){const s=fl(a.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-s.right:e.x+s.left}function eM(e){return Vd([],Bu(e))}function Vie(e,t,a){return Uf(e,{tooltip:t,tooltipItems:a,type:"tooltip"})}function tM(e,t){const a=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return a?e.override(a):e}const FU={beforeTitle:Ou,title(e){if(e.length>0){const t=e[0],a=t.chart.data.labels,s=a?a.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return a[t.dataIndex]}return""},afterTitle:Ou,beforeBody:Ou,beforeLabel:Ou,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const a=e.formattedValue;return hr(a)||(t+=a),t},labelColor(e){const a=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:a.borderColor,backgroundColor:a.backgroundColor,borderWidth:a.borderWidth,borderDash:a.borderDash,borderDashOffset:a.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const a=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:a.pointStyle,rotation:a.rotation}},afterLabel:Ou,afterBody:Ou,beforeFooter:Ou,footer:Ou,afterFooter:Ou};function Gl(e,t,a,s){const n=e[t].call(a,s);return typeof n>"u"?FU[t].call(a,s):n}let aM=class extends bh{static positioners=a1;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const a=this.chart,s=this.options.setContext(this.getContext()),n=s.enabled&&a.options.animation&&s.animations,i=new hU(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=Vie(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,a){const{callbacks:s}=a,n=Gl(s,"beforeTitle",this,t),i=Gl(s,"title",this,t),l=Gl(s,"afterTitle",this,t);let o=[];return o=Vd(o,Bu(n)),o=Vd(o,Bu(i)),o=Vd(o,Bu(l)),o}getBeforeBody(t,a){return eM(Gl(a.callbacks,"beforeBody",this,t))}getBody(t,a){const{callbacks:s}=a,n=[];return zr(t,i=>{const l={before:[],lines:[],after:[]},o=tM(s,i);Vd(l.before,Bu(Gl(o,"beforeLabel",this,i))),Vd(l.lines,Gl(o,"label",this,i)),Vd(l.after,Bu(Gl(o,"afterLabel",this,i))),n.push(l)}),n}getAfterBody(t,a){return eM(Gl(a.callbacks,"afterBody",this,t))}getFooter(t,a){const{callbacks:s}=a,n=Gl(s,"beforeFooter",this,t),i=Gl(s,"footer",this,t),l=Gl(s,"afterFooter",this,t);let o=[];return o=Vd(o,Bu(n)),o=Vd(o,Bu(i)),o=Vd(o,Bu(l)),o}_createItems(t){const a=this._active,s=this.chart.data,n=[],i=[],l=[];let o=[],c,d;for(c=0,d=a.length;c<d;++c)o.push(Iie(this.chart,a[c]));return t.filter&&(o=o.filter((u,f,x)=>t.filter(u,f,x,s))),t.itemSort&&(o=o.sort((u,f)=>t.itemSort(u,f,s))),zr(o,u=>{const f=tM(t.callbacks,u);n.push(Gl(f,"labelColor",this,u)),i.push(Gl(f,"labelPointStyle",this,u)),l.push(Gl(f,"labelTextColor",this,u))}),this.labelColors=n,this.labelPointStyles=i,this.labelTextColors=l,this.dataPoints=o,o}update(t,a){const s=this.options.setContext(this.getContext()),n=this._active;let i,l=[];if(!n.length)this.opacity!==0&&(i={opacity:0});else{const o=a1[s.position].call(this,n,this._eventPosition);l=this._createItems(s),this.title=this.getTitle(l,s),this.beforeBody=this.getBeforeBody(l,s),this.body=this.getBody(l,s),this.afterBody=this.getAfterBody(l,s),this.footer=this.getFooter(l,s);const c=this._size=JD(this,s),d=Object.assign({},o,c),u=QD(this.chart,s,d),f=ZD(s,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:f.x,y:f.y,width:c.width,height:c.height,caretX:o.x,caretY:o.y}}this._tooltipItems=l,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:a})}drawCaret(t,a,s,n){const i=this.getCaretPosition(t,s,n);a.lineTo(i.x1,i.y1),a.lineTo(i.x2,i.y2),a.lineTo(i.x3,i.y3)}getCaretPosition(t,a,s){const{xAlign:n,yAlign:i}=this,{caretSize:l,cornerRadius:o}=s,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:f}=W0(o),{x,y:m}=t,{width:g,height:v}=a;let b,j,S,k,N,A;return i==="center"?(N=m+v/2,n==="left"?(b=x,j=b-l,k=N+l,A=N-l):(b=x+g,j=b+l,k=N-l,A=N+l),S=b):(n==="left"?j=x+Math.max(c,u)+l:n==="right"?j=x+g-Math.max(d,f)-l:j=this.caretX,i==="top"?(k=m,N=k-l,b=j-l,S=j+l):(k=m+v,N=k+l,b=j+l,S=j-l),A=k),{x1:b,x2:j,x3:S,y1:k,y2:N,y3:A}}drawTitle(t,a,s){const n=this.title,i=n.length;let l,o,c;if(i){const d=Wp(s.rtl,this.x,this.width);for(t.x=Ey(this,s.titleAlign,s),a.textAlign=d.textAlign(s.titleAlign),a.textBaseline="middle",l=Qn(s.titleFont),o=s.titleSpacing,a.fillStyle=s.titleColor,a.font=l.string,c=0;c<i;++c)a.fillText(n[c],d.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+o,c+1===i&&(t.y+=s.titleMarginBottom-o)}}_drawColorBox(t,a,s,n,i){const l=this.labelColors[s],o=this.labelPointStyles[s],{boxHeight:c,boxWidth:d}=i,u=Qn(i.bodyFont),f=Ey(this,"left",i),x=n.x(f),m=c<u.lineHeight?(u.lineHeight-c)/2:0,g=a.y+m;if(i.usePointStyle){const v={radius:Math.min(d,c)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},b=n.leftForLtr(x,d)+d/2,j=g+c/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,Tk(t,v,b,j),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,Tk(t,v,b,j)}else{t.lineWidth=vr(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const v=n.leftForLtr(x,d),b=n.leftForLtr(n.xPlus(x,1),d-2),j=W0(l.borderRadius);Object.values(j).some(S=>S!==0)?(t.beginPath(),t.fillStyle=i.multiKeyBackground,z1(t,{x:v,y:g,w:d,h:c,radius:j}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),z1(t,{x:b,y:g+1,w:d-2,h:c-2,radius:j}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(v,g,d,c),t.strokeRect(v,g,d,c),t.fillStyle=l.backgroundColor,t.fillRect(b,g+1,d-2,c-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,a,s){const{body:n}=this,{bodySpacing:i,bodyAlign:l,displayColors:o,boxHeight:c,boxWidth:d,boxPadding:u}=s,f=Qn(s.bodyFont);let x=f.lineHeight,m=0;const g=Wp(s.rtl,this.x,this.width),v=function(P){a.fillText(P,g.x(t.x+m),t.y+x/2),t.y+=x+i},b=g.textAlign(l);let j,S,k,N,A,_,D;for(a.textAlign=l,a.textBaseline="middle",a.font=f.string,t.x=Ey(this,b,s),a.fillStyle=s.bodyColor,zr(this.beforeBody,v),m=o&&b!=="right"?l==="center"?d/2+u:d+2+u:0,N=0,_=n.length;N<_;++N){for(j=n[N],S=this.labelTextColors[N],a.fillStyle=S,zr(j.before,v),k=j.lines,o&&k.length&&(this._drawColorBox(a,t,N,g,s),x=Math.max(f.lineHeight,c)),A=0,D=k.length;A<D;++A)v(k[A]),x=f.lineHeight;zr(j.after,v)}m=0,x=f.lineHeight,zr(this.afterBody,v),t.y-=i}drawFooter(t,a,s){const n=this.footer,i=n.length;let l,o;if(i){const c=Wp(s.rtl,this.x,this.width);for(t.x=Ey(this,s.footerAlign,s),t.y+=s.footerMarginTop,a.textAlign=c.textAlign(s.footerAlign),a.textBaseline="middle",l=Qn(s.footerFont),a.fillStyle=s.footerColor,a.font=l.string,o=0;o<i;++o)a.fillText(n[o],c.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+s.footerSpacing}}drawBackground(t,a,s,n){const{xAlign:i,yAlign:l}=this,{x:o,y:c}=t,{width:d,height:u}=s,{topLeft:f,topRight:x,bottomLeft:m,bottomRight:g}=W0(n.cornerRadius);a.fillStyle=n.backgroundColor,a.strokeStyle=n.borderColor,a.lineWidth=n.borderWidth,a.beginPath(),a.moveTo(o+f,c),l==="top"&&this.drawCaret(t,a,s,n),a.lineTo(o+d-x,c),a.quadraticCurveTo(o+d,c,o+d,c+x),l==="center"&&i==="right"&&this.drawCaret(t,a,s,n),a.lineTo(o+d,c+u-g),a.quadraticCurveTo(o+d,c+u,o+d-g,c+u),l==="bottom"&&this.drawCaret(t,a,s,n),a.lineTo(o+m,c+u),a.quadraticCurveTo(o,c+u,o,c+u-m),l==="center"&&i==="left"&&this.drawCaret(t,a,s,n),a.lineTo(o,c+f),a.quadraticCurveTo(o,c,o+f,c),a.closePath(),a.fill(),n.borderWidth>0&&a.stroke()}_updateAnimationTarget(t){const a=this.chart,s=this.$animations,n=s&&s.x,i=s&&s.y;if(n||i){const l=a1[t.position].call(this,this._active,this._eventPosition);if(!l)return;const o=this._size=JD(this,t),c=Object.assign({},l,this._size),d=QD(a,t,c),u=ZD(t,c,d,a);(n._to!==u.x||i._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=o.width,this.height=o.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const a=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(a);const n={width:this.width,height:this.height},i={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const l=fl(a.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;a.enabled&&o&&(t.save(),t.globalAlpha=s,this.drawBackground(i,t,n,a),iU(t,a.textDirection),i.y+=l.top,this.drawTitle(i,t,a),this.drawBody(i,t,a),this.drawFooter(i,t,a),lU(t,a.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,a){const s=this._active,n=t.map(({datasetIndex:o,index:c})=>{const d=this.chart.getDatasetMeta(o);if(!d)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:d.data[c],index:c}}),i=!H2(s,n),l=this._positionChanged(n,a);(i||l)&&(this._active=n,this._eventPosition=a,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,a,s=!0){if(a&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,i=this._active||[],l=this._getActiveElements(t,i,a,s),o=this._positionChanged(l,t),c=a||!H2(l,i)||o;return c&&(this._active=l,(n.enabled||n.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,a))),c}_getActiveElements(t,a,s,n){const i=this.options;if(t.type==="mouseout")return[];if(!n)return a.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,i.mode,i,s);return i.reverse&&l.reverse(),l}_positionChanged(t,a){const{caretX:s,caretY:n,options:i}=this,l=a1[i.position].call(this,t,a);return l!==!1&&(s!==l.x||n!==l.y)}};var rn={id:"tooltip",_element:aM,positioners:a1,afterInit(e,t,a){a&&(e.tooltip=new aM({chart:e,options:a}))},beforeUpdate(e,t,a){e.tooltip&&e.tooltip.initialize(a)},reset(e,t,a){e.tooltip&&e.tooltip.initialize(a)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const a={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...a,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",a)}},afterEvent(e,t){if(e.tooltip){const a=t.replay;e.tooltip.handleEvent(t.event,a,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:FU},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Wie=Object.freeze({__proto__:null,Colors:iie,Decimation:die,Filler:Eie,Legend:an,SubTitle:Fie,Title:wx,Tooltip:rn});const qie=(e,t,a,s)=>(typeof t=="string"?(a=e.push(t)-1,s.unshift({index:a,label:t})):isNaN(t)&&(a=null),a);function Gie(e,t,a,s){const n=e.indexOf(t);if(n===-1)return qie(e,t,a,s);const i=e.lastIndexOf(t);return n!==i?a:n}const Kie=(e,t)=>e===null?null:ji(Math.round(e),0,t);function rM(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Cn extends Tm{static id="category";static defaults={ticks:{callback:rM}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const a=this._addedLabels;if(a.length){const s=this.getLabels();for(const{index:n,label:i}of a)s[n]===i&&s.splice(n,1);this._addedLabels=[]}super.init(t)}parse(t,a){if(hr(t))return null;const s=this.getLabels();return a=isFinite(a)&&s[a]===t?a:Gie(s,t,Ga(a,t),this._addedLabels),Kie(a,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:a}=this.getUserBounds();let{min:s,max:n}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),a||(n=this.getLabels().length-1)),this.min=s,this.max=n}buildTicks(){const t=this.min,a=this.max,s=this.options.offset,n=[];let i=this.getLabels();i=t===0&&a===i.length-1?i:i.slice(t,a+1),this._valueRange=Math.max(i.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let l=t;l<=a;l++)n.push({value:l});return n}getLabelForValue(t){return rM.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const a=this.ticks;return t<0||t>a.length-1?null:this.getPixelForValue(a[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function Yie(e,t){const a=[],{bounds:n,step:i,min:l,max:o,precision:c,count:d,maxTicks:u,maxDigits:f,includeBounds:x}=e,m=i||1,g=u-1,{min:v,max:b}=t,j=!hr(l),S=!hr(o),k=!hr(d),N=(b-v)/(f+1);let A=J7((b-v)/g/m)*m,_,D,P,I;if(A<1e-14&&!j&&!S)return[{value:v},{value:b}];I=Math.ceil(b/A)-Math.floor(v/A),I>g&&(A=J7(I*A/g/m)*m),hr(c)||(_=Math.pow(10,c),A=Math.ceil(A*_)/_),n==="ticks"?(D=Math.floor(v/A)*A,P=Math.ceil(b/A)*A):(D=v,P=b),j&&S&&i&&Uae((o-l)/i,A/1e3)?(I=Math.round(Math.min((o-l)/A,u)),A=(o-l)/I,D=l,P=o):k?(D=j?l:D,P=S?o:P,I=d-1,A=(P-D)/I):(I=(P-D)/A,d1(I,Math.round(I),A/1e3)?I=Math.round(I):I=Math.ceil(I));const B=Math.max(Q7(A),Q7(D));_=Math.pow(10,hr(c)?B:c),D=Math.round(D*_)/_,P=Math.round(P*_)/_;let O=0;for(j&&(x&&D!==l?(a.push({value:l}),D<l&&O++,d1(Math.round((D+O*A)*_)/_,l,sM(l,N,e))&&O++):D<l&&O++);O<I;++O){const U=Math.round((D+O*A)*_)/_;if(S&&U>o)break;a.push({value:U})}return S&&x&&P!==o?a.length&&d1(a[a.length-1].value,o,sM(o,N,e))?a[a.length-1].value=o:a.push({value:o}):(!S||P===o)&&a.push({value:P}),a}function sM(e,t,{horizontal:a,minRotation:s}){const n=nd(s),i=(a?Math.sin(n):Math.cos(n))||.001,l=.75*t*(""+e).length;return Math.min(t/i,l)}class X2 extends Tm{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,a){return hr(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:a,maxDefined:s}=this.getUserBounds();let{min:n,max:i}=this;const l=c=>n=a?n:c,o=c=>i=s?i:c;if(t){const c=Zd(n),d=Zd(i);c<0&&d<0?o(0):c>0&&d>0&&l(0)}if(n===i){let c=i===0?1:Math.abs(i*.05);o(i+c),t||l(n-c)}this.min=n,this.max=i}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:a,stepSize:s}=t,n;return s?(n=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,n>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${n} ticks. Limiting to 1000.`),n=1e3)):(n=this.computeTickLimit(),a=a||11),a&&(n=Math.min(a,n)),n}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,a=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const n={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:a.precision,step:a.stepSize,count:a.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:a.minRotation||0,includeBounds:a.includeBounds!==!1},i=this._range||this,l=Yie(n,i);return t.bounds==="ticks"&&H$(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let a=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const n=(s-a)/Math.max(t.length-1,1)/2;a-=n,s+=n}this._startValue=a,this._endValue=s,this._valueRange=s-a}getLabelForValue(t){return Lv(t,this.chart.options.locale,this.options.ticks.format)}}class An extends X2{static id="linear";static defaults={ticks:{callback:Aj.formatters.numeric}};determineDataLimits(){const{min:t,max:a}=this.getMinMax(!0);this.min=Zs(t)?t:0,this.max=Zs(a)?a:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),a=t?this.width:this.height,s=nd(this.options.ticks.minRotation),n=(t?Math.sin(s):Math.cos(s))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(a/Math.min(40,i.lineHeight/n))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const V1=e=>Math.floor(bf(e)),k0=(e,t)=>Math.pow(10,V1(e)+t);function nM(e){return e/Math.pow(10,V1(e))===1}function iM(e,t,a){const s=Math.pow(10,a),n=Math.floor(e/s);return Math.ceil(t/s)-n}function Xie(e,t){const a=t-e;let s=V1(a);for(;iM(e,t,s)>10;)s++;for(;iM(e,t,s)<10;)s--;return Math.min(s,V1(e))}function Jie(e,{min:t,max:a}){t=ko(e.min,t);const s=[],n=V1(t);let i=Xie(t,a),l=i<0?Math.pow(10,Math.abs(i)):1;const o=Math.pow(10,i),c=n>i?Math.pow(10,n):0,d=Math.round((t-c)*l)/l,u=Math.floor((t-c)/o/10)*o*10;let f=Math.floor((d-u)/Math.pow(10,i)),x=ko(e.min,Math.round((c+u+f*Math.pow(10,i))*l)/l);for(;x<a;)s.push({value:x,major:nM(x),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(i++,f=2,l=i>=0?1:l),x=Math.round((c+u+f*Math.pow(10,i))*l)/l;const m=ko(e.max,x);return s.push({value:m,major:nM(m),significand:f}),s}class Qie extends Tm{static id="logarithmic";static defaults={ticks:{callback:Aj.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,a){const s=X2.prototype.parse.apply(this,[t,a]);if(s===0){this._zero=!0;return}return Zs(s)&&s>0?s:null}determineDataLimits(){const{min:t,max:a}=this.getMinMax(!0);this.min=Zs(t)?Math.max(0,t):null,this.max=Zs(a)?Math.max(0,a):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Zs(this._userMin)&&(this.min=t===k0(this.min,0)?k0(this.min,-1):k0(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:a}=this.getUserBounds();let s=this.min,n=this.max;const i=o=>s=t?s:o,l=o=>n=a?n:o;s===n&&(s<=0?(i(1),l(10)):(i(k0(s,-1)),l(k0(n,1)))),s<=0&&i(k0(n,-1)),n<=0&&l(k0(s,1)),this.min=s,this.max=n}buildTicks(){const t=this.options,a={min:this._userMin,max:this._userMax},s=Jie(a,this);return t.bounds==="ticks"&&H$(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(t){return t===void 0?"0":Lv(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=bf(t),this._valueRange=bf(this.max)-bf(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(bf(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const a=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+a*this._valueRange)}}function Ok(e){const t=e.ticks;if(t.display&&e.display){const a=fl(t.backdropPadding);return Ga(t.font&&t.font.size,Es.font.size)+a.height}return 0}function Zie(e,t,a){return a=Ts(a)?a:[a],{w:sre(e,t.string,a),h:a.length*t.lineHeight}}function lM(e,t,a,s,n){return e===s||e===n?{start:t-a/2,end:t+a/2}:e<s||e>n?{start:t-a,end:t}:{start:t,end:t+a}}function ele(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},a=Object.assign({},t),s=[],n=[],i=e._pointLabels.length,l=e.options.pointLabels,o=l.centerPointLabels?Er/i:0;for(let c=0;c<i;c++){const d=l.setContext(e.getPointLabelContext(c));n[c]=d.padding;const u=e.getPointPosition(c,e.drawingArea+n[c],o),f=Qn(d.font),x=Zie(e.ctx,f,e._pointLabels[c]);s[c]=x;const m=sl(e.getIndexAngle(c)+o),g=Math.round(Q6(m)),v=lM(g,u.x,x.w,0,180),b=lM(g,u.y,x.h,90,270);tle(a,t,m,v,b)}e.setCenterPoint(t.l-a.l,a.r-t.r,t.t-a.t,a.b-t.b),e._pointLabelItems=sle(e,s,n)}function tle(e,t,a,s,n){const i=Math.abs(Math.sin(a)),l=Math.abs(Math.cos(a));let o=0,c=0;s.start<t.l?(o=(t.l-s.start)/i,e.l=Math.min(e.l,t.l-o)):s.end>t.r&&(o=(s.end-t.r)/i,e.r=Math.max(e.r,t.r+o)),n.start<t.t?(c=(t.t-n.start)/l,e.t=Math.min(e.t,t.t-c)):n.end>t.b&&(c=(n.end-t.b)/l,e.b=Math.max(e.b,t.b+c))}function ale(e,t,a){const s=e.drawingArea,{extra:n,additionalAngle:i,padding:l,size:o}=a,c=e.getPointPosition(t,s+n+l,i),d=Math.round(Q6(sl(c.angle+Nn))),u=lle(c.y,o.h,d),f=nle(d),x=ile(c.x,o.w,f);return{visible:!0,x:c.x,y:u,textAlign:f,left:x,top:u,right:x+o.w,bottom:u+o.h}}function rle(e,t){if(!t)return!0;const{left:a,top:s,right:n,bottom:i}=e;return!(Gu({x:a,y:s},t)||Gu({x:a,y:i},t)||Gu({x:n,y:s},t)||Gu({x:n,y:i},t))}function sle(e,t,a){const s=[],n=e._pointLabels.length,i=e.options,{centerPointLabels:l,display:o}=i.pointLabels,c={extra:Ok(i)/2,additionalAngle:l?Er/n:0};let d;for(let u=0;u<n;u++){c.padding=a[u],c.size=t[u];const f=ale(e,u,c);s.push(f),o==="auto"&&(f.visible=rle(f,d),f.visible&&(d=f))}return s}function nle(e){return e===0||e===180?"center":e<180?"left":"right"}function ile(e,t,a){return a==="right"?e-=t:a==="center"&&(e-=t/2),e}function lle(e,t,a){return a===90||a===270?e-=t/2:(a>270||a<90)&&(e-=t),e}function ole(e,t,a){const{left:s,top:n,right:i,bottom:l}=a,{backdropColor:o}=t;if(!hr(o)){const c=W0(t.borderRadius),d=fl(t.backdropPadding);e.fillStyle=o;const u=s-d.left,f=n-d.top,x=i-s+d.width,m=l-n+d.height;Object.values(c).some(g=>g!==0)?(e.beginPath(),z1(e,{x:u,y:f,w:x,h:m,radius:c}),e.fill()):e.fillRect(u,f,x,m)}}function cle(e,t){const{ctx:a,options:{pointLabels:s}}=e;for(let n=t-1;n>=0;n--){const i=e._pointLabelItems[n];if(!i.visible)continue;const l=s.setContext(e.getPointLabelContext(n));ole(a,l,i);const o=Qn(l.font),{x:c,y:d,textAlign:u}=i;cm(a,e._pointLabels[n],c,d+o.lineHeight/2,o,{color:l.color,textAlign:u,textBaseline:"middle"})}}function IU(e,t,a,s){const{ctx:n}=e;if(a)n.arc(e.xCenter,e.yCenter,t,0,ms);else{let i=e.getPointPosition(0,t);n.moveTo(i.x,i.y);for(let l=1;l<s;l++)i=e.getPointPosition(l,t),n.lineTo(i.x,i.y)}}function dle(e,t,a,s,n){const i=e.ctx,l=t.circular,{color:o,lineWidth:c}=t;!l&&!s||!o||!c||a<0||(i.save(),i.strokeStyle=o,i.lineWidth=c,i.setLineDash(n.dash||[]),i.lineDashOffset=n.dashOffset,i.beginPath(),IU(e,a,l,s),i.closePath(),i.stroke(),i.restore())}function ule(e,t,a){return Uf(e,{label:a,index:t,type:"pointLabel"})}class hle extends X2{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Aj.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=fl(Ok(this.options)/2),a=this.width=this.maxWidth-t.width,s=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+a/2+t.left),this.yCenter=Math.floor(this.top+s/2+t.top),this.drawingArea=Math.floor(Math.min(a,s)/2)}determineDataLimits(){const{min:t,max:a}=this.getMinMax(!1);this.min=Zs(t)&&!isNaN(t)?t:0,this.max=Zs(a)&&!isNaN(a)?a:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Ok(this.options))}generateTickLabels(t){X2.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((a,s)=>{const n=ls(this.options.pointLabels.callback,[a,s],this);return n||n===0?n:""}).filter((a,s)=>this.chart.getDataVisibility(s))}fit(){const t=this.options;t.display&&t.pointLabels.display?ele(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,a,s,n){this.xCenter+=Math.floor((t-a)/2),this.yCenter+=Math.floor((s-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,a,s,n))}getIndexAngle(t){const a=ms/(this._pointLabels.length||1),s=this.options.startAngle||0;return sl(t*a+nd(s))}getDistanceFromCenterForValue(t){if(hr(t))return NaN;const a=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*a:(t-this.min)*a}getValueForDistanceFromCenter(t){if(hr(t))return NaN;const a=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-a:this.min+a}getPointLabelContext(t){const a=this._pointLabels||[];if(t>=0&&t<a.length){const s=a[t];return ule(this.getContext(),t,s)}}getPointPosition(t,a,s=0){const n=this.getIndexAngle(t)-Nn+s;return{x:Math.cos(n)*a+this.xCenter,y:Math.sin(n)*a+this.yCenter,angle:n}}getPointPositionForValue(t,a){return this.getPointPosition(t,this.getDistanceFromCenterForValue(a))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:a,top:s,right:n,bottom:i}=this._pointLabelItems[t];return{left:a,top:s,right:n,bottom:i}}drawBackground(){const{backgroundColor:t,grid:{circular:a}}=this.options;if(t){const s=this.ctx;s.save(),s.beginPath(),IU(this,this.getDistanceFromCenterForValue(this._endValue),a,this._pointLabels.length),s.closePath(),s.fillStyle=t,s.fill(),s.restore()}}drawGrid(){const t=this.ctx,a=this.options,{angleLines:s,grid:n,border:i}=a,l=this._pointLabels.length;let o,c,d;if(a.pointLabels.display&&cle(this,l),n.display&&this.ticks.forEach((u,f)=>{if(f!==0||f===0&&this.min<0){c=this.getDistanceFromCenterForValue(u.value);const x=this.getContext(f),m=n.setContext(x),g=i.setContext(x);dle(this,m,c,l,g)}}),s.display){for(t.save(),o=l-1;o>=0;o--){const u=s.setContext(this.getPointLabelContext(o)),{color:f,lineWidth:x}=u;!x||!f||(t.lineWidth=x,t.strokeStyle=f,t.setLineDash(u.borderDash),t.lineDashOffset=u.borderDashOffset,c=this.getDistanceFromCenterForValue(a.reverse?this.min:this.max),d=this.getPointPosition(o,c),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(d.x,d.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,a=this.options,s=a.ticks;if(!s.display)return;const n=this.getIndexAngle(0);let i,l;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(n),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((o,c)=>{if(c===0&&this.min>=0&&!a.reverse)return;const d=s.setContext(this.getContext(c)),u=Qn(d.font);if(i=this.getDistanceFromCenterForValue(this.ticks[c].value),d.showLabelBackdrop){t.font=u.string,l=t.measureText(o.label).width,t.fillStyle=d.backdropColor;const f=fl(d.backdropPadding);t.fillRect(-l/2-f.left,-i-u.size/2-f.top,l+f.width,u.size+f.height)}cm(t,o.label,0,-i,u,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),t.restore()}drawTitle(){}}const Lj={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Jl=Object.keys(Lj);function oM(e,t){return e-t}function cM(e,t){if(hr(t))return null;const a=e._adapter,{parser:s,round:n,isoWeekday:i}=e._parseOpts;let l=t;return typeof s=="function"&&(l=s(l)),Zs(l)||(l=typeof s=="string"?a.parse(l,s):a.parse(l)),l===null?null:(n&&(l=n==="week"&&(ex(i)||i===!0)?a.startOf(l,"isoWeek",i):a.startOf(l,n)),+l)}function dM(e,t,a,s){const n=Jl.length;for(let i=Jl.indexOf(e);i<n-1;++i){const l=Lj[Jl[i]],o=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((a-t)/(o*l.size))<=s)return Jl[i]}return Jl[n-1]}function fle(e,t,a,s,n){for(let i=Jl.length-1;i>=Jl.indexOf(a);i--){const l=Jl[i];if(Lj[l].common&&e._adapter.diff(n,s,l)>=t-1)return l}return Jl[a?Jl.indexOf(a):0]}function mle(e){for(let t=Jl.indexOf(e)+1,a=Jl.length;t<a;++t)if(Lj[Jl[t]].common)return Jl[t]}function uM(e,t,a){if(!a)e[t]=!0;else if(a.length){const{lo:s,hi:n}=Z6(a,t),i=a[s]>=t?a[s]:a[n];e[i]=!0}}function ple(e,t,a,s){const n=e._adapter,i=+n.startOf(t[0].value,s),l=t[t.length-1].value;let o,c;for(o=i;o<=l;o=+n.add(o,1,s))c=a[o],c>=0&&(t[c].major=!0);return t}function hM(e,t,a){const s=[],n={},i=t.length;let l,o;for(l=0;l<i;++l)o=t[l],n[o]=l,s.push({value:o,major:!1});return i===0||!a?s:ple(e,s,n,a)}class Rk extends Tm{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,a={}){const s=t.time||(t.time={}),n=this._adapter=new Sse._date(t.adapters.date);n.init(a),c1(s.displayFormats,n.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=a.normalized}parse(t,a){return t===void 0?null:cM(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,a=this._adapter,s=t.time.unit||"day";let{min:n,max:i,minDefined:l,maxDefined:o}=this.getUserBounds();function c(d){!l&&!isNaN(d.min)&&(n=Math.min(n,d.min)),!o&&!isNaN(d.max)&&(i=Math.max(i,d.max))}(!l||!o)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),n=Zs(n)&&!isNaN(n)?n:+a.startOf(Date.now(),s),i=Zs(i)&&!isNaN(i)?i:+a.endOf(Date.now(),s)+1,this.min=Math.min(n,i-1),this.max=Math.max(n+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let a=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(a=t[0],s=t[t.length-1]),{min:a,max:s}}buildTicks(){const t=this.options,a=t.time,s=t.ticks,n=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const i=this.min,l=this.max,o=Wae(n,i,l);return this._unit=a.unit||(s.autoSkip?dM(a.minUnit,this.min,this.max,this._getLabelCapacity(i)):fle(this,o.length,a.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:mle(this._unit),this.initOffsets(n),t.reverse&&o.reverse(),hM(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let a=0,s=0,n,i;this.options.offset&&t.length&&(n=this.getDecimalForValue(t[0]),t.length===1?a=1-n:a=(this.getDecimalForValue(t[1])-n)/2,i=this.getDecimalForValue(t[t.length-1]),t.length===1?s=i:s=(i-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;a=ji(a,0,l),s=ji(s,0,l),this._offsets={start:a,end:s,factor:1/(a+1+s)}}_generate(){const t=this._adapter,a=this.min,s=this.max,n=this.options,i=n.time,l=i.unit||dM(i.minUnit,a,s,this._getLabelCapacity(a)),o=Ga(n.ticks.stepSize,1),c=l==="week"?i.isoWeekday:!1,d=ex(c)||c===!0,u={};let f=a,x,m;if(d&&(f=+t.startOf(f,"isoWeek",c)),f=+t.startOf(f,d?"day":l),t.diff(s,a,l)>1e5*o)throw new Error(a+" and "+s+" are too far apart with stepSize of "+o+" "+l);const g=n.ticks.source==="data"&&this.getDataTimestamps();for(x=f,m=0;x<s;x=+t.add(x,o,l),m++)uM(u,x,g);return(x===s||n.bounds==="ticks"||m===1)&&uM(u,x,g),Object.keys(u).sort(oM).map(v=>+v)}getLabelForValue(t){const a=this._adapter,s=this.options.time;return s.tooltipFormat?a.format(t,s.tooltipFormat):a.format(t,s.displayFormats.datetime)}format(t,a){const n=this.options.time.displayFormats,i=this._unit,l=a||n[i];return this._adapter.format(t,l)}_tickFormatFunction(t,a,s,n){const i=this.options,l=i.ticks.callback;if(l)return ls(l,[t,a,s],this);const o=i.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&o[c],f=d&&o[d],x=s[a],m=d&&f&&x&&x.major;return this._adapter.format(t,n||(m?f:u))}generateTickLabels(t){let a,s,n;for(a=0,s=t.length;a<s;++a)n=t[a],n.label=this._tickFormatFunction(n.value,a,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const a=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((a.start+s)*a.factor)}getValueForPixel(t){const a=this._offsets,s=this.getDecimalForPixel(t)/a.factor-a.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const a=this.options.ticks,s=this.ctx.measureText(t).width,n=nd(this.isHorizontal()?a.maxRotation:a.minRotation),i=Math.cos(n),l=Math.sin(n),o=this._resolveTickFontOptions(0).size;return{w:s*i+o*l,h:s*l+o*i}}_getLabelCapacity(t){const a=this.options.time,s=a.displayFormats,n=s[a.unit]||s.millisecond,i=this._tickFormatFunction(t,0,hM(this,[t],this._majorUnit),n),l=this._getLabelSize(i),o=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return o>0?o:1}getDataTimestamps(){let t=this._cache.data||[],a,s;if(t.length)return t;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(a=0,s=n.length;a<s;++a)t=t.concat(n[a].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let a,s;if(t.length)return t;const n=this.getLabels();for(a=0,s=n.length;a<s;++a)t.push(cM(this,n[a]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return q$(t.sort(oM))}}function Dy(e,t,a){let s=0,n=e.length-1,i,l,o,c;a?(t>=e[s].pos&&t<=e[n].pos&&({lo:s,hi:n}=qu(e,"pos",t)),{pos:i,time:o}=e[s],{pos:l,time:c}=e[n]):(t>=e[s].time&&t<=e[n].time&&({lo:s,hi:n}=qu(e,"time",t)),{time:i,pos:o}=e[s],{time:l,pos:c}=e[n]);const d=l-i;return d?o+(c-o)*(t-i)/d:o}class xle extends Rk{static id="timeseries";static defaults=Rk.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),a=this._table=this.buildLookupTable(t);this._minPos=Dy(a,this.min),this._tableRange=Dy(a,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:a,max:s}=this,n=[],i=[];let l,o,c,d,u;for(l=0,o=t.length;l<o;++l)d=t[l],d>=a&&d<=s&&n.push(d);if(n.length<2)return[{time:a,pos:0},{time:s,pos:1}];for(l=0,o=n.length;l<o;++l)u=n[l+1],c=n[l-1],d=n[l],Math.round((u+c)/2)!==d&&i.push({time:d,pos:l/(o-1)});return i}_generate(){const t=this.min,a=this.max;let s=super.getDataTimestamps();return(!s.includes(t)||!s.length)&&s.splice(0,0,t),(!s.includes(a)||s.length===1)&&s.push(a),s.sort((n,i)=>n-i)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const a=this.getDataTimestamps(),s=this.getLabelTimestamps();return a.length&&s.length?t=this.normalize(a.concat(s)):t=a.length?a:s,t=this._cache.all=t,t}getDecimalForValue(t){return(Dy(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const a=this._offsets,s=this.getDecimalForPixel(t)/a.factor-a.end;return Dy(this._table,s*this._tableRange+this._minPos,!0)}}var gle=Object.freeze({__proto__:null,CategoryScale:Cn,LinearScale:An,LogarithmicScale:Qie,RadialLinearScale:hle,TimeScale:Rk,TimeSeriesScale:xle});const vle=[Nse,Zne,Wie,gle],BU="label";function fM(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function ble(e,t){const a=e.options;a&&t&&Object.assign(a,t)}function $U(e,t){e.labels=t}function UU(e,t){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:BU;const s=[];e.datasets=t.map(n=>{const i=e.datasets.find(l=>l[a]===n[a]);return!i||!n.data||s.includes(i)?{...n}:(s.push(i),Object.assign(i,n),i)})}function yle(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:BU;const a={labels:[],datasets:[]};return $U(a,e.labels),UU(a,e.datasets,t),a}function wle(e,t){const{height:a=150,width:s=300,redraw:n=!1,datasetIdKey:i,type:l,data:o,options:c,plugins:d=[],fallbackContent:u,updateMode:f,...x}=e,m=w.useRef(null),g=w.useRef(null),v=()=>{m.current&&(g.current=new Sr(m.current,{type:l,data:yle(o,i),options:c&&{...c},plugins:d}),fM(t,g.current))},b=()=>{fM(t,null),g.current&&(g.current.destroy(),g.current=null)};return w.useEffect(()=>{!n&&g.current&&c&&ble(g.current,c)},[n,c]),w.useEffect(()=>{!n&&g.current&&$U(g.current.config.data,o.labels)},[n,o.labels]),w.useEffect(()=>{!n&&g.current&&o.datasets&&UU(g.current.config.data,o.datasets,i)},[n,o.datasets]),w.useEffect(()=>{g.current&&(n?(b(),setTimeout(v)):g.current.update(f))},[n,c,o.labels,o.datasets,f]),w.useEffect(()=>{g.current&&(b(),setTimeout(v))},[l]),w.useEffect(()=>(v(),()=>b()),[]),In.createElement("canvas",{ref:m,role:"img",height:a,width:s,...x},u)}const jle=w.forwardRef(wle);function Oj(e,t){return Sr.register(t),w.forwardRef((a,s)=>In.createElement(jle,{...a,ref:s,type:e}))}const no=Oj("line",xU),Ls=Oj("bar",pU),Rj=Oj("doughnut",Dj),zU=Oj("pie",vU);Sr.register(Em,rn,an);const Zn=({percentage:e=2,segments:t=[],centerValue:a,centerValueSuffix:s,centerLabel:n,size:i=160,centerLabelPosition:l="below",subLabel:o,primaryColor:c,secondaryColor:d,cutout:u="70%",spacing:f=0,borderRadius:x=0,centerValueClass:m,centerLabelClass:g,subLabelClass:v,innerTrack:b=!0,innerTrackRadius:j="92%",innerTrackCutout:S="86%",innerTrackColor:k,animateCenterCountUp:N=!1,centerValueDuration:A=700})=>{const _=document.documentElement.classList.contains("dark"),D=t&&t.length>0?{labels:t.map(B=>B.label),datasets:[{data:t.map(B=>B.value),backgroundColor:t.map(B=>B.color),borderColor:_?"#111827":"#ffffff",borderWidth:_?1:0,cutout:u,hoverOffset:6,spacing:2,borderRadius:x}]}:{labels:["Completed","Remaining"],datasets:[...b?[{data:[100],backgroundColor:[k||(_?"#3f4a5a":"#cbd5e1")],borderColor:_?"#111827":"#ffffff",borderWidth:0,hoverOffset:0,spacing:0,radius:j,cutout:S}]:[],{data:[e,100-e],backgroundColor:[c||"#2dd4bf",d||(_?"#475569":"#e5e7eb")],borderColor:_?"#111827":"#ffffff",borderWidth:0,cutout:u,hoverOffset:6,spacing:f,borderRadius:x,radius:"100%"}]},P={responsive:!0,maintainAspectRatio:!1,devicePixelRatio:2,plugins:{legend:{display:!1},tooltip:{callbacks:{label:B=>{const O=B.parsed,U=B.dataset.data.reduce((R,K)=>R+K,0),E=U?Math.round(O/U*100):0;return`${B.label}: ${O} (${E}%)`}}}},animation:{animateRotate:!0,animateScale:!0}};function I({value:B,duration:O}){const[U,E]=In.useState(B),R=In.useRef(B);return In.useEffect(()=>{if(typeof B!="number"){E(B);return}const K=typeof R.current=="number"?R.current:0,V=B;R.current=V;const Z=performance.now(),J=ee=>{const W=Math.min(1,(ee-Z)/O),le=Math.round(K+(V-K)*W);E(le),W<1&&requestAnimationFrame(J)};requestAnimationFrame(J)},[B,O]),r.jsx("span",{children:U})}return r.jsxs("div",{className:"relative flex items-center justify-center",children:[r.jsx("div",{style:{width:i,height:i},children:r.jsx(Rj,{data:D,options:P})}),(a!==void 0||n)&&r.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[n&&l==="above"&&r.jsx("div",{className:"text-xs text-[var(--muted-text)] mb-1",children:n}),a!==void 0&&r.jsxs("div",{className:m||"text-2xl font-bold flex items-baseline gap-1",children:[N&&typeof a=="number"?r.jsx(I,{value:a,duration:A}):r.jsx("span",{children:a}),s&&r.jsx("span",{className:"text-xs opacity-70",children:s})]}),n&&l!=="above"&&r.jsx("div",{className:g||"text-xs text-[var(--muted-text)] mt-1",children:n}),o&&r.jsx("div",{className:v||"text-[10px] text-[var(--muted-text)] mt-0.5",children:o})]})]})};var HU={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},mM=In.createContext&&In.createContext(HU),Nle=["attr","size","title"];function Sle(e,t){if(e==null)return{};var a=kle(e,t),s,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function kle(e,t){if(e==null)return{};var a={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;a[s]=e[s]}return a}function J2(){return J2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},J2.apply(this,arguments)}function pM(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,s)}return a}function Q2(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?pM(Object(a),!0).forEach(function(s){Cle(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pM(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function Cle(e,t,a){return t=Ale(t),t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ale(e){var t=_le(e,"string");return typeof t=="symbol"?t:t+""}function _le(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VU(e){return e&&e.map((t,a)=>In.createElement(t.tag,Q2({key:a},t.attr),VU(t.child)))}function Kt(e){return t=>In.createElement(Tle,J2({attr:Q2({},e.attr)},t),VU(e.child))}function Tle(e){var t=a=>{var{attr:s,size:n,title:i}=e,l=Sle(e,Nle),o=n||a.size||"1em",c;return a.className&&(c=a.className),e.className&&(c=(c?c+" ":"")+e.className),In.createElement("svg",J2({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},a.attr,s,l,{className:c,style:Q2(Q2({color:e.color||a.color},a.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),i&&In.createElement("title",null,i),e.children)};return mM!==void 0?In.createElement(mM.Consumer,null,a=>t(a)):t(HU)}function dA(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M2 13H8V21H2V13ZM16 8H22V21H16V8ZM9 3H15V21H9V3ZM4 15V19H6V15H4ZM11 5V19H13V5H11ZM18 10V19H20V10H18Z"},child:[]}]})(e)}function Ele(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M9 1V3H15V1H17V3H21C21.5523 3 22 3.44772 22 4V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V4C2 3.44772 2.44772 3 3 3H7V1H9ZM20 10H4V19H20V10ZM15.0355 11.136L16.4497 12.5503L11.5 17.5L7.96447 13.9645L9.37868 12.5503L11.5 14.6716L15.0355 11.136ZM7 5H4V8H20V5H17V6H15V5H9V6H7V5Z"},child:[]}]})(e)}function WU(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5 3V19H21V21H3V3H5ZM20.2929 6.29289L21.7071 7.70711L16 13.4142L13 10.415L8.70711 14.7071L7.29289 13.2929L13 7.58579L16 10.585L20.2929 6.29289Z"},child:[]}]})(e)}function qU(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M9 2.4578V4.58152C6.06817 5.76829 4 8.64262 4 12C4 16.4183 7.58172 20 12 20C15.3574 20 18.2317 17.9318 19.4185 15H21.5422C20.2679 19.0571 16.4776 22 12 22C6.47715 22 2 17.5228 2 12C2 7.52236 4.94289 3.73207 9 2.4578ZM12 2C17.5228 2 22 6.47715 22 12C22 12.3375 21.9833 12.6711 21.9506 13H11V2.04938C11.3289 2.01672 11.6625 2 12 2ZM13 4.06189V11H19.9381C19.4869 7.38128 16.6187 4.51314 13 4.06189Z"},child:[]}]})(e)}function Dle(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M20.0833 15.1999L21.2854 15.9212C21.5221 16.0633 21.5989 16.3704 21.4569 16.6072C21.4146 16.6776 21.3557 16.7365 21.2854 16.7787L12.5144 22.0412C12.1977 22.2313 11.8021 22.2313 11.4854 22.0412L2.71451 16.7787C2.47772 16.6366 2.40093 16.3295 2.54301 16.0927C2.58523 16.0223 2.64413 15.9634 2.71451 15.9212L3.9166 15.1999L11.9999 20.0499L20.0833 15.1999ZM20.0833 10.4999L21.2854 11.2212C21.5221 11.3633 21.5989 11.6704 21.4569 11.9072C21.4146 11.9776 21.3557 12.0365 21.2854 12.0787L11.9999 17.6499L2.71451 12.0787C2.47772 11.9366 2.40093 11.6295 2.54301 11.3927C2.58523 11.3223 2.64413 11.2634 2.71451 11.2212L3.9166 10.4999L11.9999 15.3499L20.0833 10.4999ZM12.5144 1.30864L21.2854 6.5712C21.5221 6.71327 21.5989 7.0204 21.4569 7.25719C21.4146 7.32757 21.3557 7.38647 21.2854 7.42869L11.9999 12.9999L2.71451 7.42869C2.47772 7.28662 2.40093 6.97949 2.54301 6.7427C2.58523 6.67232 2.64413 6.61343 2.71451 6.5712L11.4854 1.30864C11.8021 1.11864 12.1977 1.11864 12.5144 1.30864ZM11.9999 3.33233L5.88723 6.99995L11.9999 10.6676L18.1126 6.99995L11.9999 3.33233Z"},child:[]}]})(e)}function Mle(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z"},child:[]}]})(e)}function GU(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13.2 12L16 16H13.6L12 13.7143L10.4 16H8L10.8 12L8 8H10.4L12 10.2857L13.6 8H15V4H5V20H19V8H16L13.2 12ZM3 2.9918C3 2.44405 3.44749 2 3.9985 2H16L20.9997 7L21 20.9925C21 21.5489 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5447 3 21.0082V2.9918Z"},child:[]}]})(e)}function KU(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 16H8V8H12C14.2091 8 16 9.79086 16 12C16 14.2091 14.2091 16 12 16ZM10 10V14H12C13.1046 14 14 13.1046 14 12C14 10.8954 13.1046 10 12 10H10ZM15 4H5V20H19V8H15V4ZM3 2.9918C3 2.44405 3.44749 2 3.9985 2H16L20.9997 7L21 20.9925C21 21.5489 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5447 3 21.0082V2.9918Z"},child:[]}]})(e)}function Ple(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 4H21V6H8V4ZM4.5 6.5C3.67157 6.5 3 5.82843 3 5C3 4.17157 3.67157 3.5 4.5 3.5C5.32843 3.5 6 4.17157 6 5C6 5.82843 5.32843 6.5 4.5 6.5ZM4.5 13.5C3.67157 13.5 3 12.8284 3 12C3 11.1716 3.67157 10.5 4.5 10.5C5.32843 10.5 6 11.1716 6 12C6 12.8284 5.32843 13.5 4.5 13.5ZM4.5 20.4C3.67157 20.4 3 19.7284 3 18.9C3 18.0716 3.67157 17.4 4.5 17.4C5.32843 17.4 6 18.0716 6 18.9C6 19.7284 5.32843 20.4 4.5 20.4ZM8 11H21V13H8V11ZM8 18H21V20H8V18Z"},child:[]}]})(e)}function Lle(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13 10V14H19V10H13ZM11 10H5V14H11V10ZM13 19H19V16H13V19ZM11 19V16H5V19H11ZM13 5V8H19V5H13ZM11 5H5V8H11V5ZM4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3Z"},child:[]}]})(e)}function Ole(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M11.9997 10.5865L16.9495 5.63672L18.3637 7.05093L13.4139 12.0007L18.3637 16.9504L16.9495 18.3646L11.9997 13.4149L7.04996 18.3646L5.63574 16.9504L10.5855 12.0007L5.63574 7.05093L7.04996 5.63672L11.9997 10.5865Z"},child:[]}]})(e)}function y5(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 19H21V21H3V19ZM13 13.1716L19.0711 7.1005L20.4853 8.51472L12 17L3.51472 8.51472L4.92893 7.1005L11 13.1716V2H13V13.1716Z"},child:[]}]})(e)}function Rle(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M21 4V6H20L15 13.5V22H9V13.5L4 6H3V4H21ZM6.4037 6L11 12.8944V20H13V12.8944L17.5963 6H6.4037Z"},child:[]}]})(e)}function uA(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5.46257 4.43262C7.21556 2.91688 9.5007 2 12 2C17.5228 2 22 6.47715 22 12C22 14.1361 21.3302 16.1158 20.1892 17.7406L17 12H20C20 7.58172 16.4183 4 12 4C9.84982 4 7.89777 4.84827 6.46023 6.22842L5.46257 4.43262ZM18.5374 19.5674C16.7844 21.0831 14.4993 22 12 22C6.47715 22 2 17.5228 2 12C2 9.86386 2.66979 7.88416 3.8108 6.25944L7 12H4C4 16.4183 7.58172 20 12 20C14.1502 20 16.1022 19.1517 17.5398 17.7716L18.5374 19.5674Z"},child:[]}]})(e)}function Fle(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M18.031 16.6168L22.3137 20.8995L20.8995 22.3137L16.6168 18.031C15.0769 19.263 13.124 20 11 20C6.032 20 2 15.968 2 11C2 6.032 6.032 2 11 2C15.968 2 20 6.032 20 11C20 13.124 19.263 15.0769 18.031 16.6168ZM16.0247 15.8748C17.2475 14.6146 18 12.8956 18 11C18 7.1325 14.8675 4 11 4C7.1325 4 4 7.1325 4 11C4 14.8675 7.1325 18 11 18C12.8956 18 14.6146 17.2475 15.8748 16.0247L16.0247 15.8748Z"},child:[]}]})(e)}function Ile(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM13 12H17V14H11V7H13V12Z"},child:[]}]})(e)}function xM(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 19H21V21H3V19ZM13 5.82843V17H11V5.82843L4.92893 11.8995L3.51472 10.4853L12 2L20.4853 10.4853L19.0711 11.8995L13 5.82843Z"},child:[]}]})(e)}function Ble(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 14V16C8.68629 16 6 18.6863 6 22H4C4 17.5817 7.58172 14 12 14ZM12 13C8.685 13 6 10.315 6 7C6 3.685 8.685 1 12 1C15.315 1 18 3.685 18 7C18 10.315 15.315 13 12 13ZM12 11C14.21 11 16 9.21 16 7C16 4.79 14.21 3 12 3C9.79 3 8 4.79 8 7C8 9.21 9.79 11 12 11ZM14.5946 18.8115C14.5327 18.5511 14.5 18.2794 14.5 18C14.5 17.7207 14.5327 17.449 14.5945 17.1886L13.6029 16.6161L14.6029 14.884L15.5952 15.4569C15.9883 15.0851 16.4676 14.8034 17 14.6449V13.5H19V14.6449C19.5324 14.8034 20.0116 15.0851 20.4047 15.4569L21.3971 14.8839L22.3972 16.616L21.4055 17.1885C21.4673 17.449 21.5 17.7207 21.5 18C21.5 18.2793 21.4673 18.551 21.4055 18.8114L22.3972 19.3839L21.3972 21.116L20.4048 20.543C20.0117 20.9149 19.5325 21.1966 19.0001 21.355V22.5H17.0001V21.3551C16.4677 21.1967 15.9884 20.915 15.5953 20.5431L14.603 21.1161L13.6029 19.384L14.5946 18.8115ZM18 19.5C18.8284 19.5 19.5 18.8284 19.5 18C19.5 17.1716 18.8284 16.5 18 16.5C17.1716 16.5 16.5 17.1716 16.5 18C16.5 18.8284 17.1716 19.5 18 19.5Z"},child:[]}]})(e)}function $le(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 14V16C8.68629 16 6 18.6863 6 22H4C4 17.5817 7.58172 14 12 14ZM12 13C8.685 13 6 10.315 6 7C6 3.685 8.685 1 12 1C15.315 1 18 3.685 18 7C18 10.315 15.315 13 12 13ZM12 11C14.21 11 16 9.21 16 7C16 4.79 14.21 3 12 3C9.79 3 8 4.79 8 7C8 9.21 9.79 11 12 11ZM18 21.5L15.0611 23.0451L15.6224 19.7725L13.2447 17.4549L16.5305 16.9775L18 14L19.4695 16.9775L22.7553 17.4549L20.3776 19.7725L20.9389 23.0451L18 21.5Z"},child:[]}]})(e)}const Ule={primary:"#2563eb",secondary:"#64748b",success:"#16a34a",danger:"#dc2626",warning:"#f59e0b"},zle={heading:"ui-sans-serif, system-ui, Segoe UI",body:"ui-sans-serif, system-ui, Segoe UI"},YU=w.createContext({theme:"dark",setTheme:()=>{}}),Hle=({children:e})=>{const[t,a]=w.useState(()=>{try{const s=localStorage.getItem("systemPrefs");if(s){const i=JSON.parse(s);if(i&&(i.theme==="light"||i.theme==="dark"))return i.theme}return localStorage.getItem("theme")==="light"?"light":"dark"}catch{return"dark"}});return w.useEffect(()=>{const s=document.documentElement;t==="dark"?(s.classList.add("dark"),s.classList.remove("light")):(s.classList.remove("dark"),s.classList.add("light"));try{localStorage.setItem("theme",t);const n=localStorage.getItem("systemPrefs"),i=n?JSON.parse(n):{};i.theme=t,localStorage.setItem("systemPrefs",JSON.stringify(i))}catch{}},[t]),w.useEffect(()=>{try{const s=localStorage.getItem("systemPrefs");if(s){const n=JSON.parse(s),i=document.documentElement;if(n&&n.density){i.classList.remove("density-compact","density-comfortable","density-default");const l=`density-${n.density}`;i.classList.add(l)}n&&n.direction&&(document.dir=n.direction==="rtl"?"rtl":"ltr")}}catch{}},[]),r.jsx(YU.Provider,{value:{theme:t,setTheme:a,palette:Ule,fonts:zle},children:e})},Vi=()=>w.useContext(YU);function Vle({users:e=[]}){const{t,i18n:a}=Dt(),s=a.language||"en",{theme:n}=Vi(),i=n==="light",[l,o]=w.useState(!1),c=3,d=60,u=`
    .scrollbar-thin-blue { scrollbar-width: thin; scrollbar-color: #94a3b8 transparent; }
    .scrollbar-thin-blue::-webkit-scrollbar { width: 8px; }
    .scrollbar-thin-blue::-webkit-scrollbar-track { background: transparent; }
    .scrollbar-thin-blue::-webkit-scrollbar-thumb { background-color: #94a3b8; border-radius: 9999px; }
    .scrollbar-thin-blue:hover::-webkit-scrollbar-thumb { background-color: #64748b; }
    .dark .scrollbar-thin-blue { scrollbar-color: #2563eb transparent; }
    .dark .scrollbar-thin-blue::-webkit-scrollbar-thumb { background-color: #2563eb; }
    .dark .scrollbar-thin-blue:hover::-webkit-scrollbar-thumb { background-color: #1d4ed8; }
  `,f=w.useRef(null),x=w.useRef(null),m=w.useRef(null),[g,v]=w.useState(null);w.useEffect(()=>{const D=()=>{const P=f.current?.clientHeight||0,I=x.current?.clientHeight||0,B=m.current?.clientHeight||0,O=Math.max(P-I-B,0);v(O||null)};return D(),window.addEventListener("resize",D),()=>window.removeEventListener("resize",D)},[]);const b=[{name:s==="ar"?" ":"Ibrahim Ahmed",active:!0,lastSeen:new Date,role:s==="ar"?"":"Manager",avatar:""},{name:s==="ar"?" ":"Adam Mohamed",active:!1,lastSeen:new Date(Date.now()-12300*1e3),role:s==="ar"?"":"Developer",avatar:""},{name:s==="ar"?" ":"Sara Ali",active:!0,lastSeen:new Date(Date.now()-900*1e3),role:s==="ar"?"":"Designer",avatar:""},{name:s==="ar"?" ":"Mohamed Hassan",active:!1,lastSeen:new Date(Date.now()-1565*60*1e3),role:s==="ar"?"":"Analyst",avatar:""},{name:s==="ar"?" ":"Fatima Khaled",active:!0,lastSeen:new Date(Date.now()-300*1e3),role:s==="ar"?"":"Marketer",avatar:""},{name:s==="ar"?" ":"Zeinab Hossam",active:!0,lastSeen:new Date(Date.now()-420*1e3),role:s==="ar"?" ":"Marketing Manager",avatar:""},{name:s==="ar"?" ":"Karim Salah",active:!1,lastSeen:new Date(Date.now()-10800*1e3),role:s==="ar"?" ":"Security Developer",avatar:""},{name:s==="ar"?" ":"Hoda Abdullah",active:!0,lastSeen:new Date(Date.now()-1200*1e3),role:s==="ar"?" ":"Graphic Designer",avatar:""},{name:s==="ar"?" ":"Tarek Fouad",active:!0,lastSeen:new Date(Date.now()-120*1e3),role:s==="ar"?" DevOps":"DevOps Engineer",avatar:""},{name:s==="ar"?" ":"Rana Samir",active:!1,lastSeen:new Date(Date.now()-14400*1e3),role:s==="ar"?" ":"Content Writer",avatar:""},{name:s==="ar"?" ":"Hossam Eldeen",active:!0,lastSeen:new Date(Date.now()-600*1e3),role:s==="ar"?" ":"Mobile Developer",avatar:""},{name:s==="ar"?" ":"Mariam Adel",active:!1,lastSeen:new Date(Date.now()-300*60*1e3),role:s==="ar"?"":"Accountant",avatar:""},{name:s==="ar"?" ":"Khaled Waleed",active:!0,lastSeen:new Date(Date.now()-1500*1e3),role:s==="ar"?"  ":"HR Manager",avatar:""},{name:s==="ar"?" ":"Dina Mohamed",active:!0,lastSeen:new Date(Date.now()-360*1e3),role:s==="ar"?"  ":"Database Developer",avatar:""},{name:s==="ar"?" ":"Abdulrahman Ahmed",active:!1,lastSeen:new Date(Date.now()-9e3*1e3),role:s==="ar"?" ":"Network Engineer",avatar:""}],j=e.length?e:b,S=()=>{o(!0),setTimeout(()=>o(!1),1e3)},k=D=>{try{return new Intl.DateTimeFormat(s,{hour:"2-digit",minute:"2-digit",hour12:!1}).format(D)}catch{const P=I=>String(I).padStart(2,"0");return`${P(D.getHours())}:${P(D.getMinutes())}`}},N=D=>{const P=Date.now()-D.getTime(),I=Math.floor(P/6e4),B=Math.floor(I/60),O=I%60;return s==="ar"?B<=0?` ${O} `:` ${B}  ${O} `:B<=0?`${O} min ago`:`${B}h ${O}m ago`},A=j.filter(D=>D.active).length,_=j.length;return r.jsxs("div",{ref:f,className:"bg-white dark:bg-gray-900 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden h-full flex flex-col",children:[r.jsx("div",{ref:x,className:`${i?"bg-gradient-to-r from-blue-50 to-purple-100 text-slate-900 border-b border-gray-200":"bg-gray-900 text-white border-b border-gray-700"} p-3 flex-shrink-0`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`p-2 rounded-lg ${i?"bg-white":"bg-gray-800"}`,children:r.jsx($le,{className:"text-2xl"})}),r.jsxs("div",{children:[r.jsx("div",{className:`flex items-center ${s==="ar"?"flex-row-reverse":""} gap-2`,children:r.jsx("h3",{className:`text-lg font-bold ${i?"text-slate-900":"text-white"}`,children:t("Active Users")})}),r.jsxs("p",{className:`${i?"text-gray-600":"text-gray-300"} text-sm`,children:[A," ",s==="ar"?" ":"active of"," ",_," ",s==="ar"?"":"users"]})]})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("button",{onClick:S,className:`p-2 rounded-lg transition-all duration-200 hover:scale-105 ${i?"bg-white hover:bg-gray-100":"bg-gray-800 hover:bg-gray-700 text-white"} ${l?"animate-spin":""}`,title:t("Refresh"),children:r.jsx(uA,{className:"text-lg"})})})]})}),r.jsx("style",{children:u}),r.jsx("div",{className:"flex-1 overflow-hidden",children:r.jsx("div",{className:"h-full overflow-y-auto overflow-x-hidden scrollbar-thin-blue",style:{maxHeight:Array.isArray(j)&&j.length<=3?Math.min(j.length,3)*d:g||c*d},children:r.jsx("div",{className:"p-2 space-y-2",children:j.map((D,P)=>r.jsxs("div",{className:`grid grid-cols-[auto,1fr,auto] items-center gap-2 p-2 rounded-lg border ${D.active?"bg-emerald-50 border-emerald-200":"bg-red-50 border-red-200"}`,children:[r.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-9 h-9 bg-gradient-to-br from-blue-200 to-purple-300 dark:from-blue-400 dark:to-purple-500 rounded-full flex items-center justify-center text-[var(--content-text)] dark:text-white text-sm font-bold shadow dark:shadow-lg",children:D.avatar||D.name.charAt(0)}),r.jsx("div",{className:`absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-white dark:border-gray-700 ${D.active?"bg-emerald-500":"bg-red-500"}`,children:r.jsx(Mle,{className:"w-full h-full"})})]}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("span",{className:"font-bold text-[15px] sm:text-base truncate max-w-[14rem] text-black",children:D.name})}),r.jsxs("div",{className:"flex items-center gap-1 text-xs text-black",children:[r.jsx(Ble,{className:`text-xs ${i?D.active?"text-emerald-700":"text-red-700":"text-gray-300"}`}),r.jsx("span",{className:"truncate max-w-[12rem] text-black",children:D.role})]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"flex items-center gap-2",children:D.active?r.jsx("span",{className:"px-2 py-1 bg-emerald-100 dark:bg-emerald-900 text-emerald-800 dark:text-emerald-300 text-sm rounded-full font-semibold",children:s==="ar"?"":"Online"}):r.jsx("span",{className:"px-2 py-1 bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-300 text-sm rounded-full font-semibold",children:s==="ar"?"":"Offline"})}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-black mt-0.5",children:[r.jsx(Ile,{className:`text-xs ${i?D.active?"text-emerald-700":"text-red-700":"text-gray-300"}`}),r.jsx("span",{children:k(D.lastSeen)})]}),r.jsx("div",{className:"text-[11px] mt-0.5 text-black",children:N(D.lastSeen)})]})]},P))})})}),r.jsx("div",{ref:m,className:`px-3 py-2 border-t flex-shrink-0 ${i?"bg-[var(--lm-muted-surface)] border-white":"dark:bg-gray-700 dark:border-gray-600"}`,children:r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-emerald-500 rounded-full"}),r.jsxs("span",{className:"text-black font-bold dark:text-white",children:[A," ",s==="ar"?"":"Active"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),r.jsxs("span",{className:"text-black font-bold dark:text-white",children:[_-A," ",s==="ar"?" ":"Inactive"]})]})]}),r.jsxs("div",{className:"text-black font-semibold dark:text-gray-300",children:[s==="ar"?" :":"Last updated:"," ",k(new Date)]})]})})]})}function Wle({segments:e,employee:t,dateFrom:a,dateTo:s}){const{t:n,i18n:i}=Dt(),[l,o]=w.useState(!0),c=i.language||"en",d=c==="ar",{theme:u}=Vi(),f=u==="light",x=[{name:c==="ar"?" ":"Summer Promo",status:"onTrack",owner:"Osama Sales",lastActivity:"2025-01-10",openRate:32,clickRate:4.1,conversionRate:5.2},{name:c==="ar"?" ":"Winback Series",status:"atRisk",owner:"Youssef Hemeda",lastActivity:"2025-01-08",openRate:18,clickRate:2.3,conversionRate:2.1},{name:c==="ar"?" ":"Product Launch",status:"paused",owner:"Ahmed Ibrahim",lastActivity:"2025-01-06",openRate:0,clickRate:0,conversionRate:0},{name:c==="ar"?" ":"Market Expansion",status:"onTrack",owner:"Ahmed Ibrahim",lastActivity:"2025-01-05",openRate:25,clickRate:3.2,conversionRate:4},{name:c==="ar"?" ":"Upgrade Drive",status:"atRisk",owner:"Osama Sales",lastActivity:"2025-01-03",openRate:14,clickRate:1.8,conversionRate:1.5}],m=E=>{if(!a&&!s)return!0;const R=new Date(E);if(isNaN(R))return!0;const K=new Date(R.getFullYear(),R.getMonth(),R.getDate());if(a){const V=new Date(a);if(V.setHours(0,0,0,0),K<V)return!1}if(s){const V=new Date(s);if(V.setHours(0,0,0,0),K>V)return!1}return!0},g=x.filter(E=>(!t||E.owner===t)&&m(E.lastActivity)),v={onTrack:g.filter(E=>E.status==="onTrack").length,atRisk:g.filter(E=>E.status==="atRisk").length,paused:g.filter(E=>E.status==="paused").length},b=[{label:n("On Track"),value:v.onTrack,color:"#22c55e"},{label:n("At Risk"),value:v.atRisk,color:"#f59e0b"},{label:n("Paused"),value:v.paused,color:"#ef4444"}],j=l?b:b.filter(E=>E.label!==n("Paused")),S=v.onTrack+v.atRisk,k=g.filter(E=>E.status!=="paused"),N=k.length?Math.round(k.reduce((E,R)=>E+R.openRate,0)/k.length):0,A=k.length?Number((k.reduce((E,R)=>E+R.clickRate,0)/k.length).toFixed(1)):0,_=k.length?Number((k.reduce((E,R)=>E+R.conversionRate,0)/k.length).toFixed(1)):0,D=E=>E==="onTrack"?"bg-emerald-500":E==="atRisk"?"bg-amber-500":"bg-red-500",P=E=>n(E==="onTrack"?"On Track":E==="atRisk"?"At Risk":"Paused"),I=E=>f?E==="onTrack"?"bg-emerald-200 text-emerald-800 border border-emerald-300":E==="atRisk"?"bg-amber-200 text-amber-800 border border-amber-300":"bg-red-200 text-red-800 border border-red-300":E==="onTrack"?"bg-emerald-900/30 text-emerald-300":E==="atRisk"?"bg-amber-900/30 text-amber-300":"bg-red-900/30 text-red-300",B=E=>{try{return new Intl.DateTimeFormat(c==="ar"?"ar-EG":"en-US",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(E))}catch{return E}},O=!a&&!s?n("Last 30 Days"):a&&s?c==="ar"?` ${B(a)}  ${B(s)}`:`From ${B(a)} To ${B(s)}`:a?c==="ar"?` ${B(a)}`:`From ${B(a)}`:c==="ar"?` ${B(s)}`:`To ${B(s)}`;return r.jsxs("div",{children:[r.jsxs("div",{dir:i.dir()==="rtl"?"rtl":"ltr",className:"flex flex-wrap items-center justify-between gap-2 mb-2",children:[r.jsx("div",{className:`flex items-center w-full ${i.dir()==="rtl"?"flex-row-reverse":""} gap-2`,children:r.jsx("h3",{className:`flex-1 ${f?"text-black":"dark:text-gray-100"} text-lg md:text-xl font-bold ${i.dir()==="rtl"?"text-right":"text-left"}`,children:n("Active Campaigns")})}),r.jsx("span",{className:`${f?"text-blue-700 font-bold":"dark:text-blue-200"} text-sm`,children:O})]}),"npm run build",r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 mb-4",children:[r.jsxs("div",{className:`${f?"p-4 rounded-xl bg-[var(--lm-muted-surface)] border border-[var(--lm-border)] shadow-md":"p-3 rounded-lg dark:bg-blue-900"}`,children:[r.jsx("div",{className:f?"text-sm font-medium text-black":"text-xs text-gray-600 dark:text-gray-300",children:n("Avg. Open Rate")}),r.jsxs("div",{className:f?"text-2xl font-bold text-black":"text-lg font-semibold dark:text-gray-100",children:[N,"%"]})]}),r.jsxs("div",{className:`${f?"p-4 rounded-xl bg-[var(--lm-muted-surface)] border border-[var(--lm-border)] shadow-md":"p-3 rounded-lg dark:bg-blue-900"}`,children:[r.jsx("div",{className:f?"text-sm font-medium text-black":"text-xs text-gray-600 dark:text-gray-300",children:n("Avg. Click Rate")}),r.jsxs("div",{className:f?"text-2xl font-bold text-black":"text-lg font-semibold dark:text-gray-100",children:[A,"%"]})]}),r.jsxs("div",{className:`${f?"p-4 rounded-xl bg-[var(--lm-muted-surface)] border border-[var(--lm-border)] shadow-md":"p-3 rounded-lg dark:bg-blue-900"}`,children:[r.jsx("div",{className:f?"text-sm font-medium text-black":"text-xs text-gray-600 dark:text-gray-300",children:n("Conversion Rate")}),r.jsxs("div",{className:f?"text-2xl font-bold text-black":"text-lg font-semibold dark:text-gray-100",children:[_,"%"]})]})]}),r.jsxs("div",{className:"flex flex-col items-start gap-3 md:gap-4",children:[r.jsxs("div",{className:`flex ${d?"flex-row-reverse":"flex-row"} items-start gap-3 md:gap-4 w-full`,children:[r.jsx("div",{className:"shrink-0 self-start",children:r.jsx(Zn,{segments:j,centerValue:S,centerLabel:n("Total Active"),size:125})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:`${f?"text-black":"dark:text-gray-100"} text-sm font-semibold`,children:n("Active Campaigns Overview")}),r.jsx("button",{type:"button",onClick:()=>o(E=>!E),className:`${f?"btn-reset text-xs px-2 py-1":"text-xs px-2 py-1 rounded border border-blue-700 text-gray-200 hover:bg-blue-800"}`,children:n(l?"Hide Paused":"Show Paused")})]}),r.jsx("div",{className:"space-y-2 mb-4",children:j.map((E,R)=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:E.color}}),r.jsx("span",{className:`${f?"text-sm text-black":"text-sm dark:text-gray-300"}`,children:E.label}),r.jsx("span",{className:`${f?"text-sm font-medium text-black":"text-sm font-medium dark:text-gray-100"}`,children:E.value})]},R))})]})]}),r.jsxs("div",{className:"w-full",children:[r.jsx("h4",{className:`${f?"text-black":"dark:text-gray-100"} text-sm font-semibold mt-3`,children:n("Top Campaigns")}),r.jsx("style",{children:`
    .scrollbar-thin-blue { scrollbar-width: thin; scrollbar-color: #2563eb transparent; }
    .scrollbar-thin-blue::-webkit-scrollbar { height: 6px; }
    .scrollbar-thin-blue::-webkit-scrollbar-track { background: transparent; }
    .scrollbar-thin-blue::-webkit-scrollbar-thumb { background-color: #2563eb; border-radius: 9999px; }
    .scrollbar-thin-blue:hover::-webkit-scrollbar-thumb { background-color: #1d4ed8; }
  `}),r.jsx("div",{className:"flex flex-row flex-nowrap gap-3 w-full items-stretch overflow-x-auto overflow-y-hidden pr-1 snap-x snap-mandatory scrollbar-thin-blue",children:g.map((E,R)=>r.jsxs("div",{className:`${f?"flex flex-col p-3 rounded-xl bg-white border border-[var(--lm-border)] shadow-sm hover:shadow-md":"flex flex-col p-3 rounded-xl border dark:border-blue-700 bg-transparent dark:bg-transparent shadow-sm hover:shadow-md"} transition-shadow duration-200 h-full min-h-[120px] flex-shrink-0 w-fit max-w-[200px] md:max-w-[220px] snap-start`,children:[r.jsxs("div",{className:"flex flex-col items-start gap-1 min-w-0",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 min-w-0",children:[r.jsx("span",{className:`inline-block w-3 h-3 rounded-full ${D(E.status)}`}),r.jsx("span",{className:`${f?"text-sm font-medium text-gray-900":"text-sm font-medium dark:text-gray-200"} whitespace-normal break-words`,children:E.name})]}),r.jsx("span",{className:`text-[10px] md:text-xs px-2 py-0.5 rounded-full font-medium ${I(E.status)}`,children:P(E.status)})]}),r.jsxs("div",{className:`${f?"mt-2 flex flex-col gap-1 text-xs md:text-sm text-gray-800":"mt-2 flex flex-col gap-1 text-xs md:text-sm text-[var(--muted-text)]"}`,children:[r.jsxs("div",{className:f?"text-black":"",children:[n("Open Rate"),": ",E.openRate,"%"]}),r.jsxs("div",{className:f?"text-black":"",children:[n("Click Rate"),": ",E.clickRate,"%"]}),r.jsxs("div",{className:f?"text-black":"",children:[n("Conversion Rate"),": ",E.conversionRate,"%"]})]})]},R))})]})]})]})}function w5(e){return Kt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(e)}function My(e){return Kt({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(e)}function Zu(e){return Kt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(e)}function qle(e){return Kt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.034 8 8 119.033 8 256s111.034 248 248 248 248-111.034 248-248S392.967 8 256 8zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676zM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676z"},child:[]}]})(e)}function XU(e){return Kt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(e)}function Gle(e){return Kt({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm0 432c-101.69 0-184-82.29-184-184 0-101.69 82.29-184 184-184 101.69 0 184 82.29 184 184 0 101.69-82.29 184-184 184zm0-312c-70.69 0-128 57.31-128 128s57.31 128 128 128 128-57.31 128-128-57.31-128-128-128zm0 192c-35.29 0-64-28.71-64-64s28.71-64 64-64 64 28.71 64 64-28.71 64-64 64z"},child:[]}]})(e)}function W1(e){return Kt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function gM(e){return Kt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(e)}function Kle(e){return Kt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function Yle(e){return Kt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function vM(e){return Kt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function bM(e){return Kt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(e)}function Xle(e){return Kt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm121.2 231.8l-143 141.8c-4.7 4.7-12.3 4.6-17-.1l-82.6-83.3c-4.7-4.7-4.6-12.3.1-17L99.1 285c4.7-4.7 12.3-4.6 17 .1l46 46.4 106-105.2c4.7-4.7 12.3-4.6 17 .1l28.2 28.4c4.7 4.8 4.6 12.3-.1 17z"},child:[]}]})(e)}function Jle(e){return Kt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(e)}function yM(e){return Kt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function Qle(e){return Kt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z"},child:[]}]})(e)}function Zle(e){return Kt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(e)}function eoe(e){return Kt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM224 416H64V160h160v256zm224 0H288V160h160v256z"},child:[]}]})(e)}function Fk(e){return Kt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(e)}function toe(e){return Kt({attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M209.2 233.4l-108-31.6C88.7 198.2 80 186.5 80 173.5c0-16.3 13.2-29.5 29.5-29.5h66.3c12.2 0 24.2 3.7 34.2 10.5 6.1 4.1 14.3 3.1 19.5-2l34.8-34c7.1-6.9 6.1-18.4-1.8-24.5C238 74.8 207.4 64.1 176 64V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48h-2.5C45.8 64-5.4 118.7.5 183.6c4.2 46.1 39.4 83.6 83.8 96.6l102.5 30c12.5 3.7 21.2 15.3 21.2 28.3 0 16.3-13.2 29.5-29.5 29.5h-66.3C100 368 88 364.3 78 357.5c-6.1-4.1-14.3-3.1-19.5 2l-34.8 34c-7.1 6.9-6.1 18.4 1.8 24.5 24.5 19.2 55.1 29.9 86.5 30v48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-48.2c46.6-.9 90.3-28.6 105.7-72.7 21.5-61.6-14.6-124.8-72.5-141.7z"},child:[]}]})(e)}function eh(e){return Kt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function wf(e){return Kt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function Cf(e){return Kt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function dd(e){return Kt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function aoe(e){return Kt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function JU(e){return Kt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm60.1 106.5L224 336l60.1 93.5c5.1 8-.6 18.5-10.1 18.5h-34.9c-4.4 0-8.5-2.4-10.6-6.3C208.9 405.5 192 373 192 373c-6.4 14.8-10 20-36.6 68.8-2.1 3.9-6.1 6.3-10.5 6.3H110c-9.5 0-15.2-10.5-10.1-18.5l60.3-93.5-60.3-93.5c-5.2-8 .6-18.5 10.1-18.5h34.8c4.4 0 8.5 2.4 10.6 6.3 26.1 48.8 20 33.6 36.6 68.5 0 0 6.1-11.7 36.6-68.5 2.1-3.9 6.2-6.3 10.6-6.3H274c9.5-.1 15.2 10.4 10.1 18.4zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function roe(e){return Kt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z"},child:[]}]})(e)}function soe(e){return Kt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(e)}function noe(e){return Kt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M218.17 424.14c-2.95-5.92-8.09-6.52-10.17-6.52s-7.22.59-10.02 6.19l-7.67 15.34c-6.37 12.78-25.03 11.37-29.48-2.09L144 386.59l-10.61 31.88c-5.89 17.66-22.38 29.53-41 29.53H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h12.39c4.83 0 9.11-3.08 10.64-7.66l18.19-54.64c3.3-9.81 12.44-16.41 22.78-16.41s19.48 6.59 22.77 16.41l13.88 41.64c19.75-16.19 54.06-9.7 66 14.16 1.89 3.78 5.49 5.95 9.36 6.26v-82.12l128-127.09V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24v-40l-128-.11c-16.12-.31-30.58-9.28-37.83-23.75zM384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1zm-96 225.06V416h68.99l161.68-162.78-67.88-67.88L288 346.96zm280.54-179.63l-31.87-31.87c-9.94-9.94-26.07-9.94-36.01 0l-27.25 27.25 67.88 67.88 27.25-27.25c9.95-9.94 9.95-26.07 0-36.01z"},child:[]}]})(e)}function Z2(e){return Kt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(e)}function ioe(e){return Kt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M434.7 64h-85.9c-8 0-15.7 3-21.6 8.4l-98.3 90c-.1.1-.2.3-.3.4-16.6 15.6-16.3 40.5-2.1 56 12.7 13.9 39.4 17.6 56.1 2.7.1-.1.3-.1.4-.2l79.9-73.2c6.5-5.9 16.7-5.5 22.6 1 6 6.5 5.5 16.6-1 22.6l-26.1 23.9L504 313.8c2.9 2.4 5.5 5 7.9 7.7V128l-54.6-54.6c-5.9-6-14.1-9.4-22.6-9.4zM544 128.2v223.9c0 17.7 14.3 32 32 32h64V128.2h-96zm48 223.9c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zM0 384h64c17.7 0 32-14.3 32-32V128.2H0V384zm48-63.9c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16c0-8.9 7.2-16 16-16zm435.9 18.6L334.6 217.5l-30 27.5c-29.7 27.1-75.2 24.5-101.7-4.4-26.9-29.4-24.8-74.9 4.4-101.7L289.1 64h-83.8c-8.5 0-16.6 3.4-22.6 9.4L128 128v223.9h18.3l90.5 81.9c27.4 22.3 67.7 18.1 90-9.3l.2-.2 17.9 15.5c15.9 13 39.4 10.5 52.3-5.4l31.4-38.6 5.4 4.4c13.7 11.1 33.9 9.1 45-4.7l9.5-11.7c11.2-13.8 9.1-33.9-4.6-45.1z"},child:[]}]})(e)}function loe(e){return Kt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM144 32h96c8.8 0 16 7.2 16 16s-7.2 16-16 16h-96c-8.8 0-16-7.2-16-16s7.2-16 16-16zm48 128c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zm112 236.8c0 10.6-10 19.2-22.4 19.2H102.4C90 416 80 407.4 80 396.8v-19.2c0-31.8 30.1-57.6 67.2-57.6h5c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h5c37.1 0 67.2 25.8 67.2 57.6v19.2z"},child:[]}]})(e)}function wM(e){return Kt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(e)}function ooe(e){return Kt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(e)}function j5(e){return Kt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M160 448c-25.6 0-51.2-22.4-64-32-64-44.8-83.2-60.8-96-70.4V480c0 17.67 14.33 32 32 32h256c17.67 0 32-14.33 32-32V345.6c-12.8 9.6-32 25.6-96 70.4-12.8 9.6-38.4 32-64 32zm128-192H32c-17.67 0-32 14.33-32 32v16c25.6 19.2 22.4 19.2 115.2 86.4 9.6 6.4 28.8 25.6 44.8 25.6s35.2-19.2 44.8-22.4c92.8-67.2 89.6-67.2 115.2-86.4V288c0-17.67-14.33-32-32-32zm256-96H224c-17.67 0-32 14.33-32 32v32h96c33.21 0 60.59 25.42 63.71 57.82l.29-.22V416h192c17.67 0 32-14.33 32-32V192c0-17.67-14.33-32-32-32zm-32 128h-64v-64h64v64zm-352-96c0-35.29 28.71-64 64-64h224V32c0-17.67-14.33-32-32-32H96C78.33 0 64 14.33 64 32v192h96v-32z"},child:[]}]})(e)}function QU(e){return Kt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function th(e){return Kt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(e)}function zu(e){return Kt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function coe(e){return Kt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 192V77.25c0-8.49-3.37-16.62-9.37-22.63L393.37 9.37c-6-6-14.14-9.37-22.63-9.37H96C78.33 0 64 14.33 64 32v160c-35.35 0-64 28.65-64 64v112c0 8.84 7.16 16 16 16h48v96c0 17.67 14.33 32 32 32h320c17.67 0 32-14.33 32-32v-96h48c8.84 0 16-7.16 16-16V256c0-35.35-28.65-64-64-64zm-64 256H128v-96h256v96zm0-224H128V64h192v48c0 8.84 7.16 16 16 16h48v96zm48 72c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},child:[]}]})(e)}function doe(e){return Kt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(e)}function rx(e){return Kt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function ZU(e){return Kt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 320c-22.608 0-43.387 7.819-59.79 20.895l-102.486-64.054a96.551 96.551 0 0 0 0-41.683l102.486-64.054C308.613 184.181 329.392 192 352 192c53.019 0 96-42.981 96-96S405.019 0 352 0s-96 42.981-96 96c0 7.158.79 14.13 2.276 20.841L155.79 180.895C139.387 167.819 118.608 160 96 160c-53.019 0-96 42.981-96 96s42.981 96 96 96c22.608 0 43.387-7.819 59.79-20.895l102.486 64.054A96.301 96.301 0 0 0 256 416c0 53.019 42.981 96 96 96s96-42.981 96-96-42.981-96-96-96z"},child:[]}]})(e)}function jM(e){return Kt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M139.61 35.5a12 12 0 0 0-17 0L58.93 98.81l-22.7-22.12a12 12 0 0 0-17 0L3.53 92.41a12 12 0 0 0 0 17l47.59 47.4a12.78 12.78 0 0 0 17.61 0l15.59-15.62L156.52 69a12.09 12.09 0 0 0 .09-17zm0 159.19a12 12 0 0 0-17 0l-63.68 63.72-22.7-22.1a12 12 0 0 0-17 0L3.53 252a12 12 0 0 0 0 17L51 316.5a12.77 12.77 0 0 0 17.6 0l15.7-15.69 72.2-72.22a12 12 0 0 0 .09-16.9zM64 368c-26.49 0-48.59 21.5-48.59 48S37.53 464 64 464a48 48 0 0 0 0-96zm432 16H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(e)}function uoe(e){return Kt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(e)}function ru(e){return Kt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function hoe(e){return Kt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 64H192C85.961 64 0 149.961 0 256s85.961 192 192 192h192c106.039 0 192-85.961 192-192S490.039 64 384 64zM64 256c0-70.741 57.249-128 128-128 70.741 0 128 57.249 128 128 0 70.741-57.249 128-128 128-70.741 0-128-57.249-128-128zm320 128h-48.905c65.217-72.858 65.236-183.12 0-256H384c70.741 0 128 57.249 128 128 0 70.74-57.249 128-128 128z"},child:[]}]})(e)}function foe(e){return Kt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 64H192C86 64 0 150 0 256s86 192 192 192h192c106 0 192-86 192-192S490 64 384 64zm0 320c-70.8 0-128-57.3-128-128 0-70.8 57.3-128 128-128 70.8 0 128 57.3 128 128 0 70.8-57.3 128-128 128z"},child:[]}]})(e)}function Ik(e){return Kt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(e)}function sx(e){return Kt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function moe(e){return Kt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z"},child:[]}]})(e)}function Bk(e){return Kt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"},child:[]}]})(e)}function NM(e){return Kt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 256H152V152.9c0-39.6 31.7-72.5 71.3-72.9 40-.4 72.7 32.1 72.7 72v16c0 13.3 10.7 24 24 24h32c13.3 0 24-10.7 24-24v-16C376 68 307.5-.3 223.5 0 139.5.3 72 69.5 72 153.5V256H48c-26.5 0-48 21.5-48 48v160c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function poe(e){return Kt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4zm323-128.4l-27.8-28.1c-4.6-4.7-12.1-4.7-16.8-.1l-104.8 104-45.5-45.8c-4.6-4.7-12.1-4.7-16.8-.1l-28.1 27.9c-4.7 4.6-4.7 12.1-.1 16.8l81.7 82.3c4.6 4.7 12.1 4.7 16.8.1l141.3-140.2c4.6-4.7 4.7-12.2.1-16.8z"},child:[]}]})(e)}function xoe(e){return Kt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h274.9c-2.4-6.8-3.4-14-2.6-21.3l6.8-60.9 1.2-11.1 7.9-7.9 77.3-77.3c-24.5-27.7-60-45.5-99.9-45.5zm45.3 145.3l-6.8 61c-1.1 10.2 7.5 18.8 17.6 17.6l60.9-6.8 137.9-137.9-71.7-71.7-137.9 137.8zM633 268.9L595.1 231c-9.3-9.3-24.5-9.3-33.8 0l-37.8 37.8-4.1 4.1 71.8 71.7 41.8-41.8c9.3-9.4 9.3-24.5 0-33.9z"},child:[]}]})(e)}function ez(e){return Kt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function goe(e){return Kt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm95.8 32.6L272 480l-32-136 32-56h-96l32 56-32 136-47.8-191.4C56.9 292 0 350.3 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-72.1-56.9-130.4-128.2-133.8z"},child:[]}]})(e)}function ew(e){return Kt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function tw(e){return Kt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"},child:[]}]})(e)}Sr.register(Cn,An,$n,ai,xl,Em,wx,rn,an);const voe=({selectedEmployee:e,dateFrom:t,dateTo:a})=>{const{t:s,i18n:n}=Dt(),i=n.language||"en",{theme:l}=Vi(),o=l==="light",[c,d]=w.useState("count"),[u,f]=w.useState("bar"),[x,m]=w.useState("sum"),[g,v]=w.useState("2025"),[b,j]=w.useState(""),[S,k]=w.useState(!1),[N,A]=w.useState({employee:"",dateFrom:"",dateTo:"",valueMin:"",valueMax:"",stage:"",leadName:""}),_=[{date:"2025-01-01",employee:"Osama Sales",leadName:"Ahmed Ali",stage:"New",value:5e3,prorated:1e3},{date:"2025-01-02",employee:"Youssef Hemeda",leadName:"Sara Mohamed",stage:"Qualified",value:7500,prorated:3750},{date:"2025-01-03",employee:"Ahmed Ibrahim",leadName:"Omar Hassan",stage:"Proposal",value:12e3,prorated:9e3},{date:"2025-01-04",employee:"Noura",leadName:"Fatima Ahmed",stage:"Negotiation",value:8500,prorated:6800},{date:"2025-01-05",employee:"Ali",leadName:"Khaled Mahmoud",stage:"Closed Won",value:15e3,prorated:15e3},{date:"2025-01-06",employee:"Osama Sales",leadName:"Mona Saleh",stage:"Closed Lost",value:6e3,prorated:0},{date:"2025-01-07",employee:"Youssef Hemeda",leadName:"Tamer Farouk",stage:"New",value:4500,prorated:900},{date:"2025-01-08",employee:"Ahmed Ibrahim",leadName:"Layla Nasser",stage:"Qualified",value:9e3,prorated:4500},{date:"2025-01-09",employee:"Noura",leadName:"Youssef Ali",stage:"Proposal",value:11e3,prorated:8250},{date:"2025-01-10",employee:"Ali",leadName:"Dina Mostafa",stage:"Negotiation",value:13500,prorated:10800}],D=["New","Qualified","Proposal","Negotiation","Closed Won","Closed Lost"],P=["Osama Sales","Youssef Hemeda","Ahmed Ibrahim","Noura","Ali"],I=re=>{const oe=new Date(re);return oe.setFullYear(parseInt(g)),oe.toLocaleDateString()},B=w.useMemo(()=>_.filter(re=>{const oe=!b||re.stage.toLowerCase().includes(b.toLowerCase())||re.leadName.toLowerCase().includes(b.toLowerCase()),q=N.employee||e,ie=!q||re.employee===q,ye=!N.stage||re.stage===N.stage,Y=!N.leadName||re.leadName.toLowerCase().includes(N.leadName.toLowerCase()),ce=!N.valueMin||re.value>=parseFloat(N.valueMin),he=!N.valueMax||re.value<=parseFloat(N.valueMax),ue=N.dateFrom||t,Fe=N.dateTo||a,Ue=!ue||re.date>=ue,Te=!Fe||re.date<=Fe;return oe&&ie&&ye&&Y&&ce&&he&&Ue&&Te}),[_,b,N,e,t,a]),O=w.useMemo(()=>{const re={};return D.forEach(oe=>{if(re[oe]=B.filter(q=>q.stage===oe).reduce((q,ie)=>{const ye=c==="count"?1:c==="value"?ie.value:ie.prorated;return x==="sum"||x==="avg"?q+ye:x==="min"?Math.min(q,ye):x==="max"?Math.max(q,ye):q+ye},x==="min"?1/0:x==="max"?-1/0:0),x==="avg"){const q=B.filter(ie=>ie.stage===oe).length;re[oe]=q>0?re[oe]/q:0}}),re},[B,c,x,D]),U={labels:D,datasets:[{label:s(c),data:D.map(re=>O[re]||0),backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"rgba(59, 130, 246, 1)",borderWidth:1}]},E={labels:B.map(re=>I(re.date)),datasets:[{label:s(c),data:B.map(re=>c==="count"?1:c==="value"?re.value:re.prorated),borderColor:"rgba(59, 130, 246, 1)",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4}]},R={labels:D,datasets:[{data:D.map(re=>O[re]||0),backgroundColor:["rgba(239, 68, 68, 0.8)","rgba(245, 158, 11, 0.8)","rgba(59, 130, 246, 0.8)","rgba(16, 185, 129, 0.8)","rgba(139, 92, 246, 0.8)","rgba(236, 72, 153, 0.8)"]}]};typeof document<"u"&&document.documentElement.classList.contains("dark");const K=o?"#0f172a":"#e5e7eb",V=typeof window<"u"&&window.innerWidth<=480,Z=c==="count"?i==="ar"?"  ":"No. of Leads":c==="value"?i==="ar"?" ":"Deal Value":i==="ar"?" ":"Prorated Revenue",J=x==="sum"?i==="ar"?"":"Sum":x==="avg"?i==="ar"?"":"Average":x==="min"?i==="ar"?"":"Minimum":i==="ar"?"":"Maximum",ee=i==="ar"?"":"Stage",W=`${Z} (${J})`,le=i==="ar"?"":"Date",M=Z,X={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:K,font:{size:V?10:13}}},title:{display:!0,text:i==="ar"?`${s("Pipeline Analysis")} - ${Z} ( )`:`${s("Pipeline Analysis")} - ${s(c)} (${s("by Stage")})`,color:K,font:{size:V?12:14,weight:"bold"}}},scales:{x:{grid:{display:!1},ticks:{color:K,font:{size:V?10:13,weight:600}},title:{display:!0,text:ee,color:K,font:{size:V?10:13,weight:600}}},y:{beginAtZero:!0,grid:{display:!1},ticks:{color:K,font:{size:V?10:13,weight:600}},title:{display:!0,text:W,color:K,font:{size:V?10:13,weight:600}}}}},z={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:K,font:{size:V?10:13}}},title:{display:!0,text:`${s("Pipeline Analysis")} - ${s(c)} (${s("Over Time")})`,color:K,font:{size:V?12:14,weight:"bold"}}},scales:{x:{grid:{display:!1},ticks:{color:K,font:{size:V?10:13,weight:600}},title:{display:!0,text:le,color:K,font:{size:V?10:13,weight:600}}},y:{grid:{display:!1},ticks:{color:K,font:{size:V?10:13,weight:600}},title:{display:!0,text:M,color:K,font:{size:V?10:13,weight:600}}}}},Q=w.useMemo(()=>D.map(re=>{const oe=P.map(ie=>{const ye=B.filter(ce=>ce.stage===re&&ce.employee===ie),Y=ye.reduce((ce,he)=>{const ue=c==="count"?1:c==="value"?he.value:he.prorated;return x==="sum"||x==="avg"?ce+ue:x==="min"?Math.min(ce,ue):x==="max"?Math.max(ce,ue):ce+ue},x==="min"?1/0:x==="max"?-1/0:0);return x==="avg"&&ye.length>0?Y/ye.length:ye.length===0&&(x==="min"||x==="max")?0:Y}),q=oe.reduce((ie,ye)=>ie+ye,0);return{stage:re,values:oe,total:q}}),[B,c,x,D,P]),ne=w.useMemo(()=>B,[B]);return r.jsxs("div",{className:"w-full",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3 justify-end",children:[r.jsx("span",{className:`${o?"text-blue-700 font-semibold":"dark:text-gray-300"} text-sm`,children:u==="bar"?i==="ar"?"  ":"Bar Chart":u==="line"?i==="ar"?"  ":"Line Chart":u==="pie"?i==="ar"?"  ":"Pie Chart":u==="pivot"?i==="ar"?" ":"Pivot Table":i==="ar"?"":"List"}),r.jsxs("div",{className:"flex items-center gap-2 p-1 bg-gray-100 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[r.jsx("button",{onClick:()=>f("bar"),title:s("Bar"),"aria-label":s("Bar"),className:`group relative flex items-center justify-center px-2 py-1 sm:px-3 sm:py-2 rounded-md transition-all duration-300 ease-in-out ${u==="bar"?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-lg shadow-blue-500/25 scale-105":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-gray-600 hover:text-blue-600 dark:hover:text-blue-400 hover:scale-105"} border border-gray-200 dark:border-gray-600 hover:border-blue-300 dark:hover:border-blue-500`,children:r.jsx(dA,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),r.jsx("button",{onClick:()=>f("line"),title:s("Line"),"aria-label":s("Line"),className:`group relative flex items-center justify-center px-2 py-1 sm:px-3 sm:py-2 rounded-md transition-all duration-300 ease-in-out ${u==="line"?"bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-lg shadow-purple-500/25 scale-105":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-purple-50 dark:hover:bg-gray-600 hover:text-purple-600 dark:hover:text-purple-400 hover:scale-105"} border border-gray-200 dark:border-gray-600 hover:border-purple-300 dark:hover:border-purple-500`,children:r.jsx(WU,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),r.jsx("button",{onClick:()=>f("pie"),title:s("Pie"),"aria-label":s("Pie"),className:`group relative flex items-center justify-center px-2 py-1 sm:px-3 sm:py-2 rounded-md transition-all duration-300 ease-in-out ${u==="pie"?"bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-lg shadow-orange-500/25 scale-105":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-orange-50 dark:hover:bg-gray-600 hover:text-orange-600 dark:hover:text-orange-400 hover:scale-105"} border border-gray-200 dark:border-gray-600 hover:border-orange-300 dark:hover:border-orange-500`,children:r.jsx(qU,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),r.jsx("button",{onClick:()=>f("pivot"),title:s("Pivot"),"aria-label":s("Pivot"),className:`group relative flex items-center justify-center px-2 py-1 sm:px-3 sm:py-2 rounded-md transition-all duration-300 ease-in-out ${u==="pivot"?"bg-gradient-to-r from-teal-500 to-teal-600 text-white shadow-lg shadow-teal-500/25 scale-105":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-teal-50 dark:hover:bg-gray-600 hover:text-teal-600 dark:hover:text-teal-400 hover:scale-105"} border border-gray-200 dark:border-gray-600 hover:border-teal-300 dark:hover:border-teal-500`,children:r.jsx(Lle,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),r.jsx("button",{onClick:()=>f("list"),title:s("List"),"aria-label":s("List"),className:`group relative flex items-center justify-center px-2 py-1 sm:px-3 sm:py-2 rounded-md transition-all duration-300 ease-in-out ${u==="list"?"bg-gradient-to-r from-green-500 to-green-600 text-white shadow-lg shadow-green-500/25 scale-105":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-green-50 dark:hover:bg-gray-600 hover:text-green-600 dark:hover:text-green-400 hover:scale-105"} border border-gray-200 dark:border-gray-600 hover:border-green-300 dark:hover:border-green-500`,children:r.jsx(Ple,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]})]}),!1,u==="bar"&&r.jsx("div",{className:"w-full h-56 sm:h-72",children:r.jsx(Ls,{options:X,data:U})}),u==="line"&&r.jsx("div",{className:"w-full h-56 sm:h-72",children:r.jsx(no,{options:z,data:E})}),u==="pie"&&r.jsx("div",{className:"w-full h-56 sm:h-72",children:r.jsx(zU,{options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:V?"bottom":"right",labels:{color:K,font:{size:V?10:13}}},title:{display:!0,text:i==="ar"?`${s("Pipeline Analysis")} - ${Z} ( )`:`${s("Pipeline Analysis")} - ${s(c)} (${s("by Stage")})`,color:K,font:{size:V?12:14,weight:"bold"}}}},data:R})}),u==="pivot"&&r.jsx("div",{className:"w-full overflow-x-auto",children:r.jsxs("table",{className:"min-w-max text-sm whitespace-nowrap border border-gray-200 dark:border-gray-700 rounded-md",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("th",{className:"px-3 py-2 text-left border-b border-gray-200 dark:border-gray-700 whitespace-nowrap min-w-[120px]",children:s("Stage")}),P.map((re,oe)=>r.jsx("th",{className:"px-3 py-2 text-left border-b border-gray-200 dark:border-gray-700 whitespace-nowrap min-w-[120px]",children:re},oe)),r.jsxs("th",{className:"px-3 py-2 text-left border-b border-gray-200 dark:border-gray-700 whitespace-nowrap min-w-[140px]",children:[s("Total")," (",s(x),")"]})]})}),r.jsx("tbody",{children:Q.map((re,oe)=>r.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-700",children:[r.jsx("td",{className:`px-3 py-2 font-medium whitespace-nowrap min-w-[120px] ${o?"text-black":"dark:text-white"}`,children:re.stage}),re.values.map((q,ie)=>r.jsx("td",{className:`px-3 py-2 whitespace-nowrap min-w-[120px] ${o?"text-black":"dark:text-gray-300"}`,children:q},ie)),r.jsx("td",{className:`px-3 py-2 font-semibold whitespace-nowrap min-w-[140px] ${o?"text-black":"dark:text-gray-100"}`,children:Math.round(re.total*100)/100})]},oe))})]})}),u==="list"&&r.jsx("div",{className:"w-full overflow-x-auto",children:r.jsxs("table",{className:"min-w-max text-sm whitespace-nowrap border border-gray-200 dark:border-gray-700 rounded-md",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("th",{className:"px-3 py-2 text-left border-b border-gray-200 dark:border-gray-700 whitespace-nowrap min-w-[110px]",children:s("Date")}),r.jsx("th",{className:"px-3 py-2 text-left border-b border-gray-200 dark:border-gray-700 whitespace-nowrap min-w-[140px]",children:s("Employee")}),r.jsx("th",{className:"px-3 py-2 text-left border-b border-gray-200 dark:border-gray-700 whitespace-nowrap min-w-[150px]",children:s("Lead name")}),r.jsx("th",{className:"px-3 py-2 text-left border-b border-gray-200 dark:border-gray-700 whitespace-nowrap min-w-[140px]",children:s("Stage name")}),r.jsx("th",{className:"px-3 py-2 text-left border-b border-gray-200 dark:border-gray-700 whitespace-nowrap min-w-[120px]",children:s("Value")}),r.jsx("th",{className:"px-3 py-2 text-left border-b border-gray-200 dark:border-gray-700 whitespace-nowrap min-w-[160px]",children:s("Prorated Revenue")})]})}),r.jsx("tbody",{children:ne.map((re,oe)=>r.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-700",children:[r.jsx("td",{className:`px-3 py-2 whitespace-nowrap ${o?"text-black":"dark:text-gray-300"}`,children:I(re.date)}),r.jsx("td",{className:`px-3 py-2 whitespace-nowrap ${o?"text-black":"dark:text-gray-300"}`,children:re.employee}),r.jsx("td",{className:`px-3 py-2 whitespace-nowrap ${o?"text-black":"dark:text-gray-300"}`,children:re.leadName}),r.jsx("td",{className:`px-3 py-2 whitespace-nowrap ${o?"text-black":"dark:text-gray-300"}`,children:re.stage}),r.jsx("td",{className:`px-3 py-2 whitespace-nowrap ${o?"text-black":"dark:text-gray-300"}`,children:re.value}),r.jsx("td",{className:`px-3 py-2 whitespace-nowrap ${o?"text-black":"dark:text-gray-300"}`,children:re.prorated})]},oe))})]})})]})},hA=({isOpen:e,onClose:t,onSave:a,lead:s,inline:n=!1})=>{const{t:i,i18n:l}=Dt(),[o,c]=w.useState({type:"call",title:"",description:"",date:new Date().toISOString().split("T")[0],time:new Date().toTimeString().slice(0,5),status:"pending",priority:"medium",assignedTo:"",notes:"",meetingType:"introduction",meetingLocation:"indoor",showSchedule:!1,answerStatus:"answer",selectedQuickOption:null});if(!e)return null;const d=l.language==="ar",u=[{value:"call",label:d?"":"Call",icon:th,color:"bg-blue-500"},{value:"follow_up",label:d?"":"Follow up",icon:Fk,color:"bg-teal-500"},{value:"meeting",label:d?"":"Meeting",icon:W1,color:"bg-purple-500"}],f=[{value:"introduction",label:d?" ":"Introduction Meeting"},{value:"follow_up",label:d?" ":"Follow-up Meeting"},{value:"presentation",label:d?" ":"Presentation Meeting"},{value:"negotiation",label:d?" ":"Negotiation Meeting"}],x=[{value:"indoor",label:d?"":"Indoor"},{value:"outdoor",label:d?"":"Outdoor"},{value:"online",label:d?" ":"Online"},{value:"client_office",label:d?" ":"Client Office"}],m=N=>{const{name:A,value:_,type:D,checked:P}=N.target;c(I=>({...I,[A]:D==="checkbox"?P:_}))},g=N=>{const A=new Date;let _;switch(N){case"after_1_hour":_=new Date(A.getTime()+3600*1e3);break;case"after_2_hours":_=new Date(A.getTime()+7200*1e3);break;case"tomorrow":_=new Date(A),_.setDate(_.getDate()+1),_.setHours(9,0,0,0);break;case"next_week":_=new Date(A),_.setDate(_.getDate()+7),_.setHours(9,0,0,0);break;default:return}c(D=>({...D,date:_.toISOString().split("T")[0],time:_.toTimeString().slice(0,5),selectedQuickOption:N}))},v=N=>{N.preventDefault();const A={...o,id:Date.now(),leadId:s?.id,leadName:s?.name,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};a(A),console.log(d?"  :":"Adding new action:",A),c({type:"call",title:"",description:"",date:new Date().toISOString().split("T")[0],time:new Date().toTimeString().slice(0,5),status:"pending",priority:"medium",assignedTo:"",notes:"",meetingType:"introduction",meetingLocation:"indoor",showSchedule:!1,answerStatus:"answer",selectedQuickOption:null}),t()};u.find(N=>N.value===o.type)?.icon;const j=n?"relative p-0":"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] p-0 sm:p-6",S=n?"bg-gray-800 sm:rounded-lg shadow-xl w-full h-auto max-h-[85vh] overflow-y-auto":"bg-gray-800 sm:rounded-lg shadow-xl w-full sm:max-w-2xl max-h-[85vh] h-auto overflow-y-auto m-0 sm:m-4";w.useEffect(()=>{if(!n&&e){const N=document.body.style.overflow;return document.body.style.overflow="hidden",window.scrollTo({top:0,behavior:"smooth"}),()=>{document.body.style.overflow=N}}},[n,e]);const k=r.jsx("div",{className:j,children:r.jsxs("div",{className:S,children:[r.jsxs("div",{className:"flex items-center justify-between p-8 border-b border-gray-700",children:[r.jsx("div",{className:"flex items-center gap-3",children:r.jsx("h2",{className:"text-xl font-semibold text-white",children:d?" ":"Add Action"})}),!n&&r.jsx("div",{className:"flex items-center gap-3",children:r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-300 transition-colors",children:r.jsx(ru,{className:"text-lg"})})})]}),r.jsx("div",{className:"px-8 pt-6",children:r.jsx("p",{className:"text-gray-400 text-sm",children:d?"    ":"Select action type and schedule details"})}),r.jsxs("form",{onSubmit:v,className:"p-8 space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:d?" ":"Select type"}),r.jsx("select",{name:"type",value:o.type,onChange:m,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white",children:u.map(N=>r.jsx("option",{value:N.value,children:N.label},N.value))})]}),o.type&&r.jsx("div",{className:`flex ${d?"justify-start":"justify-end"}`,children:r.jsx("button",{type:"button",onClick:()=>c(N=>({...N,answerStatus:N.answerStatus==="answer"?"no_answer":"answer"})),className:`flex items-center gap-3 px-6 py-4 rounded-xl transition-all font-medium backdrop-blur-md bg-white/10 hover:bg-white/20 shadow-2xl shadow-black/30 hover:shadow-black/50 border ${o.answerStatus==="answer"?"text-green-300 hover:text-green-200 shadow-green-500/20 border-green-400/40":"text-red-300 hover:text-red-200 shadow-red-500/20 border-red-400/40"}`,children:o.answerStatus==="answer"?r.jsxs(r.Fragment,{children:[r.jsx(foe,{className:"text-lg text-green-400"}),r.jsx("span",{children:d?"":"Answer"})]}):r.jsxs(r.Fragment,{children:[r.jsx(hoe,{className:"text-lg text-red-400"}),r.jsx("span",{children:d?"  ":"No Answer"})]})})}),o.type==="meeting"&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:d?" ":"Meeting Type"}),r.jsx("select",{name:"meetingType",value:o.meetingType,onChange:m,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white",children:f.map(N=>r.jsx("option",{value:N.value,children:N.label},N.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:d?" ":"Meeting Location"}),r.jsx("select",{name:"meetingLocation",value:o.meetingLocation,onChange:m,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white",children:x.map(N=>r.jsx("option",{value:N.value,children:N.label},N.value))})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-medium text",children:d?" ":"Schedule Date"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx("div",{className:"relative",children:r.jsx("input",{type:"datetime-local",name:"date",value:`${o.date}T${o.time}`,onChange:N=>{const[A,_]=N.target.value.split("T");c(D=>({...D,date:A,time:_}))},className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-white text-sm pr-12",placeholder:"05/12/2025 23:58:53"})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsx("button",{type:"button",onClick:()=>g("after_1_hour"),className:`px-4 py-2 text-sm rounded-lg border-2 transition-colors ${o.selectedQuickOption==="after_1_hour"?"bg-teal-600 text-white border-teal-500 ring-2 ring-teal-400/40":"bg-gray-700 text-gray-300 border-gray-500 hover:bg-gray-600"}`,children:d?" ":"After 1 hour"}),r.jsx("button",{type:"button",onClick:()=>g("after_2_hours"),className:`px-4 py-2 text-sm rounded-lg border-2 transition-colors ${o.selectedQuickOption==="after_2_hours"?"bg-teal-600 text-white border-teal-500 ring-2 ring-teal-400/40":"bg-gray-700 text-gray-300 border-gray-500 hover:bg-gray-600"}`,children:d?" ":"After 2 hours"})]}),r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsx("button",{type:"button",onClick:()=>g("tomorrow"),className:`px-4 py-2 text-sm rounded-lg border-2 transition-colors ${o.selectedQuickOption==="tomorrow"?"bg-teal-600 text-white border-teal-500 ring-2 ring-teal-400/40":"bg-gray-700 text-gray-300 border-gray-500 hover:bg-gray-600"}`,children:d?"":"Tomorrow"}),r.jsx("button",{type:"button",onClick:()=>g("next_week"),className:`px-4 py-2 text-sm rounded-lg border-2 transition-colors ${o.selectedQuickOption==="next_week"?"bg-teal-600 text-white border-teal-500 ring-2 ring-teal-400/40":"bg-gray-700 text-gray-300 border-gray-500 hover:bg-gray-600"}`,children:d?" ":"Next Week"})]})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",id:"showSchedule",name:"showSchedule",checked:o.showSchedule,onChange:m,className:"w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-500"}),r.jsx("label",{htmlFor:"showSchedule",className:"text-sm text-gray-300",children:d?" ":"Show my schedule"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:d?" *":"Comment *"}),r.jsx("textarea",{name:"notes",value:o.notes,onChange:m,placeholder:d?"  .      ...":"Write your comment here. Unlimited words are allowed...",rows:"4",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white placeholder-gray-400 resize-none",required:!0})]}),r.jsxs("div",{className:"flex justify-between gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:t,className:"px-6 py-2 text-gray-300 bg-gray-700 hover:bg-gray-600 rounded-md transition-colors",children:d?"":"Cancel"}),r.jsx("button",{type:"submit",className:"px-6 py-2 bg-teal-600 hover:bg-teal-700 text-white rounded-md transition-colors",children:d?" ":"Save Action"})]})]})]})});return n?k:Cj.createPortal(k,document.body)},boe=({isOpen:e,onClose:t,onSave:a,lead:s})=>{const[n,i]=w.useState({fullName:"",mobile:"",email:"",company:"",location:"",status:"New",priority:"Medium",source:"Website",assignedTo:"Unassigned",estimatedValue:"",probability:"50",notes:""});w.useEffect(()=>{s&&i({fullName:s.fullName||"",mobile:s.mobile||"",email:s.email||"",company:s.company||"",location:s.location||"",status:s.status||"New",priority:s.priority||"Medium",source:s.source||"Website",assignedTo:s.assignedTo||"Unassigned",estimatedValue:s.estimatedValue||"",probability:s.probability||"50",notes:s.notes||""})},[s]);const l=c=>{const{name:d,value:u}=c.target;i(f=>({...f,[d]:u}))},o=c=>{c.preventDefault();const d={...s,...n,lastModified:new Date().toLocaleDateString("ar-EG")};a(d),t()};return!e||!s?null:r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white sm:rounded-lg shadow-xl w-full h-screen sm:max-w-4xl sm:max-h-[90vh] sm:h-auto sm:mx-4 mx-0 overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center",children:[r.jsx(ew,{className:"mr-2 text-blue-600"}),"   "]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",title:"",children:r.jsx(ru,{size:20})})]}),r.jsxs("form",{onSubmit:o,className:"p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4 border-b pb-2",children:" "}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(ew,{className:"inline mr-1"}),"  *"]}),r.jsx("input",{type:"text",name:"fullName",value:n.fullName,onChange:l,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"  "})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(th,{className:"inline mr-1"}),"  *"]}),r.jsx("input",{type:"tel",name:"mobile",value:n.mobile,onChange:l,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"  "})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(Cf,{className:"inline mr-1"})," "]}),r.jsx("input",{type:"email",name:"email",value:n.email,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"  "})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(XU,{className:"inline mr-1"}),""]}),r.jsx("input",{type:"text",name:"company",value:n.company,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"  "})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(QU,{className:"inline mr-1"}),""]}),r.jsx("input",{type:"text",name:"location",value:n.location,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:" "})]})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4 border-b pb-2",children:"  "}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),r.jsxs("select",{name:"status",value:n.status,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"New",children:""}),r.jsx("option",{value:"Contacted",children:" "}),r.jsx("option",{value:"Qualified",children:""}),r.jsx("option",{value:"Proposal",children:""}),r.jsx("option",{value:"Negotiation",children:""}),r.jsx("option",{value:"Closed Won",children:" - "}),r.jsx("option",{value:"Closed Lost",children:" - "})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),r.jsxs("select",{name:"priority",value:n.priority,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"Low",children:""}),r.jsx("option",{value:"Medium",children:""}),r.jsx("option",{value:"High",children:""}),r.jsx("option",{value:"Urgent",children:""})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),r.jsxs("select",{name:"source",value:n.source,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"Website",children:" "}),r.jsx("option",{value:"Social Media",children:"  "}),r.jsx("option",{value:"Referral",children:""}),r.jsx("option",{value:"Cold Call",children:" "}),r.jsx("option",{value:"Email Campaign",children:"  "}),r.jsx("option",{value:"Event",children:""}),r.jsx("option",{value:"Other",children:""})]})]})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4 border-b pb-2",children:" "}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),r.jsxs("select",{name:"assignedTo",value:n.assignedTo,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"Unassigned",children:" "}),r.jsx("option",{value:"Ahmed Ali",children:" "}),r.jsx("option",{value:"Sara Mohamed",children:" "}),r.jsx("option",{value:"Omar Hassan",children:" "}),r.jsx("option",{value:"Fatima Ibrahim",children:" "})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(toe,{className:"inline mr-1"})," "]}),r.jsx("input",{type:"number",name:"estimatedValue",value:n.estimatedValue,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"  "})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" (%)"}),r.jsx("input",{type:"number",name:"probability",value:n.probability,onChange:l,min:"0",max:"100",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:" "})]})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),r.jsx("textarea",{name:"notes",value:n.notes,onChange:l,rows:"4",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"   ..."})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:""}),r.jsxs("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center",children:[r.jsx(doe,{className:"mr-2"})," "]})]})]})]})})},Ov=()=>{const[e,t]=w.useState([]),[a,s]=w.useState([]),n=o=>Array.isArray(o)?o.length===0?[]:typeof o[0]=="string"?o.map(d=>({name:d,nameAr:"",color:"#3b82f6",icon:""})):o.map(d=>({name:d.name||String(d),nameAr:d.nameAr||"",color:d.color||"#3b82f6",icon:d.icon||""})):[],i=()=>{try{const o=JSON.parse(localStorage.getItem("crmStages")||"[]"),c=n(o);return t(c),c}catch{return t([]),[]}},l=()=>{try{const o=JSON.parse(localStorage.getItem("crmStatuses")||"[]"),c=n(o);return s(c),c}catch{return s([]),[]}};return w.useEffect(()=>{i(),l();const o=c=>{c.key==="crmStages"?i():c.key==="crmStatuses"&&l()};return window.addEventListener("storage",o),()=>{window.removeEventListener("storage",o)}},[]),{stages:e,statuses:a,loadStages:i,loadStatuses:l}},Rv=({lead:e,isOpen:t,onClose:a,isArabic:s=!1,theme:n="light"})=>{const[i,l]=w.useState("overview"),[o,c]=w.useState(""),[d,u]=w.useState("all"),[f,x]=w.useState("all"),[m,g]=w.useState("date"),[v,b]=w.useState("timeline"),[j,S]=w.useState([]),[k,N]=w.useState(!1),[A,_]=w.useState(!1),[D,P]=w.useState([{id:1,type:"call",title:"   ",description:"    ",date:"2024-01-15",time:"10:30",status:"completed",priority:"high",assignee:" ",duration:"25 "},{id:2,type:"email",title:"  ",description:"     ",date:"2024-01-14",time:"14:15",status:"completed",priority:"medium",assignee:" ",duration:null},{id:3,type:"meeting",title:"   ",description:"    ",date:"2024-01-16",time:"11:00",status:"scheduled",priority:"high",assignee:" ",duration:"60 "},{id:4,type:"note",title:" ",description:"     ",date:"2024-01-13",time:"16:45",status:"completed",priority:"low",assignee:" ",duration:null},{id:5,type:"task",title:"  ",description:"    ",date:"2024-01-17",time:"09:00",status:"pending",priority:"medium",assignee:" ",duration:"120 "}]);if(!t)return null;const I=M=>{console.log("  :",M),P(X=>[{...M,assignee:M.assignedTo||M.assignee||" "},...X]),N(!1)},B={name:e?.fullName||e?.leadName||e?.name||" ",phone:e?.mobile||e?.phone||"+966512345698",email:e?.email||"lead28@example.com",company:e?.company||"   ",location:e?.location||"Not specified",source:e?.source||"referral",createdDate:e?.createdDate||"Not specified",status:e?.status||"qualified",priority:e?.priority||"high",stage:e?.stage||(s?"":"New")},{stages:O}=Ov(),U=String(B.stage).toLowerCase(),E=(Array.isArray(O)?O:[]).find(M=>{const X=typeof M=="string"?M:M?.name,z=typeof M=="string"?"":M?.nameAr;return String(X||"").toLowerCase()===U||String(z||"").toLowerCase()===U}),R=E?typeof E!="string"&&typeof E.color=="string"?E.color.trim().startsWith("#")?{backgroundColor:E.color}:{background:`var(--stage-${E.color}-swatch, ${E.color})`}:{}:{},K=`px-3 py-1 text-white text-sm rounded-full font-medium${E?"":" bg-blue-500"}`,V=D.filter(M=>{const X=M.title.toLowerCase().includes(o.toLowerCase())||M.description.toLowerCase().includes(o.toLowerCase()),z=d==="all"||M.status===d,Q=f==="all"||M.type===f;return X&&z&&Q}).sort((M,X)=>{switch(m){case"date":const z=new Date(`${M.date}T${M.time||"00:00"}`);return new Date(`${X.date}T${X.time||"00:00"}`)-z;case"priority":const ne={high:3,medium:2,low:1};return ne[X.priority]-ne[M.priority];case"status":return M.status.localeCompare(X.status);default:return 0}}),Z={total:D.length,completed:D.filter(M=>M.status==="completed").length,pending:D.filter(M=>M.status==="pending").length,scheduled:D.filter(M=>M.status==="scheduled").length},J=M=>{switch(M){case"call":return r.jsx(th,{className:"text-blue-400"});case"email":return r.jsx(Cf,{className:"text-green-400"});case"meeting":return r.jsx(W1,{className:"text-purple-400"});case"note":return r.jsx(wf,{className:"text-yellow-400"});case"task":return r.jsx(wM,{className:"text-orange-400"});default:return r.jsx(Zle,{className:"text-gray-400"})}},ee=M=>{switch(M){case"completed":return"bg-green-500";case"pending":return"bg-orange-500";case"scheduled":return"bg-blue-500";default:return"bg-gray-500"}},W=M=>{switch(M){case"high":return"text-red-400 border-red-400";case"medium":return"text-yellow-400 border-yellow-400";case"low":return"text-green-400 border-green-400";default:return"text-gray-400 border-gray-400"}},le=[{id:"overview",label:"Overview"},{id:"all-actions",label:"All Actions"},{id:"communication",label:"Communication"}];return Cj.createPortal(r.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] p-0",children:[r.jsxs("div",{className:"bg-slate-800 text-white w-full sm:max-w-5xl max-h-[85vh] h-auto sm:rounded-3xl overflow-y-auto shadow-2xl p-3 sm:p-4",children:[r.jsx("div",{className:"bg-slate-800 p-6 border-b border-slate-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:[r.jsx("div",{className:"w-16 h-16 bg-slate-600 rounded-full flex items-center justify-center",children:r.jsx(ew,{className:"text-2xl text-slate-300"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h2",{className:"text-xl font-bold text-white mb-1",children:B.name}),r.jsx("p",{className:"text-slate-300 text-sm mb-1",children:B.phone}),r.jsx("p",{className:"text-slate-400 text-sm",children:B.email})]})]}),r.jsxs("div",{className:"flex flex-col items-end space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between gap-4 w-[180px] sm:w-[210px]",children:[k&&r.jsx("button",{onClick:()=>N(!1),title:s?" ":"Back to Preview",className:"btn-icon",children:r.jsx(dd,{className:"text-sm"})}),!k&&r.jsx("button",{onClick:()=>N(!0),"aria-label":s?" ":"Add Action",title:s?" ":"Add Action",className:"btn-icon",children:r.jsx(zu,{className:"text-sm"})}),r.jsx("button",{onClick:()=>{},"aria-label":s?"":"Assign",title:s?"":"Assign",className:"btn-icon",children:r.jsx(poe,{className:"text-sm"})}),r.jsx("button",{onClick:()=>_(!0),"aria-label":s?" ":"Edit Lead",title:s?" ":"Edit Lead",className:"btn-icon",children:r.jsx(wf,{className:"text-sm"})}),r.jsx("button",{onClick:a,"aria-label":s?"":"Close",className:"btn-icon",children:r.jsx(ru,{className:"text-lg"})})]}),r.jsx("div",{className:"w-full h-px"}),r.jsxs("div",{className:"flex space-x-6 rtl:space-x-reverse",children:[r.jsx("span",{className:"px-3 py-1 bg-emerald-500 text-white text-sm rounded-full font-medium",children:"qualified"}),r.jsx("span",{className:"px-3 py-1 bg-orange-500 text-white text-sm rounded-full font-medium",children:"high"}),r.jsx("span",{className:K,style:R,children:B.stage})]})]})]})}),r.jsx(boe,{isOpen:A,onClose:()=>_(!1),onSave:M=>{},lead:e}),k&&r.jsx("div",{className:"px-6",children:r.jsx(hA,{isOpen:k,onClose:()=>N(!1),onSave:I,lead:e,inline:!0})}),r.jsx("div",{className:`bg-slate-800 px-6 border-b border-slate-700 ${k?"hidden":""}`,children:r.jsx("div",{className:"flex justify-between w-full",children:le.map(M=>r.jsx("button",{onClick:()=>l(M.id),className:`flex-1 py-4 px-4 text-sm font-medium border-b-2 transition-all duration-200 text-center ${i===M.id?"border-emerald-400 text-white bg-emerald-500/20 rounded-t-lg shadow-lg shadow-emerald-500/10 font-semibold":"border-transparent text-slate-400 hover:text-white hover:border-slate-500 hover:bg-slate-700/30"}`,children:M.label},M.id))})}),r.jsxs("div",{className:`flex-1 overflow-y-auto p-6 bg-slate-800 ${k?"hidden":""}`,children:[i==="overview"&&r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-semibold mb-3 border-b border-slate-700 pb-2 text-left",children:"Current Status"}),r.jsxs("div",{className:"flex justify-start items-center gap-16 mb-6",children:[r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:"relative w-24 h-24 rounded-full mb-2 bg-[conic-gradient(#34d399_0_12%,_#334155_12%)]",children:r.jsx("div",{className:"absolute inset-2 rounded-full bg-slate-700 border border-slate-600 flex items-center justify-center",children:r.jsx("span",{className:"text-2xl font-bold text-white",children:"3"})})}),r.jsx("span",{className:"text-xs text-slate-400 font-medium",children:"Total Actions"})]}),r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:"relative w-24 h-24 rounded-full mb-2 bg-[conic-gradient(#10b981_0_100%)]",children:r.jsx("div",{className:"absolute inset-2 rounded-full bg-slate-700 border border-emerald-400 flex items-center justify-center",children:r.jsx("span",{className:"text-2xl font-bold text-white",children:"2"})})}),r.jsx("span",{className:"text-xs text-slate-400 font-medium",children:"Completed"})]}),r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:"relative w-24 h-24 rounded-full mb-2 bg-[conic-gradient(#f59e0b_0_100%)]",children:r.jsx("div",{className:"absolute inset-2 rounded-full bg-slate-700 border border-orange-400 flex items-center justify-center",children:r.jsx("span",{className:"text-2xl font-bold text-white",children:"1"})})}),r.jsx("span",{className:"text-xs text-slate-400 font-medium",children:"Pending"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4 border-b border-slate-700 pb-2",children:"Lead Information"}),r.jsxs("div",{className:"space-y-4 bg-slate-700 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-slate-300 text-sm",children:"Company:"}),r.jsx("span",{className:"text-white text-sm font-medium text-right",children:B.company})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-slate-300 text-sm",children:"Location:"}),r.jsx("span",{className:"text-white text-sm",children:B.location})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-slate-300 text-sm",children:"Source:"}),r.jsx("span",{className:"text-white text-sm",children:B.source})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-slate-300 text-sm",children:"Created Date:"}),r.jsx("span",{className:"text-white text-sm",children:B.createdDate})]})]})]})]}),r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"text-white font-semibold mb-3 border-b border-slate-700 pb-2",children:"Quick Actions"}),r.jsxs("div",{className:"flex items-center justify-between gap-4 rtl:flex-row-reverse",children:[r.jsxs("button",{onClick:()=>N(!0),className:"bg-emerald-500 hover:bg-emerald-600 text-white py-3 px-5 rounded-full font-medium transition-colors flex items-center justify-center gap-3",children:[r.jsx("span",{className:"w-6 h-6 rounded-full bg-emerald-400 flex items-center justify-center",children:r.jsx(zu,{className:"text-xs"})}),r.jsx("span",{children:"+ Add New Action"})]}),r.jsxs("button",{className:"bg-slate-700 hover:bg-slate-600 text-slate-200 py-3 px-5 rounded-full font-medium transition-colors flex items-center justify-center gap-3 border border-slate-600",children:[r.jsx("span",{className:"w-6 h-6 rounded-full bg-slate-600 flex items-center justify-center",children:r.jsx(wf,{className:"text-xs"})}),r.jsx("span",{children:"Edit Lead"})]})]})]})})]}),i==="all-actions"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[r.jsxs("div",{className:"bg-slate-700 p-5 rounded-xl text-center border border-slate-600",children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:Z.total}),r.jsx("div",{className:"text-sm text-slate-400",children:" "})]}),r.jsxs("div",{className:"bg-slate-700 p-5 rounded-xl text-center border border-slate-600",children:[r.jsx("div",{className:"text-2xl font-bold text-green-400",children:Z.completed}),r.jsx("div",{className:"text-sm text-slate-400",children:""})]}),r.jsxs("div",{className:"bg-slate-700 p-5 rounded-xl text-center border border-slate-600",children:[r.jsx("div",{className:"text-2xl font-bold text-orange-400",children:Z.pending}),r.jsx("div",{className:"text-sm text-slate-400",children:""})]}),r.jsxs("div",{className:"bg-slate-700 p-5 rounded-xl text-center border border-slate-600",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-400",children:Z.scheduled}),r.jsx("div",{className:"text-sm text-slate-400",children:""})]})]}),r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"text-white font-semibold",children:"Actions"}),r.jsxs("button",{onClick:()=>N(!0),className:"bg-emerald-500 hover:bg-emerald-600 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2",children:[r.jsx(zu,{}),"  "]})]}),r.jsx("div",{className:"bg-slate-700 p-4 rounded-lg space-y-3 mb-2",children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-center",children:[r.jsxs("div",{className:"flex-1 relative w-full",children:[r.jsx(rx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),r.jsx("input",{type:"text",placeholder:"  ...",value:o,onChange:M=>c(M.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-600 border border-slate-500 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-emerald-400"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Z2,{className:"text-slate-400"}),r.jsxs("select",{value:d,onChange:M=>u(M.target.value),className:"bg-slate-600 border border-slate-500 rounded-lg px-3 py-2 text-white text-sm focus:outline-none focus:border-emerald-400",children:[r.jsx("option",{value:"all",children:" "}),r.jsx("option",{value:"completed",children:""}),r.jsx("option",{value:"pending",children:""}),r.jsx("option",{value:"scheduled",children:""})]}),r.jsxs("select",{value:f,onChange:M=>x(M.target.value),className:"bg-slate-600 border border-slate-500 rounded-lg px-3 py-2 text-white text-sm focus:outline-none focus:border-emerald-400",children:[r.jsx("option",{value:"all",children:" "}),r.jsx("option",{value:"call",children:""}),r.jsx("option",{value:"email",children:""}),r.jsx("option",{value:"meeting",children:""}),r.jsx("option",{value:"task",children:""}),r.jsx("option",{value:"note",children:""})]})]})]})}),r.jsx("div",{className:"space-y-4",children:V.length===0?r.jsxs("div",{className:"text-center py-12 bg-slate-700 rounded-lg",children:[r.jsx(wM,{className:"mx-auto text-4xl text-slate-500 mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-slate-300 mb-2",children:"  "}),r.jsx("p",{className:"text-slate-400 mb-4",children:o||d!=="all"||f!=="all"?"         ":"     "}),r.jsxs("button",{onClick:()=>N(!0),className:"bg-emerald-500 hover:bg-emerald-600 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:[r.jsx(zu,{className:"inline mr-2"}),"  "]})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:V.map(M=>r.jsx("div",{className:`bg-slate-700 border border-slate-600 rounded-xl p-5 transition-all hover:bg-slate-600 ${j.includes(M.id)?"border-emerald-400 bg-emerald-500/5":"border-slate-600"}`,children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-slate-600 rounded-xl flex items-center justify-center",children:J(M.type)}),r.jsx("div",{className:"flex-1 min-w-0",children:r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"text-white font-medium mb-1",children:M.title}),r.jsx("p",{className:"text-slate-400 text-sm mb-2",children:M.description}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-slate-300",children:[r.jsxs("span",{children:[" ",M.date]}),r.jsxs("span",{children:[" ",M.time]}),r.jsxs("span",{children:[" ",M.assignee]}),M.duration&&r.jsxs("span",{children:[" ",M.duration]})]})]}),r.jsxs("div",{className:"flex flex-col items-end gap-2",children:[r.jsxs("span",{className:`px-2 py-1 rounded-full text-xs text-white ${ee(M.status)}`,children:[M.status==="completed"&&"",M.status==="pending"&&"",M.status==="scheduled"&&""]}),r.jsxs("span",{className:`px-2 py-1 rounded border text-xs ${W(M.priority)}`,children:[M.priority==="high"&&"",M.priority==="medium"&&"",M.priority==="low"&&""]})]})]})}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{className:"p-2 text-slate-400 hover:text-white hover:bg-slate-600 rounded transition-colors",children:r.jsx(dd,{})}),r.jsx("button",{className:"p-2 text-slate-400 hover:text-white hover:bg-slate-600 rounded transition-colors",children:r.jsx(wf,{})})]})]})},M.id))})})]}),i==="communication"&&r.jsxs("div",{className:"p-8 space-y-6",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-6 border border-blue-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-xl font-semibold text-gray-800 flex items-center",children:[r.jsx("div",{className:"bg-blue-500 p-2 rounded-xl mr-3",children:r.jsx(Fk,{className:"text-white text-sm"})}),s?"  ":"Client Communication",r.jsx("span",{className:"ml-3 bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:"3"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{className:"p-2 text-gray-500 hover:text-blue-500 transition-colors",children:r.jsx(rx,{})}),r.jsx("button",{className:"p-2 text-gray-500 hover:text-blue-500 transition-colors",children:r.jsx(Z2,{})})]})]})}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[r.jsxs("button",{onClick:()=>window.open(`https://wa.me/${e?.phone}`,"_blank"),className:"flex flex-col items-center justify-center p-4 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:[r.jsx(Zu,{className:"text-2xl mb-2"}),r.jsx("span",{className:"text-sm font-medium",children:s?"":"WhatsApp"})]}),r.jsxs("button",{onClick:()=>window.open(`mailto:${e?.email}`,"_blank"),className:"flex flex-col items-center justify-center p-4 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:[r.jsx(Cf,{className:"text-2xl mb-2"}),r.jsx("span",{className:"text-sm font-medium",children:s?" ":"Email"})]}),r.jsxs("button",{onClick:()=>window.open(`tel:${e?.phone}`,"_blank"),className:"flex flex-col items-center justify-center p-4 bg-purple-500 text-white rounded-xl hover:bg-purple-600 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:[r.jsx(th,{className:"text-2xl mb-2"}),r.jsx("span",{className:"text-sm font-medium",children:s?"":"Call"})]}),r.jsxs("button",{onClick:()=>window.open("https://meet.google.com/new","_blank"),className:"flex flex-col items-center justify-center p-4 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:[r.jsx(tw,{className:"text-2xl mb-2"}),r.jsx("span",{className:"text-sm font-medium",children:"Google Meet"})]})]}),r.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-600",children:s?":":"Filter:"}),r.jsx("button",{className:"px-3 py-1 bg-blue-100 text-blue-600 rounded-full text-xs hover:bg-blue-200 transition-colors",children:s?"":"All"}),r.jsx("button",{className:"px-3 py-1 bg-gray-100 text-gray-600 rounded-full text-xs hover:bg-gray-200 transition-colors",children:"WhatsApp"}),r.jsx("button",{className:"px-3 py-1 bg-gray-100 text-gray-600 rounded-full text-xs hover:bg-gray-200 transition-colors",children:"Email"}),r.jsx("button",{className:"px-3 py-1 bg-gray-100 text-gray-600 rounded-full text-xs hover:bg-gray-200 transition-colors",children:s?"":"Calls"}),r.jsx("button",{className:"px-3 py-1 bg-gray-100 text-gray-600 rounded-full text-xs hover:bg-gray-200 transition-colors",children:s?" ":"Unread"})]}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx("input",{type:"text",placeholder:s?"  ...":"Search conversations...",className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})})]})}),r.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-gray-100 shadow-sm",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h4",{className:"text-lg font-medium text-gray-700",children:s?" ":"Communication Timeline"}),r.jsxs("button",{onClick:()=>alert(s?"   ":"New message will be added"),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors flex items-center space-x-2",children:[r.jsx(zu,{className:"text-sm"}),r.jsx("span",{className:"text-sm",children:s?" ":"Add Message"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"p-4 bg-gradient-to-r from-green-50 to-green-100 rounded-xl border-l-4 border-green-500 hover:shadow-md transition-shadow cursor-pointer",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center mr-3 shadow-md",children:r.jsx(Zu,{className:"text-white text-sm"})}),r.jsxs("div",{children:[r.jsx("h5",{className:"font-semibold text-gray-800",children:e?.name||(s?" ":"Mohamed Ali")}),r.jsx("p",{className:"text-xs text-gray-500",children:s?"   ":"WhatsApp Message  Incoming"})]})]}),r.jsx("p",{className:"text-sm text-gray-700 bg-white p-3 rounded-lg shadow-sm",children:s?"     .         ":"Hello, thank you for the proposal. Can we schedule a meeting to discuss the project details and pricing?"}),r.jsxs("div",{className:"flex items-center mt-2 space-x-2",children:[r.jsx("button",{className:"text-xs text-blue-500 hover:underline",children:s?"":"Reply"}),r.jsx("button",{className:"text-xs text-gray-500 hover:underline",children:s?"":"Copy"}),r.jsx("button",{className:"text-xs text-purple-500 hover:underline",children:s?" ":"Create Follow-up"})]})]}),r.jsxs("div",{className:"text-xs text-gray-500 ml-4 text-center",children:[r.jsx("div",{className:"bg-green-500 text-white px-2 py-1 rounded-full mb-1",children:"10:30 AM"}),r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mx-auto animate-pulse"})]})]})}),r.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-blue-100 rounded-xl border-l-4 border-blue-500 hover:shadow-md transition-shadow cursor-pointer",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center mr-3 shadow-md",children:r.jsx(Cf,{className:"text-white text-sm"})}),r.jsxs("div",{children:[r.jsx("h5",{className:"font-semibold text-gray-800",children:s?"":"You"}),r.jsx("p",{className:"text-xs text-gray-500",children:s?"   ":"Email  Outgoing"})]})]}),r.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm",children:[r.jsx("h6",{className:"font-medium text-gray-800 mb-1",children:s?":   ":"Subject: Updated Financial Proposal"}),r.jsx("p",{className:"text-sm text-gray-700",children:s?"       .       . : __.pdf":"Updated financial proposal sent with requested modifications. Please review and respond at your earliest convenience. Attachment: updated_quote.pdf"})]}),r.jsxs("div",{className:"flex items-center mt-2 space-x-2",children:[r.jsx("button",{className:"text-xs text-blue-500 hover:underline",children:s?" ":"Resend"}),r.jsx("button",{className:"text-xs text-gray-500 hover:underline",children:s?"":"Copy"}),r.jsx("button",{className:"text-xs text-green-500 hover:underline",children:s?" ":"Delivered"})]})]}),r.jsxs("div",{className:"text-xs text-gray-500 ml-4 text-center",children:[r.jsx("div",{className:"bg-blue-500 text-white px-2 py-1 rounded-full mb-1",children:"9:15 AM"}),r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full mx-auto"})]})]})}),r.jsx("div",{className:"p-4 bg-gradient-to-r from-purple-50 to-purple-100 rounded-xl border-l-4 border-purple-500 hover:shadow-md transition-shadow cursor-pointer",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx("div",{className:"w-10 h-10 bg-purple-500 rounded-full flex items-center justify-center mr-3 shadow-md",children:r.jsx(th,{className:"text-white text-sm"})}),r.jsxs("div",{children:[r.jsx("h5",{className:"font-semibold text-gray-800",children:s?" ":"Phone Call"}),r.jsx("p",{className:"text-xs text-gray-500",children:s?"   15 ":"Outgoing Call  15 minutes"})]})]}),r.jsx("p",{className:"text-sm text-gray-700 bg-white p-3 rounded-lg shadow-sm",children:s?"   .        .     .":"Successful call with client. Discussed all important points and clarified project details. Client is interested and wants to proceed."}),r.jsxs("div",{className:"flex items-center mt-2 space-x-2",children:[r.jsx("button",{className:"text-xs text-purple-500 hover:underline",children:s?" ":"Call Again"}),r.jsx("button",{className:"text-xs text-gray-500 hover:underline",children:s?" ":"Add Note"}),r.jsx("button",{className:"text-xs text-green-500 hover:underline",children:s?" ":"Schedule Follow-up"})]})]}),r.jsxs("div",{className:"text-xs text-gray-500 ml-4 text-center",children:[r.jsx("div",{className:"bg-purple-500 text-white px-2 py-1 rounded-full mb-1",children:"Yesterday"}),r.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full mx-auto"})]})]})}),r.jsx("div",{className:"p-4 bg-gradient-to-r from-red-50 to-red-100 rounded-xl border-l-4 border-red-500 hover:shadow-md transition-shadow cursor-pointer",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx("div",{className:"w-10 h-10 bg-red-500 rounded-full flex items-center justify-center mr-3 shadow-md",children:r.jsx(tw,{className:"text-white text-sm"})}),r.jsxs("div",{children:[r.jsx("h5",{className:"font-semibold text-gray-800",children:s?" Google Meet":"Google Meet Session"}),r.jsx("p",{className:"text-xs text-gray-500",children:s?"   45 ":"Video Meeting  45 minutes"})]})]}),r.jsx("p",{className:"text-sm text-gray-700 bg-white p-3 rounded-lg shadow-sm",children:s?"   -      .      .    3 .":"Successful video meeting - Comprehensive project presentation to client and their team. All technical and financial details clarified. Response expected within 3 days."}),r.jsxs("div",{className:"flex items-center mt-2 space-x-2",children:[r.jsx("button",{className:"text-xs text-red-500 hover:underline",children:s?"  ":"Schedule New Meeting"}),r.jsx("button",{className:"text-xs text-gray-500 hover:underline",children:s?" ":"Share Recording"}),r.jsx("button",{className:"text-xs text-blue-500 hover:underline",children:s?" ":"Send Summary"})]})]}),r.jsxs("div",{className:"text-xs text-gray-500 ml-4 text-center",children:[r.jsx("div",{className:"bg-red-500 text-white px-2 py-1 rounded-full mb-1",children:"2 days ago"}),r.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full mx-auto"})]})]})})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-gray-100 shadow-sm",children:[r.jsx("h4",{className:"text-lg font-medium text-gray-700 mb-4",children:s?"  ":"Compose New Message"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s?"":"Channel"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{children:"WhatsApp"}),r.jsx("option",{children:"Email"}),r.jsx("option",{children:"SMS"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s?"":"Template"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{children:s?" ":"Custom Message"}),r.jsx("option",{children:s?"  ":"Quote Follow-up"}),r.jsx("option",{children:s?" ":"Appointment Confirmation"}),r.jsx("option",{children:s?" ":"Document Request"}),r.jsx("option",{children:s?"  ":"Post-call Thank You"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s?" ()":"Subject (for Email)"}),r.jsx("input",{type:"text",placeholder:s?" ...":"Message subject...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s?" ":"Message Content"}),r.jsx("textarea",{rows:"4",placeholder:s?"  ...   {}  {_}  ":"Type your message here... You can use {name} and {quote_number} as dynamic variables",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",className:"mr-2"}),r.jsx("span",{className:"text-sm text-gray-600",children:s?" ":"Schedule Send"})]}),r.jsx("input",{type:"datetime-local",className:"px-3 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:s?" ":"Save Draft"}),r.jsx("button",{onClick:()=>alert(s?"   !":"Message sent successfully!"),className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:s?"":"Send"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-green-100 p-4 rounded-xl border border-green-200",children:[r.jsx("h5",{className:"font-medium text-green-800 mb-2",children:s?"  ":"Best Response Channel"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:"WhatsApp"}),r.jsx("p",{className:"text-sm text-green-600",children:s?"85%  ":"85% Response Rate"})]}),r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 p-4 rounded-xl border border-blue-200",children:[r.jsx("h5",{className:"font-medium text-blue-800 mb-2",children:s?"  ":"Avg Response Time"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"2.5h"}),r.jsx("p",{className:"text-sm text-blue-600",children:s?"  15%":"15% Improvement"})]}),r.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 p-4 rounded-xl border border-purple-200",children:[r.jsx("h5",{className:"font-medium text-purple-800 mb-2",children:s?"  ":"This Week Activity"}),r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:"12"}),r.jsx("p",{className:"text-sm text-purple-600",children:s?" ":"New Interactions"})]})]})]}),i!=="overview"&&i!=="all-actions"&&i!=="communication"&&r.jsx("div",{className:"text-center py-12",children:r.jsxs("p",{className:"text-slate-400",children:["Content for ",i," tab will be implemented here."]})})]})]}),!1]}),document.body)},yoe=({employee:e,dateFrom:t,dateTo:a,stageFilter:s})=>{const{t:n,i18n:i}=Dt(),[l,o]=w.useState(null),[c,d]=w.useState(!1),{theme:u}=Vi(),f=u==="light",x=`
    .scrollbar-thin-blue { scrollbar-width: thin; scrollbar-color: #2563eb transparent; }
    .scrollbar-thin-blue::-webkit-scrollbar { width: 8px; }
    .scrollbar-thin-blue::-webkit-scrollbar-track { background: transparent; }
    .scrollbar-thin-blue::-webkit-scrollbar-thumb { background-color: #2563eb; border-radius: 9999px; }
    .scrollbar-thin-blue:hover::-webkit-scrollbar-thumb { background-color: #1d4ed8; }
  `,g=[{id:1,employeeName:" ",leadName:" ",comment:"       ",timestamp:" 5 ",type:"follow_up",priority:"high"},{id:2,employeeName:" ",leadName:" ",comment:"     ",timestamp:" 15 ",type:"proposal",priority:"medium"},{id:3,employeeName:" ",leadName:" ",comment:"       ",timestamp:" 30 ",type:"inquiry",priority:"low"},{id:4,employeeName:" ",leadName:" ",comment:"       ",timestamp:" ",type:"support",priority:"medium"},{id:5,employeeName:" ",leadName:" ",comment:"     3   ",timestamp:" ",type:"meeting",priority:"high"},{id:6,employeeName:" ",leadName:" ",comment:"       ",timestamp:" 3 ",type:"follow_up",priority:"low"},{id:7,employeeName:" ",leadName:" ",comment:"       ",timestamp:" 4 ",type:"proposal",priority:"high"},{id:8,employeeName:" ",leadName:" ",comment:"       ",timestamp:" 5 ",type:"inquiry",priority:"medium"},{id:9,employeeName:" ",leadName:" ",comment:"      ",timestamp:" 6 ",type:"support",priority:"low"},{id:10,employeeName:" ",leadName:" ",comment:"       ",timestamp:" 7 ",type:"meeting",priority:"high"}].map((A,_)=>({...A,createdAt:new Date(Date.now()-(_+1)*20*60*1e3).toISOString()})),v=A=>{if(!t&&!a)return!0;const _=new Date(A);if(isNaN(_))return!0;const D=new Date(_.getFullYear(),_.getMonth(),_.getDate());if(t){const P=new Date(t);if(P.setHours(0,0,0,0),D<P)return!1}if(a){const P=new Date(a);if(P.setHours(0,0,0,0),D>P)return!1}return!0},b=A=>{const _=String(s||"").toLowerCase();return _?_==="pending"?["follow_up","proposal","inquiry"].includes(String(A.type||"").toLowerCase()):_==="followup"?["follow_up","meeting"].includes(String(A.type||"").toLowerCase()):!(_==="coldcalls"||_==="duplicate"):!0},j=g.filter(A=>b(A)&&(!e||A.employeeName===e)&&v(A.createdAt)),S=A=>{if(f)return"border-white bg-[var(--lm-muted-surface)]";switch(A){case"high":return"dark:bg-red-900/20 dark:border-red-700";case"medium":return"dark:bg-yellow-900/20 dark:border-yellow-700";case"low":return"dark:bg-green-900/20 dark:border-green-700";default:return"dark:bg-gray-800 dark:border-gray-600"}},k=A=>{switch(A){case"high":return"bg-red-500";case"medium":return"bg-yellow-500";case"low":return"bg-green-500";default:return"bg-gray-500"}},N=A=>{switch(A){case"follow_up":return r.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})});case"proposal":return r.jsx("svg",{className:"w-4 h-4 text-purple-500",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{d:"M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z"})});case"inquiry":return r.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})});case"support":return r.jsx("svg",{className:"w-4 h-4 text-orange-500",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})});case"meeting":return r.jsx("svg",{className:"w-4 h-4 text-indigo-500",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})});default:return r.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})})}};return r.jsxs(r.Fragment,{children:[r.jsx("style",{children:x}),r.jsxs("div",{className:`overflow-x-auto scrollbar-thin-blue ${j.length>5?"max-h-80 overflow-y-auto":""}`,children:[r.jsx("div",{className:"sm:hidden space-y-3",children:j.map(A=>r.jsxs("div",{className:`p-3 rounded-lg border ${S(A.priority)} hover:shadow-md transition-shadow`,children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[N(A.type),r.jsx("div",{className:`w-2 h-2 rounded-full ${k(A.priority)}`})]}),r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:A.timestamp})]}),r.jsxs("div",{className:"space-y-2 mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:`text-xs font-medium ${f?"text-gray-700":"text-gray-400"}`,children:[n("Employee"),":"]}),r.jsx("span",{className:`text-sm font-medium ${f?"text-gray-900":"text-gray-200"}`,children:A.employeeName})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:`text-xs font-medium ${f?"text-gray-700":"text-gray-400"}`,children:[n("Lead"),":"]}),r.jsx("span",{className:`text-sm font-medium ${f?"text-gray-900":"text-gray-200"}`,children:A.leadName})]})]}),r.jsx("div",{className:"mt-2 p-2 bg-[var(--lm-surface)] dark:bg-gray-700 rounded text-sm text-gray-700 dark:text-gray-300",children:A.comment}),r.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[n("Priority"),": ",n(A.priority)]}),r.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[n("Type"),": ",n(A.type)]})]}),r.jsx("button",{className:"px-3 py-1 text-xs bg-blue-500 hover:bg-blue-600 text-white rounded-md transition-colors",onClick:()=>{o({fullName:A.leadName}),d(!0)},children:n("View Lead")})]})]},A.id))}),r.jsx("div",{className:"hidden sm:block",children:r.jsxs("table",{className:"comments-table w-full min-w-max text-sm text-left",children:[r.jsx("thead",{className:`text-xs uppercase sticky top-0 ${f?"bg-gray-50":"bg-gray-800"}`,children:r.jsxs("tr",{children:[r.jsx("th",{scope:"col",className:"px-6 py-3",children:n("Employee")}),r.jsx("th",{scope:"col",className:`px-6 py-3 border-l ${f?"border-gray-200":"border-gray-700"}`,children:n("Lead")}),r.jsx("th",{scope:"col",className:`px-6 py-3 border-l ${f?"border-gray-200":"border-gray-700"}`,children:n("Comment")}),r.jsx("th",{scope:"col",className:`px-6 py-3 border-l ${f?"border-gray-200":"border-gray-700"}`,children:n("Priority")}),r.jsx("th",{scope:"col",className:`px-6 py-3 border-l ${f?"border-gray-200":"border-gray-700"}`,children:n("Type")}),r.jsx("th",{scope:"col",className:`px-6 py-3 border-l ${f?"border-gray-200":"border-gray-700"}`,children:n("Actions")}),r.jsx("th",{scope:"col",className:`px-6 py-3 border-l ${f?"border-gray-200":"border-gray-700"}`,children:n("Time")})]})}),r.jsx("tbody",{children:j.map(A=>r.jsxs("tr",{className:`border-b ${f?"bg-white border-gray-200 hover:bg-gray-50":"bg-gray-800 border-gray-700 dark:hover:bg-blue-900/25"}`,children:[r.jsx("td",{className:"px-6 py-4",children:A.employeeName}),r.jsx("td",{className:`px-6 py-4 border-l ${f?"border-gray-200":"border-gray-700"}`,children:A.leadName}),r.jsx("td",{className:`px-6 py-4 border-l ${f?"border-gray-200":"border-gray-700"}`,children:A.comment}),r.jsx("td",{className:`px-6 py-4 border-l ${f?"border-gray-200":"border-gray-700"}`,children:n(A.priority)}),r.jsx("td",{className:`px-6 py-4 border-l ${f?"border-gray-200":"border-gray-700"}`,children:n(A.type)}),r.jsx("td",{className:`px-6 py-4 border-l ${f?"border-gray-200":"border-gray-700"}`,children:r.jsx("button",{className:"px-3 py-1 text-xs bg-blue-500 hover:bg-blue-600 text-white rounded-md transition-colors",onClick:()=>{o({fullName:A.leadName}),d(!0)},children:n("View Lead")})}),r.jsx("td",{className:`px-6 py-4 border-l ${f?"border-gray-200":"border-gray-700"}`,children:A.timestamp})]},A.id))})]})})]}),r.jsx(Rv,{isOpen:c,lead:l,onClose:()=>d(!1),isArabic:i.language==="ar"})]})},woe=({employee:e,dateFrom:t,dateTo:a,stageFilter:s})=>{const{t:n,i18n:i}=Dt(),{theme:l}=Vi(),c=!(typeof document<"u"?document.documentElement.classList.contains("dark"):l==="dark"),[d,u]=w.useState(null),[f,x]=w.useState(!1),m=`
    .scrollbar-thin-blue { scrollbar-width: thin; scrollbar-color: #2563eb transparent; }
    .scrollbar-thin-blue::-webkit-scrollbar { width: 8px; }
    .scrollbar-thin-blue::-webkit-scrollbar-track { background: transparent; }
    .scrollbar-thin-blue::-webkit-scrollbar-thumb { background-color: #2563eb; border-radius: 9999px; }
    .scrollbar-thin-blue:hover::-webkit-scrollbar-thumb { background-color: #1d4ed8; }
  `,v=[{id:1,employeeName:" ",leadName:" ",phoneNumber:"+966 50 123 4567",callType:"outgoing",duration:"15:30",timestamp:" 5 ",status:"answered",notes:"       "},{id:2,employeeName:" ",leadName:" ",phoneNumber:"+966 55 234 5678",callType:"incoming",duration:"08:45",timestamp:" 12 ",status:"answered",notes:"   "},{id:3,employeeName:" ",leadName:" ",phoneNumber:"+966 50 345 6789",callType:"outgoing",duration:"22:15",timestamp:" 25 ",status:"answered",notes:"      "},{id:4,employeeName:" ",leadName:" ",phoneNumber:"+966 55 456 7890",callType:"missed",duration:"00:00",timestamp:" ",status:"missed",notes:"    "},{id:5,employeeName:" ",leadName:" ",phoneNumber:"+966 50 567 8901",callType:"incoming",duration:"18:20",timestamp:" ",status:"answered",notes:"    -   "},{id:6,employeeName:" ",leadName:" ",phoneNumber:"+966 50 678 9012",callType:"outgoing",duration:"12:45",timestamp:" 3 ",status:"answered",notes:"      "},{id:7,employeeName:" ",leadName:" ",phoneNumber:"+966 55 789 0123",callType:"incoming",duration:"25:30",timestamp:" 4 ",status:"answered",notes:"     "},{id:8,employeeName:" ",leadName:" ",phoneNumber:"+966 50 890 1234",callType:"missed",duration:"00:00",timestamp:" 5 ",status:"missed",notes:"      "},{id:9,employeeName:" ",leadName:" ",phoneNumber:"+966 55 901 2345",callType:"outgoing",duration:"19:15",timestamp:" 6 ",status:"answered",notes:"      "},{id:10,employeeName:" ",leadName:" ",phoneNumber:"+966 50 012 3456",callType:"incoming",duration:"14:20",timestamp:" 7 ",status:"answered",notes:"      "}].map((A,_)=>({...A,createdAt:new Date(Date.now()-(_+1)*15*60*1e3).toISOString()})),b=A=>{if(!t&&!a)return!0;const _=new Date(A);if(isNaN(_))return!0;const D=new Date(_.getFullYear(),_.getMonth(),_.getDate());if(t){const P=new Date(t);if(P.setHours(0,0,0,0),D<P)return!1}if(a){const P=new Date(a);if(P.setHours(0,0,0,0),D>P)return!1}return!0},j=A=>{const _=String(s||"").toLowerCase();return _?_==="coldcalls"?String(A.callType||"").toLowerCase()==="outgoing":_==="pending"?["incoming","outgoing"].includes(String(A.callType||"").toLowerCase()):_==="followup"?String(A.callType||"").toLowerCase()==="outgoing":_!=="duplicate":!0},S=v.filter(A=>j(A)&&(!e||A.employeeName===e)&&b(A.createdAt)),k=A=>{switch(A){case"outgoing":return r.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})});case"incoming":return r.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M2 5a2 2 0 012-2h12a2 2 0 012 2v10a2 2 0 01-2 2H4a2 2 0 01-2-2V5zm3.293 1.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L7.586 11H5a1 1 0 110-2h2.586l-1.293-1.293a1 1 0 010-1.414zM11 5a1 1 0 011 1v2.586l1.293-1.293a1 1 0 011.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 111.414-1.414L10 8.586V6a1 1 0 011-1z",clipRule:"evenodd"})});case"missed":return r.jsx("svg",{className:"w-4 h-4 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})});default:return null}},N=A=>{switch(A){case"outgoing":return n("Outgoing");case"incoming":return n("Incoming");case"missed":return n("Missed");default:return A}};return r.jsxs(r.Fragment,{children:[r.jsx("style",{children:m}),r.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto scrollbar-thin-blue",children:S.map(A=>r.jsxs("div",{className:`p-3 rounded-lg border hover:shadow-md transition-shadow ${c?A.callType==="missed"?"bg-red-50 border-white":A.callType==="outgoing"?"bg-emerald-50 border-white":"bg-blue-50 border-white":"dark:bg-gray-800 dark:border-gray-700 dark:text-white"}`,children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[k(A.callType),r.jsx("span",{className:`text-xs font-semibold inline-flex items-center px-1.5 py-0.5 rounded ${A.callType==="outgoing"?c?"text-emerald-700 bg-emerald-100 border border-emerald-200":"text-emerald-300 bg-emerald-900/30 border border-emerald-700":A.callType==="incoming"?c?"text-blue-700 bg-blue-100 border border-blue-200":"text-blue-300 bg-blue-900/30 border border-blue-700":A.callType==="missed"?c?"text-red-700 bg-red-100 border border-red-200":"text-red-300 bg-red-900/30 border border-red-700":c?"text-gray-700 bg-gray-100 border border-gray-200":"text-gray-300 bg-gray-900/30 border border-gray-700"}`,children:N(A.callType)})]}),r.jsx("span",{className:`text-xs ${c?"text-gray-800":"dark:text-gray-200"}`,children:A.timestamp})]}),r.jsxs("div",{className:"space-y-1 mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:`text-xs font-semibold ${c?"text-gray-700":"dark:text-gray-200"}`,children:[n("Employee"),":"]}),r.jsx("span",{className:`text-sm ${c?"text-gray-900":"dark:text-white"}`,children:A.employeeName})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:`text-xs font-semibold ${c?"text-gray-700":"dark:text-gray-200"}`,children:[n("Lead"),":"]}),r.jsx("span",{className:`text-sm ${c?"text-gray-900":"dark:text-white"}`,children:A.leadName})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:`text-xs font-semibold ${c?"text-gray-700":"dark:text-gray-200"}`,children:[n("Phone"),":"]}),r.jsx("span",{className:`text-sm ${c?"text-gray-900":"dark:text-white"}`,children:A.phoneNumber})]}),A.duration!=="00:00"&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:`text-xs font-semibold ${c?"text-gray-700":"dark:text-gray-200"}`,children:[n("Duration"),":"]}),r.jsx("span",{className:`text-sm ${c?"text-gray-900":"dark:text-white"}`,children:A.duration})]})]}),A.notes&&r.jsxs("div",{className:"mt-2 p-2 bg-[var(--lm-surface)] dark:bg-gray-700 rounded text-xs text-gray-600 dark:text-white",children:[r.jsxs("span",{className:"font-medium",children:[n("Notes"),":"]})," ",A.notes]}),r.jsx("div",{className:"mt-2 flex justify-end",children:r.jsx("button",{className:"px-3 py-1 text-xs bg-blue-500 hover:bg-blue-600 text-white rounded-md transition-colors",onClick:()=>{u({fullName:A.leadName,mobile:A.phoneNumber}),x(!0)},children:n("View Lead")})})]},A.id))}),r.jsx(Rv,{isOpen:f,lead:d,onClose:()=>x(!1),isArabic:i.language==="ar"})]})};function SM(e){return Kt({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5.53 2.13 0 7.75h5.53zm.398 0v5.62h7.608v3.65l5.47-4.45c-.014-1.22.031-2.25-.025-3.46-.148-1.09-1.287-1.47-2.236-1.36zM23.1 4.32c-.802.295-1.358.995-2.047 1.49-2.506 2.05-4.982 4.12-7.468 6.19 3.025 2.59 6.04 5.18 9.065 7.76 1.218.671 1.428-.814 1.328-1.64v-13a.828.828 0 0 0-.877-.825zM.038 8.15v7.7h5.53v-7.7zm13.577 8.1H6.008v5.62c3.864-.006 7.737.011 11.58-.009 1.02-.07 1.618-1.12 1.468-2.07v-2.51l-5.47-4.68v3.65zm-13.577 0c.02 1.44-.041 2.88.033 4.31.162.948 1.158 1.43 2.047 1.31h3.464v-5.62z"},child:[]}]})(e)}const tz=({lead:e,position:t,onAction:a,isRtl:s,onMouseEnter:n,onMouseLeave:i,innerRef:l})=>{const o=[{id:"view",icon:dd,label:s?"":"View",color:"text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20"},{id:"call",icon:th,label:s?"":"Call",color:"text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20"},{id:"whatsapp",icon:Zu,label:s?"":"WhatsApp",color:"text-green-500 hover:bg-green-50 dark:hover:bg-green-900/20"},{id:"email",icon:Cf,label:s?"":"Email",color:"text-purple-600 hover:bg-purple-50 dark:hover:bg-purple-900/20"},{id:"video",icon:tw,label:s?"":"Video",color:"text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20"},{id:"convert",icon:ez,label:s?" ":"Convert",color:"text-teal-600 hover:bg-teal-50 dark:hover:bg-teal-900/20"},{id:"delete",icon:sx,label:s?"":"Delete",color:"text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20"}];return r.jsx("div",{className:"fixed z-[9999]",style:{left:`${t.x}px`,top:`${t.y}px`,transform:"translate(-50%, -100%)",pointerEvents:"none",userSelect:"none"},children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl border border-gray-200 dark:border-gray-600 p-3 min-w-[220px] max-w-[280px]",style:{pointerEvents:"auto"},ref:l,onMouseEnter:n,onMouseLeave:i,children:[r.jsxs("div",{className:"px-2 py-2 border-b border-gray-200 dark:border-gray-600 mb-3",children:[r.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:e?.name||e?.leadName||""}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:e?.email||e?.phone||e?.mobile||""})]}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:o.map(c=>{const d=c.icon;return r.jsxs("button",{onClick:u=>{u.preventDefault(),u.stopPropagation(),a(c.id)},className:`flex flex-col items-center justify-center p-3 rounded-lg transition-all duration-200 ${c.color} hover:scale-105 hover:shadow-md cursor-pointer`,title:c.label,children:[r.jsx(d,{className:"w-4 h-4 mb-1"}),r.jsx("span",{className:"text-xs font-medium",children:c.label})]},c.id)})}),r.jsx("div",{className:"absolute w-0 h-0 border-l-[6px] border-r-[6px] border-t-[6px] border-transparent border-t-white dark:border-t-gray-800",style:{bottom:"-6px",left:"50%",transform:"translateX(-50%)"}})]})})},joe=({dateFrom:e,dateTo:t,selectedEmployee:a,stageFilter:s})=>{const{t:n,i18n:i}=Dt(),{theme:l}=Vi(),o=`
    .scrollbar-thin-blue { scrollbar-width: thin; scrollbar-color: #2563eb transparent; }
    .scrollbar-thin-blue::-webkit-scrollbar { height: 6px; }
    .scrollbar-thin-blue::-webkit-scrollbar-track { background: transparent; }
    .scrollbar-thin-blue::-webkit-scrollbar-thumb { background-color: #2563eb; border-radius: 9999px; }
    .scrollbar-thin-blue:hover::-webkit-scrollbar-thumb { background-color: #1d4ed8; }
  `,c=`
    .icon-whatsapp { color: #25D366; }
    .icon-call { color: #007AFF; }
    .icon-email { color: #FFA726; }
    .icon-preview { color: #616161; }
    .icon-googlemeet { color: #00897B; }
    .btn-preview { background-color: #eeeeee; color: #1f2937; }
    .btn-preview:hover { background-color: #e0e0e0; }
    .btn-addaction { background-color: #2563EB; color: #ffffff; }
    .btn-addaction:hover { background-color: #1D4ED8; }
  `,d="userActionsByDate",u=()=>{try{return JSON.parse(localStorage.getItem(d)||"{}")}catch{return{}}},f=Y=>{try{localStorage.setItem(d,JSON.stringify(Y))}catch{}},[x,m]=w.useState(!1),g=Y=>{try{const ce=u(),he=Y?.date||new Date().toISOString().slice(0,10),ue=(Y?.title||"").trim()||(Y?.notes?String(Y.notes).slice(0,60):`${Y?.type||"action"}`);ce[he]=[...ce[he]||[],ue],f(ce)}finally{m(!1)}},[v,b]=w.useState(null),[j,S]=w.useState(!1),[k,N]=w.useState(!1),[A,_]=w.useState(null),[D,P]=w.useState(null),[I,B]=w.useState({x:0,y:0}),[O,U]=w.useState(!1),E=w.useRef(null),R=w.useRef(null);w.useEffect(()=>{if(k){const Y=document.body.style.overflow;return document.body.style.overflow="hidden",window.scrollTo({top:0,behavior:"smooth"}),()=>{document.body.style.overflow=Y}}},[k]);const K=w.useMemo(()=>{try{const Y=localStorage.getItem("leadsData");if(!Y)return[];const ce=JSON.parse(Y),he=Array.isArray(ce)?ce:[];return a?he.filter(ue=>(ue.assignedTo||ue.employee||"").trim()===a):he}catch(Y){return console.warn("Failed to parse leadsData from localStorage in DelayLeads.",Y?.message),[]}},[a]),V=[{id:"DL-1001",name:"Ahmed Ali",email:"ahmed@example.com",phone:"0501234567",company:"Alpha Co",status:"new",priority:"high",source:"Website",createdAt:new Date(Date.now()-360*3600*1e3).toISOString(),lastContact:new Date(Date.now()-216*3600*1e3).toISOString(),notes:"   "},{id:"DL-1002",name:"Sara Mohamed",email:"sara@example.com",phone:"0559876543",company:"Beta Ltd",status:"in-progress",priority:"medium",source:"Facebook Ads",createdAt:new Date(Date.now()-504*3600*1e3).toISOString(),lastContact:new Date(Date.now()-288*3600*1e3).toISOString(),notes:"     "},{id:"DL-1003",name:"Hassan Youssef",email:"hassan@example.com",phone:"0563332211",company:"Gamma Inc",status:"qualified",priority:"low",source:"Referral",createdAt:new Date(Date.now()-720*3600*1e3).toISOString(),lastContact:new Date(Date.now()-480*3600*1e3).toISOString(),notes:"    "}],Z=K.length>0?K:V,J=w.useMemo(()=>{try{const Y=JSON.parse(localStorage.getItem("crmStages")||"[]");return Array.isArray(Y)&&Y.length>0?Y.map(ce=>typeof ce=="string"?ce:ce?.name).filter(Boolean):["new","qualified","in-progress","converted","lost"]}catch{return["new","qualified","in-progress","converted","lost"]}},[]),ee=7,W=Y=>{const ce=(Y?.notes||"").toLowerCase();return ce.includes("meeting")||ce.includes("")?"followUpAfterMeeting":ce.includes("reschedule")||ce.includes("")?"rescheduleMeeting":ce.includes("no answer")||ce.includes(" ")?"noAnswer1stCall":"followUp"},le=Y=>{if(!["new","qualified","in-progress"].includes(Y?.status))return!1;const he=Y?.lastContact||Y?.createdAt,ue=new Date(he);return isNaN(ue)?!1:Math.floor((new Date-ue)/(1e3*60*60*24))>ee},M=w.useMemo(()=>Z.filter(le).map(ce=>({id:ce.id,name:ce.name,email:ce.email,phone:ce.phone,company:ce.company,status:ce.status,priority:ce.priority,source:ce.source,createdAt:ce.createdAt,lastContact:ce.lastContact,notes:ce.notes,leadName:ce.name,mobile:ce.phone?`(${String(ce.phone).slice(0,3)}*****)`:"",actionDate:ce.lastContact||ce.createdAt,lastComment:ce.notes||"",category:W(ce)})),[Z]),X=Y=>{try{const ce=new Date(Y);return new Intl.DateTimeFormat(i.language==="ar"?"ar-EG":"en-US",{year:"numeric",month:"2-digit",day:"2-digit"}).format(ce)}catch{return Y||""}},z=Y=>{const ce=String(Y||"").toLowerCase(),he=ce==="new"?n("New"):ce==="qualified"?n("Qualified"):ce==="in-progress"?n("In Progress"):ce==="converted"?n("Converted"):ce==="lost"?n("Lost"):Y||"-";if(q){const Fe=ce==="new"?"new":ce==="qualified"?"qualified":ce==="in-progress"?"in-progress":ce==="converted"?"converted":ce==="lost"?"lost":"new";return r.jsx("span",{className:`stage-badge ${Fe}`,children:he})}const ue=ce==="new"?"dark:bg-blue-900/30 dark:text-blue-200":ce==="qualified"?"dark:bg-emerald-900/30 dark:text-emerald-200":ce==="in-progress"?"dark:bg-amber-900/30 dark:text-amber-200":ce==="converted"?"dark:bg-purple-900/30 dark:text-purple-200":ce==="lost"?"dark:bg-red-900/30 dark:text-red-200":"dark:bg-gray-900/30 dark:text-gray-200";return r.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded ${ue}`,children:he})},Q=Y=>{if(!e&&!t)return!0;const ce=new Date(Y);if(isNaN(ce))return!0;const he=new Date(ce.getFullYear(),ce.getMonth(),ce.getDate());if(e){const ue=new Date(e);if(ue.setHours(0,0,0,0),he<ue)return!1}if(t){const ue=new Date(t);if(ue.setHours(0,0,0,0),he>ue)return!1}return!0},ne=w.useMemo(()=>{const Y=Object.fromEntries(J.map(he=>[he,0]));return M.filter(he=>Q(he.stageDate)).forEach(he=>{const ue=String(he?.status||"").toLowerCase(),Fe=J.find(Ue=>String(Ue).toLowerCase()===ue);Fe&&(Y[Fe]=(Y[Fe]||0)+1)}),Y},[M,e,t,J]),re=w.useMemo(()=>{const Y=M.filter(he=>Q(he.actionDate)),ce=he=>{const ue=String(v||"").toLowerCase();if(!ue)return!0;const Fe=String(he?.status||"").toLowerCase(),Ue=String(he?.category||"").toLowerCase(),Te=String(he?.source||"").toLowerCase();return ue==="new"?Fe==="new":ue==="pending"?Fe==="in-progress"||Fe==="pending":ue==="followup"?Ue.includes("followup")||Fe==="follow-up":ue==="coldcalls"?Te==="cold-call"||Te==="direct"||Te==="coldcalls":ue==="duplicate"?String(he?.duplicateStatus||he?.isDuplicate||"").toLowerCase()==="duplicate"||he?.isDuplicate===!0:!0};return Y.filter(ce)},[M,v,e,t]),oe=re.length>5,q=l==="light",ie=q?"bg-gray-100":"bg-gray-900",ye=q?"text-gray-800":"text-gray-100";return w.useEffect(()=>{const Y=ce=>{O&&(E.current&&E.current.contains(ce.target)||R.current&&R.current.contains(ce.target)||(U(!1),P(null),R.current=null))};return document.addEventListener("mousedown",Y),()=>document.removeEventListener("mousedown",Y)},[O]),r.jsxs("div",{className:`p-4 ${ie} h-full overflow-auto rounded-lg shadow-md border ${q?"border-gray-200":"border-gray-700"} ${ye}`,children:[r.jsx("div",{className:"hidden",children:(()=>{const Y=J.map(ce=>({key:ce,label:ce,count:ne[ce]||0}));return r.jsxs(r.Fragment,{children:[Y.slice(0,2).map(ce=>r.jsxs("button",{onClick:()=>b(ce.key),className:`px-3 py-2 text-xs sm:px-2 sm:py-1 sm:text-sm rounded ${v===ce.key?"bg-blue-600 text-white":q?"text-gray-600 hover:bg-gray-100":"text-gray-300 hover:bg-gray-700"}`,children:[r.jsx("span",{children:ce.label}),r.jsx("span",{className:"ml-1",children:ce.count})]},ce.key)),!j&&Y.length>2&&r.jsxs("button",{onClick:()=>S(!0),className:`px-3 py-2 text-xs sm:px-2 sm:py-1 sm:text-sm rounded border-2 border-dashed ${q?"border-blue-300 bg-blue-50 text-blue-600":"border-blue-600 bg-blue-900/20 text-blue-400"}`,children:[r.jsxs("span",{className:"hidden sm:inline",children:[n("Show More")," (",Y.length-2,")"]}),r.jsxs("span",{className:"sm:hidden",children:["+",Y.length-2]})]}),j&&Y.slice(2).map(ce=>r.jsxs("button",{onClick:()=>b(ce.key),className:`px-3 py-2 text-xs sm:px-2 sm:py-1 sm:text-sm rounded ${v===ce.key?"bg-blue-600 text-white":q?"text-gray-600 hover:bg-gray-100":"text-gray-300 hover:bg-gray-700"}`,children:[r.jsx("span",{children:ce.label}),r.jsx("span",{className:"ml-1",children:ce.count})]},ce.key)),v&&r.jsx("button",{onClick:()=>b(null),className:`px-3 py-2 text-xs sm:px-2 sm:py-1 sm:text-sm rounded ${q?"text-gray-600 hover:bg-gray-100":"text-gray-300 hover:bg-gray-700"}`,children:n("Show All")}),j&&r.jsxs("button",{onClick:()=>S(!1),className:`px-3 py-2 text-xs sm:px-2 sm:py-1 sm:text-sm rounded border-2 border-dashed ${q?"border-gray-300 bg-gray-50 text-gray-600":"border-gray-600 bg-gray-800 text-gray-400"}`,children:[r.jsx("span",{className:"hidden sm:inline",children:n("Show Less")}),r.jsx("span",{className:"sm:hidden",children:""})]})]})})()}),r.jsx("style",{children:o}),r.jsx("style",{children:c}),r.jsxs("div",{className:`overflow-x-auto scrollbar-thin-blue ${oe?"max-h-80 overflow-y-auto":""}`,children:[r.jsx("div",{className:"sm:hidden",children:re.map((Y,ce)=>r.jsxs("div",{className:`p-3 mb-2 rounded-lg border ${q?"bg-white border-gray-200":"bg-gray-800 border-gray-700"} cursor-default`,children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-sm",children:Y.leadName}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:Y.mobile}),r.jsx("div",{className:"mt-1",children:z(Y.status)})]}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:X(Y.actionDate)})]}),r.jsx("div",{className:"text-sm mb-3",children:Y.lastComment}),r.jsxs("div",{className:"flex items-center justify-end gap-2 flex-nowrap",children:[r.jsx("button",{title:n("Preview"),onClick:he=>{he.stopPropagation(),_(Y),N(!0)},className:`inline-flex items-center justify-center ${q?"text-gray-700 hover:text-blue-500":"text-indigo-300 hover:text-indigo-400"}`,children:r.jsx(dd,{size:16,className:`${q?"text-gray-700":"text-indigo-300"}`})}),r.jsx("button",{title:n("Add Action"),onClick:he=>{he.stopPropagation(),_(Y),m(!0)},className:`inline-flex items-center justify-center ${q?"text-gray-700 hover:text-blue-500":"text-emerald-300 hover:text-emerald-400"}`,children:r.jsx(zu,{size:16,className:`${q?"text-gray-700":"text-emerald-300"}`})}),r.jsx("button",{title:n("Call"),onClick:he=>{he.stopPropagation();const ue=Y.phone||Y.mobile||"",Fe=String(ue).replace(/[^0-9]/g,"");Fe&&window.open(`tel:${Fe}`)},className:"inline-flex items-center justify-center text-blue-600 dark:text-blue-400 hover:text-blue-500",children:r.jsx(th,{size:16,className:"icon-call"})}),r.jsx("button",{title:"WhatsApp",onClick:he=>{he.stopPropagation();const ue=Y.phone||Y.mobile||"",Fe=String(ue).replace(/[^0-9]/g,"");Fe&&window.open(`https://wa.me/${Fe}`)},className:"inline-flex items-center justify-center text-green-600 dark:text-green-400 hover:text-green-500",children:r.jsx(Zu,{size:16,className:"icon-whatsapp"})}),r.jsx("button",{title:n("Email"),onClick:he=>{he.stopPropagation(),Y.email&&window.open(`mailto:${Y.email}`)},className:"inline-flex items-center justify-center text-gray-700 dark:text-gray-200 hover:text-blue-500",children:r.jsx(Cf,{size:16,className:"icon-email"})}),r.jsx("button",{title:"Google Meet",onClick:he=>{he.stopPropagation(),window.open("https://meet.google.com/","_blank")},className:"inline-flex items-center justify-center text-gray-700 dark:text-gray-200 hover:text-blue-500",children:r.jsx(SM,{size:16,className:"icon-googlemeet"})})]})]},ce))}),r.jsx("div",{className:"hidden sm:block",children:r.jsxs("table",{dir:i.dir()==="rtl"?"rtl":"ltr",className:`delay-table w-full min-w-max text-sm ${i.dir()==="rtl"?"text-right":"text-left"}`,children:[r.jsx("thead",{className:"text-xs uppercase",children:r.jsxs("tr",{children:[r.jsx("th",{scope:"col",className:"px-6 py-3",children:n("Lead Name")}),r.jsx("th",{scope:"col",className:`px-6 py-3 ${i.dir()==="rtl"?"border-r":"border-l"} ${q?"border-gray-200":"border-gray-700"}`,children:n("Mobile")}),r.jsx("th",{scope:"col",className:`px-6 py-3 ${i.dir()==="rtl"?"border-r":"border-l"} ${q?"border-gray-200":"border-gray-700"}`,children:n("Actions")}),r.jsx("th",{scope:"col",className:`px-6 py-3 ${i.dir()==="rtl"?"border-r":"border-l"} ${q?"border-gray-200":"border-gray-700"}`,children:n("Stage")}),r.jsx("th",{scope:"col",className:`px-6 py-3 ${i.dir()==="rtl"?"border-r":"border-l"} ${q?"border-gray-200":"border-gray-700"}`,children:n("Last Comment")}),r.jsx("th",{scope:"col",className:`px-6 py-3 ${i.dir()==="rtl"?"border-r":"border-l"} ${q?"border-gray-200":"border-gray-700"}`,children:n("Action Date")})]})}),r.jsx("tbody",{children:re.map((Y,ce)=>r.jsxs("tr",{className:`border-b ${q?"bg-white border-gray-200 hover:bg-gray-50":"bg-gray-800 border-gray-700 dark:hover:bg-blue-900/25 dark:hover:shadow-md dark:hover:shadow-black/40"}`,children:[r.jsx("td",{className:"px-6 py-4 cell-divider",children:Y.leadName}),r.jsx("td",{className:`px-6 py-4 ${i.dir()==="rtl"?"border-r":"border-l"} cell-divider ${q?"border-gray-200":"border-gray-700"}`,children:Y.mobile}),r.jsx("td",{className:`px-6 py-4 ${i.dir()==="rtl"?"border-r":"border-l"} cell-divider ${q?"border-gray-200":"border-gray-700"}`,children:r.jsxs("div",{className:"flex items-center gap-2 flex-nowrap",children:[r.jsx("button",{title:n("Preview"),onClick:he=>{he.stopPropagation(),_(Y),N(!0)},className:`inline-flex items-center justify-center ${q?"text-gray-700 hover:text-blue-500":"text-indigo-300 hover:text-indigo-400"}`,children:r.jsx(dd,{size:16,className:`${q?"text-gray-700":"text-indigo-300"}`})}),r.jsx("button",{title:n("Add Action"),onClick:he=>{he.stopPropagation(),_(Y),m(!0)},className:`inline-flex items-center justify-center ${q?"text-gray-700 hover:text-blue-500":"text-emerald-300 hover:text-emerald-400"}`,children:r.jsx(zu,{size:16,className:`${q?"text-gray-700":"text-emerald-300"}`})}),r.jsx("button",{title:n("Call"),onClick:he=>{he.stopPropagation();const ue=Y.phone||Y.mobile||"",Fe=String(ue).replace(/[^0-9]/g,"");Fe&&window.open(`tel:${Fe}`)},className:"inline-flex items-center justify-center text-blue-600 dark:text-blue-400 hover:text-blue-500",children:r.jsx(th,{size:16,className:"icon-call"})}),r.jsx("button",{title:"WhatsApp",onClick:he=>{he.stopPropagation();const ue=Y.phone||Y.mobile||"",Fe=String(ue).replace(/[^0-9]/g,"");Fe&&window.open(`https://wa.me/${Fe}`)},className:"inline-flex items-center justify-center text-green-600 dark:text-green-400 hover:text-green-500",children:r.jsx(Zu,{size:16,className:"icon-whatsapp"})}),r.jsx("button",{title:n("Email"),onClick:he=>{he.stopPropagation(),Y.email&&window.open(`mailto:${Y.email}`)},className:"inline-flex items-center justify-center text-gray-700 dark:text-gray-200 hover:text-blue-500",children:r.jsx(Cf,{size:16,className:"icon-email"})}),r.jsx("button",{title:"Google Meet",onClick:he=>{he.stopPropagation(),window.open("https://meet.google.com/","_blank")},className:"inline-flex items-center justify-center text-gray-700 dark:text-gray-200 hover:text-blue-500",children:r.jsx(SM,{size:16,className:"icon-googlemeet"})})]})}),r.jsx("td",{className:`px-6 py-4 ${i.dir()==="rtl"?"border-r":"border-l"} cell-divider ${q?"stage-cell":""} ${q?"border-gray-200":"border-gray-700"}`,children:z(Y.status)}),r.jsx("td",{className:`px-6 py-4 ${i.dir()==="rtl"?"border-r":"border-l"} ${q?"border-gray-200":"border-gray-700"}`,children:Y.lastComment}),r.jsx("td",{className:`px-6 py-4 ${i.dir()==="rtl"?"border-r":"border-l"} ${q?"border-gray-200":"border-gray-700"}`,children:X(Y.actionDate)})]},ce))})]})})]}),k&&r.jsx(Rv,{isOpen:k,onClose:()=>{N(!1),_(null)},lead:A,isArabic:i.language==="ar",theme:l}),x&&r.jsx(hA,{isOpen:!0,onClose:()=>m(!1),onSave:g,lead:A})]})};Sr.register(Cn,An,$n,xl,ai,wx,rn,an);const Noe=({data:e,chartType:t="bar",filters:a={},legendLabel:s="No. of Leads"})=>{const{t:n,i18n:i}=Dt(),l=i.language||"en",{theme:o}=Vi(),c=o==="light",d=typeof window<"u"&&window.innerWidth<=480,u=l==="ar"?"":"Months",f=l==="ar"?"  ":"No. of Leads",[x,m]=w.useState([]),[g,v]=w.useState(0),[b,j]=w.useState(!1),[S,k]=w.useState(""),[N,A]=w.useState({employee:"",stage:"",leadName:"",dateFrom:"",dateTo:"",valueMin:"",valueMax:""});n("New"),n("Contacted"),n("Qualified"),n("Proposal"),n("Negotiation"),n("Closed Won"),n("Closed Lost");const _={monthly:[{label:n("January"),value:120,converted:45,lost:25,inProgress:50,employee:" ",stage:"qualified",leadName:" ",date:"2024-01-15"},{label:n("February"),value:98,converted:38,lost:20,inProgress:40,employee:" ",stage:"contacted",leadName:" ",date:"2024-02-10"},{label:n("March"),value:145,converted:55,lost:30,inProgress:60,employee:" ",stage:"proposal",leadName:" ",date:"2024-03-20"},{label:n("April"),value:167,converted:62,lost:35,inProgress:70,employee:" ",stage:"new",leadName:" ",date:"2024-04-05"},{label:n("May"),value:134,converted:48,lost:28,inProgress:58,employee:" ",stage:"negotiation",leadName:" ",date:"2024-05-12"},{label:n("June"),value:189,converted:71,lost:40,inProgress:78,employee:" ",stage:"closed_won",leadName:" ",date:"2024-06-18"},{label:n("July"),value:175,converted:68,lost:36,inProgress:71,employee:" ",stage:"qualified",leadName:" ",date:"2024-07-14"},{label:n("August"),value:160,converted:63,lost:31,inProgress:66,employee:" ",stage:"proposal",leadName:" ",date:"2024-08-09"},{label:n("September"),value:142,converted:56,lost:29,inProgress:57,employee:" ",stage:"contacted",leadName:" ",date:"2024-09-21"},{label:n("October"),value:153,converted:60,lost:30,inProgress:63,employee:" ",stage:"negotiation",leadName:" ",date:"2024-10-11"},{label:n("November"),value:171,converted:67,lost:34,inProgress:70,employee:" ",stage:"qualified",leadName:" ",date:"2024-11-16"},{label:n("December"),value:196,converted:74,lost:41,inProgress:81,employee:" ",stage:"closed_won",leadName:" ",date:"2024-12-19"}],weekly:[{label:n("Week 1"),value:45,converted:18,lost:8,inProgress:19},{label:n("Week 2"),value:52,converted:22,lost:10,inProgress:20},{label:n("Week 3"),value:38,converted:15,lost:7,inProgress:16},{label:n("Week 4"),value:61,converted:25,lost:12,inProgress:24}],bySource:[{label:n("Website"),value:245,converted:98,lost:47,inProgress:100},{label:n("Social Media"),value:189,converted:76,lost:38,inProgress:75},{label:n("Email Campaign"),value:156,converted:62,lost:31,inProgress:63},{label:n("Referral"),value:134,converted:54,lost:27,inProgress:53},{label:n("Direct"),value:98,converted:39,lost:20,inProgress:39}],byStatus:[{label:n("New"),value:234,color:"#3B82F6"},{label:n("Contacted"),value:189,color:"#10B981"},{label:n("Qualified"),value:145,color:"#F59E0B"},{label:n("Proposal"),value:98,color:"#8B5CF6"},{label:n("Negotiation"),value:67,color:"#EF4444"},{label:n("Closed Won"),value:156,color:"#059669"},{label:n("Closed Lost"),value:89,color:"#DC2626"}]},D=E=>{let R=E;S&&(R=R.filter(J=>J.label?.toLowerCase().includes(S.toLowerCase())||J.leadName?.toLowerCase().includes(S.toLowerCase())||J.employee?.toLowerCase().includes(S.toLowerCase())));const K=a?.employee||N.employee,V=a?.dateFrom||N.dateFrom,Z=a?.dateTo||N.dateTo;return K&&(R=R.filter(J=>J.employee===K)),N.stage&&(R=R.filter(J=>J.stage===N.stage)),N.leadName&&(R=R.filter(J=>J.leadName?.toLowerCase().includes(N.leadName.toLowerCase()))),V&&(R=R.filter(J=>{const ee=new Date(J.date),W=new Date(V);return ee>=W})),Z&&(R=R.filter(J=>{const ee=new Date(J.date),W=new Date(Z);return ee<=W})),N.valueMin&&(R=R.filter(J=>J.value>=parseFloat(N.valueMin))),N.valueMax&&(R=R.filter(J=>J.value<=parseFloat(N.valueMax))),R};w.useEffect(()=>{const E=e||_[a.dataType||"monthly"],R=D(E);m(R),v(t==="pie"||t==="doughnut"?R.reduce((K,V)=>K+V.value,0):Math.max(...R.map(K=>K.value))*1.2)},[e,a,t,S,N]);const P=()=>{const E=x.map(Z=>Z.label),R=x.map(Z=>Z.value||0),K={labels:E,datasets:[{label:n(s),data:R,backgroundColor:"rgba(59, 130, 246, 0.7)",borderColor:"rgba(59, 130, 246, 1)",borderWidth:1,borderSkipped:!1,borderRadius:6,maxBarThickness:36}]},V={responsive:!0,maintainAspectRatio:!1,devicePixelRatio:2,plugins:{legend:{position:"top",display:!0,labels:{usePointStyle:!0,boxWidth:8,color:c?"#0f172a":"#ffffff",font:{size:d?10:12}}},tooltip:{enabled:!0}},scales:{x:{grid:{display:!1},ticks:{maxRotation:0,minRotation:0,color:c?"#0f172a":"#ffffff",font:{size:d?10:12}},title:{display:!0,text:u,color:c?"#0f172a":"#ffffff",font:{size:d?10:13,weight:600}}},y:{beginAtZero:!0,grid:{display:!0,color:c?"rgba(15,23,42,0.08)":"rgba(255,255,255,0.12)"},ticks:{precision:0,color:c?"#0f172a":"#ffffff",font:{size:d?10:12}},title:{display:!0,text:f,color:c?"#0f172a":"#ffffff",font:{size:d?10:13,weight:600}}}}};return r.jsx("div",{className:"w-full h-40 sm:h-48 px-2",children:r.jsx(Ls,{data:K,options:V})})},I=()=>{const E=x.map(ee=>ee.label),R=x.map(ee=>ee.converted||0),K=x.map(ee=>ee.inProgress||0),V=x.map(ee=>ee.lost||0),Z={labels:E,datasets:[{label:n("Converted"),data:R,backgroundColor:"#22c55e",stack:"status"},{label:n("In Progress"),data:K,backgroundColor:"#eab308",stack:"status"},{label:n("Lost"),data:V,backgroundColor:"#ef4444",stack:"status"}]},J={responsive:!0,maintainAspectRatio:!1,devicePixelRatio:2,plugins:{legend:{position:"top",labels:{usePointStyle:!0,boxWidth:8,color:c?"#0f172a":"#ffffff",font:{size:d?10:12}}},tooltip:{enabled:!0}},scales:{x:{stacked:!0,grid:{display:!1},ticks:{maxRotation:0,minRotation:0,color:c?"#0f172a":"#ffffff",font:{size:d?10:12}},title:{display:!0,text:u,color:c?"#0f172a":"#ffffff",font:{size:d?10:13,weight:600}}},y:{stacked:!0,beginAtZero:!0,grid:{display:!0},ticks:{precision:0,color:c?"#0f172a":"#ffffff",font:{size:d?10:12}},title:{display:!0,text:f,color:c?"#0f172a":"#ffffff",font:{size:d?10:13,weight:600}}}}};return r.jsx("div",{className:"w-full h-40 sm:h-48 px-2",children:r.jsx(Ls,{data:Z,options:J})})},B=()=>{const E=x.map(Z=>Z.label),R=x.map(Z=>Z.value||0),K={labels:E,datasets:[{label:n(s),data:R,borderColor:"#3B82F6",backgroundColor:"rgba(59, 130, 246, 0.15)",tension:.35,pointRadius:3,pointBackgroundColor:"#3B82F6",fill:!0}]},V={responsive:!0,maintainAspectRatio:!1,devicePixelRatio:2,plugins:{legend:{position:"top",display:!0,labels:{usePointStyle:!0,boxWidth:8,color:c?"#0f172a":"#ffffff",font:{size:d?10:12}}},tooltip:{enabled:!0}},scales:{x:{grid:{display:!1},ticks:{maxRotation:0,minRotation:0,color:c?"#0f172a":"#ffffff",font:{size:d?10:12}},title:{display:!0,text:u,color:c?"#0f172a":"#ffffff",font:{size:d?10:13,weight:600}}},y:{beginAtZero:!0,grid:{display:!0},ticks:{precision:0,color:c?"#0f172a":"#ffffff",font:{size:d?10:12}},title:{display:!0,text:f,color:c?"#0f172a":"#ffffff",font:{size:d?10:13,weight:600}}}}};return r.jsx("div",{className:"w-full h-40 sm:h-48 px-2",children:r.jsx(no,{data:K,options:V})})},O=()=>{const E=x.reduce((V,Z)=>V+(Z.value||0),0),R=["#2563eb","#06b6d4","#22c55e","#a3e635","#f59e0b","#f97316","#ef4444","#f43f5e","#a78bfa","#8b5cf6"],K=x.map((V,Z)=>({label:V.label,value:V.value||0,color:R[Z%R.length]}));return r.jsxs("div",{className:"flex items-center justify-center h-48",children:[r.jsx(Zn,{segments:K,centerValue:E,centerLabel:n("Total Leads"),size:192}),r.jsx("div",{className:"ml-6 space-y-2",children:K.map((V,Z)=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:V.color}}),r.jsx("span",{className:"text-sm",style:{color:c?"#0f172a":"#ffffff"},children:V.label}),r.jsx("span",{className:"text-sm font-medium",style:{color:c?"#0f172a":"#ffffff"},children:V.value})]},Z))})]})},U=()=>{switch(t){case"bar":return P();case"stackedBar":return I();case"line":return B();case"pie":return O();default:return P()}};return r.jsx("div",{className:"w-full",children:U()})},Py=({title:e,value:t,change:a,changeType:s,icon:n,color:i,compact:l=!1})=>{const{theme:o}=Vi(),c=o==="light",d=()=>s==="positive"?"text-green-600 dark:text-green-400":s==="negative"?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400",u=()=>s==="positive"?"":s==="negative"?"":"";return r.jsxs("div",{className:`relative bg-[var(--panel-bg)] dark:bg-transparent dark:bg-none ${l?"p-2":"p-3"} rounded-lg shadow-md border border-[var(--panel-border)] h-full flex flex-col justify-between`,children:[r.jsxs("div",{className:`flex items-center justify-between ${l?"mb-0.5":"mb-1.5"}`,children:[r.jsx("div",{className:`rounded-lg ${l?"p-1":"p-1.5"} ${i}`,children:r.jsx("span",{className:`text-white ${l?"text-sm":"text-base"}`,children:n})}),r.jsxs("div",{className:`${l?"text-[10px]":"text-xs"} font-medium ${d()}`,children:[u()," ",a]})]}),r.jsx("h4",{className:`${l?"text-[11px]":"text-xs"} font-semibold ${c?"text-[var(--content-text)]":"dark:text-gray-100"} ${l?"mb-0":"mb-1"}`,children:e}),r.jsx("p",{className:`${l?"text-base":"text-xl"} font-bold ${c?"text-[var(--text-primary)]":"dark:text-gray-100"}`,children:t})]})};function Soe(e){return(e||[]).map(t=>typeof t=="string"?{value:t,label:t}:{value:t.value,label:t.label??String(t.value)})}function Xa({options:e,value:t,onChange:a,placeholder:s,className:n="",disabled:i=!1,children:l,menuWidth:o,usePortal:c=!0}){const{i18n:d}=Dt(),u=d.language==="ar",{theme:f}=Vi(),x=f==="light",m=w.useMemo(()=>{if(!e&&l){const I=[];return In.Children.forEach(l,B=>{if(!(!B||typeof B!="object")&&B.type==="option"){const O=B.props?.value??(Array.isArray(B.props?.children)?B.props.children.join(" "):B.props?.children),U=Array.isArray(B.props?.children)?B.props.children.join(" "):B.props?.children;I.push({value:String(O??U??""),label:String(U??O??"")})}}),I}return Soe(e)},[e,l]),[g,v]=w.useState(!1),[b,j]=w.useState(""),S=w.useRef(null),k=w.useRef(null),N=w.useRef(null),[A,_]=w.useState({}),D=w.useMemo(()=>{const I=(b||"").toLowerCase();return I?m.filter(B=>(B.label||"").toLowerCase().includes(I)):m},[m,b]),P=w.useMemo(()=>{const I=m.find(B=>B.value===t);return I?I.label:""},[m,t]);return w.useEffect(()=>{const I=B=>{if(!S.current)return;const O=S.current.contains(B.target),U=k.current&&k.current.contains(B.target);!O&&!U&&v(!1)};return document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},[]),w.useEffect(()=>{const I=()=>{if(!g||!S.current)return;const O=S.current.getBoundingClientRect();_(c?{position:"fixed",left:`${O.left}px`,top:`${O.bottom+4}px`,width:o?`${o}px`:`${O.width}px`,zIndex:9999}:{position:"absolute",left:0,top:"calc(100% + 4px)",width:o?`${o}px`:"100%",zIndex:9999})};if(I(),!g)return;const B=()=>I();return window.addEventListener("resize",B),window.addEventListener("scroll",B,!0),()=>{window.removeEventListener("resize",B),window.removeEventListener("scroll",B,!0)}},[g]),w.useEffect(()=>{if(g&&N.current)try{N.current.focus({preventScroll:!0})}catch{N.current.focus()}},[g]),r.jsxs("div",{ref:S,className:`relative ${i?"opacity-60 pointer-events-none":""}`,children:[r.jsxs("button",{type:"button",className:`input w-full flex items-center justify-between ${n}`,onClick:()=>v(I=>!I),"aria-haspopup":"listbox","aria-expanded":g,children:[r.jsx("span",{className:`truncate ${P?"":"text-[var(--muted-text)]"}`,children:P||(s??(u?"...":"Select..."))}),r.jsx("svg",{className:"w-4 h-4 opacity-80",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{d:"M6 9l6 6 6-6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),g&&(c?Cj.createPortal(r.jsxs("div",{ref:k,style:A,className:`rounded-md shadow-xl ${x?"bg-white border border-gray-200":"bg-gray-900/95 border border-gray-700"}`,onMouseDown:I=>I.stopPropagation(),children:[r.jsx("div",{className:"p-2 border-b border-base-300",children:r.jsx("input",{className:"input input-sm w-full",placeholder:u?" ...":"Type to search...",value:b,onChange:I=>j(I.target.value),ref:N})}),r.jsxs("ul",{role:"listbox",className:"max-h-44 overflow-auto py-1",children:[D.length===0&&r.jsx("li",{className:"px-3 py-2 text-sm text-[var(--muted-text)]",children:u?"  ":"No results"}),D.map(I=>r.jsx("li",{role:"option","aria-selected":I.value===t,className:`px-3 py-2 text-sm cursor-pointer hover:bg-[var(--table-row-hover)] ${I.value===t?"bg-[var(--table-row-hover)]":""} ${x?"text-gray-900":"text-gray-100"}`,onClick:()=>{a&&a(I.value),v(!1),j("")},children:I.label},I.value))]})]}),document.body):r.jsxs("div",{ref:k,style:A,className:`rounded-md shadow-xl ${x?"bg-white border border-gray-200":"bg-gray-900/95 border border-gray-700"}`,onMouseDown:I=>I.stopPropagation(),children:[r.jsx("div",{className:"p-2 border-b border-base-300",children:r.jsx("input",{className:"input input-sm w-full",placeholder:u?" ...":"Type to search...",value:b,onChange:I=>j(I.target.value),ref:N})}),r.jsxs("ul",{role:"listbox",className:"max-h-44 overflow-auto py-1",children:[D.length===0&&r.jsx("li",{className:"px-3 py-2 text-sm text-[var(--muted-text)]",children:u?"  ":"No results"}),D.map(I=>r.jsx("li",{role:"option","aria-selected":I.value===t,className:`px-3 py-2 text-sm cursor-pointer hover:bg-[var(--table-row-hover)] ${I.value===t?"bg-[var(--table-row-hover)]":""} ${x?"text-gray-900":"text-gray-100"}`,onClick:()=>{a&&a(I.value),v(!1),j("")},children:I.label},I.value))]})]}))]})}const koe=()=>{const{t:e,i18n:t}=Dt(),{theme:a}=Vi(),s=a==="light",[n,i]=w.useState(""),[l,o]=w.useState(""),[c,d]=w.useState(""),[u,f]=w.useState(""),[x,m]=w.useState(!1),[g,v]=w.useState(!1),[b,j]=w.useState(!1),[S,k]=w.useState(!1),[N,A]=w.useState(!0),[_,D]=w.useState(!0),[P,I]=w.useState(!0),[B,O]=w.useState(!0),[U,E]=w.useState(!0),[R,K]=w.useState(!0),[V,Z]=w.useState(!0),[J,ee]=w.useState(!0),[W,le]=w.useState(""),[M,X]=w.useState("all"),[z,Q]=w.useState("Count"),[ne,re]=w.useState("active"),[oe,q]=w.useState("2025"),[ie,ye]=w.useState([]),[Y,ce]=w.useState(0),he=w.useRef(null),ue=w.useRef(null),[Fe,Ue]=w.useState(null);w.useEffect(()=>{const Ee=()=>{he.current&&Ue(he.current.clientHeight)};return requestAnimationFrame(Ee),window.addEventListener("resize",Ee),()=>window.removeEventListener("resize",Ee)},[]);const ae=w.useMemo(()=>({all:[{id:1,name:e("Youssef Hemeda"),avatar:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='32' height='32'><rect width='100%' height='100%' fill='%239ca3af'/><text x='50%' y='58%' font-family='system-ui,Segoe UI,Arial' font-size='18' fill='white' text-anchor='middle'>Y</text></svg>",score:3329,isCrowned:!0},{id:2,name:e("Osama Sales"),avatar:"",score:1968,isCrowned:!1},{id:3,name:e("Engaz CRM Demo"),avatar:"",score:1661,isCrowned:!1}],today:[{id:1,name:e("Osama Sales"),avatar:"",score:245,isCrowned:!0},{id:2,name:e("Youssef Hemeda"),avatar:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='32' height='32'><rect width='100%' height='100%' fill='%239ca3af'/><text x='50%' y='58%' font-family='system-ui,Segoe UI,Arial' font-size='18' fill='white' text-anchor='middle'>Y</text></svg>",score:187,isCrowned:!1},{id:3,name:e("Ahmed Ibrahim"),avatar:"",score:142,isCrowned:!1}],weekly:[{id:1,name:e("Youssef Hemeda"),avatar:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='32' height='32'><rect width='100%' height='100%' fill='%239ca3af'/><text x='50%' y='58%' font-family='system-ui,Segoe UI,Arial' font-size='18' fill='white' text-anchor='middle'>Y</text></svg>",score:1245,isCrowned:!0},{id:2,name:e("Engaz CRM Demo"),avatar:"",score:876,isCrowned:!1},{id:3,name:e("Osama Sales"),avatar:"",score:654,isCrowned:!1}],monthly:[{id:1,name:e("Youssef Hemeda"),avatar:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='32' height='32'><rect width='100%' height='100%' fill='%239ca3af'/><text x='50%' y='58%' font-family='system-ui,Segoe UI,Arial' font-size='18' fill='white' text-anchor='middle'>Y</text></svg>",score:3329,isCrowned:!0},{id:2,name:e("Osama Sales"),avatar:"",score:1968,isCrowned:!1},{id:3,name:e("Engaz CRM Demo"),avatar:"",score:1661,isCrowned:!1}]}),[e])[M]||[],De=ae[0],Ce=Ee=>{const ze=(Ee||"").toLowerCase();return ze.includes("convert")?"":ze.includes("progress")?"":ze.includes("lost")?"":ze.includes("new")?"":ze.includes("qual")?"":""},at=Ee=>{const ze=(Ee||"").toLowerCase();return ze.includes("convert")?"#10b981":ze.includes("progress")?"#f59e0b":ze.includes("lost")?"#ef4444":ze.includes("new")?"#3b82f6":ze.includes("qual")?"#8b5cf6":"#3b82f6"},[ft,zt]=w.useState("bar"),[st,$e]=w.useState("monthly"),[qe,ct]=w.useState("all"),[dt,Nt]=w.useState("all"),Ct={Count:[{label:"April 2025",value:25,color:"bg-blue-500"},{label:"May 2025",value:28,color:"bg-blue-500"},{label:"June 2025",value:15,color:"bg-blue-500"},{label:"July 2025",value:20,color:"bg-blue-500"},{label:"August 2025",value:42,color:"bg-blue-500"},{label:"September 2025",value:90,color:"bg-blue-500"}],"Days to Assign":[{label:"April 2025",value:3.2,color:"bg-green-500"},{label:"May 2025",value:2.8,color:"bg-green-500"},{label:"June 2025",value:4.1,color:"bg-green-500"},{label:"July 2025",value:3.7,color:"bg-green-500"},{label:"August 2025",value:2.5,color:"bg-green-500"},{label:"September 2025",value:1.8,color:"bg-green-500"}],"Expected Revenue":[{label:"April 2025",value:125e3,color:"bg-purple-500"},{label:"May 2025",value:145e3,color:"bg-purple-500"},{label:"June 2025",value:98e3,color:"bg-purple-500"},{label:"July 2025",value:112e3,color:"bg-purple-500"},{label:"August 2025",value:189e3,color:"bg-purple-500"},{label:"September 2025",value:234e3,color:"bg-purple-500"}]},Lt=()=>Ct[z]||Ct.Count,Ht=()=>Lt().map(ze=>({...ze,label:ze.label.replace(/\b\d{4}\b/,oe)}));w.useEffect(()=>{const Ee=()=>m(window.innerWidth<640);return Ee(),window.addEventListener("resize",Ee),()=>window.removeEventListener("resize",Ee)},[]),w.useEffect(()=>{const Ee=()=>j(window.innerWidth>=1024);return Ee(),window.addEventListener("resize",Ee),()=>window.removeEventListener("resize",Ee)},[]),w.useEffect(()=>{try{const Ee=JSON.parse(localStorage.getItem("crmStages")||"[]"),ze=Array.isArray(Ee)?typeof Ee[0]=="string"?Ee.map(We=>({name:We,color:at(We),icon:Ce(We)})):Ee.map(We=>({name:We.name||String(We),color:We.color||at(We.name||String(We)),icon:We.icon||Ce(We.name||String(We))})):[];ye(ze)}catch{ye([])}},[]);const Vt={blue:{container:"border-blue-400 dark:border-blue-500 bg-gradient-to-br from-blue-100 via-blue-200 to-blue-300 dark:from-blue-800 dark:via-blue-700 dark:to-blue-600 shadow-blue-300/50 dark:shadow-blue-500/25",containerLight:"border-blue-400 bg-gradient-to-br from-blue-100/75 via-blue-100/65 to-blue-100/55 backdrop-blur-sm shadow-blue-300/30",containerDark:"border-blue-500 bg-transparent shadow-blue-500/25",patternFrom:"from-blue-200",patternTo:"to-blue-300",patternFromLight:"from-blue-200/40",patternToLight:"to-blue-300/30",iconBg:"bg-blue-600 dark:bg-blue-500",iconBgLight:"bg-blue-600/80",iconBgDark:"bg-blue-500"},green:{container:"border-green-400 dark:border-green-500 bg-gradient-to-br from-green-100 via-green-200 to-green-300 dark:from-green-800 dark:via-green-700 dark:to-green-600 shadow-green-300/50 dark:shadow-green-500/25",containerLight:"border-green-400 bg-gradient-to-br from-green-100/75 via-green-100/65 to-green-100/55 backdrop-blur-sm shadow-green-300/30",containerDark:"border-green-500 bg-transparent shadow-green-500/25",patternFrom:"from-green-200",patternTo:"to-green-300",patternFromLight:"from-green-200/40",patternToLight:"to-green-300/30",iconBg:"bg-green-600 dark:bg-green-500",iconBgLight:"bg-green-600/80",iconBgDark:"bg-green-500",badgeLightBg:"bg-green-100/60",badgeLightText:"text-green-700",badgeLightBorder:"border-green-300"},yellow:{container:"border-yellow-400 dark:border-yellow-500 bg-gradient-to-br from-yellow-100 via-yellow-200 to-yellow-300 dark:from-yellow-800 dark:via-yellow-700 dark:to-yellow-600 shadow-yellow-300/50 dark:shadow-yellow-500/25",containerLight:"border-yellow-400 bg-gradient-to-br from-yellow-100/75 via-yellow-100/65 to-yellow-100/55 backdrop-blur-sm shadow-yellow-300/30",containerDark:"border-yellow-500 bg-transparent shadow-yellow-500/25",patternFrom:"from-yellow-200",patternTo:"to-yellow-300",patternFromLight:"from-yellow-200/40",patternToLight:"to-yellow-300/30",iconBg:"bg-yellow-600 dark:bg-yellow-500",iconBgLight:"bg-yellow-600/80",iconBgDark:"bg-yellow-500",badgeLightBg:"bg-yellow-100/60",badgeLightText:"text-yellow-700",badgeLightBorder:"border-yellow-300"},red:{container:"border-red-400 dark:border-red-500 bg-gradient-to-br from-red-100 via-red-200 to-red-300 dark:from-red-800 dark:via-red-700 dark:to-red-600 shadow-red-300/50 dark:shadow-red-500/25",containerLight:"border-red-400 bg-gradient-to-br from-red-100/75 via-red-100/65 to-red-100/55 backdrop-blur-sm shadow-red-300/30",containerDark:"border-red-500 bg-transparent shadow-red-500/25",patternFrom:"from-red-200",patternTo:"to-red-300",patternFromLight:"from-red-200/40",patternToLight:"to-red-300/30",iconBg:"bg-red-600 dark:bg-red-500",iconBgLight:"bg-red-600/80",iconBgDark:"bg-red-500",badgeLightBg:"bg-red-100/60",badgeLightText:"text-red-700",badgeLightBorder:"border-red-300"},purple:{container:"border-purple-400 dark:border-purple-500 bg-gradient-to-br from-purple-100 via-purple-200 to-purple-300 dark:from-purple-800 dark:via-purple-700 dark:to-purple-600 shadow-purple-300/50 dark:shadow-purple-500/25",containerLight:"border-purple-400 bg-gradient-to-br from-purple-100/75 via-purple-100/65 to-purple-100/55 backdrop-blur-sm shadow-purple-300/30",containerDark:"border-purple-500 bg-transparent shadow-purple-500/25",patternFrom:"from-purple-200",patternTo:"to-purple-300",patternFromLight:"from-purple-200/40",patternToLight:"to-purple-300/30",iconBg:"bg-purple-600 dark:bg-purple-500",iconBgLight:"bg-purple-600/80",iconBgDark:"bg-purple-500",badgeLightBg:"bg-purple-100/60",badgeLightText:"text-purple-700",badgeLightBorder:"border-purple-300"}},Ne=w.useMemo(()=>{const Ee=Zt=>{try{const ka=localStorage.getItem(Zt);return ka?JSON.parse(ka):[]}catch{return[]}},ze=[...Ee("leadsData"),...Ee("leads")],We=new Map;ze.forEach(Zt=>{We.set(Zt?.id??Math.random(),Zt)});const xt=Array.from(We.values()),gt=(u||c||"").trim(),sa=Zt=>{if(!n&&!l)return!0;const ka=Zt?.lastContact||Zt?.createdAt,ut=new Date(ka);if(isNaN(ut))return!0;const ta=new Date(ut.getFullYear(),ut.getMonth(),ut.getDate());if(n){const va=new Date(n);if(va.setHours(0,0,0,0),ta<va)return!1}if(l){const va=new Date(l);if(va.setHours(0,0,0,0),ta>va)return!1}return!0};return xt.filter(Zt=>(!gt||(Zt.assignedTo||Zt.employee||"").trim()===gt)&&sa(Zt))},[Y,u,c,n,l]);w.useEffect(()=>{const Ee=()=>{ce(ze=>ze+1)};return window.addEventListener("storage",Ee),window.addEventListener("leadsDataUpdated",Ee),ce(ze=>ze+1),()=>{window.removeEventListener("storage",Ee),window.removeEventListener("leadsDataUpdated",Ee)}},[]);const Mt=w.useMemo(()=>{const Ee=Ne.length,ze=Ne.filter(sa=>sa.stage==="new"||sa.status==="new").length,We=Ne.filter(sa=>sa.isDuplicate).length,xt=Ne.filter(sa=>sa.stage==="in-progress"||sa.status==="in-progress").length,gt=Ne.filter(sa=>sa.source==="direct"||sa.source==="cold-call").length;return{total:Ee,new:ze,duplicate:We,pending:xt,coldCall:gt}},[Ne]);return t.language,Mt.total.toLocaleString(),`${e("of all system leads")}`,Mt.duplicate.toLocaleString(),`${Mt.total>0?(Mt.duplicate/Mt.total*100).toFixed(1):0}${e("of all system leads")}`,Mt.new.toLocaleString(),`${Mt.total>0?(Mt.new/Mt.total*100).toFixed(1):0}${e("of all system leads")}`,Mt.coldCall.toLocaleString(),`${Mt.total>0?(Mt.coldCall/Mt.total*100).toFixed(1):0}${e("of all system leads")}`,t.language,Mt.pending.toLocaleString(),`${Mt.total>0?(Mt.pending/Mt.total*100).toFixed(1):0}${e("of all system leads")}`,r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"mt-1 mb-3",children:r.jsxs("div",{className:`relative inline-flex items-center ${t.language==="ar"?"flex-row-reverse":""} gap-2`,children:[r.jsx("h1",{className:"page-title text-[16px] font-bold text-primary",children:e("Dashboard")}),r.jsx("span",{"aria-hidden":!0,className:"absolute block h-[1px] rounded bg-gradient-to-r from-blue-500 via-purple-500 to-transparent",style:{width:"calc(100% + 8px)",left:t.language==="ar"?"auto":"-4px",right:t.language==="ar"?"-4px":"auto",bottom:"-4px"}})]})}),r.jsxs("section",{className:"p-1.5 rounded-lg shadow-md glass-panel filter-card w-full mb-3",children:[r.jsx("style",{children:`
              .lm-input::placeholder{font-size:11px}
              @media (max-width:480px){.lm-input::placeholder{font-size:10px}}
            `}),r.jsxs("div",{className:"flex items-center justify-between mb-1 pb-1 border-b border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"flex items-center justify-center w-5 h-5 bg-blue-600 rounded-md",children:r.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.707A1 1 0 013 7V4z"})})}),r.jsx("h3",{className:`text-[12px] font-bold ${s?"text-black":"text-white"}`,children:e("Filter Options")})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:()=>{d(""),f(""),i(""),o("")},className:"btn-reset flex items-center gap-1 text-[9px] px-1 py-0.5 font-medium transform hover:scale-105 transition-all duration-200 focus:outline-none",children:[r.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),e("Reset")]}),r.jsx("button",{onClick:()=>A(Ee=>!Ee),className:"md:hidden flex items-center justify-center w-6 h-6 rounded-full border border-gray-300 dark:border-gray-600",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:r.jsx("path",{d:"M6 9l6 6 6-6"})})})]})]}),r.jsxs("div",{className:`${N?"grid":"hidden"} grid-cols-2 gap-1.5 md:hidden`,children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:`flex items-center gap-2 text-[11px] font-medium ${s?"text-gray-900":"text-white"}`,children:[r.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),e("Manager")]}),r.jsxs(Xa,{value:c,onChange:d,placeholder:e("Manager"),className:"lm-input !w-[9rem] text-[9px] px-1 py-[2px]",children:[r.jsx("option",{value:"Manager 1",children:"Manager 1"}),r.jsx("option",{value:"Manager 2",children:"Manager 2"}),r.jsx("option",{value:"Manager 3",children:"Manager 3"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:`flex items-center gap-2 text-[11px] font-medium ${s?"text-gray-900":"text-white"}`,children:[r.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),e("Employees")]}),r.jsxs(Xa,{value:u,onChange:f,placeholder:e("Employee"),className:"lm-input !w-[9rem] text-[9px] px-1 py-[2px]",children:[r.jsx("option",{value:"Employee 1",children:"Employee 1"}),r.jsx("option",{value:"Employee 2",children:"Employee 2"}),r.jsx("option",{value:"Employee 3",children:"Employee 3"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:`flex items-center gap-2 text-[10px] font-medium ${s?"text-gray-900":"text-white"}`,children:[r.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e("From Date")]}),r.jsx("input",{type:"date",value:n,onChange:Ee=>i(Ee.target.value),max:l||void 0,lang:t.language==="ar"?"ar-EG":"en-US",dir:t.language==="ar"?"rtl":"ltr",placeholder:e("Date Input Placeholder"),className:"lm-input !w-[9.25rem] text-[9px] px-1 py-[2px]"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:`flex items-center gap-2 text-[10px] font-medium ${s?"text-gray-900":"text-white"}`,children:[r.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e("To Date")]}),r.jsx("input",{type:"date",value:l,onChange:Ee=>o(Ee.target.value),min:n||void 0,lang:t.language==="ar"?"ar-EG":"en-US",dir:t.language==="ar"?"rtl":"ltr",placeholder:e("Date Input Placeholder"),className:"lm-input !w-[9.25rem] text-[9px] px-1 py-[2px]"})]})]})]}),r.jsxs("div",{className:"hidden md:grid md:grid-cols-2 lg:grid-cols-4 gap-1.5",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:`flex items-center gap-2 text-[11px] font-medium ${s?"text-gray-900":"text-white"}`,children:[r.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),e("Manager")]}),r.jsxs(Xa,{value:c,onChange:d,placeholder:e("Manager"),className:"lm-input !w-[9rem] text-[9px] px-1 py-[2px]",children:[r.jsx("option",{value:"Manager 1",children:"Manager 1"}),r.jsx("option",{value:"Manager 2",children:"Manager 2"}),r.jsx("option",{value:"Manager 3",children:"Manager 3"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:`flex items-center gap-2 text-[11px] font-medium ${s?"text-gray-900":"text-white"}`,children:[r.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),e("Employees")]}),r.jsxs(Xa,{value:u,onChange:f,placeholder:e("Employee"),className:"lm-input !w-[9rem] text-[9px] px-1 py-[2px]",children:[r.jsx("option",{value:"Employee 1",children:"Employee 1"}),r.jsx("option",{value:"Employee 2",children:"Employee 2"}),r.jsx("option",{value:"Employee 3",children:"Employee 3"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:`flex items-center gap-2 text-[10px] font-medium ${s?"text-gray-900":"text-white"}`,children:[r.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e("From Date")]}),r.jsx("input",{type:"date",value:n,onChange:Ee=>i(Ee.target.value),max:l||void 0,lang:t.language==="ar"?"ar-EG":"en-US",dir:t.language==="ar"?"rtl":"ltr",placeholder:e("Date Input Placeholder"),className:"lm-input !w-[9.25rem] text-[9px] px-1 py-[2px]"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:`flex items-center gap-2 text-[10px] font-medium ${s?"text-gray-900":"text-white"}`,children:[r.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e("To Date")]}),r.jsx("input",{type:"date",value:l,onChange:Ee=>o(Ee.target.value),min:n||void 0,lang:t.language==="ar"?"ar-EG":"en-US",dir:t.language==="ar"?"rtl":"ltr",placeholder:e("Date Input Placeholder"),className:"lm-input !w-[9.25rem] text-[9px] px-1 py-[2px]"})]})]})]}),r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("div",{className:"flex items-center gap-3",children:r.jsx("h2",{className:`text-[20px] font-bold ${s?"text-gray-900":"bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent"}`,children:e("Quick Numbers")})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>{x?v(Ee=>!Ee):b?k(Ee=>!Ee):v(Ee=>!Ee)},className:"btn btn-primary text-xs px-2 py-0.5 rounded-md",children:e((x?g:b?S:g)?"Show Less":"Show More")}),r.jsx("button",{onClick:()=>D(Ee=>!Ee),className:"md:hidden flex items-center justify-center w-6 h-6 rounded-full border border-gray-300 dark:border-gray-600",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:r.jsx("path",{d:"M6 9l6 6 6-6"})})})]})]}),r.jsx("div",{className:`${_?"grid":"hidden"} md:grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-5 gap-2 mb-10`,children:(()=>{const Ee=Ne.filter(pa=>pa.stage==="new"||pa.status==="new").length,ze=Ne.filter(pa=>pa.isDuplicate||pa.duplicateStatus==="duplicate").length,We=Ne.filter(pa=>pa.stage==="in-progress"||pa.status==="in-progress"||pa.status==="pending").length,xt=Ne.filter(pa=>pa.callType==="cold-call"||pa.source==="cold-call"||pa.source==="direct").length,gt=Ne.filter(pa=>pa.callType==="follow-up"||pa.stage==="follow-up"||pa.status==="follow-up").length,sa=r.jsxs("div",{className:`relative overflow-hidden rounded-2xl p-1 group ${s?"border-2 border-blue-400 bg-gradient-to-br from-blue-100/75 via-blue-100/65 to-blue-100/55 backdrop-blur-sm shadow-blue-300/30":"border-2 border-blue-500 dark:bg-none dark:bg-transparent shadow-blue-500/25"} shadow-2xl hover:shadow-3xl transform hover:scale-[1.02] hover:-translate-y-1 transition-all duration-500`,onClick:()=>le(""),role:"button",tabIndex:0,children:[r.jsxs("div",{className:"absolute inset-0 opacity-15 dark:hidden",children:[r.jsx("div",{className:`absolute top-0 right-0 w-16 h-16 bg-gradient-to-br ${s?"from-blue-200/30 to-blue-300/25":"from-blue-200 to-blue-300"} rounded-full transform translate-x-12 -translate-y-12 group-hover:scale-110 transition-transform duration-700`}),r.jsx("div",{className:`absolute bottom-0 left-0 w-12 h-12 bg-gradient-to-tr ${s?"from-blue-200/30 to-blue-300/25":"from-blue-200 to-blue-300"} rounded-full transform -translate-x-10 translate-y-10 group-hover:scale-105 transition-transform duration-500`})]}),r.jsx("div",{className:"relative z-20",children:r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex-1 pr-2",children:[r.jsx("span",{className:`text-[11px] font-semibold uppercase tracking-wider mb-0.5 block ${s?"text-gray-900":"text-gray-300"}`,children:e("Total Leads")}),r.jsx("div",{className:`text-xl font-black mb-0 tracking-tight ${s?"text-black":"text-white"}`,children:Ne.length})]}),r.jsx("div",{className:`flex items-center justify-center w-6 h-6 ${s?"bg-blue-600/80":"bg-blue-500"} rounded-md shadow-xl group-hover:scale-105 group-hover:rotate-3 transition-all duration-500 border-2 border-white/30`,children:r.jsx("span",{className:"text-lg text-white",children:""})})]})}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/15 to-transparent -skew-x-12 transform -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out"})]},"__fixed_total__"),Zt=[{key:"__fixed_new__",title:e("New"),count:Ee,percent:Ne.length>0?Math.round(Ee/Ne.length*100):0,icon:"",color:"green",borderClass:"border-green-400 dark:border-green-500"},{key:"__fixed_duplicate__",title:e("Duplicate"),count:ze,percent:Ne.length>0?Math.round(ze/Ne.length*100):0,icon:"",color:"red",borderClass:"border-red-400 dark:border-red-500"},{key:"__fixed_pending__",title:t.language==="ar"?"":e("Pending"),count:We,percent:Ne.length>0?Math.round(We/Ne.length*100):0,icon:"",color:"yellow",borderClass:"border-yellow-400 dark:border-yellow-500"},{key:"__fixed_coldcalls__",title:e("Cold Calls"),count:xt,percent:Ne.length>0?Math.round(xt/Ne.length*100):0,icon:"",color:"blue",borderClass:"border-blue-400 dark:border-blue-500"},{key:"__fixed_followup__",title:t.language==="ar"?"":e("Follow-up"),count:gt,percent:Ne.length>0?Math.round(gt/Ne.length*100):0,icon:"",color:"purple",borderClass:"border-purple-400 dark:border-purple-500"}].map(({key:pa,title:Ae,count:na,percent:Za,icon:Ka,color:rr,borderClass:$a})=>{const Ua=Vt[rr],pe=pa==="__fixed_new__"?"new":pa==="__fixed_duplicate__"?"duplicate":pa==="__fixed_pending__"?"pending":pa==="__fixed_coldcalls__"?"coldcalls":pa==="__fixed_followup__"?"followup":"";return r.jsxs("div",{className:`relative overflow-hidden rounded-2xl p-1 group ${s?Ua.containerLight:Ua.containerDark} dark:bg-none dark:bg-transparent border-2 shadow-2xl hover:shadow-3xl transform hover:scale-[1.02] hover:-translate-y-1 transition-all duration-500 ${W===pe?"ring-2 ring-blue-500":""}`,onClick:()=>le(pe),role:"button",tabIndex:0,children:[r.jsxs("div",{className:"absolute inset-0 opacity-15 dark:hidden",children:[r.jsx("div",{className:`absolute top-0 right-0 w-16 h-16 bg-gradient-to-br ${s?Ua.patternFromLight:Ua.patternFrom} ${s?Ua.patternToLight:Ua.patternTo} rounded-full transform translate-x-12 -translate-y-12 group-hover:scale-110 transition-transform duration-700`}),r.jsx("div",{className:`absolute bottom-0 left-0 w-12 h-12 bg-gradient-to-tr ${s?Ua.patternFromLight:Ua.patternFrom} ${s?Ua.patternToLight:Ua.patternTo} rounded-full transform -translate-x-10 translate-y-10 group-hover:scale-105 transition-transform duration-500`})]}),r.jsxs("div",{className:"relative z-20",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex-1 pr-2",children:[r.jsx("span",{className:`text-[11px] font-semibold uppercase tracking-wider mb-0.5 block ${s?"text-gray-900":"text-gray-300"}`,children:Ae}),r.jsx("div",{className:`text-xl font-black mb-0 tracking-tight ${s?"text-black":"text-white"}`,children:na})]}),r.jsx("div",{className:`flex items-center justify-center w-6 h-6 rounded-md shadow-xl group-hover:scale-105 group-hover:rotate-3 transition-all duration-500 border-2 border-white/30 ${s?Ua.iconBgLight:Ua.iconBgDark}`,children:r.jsx("span",{className:"text-lg text-white",children:Ka})})]}),r.jsxs("div",{className:`${s?`inline-flex items-center text-[11px] font-semibold px-1.5 py-[2px] rounded-md border ${Ua.badgeLightBg} ${Ua.badgeLightText} ${Ua.badgeLightBorder}`:"inline-flex items-center text-[11px] text-gray-900 dark:text-gray-100 font-semibold bg-gray-100/80 dark:bg-gray-700/80 px-1.5 py-[2px] rounded-md backdrop-blur-sm border border-gray-200 dark:border-gray-600"}`,children:[e("Stage share of total"),": ",Za,"%"]})]}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/15 to-transparent -skew-x-12 transform -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out"})]},pa)}),ka=[sa,...Zt],ut=x?g:b?S:g,ta=x?4:5;return ut?ka:ka.slice(0,ta)})()}),r.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 mb-12 mt-8",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs("div",{className:"p-4 glass-panel h-full overflow-auto rounded-lg shadow-md",children:[r.jsxs("div",{className:"section-header flex items-center w-full justify-between gap-2 mb-3",children:[r.jsx("h3",{className:`flex-1 text-xl font-semibold text-primary ${t.dir()==="rtl"?"text-right":"text-left"}`,children:e("Delay Leads")}),r.jsx("button",{onClick:()=>E(Ee=>!Ee),className:"close-btn md:hidden flex items-center justify-center w-6 h-6 rounded-full border border-gray-300 dark:border-gray-600",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:r.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),r.jsx("div",{className:`${U?"block":"hidden"} md:block`,children:r.jsx(joe,{dateFrom:n,dateTo:l,selectedEmployee:u||c,stageFilter:W})})]})}),r.jsx("div",{className:"lg:col-span-1",children:r.jsx("div",{className:"p-4 glass-panel h-full overflow-auto rounded-lg shadow-md",children:r.jsxs("div",{className:"best-section-wrapper",children:[r.jsxs("div",{className:"section-header flex items-center w-full justify-between gap-2 mb-3",children:[r.jsx("h3",{className:`flex-1 text-xl font-semibold text-primary ${t.dir()==="rtl"?"text-right":"text-left"}`,children:e("The Best")}),r.jsx("button",{onClick:()=>K(Ee=>!Ee),className:"close-btn md:hidden flex items-center justify-center w-6 h-6 rounded-full border border-gray-300 dark:border-gray-600",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:r.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),r.jsxs("div",{className:`${R?"block":"hidden"} md:block`,children:[r.jsx("p",{className:`text-sm mb-4 ${s?"text-gray-700 font-medium":"text-gray-400"}`,children:e("Your top agents for the number of actions.")}),R&&r.jsxs("div",{className:"md:block",children:[De&&r.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-800/30 p-3 rounded-lg flex items-center justify-between mb-4 border border-white dark:border-yellow-700",children:[r.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[r.jsxs("div",{className:"relative",children:[De.avatar?r.jsx("img",{className:"w-10 h-10 rounded-full",src:De.avatar,alt:De.name}):r.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-sm",children:De.name.split(" ").map(Ee=>Ee[0]).join("").toUpperCase()}),r.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-yellow-400 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-xs",children:""})})]}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"font-semibold text-slate-900 dark:text-gray-100 truncate",children:De.name}),r.jsxs("p",{className:"text-sm font-semibold text-slate-900 dark:text-gray-300",children:[De.score.toLocaleString()," ",e("actions")]})]})]}),r.jsx("div",{className:"text-2xl",children:""})]}),r.jsx("div",{className:"flex gap-1 mb-4 bg-gray-100 dark:bg-gray-700 p-1 rounded-lg",children:[{key:"all",label:e("All Time")},{key:"monthly",label:e("Monthly")},{key:"weekly",label:e("Weekly")},{key:"today",label:e("Today")}].map(({key:Ee,label:ze})=>r.jsx("button",{onClick:()=>X(Ee),className:`flex-1 px-2 py-1 text-xs rounded-md transition-all ${M===Ee?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white"}`,children:ze},Ee))}),r.jsx("div",{className:"space-y-3",children:ae.map((Ee,ze)=>r.jsxs("div",{className:`flex items-center gap-3 p-2 rounded-lg ${s?"bg-[var(--lm-muted-surface)] border border-[var(--lm-border)] hover:bg-[var(--lm-surface)]":"bg-gray-800 border border-gray-700 hover:bg-gray-700"} transition-colors`,children:[r.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-gray-200 dark:bg-gray-600 text-xs font-bold text-gray-700 dark:text-gray-300",children:ze+1}),r.jsxs("div",{className:"relative",children:[Ee.avatar?r.jsx("img",{className:"w-8 h-8 rounded-full",src:Ee.avatar,alt:Ee.name}):r.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-xs",children:Ee.name.split(" ").map(We=>We[0]).join("").toUpperCase()}),Ee.isCrowned&&r.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-yellow-400 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-xs",children:""})})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:`font-semibold truncate text-sm ${s?"text-slate-900":"text-white"}`,children:Ee.name}),r.jsxs("p",{className:`text-xs ${s?"text-slate-700":"text-gray-300"}`,children:[Ee.score.toLocaleString()," ",e("actions")]})]})]},Ee.id))})]})]})]})})})]}),r.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-12",children:[r.jsxs("div",{className:"p-4 glass-panel rounded-lg shadow-md lg:col-span-2",children:[r.jsxs("div",{className:"section-header flex items-center w-full justify-between gap-2 mb-4",children:[r.jsx("h3",{className:`flex-1 text-2xl font-bold text-primary ${t.dir()==="rtl"?"text-right":"text-left"}`,children:e("Last Comments")}),r.jsx("button",{onClick:()=>Z(Ee=>!Ee),className:"close-btn md:hidden flex items-center justify-center w-6 h-6 rounded-full border border-gray-300 dark:border-gray-600",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:r.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),r.jsx("div",{className:`${V?"block":"hidden"} md:block`,children:r.jsx(yoe,{employee:u||c,dateFrom:n,dateTo:l,stageFilter:W})})]}),r.jsxs("div",{className:"p-4 glass-panel rounded-lg shadow-md lg:col-span-1",children:[r.jsxs("div",{className:"section-header flex items-center w-full justify-between gap-2 mb-4",children:[r.jsx("h3",{className:`flex-1 text-2xl font-bold text-primary ${t.dir()==="rtl"?"text-right":"text-left"}`,children:e("Recent Phone Calls")}),r.jsx("button",{onClick:()=>ee(Ee=>!Ee),className:"close-btn md:hidden flex items-center justify-center w-6 h-6 rounded-full border border-gray-300 dark:border-gray-600",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:r.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),r.jsx("div",{className:`${J?"block":"hidden"} md:block`,children:r.jsx(woe,{employee:u||c,dateFrom:n,dateTo:l,stageFilter:W})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 mb-10 items-stretch",children:[r.jsx("div",{ref:ue,className:"p-3 glass-panel rounded-lg shadow-md h-full lg:col-span-4",style:Fe?{maxHeight:`${Fe}px`}:void 0,children:r.jsx(Vle,{})}),r.jsxs("div",{ref:he,className:"p-3 glass-panel rounded-lg shadow-md lg:col-span-3 h-full flex flex-col min-h-0",children:[r.jsx("div",{dir:t.dir()==="rtl"?"rtl":"ltr",className:`flex items-center w-full ${t.dir()==="rtl"?"flex-row-reverse":""} gap-2 mb-2`,children:r.jsx("h3",{className:`flex-1 text-lg font-bold text-primary ${t.dir()==="rtl"?"text-right":"text-left"}`,children:e("Leads Status")})}),r.jsxs("div",{className:"flex-1 min-h-0 grid grid-rows-4 gap-2",children:[r.jsx(Py,{title:e("Total Leads"),value:"16,766",change:"+12.5%",changeType:"positive",icon:"",color:"bg-blue-500",compact:!0}),r.jsx(Py,{title:e("Conversion Rate"),value:"24.3%",change:"+3.2%",changeType:"positive",icon:"",color:"bg-green-500",compact:!0}),r.jsx(Py,{title:e("Avg Response Time"),value:"2.4h",change:"-15min",changeType:"positive",icon:"",color:"bg-purple-500",compact:!0}),r.jsx(Py,{title:e("Hot Leads"),value:"253",change:"+18",changeType:"positive",icon:"",color:"bg-red-500",compact:!0})]})]}),r.jsx("div",{className:"p-3 glass-panel rounded-lg shadow-md lg:col-span-5 h-full",children:r.jsx(Wle,{employee:u||c,dateFrom:n,dateTo:l})})]}),r.jsx("div",{className:"grid grid-cols-1 gap-4 mb-12",children:r.jsxs("div",{className:"col-span-1 p-4 glass-panel rounded-lg shadow-md",children:[r.jsxs("div",{className:"section-header flex items-center w-full justify-between gap-2 mb-3",children:[r.jsx("h3",{className:`flex-1 text-2xl font-bold text-primary ${t.dir()==="rtl"?"text-right":"text-left"}`,children:e("Leads Analysis")}),r.jsx("button",{onClick:()=>I(Ee=>!Ee),className:"close-btn md:hidden flex items-center justify-center w-6 h-6 rounded-full border border-gray-300 dark:border-gray-600",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:r.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),r.jsxs("div",{className:`${P?"flex":"hidden"} md:flex flex-wrap items-center gap-2 mb-3 justify-end`,children:[r.jsx("span",{className:`${s?"text-blue-700 font-semibold":"dark:text-gray-300"} text-sm`,children:ft==="bar"?t.language==="ar"?"  ":"Bar Chart":ft==="stackedBar"?t.language==="ar"?"   ":"Stacked Bar Chart":ft==="line"?t.language==="ar"?"  ":"Line Chart":t.language==="ar"?"  ":"Pie Chart"}),r.jsxs("div",{className:"flex items-center gap-2 p-1 bg-gray-100 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[r.jsxs("button",{onClick:()=>zt("bar"),className:`
                      group relative flex items-center justify-center px-2 py-1 sm:px-3 sm:py-2 rounded-md transition-all duration-300 ease-in-out
                      ${ft==="bar"?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-lg shadow-blue-500/25 scale-105":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-gray-600 hover:text-blue-600 dark:hover:text-blue-400 hover:scale-105"}
                      border border-gray-200 dark:border-gray-600 hover:border-blue-300 dark:hover:border-blue-500
                    `,title:t.language==="ar"?"  ":"Bar Chart",children:[r.jsx(dA,{className:"w-3 h-3 sm:w-4 sm:h-4"}),ft==="bar"&&r.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-blue-500 rounded-full"})]}),r.jsxs("button",{onClick:()=>zt("stackedBar"),className:`
                      group relative flex items-center justify-center px-2 py-1 sm:px-3 sm:py-2 rounded-md transition-all duration-300 ease-in-out
                      ${ft==="stackedBar"?"bg-gradient-to-r from-green-500 to-green-600 text-white shadow-lg shadow-green-500/25 scale-105":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-green-50 dark:hover:bg-gray-600 hover:text-green-600 dark:hover:text-green-400 hover:scale-105"}
                      border border-gray-200 dark:border-gray-600 hover:border-green-300 dark:hover:border-green-500
                    `,title:t.language==="ar"?"   ":"Stacked Bar Chart",children:[r.jsx(Dle,{className:"w-3 h-3 sm:w-4 sm:h-4"}),ft==="stackedBar"&&r.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-green-500 rounded-full"})]}),r.jsxs("button",{onClick:()=>zt("line"),className:`
                      group relative flex items-center justify-center px-2 py-1 sm:px-3 sm:py-2 rounded-md transition-all duration-300 ease-in-out
                      ${ft==="line"?"bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-lg shadow-purple-500/25 scale-105":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-purple-50 dark:hover:bg-gray-600 hover:text-purple-600 dark:hover:text-purple-400 hover:scale-105"}
                      border border-gray-200 dark:border-gray-600 hover:border-purple-300 dark:hover:border-purple-500
                    `,title:t.language==="ar"?"  ":"Line Chart",children:[r.jsx(WU,{className:"w-3 h-3 sm:w-4 sm:h-4"}),ft==="line"&&r.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-purple-500 rounded-full"})]}),r.jsxs("button",{onClick:()=>zt("pie"),className:`
                      group relative flex items-center justify-center px-2 py-1 sm:px-3 sm:py-2 rounded-md transition-all duration-300 ease-in-out
                      ${ft==="pie"?"bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-lg shadow-orange-500/25 scale-105":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-orange-50 dark:hover:bg-gray-600 hover:text-orange-600 dark:hover:text-orange-400 hover:scale-105"}
                      border border-gray-200 dark:border-gray-600 hover:border-orange-300 dark:hover:border-orange-500
                    `,title:t.language==="ar"?"  ":"Pie Chart",children:[r.jsx(qU,{className:"w-3 h-3 sm:w-4 sm:h-4"}),ft==="pie"&&r.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-orange-500 rounded-full"})]})]})]}),r.jsx("div",{className:`${P?"block":"hidden"} md:block h-auto`,children:r.jsx(Noe,{data:Ht(),chartType:ft,filters:{dataType:"monthly",status:ne,year:oe,employee:u||c,dateFrom:n,dateTo:l}})})]})}),r.jsx("section",{className:"grid grid-cols-1 gap-4 mt-4",children:r.jsx("div",{className:"lg:col-span-3",children:r.jsxs("div",{className:"p-4 glass-panel h-full overflow-auto rounded-lg shadow-md",children:[r.jsxs("div",{className:"section-header flex items-center w-full justify-between gap-2 mb-4",children:[r.jsx("h3",{className:`flex-1 text-2xl font-bold text-primary ${t.dir()==="rtl"?"text-right":"text-left"}`,children:e("Pipeline Analysis")}),r.jsx("button",{onClick:()=>O(Ee=>!Ee),className:"close-btn md:hidden flex items-center justify-center w-6 h-6 rounded-full border border-gray-300 dark:border-gray-600",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:r.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),r.jsx("div",{className:`${B?"block":"hidden"} md:block`,children:r.jsx(voe,{selectedEmployee:u||c,dateFrom:n,dateTo:l})})]})})})]})};function az(e,t){return function(){return e.apply(t,arguments)}}const{toString:Coe}=Object.prototype,{getPrototypeOf:fA}=Object,{iterator:Fj,toStringTag:rz}=Symbol,Ij=(e=>t=>{const a=Coe.call(t);return e[a]||(e[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),xd=e=>(e=e.toLowerCase(),t=>Ij(t)===e),Bj=e=>t=>typeof t===e,{isArray:jx}=Array,nx=Bj("undefined");function Fv(e){return e!==null&&!nx(e)&&e.constructor!==null&&!nx(e.constructor)&&to(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const sz=xd("ArrayBuffer");function Aoe(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&sz(e.buffer),t}const _oe=Bj("string"),to=Bj("function"),nz=Bj("number"),Iv=e=>e!==null&&typeof e=="object",Toe=e=>e===!0||e===!1,E2=e=>{if(Ij(e)!=="object")return!1;const t=fA(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(rz in e)&&!(Fj in e)},Eoe=e=>{if(!Iv(e)||Fv(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Doe=xd("Date"),Moe=xd("File"),Poe=xd("Blob"),Loe=xd("FileList"),Ooe=e=>Iv(e)&&to(e.pipe),Roe=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||to(e.append)&&((t=Ij(e))==="formdata"||t==="object"&&to(e.toString)&&e.toString()==="[object FormData]"))},Foe=xd("URLSearchParams"),[Ioe,Boe,$oe,Uoe]=["ReadableStream","Request","Response","Headers"].map(xd),zoe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Bv(e,t,{allOwnKeys:a=!1}={}){if(e===null||typeof e>"u")return;let s,n;if(typeof e!="object"&&(e=[e]),jx(e))for(s=0,n=e.length;s<n;s++)t.call(null,e[s],s,e);else{if(Fv(e))return;const i=a?Object.getOwnPropertyNames(e):Object.keys(e),l=i.length;let o;for(s=0;s<l;s++)o=i[s],t.call(null,e[o],o,e)}}function iz(e,t){if(Fv(e))return null;t=t.toLowerCase();const a=Object.keys(e);let s=a.length,n;for(;s-- >0;)if(n=a[s],t===n.toLowerCase())return n;return null}const R0=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,lz=e=>!nx(e)&&e!==R0;function $k(){const{caseless:e,skipUndefined:t}=lz(this)&&this||{},a={},s=(n,i)=>{const l=e&&iz(a,i)||i;E2(a[l])&&E2(n)?a[l]=$k(a[l],n):E2(n)?a[l]=$k({},n):jx(n)?a[l]=n.slice():(!t||!nx(n))&&(a[l]=n)};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Bv(arguments[n],s);return a}const Hoe=(e,t,a,{allOwnKeys:s}={})=>(Bv(t,(n,i)=>{a&&to(n)?e[i]=az(n,a):e[i]=n},{allOwnKeys:s}),e),Voe=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Woe=(e,t,a,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),a&&Object.assign(e.prototype,a)},qoe=(e,t,a,s)=>{let n,i,l;const o={};if(t=t||{},e==null)return t;do{for(n=Object.getOwnPropertyNames(e),i=n.length;i-- >0;)l=n[i],(!s||s(l,e,t))&&!o[l]&&(t[l]=e[l],o[l]=!0);e=a!==!1&&fA(e)}while(e&&(!a||a(e,t))&&e!==Object.prototype);return t},Goe=(e,t,a)=>{e=String(e),(a===void 0||a>e.length)&&(a=e.length),a-=t.length;const s=e.indexOf(t,a);return s!==-1&&s===a},Koe=e=>{if(!e)return null;if(jx(e))return e;let t=e.length;if(!nz(t))return null;const a=new Array(t);for(;t-- >0;)a[t]=e[t];return a},Yoe=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&fA(Uint8Array)),Xoe=(e,t)=>{const s=(e&&e[Fj]).call(e);let n;for(;(n=s.next())&&!n.done;){const i=n.value;t.call(e,i[0],i[1])}},Joe=(e,t)=>{let a;const s=[];for(;(a=e.exec(t))!==null;)s.push(a);return s},Qoe=xd("HTMLFormElement"),Zoe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,s,n){return s.toUpperCase()+n}),kM=(({hasOwnProperty:e})=>(t,a)=>e.call(t,a))(Object.prototype),ece=xd("RegExp"),oz=(e,t)=>{const a=Object.getOwnPropertyDescriptors(e),s={};Bv(a,(n,i)=>{let l;(l=t(n,i,e))!==!1&&(s[i]=l||n)}),Object.defineProperties(e,s)},tce=e=>{oz(e,(t,a)=>{if(to(e)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const s=e[a];if(to(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},ace=(e,t)=>{const a={},s=n=>{n.forEach(i=>{a[i]=!0})};return jx(e)?s(e):s(String(e).split(t)),a},rce=()=>{},sce=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function nce(e){return!!(e&&to(e.append)&&e[rz]==="FormData"&&e[Fj])}const ice=e=>{const t=new Array(10),a=(s,n)=>{if(Iv(s)){if(t.indexOf(s)>=0)return;if(Fv(s))return s;if(!("toJSON"in s)){t[n]=s;const i=jx(s)?[]:{};return Bv(s,(l,o)=>{const c=a(l,n+1);!nx(c)&&(i[o]=c)}),t[n]=void 0,i}}return s};return a(e,0)},lce=xd("AsyncFunction"),oce=e=>e&&(Iv(e)||to(e))&&to(e.then)&&to(e.catch),cz=((e,t)=>e?setImmediate:t?((a,s)=>(R0.addEventListener("message",({source:n,data:i})=>{n===R0&&i===a&&s.length&&s.shift()()},!1),n=>{s.push(n),R0.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",to(R0.postMessage)),cce=typeof queueMicrotask<"u"?queueMicrotask.bind(R0):typeof process<"u"&&process.nextTick||cz,dce=e=>e!=null&&to(e[Fj]),vt={isArray:jx,isArrayBuffer:sz,isBuffer:Fv,isFormData:Roe,isArrayBufferView:Aoe,isString:_oe,isNumber:nz,isBoolean:Toe,isObject:Iv,isPlainObject:E2,isEmptyObject:Eoe,isReadableStream:Ioe,isRequest:Boe,isResponse:$oe,isHeaders:Uoe,isUndefined:nx,isDate:Doe,isFile:Moe,isBlob:Poe,isRegExp:ece,isFunction:to,isStream:Ooe,isURLSearchParams:Foe,isTypedArray:Yoe,isFileList:Loe,forEach:Bv,merge:$k,extend:Hoe,trim:zoe,stripBOM:Voe,inherits:Woe,toFlatObject:qoe,kindOf:Ij,kindOfTest:xd,endsWith:Goe,toArray:Koe,forEachEntry:Xoe,matchAll:Joe,isHTMLForm:Qoe,hasOwnProperty:kM,hasOwnProp:kM,reduceDescriptors:oz,freezeMethods:tce,toObjectSet:ace,toCamelCase:Zoe,noop:rce,toFiniteNumber:sce,findKey:iz,global:R0,isContextDefined:lz,isSpecCompliantForm:nce,toJSONObject:ice,isAsyncFn:lce,isThenable:oce,setImmediate:cz,asap:cce,isIterable:dce};function Ja(e,t,a,s,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),a&&(this.config=a),s&&(this.request=s),n&&(this.response=n,this.status=n.status?n.status:null)}vt.inherits(Ja,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:vt.toJSONObject(this.config),code:this.code,status:this.status}}});const dz=Ja.prototype,uz={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{uz[e]={value:e}});Object.defineProperties(Ja,uz);Object.defineProperty(dz,"isAxiosError",{value:!0});Ja.from=(e,t,a,s,n,i)=>{const l=Object.create(dz);vt.toFlatObject(e,l,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const o=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return Ja.call(l,o,c,a,s,n),e&&l.cause==null&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",i&&Object.assign(l,i),l};const uce=null;function Uk(e){return vt.isPlainObject(e)||vt.isArray(e)}function hz(e){return vt.endsWith(e,"[]")?e.slice(0,-2):e}function CM(e,t,a){return e?e.concat(t).map(function(n,i){return n=hz(n),!a&&i?"["+n+"]":n}).join(a?".":""):t}function hce(e){return vt.isArray(e)&&!e.some(Uk)}const fce=vt.toFlatObject(vt,{},null,function(t){return/^is[A-Z]/.test(t)});function $j(e,t,a){if(!vt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,a=vt.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,b){return!vt.isUndefined(b[v])});const s=a.metaTokens,n=a.visitor||u,i=a.dots,l=a.indexes,c=(a.Blob||typeof Blob<"u"&&Blob)&&vt.isSpecCompliantForm(t);if(!vt.isFunction(n))throw new TypeError("visitor must be a function");function d(g){if(g===null)return"";if(vt.isDate(g))return g.toISOString();if(vt.isBoolean(g))return g.toString();if(!c&&vt.isBlob(g))throw new Ja("Blob is not supported. Use a Buffer instead.");return vt.isArrayBuffer(g)||vt.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,v,b){let j=g;if(g&&!b&&typeof g=="object"){if(vt.endsWith(v,"{}"))v=s?v:v.slice(0,-2),g=JSON.stringify(g);else if(vt.isArray(g)&&hce(g)||(vt.isFileList(g)||vt.endsWith(v,"[]"))&&(j=vt.toArray(g)))return v=hz(v),j.forEach(function(k,N){!(vt.isUndefined(k)||k===null)&&t.append(l===!0?CM([v],N,i):l===null?v:v+"[]",d(k))}),!1}return Uk(g)?!0:(t.append(CM(b,v,i),d(g)),!1)}const f=[],x=Object.assign(fce,{defaultVisitor:u,convertValue:d,isVisitable:Uk});function m(g,v){if(!vt.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(g),vt.forEach(g,function(j,S){(!(vt.isUndefined(j)||j===null)&&n.call(t,j,vt.isString(S)?S.trim():S,v,x))===!0&&m(j,v?v.concat(S):[S])}),f.pop()}}if(!vt.isObject(e))throw new TypeError("data must be an object");return m(e),t}function AM(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function mA(e,t){this._pairs=[],e&&$j(e,this,t)}const fz=mA.prototype;fz.append=function(t,a){this._pairs.push([t,a])};fz.toString=function(t){const a=t?function(s){return t.call(this,s,AM)}:AM;return this._pairs.map(function(n){return a(n[0])+"="+a(n[1])},"").join("&")};function mce(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function mz(e,t,a){if(!t)return e;const s=a&&a.encode||mce;vt.isFunction(a)&&(a={serialize:a});const n=a&&a.serialize;let i;if(n?i=n(t,a):i=vt.isURLSearchParams(t)?t.toString():new mA(t,a).toString(s),i){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class _M{constructor(){this.handlers=[]}use(t,a,s){return this.handlers.push({fulfilled:t,rejected:a,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){vt.forEach(this.handlers,function(s){s!==null&&t(s)})}}const pz={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},pce=typeof URLSearchParams<"u"?URLSearchParams:mA,xce=typeof FormData<"u"?FormData:null,gce=typeof Blob<"u"?Blob:null,vce={isBrowser:!0,classes:{URLSearchParams:pce,FormData:xce,Blob:gce},protocols:["http","https","file","blob","url","data"]},pA=typeof window<"u"&&typeof document<"u",zk=typeof navigator=="object"&&navigator||void 0,bce=pA&&(!zk||["ReactNative","NativeScript","NS"].indexOf(zk.product)<0),yce=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",wce=pA&&window.location.href||"http://localhost",jce=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:pA,hasStandardBrowserEnv:bce,hasStandardBrowserWebWorkerEnv:yce,navigator:zk,origin:wce},Symbol.toStringTag,{value:"Module"})),ol={...jce,...vce};function Nce(e,t){return $j(e,new ol.classes.URLSearchParams,{visitor:function(a,s,n,i){return ol.isNode&&vt.isBuffer(a)?(this.append(s,a.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function Sce(e){return vt.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function kce(e){const t={},a=Object.keys(e);let s;const n=a.length;let i;for(s=0;s<n;s++)i=a[s],t[i]=e[i];return t}function xz(e){function t(a,s,n,i){let l=a[i++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),c=i>=a.length;return l=!l&&vt.isArray(n)?n.length:l,c?(vt.hasOwnProp(n,l)?n[l]=[n[l],s]:n[l]=s,!o):((!n[l]||!vt.isObject(n[l]))&&(n[l]=[]),t(a,s,n[l],i)&&vt.isArray(n[l])&&(n[l]=kce(n[l])),!o)}if(vt.isFormData(e)&&vt.isFunction(e.entries)){const a={};return vt.forEachEntry(e,(s,n)=>{t(Sce(s),n,a,0)}),a}return null}function Cce(e,t,a){if(vt.isString(e))try{return(t||JSON.parse)(e),vt.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(a||JSON.stringify)(e)}const $v={transitional:pz,adapter:["xhr","http","fetch"],transformRequest:[function(t,a){const s=a.getContentType()||"",n=s.indexOf("application/json")>-1,i=vt.isObject(t);if(i&&vt.isHTMLForm(t)&&(t=new FormData(t)),vt.isFormData(t))return n?JSON.stringify(xz(t)):t;if(vt.isArrayBuffer(t)||vt.isBuffer(t)||vt.isStream(t)||vt.isFile(t)||vt.isBlob(t)||vt.isReadableStream(t))return t;if(vt.isArrayBufferView(t))return t.buffer;if(vt.isURLSearchParams(t))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Nce(t,this.formSerializer).toString();if((o=vt.isFileList(t))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return $j(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||n?(a.setContentType("application/json",!1),Cce(t)):t}],transformResponse:[function(t){const a=this.transitional||$v.transitional,s=a&&a.forcedJSONParsing,n=this.responseType==="json";if(vt.isResponse(t)||vt.isReadableStream(t))return t;if(t&&vt.isString(t)&&(s&&!this.responseType||n)){const l=!(a&&a.silentJSONParsing)&&n;try{return JSON.parse(t,this.parseReviver)}catch(o){if(l)throw o.name==="SyntaxError"?Ja.from(o,Ja.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ol.classes.FormData,Blob:ol.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};vt.forEach(["delete","get","head","post","put","patch"],e=>{$v.headers[e]={}});const Ace=vt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_ce=e=>{const t={};let a,s,n;return e&&e.split(`
`).forEach(function(l){n=l.indexOf(":"),a=l.substring(0,n).trim().toLowerCase(),s=l.substring(n+1).trim(),!(!a||t[a]&&Ace[a])&&(a==="set-cookie"?t[a]?t[a].push(s):t[a]=[s]:t[a]=t[a]?t[a]+", "+s:s)}),t},TM=Symbol("internals");function Lg(e){return e&&String(e).trim().toLowerCase()}function D2(e){return e===!1||e==null?e:vt.isArray(e)?e.map(D2):String(e)}function Tce(e){const t=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=a.exec(e);)t[s[1]]=s[2];return t}const Ece=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function N5(e,t,a,s,n){if(vt.isFunction(s))return s.call(this,t,a);if(n&&(t=a),!!vt.isString(t)){if(vt.isString(s))return t.indexOf(s)!==-1;if(vt.isRegExp(s))return s.test(t)}}function Dce(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,a,s)=>a.toUpperCase()+s)}function Mce(e,t){const a=vt.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+a,{value:function(n,i,l){return this[s].call(this,t,n,i,l)},configurable:!0})})}let ao=class{constructor(t){t&&this.set(t)}set(t,a,s){const n=this;function i(o,c,d){const u=Lg(c);if(!u)throw new Error("header name must be a non-empty string");const f=vt.findKey(n,u);(!f||n[f]===void 0||d===!0||d===void 0&&n[f]!==!1)&&(n[f||c]=D2(o))}const l=(o,c)=>vt.forEach(o,(d,u)=>i(d,u,c));if(vt.isPlainObject(t)||t instanceof this.constructor)l(t,a);else if(vt.isString(t)&&(t=t.trim())&&!Ece(t))l(_ce(t),a);else if(vt.isObject(t)&&vt.isIterable(t)){let o={},c,d;for(const u of t){if(!vt.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[d=u[0]]=(c=o[d])?vt.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}l(o,a)}else t!=null&&i(a,t,s);return this}get(t,a){if(t=Lg(t),t){const s=vt.findKey(this,t);if(s){const n=this[s];if(!a)return n;if(a===!0)return Tce(n);if(vt.isFunction(a))return a.call(this,n,s);if(vt.isRegExp(a))return a.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,a){if(t=Lg(t),t){const s=vt.findKey(this,t);return!!(s&&this[s]!==void 0&&(!a||N5(this,this[s],s,a)))}return!1}delete(t,a){const s=this;let n=!1;function i(l){if(l=Lg(l),l){const o=vt.findKey(s,l);o&&(!a||N5(s,s[o],o,a))&&(delete s[o],n=!0)}}return vt.isArray(t)?t.forEach(i):i(t),n}clear(t){const a=Object.keys(this);let s=a.length,n=!1;for(;s--;){const i=a[s];(!t||N5(this,this[i],i,t,!0))&&(delete this[i],n=!0)}return n}normalize(t){const a=this,s={};return vt.forEach(this,(n,i)=>{const l=vt.findKey(s,i);if(l){a[l]=D2(n),delete a[i];return}const o=t?Dce(i):String(i).trim();o!==i&&delete a[i],a[o]=D2(n),s[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const a=Object.create(null);return vt.forEach(this,(s,n)=>{s!=null&&s!==!1&&(a[n]=t&&vt.isArray(s)?s.join(", "):s)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,a])=>t+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...a){const s=new this(t);return a.forEach(n=>s.set(n)),s}static accessor(t){const s=(this[TM]=this[TM]={accessors:{}}).accessors,n=this.prototype;function i(l){const o=Lg(l);s[o]||(Mce(n,l),s[o]=!0)}return vt.isArray(t)?t.forEach(i):i(t),this}};ao.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);vt.reduceDescriptors(ao.prototype,({value:e},t)=>{let a=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[a]=s}}});vt.freezeMethods(ao);function S5(e,t){const a=this||$v,s=t||a,n=ao.from(s.headers);let i=s.data;return vt.forEach(e,function(o){i=o.call(a,i,n.normalize(),t?t.status:void 0)}),n.normalize(),i}function gz(e){return!!(e&&e.__CANCEL__)}function Nx(e,t,a){Ja.call(this,e??"canceled",Ja.ERR_CANCELED,t,a),this.name="CanceledError"}vt.inherits(Nx,Ja,{__CANCEL__:!0});function vz(e,t,a){const s=a.config.validateStatus;!a.status||!s||s(a.status)?e(a):t(new Ja("Request failed with status code "+a.status,[Ja.ERR_BAD_REQUEST,Ja.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function Pce(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Lce(e,t){e=e||10;const a=new Array(e),s=new Array(e);let n=0,i=0,l;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=s[i];l||(l=d),a[n]=c,s[n]=d;let f=i,x=0;for(;f!==n;)x+=a[f++],f=f%e;if(n=(n+1)%e,n===i&&(i=(i+1)%e),d-l<t)return;const m=u&&d-u;return m?Math.round(x*1e3/m):void 0}}function Oce(e,t){let a=0,s=1e3/t,n,i;const l=(d,u=Date.now())=>{a=u,n=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const u=Date.now(),f=u-a;f>=s?l(d,u):(n=d,i||(i=setTimeout(()=>{i=null,l(n)},s-f)))},()=>n&&l(n)]}const aw=(e,t,a=3)=>{let s=0;const n=Lce(50,250);return Oce(i=>{const l=i.loaded,o=i.lengthComputable?i.total:void 0,c=l-s,d=n(c),u=l<=o;s=l;const f={loaded:l,total:o,progress:o?l/o:void 0,bytes:c,rate:d||void 0,estimated:d&&o&&u?(o-l)/d:void 0,event:i,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(f)},a)},EM=(e,t)=>{const a=e!=null;return[s=>t[0]({lengthComputable:a,total:e,loaded:s}),t[1]]},DM=e=>(...t)=>vt.asap(()=>e(...t)),Rce=ol.hasStandardBrowserEnv?((e,t)=>a=>(a=new URL(a,ol.origin),e.protocol===a.protocol&&e.host===a.host&&(t||e.port===a.port)))(new URL(ol.origin),ol.navigator&&/(msie|trident)/i.test(ol.navigator.userAgent)):()=>!0,Fce=ol.hasStandardBrowserEnv?{write(e,t,a,s,n,i){const l=[e+"="+encodeURIComponent(t)];vt.isNumber(a)&&l.push("expires="+new Date(a).toGMTString()),vt.isString(s)&&l.push("path="+s),vt.isString(n)&&l.push("domain="+n),i===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Ice(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Bce(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function bz(e,t,a){let s=!Ice(t);return e&&(s||a==!1)?Bce(e,t):t}const MM=e=>e instanceof ao?{...e}:e;function dm(e,t){t=t||{};const a={};function s(d,u,f,x){return vt.isPlainObject(d)&&vt.isPlainObject(u)?vt.merge.call({caseless:x},d,u):vt.isPlainObject(u)?vt.merge({},u):vt.isArray(u)?u.slice():u}function n(d,u,f,x){if(vt.isUndefined(u)){if(!vt.isUndefined(d))return s(void 0,d,f,x)}else return s(d,u,f,x)}function i(d,u){if(!vt.isUndefined(u))return s(void 0,u)}function l(d,u){if(vt.isUndefined(u)){if(!vt.isUndefined(d))return s(void 0,d)}else return s(void 0,u)}function o(d,u,f){if(f in t)return s(d,u);if(f in e)return s(void 0,d)}const c={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(d,u,f)=>n(MM(d),MM(u),f,!0)};return vt.forEach(Object.keys({...e,...t}),function(u){const f=c[u]||n,x=f(e[u],t[u],u);vt.isUndefined(x)&&f!==o||(a[u]=x)}),a}const yz=e=>{const t=dm({},e);let{data:a,withXSRFToken:s,xsrfHeaderName:n,xsrfCookieName:i,headers:l,auth:o}=t;if(t.headers=l=ao.from(l),t.url=mz(bz(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),vt.isFormData(a)){if(ol.hasStandardBrowserEnv||ol.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(vt.isFunction(a.getHeaders)){const c=a.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,f])=>{d.includes(u.toLowerCase())&&l.set(u,f)})}}if(ol.hasStandardBrowserEnv&&(s&&vt.isFunction(s)&&(s=s(t)),s||s!==!1&&Rce(t.url))){const c=n&&i&&Fce.read(i);c&&l.set(n,c)}return t},$ce=typeof XMLHttpRequest<"u",Uce=$ce&&function(e){return new Promise(function(a,s){const n=yz(e);let i=n.data;const l=ao.from(n.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:d}=n,u,f,x,m,g;function v(){m&&m(),g&&g(),n.cancelToken&&n.cancelToken.unsubscribe(u),n.signal&&n.signal.removeEventListener("abort",u)}let b=new XMLHttpRequest;b.open(n.method.toUpperCase(),n.url,!0),b.timeout=n.timeout;function j(){if(!b)return;const k=ao.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),A={data:!o||o==="text"||o==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:k,config:e,request:b};vz(function(D){a(D),v()},function(D){s(D),v()},A),b=null}"onloadend"in b?b.onloadend=j:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(j)},b.onabort=function(){b&&(s(new Ja("Request aborted",Ja.ECONNABORTED,e,b)),b=null)},b.onerror=function(N){const A=N&&N.message?N.message:"Network Error",_=new Ja(A,Ja.ERR_NETWORK,e,b);_.event=N||null,s(_),b=null},b.ontimeout=function(){let N=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const A=n.transitional||pz;n.timeoutErrorMessage&&(N=n.timeoutErrorMessage),s(new Ja(N,A.clarifyTimeoutError?Ja.ETIMEDOUT:Ja.ECONNABORTED,e,b)),b=null},i===void 0&&l.setContentType(null),"setRequestHeader"in b&&vt.forEach(l.toJSON(),function(N,A){b.setRequestHeader(A,N)}),vt.isUndefined(n.withCredentials)||(b.withCredentials=!!n.withCredentials),o&&o!=="json"&&(b.responseType=n.responseType),d&&([x,g]=aw(d,!0),b.addEventListener("progress",x)),c&&b.upload&&([f,m]=aw(c),b.upload.addEventListener("progress",f),b.upload.addEventListener("loadend",m)),(n.cancelToken||n.signal)&&(u=k=>{b&&(s(!k||k.type?new Nx(null,e,b):k),b.abort(),b=null)},n.cancelToken&&n.cancelToken.subscribe(u),n.signal&&(n.signal.aborted?u():n.signal.addEventListener("abort",u)));const S=Pce(n.url);if(S&&ol.protocols.indexOf(S)===-1){s(new Ja("Unsupported protocol "+S+":",Ja.ERR_BAD_REQUEST,e));return}b.send(i||null)})},zce=(e,t)=>{const{length:a}=e=e?e.filter(Boolean):[];if(t||a){let s=new AbortController,n;const i=function(d){if(!n){n=!0,o();const u=d instanceof Error?d:this.reason;s.abort(u instanceof Ja?u:new Nx(u instanceof Error?u.message:u))}};let l=t&&setTimeout(()=>{l=null,i(new Ja(`timeout ${t} of ms exceeded`,Ja.ETIMEDOUT))},t);const o=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:c}=s;return c.unsubscribe=()=>vt.asap(o),c}},Hce=function*(e,t){let a=e.byteLength;if(a<t){yield e;return}let s=0,n;for(;s<a;)n=s+t,yield e.slice(s,n),s=n},Vce=async function*(e,t){for await(const a of Wce(e))yield*Hce(a,t)},Wce=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:a,value:s}=await t.read();if(a)break;yield s}}finally{await t.cancel()}},PM=(e,t,a,s)=>{const n=Vce(e,t);let i=0,l,o=c=>{l||(l=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await n.next();if(d){o(),c.close();return}let f=u.byteLength;if(a){let x=i+=f;a(x)}c.enqueue(new Uint8Array(u))}catch(d){throw o(d),d}},cancel(c){return o(c),n.return()}},{highWaterMark:2})},LM=64*1024,{isFunction:Ly}=vt,qce=(({Request:e,Response:t})=>({Request:e,Response:t}))(vt.global),{ReadableStream:OM,TextEncoder:RM}=vt.global,FM=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Gce=e=>{e=vt.merge.call({skipUndefined:!0},qce,e);const{fetch:t,Request:a,Response:s}=e,n=t?Ly(t):typeof fetch=="function",i=Ly(a),l=Ly(s);if(!n)return!1;const o=n&&Ly(OM),c=n&&(typeof RM=="function"?(g=>v=>g.encode(v))(new RM):async g=>new Uint8Array(await new a(g).arrayBuffer())),d=i&&o&&FM(()=>{let g=!1;const v=new a(ol.origin,{body:new OM,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!v}),u=l&&o&&FM(()=>vt.isReadableStream(new s("").body)),f={stream:u&&(g=>g.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!f[g]&&(f[g]=(v,b)=>{let j=v&&v[g];if(j)return j.call(v);throw new Ja(`Response type '${g}' is not supported`,Ja.ERR_NOT_SUPPORT,b)})});const x=async g=>{if(g==null)return 0;if(vt.isBlob(g))return g.size;if(vt.isSpecCompliantForm(g))return(await new a(ol.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(vt.isArrayBufferView(g)||vt.isArrayBuffer(g))return g.byteLength;if(vt.isURLSearchParams(g)&&(g=g+""),vt.isString(g))return(await c(g)).byteLength},m=async(g,v)=>{const b=vt.toFiniteNumber(g.getContentLength());return b??x(v)};return async g=>{let{url:v,method:b,data:j,signal:S,cancelToken:k,timeout:N,onDownloadProgress:A,onUploadProgress:_,responseType:D,headers:P,withCredentials:I="same-origin",fetchOptions:B}=yz(g),O=t||fetch;D=D?(D+"").toLowerCase():"text";let U=zce([S,k&&k.toAbortSignal()],N),E=null;const R=U&&U.unsubscribe&&(()=>{U.unsubscribe()});let K;try{if(_&&d&&b!=="get"&&b!=="head"&&(K=await m(P,j))!==0){let le=new a(v,{method:"POST",body:j,duplex:"half"}),M;if(vt.isFormData(j)&&(M=le.headers.get("content-type"))&&P.setContentType(M),le.body){const[X,z]=EM(K,aw(DM(_)));j=PM(le.body,LM,X,z)}}vt.isString(I)||(I=I?"include":"omit");const V=i&&"credentials"in a.prototype,Z={...B,signal:U,method:b.toUpperCase(),headers:P.normalize().toJSON(),body:j,duplex:"half",credentials:V?I:void 0};E=i&&new a(v,Z);let J=await(i?O(E,B):O(v,Z));const ee=u&&(D==="stream"||D==="response");if(u&&(A||ee&&R)){const le={};["status","statusText","headers"].forEach(Q=>{le[Q]=J[Q]});const M=vt.toFiniteNumber(J.headers.get("content-length")),[X,z]=A&&EM(M,aw(DM(A),!0))||[];J=new s(PM(J.body,LM,X,()=>{z&&z(),R&&R()}),le)}D=D||"text";let W=await f[vt.findKey(f,D)||"text"](J,g);return!ee&&R&&R(),await new Promise((le,M)=>{vz(le,M,{data:W,headers:ao.from(J.headers),status:J.status,statusText:J.statusText,config:g,request:E})})}catch(V){throw R&&R(),V&&V.name==="TypeError"&&/Load failed|fetch/i.test(V.message)?Object.assign(new Ja("Network Error",Ja.ERR_NETWORK,g,E),{cause:V.cause||V}):Ja.from(V,V&&V.code,g,E)}}},Kce=new Map,wz=e=>{let t=e?e.env:{};const{fetch:a,Request:s,Response:n}=t,i=[s,n,a];let l=i.length,o=l,c,d,u=Kce;for(;o--;)c=i[o],d=u.get(c),d===void 0&&u.set(c,d=o?new Map:Gce(t)),u=d;return d};wz();const Hk={http:uce,xhr:Uce,fetch:{get:wz}};vt.forEach(Hk,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const IM=e=>`- ${e}`,Yce=e=>vt.isFunction(e)||e===null||e===!1,jz={getAdapter:(e,t)=>{e=vt.isArray(e)?e:[e];const{length:a}=e;let s,n;const i={};for(let l=0;l<a;l++){s=e[l];let o;if(n=s,!Yce(s)&&(n=Hk[(o=String(s)).toLowerCase()],n===void 0))throw new Ja(`Unknown adapter '${o}'`);if(n&&(vt.isFunction(n)||(n=n.get(t))))break;i[o||"#"+l]=n}if(!n){const l=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=a?l.length>1?`since :
`+l.map(IM).join(`
`):" "+IM(l[0]):"as no adapter specified";throw new Ja("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:Hk};function k5(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Nx(null,e)}function BM(e){return k5(e),e.headers=ao.from(e.headers),e.data=S5.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),jz.getAdapter(e.adapter||$v.adapter,e)(e).then(function(s){return k5(e),s.data=S5.call(e,e.transformResponse,s),s.headers=ao.from(s.headers),s},function(s){return gz(s)||(k5(e),s&&s.response&&(s.response.data=S5.call(e,e.transformResponse,s.response),s.response.headers=ao.from(s.response.headers))),Promise.reject(s)})}const Nz="1.12.2",Uj={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Uj[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const $M={};Uj.transitional=function(t,a,s){function n(i,l){return"[Axios v"+Nz+"] Transitional option '"+i+"'"+l+(s?". "+s:"")}return(i,l,o)=>{if(t===!1)throw new Ja(n(l," has been removed"+(a?" in "+a:"")),Ja.ERR_DEPRECATED);return a&&!$M[l]&&($M[l]=!0,console.warn(n(l," has been deprecated since v"+a+" and will be removed in the near future"))),t?t(i,l,o):!0}};Uj.spelling=function(t){return(a,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function Xce(e,t,a){if(typeof e!="object")throw new Ja("options must be an object",Ja.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let n=s.length;for(;n-- >0;){const i=s[n],l=t[i];if(l){const o=e[i],c=o===void 0||l(o,i,e);if(c!==!0)throw new Ja("option "+i+" must be "+c,Ja.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new Ja("Unknown option "+i,Ja.ERR_BAD_OPTION)}}const M2={assertOptions:Xce,validators:Uj},Ud=M2.validators;let G0=class{constructor(t){this.defaults=t||{},this.interceptors={request:new _M,response:new _M}}async request(t,a){try{return await this._request(t,a)}catch(s){if(s instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(t,a){typeof t=="string"?(a=a||{},a.url=t):a=t||{},a=dm(this.defaults,a);const{transitional:s,paramsSerializer:n,headers:i}=a;s!==void 0&&M2.assertOptions(s,{silentJSONParsing:Ud.transitional(Ud.boolean),forcedJSONParsing:Ud.transitional(Ud.boolean),clarifyTimeoutError:Ud.transitional(Ud.boolean)},!1),n!=null&&(vt.isFunction(n)?a.paramsSerializer={serialize:n}:M2.assertOptions(n,{encode:Ud.function,serialize:Ud.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),M2.assertOptions(a,{baseUrl:Ud.spelling("baseURL"),withXsrfToken:Ud.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let l=i&&vt.merge(i.common,i[a.method]);i&&vt.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),a.headers=ao.concat(l,i);const o=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(a)===!1||(c=c&&v.synchronous,o.unshift(v.fulfilled,v.rejected))});const d=[];this.interceptors.response.forEach(function(v){d.push(v.fulfilled,v.rejected)});let u,f=0,x;if(!c){const g=[BM.bind(this),void 0];for(g.unshift(...o),g.push(...d),x=g.length,u=Promise.resolve(a);f<x;)u=u.then(g[f++],g[f++]);return u}x=o.length;let m=a;for(;f<x;){const g=o[f++],v=o[f++];try{m=g(m)}catch(b){v.call(this,b);break}}try{u=BM.call(this,m)}catch(g){return Promise.reject(g)}for(f=0,x=d.length;f<x;)u=u.then(d[f++],d[f++]);return u}getUri(t){t=dm(this.defaults,t);const a=bz(t.baseURL,t.url,t.allowAbsoluteUrls);return mz(a,t.params,t.paramsSerializer)}};vt.forEach(["delete","get","head","options"],function(t){G0.prototype[t]=function(a,s){return this.request(dm(s||{},{method:t,url:a,data:(s||{}).data}))}});vt.forEach(["post","put","patch"],function(t){function a(s){return function(i,l,o){return this.request(dm(o||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}G0.prototype[t]=a(),G0.prototype[t+"Form"]=a(!0)});let Jce=class Sz{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(i){a=i});const s=this;this.promise.then(n=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](n);s._listeners=null}),this.promise.then=n=>{let i;const l=new Promise(o=>{s.subscribe(o),i=o}).then(n);return l.cancel=function(){s.unsubscribe(i)},l},t(function(i,l,o){s.reason||(s.reason=new Nx(i,l,o),a(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const a=this._listeners.indexOf(t);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const t=new AbortController,a=s=>{t.abort(s)};return this.subscribe(a),t.signal.unsubscribe=()=>this.unsubscribe(a),t.signal}static source(){let t;return{token:new Sz(function(n){t=n}),cancel:t}}};function Qce(e){return function(a){return e.apply(null,a)}}function Zce(e){return vt.isObject(e)&&e.isAxiosError===!0}const Vk={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Vk).forEach(([e,t])=>{Vk[t]=e});function kz(e){const t=new G0(e),a=az(G0.prototype.request,t);return vt.extend(a,G0.prototype,t,{allOwnKeys:!0}),vt.extend(a,t,null,{allOwnKeys:!0}),a.create=function(n){return kz(dm(e,n))},a}const kn=kz($v);kn.Axios=G0;kn.CanceledError=Nx;kn.CancelToken=Jce;kn.isCancel=gz;kn.VERSION=Nz;kn.toFormData=$j;kn.AxiosError=Ja;kn.Cancel=kn.CanceledError;kn.all=function(t){return Promise.all(t)};kn.spread=Qce;kn.isAxiosError=Zce;kn.mergeConfig=dm;kn.AxiosHeaders=ao;kn.formToJSON=e=>xz(vt.isHTMLForm(e)?new FormData(e):e);kn.getAdapter=jz.getAdapter;kn.HttpStatusCode=Vk;kn.default=kn;const{Axios:oze,AxiosError:cze,CanceledError:dze,isCancel:uze,CancelToken:hze,VERSION:fze,all:mze,Cancel:pze,isAxiosError:xze,spread:gze,toFormData:vze,AxiosHeaders:bze,HttpStatusCode:yze,formToJSON:wze,getAdapter:jze,mergeConfig:Nze}=kn,ede="/",ya=kn.create({baseURL:ede});ya.interceptors.request.use(e=>{try{const t=window.localStorage.getItem("token");t&&(e.headers=e.headers||{},e.headers.Authorization=`Bearer ${t}`)}catch{}return e});ya.interceptors.response.use(e=>e,e=>{try{if(e?.response?.status===401){window.localStorage.removeItem("token");const a=new CustomEvent("app:toast",{detail:{type:"error",message:"Authentication required"}});window.dispatchEvent(a),typeof window<"u"&&(window.location.hash="#/login")}else{const a=e?.response?.data?.message||e?.message||"Request failed",s=new CustomEvent("app:toast",{detail:{type:"error",message:a}});window.dispatchEvent(s)}}catch{}return Promise.reject(e)});function tde(e,t,a){return t.startsWith("/api/users")?e==="GET"?/\/api\/users\/.+/.test(t)?{id:1,name:"Demo User",email:"demo@example.com",role:"admin"}:[{id:1,name:"Demo User",role:"admin"},{id:2,name:"Agent 1",role:"agent"}]:{ok:!0}:t.startsWith("/api/customers")?e==="GET"?/\/api\/customers\/.+/.test(t)?{id:101,name:"Acme Corp",phone:"+201234567890"}:[{id:101,name:"Acme Corp",phone:"+201234567890"},{id:102,name:"Globex",phone:"+201112223334"}]:{ok:!0}:t.startsWith("/api/visits")?e==="GET"?/\/api\/visits\/.+/.test(t)?{id:201,customerId:101,date:"2025-01-01",notes:"Site visit"}:[{id:201,customerId:101,date:"2025-01-01",notes:"Site visit"},{id:202,customerId:102,date:"2025-01-02",notes:"Follow-up"}]:{ok:!0}:t.startsWith("/api/tasks")?e==="GET"?/\/api\/tasks\/.+/.test(t)?{id:301,title:"Call customer",status:"open",assigneeId:1}:[{id:301,title:"Call customer",status:"open",assigneeId:1},{id:302,title:"Prepare quotation",status:"in_progress",assigneeId:2}]:{ok:!0}:t.startsWith("/api/reports")?{summary:{leads:120,deals:35,revenue:25e4},activities:[{id:1,action:"login",user:"Demo User"}]}:t.startsWith("/api/login")?{token:"demo-token"}:t.startsWith("/api/company-info")?{user:{id:1,name:"Demo User",role:"admin"},company:{id:1,name:"Demo Company"},activeModules:["leads","campaigns","settings"],subscription:{status:"active"}}:{ok:!0}}{const e=t=>async(a,s)=>({data:tde(t,a)});ya.get=e("GET"),ya.post=e("POST"),ya.put=e("PUT"),ya.delete=e("DELETE")}const ade=async(e,t)=>{const a=await ya.post("/api/login",{email:e,password:t}),s=a?.data?.data?.token||a?.data?.token;s&&window.localStorage.setItem("token",s);const n=new CustomEvent("app:toast",{detail:{type:"success",message:"Logged in"}});return window.dispatchEvent(n),s},UM=async()=>{try{await ya.post("/api/logout")}catch{}window.localStorage.removeItem("token");const e=new CustomEvent("app:toast",{detail:{type:"success",message:"Logged out"}});window.dispatchEvent(e)},rde=async()=>{const e=await ya.get("/api/company-info");return e?.data?.data||e?.data};function sde(){try{const e=typeof navigator<"u"?navigator:{},t=typeof screen<"u"?screen:{},a=[e.userAgent||"-",e.platform||"-",e.language||"-",(t.width||"-")+"x"+(t.height||"-")].join("|");let s=0;for(let n=0;n<a.length;n++)s=(s<<5)-s+a.charCodeAt(n),s|=0;return"dev-"+Math.abs(s).toString(36)}catch{return"dev-unknown"}}function nde(){const e=typeof navigator<"u"&&navigator.userAgent||"";return/iPhone|iPad|iPod/i.test(e)?"iOS Device":/Android/i.test(e)?"Android Device":/Macintosh/i.test(e)?"Mac":/Windows/i.test(e)?"Windows PC":/Linux/i.test(e)?"Linux PC":"Unknown Device"}function ide(){const e=typeof navigator<"u"&&navigator.userAgent||"";return/Chrome\//i.test(e)&&!/Edg\//i.test(e)?"Chrome":/Safari\//i.test(e)&&!/Chrome\//i.test(e)?"Safari":/Edg\//i.test(e)?"Edge":/Firefox\//i.test(e)?"Firefox":"Unknown"}function lde(){const e=sde(),t=nde(),a=ide(),s=typeof navigator<"u"&&navigator.platform||"unknown",n=typeof navigator<"u"&&navigator.userAgent||"",i=typeof screen<"u"?`${screen.width||"-"}x${screen.height||"-"}`:"-";return{deviceId:e,device:t,browser:a,platform:s,userAgent:n,resolution:i,ip:"N/A",at:new Date().toISOString()}}function ode(e){try{const t=window.localStorage.getItem(`user_devices_${e}`);return t?JSON.parse(t):[]}catch{return[]}}function cde(e,t){if(!(!e||!t))try{const a=`user_devices_${e}`,s=ode(e),i=s.some(l=>l.deviceId===t.deviceId)?s.map(l=>l.deviceId===t.deviceId?{...t}:l):[t,...s];window.localStorage.setItem(a,JSON.stringify(i))}catch{}}const Cz=w.createContext(null);function dde({children:e}){const[t,a]=w.useState({id:1,name:"Demo User",role:"admin"}),[s,n]=w.useState({id:1,name:"Demo Company"}),[i,l]=w.useState({status:"active",end_date:null}),[o,c]=w.useState(["leads","campaigns","settings"]),[d,u]=w.useState(!0),f=w.useMemo(()=>{if(!i||String(i.status||"").toLowerCase()!=="active")return!1;const S=i.end_date?new Date(i.end_date):null;return S?S.getTime()>=Date.now():!0},[i]),x=w.useCallback(j=>{j&&(a(j.user||{id:1,name:"Demo User",role:"admin"}),n(j.company||{id:1,name:"Demo Company"}),l(j.subscription||{status:"active",end_date:null}),c(Array.isArray(j.activeModules)?j.activeModules:["leads","campaigns","settings"]))},[]),m=w.useCallback(async()=>{const j=await rde();return x(j),j},[x]),g=w.useCallback(async(j,S)=>{const k=await ade(j,S),N=await m();try{const A=N?.user?.id||j,_=lde();cde(A,_)}catch{}return k},[m]),v=w.useCallback(j=>j?o.includes(j):!1,[o]),b=w.useMemo(()=>({user:t,company:s,subscription:i,activeModules:o,isSubscriptionActive:f,setProfile:x,fetchCompanyInfo:m,login:g,canAccess:v,bootstrapped:d}),[t,s,i,o,f,x,m,g,v]);return w.useEffect(()=>{u(!0)},[]),r.jsx(Cz.Provider,{value:b,children:e})}function zj(){const e=w.useContext(Cz);if(!e)throw new Error("useAppState must be used within AppStateProvider");return e}function ude(){const e=ti(),{login:t}=zj(),[a,s]=w.useState(""),[n,i]=w.useState(""),[l,o]=w.useState(null),[c,d]=w.useState(!1),u=async f=>{f.preventDefault(),o(null),d(!0);try{const x=(a||"").trim(),m=(n||"").trim();await t(x,m),e("/dashboard")}catch{o("Invalid credentials")}finally{d(!1)}};return r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-sky-200 via-cyan-200 to-teal-300 dark:from-slate-900 dark:via-cyan-900/80 dark:to-teal-900 p-4",children:r.jsxs("form",{onSubmit:u,className:"w-full max-w-sm p-8 rounded-3xl bg-white/30 dark:bg-gray-800/30 backdrop-blur-md border border-white/40 shadow-lg space-y-4",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4 text-center",children:"Login"}),r.jsx("input",{type:"email",value:a,onChange:f=>s(f.target.value),placeholder:"Email",required:!0,autoFocus:!0,className:"w-full p-3 rounded-xl border border-gray-300 dark:border-gray-700 bg-white/60 dark:bg-gray-700/50 text-gray-900 dark:text-white placeholder-gray-600 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-400"}),r.jsx("input",{type:"password",value:n,onChange:f=>i(f.target.value),placeholder:"Password",required:!0,className:"w-full p-3 rounded-xl border border-gray-300 dark:border-gray-700 bg-white/60 dark:bg-gray-700/50 text-gray-900 dark:text-white placeholder-gray-600 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-400"}),r.jsx("button",{type:"submit",disabled:c,className:"w-full p-3 rounded-xl bg-cyan-500 text-white font-semibold shadow-md hover:bg-cyan-600 focus:outline-none focus:ring-2 focus:ring-cyan-400 transition-all",children:c?"Loading":"Login"}),l&&r.jsx("p",{className:"text-red-600 text-sm text-center",children:l})]})})}const C5={name:"",phone:"",email:"",type:"Individual",country:"",city:"",addressLine:"",companyName:"",taxNumber:"",contacts:[],tags:[],notes:"",assignedSalesRep:""},zM=[{id:"CUST-001",name:" ",phone:"+201234567890",email:"ahmed@example.com",type:"Individual",country:"Egypt",city:"Cairo",addressLine:"Nasr City",companyName:"",taxNumber:"",contacts:[],tags:["VIP","Hot"],notes:"   ",assignedSalesRep:"Ibrahim",createdAt:new Date(Date.now()-864e5).toISOString()},{id:"CUST-002",name:"Techno LLC",phone:"+971555123456",email:"sales@techno.com",type:"Company",country:"UAE",city:"Dubai",addressLine:"Business Bay",companyName:"Techno LLC",taxNumber:"TRN-12345",contacts:[{name:"Sara Ali",phone:"+971555234567",email:"sara@techno.com"}],tags:["B2B"],notes:"    ",assignedSalesRep:"Adam",createdAt:new Date(Date.now()-36e5).toISOString()},{id:"CUST-003",name:"John Doe",phone:"+12025550123",email:"john.doe@example.com",type:"Individual",country:"USA",city:"New York",addressLine:"5th Avenue",companyName:"",taxNumber:"",contacts:[],tags:["Priority"],notes:"  ",assignedSalesRep:"Noura",createdAt:new Date().toISOString()}],hde=()=>{const[e,t]=w.useState([]),[a,s]=w.useState(!1),[n,i]=w.useState(""),[l,o]=w.useState(C5),[c,d]=w.useState(null),[u,f]=w.useState(!1),[x,m]=w.useState(""),[g,v]=w.useState(""),[b,j]=w.useState(""),[S,k]=w.useState(""),[N,A]=w.useState(""),_=async()=>{try{s(!0),i("");const{data:K}=await ya.get("/api/customers",{params:{q:x,type:g||void 0,assignedSalesRep:b||void 0,dateFrom:S||void 0,dateTo:N||void 0,limit:50}}),V=K?.data?.items||[];t(Array.isArray(V)&&V.length>0?V:zM)}catch{i("Failed to load customers"),t(zM)}finally{s(!1)}};w.useEffect(()=>{_()},[]),w.useEffect(()=>{const K=setTimeout(()=>{_()},300);return()=>clearTimeout(K)},[x,g,b,S,N]);const D=()=>{o(C5),d(null),f(!1)},P=async K=>{K?.preventDefault?.();try{s(!0),i("");const V={...l,tags:Array.isArray(l.tags)?l.tags:String(l.tags||"").split(",").map(Z=>Z.trim()).filter(Boolean),contacts:Array.isArray(l.contacts)?l.contacts:[]};c?await ya.put(`/api/customers/${c}`,V):await ya.post("/api/customers",V),await _(),D()}catch{i("Failed to save customer")}finally{s(!1)}},I=K=>{d(K.id),o({name:K.name||"",phone:K.phone||"",email:K.email||"",type:K.type||"Individual",country:K.country||"",city:K.city||"",addressLine:K.addressLine||"",companyName:K.companyName||"",taxNumber:K.taxNumber||"",contacts:K.contacts||[],tags:K.tags||[],notes:K.notes||"",assignedSalesRep:K.assignedSalesRep||K.assignedTo||""}),f(!0)},B=async K=>{try{s(!0),await ya.delete(`/api/customers/${K}`),await _()}catch{i("Failed to delete customer")}finally{s(!1)}},O=async K=>{try{s(!0),await ya.post(`/api/customers/${K}/restore`),await _()}catch{i("Failed to restore customer")}finally{s(!1)}},U=()=>{o(K=>({...K,contacts:[...K.contacts||[],{name:"",phone:"",email:""}]}))},E=(K,V,Z)=>{o(J=>{const ee=[...J.contacts||[]];return ee[K]={...ee[K],[V]:Z},{...J,contacts:ee}})},R=K=>{o(V=>{const Z=[...V.contacts||[]];return Z.splice(K,1),{...V,contacts:Z}})};return r.jsxs("div",{className:"space-y-4 bg-[var(--content-bg)] text-[var(--content-text)] overflow-x-hidden overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Customers"}),r.jsx("div",{children:r.jsx("button",{className:"btn btn-primary",onClick:()=>{f(!0),d(null),o(C5)},children:"Add Customer"})})]}),r.jsxs("section",{className:"nova-card glass-neon p-4",children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[r.jsx("input",{className:"input w-full min-w-0",placeholder:"Search name/phone/email",value:x,onChange:K=>m(K.target.value)}),r.jsxs("select",{className:"input w-full min-w-0",value:g,onChange:K=>v(K.target.value),children:[r.jsx("option",{value:"",children:"All Types"}),r.jsx("option",{value:"Individual",children:"Individual"}),r.jsx("option",{value:"Company",children:"Company"})]}),r.jsx("input",{className:"input w-full min-w-0",placeholder:"Assigned Sales Rep",value:b,onChange:K=>j(K.target.value)}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsx("input",{type:"date",className:"input w-full min-w-0",value:S,onChange:K=>k(K.target.value)}),r.jsx("input",{type:"date",className:"input w-full min-w-0",value:N,onChange:K=>A(K.target.value)})]})]}),r.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:r.jsx("button",{className:"btn",onClick:()=>{m(""),v(""),j(""),k(""),A(""),_()},children:"Reset"})})]}),u&&r.jsx("section",{className:"nova-card glass-neon p-4",children:r.jsxs("form",{onSubmit:P,className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"Customer Name *"}),r.jsx("input",{className:"input",value:l.name,onChange:K=>o({...l,name:K.target.value}),required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"Phone *"}),r.jsx("input",{className:"input",value:l.phone,onChange:K=>o({...l,phone:K.target.value}),required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"Email"}),r.jsx("input",{className:"input",value:l.email,onChange:K=>o({...l,email:K.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"Customer Type"}),r.jsxs("select",{className:"input",value:l.type,onChange:K=>o({...l,type:K.target.value}),children:[r.jsx("option",{children:"Individual"}),r.jsx("option",{children:"Company"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"Country"}),r.jsx("input",{className:"input",value:l.country,onChange:K=>o({...l,country:K.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"City"}),r.jsx("input",{className:"input",value:l.city,onChange:K=>o({...l,city:K.target.value})})]}),r.jsxs("div",{className:"lg:col-span-2",children:[r.jsx("label",{className:"label",children:"Address Line"}),r.jsx("input",{className:"input",value:l.addressLine,onChange:K=>o({...l,addressLine:K.target.value})})]}),l.type==="Company"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"Company Name *"}),r.jsx("input",{className:"input",value:l.companyName,onChange:K=>o({...l,companyName:K.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"Tax Number"}),r.jsx("input",{className:"input",value:l.taxNumber,onChange:K=>o({...l,taxNumber:K.target.value})})]}),r.jsxs("div",{className:"lg:col-span-2",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"label",children:"Contacts"}),r.jsx("button",{type:"button",className:"btn btn-secondary",onClick:U,children:"Add Contact"})]}),(l.contacts||[]).length===0&&r.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:"No contacts"}),(l.contacts||[]).map((K,V)=>r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 mb-2",children:[r.jsx("input",{className:"input",placeholder:"Contact Name",value:K.name,onChange:Z=>E(V,"name",Z.target.value)}),r.jsx("input",{className:"input",placeholder:"Contact Phone",value:K.phone,onChange:Z=>E(V,"phone",Z.target.value)}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{className:"input",placeholder:"Contact Email",value:K.email,onChange:Z=>E(V,"email",Z.target.value)}),r.jsx("button",{type:"button",className:"btn",onClick:()=>R(V),children:"Remove"})]})]},V))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"Tags (comma-separated)"}),r.jsx("input",{className:"input",value:Array.isArray(l.tags)?l.tags.join(", "):l.tags,onChange:K=>o({...l,tags:K.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"Assigned Sales Rep"}),r.jsx("input",{className:"input",value:l.assignedSalesRep,onChange:K=>o({...l,assignedSalesRep:K.target.value})})]}),r.jsxs("div",{className:"lg:col-span-2",children:[r.jsx("label",{className:"label",children:"Notes"}),r.jsx("textarea",{className:"input",rows:3,value:l.notes,onChange:K=>o({...l,notes:K.target.value})})]}),r.jsxs("div",{className:"lg:col-span-2 flex gap-2",children:[r.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a,children:c?"Save Changes":"Create Customer"}),r.jsx("button",{type:"button",className:"btn",onClick:D,children:"Cancel"})]}),n&&r.jsx("div",{className:"lg:col-span-2 text-red-500 text-sm",children:n})]})}),r.jsx("section",{className:"nova-card glass-neon p-4",children:r.jsx("div",{className:"overflow-auto -mx-4",children:r.jsxs("table",{className:"nova-table w-full text-sm min-w-[1000px]",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left bg-[var(--table-header-bg)]",children:[r.jsx("th",{className:"py-2 px-3",children:"Name"}),r.jsx("th",{className:"py-2 px-3",children:"Type"}),r.jsx("th",{className:"py-2 px-3",children:"Contact"}),r.jsx("th",{className:"py-2 px-3",children:"Company"}),r.jsx("th",{className:"py-2 px-3",children:"Tags"}),r.jsx("th",{className:"py-2 px-3",children:"Assigned Rep"}),r.jsx("th",{className:"py-2 px-3",children:"Created"}),r.jsx("th",{className:"py-2 px-3",children:"Actions"})]})}),r.jsxs("tbody",{children:[a&&r.jsx("tr",{children:r.jsx("td",{className:"py-3 px-3",colSpan:8,children:"Loading..."})}),!a&&e.length===0&&r.jsx("tr",{children:r.jsx("td",{className:"py-3 px-3",colSpan:8,children:"No customers"})}),!a&&e.map(K=>r.jsxs("tr",{className:"border-t border-[var(--table-row-border)] odd:bg-[var(--table-row-bg)]",children:[r.jsxs("td",{className:"py-2 px-3",children:[r.jsx("div",{className:"font-medium",children:K.name}),r.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:K.email}),r.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:K.phone})]}),r.jsx("td",{className:"py-2 px-3",children:K.type||""}),r.jsx("td",{className:"py-2 px-3",children:Array.isArray(K.contacts)&&K.contacts.length>0?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"text-xs",children:K.contacts[0].name}),r.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:K.contacts[0].phone}),K.contacts[0].email&&r.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:K.contacts[0].email})]}):K.email||K.phone?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"text-xs",children:K.email||""}),K.phone&&r.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:K.phone})]}):K.city?`${K.city}, ${K.country}`:K.country||""}),r.jsx("td",{className:"py-2 px-3",children:K.companyName||""}),r.jsx("td",{className:"py-2 px-3",children:Array.isArray(K.tags)?K.tags.join(", "):""}),r.jsx("td",{className:"py-2 px-3",children:K.assignedSalesRep||K.assignedTo||""}),r.jsx("td",{className:"py-2 px-3 text-xs",children:new Date(K.createdAt).toLocaleString()}),r.jsx("td",{className:"py-2 px-3",children:r.jsxs("div",{className:"flex gap-2",children:[!K.deletedAt&&r.jsx("button",{className:"btn btn-secondary",onClick:()=>I(K),children:"Edit"}),!K.deletedAt&&r.jsx("button",{className:"btn",onClick:()=>B(K.id),children:"Delete"}),K.deletedAt&&r.jsx("button",{className:"btn btn-secondary",onClick:()=>O(K.id),children:"Restore"})]})})]},K.id))]})]})})})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var rw={};rw.version="0.18.5";var Az=1252,fde=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],xA={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},gA=function(e){fde.indexOf(e)!=-1&&(Az=xA[0]=e)};function mde(){gA(1252)}var id=function(e){gA(e)};function vA(){id(1200),mde()}function HM(e){for(var t=[],a=0,s=e.length;a<s;++a)t[a]=e.charCodeAt(a);return t}function pde(e){for(var t=[],a=0;a<e.length>>1;++a)t[a]=String.fromCharCode(e.charCodeAt(2*a)+(e.charCodeAt(2*a+1)<<8));return t.join("")}function _z(e){for(var t=[],a=0;a<e.length>>1;++a)t[a]=String.fromCharCode(e.charCodeAt(2*a+1)+(e.charCodeAt(2*a)<<8));return t.join("")}var r1=function(e){var t=e.charCodeAt(0),a=e.charCodeAt(1);return t==255&&a==254?pde(e.slice(2)):t==254&&a==255?_z(e.slice(2)):t==65279?e.slice(1):e},Oy=function(t){return String.fromCharCode(t)},VM=function(t){return String.fromCharCode(t)},q1,jf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function G1(e){for(var t="",a=0,s=0,n=0,i=0,l=0,o=0,c=0,d=0;d<e.length;)a=e.charCodeAt(d++),i=a>>2,s=e.charCodeAt(d++),l=(a&3)<<4|s>>4,n=e.charCodeAt(d++),o=(s&15)<<2|n>>6,c=n&63,isNaN(s)?o=c=64:isNaN(n)&&(c=64),t+=jf.charAt(i)+jf.charAt(l)+jf.charAt(o)+jf.charAt(c);return t}function Oo(e){var t="",a=0,s=0,n=0,i=0,l=0,o=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<e.length;)i=jf.indexOf(e.charAt(d++)),l=jf.indexOf(e.charAt(d++)),a=i<<2|l>>4,t+=String.fromCharCode(a),o=jf.indexOf(e.charAt(d++)),s=(l&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(s)),c=jf.indexOf(e.charAt(d++)),n=(o&3)<<6|c,c!==64&&(t+=String.fromCharCode(n));return t}var nr=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),yh=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,a){return a?new Buffer(t,a):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function Df(e){return nr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function WM(e){return nr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Eo=function(t){return nr?yh(t,"binary"):t.split("").map(function(a){return a.charCodeAt(0)&255})};function Hj(e){if(typeof ArrayBuffer>"u")return Eo(e);for(var t=new ArrayBuffer(e.length),a=new Uint8Array(t),s=0;s!=e.length;++s)a[s]=e.charCodeAt(s)&255;return t}function Hf(e){if(Array.isArray(e))return e.map(function(s){return String.fromCharCode(s)}).join("");for(var t=[],a=0;a<e.length;++a)t[a]=String.fromCharCode(e[a]);return t.join("")}function xde(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function bA(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return bA(new Uint8Array(e));for(var t=new Array(e.length),a=0;a<e.length;++a)t[a]=e[a];return t}var wi=nr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:yh(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,a=0;for(t=0;t<e.length;++t)a+=e[t].length;var s=new Uint8Array(a),n=0;for(t=0,a=0;t<e.length;a+=n,++t)if(n=e[t].length,e[t]instanceof Uint8Array)s.set(e[t],a);else{if(typeof e[t]=="string")throw"wtf";s.set(new Uint8Array(e[t]),a)}return s}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function gde(e){for(var t=[],a=0,s=e.length+250,n=Df(e.length+255),i=0;i<e.length;++i){var l=e.charCodeAt(i);if(l<128)n[a++]=l;else if(l<2048)n[a++]=192|l>>6&31,n[a++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var o=e.charCodeAt(++i)&1023;n[a++]=240|l>>8&7,n[a++]=128|l>>2&63,n[a++]=128|o>>6&15|(l&3)<<4,n[a++]=128|o&63}else n[a++]=224|l>>12&15,n[a++]=128|l>>6&63,n[a++]=128|l&63;a>s&&(t.push(n.slice(0,a)),a=0,n=Df(65535),s=65530)}return t.push(n.slice(0,a)),wi(t)}var Pl=/\u0000/g,s1=/[\u0001-\u0006]/g;function qp(e){for(var t="",a=e.length-1;a>=0;)t+=e.charAt(a--);return t}function ld(e,t){var a=""+e;return a.length>=t?a:Qs("0",t-a.length)+a}function yA(e,t){var a=""+e;return a.length>=t?a:Qs(" ",t-a.length)+a}function sw(e,t){var a=""+e;return a.length>=t?a:a+Qs(" ",t-a.length)}function vde(e,t){var a=""+Math.round(e);return a.length>=t?a:Qs("0",t-a.length)+a}function bde(e,t){var a=""+e;return a.length>=t?a:Qs("0",t-a.length)+a}var qM=Math.pow(2,32);function kp(e,t){if(e>qM||e<-qM)return vde(e,t);var a=Math.round(e);return bde(a,t)}function nw(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var GM=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],A5=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function yde(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Ea={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},KM={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},wde={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function iw(e,t,a){for(var s=e<0?-1:1,n=e*s,i=0,l=1,o=0,c=1,d=0,u=0,f=Math.floor(n);d<t&&(f=Math.floor(n),o=f*l+i,u=f*d+c,!(n-f<5e-8));)n=1/(n-f),i=l,l=o,c=d,d=u;if(u>t&&(d>t?(u=c,o=i):(u=d,o=l)),!a)return[0,s*o,u];var x=Math.floor(s*o/u);return[x,s*o-x*u,u]}function F0(e,t,a){if(e>2958465||e<0)return null;var s=e|0,n=Math.floor(86400*(e-s)),i=0,l=[],o={D:s,T:n,u:86400*(e-s)-n,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(s+=1462),o.u>.9999&&(o.u=0,++n==86400&&(o.T=n=0,++s,++o.D)),s===60)l=a?[1317,10,29]:[1900,2,29],i=3;else if(s===0)l=a?[1317,8,29]:[1900,1,0],i=6;else{s>60&&--s;var c=new Date(1900,0,1);c.setDate(c.getDate()+s-1),l=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),s<60&&(i=(i+6)%7),a&&(i=Ade(c,l))}return o.y=l[0],o.m=l[1],o.d=l[2],o.S=n%60,n=Math.floor(n/60),o.M=n%60,n=Math.floor(n/60),o.H=n,o.q=i,o}var Tz=new Date(1899,11,31,0,0,0),jde=Tz.getTime(),Nde=new Date(1900,2,1,0,0,0);function Ez(e,t){var a=e.getTime();return t?a-=1461*24*60*60*1e3:e>=Nde&&(a+=1440*60*1e3),(a-(jde+(e.getTimezoneOffset()-Tz.getTimezoneOffset())*6e4))/(1440*60*1e3)}function wA(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Sde(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function kde(e){var t=e<0?12:11,a=wA(e.toFixed(12));return a.length<=t||(a=e.toPrecision(10),a.length<=t)?a:e.toExponential(5)}function Cde(e){var t=wA(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function K1(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),a;return t>=-4&&t<=-1?a=e.toPrecision(10+t):Math.abs(t)<=9?a=kde(e):t===10?a=e.toFixed(10).substr(0,12):a=Cde(e),wA(Sde(a.toUpperCase()))}function um(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):K1(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return yc(14,Ez(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function Ade(e,t){t[0]-=581;var a=e.getDay();return e<60&&(a=(a+6)%7),a}function _de(e,t,a,s){var n="",i=0,l=0,o=a.y,c,d=0;switch(e){case 98:o=a.y+543;case 121:switch(t.length){case 1:case 2:c=o%100,d=2;break;default:c=o%1e4,d=4;break}break;case 109:switch(t.length){case 1:case 2:c=a.m,d=t.length;break;case 3:return A5[a.m-1][1];case 5:return A5[a.m-1][0];default:return A5[a.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=a.d,d=t.length;break;case 3:return GM[a.q][0];default:return GM[a.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(a.H+11)%12,d=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=a.H,d=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=a.M,d=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return a.u===0&&(t=="s"||t=="ss")?ld(a.S,t.length):(s>=2?l=s===3?1e3:100:l=s===1?10:1,i=Math.round(l*(a.S+a.u)),i>=60*l&&(i=0),t==="s"?i===0?"0":""+i/l:(n=ld(i,2+s),t==="ss"?n.substr(0,2):"."+n.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=a.D*24+a.H;break;case"[m]":case"[mm]":c=(a.D*24+a.H)*60+a.M;break;case"[s]":case"[ss]":c=((a.D*24+a.H)*60+a.M)*60+Math.round(a.S+a.u);break;default:throw"bad abstime format: "+t}d=t.length===3?1:2;break;case 101:c=o,d=1;break}var u=d>0?ld(c,d):"";return u}function Nf(e){var t=3;if(e.length<=t)return e;for(var a=e.length%t,s=e.substr(0,a);a!=e.length;a+=t)s+=(s.length>0?",":"")+e.substr(a,t);return s}var Dz=/%/g;function Tde(e,t,a){var s=t.replace(Dz,""),n=t.length-s.length;return ah(e,s,a*Math.pow(10,2*n))+Qs("%",n)}function Ede(e,t,a){for(var s=t.length-1;t.charCodeAt(s-1)===44;)--s;return ah(e,t.substr(0,s),a/Math.pow(10,3*(t.length-s)))}function Mz(e,t){var a,s=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Mz(e,-t);var n=e.indexOf(".");n===-1&&(n=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%n;if(i<0&&(i+=n),a=(t/Math.pow(10,i)).toPrecision(s+1+(n+i)%n),a.indexOf("e")===-1){var l=Math.floor(Math.log(t)*Math.LOG10E);for(a.indexOf(".")===-1?a=a.charAt(0)+"."+a.substr(1)+"E+"+(l-a.length+i):a+="E+"+(l-i);a.substr(0,2)==="0.";)a=a.charAt(0)+a.substr(2,n)+"."+a.substr(2+n),a=a.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");a=a.replace(/\+-/,"-")}a=a.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,d,u){return c+d+u.substr(0,(n+i)%n)+"."+u.substr(i)+"E"})}else a=t.toExponential(s);return e.match(/E\+00$/)&&a.match(/e[+-]\d$/)&&(a=a.substr(0,a.length-1)+"0"+a.charAt(a.length-1)),e.match(/E\-/)&&a.match(/e\+/)&&(a=a.replace(/e\+/,"e")),a.replace("e","E")}var Pz=/# (\?+)( ?)\/( ?)(\d+)/;function Dde(e,t,a){var s=parseInt(e[4],10),n=Math.round(t*s),i=Math.floor(n/s),l=n-i*s,o=s;return a+(i===0?"":""+i)+" "+(l===0?Qs(" ",e[1].length+1+e[4].length):yA(l,e[1].length)+e[2]+"/"+e[3]+ld(o,e[4].length))}function Mde(e,t,a){return a+(t===0?"":""+t)+Qs(" ",e[1].length+2+e[4].length)}var Lz=/^#*0*\.([0#]+)/,Oz=/\).*[0#]/,Rz=/\(###\) ###\\?-####/;function Cl(e){for(var t="",a,s=0;s!=e.length;++s)switch(a=e.charCodeAt(s)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(a)}return t}function YM(e,t){var a=Math.pow(10,t);return""+Math.round(e*a)/a}function XM(e,t){var a=e-Math.floor(e),s=Math.pow(10,t);return t<(""+Math.round(a*s)).length?0:Math.round(a*s)}function Pde(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function Lde(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function lc(e,t,a){if(e.charCodeAt(0)===40&&!t.match(Oz)){var s=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return a>=0?lc("n",s,a):"("+lc("n",s,-a)+")"}if(t.charCodeAt(t.length-1)===44)return Ede(e,t,a);if(t.indexOf("%")!==-1)return Tde(e,t,a);if(t.indexOf("E")!==-1)return Mz(t,a);if(t.charCodeAt(0)===36)return"$"+lc(e,t.substr(t.charAt(1)==" "?2:1),a);var n,i,l,o,c=Math.abs(a),d=a<0?"-":"";if(t.match(/^00+$/))return d+kp(c,t.length);if(t.match(/^[#?]+$/))return n=kp(a,0),n==="0"&&(n=""),n.length>t.length?n:Cl(t.substr(0,t.length-n.length))+n;if(i=t.match(Pz))return Dde(i,c,d);if(t.match(/^#+0+$/))return d+kp(c,t.length-t.indexOf("0"));if(i=t.match(Lz))return n=YM(a,i[1].length).replace(/^([^\.]+)$/,"$1."+Cl(i[1])).replace(/\.$/,"."+Cl(i[1])).replace(/\.(\d*)$/,function(g,v){return"."+v+Qs("0",Cl(i[1]).length-v.length)}),t.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+YM(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+Nf(kp(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return a<0?"-"+lc(e,t,-a):Nf(""+(Math.floor(a)+Pde(a,i[1].length)))+"."+ld(XM(a,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return lc(e,t.replace(/^#,#*,/,""),a);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return n=qp(lc(e,t.replace(/[\\-]/g,""),a)),l=0,qp(qp(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return l<n.length?n.charAt(l++):g==="0"?"0":""}));if(t.match(Rz))return n=lc(e,"##########",a),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(i[4].length,7),o=iw(c,Math.pow(10,l)-1,!1),n=""+d,u=ah("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),n+=u+i[2]+"/"+i[3],u=sw(o[2],l),u.length<i[4].length&&(u=Cl(i[4].substr(i[4].length-u.length))+u),n+=u,n;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(i[1].length,i[4].length),7),o=iw(c,Math.pow(10,l)-1,!0),d+(o[0]||(o[1]?"":"0"))+" "+(o[1]?yA(o[1],l)+i[2]+"/"+i[3]+sw(o[2],l):Qs(" ",2*l+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return n=kp(a,0),t.length<=n.length?n:Cl(t.substr(0,t.length-n.length))+n;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){n=""+a.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),l=n.indexOf(".");var f=t.indexOf(".")-l,x=t.length-n.length-f;return Cl(t.substr(0,f)+n+t.substr(t.length-x))}if(i=t.match(/^00,000\.([#0]*0)$/))return l=XM(a,i[1].length),a<0?"-"+lc(e,t,-a):Nf(Lde(a)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?ld(0,3-g.length):"")+g})+"."+ld(l,i[1].length);switch(t){case"###,##0.00":return lc(e,"#,##0.00",a);case"###,###":case"##,###":case"#,###":var m=Nf(kp(c,0));return m!=="0"?d+m:"";case"###,###.00":return lc(e,"###,##0.00",a).replace(/^0\./,".");case"#,###.00":return lc(e,"#,##0.00",a).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Ode(e,t,a){for(var s=t.length-1;t.charCodeAt(s-1)===44;)--s;return ah(e,t.substr(0,s),a/Math.pow(10,3*(t.length-s)))}function Rde(e,t,a){var s=t.replace(Dz,""),n=t.length-s.length;return ah(e,s,a*Math.pow(10,2*n))+Qs("%",n)}function Fz(e,t){var a,s=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Fz(e,-t);var n=e.indexOf(".");n===-1&&(n=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%n;if(i<0&&(i+=n),a=(t/Math.pow(10,i)).toPrecision(s+1+(n+i)%n),!a.match(/[Ee]/)){var l=Math.floor(Math.log(t)*Math.LOG10E);a.indexOf(".")===-1?a=a.charAt(0)+"."+a.substr(1)+"E+"+(l-a.length+i):a+="E+"+(l-i),a=a.replace(/\+-/,"-")}a=a.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,d,u){return c+d+u.substr(0,(n+i)%n)+"."+u.substr(i)+"E"})}else a=t.toExponential(s);return e.match(/E\+00$/)&&a.match(/e[+-]\d$/)&&(a=a.substr(0,a.length-1)+"0"+a.charAt(a.length-1)),e.match(/E\-/)&&a.match(/e\+/)&&(a=a.replace(/e\+/,"e")),a.replace("e","E")}function Wd(e,t,a){if(e.charCodeAt(0)===40&&!t.match(Oz)){var s=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return a>=0?Wd("n",s,a):"("+Wd("n",s,-a)+")"}if(t.charCodeAt(t.length-1)===44)return Ode(e,t,a);if(t.indexOf("%")!==-1)return Rde(e,t,a);if(t.indexOf("E")!==-1)return Fz(t,a);if(t.charCodeAt(0)===36)return"$"+Wd(e,t.substr(t.charAt(1)==" "?2:1),a);var n,i,l,o,c=Math.abs(a),d=a<0?"-":"";if(t.match(/^00+$/))return d+ld(c,t.length);if(t.match(/^[#?]+$/))return n=""+a,a===0&&(n=""),n.length>t.length?n:Cl(t.substr(0,t.length-n.length))+n;if(i=t.match(Pz))return Mde(i,c,d);if(t.match(/^#+0+$/))return d+ld(c,t.length-t.indexOf("0"));if(i=t.match(Lz))return n=(""+a).replace(/^([^\.]+)$/,"$1."+Cl(i[1])).replace(/\.$/,"."+Cl(i[1])),n=n.replace(/\.(\d*)$/,function(g,v){return"."+v+Qs("0",Cl(i[1]).length-v.length)}),t.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+Nf(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return a<0?"-"+Wd(e,t,-a):Nf(""+a)+"."+Qs("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Wd(e,t.replace(/^#,#*,/,""),a);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return n=qp(Wd(e,t.replace(/[\\-]/g,""),a)),l=0,qp(qp(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return l<n.length?n.charAt(l++):g==="0"?"0":""}));if(t.match(Rz))return n=Wd(e,"##########",a),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(i[4].length,7),o=iw(c,Math.pow(10,l)-1,!1),n=""+d,u=ah("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),n+=u+i[2]+"/"+i[3],u=sw(o[2],l),u.length<i[4].length&&(u=Cl(i[4].substr(i[4].length-u.length))+u),n+=u,n;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(i[1].length,i[4].length),7),o=iw(c,Math.pow(10,l)-1,!0),d+(o[0]||(o[1]?"":"0"))+" "+(o[1]?yA(o[1],l)+i[2]+"/"+i[3]+sw(o[2],l):Qs(" ",2*l+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return n=""+a,t.length<=n.length?n:Cl(t.substr(0,t.length-n.length))+n;if(i=t.match(/^([#0]+)\.([#0]+)$/)){n=""+a.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),l=n.indexOf(".");var f=t.indexOf(".")-l,x=t.length-n.length-f;return Cl(t.substr(0,f)+n+t.substr(t.length-x))}if(i=t.match(/^00,000\.([#0]*0)$/))return a<0?"-"+Wd(e,t,-a):Nf(""+a).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?ld(0,3-g.length):"")+g})+"."+ld(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=Nf(""+c);return m!=="0"?d+m:"";default:if(t.match(/\.[0#?]*$/))return Wd(e,t.slice(0,t.lastIndexOf(".")),a)+Cl(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function ah(e,t,a){return(a|0)===a?Wd(e,t,a):lc(e,t,a)}function Fde(e){for(var t=[],a=!1,s=0,n=0;s<e.length;++s)switch(e.charCodeAt(s)){case 34:a=!a;break;case 95:case 42:case 92:++s;break;case 59:t[t.length]=e.substr(n,s-n),n=s+1}if(t[t.length]=e.substr(n),a===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var Iz=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Sx(e){for(var t=0,a="",s="";t<e.length;)switch(a=e.charAt(t)){case"G":nw(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(s=a;e.charAt(t++)!=="]"&&t<e.length;)s+=e.charAt(t);if(s.match(Iz))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(a=e.charAt(++t))>-1||a=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===a;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function Ide(e,t,a,s){for(var n=[],i="",l=0,o="",c="t",d,u,f,x="H";l<e.length;)switch(o=e.charAt(l)){case"G":if(!nw(e,l))throw new Error("unrecognized character "+o+" in "+e);n[n.length]={t:"G",v:"General"},l+=7;break;case'"':for(i="";(f=e.charCodeAt(++l))!==34&&l<e.length;)i+=String.fromCharCode(f);n[n.length]={t:"t",v:i},++l;break;case"\\":var m=e.charAt(++l),g=m==="("||m===")"?m:"t";n[n.length]={t:g,v:m},++l;break;case"_":n[n.length]={t:"t",v:" "},l+=2;break;case"@":n[n.length]={t:"T",v:t},++l;break;case"B":case"b":if(e.charAt(l+1)==="1"||e.charAt(l+1)==="2"){if(d==null&&(d=F0(t,a,e.charAt(l+1)==="2"),d==null))return"";n[n.length]={t:"X",v:e.substr(l,2)},c=o,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||d==null&&(d=F0(t,a),d==null))return"";for(i=o;++l<e.length&&e.charAt(l).toLowerCase()===o;)i+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=x),n[n.length]={t:o,v:i},c=o;break;case"A":case"a":case"":var v={t:o,v:o};if(d==null&&(d=F0(t,a)),e.substr(l,3).toUpperCase()==="A/P"?(d!=null&&(v.v=d.H>=12?"P":"A"),v.t="T",x="h",l+=3):e.substr(l,5).toUpperCase()==="AM/PM"?(d!=null&&(v.v=d.H>=12?"PM":"AM"),v.t="T",l+=5,x="h"):e.substr(l,5).toUpperCase()==="/"?(d!=null&&(v.v=d.H>=12?"":""),v.t="T",l+=5,x="h"):(v.t="t",++l),d==null&&v.t==="T")return"";n[n.length]=v,c=o;break;case"[":for(i=o;e.charAt(l++)!=="]"&&l<e.length;)i+=e.charAt(l);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(Iz)){if(d==null&&(d=F0(t,a),d==null))return"";n[n.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",Sx(e)||(n[n.length]={t:"t",v:i}));break;case".":if(d!=null){for(i=o;++l<e.length&&(o=e.charAt(l))==="0";)i+=o;n[n.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++l<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(l))>-1;)i+=o;n[n.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++l)===o;)i+=o;n[n.length]={t:o,v:i},c=o;break;case"*":++l,(e.charAt(l)==" "||e.charAt(l)=="*")&&++l;break;case"(":case")":n[n.length]={t:s===1?"t":o,v:o},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;l<e.length&&"0123456789".indexOf(e.charAt(++l))>-1;)i+=e.charAt(l);n[n.length]={t:"D",v:i};break;case" ":n[n.length]={t:o,v:o},++l;break;case"$":n[n.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);n[n.length]={t:"t",v:o},++l;break}var b=0,j=0,S;for(l=n.length-1,c="t";l>=0;--l)switch(n[l].t){case"h":case"H":n[l].t=x,c="h",b<1&&(b=1);break;case"s":(S=n[l].v.match(/\.0+$/))&&(j=Math.max(j,S[0].length-1)),b<3&&(b=3);case"d":case"y":case"M":case"e":c=n[l].t;break;case"m":c==="s"&&(n[l].t="M",b<2&&(b=2));break;case"X":break;case"Z":b<1&&n[l].v.match(/[Hh]/)&&(b=1),b<2&&n[l].v.match(/[Mm]/)&&(b=2),b<3&&n[l].v.match(/[Ss]/)&&(b=3)}switch(b){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var k="",N;for(l=0;l<n.length;++l)switch(n[l].t){case"t":case"T":case" ":case"D":break;case"X":n[l].v="",n[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":n[l].v=_de(n[l].t.charCodeAt(0),n[l].v,d,j),n[l].t="t";break;case"n":case"?":for(N=l+1;n[N]!=null&&((o=n[N].t)==="?"||o==="D"||(o===" "||o==="t")&&n[N+1]!=null&&(n[N+1].t==="?"||n[N+1].t==="t"&&n[N+1].v==="/")||n[l].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(n[N].v==="/"||n[N].v===" "&&n[N+1]!=null&&n[N+1].t=="?"));)n[l].v+=n[N].v,n[N]={v:"",t:";"},++N;k+=n[l].v,l=N-1;break;case"G":n[l].t="t",n[l].v=um(t,a);break}var A="",_,D;if(k.length>0){k.charCodeAt(0)==40?(_=t<0&&k.charCodeAt(0)===45?-t:t,D=ah("n",k,_)):(_=t<0&&s>1?-t:t,D=ah("n",k,_),_<0&&n[0]&&n[0].t=="t"&&(D=D.substr(1),n[0].v="-"+n[0].v)),N=D.length-1;var P=n.length;for(l=0;l<n.length;++l)if(n[l]!=null&&n[l].t!="t"&&n[l].v.indexOf(".")>-1){P=l;break}var I=n.length;if(P===n.length&&D.indexOf("E")===-1){for(l=n.length-1;l>=0;--l)n[l]==null||"n?".indexOf(n[l].t)===-1||(N>=n[l].v.length-1?(N-=n[l].v.length,n[l].v=D.substr(N+1,n[l].v.length)):N<0?n[l].v="":(n[l].v=D.substr(0,N+1),N=-1),n[l].t="t",I=l);N>=0&&I<n.length&&(n[I].v=D.substr(0,N+1)+n[I].v)}else if(P!==n.length&&D.indexOf("E")===-1){for(N=D.indexOf(".")-1,l=P;l>=0;--l)if(!(n[l]==null||"n?".indexOf(n[l].t)===-1)){for(u=n[l].v.indexOf(".")>-1&&l===P?n[l].v.indexOf(".")-1:n[l].v.length-1,A=n[l].v.substr(u+1);u>=0;--u)N>=0&&(n[l].v.charAt(u)==="0"||n[l].v.charAt(u)==="#")&&(A=D.charAt(N--)+A);n[l].v=A,n[l].t="t",I=l}for(N>=0&&I<n.length&&(n[I].v=D.substr(0,N+1)+n[I].v),N=D.indexOf(".")+1,l=P;l<n.length;++l)if(!(n[l]==null||"n?(".indexOf(n[l].t)===-1&&l!==P)){for(u=n[l].v.indexOf(".")>-1&&l===P?n[l].v.indexOf(".")+1:0,A=n[l].v.substr(0,u);u<n[l].v.length;++u)N<D.length&&(A+=D.charAt(N++));n[l].v=A,n[l].t="t",I=l}}}for(l=0;l<n.length;++l)n[l]!=null&&"n?".indexOf(n[l].t)>-1&&(_=s>1&&t<0&&l>0&&n[l-1].v==="-"?-t:t,n[l].v=ah(n[l].t,n[l].v,_),n[l].t="t");var B="";for(l=0;l!==n.length;++l)n[l]!=null&&(B+=n[l].v);return B}var JM=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function QM(e,t){if(t==null)return!1;var a=parseFloat(t[2]);switch(t[1]){case"=":if(e==a)return!0;break;case">":if(e>a)return!0;break;case"<":if(e<a)return!0;break;case"<>":if(e!=a)return!0;break;case">=":if(e>=a)return!0;break;case"<=":if(e<=a)return!0;break}return!1}function Bde(e,t){var a=Fde(e),s=a.length,n=a[s-1].indexOf("@");if(s<4&&n>-1&&--s,a.length>4)throw new Error("cannot find right format for |"+a.join("|")+"|");if(typeof t!="number")return[4,a.length===4||n>-1?a[a.length-1]:"@"];switch(a.length){case 1:a=n>-1?["General","General","General",a[0]]:[a[0],a[0],a[0],"@"];break;case 2:a=n>-1?[a[0],a[0],a[0],a[1]]:[a[0],a[1],a[0],"@"];break;case 3:a=n>-1?[a[0],a[1],a[0],a[2]]:[a[0],a[1],a[2],"@"];break}var i=t>0?a[0]:t<0?a[1]:a[2];if(a[0].indexOf("[")===-1&&a[1].indexOf("[")===-1)return[s,i];if(a[0].match(/\[[=<>]/)!=null||a[1].match(/\[[=<>]/)!=null){var l=a[0].match(JM),o=a[1].match(JM);return QM(t,l)?[s,a[0]]:QM(t,o)?[s,a[1]]:[s,a[l!=null&&o!=null?2:1]]}return[s,i]}function yc(e,t,a){a==null&&(a={});var s="";switch(typeof e){case"string":e=="m/d/yy"&&a.dateNF?s=a.dateNF:s=e;break;case"number":e==14&&a.dateNF?s=a.dateNF:s=(a.table!=null?a.table:Ea)[e],s==null&&(s=a.table&&a.table[KM[e]]||Ea[KM[e]]),s==null&&(s=wde[e]||"General");break}if(nw(s,0))return um(t,a);t instanceof Date&&(t=Ez(t,a.date1904));var n=Bde(s,t);if(nw(n[1]))return um(t,a);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return Ide(n[1],t,a,n[0])}function rh(e,t){if(typeof t!="number"){t=+t||-1;for(var a=0;a<392;++a){if(Ea[a]==null){t<0&&(t=a);continue}if(Ea[a]==e){t=a;break}}t<0&&(t=391)}return Ea[t]=e,t}function Vj(e){for(var t=0;t!=392;++t)e[t]!==void 0&&rh(e[t],t)}function kx(){Ea=yde()}var $de={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},Bz=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Ude(e){var t=typeof e=="number"?Ea[e]:e;return t=t.replace(Bz,"(\\d+)"),new RegExp("^"+t+"$")}function zde(e,t,a){var s=-1,n=-1,i=-1,l=-1,o=-1,c=-1;(t.match(Bz)||[]).forEach(function(f,x){var m=parseInt(a[x+1],10);switch(f.toLowerCase().charAt(0)){case"y":s=m;break;case"d":i=m;break;case"h":l=m;break;case"s":c=m;break;case"m":l>=0?o=m:n=m;break}}),c>=0&&o==-1&&n>=0&&(o=n,n=-1);var d=(""+(s>=0?s:new Date().getFullYear())).slice(-4)+"-"+("00"+(n>=1?n:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var u=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return l==-1&&o==-1&&c==-1?d:s==-1&&n==-1&&i==-1?u:d+"T"+u}var Hde=(function(){var e={};e.version="1.2.0";function t(){for(var D=0,P=new Array(256),I=0;I!=256;++I)D=I,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,P[I]=D;return typeof Int32Array<"u"?new Int32Array(P):P}var a=t();function s(D){var P=0,I=0,B=0,O=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(B=0;B!=256;++B)O[B]=D[B];for(B=0;B!=256;++B)for(I=D[B],P=256+B;P<4096;P+=256)I=O[P]=I>>>8^D[I&255];var U=[];for(B=1;B!=16;++B)U[B-1]=typeof Int32Array<"u"?O.subarray(B*256,B*256+256):O.slice(B*256,B*256+256);return U}var n=s(a),i=n[0],l=n[1],o=n[2],c=n[3],d=n[4],u=n[5],f=n[6],x=n[7],m=n[8],g=n[9],v=n[10],b=n[11],j=n[12],S=n[13],k=n[14];function N(D,P){for(var I=P^-1,B=0,O=D.length;B<O;)I=I>>>8^a[(I^D.charCodeAt(B++))&255];return~I}function A(D,P){for(var I=P^-1,B=D.length-15,O=0;O<B;)I=k[D[O++]^I&255]^S[D[O++]^I>>8&255]^j[D[O++]^I>>16&255]^b[D[O++]^I>>>24]^v[D[O++]]^g[D[O++]]^m[D[O++]]^x[D[O++]]^f[D[O++]]^u[D[O++]]^d[D[O++]]^c[D[O++]]^o[D[O++]]^l[D[O++]]^i[D[O++]]^a[D[O++]];for(B+=15;O<B;)I=I>>>8^a[(I^D[O++])&255];return~I}function _(D,P){for(var I=P^-1,B=0,O=D.length,U=0,E=0;B<O;)U=D.charCodeAt(B++),U<128?I=I>>>8^a[(I^U)&255]:U<2048?(I=I>>>8^a[(I^(192|U>>6&31))&255],I=I>>>8^a[(I^(128|U&63))&255]):U>=55296&&U<57344?(U=(U&1023)+64,E=D.charCodeAt(B++)&1023,I=I>>>8^a[(I^(240|U>>8&7))&255],I=I>>>8^a[(I^(128|U>>2&63))&255],I=I>>>8^a[(I^(128|E>>6&15|(U&3)<<4))&255],I=I>>>8^a[(I^(128|E&63))&255]):(I=I>>>8^a[(I^(224|U>>12&15))&255],I=I>>>8^a[(I^(128|U>>6&63))&255],I=I>>>8^a[(I^(128|U&63))&255]);return~I}return e.table=a,e.bstr=N,e.buf=A,e.str=_,e})(),Na=(function(){var t={};t.version="1.2.1";function a(pe,Me){for(var we=pe.split("/"),Se=Me.split("/"),_e=0,Oe=0,Ze=Math.min(we.length,Se.length);_e<Ze;++_e){if(Oe=we[_e].length-Se[_e].length)return Oe;if(we[_e]!=Se[_e])return we[_e]<Se[_e]?-1:1}return we.length-Se.length}function s(pe){if(pe.charAt(pe.length-1)=="/")return pe.slice(0,-1).indexOf("/")===-1?pe:s(pe.slice(0,-1));var Me=pe.lastIndexOf("/");return Me===-1?pe:pe.slice(0,Me+1)}function n(pe){if(pe.charAt(pe.length-1)=="/")return n(pe.slice(0,-1));var Me=pe.lastIndexOf("/");return Me===-1?pe:pe.slice(Me+1)}function i(pe,Me){typeof Me=="string"&&(Me=new Date(Me));var we=Me.getHours();we=we<<6|Me.getMinutes(),we=we<<5|Me.getSeconds()>>>1,pe.write_shift(2,we);var Se=Me.getFullYear()-1980;Se=Se<<4|Me.getMonth()+1,Se=Se<<5|Me.getDate(),pe.write_shift(2,Se)}function l(pe){var Me=pe.read_shift(2)&65535,we=pe.read_shift(2)&65535,Se=new Date,_e=we&31;we>>>=5;var Oe=we&15;we>>>=4,Se.setMilliseconds(0),Se.setFullYear(we+1980),Se.setMonth(Oe-1),Se.setDate(_e);var Ze=Me&31;Me>>>=5;var pt=Me&63;return Me>>>=6,Se.setHours(Me),Se.setMinutes(pt),Se.setSeconds(Ze<<1),Se}function o(pe){Ui(pe,0);for(var Me={},we=0;pe.l<=pe.length-4;){var Se=pe.read_shift(2),_e=pe.read_shift(2),Oe=pe.l+_e,Ze={};switch(Se){case 21589:we=pe.read_shift(1),we&1&&(Ze.mtime=pe.read_shift(4)),_e>5&&(we&2&&(Ze.atime=pe.read_shift(4)),we&4&&(Ze.ctime=pe.read_shift(4))),Ze.mtime&&(Ze.mt=new Date(Ze.mtime*1e3));break}pe.l=Oe,Me[Se]=Ze}return Me}var c;function d(){return c||(c={})}function u(pe,Me){if(pe[0]==80&&pe[1]==75)return xt(pe,Me);if((pe[0]|32)==109&&(pe[1]|32)==105)return Ae(pe,Me);if(pe.length<512)throw new Error("CFB file size "+pe.length+" < 512");var we=3,Se=512,_e=0,Oe=0,Ze=0,pt=0,Xe=0,tt=[],nt=pe.slice(0,512);Ui(nt,0);var At=f(nt);switch(we=At[0],we){case 3:Se=512;break;case 4:Se=4096;break;case 0:if(At[1]==0)return xt(pe,Me);default:throw new Error("Major Version: Expected 3 or 4 saw "+we)}Se!==512&&(nt=pe.slice(0,Se),Ui(nt,28));var Ft=pe.slice(0,Se);x(nt,we);var Qt=nt.read_shift(4,"i");if(we===3&&Qt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Qt);nt.l+=4,Ze=nt.read_shift(4,"i"),nt.l+=4,nt.chk("00100000","Mini Stream Cutoff Size: "),pt=nt.read_shift(4,"i"),_e=nt.read_shift(4,"i"),Xe=nt.read_shift(4,"i"),Oe=nt.read_shift(4,"i");for(var ke=-1,Ge=0;Ge<109&&(ke=nt.read_shift(4,"i"),!(ke<0));++Ge)tt[Ge]=ke;var qt=m(pe,Se);b(Xe,Oe,qt,Se,tt);var xa=S(qt,Ze,tt,Se);xa[Ze].name="!Directory",_e>0&&pt!==E&&(xa[pt].name="!MiniFAT"),xa[tt[0]].name="!FAT",xa.fat_addrs=tt,xa.ssz=Se;var wa={},Wa=[],Ws=[],Rr=[];k(Ze,xa,qt,Wa,_e,wa,Ws,pt),g(Ws,Rr,Wa),Wa.shift();var Un={FileIndex:Ws,FullPaths:Rr};return Me&&Me.raw&&(Un.raw={header:Ft,sectors:qt}),Un}function f(pe){if(pe[pe.l]==80&&pe[pe.l+1]==75)return[0,0];pe.chk(R,"Header Signature: "),pe.l+=16;var Me=pe.read_shift(2,"u");return[pe.read_shift(2,"u"),Me]}function x(pe,Me){var we=9;switch(pe.l+=2,we=pe.read_shift(2)){case 9:if(Me!=3)throw new Error("Sector Shift: Expected 9 saw "+we);break;case 12:if(Me!=4)throw new Error("Sector Shift: Expected 12 saw "+we);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+we)}pe.chk("0600","Mini Sector Shift: "),pe.chk("000000000000","Reserved: ")}function m(pe,Me){for(var we=Math.ceil(pe.length/Me)-1,Se=[],_e=1;_e<we;++_e)Se[_e-1]=pe.slice(_e*Me,(_e+1)*Me);return Se[we-1]=pe.slice(we*Me),Se}function g(pe,Me,we){for(var Se=0,_e=0,Oe=0,Ze=0,pt=0,Xe=we.length,tt=[],nt=[];Se<Xe;++Se)tt[Se]=nt[Se]=Se,Me[Se]=we[Se];for(;pt<nt.length;++pt)Se=nt[pt],_e=pe[Se].L,Oe=pe[Se].R,Ze=pe[Se].C,tt[Se]===Se&&(_e!==-1&&tt[_e]!==_e&&(tt[Se]=tt[_e]),Oe!==-1&&tt[Oe]!==Oe&&(tt[Se]=tt[Oe])),Ze!==-1&&(tt[Ze]=Se),_e!==-1&&Se!=tt[Se]&&(tt[_e]=tt[Se],nt.lastIndexOf(_e)<pt&&nt.push(_e)),Oe!==-1&&Se!=tt[Se]&&(tt[Oe]=tt[Se],nt.lastIndexOf(Oe)<pt&&nt.push(Oe));for(Se=1;Se<Xe;++Se)tt[Se]===Se&&(Oe!==-1&&tt[Oe]!==Oe?tt[Se]=tt[Oe]:_e!==-1&&tt[_e]!==_e&&(tt[Se]=tt[_e]));for(Se=1;Se<Xe;++Se)if(pe[Se].type!==0){if(pt=Se,pt!=tt[pt])do pt=tt[pt],Me[Se]=Me[pt]+"/"+Me[Se];while(pt!==0&&tt[pt]!==-1&&pt!=tt[pt]);tt[Se]=-1}for(Me[0]+="/",Se=1;Se<Xe;++Se)pe[Se].type!==2&&(Me[Se]+="/")}function v(pe,Me,we){for(var Se=pe.start,_e=pe.size,Oe=[],Ze=Se;we&&_e>0&&Ze>=0;)Oe.push(Me.slice(Ze*U,Ze*U+U)),_e-=U,Ze=O0(we,Ze*4);return Oe.length===0?kt(0):wi(Oe).slice(0,pe.size)}function b(pe,Me,we,Se,_e){var Oe=E;if(pe===E){if(Me!==0)throw new Error("DIFAT chain shorter than expected")}else if(pe!==-1){var Ze=we[pe],pt=(Se>>>2)-1;if(!Ze)return;for(var Xe=0;Xe<pt&&(Oe=O0(Ze,Xe*4))!==E;++Xe)_e.push(Oe);b(O0(Ze,Se-4),Me-1,we,Se,_e)}}function j(pe,Me,we,Se,_e){var Oe=[],Ze=[];_e||(_e=[]);var pt=Se-1,Xe=0,tt=0;for(Xe=Me;Xe>=0;){_e[Xe]=!0,Oe[Oe.length]=Xe,Ze.push(pe[Xe]);var nt=we[Math.floor(Xe*4/Se)];if(tt=Xe*4&pt,Se<4+tt)throw new Error("FAT boundary crossed: "+Xe+" 4 "+Se);if(!pe[nt])break;Xe=O0(pe[nt],tt)}return{nodes:Oe,data:dP([Ze])}}function S(pe,Me,we,Se){var _e=pe.length,Oe=[],Ze=[],pt=[],Xe=[],tt=Se-1,nt=0,At=0,Ft=0,Qt=0;for(nt=0;nt<_e;++nt)if(pt=[],Ft=nt+Me,Ft>=_e&&(Ft-=_e),!Ze[Ft]){Xe=[];var ke=[];for(At=Ft;At>=0;){ke[At]=!0,Ze[At]=!0,pt[pt.length]=At,Xe.push(pe[At]);var Ge=we[Math.floor(At*4/Se)];if(Qt=At*4&tt,Se<4+Qt)throw new Error("FAT boundary crossed: "+At+" 4 "+Se);if(!pe[Ge]||(At=O0(pe[Ge],Qt),ke[At]))break}Oe[Ft]={nodes:pt,data:dP([Xe])}}return Oe}function k(pe,Me,we,Se,_e,Oe,Ze,pt){for(var Xe=0,tt=Se.length?2:0,nt=Me[pe].data,At=0,Ft=0,Qt;At<nt.length;At+=128){var ke=nt.slice(At,At+128);Ui(ke,64),Ft=ke.read_shift(2),Qt=_A(ke,0,Ft-tt),Se.push(Qt);var Ge={name:Qt,type:ke.read_shift(1),color:ke.read_shift(1),L:ke.read_shift(4,"i"),R:ke.read_shift(4,"i"),C:ke.read_shift(4,"i"),clsid:ke.read_shift(16),state:ke.read_shift(4,"i"),start:0,size:0},qt=ke.read_shift(2)+ke.read_shift(2)+ke.read_shift(2)+ke.read_shift(2);qt!==0&&(Ge.ct=N(ke,ke.l-8));var xa=ke.read_shift(2)+ke.read_shift(2)+ke.read_shift(2)+ke.read_shift(2);xa!==0&&(Ge.mt=N(ke,ke.l-8)),Ge.start=ke.read_shift(4,"i"),Ge.size=ke.read_shift(4,"i"),Ge.size<0&&Ge.start<0&&(Ge.size=Ge.type=0,Ge.start=E,Ge.name=""),Ge.type===5?(Xe=Ge.start,_e>0&&Xe!==E&&(Me[Xe].name="!StreamData")):Ge.size>=4096?(Ge.storage="fat",Me[Ge.start]===void 0&&(Me[Ge.start]=j(we,Ge.start,Me.fat_addrs,Me.ssz)),Me[Ge.start].name=Ge.name,Ge.content=Me[Ge.start].data.slice(0,Ge.size)):(Ge.storage="minifat",Ge.size<0?Ge.size=0:Xe!==E&&Ge.start!==E&&Me[Xe]&&(Ge.content=v(Ge,Me[Xe].data,(Me[pt]||{}).data))),Ge.content&&Ui(Ge.content,0),Oe[Qt]=Ge,Ze.push(Ge)}}function N(pe,Me){return new Date((_o(pe,Me+4)/1e7*Math.pow(2,32)+_o(pe,Me)/1e7-11644473600)*1e3)}function A(pe,Me){return d(),u(c.readFileSync(pe),Me)}function _(pe,Me){var we=Me&&Me.type;switch(we||nr&&Buffer.isBuffer(pe)&&(we="buffer"),we||"base64"){case"file":return A(pe,Me);case"base64":return u(Eo(Oo(pe)),Me);case"binary":return u(Eo(pe),Me)}return u(pe,Me)}function D(pe,Me){var we=Me||{},Se=we.root||"Root Entry";if(pe.FullPaths||(pe.FullPaths=[]),pe.FileIndex||(pe.FileIndex=[]),pe.FullPaths.length!==pe.FileIndex.length)throw new Error("inconsistent CFB structure");pe.FullPaths.length===0&&(pe.FullPaths[0]=Se+"/",pe.FileIndex[0]={name:Se,type:5}),we.CLSID&&(pe.FileIndex[0].clsid=we.CLSID),P(pe)}function P(pe){var Me="Sh33tJ5";if(!Na.find(pe,"/"+Me)){var we=kt(4);we[0]=55,we[1]=we[3]=50,we[2]=54,pe.FileIndex.push({name:Me,type:2,content:we,size:4,L:69,R:69,C:69}),pe.FullPaths.push(pe.FullPaths[0]+Me),I(pe)}}function I(pe,Me){D(pe);for(var we=!1,Se=!1,_e=pe.FullPaths.length-1;_e>=0;--_e){var Oe=pe.FileIndex[_e];switch(Oe.type){case 0:Se?we=!0:(pe.FileIndex.pop(),pe.FullPaths.pop());break;case 1:case 2:case 5:Se=!0,isNaN(Oe.R*Oe.L*Oe.C)&&(we=!0),Oe.R>-1&&Oe.L>-1&&Oe.R==Oe.L&&(we=!0);break;default:we=!0;break}}if(!(!we&&!Me)){var Ze=new Date(1987,1,19),pt=0,Xe=Object.create?Object.create(null):{},tt=[];for(_e=0;_e<pe.FullPaths.length;++_e)Xe[pe.FullPaths[_e]]=!0,pe.FileIndex[_e].type!==0&&tt.push([pe.FullPaths[_e],pe.FileIndex[_e]]);for(_e=0;_e<tt.length;++_e){var nt=s(tt[_e][0]);Se=Xe[nt],Se||(tt.push([nt,{name:n(nt).replace("/",""),type:1,clsid:V,ct:Ze,mt:Ze,content:null}]),Xe[nt]=!0)}for(tt.sort(function(Qt,ke){return a(Qt[0],ke[0])}),pe.FullPaths=[],pe.FileIndex=[],_e=0;_e<tt.length;++_e)pe.FullPaths[_e]=tt[_e][0],pe.FileIndex[_e]=tt[_e][1];for(_e=0;_e<tt.length;++_e){var At=pe.FileIndex[_e],Ft=pe.FullPaths[_e];if(At.name=n(Ft).replace("/",""),At.L=At.R=At.C=-(At.color=1),At.size=At.content?At.content.length:0,At.start=0,At.clsid=At.clsid||V,_e===0)At.C=tt.length>1?1:-1,At.size=0,At.type=5;else if(Ft.slice(-1)=="/"){for(pt=_e+1;pt<tt.length&&s(pe.FullPaths[pt])!=Ft;++pt);for(At.C=pt>=tt.length?-1:pt,pt=_e+1;pt<tt.length&&s(pe.FullPaths[pt])!=s(Ft);++pt);At.R=pt>=tt.length?-1:pt,At.type=1}else s(pe.FullPaths[_e+1]||"")==s(Ft)&&(At.R=_e+1),At.type=2}}}function B(pe,Me){var we=Me||{};if(we.fileType=="mad")return na(pe,we);switch(I(pe),we.fileType){case"zip":return sa(pe,we)}var Se=(function(Qt){for(var ke=0,Ge=0,qt=0;qt<Qt.FileIndex.length;++qt){var xa=Qt.FileIndex[qt];if(xa.content){var wa=xa.content.length;wa>0&&(wa<4096?ke+=wa+63>>6:Ge+=wa+511>>9)}}for(var Wa=Qt.FullPaths.length+3>>2,Ws=ke+7>>3,Rr=ke+127>>7,Un=Ws+Ge+Wa+Rr,oi=Un+127>>7,Fl=oi<=109?0:Math.ceil((oi-109)/127);Un+oi+Fl+127>>7>oi;)Fl=++oi<=109?0:Math.ceil((oi-109)/127);var Tn=[1,Fl,oi,Rr,Wa,Ge,ke,0];return Qt.FileIndex[0].size=ke<<6,Tn[7]=(Qt.FileIndex[0].start=Tn[0]+Tn[1]+Tn[2]+Tn[3]+Tn[4]+Tn[5])+(Tn[6]+7>>3),Tn})(pe),_e=kt(Se[7]<<9),Oe=0,Ze=0;{for(Oe=0;Oe<8;++Oe)_e.write_shift(1,K[Oe]);for(Oe=0;Oe<8;++Oe)_e.write_shift(2,0);for(_e.write_shift(2,62),_e.write_shift(2,3),_e.write_shift(2,65534),_e.write_shift(2,9),_e.write_shift(2,6),Oe=0;Oe<3;++Oe)_e.write_shift(2,0);for(_e.write_shift(4,0),_e.write_shift(4,Se[2]),_e.write_shift(4,Se[0]+Se[1]+Se[2]+Se[3]-1),_e.write_shift(4,0),_e.write_shift(4,4096),_e.write_shift(4,Se[3]?Se[0]+Se[1]+Se[2]-1:E),_e.write_shift(4,Se[3]),_e.write_shift(-4,Se[1]?Se[0]-1:E),_e.write_shift(4,Se[1]),Oe=0;Oe<109;++Oe)_e.write_shift(-4,Oe<Se[2]?Se[1]+Oe:-1)}if(Se[1])for(Ze=0;Ze<Se[1];++Ze){for(;Oe<236+Ze*127;++Oe)_e.write_shift(-4,Oe<Se[2]?Se[1]+Oe:-1);_e.write_shift(-4,Ze===Se[1]-1?E:Ze+1)}var pt=function(Qt){for(Ze+=Qt;Oe<Ze-1;++Oe)_e.write_shift(-4,Oe+1);Qt&&(++Oe,_e.write_shift(-4,E))};for(Ze=Oe=0,Ze+=Se[1];Oe<Ze;++Oe)_e.write_shift(-4,Z.DIFSECT);for(Ze+=Se[2];Oe<Ze;++Oe)_e.write_shift(-4,Z.FATSECT);pt(Se[3]),pt(Se[4]);for(var Xe=0,tt=0,nt=pe.FileIndex[0];Xe<pe.FileIndex.length;++Xe)nt=pe.FileIndex[Xe],nt.content&&(tt=nt.content.length,!(tt<4096)&&(nt.start=Ze,pt(tt+511>>9)));for(pt(Se[6]+7>>3);_e.l&511;)_e.write_shift(-4,Z.ENDOFCHAIN);for(Ze=Oe=0,Xe=0;Xe<pe.FileIndex.length;++Xe)nt=pe.FileIndex[Xe],nt.content&&(tt=nt.content.length,!(!tt||tt>=4096)&&(nt.start=Ze,pt(tt+63>>6)));for(;_e.l&511;)_e.write_shift(-4,Z.ENDOFCHAIN);for(Oe=0;Oe<Se[4]<<2;++Oe){var At=pe.FullPaths[Oe];if(!At||At.length===0){for(Xe=0;Xe<17;++Xe)_e.write_shift(4,0);for(Xe=0;Xe<3;++Xe)_e.write_shift(4,-1);for(Xe=0;Xe<12;++Xe)_e.write_shift(4,0);continue}nt=pe.FileIndex[Oe],Oe===0&&(nt.start=nt.size?nt.start-1:E);var Ft=Oe===0&&we.root||nt.name;if(tt=2*(Ft.length+1),_e.write_shift(64,Ft,"utf16le"),_e.write_shift(2,tt),_e.write_shift(1,nt.type),_e.write_shift(1,nt.color),_e.write_shift(-4,nt.L),_e.write_shift(-4,nt.R),_e.write_shift(-4,nt.C),nt.clsid)_e.write_shift(16,nt.clsid,"hex");else for(Xe=0;Xe<4;++Xe)_e.write_shift(4,0);_e.write_shift(4,nt.state||0),_e.write_shift(4,0),_e.write_shift(4,0),_e.write_shift(4,0),_e.write_shift(4,0),_e.write_shift(4,nt.start),_e.write_shift(4,nt.size),_e.write_shift(4,0)}for(Oe=1;Oe<pe.FileIndex.length;++Oe)if(nt=pe.FileIndex[Oe],nt.size>=4096)if(_e.l=nt.start+1<<9,nr&&Buffer.isBuffer(nt.content))nt.content.copy(_e,_e.l,0,nt.size),_e.l+=nt.size+511&-512;else{for(Xe=0;Xe<nt.size;++Xe)_e.write_shift(1,nt.content[Xe]);for(;Xe&511;++Xe)_e.write_shift(1,0)}for(Oe=1;Oe<pe.FileIndex.length;++Oe)if(nt=pe.FileIndex[Oe],nt.size>0&&nt.size<4096)if(nr&&Buffer.isBuffer(nt.content))nt.content.copy(_e,_e.l,0,nt.size),_e.l+=nt.size+63&-64;else{for(Xe=0;Xe<nt.size;++Xe)_e.write_shift(1,nt.content[Xe]);for(;Xe&63;++Xe)_e.write_shift(1,0)}if(nr)_e.l=_e.length;else for(;_e.l<_e.length;)_e.write_shift(1,0);return _e}function O(pe,Me){var we=pe.FullPaths.map(function(Xe){return Xe.toUpperCase()}),Se=we.map(function(Xe){var tt=Xe.split("/");return tt[tt.length-(Xe.slice(-1)=="/"?2:1)]}),_e=!1;Me.charCodeAt(0)===47?(_e=!0,Me=we[0].slice(0,-1)+Me):_e=Me.indexOf("/")!==-1;var Oe=Me.toUpperCase(),Ze=_e===!0?we.indexOf(Oe):Se.indexOf(Oe);if(Ze!==-1)return pe.FileIndex[Ze];var pt=!Oe.match(s1);for(Oe=Oe.replace(Pl,""),pt&&(Oe=Oe.replace(s1,"!")),Ze=0;Ze<we.length;++Ze)if((pt?we[Ze].replace(s1,"!"):we[Ze]).replace(Pl,"")==Oe||(pt?Se[Ze].replace(s1,"!"):Se[Ze]).replace(Pl,"")==Oe)return pe.FileIndex[Ze];return null}var U=64,E=-2,R="d0cf11e0a1b11ae1",K=[208,207,17,224,161,177,26,225],V="00000000000000000000000000000000",Z={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:E,FREESECT:-1,HEADER_SIGNATURE:R,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:V,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function J(pe,Me,we){d();var Se=B(pe,we);c.writeFileSync(Me,Se)}function ee(pe){for(var Me=new Array(pe.length),we=0;we<pe.length;++we)Me[we]=String.fromCharCode(pe[we]);return Me.join("")}function W(pe,Me){var we=B(pe,Me);switch(Me&&Me.type||"buffer"){case"file":return d(),c.writeFileSync(Me.filename,we),we;case"binary":return typeof we=="string"?we:ee(we);case"base64":return G1(typeof we=="string"?we:ee(we));case"buffer":if(nr)return Buffer.isBuffer(we)?we:yh(we);case"array":return typeof we=="string"?Eo(we):we}return we}var le;function M(pe){try{var Me=pe.InflateRaw,we=new Me;if(we._processChunk(new Uint8Array([3,0]),we._finishFlushFlag),we.bytesRead)le=pe;else throw new Error("zlib does not expose bytesRead")}catch(Se){console.error("cannot use native zlib: "+(Se.message||Se))}}function X(pe,Me){if(!le)return ze(pe,Me);var we=le.InflateRaw,Se=new we,_e=Se._processChunk(pe.slice(pe.l),Se._finishFlushFlag);return pe.l+=Se.bytesRead,_e}function z(pe){return le?le.deflateRawSync(pe):Nt(pe)}var Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ne=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],re=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function oe(pe){var Me=(pe<<1|pe<<11)&139536|(pe<<5|pe<<15)&558144;return(Me>>16|Me>>8|Me)&255}for(var q=typeof Uint8Array<"u",ie=q?new Uint8Array(256):[],ye=0;ye<256;++ye)ie[ye]=oe(ye);function Y(pe,Me){var we=ie[pe&255];return Me<=8?we>>>8-Me:(we=we<<8|ie[pe>>8&255],Me<=16?we>>>16-Me:(we=we<<8|ie[pe>>16&255],we>>>24-Me))}function ce(pe,Me){var we=Me&7,Se=Me>>>3;return(pe[Se]|(we<=6?0:pe[Se+1]<<8))>>>we&3}function he(pe,Me){var we=Me&7,Se=Me>>>3;return(pe[Se]|(we<=5?0:pe[Se+1]<<8))>>>we&7}function ue(pe,Me){var we=Me&7,Se=Me>>>3;return(pe[Se]|(we<=4?0:pe[Se+1]<<8))>>>we&15}function Fe(pe,Me){var we=Me&7,Se=Me>>>3;return(pe[Se]|(we<=3?0:pe[Se+1]<<8))>>>we&31}function Ue(pe,Me){var we=Me&7,Se=Me>>>3;return(pe[Se]|(we<=1?0:pe[Se+1]<<8))>>>we&127}function Te(pe,Me,we){var Se=Me&7,_e=Me>>>3,Oe=(1<<we)-1,Ze=pe[_e]>>>Se;return we<8-Se||(Ze|=pe[_e+1]<<8-Se,we<16-Se)||(Ze|=pe[_e+2]<<16-Se,we<24-Se)||(Ze|=pe[_e+3]<<24-Se),Ze&Oe}function ae(pe,Me,we){var Se=Me&7,_e=Me>>>3;return Se<=5?pe[_e]|=(we&7)<<Se:(pe[_e]|=we<<Se&255,pe[_e+1]=(we&7)>>8-Se),Me+3}function De(pe,Me,we){var Se=Me&7,_e=Me>>>3;return we=(we&1)<<Se,pe[_e]|=we,Me+1}function Ce(pe,Me,we){var Se=Me&7,_e=Me>>>3;return we<<=Se,pe[_e]|=we&255,we>>>=8,pe[_e+1]=we,Me+8}function at(pe,Me,we){var Se=Me&7,_e=Me>>>3;return we<<=Se,pe[_e]|=we&255,we>>>=8,pe[_e+1]=we&255,pe[_e+2]=we>>>8,Me+16}function ft(pe,Me){var we=pe.length,Se=2*we>Me?2*we:Me+5,_e=0;if(we>=Me)return pe;if(nr){var Oe=WM(Se);if(pe.copy)pe.copy(Oe);else for(;_e<pe.length;++_e)Oe[_e]=pe[_e];return Oe}else if(q){var Ze=new Uint8Array(Se);if(Ze.set)Ze.set(pe);else for(;_e<we;++_e)Ze[_e]=pe[_e];return Ze}return pe.length=Se,pe}function zt(pe){for(var Me=new Array(pe),we=0;we<pe;++we)Me[we]=0;return Me}function st(pe,Me,we){var Se=1,_e=0,Oe=0,Ze=0,pt=0,Xe=pe.length,tt=q?new Uint16Array(32):zt(32);for(Oe=0;Oe<32;++Oe)tt[Oe]=0;for(Oe=Xe;Oe<we;++Oe)pe[Oe]=0;Xe=pe.length;var nt=q?new Uint16Array(Xe):zt(Xe);for(Oe=0;Oe<Xe;++Oe)tt[_e=pe[Oe]]++,Se<_e&&(Se=_e),nt[Oe]=0;for(tt[0]=0,Oe=1;Oe<=Se;++Oe)tt[Oe+16]=pt=pt+tt[Oe-1]<<1;for(Oe=0;Oe<Xe;++Oe)pt=pe[Oe],pt!=0&&(nt[Oe]=tt[pt+16]++);var At=0;for(Oe=0;Oe<Xe;++Oe)if(At=pe[Oe],At!=0)for(pt=Y(nt[Oe],Se)>>Se-At,Ze=(1<<Se+4-At)-1;Ze>=0;--Ze)Me[pt|Ze<<At]=At&15|Oe<<4;return Se}var $e=q?new Uint16Array(512):zt(512),qe=q?new Uint16Array(32):zt(32);if(!q){for(var ct=0;ct<512;++ct)$e[ct]=0;for(ct=0;ct<32;++ct)qe[ct]=0}(function(){for(var pe=[],Me=0;Me<32;Me++)pe.push(5);st(pe,qe,32);var we=[];for(Me=0;Me<=143;Me++)we.push(8);for(;Me<=255;Me++)we.push(9);for(;Me<=279;Me++)we.push(7);for(;Me<=287;Me++)we.push(8);st(we,$e,288)})();var dt=(function(){for(var Me=q?new Uint8Array(32768):[],we=0,Se=0;we<re.length-1;++we)for(;Se<re[we+1];++Se)Me[Se]=we;for(;Se<32768;++Se)Me[Se]=29;var _e=q?new Uint8Array(259):[];for(we=0,Se=0;we<ne.length-1;++we)for(;Se<ne[we+1];++Se)_e[Se]=we;function Oe(pt,Xe){for(var tt=0;tt<pt.length;){var nt=Math.min(65535,pt.length-tt),At=tt+nt==pt.length;for(Xe.write_shift(1,+At),Xe.write_shift(2,nt),Xe.write_shift(2,~nt&65535);nt-- >0;)Xe[Xe.l++]=pt[tt++]}return Xe.l}function Ze(pt,Xe){for(var tt=0,nt=0,At=q?new Uint16Array(32768):[];nt<pt.length;){var Ft=Math.min(65535,pt.length-nt);if(Ft<10){for(tt=ae(Xe,tt,+(nt+Ft==pt.length)),tt&7&&(tt+=8-(tt&7)),Xe.l=tt/8|0,Xe.write_shift(2,Ft),Xe.write_shift(2,~Ft&65535);Ft-- >0;)Xe[Xe.l++]=pt[nt++];tt=Xe.l*8;continue}tt=ae(Xe,tt,+(nt+Ft==pt.length)+2);for(var Qt=0;Ft-- >0;){var ke=pt[nt];Qt=(Qt<<5^ke)&32767;var Ge=-1,qt=0;if((Ge=At[Qt])&&(Ge|=nt&-32768,Ge>nt&&(Ge-=32768),Ge<nt))for(;pt[Ge+qt]==pt[nt+qt]&&qt<250;)++qt;if(qt>2){ke=_e[qt],ke<=22?tt=Ce(Xe,tt,ie[ke+1]>>1)-1:(Ce(Xe,tt,3),tt+=5,Ce(Xe,tt,ie[ke-23]>>5),tt+=3);var xa=ke<8?0:ke-4>>2;xa>0&&(at(Xe,tt,qt-ne[ke]),tt+=xa),ke=Me[nt-Ge],tt=Ce(Xe,tt,ie[ke]>>3),tt-=3;var wa=ke<4?0:ke-2>>1;wa>0&&(at(Xe,tt,nt-Ge-re[ke]),tt+=wa);for(var Wa=0;Wa<qt;++Wa)At[Qt]=nt&32767,Qt=(Qt<<5^pt[nt])&32767,++nt;Ft-=qt-1}else ke<=143?ke=ke+48:tt=De(Xe,tt,1),tt=Ce(Xe,tt,ie[ke]),At[Qt]=nt&32767,++nt}tt=Ce(Xe,tt,0)-1}return Xe.l=(tt+7)/8|0,Xe.l}return function(Xe,tt){return Xe.length<8?Oe(Xe,tt):Ze(Xe,tt)}})();function Nt(pe){var Me=kt(50+Math.floor(pe.length*1.1)),we=dt(pe,Me);return Me.slice(0,we)}var Ct=q?new Uint16Array(32768):zt(32768),Lt=q?new Uint16Array(32768):zt(32768),Ht=q?new Uint16Array(128):zt(128),Vt=1,Ne=1;function Mt(pe,Me){var we=Fe(pe,Me)+257;Me+=5;var Se=Fe(pe,Me)+1;Me+=5;var _e=ue(pe,Me)+4;Me+=4;for(var Oe=0,Ze=q?new Uint8Array(19):zt(19),pt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Xe=1,tt=q?new Uint8Array(8):zt(8),nt=q?new Uint8Array(8):zt(8),At=Ze.length,Ft=0;Ft<_e;++Ft)Ze[Q[Ft]]=Oe=he(pe,Me),Xe<Oe&&(Xe=Oe),tt[Oe]++,Me+=3;var Qt=0;for(tt[0]=0,Ft=1;Ft<=Xe;++Ft)nt[Ft]=Qt=Qt+tt[Ft-1]<<1;for(Ft=0;Ft<At;++Ft)(Qt=Ze[Ft])!=0&&(pt[Ft]=nt[Qt]++);var ke=0;for(Ft=0;Ft<At;++Ft)if(ke=Ze[Ft],ke!=0){Qt=ie[pt[Ft]]>>8-ke;for(var Ge=(1<<7-ke)-1;Ge>=0;--Ge)Ht[Qt|Ge<<ke]=ke&7|Ft<<3}var qt=[];for(Xe=1;qt.length<we+Se;)switch(Qt=Ht[Ue(pe,Me)],Me+=Qt&7,Qt>>>=3){case 16:for(Oe=3+ce(pe,Me),Me+=2,Qt=qt[qt.length-1];Oe-- >0;)qt.push(Qt);break;case 17:for(Oe=3+he(pe,Me),Me+=3;Oe-- >0;)qt.push(0);break;case 18:for(Oe=11+Ue(pe,Me),Me+=7;Oe-- >0;)qt.push(0);break;default:qt.push(Qt),Xe<Qt&&(Xe=Qt);break}var xa=qt.slice(0,we),wa=qt.slice(we);for(Ft=we;Ft<286;++Ft)xa[Ft]=0;for(Ft=Se;Ft<30;++Ft)wa[Ft]=0;return Vt=st(xa,Ct,286),Ne=st(wa,Lt,30),Me}function Ee(pe,Me){if(pe[0]==3&&!(pe[1]&3))return[Df(Me),2];for(var we=0,Se=0,_e=WM(Me||1<<18),Oe=0,Ze=_e.length>>>0,pt=0,Xe=0;(Se&1)==0;){if(Se=he(pe,we),we+=3,Se>>>1)Se>>1==1?(pt=9,Xe=5):(we=Mt(pe,we),pt=Vt,Xe=Ne);else{we&7&&(we+=8-(we&7));var tt=pe[we>>>3]|pe[(we>>>3)+1]<<8;if(we+=32,tt>0)for(!Me&&Ze<Oe+tt&&(_e=ft(_e,Oe+tt),Ze=_e.length);tt-- >0;)_e[Oe++]=pe[we>>>3],we+=8;continue}for(;;){!Me&&Ze<Oe+32767&&(_e=ft(_e,Oe+32767),Ze=_e.length);var nt=Te(pe,we,pt),At=Se>>>1==1?$e[nt]:Ct[nt];if(we+=At&15,At>>>=4,(At>>>8&255)===0)_e[Oe++]=At;else{if(At==256)break;At-=257;var Ft=At<8?0:At-4>>2;Ft>5&&(Ft=0);var Qt=Oe+ne[At];Ft>0&&(Qt+=Te(pe,we,Ft),we+=Ft),nt=Te(pe,we,Xe),At=Se>>>1==1?qe[nt]:Lt[nt],we+=At&15,At>>>=4;var ke=At<4?0:At-2>>1,Ge=re[At];for(ke>0&&(Ge+=Te(pe,we,ke),we+=ke),!Me&&Ze<Qt&&(_e=ft(_e,Qt+100),Ze=_e.length);Oe<Qt;)_e[Oe]=_e[Oe-Ge],++Oe}}}return Me?[_e,we+7>>>3]:[_e.slice(0,Oe),we+7>>>3]}function ze(pe,Me){var we=pe.slice(pe.l||0),Se=Ee(we,Me);return pe.l+=Se[1],Se[0]}function We(pe,Me){if(pe)typeof console<"u"&&console.error(Me);else throw new Error(Me)}function xt(pe,Me){var we=pe;Ui(we,0);var Se=[],_e=[],Oe={FileIndex:Se,FullPaths:_e};D(Oe,{root:Me.root});for(var Ze=we.length-4;(we[Ze]!=80||we[Ze+1]!=75||we[Ze+2]!=5||we[Ze+3]!=6)&&Ze>=0;)--Ze;we.l=Ze+4,we.l+=4;var pt=we.read_shift(2);we.l+=6;var Xe=we.read_shift(4);for(we.l=Xe,Ze=0;Ze<pt;++Ze){we.l+=20;var tt=we.read_shift(4),nt=we.read_shift(4),At=we.read_shift(2),Ft=we.read_shift(2),Qt=we.read_shift(2);we.l+=8;var ke=we.read_shift(4),Ge=o(we.slice(we.l+At,we.l+At+Ft));we.l+=At+Ft+Qt;var qt=we.l;we.l=ke+4,gt(we,tt,nt,Oe,Ge),we.l=qt}return Oe}function gt(pe,Me,we,Se,_e){pe.l+=2;var Oe=pe.read_shift(2),Ze=pe.read_shift(2),pt=l(pe);if(Oe&8257)throw new Error("Unsupported ZIP encryption");for(var Xe=pe.read_shift(4),tt=pe.read_shift(4),nt=pe.read_shift(4),At=pe.read_shift(2),Ft=pe.read_shift(2),Qt="",ke=0;ke<At;++ke)Qt+=String.fromCharCode(pe[pe.l++]);if(Ft){var Ge=o(pe.slice(pe.l,pe.l+Ft));(Ge[21589]||{}).mt&&(pt=Ge[21589].mt),((_e||{})[21589]||{}).mt&&(pt=_e[21589].mt)}pe.l+=Ft;var qt=pe.slice(pe.l,pe.l+tt);switch(Ze){case 8:qt=X(pe,nt);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ze)}var xa=!1;Oe&8&&(Xe=pe.read_shift(4),Xe==134695760&&(Xe=pe.read_shift(4),xa=!0),tt=pe.read_shift(4),nt=pe.read_shift(4)),tt!=Me&&We(xa,"Bad compressed size: "+Me+" != "+tt),nt!=we&&We(xa,"Bad uncompressed size: "+we+" != "+nt),Ka(Se,Qt,qt,{unsafe:!0,mt:pt})}function sa(pe,Me){var we=Me||{},Se=[],_e=[],Oe=kt(1),Ze=we.compression?8:0,pt=0,Xe=0,tt=0,nt=0,At=0,Ft=pe.FullPaths[0],Qt=Ft,ke=pe.FileIndex[0],Ge=[],qt=0;for(Xe=1;Xe<pe.FullPaths.length;++Xe)if(Qt=pe.FullPaths[Xe].slice(Ft.length),ke=pe.FileIndex[Xe],!(!ke.size||!ke.content||Qt=="Sh33tJ5")){var xa=nt,wa=kt(Qt.length);for(tt=0;tt<Qt.length;++tt)wa.write_shift(1,Qt.charCodeAt(tt)&127);wa=wa.slice(0,wa.l),Ge[At]=Hde.buf(ke.content,0);var Wa=ke.content;Ze==8&&(Wa=z(Wa)),Oe=kt(30),Oe.write_shift(4,67324752),Oe.write_shift(2,20),Oe.write_shift(2,pt),Oe.write_shift(2,Ze),ke.mt?i(Oe,ke.mt):Oe.write_shift(4,0),Oe.write_shift(-4,Ge[At]),Oe.write_shift(4,Wa.length),Oe.write_shift(4,ke.content.length),Oe.write_shift(2,wa.length),Oe.write_shift(2,0),nt+=Oe.length,Se.push(Oe),nt+=wa.length,Se.push(wa),nt+=Wa.length,Se.push(Wa),Oe=kt(46),Oe.write_shift(4,33639248),Oe.write_shift(2,0),Oe.write_shift(2,20),Oe.write_shift(2,pt),Oe.write_shift(2,Ze),Oe.write_shift(4,0),Oe.write_shift(-4,Ge[At]),Oe.write_shift(4,Wa.length),Oe.write_shift(4,ke.content.length),Oe.write_shift(2,wa.length),Oe.write_shift(2,0),Oe.write_shift(2,0),Oe.write_shift(2,0),Oe.write_shift(2,0),Oe.write_shift(4,0),Oe.write_shift(4,xa),qt+=Oe.l,_e.push(Oe),qt+=wa.length,_e.push(wa),++At}return Oe=kt(22),Oe.write_shift(4,101010256),Oe.write_shift(2,0),Oe.write_shift(2,0),Oe.write_shift(2,At),Oe.write_shift(2,At),Oe.write_shift(4,qt),Oe.write_shift(4,nt),Oe.write_shift(2,0),wi([wi(Se),wi(_e),Oe])}var Zt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function ka(pe,Me){if(pe.ctype)return pe.ctype;var we=pe.name||"",Se=we.match(/\.([^\.]+)$/);return Se&&Zt[Se[1]]||Me&&(Se=(we=Me).match(/[\.\\]([^\.\\])+$/),Se&&Zt[Se[1]])?Zt[Se[1]]:"application/octet-stream"}function ut(pe){for(var Me=G1(pe),we=[],Se=0;Se<Me.length;Se+=76)we.push(Me.slice(Se,Se+76));return we.join(`\r
`)+`\r
`}function ta(pe){var Me=pe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(tt){var nt=tt.charCodeAt(0).toString(16).toUpperCase();return"="+(nt.length==1?"0"+nt:nt)});Me=Me.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Me.charAt(0)==`
`&&(Me="=0D"+Me.slice(1)),Me=Me.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var we=[],Se=Me.split(`\r
`),_e=0;_e<Se.length;++_e){var Oe=Se[_e];if(Oe.length==0){we.push("");continue}for(var Ze=0;Ze<Oe.length;){var pt=76,Xe=Oe.slice(Ze,Ze+pt);Xe.charAt(pt-1)=="="?pt--:Xe.charAt(pt-2)=="="?pt-=2:Xe.charAt(pt-3)=="="&&(pt-=3),Xe=Oe.slice(Ze,Ze+pt),Ze+=pt,Ze<Oe.length&&(Xe+="="),we.push(Xe)}}return we.join(`\r
`)}function va(pe){for(var Me=[],we=0;we<pe.length;++we){for(var Se=pe[we];we<=pe.length&&Se.charAt(Se.length-1)=="=";)Se=Se.slice(0,Se.length-1)+pe[++we];Me.push(Se)}for(var _e=0;_e<Me.length;++_e)Me[_e]=Me[_e].replace(/[=][0-9A-Fa-f]{2}/g,function(Oe){return String.fromCharCode(parseInt(Oe.slice(1),16))});return Eo(Me.join(`\r
`))}function pa(pe,Me,we){for(var Se="",_e="",Oe="",Ze,pt=0;pt<10;++pt){var Xe=Me[pt];if(!Xe||Xe.match(/^\s*$/))break;var tt=Xe.match(/^(.*?):\s*([^\s].*)$/);if(tt)switch(tt[1].toLowerCase()){case"content-location":Se=tt[2].trim();break;case"content-type":Oe=tt[2].trim();break;case"content-transfer-encoding":_e=tt[2].trim();break}}switch(++pt,_e.toLowerCase()){case"base64":Ze=Eo(Oo(Me.slice(pt).join("")));break;case"quoted-printable":Ze=va(Me.slice(pt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+_e)}var nt=Ka(pe,Se.slice(we.length),Ze,{unsafe:!0});Oe&&(nt.ctype=Oe)}function Ae(pe,Me){if(ee(pe.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var we=Me&&Me.root||"",Se=(nr&&Buffer.isBuffer(pe)?pe.toString("binary"):ee(pe)).split(`\r
`),_e=0,Oe="";for(_e=0;_e<Se.length;++_e)if(Oe=Se[_e],!!/^Content-Location:/i.test(Oe)&&(Oe=Oe.slice(Oe.indexOf("file")),we||(we=Oe.slice(0,Oe.lastIndexOf("/")+1)),Oe.slice(0,we.length)!=we))for(;we.length>0&&(we=we.slice(0,we.length-1),we=we.slice(0,we.lastIndexOf("/")+1),Oe.slice(0,we.length)!=we););var Ze=(Se[1]||"").match(/boundary="(.*?)"/);if(!Ze)throw new Error("MAD cannot find boundary");var pt="--"+(Ze[1]||""),Xe=[],tt=[],nt={FileIndex:Xe,FullPaths:tt};D(nt);var At,Ft=0;for(_e=0;_e<Se.length;++_e){var Qt=Se[_e];Qt!==pt&&Qt!==pt+"--"||(Ft++&&pa(nt,Se.slice(At,_e),we),At=_e)}return nt}function na(pe,Me){var we=Me||{},Se=we.boundary||"SheetJS";Se="------="+Se;for(var _e=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Se.slice(2)+'"',"","",""],Oe=pe.FullPaths[0],Ze=Oe,pt=pe.FileIndex[0],Xe=1;Xe<pe.FullPaths.length;++Xe)if(Ze=pe.FullPaths[Xe].slice(Oe.length),pt=pe.FileIndex[Xe],!(!pt.size||!pt.content||Ze=="Sh33tJ5")){Ze=Ze.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(qt){return"_x"+qt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(qt){return"_u"+qt.charCodeAt(0).toString(16)+"_"});for(var tt=pt.content,nt=nr&&Buffer.isBuffer(tt)?tt.toString("binary"):ee(tt),At=0,Ft=Math.min(1024,nt.length),Qt=0,ke=0;ke<=Ft;++ke)(Qt=nt.charCodeAt(ke))>=32&&Qt<128&&++At;var Ge=At>=Ft*4/5;_e.push(Se),_e.push("Content-Location: "+(we.root||"file:///C:/SheetJS/")+Ze),_e.push("Content-Transfer-Encoding: "+(Ge?"quoted-printable":"base64")),_e.push("Content-Type: "+ka(pt,Ze)),_e.push(""),_e.push(Ge?ta(nt):ut(nt))}return _e.push(Se+`--\r
`),_e.join(`\r
`)}function Za(pe){var Me={};return D(Me,pe),Me}function Ka(pe,Me,we,Se){var _e=Se&&Se.unsafe;_e||D(pe);var Oe=!_e&&Na.find(pe,Me);if(!Oe){var Ze=pe.FullPaths[0];Me.slice(0,Ze.length)==Ze?Ze=Me:(Ze.slice(-1)!="/"&&(Ze+="/"),Ze=(Ze+Me).replace("//","/")),Oe={name:n(Me),type:2},pe.FileIndex.push(Oe),pe.FullPaths.push(Ze),_e||Na.utils.cfb_gc(pe)}return Oe.content=we,Oe.size=we?we.length:0,Se&&(Se.CLSID&&(Oe.clsid=Se.CLSID),Se.mt&&(Oe.mt=Se.mt),Se.ct&&(Oe.ct=Se.ct)),Oe}function rr(pe,Me){D(pe);var we=Na.find(pe,Me);if(we){for(var Se=0;Se<pe.FileIndex.length;++Se)if(pe.FileIndex[Se]==we)return pe.FileIndex.splice(Se,1),pe.FullPaths.splice(Se,1),!0}return!1}function $a(pe,Me,we){D(pe);var Se=Na.find(pe,Me);if(Se){for(var _e=0;_e<pe.FileIndex.length;++_e)if(pe.FileIndex[_e]==Se)return pe.FileIndex[_e].name=n(we),pe.FullPaths[_e]=we,!0}return!1}function Ua(pe){I(pe,!0)}return t.find=O,t.read=_,t.parse=u,t.write=W,t.writeFile=J,t.utils={cfb_new:Za,cfb_add:Ka,cfb_del:rr,cfb_mov:$a,cfb_gc:Ua,ReadShift:f1,CheckField:lH,prep_blob:Ui,bconcat:wi,use_zlib:M,_deflateRaw:Nt,_inflateRaw:ze,consts:Z},t})();function Vde(e){return typeof e=="string"?Hj(e):Array.isArray(e)?xde(e):e}function Uv(e,t,a){if(typeof Deno<"u"){if(a&&typeof t=="string")switch(a){case"utf8":t=new TextEncoder(a).encode(t);break;case"binary":t=Hj(t);break;default:throw new Error("Unsupported encoding "+a)}return Deno.writeFileSync(e,t)}var s=a=="utf8"?Yd(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(s,e);if(typeof Blob<"u"){var n=new Blob([Vde(s)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(n,e);if(typeof saveAs<"u")return saveAs(n,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(n);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=e,l.href=i,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=Hf(t)),o.write(t),o.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function Wde(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var a=t.read();return t.close(),a}catch(s){if(!s.message||!s.message.match(/onstruct/))throw s}throw new Error("Cannot access file "+e)}function tn(e){for(var t=Object.keys(e),a=[],s=0;s<t.length;++s)Object.prototype.hasOwnProperty.call(e,t[s])&&a.push(t[s]);return a}function ZM(e,t){for(var a=[],s=tn(e),n=0;n!==s.length;++n)a[e[s[n]][t]]==null&&(a[e[s[n]][t]]=s[n]);return a}function Wj(e){for(var t=[],a=tn(e),s=0;s!==a.length;++s)t[e[a[s]]]=a[s];return t}function qj(e){for(var t=[],a=tn(e),s=0;s!==a.length;++s)t[e[a[s]]]=parseInt(a[s],10);return t}function qde(e){for(var t=[],a=tn(e),s=0;s!==a.length;++s)t[e[a[s]]]==null&&(t[e[a[s]]]=[]),t[e[a[s]]].push(a[s]);return t}var lw=new Date(1899,11,30,0,0,0);function ei(e,t){var a=e.getTime(),s=lw.getTime()+(e.getTimezoneOffset()-lw.getTimezoneOffset())*6e4;return(a-s)/(1440*60*1e3)}var $z=new Date,Gde=lw.getTime()+($z.getTimezoneOffset()-lw.getTimezoneOffset())*6e4,eP=$z.getTimezoneOffset();function Gj(e){var t=new Date;return t.setTime(e*24*60*60*1e3+Gde),t.getTimezoneOffset()!==eP&&t.setTime(t.getTime()+(t.getTimezoneOffset()-eP)*6e4),t}function Kde(e){var t=0,a=0,s=!1,n=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!n)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=n.length;++i)if(n[i]){switch(a=1,i>3&&(s=!0),n[i].slice(n[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+n[i].slice(n[i].length-1));case"D":a*=24;case"H":a*=60;case"M":if(s)a*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=a*parseInt(n[i],10)}return t}var tP=new Date("2017-02-19T19:06:09.000Z"),Uz=isNaN(tP.getFullYear())?new Date("2/19/17"):tP,Yde=Uz.getFullYear()==2017;function ps(e,t){var a=new Date(e);if(Yde)return t>0?a.setTime(a.getTime()+a.getTimezoneOffset()*60*1e3):t<0&&a.setTime(a.getTime()-a.getTimezoneOffset()*60*1e3),a;if(e instanceof Date)return e;if(Uz.getFullYear()==1917&&!isNaN(a.getFullYear())){var s=a.getFullYear();return e.indexOf(""+s)>-1||a.setFullYear(a.getFullYear()+100),a}var n=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+n[0],+n[1]-1,+n[2],+n[3]||0,+n[4]||0,+n[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function hm(e,t){if(nr&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Yd(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Yd(_z(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Yd(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Yd(new TextDecoder("utf-16be").decode(e.slice(2)))}var a={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return a[i]||i})}catch{}for(var s=[],n=0;n!=e.length;++n)s.push(String.fromCharCode(e[n]));return s.join("")}function xs(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=xs(e[a]));return t}function Qs(e,t){for(var a="";a.length<t;)a+=e;return a}function od(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var a=1,s=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return a*=100,""});return!isNaN(t=Number(s))||(s=s.replace(/[(](.*)[)]/,function(n,i){return a=-a,i}),!isNaN(t=Number(s)))?t/a:t}var Xde=["january","february","march","april","may","june","july","august","september","october","november","december"];function ix(e){var t=new Date(e),a=new Date(NaN),s=t.getYear(),n=t.getMonth(),i=t.getDate();if(isNaN(i))return a;var l=e.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&Xde.indexOf(l)==-1)return a}else if(l.match(/[a-z]/))return a;return s<0||s>8099?a:(n>0||i>1)&&s!=101?t:e.match(/[^-0-9:,\/\\]/)?a:t}var Jde=(function(){var e="abacaba".split(/(:?b)/i).length==5;return function(a,s,n){if(e||typeof s=="string")return a.split(s);for(var i=a.split(s),l=[i[0]],o=1;o<i.length;++o)l.push(n),l.push(i[o]);return l}})();function zz(e){return e?e.content&&e.type?hm(e.content,!0):e.data?r1(e.data):e.asNodeBuffer&&nr?r1(e.asNodeBuffer().toString("binary")):e.asBinary?r1(e.asBinary()):e._data&&e._data.getContent?r1(hm(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function Hz(e){if(!e)return null;if(e.data)return HM(e.data);if(e.asNodeBuffer&&nr)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?HM(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function Qde(e){return e&&e.name.slice(-4)===".bin"?Hz(e):zz(e)}function hc(e,t){for(var a=e.FullPaths||tn(e.files),s=t.toLowerCase().replace(/[\/]/g,"\\"),n=s.replace(/\\/g,"/"),i=0;i<a.length;++i){var l=a[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(s==l||n==l)return e.files?e.files[a[i]]:e.FileIndex[i]}return null}function jA(e,t){var a=hc(e,t);if(a==null)throw new Error("Cannot find file "+t+" in zip");return a}function Ln(e,t,a){if(!a)return Qde(jA(e,t));if(!t)return null;try{return Ln(e,t)}catch{return null}}function Do(e,t,a){if(!a)return zz(jA(e,t));if(!t)return null;try{return Do(e,t)}catch{return null}}function Zde(e,t,a){return Hz(jA(e,t))}function aP(e){for(var t=e.FullPaths||tn(e.files),a=[],s=0;s<t.length;++s)t[s].slice(-1)!="/"&&a.push(t[s].replace(/^Root Entry[\/]/,""));return a.sort()}function ar(e,t,a){if(e.FullPaths){if(typeof a=="string"){var s;return nr?s=yh(a):s=gde(a),Na.utils.cfb_add(e,t,s)}Na.utils.cfb_add(e,t,a)}else e.file(t,a)}function NA(){return Na.utils.cfb_new()}function Vz(e,t){switch(t.type){case"base64":return Na.read(e,{type:"base64"});case"binary":return Na.read(e,{type:"binary"});case"buffer":case"array":return Na.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function n1(e,t){if(e.charAt(0)=="/")return e.slice(1);var a=t.split("/");t.slice(-1)!="/"&&a.pop();for(var s=e.split("/");s.length!==0;){var n=s.shift();n===".."?a.pop():n!=="."&&a.push(n)}return a.join("/")}var _n=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,eue=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,rP=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,tue=/<[^>]*>/g,gl=_n.match(rP)?rP:tue,aue=/<\w*:/,rue=/<(\/?)\w+:/;function Ra(e,t,a){for(var s={},n=0,i=0;n!==e.length&&!((i=e.charCodeAt(n))===32||i===10||i===13);++n);if(t||(s[0]=e.slice(0,n)),n===e.length)return s;var l=e.match(eue),o=0,c="",d=0,u="",f="",x=1;if(l)for(d=0;d!=l.length;++d){for(f=l[d],i=0;i!=f.length&&f.charCodeAt(i)!==61;++i);for(u=f.slice(0,i).trim();f.charCodeAt(i+1)==32;)++i;for(x=(n=f.charCodeAt(i+1))==34||n==39?1:0,c=f.slice(i+1+x,f.length-x),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),s[u]=c,s[u.toLowerCase()]=c;else{var m=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(s[m]&&u.slice(o-3,o)=="ext")continue;s[m]=c,s[m.toLowerCase()]=c}}return s}function iu(e){return e.replace(rue,"<$1")}var Wz={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},SA=Wj(Wz),kr=(function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function a(s){var n=s+"",i=n.indexOf("<![CDATA[");if(i==-1)return n.replace(e,function(o,c){return Wz[o]||String.fromCharCode(parseInt(c,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,c){return String.fromCharCode(parseInt(c,16))});var l=n.indexOf("]]>");return a(n.slice(0,i))+n.slice(i+9,l)+a(n.slice(l+3))}})(),kA=/[&<>'"]/g,sue=/[\u0000-\u0008\u000b-\u001f]/g;function Wr(e){var t=e+"";return t.replace(kA,function(a){return SA[a]}).replace(sue,function(a){return"_x"+("000"+a.charCodeAt(0).toString(16)).slice(-4)+"_"})}function sP(e){return Wr(e).replace(/ /g,"_x0020_")}var qz=/[\u0000-\u001f]/g;function CA(e){var t=e+"";return t.replace(kA,function(a){return SA[a]}).replace(/\n/g,"<br/>").replace(qz,function(a){return"&#x"+("000"+a.charCodeAt(0).toString(16)).slice(-4)+";"})}function nue(e){var t=e+"";return t.replace(kA,function(a){return SA[a]}).replace(qz,function(a){return"&#x"+a.charCodeAt(0).toString(16).toUpperCase()+";"})}var nP=(function(){var e=/&#(\d+);/g;function t(a,s){return String.fromCharCode(parseInt(s,10))}return function(s){return s.replace(e,t)}})();function iue(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function hs(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function _5(e){for(var t="",a=0,s=0,n=0,i=0,l=0,o=0;a<e.length;){if(s=e.charCodeAt(a++),s<128){t+=String.fromCharCode(s);continue}if(n=e.charCodeAt(a++),s>191&&s<224){l=(s&31)<<6,l|=n&63,t+=String.fromCharCode(l);continue}if(i=e.charCodeAt(a++),s<240){t+=String.fromCharCode((s&15)<<12|(n&63)<<6|i&63);continue}l=e.charCodeAt(a++),o=((s&7)<<18|(n&63)<<12|(i&63)<<6|l&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function iP(e){var t=Df(2*e.length),a,s,n=1,i=0,l=0,o;for(s=0;s<e.length;s+=n)n=1,(o=e.charCodeAt(s))<128?a=o:o<224?(a=(o&31)*64+(e.charCodeAt(s+1)&63),n=2):o<240?(a=(o&15)*4096+(e.charCodeAt(s+1)&63)*64+(e.charCodeAt(s+2)&63),n=3):(n=4,a=(o&7)*262144+(e.charCodeAt(s+1)&63)*4096+(e.charCodeAt(s+2)&63)*64+(e.charCodeAt(s+3)&63),a-=65536,l=55296+(a>>>10&1023),a=56320+(a&1023)),l!==0&&(t[i++]=l&255,t[i++]=l>>>8,l=0),t[i++]=a%256,t[i++]=a>>>8;return t.slice(0,i).toString("ucs2")}function lP(e){return yh(e,"binary").toString("utf8")}var Ry="foo bar baz",Jr=nr&&(lP(Ry)==_5(Ry)&&lP||iP(Ry)==_5(Ry)&&iP)||_5,Yd=nr?function(e){return yh(e,"utf8").toString("binary")}:function(e){for(var t=[],a=0,s=0,n=0;a<e.length;)switch(s=e.charCodeAt(a++),!0){case s<128:t.push(String.fromCharCode(s));break;case s<2048:t.push(String.fromCharCode(192+(s>>6))),t.push(String.fromCharCode(128+(s&63)));break;case(s>=55296&&s<57344):s-=55296,n=e.charCodeAt(a++)-56320+(s<<10),t.push(String.fromCharCode(240+(n>>18&7))),t.push(String.fromCharCode(144+(n>>12&63))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)));break;default:t.push(String.fromCharCode(224+(s>>12))),t.push(String.fromCharCode(128+(s>>6&63))),t.push(String.fromCharCode(128+(s&63)))}return t.join("")},Y1=(function(){var e={};return function(a,s){var n=a+"|"+(s||"");return e[n]?e[n]:e[n]=new RegExp("<(?:\\w+:)?"+a+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+a+">",s||"")}})(),Gz=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(a){for(var s=a.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),n=0;n<e.length;++n)s=s.replace(e[n][0],e[n][1]);return s}})(),lue=(function(){var e={};return function(a){return e[a]!==void 0?e[a]:e[a]=new RegExp("<(?:vt:)?"+a+">([\\s\\S]*?)</(?:vt:)?"+a+">","g")}})(),oue=/<\/?(?:vt:)?variant>/g,cue=/<(?:vt:)([^>]*)>([\s\S]*)</;function oP(e,t){var a=Ra(e),s=e.match(lue(a.baseType))||[],n=[];if(s.length!=a.size){if(t.WTF)throw new Error("unexpected vector length "+s.length+" != "+a.size);return n}return s.forEach(function(i){var l=i.replace(oue,"").match(cue);l&&n.push({v:Jr(l[2]),t:l[1]})}),n}var Kz=/(^\s|\s$|\n)/;function zi(e,t){return"<"+e+(t.match(Kz)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function X1(e){return tn(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Gt(e,t,a){return"<"+e+(a!=null?X1(a):"")+(t!=null?(t.match(Kz)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function Wk(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(a){if(t)throw a}return""}function due(e,t){switch(typeof e){case"string":var a=Gt("vt:lpwstr",Wr(e));return a=a.replace(/&quot;/g,"_x0022_"),a;case"number":return Gt((e|0)==e?"vt:i4":"vt:r8",Wr(String(e)));case"boolean":return Gt("vt:bool",e?"true":"false")}if(e instanceof Date)return Gt("vt:filetime",Wk(e));throw new Error("Unable to serialize "+e)}function AA(e){if(nr&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Jr(Hf(bA(e)));throw new Error("Bad input format: expected Buffer or string")}var J1=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Jn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Dm=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Ao={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function uue(e,t){for(var a=1-2*(e[t+7]>>>7),s=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),n=e[t+6]&15,i=5;i>=0;--i)n=n*256+e[t+i];return s==2047?n==0?a*(1/0):NaN:(s==0?s=-1022:(s-=1023,n+=Math.pow(2,52)),a*Math.pow(2,s-52)*n)}function hue(e,t,a){var s=(t<0||1/t==-1/0?1:0)<<7,n=0,i=0,l=s?-t:t;isFinite(l)?l==0?n=i=0:(n=Math.floor(Math.log(l)/Math.LN2),i=l*Math.pow(2,52-n),n<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?n=-1022:(i-=Math.pow(2,52),n+=1023)):(n=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[a+o]=i&255;e[a+6]=(n&15)<<4|i&15,e[a+7]=n>>4|s}var cP=function(e){for(var t=[],a=10240,s=0;s<e[0].length;++s)if(e[0][s])for(var n=0,i=e[0][s].length;n<i;n+=a)t.push.apply(t,e[0][s].slice(n,n+a));return t},dP=nr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:yh(t)})):cP(e)}:cP,uP=function(e,t,a){for(var s=[],n=t;n<a;n+=2)s.push(String.fromCharCode(Ku(e,n)));return s.join("").replace(Pl,"")},_A=nr?function(e,t,a){return Buffer.isBuffer(e)?e.toString("utf16le",t,a).replace(Pl,""):uP(e,t,a)}:uP,hP=function(e,t,a){for(var s=[],n=t;n<t+a;++n)s.push(("0"+e[n].toString(16)).slice(-2));return s.join("")},Yz=nr?function(e,t,a){return Buffer.isBuffer(e)?e.toString("hex",t,t+a):hP(e,t,a)}:hP,fP=function(e,t,a){for(var s=[],n=t;n<a;n++)s.push(String.fromCharCode(Op(e,n)));return s.join("")},zv=nr?function(t,a,s){return Buffer.isBuffer(t)?t.toString("utf8",a,s):fP(t,a,s)}:fP,Xz=function(e,t){var a=_o(e,t);return a>0?zv(e,t+4,t+4+a-1):""},Jz=Xz,Qz=function(e,t){var a=_o(e,t);return a>0?zv(e,t+4,t+4+a-1):""},Zz=Qz,eH=function(e,t){var a=2*_o(e,t);return a>0?zv(e,t+4,t+4+a-1):""},tH=eH,aH=function(t,a){var s=_o(t,a);return s>0?_A(t,a+4,a+4+s):""},rH=aH,sH=function(e,t){var a=_o(e,t);return a>0?zv(e,t+4,t+4+a):""},nH=sH,iH=function(e,t){return uue(e,t)},ow=iH,TA=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};nr&&(Jz=function(t,a){if(!Buffer.isBuffer(t))return Xz(t,a);var s=t.readUInt32LE(a);return s>0?t.toString("utf8",a+4,a+4+s-1):""},Zz=function(t,a){if(!Buffer.isBuffer(t))return Qz(t,a);var s=t.readUInt32LE(a);return s>0?t.toString("utf8",a+4,a+4+s-1):""},tH=function(t,a){if(!Buffer.isBuffer(t))return eH(t,a);var s=2*t.readUInt32LE(a);return t.toString("utf16le",a+4,a+4+s-1)},rH=function(t,a){if(!Buffer.isBuffer(t))return aH(t,a);var s=t.readUInt32LE(a);return t.toString("utf16le",a+4,a+4+s)},nH=function(t,a){if(!Buffer.isBuffer(t))return sH(t,a);var s=t.readUInt32LE(a);return t.toString("utf8",a+4,a+4+s)},ow=function(t,a){return Buffer.isBuffer(t)?t.readDoubleLE(a):iH(t,a)},TA=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Op=function(e,t){return e[t]},Ku=function(e,t){return e[t+1]*256+e[t]},fue=function(e,t){var a=e[t+1]*256+e[t];return a<32768?a:(65535-a+1)*-1},_o=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},O0=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},mue=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function f1(e,t){var a="",s,n,i=[],l,o,c,d;switch(t){case"dbcs":if(d=this.l,nr&&Buffer.isBuffer(this))a=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)a+=String.fromCharCode(Ku(this,d)),d+=2;e*=2;break;case"utf8":a=zv(this,this.l,this.l+e);break;case"utf16le":e*=2,a=_A(this,this.l,this.l+e);break;case"wstr":return f1.call(this,e,"dbcs");case"lpstr-ansi":a=Jz(this,this.l),e=4+_o(this,this.l);break;case"lpstr-cp":a=Zz(this,this.l),e=4+_o(this,this.l);break;case"lpwstr":a=tH(this,this.l),e=4+2*_o(this,this.l);break;case"lpp4":e=4+_o(this,this.l),a=rH(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+_o(this,this.l),a=nH(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,a="";(l=Op(this,this.l+e++))!==0;)i.push(Oy(l));a=i.join("");break;case"_wstr":for(e=0,a="";(l=Ku(this,this.l+e))!==0;)i.push(Oy(l)),e+=2;e+=2,a=i.join("");break;case"dbcs-cont":for(a="",d=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return l=Op(this,d),this.l=d+1,o=f1.call(this,e-c,l?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(Oy(Ku(this,d))),d+=2}a=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(a="",d=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return l=Op(this,d),this.l=d+1,o=f1.call(this,e-c,l?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(Oy(Op(this,d))),d+=1}a=i.join("");break;default:switch(e){case 1:return s=Op(this,this.l),this.l++,s;case 2:return s=(t==="i"?fue:Ku)(this,this.l),this.l+=2,s;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(s=(e>0?O0:mue)(this,this.l),this.l+=4,s):(n=_o(this,this.l),this.l+=4,n);case 8:case-8:if(t==="f")return e==8?n=ow(this,this.l):n=ow([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,n;e=8;case 16:a=Yz(this,this.l,e);break}}return this.l+=e,a}var pue=function(e,t,a){e[a]=t&255,e[a+1]=t>>>8&255,e[a+2]=t>>>16&255,e[a+3]=t>>>24&255},xue=function(e,t,a){e[a]=t&255,e[a+1]=t>>8&255,e[a+2]=t>>16&255,e[a+3]=t>>24&255},gue=function(e,t,a){e[a]=t&255,e[a+1]=t>>>8&255};function vue(e,t,a){var s=0,n=0;if(a==="dbcs"){for(n=0;n!=t.length;++n)gue(this,t.charCodeAt(n),this.l+2*n);s=2*t.length}else if(a==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),n=0;n!=t.length;++n)this[this.l+n]=t.charCodeAt(n)&255;s=t.length}else if(a==="hex"){for(;n<e;++n)this[this.l++]=parseInt(t.slice(2*n,2*n+2),16)||0;return this}else if(a==="utf16le"){var i=Math.min(this.l+e,this.length);for(n=0;n<Math.min(t.length,e);++n){var l=t.charCodeAt(n);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:s=1,this[this.l]=t&255;break;case 2:s=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:s=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:s=4,pue(this,t,this.l);break;case 8:if(s=8,a==="f"){hue(this,t,this.l);break}case 16:break;case-4:s=4,xue(this,t,this.l);break}return this.l+=s,this}function lH(e,t){var a=Yz(this,this.l,e.length>>1);if(a!==e)throw new Error(t+"Expected "+e+" saw "+a);this.l+=e.length>>1}function Ui(e,t){e.l=t,e.read_shift=f1,e.chk=lH,e.write_shift=vue}function ml(e,t){e.l+=t}function kt(e){var t=Df(e);return Ui(t,0),t}function wh(e,t,a){if(e){var s,n,i;Ui(e,e.l||0);for(var l=e.length,o=0,c=0;e.l<l;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var d=rv[o]||rv[65535];for(s=e.read_shift(1),i=s&127,n=1;n<4&&s&128;++n)i+=((s=e.read_shift(1))&127)<<7*n;c=e.l+i;var u=d.f&&d.f(e,i,a);if(e.l=c,t(u,d,o))return}}}function ro(){var e=[],t=nr?256:2048,a=function(d){var u=kt(d);return Ui(u,0),u},s=a(t),n=function(){s&&(s.length>s.l&&(s=s.slice(0,s.l),s.l=s.length),s.length>0&&e.push(s),s=null)},i=function(d){return s&&d<s.length-s.l?s:(n(),s=a(Math.max(d+1,t)))},l=function(){return n(),wi(e)},o=function(d){n(),s=d,s.l==null&&(s.l=s.length),i(t)};return{next:i,push:o,end:l,_bufs:e}}function Bt(e,t,a,s){var n=+t,i;if(!isNaN(n)){s||(s=rv[n].p||(a||[]).length||0),i=1+(n>=128?1:0)+1,s>=128&&++i,s>=16384&&++i,s>=2097152&&++i;var l=e.next(i);n<=127?l.write_shift(1,n):(l.write_shift(1,(n&127)+128),l.write_shift(1,n>>7));for(var o=0;o!=4;++o)if(s>=128)l.write_shift(1,(s&127)+128),s>>=7;else{l.write_shift(1,s);break}s>0&&TA(a)&&e.push(a)}}function m1(e,t,a){var s=xs(e);if(t.s?(s.cRel&&(s.c+=t.s.c),s.rRel&&(s.r+=t.s.r)):(s.cRel&&(s.c+=t.c),s.rRel&&(s.r+=t.r)),!a||a.biff<12){for(;s.c>=256;)s.c-=256;for(;s.r>=65536;)s.r-=65536}return s}function mP(e,t,a){var s=xs(e);return s.s=m1(s.s,t.s,a),s.e=m1(s.e,t.s,a),s}function p1(e,t){if(e.cRel&&e.c<0)for(e=xs(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=xs(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var a=Da(e);return!e.cRel&&e.cRel!=null&&(a=wue(a)),!e.rRel&&e.rRel!=null&&(a=bue(a)),a}function T5(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Hs(e.s.c)+":"+(e.e.cRel?"":"$")+Hs(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Sn(e.s.r)+":"+(e.e.rRel?"":"$")+Sn(e.e.r):p1(e.s,t.biff)+":"+p1(e.e,t.biff)}function EA(e){return parseInt(yue(e),10)-1}function Sn(e){return""+(e+1)}function bue(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function yue(e){return e.replace(/\$(\d+)$/,"$1")}function DA(e){for(var t=jue(e),a=0,s=0;s!==t.length;++s)a=26*a+t.charCodeAt(s)-64;return a-1}function Hs(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function wue(e){return e.replace(/^([A-Z])/,"$$$1")}function jue(e){return e.replace(/^\$([A-Z])/,"$1")}function Nue(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Vs(e){for(var t=0,a=0,s=0;s<e.length;++s){var n=e.charCodeAt(s);n>=48&&n<=57?t=10*t+(n-48):n>=65&&n<=90&&(a=26*a+(n-64))}return{c:a-1,r:t-1}}function Da(e){for(var t=e.c+1,a="";t;t=(t-1)/26|0)a=String.fromCharCode((t-1)%26+65)+a;return a+(e.r+1)}function so(e){var t=e.indexOf(":");return t==-1?{s:Vs(e),e:Vs(e)}:{s:Vs(e.slice(0,t)),e:Vs(e.slice(t+1))}}function Qa(e,t){return typeof t>"u"||typeof t=="number"?Qa(e.s,e.e):(typeof e!="string"&&(e=Da(e)),typeof t!="string"&&(t=Da(t)),e==t?e:e+":"+t)}function Cr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},a=0,s=0,n=0,i=e.length;for(a=0;s<i&&!((n=e.charCodeAt(s)-64)<1||n>26);++s)a=26*a+n;for(t.s.c=--a,a=0;s<i&&!((n=e.charCodeAt(s)-48)<0||n>9);++s)a=10*a+n;if(t.s.r=--a,s===i||n!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++s,a=0;s!=i&&!((n=e.charCodeAt(s)-64)<1||n>26);++s)a=26*a+n;for(t.e.c=--a,a=0;s!=i&&!((n=e.charCodeAt(s)-48)<0||n>9);++s)a=10*a+n;return t.e.r=--a,t}function pP(e,t){var a=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=yc(e.z,a?ei(t):t)}catch{}try{return e.w=yc((e.XF||{}).numFmtId||(a?14:0),a?ei(t):t)}catch{return""+t}}function ch(e,t,a){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&a&&a.dateNF&&(e.z=a.dateNF),e.t=="e"?jh[e.v]||e.v:t==null?pP(e,e.v):pP(e,t))}function Vf(e,t){var a=t&&t.sheet?t.sheet:"Sheet1",s={};return s[a]=e,{SheetNames:[a],Sheets:s}}function oH(e,t,a){var s=a||{},n=e?Array.isArray(e):s.dense,i=e||(n?[]:{}),l=0,o=0;if(i&&s.origin!=null){if(typeof s.origin=="number")l=s.origin;else{var c=typeof s.origin=="string"?Vs(s.origin):s.origin;l=c.r,o=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=Cr(i["!ref"]);d.s.c=u.s.c,d.s.r=u.s.r,d.e.c=Math.max(d.e.c,u.e.c),d.e.r=Math.max(d.e.r,u.e.r),l==-1&&(d.e.r=l=u.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var x=0;x!=t[f].length;++x)if(!(typeof t[f][x]>"u")){var m={v:t[f][x]},g=l+f,v=o+x;if(d.s.r>g&&(d.s.r=g),d.s.c>v&&(d.s.c=v),d.e.r<g&&(d.e.r=g),d.e.c<v&&(d.e.c=v),t[f][x]&&typeof t[f][x]=="object"&&!Array.isArray(t[f][x])&&!(t[f][x]instanceof Date))m=t[f][x];else if(Array.isArray(m.v)&&(m.f=t[f][x][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(s.nullError)m.t="e",m.v=0;else if(s.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=s.dateNF||Ea[14],s.cellDates?(m.t="d",m.w=yc(m.z,ei(m.v))):(m.t="n",m.v=ei(m.v),m.w=yc(m.z,m.v))):m.t="s";if(n)i[g]||(i[g]=[]),i[g][v]&&i[g][v].z&&(m.z=i[g][v].z),i[g][v]=m;else{var b=Da({c:v,r:g});i[b]&&i[b].z&&(m.z=i[b].z),i[b]=m}}}return d.s.c<1e7&&(i["!ref"]=Qa(d)),i}function Cx(e,t){return oH(null,e,t)}function Sue(e){return e.read_shift(4,"i")}function cd(e,t){return t||(t=kt(4)),t.write_shift(4,e),t}function hl(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Ni(e,t){var a=!1;return t==null&&(a=!0,t=kt(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),a?t.slice(0,t.l):t}function kue(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function Cue(e,t){return t||(t=kt(4)),t.write_shift(2,0),t.write_shift(2,0),t}function MA(e,t){var a=e.l,s=e.read_shift(1),n=hl(e),i=[],l={t:n,h:n};if((s&1)!==0){for(var o=e.read_shift(4),c=0;c!=o;++c)i.push(kue(e));l.r=i}else l.r=[{ich:0,ifnt:0}];return e.l=a+t,l}function Aue(e,t){var a=!1;return t==null&&(a=!0,t=kt(15+4*e.t.length)),t.write_shift(1,0),Ni(e.t,t),a?t.slice(0,t.l):t}var _ue=MA;function Tue(e,t){var a=!1;return t==null&&(a=!0,t=kt(23+4*e.t.length)),t.write_shift(1,1),Ni(e.t,t),t.write_shift(4,1),Cue({},t),a?t.slice(0,t.l):t}function Ac(e){var t=e.read_shift(4),a=e.read_shift(2);return a+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:a}}function Mm(e,t){return t==null&&(t=kt(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Pm(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Lm(e,t){return t==null&&(t=kt(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var Eue=hl,cH=Ni;function PA(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function cw(e,t){var a=!1;return t==null&&(a=!0,t=kt(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),a?t.slice(0,t.l):t}var Due=hl,qk=PA,LA=cw;function OA(e){var t=e.slice(e.l,e.l+4),a=t[0]&1,s=t[0]&2;e.l+=4;var n=s===0?ow([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):O0(t,0)>>2;return a?n/100:n}function dH(e,t){t==null&&(t=kt(4));var a=0,s=0,n=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?s=1:n==(n|0)&&n>=-536870912&&n<1<<29&&(s=1,a=1),s)t.write_shift(-4,((a?n:e)<<2)+(a+2));else throw new Error("unsupported RkNumber "+e)}function uH(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function Mue(e,t){return t||(t=kt(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var Om=uH,Ax=Mue;function cl(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function fm(e,t){return(t||kt(8)).write_shift(8,e,"f")}function Pue(e){var t={},a=e.read_shift(1),s=a>>>1,n=e.read_shift(1),i=e.read_shift(2,"i"),l=e.read_shift(1),o=e.read_shift(1),c=e.read_shift(1);switch(e.l++,s){case 0:t.auto=1;break;case 1:t.index=n;var d=K0[n];d&&(t.rgb=Z1(d));break;case 2:t.rgb=Z1([l,o,c]);break;case 3:t.theme=n;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function dw(e,t){if(t||(t=kt(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var a=e.tint||0;if(a>0?a*=32767:a<0&&(a*=32768),t.write_shift(2,a),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var s=e.rgb||"FFFFFF";typeof s=="number"&&(s=("000000"+s.toString(16)).slice(-6)),t.write_shift(1,parseInt(s.slice(0,2),16)),t.write_shift(1,parseInt(s.slice(2,4),16)),t.write_shift(1,parseInt(s.slice(4,6),16)),t.write_shift(1,255)}return t}function Lue(e){var t=e.read_shift(1);e.l++;var a={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return a}function Oue(e,t){t||(t=kt(2));var a=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,a),t.write_shift(1,0),t}function hH(e,t){var a={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},s=e.read_shift(4);switch(s){case 0:return"";case 4294967295:case 4294967294:return a[e.read_shift(4)]||""}if(s>400)throw new Error("Unsupported Clipboard: "+s.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function Rue(e){return hH(e,1)}function Fue(e){return hH(e,2)}var RA=2,Yl=3,Fy=11,xP=12,uw=19,Iy=64,Iue=65,Bue=71,$ue=4108,Uue=4126,vi=80,fH=81,zue=[vi,fH],Gk={1:{n:"CodePage",t:RA},2:{n:"Category",t:vi},3:{n:"PresentationFormat",t:vi},4:{n:"ByteCount",t:Yl},5:{n:"LineCount",t:Yl},6:{n:"ParagraphCount",t:Yl},7:{n:"SlideCount",t:Yl},8:{n:"NoteCount",t:Yl},9:{n:"HiddenCount",t:Yl},10:{n:"MultimediaClipCount",t:Yl},11:{n:"ScaleCrop",t:Fy},12:{n:"HeadingPairs",t:$ue},13:{n:"TitlesOfParts",t:Uue},14:{n:"Manager",t:vi},15:{n:"Company",t:vi},16:{n:"LinksUpToDate",t:Fy},17:{n:"CharacterCount",t:Yl},19:{n:"SharedDoc",t:Fy},22:{n:"HyperlinksChanged",t:Fy},23:{n:"AppVersion",t:Yl,p:"version"},24:{n:"DigSig",t:Iue},26:{n:"ContentType",t:vi},27:{n:"ContentStatus",t:vi},28:{n:"Language",t:vi},29:{n:"Version",t:vi},255:{},2147483648:{n:"Locale",t:uw},2147483651:{n:"Behavior",t:uw},1919054434:{}},Kk={1:{n:"CodePage",t:RA},2:{n:"Title",t:vi},3:{n:"Subject",t:vi},4:{n:"Author",t:vi},5:{n:"Keywords",t:vi},6:{n:"Comments",t:vi},7:{n:"Template",t:vi},8:{n:"LastAuthor",t:vi},9:{n:"RevNumber",t:vi},10:{n:"EditTime",t:Iy},11:{n:"LastPrinted",t:Iy},12:{n:"CreatedDate",t:Iy},13:{n:"ModifiedDate",t:Iy},14:{n:"PageCount",t:Yl},15:{n:"WordCount",t:Yl},16:{n:"CharCount",t:Yl},17:{n:"Thumbnail",t:Bue},18:{n:"Application",t:vi},19:{n:"DocSecurity",t:Yl},255:{},2147483648:{n:"Locale",t:uw},2147483651:{n:"Behavior",t:uw},1919054434:{}},gP={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Hue=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function Vue(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Wue=Vue([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),K0=xs(Wue),jh={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},mH={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},Yk={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},By={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function FA(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function que(e){var t=FA();if(!e||!e.match)return t;var a={};if((e.match(gl)||[]).forEach(function(s){var n=Ra(s);switch(n[0].replace(aue,"<")){case"<?xml":break;case"<Types":t.xmlns=n["xmlns"+(n[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":a[n.Extension]=n.ContentType;break;case"<Override":t[Yk[n.ContentType]]!==void 0&&t[Yk[n.ContentType]].push(n.PartName);break}}),t.xmlns!==Jn.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=a,delete t.calcchains,t}function pH(e,t){var a=qde(Yk),s=[],n;s[s.length]=_n,s[s.length]=Gt("Types",null,{xmlns:Jn.CT,"xmlns:xsd":Jn.xsd,"xmlns:xsi":Jn.xsi}),s=s.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return Gt("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(n=e[c][0],s[s.length]=Gt("Override",null,{PartName:(n[0]=="/"?"":"/")+n,ContentType:By[c][t.bookType]||By[c].xlsx}))},l=function(c){(e[c]||[]).forEach(function(d){s[s.length]=Gt("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:By[c][t.bookType]||By[c].xlsx})})},o=function(c){(e[c]||[]).forEach(function(d){s[s.length]=Gt("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:a[c][0]})})};return i("workbooks"),l("sheets"),l("charts"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),l("metadata"),o("people"),s.length>2&&(s[s.length]="</Types>",s[1]=s[1].replace("/>",">")),s.join("")}var or={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Q1(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function x1(e,t){var a={"!id":{}};if(!e)return a;t.charAt(0)!=="/"&&(t="/"+t);var s={};return(e.match(gl)||[]).forEach(function(n){var i=Ra(n);if(i[0]==="<Relationship"){var l={};l.Type=i.Type,l.Target=i.Target,l.Id=i.Id,i.TargetMode&&(l.TargetMode=i.TargetMode);var o=i.TargetMode==="External"?i.Target:n1(i.Target,t);a[o]=l,s[i.Id]=l}}),a["!id"]=s,a}function Gp(e){var t=[_n,Gt("Relationships",null,{xmlns:Jn.RELS})];return tn(e["!id"]).forEach(function(a){t[t.length]=Gt("Relationship",null,e["!id"][a])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Ur(e,t,a,s,n,i){if(n||(n={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,n.Id="rId"+t,n.Type=s,n.Target=a,[or.HLINK,or.XPATH,or.XMISS].indexOf(n.Type)>-1&&(n.TargetMode="External"),e["!id"][n.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][n.Id]=n,e[("/"+n.Target).replace("//","/")]=n,t}var Gue="application/vnd.oasis.opendocument.spreadsheet";function Kue(e,t){for(var a=AA(e),s,n;s=J1.exec(a);)switch(s[3]){case"manifest":break;case"file-entry":if(n=Ra(s[0],!1),n.path=="/"&&n.type!==Gue)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw s}}function Yue(e){var t=[_n];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var a=0;a<e.length;++a)t.push('  <manifest:file-entry manifest:full-path="'+e[a][0]+'" manifest:media-type="'+e[a][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function vP(e,t,a){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(a||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function Xue(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function Jue(e){var t=[_n];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var a=0;a!=e.length;++a)t.push(vP(e[a][0],e[a][1])),t.push(Xue("",e[a][0]));return t.push(vP("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function xH(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+rw.version+"</meta:generator></office:meta></office:document-meta>"}var gc=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Que=(function(){for(var e=new Array(gc.length),t=0;t<gc.length;++t){var a=gc[t],s="(?:"+a[0].slice(0,a[0].indexOf(":"))+":)"+a[0].slice(a[0].indexOf(":")+1);e[t]=new RegExp("<"+s+"[^>]*>([\\s\\S]*?)</"+s+">")}return e})();function gH(e){var t={};e=Jr(e);for(var a=0;a<gc.length;++a){var s=gc[a],n=e.match(Que[a]);n!=null&&n.length>0&&(t[s[1]]=kr(n[1])),s[2]==="date"&&t[s[1]]&&(t[s[1]]=ps(t[s[1]]))}return t}function E5(e,t,a,s,n){n[e]!=null||t==null||t===""||(n[e]=t,t=Wr(t),s[s.length]=a?Gt(e,t,a):zi(e,t))}function vH(e,t){var a=t||{},s=[_n,Gt("cp:coreProperties",null,{"xmlns:cp":Jn.CORE_PROPS,"xmlns:dc":Jn.dc,"xmlns:dcterms":Jn.dcterms,"xmlns:dcmitype":Jn.dcmitype,"xmlns:xsi":Jn.xsi})],n={};if(!e&&!a.Props)return s.join("");e&&(e.CreatedDate!=null&&E5("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:Wk(e.CreatedDate,a.WTF),{"xsi:type":"dcterms:W3CDTF"},s,n),e.ModifiedDate!=null&&E5("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:Wk(e.ModifiedDate,a.WTF),{"xsi:type":"dcterms:W3CDTF"},s,n));for(var i=0;i!=gc.length;++i){var l=gc[i],o=a.Props&&a.Props[l[1]]!=null?a.Props[l[1]]:e?e[l[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&E5(l[0],o,null,s,n)}return s.length>2&&(s[s.length]="</cp:coreProperties>",s[1]=s[1].replace("/>",">")),s.join("")}var Y0=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],bH=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function yH(e,t,a,s){var n=[];if(typeof e=="string")n=oP(e,s);else for(var i=0;i<e.length;++i)n=n.concat(e[i].map(function(u){return{v:u}}));var l=typeof t=="string"?oP(t,s).map(function(u){return u.v}):t,o=0,c=0;if(l.length>0)for(var d=0;d!==n.length;d+=2){switch(c=+n[d+1].v,n[d].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":a.Worksheets=c,a.SheetNames=l.slice(o,o+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":a.NamedRanges=c,a.DefinedNames=l.slice(o,o+c);break;case"Charts":case"Diagramme":a.Chartsheets=c,a.ChartNames=l.slice(o,o+c);break}o+=c}}function Zue(e,t,a){var s={};return t||(t={}),e=Jr(e),Y0.forEach(function(n){var i=(e.match(Y1(n[0]))||[])[1];switch(n[2]){case"string":i&&(t[n[1]]=kr(i));break;case"bool":t[n[1]]=i==="true";break;case"raw":var l=e.match(new RegExp("<"+n[0]+"[^>]*>([\\s\\S]*?)</"+n[0]+">"));l&&l.length>0&&(s[n[1]]=l[1]);break}}),s.HeadingPairs&&s.TitlesOfParts&&yH(s.HeadingPairs,s.TitlesOfParts,t,a),t}function wH(e){var t=[],a=Gt;return e||(e={}),e.Application="SheetJS",t[t.length]=_n,t[t.length]=Gt("Properties",null,{xmlns:Jn.EXT_PROPS,"xmlns:vt":Jn.vt}),Y0.forEach(function(s){if(e[s[1]]!==void 0){var n;switch(s[2]){case"string":n=Wr(String(e[s[1]]));break;case"bool":n=e[s[1]]?"true":"false";break}n!==void 0&&(t[t.length]=a(s[0],n))}}),t[t.length]=a("HeadingPairs",a("vt:vector",a("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+a("vt:variant",a("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=a("TitlesOfParts",a("vt:vector",e.SheetNames.map(function(s){return"<vt:lpstr>"+Wr(s)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var ehe=/<[^>]+>[^<]*/g;function the(e,t){var a={},s="",n=e.match(ehe);if(n)for(var i=0;i!=n.length;++i){var l=n[i],o=Ra(l);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":s=kr(o.name);break;case"</property>":s=null;break;default:if(l.indexOf("<vt:")===0){var c=l.split(">"),d=c[0].slice(4),u=c[1];switch(d){case"lpstr":case"bstr":case"lpwstr":a[s]=kr(u);break;case"bool":a[s]=hs(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":a[s]=parseInt(u,10);break;case"r4":case"r8":case"decimal":a[s]=parseFloat(u);break;case"filetime":case"date":a[s]=ps(u);break;case"cy":case"error":a[s]=kr(u);break;default:if(d.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",l,d,c)}}else if(l.slice(0,2)!=="</"){if(t.WTF)throw new Error(l)}}}return a}function jH(e){var t=[_n,Gt("Properties",null,{xmlns:Jn.CUST_PROPS,"xmlns:vt":Jn.vt})];if(!e)return t.join("");var a=1;return tn(e).forEach(function(n){++a,t[t.length]=Gt("property",due(e[n]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:a,name:Wr(n)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var Xk={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},D5;function ahe(e,t,a){D5||(D5=Wj(Xk)),t=D5[t]||t,e[t]=a}function rhe(e,t){var a=[];return tn(Xk).map(function(s){for(var n=0;n<gc.length;++n)if(gc[n][1]==s)return gc[n];for(n=0;n<Y0.length;++n)if(Y0[n][1]==s)return Y0[n];throw s}).forEach(function(s){if(e[s[1]]!=null){var n=t&&t.Props&&t.Props[s[1]]!=null?t.Props[s[1]]:e[s[1]];switch(s[2]){case"date":n=new Date(n).toISOString().replace(/\.\d*Z/,"Z");break}typeof n=="number"?n=String(n):n===!0||n===!1?n=n?"1":"0":n instanceof Date&&(n=new Date(n).toISOString().replace(/\.\d*Z/,"")),a.push(zi(Xk[s[1]]||s[1],n))}}),Gt("DocumentProperties",a.join(""),{xmlns:Ao.o})}function she(e,t){var a=["Worksheets","SheetNames"],s="CustomDocumentProperties",n=[];return e&&tn(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var l=0;l<gc.length;++l)if(i==gc[l][1])return;for(l=0;l<Y0.length;++l)if(i==Y0[l][1])return;for(l=0;l<a.length;++l)if(i==a[l])return;var o=e[i],c="string";typeof o=="number"?(c="float",o=String(o)):o===!0||o===!1?(c="boolean",o=o?"1":"0"):o=String(o),n.push(Gt(sP(i),o,{"dt:dt":c}))}}),t&&tn(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var l=t[i],o="string";typeof l=="number"?(o="float",l=String(l)):l===!0||l===!1?(o="boolean",l=l?"1":"0"):l instanceof Date?(o="dateTime.tz",l=l.toISOString()):l=String(l),n.push(Gt(sP(i),l,{"dt:dt":o}))}}),"<"+s+' xmlns="'+Ao.o+'">'+n.join("")+"</"+s+">"}function IA(e){var t=e.read_shift(4),a=e.read_shift(4);return new Date((a/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function nhe(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,a=t.getTime()/1e3+11644473600,s=a%Math.pow(2,32),n=(a-s)/Math.pow(2,32);s*=1e7,n*=1e7;var i=s/Math.pow(2,32)|0;i>0&&(s=s%Math.pow(2,32),n+=i);var l=kt(8);return l.write_shift(4,s),l.write_shift(4,n),l}function NH(e,t,a){var s=e.l,n=e.read_shift(0,"lpstr-cp");if(a)for(;e.l-s&3;)++e.l;return n}function SH(e,t,a){var s=e.read_shift(0,"lpwstr");return s}function kH(e,t,a){return t===31?SH(e):NH(e,t,a)}function Jk(e,t,a){return kH(e,t,a===!1?0:4)}function ihe(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return kH(e,t,0)}function lhe(e){for(var t=e.read_shift(4),a=[],s=0;s!=t;++s){var n=e.l;a[s]=e.read_shift(0,"lpwstr").replace(Pl,""),e.l-n&2&&(e.l+=2)}return a}function ohe(e){for(var t=e.read_shift(4),a=[],s=0;s!=t;++s)a[s]=e.read_shift(0,"lpstr-cp").replace(Pl,"");return a}function che(e){var t=e.l,a=hw(e,fH);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var s=hw(e,Yl);return[a,s]}function dhe(e){for(var t=e.read_shift(4),a=[],s=0;s<t/2;++s)a.push(che(e));return a}function bP(e,t){for(var a=e.read_shift(4),s={},n=0;n!=a;++n){var i=e.read_shift(4),l=e.read_shift(4);s[i]=e.read_shift(l,t===1200?"utf16le":"utf8").replace(Pl,"").replace(s1,"!"),t===1200&&l%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),s}function CH(e){var t=e.read_shift(4),a=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),a}function uhe(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function hw(e,t,a){var s=e.read_shift(2),n,i=a||{};if(e.l+=2,t!==xP&&s!==t&&zue.indexOf(t)===-1&&!((t&65534)==4126&&(s&65534)==4126))throw new Error("Expected type "+t+" saw "+s);switch(t===xP?s:t){case 2:return n=e.read_shift(2,"i"),i.raw||(e.l+=2),n;case 3:return n=e.read_shift(4,"i"),n;case 11:return e.read_shift(4)!==0;case 19:return n=e.read_shift(4),n;case 30:return NH(e,s,4).replace(Pl,"");case 31:return SH(e);case 64:return IA(e);case 65:return CH(e);case 71:return uhe(e);case 80:return Jk(e,s,!i.raw).replace(Pl,"");case 81:return ihe(e,s).replace(Pl,"");case 4108:return dhe(e);case 4126:case 4127:return s==4127?lhe(e):ohe(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+s)}}function yP(e,t){var a=kt(4),s=kt(4);switch(a.write_shift(4,e==80?31:e),e){case 3:s.write_shift(-4,t);break;case 5:s=kt(8),s.write_shift(8,t,"f");break;case 11:s.write_shift(4,t?1:0);break;case 64:s=nhe(t);break;case 31:case 80:for(s=kt(4+2*(t.length+1)+(t.length%2?0:2)),s.write_shift(4,t.length+1),s.write_shift(0,t,"dbcs");s.l!=s.length;)s.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return wi([a,s])}function wP(e,t){var a=e.l,s=e.read_shift(4),n=e.read_shift(4),i=[],l=0,o=0,c=-1,d={};for(l=0;l!=n;++l){var u=e.read_shift(4),f=e.read_shift(4);i[l]=[u,f+a]}i.sort(function(S,k){return S[1]-k[1]});var x={};for(l=0;l!=n;++l){if(e.l!==i[l][1]){var m=!0;if(l>0&&t)switch(t[i[l-1][0]].t){case 2:e.l+2===i[l][1]&&(e.l+=2,m=!1);break;case 80:e.l<=i[l][1]&&(e.l=i[l][1],m=!1);break;case 4108:e.l<=i[l][1]&&(e.l=i[l][1],m=!1);break}if((!t||l==0)&&e.l<=i[l][1]&&(m=!1,e.l=i[l][1]),m)throw new Error("Read Error: Expected address "+i[l][1]+" at "+e.l+" :"+l)}if(t){var g=t[i[l][0]];if(x[g.n]=hw(e,g.t,{raw:!0}),g.p==="version"&&(x[g.n]=String(x[g.n]>>16)+"."+("0000"+String(x[g.n]&65535)).slice(-4)),g.n=="CodePage")switch(x[g.n]){case 0:x[g.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:id(o=x[g.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+x[g.n])}}else if(i[l][0]===1){if(o=x.CodePage=hw(e,RA),id(o),c!==-1){var v=e.l;e.l=i[c][1],d=bP(e,o),e.l=v}}else if(i[l][0]===0){if(o===0){c=l,e.l=i[l+1][1];continue}d=bP(e,o)}else{var b=d[i[l][0]],j;switch(e[e.l]){case 65:e.l+=4,j=CH(e);break;case 30:e.l+=4,j=Jk(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,j=Jk(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,j=e.read_shift(4,"i");break;case 19:e.l+=4,j=e.read_shift(4);break;case 5:e.l+=4,j=e.read_shift(8,"f");break;case 11:e.l+=4,j=gn(e,4);break;case 64:e.l+=4,j=ps(IA(e));break;default:throw new Error("unparsed value: "+e[e.l])}x[b]=j}}return e.l=a+s,x}var AH=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function hhe(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function jP(e,t,a){var s=kt(8),n=[],i=[],l=8,o=0,c=kt(8),d=kt(8);if(c.write_shift(4,2),c.write_shift(4,1200),d.write_shift(4,1),i.push(c),n.push(d),l+=8+c.length,!t){d=kt(8),d.write_shift(4,0),n.unshift(d);var u=[kt(4)];for(u[0].write_shift(4,e.length),o=0;o<e.length;++o){var f=e[o][0];for(c=kt(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,o+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);u.push(c)}c=wi(u),i.unshift(c),l+=8+c.length}for(o=0;o<e.length;++o)if(!(t&&!t[e[o][0]])&&!(AH.indexOf(e[o][0])>-1||bH.indexOf(e[o][0])>-1)&&e[o][1]!=null){var x=e[o][1],m=0;if(t){m=+t[e[o][0]];var g=a[m];if(g.p=="version"&&typeof x=="string"){var v=x.split(".");x=(+v[0]<<16)+(+v[1]||0)}c=yP(g.t,x)}else{var b=hhe(x);b==-1&&(b=31,x=String(x)),c=yP(b,x)}i.push(c),d=kt(8),d.write_shift(4,t?m:2+o),n.push(d),l+=8+c.length}var j=8*(i.length+1);for(o=0;o<i.length;++o)n[o].write_shift(4,j),j+=i[o].length;return s.write_shift(4,l),s.write_shift(4,i.length),wi([s].concat(n).concat(i))}function NP(e,t,a){var s=e.content;if(!s)return{};Ui(s,0);var n,i,l,o,c=0;s.chk("feff","Byte Order: "),s.read_shift(2);var d=s.read_shift(4),u=s.read_shift(16);if(u!==Na.utils.consts.HEADER_CLSID&&u!==a)throw new Error("Bad PropertySet CLSID "+u);if(n=s.read_shift(4),n!==1&&n!==2)throw new Error("Unrecognized #Sets: "+n);if(i=s.read_shift(16),o=s.read_shift(4),n===1&&o!==s.l)throw new Error("Length mismatch: "+o+" !== "+s.l);n===2&&(l=s.read_shift(16),c=s.read_shift(4));var f=wP(s,t),x={SystemIdentifier:d};for(var m in f)x[m]=f[m];if(x.FMTID=i,n===1)return x;if(c-s.l==2&&(s.l+=2),s.l!==c)throw new Error("Length mismatch 2: "+s.l+" !== "+c);var g;try{g=wP(s,null)}catch{}for(m in g)x[m]=g[m];return x.FMTID=[i,l],x}function SP(e,t,a,s,n,i){var l=kt(n?68:48),o=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,Na.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,n?2:1),l.write_shift(16,t,"hex"),l.write_shift(4,n?68:48);var c=jP(e,a,s);if(o.push(c),n){var d=jP(n,null,null);l.write_shift(16,i,"hex"),l.write_shift(4,68+c.length),o.push(d)}return wi(o)}function df(e,t){return e.read_shift(t),null}function fhe(e,t){t||(t=kt(e));for(var a=0;a<e;++a)t.write_shift(1,0);return t}function mhe(e,t,a){for(var s=[],n=e.l+t;e.l<n;)s.push(a(e,n-e.l));if(n!==e.l)throw new Error("Slurp error");return s}function gn(e,t){return e.read_shift(t)===1}function Al(e,t){return t||(t=kt(2)),t.write_shift(2,+!!e),t}function On(e){return e.read_shift(2,"u")}function fc(e,t){return t||(t=kt(2)),t.write_shift(2,e),t}function _H(e,t){return mhe(e,t,On)}function phe(e){var t=e.read_shift(1),a=e.read_shift(1);return a===1?t:t===1}function TH(e,t,a){return a||(a=kt(2)),a.write_shift(1,t=="e"?+e:+!!e),a.write_shift(1,t=="e"?1:0),a}function Hv(e,t,a){var s=e.read_shift(a&&a.biff>=12?2:1),n="sbcs-cont";if(a&&a.biff>=8,!a||a.biff==8){var i=e.read_shift(1);i&&(n="dbcs-cont")}else a.biff==12&&(n="wstr");a.biff>=2&&a.biff<=5&&(n="cpstr");var l=s?e.read_shift(s,n):"";return l}function xhe(e){var t=e.read_shift(2),a=e.read_shift(1),s=a&4,n=a&8,i=1+(a&1),l=0,o,c={};n&&(l=e.read_shift(2)),s&&(o=e.read_shift(4));var d=i==2?"dbcs-cont":"sbcs-cont",u=t===0?"":e.read_shift(t,d);return n&&(e.l+=4*l),s&&(e.l+=o),c.t=u,n||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function ghe(e){var t=e.t||"",a=kt(3);a.write_shift(2,t.length),a.write_shift(1,1);var s=kt(2*t.length);s.write_shift(2*t.length,t,"utf16le");var n=[a,s];return wi(n)}function mm(e,t,a){var s;if(a){if(a.biff>=2&&a.biff<=5)return e.read_shift(t,"cpstr");if(a.biff>=12)return e.read_shift(t,"dbcs-cont")}var n=e.read_shift(1);return n===0?s=e.read_shift(t,"sbcs-cont"):s=e.read_shift(t,"dbcs-cont"),s}function Vv(e,t,a){var s=e.read_shift(a&&a.biff==2?1:2);return s===0?(e.l++,""):mm(e,s,a)}function Rm(e,t,a){if(a.biff>5)return Vv(e,t,a);var s=e.read_shift(1);return s===0?(e.l++,""):e.read_shift(s,a.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function EH(e,t,a){return a||(a=kt(3+2*e.length)),a.write_shift(2,e.length),a.write_shift(1,1),a.write_shift(31,e,"utf16le"),a}function vhe(e){var t=e.read_shift(1);e.l++;var a=e.read_shift(2);return e.l+=2,[t,a]}function bhe(e){var t=e.read_shift(4),a=e.l,s=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(s=!0),e.l=a);var n=e.read_shift((s?t-24:t)>>1,"utf16le").replace(Pl,"");return s&&(e.l+=24),n}function yhe(e){for(var t=e.read_shift(2),a="";t-- >0;)a+="../";var s=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var n=e.read_shift(4);if(n===0)return a+s.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var l=e.read_shift(i>>1,"utf16le").replace(Pl,"");return a+l}function whe(e,t){var a=e.read_shift(16);switch(a){case"e0c9ea79f9bace118c8200aa004ba90b":return bhe(e);case"0303000000000000c000000000000046":return yhe(e);default:throw new Error("Unsupported Moniker "+a)}}function $y(e){var t=e.read_shift(4),a=t>0?e.read_shift(t,"utf16le").replace(Pl,""):"";return a}function kP(e,t){t||(t=kt(6+e.length*2)),t.write_shift(4,1+e.length);for(var a=0;a<e.length;++a)t.write_shift(2,e.charCodeAt(a));return t.write_shift(2,0),t}function jhe(e,t){var a=e.l+t,s=e.read_shift(4);if(s!==2)throw new Error("Unrecognized streamVersion: "+s);var n=e.read_shift(2);e.l+=2;var i,l,o,c,d="",u,f;n&16&&(i=$y(e,a-e.l)),n&128&&(l=$y(e,a-e.l)),(n&257)===257&&(o=$y(e,a-e.l)),(n&257)===1&&(c=whe(e,a-e.l)),n&8&&(d=$y(e,a-e.l)),n&32&&(u=e.read_shift(16)),n&64&&(f=IA(e)),e.l=a;var x=l||o||c||"";x&&d&&(x+="#"+d),x||(x="#"+d),n&2&&x.charAt(0)=="/"&&x.charAt(1)!="/"&&(x="file://"+x);var m={Target:x};return u&&(m.guid=u),f&&(m.time=f),i&&(m.Tooltip=i),m}function Nhe(e){var t=kt(512),a=0,s=e.Target;s.slice(0,7)=="file://"&&(s=s.slice(7));var n=s.indexOf("#"),i=n>-1?31:23;switch(s.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var l=[8,6815827,6619237,4849780,83];for(a=0;a<l.length;++a)t.write_shift(4,l[a]);if(i==28)s=s.slice(1),kP(s,t);else if(i&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<l.length;++a)t.write_shift(1,parseInt(l[a],16));var o=n>-1?s.slice(0,n):s;for(t.write_shift(4,2*(o.length+1)),a=0;a<o.length;++a)t.write_shift(2,o.charCodeAt(a));t.write_shift(2,0),i&8&&kP(n>-1?s.slice(n+1):"",t)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),a=0;a<l.length;++a)t.write_shift(1,parseInt(l[a],16));for(var c=0;s.slice(c*3,c*3+3)=="../"||s.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,s.length-3*c+1),a=0;a<s.length-3*c;++a)t.write_shift(1,s.charCodeAt(a+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),a=0;a<6;++a)t.write_shift(4,0)}return t.slice(0,t.l)}function DH(e){var t=e.read_shift(1),a=e.read_shift(1),s=e.read_shift(1),n=e.read_shift(1);return[t,a,s,n]}function MH(e,t){var a=DH(e);return a[3]=0,a}function lu(e){var t=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2);return{r:t,c:a,ixfe:s}}function pm(e,t,a,s){return s||(s=kt(6)),s.write_shift(2,e),s.write_shift(2,t),s.write_shift(2,a||0),s}function She(e){var t=e.read_shift(2),a=e.read_shift(2);return e.l+=8,{type:t,flags:a}}function khe(e,t,a){return t===0?"":Rm(e,t,a)}function Che(e,t,a){var s=a.biff>8?4:2,n=e.read_shift(s),i=e.read_shift(s,"i"),l=e.read_shift(s,"i");return[n,i,l]}function PH(e){var t=e.read_shift(2),a=OA(e);return[t,a]}function Ahe(e,t,a){e.l+=4,t-=4;var s=e.l+t,n=Hv(e,t,a),i=e.read_shift(2);if(s-=e.l,i!==s)throw new Error("Malformed AddinUdf: padding = "+s+" != "+i);return e.l+=i,n}function Kj(e){var t=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),n=e.read_shift(2);return{s:{c:s,r:t},e:{c:n,r:a}}}function LH(e,t){return t||(t=kt(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function OH(e){var t=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(1),n=e.read_shift(1);return{s:{c:s,r:t},e:{c:n,r:a}}}var _he=OH;function RH(e){e.l+=4;var t=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2);return e.l+=12,[a,t,s]}function The(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function Ehe(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Xi(e){e.l+=2,e.l+=e.read_shift(2)}var Dhe={0:Xi,4:Xi,5:Xi,6:Xi,7:Ehe,8:Xi,9:Xi,10:Xi,11:Xi,12:Xi,13:The,14:Xi,15:Xi,16:Xi,17:Xi,18:Xi,19:Xi,20:Xi,21:RH};function Mhe(e,t){for(var a=e.l+t,s=[];e.l<a;){var n=e.read_shift(2);e.l-=2;try{s.push(Dhe[n](e,a-e.l))}catch{return e.l=a,s}}return e.l!=a&&(e.l=a),s}function Uy(e,t){var a={BIFFVer:0,dt:0};switch(a.BIFFVer=e.read_shift(2),t-=2,t>=2&&(a.dt=e.read_shift(2),e.l-=2),a.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+a.BIFFVer)}return e.read_shift(t),a}function BA(e,t,a){var s=1536,n=16;switch(a.bookType){case"biff8":break;case"biff5":s=1280,n=8;break;case"biff4":s=4,n=6;break;case"biff3":s=3,n=6;break;case"biff2":s=2,n=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=kt(n);return i.write_shift(2,s),i.write_shift(2,t),n>4&&i.write_shift(2,29282),n>6&&i.write_shift(2,1997),n>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function Phe(e,t){return t===0||e.read_shift(2),1200}function Lhe(e,t,a){if(a.enc)return e.l+=t,"";var s=e.l,n=Rm(e,0,a);return e.read_shift(t+s-e.l),n}function Ohe(e,t){var a=!t||t.biff==8,s=kt(a?112:54);for(s.write_shift(t.biff==8?2:1,7),a&&s.write_shift(1,0),s.write_shift(4,859007059),s.write_shift(4,5458548|(a?0:536870912));s.l<s.length;)s.write_shift(1,a?0:32);return s}function Rhe(e,t,a){var s=a&&a.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:s&16,fBelow:s&64,fRight:s&128}}function Fhe(e,t,a){var s=e.read_shift(4),n=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var l=Hv(e,0,a);return l.length===0&&(l="Sheet1"),{pos:s,hs:n,dt:i,name:l}}function Ihe(e,t){var a=!t||t.biff>=8?2:1,s=kt(8+a*e.name.length);s.write_shift(4,e.pos),s.write_shift(1,e.hs||0),s.write_shift(1,e.dt),s.write_shift(1,e.name.length),t.biff>=8&&s.write_shift(1,1),s.write_shift(a*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var n=s.slice(0,s.l);return n.l=s.l,n}function Bhe(e,t){for(var a=e.l+t,s=e.read_shift(4),n=e.read_shift(4),i=[],l=0;l!=n&&e.l<a;++l)i.push(xhe(e));return i.Count=s,i.Unique=n,i}function $he(e,t){var a=kt(8);a.write_shift(4,e.Count),a.write_shift(4,e.Unique);for(var s=[],n=0;n<e.length;++n)s[n]=ghe(e[n]);var i=wi([a].concat(s));return i.parts=[a.length].concat(s.map(function(l){return l.length})),i}function Uhe(e,t){var a={};return a.dsst=e.read_shift(2),e.l+=t-2,a}function zhe(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var a=e.read_shift(2);e.l+=4;var s=e.read_shift(1);return e.l+=3,s&7&&(t.level=s&7),s&32&&(t.hidden=!0),s&64&&(t.hpt=a/20),t}function Hhe(e){var t=She(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var a=e.read_shift(4);return a!==0}function Vhe(e){return e.read_shift(2),e.read_shift(4)}function CP(e,t,a){var s=0;a&&a.biff==2||(s=e.read_shift(2));var n=e.read_shift(2);a&&a.biff==2&&(s=1-(n>>15),n&=32767);var i={Unsynced:s&1,DyZero:(s&2)>>1,ExAsc:(s&4)>>2,ExDsc:(s&8)>>3};return[i,n]}function Whe(e){var t=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2),l=e.read_shift(2),o=e.read_shift(2),c=e.read_shift(2),d=e.read_shift(2);return{Pos:[t,a],Dim:[s,n],Flags:i,CurTab:l,FirstTab:o,Selected:c,TabRatio:d}}function qhe(){var e=kt(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function Ghe(e,t,a){if(a&&a.biff>=2&&a.biff<5)return{};var s=e.read_shift(2);return{RTL:s&64}}function Khe(e){var t=kt(18),a=1718;return e&&e.RTL&&(a|=64),t.write_shift(2,a),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function Yhe(){}function Xhe(e,t,a){var s={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(a&&a.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return s.name=Hv(e,0,a),s}function Jhe(e,t){var a=e.name||"Arial",s=t&&t.biff==5,n=s?15+a.length:16+2*a.length,i=kt(n);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,a.length),s||i.write_shift(1,1),i.write_shift((s?1:2)*a.length,a,s?"sbcs":"utf16le"),i}function Qhe(e){var t=lu(e);return t.isst=e.read_shift(4),t}function Zhe(e,t,a,s){var n=kt(10);return pm(e,t,s,n),n.write_shift(4,a),n}function efe(e,t,a){a.biffguess&&a.biff==2&&(a.biff=5);var s=e.l+t,n=lu(e);a.biff==2&&e.l++;var i=Vv(e,s-e.l,a);return n.val=i,n}function tfe(e,t,a,s,n){var i=!n||n.biff==8,l=kt(8+ +i+(1+i)*a.length);return pm(e,t,s,l),l.write_shift(2,a.length),i&&l.write_shift(1,1),l.write_shift((1+i)*a.length,a,i?"utf16le":"sbcs"),l}function afe(e,t,a){var s=e.read_shift(2),n=Rm(e,0,a);return[s,n]}function rfe(e,t,a,s){var n=a&&a.biff==5;s||(s=kt(n?3+t.length:5+2*t.length)),s.write_shift(2,e),s.write_shift(n?1:2,t.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*t.length,t,n?"sbcs":"utf16le");var i=s.length>s.l?s.slice(0,s.l):s;return i.l==null&&(i.l=i.length),i}var sfe=Rm;function AP(e,t,a){var s=e.l+t,n=a.biff==8||!a.biff?4:2,i=e.read_shift(n),l=e.read_shift(n),o=e.read_shift(2),c=e.read_shift(2);return e.l=s,{s:{r:i,c:o},e:{r:l,c}}}function nfe(e,t){var a=t.biff==8||!t.biff?4:2,s=kt(2*a+6);return s.write_shift(a,e.s.r),s.write_shift(a,e.e.r+1),s.write_shift(2,e.s.c),s.write_shift(2,e.e.c+1),s.write_shift(2,0),s}function ife(e){var t=e.read_shift(2),a=e.read_shift(2),s=PH(e);return{r:t,c:a,ixfe:s[0],rknum:s[1]}}function lfe(e,t){for(var a=e.l+t-2,s=e.read_shift(2),n=e.read_shift(2),i=[];e.l<a;)i.push(PH(e));if(e.l!==a)throw new Error("MulRK read error");var l=e.read_shift(2);if(i.length!=l-n+1)throw new Error("MulRK length mismatch");return{r:s,c:n,C:l,rkrec:i}}function ofe(e,t){for(var a=e.l+t-2,s=e.read_shift(2),n=e.read_shift(2),i=[];e.l<a;)i.push(e.read_shift(2));if(e.l!==a)throw new Error("MulBlank read error");var l=e.read_shift(2);if(i.length!=l-n+1)throw new Error("MulBlank length mismatch");return{r:s,c:n,C:l,ixfe:i}}function cfe(e,t,a,s){var n={},i=e.read_shift(4),l=e.read_shift(4),o=e.read_shift(4),c=e.read_shift(2);return n.patternType=Hue[o>>26],s.cellStyles&&(n.alc=i&7,n.fWrap=i>>3&1,n.alcV=i>>4&7,n.fJustLast=i>>7&1,n.trot=i>>8&255,n.cIndent=i>>16&15,n.fShrinkToFit=i>>20&1,n.iReadOrder=i>>22&2,n.fAtrNum=i>>26&1,n.fAtrFnt=i>>27&1,n.fAtrAlc=i>>28&1,n.fAtrBdr=i>>29&1,n.fAtrPat=i>>30&1,n.fAtrProt=i>>31&1,n.dgLeft=l&15,n.dgRight=l>>4&15,n.dgTop=l>>8&15,n.dgBottom=l>>12&15,n.icvLeft=l>>16&127,n.icvRight=l>>23&127,n.grbitDiag=l>>30&3,n.icvTop=o&127,n.icvBottom=o>>7&127,n.icvDiag=o>>14&127,n.dgDiag=o>>21&15,n.icvFore=c&127,n.icvBack=c>>7&127,n.fsxButton=c>>14&1),n}function dfe(e,t,a){var s={};return s.ifnt=e.read_shift(2),s.numFmtId=e.read_shift(2),s.flags=e.read_shift(2),s.fStyle=s.flags>>2&1,t-=6,s.data=cfe(e,t,s.fStyle,a),s}function _P(e,t,a,s){var n=a&&a.biff==5;s||(s=kt(n?16:20)),s.write_shift(2,0),e.style?(s.write_shift(2,e.numFmtId||0),s.write_shift(2,65524)):(s.write_shift(2,e.numFmtId||0),s.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&n&&(i|=1024),s.write_shift(4,i),s.write_shift(4,0),n||s.write_shift(4,0),s.write_shift(2,0),s}function ufe(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function hfe(e){var t=kt(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function TP(e,t,a){var s=lu(e);(a.biff==2||t==9)&&++e.l;var n=phe(e);return s.val=n,s.t=n===!0||n===!1?"b":"e",s}function ffe(e,t,a,s,n,i){var l=kt(8);return pm(e,t,s,l),TH(a,i,l),l}function mfe(e,t,a){a.biffguess&&a.biff==2&&(a.biff=5);var s=lu(e),n=cl(e);return s.val=n,s}function pfe(e,t,a,s){var n=kt(14);return pm(e,t,s,n),fm(a,n),n}var EP=khe;function xfe(e,t,a){var s=e.l+t,n=e.read_shift(2),i=e.read_shift(2);if(a.sbcch=i,i==1025||i==14849)return[i,n];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var l=mm(e,i),o=[];s>e.l;)o.push(Vv(e));return[i,n,l,o]}function DP(e,t,a){var s=e.read_shift(2),n,i={fBuiltIn:s&1,fWantAdvise:s>>>1&1,fWantPict:s>>>2&1,fOle:s>>>3&1,fOleLink:s>>>4&1,cf:s>>>5&1023,fIcon:s>>>15&1};return a.sbcch===14849&&(n=Ahe(e,t-2,a)),i.body=n||e.read_shift(t-2),typeof n=="string"&&(i.Name=n),i}var gfe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function MP(e,t,a){var s=e.l+t,n=e.read_shift(2),i=e.read_shift(1),l=e.read_shift(1),o=e.read_shift(a&&a.biff==2?1:2),c=0;(!a||a.biff>=5)&&(a.biff!=5&&(e.l+=2),c=e.read_shift(2),a.biff==5&&(e.l+=2),e.l+=4);var d=mm(e,l,a);n&32&&(d=gfe[d.charCodeAt(0)]);var u=s-e.l;a&&a.biff==2&&--u;var f=s==e.l||o===0||!(u>0)?[]:Mxe(e,u,a,o);return{chKey:i,Name:d,itab:c,rgce:f}}function FH(e,t,a){if(a.biff<8)return vfe(e,t,a);for(var s=[],n=e.l+t,i=e.read_shift(a.biff>8?4:2);i--!==0;)s.push(Che(e,a.biff>8?12:6,a));if(e.l!=n)throw new Error("Bad ExternSheet: "+e.l+" != "+n);return s}function vfe(e,t,a){e[e.l+1]==3&&e[e.l]++;var s=Hv(e,t,a);return s.charCodeAt(0)==3?s.slice(1):s}function bfe(e,t,a){if(a.biff<8){e.l+=t;return}var s=e.read_shift(2),n=e.read_shift(2),i=mm(e,s,a),l=mm(e,n,a);return[i,l]}function yfe(e,t,a){var s=OH(e);e.l++;var n=e.read_shift(1);return t-=8,[Pxe(e,t,a),n,s]}function PP(e,t,a){var s=_he(e);switch(a.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[s,Exe(e,t,a)]}function wfe(e){var t=e.read_shift(4)!==0,a=e.read_shift(4)!==0,s=e.read_shift(4);return[t,a,s]}function jfe(e,t,a){if(!(a.biff<8)){var s=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2),l=e.read_shift(2),o=Rm(e,0,a);return a.biff<8&&e.read_shift(1),[{r:s,c:n},o,l,i]}}function Nfe(e,t,a){return jfe(e,t,a)}function Sfe(e,t){for(var a=[],s=e.read_shift(2);s--;)a.push(Kj(e));return a}function kfe(e){var t=kt(2+e.length*8);t.write_shift(2,e.length);for(var a=0;a<e.length;++a)LH(e[a],t);return t}function Cfe(e,t,a){if(a&&a.biff<8)return _fe(e,t,a);var s=RH(e),n=Mhe(e,t-22,s[1]);return{cmo:s,ft:n}}var Afe={8:function(e,t){var a=e.l+t;e.l+=10;var s=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var n=e.read_shift(1);return e.l+=n,e.l=a,{fmt:s}}};function _fe(e,t,a){e.l+=4;var s=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var l=[];return l.push((Afe[s]||ml)(e,t,a)),{cmo:[n,s,i],ft:l}}function Tfe(e,t,a){var s=e.l,n="";try{e.l+=4;var i=(a.lastobj||{cmo:[0,0]}).cmo[1],l;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:l=vhe(e,6,a);var o=e.read_shift(2);e.read_shift(2),On(e,2);var c=e.read_shift(2);e.l+=c;for(var d=1;d<e.lens.length-1;++d){if(e.l-s!=e.lens[d])throw new Error("TxO: bad continue record");var u=e[e.l],f=mm(e,e.lens[d+1]-e.lens[d]-1);if(n+=f,n.length>=(u?o:2*o))break}if(n.length!==o&&n.length!==o*2)throw new Error("cchText: "+o+" != "+n.length);return e.l=s+t,{t:n}}catch{return e.l=s+t,{t:n}}}function Efe(e,t){var a=Kj(e);e.l+=16;var s=jhe(e,t-24);return[a,s]}function Dfe(e){var t=kt(24),a=Vs(e[0]);t.write_shift(2,a.r),t.write_shift(2,a.r),t.write_shift(2,a.c),t.write_shift(2,a.c);for(var s="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<16;++n)t.write_shift(1,parseInt(s[n],16));return wi([t,Nhe(e[1])])}function Mfe(e,t){e.read_shift(2);var a=Kj(e),s=e.read_shift((t-10)/2,"dbcs-cont");return s=s.replace(Pl,""),[a,s]}function Pfe(e){var t=e[1].Tooltip,a=kt(10+2*(t.length+1));a.write_shift(2,2048);var s=Vs(e[0]);a.write_shift(2,s.r),a.write_shift(2,s.r),a.write_shift(2,s.c),a.write_shift(2,s.c);for(var n=0;n<t.length;++n)a.write_shift(2,t.charCodeAt(n));return a.write_shift(2,0),a}function Lfe(e){var t=[0,0],a;return a=e.read_shift(2),t[0]=gP[a]||a,a=e.read_shift(2),t[1]=gP[a]||a,t}function Ofe(e){return e||(e=kt(4)),e.write_shift(2,1),e.write_shift(2,1),e}function Rfe(e){for(var t=e.read_shift(2),a=[];t-- >0;)a.push(MH(e));return a}function Ffe(e){for(var t=e.read_shift(2),a=[];t-- >0;)a.push(MH(e));return a}function Ife(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function IH(e,t,a){if(!a.cellStyles)return ml(e,t);var s=a&&a.biff>=12?4:2,n=e.read_shift(s),i=e.read_shift(s),l=e.read_shift(s),o=e.read_shift(s),c=e.read_shift(2);s==2&&(e.l+=2);var d={s:n,e:i,w:l,ixfe:o,flags:c};return(a.biff>=5||!a.biff)&&(d.level=c>>8&7),d}function Bfe(e,t){var a=kt(12);a.write_shift(2,t),a.write_shift(2,t),a.write_shift(2,e.width*256),a.write_shift(2,0);var s=0;return e.hidden&&(s|=1),a.write_shift(1,s),s=e.level||0,a.write_shift(1,s),a.write_shift(2,0),a}function $fe(e,t){var a={};return t<32||(e.l+=16,a.header=cl(e),a.footer=cl(e),e.l+=2),a}function Ufe(e,t,a){var s={area:!1};if(a.biff!=5)return e.l+=t,s;var n=e.read_shift(1);return e.l+=3,n&16&&(s.area=!0),s}function zfe(e){for(var t=kt(2*e),a=0;a<e;++a)t.write_shift(2,a+1);return t}var Hfe=lu,Vfe=_H,Wfe=Vv;function qfe(e){var t=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(4),n={fmt:t,env:a,len:s,data:e.slice(e.l,e.l+s)};return e.l+=s,n}function Gfe(e,t,a){a.biffguess&&a.biff==5&&(a.biff=2);var s=lu(e);++e.l;var n=Rm(e,t-7,a);return s.t="str",s.val=n,s}function Kfe(e){var t=lu(e);++e.l;var a=cl(e);return t.t="n",t.val=a,t}function Yfe(e,t,a){var s=kt(15);return Kv(s,e,t),s.write_shift(8,a,"f"),s}function Xfe(e){var t=lu(e);++e.l;var a=e.read_shift(2);return t.t="n",t.val=a,t}function Jfe(e,t,a){var s=kt(9);return Kv(s,e,t),s.write_shift(2,a),s}function Qfe(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function Zfe(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function e0e(e,t,a){var s=e.l+t,n=lu(e),i=e.read_shift(2),l=mm(e,i,a);return e.l=s,n.t="str",n.val=l,n}var t0e=[2,3,48,49,131,139,140,245],Qk=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=Wj({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function a(o,c){var d=[],u=Df(1);switch(c.type){case"base64":u=Eo(Oo(o));break;case"binary":u=Eo(o);break;case"buffer":case"array":u=o;break}Ui(u,0);var f=u.read_shift(1),x=!!(f&136),m=!1,g=!1;switch(f){case 2:break;case 3:break;case 48:m=!0,x=!0;break;case 49:m=!0,x=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var v=0,b=521;f==2&&(v=u.read_shift(2)),u.l+=3,f!=2&&(v=u.read_shift(4)),v>1048576&&(v=1e6),f!=2&&(b=u.read_shift(2));var j=u.read_shift(2),S=c.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(S=e[u[u.l]]),u.l+=1,u.l+=2),g&&(u.l+=36);for(var k=[],N={},A=Math.min(u.length,f==2?521:b-10-(m?264:0)),_=g?32:11;u.l<A&&u[u.l]!=13;)switch(N={},N.name=q1.utils.decode(S,u.slice(u.l,u.l+_)).replace(/[\u0000\r\n].*$/g,""),u.l+=_,N.type=String.fromCharCode(u.read_shift(1)),f!=2&&!g&&(N.offset=u.read_shift(4)),N.len=u.read_shift(1),f==2&&(N.offset=u.read_shift(2)),N.dec=u.read_shift(1),N.name.length&&k.push(N),f!=2&&(u.l+=g?13:14),N.type){case"B":(!m||N.len!=8)&&c.WTF&&console.log("Skipping "+N.name+":"+N.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+N.name+":"+N.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+N.type)}if(u[u.l]!==13&&(u.l=b-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=b;var D=0,P=0;for(d[0]=[],P=0;P!=k.length;++P)d[0][P]=k[P].name;for(;v-- >0;){if(u[u.l]===42){u.l+=j;continue}for(++u.l,d[++D]=[],P=0,P=0;P!=k.length;++P){var I=u.slice(u.l,u.l+k[P].len);u.l+=k[P].len,Ui(I,0);var B=q1.utils.decode(S,I);switch(k[P].type){case"C":B.trim().length&&(d[D][P]=B.replace(/\s+$/,""));break;case"D":B.length===8?d[D][P]=new Date(+B.slice(0,4),+B.slice(4,6)-1,+B.slice(6,8)):d[D][P]=B;break;case"F":d[D][P]=parseFloat(B.trim());break;case"+":case"I":d[D][P]=g?I.read_shift(-4,"i")^2147483648:I.read_shift(4,"i");break;case"L":switch(B.trim().toUpperCase()){case"Y":case"T":d[D][P]=!0;break;case"N":case"F":d[D][P]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+B+"|")}break;case"M":if(!x)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));d[D][P]="##MEMO##"+(g?parseInt(B.trim(),10):I.read_shift(4));break;case"N":B=B.replace(/\u0000/g,"").trim(),B&&B!="."&&(d[D][P]=+B||0);break;case"@":d[D][P]=new Date(I.read_shift(-8,"f")-621356832e5);break;case"T":d[D][P]=new Date((I.read_shift(4)-2440588)*864e5+I.read_shift(4));break;case"Y":d[D][P]=I.read_shift(4,"i")/1e4+I.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[D][P]=-I.read_shift(-8,"f");break;case"B":if(m&&k[P].len==8){d[D][P]=I.read_shift(8,"f");break}case"G":case"P":I.l+=k[P].len;break;case"0":if(k[P].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+k[P].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return c&&c.sheetRows&&(d=d.slice(0,c.sheetRows)),c.DBF=k,d}function s(o,c){var d=c||{};d.dateNF||(d.dateNF="yyyymmdd");var u=Cx(a(o,d),d);return u["!cols"]=d.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete d.DBF,u}function n(o,c){try{return Vf(s(o,c),c)}catch(d){if(c&&c.WTF)throw d}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function l(o,c){var d=c||{};if(+d.codepage>=0&&id(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var u=ro(),f=pw(o,{header:1,raw:!0,cellDates:!0}),x=f[0],m=f.slice(1),g=o["!cols"]||[],v=0,b=0,j=0,S=1;for(v=0;v<x.length;++v){if(((g[v]||{}).DBF||{}).name){x[v]=g[v].DBF.name,++j;continue}if(x[v]!=null){if(++j,typeof x[v]=="number"&&(x[v]=x[v].toString(10)),typeof x[v]!="string")throw new Error("DBF Invalid column name "+x[v]+" |"+typeof x[v]+"|");if(x.indexOf(x[v])!==v){for(b=0;b<1024;++b)if(x.indexOf(x[v]+"_"+b)==-1){x[v]+="_"+b;break}}}}var k=Cr(o["!ref"]),N=[],A=[],_=[];for(v=0;v<=k.e.c-k.s.c;++v){var D="",P="",I=0,B=[];for(b=0;b<m.length;++b)m[b][v]!=null&&B.push(m[b][v]);if(B.length==0||x[v]==null){N[v]="?";continue}for(b=0;b<B.length;++b){switch(typeof B[b]){case"number":P="B";break;case"string":P="C";break;case"boolean":P="L";break;case"object":P=B[b]instanceof Date?"D":"C";break;default:P="C"}I=Math.max(I,String(B[b]).length),D=D&&D!=P?"C":P}I>250&&(I=250),P=((g[v]||{}).DBF||{}).type,P=="C"&&g[v].DBF.len>I&&(I=g[v].DBF.len),D=="B"&&P=="N"&&(D="N",_[v]=g[v].DBF.dec,I=g[v].DBF.len),A[v]=D=="C"||P=="N"?I:i[D]||0,S+=A[v],N[v]=D}var O=u.next(32);for(O.write_shift(4,318902576),O.write_shift(4,m.length),O.write_shift(2,296+32*j),O.write_shift(2,S),v=0;v<4;++v)O.write_shift(4,0);for(O.write_shift(4,0|(+t[Az]||3)<<8),v=0,b=0;v<x.length;++v)if(x[v]!=null){var U=u.next(32),E=(x[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);U.write_shift(1,E,"sbcs"),U.write_shift(1,N[v]=="?"?"C":N[v],"sbcs"),U.write_shift(4,b),U.write_shift(1,A[v]||i[N[v]]||0),U.write_shift(1,_[v]||0),U.write_shift(1,2),U.write_shift(4,0),U.write_shift(1,0),U.write_shift(4,0),U.write_shift(4,0),b+=A[v]||i[N[v]]||0}var R=u.next(264);for(R.write_shift(4,13),v=0;v<65;++v)R.write_shift(4,0);for(v=0;v<m.length;++v){var K=u.next(S);for(K.write_shift(1,0),b=0;b<x.length;++b)if(x[b]!=null)switch(N[b]){case"L":K.write_shift(1,m[v][b]==null?63:m[v][b]?84:70);break;case"B":K.write_shift(8,m[v][b]||0,"f");break;case"N":var V="0";for(typeof m[v][b]=="number"&&(V=m[v][b].toFixed(_[b]||0)),j=0;j<A[b]-V.length;++j)K.write_shift(1,32);K.write_shift(1,V,"sbcs");break;case"D":m[v][b]?(K.write_shift(4,("0000"+m[v][b].getFullYear()).slice(-4),"sbcs"),K.write_shift(2,("00"+(m[v][b].getMonth()+1)).slice(-2),"sbcs"),K.write_shift(2,("00"+m[v][b].getDate()).slice(-2),"sbcs")):K.write_shift(8,"00000000","sbcs");break;case"C":var Z=String(m[v][b]!=null?m[v][b]:"").slice(0,A[b]);for(K.write_shift(1,Z,"sbcs"),j=0;j<A[b]-Z.length;++j)K.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:n,to_sheet:s,from_sheet:l}})(),BH=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+tn(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),a=function(x,m){var g=e[m];return typeof g=="number"?VM(g):g},s=function(x,m,g){var v=m.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return v==59?x:VM(v)};e["|"]=254;function n(x,m){switch(m.type){case"base64":return i(Oo(x),m);case"binary":return i(x,m);case"buffer":return i(nr&&Buffer.isBuffer(x)?x.toString("binary"):Hf(x),m);case"array":return i(hm(x),m)}throw new Error("Unrecognized type "+m.type)}function i(x,m){var g=x.split(/[\n\r]+/),v=-1,b=-1,j=0,S=0,k=[],N=[],A=null,_={},D=[],P=[],I=[],B=0,O;for(+m.codepage>=0&&id(+m.codepage);j!==g.length;++j){B=0;var U=g[j].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,s).replace(t,a),E=U.replace(/;;/g,"\0").split(";").map(function(Q){return Q.replace(/\u0000/g,";")}),R=E[0],K;if(U.length>0)switch(R){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":E[1].charAt(0)=="P"&&N.push(U.slice(3).replace(/;;/g,";"));break;case"C":var V=!1,Z=!1,J=!1,ee=!1,W=-1,le=-1;for(S=1;S<E.length;++S)switch(E[S].charAt(0)){case"A":break;case"X":b=parseInt(E[S].slice(1))-1,Z=!0;break;case"Y":for(v=parseInt(E[S].slice(1))-1,Z||(b=0),O=k.length;O<=v;++O)k[O]=[];break;case"K":K=E[S].slice(1),K.charAt(0)==='"'?K=K.slice(1,K.length-1):K==="TRUE"?K=!0:K==="FALSE"?K=!1:isNaN(od(K))?isNaN(ix(K).getDate())||(K=ps(K)):(K=od(K),A!==null&&Sx(A)&&(K=Gj(K))),V=!0;break;case"E":ee=!0;var M=Kp(E[S].slice(1),{r:v,c:b});k[v][b]=[k[v][b],M];break;case"S":J=!0,k[v][b]=[k[v][b],"S5S"];break;case"G":break;case"R":W=parseInt(E[S].slice(1))-1;break;case"C":le=parseInt(E[S].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+U)}if(V&&(k[v][b]&&k[v][b].length==2?k[v][b][0]=K:k[v][b]=K,A=null),J){if(ee)throw new Error("SYLK shared formula cannot have own formula");var X=W>-1&&k[W][le];if(!X||!X[1])throw new Error("SYLK shared formula cannot find base");k[v][b][1]=rV(X[1],{r:v-W,c:b-le})}break;case"F":var z=0;for(S=1;S<E.length;++S)switch(E[S].charAt(0)){case"X":b=parseInt(E[S].slice(1))-1,++z;break;case"Y":for(v=parseInt(E[S].slice(1))-1,O=k.length;O<=v;++O)k[O]=[];break;case"M":B=parseInt(E[S].slice(1))/20;break;case"F":break;case"G":break;case"P":A=N[parseInt(E[S].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(I=E[S].slice(1).split(" "),O=parseInt(I[0],10);O<=parseInt(I[1],10);++O)B=parseInt(I[2],10),P[O-1]=B===0?{hidden:!0}:{wch:B},Mf(P[O-1]);break;case"C":b=parseInt(E[S].slice(1))-1,P[b]||(P[b]={});break;case"R":v=parseInt(E[S].slice(1))-1,D[v]||(D[v]={}),B>0?(D[v].hpt=B,D[v].hpx=ox(B)):B===0&&(D[v].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+U)}z<1&&(A=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+U)}}return D.length>0&&(_["!rows"]=D),P.length>0&&(_["!cols"]=P),m&&m.sheetRows&&(k=k.slice(0,m.sheetRows)),[k,_]}function l(x,m){var g=n(x,m),v=g[0],b=g[1],j=Cx(v,m);return tn(b).forEach(function(S){j[S]=b[S]}),j}function o(x,m){return Vf(l(x,m),m)}function c(x,m,g,v){var b="C;Y"+(g+1)+";X"+(v+1)+";K";switch(x.t){case"n":b+=x.v||0,x.f&&!x.F&&(b+=";E"+WA(x.f,{r:g,c:v}));break;case"b":b+=x.v?"TRUE":"FALSE";break;case"e":b+=x.w||x.v;break;case"d":b+='"'+(x.w||x.v)+'"';break;case"s":b+='"'+x.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return b}function d(x,m){m.forEach(function(g,v){var b="F;W"+(v+1)+" "+(v+1)+" ";g.hidden?b+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=ev(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=tv(g.wpx)),typeof g.wch=="number"&&(b+=Math.round(g.wch))),b.charAt(b.length-1)!=" "&&x.push(b)})}function u(x,m){m.forEach(function(g,v){var b="F;";g.hidden?b+="M0;":g.hpt?b+="M"+20*g.hpt+";":g.hpx&&(b+="M"+20*av(g.hpx)+";"),b.length>2&&x.push(b+"R"+(v+1))})}function f(x,m){var g=["ID;PWXL;N;E"],v=[],b=Cr(x["!ref"]),j,S=Array.isArray(x),k=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),x["!cols"]&&d(g,x["!cols"]),x["!rows"]&&u(g,x["!rows"]),g.push("B;Y"+(b.e.r-b.s.r+1)+";X"+(b.e.c-b.s.c+1)+";D"+[b.s.c,b.s.r,b.e.c,b.e.r].join(" "));for(var N=b.s.r;N<=b.e.r;++N)for(var A=b.s.c;A<=b.e.c;++A){var _=Da({r:N,c:A});j=S?(x[N]||[])[A]:x[_],!(!j||j.v==null&&(!j.f||j.F))&&v.push(c(j,x,N,A))}return g.join(k)+k+v.join(k)+k+"E"+k}return{to_workbook:o,to_sheet:l,from_sheet:f}})(),$H=(function(){function e(i,l){switch(l.type){case"base64":return t(Oo(i),l);case"binary":return t(i,l);case"buffer":return t(nr&&Buffer.isBuffer(i)?i.toString("binary"):Hf(i),l);case"array":return t(hm(i),l)}throw new Error("Unrecognized type "+l.type)}function t(i,l){for(var o=i.split(`
`),c=-1,d=-1,u=0,f=[];u!==o.length;++u){if(o[u].trim()==="BOT"){f[++c]=[],d=0;continue}if(!(c<0)){var x=o[u].trim().split(","),m=x[0],g=x[1];++u;for(var v=o[u]||"";(v.match(/["]/g)||[]).length&1&&u<o.length-1;)v+=`
`+o[++u];switch(v=v.trim(),+m){case-1:if(v==="BOT"){f[++c]=[],d=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?f[c][d]=!0:v==="FALSE"?f[c][d]=!1:isNaN(od(g))?isNaN(ix(g).getDate())?f[c][d]=g:f[c][d]=ps(g):f[c][d]=od(g),++d;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),f[c][d++]=v!==""?v:null;break}if(v==="EOD")break}}return l&&l.sheetRows&&(f=f.slice(0,l.sheetRows)),f}function a(i,l){return Cx(e(i,l),l)}function s(i,l){return Vf(a(i,l),l)}var n=(function(){var i=function(c,d,u,f,x){c.push(d),c.push(u+","+f),c.push('"'+x.replace(/"/g,'""')+'"')},l=function(c,d,u,f){c.push(d+","+u),c.push(d==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var d=[],u=Cr(c["!ref"]),f,x=Array.isArray(c);i(d,"TABLE",0,1,"sheetjs"),i(d,"VECTORS",0,u.e.r-u.s.r+1,""),i(d,"TUPLES",0,u.e.c-u.s.c+1,""),i(d,"DATA",0,0,"");for(var m=u.s.r;m<=u.e.r;++m){l(d,-1,0,"BOT");for(var g=u.s.c;g<=u.e.c;++g){var v=Da({r:m,c:g});if(f=x?(c[m]||[])[g]:c[v],!f){l(d,1,0,"");continue}switch(f.t){case"n":var b=f.w;!b&&f.v!=null&&(b=f.v),b==null?f.f&&!f.F?l(d,1,0,"="+f.f):l(d,1,0,""):l(d,0,b,"V");break;case"b":l(d,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":l(d,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=yc(f.z||Ea[14],ei(ps(f.v)))),l(d,0,f.w,"V");break;default:l(d,1,0,"")}}}l(d,-1,0,"EOD");var j=`\r
`,S=d.join(j);return S}})();return{to_workbook:s,to_sheet:a,from_sheet:n}})(),UH=(function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function a(f,x){for(var m=f.split(`
`),g=-1,v=-1,b=0,j=[];b!==m.length;++b){var S=m[b].trim().split(":");if(S[0]==="cell"){var k=Vs(S[1]);if(j.length<=k.r)for(g=j.length;g<=k.r;++g)j[g]||(j[g]=[]);switch(g=k.r,v=k.c,S[2]){case"t":j[g][v]=e(S[3]);break;case"v":j[g][v]=+S[3];break;case"vtf":var N=S[S.length-1];case"vtc":switch(S[3]){case"nl":j[g][v]=!!+S[4];break;default:j[g][v]=+S[4];break}S[2]=="vtf"&&(j[g][v]=[j[g][v],N])}}}return x&&x.sheetRows&&(j=j.slice(0,x.sheetRows)),j}function s(f,x){return Cx(a(f,x),x)}function n(f,x){return Vf(s(f,x),x)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function d(f){if(!f||!f["!ref"])return"";for(var x=[],m=[],g,v="",b=so(f["!ref"]),j=Array.isArray(f),S=b.s.r;S<=b.e.r;++S)for(var k=b.s.c;k<=b.e.c;++k)if(v=Da({r:S,c:k}),g=j?(f[S]||[])[k]:f[v],!(!g||g.v==null||g.t==="z")){switch(m=["cell",v,"t"],g.t){case"s":case"str":m.push(t(g.v));break;case"n":g.f?(m[2]="vtf",m[3]="n",m[4]=g.v,m[5]=t(g.f)):(m[2]="v",m[3]=g.v);break;case"b":m[2]="vt"+(g.f?"f":"c"),m[3]="nl",m[4]=g.v?"1":"0",m[5]=t(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var N=ei(ps(g.v));m[2]="vtc",m[3]="nd",m[4]=""+N,m[5]=g.w||yc(g.z||Ea[14],N);break;case"e":continue}x.push(m.join(":"))}return x.push("sheet:c:"+(b.e.c-b.s.c+1)+":r:"+(b.e.r-b.s.r+1)+":tvf:1"),x.push("valueformat:1:text-wiki"),x.join(`
`)}function u(f){return[i,l,o,l,d(f),c].join(`
`)}return{to_workbook:n,to_sheet:s,from_sheet:u}})(),lx=(function(){function e(u,f,x,m,g){g.raw?f[x][m]=u:u===""||(u==="TRUE"?f[x][m]=!0:u==="FALSE"?f[x][m]=!1:isNaN(od(u))?isNaN(ix(u).getDate())?f[x][m]=u:f[x][m]=ps(u):f[x][m]=od(u))}function t(u,f){var x=f||{},m=[];if(!u||u.length===0)return m;for(var g=u.split(/[\r\n]/),v=g.length-1;v>=0&&g[v].length===0;)--v;for(var b=10,j=0,S=0;S<=v;++S)j=g[S].indexOf(" "),j==-1?j=g[S].length:j++,b=Math.max(b,j);for(S=0;S<=v;++S){m[S]=[];var k=0;for(e(g[S].slice(0,b).trim(),m,S,k,x),k=1;k<=(g[S].length-b)/10+1;++k)e(g[S].slice(b+(k-1)*10,b+k*10).trim(),m,S,k,x)}return x.sheetRows&&(m=m.slice(0,x.sheetRows)),m}var a={44:",",9:"	",59:";",124:"|"},s={44:3,9:2,59:1,124:0};function n(u){for(var f={},x=!1,m=0,g=0;m<u.length;++m)(g=u.charCodeAt(m))==34?x=!x:!x&&g in a&&(f[g]=(f[g]||0)+1);g=[];for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&g.push([f[m],m]);if(!g.length){f=s;for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&g.push([f[m],m])}return g.sort(function(v,b){return v[0]-b[0]||s[v[1]]-s[b[1]]}),a[g.pop()[1]]||44}function i(u,f){var x=f||{},m="",g=x.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(m=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(m=u.charAt(4),u=u.slice(6)):m=n(u.slice(0,1024)):x&&x.FS?m=x.FS:m=n(u.slice(0,1024));var b=0,j=0,S=0,k=0,N=0,A=m.charCodeAt(0),_=!1,D=0,P=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var I=x.dateNF!=null?Ude(x.dateNF):null;function B(){var O=u.slice(k,N),U={};if(O.charAt(0)=='"'&&O.charAt(O.length-1)=='"'&&(O=O.slice(1,-1).replace(/""/g,'"')),O.length===0)U.t="z";else if(x.raw)U.t="s",U.v=O;else if(O.trim().length===0)U.t="s",U.v=O;else if(O.charCodeAt(0)==61)O.charCodeAt(1)==34&&O.charCodeAt(O.length-1)==34?(U.t="s",U.v=O.slice(2,-1).replace(/""/g,'"')):xpe(O)?(U.t="n",U.f=O.slice(1)):(U.t="s",U.v=O);else if(O=="TRUE")U.t="b",U.v=!0;else if(O=="FALSE")U.t="b",U.v=!1;else if(!isNaN(S=od(O)))U.t="n",x.cellText!==!1&&(U.w=O),U.v=S;else if(!isNaN(ix(O).getDate())||I&&O.match(I)){U.z=x.dateNF||Ea[14];var E=0;I&&O.match(I)&&(O=zde(O,x.dateNF,O.match(I)||[]),E=1),x.cellDates?(U.t="d",U.v=ps(O,E)):(U.t="n",U.v=ei(ps(O,E))),x.cellText!==!1&&(U.w=yc(U.z,U.v instanceof Date?ei(U.v):U.v)),x.cellNF||delete U.z}else U.t="s",U.v=O;if(U.t=="z"||(x.dense?(g[b]||(g[b]=[]),g[b][j]=U):g[Da({c:j,r:b})]=U),k=N+1,P=u.charCodeAt(k),v.e.c<j&&(v.e.c=j),v.e.r<b&&(v.e.r=b),D==A)++j;else if(j=0,++b,x.sheetRows&&x.sheetRows<=b)return!0}e:for(;N<u.length;++N)switch(D=u.charCodeAt(N)){case 34:P===34&&(_=!_);break;case A:case 10:case 13:if(!_&&B())break e;break}return N-k>0&&B(),g["!ref"]=Qa(v),g}function l(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,f):Cx(t(u,f),f)}function o(u,f){var x="",m=f.type=="string"?[0,0,0,0]:e8(u,f);switch(f.type){case"base64":x=Oo(u);break;case"binary":x=u;break;case"buffer":f.codepage==65001?x=u.toString("utf8"):f.codepage&&typeof q1<"u"||(x=nr&&Buffer.isBuffer(u)?u.toString("binary"):Hf(u));break;case"array":x=hm(u);break;case"string":x=u;break;default:throw new Error("Unrecognized type "+f.type)}return m[0]==239&&m[1]==187&&m[2]==191?x=Jr(x.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?x=Jr(x):f.type=="binary"&&typeof q1<"u",x.slice(0,19)=="socialcalc:version:"?UH.to_sheet(f.type=="string"?x:Jr(x),f):l(x,f)}function c(u,f){return Vf(o(u,f),f)}function d(u){for(var f=[],x=Cr(u["!ref"]),m,g=Array.isArray(u),v=x.s.r;v<=x.e.r;++v){for(var b=[],j=x.s.c;j<=x.e.c;++j){var S=Da({r:v,c:j});if(m=g?(u[v]||[])[j]:u[S],!m||m.v==null){b.push("          ");continue}for(var k=(m.w||(ch(m),m.w)||"").slice(0,10);k.length<10;)k+=" ";b.push(k+(j===0?" ":""))}f.push(b.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:o,from_sheet:d}})();function a0e(e,t){var a=t||{},s=!!a.WTF;a.WTF=!0;try{var n=BH.to_workbook(e,a);return a.WTF=s,n}catch(i){if(a.WTF=s,!i.message.match(/SYLK bad record ID/)&&s)throw i;return lx.to_workbook(e,t)}}var X0=(function(){function e(M,X,z){if(M){Ui(M,M.l||0);for(var Q=z.Enum||W;M.l<M.length;){var ne=M.read_shift(2),re=Q[ne]||Q[65535],oe=M.read_shift(2),q=M.l+oe,ie=re.f&&re.f(M,oe,z);if(M.l=q,X(ie,re,ne))return}}}function t(M,X){switch(X.type){case"base64":return a(Eo(Oo(M)),X);case"binary":return a(Eo(M),X);case"buffer":case"array":return a(M,X)}throw"Unsupported type "+X.type}function a(M,X){if(!M)return M;var z=X||{},Q=z.dense?[]:{},ne="Sheet1",re="",oe=0,q={},ie=[],ye=[],Y={s:{r:0,c:0},e:{r:0,c:0}},ce=z.sheetRows||0;if(M[2]==0&&(M[3]==8||M[3]==9)&&M.length>=16&&M[14]==5&&M[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(M[2]==2)z.Enum=W,e(M,function(Ue,Te,ae){switch(ae){case 0:z.vers=Ue,Ue>=4096&&(z.qpro=!0);break;case 6:Y=Ue;break;case 204:Ue&&(re=Ue);break;case 222:re=Ue;break;case 15:case 51:z.qpro||(Ue[1].v=Ue[1].v.slice(1));case 13:case 14:case 16:ae==14&&(Ue[2]&112)==112&&(Ue[2]&15)>1&&(Ue[2]&15)<15&&(Ue[1].z=z.dateNF||Ea[14],z.cellDates&&(Ue[1].t="d",Ue[1].v=Gj(Ue[1].v))),z.qpro&&Ue[3]>oe&&(Q["!ref"]=Qa(Y),q[ne]=Q,ie.push(ne),Q=z.dense?[]:{},Y={s:{r:0,c:0},e:{r:0,c:0}},oe=Ue[3],ne=re||"Sheet"+(oe+1),re="");var De=z.dense?(Q[Ue[0].r]||[])[Ue[0].c]:Q[Da(Ue[0])];if(De){De.t=Ue[1].t,De.v=Ue[1].v,Ue[1].z!=null&&(De.z=Ue[1].z),Ue[1].f!=null&&(De.f=Ue[1].f);break}z.dense?(Q[Ue[0].r]||(Q[Ue[0].r]=[]),Q[Ue[0].r][Ue[0].c]=Ue[1]):Q[Da(Ue[0])]=Ue[1];break}},z);else if(M[2]==26||M[2]==14)z.Enum=le,M[2]==14&&(z.qpro=!0,M.l=0),e(M,function(Ue,Te,ae){switch(ae){case 204:ne=Ue;break;case 22:Ue[1].v=Ue[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ue[3]>oe&&(Q["!ref"]=Qa(Y),q[ne]=Q,ie.push(ne),Q=z.dense?[]:{},Y={s:{r:0,c:0},e:{r:0,c:0}},oe=Ue[3],ne="Sheet"+(oe+1)),ce>0&&Ue[0].r>=ce)break;z.dense?(Q[Ue[0].r]||(Q[Ue[0].r]=[]),Q[Ue[0].r][Ue[0].c]=Ue[1]):Q[Da(Ue[0])]=Ue[1],Y.e.c<Ue[0].c&&(Y.e.c=Ue[0].c),Y.e.r<Ue[0].r&&(Y.e.r=Ue[0].r);break;case 27:Ue[14e3]&&(ye[Ue[14e3][0]]=Ue[14e3][1]);break;case 1537:ye[Ue[0]]=Ue[1],Ue[0]==oe&&(ne=Ue[1]);break}},z);else throw new Error("Unrecognized LOTUS BOF "+M[2]);if(Q["!ref"]=Qa(Y),q[re||ne]=Q,ie.push(re||ne),!ye.length)return{SheetNames:ie,Sheets:q};for(var he={},ue=[],Fe=0;Fe<ye.length;++Fe)q[ie[Fe]]?(ue.push(ye[Fe]||ie[Fe]),he[ye[Fe]]=q[ye[Fe]]||q[ie[Fe]]):(ue.push(ye[Fe]),he[ye[Fe]]={"!ref":"A1"});return{SheetNames:ue,Sheets:he}}function s(M,X){var z=X||{};if(+z.codepage>=0&&id(+z.codepage),z.type=="string")throw new Error("Cannot write WK1 to JS string");var Q=ro(),ne=Cr(M["!ref"]),re=Array.isArray(M),oe=[];Yt(Q,0,i(1030)),Yt(Q,6,c(ne));for(var q=Math.min(ne.e.r,8191),ie=ne.s.r;ie<=q;++ie)for(var ye=Sn(ie),Y=ne.s.c;Y<=ne.e.c;++Y){ie===ne.s.r&&(oe[Y]=Hs(Y));var ce=oe[Y]+ye,he=re?(M[ie]||[])[Y]:M[ce];if(!(!he||he.t=="z"))if(he.t=="n")(he.v|0)==he.v&&he.v>=-32768&&he.v<=32767?Yt(Q,13,m(ie,Y,he.v)):Yt(Q,14,v(ie,Y,he.v));else{var ue=ch(he);Yt(Q,15,f(ie,Y,ue.slice(0,239)))}}return Yt(Q,1),Q.end()}function n(M,X){var z=X||{};if(+z.codepage>=0&&id(+z.codepage),z.type=="string")throw new Error("Cannot write WK3 to JS string");var Q=ro();Yt(Q,0,l(M));for(var ne=0,re=0;ne<M.SheetNames.length;++ne)(M.Sheets[M.SheetNames[ne]]||{})["!ref"]&&Yt(Q,27,ee(M.SheetNames[ne],re++));var oe=0;for(ne=0;ne<M.SheetNames.length;++ne){var q=M.Sheets[M.SheetNames[ne]];if(!(!q||!q["!ref"])){for(var ie=Cr(q["!ref"]),ye=Array.isArray(q),Y=[],ce=Math.min(ie.e.r,8191),he=ie.s.r;he<=ce;++he)for(var ue=Sn(he),Fe=ie.s.c;Fe<=ie.e.c;++Fe){he===ie.s.r&&(Y[Fe]=Hs(Fe));var Ue=Y[Fe]+ue,Te=ye?(q[he]||[])[Fe]:q[Ue];if(!(!Te||Te.t=="z"))if(Te.t=="n")Yt(Q,23,B(he,Fe,oe,Te.v));else{var ae=ch(Te);Yt(Q,22,D(he,Fe,oe,ae.slice(0,239)))}}++oe}}return Yt(Q,1),Q.end()}function i(M){var X=kt(2);return X.write_shift(2,M),X}function l(M){var X=kt(26);X.write_shift(2,4096),X.write_shift(2,4),X.write_shift(4,0);for(var z=0,Q=0,ne=0,re=0;re<M.SheetNames.length;++re){var oe=M.SheetNames[re],q=M.Sheets[oe];if(!(!q||!q["!ref"])){++ne;var ie=so(q["!ref"]);z<ie.e.r&&(z=ie.e.r),Q<ie.e.c&&(Q=ie.e.c)}}return z>8191&&(z=8191),X.write_shift(2,z),X.write_shift(1,ne),X.write_shift(1,Q),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(1,1),X.write_shift(1,2),X.write_shift(4,0),X.write_shift(4,0),X}function o(M,X,z){var Q={s:{c:0,r:0},e:{c:0,r:0}};return X==8&&z.qpro?(Q.s.c=M.read_shift(1),M.l++,Q.s.r=M.read_shift(2),Q.e.c=M.read_shift(1),M.l++,Q.e.r=M.read_shift(2),Q):(Q.s.c=M.read_shift(2),Q.s.r=M.read_shift(2),X==12&&z.qpro&&(M.l+=2),Q.e.c=M.read_shift(2),Q.e.r=M.read_shift(2),X==12&&z.qpro&&(M.l+=2),Q.s.c==65535&&(Q.s.c=Q.e.c=Q.s.r=Q.e.r=0),Q)}function c(M){var X=kt(8);return X.write_shift(2,M.s.c),X.write_shift(2,M.s.r),X.write_shift(2,M.e.c),X.write_shift(2,M.e.r),X}function d(M,X,z){var Q=[{c:0,r:0},{t:"n",v:0},0,0];return z.qpro&&z.vers!=20768?(Q[0].c=M.read_shift(1),Q[3]=M.read_shift(1),Q[0].r=M.read_shift(2),M.l+=2):(Q[2]=M.read_shift(1),Q[0].c=M.read_shift(2),Q[0].r=M.read_shift(2)),Q}function u(M,X,z){var Q=M.l+X,ne=d(M,X,z);if(ne[1].t="s",z.vers==20768){M.l++;var re=M.read_shift(1);return ne[1].v=M.read_shift(re,"utf8"),ne}return z.qpro&&M.l++,ne[1].v=M.read_shift(Q-M.l,"cstr"),ne}function f(M,X,z){var Q=kt(7+z.length);Q.write_shift(1,255),Q.write_shift(2,X),Q.write_shift(2,M),Q.write_shift(1,39);for(var ne=0;ne<Q.length;++ne){var re=z.charCodeAt(ne);Q.write_shift(1,re>=128?95:re)}return Q.write_shift(1,0),Q}function x(M,X,z){var Q=d(M,X,z);return Q[1].v=M.read_shift(2,"i"),Q}function m(M,X,z){var Q=kt(7);return Q.write_shift(1,255),Q.write_shift(2,X),Q.write_shift(2,M),Q.write_shift(2,z,"i"),Q}function g(M,X,z){var Q=d(M,X,z);return Q[1].v=M.read_shift(8,"f"),Q}function v(M,X,z){var Q=kt(13);return Q.write_shift(1,255),Q.write_shift(2,X),Q.write_shift(2,M),Q.write_shift(8,z,"f"),Q}function b(M,X,z){var Q=M.l+X,ne=d(M,X,z);if(ne[1].v=M.read_shift(8,"f"),z.qpro)M.l=Q;else{var re=M.read_shift(2);N(M.slice(M.l,M.l+re),ne),M.l+=re}return ne}function j(M,X,z){var Q=X&32768;return X&=-32769,X=(Q?M:0)+(X>=8192?X-16384:X),(Q?"":"$")+(z?Hs(X):Sn(X))}var S={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},k=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function N(M,X){Ui(M,0);for(var z=[],Q=0,ne="",re="",oe="",q="";M.l<M.length;){var ie=M[M.l++];switch(ie){case 0:z.push(M.read_shift(8,"f"));break;case 1:re=j(X[0].c,M.read_shift(2),!0),ne=j(X[0].r,M.read_shift(2),!1),z.push(re+ne);break;case 2:{var ye=j(X[0].c,M.read_shift(2),!0),Y=j(X[0].r,M.read_shift(2),!1);re=j(X[0].c,M.read_shift(2),!0),ne=j(X[0].r,M.read_shift(2),!1),z.push(ye+Y+":"+re+ne)}break;case 3:if(M.l<M.length){console.error("WK1 premature formula end");return}break;case 4:z.push("("+z.pop()+")");break;case 5:z.push(M.read_shift(2));break;case 6:{for(var ce="";ie=M[M.l++];)ce+=String.fromCharCode(ie);z.push('"'+ce.replace(/"/g,'""')+'"')}break;case 8:z.push("-"+z.pop());break;case 23:z.push("+"+z.pop());break;case 22:z.push("NOT("+z.pop()+")");break;case 20:case 21:q=z.pop(),oe=z.pop(),z.push(["AND","OR"][ie-20]+"("+oe+","+q+")");break;default:if(ie<32&&k[ie])q=z.pop(),oe=z.pop(),z.push(oe+k[ie]+q);else if(S[ie]){if(Q=S[ie][1],Q==69&&(Q=M[M.l++]),Q>z.length){console.error("WK1 bad formula parse 0x"+ie.toString(16)+":|"+z.join("|")+"|");return}var he=z.slice(-Q);z.length-=Q,z.push(S[ie][0]+"("+he.join(",")+")")}else return ie<=7?console.error("WK1 invalid opcode "+ie.toString(16)):ie<=24?console.error("WK1 unsupported op "+ie.toString(16)):ie<=30?console.error("WK1 invalid opcode "+ie.toString(16)):ie<=115?console.error("WK1 unsupported function opcode "+ie.toString(16)):console.error("WK1 unrecognized opcode "+ie.toString(16))}}z.length==1?X[1].f=""+z[0]:console.error("WK1 bad formula parse |"+z.join("|")+"|")}function A(M){var X=[{c:0,r:0},{t:"n",v:0},0];return X[0].r=M.read_shift(2),X[3]=M[M.l++],X[0].c=M[M.l++],X}function _(M,X){var z=A(M);return z[1].t="s",z[1].v=M.read_shift(X-4,"cstr"),z}function D(M,X,z,Q){var ne=kt(6+Q.length);ne.write_shift(2,M),ne.write_shift(1,z),ne.write_shift(1,X),ne.write_shift(1,39);for(var re=0;re<Q.length;++re){var oe=Q.charCodeAt(re);ne.write_shift(1,oe>=128?95:oe)}return ne.write_shift(1,0),ne}function P(M,X){var z=A(M);z[1].v=M.read_shift(2);var Q=z[1].v>>1;if(z[1].v&1)switch(Q&7){case 0:Q=(Q>>3)*5e3;break;case 1:Q=(Q>>3)*500;break;case 2:Q=(Q>>3)/20;break;case 3:Q=(Q>>3)/200;break;case 4:Q=(Q>>3)/2e3;break;case 5:Q=(Q>>3)/2e4;break;case 6:Q=(Q>>3)/16;break;case 7:Q=(Q>>3)/64;break}return z[1].v=Q,z}function I(M,X){var z=A(M),Q=M.read_shift(4),ne=M.read_shift(4),re=M.read_shift(2);if(re==65535)return Q===0&&ne===3221225472?(z[1].t="e",z[1].v=15):Q===0&&ne===3489660928?(z[1].t="e",z[1].v=42):z[1].v=0,z;var oe=re&32768;return re=(re&32767)-16446,z[1].v=(1-oe*2)*(ne*Math.pow(2,re+32)+Q*Math.pow(2,re)),z}function B(M,X,z,Q){var ne=kt(14);if(ne.write_shift(2,M),ne.write_shift(1,z),ne.write_shift(1,X),Q==0)return ne.write_shift(4,0),ne.write_shift(4,0),ne.write_shift(2,65535),ne;var re=0,oe=0,q=0,ie=0;return Q<0&&(re=1,Q=-Q),oe=Math.log2(Q)|0,Q/=Math.pow(2,oe-31),ie=Q>>>0,(ie&2147483648)==0&&(Q/=2,++oe,ie=Q>>>0),Q-=ie,ie|=2147483648,ie>>>=0,Q*=Math.pow(2,32),q=Q>>>0,ne.write_shift(4,q),ne.write_shift(4,ie),oe+=16383+(re?32768:0),ne.write_shift(2,oe),ne}function O(M,X){var z=I(M);return M.l+=X-14,z}function U(M,X){var z=A(M),Q=M.read_shift(4);return z[1].v=Q>>6,z}function E(M,X){var z=A(M),Q=M.read_shift(8,"f");return z[1].v=Q,z}function R(M,X){var z=E(M);return M.l+=X-10,z}function K(M,X){return M[M.l+X-1]==0?M.read_shift(X,"cstr"):""}function V(M,X){var z=M[M.l++];z>X-1&&(z=X-1);for(var Q="";Q.length<z;)Q+=String.fromCharCode(M[M.l++]);return Q}function Z(M,X,z){if(!(!z.qpro||X<21)){var Q=M.read_shift(1);M.l+=17,M.l+=1,M.l+=2;var ne=M.read_shift(X-21,"cstr");return[Q,ne]}}function J(M,X){for(var z={},Q=M.l+X;M.l<Q;){var ne=M.read_shift(2);if(ne==14e3){for(z[ne]=[0,""],z[ne][0]=M.read_shift(2);M[M.l];)z[ne][1]+=String.fromCharCode(M[M.l]),M.l++;M.l++}}return z}function ee(M,X){var z=kt(5+M.length);z.write_shift(2,14e3),z.write_shift(2,X);for(var Q=0;Q<M.length;++Q){var ne=M.charCodeAt(Q);z[z.l++]=ne>127?95:ne}return z[z.l++]=0,z}var W={0:{n:"BOF",f:On},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:x},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:b},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:K},222:{n:"SHEETNAMELP",f:V},65535:{n:""}},le={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:_},23:{n:"NUMBER17",f:I},24:{n:"NUMBER18",f:P},25:{n:"FORMULA19",f:O},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:J},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:U},38:{n:"??"},39:{n:"NUMBER27",f:E},40:{n:"FORMULA28",f:R},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:K},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Z},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:s,book_to_wk3:n,to_workbook:t}})();function r0e(e){var t={},a=e.match(gl),s=0,n=!1;if(a)for(;s!=a.length;++s){var i=Ra(a[s]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=xA[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(i[0].charCodeAt(1)!==47&&!n)throw new Error("Unrecognized rich format "+i[0])}}return t}var s0e=(function(){var e=Y1("t"),t=Y1("rPr");function a(i){var l=i.match(e);if(!l)return{t:"s",v:""};var o={t:"s",v:kr(l[1])},c=i.match(t);return c&&(o.s=r0e(c[1])),o}var s=/<(?:\w+:)?r>/g,n=/<\/(?:\w+:)?r>/;return function(l){return l.replace(s,"").split(n).map(a).filter(function(o){return o.v})}})(),n0e=(function(){var t=/(\r\n|\n)/g;function a(n,i,l){var o=[];n.u&&o.push("text-decoration: underline;"),n.uval&&o.push("text-underline-style:"+n.uval+";"),n.sz&&o.push("font-size:"+n.sz+"pt;"),n.outline&&o.push("text-effect: outline;"),n.shadow&&o.push("text-shadow: auto;"),i.push('<span style="'+o.join("")+'">'),n.b&&(i.push("<b>"),l.push("</b>")),n.i&&(i.push("<i>"),l.push("</i>")),n.strike&&(i.push("<s>"),l.push("</s>"));var c=n.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(i.push("<"+c+">"),l.push("</"+c+">")),l.push("</span>"),n}function s(n){var i=[[],n.v,[]];return n.v?(n.s&&a(n.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(s).join("")}})(),i0e=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,l0e=/<(?:\w+:)?r>/,o0e=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function $A(e,t){var a=t?t.cellHTML:!0,s={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(s.t=kr(Jr(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),s.r=Jr(e),a&&(s.h=CA(s.t))):e.match(l0e)&&(s.r=Jr(e),s.t=kr(Jr((e.replace(o0e,"").match(i0e)||[]).join("").replace(gl,""))),a&&(s.h=n0e(s0e(s.r)))),s):{t:""}}var c0e=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,d0e=/<(?:\w+:)?(?:si|sstItem)>/g,u0e=/<\/(?:\w+:)?(?:si|sstItem)>/;function h0e(e,t){var a=[],s="";if(!e)return a;var n=e.match(c0e);if(n){s=n[2].replace(d0e,"").split(u0e);for(var i=0;i!=s.length;++i){var l=$A(s[i].trim(),t);l!=null&&(a[a.length]=l)}n=Ra(n[1]),a.Count=n.count,a.Unique=n.uniqueCount}return a}var f0e=/^\s|\s$|[\t\n\r]/;function zH(e,t){if(!t.bookSST)return"";var a=[_n];a[a.length]=Gt("sst",null,{xmlns:Dm[0],count:e.Count,uniqueCount:e.Unique});for(var s=0;s!=e.length;++s)if(e[s]!=null){var n=e[s],i="<si>";n.r?i+=n.r:(i+="<t",n.t||(n.t=""),n.t.match(f0e)&&(i+=' xml:space="preserve"'),i+=">"+Wr(n.t)+"</t>"),i+="</si>",a[a.length]=i}return a.length>2&&(a[a.length]="</sst>",a[1]=a[1].replace("/>",">")),a.join("")}function m0e(e){return[e.read_shift(4),e.read_shift(4)]}function p0e(e,t){var a=[],s=!1;return wh(e,function(i,l,o){switch(o){case 159:a.Count=i[0],a.Unique=i[1];break;case 19:a.push(i);break;case 160:return!0;case 35:s=!0;break;case 36:s=!1;break;default:if(l.T,!s||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),a}function x0e(e,t){return t||(t=kt(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var g0e=Aue;function v0e(e){var t=ro();Bt(t,159,x0e(e));for(var a=0;a<e.length;++a)Bt(t,19,g0e(e[a]));return Bt(t,160),t.end()}function HH(e){for(var t=[],a=e.split(""),s=0;s<a.length;++s)t[s]=a[s].charCodeAt(0);return t}function sh(e,t){var a={};return a.Major=e.read_shift(2),a.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),a}function b0e(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=sh(e,4),t.U=sh(e,4),t.W=sh(e,4),t}function y0e(e){for(var t=e.read_shift(4),a=e.l+t-4,s={},n=e.read_shift(4),i=[];n-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(s.name=e.read_shift(0,"lpp4"),s.comps=i,e.l!=a)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+a);return s}function w0e(e){var t=[];e.l+=4;for(var a=e.read_shift(4);a-- >0;)t.push(y0e(e));return t}function j0e(e){var t=[];e.l+=4;for(var a=e.read_shift(4);a-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function N0e(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=sh(e,4),t.U=sh(e,4),t.W=sh(e,4),t}function S0e(e){var t=N0e(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function VH(e,t){var a=e.l+t,s={};s.Flags=e.read_shift(4)&63,e.l+=4,s.AlgID=e.read_shift(4);var n=!1;switch(s.AlgID){case 26126:case 26127:case 26128:n=s.Flags==36;break;case 26625:n=s.Flags==4;break;case 0:n=s.Flags==16||s.Flags==4||s.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+s.AlgID}if(!n)throw new Error("Encryption Flags/AlgID mismatch");return s.AlgIDHash=e.read_shift(4),s.KeySize=e.read_shift(4),s.ProviderType=e.read_shift(4),e.l+=8,s.CSPName=e.read_shift(a-e.l>>1,"utf16le"),e.l=a,s}function WH(e,t){var a={},s=e.l+t;return e.l+=4,a.Salt=e.slice(e.l,e.l+16),e.l+=16,a.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),a.VerifierHash=e.slice(e.l,s),e.l=s,a}function k0e(e){var t=sh(e);switch(t.Minor){case 2:return[t.Minor,C0e(e)];case 3:return[t.Minor,A0e()];case 4:return[t.Minor,_0e(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function C0e(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var a=e.read_shift(4),s=VH(e,a),n=WH(e,e.length-e.l);return{t:"Std",h:s,v:n}}function A0e(){throw new Error("File is password-protected: ECMA-376 Extensible")}function _0e(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var a=e.read_shift(e.length-e.l,"utf8"),s={};return a.replace(gl,function(i){var l=Ra(i);switch(iu(l[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){s[o]=l[o]});break;case"<dataIntegrity":s.encryptedHmacKey=l.encryptedHmacKey,s.encryptedHmacValue=l.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":s.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":s.uri=l.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":s.encs.push(l);break;default:throw l[0]}}),s}function T0e(e,t){var a={},s=a.EncryptionVersionInfo=sh(e,4);if(t-=4,s.Minor!=2)throw new Error("unrecognized minor version code: "+s.Minor);if(s.Major>4||s.Major<2)throw new Error("unrecognized major version code: "+s.Major);a.Flags=e.read_shift(4),t-=4;var n=e.read_shift(4);return t-=4,a.EncryptionHeader=VH(e,n),t-=n,a.EncryptionVerifier=WH(e,t),a}function E0e(e){var t={},a=t.EncryptionVersionInfo=sh(e,4);if(a.Major!=1||a.Minor!=1)throw"unrecognized version code "+a.Major+" : "+a.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function UA(e){var t=0,a,s=HH(e),n=s.length+1,i,l,o,c,d;for(a=Df(n),a[0]=s.length,i=1;i!=n;++i)a[i]=s[i-1];for(i=n-1;i>=0;--i)l=a[i],o=(t&16384)===0?0:1,c=t<<1&32767,d=o|c,t=d^l;return t^52811}var qH=(function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],a=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],s=function(l){return(l/2|l*128)&255},n=function(l,o){return s(l^o)},i=function(l){for(var o=t[l.length-1],c=104,d=l.length-1;d>=0;--d)for(var u=l[d],f=0;f!=7;++f)u&64&&(o^=a[c]),u*=2,--c;return o};return function(l){for(var o=HH(l),c=i(o),d=o.length,u=Df(16),f=0;f!=16;++f)u[f]=0;var x,m,g;for((d&1)===1&&(x=c>>8,u[d]=n(e[0],x),--d,x=c&255,m=o[o.length-1],u[d]=n(m,x));d>0;)--d,x=c>>8,u[d]=n(o[d],x),--d,x=c&255,u[d]=n(o[d],x);for(d=15,g=15-o.length;g>0;)x=c>>8,u[d]=n(e[g],x),--d,--g,x=c&255,u[d]=n(o[d],x),--d,--g;return u}})(),D0e=function(e,t,a,s,n){n||(n=t),s||(s=qH(e));var i,l;for(i=0;i!=t.length;++i)l=t[i],l^=s[a],l=(l>>5|l<<3)&255,n[i]=l,++a;return[n,a,s]},M0e=function(e){var t=0,a=qH(e);return function(s){var n=D0e("",s,t,a);return t=n[1],n[0]}};function P0e(e,t,a,s){var n={key:On(e),verificationBytes:On(e)};return a.password&&(n.verifier=UA(a.password)),s.valid=n.verificationBytes===n.verifier,s.valid&&(s.insitu=M0e(a.password)),n}function L0e(e,t,a){var s=a||{};return s.Info=e.read_shift(2),e.l-=2,s.Info===1?s.Data=E0e(e):s.Data=T0e(e,t),s}function O0e(e,t,a){var s={Type:a.biff>=8?e.read_shift(2):0};return s.Type?L0e(e,t-2,s):P0e(e,a.biff>=8?t:t-2,a,s),s}var GH=(function(){function e(n,i){switch(i.type){case"base64":return t(Oo(n),i);case"binary":return t(n,i);case"buffer":return t(nr&&Buffer.isBuffer(n)?n.toString("binary"):Hf(n),i);case"array":return t(hm(n),i)}throw new Error("Unrecognized type "+i.type)}function t(n,i){var l=i||{},o=l.dense?[]:{},c=n.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(u,f){Array.isArray(o)&&(o[f]=[]);for(var x=/\\\w+\b/g,m=0,g,v=-1;g=x.exec(u);){switch(g[0]){case"\\cell":var b=u.slice(m,x.lastIndex-g[0].length);if(b[0]==" "&&(b=b.slice(1)),++v,b.length){var j={v:b,t:"s"};Array.isArray(o)?o[f][v]=j:o[Da({r:f,c:v})]=j}break}m=x.lastIndex}v>d.e.c&&(d.e.c=v)}),o["!ref"]=Qa(d),o}function a(n,i){return Vf(e(n,i),i)}function s(n){for(var i=["{\\rtf1\\ansi"],l=Cr(n["!ref"]),o,c=Array.isArray(n),d=l.s.r;d<=l.e.r;++d){i.push("\\trowd\\trautofit1");for(var u=l.s.c;u<=l.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=l.s.c;u<=l.e.c;++u){var f=Da({r:d,c:u});o=c?(n[d]||[])[u]:n[f],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(ch(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:a,to_sheet:e,from_sheet:s}})();function R0e(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Z1(e){for(var t=0,a=1;t!=3;++t)a=a*256+(e[t]>255?255:e[t]<0?0:e[t]);return a.toString(16).toUpperCase().slice(1)}function F0e(e){var t=e[0]/255,a=e[1]/255,s=e[2]/255,n=Math.max(t,a,s),i=Math.min(t,a,s),l=n-i;if(l===0)return[0,0,t];var o=0,c=0,d=n+i;switch(c=l/(d>1?2-d:d),n){case t:o=((a-s)/l+6)%6;break;case a:o=(s-t)/l+2;break;case s:o=(t-a)/l+4;break}return[o/6,c,d/2]}function I0e(e){var t=e[0],a=e[1],s=e[2],n=a*2*(s<.5?s:1-s),i=s-n/2,l=[i,i,i],o=6*t,c;if(a!==0)switch(o|0){case 0:case 6:c=n*o,l[0]+=n,l[1]+=c;break;case 1:c=n*(2-o),l[0]+=c,l[1]+=n;break;case 2:c=n*(o-2),l[1]+=n,l[2]+=c;break;case 3:c=n*(4-o),l[1]+=c,l[2]+=n;break;case 4:c=n*(o-4),l[2]+=n,l[0]+=c;break;case 5:c=n*(6-o),l[2]+=c,l[0]+=n;break}for(var d=0;d!=3;++d)l[d]=Math.round(l[d]*255);return l}function fw(e,t){if(t===0)return e;var a=F0e(R0e(e));return t<0?a[2]=a[2]*(1+t):a[2]=1-(1-a[2])*(1-t),Z1(I0e(a))}var KH=6,B0e=15,$0e=1,il=KH;function ev(e){return Math.floor((e+Math.round(128/il)/256)*il)}function tv(e){return Math.floor((e-5)/il*100+.5)/100}function mw(e){return Math.round((e*il+5)/il*256)/256}function M5(e){return mw(tv(ev(e)))}function zA(e){var t=Math.abs(e-M5(e)),a=il;if(t>.005)for(il=$0e;il<B0e;++il)Math.abs(e-M5(e))<=t&&(t=Math.abs(e-M5(e)),a=il);il=a}function Mf(e){e.width?(e.wpx=ev(e.width),e.wch=tv(e.wpx),e.MDW=il):e.wpx?(e.wch=tv(e.wpx),e.width=mw(e.wch),e.MDW=il):typeof e.wch=="number"&&(e.width=mw(e.wch),e.wpx=ev(e.width),e.MDW=il),e.customWidth&&delete e.customWidth}var U0e=96,YH=U0e;function av(e){return e*96/YH}function ox(e){return e*YH/96}var z0e={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function H0e(e,t,a,s){t.Borders=[];var n={},i=!1;(e[0].match(gl)||[]).forEach(function(l){var o=Ra(l);switch(iu(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":n={},o.diagonalUp&&(n.diagonalUp=hs(o.diagonalUp)),o.diagonalDown&&(n.diagonalDown=hs(o.diagonalDown)),t.Borders.push(n);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s&&s.WTF&&!i)throw new Error("unrecognized "+o[0]+" in borders")}})}function V0e(e,t,a,s){t.Fills=[];var n={},i=!1;(e[0].match(gl)||[]).forEach(function(l){var o=Ra(l);switch(iu(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":n={},t.Fills.push(n);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(n),n={};break;case"<patternFill":case"<patternFill>":o.patternType&&(n.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":n.bgColor||(n.bgColor={}),o.indexed&&(n.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(n.bgColor.theme=parseInt(o.theme,10)),o.tint&&(n.bgColor.tint=parseFloat(o.tint)),o.rgb&&(n.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":n.fgColor||(n.fgColor={}),o.theme&&(n.fgColor.theme=parseInt(o.theme,10)),o.tint&&(n.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(n.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s&&s.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fills")}})}function W0e(e,t,a,s){t.Fonts=[];var n={},i=!1;(e[0].match(gl)||[]).forEach(function(l){var o=Ra(l);switch(iu(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(n),n={};break;case"<name":o.val&&(n.name=Jr(o.val));break;case"<name/>":case"</name>":break;case"<b":n.bold=o.val?hs(o.val):1;break;case"<b/>":n.bold=1;break;case"<i":n.italic=o.val?hs(o.val):1;break;case"<i/>":n.italic=1;break;case"<u":switch(o.val){case"none":n.underline=0;break;case"single":n.underline=1;break;case"double":n.underline=2;break;case"singleAccounting":n.underline=33;break;case"doubleAccounting":n.underline=34;break}break;case"<u/>":n.underline=1;break;case"<strike":n.strike=o.val?hs(o.val):1;break;case"<strike/>":n.strike=1;break;case"<outline":n.outline=o.val?hs(o.val):1;break;case"<outline/>":n.outline=1;break;case"<shadow":n.shadow=o.val?hs(o.val):1;break;case"<shadow/>":n.shadow=1;break;case"<condense":n.condense=o.val?hs(o.val):1;break;case"<condense/>":n.condense=1;break;case"<extend":n.extend=o.val?hs(o.val):1;break;case"<extend/>":n.extend=1;break;case"<sz":o.val&&(n.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(n.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(n.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(n.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=xA[parseInt(o.val,10)];break;case"<color":if(n.color||(n.color={}),o.auto&&(n.color.auto=hs(o.auto)),o.rgb)n.color.rgb=o.rgb.slice(-6);else if(o.indexed){n.color.index=parseInt(o.indexed,10);var c=K0[n.color.index];n.color.index==81&&(c=K0[1]),c||(c=K0[1]),n.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else o.theme&&(n.color.theme=parseInt(o.theme,10),o.tint&&(n.color.tint=parseFloat(o.tint)),o.theme&&a.themeElements&&a.themeElements.clrScheme&&(n.color.rgb=fw(a.themeElements.clrScheme[n.color.theme].rgb,n.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s&&s.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fonts")}})}function q0e(e,t,a){t.NumberFmt=[];for(var s=tn(Ea),n=0;n<s.length;++n)t.NumberFmt[s[n]]=Ea[s[n]];var i=e[0].match(gl);if(i)for(n=0;n<i.length;++n){var l=Ra(i[n]);switch(iu(l[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=kr(Jr(l.formatCode)),c=parseInt(l.numFmtId,10);if(t.NumberFmt[c]=o,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=o}rh(o,c)}}break;case"</numFmt>":break;default:if(a.WTF)throw new Error("unrecognized "+l[0]+" in numFmts")}}}function G0e(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var s=a[0];s<=a[1];++s)e[s]!=null&&(t[t.length]=Gt("numFmt",null,{numFmtId:s,formatCode:Wr(e[s])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Gt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var zy=["numFmtId","fillId","fontId","borderId","xfId"],Hy=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function K0e(e,t,a){t.CellXf=[];var s,n=!1;(e[0].match(gl)||[]).forEach(function(i){var l=Ra(i),o=0;switch(iu(l[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(s=l,delete s[0],o=0;o<zy.length;++o)s[zy[o]]&&(s[zy[o]]=parseInt(s[zy[o]],10));for(o=0;o<Hy.length;++o)s[Hy[o]]&&(s[Hy[o]]=hs(s[Hy[o]]));if(t.NumberFmt&&s.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[s.numFmtId]==t.NumberFmt[o]){s.numFmtId=o;break}}t.CellXf.push(s);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};l.vertical&&(c.vertical=l.vertical),l.horizontal&&(c.horizontal=l.horizontal),l.textRotation!=null&&(c.textRotation=l.textRotation),l.indent&&(c.indent=l.indent),l.wrapText&&(c.wrapText=hs(l.wrapText)),s.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":n=!0;break;case"</AlternateContent>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(a&&a.WTF&&!n)throw new Error("unrecognized "+l[0]+" in cellXfs")}})}function Y0e(e){var t=[];return t[t.length]=Gt("cellXfs",null),e.forEach(function(a){t[t.length]=Gt("xf",null,a)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Gt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var X0e=(function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,a=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,s=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,n=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,c,d){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(t))&&q0e(f,u,d),(f=o.match(n))&&W0e(f,u,c,d),(f=o.match(s))&&V0e(f,u,c,d),(f=o.match(i))&&H0e(f,u,c,d),(f=o.match(a))&&K0e(f,u,d),u}})();function XH(e,t){var a=[_n,Gt("styleSheet",null,{xmlns:Dm[0],"xmlns:vt":Jn.vt})],s;return e.SSF&&(s=G0e(e.SSF))!=null&&(a[a.length]=s),a[a.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',a[a.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',a[a.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',a[a.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(s=Y0e(t.cellXfs))&&(a[a.length]=s),a[a.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',a[a.length]='<dxfs count="0"/>',a[a.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',a.length>2&&(a[a.length]="</styleSheet>",a[1]=a[1].replace("/>",">")),a.join("")}function J0e(e,t){var a=e.read_shift(2),s=hl(e);return[a,s]}function Q0e(e,t,a){a||(a=kt(6+4*t.length)),a.write_shift(2,e),Ni(t,a);var s=a.length>a.l?a.slice(0,a.l):a;return a.l==null&&(a.l=a.length),s}function Z0e(e,t,a){var s={};s.sz=e.read_shift(2)/20;var n=Lue(e);n.fItalic&&(s.italic=1),n.fCondense&&(s.condense=1),n.fExtend&&(s.extend=1),n.fShadow&&(s.shadow=1),n.fOutline&&(s.outline=1),n.fStrikeout&&(s.strike=1);var i=e.read_shift(2);switch(i===700&&(s.bold=1),e.read_shift(2)){case 1:s.vertAlign="superscript";break;case 2:s.vertAlign="subscript";break}var l=e.read_shift(1);l!=0&&(s.underline=l);var o=e.read_shift(1);o>0&&(s.family=o);var c=e.read_shift(1);switch(c>0&&(s.charset=c),e.l++,s.color=Pue(e),e.read_shift(1)){case 1:s.scheme="major";break;case 2:s.scheme="minor";break}return s.name=hl(e),s}function eme(e,t){t||(t=kt(153)),t.write_shift(2,e.sz*20),Oue(e,t),t.write_shift(2,e.bold?700:400);var a=0;e.vertAlign=="superscript"?a=1:e.vertAlign=="subscript"&&(a=2),t.write_shift(2,a),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),dw(e.color,t);var s=0;return s=2,t.write_shift(1,s),Ni(e.name,t),t.length>t.l?t.slice(0,t.l):t}var tme=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],P5,ame=ml;function LP(e,t){t||(t=kt(84)),P5||(P5=Wj(tme));var a=P5[e.patternType];a==null&&(a=40),t.write_shift(4,a);var s=0;if(a!=40)for(dw({auto:1},t),dw({auto:1},t);s<12;++s)t.write_shift(4,0);else{for(;s<4;++s)t.write_shift(4,0);for(;s<12;++s)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function rme(e,t){var a=e.l+t,s=e.read_shift(2),n=e.read_shift(2);return e.l=a,{ixfe:s,numFmtId:n}}function JH(e,t,a){a||(a=kt(16)),a.write_shift(2,t||0),a.write_shift(2,e.numFmtId||0),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(1,0),a.write_shift(1,0);var s=0;return a.write_shift(1,s),a.write_shift(1,0),a.write_shift(1,0),a.write_shift(1,0),a}function Og(e,t){return t||(t=kt(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var sme=ml;function nme(e,t){return t||(t=kt(51)),t.write_shift(1,0),Og(null,t),Og(null,t),Og(null,t),Og(null,t),Og(null,t),t.length>t.l?t.slice(0,t.l):t}function ime(e,t){return t||(t=kt(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),cw(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function lme(e,t,a){var s=kt(2052);return s.write_shift(4,e),cw(t,s),cw(a,s),s.length>s.l?s.slice(0,s.l):s}function ome(e,t,a){var s={};s.NumberFmt=[];for(var n in Ea)s.NumberFmt[n]=Ea[n];s.CellXf=[],s.Fonts=[];var i=[],l=!1;return wh(e,function(c,d,u){switch(u){case 44:s.NumberFmt[c[0]]=c[1],rh(c[1],c[0]);break;case 43:s.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=fw(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&s.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:i.push(u),l=!0;break;case 38:i.pop(),l=!1;break;default:if(d.T>0)i.push(u);else if(d.T<0)i.pop();else if(!l||a.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),s}function cme(e,t){if(t){var a=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var n=s[0];n<=s[1];++n)t[n]!=null&&++a}),a!=0&&(Bt(e,615,cd(a)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var n=s[0];n<=s[1];++n)t[n]!=null&&Bt(e,44,Q0e(n,t[n]))}),Bt(e,616))}}function dme(e){var t=1;Bt(e,611,cd(t)),Bt(e,43,eme({sz:12,color:{theme:1},name:"Calibri",family:2})),Bt(e,612)}function ume(e){var t=2;Bt(e,603,cd(t)),Bt(e,45,LP({patternType:"none"})),Bt(e,45,LP({patternType:"gray125"})),Bt(e,604)}function hme(e){var t=1;Bt(e,613,cd(t)),Bt(e,46,nme()),Bt(e,614)}function fme(e){var t=1;Bt(e,626,cd(t)),Bt(e,47,JH({numFmtId:0},65535)),Bt(e,627)}function mme(e,t){Bt(e,617,cd(t.length)),t.forEach(function(a){Bt(e,47,JH(a,0))}),Bt(e,618)}function pme(e){var t=1;Bt(e,619,cd(t)),Bt(e,48,ime({xfId:0,name:"Normal"})),Bt(e,620)}function xme(e){var t=0;Bt(e,505,cd(t)),Bt(e,506)}function gme(e){var t=0;Bt(e,508,lme(t,"TableStyleMedium9","PivotStyleMedium4")),Bt(e,509)}function vme(e,t){var a=ro();return Bt(a,278),cme(a,e.SSF),dme(a),ume(a),hme(a),fme(a),mme(a,t.cellXfs),pme(a),xme(a),gme(a),Bt(a,279),a.end()}var bme=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function yme(e,t,a){t.themeElements.clrScheme=[];var s={};(e[0].match(gl)||[]).forEach(function(n){var i=Ra(n);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":s.rgb=i.val;break;case"<a:sysClr":s.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[bme.indexOf(i[0])]=s,s={}):s.name=i[0].slice(3,i[0].length-1);break;default:if(a&&a.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function wme(){}function jme(){}var Nme=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,Sme=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,kme=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function Cme(e,t,a){t.themeElements={};var s;[["clrScheme",Nme,yme],["fontScheme",Sme,wme],["fmtScheme",kme,jme]].forEach(function(n){if(!(s=e.match(n[1])))throw new Error(n[0]+" not found in themeElements");n[2](s,t,a)})}var Ame=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function QH(e,t){(!e||e.length===0)&&(e=HA());var a,s={};if(!(a=e.match(Ame)))throw new Error("themeElements not found in theme");return Cme(a[0],s,t),s.raw=e,s}function HA(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var a=[_n];return a[a.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',a[a.length]="<a:themeElements>",a[a.length]='<a:clrScheme name="Office">',a[a.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',a[a.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',a[a.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',a[a.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',a[a.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',a[a.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',a[a.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',a[a.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',a[a.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',a[a.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',a[a.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',a[a.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',a[a.length]="</a:clrScheme>",a[a.length]='<a:fontScheme name="Office">',a[a.length]="<a:majorFont>",a[a.length]='<a:latin typeface="Cambria"/>',a[a.length]='<a:ea typeface=""/>',a[a.length]='<a:cs typeface=""/>',a[a.length]='<a:font script="Jpan" typeface=" "/>',a[a.length]='<a:font script="Hang" typeface=" "/>',a[a.length]='<a:font script="Hans" typeface=""/>',a[a.length]='<a:font script="Hant" typeface=""/>',a[a.length]='<a:font script="Arab" typeface="Times New Roman"/>',a[a.length]='<a:font script="Hebr" typeface="Times New Roman"/>',a[a.length]='<a:font script="Thai" typeface="Tahoma"/>',a[a.length]='<a:font script="Ethi" typeface="Nyala"/>',a[a.length]='<a:font script="Beng" typeface="Vrinda"/>',a[a.length]='<a:font script="Gujr" typeface="Shruti"/>',a[a.length]='<a:font script="Khmr" typeface="MoolBoran"/>',a[a.length]='<a:font script="Knda" typeface="Tunga"/>',a[a.length]='<a:font script="Guru" typeface="Raavi"/>',a[a.length]='<a:font script="Cans" typeface="Euphemia"/>',a[a.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',a[a.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',a[a.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',a[a.length]='<a:font script="Thaa" typeface="MV Boli"/>',a[a.length]='<a:font script="Deva" typeface="Mangal"/>',a[a.length]='<a:font script="Telu" typeface="Gautami"/>',a[a.length]='<a:font script="Taml" typeface="Latha"/>',a[a.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',a[a.length]='<a:font script="Orya" typeface="Kalinga"/>',a[a.length]='<a:font script="Mlym" typeface="Kartika"/>',a[a.length]='<a:font script="Laoo" typeface="DokChampa"/>',a[a.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',a[a.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',a[a.length]='<a:font script="Viet" typeface="Times New Roman"/>',a[a.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',a[a.length]='<a:font script="Geor" typeface="Sylfaen"/>',a[a.length]="</a:majorFont>",a[a.length]="<a:minorFont>",a[a.length]='<a:latin typeface="Calibri"/>',a[a.length]='<a:ea typeface=""/>',a[a.length]='<a:cs typeface=""/>',a[a.length]='<a:font script="Jpan" typeface=" "/>',a[a.length]='<a:font script="Hang" typeface=" "/>',a[a.length]='<a:font script="Hans" typeface=""/>',a[a.length]='<a:font script="Hant" typeface=""/>',a[a.length]='<a:font script="Arab" typeface="Arial"/>',a[a.length]='<a:font script="Hebr" typeface="Arial"/>',a[a.length]='<a:font script="Thai" typeface="Tahoma"/>',a[a.length]='<a:font script="Ethi" typeface="Nyala"/>',a[a.length]='<a:font script="Beng" typeface="Vrinda"/>',a[a.length]='<a:font script="Gujr" typeface="Shruti"/>',a[a.length]='<a:font script="Khmr" typeface="DaunPenh"/>',a[a.length]='<a:font script="Knda" typeface="Tunga"/>',a[a.length]='<a:font script="Guru" typeface="Raavi"/>',a[a.length]='<a:font script="Cans" typeface="Euphemia"/>',a[a.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',a[a.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',a[a.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',a[a.length]='<a:font script="Thaa" typeface="MV Boli"/>',a[a.length]='<a:font script="Deva" typeface="Mangal"/>',a[a.length]='<a:font script="Telu" typeface="Gautami"/>',a[a.length]='<a:font script="Taml" typeface="Latha"/>',a[a.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',a[a.length]='<a:font script="Orya" typeface="Kalinga"/>',a[a.length]='<a:font script="Mlym" typeface="Kartika"/>',a[a.length]='<a:font script="Laoo" typeface="DokChampa"/>',a[a.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',a[a.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',a[a.length]='<a:font script="Viet" typeface="Arial"/>',a[a.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',a[a.length]='<a:font script="Geor" typeface="Sylfaen"/>',a[a.length]="</a:minorFont>",a[a.length]="</a:fontScheme>",a[a.length]='<a:fmtScheme name="Office">',a[a.length]="<a:fillStyleLst>",a[a.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',a[a.length]='<a:gradFill rotWithShape="1">',a[a.length]="<a:gsLst>",a[a.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',a[a.length]="</a:gsLst>",a[a.length]='<a:lin ang="16200000" scaled="1"/>',a[a.length]="</a:gradFill>",a[a.length]='<a:gradFill rotWithShape="1">',a[a.length]="<a:gsLst>",a[a.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',a[a.length]="</a:gsLst>",a[a.length]='<a:lin ang="16200000" scaled="0"/>',a[a.length]="</a:gradFill>",a[a.length]="</a:fillStyleLst>",a[a.length]="<a:lnStyleLst>",a[a.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',a[a.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',a[a.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',a[a.length]="</a:lnStyleLst>",a[a.length]="<a:effectStyleLst>",a[a.length]="<a:effectStyle>",a[a.length]="<a:effectLst>",a[a.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',a[a.length]="</a:effectLst>",a[a.length]="</a:effectStyle>",a[a.length]="<a:effectStyle>",a[a.length]="<a:effectLst>",a[a.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',a[a.length]="</a:effectLst>",a[a.length]="</a:effectStyle>",a[a.length]="<a:effectStyle>",a[a.length]="<a:effectLst>",a[a.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',a[a.length]="</a:effectLst>",a[a.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',a[a.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',a[a.length]="</a:effectStyle>",a[a.length]="</a:effectStyleLst>",a[a.length]="<a:bgFillStyleLst>",a[a.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',a[a.length]='<a:gradFill rotWithShape="1">',a[a.length]="<a:gsLst>",a[a.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',a[a.length]="</a:gsLst>",a[a.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',a[a.length]="</a:gradFill>",a[a.length]='<a:gradFill rotWithShape="1">',a[a.length]="<a:gsLst>",a[a.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',a[a.length]="</a:gsLst>",a[a.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',a[a.length]="</a:gradFill>",a[a.length]="</a:bgFillStyleLst>",a[a.length]="</a:fmtScheme>",a[a.length]="</a:themeElements>",a[a.length]="<a:objectDefaults>",a[a.length]="<a:spDef>",a[a.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',a[a.length]="</a:spDef>",a[a.length]="<a:lnDef>",a[a.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',a[a.length]="</a:lnDef>",a[a.length]="</a:objectDefaults>",a[a.length]="<a:extraClrSchemeLst/>",a[a.length]="</a:theme>",a.join("")}function _me(e,t,a){var s=e.l+t,n=e.read_shift(4);if(n!==124226){if(!a.cellStyles){e.l=s;return}var i=e.slice(e.l);e.l=s;var l;try{l=Vz(i,{type:"array"})}catch{return}var o=Do(l,"theme/theme/theme1.xml",!0);if(o)return QH(o,a)}}function Tme(e){return e.read_shift(4)}function Eme(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=Dme(e,4);break;case 2:t.xclrValue=DH(e);break;case 3:t.xclrValue=Tme(e);break;case 4:e.l+=4;break}return e.l+=8,t}function Dme(e,t){return ml(e,t)}function Mme(e,t){return ml(e,t)}function Pme(e){var t=e.read_shift(2),a=e.read_shift(2)-4,s=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:s[1]=Eme(e);break;case 6:s[1]=Mme(e,a);break;case 14:case 15:s[1]=e.read_shift(a===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+a)}return s}function Lme(e,t){var a=e.l+t;e.l+=2;var s=e.read_shift(2);e.l+=2;for(var n=e.read_shift(2),i=[];n-- >0;)i.push(Pme(e,a-e.l));return{ixfe:s,ext:i}}function Ome(e,t){t.forEach(function(a){a[0]})}function Rme(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:hl(e)}}function Fme(e){var t=kt(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Ni(e.name,t),t.slice(0,t.l)}function Ime(e){for(var t=[],a=e.read_shift(4);a-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function Bme(e){var t=kt(4+8*e.length);t.write_shift(4,e.length);for(var a=0;a<e.length;++a)t.write_shift(4,e[a][0]),t.write_shift(4,e[a][1]);return t}function $me(e,t){var a=kt(8+2*t.length);return a.write_shift(4,e),Ni(t,a),a.slice(0,a.l)}function Ume(e){return e.l+=4,e.read_shift(4)!=0}function zme(e,t){var a=kt(8);return a.write_shift(4,e),a.write_shift(4,1),a}function Hme(e,t,a){var s={Types:[],Cell:[],Value:[]},n=a||{},i=[],l=!1,o=2;return wh(e,function(c,d,u){switch(u){case 335:s.Types.push({name:c.name});break;case 51:c.forEach(function(f){o==1?s.Cell.push({type:s.Types[f[0]-1].name,index:f[1]}):o==0&&s.Value.push({type:s.Types[f[0]-1].name,index:f[1]})});break;case 337:o=c?1:0;break;case 338:o=2;break;case 35:i.push(u),l=!0;break;case 36:i.pop(),l=!1;break;default:if(!d.T){if(!l||n.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),s}function Vme(){var e=ro();return Bt(e,332),Bt(e,334,cd(1)),Bt(e,335,Fme({name:"XLDAPR",version:12e4,flags:3496657072})),Bt(e,336),Bt(e,339,$me(1,"XLDAPR")),Bt(e,52),Bt(e,35,cd(514)),Bt(e,4096,cd(0)),Bt(e,4097,fc(1)),Bt(e,36),Bt(e,53),Bt(e,340),Bt(e,337,zme(1)),Bt(e,51,Bme([[1,0]])),Bt(e,338),Bt(e,333),e.end()}function Wme(e,t,a){var s={Types:[],Cell:[],Value:[]};if(!e)return s;var n=!1,i=2,l;return e.replace(gl,function(o){var c=Ra(o);switch(iu(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":s.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var d=0;d<s.Types.length;++d)s.Types[d].name==c.name&&(l=s.Types[d]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?s.Cell.push({type:s.Types[c.t-1].name,index:+c.v}):i==0&&s.Value.push({type:s.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<rvb":if(!l)break;l.offsets||(l.offsets=[]),l.offsets.push(+c.i);break;default:if(!n&&a.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return o}),s}function ZH(){var e=[_n];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function qme(e){var t=[];if(!e)return t;var a=1;return(e.match(gl)||[]).forEach(function(s){var n=Ra(s);switch(n[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete n[0],n.i?a=n.i:n.i=a,t.push(n);break}}),t}function Gme(e){var t={};t.i=e.read_shift(4);var a={};a.r=e.read_shift(4),a.c=e.read_shift(4),t.r=Da(a);var s=e.read_shift(1);return s&2&&(t.l="1"),s&8&&(t.a="1"),t}function Kme(e,t,a){var s=[];return wh(e,function(i,l,o){switch(o){case 63:s.push(i);break;default:if(!l.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),s}function Yme(e,t,a,s){if(!e)return e;var n=s||{},i=!1;wh(e,function(o,c,d){switch(d){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!c.T){if(!i||n.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}},n)}function Xme(e,t){if(!e)return"??";var a=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][a].Target}var Ip=1024;function eV(e,t){for(var a=[21600,21600],s=["m0,0l0",a[1],a[0],a[1],a[0],"0xe"].join(","),n=[Gt("xml",null,{"xmlns:v":Ao.v,"xmlns:o":Ao.o,"xmlns:x":Ao.x,"xmlns:mv":Ao.mv}).replace(/\/>/,">"),Gt("o:shapelayout",Gt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Gt("v:shapetype",[Gt("v:stroke",null,{joinstyle:"miter"}),Gt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:a.join(","),path:s})];Ip<e*1e3;)Ip+=1e3;return t.forEach(function(i){var l=Vs(i[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var c=o.type=="gradient"?Gt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,d=Gt("v:fill",c,o),u={on:"t",obscured:"t"};++Ip,n=n.concat(["<v:shape"+X1({id:"_x0000_s"+Ip,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",d,Gt("v:shadow",null,u),Gt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",zi("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),zi("x:AutoFill","False"),zi("x:Row",String(l.r)),zi("x:Column",String(l.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),n.push("</xml>"),n.join("")}function OP(e,t,a,s){var n=Array.isArray(e),i;t.forEach(function(l){var o=Vs(l.ref);if(n?(e[o.r]||(e[o.r]=[]),i=e[o.r][o.c]):i=e[l.ref],!i){i={t:"z"},n?e[o.r][o.c]=i:e[l.ref]=i;var c=Cr(e["!ref"]||"BDWGO1000001:A1");c.s.r>o.r&&(c.s.r=o.r),c.e.r<o.r&&(c.e.r=o.r),c.s.c>o.c&&(c.s.c=o.c),c.e.c<o.c&&(c.e.c=o.c);var d=Qa(c);d!==e["!ref"]&&(e["!ref"]=d)}i.c||(i.c=[]);var u={a:l.author,t:l.t,r:l.r,T:a};l.h&&(u.h=l.h);for(var f=i.c.length-1;f>=0;--f){if(!a&&i.c[f].T)return;a&&!i.c[f].T&&i.c.splice(f,1)}if(a&&s){for(f=0;f<s.length;++f)if(u.a==s[f].id){u.a=s[f].name||u.a;break}}i.c.push(u)})}function Jme(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var a=[],s=[],n=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);n&&n[1]&&n[1].split(/<\/\w*:?author>/).forEach(function(l){if(!(l===""||l.trim()==="")){var o=l.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&a.push(o[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(l){if(!(l===""||l.trim()==="")){var o=l.match(/<(?:\w+:)?comment[^>]*>/);if(o){var c=Ra(o[0]),d={author:c.authorId&&a[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},u=Vs(c.ref);if(!(t.sheetRows&&t.sheetRows<=u.r)){var f=l.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),x=!!f&&!!f[1]&&$A(f[1])||{r:"",t:"",h:""};d.r=x.r,x.r=="<t></t>"&&(x.t=x.h=""),d.t=(x.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(d.h=x.h),s.push(d)}}}}),s}function tV(e){var t=[_n,Gt("comments",null,{xmlns:Dm[0]})],a=[];return t.push("<authors>"),e.forEach(function(s){s[1].forEach(function(n){var i=Wr(n.a);a.indexOf(i)==-1&&(a.push(i),t.push("<author>"+i+"</author>")),n.T&&n.ID&&a.indexOf("tc="+n.ID)==-1&&(a.push("tc="+n.ID),t.push("<author>tc="+n.ID+"</author>"))})}),a.length==0&&(a.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(s){var n=0,i=[];if(s[1][0]&&s[1][0].T&&s[1][0].ID?n=a.indexOf("tc="+s[1][0].ID):s[1].forEach(function(c){c.a&&(n=a.indexOf(Wr(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+s[0]+'" authorId="'+n+'"><text>'),i.length<=1)t.push(zi("t",Wr(i[0]||"")));else{for(var l=`Comment:
    `+i[0]+`
`,o=1;o<i.length;++o)l+=`Reply:
    `+i[o]+`
`;t.push(zi("t",Wr(l)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function Qme(e,t){var a=[],s=!1,n={},i=0;return e.replace(gl,function(o,c){var d=Ra(o);switch(iu(d[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":n={author:d.personId,guid:d.id,ref:d.ref,T:1};break;case"</threadedComment>":n.t!=null&&a.push(n);break;case"<text>":case"<text":i=c+o.length;break;case"</text>":n.t=e.slice(i,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":s=!0;break;case"</mentions>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(!s&&t.WTF)throw new Error("unrecognized "+d[0]+" in threaded comments")}return o}),a}function Zme(e,t,a){var s=[_n,Gt("ThreadedComments",null,{xmlns:Jn.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(n){var i="";(n[1]||[]).forEach(function(l,o){if(!l.T){delete l.ID;return}l.a&&t.indexOf(l.a)==-1&&t.push(l.a);var c={ref:n[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+a.tcid++).slice(-12)+"}"};o==0?i=c.id:c.parentId=i,l.ID=c.id,l.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(l.a)).slice(-12)+"}"),s.push(Gt("threadedComment",zi("text",l.t||""),c))})}),s.push("</ThreadedComments>"),s.join("")}function epe(e,t){var a=[],s=!1;return e.replace(gl,function(i){var l=Ra(i);switch(iu(l[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":a.push({name:l.displayname,id:l.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(!s&&t.WTF)throw new Error("unrecognized "+l[0]+" in threaded comments")}return i}),a}function tpe(e){var t=[_n,Gt("personList",null,{xmlns:Jn.TCMNT,"xmlns:x":Dm[0]}).replace(/[\/]>/,">")];return e.forEach(function(a,s){t.push(Gt("person",null,{displayName:a,id:"{54EE7950-7262-4200-6969-"+("000000000000"+s).slice(-12)+"}",userId:a,providerId:"None"}))}),t.push("</personList>"),t.join("")}function ape(e){var t={};t.iauthor=e.read_shift(4);var a=Om(e);return t.rfx=a.s,t.ref=Da(a.s),e.l+=16,t}function rpe(e,t){return t==null&&(t=kt(36)),t.write_shift(4,e[1].iauthor),Ax(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var spe=hl;function npe(e){return Ni(e.slice(0,54))}function ipe(e,t){var a=[],s=[],n={},i=!1;return wh(e,function(o,c,d){switch(d){case 632:s.push(o);break;case 635:n=o;break;case 637:n.t=o.t,n.h=o.h,n.r=o.r;break;case 636:if(n.author=s[n.iauthor],delete n.iauthor,t.sheetRows&&n.rfx&&t.sheetRows<=n.rfx.r)break;n.t||(n.t=""),delete n.rfx,a.push(n);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}),a}function lpe(e){var t=ro(),a=[];return Bt(t,628),Bt(t,630),e.forEach(function(s){s[1].forEach(function(n){a.indexOf(n.a)>-1||(a.push(n.a.slice(0,54)),Bt(t,632,npe(n.a)))})}),Bt(t,631),Bt(t,633),e.forEach(function(s){s[1].forEach(function(n){n.iauthor=a.indexOf(n.a);var i={s:Vs(s[0]),e:Vs(s[0])};Bt(t,635,rpe([i,n])),n.t&&n.t.length>0&&Bt(t,637,Tue(n)),Bt(t,636),delete n.iauthor})}),Bt(t,634),Bt(t,629),t.end()}var ope="application/vnd.ms-office.vbaProject";function cpe(e){var t=Na.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(a,s){if(!(a.slice(-1)==="/"||!a.match(/_VBA_PROJECT_CUR/))){var n=a.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Na.utils.cfb_add(t,n,e.FileIndex[s].content)}}),Na.write(t)}function dpe(e,t){t.FullPaths.forEach(function(a,s){if(s!=0){var n=a.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");n.slice(-1)!=="/"&&Na.utils.cfb_add(e,n,t.FileIndex[s].content)}})}var aV=["xlsb","xlsm","xlam","biff8","xla"];function upe(){return{"!type":"dialog"}}function hpe(){return{"!type":"dialog"}}function fpe(){return{"!type":"macro"}}function mpe(){return{"!type":"macro"}}var Kp=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function a(s,n,i,l){var o=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),l.length==0?o=!0:l.charAt(0)=="["&&(o=!0,l=l.slice(1,-1));var d=i.length>0?parseInt(i,10)|0:0,u=l.length>0?parseInt(l,10)|0:0;return o?u+=t.c:--u,c?d+=t.r:--d,n+(o?"":"$")+Hs(u)+(c?"":"$")+Sn(d)}return function(n,i){return t=i,n.replace(e,a)}})(),VA=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,WA=(function(){return function(t,a){return t.replace(VA,function(s,n,i,l,o,c){var d=DA(l)-(i?0:a.c),u=EA(c)-(o?0:a.r),f=u==0?"":o?u+1:"["+u+"]",x=d==0?"":i?d+1:"["+d+"]";return n+"R"+f+"C"+x})}})();function rV(e,t){return e.replace(VA,function(a,s,n,i,l,o){return s+(n=="$"?n+i:Hs(DA(i)+t.c))+(l=="$"?l+o:Sn(EA(o)+t.r))})}function ppe(e,t,a){var s=so(t),n=s.s,i=Vs(a),l={r:i.r-n.r,c:i.c-n.c};return rV(e,l)}function xpe(e){return e.length!=1}function RP(e){return e.replace(/_xlfn\./g,"")}function Pn(e){e.l+=1}function Pf(e,t){var a=e.read_shift(2);return[a&16383,a>>14&1,a>>15&1]}function sV(e,t,a){var s=2;if(a){if(a.biff>=2&&a.biff<=5)return nV(e);a.biff==12&&(s=4)}var n=e.read_shift(s),i=e.read_shift(s),l=Pf(e),o=Pf(e);return{s:{r:n,c:l[0],cRel:l[1],rRel:l[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function nV(e){var t=Pf(e),a=Pf(e),s=e.read_shift(1),n=e.read_shift(1);return{s:{r:t[0],c:s,cRel:t[1],rRel:t[2]},e:{r:a[0],c:n,cRel:a[1],rRel:a[2]}}}function gpe(e,t,a){if(a.biff<8)return nV(e);var s=e.read_shift(a.biff==12?4:2),n=e.read_shift(a.biff==12?4:2),i=Pf(e),l=Pf(e);return{s:{r:s,c:i[0],cRel:i[1],rRel:i[2]},e:{r:n,c:l[0],cRel:l[1],rRel:l[2]}}}function iV(e,t,a){if(a&&a.biff>=2&&a.biff<=5)return vpe(e);var s=e.read_shift(a&&a.biff==12?4:2),n=Pf(e);return{r:s,c:n[0],cRel:n[1],rRel:n[2]}}function vpe(e){var t=Pf(e),a=e.read_shift(1);return{r:t[0],c:a,cRel:t[1],rRel:t[2]}}function bpe(e){var t=e.read_shift(2),a=e.read_shift(2);return{r:t,c:a&255,fQuoted:!!(a&16384),cRel:a>>15,rRel:a>>15}}function ype(e,t,a){var s=a&&a.biff?a.biff:8;if(s>=2&&s<=5)return wpe(e);var n=e.read_shift(s>=12?4:2),i=e.read_shift(2),l=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;n>524287;)n-=1048576;if(l==1)for(;i>8191;)i=i-16384;return{r:n,c:i,cRel:l,rRel:o}}function wpe(e){var t=e.read_shift(2),a=e.read_shift(1),s=(t&32768)>>15,n=(t&16384)>>14;return t&=16383,s==1&&t>=8192&&(t=t-16384),n==1&&a>=128&&(a=a-256),{r:t,c:a,cRel:n,rRel:s}}function jpe(e,t,a){var s=(e[e.l++]&96)>>5,n=sV(e,a.biff>=2&&a.biff<=5?6:8,a);return[s,n]}function Npe(e,t,a){var s=(e[e.l++]&96)>>5,n=e.read_shift(2,"i"),i=8;if(a)switch(a.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var l=sV(e,i,a);return[s,n,l]}function Spe(e,t,a){var s=(e[e.l++]&96)>>5;return e.l+=a&&a.biff>8?12:a.biff<8?6:8,[s]}function kpe(e,t,a){var s=(e[e.l++]&96)>>5,n=e.read_shift(2),i=8;if(a)switch(a.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[s,n]}function Cpe(e,t,a){var s=(e[e.l++]&96)>>5,n=gpe(e,t-1,a);return[s,n]}function Ape(e,t,a){var s=(e[e.l++]&96)>>5;return e.l+=a.biff==2?6:a.biff==12?14:7,[s]}function FP(e){var t=e[e.l+1]&1,a=1;return e.l+=4,[t,a]}function _pe(e,t,a){e.l+=2;for(var s=e.read_shift(a&&a.biff==2?1:2),n=[],i=0;i<=s;++i)n.push(e.read_shift(a&&a.biff==2?1:2));return n}function Tpe(e,t,a){var s=e[e.l+1]&255?1:0;return e.l+=2,[s,e.read_shift(a&&a.biff==2?1:2)]}function Epe(e,t,a){var s=e[e.l+1]&255?1:0;return e.l+=2,[s,e.read_shift(a&&a.biff==2?1:2)]}function Dpe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function Mpe(e,t,a){var s=e[e.l+1]&255?1:0;return e.l+=a&&a.biff==2?3:4,[s]}function lV(e){var t=e.read_shift(1),a=e.read_shift(1);return[t,a]}function Ppe(e){return e.read_shift(2),lV(e)}function Lpe(e){return e.read_shift(2),lV(e)}function Ope(e,t,a){var s=(e[e.l]&96)>>5;e.l+=1;var n=iV(e,0,a);return[s,n]}function Rpe(e,t,a){var s=(e[e.l]&96)>>5;e.l+=1;var n=ype(e,0,a);return[s,n]}function Fpe(e,t,a){var s=(e[e.l]&96)>>5;e.l+=1;var n=e.read_shift(2);a&&a.biff==5&&(e.l+=12);var i=iV(e,0,a);return[s,n,i]}function Ipe(e,t,a){var s=(e[e.l]&96)>>5;e.l+=1;var n=e.read_shift(a&&a.biff<=3?1:2);return[Uxe[n],dV[n],s]}function Bpe(e,t,a){var s=e[e.l++],n=e.read_shift(1),i=a&&a.biff<=3?[s==88?-1:0,e.read_shift(1)]:$pe(e);return[n,(i[0]===0?dV:$xe)[i[1]]]}function $pe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Upe(e,t,a){e.l+=a&&a.biff==2?3:4}function zpe(e,t,a){if(e.l++,a&&a.biff==12)return[e.read_shift(4,"i"),0];var s=e.read_shift(2),n=e.read_shift(a&&a.biff==2?1:2);return[s,n]}function Hpe(e){return e.l++,jh[e.read_shift(1)]}function Vpe(e){return e.l++,e.read_shift(2)}function Wpe(e){return e.l++,e.read_shift(1)!==0}function qpe(e){return e.l++,cl(e)}function Gpe(e,t,a){return e.l++,Hv(e,t-1,a)}function Kpe(e,t){var a=[e.read_shift(1)];if(t==12)switch(a[0]){case 2:a[0]=4;break;case 4:a[0]=16;break;case 0:a[0]=1;break;case 1:a[0]=2;break}switch(a[0]){case 4:a[1]=gn(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:a[1]=jh[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:a[1]=cl(e);break;case 2:a[1]=Rm(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+a[0])}return a}function Ype(e,t,a){for(var s=e.read_shift(a.biff==12?4:2),n=[],i=0;i!=s;++i)n.push((a.biff==12?Om:Kj)(e));return n}function Xpe(e,t,a){var s=0,n=0;a.biff==12?(s=e.read_shift(4),n=e.read_shift(4)):(n=1+e.read_shift(1),s=1+e.read_shift(2)),a.biff>=2&&a.biff<8&&(--s,--n==0&&(n=256));for(var i=0,l=[];i!=s&&(l[i]=[]);++i)for(var o=0;o!=n;++o)l[i][o]=Kpe(e,a.biff);return l}function Jpe(e,t,a){var s=e.read_shift(1)>>>5&3,n=!a||a.biff>=8?4:2,i=e.read_shift(n);switch(a.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[s,0,i]}function Qpe(e,t,a){if(a.biff==5)return Zpe(e);var s=e.read_shift(1)>>>5&3,n=e.read_shift(2),i=e.read_shift(4);return[s,n,i]}function Zpe(e){var t=e.read_shift(1)>>>5&3,a=e.read_shift(2,"i");e.l+=8;var s=e.read_shift(2);return e.l+=12,[t,a,s]}function exe(e,t,a){var s=e.read_shift(1)>>>5&3;e.l+=a&&a.biff==2?3:4;var n=e.read_shift(a&&a.biff==2?1:2);return[s,n]}function txe(e,t,a){var s=e.read_shift(1)>>>5&3,n=e.read_shift(a&&a.biff==2?1:2);return[s,n]}function axe(e,t,a){var s=e.read_shift(1)>>>5&3;return e.l+=4,a.biff<8&&e.l--,a.biff==12&&(e.l+=2),[s]}function rxe(e,t,a){var s=(e[e.l++]&96)>>5,n=e.read_shift(2),i=4;if(a)switch(a.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[s,n]}var sxe=ml,nxe=ml,ixe=ml;function Wv(e,t,a){return e.l+=2,[bpe(e)]}function qA(e){return e.l+=6,[]}var lxe=Wv,oxe=qA,cxe=qA,dxe=Wv;function oV(e){return e.l+=2,[On(e),e.read_shift(2)&1]}var uxe=Wv,hxe=oV,fxe=qA,mxe=Wv,pxe=Wv,xxe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function gxe(e){e.l+=2;var t=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(4),n=e.read_shift(2),i=e.read_shift(2),l=xxe[a>>2&31];return{ixti:t,coltype:a&3,rt:l,idx:s,c:n,C:i}}function vxe(e){return e.l+=2,[e.read_shift(4)]}function bxe(e,t,a){return e.l+=5,e.l+=2,e.l+=a.biff==2?1:4,["PTGSHEET"]}function yxe(e,t,a){return e.l+=a.biff==2?4:5,["PTGENDSHEET"]}function wxe(e){var t=e.read_shift(1)>>>5&3,a=e.read_shift(2);return[t,a]}function jxe(e){var t=e.read_shift(1)>>>5&3,a=e.read_shift(2);return[t,a]}function Nxe(e){return e.l+=4,[0,0]}var IP={1:{n:"PtgExp",f:zpe},2:{n:"PtgTbl",f:ixe},3:{n:"PtgAdd",f:Pn},4:{n:"PtgSub",f:Pn},5:{n:"PtgMul",f:Pn},6:{n:"PtgDiv",f:Pn},7:{n:"PtgPower",f:Pn},8:{n:"PtgConcat",f:Pn},9:{n:"PtgLt",f:Pn},10:{n:"PtgLe",f:Pn},11:{n:"PtgEq",f:Pn},12:{n:"PtgGe",f:Pn},13:{n:"PtgGt",f:Pn},14:{n:"PtgNe",f:Pn},15:{n:"PtgIsect",f:Pn},16:{n:"PtgUnion",f:Pn},17:{n:"PtgRange",f:Pn},18:{n:"PtgUplus",f:Pn},19:{n:"PtgUminus",f:Pn},20:{n:"PtgPercent",f:Pn},21:{n:"PtgParen",f:Pn},22:{n:"PtgMissArg",f:Pn},23:{n:"PtgStr",f:Gpe},26:{n:"PtgSheet",f:bxe},27:{n:"PtgEndSheet",f:yxe},28:{n:"PtgErr",f:Hpe},29:{n:"PtgBool",f:Wpe},30:{n:"PtgInt",f:Vpe},31:{n:"PtgNum",f:qpe},32:{n:"PtgArray",f:Ape},33:{n:"PtgFunc",f:Ipe},34:{n:"PtgFuncVar",f:Bpe},35:{n:"PtgName",f:Jpe},36:{n:"PtgRef",f:Ope},37:{n:"PtgArea",f:jpe},38:{n:"PtgMemArea",f:exe},39:{n:"PtgMemErr",f:sxe},40:{n:"PtgMemNoMem",f:nxe},41:{n:"PtgMemFunc",f:txe},42:{n:"PtgRefErr",f:axe},43:{n:"PtgAreaErr",f:Spe},44:{n:"PtgRefN",f:Rpe},45:{n:"PtgAreaN",f:Cpe},46:{n:"PtgMemAreaN",f:wxe},47:{n:"PtgMemNoMemN",f:jxe},57:{n:"PtgNameX",f:Qpe},58:{n:"PtgRef3d",f:Fpe},59:{n:"PtgArea3d",f:Npe},60:{n:"PtgRefErr3d",f:rxe},61:{n:"PtgAreaErr3d",f:kpe},255:{}},Sxe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},kxe={1:{n:"PtgElfLel",f:oV},2:{n:"PtgElfRw",f:mxe},3:{n:"PtgElfCol",f:lxe},6:{n:"PtgElfRwV",f:pxe},7:{n:"PtgElfColV",f:dxe},10:{n:"PtgElfRadical",f:uxe},11:{n:"PtgElfRadicalS",f:fxe},13:{n:"PtgElfColS",f:oxe},15:{n:"PtgElfColSV",f:cxe},16:{n:"PtgElfRadicalLel",f:hxe},25:{n:"PtgList",f:gxe},29:{n:"PtgSxName",f:vxe},255:{}},Cxe={0:{n:"PtgAttrNoop",f:Nxe},1:{n:"PtgAttrSemi",f:Mpe},2:{n:"PtgAttrIf",f:Epe},4:{n:"PtgAttrChoose",f:_pe},8:{n:"PtgAttrGoto",f:Tpe},16:{n:"PtgAttrSum",f:Upe},32:{n:"PtgAttrBaxcel",f:FP},33:{n:"PtgAttrBaxcel",f:FP},64:{n:"PtgAttrSpace",f:Ppe},65:{n:"PtgAttrSpaceSemi",f:Lpe},128:{n:"PtgAttrIfError",f:Dpe},255:{}};function qv(e,t,a,s){if(s.biff<8)return ml(e,t);for(var n=e.l+t,i=[],l=0;l!==a.length;++l)switch(a[l][0]){case"PtgArray":a[l][1]=Xpe(e,0,s),i.push(a[l][1]);break;case"PtgMemArea":a[l][2]=Ype(e,a[l][1],s),i.push(a[l][2]);break;case"PtgExp":s&&s.biff==12&&(a[l][1][1]=e.read_shift(4),i.push(a[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+a[l][0]}return t=n-e.l,t!==0&&i.push(ml(e,t)),i}function Gv(e,t,a){for(var s=e.l+t,n,i,l=[];s!=e.l;)t=s-e.l,i=e[e.l],n=IP[i]||IP[Sxe[i]],(i===24||i===25)&&(n=(i===24?kxe:Cxe)[e[e.l+1]]),!n||!n.f?ml(e,t):l.push([n.n,n.f(e,t,a)]);return l}function Axe(e){for(var t=[],a=0;a<e.length;++a){for(var s=e[a],n=[],i=0;i<s.length;++i){var l=s[i];if(l)switch(l[0]){case 2:n.push('"'+l[1].replace(/"/g,'""')+'"');break;default:n.push(l[1])}else n.push("")}t.push(n.join(","))}return t.join(";")}var _xe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Txe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function cV(e,t,a){if(!e)return"SH33TJSERR0";if(a.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var s=e.XTI[t];if(a.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!s)return"SH33TJSERR1";var n="";if(a.biff>8)switch(e[s[0]][0]){case 357:return n=s[1]==-1?"#REF":e.SheetNames[s[1]],s[1]==s[2]?n:n+":"+e.SheetNames[s[2]];case 358:return a.SID!=null?e.SheetNames[a.SID]:"SH33TJSSAME"+e[s[0]][0];case 355:default:return"SH33TJSSRC"+e[s[0]][0]}switch(e[s[0]][0][0]){case 1025:return n=s[1]==-1?"#REF":e.SheetNames[s[1]]||"SH33TJSERR3",s[1]==s[2]?n:n+":"+e.SheetNames[s[2]];case 14849:return e[s[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[s[0]][0][3]?(n=s[1]==-1?"#REF":e[s[0]][0][3][s[1]]||"SH33TJSERR4",s[1]==s[2]?n:n+":"+e[s[0]][0][3][s[2]]):"SH33TJSERR2"}}function BP(e,t,a){var s=cV(e,t,a);return s=="#REF"?s:Txe(s,a)}function nl(e,t,a,s,n){var i=n&&n.biff||8,l={s:{c:0,r:0}},o=[],c,d,u,f=0,x=0,m,g="";if(!e[0]||!e[0][0])return"";for(var v=-1,b="",j=0,S=e[0].length;j<S;++j){var k=e[0][j];switch(k[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),d=o.pop(),v>=0){switch(e[0][v][1][0]){case 0:b=Qs(" ",e[0][v][1][1]);break;case 1:b=Qs("\r",e[0][v][1][1]);break;default:if(b="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}d=d+b,v=-1}o.push(d+_xe[k[0]]+c);break;case"PtgIsect":c=o.pop(),d=o.pop(),o.push(d+" "+c);break;case"PtgUnion":c=o.pop(),d=o.pop(),o.push(d+","+c);break;case"PtgRange":c=o.pop(),d=o.pop(),o.push(d+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=m1(k[1][1],l,n),o.push(p1(u,i));break;case"PtgRefN":u=a?m1(k[1][1],a,n):k[1][1],o.push(p1(u,i));break;case"PtgRef3d":f=k[1][1],u=m1(k[1][2],l,n),g=BP(s,f,n),o.push(g+"!"+p1(u,i));break;case"PtgFunc":case"PtgFuncVar":var N=k[1][0],A=k[1][1];N||(N=0),N&=127;var _=N==0?[]:o.slice(-N);o.length-=N,A==="User"&&(A=_.shift()),o.push(A+"("+_.join(",")+")");break;case"PtgBool":o.push(k[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(k[1]);break;case"PtgNum":o.push(String(k[1]));break;case"PtgStr":o.push('"'+k[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(k[1]);break;case"PtgAreaN":m=mP(k[1][1],a?{s:a}:l,n),o.push(T5(m,n));break;case"PtgArea":m=mP(k[1][1],l,n),o.push(T5(m,n));break;case"PtgArea3d":f=k[1][1],m=k[1][2],g=BP(s,f,n),o.push(g+"!"+T5(m,n));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":x=k[1][2];var D=(s.names||[])[x-1]||(s[0]||[])[x],P=D?D.Name:"SH33TJSNAME"+String(x);P&&P.slice(0,6)=="_xlfn."&&!n.xlfn&&(P=P.slice(6)),o.push(P);break;case"PtgNameX":var I=k[1][1];x=k[1][2];var B;if(n.biff<=5)I<0&&(I=-I),s[I]&&(B=s[I][x]);else{var O="";if(((s[I]||[])[0]||[])[0]==14849||(((s[I]||[])[0]||[])[0]==1025?s[I][x]&&s[I][x].itab>0&&(O=s.SheetNames[s[I][x].itab-1]+"!"):O=s.SheetNames[x-1]+"!"),s[I]&&s[I][x])O+=s[I][x].Name;else if(s[0]&&s[0][x])O+=s[0][x].Name;else{var U=(cV(s,I,n)||"").split(";;");U[x-1]?O=U[x-1]:O+="SH33TJSERRX"}o.push(O);break}B||(B={Name:"SH33TJSERRY"}),o.push(B.Name);break;case"PtgParen":var E="(",R=")";if(v>=0){switch(b="",e[0][v][1][0]){case 2:E=Qs(" ",e[0][v][1][1])+E;break;case 3:E=Qs("\r",e[0][v][1][1])+E;break;case 4:R=Qs(" ",e[0][v][1][1])+R;break;case 5:R=Qs("\r",e[0][v][1][1])+R;break;default:if(n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}v=-1}o.push(E+o.pop()+R);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:k[1][1],r:k[1][0]};var K={c:a.c,r:a.r};if(s.sharedf[Da(u)]){var V=s.sharedf[Da(u)];o.push(nl(V,l,K,s,n))}else{var Z=!1;for(c=0;c!=s.arrayf.length;++c)if(d=s.arrayf[c],!(u.c<d[0].s.c||u.c>d[0].e.c)&&!(u.r<d[0].s.r||u.r>d[0].e.r)){o.push(nl(d[1],l,K,s,n)),Z=!0;break}Z||o.push(k[1])}break;case"PtgArray":o.push("{"+Axe(k[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=j;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+k[1].idx+"[#"+k[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(k));default:throw new Error("Unrecognized Formula Token: "+String(k))}var J=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(n.biff!=3&&v>=0&&J.indexOf(e[0][j][0])==-1){k=e[0][v];var ee=!0;switch(k[1][0]){case 4:ee=!1;case 0:b=Qs(" ",k[1][1]);break;case 5:ee=!1;case 1:b=Qs("\r",k[1][1]);break;default:if(b="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+k[1][0])}o.push((ee?b:"")+o.pop()+(ee?"":b)),v=-1}}if(o.length>1&&n.WTF)throw new Error("bad formula stack");return o[0]}function Exe(e,t,a){var s=e.l+t,n=a.biff==2?1:2,i,l=e.read_shift(n);if(l==65535)return[[],ml(e,t-2)];var o=Gv(e,l,a);return t!==l+n&&(i=qv(e,t-l-n,o,a)),e.l=s,[o,i]}function Dxe(e,t,a){var s=e.l+t,n=a.biff==2?1:2,i,l=e.read_shift(n);if(l==65535)return[[],ml(e,t-2)];var o=Gv(e,l,a);return t!==l+n&&(i=qv(e,t-l-n,o,a)),e.l=s,[o,i]}function Mxe(e,t,a,s){var n=e.l+t,i=Gv(e,s,a),l;return n!==e.l&&(l=qv(e,n-e.l,i,a)),[i,l]}function Pxe(e,t,a){var s=e.l+t,n,i=e.read_shift(2),l=Gv(e,i,a);return i==65535?[[],ml(e,t-2)]:(t!==i+2&&(n=qv(e,s-i-2,l,a)),[l,n])}function Lxe(e){var t;if(Ku(e,e.l+6)!==65535)return[cl(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function Oxe(e){if(e==null){var t=kt(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return fm(e);return fm(0)}function L5(e,t,a){var s=e.l+t,n=lu(e);a.biff==2&&++e.l;var i=Lxe(e),l=e.read_shift(1);a.biff!=2&&(e.read_shift(1),a.biff>=5&&e.read_shift(4));var o=Dxe(e,s-e.l,a);return{cell:n,val:i[0],formula:o,shared:l>>3&1,tt:i[1]}}function Rxe(e,t,a,s,n){var i=pm(t,a,n),l=Oxe(e.v),o=kt(6),c=33;o.write_shift(2,c),o.write_shift(4,0);for(var d=kt(e.bf.length),u=0;u<e.bf.length;++u)d[u]=e.bf[u];var f=wi([i,l,o,d]);return f}function Yj(e,t,a){var s=e.read_shift(4),n=Gv(e,s,a),i=e.read_shift(4),l=i>0?qv(e,i,n,a):null;return[n,l]}var Fxe=Yj,Xj=Yj,Ixe=Yj,Bxe=Yj,$xe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},dV={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Uxe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function $P(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,a){return a.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function zxe(e){var t="of:="+e.replace(VA,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function O5(e){var t=e.split(":"),a=t[0].split(".")[0];return[a,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function Hxe(e){return e.replace(/\./,"!")}var g1={},Yp={},v1=typeof Map<"u";function GA(e,t,a){var s=0,n=e.length;if(a){if(v1?a.has(t):Object.prototype.hasOwnProperty.call(a,t)){for(var i=v1?a.get(t):a[t];s<i.length;++s)if(e[i[s]].t===t)return e.Count++,i[s]}}else for(;s<n;++s)if(e[s].t===t)return e.Count++,s;return e[n]={t},e.Count++,e.Unique++,a&&(v1?(a.has(t)||a.set(t,[]),a.get(t).push(n)):(Object.prototype.hasOwnProperty.call(a,t)||(a[t]=[]),a[t].push(n))),n}function Jj(e,t){var a={min:e+1,max:e+1},s=-1;return t.MDW&&(il=t.MDW),t.width!=null?a.customWidth=1:t.wpx!=null?s=tv(t.wpx):t.wch!=null&&(s=t.wch),s>-1?(a.width=mw(s),a.customWidth=1):t.width!=null&&(a.width=t.width),t.hidden&&(a.hidden=!0),t.level!=null&&(a.outlineLevel=a.level=t.level),a}function J0(e,t){if(e){var a=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(a=[1,1,1,1,.5,.5]),e.left==null&&(e.left=a[0]),e.right==null&&(e.right=a[1]),e.top==null&&(e.top=a[2]),e.bottom==null&&(e.bottom=a[3]),e.header==null&&(e.header=a[4]),e.footer==null&&(e.footer=a[5])}}function Wf(e,t,a){var s=a.revssf[t.z!=null?t.z:"General"],n=60,i=e.length;if(s==null&&a.ssf){for(;n<392;++n)if(a.ssf[n]==null){rh(t.z,n),a.ssf[n]=t.z,a.revssf[t.z]=s=n;break}}for(n=0;n!=i;++n)if(e[n].numFmtId===s)return n;return e[i]={numFmtId:s,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function uV(e,t,a,s,n,i){try{s.cellNF&&(e.z=Ea[t])}catch(o){if(s.WTF)throw o}if(!(e.t==="z"&&!s.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=ps(e.v)),(!s||s.cellText!==!1)&&e.t!=="z")try{if(Ea[t]==null&&rh($de[t]||"General",t),e.t==="e")e.w=e.w||jh[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=K1(e.v);else if(e.t==="d"){var l=ei(e.v);(l|0)===l?e.w=l.toString(10):e.w=K1(l)}else{if(e.v===void 0)return"";e.w=um(e.v,Yp)}else e.t==="d"?e.w=yc(t,ei(e.v),Yp):e.w=yc(t,e.v,Yp)}catch(o){if(s.WTF)throw o}if(s.cellStyles&&a!=null)try{e.s=i.Fills[a],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=fw(n.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),s.WTF&&(e.s.fgColor.raw_rgb=n.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=fw(n.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),s.WTF&&(e.s.bgColor.raw_rgb=n.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(s.WTF&&i.Fills)throw o}}}function Vxe(e,t,a){if(e&&e["!ref"]){var s=Cr(e["!ref"]);if(s.e.c<s.s.c||s.e.r<s.s.r)throw new Error("Bad range ("+a+"): "+e["!ref"])}}function Wxe(e,t){var a=Cr(t);a.s.r<=a.e.r&&a.s.c<=a.e.c&&a.s.r>=0&&a.s.c>=0&&(e["!ref"]=Qa(a))}var qxe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Gxe=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,Kxe=/<(?:\w:)?hyperlink [^>]*>/mg,Yxe=/"(\w*:\w*)"/,Xxe=/<(?:\w:)?col\b[^>]*[\/]?>/g,Jxe=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Qxe=/<(?:\w:)?pageMargins[^>]*\/>/g,hV=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,Zxe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,ege=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function tge(e,t,a,s,n,i,l){if(!e)return e;s||(s={"!id":{}});var o=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},d="",u="",f=e.match(Gxe);f?(d=e.slice(0,f.index),u=e.slice(f.index+f[0].length)):d=u=e;var x=d.match(hV);x?KA(x[0],o,n,a):(x=d.match(Zxe))&&rge(x[0],x[1]||"",o,n,a);var m=(d.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(m>0){var g=d.slice(m,m+50).match(Yxe);g&&Wxe(o,g[1])}var v=d.match(ege);v&&v[1]&&xge(v[1],n);var b=[];if(t.cellStyles){var j=d.match(Xxe);j&&uge(b,j)}f&&bge(f[1],o,t,c,i,l);var S=u.match(Jxe);S&&(o["!autofilter"]=fge(S[0]));var k=[],N=u.match(qxe);if(N)for(m=0;m!=N.length;++m)k[m]=Cr(N[m].slice(N[m].indexOf('"')+1));var A=u.match(Kxe);A&&oge(o,A,s);var _=u.match(Qxe);if(_&&(o["!margins"]=cge(Ra(_[0]))),!o["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(o["!ref"]=Qa(c)),t.sheetRows>0&&o["!ref"]){var D=Cr(o["!ref"]);t.sheetRows<=+D.e.r&&(D.e.r=t.sheetRows-1,D.e.r>c.e.r&&(D.e.r=c.e.r),D.e.r<D.s.r&&(D.s.r=D.e.r),D.e.c>c.e.c&&(D.e.c=c.e.c),D.e.c<D.s.c&&(D.s.c=D.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Qa(D))}return b.length>0&&(o["!cols"]=b),k.length>0&&(o["!merges"]=k),o}function age(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',a=0;a!=e.length;++a)t+='<mergeCell ref="'+Qa(e[a])+'"/>';return t+"</mergeCells>"}function KA(e,t,a,s){var n=Ra(e);a.Sheets[s]||(a.Sheets[s]={}),n.codeName&&(a.Sheets[s].CodeName=kr(Jr(n.codeName)))}function rge(e,t,a,s,n){KA(e.slice(0,e.indexOf(">")),a,s,n)}function sge(e,t,a,s,n){var i=!1,l={},o=null;if(s.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[a];try{t.Workbook&&(c=t.Workbook.Sheets[a].CodeName||c)}catch{}i=!0,l.codeName=Yd(Wr(c))}if(e&&e["!outline"]){var d={summaryBelow:1,summaryRight:1};e["!outline"].above&&(d.summaryBelow=0),e["!outline"].left&&(d.summaryRight=0),o=(o||"")+Gt("outlinePr",null,d)}!i&&!o||(n[n.length]=Gt("sheetPr",o,l))}var nge=["objects","scenarios","selectLockedCells","selectUnlockedCells"],ige=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function lge(e){var t={sheet:1};return nge.forEach(function(a){e[a]!=null&&e[a]&&(t[a]="1")}),ige.forEach(function(a){e[a]!=null&&!e[a]&&(t[a]="0")}),e.password&&(t.password=UA(e.password).toString(16).toUpperCase()),Gt("sheetProtection",null,t)}function oge(e,t,a){for(var s=Array.isArray(e),n=0;n!=t.length;++n){var i=Ra(Jr(t[n]),!0);if(!i.ref)return;var l=((a||{})["!id"]||[])[i.id];l?(i.Target=l.Target,i.location&&(i.Target+="#"+kr(i.location))):(i.Target="#"+kr(i.location),l={Target:i.Target,TargetMode:"Internal"}),i.Rel=l,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=Cr(i.ref),c=o.s.r;c<=o.e.r;++c)for(var d=o.s.c;d<=o.e.c;++d){var u=Da({c:d,r:c});s?(e[c]||(e[c]=[]),e[c][d]||(e[c][d]={t:"z",v:void 0}),e[c][d].l=i):(e[u]||(e[u]={t:"z",v:void 0}),e[u].l=i)}}}function cge(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(a){e[a]&&(t[a]=parseFloat(e[a]))}),t}function dge(e){return J0(e),Gt("pageMargins",null,e)}function uge(e,t){for(var a=!1,s=0;s!=t.length;++s){var n=Ra(t[s],!0);n.hidden&&(n.hidden=hs(n.hidden));var i=parseInt(n.min,10)-1,l=parseInt(n.max,10)-1;for(n.outlineLevel&&(n.level=+n.outlineLevel||0),delete n.min,delete n.max,n.width=+n.width,!a&&n.width&&(a=!0,zA(n.width)),Mf(n);i<=l;)e[i++]=xs(n)}}function hge(e,t){for(var a=["<cols>"],s,n=0;n!=t.length;++n)(s=t[n])&&(a[a.length]=Gt("col",null,Jj(n,s)));return a[a.length]="</cols>",a.join("")}function fge(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function mge(e,t,a,s){var n=typeof e.ref=="string"?e.ref:Qa(e.ref);a.Workbook||(a.Workbook={Sheets:[]}),a.Workbook.Names||(a.Workbook.Names=[]);var i=a.Workbook.Names,l=so(n);l.s.r==l.e.r&&(l.e.r=so(t["!ref"]).e.r,n=Qa(l));for(var o=0;o<i.length;++o){var c=i[o];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==s){c.Ref="'"+a.SheetNames[s]+"'!"+n;break}}return o==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:s,Ref:"'"+a.SheetNames[s]+"'!"+n}),Gt("autoFilter",null,{ref:n})}var pge=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function xge(e,t){t.Views||(t.Views=[{}]),(e.match(pge)||[]).forEach(function(a,s){var n=Ra(a);t.Views[s]||(t.Views[s]={}),+n.zoomScale&&(t.Views[s].zoom=+n.zoomScale),hs(n.rightToLeft)&&(t.Views[s].RTL=!0)})}function gge(e,t,a,s){var n={workbookViewId:"0"};return(((s||{}).Workbook||{}).Views||[])[0]&&(n.rightToLeft=s.Workbook.Views[0].RTL?"1":"0"),Gt("sheetViews",Gt("sheetView",null,n),{})}function vge(e,t,a,s){if(e.c&&a["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var n="",i=e.t,l=e.v;if(e.t!=="z")switch(e.t){case"b":n=e.v?"1":"0";break;case"n":n=""+e.v;break;case"e":n=jh[e.v];break;case"d":s&&s.cellDates?n=ps(e.v,-1).toISOString():(e=xs(e),e.t="n",n=""+(e.v=ei(ps(e.v)))),typeof e.z>"u"&&(e.z=Ea[14]);break;default:n=e.v;break}var o=zi("v",Wr(n)),c={r:t},d=Wf(s.cellXfs,e,s);switch(d!==0&&(c.s=d),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(s&&s.bookSST){o=zi("v",""+GA(s.Strings,e.v,s.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=l),typeof e.f=="string"&&e.f){var u=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=Gt("f",Wr(e.f),u)+(e.v!=null?o:"")}return e.l&&a["!links"].push([t,e.l]),e.D&&(c.cm=1),Gt("c",o,c)}var bge=(function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,a=/r=["']([^"']*)["']/,s=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,n=/ref=["']([^"']*)["']/,i=Y1("v"),l=Y1("f");return function(c,d,u,f,x,m){for(var g=0,v="",b=[],j=[],S=0,k=0,N=0,A="",_,D,P=0,I=0,B,O,U=0,E=0,R=Array.isArray(m.CellXf),K,V=[],Z=[],J=Array.isArray(d),ee=[],W={},le=!1,M=!!u.sheetStubs,X=c.split(t),z=0,Q=X.length;z!=Q;++z){v=X[z].trim();var ne=v.length;if(ne!==0){var re=0;e:for(g=0;g<ne;++g)switch(v[g]){case">":if(v[g-1]!="/"){++g;break e}if(u&&u.cellStyles){if(D=Ra(v.slice(re,g),!0),P=D.r!=null?parseInt(D.r,10):P+1,I=-1,u.sheetRows&&u.sheetRows<P)continue;W={},le=!1,D.ht&&(le=!0,W.hpt=parseFloat(D.ht),W.hpx=ox(W.hpt)),D.hidden=="1"&&(le=!0,W.hidden=!0),D.outlineLevel!=null&&(le=!0,W.level=+D.outlineLevel),le&&(ee[P-1]=W)}break;case"<":re=g;break}if(re>=g)break;if(D=Ra(v.slice(re,g),!0),P=D.r!=null?parseInt(D.r,10):P+1,I=-1,!(u.sheetRows&&u.sheetRows<P)){f.s.r>P-1&&(f.s.r=P-1),f.e.r<P-1&&(f.e.r=P-1),u&&u.cellStyles&&(W={},le=!1,D.ht&&(le=!0,W.hpt=parseFloat(D.ht),W.hpx=ox(W.hpt)),D.hidden=="1"&&(le=!0,W.hidden=!0),D.outlineLevel!=null&&(le=!0,W.level=+D.outlineLevel),le&&(ee[P-1]=W)),b=v.slice(g).split(e);for(var oe=0;oe!=b.length&&b[oe].trim().charAt(0)=="<";++oe);for(b=b.slice(oe),g=0;g!=b.length;++g)if(v=b[g].trim(),v.length!==0){if(j=v.match(a),S=g,k=0,N=0,v="<c "+(v.slice(0,1)=="<"?">":"")+v,j!=null&&j.length===2){for(S=0,A=j[1],k=0;k!=A.length&&!((N=A.charCodeAt(k)-64)<1||N>26);++k)S=26*S+N;--S,I=S}else++I;for(k=0;k!=v.length&&v.charCodeAt(k)!==62;++k);if(++k,D=Ra(v.slice(0,k),!0),D.r||(D.r=Da({r:P-1,c:I})),A=v.slice(k),_={t:""},(j=A.match(i))!=null&&j[1]!==""&&(_.v=kr(j[1])),u.cellFormula){if((j=A.match(l))!=null&&j[1]!==""){if(_.f=kr(Jr(j[1])).replace(/\r\n/g,`
`),u.xlfn||(_.f=RP(_.f)),j[0].indexOf('t="array"')>-1)_.F=(A.match(n)||[])[1],_.F.indexOf(":")>-1&&V.push([Cr(_.F),_.F]);else if(j[0].indexOf('t="shared"')>-1){O=Ra(j[0]);var q=kr(Jr(j[1]));u.xlfn||(q=RP(q)),Z[parseInt(O.si,10)]=[O,q,D.r]}}else(j=A.match(/<f[^>]*\/>/))&&(O=Ra(j[0]),Z[O.si]&&(_.f=ppe(Z[O.si][1],Z[O.si][2],D.r)));var ie=Vs(D.r);for(k=0;k<V.length;++k)ie.r>=V[k][0].s.r&&ie.r<=V[k][0].e.r&&ie.c>=V[k][0].s.c&&ie.c<=V[k][0].e.c&&(_.F=V[k][1])}if(D.t==null&&_.v===void 0)if(_.f||_.F)_.v=0,_.t="n";else if(M)_.t="z";else continue;else _.t=D.t||"n";switch(f.s.c>I&&(f.s.c=I),f.e.c<I&&(f.e.c=I),_.t){case"n":if(_.v==""||_.v==null){if(!M)continue;_.t="z"}else _.v=parseFloat(_.v);break;case"s":if(typeof _.v>"u"){if(!M)continue;_.t="z"}else B=g1[parseInt(_.v,10)],_.v=B.t,_.r=B.r,u.cellHTML&&(_.h=B.h);break;case"str":_.t="s",_.v=_.v!=null?Jr(_.v):"",u.cellHTML&&(_.h=CA(_.v));break;case"inlineStr":j=A.match(s),_.t="s",j!=null&&(B=$A(j[1]))?(_.v=B.t,u.cellHTML&&(_.h=B.h)):_.v="";break;case"b":_.v=hs(_.v);break;case"d":u.cellDates?_.v=ps(_.v,1):(_.v=ei(ps(_.v,1)),_.t="n");break;case"e":(!u||u.cellText!==!1)&&(_.w=_.v),_.v=mH[_.v];break}if(U=E=0,K=null,R&&D.s!==void 0&&(K=m.CellXf[D.s],K!=null&&(K.numFmtId!=null&&(U=K.numFmtId),u.cellStyles&&K.fillId!=null&&(E=K.fillId))),uV(_,U,E,u,x,m),u.cellDates&&R&&_.t=="n"&&Sx(Ea[U])&&(_.t="d",_.v=Gj(_.v)),D.cm&&u.xlmeta){var ye=(u.xlmeta.Cell||[])[+D.cm-1];ye&&ye.type=="XLDAPR"&&(_.D=!0)}if(J){var Y=Vs(D.r);d[Y.r]||(d[Y.r]=[]),d[Y.r][Y.c]=_}else d[D.r]=_}}}}ee.length>0&&(d["!rows"]=ee)}})();function yge(e,t,a,s){var n=[],i=[],l=Cr(e["!ref"]),o="",c,d="",u=[],f=0,x=0,m=e["!rows"],g=Array.isArray(e),v={r:d},b,j=-1;for(x=l.s.c;x<=l.e.c;++x)u[x]=Hs(x);for(f=l.s.r;f<=l.e.r;++f){for(i=[],d=Sn(f),x=l.s.c;x<=l.e.c;++x){c=u[x]+d;var S=g?(e[f]||[])[x]:e[c];S!==void 0&&(o=vge(S,c,e,t))!=null&&i.push(o)}(i.length>0||m&&m[f])&&(v={r:d},m&&m[f]&&(b=m[f],b.hidden&&(v.hidden=1),j=-1,b.hpx?j=av(b.hpx):b.hpt&&(j=b.hpt),j>-1&&(v.ht=j,v.customHeight=1),b.level&&(v.outlineLevel=b.level)),n[n.length]=Gt("row",i.join(""),v))}if(m)for(;f<m.length;++f)m&&m[f]&&(v={r:f+1},b=m[f],b.hidden&&(v.hidden=1),j=-1,b.hpx?j=av(b.hpx):b.hpt&&(j=b.hpt),j>-1&&(v.ht=j,v.customHeight=1),b.level&&(v.outlineLevel=b.level),n[n.length]=Gt("row","",v));return n.join("")}function fV(e,t,a,s){var n=[_n,Gt("worksheet",null,{xmlns:Dm[0],"xmlns:r":Jn.r})],i=a.SheetNames[e],l=0,o="",c=a.Sheets[i];c==null&&(c={});var d=c["!ref"]||"A1",u=Cr(d);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+d+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),d=Qa(u)}s||(s={}),c["!comments"]=[];var f=[];sge(c,a,e,t,n),n[n.length]=Gt("dimension",null,{ref:d}),n[n.length]=gge(c,t,e,a),t.sheetFormat&&(n[n.length]=Gt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(n[n.length]=hge(c,c["!cols"])),n[l=n.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(o=yge(c,t),o.length>0&&(n[n.length]=o)),n.length>l+1&&(n[n.length]="</sheetData>",n[l]=n[l].replace("/>",">")),c["!protect"]&&(n[n.length]=lge(c["!protect"])),c["!autofilter"]!=null&&(n[n.length]=mge(c["!autofilter"],c,a,e)),c["!merges"]!=null&&c["!merges"].length>0&&(n[n.length]=age(c["!merges"]));var x=-1,m,g=-1;return c["!links"].length>0&&(n[n.length]="<hyperlinks>",c["!links"].forEach(function(v){v[1].Target&&(m={ref:v[0]},v[1].Target.charAt(0)!="#"&&(g=Ur(s,-1,Wr(v[1].Target).replace(/#.*$/,""),or.HLINK),m["r:id"]="rId"+g),(x=v[1].Target.indexOf("#"))>-1&&(m.location=Wr(v[1].Target.slice(x+1))),v[1].Tooltip&&(m.tooltip=Wr(v[1].Tooltip)),n[n.length]=Gt("hyperlink",null,m))}),n[n.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(n[n.length]=dge(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(n[n.length]=zi("ignoredErrors",Gt("ignoredError",null,{numberStoredAsText:1,sqref:d}))),f.length>0&&(g=Ur(s,-1,"../drawings/drawing"+(e+1)+".xml",or.DRAW),n[n.length]=Gt("drawing",null,{"r:id":"rId"+g}),c["!drawing"]=f),c["!comments"].length>0&&(g=Ur(s,-1,"../drawings/vmlDrawing"+(e+1)+".vml",or.VML),n[n.length]=Gt("legacyDrawing",null,{"r:id":"rId"+g}),c["!legacy"]=g),n.length>1&&(n[n.length]="</worksheet>",n[1]=n[1].replace("/>",">")),n.join("")}function wge(e,t){var a={},s=e.l+t;a.r=e.read_shift(4),e.l+=4;var n=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=s,i&7&&(a.level=i&7),i&16&&(a.hidden=!0),i&32&&(a.hpt=n/20),a}function jge(e,t,a){var s=kt(145),n=(a["!rows"]||[])[e]||{};s.write_shift(4,e),s.write_shift(4,0);var i=320;n.hpx?i=av(n.hpx)*20:n.hpt&&(i=n.hpt*20),s.write_shift(2,i),s.write_shift(1,0);var l=0;n.level&&(l|=n.level),n.hidden&&(l|=16),(n.hpx||n.hpt)&&(l|=32),s.write_shift(1,l),s.write_shift(1,0);var o=0,c=s.l;s.l+=4;for(var d={r:e,c:0},u=0;u<16;++u)if(!(t.s.c>u+1<<10||t.e.c<u<<10)){for(var f=-1,x=-1,m=u<<10;m<u+1<<10;++m){d.c=m;var g=Array.isArray(a)?(a[d.r]||[])[d.c]:a[Da(d)];g&&(f<0&&(f=m),x=m)}f<0||(++o,s.write_shift(4,f),s.write_shift(4,x))}var v=s.l;return s.l=c,s.write_shift(4,o),s.l=v,s.length>s.l?s.slice(0,s.l):s}function Nge(e,t,a,s){var n=jge(s,a,t);(n.length>17||(t["!rows"]||[])[s])&&Bt(e,0,n)}var Sge=Om,kge=Ax;function Cge(){}function Age(e,t){var a={},s=e[e.l];return++e.l,a.above=!(s&64),a.left=!(s&128),e.l+=18,a.name=Eue(e),a}function _ge(e,t,a){a==null&&(a=kt(84+4*e.length));var s=192;t&&(t.above&&(s&=-65),t.left&&(s&=-129)),a.write_shift(1,s);for(var n=1;n<3;++n)a.write_shift(1,0);return dw({auto:1},a),a.write_shift(-4,-1),a.write_shift(-4,-1),cH(e,a),a.slice(0,a.l)}function Tge(e){var t=Ac(e);return[t]}function Ege(e,t,a){return a==null&&(a=kt(8)),Mm(t,a)}function Dge(e){var t=Pm(e);return[t]}function Mge(e,t,a){return a==null&&(a=kt(4)),Lm(t,a)}function Pge(e){var t=Ac(e),a=e.read_shift(1);return[t,a,"b"]}function Lge(e,t,a){return a==null&&(a=kt(9)),Mm(t,a),a.write_shift(1,e.v?1:0),a}function Oge(e){var t=Pm(e),a=e.read_shift(1);return[t,a,"b"]}function Rge(e,t,a){return a==null&&(a=kt(5)),Lm(t,a),a.write_shift(1,e.v?1:0),a}function Fge(e){var t=Ac(e),a=e.read_shift(1);return[t,a,"e"]}function Ige(e,t,a){return a==null&&(a=kt(9)),Mm(t,a),a.write_shift(1,e.v),a}function Bge(e){var t=Pm(e),a=e.read_shift(1);return[t,a,"e"]}function $ge(e,t,a){return a==null&&(a=kt(8)),Lm(t,a),a.write_shift(1,e.v),a.write_shift(2,0),a.write_shift(1,0),a}function Uge(e){var t=Ac(e),a=e.read_shift(4);return[t,a,"s"]}function zge(e,t,a){return a==null&&(a=kt(12)),Mm(t,a),a.write_shift(4,t.v),a}function Hge(e){var t=Pm(e),a=e.read_shift(4);return[t,a,"s"]}function Vge(e,t,a){return a==null&&(a=kt(8)),Lm(t,a),a.write_shift(4,t.v),a}function Wge(e){var t=Ac(e),a=cl(e);return[t,a,"n"]}function qge(e,t,a){return a==null&&(a=kt(16)),Mm(t,a),fm(e.v,a),a}function mV(e){var t=Pm(e),a=cl(e);return[t,a,"n"]}function Gge(e,t,a){return a==null&&(a=kt(12)),Lm(t,a),fm(e.v,a),a}function Kge(e){var t=Ac(e),a=OA(e);return[t,a,"n"]}function Yge(e,t,a){return a==null&&(a=kt(12)),Mm(t,a),dH(e.v,a),a}function Xge(e){var t=Pm(e),a=OA(e);return[t,a,"n"]}function Jge(e,t,a){return a==null&&(a=kt(8)),Lm(t,a),dH(e.v,a),a}function Qge(e){var t=Ac(e),a=MA(e);return[t,a,"is"]}function Zge(e){var t=Ac(e),a=hl(e);return[t,a,"str"]}function e1e(e,t,a){return a==null&&(a=kt(12+4*e.v.length)),Mm(t,a),Ni(e.v,a),a.length>a.l?a.slice(0,a.l):a}function t1e(e){var t=Pm(e),a=hl(e);return[t,a,"str"]}function a1e(e,t,a){return a==null&&(a=kt(8+4*e.v.length)),Lm(t,a),Ni(e.v,a),a.length>a.l?a.slice(0,a.l):a}function r1e(e,t,a){var s=e.l+t,n=Ac(e);n.r=a["!row"];var i=e.read_shift(1),l=[n,i,"b"];if(a.cellFormula){e.l+=2;var o=Xj(e,s-e.l,a);l[3]=nl(o,null,n,a.supbooks,a)}else e.l=s;return l}function s1e(e,t,a){var s=e.l+t,n=Ac(e);n.r=a["!row"];var i=e.read_shift(1),l=[n,i,"e"];if(a.cellFormula){e.l+=2;var o=Xj(e,s-e.l,a);l[3]=nl(o,null,n,a.supbooks,a)}else e.l=s;return l}function n1e(e,t,a){var s=e.l+t,n=Ac(e);n.r=a["!row"];var i=cl(e),l=[n,i,"n"];if(a.cellFormula){e.l+=2;var o=Xj(e,s-e.l,a);l[3]=nl(o,null,n,a.supbooks,a)}else e.l=s;return l}function i1e(e,t,a){var s=e.l+t,n=Ac(e);n.r=a["!row"];var i=hl(e),l=[n,i,"str"];if(a.cellFormula){e.l+=2;var o=Xj(e,s-e.l,a);l[3]=nl(o,null,n,a.supbooks,a)}else e.l=s;return l}var l1e=Om,o1e=Ax;function c1e(e,t){return t==null&&(t=kt(4)),t.write_shift(4,e),t}function d1e(e,t){var a=e.l+t,s=Om(e),n=PA(e),i=hl(e),l=hl(e),o=hl(e);e.l=a;var c={rfx:s,relId:n,loc:i,display:o};return l&&(c.Tooltip=l),c}function u1e(e,t){var a=kt(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Ax({s:Vs(e[0]),e:Vs(e[0])},a),LA("rId"+t,a);var s=e[1].Target.indexOf("#"),n=s==-1?"":e[1].Target.slice(s+1);return Ni(n||"",a),Ni(e[1].Tooltip||"",a),Ni("",a),a.slice(0,a.l)}function h1e(){}function f1e(e,t,a){var s=e.l+t,n=uH(e),i=e.read_shift(1),l=[n];if(l[2]=i,a.cellFormula){var o=Fxe(e,s-e.l,a);l[1]=o}else e.l=s;return l}function m1e(e,t,a){var s=e.l+t,n=Om(e),i=[n];if(a.cellFormula){var l=Bxe(e,s-e.l,a);i[1]=l,e.l=s}else e.l=s;return i}function p1e(e,t,a){a==null&&(a=kt(18));var s=Jj(e,t);a.write_shift(-4,e),a.write_shift(-4,e),a.write_shift(4,(s.width||10)*256),a.write_shift(4,0);var n=0;return t.hidden&&(n|=1),typeof s.width=="number"&&(n|=2),t.level&&(n|=t.level<<8),a.write_shift(2,n),a}var pV=["left","right","top","bottom","header","footer"];function x1e(e){var t={};return pV.forEach(function(a){t[a]=cl(e)}),t}function g1e(e,t){return t==null&&(t=kt(48)),J0(e),pV.forEach(function(a){fm(e[a],t)}),t}function v1e(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function b1e(e,t,a){a==null&&(a=kt(30));var s=924;return(((t||{}).Views||[])[0]||{}).RTL&&(s|=32),a.write_shift(2,s),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(1,0),a.write_shift(1,0),a.write_shift(2,0),a.write_shift(2,100),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(4,0),a}function y1e(e){var t=kt(24);return t.write_shift(4,4),t.write_shift(4,1),Ax(e,t),t}function w1e(e,t){return t==null&&(t=kt(66)),t.write_shift(2,e.password?UA(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(a){a[1]?t.write_shift(4,e[a[0]]!=null&&!e[a[0]]?1:0):t.write_shift(4,e[a[0]]!=null&&e[a[0]]?0:1)}),t}function j1e(){}function N1e(){}function S1e(e,t,a,s,n,i,l){if(!e)return e;var o=t||{};s||(s={"!id":{}});var c=o.dense?[]:{},d,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,x=!1,m,g,v,b,j,S,k,N,A,_=[];o.biff=12,o["!row"]=0;var D=0,P=!1,I=[],B={},O=o.supbooks||n.supbooks||[[]];if(O.sharedf=B,O.arrayf=I,O.SheetNames=n.SheetNames||n.Sheets.map(function(J){return J.name}),!o.supbooks&&(o.supbooks=O,n.Names))for(var U=0;U<n.Names.length;++U)O[0][U+1]=n.Names[U];var E=[],R=[],K=!1;rv[16]={n:"BrtShortReal",f:mV};var V;if(wh(e,function(ee,W,le){if(!x)switch(le){case 148:d=ee;break;case 0:m=ee,o.sheetRows&&o.sheetRows<=m.r&&(x=!0),N=Sn(b=m.r),o["!row"]=m.r,(ee.hidden||ee.hpt||ee.level!=null)&&(ee.hpt&&(ee.hpx=ox(ee.hpt)),R[ee.r]=ee);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(g={t:ee[2]},ee[2]){case"n":g.v=ee[1];break;case"s":k=g1[ee[1]],g.v=k.t,g.r=k.r;break;case"b":g.v=!!ee[1];break;case"e":g.v=ee[1],o.cellText!==!1&&(g.w=jh[g.v]);break;case"str":g.t="s",g.v=ee[1];break;case"is":g.t="s",g.v=ee[1].t;break}if((v=l.CellXf[ee[0].iStyleRef])&&uV(g,v.numFmtId,null,o,i,l),j=ee[0].c==-1?j+1:ee[0].c,o.dense?(c[b]||(c[b]=[]),c[b][j]=g):c[Hs(j)+N]=g,o.cellFormula){for(P=!1,D=0;D<I.length;++D){var M=I[D];m.r>=M[0].s.r&&m.r<=M[0].e.r&&j>=M[0].s.c&&j<=M[0].e.c&&(g.F=Qa(M[0]),P=!0)}!P&&ee.length>3&&(g.f=ee[3])}if(u.s.r>m.r&&(u.s.r=m.r),u.s.c>j&&(u.s.c=j),u.e.r<m.r&&(u.e.r=m.r),u.e.c<j&&(u.e.c=j),o.cellDates&&v&&g.t=="n"&&Sx(Ea[v.numFmtId])){var X=F0(g.v);X&&(g.t="d",g.v=new Date(X.y,X.m-1,X.d,X.H,X.M,X.S,X.u))}V&&(V.type=="XLDAPR"&&(g.D=!0),V=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;g={t:"z",v:void 0},j=ee[0].c==-1?j+1:ee[0].c,o.dense?(c[b]||(c[b]=[]),c[b][j]=g):c[Hs(j)+N]=g,u.s.r>m.r&&(u.s.r=m.r),u.s.c>j&&(u.s.c=j),u.e.r<m.r&&(u.e.r=m.r),u.e.c<j&&(u.e.c=j),V&&(V.type=="XLDAPR"&&(g.D=!0),V=void 0);break;case 176:_.push(ee);break;case 49:V=((o.xlmeta||{}).Cell||[])[ee-1];break;case 494:var z=s["!id"][ee.relId];for(z?(ee.Target=z.Target,ee.loc&&(ee.Target+="#"+ee.loc),ee.Rel=z):ee.relId==""&&(ee.Target="#"+ee.loc),b=ee.rfx.s.r;b<=ee.rfx.e.r;++b)for(j=ee.rfx.s.c;j<=ee.rfx.e.c;++j)o.dense?(c[b]||(c[b]=[]),c[b][j]||(c[b][j]={t:"z",v:void 0}),c[b][j].l=ee):(S=Da({c:j,r:b}),c[S]||(c[S]={t:"z",v:void 0}),c[S].l=ee);break;case 426:if(!o.cellFormula)break;I.push(ee),A=o.dense?c[b][j]:c[Hs(j)+N],A.f=nl(ee[1],u,{r:m.r,c:j},O,o),A.F=Qa(ee[0]);break;case 427:if(!o.cellFormula)break;B[Da(ee[0].s)]=ee[1],A=o.dense?c[b][j]:c[Hs(j)+N],A.f=nl(ee[1],u,{r:m.r,c:j},O,o);break;case 60:if(!o.cellStyles)break;for(;ee.e>=ee.s;)E[ee.e--]={width:ee.w/256,hidden:!!(ee.flags&1),level:ee.level},K||(K=!0,zA(ee.w/256)),Mf(E[ee.e+1]);break;case 161:c["!autofilter"]={ref:Qa(ee)};break;case 476:c["!margins"]=ee;break;case 147:n.Sheets[a]||(n.Sheets[a]={}),ee.name&&(n.Sheets[a].CodeName=ee.name),(ee.above||ee.left)&&(c["!outline"]={above:ee.above,left:ee.left});break;case 137:n.Views||(n.Views=[{}]),n.Views[0]||(n.Views[0]={}),ee.RTL&&(n.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!W.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+le.toString(16))}}},o),delete o.supbooks,delete o["!row"],!c["!ref"]&&(u.s.r<2e6||d&&(d.e.r>0||d.e.c>0||d.s.r>0||d.s.c>0))&&(c["!ref"]=Qa(d||u)),o.sheetRows&&c["!ref"]){var Z=Cr(c["!ref"]);o.sheetRows<=+Z.e.r&&(Z.e.r=o.sheetRows-1,Z.e.r>u.e.r&&(Z.e.r=u.e.r),Z.e.r<Z.s.r&&(Z.s.r=Z.e.r),Z.e.c>u.e.c&&(Z.e.c=u.e.c),Z.e.c<Z.s.c&&(Z.s.c=Z.e.c),c["!fullref"]=c["!ref"],c["!ref"]=Qa(Z))}return _.length>0&&(c["!merges"]=_),E.length>0&&(c["!cols"]=E),R.length>0&&(c["!rows"]=R),c}function k1e(e,t,a,s,n,i,l){if(t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=xs(t),t.z=t.z||Ea[14],t.v=ei(ps(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var c={r:a,c:s};switch(c.s=Wf(n.cellXfs,t,n),t.l&&i["!links"].push([Da(c),t.l]),t.c&&i["!comments"].push([Da(c),t.c]),t.t){case"s":case"str":return n.bookSST?(o=GA(n.Strings,t.v,n.revStrings),c.t="s",c.v=o,l?Bt(e,18,Vge(t,c)):Bt(e,7,zge(t,c))):(c.t="str",l?Bt(e,17,a1e(t,c)):Bt(e,6,e1e(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?l?Bt(e,13,Jge(t,c)):Bt(e,2,Yge(t,c)):l?Bt(e,16,Gge(t,c)):Bt(e,5,qge(t,c)),!0;case"b":return c.t="b",l?Bt(e,15,Rge(t,c)):Bt(e,4,Lge(t,c)),!0;case"e":return c.t="e",l?Bt(e,14,$ge(t,c)):Bt(e,3,Ige(t,c)),!0}return l?Bt(e,12,Mge(t,c)):Bt(e,1,Ege(t,c)),!0}function C1e(e,t,a,s){var n=Cr(t["!ref"]||"A1"),i,l="",o=[];Bt(e,145);var c=Array.isArray(t),d=n.e.r;t["!rows"]&&(d=Math.max(n.e.r,t["!rows"].length-1));for(var u=n.s.r;u<=d;++u){l=Sn(u),Nge(e,t,n,u);var f=!1;if(u<=n.e.r)for(var x=n.s.c;x<=n.e.c;++x){u===n.s.r&&(o[x]=Hs(x)),i=o[x]+l;var m=c?(t[u]||[])[x]:t[i];if(!m){f=!1;continue}f=k1e(e,m,u,x,s,t,f)}}Bt(e,146)}function A1e(e,t){!t||!t["!merges"]||(Bt(e,177,c1e(t["!merges"].length)),t["!merges"].forEach(function(a){Bt(e,176,o1e(a))}),Bt(e,178))}function _1e(e,t){!t||!t["!cols"]||(Bt(e,390),t["!cols"].forEach(function(a,s){a&&Bt(e,60,p1e(s,a))}),Bt(e,391))}function T1e(e,t){!t||!t["!ref"]||(Bt(e,648),Bt(e,649,y1e(Cr(t["!ref"]))),Bt(e,650))}function E1e(e,t,a){t["!links"].forEach(function(s){if(s[1].Target){var n=Ur(a,-1,s[1].Target.replace(/#.*$/,""),or.HLINK);Bt(e,494,u1e(s,n))}}),delete t["!links"]}function D1e(e,t,a,s){if(t["!comments"].length>0){var n=Ur(s,-1,"../drawings/vmlDrawing"+(a+1)+".vml",or.VML);Bt(e,551,LA("rId"+n)),t["!legacy"]=n}}function M1e(e,t,a,s){if(t["!autofilter"]){var n=t["!autofilter"],i=typeof n.ref=="string"?n.ref:Qa(n.ref);a.Workbook||(a.Workbook={Sheets:[]}),a.Workbook.Names||(a.Workbook.Names=[]);var l=a.Workbook.Names,o=so(i);o.s.r==o.e.r&&(o.e.r=so(t["!ref"]).e.r,i=Qa(o));for(var c=0;c<l.length;++c){var d=l[c];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==s){d.Ref="'"+a.SheetNames[s]+"'!"+i;break}}c==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:s,Ref:"'"+a.SheetNames[s]+"'!"+i}),Bt(e,161,Ax(Cr(i))),Bt(e,162)}}function P1e(e,t,a){Bt(e,133),Bt(e,137,b1e(t,a)),Bt(e,138),Bt(e,134)}function L1e(e,t){t["!protect"]&&Bt(e,535,w1e(t["!protect"]))}function O1e(e,t,a,s){var n=ro(),i=a.SheetNames[e],l=a.Sheets[i]||{},o=i;try{a&&a.Workbook&&(o=a.Workbook.Sheets[e].CodeName||o)}catch{}var c=Cr(l["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],Bt(n,129),(a.vbaraw||l["!outline"])&&Bt(n,147,_ge(o,l["!outline"])),Bt(n,148,kge(c)),P1e(n,l,a.Workbook),_1e(n,l),C1e(n,l,e,t),L1e(n,l),M1e(n,l,a,e),A1e(n,l),E1e(n,l,s),l["!margins"]&&Bt(n,476,g1e(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&T1e(n,l),D1e(n,l,e,s),Bt(n,130),n.end()}function R1e(e){var t=[],a=e.match(/^<c:numCache>/),s;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var l=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);l&&(t[+l[1]]=a?+l[2]:l[2])});var n=kr((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){s=i.replace(/<.*?>/g,"")}),[t,n,s]}function F1e(e,t,a,s,n,i){var l=i||{"!type":"chart"};if(!e)return i;var o=0,c=0,d="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var x=R1e(f);u.s.r=u.s.c=0,u.e.c=o,d=Hs(o),x[0].forEach(function(m,g){l[d+Sn(g)]={t:"n",v:m,z:x[1]},c=g}),u.e.r<c&&(u.e.r=c),++o}),o>0&&(l["!ref"]=Qa(u)),l}function I1e(e,t,a,s,n){if(!e)return e;s||(s={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},l,o=e.match(hV);return o&&KA(o[0],i,n,a),(l=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=l[1]),s["!id"][i["!rel"]]&&(i["!drawel"]=s["!id"][i["!rel"]]),i}function B1e(e,t){e.l+=10;var a=hl(e);return{name:a}}function $1e(e,t,a,s,n){if(!e)return e;s||(s={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},l=!1;return wh(e,function(c,d,u){switch(u){case 550:i["!rel"]=c;break;case 651:n.Sheets[a]||(n.Sheets[a]={}),c.name&&(n.Sheets[a].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:break;case 38:break;default:if(!(d.T>0)){if(!(d.T<0)){if(!l||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},t),s["!id"][i["!rel"]]&&(i["!drawel"]=s["!id"][i["!rel"]]),i}var YA=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],U1e=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],z1e=[],H1e=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function UP(e,t){for(var a=0;a!=e.length;++a)for(var s=e[a],n=0;n!=t.length;++n){var i=t[n];if(s[i[0]]==null)s[i[0]]=i[1];else switch(i[2]){case"bool":typeof s[i[0]]=="string"&&(s[i[0]]=hs(s[i[0]]));break;case"int":typeof s[i[0]]=="string"&&(s[i[0]]=parseInt(s[i[0]],10));break}}}function zP(e,t){for(var a=0;a!=t.length;++a){var s=t[a];if(e[s[0]]==null)e[s[0]]=s[1];else switch(s[2]){case"bool":typeof e[s[0]]=="string"&&(e[s[0]]=hs(e[s[0]]));break;case"int":typeof e[s[0]]=="string"&&(e[s[0]]=parseInt(e[s[0]],10));break}}}function xV(e){zP(e.WBProps,YA),zP(e.CalcPr,H1e),UP(e.WBView,U1e),UP(e.Sheets,z1e),Yp.date1904=hs(e.WBProps.date1904)}function V1e(e){return!e.Workbook||!e.Workbook.WBProps?"false":hs(e.Workbook.WBProps.date1904)?"true":"false"}var W1e="][*?/\\".split("");function gV(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var a=!0;return W1e.forEach(function(s){if(e.indexOf(s)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),a}function q1e(e,t,a){e.forEach(function(s,n){gV(s);for(var i=0;i<n;++i)if(s==e[i])throw new Error("Duplicate Sheet Name: "+s);if(a){var l=t&&t[n]&&t[n].CodeName||s;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function G1e(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];q1e(e.SheetNames,t,!!e.vbaraw);for(var a=0;a<e.SheetNames.length;++a)Vxe(e.Sheets[e.SheetNames[a]],e.SheetNames[a],a)}var K1e=/<\w+:workbook/;function Y1e(e,t){if(!e)throw new Error("Could not find file");var a={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},s=!1,n="xmlns",i={},l=0;if(e.replace(gl,function(c,d){var u=Ra(c);switch(iu(u[0])){case"<?xml":break;case"<workbook":c.match(K1e)&&(n="xmlns"+c.match(/<(\w+):/)[1]),a.xmlns=u[n];break;case"</workbook>":break;case"<fileVersion":delete u[0],a.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":YA.forEach(function(f){if(u[f[0]]!=null)switch(f[2]){case"bool":a.WBProps[f[0]]=hs(u[f[0]]);break;case"int":a.WBProps[f[0]]=parseInt(u[f[0]],10);break;default:a.WBProps[f[0]]=u[f[0]]}}),u.codeName&&(a.WBProps.CodeName=Jr(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],a.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=kr(Jr(u.name)),delete u[0],a.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":s=!0;break;case"</definedNames>":s=!1;break;case"<definedName":i={},i.Name=Jr(u.name),u.comment&&(i.Comment=u.comment),u.localSheetId&&(i.Sheet=+u.localSheetId),hs(u.hidden||"0")&&(i.Hidden=!0),l=d+c.length;break;case"</definedName>":i.Ref=kr(Jr(e.slice(l,d))),a.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete u[0],a.CalcPr=u;break;case"<calcPr/>":delete u[0],a.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":s=!0;break;case"</AlternateContent>":s=!1;break;case"<revisionPtr":break;default:if(!s&&t.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return c}),Dm.indexOf(a.xmlns)===-1)throw new Error("Unknown Namespace: "+a.xmlns);return xV(a),a}function vV(e){var t=[_n];t[t.length]=Gt("workbook",null,{xmlns:Dm[0],"xmlns:r":Jn.r});var a=e.Workbook&&(e.Workbook.Names||[]).length>0,s={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(YA.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(s[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(s.codeName=e.Workbook.WBProps.CodeName,delete s.CodeName)),t[t.length]=Gt("workbookPr",null,s);var n=e.Workbook&&e.Workbook.Sheets||[],i=0;if(n&&n[0]&&n[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!n[i]||!n[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var l={name:Wr(e.SheetNames[i].slice(0,31))};if(l.sheetId=""+(i+1),l["r:id"]="rId"+(i+1),n[i])switch(n[i].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}t[t.length]=Gt("sheet",null,l)}return t[t.length]="</sheets>",a&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var c={name:o.Name};o.Comment&&(c.comment=o.Comment),o.Sheet!=null&&(c.localSheetId=""+o.Sheet),o.Hidden&&(c.hidden="1"),o.Ref&&(t[t.length]=Gt("definedName",Wr(o.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function X1e(e,t){var a={};return a.Hidden=e.read_shift(4),a.iTabID=e.read_shift(4),a.strRelID=qk(e),a.name=hl(e),a}function J1e(e,t){return t||(t=kt(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),LA(e.strRelID,t),Ni(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function Q1e(e,t){var a={},s=e.read_shift(4);a.defaultThemeVersion=e.read_shift(4);var n=t>8?hl(e):"";return n.length>0&&(a.CodeName=n),a.autoCompressPictures=!!(s&65536),a.backupFile=!!(s&64),a.checkCompatibility=!!(s&4096),a.date1904=!!(s&1),a.filterPrivacy=!!(s&8),a.hidePivotFieldList=!!(s&1024),a.promptedSolutions=!!(s&16),a.publishItems=!!(s&2048),a.refreshAllConnections=!!(s&262144),a.saveExternalLinkValues=!!(s&128),a.showBorderUnselectedTables=!!(s&4),a.showInkAnnotation=!!(s&32),a.showObjects=["all","placeholders","none"][s>>13&3],a.showPivotChartFilter=!!(s&32768),a.updateLinks=["userSet","never","always"][s>>8&3],a}function Z1e(e,t){t||(t=kt(72));var a=0;return e&&e.filterPrivacy&&(a|=8),t.write_shift(4,a),t.write_shift(4,0),cH(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function eve(e,t){var a={};return e.read_shift(4),a.ArchID=e.read_shift(4),e.l+=t-8,a}function tve(e,t,a){var s=e.l+t;e.l+=4,e.l+=1;var n=e.read_shift(4),i=Due(e),l=Ixe(e,0,a),o=PA(e);e.l=s;var c={Name:i,Ptg:l};return n<268435455&&(c.Sheet=n),o&&(c.Comment=o),c}function ave(e,t){var a={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},s=[],n=!1;t||(t={}),t.biff=12;var i=[],l=[[]];return l.SheetNames=[],l.XTI=[],rv[16]={n:"BrtFRTArchID$",f:eve},wh(e,function(c,d,u){switch(u){case 156:l.SheetNames.push(c.name),a.Sheets.push(c);break;case 153:a.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=nl(c.Ptg,null,null,l,t),delete t.SID,delete c.Ptg,i.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:l[0].length?l.push([u,c]):l[0]=[u,c],l[l.length-1].XTI=[];break;case 362:l.length===0&&(l[0]=[],l[0].XTI=[]),l[l.length-1].XTI=l[l.length-1].XTI.concat(c),l.XTI=l.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:s.push(u),n=!0;break;case 36:s.pop(),n=!1;break;case 37:s.push(u),n=!0;break;case 38:s.pop(),n=!1;break;case 16:break;default:if(!d.T){if(!n||t.WTF&&s[s.length-1]!=37&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},t),xV(a),a.Names=i,a.supbooks=l,a}function rve(e,t){Bt(e,143);for(var a=0;a!=t.SheetNames.length;++a){var s=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[a]&&t.Workbook.Sheets[a].Hidden||0,n={Hidden:s,iTabID:a+1,strRelID:"rId"+(a+1),name:t.SheetNames[a]};Bt(e,156,J1e(n))}Bt(e,144)}function sve(e,t){t||(t=kt(127));for(var a=0;a!=4;++a)t.write_shift(4,0);return Ni("SheetJS",t),Ni(rw.version,t),Ni(rw.version,t),Ni("7262",t),t.length>t.l?t.slice(0,t.l):t}function nve(e,t){t||(t=kt(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var a=120;return t.write_shift(1,a),t.length>t.l?t.slice(0,t.l):t}function ive(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var a=t.Workbook.Sheets,s=0,n=-1,i=-1;s<a.length;++s)!a[s]||!a[s].Hidden&&n==-1?n=s:a[s].Hidden==1&&i==-1&&(i=s);i>n||(Bt(e,135),Bt(e,158,nve(n)),Bt(e,136))}}function lve(e,t){var a=ro();return Bt(a,131),Bt(a,128,sve()),Bt(a,153,Z1e(e.Workbook&&e.Workbook.WBProps||null)),ive(a,e),rve(a,e),Bt(a,132),a.end()}function ove(e,t,a){return t.slice(-4)===".bin"?ave(e,a):Y1e(e,a)}function cve(e,t,a,s,n,i,l,o){return t.slice(-4)===".bin"?S1e(e,s,a,n,i,l,o):tge(e,s,a,n,i,l,o)}function dve(e,t,a,s,n,i,l,o){return t.slice(-4)===".bin"?$1e(e,s,a,n,i):I1e(e,s,a,n,i)}function uve(e,t,a,s,n,i,l,o){return t.slice(-4)===".bin"?fpe():mpe()}function hve(e,t,a,s,n,i,l,o){return t.slice(-4)===".bin"?upe():hpe()}function fve(e,t,a,s){return t.slice(-4)===".bin"?ome(e,a,s):X0e(e,a,s)}function mve(e,t,a){return QH(e,a)}function pve(e,t,a){return t.slice(-4)===".bin"?p0e(e,a):h0e(e,a)}function xve(e,t,a){return t.slice(-4)===".bin"?ipe(e,a):Jme(e,a)}function gve(e,t,a){return t.slice(-4)===".bin"?Kme(e):qme(e)}function vve(e,t,a,s){return a.slice(-4)===".bin"?Yme(e,t,a,s):void 0}function bve(e,t,a){return t.slice(-4)===".bin"?Hme(e,t,a):Wme(e,t,a)}function yve(e,t,a){return(t.slice(-4)===".bin"?lve:vV)(e)}function wve(e,t,a,s,n){return(t.slice(-4)===".bin"?O1e:fV)(e,a,s,n)}function jve(e,t,a){return(t.slice(-4)===".bin"?vme:XH)(e,a)}function Nve(e,t,a){return(t.slice(-4)===".bin"?v0e:zH)(e,a)}function Sve(e,t,a){return(t.slice(-4)===".bin"?lpe:tV)(e)}function kve(e){return(e.slice(-4)===".bin"?Vme:ZH)()}var bV=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,yV=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Qc(e,t){var a=e.split(/\s+/),s=[];if(s[0]=a[0],a.length===1)return s;var n=e.match(bV),i,l,o,c;if(n)for(c=0;c!=n.length;++c)i=n[c].match(yV),(l=i[1].indexOf(":"))===-1?s[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(l+1),s[o]=i[2].slice(1,i[2].length-1));return s}function Cve(e){var t=e.split(/\s+/),a={};if(t.length===1)return a;var s=e.match(bV),n,i,l,o;if(s)for(o=0;o!=s.length;++o)n=s[o].match(yV),(i=n[1].indexOf(":"))===-1?a[n[1]]=n[2].slice(1,n[2].length-1):(n[1].slice(0,6)==="xmlns:"?l="xmlns"+n[1].slice(6):l=n[1].slice(i+1),a[l]=n[2].slice(1,n[2].length-1));return a}var b1;function Ave(e,t){var a=b1[e]||kr(e);return a==="General"?um(t):yc(a,t)}function _ve(e,t,a,s){var n=s;switch((a[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":n=hs(s);break;case"i2":case"int":n=parseInt(s,10);break;case"r4":case"float":n=parseFloat(s);break;case"date":case"dateTime.tz":n=ps(s);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+a[0])}e[kr(t)]=n}function Tve(e,t,a){if(e.t!=="z"){if(!a||a.cellText!==!1)try{e.t==="e"?e.w=e.w||jh[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=K1(e.v):e.w=um(e.v):e.w=Ave(t||"General",e.v)}catch(i){if(a.WTF)throw i}try{var s=b1[t]||t||"General";if(a.cellNF&&(e.z=s),a.cellDates&&e.t=="n"&&Sx(s)){var n=F0(e.v);n&&(e.t="d",e.v=new Date(n.y,n.m-1,n.d,n.H,n.M,n.S,n.u))}}catch(i){if(a.WTF)throw i}}}function Eve(e,t,a){if(a.cellStyles&&t.Interior){var s=t.Interior;s.Pattern&&(s.patternType=z0e[s.Pattern]||s.Pattern)}e[t.ID]=t}function Dve(e,t,a,s,n,i,l,o,c,d){var u="General",f=s.StyleID,x={};d=d||{};var m=[],g=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&l&&(f=l.StyleID);i[f]!==void 0&&(i[f].nf&&(u=i[f].nf),i[f].Interior&&m.push(i[f].Interior),!!i[f].Parent);)f=i[f].Parent;switch(a.Type){case"Boolean":s.t="b",s.v=hs(e);break;case"String":s.t="s",s.r=nP(kr(e)),s.v=e.indexOf("<")>-1?kr(t||e).replace(/<.*?>/g,""):s.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),s.v=(ps(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),s.v!==s.v?s.v=kr(e):s.v<60&&(s.v=s.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":s.v===void 0&&(s.v=+e),s.t||(s.t="n");break;case"Error":s.t="e",s.v=mH[e],d.cellText!==!1&&(s.w=e);break;default:e==""&&t==""?s.t="z":(s.t="s",s.v=nP(t||e));break}if(Tve(s,u,d),d.cellFormula!==!1)if(s.Formula){var v=kr(s.Formula);v.charCodeAt(0)==61&&(v=v.slice(1)),s.f=Kp(v,n),delete s.Formula,s.ArrayRange=="RC"?s.F=Kp("RC:RC",n):s.ArrayRange&&(s.F=Kp(s.ArrayRange,n),c.push([Cr(s.F),s.F]))}else for(g=0;g<c.length;++g)n.r>=c[g][0].s.r&&n.r<=c[g][0].e.r&&n.c>=c[g][0].s.c&&n.c<=c[g][0].e.c&&(s.F=c[g][1]);d.cellStyles&&(m.forEach(function(b){!x.patternType&&b.patternType&&(x.patternType=b.patternType)}),s.s=x),s.StyleID!==void 0&&(s.ixfe=s.StyleID)}function Mve(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function R5(e,t){var a=t||{};kx();var s=r1(AA(e));(a.type=="binary"||a.type=="array"||a.type=="base64")&&(s=Jr(s));var n=s.slice(0,1024).toLowerCase(),i=!1;if(n=n.replace(/".*?"/g,""),(n.indexOf(">")&1023)>Math.min(n.indexOf(",")&1023,n.indexOf(";")&1023)){var l=xs(a);return l.type="string",lx.to_workbook(s,l)}if(n.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Te){n.indexOf("<"+Te)>=0&&(i=!0)}),i)return gbe(s,a);b1={"General Number":"General","General Date":Ea[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Ea[15],"Short Date":Ea[14],"Long Time":Ea[19],"Medium Time":Ea[18],"Short Time":Ea[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Ea[2],Standard:Ea[4],Percent:Ea[10],Scientific:Ea[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,c=[],d,u={},f=[],x=a.dense?[]:{},m="",g={},v={},b=Qc('<Data ss:Type="String">'),j=0,S=0,k=0,N={s:{r:2e6,c:2e6},e:{r:0,c:0}},A={},_={},D="",P=0,I=[],B={},O={},U=0,E=[],R=[],K={},V=[],Z,J=!1,ee=[],W=[],le={},M=0,X=0,z={Sheets:[],WBProps:{date1904:!1}},Q={};J1.lastIndex=0,s=s.replace(/<!--([\s\S]*?)-->/mg,"");for(var ne="";o=J1.exec(s);)switch(o[3]=(ne=o[3]).toLowerCase()){case"data":if(ne=="data"){if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break}if(c[c.length-1][1])break;o[1]==="/"?Dve(s.slice(j,o.index),D,b,c[c.length-1][0]=="comment"?K:g,{c:S,r:k},A,V[S],v,ee,a):(D="",b=Qc(o[0]),j=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(R.length>0&&(g.c=R),(!a.sheetRows||a.sheetRows>k)&&g.v!==void 0&&(a.dense?(x[k]||(x[k]=[]),x[k][S]=g):x[Hs(S)+Sn(k)]=g),g.HRef&&(g.l={Target:kr(g.HRef)},g.HRefScreenTip&&(g.l.Tooltip=g.HRefScreenTip),delete g.HRef,delete g.HRefScreenTip),(g.MergeAcross||g.MergeDown)&&(M=S+(parseInt(g.MergeAcross,10)|0),X=k+(parseInt(g.MergeDown,10)|0),I.push({s:{c:S,r:k},e:{c:M,r:X}})),!a.sheetStubs)g.MergeAcross?S=M+1:++S;else if(g.MergeAcross||g.MergeDown){for(var re=S;re<=M;++re)for(var oe=k;oe<=X;++oe)(re>S||oe>k)&&(a.dense?(x[oe]||(x[oe]=[]),x[oe][re]={t:"z"}):x[Hs(re)+Sn(oe)]={t:"z"});S=M+1}else++S;else g=Cve(o[0]),g.Index&&(S=+g.Index-1),S<N.s.c&&(N.s.c=S),S>N.e.c&&(N.e.c=S),o[0].slice(-2)==="/>"&&++S,R=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(k<N.s.r&&(N.s.r=k),k>N.e.r&&(N.e.r=k),o[0].slice(-2)==="/>"&&(v=Qc(o[0]),v.Index&&(k=+v.Index-1)),S=0,++k):(v=Qc(o[0]),v.Index&&(k=+v.Index-1),le={},(v.AutoFitHeight=="0"||v.Height)&&(le.hpx=parseInt(v.Height,10),le.hpt=av(le.hpx),W[k]=le),v.Hidden=="1"&&(le.hidden=!0,W[k]=le));break;case"worksheet":if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"));f.push(m),N.s.r<=N.e.r&&N.s.c<=N.e.c&&(x["!ref"]=Qa(N),a.sheetRows&&a.sheetRows<=N.e.r&&(x["!fullref"]=x["!ref"],N.e.r=a.sheetRows-1,x["!ref"]=Qa(N))),I.length&&(x["!merges"]=I),V.length>0&&(x["!cols"]=V),W.length>0&&(x["!rows"]=W),u[m]=x}else N={s:{r:2e6,c:2e6},e:{r:0,c:0}},k=S=0,c.push([o[3],!1]),d=Qc(o[0]),m=kr(d.Name),x=a.dense?[]:{},I=[],ee=[],W=[],Q={name:m,Hidden:0},z.Sheets.push(Q);break;case"table":if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else{if(o[0].slice(-2)=="/>")break;c.push([o[3],!1]),V=[],J=!1}break;case"style":o[1]==="/"?Eve(A,_,a):_=Qc(o[0]);break;case"numberformat":_.nf=kr(Qc(o[0]).Format||"General"),b1[_.nf]&&(_.nf=b1[_.nf]);for(var q=0;q!=392&&Ea[q]!=_.nf;++q);if(q==392){for(q=57;q!=392;++q)if(Ea[q]==null){rh(_.nf,q);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(Z=Qc(o[0]),Z.Hidden&&(Z.hidden=!0,delete Z.Hidden),Z.Width&&(Z.wpx=parseInt(Z.Width,10)),!J&&Z.wpx>10){J=!0,il=KH;for(var ie=0;ie<V.length;++ie)V[ie]&&Mf(V[ie])}J&&Mf(Z),V[Z.Index-1||V.length]=Z;for(var ye=0;ye<+Z.Span;++ye)V[V.length]=xs(Z);break;case"namedrange":if(o[1]==="/")break;z.Names||(z.Names=[]);var Y=Ra(o[0]),ce={Name:Y.Name,Ref:Kp(Y.RefersTo.slice(1),{r:0,c:0})};z.Sheets.length>0&&(ce.Sheet=z.Sheets.length-1),z.Names.push(ce);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?D+=s.slice(P,o.index):P=o.index+o[0].length;break;case"interior":if(!a.cellStyles)break;_.Interior=Qc(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?ahe(B,ne,s.slice(U,o.index)):U=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else c.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"));Mve(K),R.push(K)}else c.push([o[3],!1]),d=Qc(o[0]),K={a:d.Author};break;case"autofilter":if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var he=Qc(o[0]);x["!autofilter"]={ref:Kp(he.Range).replace(/\$/g,"")},c.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"null":break;default:if(c.length==0&&o[3]=="document"||c.length==0&&o[3]=="uof")return GP(s,a);var ue=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:ue=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:ue=!1}break;case"excelworkbook":switch(o[3]){case"date1904":z.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:ue=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:ue=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(s.slice(U,o.index)){case"SheetHidden":Q.Hidden=1;break;case"SheetVeryHidden":Q.Hidden=2;break}else U=o.index+o[0].length;break;case"header":x["!margins"]||J0(x["!margins"]={},"xlml"),isNaN(+Ra(o[0]).Margin)||(x["!margins"].header=+Ra(o[0]).Margin);break;case"footer":x["!margins"]||J0(x["!margins"]={},"xlml"),isNaN(+Ra(o[0]).Margin)||(x["!margins"].footer=+Ra(o[0]).Margin);break;case"pagemargins":var Fe=Ra(o[0]);x["!margins"]||J0(x["!margins"]={},"xlml"),isNaN(+Fe.Top)||(x["!margins"].top=+Fe.Top),isNaN(+Fe.Left)||(x["!margins"].left=+Fe.Left),isNaN(+Fe.Right)||(x["!margins"].right=+Fe.Right),isNaN(+Fe.Bottom)||(x["!margins"].bottom=+Fe.Bottom);break;case"displayrighttoleft":z.Views||(z.Views=[]),z.Views[0]||(z.Views[0]={}),z.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":x["!outline"]||(x["!outline"]={}),x["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":x["!outline"]||(x["!outline"]={}),x["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:ue=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:ue=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:ue=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:ue=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:ue=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:ue=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:ue=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:ue=!1}break;case"smarttags":break;default:ue=!1;break}if(ue||o[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?_ve(O,ne,E,s.slice(U,o.index)):(E=o,U=o.index+o[0].length);break}if(a.WTF)throw"Unrecognized tag: "+o[3]+"|"+c.join("|")}var Ue={};return!a.bookSheets&&!a.bookProps&&(Ue.Sheets=u),Ue.SheetNames=f,Ue.Workbook=z,Ue.SSF=xs(Ea),Ue.Props=B,Ue.Custprops=O,Ue}function Zk(e,t){switch(QA(t=t||{}),t.type||"base64"){case"base64":return R5(Oo(e),t);case"binary":case"buffer":case"file":return R5(e,t);case"array":return R5(Hf(e),t)}}function Pve(e,t){var a=[];return e.Props&&a.push(rhe(e.Props,t)),e.Custprops&&a.push(she(e.Props,e.Custprops)),a.join("")}function Lve(){return""}function Ove(e,t){var a=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(s,n){var i=[];i.push(Gt("NumberFormat",null,{"ss:Format":Wr(Ea[s.numFmtId])}));var l={"ss:ID":"s"+(21+n)};a.push(Gt("Style",i.join(""),l))}),Gt("Styles",a.join(""))}function wV(e){return Gt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+WA(e.Ref,{r:0,c:0})})}function Rve(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,a=[],s=0;s<t.length;++s){var n=t[s];n.Sheet==null&&(n.Name.match(/^_xlfn\./)||a.push(wV(n)))}return Gt("Names",a.join(""))}function Fve(e,t,a,s){if(!e||!((s||{}).Workbook||{}).Names)return"";for(var n=s.Workbook.Names,i=[],l=0;l<n.length;++l){var o=n[l];o.Sheet==a&&(o.Name.match(/^_xlfn\./)||i.push(wV(o)))}return i.join("")}function Ive(e,t,a,s){if(!e)return"";var n=[];if(e["!margins"]&&(n.push("<PageSetup>"),e["!margins"].header&&n.push(Gt("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&n.push(Gt("Footer",null,{"x:Margin":e["!margins"].footer})),n.push(Gt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),n.push("</PageSetup>")),s&&s.Workbook&&s.Workbook.Sheets&&s.Workbook.Sheets[a])if(s.Workbook.Sheets[a].Hidden)n.push(Gt("Visible",s.Workbook.Sheets[a].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<a&&!(s.Workbook.Sheets[i]&&!s.Workbook.Sheets[i].Hidden);++i);i==a&&n.push("<Selected/>")}return((((s||{}).Workbook||{}).Views||[])[0]||{}).RTL&&n.push("<DisplayRightToLeft/>"),e["!protect"]&&(n.push(zi("ProtectContents","True")),e["!protect"].objects&&n.push(zi("ProtectObjects","True")),e["!protect"].scenarios&&n.push(zi("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?n.push(zi("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&n.push(zi("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){e["!protect"][l[0]]&&n.push("<"+l[1]+"/>")})),n.length==0?"":Gt("WorksheetOptions",n.join(""),{xmlns:Ao.x})}function Bve(e){return e.map(function(t){var a=iue(t.t||""),s=Gt("ss:Data",a,{xmlns:"http://www.w3.org/TR/REC-html40"});return Gt("Comment",s,{"ss:Author":t.a})}).join("")}function $ve(e,t,a,s,n,i,l){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+Wr(WA(e.f,l))),e.F&&e.F.slice(0,t.length)==t){var c=Vs(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(c.r==l.r?"":"["+(c.r-l.r)+"]")+"C"+(c.c==l.c?"":"["+(c.c-l.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=Wr(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=Wr(e.l.Tooltip))),a["!merges"])for(var d=a["!merges"],u=0;u!=d.length;++u)d[u].s.c!=l.c||d[u].s.r!=l.r||(d[u].e.c>d[u].s.c&&(o["ss:MergeAcross"]=d[u].e.c-d[u].s.c),d[u].e.r>d[u].s.r&&(o["ss:MergeDown"]=d[u].e.r-d[u].s.r));var f="",x="";switch(e.t){case"z":if(!s.sheetStubs)return"";break;case"n":f="Number",x=String(e.v);break;case"b":f="Boolean",x=e.v?"1":"0";break;case"e":f="Error",x=jh[e.v];break;case"d":f="DateTime",x=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Ea[14]);break;case"s":f="String",x=nue(e.v||"");break}var m=Wf(s.cellXfs,e,s);o["ss:StyleID"]="s"+(21+m),o["ss:Index"]=l.c+1;var g=e.v!=null?x:"",v=e.t=="z"?"":'<Data ss:Type="'+f+'">'+g+"</Data>";return(e.c||[]).length>0&&(v+=Bve(e.c)),Gt("Cell",v,o)}function Uve(e,t){var a='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=ox(t.hpt)),t.hpx&&(a+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(a+=' ss:Hidden="1"')),a+">"}function zve(e,t,a,s){if(!e["!ref"])return"";var n=Cr(e["!ref"]),i=e["!merges"]||[],l=0,o=[];e["!cols"]&&e["!cols"].forEach(function(b,j){Mf(b);var S=!!b.width,k=Jj(j,b),N={"ss:Index":j+1};S&&(N["ss:Width"]=ev(k.width)),b.hidden&&(N["ss:Hidden"]="1"),o.push(Gt("Column",null,N))});for(var c=Array.isArray(e),d=n.s.r;d<=n.e.r;++d){for(var u=[Uve(d,(e["!rows"]||[])[d])],f=n.s.c;f<=n.e.c;++f){var x=!1;for(l=0;l!=i.length;++l)if(!(i[l].s.c>f)&&!(i[l].s.r>d)&&!(i[l].e.c<f)&&!(i[l].e.r<d)){(i[l].s.c!=f||i[l].s.r!=d)&&(x=!0);break}if(!x){var m={r:d,c:f},g=Da(m),v=c?(e[d]||[])[f]:e[g];u.push($ve(v,g,e,t,a,s,m))}}u.push("</Row>"),u.length>2&&o.push(u.join(""))}return o.join("")}function Hve(e,t,a){var s=[],n=a.SheetNames[e],i=a.Sheets[n],l=i?Fve(i,t,e,a):"";return l.length>0&&s.push("<Names>"+l+"</Names>"),l=i?zve(i,t,e,a):"",l.length>0&&s.push("<Table>"+l+"</Table>"),s.push(Ive(i,t,e,a)),s.join("")}function Vve(e,t){t||(t={}),e.SSF||(e.SSF=xs(Ea)),e.SSF&&(kx(),Vj(e.SSF),t.revssf=qj(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Wf(t.cellXfs,{},{revssf:{General:0}}));var a=[];a.push(Pve(e,t)),a.push(Lve()),a.push(""),a.push("");for(var s=0;s<e.SheetNames.length;++s)a.push(Gt("Worksheet",Hve(s,t,e),{"ss:Name":Wr(e.SheetNames[s])}));return a[2]=Ove(e,t),a[3]=Rve(e),_n+Gt("Workbook",a.join(""),{xmlns:Ao.ss,"xmlns:o":Ao.o,"xmlns:x":Ao.x,"xmlns:ss":Ao.ss,"xmlns:dt":Ao.dt,"xmlns:html":Ao.html})}function Wve(e){var t={},a=e.content;if(a.l=28,t.AnsiUserType=a.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=Rue(a),a.length-a.l<=4)return t;var s=a.read_shift(4);if(s==0||s>40||(a.l-=4,t.Reserved1=a.read_shift(0,"lpstr-ansi"),a.length-a.l<=4)||(s=a.read_shift(4),s!==1907505652)||(t.UnicodeClipboardFormat=Fue(a),s=a.read_shift(4),s==0||s>40))return t;a.l-=4,t.Reserved2=a.read_shift(0,"lpwstr")}var qve=[60,1084,2066,2165,2175];function Gve(e,t,a,s,n){var i=s,l=[],o=a.slice(a.l,a.l+i);if(n&&n.enc&&n.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:n.enc.insitu(o)}l.push(o),a.l+=i;for(var c=Ku(a,a.l),d=eC[c],u=0;d!=null&&qve.indexOf(c)>-1;)i=Ku(a,a.l+2),u=a.l+4,c==2066?u+=4:(c==2165||c==2175)&&(u+=12),o=a.slice(u,a.l+4+i),l.push(o),a.l+=4+i,d=eC[c=Ku(a,a.l)];var f=wi(l);Ui(f,0);var x=0;f.lens=[];for(var m=0;m<l.length;++m)f.lens.push(x),x+=l[m].length;if(f.length<s)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+s;return t.f(f,f.length,n)}function zd(e,t,a){if(e.t!=="z"&&e.XF){var s=0;try{s=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Ea[s])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||jh[e.v]:s===0||s=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=K1(e.v):e.w=um(e.v):e.w=yc(s,e.v,{date1904:!!a,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&s&&e.t=="n"&&Sx(Ea[s]||String(s))){var n=F0(e.v);n&&(e.t="d",e.v=new Date(n.y,n.m-1,n.d,n.H,n.M,n.S,n.u))}}}function Vy(e,t,a){return{v:e,ixfe:t,t:a}}function Kve(e,t){var a={opts:{}},s={},n=t.dense?[]:{},i={},l={},o=null,c=[],d="",u={},f,x="",m,g,v,b,j={},S=[],k,N,A=[],_=[],D={Sheets:[],WBProps:{date1904:!1},Views:[{}]},P={},I=function(Nt){return Nt<8?K0[Nt]:Nt<64&&_[Nt-8]||K0[Nt]},B=function(Nt,Ct,Lt){var Ht=Ct.XF.data;if(!(!Ht||!Ht.patternType||!Lt||!Lt.cellStyles)){Ct.s={},Ct.s.patternType=Ht.patternType;var Vt;(Vt=Z1(I(Ht.icvFore)))&&(Ct.s.fgColor={rgb:Vt}),(Vt=Z1(I(Ht.icvBack)))&&(Ct.s.bgColor={rgb:Vt})}},O=function(Nt,Ct,Lt){if(!(le>1)&&!(Lt.sheetRows&&Nt.r>=Lt.sheetRows)){if(Lt.cellStyles&&Ct.XF&&Ct.XF.data&&B(Nt,Ct,Lt),delete Ct.ixfe,delete Ct.XF,f=Nt,x=Da(Nt),(!l||!l.s||!l.e)&&(l={s:{r:0,c:0},e:{r:0,c:0}}),Nt.r<l.s.r&&(l.s.r=Nt.r),Nt.c<l.s.c&&(l.s.c=Nt.c),Nt.r+1>l.e.r&&(l.e.r=Nt.r+1),Nt.c+1>l.e.c&&(l.e.c=Nt.c+1),Lt.cellFormula&&Ct.f){for(var Ht=0;Ht<S.length;++Ht)if(!(S[Ht][0].s.c>Nt.c||S[Ht][0].s.r>Nt.r)&&!(S[Ht][0].e.c<Nt.c||S[Ht][0].e.r<Nt.r)){Ct.F=Qa(S[Ht][0]),(S[Ht][0].s.c!=Nt.c||S[Ht][0].s.r!=Nt.r)&&delete Ct.f,Ct.f&&(Ct.f=""+nl(S[Ht][1],l,Nt,ee,U));break}}Lt.dense?(n[Nt.r]||(n[Nt.r]=[]),n[Nt.r][Nt.c]=Ct):n[x]=Ct}},U={enc:!1,sbcch:0,snames:[],sharedf:j,arrayf:S,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(U.password=t.password);var E,R=[],K=[],V=[],Z=[],J=!1,ee=[];ee.SheetNames=U.snames,ee.sharedf=U.sharedf,ee.arrayf=U.arrayf,ee.names=[],ee.XTI=[];var W=0,le=0,M=0,X=[],z=[],Q;U.codepage=1200,id(1200);for(var ne=!1;e.l<e.length-1;){var re=e.l,oe=e.read_shift(2);if(oe===0&&W===10)break;var q=e.l===e.length?0:e.read_shift(2),ie=eC[oe];if(ie&&ie.f){if(t.bookSheets&&W===133&&oe!==133)break;if(W=oe,ie.r===2||ie.r==12){var ye=e.read_shift(2);if(q-=2,!U.enc&&ye!==oe&&((ye&255)<<8|ye>>8)!==oe)throw new Error("rt mismatch: "+ye+"!="+oe);ie.r==12&&(e.l+=10,q-=10)}var Y={};if(oe===10?Y=ie.f(e,q,U):Y=Gve(oe,ie,e,q,U),le==0&&[9,521,1033,2057].indexOf(W)===-1)continue;switch(oe){case 34:a.opts.Date1904=D.WBProps.date1904=Y;break;case 134:a.opts.WriteProtect=!0;break;case 47:if(U.enc||(e.l=0),U.enc=Y,!t.password)throw new Error("File is password-protected");if(Y.valid==null)throw new Error("Encryption scheme unsupported");if(!Y.valid)throw new Error("Password is incorrect");break;case 92:U.lastuser=Y;break;case 66:var ce=Number(Y);switch(ce){case 21010:ce=1200;break;case 32768:ce=1e4;break;case 32769:ce=1252;break}id(U.codepage=ce),ne=!0;break;case 317:U.rrtabid=Y;break;case 25:U.winlocked=Y;break;case 439:a.opts.RefreshAll=Y;break;case 12:a.opts.CalcCount=Y;break;case 16:a.opts.CalcDelta=Y;break;case 17:a.opts.CalcIter=Y;break;case 13:a.opts.CalcMode=Y;break;case 14:a.opts.CalcPrecision=Y;break;case 95:a.opts.CalcSaveRecalc=Y;break;case 15:U.CalcRefMode=Y;break;case 2211:a.opts.FullCalc=Y;break;case 129:Y.fDialog&&(n["!type"]="dialog"),Y.fBelow||((n["!outline"]||(n["!outline"]={})).above=!0),Y.fRight||((n["!outline"]||(n["!outline"]={})).left=!0);break;case 224:A.push(Y);break;case 430:ee.push([Y]),ee[ee.length-1].XTI=[];break;case 35:case 547:ee[ee.length-1].push(Y);break;case 24:case 536:Q={Name:Y.Name,Ref:nl(Y.rgce,l,null,ee,U)},Y.itab>0&&(Q.Sheet=Y.itab-1),ee.names.push(Q),ee[0]||(ee[0]=[],ee[0].XTI=[]),ee[ee.length-1].push(Y),Y.Name=="_xlnm._FilterDatabase"&&Y.itab>0&&Y.rgce&&Y.rgce[0]&&Y.rgce[0][0]&&Y.rgce[0][0][0]=="PtgArea3d"&&(z[Y.itab-1]={ref:Qa(Y.rgce[0][0][1][2])});break;case 22:U.ExternCount=Y;break;case 23:ee.length==0&&(ee[0]=[],ee[0].XTI=[]),ee[ee.length-1].XTI=ee[ee.length-1].XTI.concat(Y),ee.XTI=ee.XTI.concat(Y);break;case 2196:if(U.biff<8)break;Q!=null&&(Q.Comment=Y[1]);break;case 18:n["!protect"]=Y;break;case 19:Y!==0&&U.WTF&&console.error("Password verifier: "+Y);break;case 133:i[Y.pos]=Y,U.snames.push(Y.name);break;case 10:{if(--le)break;if(l.e){if(l.e.r>0&&l.e.c>0){if(l.e.r--,l.e.c--,n["!ref"]=Qa(l),t.sheetRows&&t.sheetRows<=l.e.r){var he=l.e.r;l.e.r=t.sheetRows-1,n["!fullref"]=n["!ref"],n["!ref"]=Qa(l),l.e.r=he}l.e.r++,l.e.c++}R.length>0&&(n["!merges"]=R),K.length>0&&(n["!objects"]=K),V.length>0&&(n["!cols"]=V),Z.length>0&&(n["!rows"]=Z),D.Sheets.push(P)}d===""?u=n:s[d]=n,n=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(U.biff===8&&(U.biff={9:2,521:3,1033:4}[oe]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[Y.BIFFVer]||8),U.biffguess=Y.BIFFVer==0,Y.BIFFVer==0&&Y.dt==4096&&(U.biff=5,ne=!0,id(U.codepage=28591)),U.biff==8&&Y.BIFFVer==0&&Y.dt==16&&(U.biff=2),le++)break;if(n=t.dense?[]:{},U.biff<8&&!ne&&(ne=!0,id(U.codepage=t.codepage||1252)),U.biff<5||Y.BIFFVer==0&&Y.dt==4096){d===""&&(d="Sheet1"),l={s:{r:0,c:0},e:{r:0,c:0}};var ue={pos:e.l-q,name:d};i[ue.pos]=ue,U.snames.push(d)}else d=(i[re]||{name:""}).name;Y.dt==32&&(n["!type"]="chart"),Y.dt==64&&(n["!type"]="macro"),R=[],K=[],U.arrayf=S=[],V=[],Z=[],J=!1,P={Hidden:(i[re]||{hs:0}).hs,name:d}}break;case 515:case 3:case 2:n["!type"]=="chart"&&(t.dense?(n[Y.r]||[])[Y.c]:n[Da({c:Y.c,r:Y.r})])&&++Y.c,k={ixfe:Y.ixfe,XF:A[Y.ixfe]||{},v:Y.val,t:"n"},M>0&&(k.z=X[k.ixfe>>8&63]),zd(k,t,a.opts.Date1904),O({c:Y.c,r:Y.r},k,t);break;case 5:case 517:k={ixfe:Y.ixfe,XF:A[Y.ixfe],v:Y.val,t:Y.t},M>0&&(k.z=X[k.ixfe>>8&63]),zd(k,t,a.opts.Date1904),O({c:Y.c,r:Y.r},k,t);break;case 638:k={ixfe:Y.ixfe,XF:A[Y.ixfe],v:Y.rknum,t:"n"},M>0&&(k.z=X[k.ixfe>>8&63]),zd(k,t,a.opts.Date1904),O({c:Y.c,r:Y.r},k,t);break;case 189:for(var Fe=Y.c;Fe<=Y.C;++Fe){var Ue=Y.rkrec[Fe-Y.c][0];k={ixfe:Ue,XF:A[Ue],v:Y.rkrec[Fe-Y.c][1],t:"n"},M>0&&(k.z=X[k.ixfe>>8&63]),zd(k,t,a.opts.Date1904),O({c:Fe,r:Y.r},k,t)}break;case 6:case 518:case 1030:{if(Y.val=="String"){o=Y;break}if(k=Vy(Y.val,Y.cell.ixfe,Y.tt),k.XF=A[k.ixfe],t.cellFormula){var Te=Y.formula;if(Te&&Te[0]&&Te[0][0]&&Te[0][0][0]=="PtgExp"){var ae=Te[0][0][1][0],De=Te[0][0][1][1],Ce=Da({r:ae,c:De});j[Ce]?k.f=""+nl(Y.formula,l,Y.cell,ee,U):k.F=((t.dense?(n[ae]||[])[De]:n[Ce])||{}).F}else k.f=""+nl(Y.formula,l,Y.cell,ee,U)}M>0&&(k.z=X[k.ixfe>>8&63]),zd(k,t,a.opts.Date1904),O(Y.cell,k,t),o=Y}break;case 7:case 519:if(o)o.val=Y,k=Vy(Y,o.cell.ixfe,"s"),k.XF=A[k.ixfe],t.cellFormula&&(k.f=""+nl(o.formula,l,o.cell,ee,U)),M>0&&(k.z=X[k.ixfe>>8&63]),zd(k,t,a.opts.Date1904),O(o.cell,k,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{S.push(Y);var at=Da(Y[0].s);if(m=t.dense?(n[Y[0].s.r]||[])[Y[0].s.c]:n[at],t.cellFormula&&m){if(!o||!at||!m)break;m.f=""+nl(Y[1],l,Y[0],ee,U),m.F=Qa(Y[0])}}break;case 1212:{if(!t.cellFormula)break;if(x){if(!o)break;j[Da(o.cell)]=Y[0],m=t.dense?(n[o.cell.r]||[])[o.cell.c]:n[Da(o.cell)],(m||{}).f=""+nl(Y[0],l,f,ee,U)}}break;case 253:k=Vy(c[Y.isst].t,Y.ixfe,"s"),c[Y.isst].h&&(k.h=c[Y.isst].h),k.XF=A[k.ixfe],M>0&&(k.z=X[k.ixfe>>8&63]),zd(k,t,a.opts.Date1904),O({c:Y.c,r:Y.r},k,t);break;case 513:t.sheetStubs&&(k={ixfe:Y.ixfe,XF:A[Y.ixfe],t:"z"},M>0&&(k.z=X[k.ixfe>>8&63]),zd(k,t,a.opts.Date1904),O({c:Y.c,r:Y.r},k,t));break;case 190:if(t.sheetStubs)for(var ft=Y.c;ft<=Y.C;++ft){var zt=Y.ixfe[ft-Y.c];k={ixfe:zt,XF:A[zt],t:"z"},M>0&&(k.z=X[k.ixfe>>8&63]),zd(k,t,a.opts.Date1904),O({c:ft,r:Y.r},k,t)}break;case 214:case 516:case 4:k=Vy(Y.val,Y.ixfe,"s"),k.XF=A[k.ixfe],M>0&&(k.z=X[k.ixfe>>8&63]),zd(k,t,a.opts.Date1904),O({c:Y.c,r:Y.r},k,t);break;case 0:case 512:le===1&&(l=Y);break;case 252:c=Y;break;case 1054:if(U.biff==4){X[M++]=Y[1];for(var st=0;st<M+163&&Ea[st]!=Y[1];++st);st>=163&&rh(Y[1],M+163)}else rh(Y[1],Y[0]);break;case 30:{X[M++]=Y;for(var $e=0;$e<M+163&&Ea[$e]!=Y;++$e);$e>=163&&rh(Y,M+163)}break;case 229:R=R.concat(Y);break;case 93:K[Y.cmo[0]]=U.lastobj=Y;break;case 438:U.lastobj.TxO=Y;break;case 127:U.lastobj.ImData=Y;break;case 440:for(b=Y[0].s.r;b<=Y[0].e.r;++b)for(v=Y[0].s.c;v<=Y[0].e.c;++v)m=t.dense?(n[b]||[])[v]:n[Da({c:v,r:b})],m&&(m.l=Y[1]);break;case 2048:for(b=Y[0].s.r;b<=Y[0].e.r;++b)for(v=Y[0].s.c;v<=Y[0].e.c;++v)m=t.dense?(n[b]||[])[v]:n[Da({c:v,r:b})],m&&m.l&&(m.l.Tooltip=Y[1]);break;case 28:{if(U.biff<=5&&U.biff>=2)break;m=t.dense?(n[Y[0].r]||[])[Y[0].c]:n[Da(Y[0])];var qe=K[Y[2]];m||(t.dense?(n[Y[0].r]||(n[Y[0].r]=[]),m=n[Y[0].r][Y[0].c]={t:"z"}):m=n[Da(Y[0])]={t:"z"},l.e.r=Math.max(l.e.r,Y[0].r),l.s.r=Math.min(l.s.r,Y[0].r),l.e.c=Math.max(l.e.c,Y[0].c),l.s.c=Math.min(l.s.c,Y[0].c)),m.c||(m.c=[]),g={a:Y[1],t:qe.TxO.t},m.c.push(g)}break;case 2173:Ome(A[Y.ixfe],Y.ext);break;case 125:{if(!U.cellStyles)break;for(;Y.e>=Y.s;)V[Y.e--]={width:Y.w/256,level:Y.level||0,hidden:!!(Y.flags&1)},J||(J=!0,zA(Y.w/256)),Mf(V[Y.e+1])}break;case 520:{var ct={};Y.level!=null&&(Z[Y.r]=ct,ct.level=Y.level),Y.hidden&&(Z[Y.r]=ct,ct.hidden=!0),Y.hpt&&(Z[Y.r]=ct,ct.hpt=Y.hpt,ct.hpx=ox(Y.hpt))}break;case 38:case 39:case 40:case 41:n["!margins"]||J0(n["!margins"]={}),n["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[oe]]=Y;break;case 161:n["!margins"]||J0(n["!margins"]={}),n["!margins"].header=Y.header,n["!margins"].footer=Y.footer;break;case 574:Y.RTL&&(D.Views[0].RTL=!0);break;case 146:_=Y;break;case 2198:E=Y;break;case 140:N=Y;break;case 442:d?P.CodeName=Y||P.name:D.WBProps.CodeName=Y||"ThisWorkbook";break}}else ie||console.error("Missing Info for XLS Record 0x"+oe.toString(16)),e.l+=q}return a.SheetNames=tn(i).sort(function(dt,Nt){return Number(dt)-Number(Nt)}).map(function(dt){return i[dt].name}),t.bookSheets||(a.Sheets=s),!a.SheetNames.length&&u["!ref"]?(a.SheetNames.push("Sheet1"),a.Sheets&&(a.Sheets.Sheet1=u)):a.Preamble=u,a.Sheets&&z.forEach(function(dt,Nt){a.Sheets[a.SheetNames[Nt]]["!autofilter"]=dt}),a.Strings=c,a.SSF=xs(Ea),U.enc&&(a.Encryption=U.enc),E&&(a.Themes=E),a.Metadata={},N!==void 0&&(a.Metadata.Country=N),ee.names.length>0&&(D.Names=ee.names),a.Workbook=D,a}var y1={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Yve(e,t,a){var s=Na.find(e,"/!DocumentSummaryInformation");if(s&&s.size>0)try{var n=NP(s,Gk,y1.DSI);for(var i in n)t[i]=n[i]}catch(d){if(a.WTF)throw d}var l=Na.find(e,"/!SummaryInformation");if(l&&l.size>0)try{var o=NP(l,Kk,y1.SI);for(var c in o)t[c]==null&&(t[c]=o[c])}catch(d){if(a.WTF)throw d}t.HeadingPairs&&t.TitlesOfParts&&(yH(t.HeadingPairs,t.TitlesOfParts,t,a),delete t.HeadingPairs,delete t.TitlesOfParts)}function Xve(e,t){var a=[],s=[],n=[],i=0,l,o=ZM(Gk,"n"),c=ZM(Kk,"n");if(e.Props)for(l=tn(e.Props),i=0;i<l.length;++i)(Object.prototype.hasOwnProperty.call(o,l[i])?a:Object.prototype.hasOwnProperty.call(c,l[i])?s:n).push([l[i],e.Props[l[i]]]);if(e.Custprops)for(l=tn(e.Custprops),i=0;i<l.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},l[i])||(Object.prototype.hasOwnProperty.call(o,l[i])?a:Object.prototype.hasOwnProperty.call(c,l[i])?s:n).push([l[i],e.Custprops[l[i]]]);var d=[];for(i=0;i<n.length;++i)AH.indexOf(n[i][0])>-1||bH.indexOf(n[i][0])>-1||n[i][1]!=null&&d.push(n[i]);s.length&&Na.utils.cfb_add(t,"/SummaryInformation",SP(s,y1.SI,c,Kk)),(a.length||d.length)&&Na.utils.cfb_add(t,"/DocumentSummaryInformation",SP(a,y1.DSI,o,Gk,d.length?d:null,y1.UDI))}function XA(e,t){t||(t={}),QA(t),vA(),t.codepage&&gA(t.codepage);var a,s;if(e.FullPaths){if(Na.find(e,"/encryption"))throw new Error("File is password-protected");a=Na.find(e,"!CompObj"),s=Na.find(e,"/Workbook")||Na.find(e,"/Book")}else{switch(t.type){case"base64":e=Eo(Oo(e));break;case"binary":e=Eo(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Ui(e,0),s={content:e}}var n,i;if(a&&Wve(a),t.bookProps&&!t.bookSheets)n={};else{var l=nr?"buffer":"array";if(s&&s.content)n=Kve(s.content,t);else if((i=Na.find(e,"PerfectOffice_MAIN"))&&i.content)n=X0.to_workbook(i.content,(t.type=l,t));else if((i=Na.find(e,"NativeContent_MAIN"))&&i.content)n=X0.to_workbook(i.content,(t.type=l,t));else throw(i=Na.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Na.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(n.vbaraw=cpe(e))}var o={};return e.FullPaths&&Yve(e,o,t),n.Props=n.Custprops=o,t.bookFiles&&(n.cfb=e),n}function Jve(e,t){var a=t||{},s=Na.utils.cfb_new({root:"R"}),n="/Workbook";switch(a.bookType||"xls"){case"xls":a.bookType="biff8";case"xla":a.bookType||(a.bookType="xla");case"biff8":n="/Workbook",a.biff=8;break;case"biff5":n="/Book",a.biff=5;break;default:throw new Error("invalid type "+a.bookType+" for XLS CFB")}return Na.utils.cfb_add(s,n,jV(e,a)),a.biff==8&&(e.Props||e.Custprops)&&Xve(e,s),a.biff==8&&e.vbaraw&&dpe(s,Na.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),s}var rv={0:{f:wge},1:{f:Tge},2:{f:Kge},3:{f:Fge},4:{f:Pge},5:{f:Wge},6:{f:Zge},7:{f:Uge},8:{f:i1e},9:{f:n1e},10:{f:r1e},11:{f:s1e},12:{f:Dge},13:{f:Xge},14:{f:Bge},15:{f:Oge},16:{f:mV},17:{f:t1e},18:{f:Hge},19:{f:MA},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:tve},40:{},42:{},43:{f:Z0e},44:{f:J0e},45:{f:ame},46:{f:sme},47:{f:rme},48:{},49:{f:Sue},50:{},51:{f:Ime},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:IH},62:{f:Qge},63:{f:Gme},64:{f:j1e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ml,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:v1e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Age},148:{f:Sge,p:16},151:{f:h1e},152:{},153:{f:Q1e},154:{},155:{},156:{f:X1e},157:{},158:{},159:{T:1,f:m0e},160:{T:-1},161:{T:1,f:Om},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:l1e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Rme},336:{T:-1},337:{f:Ume,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:qk},357:{},358:{},359:{},360:{T:1},361:{},362:{f:FH},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:f1e},427:{f:m1e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:x1e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Cge},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:d1e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:qk},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:spe},633:{T:1},634:{T:-1},635:{T:1,f:ape},636:{T:-1},637:{f:_ue},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:B1e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:N1e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},eC={6:{f:L5},10:{f:df},12:{f:On},13:{f:On},14:{f:gn},15:{f:gn},16:{f:cl},17:{f:gn},18:{f:gn},19:{f:On},20:{f:EP},21:{f:EP},23:{f:FH},24:{f:MP},25:{f:gn},26:{},27:{},28:{f:Nfe},29:{},34:{f:gn},35:{f:DP},38:{f:cl},39:{f:cl},40:{f:cl},41:{f:cl},42:{f:gn},43:{f:gn},47:{f:O0e},49:{f:Xhe},51:{f:On},60:{},61:{f:Whe},64:{f:gn},65:{f:Yhe},66:{f:On},77:{},80:{},81:{},82:{},85:{f:On},89:{},90:{},91:{},92:{f:Lhe},93:{f:Cfe},94:{},95:{f:gn},96:{},97:{},99:{f:gn},125:{f:IH},128:{f:ufe},129:{f:Rhe},130:{f:On},131:{f:gn},132:{f:gn},133:{f:Fhe},134:{},140:{f:Lfe},141:{f:On},144:{},146:{f:Ffe},151:{},152:{},153:{},154:{},155:{},156:{f:On},157:{},158:{},160:{f:Vfe},161:{f:$fe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:lfe},190:{f:ofe},193:{f:df},197:{},198:{},199:{},200:{},201:{},202:{f:gn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:On},220:{},221:{f:gn},222:{},224:{f:dfe},225:{f:Phe},226:{f:df},227:{},229:{f:Sfe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:Bhe},253:{f:Qhe},255:{f:Uhe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:_H},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:gn},353:{f:df},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:xfe},431:{f:gn},432:{},433:{},434:{},437:{},438:{f:Tfe},439:{f:gn},440:{f:Efe},441:{},442:{f:Vv},443:{},444:{f:On},445:{},446:{},448:{f:df},449:{f:Vhe,r:2},450:{f:df},512:{f:AP},513:{f:Hfe},515:{f:mfe},516:{f:efe},517:{f:TP},519:{f:Wfe},520:{f:zhe},523:{},545:{f:PP},549:{f:CP},566:{},574:{f:Ghe},638:{f:ife},659:{},1048:{},1054:{f:afe},1084:{},1212:{f:yfe},2048:{f:Mfe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Uy},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:df},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:Ife,r:12},2173:{f:Lme,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:gn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:bfe,r:12},2197:{},2198:{f:_me,r:12},2199:{},2200:{},2201:{},2202:{f:wfe,r:12},2203:{f:df},2204:{},2205:{},2206:{},2207:{},2211:{f:Hhe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:On},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:Ufe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:Rfe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:AP},1:{},2:{f:Xfe},3:{f:Kfe},4:{f:Gfe},5:{f:TP},7:{f:Qfe},8:{},9:{f:Uy},11:{},22:{f:On},30:{f:sfe},31:{},32:{},33:{f:PP},36:{},37:{f:CP},50:{f:Zfe},62:{},52:{},67:{},68:{f:On},69:{},86:{},126:{},127:{f:qfe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:e0e},223:{},234:{},354:{},421:{},518:{f:L5},521:{f:Uy},536:{f:MP},547:{f:DP},561:{},579:{},1030:{f:L5},1033:{f:Uy},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Yt(e,t,a,s){var n=t;if(!isNaN(n)){var i=s||(a||[]).length||0,l=e.next(4);l.write_shift(2,n),l.write_shift(2,i),i>0&&TA(a)&&e.push(a)}}function Qve(e,t,a,s){var n=(a||[]).length||0;if(n<=8224)return Yt(e,t,a,n);var i=t;if(!isNaN(i)){for(var l=a.parts||[],o=0,c=0,d=0;d+(l[o]||8224)<=8224;)d+=l[o]||8224,o++;var u=e.next(4);for(u.write_shift(2,i),u.write_shift(2,d),e.push(a.slice(c,c+d)),c+=d;c<n;){for(u=e.next(4),u.write_shift(2,60),d=0;d+(l[o]||8224)<=8224;)d+=l[o]||8224,o++;u.write_shift(2,d),e.push(a.slice(c,c+d)),c+=d}}}function Kv(e,t,a){return e||(e=kt(7)),e.write_shift(2,t),e.write_shift(2,a),e.write_shift(2,0),e.write_shift(1,0),e}function Zve(e,t,a,s){var n=kt(9);return Kv(n,e,t),TH(a,s||"b",n),n}function ebe(e,t,a){var s=kt(8+2*a.length);return Kv(s,e,t),s.write_shift(1,a.length),s.write_shift(a.length,a,"sbcs"),s.l<s.length?s.slice(0,s.l):s}function tbe(e,t,a,s){if(t.v!=null)switch(t.t){case"d":case"n":var n=t.t=="d"?ei(ps(t.v)):t.v;n==(n|0)&&n>=0&&n<65536?Yt(e,2,Jfe(a,s,n)):Yt(e,3,Yfe(a,s,n));return;case"b":case"e":Yt(e,5,Zve(a,s,t.v,t.t));return;case"s":case"str":Yt(e,4,ebe(a,s,(t.v||"").slice(0,255)));return}Yt(e,1,Kv(null,a,s))}function abe(e,t,a,s){var n=Array.isArray(t),i=Cr(t["!ref"]||"A1"),l,o="",c=[];if(i.e.c>255||i.e.r>16383){if(s.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),l=Qa(i)}for(var d=i.s.r;d<=i.e.r;++d){o=Sn(d);for(var u=i.s.c;u<=i.e.c;++u){d===i.s.r&&(c[u]=Hs(u)),l=c[u]+o;var f=n?(t[d]||[])[u]:t[l];f&&tbe(e,f,d,u)}}}function rbe(e,t){for(var a=t||{},s=ro(),n=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==a.sheet&&(n=i);if(n==0&&a.sheet&&e.SheetNames[0]!=a.sheet)throw new Error("Sheet not found: "+a.sheet);return Yt(s,a.biff==4?1033:a.biff==3?521:9,BA(e,16,a)),abe(s,e.Sheets[e.SheetNames[n]],n,a),Yt(s,10),s.end()}function sbe(e,t,a){Yt(e,49,Jhe({sz:12,name:"Arial"},a))}function nbe(e,t,a){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var n=s[0];n<=s[1];++n)t[n]!=null&&Yt(e,1054,rfe(n,t[n],a))})}function ibe(e,t){var a=kt(19);a.write_shift(4,2151),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(2,3),a.write_shift(1,1),a.write_shift(4,0),Yt(e,2151,a),a=kt(39),a.write_shift(4,2152),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(2,3),a.write_shift(1,0),a.write_shift(4,0),a.write_shift(2,1),a.write_shift(4,4),a.write_shift(2,0),LH(Cr(t["!ref"]||"A1"),a),a.write_shift(4,4),Yt(e,2152,a)}function lbe(e,t){for(var a=0;a<16;++a)Yt(e,224,_P({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(s){Yt(e,224,_P(s,0,t))})}function obe(e,t){for(var a=0;a<t["!links"].length;++a){var s=t["!links"][a];Yt(e,440,Dfe(s)),s[1].Tooltip&&Yt(e,2048,Pfe(s))}delete t["!links"]}function cbe(e,t){if(t){var a=0;t.forEach(function(s,n){++a<=256&&s&&Yt(e,125,Bfe(Jj(n,s),n))})}}function dbe(e,t,a,s,n){var i=16+Wf(n.cellXfs,t,n);if(t.v==null&&!t.bf){Yt(e,513,pm(a,s,i));return}if(t.bf)Yt(e,6,Rxe(t,a,s,n,i));else switch(t.t){case"d":case"n":var l=t.t=="d"?ei(ps(t.v)):t.v;Yt(e,515,pfe(a,s,l,i));break;case"b":case"e":Yt(e,517,ffe(a,s,t.v,i,n,t.t));break;case"s":case"str":if(n.bookSST){var o=GA(n.Strings,t.v,n.revStrings);Yt(e,253,Zhe(a,s,o,i))}else Yt(e,516,tfe(a,s,(t.v||"").slice(0,255),i,n));break;default:Yt(e,513,pm(a,s,i))}}function ube(e,t,a){var s=ro(),n=a.SheetNames[e],i=a.Sheets[n]||{},l=(a||{}).Workbook||{},o=(l.Sheets||[])[e]||{},c=Array.isArray(i),d=t.biff==8,u,f="",x=[],m=Cr(i["!ref"]||"A1"),g=d?65536:16384;if(m.e.c>255||m.e.r>=g){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,g-1)}Yt(s,2057,BA(a,16,t)),Yt(s,13,fc(1)),Yt(s,12,fc(100)),Yt(s,15,Al(!0)),Yt(s,17,Al(!1)),Yt(s,16,fm(.001)),Yt(s,95,Al(!0)),Yt(s,42,Al(!1)),Yt(s,43,Al(!1)),Yt(s,130,fc(1)),Yt(s,128,hfe()),Yt(s,131,Al(!1)),Yt(s,132,Al(!1)),d&&cbe(s,i["!cols"]),Yt(s,512,nfe(m,t)),d&&(i["!links"]=[]);for(var v=m.s.r;v<=m.e.r;++v){f=Sn(v);for(var b=m.s.c;b<=m.e.c;++b){v===m.s.r&&(x[b]=Hs(b)),u=x[b]+f;var j=c?(i[v]||[])[b]:i[u];j&&(dbe(s,j,v,b,t),d&&j.l&&i["!links"].push([u,j.l]))}}var S=o.CodeName||o.name||n;return d&&Yt(s,574,Khe((l.Views||[])[0])),d&&(i["!merges"]||[]).length&&Yt(s,229,kfe(i["!merges"])),d&&obe(s,i),Yt(s,442,EH(S)),d&&ibe(s,i),Yt(s,10),s.end()}function hbe(e,t,a){var s=ro(),n=(e||{}).Workbook||{},i=n.Sheets||[],l=n.WBProps||{},o=a.biff==8,c=a.biff==5;if(Yt(s,2057,BA(e,5,a)),a.bookType=="xla"&&Yt(s,135),Yt(s,225,o?fc(1200):null),Yt(s,193,fhe(2)),c&&Yt(s,191),c&&Yt(s,192),Yt(s,226),Yt(s,92,Ohe("SheetJS",a)),Yt(s,66,fc(o?1200:1252)),o&&Yt(s,353,fc(0)),o&&Yt(s,448),Yt(s,317,zfe(e.SheetNames.length)),o&&e.vbaraw&&Yt(s,211),o&&e.vbaraw){var d=l.CodeName||"ThisWorkbook";Yt(s,442,EH(d))}Yt(s,156,fc(17)),Yt(s,25,Al(!1)),Yt(s,18,Al(!1)),Yt(s,19,fc(0)),o&&Yt(s,431,Al(!1)),o&&Yt(s,444,fc(0)),Yt(s,61,qhe()),Yt(s,64,Al(!1)),Yt(s,141,fc(0)),Yt(s,34,Al(V1e(e)=="true")),Yt(s,14,Al(!0)),o&&Yt(s,439,Al(!1)),Yt(s,218,fc(0)),sbe(s,e,a),nbe(s,e.SSF,a),lbe(s,a),o&&Yt(s,352,Al(!1));var u=s.end(),f=ro();o&&Yt(f,140,Ofe()),o&&a.Strings&&Qve(f,252,$he(a.Strings)),Yt(f,10);var x=f.end(),m=ro(),g=0,v=0;for(v=0;v<e.SheetNames.length;++v)g+=(o?12:11)+(o?2:1)*e.SheetNames[v].length;var b=u.length+g+x.length;for(v=0;v<e.SheetNames.length;++v){var j=i[v]||{};Yt(m,133,Ihe({pos:b,hs:j.Hidden||0,dt:0,name:e.SheetNames[v]},a)),b+=t[v].length}var S=m.end();if(g!=S.length)throw new Error("BS8 "+g+" != "+S.length);var k=[];return u.length&&k.push(u),S.length&&k.push(S),x.length&&k.push(x),wi(k)}function fbe(e,t){var a=t||{},s=[];e&&!e.SSF&&(e.SSF=xs(Ea)),e&&e.SSF&&(kx(),Vj(e.SSF),a.revssf=qj(e.SSF),a.revssf[e.SSF[65535]]=0,a.ssf=e.SSF),a.Strings=[],a.Strings.Count=0,a.Strings.Unique=0,ZA(a),a.cellXfs=[],Wf(a.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var n=0;n<e.SheetNames.length;++n)s[s.length]=ube(n,a,e);return s.unshift(hbe(e,s,a)),wi(s)}function jV(e,t){for(var a=0;a<=e.SheetNames.length;++a){var s=e.Sheets[e.SheetNames[a]];if(!(!s||!s["!ref"])){var n=so(s["!ref"]);n.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[a]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return fbe(e,t);case 4:case 3:case 2:return rbe(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function HP(e,t){var a=t||{},s=a.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var n=e.match(/<table/i);if(!n)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),l=n.index,o=i&&i.index||e.length,c=Jde(e.slice(l,o),/(:?<tr[^>]*>)/i,"<tr>"),d=-1,u=0,f=0,x=0,m={s:{r:1e7,c:1e7},e:{r:0,c:0}},g=[];for(l=0;l<c.length;++l){var v=c[l].trim(),b=v.slice(0,3).toLowerCase();if(b=="<tr"){if(++d,a.sheetRows&&a.sheetRows<=d){--d;break}u=0;continue}if(!(b!="<td"&&b!="<th")){var j=v.split(/<\/t[dh]>/i);for(o=0;o<j.length;++o){var S=j[o].trim();if(S.match(/<t[dh]/i)){for(var k=S,N=0;k.charAt(0)=="<"&&(N=k.indexOf(">"))>-1;)k=k.slice(N+1);for(var A=0;A<g.length;++A){var _=g[A];_.s.c==u&&_.s.r<d&&d<=_.e.r&&(u=_.e.c+1,A=-1)}var D=Ra(S.slice(0,S.indexOf(">")));x=D.colspan?+D.colspan:1,((f=+D.rowspan)>1||x>1)&&g.push({s:{r:d,c:u},e:{r:d+(f||1)-1,c:u+x-1}});var P=D.t||D["data-t"]||"";if(!k.length){u+=x;continue}if(k=Gz(k),m.s.r>d&&(m.s.r=d),m.e.r<d&&(m.e.r=d),m.s.c>u&&(m.s.c=u),m.e.c<u&&(m.e.c=u),!k.length){u+=x;continue}var I={t:"s",v:k};a.raw||!k.trim().length||P=="s"||(k==="TRUE"?I={t:"b",v:!0}:k==="FALSE"?I={t:"b",v:!1}:isNaN(od(k))?isNaN(ix(k).getDate())||(I={t:"d",v:ps(k)},a.cellDates||(I={t:"n",v:ei(I.v)}),I.z=a.dateNF||Ea[14]):I={t:"n",v:od(k)}),a.dense?(s[d]||(s[d]=[]),s[d][u]=I):s[Da({r:d,c:u})]=I,u+=x}}}}return s["!ref"]=Qa(m),g.length&&(s["!merges"]=g),s}function mbe(e,t,a,s){for(var n=e["!merges"]||[],i=[],l=t.s.c;l<=t.e.c;++l){for(var o=0,c=0,d=0;d<n.length;++d)if(!(n[d].s.r>a||n[d].s.c>l)&&!(n[d].e.r<a||n[d].e.c<l)){if(n[d].s.r<a||n[d].s.c<l){o=-1;break}o=n[d].e.r-n[d].s.r+1,c=n[d].e.c-n[d].s.c+1;break}if(!(o<0)){var u=Da({r:a,c:l}),f=s.dense?(e[a]||[])[l]:e[u],x=f&&f.v!=null&&(f.h||CA(f.w||(ch(f),f.w)||""))||"",m={};o>1&&(m.rowspan=o),c>1&&(m.colspan=c),s.editable?x='<span contenteditable="true">'+x+"</span>":f&&(m["data-t"]=f&&f.t||"z",f.v!=null&&(m["data-v"]=f.v),f.z!=null&&(m["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(x='<a href="'+f.l.Target+'">'+x+"</a>")),m.id=(s.id||"sjs")+"-"+u,i.push(Gt("td",x,m))}}var g="<tr>";return g+i.join("")+"</tr>"}var pbe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',xbe="</body></html>";function gbe(e,t){var a=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!a||a.length==0)throw new Error("Invalid HTML: could not find <table>");if(a.length==1)return Vf(HP(a[0],t),t);var s=r8();return a.forEach(function(n,i){s8(s,HP(n,t),"Sheet"+(i+1))}),s}function vbe(e,t,a){var s=[];return s.join("")+"<table"+(a&&a.id?' id="'+a.id+'"':"")+">"}function NV(e,t){var a=t||{},s=a.header!=null?a.header:pbe,n=a.footer!=null?a.footer:xbe,i=[s],l=so(e["!ref"]);a.dense=Array.isArray(e),i.push(vbe(e,l,a));for(var o=l.s.r;o<=l.e.r;++o)i.push(mbe(e,l,o,a));return i.push("</table>"+n),i.join("")}function SV(e,t,a){var s=a||{},n=0,i=0;if(s.origin!=null)if(typeof s.origin=="number")n=s.origin;else{var l=typeof s.origin=="string"?Vs(s.origin):s.origin;n=l.r,i=l.c}var o=t.getElementsByTagName("tr"),c=Math.min(s.sheetRows||1e7,o.length),d={s:{r:0,c:0},e:{r:n,c:i}};if(e["!ref"]){var u=so(e["!ref"]);d.s.r=Math.min(d.s.r,u.s.r),d.s.c=Math.min(d.s.c,u.s.c),d.e.r=Math.max(d.e.r,u.e.r),d.e.c=Math.max(d.e.c,u.e.c),n==-1&&(d.e.r=n=u.e.r+1)}var f=[],x=0,m=e["!rows"]||(e["!rows"]=[]),g=0,v=0,b=0,j=0,S=0,k=0;for(e["!cols"]||(e["!cols"]=[]);g<o.length&&v<c;++g){var N=o[g];if(VP(N)){if(s.display)continue;m[v]={hidden:!0}}var A=N.children;for(b=j=0;b<A.length;++b){var _=A[b];if(!(s.display&&VP(_))){var D=_.hasAttribute("data-v")?_.getAttribute("data-v"):_.hasAttribute("v")?_.getAttribute("v"):Gz(_.innerHTML),P=_.getAttribute("data-z")||_.getAttribute("z");for(x=0;x<f.length;++x){var I=f[x];I.s.c==j+i&&I.s.r<v+n&&v+n<=I.e.r&&(j=I.e.c+1-i,x=-1)}k=+_.getAttribute("colspan")||1,((S=+_.getAttribute("rowspan")||1)>1||k>1)&&f.push({s:{r:v+n,c:j+i},e:{r:v+n+(S||1)-1,c:j+i+(k||1)-1}});var B={t:"s",v:D},O=_.getAttribute("data-t")||_.getAttribute("t")||"";D!=null&&(D.length==0?B.t=O||"z":s.raw||D.trim().length==0||O=="s"||(D==="TRUE"?B={t:"b",v:!0}:D==="FALSE"?B={t:"b",v:!1}:isNaN(od(D))?isNaN(ix(D).getDate())||(B={t:"d",v:ps(D)},s.cellDates||(B={t:"n",v:ei(B.v)}),B.z=s.dateNF||Ea[14]):B={t:"n",v:od(D)})),B.z===void 0&&P!=null&&(B.z=P);var U="",E=_.getElementsByTagName("A");if(E&&E.length)for(var R=0;R<E.length&&!(E[R].hasAttribute("href")&&(U=E[R].getAttribute("href"),U.charAt(0)!="#"));++R);U&&U.charAt(0)!="#"&&(B.l={Target:U}),s.dense?(e[v+n]||(e[v+n]=[]),e[v+n][j+i]=B):e[Da({c:j+i,r:v+n})]=B,d.e.c<j+i&&(d.e.c=j+i),j+=k}}++v}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),d.e.r=Math.max(d.e.r,v-1+n),e["!ref"]=Qa(d),v>=c&&(e["!fullref"]=Qa((d.e.r=o.length-g+v-1+n,d))),e}function kV(e,t){var a=t||{},s=a.dense?[]:{};return SV(s,e,t)}function bbe(e,t){return Vf(kV(e,t),t)}function VP(e){var t="",a=ybe(e);return a&&(t=a(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function ybe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function wbe(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(s,n){return Array(parseInt(n,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),a=kr(t.replace(/<[^>]*>/g,""));return[a]}var WP={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function CV(e,t){var a=t||{},s=AA(e),n=[],i,l,o={name:""},c="",d=0,u,f,x={},m=[],g=a.dense?[]:{},v,b,j={value:""},S="",k=0,N=[],A=-1,_=-1,D={s:{r:1e6,c:1e7},e:{r:0,c:0}},P=0,I={},B=[],O={},U=0,E=0,R=[],K=1,V=1,Z=[],J={Names:[]},ee={},W=["",""],le=[],M={},X="",z=0,Q=!1,ne=!1,re=0;for(J1.lastIndex=0,s=s.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");v=J1.exec(s);)switch(v[3]=v[3].replace(/_.*$/,"")){case"table":case"":v[1]==="/"?(D.e.c>=D.s.c&&D.e.r>=D.s.r?g["!ref"]=Qa(D):g["!ref"]="A1:A1",a.sheetRows>0&&a.sheetRows<=D.e.r&&(g["!fullref"]=g["!ref"],D.e.r=a.sheetRows-1,g["!ref"]=Qa(D)),B.length&&(g["!merges"]=B),R.length&&(g["!rows"]=R),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),m.push(u.name),x[u.name]=g,ne=!1):v[0].charAt(v[0].length-2)!=="/"&&(u=Ra(v[0],!1),A=_=-1,D.s.r=D.s.c=1e7,D.e.r=D.e.c=0,g=a.dense?[]:{},B=[],R=[],ne=!0);break;case"table-row-group":v[1]==="/"?--P:++P;break;case"table-row":case"":if(v[1]==="/"){A+=K,K=1;break}if(f=Ra(v[0],!1),f.?A=f.-1:A==-1&&(A=0),K=+f["number-rows-repeated"]||1,K<10)for(re=0;re<K;++re)P>0&&(R[A+re]={level:P});_=-1;break;case"covered-table-cell":v[1]!=="/"&&++_,a.sheetStubs&&(a.dense?(g[A]||(g[A]=[]),g[A][_]={t:"z"}):g[Da({r:A,c:_})]={t:"z"}),S="",N=[];break;case"table-cell":case"":if(v[0].charAt(v[0].length-2)==="/")++_,j=Ra(v[0],!1),V=parseInt(j["number-columns-repeated"]||"1",10),b={t:"z",v:null},j.formula&&a.cellFormula!=!1&&(b.f=$P(kr(j.formula))),(j.||j["value-type"])=="string"&&(b.t="s",b.v=kr(j["string-value"]||""),a.dense?(g[A]||(g[A]=[]),g[A][_]=b):g[Da({r:A,c:_})]=b),_+=V-1;else if(v[1]!=="/"){++_,S="",k=0,N=[],V=1;var oe=K?A+K-1:A;if(_>D.e.c&&(D.e.c=_),_<D.s.c&&(D.s.c=_),A<D.s.r&&(D.s.r=A),oe>D.e.r&&(D.e.r=oe),j=Ra(v[0],!1),le=[],M={},b={t:j.||j["value-type"],v:null},a.cellFormula)if(j.formula&&(j.formula=kr(j.formula)),j["number-matrix-columns-spanned"]&&j["number-matrix-rows-spanned"]&&(U=parseInt(j["number-matrix-rows-spanned"],10)||0,E=parseInt(j["number-matrix-columns-spanned"],10)||0,O={s:{r:A,c:_},e:{r:A+U-1,c:_+E-1}},b.F=Qa(O),Z.push([O,b.F])),j.formula)b.f=$P(j.formula);else for(re=0;re<Z.length;++re)A>=Z[re][0].s.r&&A<=Z[re][0].e.r&&_>=Z[re][0].s.c&&_<=Z[re][0].e.c&&(b.F=Z[re][1]);switch((j["number-columns-spanned"]||j["number-rows-spanned"])&&(U=parseInt(j["number-rows-spanned"],10)||0,E=parseInt(j["number-columns-spanned"],10)||0,O={s:{r:A,c:_},e:{r:A+U-1,c:_+E-1}},B.push(O)),j["number-columns-repeated"]&&(V=parseInt(j["number-columns-repeated"],10)),b.t){case"boolean":b.t="b",b.v=hs(j["boolean-value"]);break;case"float":b.t="n",b.v=parseFloat(j.value);break;case"percentage":b.t="n",b.v=parseFloat(j.value);break;case"currency":b.t="n",b.v=parseFloat(j.value);break;case"date":b.t="d",b.v=ps(j["date-value"]),a.cellDates||(b.t="n",b.v=ei(b.v)),b.z="m/d/yy";break;case"time":b.t="n",b.v=Kde(j["time-value"])/86400,a.cellDates&&(b.t="d",b.v=Gj(b.v)),b.z="HH:MM:SS";break;case"number":b.t="n",b.v=parseFloat(j.);break;default:if(b.t==="string"||b.t==="text"||!b.t)b.t="s",j["string-value"]!=null&&(S=kr(j["string-value"]),N=[]);else throw new Error("Unsupported value type "+b.t)}}else{if(Q=!1,b.t==="s"&&(b.v=S||"",N.length&&(b.R=N),Q=k==0),ee.Target&&(b.l=ee),le.length>0&&(b.c=le,le=[]),S&&a.cellText!==!1&&(b.w=S),Q&&(b.t="z",delete b.v),(!Q||a.sheetStubs)&&!(a.sheetRows&&a.sheetRows<=A))for(var q=0;q<K;++q){if(V=parseInt(j["number-columns-repeated"]||"1",10),a.dense)for(g[A+q]||(g[A+q]=[]),g[A+q][_]=q==0?b:xs(b);--V>0;)g[A+q][_+V]=xs(b);else for(g[Da({r:A+q,c:_})]=b;--V>0;)g[Da({r:A+q,c:_+V})]=xs(b);D.e.c<=_&&(D.e.c=_)}V=parseInt(j["number-columns-repeated"]||"1",10),_+=V-1,V=0,b={},S="",N=[]}ee={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(v[1]==="/"){if((i=n.pop())[0]!==v[3])throw"Bad state: "+i}else v[0].charAt(v[0].length-2)!=="/"&&n.push([v[3],!0]);break;case"annotation":if(v[1]==="/"){if((i=n.pop())[0]!==v[3])throw"Bad state: "+i;M.t=S,N.length&&(M.R=N),M.a=X,le.push(M)}else v[0].charAt(v[0].length-2)!=="/"&&n.push([v[3],!1]);X="",z=0,S="",k=0,N=[];break;case"creator":v[1]==="/"?X=s.slice(z,v.index):z=v.index+v[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(v[1]==="/"){if((i=n.pop())[0]!==v[3])throw"Bad state: "+i}else v[0].charAt(v[0].length-2)!=="/"&&n.push([v[3],!1]);S="",k=0,N=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(v[1]==="/"){if(I[o.name]=c,(i=n.pop())[0]!==v[3])throw"Bad state: "+i}else v[0].charAt(v[0].length-2)!=="/"&&(c="",o=Ra(v[0],!1),n.push([v[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(n[n.length-1][0]){case"time-style":case"date-style":l=Ra(v[0],!1),c+=WP[v[3]][l.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(n[n.length-1][0]){case"time-style":case"date-style":l=Ra(v[0],!1),c+=WP[v[3]][l.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(v[0].slice(-2)==="/>")break;if(v[1]==="/")switch(n[n.length-1][0]){case"number-style":case"date-style":case"time-style":c+=s.slice(d,v.index);break}else d=v.index+v[0].length;break;case"named-range":l=Ra(v[0],!1),W=O5(l["cell-range-address"]);var ie={Name:l.name,Ref:W[0]+"!"+W[1]};ne&&(ie.Sheet=m.length),J.Names.push(ie);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(n[n.length-1][0])>-1)break;if(v[1]==="/"&&(!j||!j["string-value"])){var ye=wbe(s.slice(k,v.index));S=(S.length>0?S+`
`:"")+ye[0]}else Ra(v[0],!1),k=v.index+v[0].length;break;case"s":break;case"database-range":if(v[1]==="/")break;try{W=O5(Ra(v[0])["target-range-address"]),x[W[0]]["!autofilter"]={ref:W[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(v[1]!=="/"){if(ee=Ra(v[0],!1),!ee.href)break;ee.Target=kr(ee.href),delete ee.href,ee.Target.charAt(0)=="#"&&ee.Target.indexOf(".")>-1?(W=O5(ee.Target.slice(1)),ee.Target="#"+W[0]+"!"+W[1]):ee.Target.match(/^\.\.[\\\/]/)&&(ee.Target=ee.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(v[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(a.WTF)throw new Error(v)}}var Y={Sheets:x,SheetNames:m,Workbook:J};return a.bookSheets&&delete Y.Sheets,Y}function qP(e,t){t=t||{},hc(e,"META-INF/manifest.xml")&&Kue(Ln(e,"META-INF/manifest.xml"),t);var a=Do(e,"content.xml");if(!a)throw new Error("Missing content.xml in ODS / UOF file");var s=CV(Jr(a),t);return hc(e,"meta.xml")&&(s.Props=gH(Ln(e,"meta.xml"))),s}function GP(e,t){return CV(e,t)}var jbe=(function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+X1({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return _n+t}})(),KP=(function(){var e=function(i){return Wr(i).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,a=`          <table:covered-table-cell/>
`,s=function(i,l,o){var c=[];c.push('      <table:table table:name="'+Wr(l.SheetNames[o])+`" table:style-name="ta1">
`);var d=0,u=0,f=so(i["!ref"]||"A1"),x=i["!merges"]||[],m=0,g=Array.isArray(i);if(i["!cols"])for(u=0;u<=f.e.c;++u)c.push("        <table:table-column"+(i["!cols"][u]?' table:style-name="co'+i["!cols"][u].ods+'"':"")+`></table:table-column>
`);var v="",b=i["!rows"]||[];for(d=0;d<f.s.r;++d)v=b[d]?' table:style-name="ro'+b[d].ods+'"':"",c.push("        <table:table-row"+v+`></table:table-row>
`);for(;d<=f.e.r;++d){for(v=b[d]?' table:style-name="ro'+b[d].ods+'"':"",c.push("        <table:table-row"+v+`>
`),u=0;u<f.s.c;++u)c.push(t);for(;u<=f.e.c;++u){var j=!1,S={},k="";for(m=0;m!=x.length;++m)if(!(x[m].s.c>u)&&!(x[m].s.r>d)&&!(x[m].e.c<u)&&!(x[m].e.r<d)){(x[m].s.c!=u||x[m].s.r!=d)&&(j=!0),S["table:number-columns-spanned"]=x[m].e.c-x[m].s.c+1,S["table:number-rows-spanned"]=x[m].e.r-x[m].s.r+1;break}if(j){c.push(a);continue}var N=Da({r:d,c:u}),A=g?(i[d]||[])[u]:i[N];if(A&&A.f&&(S["table:formula"]=Wr(zxe(A.f)),A.F&&A.F.slice(0,N.length)==N)){var _=so(A.F);S["table:number-matrix-columns-spanned"]=_.e.c-_.s.c+1,S["table:number-matrix-rows-spanned"]=_.e.r-_.s.r+1}if(!A){c.push(t);continue}switch(A.t){case"b":k=A.v?"TRUE":"FALSE",S["office:value-type"]="boolean",S["office:boolean-value"]=A.v?"true":"false";break;case"n":k=A.w||String(A.v||0),S["office:value-type"]="float",S["office:value"]=A.v||0;break;case"s":case"str":k=A.v==null?"":A.v,S["office:value-type"]="string";break;case"d":k=A.w||ps(A.v).toISOString(),S["office:value-type"]="date",S["office:date-value"]=ps(A.v).toISOString(),S["table:style-name"]="ce1";break;default:c.push(t);continue}var D=e(k);if(A.l&&A.l.Target){var P=A.l.Target;P=P.charAt(0)=="#"?"#"+Hxe(P.slice(1)):P,P.charAt(0)!="#"&&!P.match(/^\w+:/)&&(P="../"+P),D=Gt("text:a",D,{"xlink:href":P.replace(/&/g,"&amp;")})}c.push("          "+Gt("table:table-cell",Gt("text:p",D,{}),S)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},n=function(i,l){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var o=0;l.SheetNames.map(function(d){return l.Sheets[d]}).forEach(function(d){if(d&&d["!cols"]){for(var u=0;u<d["!cols"].length;++u)if(d["!cols"][u]){var f=d["!cols"][u];if(f.width==null&&f.wpx==null&&f.wch==null)continue;Mf(f),f.ods=o;var x=d["!cols"][u].wpx+"px";i.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+x+`"/>
`),i.push(`  </style:style>
`),++o}}});var c=0;l.SheetNames.map(function(d){return l.Sheets[d]}).forEach(function(d){if(d&&d["!rows"]){for(var u=0;u<d["!rows"].length;++u)if(d["!rows"][u]){d["!rows"][u].ods=c;var f=d["!rows"][u].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(l,o){var c=[_n],d=X1({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=X1({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(c.push("<office:document"+d+u+`>
`),c.push(xH().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+d+`>
`),n(c,l),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=l.SheetNames.length;++f)c.push(s(l.Sheets[l.SheetNames[f]],l,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),o.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}})();function AV(e,t){if(t.bookType=="fods")return KP(e,t);var a=NA(),s="",n=[],i=[];return s="mimetype",ar(a,s,"application/vnd.oasis.opendocument.spreadsheet"),s="content.xml",ar(a,s,KP(e,t)),n.push([s,"text/xml"]),i.push([s,"ContentFile"]),s="styles.xml",ar(a,s,jbe(e,t)),n.push([s,"text/xml"]),i.push([s,"StylesFile"]),s="meta.xml",ar(a,s,_n+xH()),n.push([s,"text/xml"]),i.push([s,"MetadataFile"]),s="manifest.rdf",ar(a,s,Jue(i)),n.push([s,"application/rdf+xml"]),s="META-INF/manifest.xml",ar(a,s,Yue(n)),a}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function xm(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function tC(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Jr(Hf(e))}function Nbe(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Eo(Yd(e))}function Sbe(e,t){e:for(var a=0;a<=e.length-t.length;++a){for(var s=0;s<t.length;++s)if(e[a+s]!=t[s])continue e;return!0}return!1}function Lf(e){var t=e.reduce(function(n,i){return n+i.length},0),a=new Uint8Array(t),s=0;return e.forEach(function(n){a.set(n,s),s+=n.length}),a}function YP(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function kbe(e,t){for(var a=(e[t+15]&127)<<7|e[t+14]>>1,s=e[t+14]&1,n=t+13;n>=t;--n)s=s*256+e[n];return(e[t+15]&128?-s:s)*Math.pow(10,a-6176)}function Cbe(e,t,a){var s=Math.floor(a==0?0:Math.LOG10E*Math.log(Math.abs(a)))+6176-20,n=a/Math.pow(10,s-6176);e[t+15]|=s>>7,e[t+14]|=(s&127)<<1;for(var i=0;n>=1;++i,n/=256)e[t+i]=n&255;e[t+15]|=a>=0?0:128}function sv(e,t){var a=t?t[0]:0,s=e[a]&127;e:if(e[a++]>=128&&(s|=(e[a]&127)<<7,e[a++]<128||(s|=(e[a]&127)<<14,e[a++]<128)||(s|=(e[a]&127)<<21,e[a++]<128)||(s+=(e[a]&127)*Math.pow(2,28),++a,e[a++]<128)||(s+=(e[a]&127)*Math.pow(2,35),++a,e[a++]<128)||(s+=(e[a]&127)*Math.pow(2,42),++a,e[a++]<128)))break e;return t&&(t[0]=a),s}function $r(e){var t=new Uint8Array(7);t[0]=e&127;var a=1;e:if(e>127){if(t[a-1]|=128,t[a]=e>>7&127,++a,e<=16383||(t[a-1]|=128,t[a]=e>>14&127,++a,e<=2097151)||(t[a-1]|=128,t[a]=e>>21&127,++a,e<=268435455)||(t[a-1]|=128,t[a]=e/256>>>21&127,++a,e<=34359738367)||(t[a-1]|=128,t[a]=e/65536>>>21&127,++a,e<=4398046511103))break e;t[a-1]|=128,t[a]=e/16777216>>>21&127,++a}return t.slice(0,a)}function en(e){var t=0,a=e[t]&127;e:if(e[t++]>=128){if(a|=(e[t]&127)<<7,e[t++]<128||(a|=(e[t]&127)<<14,e[t++]<128)||(a|=(e[t]&127)<<21,e[t++]<128))break e;a|=(e[t]&127)<<28}return a}function Tr(e){for(var t=[],a=[0];a[0]<e.length;){var s=a[0],n=sv(e,a),i=n&7;n=Math.floor(n/8);var l=0,o;if(n==0)break;switch(i){case 0:{for(var c=a[0];e[a[0]++]>=128;);o=e.slice(c,a[0])}break;case 5:l=4,o=e.slice(a[0],a[0]+l),a[0]+=l;break;case 1:l=8,o=e.slice(a[0],a[0]+l),a[0]+=l;break;case 2:l=sv(e,a),o=e.slice(a[0],a[0]+l),a[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(n," at offset ").concat(s))}var d={data:o,type:i};t[n]==null?t[n]=[d]:t[n].push(d)}return t}function Fi(e){var t=[];return e.forEach(function(a,s){a.forEach(function(n){n.data&&(t.push($r(s*8+n.type)),n.type==2&&t.push($r(n.data.length)),t.push(n.data))})}),Lf(t)}function JA(e,t){return e?.map(function(a){return t(a.data)})||[]}function oc(e){for(var t,a=[],s=[0];s[0]<e.length;){var n=sv(e,s),i=Tr(e.slice(s[0],s[0]+n));s[0]+=n;var l={id:en(i[1][0].data),messages:[]};i[2].forEach(function(o){var c=Tr(o.data),d=en(c[3][0].data);l.messages.push({meta:c,data:e.slice(s[0],s[0]+d)}),s[0]+=d}),(t=i[3])!=null&&t[0]&&(l.merge=en(i[3][0].data)>>>0>0),a.push(l)}return a}function Cp(e){var t=[];return e.forEach(function(a){var s=[];s[1]=[{data:$r(a.id),type:0}],s[2]=[],a.merge!=null&&(s[3]=[{data:$r(+!!a.merge),type:0}]);var n=[];a.messages.forEach(function(l){n.push(l.data),l.meta[3]=[{type:0,data:$r(l.data.length)}],s[2].push({data:Fi(l.meta),type:2})});var i=Fi(s);t.push($r(i.length)),t.push(i),n.forEach(function(l){return t.push(l)})}),Lf(t)}function Abe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var a=[0],s=sv(t,a),n=[];a[0]<t.length;){var i=t[a[0]]&3;if(i==0){var l=t[a[0]++]>>2;if(l<60)++l;else{var o=l-59;l=t[a[0]],o>1&&(l|=t[a[0]+1]<<8),o>2&&(l|=t[a[0]+2]<<16),o>3&&(l|=t[a[0]+3]<<24),l>>>=0,l++,a[0]+=o}n.push(t.slice(a[0],a[0]+l)),a[0]+=l;continue}else{var c=0,d=0;if(i==1?(d=(t[a[0]]>>2&7)+4,c=(t[a[0]++]&224)<<3,c|=t[a[0]++]):(d=(t[a[0]++]>>2)+1,i==2?(c=t[a[0]]|t[a[0]+1]<<8,a[0]+=2):(c=(t[a[0]]|t[a[0]+1]<<8|t[a[0]+2]<<16|t[a[0]+3]<<24)>>>0,a[0]+=4)),n=[Lf(n)],c==0)throw new Error("Invalid offset 0");if(c>n[0].length)throw new Error("Invalid offset beyond length");if(d>=c)for(n.push(n[0].slice(-c)),d-=c;d>=n[n.length-1].length;)n.push(n[n.length-1]),d-=n[n.length-1].length;n.push(n[0].slice(-c,-c+d))}}var u=Lf(n);if(u.length!=s)throw new Error("Unexpected length: ".concat(u.length," != ").concat(s));return u}function cc(e){for(var t=[],a=0;a<e.length;){var s=e[a++],n=e[a]|e[a+1]<<8|e[a+2]<<16;a+=3,t.push(Abe(s,e.slice(a,a+n))),a+=n}if(a!==e.length)throw new Error("data is not a valid framed stream!");return Lf(t)}function Ap(e){for(var t=[],a=0;a<e.length;){var s=Math.min(e.length-a,268435455),n=new Uint8Array(4);t.push(n);var i=$r(s),l=i.length;t.push(i),s<=60?(l++,t.push(new Uint8Array([s-1<<2]))):s<=256?(l+=2,t.push(new Uint8Array([240,s-1&255]))):s<=65536?(l+=3,t.push(new Uint8Array([244,s-1&255,s-1>>8&255]))):s<=16777216?(l+=4,t.push(new Uint8Array([248,s-1&255,s-1>>8&255,s-1>>16&255]))):s<=4294967296&&(l+=5,t.push(new Uint8Array([252,s-1&255,s-1>>8&255,s-1>>16&255,s-1>>>24&255]))),t.push(e.slice(a,a+s)),l+=s,n[0]=0,n[1]=l&255,n[2]=l>>8&255,n[3]=l>>16&255,a+=s}return Lf(t)}function _be(e,t,a,s){var n=xm(e),i=n.getUint32(4,!0),l=(s>1?12:8)+YP(i&(s>1?3470:398))*4,o=-1,c=-1,d=NaN,u=new Date(2001,0,1);i&512&&(o=n.getUint32(l,!0),l+=4),l+=YP(i&(s>1?12288:4096))*4,i&16&&(c=n.getUint32(l,!0),l+=4),i&32&&(d=n.getFloat64(l,!0),l+=8),i&64&&(u.setTime(u.getTime()+n.getFloat64(l,!0)*1e3),l+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:d};break;case 3:f={t:"s",v:t[c]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:d>0};break;case 7:f={t:"n",v:d/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:a[o]};else if(c>-1)f={t:"s",v:t[c]};else if(!isNaN(d))f={t:"n",v:d};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function Tbe(e,t,a){var s=xm(e),n=s.getUint32(8,!0),i=12,l=-1,o=-1,c=NaN,d=NaN,u=new Date(2001,0,1);n&1&&(c=kbe(e,i),i+=16),n&2&&(d=s.getFloat64(i,!0),i+=8),n&4&&(u.setTime(u.getTime()+s.getFloat64(i,!0)*1e3),i+=8),n&8&&(o=s.getUint32(i,!0),i+=4),n&16&&(l=s.getUint32(i,!0),i+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[o]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:d>0};break;case 7:f={t:"n",v:d/86400};break;case 8:f={t:"e",v:0};break;case 9:if(l>-1)f={t:"s",v:a[l]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(n&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(n&31," : ").concat(e.slice(0,4)))}return f}function F5(e,t){var a=new Uint8Array(32),s=xm(a),n=12,i=0;switch(a[0]=5,e.t){case"n":a[1]=2,Cbe(a,n,e.v),i|=1,n+=16;break;case"b":a[1]=6,s.setFloat64(n,e.v?1:0,!0),i|=2,n+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));a[1]=3,s.setUint32(n,t.indexOf(e.v),!0),i|=8,n+=4;break;default:throw"unsupported cell type "+e.t}return s.setUint32(8,i,!0),a.slice(0,n)}function I5(e,t){var a=new Uint8Array(32),s=xm(a),n=12,i=0;switch(a[0]=3,e.t){case"n":a[2]=2,s.setFloat64(n,e.v,!0),i|=32,n+=8;break;case"b":a[2]=6,s.setFloat64(n,e.v?1:0,!0),i|=32,n+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));a[2]=3,s.setUint32(n,t.indexOf(e.v),!0),i|=16,n+=4;break;default:throw"unsupported cell type "+e.t}return s.setUint32(4,i,!0),a.slice(0,n)}function Ebe(e,t,a){switch(e[0]){case 0:case 1:case 2:case 3:return _be(e,t,a,e[0]);case 5:return Tbe(e,t,a);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function rl(e){var t=Tr(e);return sv(t[1][0].data)}function XP(e,t){var a=Tr(t.data),s=en(a[1][0].data),n=a[3],i=[];return(n||[]).forEach(function(l){var o=Tr(l.data),c=en(o[1][0].data)>>>0;switch(s){case 1:i[c]=tC(o[3][0].data);break;case 8:{var d=e[rl(o[9][0].data)][0],u=Tr(d.data),f=e[rl(u[1][0].data)][0],x=en(f.meta[1][0].data);if(x!=2001)throw new Error("2000 unexpected reference to ".concat(x));var m=Tr(f.data);i[c]=m[3].map(function(g){return tC(g.data)}).join("")}break}}),i}function Dbe(e,t){var a,s,n,i,l,o,c,d,u,f,x,m,g,v,b=Tr(e),j=en(b[1][0].data)>>>0,S=en(b[2][0].data)>>>0,k=((s=(a=b[8])==null?void 0:a[0])==null?void 0:s.data)&&en(b[8][0].data)>0||!1,N,A;if((i=(n=b[7])==null?void 0:n[0])!=null&&i.data&&t!=0)N=(o=(l=b[7])==null?void 0:l[0])==null?void 0:o.data,A=(d=(c=b[6])==null?void 0:c[0])==null?void 0:d.data;else if((f=(u=b[4])==null?void 0:u[0])!=null&&f.data&&t!=1)N=(m=(x=b[4])==null?void 0:x[0])==null?void 0:m.data,A=(v=(g=b[3])==null?void 0:g[0])==null?void 0:v.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var _=k?4:1,D=xm(N),P=[],I=0;I<N.length/2;++I){var B=D.getUint16(I*2,!0);B<65535&&P.push([I,B])}if(P.length!=S)throw"Expected ".concat(S," cells, found ").concat(P.length);var O=[];for(I=0;I<P.length-1;++I)O[P[I][0]]=A.subarray(P[I][1]*_,P[I+1][1]*_);return P.length>=1&&(O[P[P.length-1][0]]=A.subarray(P[P.length-1][1]*_)),{R:j,cells:O}}function Mbe(e,t){var a,s=Tr(t.data),n=(a=s?.[7])!=null&&a[0]?en(s[7][0].data)>>>0>0?1:0:-1,i=JA(s[5],function(l){return Dbe(l,n)});return{nrows:en(s[4][0].data)>>>0,data:i.reduce(function(l,o){return l[o.R]||(l[o.R]=[]),o.cells.forEach(function(c,d){if(l[o.R][d])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(d));l[o.R][d]=c}),l},[])}}function Pbe(e,t,a){var s,n=Tr(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(en(n[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(n[6][0].data));if(i.e.c=(en(n[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(n[7][0].data));a["!ref"]=Qa(i);var l=Tr(n[4][0].data),o=XP(e,e[rl(l[4][0].data)][0]),c=(s=l[17])!=null&&s[0]?XP(e,e[rl(l[17][0].data)][0]):[],d=Tr(l[3][0].data),u=0;d[1].forEach(function(f){var x=Tr(f.data),m=e[rl(x[2][0].data)][0],g=en(m.meta[1][0].data);if(g!=6002)throw new Error("6001 unexpected reference to ".concat(g));var v=Mbe(e,m);v.data.forEach(function(b,j){b.forEach(function(S,k){var N=Da({r:u+j,c:k}),A=Ebe(S,o,c);A&&(a[N]=A)})}),u+=v.nrows})}function Lbe(e,t){var a=Tr(t.data),s={"!ref":"A1"},n=e[rl(a[2][0].data)],i=en(n[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return Pbe(e,n[0],s),s}function Obe(e,t){var a,s=Tr(t.data),n={name:(a=s[1])!=null&&a[0]?tC(s[1][0].data):"",sheets:[]},i=JA(s[2],rl);return i.forEach(function(l){e[l].forEach(function(o){var c=en(o.meta[1][0].data);c==6e3&&n.sheets.push(Lbe(e,o))})}),n}function Rbe(e,t){var a=r8(),s=Tr(t.data),n=JA(s[1],rl);if(n.forEach(function(i){e[i].forEach(function(l){var o=en(l.meta[1][0].data);if(o==2){var c=Obe(e,l);c.sheets.forEach(function(d,u){s8(a,d,u==0?c.name:c.name+"_"+u,!0)})}})}),a.SheetNames.length==0)throw new Error("Empty NUMBERS file");return a}function B5(e){var t,a,s,n,i={},l=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var d;try{d=cc(c.content)}catch(f){return console.log("?? "+c.content.length+" "+(f.message||f))}var u;try{u=oc(d)}catch(f){return console.log("## "+(f.message||f))}u.forEach(function(f){i[f.id]=f.messages,l.push(f.id)})}}),!l.length)throw new Error("File has no messages");var o=((n=(s=(a=(t=i?.[1])==null?void 0:t[0])==null?void 0:a.meta)==null?void 0:s[1])==null?void 0:n[0].data)&&en(i[1][0].meta[1][0].data)==1&&i[1][0];if(o||l.forEach(function(c){i[c].forEach(function(d){var u=en(d.meta[1][0].data)>>>0;if(u==1)if(!o)o=d;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return Rbe(i,o)}function Fbe(e,t,a){var s,n,i,l;if(!((s=e[6])!=null&&s[0])||!((n=e[7])!=null&&n[0]))throw"Mutation only works on post-BNC storages!";var o=((l=(i=e[8])==null?void 0:i[0])==null?void 0:l.data)&&en(e[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var c=0,d=xm(e[7][0].data),u=0,f=[],x=xm(e[4][0].data),m=0,g=[],v=0;v<t.length;++v){if(t[v]==null){d.setUint16(v*2,65535,!0),x.setUint16(v*2,65535);continue}d.setUint16(v*2,u,!0),x.setUint16(v*2,m,!0);var b,j;switch(typeof t[v]){case"string":b=F5({t:"s",v:t[v]},a),j=I5({t:"s",v:t[v]},a);break;case"number":b=F5({t:"n",v:t[v]},a),j=I5({t:"n",v:t[v]},a);break;case"boolean":b=F5({t:"b",v:t[v]},a),j=I5({t:"b",v:t[v]},a);break;default:throw new Error("Unsupported value "+t[v])}f.push(b),u+=b.length,g.push(j),m+=j.length,++c}for(e[2][0].data=$r(c);v<e[7][0].data.length/2;++v)d.setUint16(v*2,65535,!0),x.setUint16(v*2,65535,!0);return e[6][0].data=Lf(f),e[3][0].data=Lf(g),c}function Ibe(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var a=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var s=so(a["!ref"]);s.s.r=s.s.c=0;var n=!1;s.e.c>9&&(n=!0,s.e.c=9),s.e.r>49&&(n=!0,s.e.r=49),n&&console.error("The Numbers writer is currently limited to ".concat(Qa(s)));var i=pw(a,{range:s,header:1}),l=["~Sh33tJ5~"];i.forEach(function(X){return X.forEach(function(z){typeof z=="string"&&l.push(z)})});var o={},c=[],d=Na.read(t.numbers,{type:"base64"});d.FileIndex.map(function(X,z){return[X,d.FullPaths[z]]}).forEach(function(X){var z=X[0],Q=X[1];if(z.type==2&&z.name.match(/\.iwa/)){var ne=z.content,re=cc(ne),oe=oc(re);oe.forEach(function(q){c.push(q.id),o[q.id]={deps:[],location:Q,type:en(q.messages[0].meta[1][0].data)}})}}),c.sort(function(X,z){return X-z});var u=c.filter(function(X){return X>1}).map(function(X){return[X,$r(X)]});d.FileIndex.map(function(X,z){return[X,d.FullPaths[z]]}).forEach(function(X){var z=X[0];if(X[1],!!z.name.match(/\.iwa/)){var Q=oc(cc(z.content));Q.forEach(function(ne){ne.messages.forEach(function(re){u.forEach(function(oe){ne.messages.some(function(q){return en(q.meta[1][0].data)!=11006&&Sbe(q.data,oe[1])})&&o[oe[0]].deps.push(ne.id)})})})}});for(var f=Na.find(d,o[1].location),x=oc(cc(f.content)),m,g=0;g<x.length;++g){var v=x[g];v.id==1&&(m=v)}var b=rl(Tr(m.messages[0].data)[1][0].data);for(f=Na.find(d,o[b].location),x=oc(cc(f.content)),g=0;g<x.length;++g)v=x[g],v.id==b&&(m=v);for(b=rl(Tr(m.messages[0].data)[2][0].data),f=Na.find(d,o[b].location),x=oc(cc(f.content)),g=0;g<x.length;++g)v=x[g],v.id==b&&(m=v);for(b=rl(Tr(m.messages[0].data)[2][0].data),f=Na.find(d,o[b].location),x=oc(cc(f.content)),g=0;g<x.length;++g)v=x[g],v.id==b&&(m=v);var j=Tr(m.messages[0].data);{j[6][0].data=$r(s.e.r+1),j[7][0].data=$r(s.e.c+1);var S=rl(j[46][0].data),k=Na.find(d,o[S].location),N=oc(cc(k.content));{for(var A=0;A<N.length&&N[A].id!=S;++A);if(N[A].id!=S)throw"Bad ColumnRowUIDMapArchive";var _=Tr(N[A].messages[0].data);_[1]=[],_[2]=[],_[3]=[];for(var D=0;D<=s.e.c;++D){var P=[];P[1]=P[2]=[{type:0,data:$r(D+420690)}],_[1].push({type:2,data:Fi(P)}),_[2].push({type:0,data:$r(D)}),_[3].push({type:0,data:$r(D)})}_[4]=[],_[5]=[],_[6]=[];for(var I=0;I<=s.e.r;++I)P=[],P[1]=P[2]=[{type:0,data:$r(I+726270)}],_[4].push({type:2,data:Fi(P)}),_[5].push({type:0,data:$r(I)}),_[6].push({type:0,data:$r(I)});N[A].messages[0].data=Fi(_)}k.content=Ap(Cp(N)),k.size=k.content.length,delete j[46];var B=Tr(j[4][0].data);{B[7][0].data=$r(s.e.r+1);var O=Tr(B[1][0].data),U=rl(O[2][0].data);k=Na.find(d,o[U].location),N=oc(cc(k.content));{if(N[0].id!=U)throw"Bad HeaderStorageBucket";var E=Tr(N[0].messages[0].data);for(I=0;I<i.length;++I){var R=Tr(E[2][0].data);R[1][0].data=$r(I),R[4][0].data=$r(i[I].length),E[2][I]={type:E[2][0].type,data:Fi(R)}}N[0].messages[0].data=Fi(E)}k.content=Ap(Cp(N)),k.size=k.content.length;var K=rl(B[2][0].data);k=Na.find(d,o[K].location),N=oc(cc(k.content));{if(N[0].id!=K)throw"Bad HeaderStorageBucket";for(E=Tr(N[0].messages[0].data),D=0;D<=s.e.c;++D)R=Tr(E[2][0].data),R[1][0].data=$r(D),R[4][0].data=$r(s.e.r+1),E[2][D]={type:E[2][0].type,data:Fi(R)};N[0].messages[0].data=Fi(E)}k.content=Ap(Cp(N)),k.size=k.content.length;var V=rl(B[4][0].data);(function(){for(var X=Na.find(d,o[V].location),z=oc(cc(X.content)),Q,ne=0;ne<z.length;++ne){var re=z[ne];re.id==V&&(Q=re)}var oe=Tr(Q.messages[0].data);{oe[3]=[];var q=[];l.forEach(function(Y,ce){q[1]=[{type:0,data:$r(ce)}],q[2]=[{type:0,data:$r(1)}],q[3]=[{type:2,data:Nbe(Y)}],oe[3].push({type:2,data:Fi(q)})})}Q.messages[0].data=Fi(oe);var ie=Cp(z),ye=Ap(ie);X.content=ye,X.size=X.content.length})();var Z=Tr(B[3][0].data);{var J=Z[1][0];delete Z[2];var ee=Tr(J.data);{var W=rl(ee[2][0].data);(function(){for(var X=Na.find(d,o[W].location),z=oc(cc(X.content)),Q,ne=0;ne<z.length;++ne){var re=z[ne];re.id==W&&(Q=re)}var oe=Tr(Q.messages[0].data);{delete oe[6],delete Z[7];var q=new Uint8Array(oe[5][0].data);oe[5]=[];for(var ie=0,ye=0;ye<=s.e.r;++ye){var Y=Tr(q);ie+=Fbe(Y,i[ye],l),Y[1][0].data=$r(ye),oe[5].push({data:Fi(Y),type:2})}oe[1]=[{type:0,data:$r(s.e.c+1)}],oe[2]=[{type:0,data:$r(s.e.r+1)}],oe[3]=[{type:0,data:$r(ie)}],oe[4]=[{type:0,data:$r(s.e.r+1)}]}Q.messages[0].data=Fi(oe);var ce=Cp(z),he=Ap(ce);X.content=he,X.size=X.content.length})()}J.data=Fi(ee)}B[3][0].data=Fi(Z)}j[4][0].data=Fi(B)}m.messages[0].data=Fi(j);var le=Cp(x),M=Ap(le);return f.content=M,f.size=f.content.length,d}function _V(e){return function(a){for(var s=0;s!=e.length;++s){var n=e[s];a[n[0]]===void 0&&(a[n[0]]=n[1]),n[2]==="n"&&(a[n[0]]=Number(a[n[0]]))}}}function QA(e){_V([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function ZA(e){_V([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function Bbe(e){return or.WS.indexOf(e)>-1?"sheet":e==or.CS?"chart":e==or.DS?"dialog":e==or.MS?"macro":e&&e.length?e:"sheet"}function $be(e,t){if(!e)return 0;try{e=t.map(function(s){return s.id||(s.id=s.strRelID),[s.name,e["!id"][s.id].Target,Bbe(e["!id"][s.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function Ube(e,t,a,s,n,i,l,o,c,d,u,f){try{i[s]=x1(Do(e,a,!0),t);var x=Ln(e,t),m;switch(o){case"sheet":m=cve(x,t,n,c,i[s],d,u,f);break;case"chart":if(m=dve(x,t,n,c,i[s],d,u,f),!m||!m["!drawel"])break;var g=n1(m["!drawel"].Target,t),v=Q1(g),b=Xme(Do(e,g,!0),x1(Do(e,v,!0),g)),j=n1(b,g),S=Q1(j);m=F1e(Do(e,j,!0),j,c,x1(Do(e,S,!0),j),d,m);break;case"macro":m=uve(x,t,n,c,i[s],d,u,f);break;case"dialog":m=hve(x,t,n,c,i[s],d,u,f);break;default:throw new Error("Unrecognized sheet type "+o)}l[s]=m;var k=[];i&&i[s]&&tn(i[s]).forEach(function(N){var A="";if(i[s][N].Type==or.CMNT){A=n1(i[s][N].Target,t);var _=xve(Ln(e,A,!0),A,c);if(!_||!_.length)return;OP(m,_,!1)}i[s][N].Type==or.TCMNT&&(A=n1(i[s][N].Target,t),k=k.concat(Qme(Ln(e,A,!0),c)))}),k&&k.length&&OP(m,k,!0,c.people||[])}catch(N){if(c.WTF)throw N}}function rc(e){return e.charAt(0)=="/"?e.slice(1):e}function TV(e,t){if(kx(),t=t||{},QA(t),hc(e,"META-INF/manifest.xml")||hc(e,"objectdata.xml"))return qP(e,t);if(hc(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof B5<"u"){if(e.FileIndex)return B5(e);var a=Na.utils.cfb_new();return aP(e).forEach(function(R){ar(a,R,Zde(e,R))}),B5(a)}throw new Error("Unsupported NUMBERS file")}if(!hc(e,"[Content_Types].xml"))throw hc(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):hc(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var s=aP(e),n=que(Do(e,"[Content_Types].xml")),i=!1,l,o;if(n.workbooks.length===0&&(o="xl/workbook.xml",Ln(e,o,!0)&&n.workbooks.push(o)),n.workbooks.length===0){if(o="xl/workbook.bin",!Ln(e,o,!0))throw new Error("Could not find workbook");n.workbooks.push(o),i=!0}n.workbooks[0].slice(-3)=="bin"&&(i=!0);var c={},d={};if(!t.bookSheets&&!t.bookProps){if(g1=[],n.sst)try{g1=pve(Ln(e,rc(n.sst)),n.sst,t)}catch(R){if(t.WTF)throw R}t.cellStyles&&n.themes.length&&(c=mve(Do(e,n.themes[0].replace(/^\//,""),!0)||"",n.themes[0],t)),n.style&&(d=fve(Ln(e,rc(n.style)),n.style,c,t))}n.links.map(function(R){try{var K=x1(Do(e,Q1(rc(R))),R);return vve(Ln(e,rc(R)),K,R,t)}catch{}});var u=ove(Ln(e,rc(n.workbooks[0])),n.workbooks[0],t),f={},x="";n.coreprops.length&&(x=Ln(e,rc(n.coreprops[0]),!0),x&&(f=gH(x)),n.extprops.length!==0&&(x=Ln(e,rc(n.extprops[0]),!0),x&&Zue(x,f,t)));var m={};(!t.bookSheets||t.bookProps)&&n.custprops.length!==0&&(x=Do(e,rc(n.custprops[0]),!0),x&&(m=the(x,t)));var g={};if((t.bookSheets||t.bookProps)&&(u.Sheets?l=u.Sheets.map(function(K){return K.name}):f.Worksheets&&f.SheetNames.length>0&&(l=f.SheetNames),t.bookProps&&(g.Props=f,g.Custprops=m),t.bookSheets&&typeof l<"u"&&(g.SheetNames=l),t.bookSheets?g.SheetNames:t.bookProps))return g;l={};var v={};t.bookDeps&&n.calcchain&&(v=gve(Ln(e,rc(n.calcchain)),n.calcchain));var b=0,j={},S,k;{var N=u.Sheets;f.Worksheets=N.length,f.SheetNames=[];for(var A=0;A!=N.length;++A)f.SheetNames[A]=N[A].name}var _=i?"bin":"xml",D=n.workbooks[0].lastIndexOf("/"),P=(n.workbooks[0].slice(0,D+1)+"_rels/"+n.workbooks[0].slice(D+1)+".rels").replace(/^\//,"");hc(e,P)||(P="xl/_rels/workbook."+_+".rels");var I=x1(Do(e,P,!0),P.replace(/_rels.*/,"s5s"));(n.metadata||[]).length>=1&&(t.xlmeta=bve(Ln(e,rc(n.metadata[0])),n.metadata[0],t)),(n.people||[]).length>=1&&(t.people=epe(Ln(e,rc(n.people[0])),t)),I&&(I=$be(I,u.Sheets));var B=Ln(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(b=0;b!=f.Worksheets;++b){var O="sheet";if(I&&I[b]?(S="xl/"+I[b][1].replace(/[\/]?xl\//,""),hc(e,S)||(S=I[b][1]),hc(e,S)||(S=P.replace(/_rels\/.*$/,"")+I[b][1]),O=I[b][2]):(S="xl/worksheets/sheet"+(b+1-B)+"."+_,S=S.replace(/sheet0\./,"sheet.")),k=S.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(b!=t.sheets)continue e;break;case"string":if(f.SheetNames[b].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var U=!1,E=0;E!=t.sheets.length;++E)typeof t.sheets[E]=="number"&&t.sheets[E]==b&&(U=1),typeof t.sheets[E]=="string"&&t.sheets[E].toLowerCase()==f.SheetNames[b].toLowerCase()&&(U=1);if(!U)continue e}}Ube(e,S,k,f.SheetNames[b],b,j,l,O,t,u,c,d)}return g={Directory:n,Workbook:u,Props:f,Custprops:m,Deps:v,Sheets:l,SheetNames:f.SheetNames,Strings:g1,Styles:d,Themes:c,SSF:xs(Ea)},t&&t.bookFiles&&(e.files?(g.keys=s,g.files=e.files):(g.keys=[],g.files={},e.FullPaths.forEach(function(R,K){R=R.replace(/^Root Entry[\/]/,""),g.keys.push(R),g.files[R]=e.FileIndex[K]}))),t&&t.bookVBA&&(n.vba.length>0?g.vbaraw=Ln(e,rc(n.vba[0]),!0):n.defaults&&n.defaults.bin===ope&&(g.vbaraw=Ln(e,"xl/vbaProject.bin",!0))),g}function zbe(e,t){var a=t||{},s="Workbook",n=Na.find(e,s);try{if(s="/!DataSpaces/Version",n=Na.find(e,s),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+s);if(b0e(n.content),s="/!DataSpaces/DataSpaceMap",n=Na.find(e,s),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+s);var i=w0e(n.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+s);if(s="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",n=Na.find(e,s),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+s);var l=j0e(n.content);if(l.length!=1||l[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+s);if(s="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",n=Na.find(e,s),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+s);S0e(n.content)}catch{}if(s="/EncryptionInfo",n=Na.find(e,s),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+s);var o=k0e(n.content);if(s="/EncryptedPackage",n=Na.find(e,s),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+s);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],n.content,a.password||"",a);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],n.content,a.password||"",a);throw new Error("File is password-protected")}function Hbe(e,t){return t.bookType=="ods"?AV(e,t):t.bookType=="numbers"?Ibe(e,t):t.bookType=="xlsb"?Vbe(e,t):Wbe(e,t)}function Vbe(e,t){Ip=1024,e&&!e.SSF&&(e.SSF=xs(Ea)),e&&e.SSF&&(kx(),Vj(e.SSF),t.revssf=qj(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,v1?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var a=t.bookType=="xlsb"?"bin":"xml",s=aV.indexOf(t.bookType)>-1,n=FA();ZA(t=t||{});var i=NA(),l="",o=0;if(t.cellXfs=[],Wf(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",ar(i,l,vH(e.Props,t)),n.coreprops.push(l),Ur(t.rels,2,l,or.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,ar(i,l,wH(e.Props)),n.extprops.push(l),Ur(t.rels,3,l,or.EXT_PROPS),e.Custprops!==e.Props&&tn(e.Custprops||{}).length>0&&(l="docProps/custom.xml",ar(i,l,jH(e.Custprops)),n.custprops.push(l),Ur(t.rels,4,l,or.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var u={"!id":{}},f=e.Sheets[e.SheetNames[o-1]],x=(f||{})["!type"]||"sheet";switch(x){case"chart":default:l="xl/worksheets/sheet"+o+"."+a,ar(i,l,wve(o-1,l,t,e,u)),n.sheets.push(l),Ur(t.wbrels,-1,"worksheets/sheet"+o+"."+a,or.WS[0])}if(f){var m=f["!comments"],g=!1,v="";m&&m.length>0&&(v="xl/comments"+o+"."+a,ar(i,v,Sve(m,v)),n.comments.push(v),Ur(u,-1,"../comments"+o+"."+a,or.CMNT),g=!0),f["!legacy"]&&g&&ar(i,"xl/drawings/vmlDrawing"+o+".vml",eV(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}u["!id"].rId1&&ar(i,Q1(l),Gp(u))}return t.Strings!=null&&t.Strings.length>0&&(l="xl/sharedStrings."+a,ar(i,l,Nve(t.Strings,l,t)),n.strs.push(l),Ur(t.wbrels,-1,"sharedStrings."+a,or.SST)),l="xl/workbook."+a,ar(i,l,yve(e,l)),n.workbooks.push(l),Ur(t.rels,1,l,or.WB),l="xl/theme/theme1.xml",ar(i,l,HA(e.Themes,t)),n.themes.push(l),Ur(t.wbrels,-1,"theme/theme1.xml",or.THEME),l="xl/styles."+a,ar(i,l,jve(e,l,t)),n.styles.push(l),Ur(t.wbrels,-1,"styles."+a,or.STY),e.vbaraw&&s&&(l="xl/vbaProject.bin",ar(i,l,e.vbaraw),n.vba.push(l),Ur(t.wbrels,-1,"vbaProject.bin",or.VBA)),l="xl/metadata."+a,ar(i,l,kve(l)),n.metadata.push(l),Ur(t.wbrels,-1,"metadata."+a,or.XLMETA),ar(i,"[Content_Types].xml",pH(n,t)),ar(i,"_rels/.rels",Gp(t.rels)),ar(i,"xl/_rels/workbook."+a+".rels",Gp(t.wbrels)),delete t.revssf,delete t.ssf,i}function Wbe(e,t){Ip=1024,e&&!e.SSF&&(e.SSF=xs(Ea)),e&&e.SSF&&(kx(),Vj(e.SSF),t.revssf=qj(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,v1?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var a="xml",s=aV.indexOf(t.bookType)>-1,n=FA();ZA(t=t||{});var i=NA(),l="",o=0;if(t.cellXfs=[],Wf(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",ar(i,l,vH(e.Props,t)),n.coreprops.push(l),Ur(t.rels,2,l,or.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,ar(i,l,wH(e.Props)),n.extprops.push(l),Ur(t.rels,3,l,or.EXT_PROPS),e.Custprops!==e.Props&&tn(e.Custprops||{}).length>0&&(l="docProps/custom.xml",ar(i,l,jH(e.Custprops)),n.custprops.push(l),Ur(t.rels,4,l,or.CUST_PROPS));var u=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var f={"!id":{}},x=e.Sheets[e.SheetNames[o-1]],m=(x||{})["!type"]||"sheet";switch(m){case"chart":default:l="xl/worksheets/sheet"+o+"."+a,ar(i,l,fV(o-1,t,e,f)),n.sheets.push(l),Ur(t.wbrels,-1,"worksheets/sheet"+o+"."+a,or.WS[0])}if(x){var g=x["!comments"],v=!1,b="";if(g&&g.length>0){var j=!1;g.forEach(function(S){S[1].forEach(function(k){k.T==!0&&(j=!0)})}),j&&(b="xl/threadedComments/threadedComment"+o+"."+a,ar(i,b,Zme(g,u,t)),n.threadedcomments.push(b),Ur(f,-1,"../threadedComments/threadedComment"+o+"."+a,or.TCMNT)),b="xl/comments"+o+"."+a,ar(i,b,tV(g)),n.comments.push(b),Ur(f,-1,"../comments"+o+"."+a,or.CMNT),v=!0}x["!legacy"]&&v&&ar(i,"xl/drawings/vmlDrawing"+o+".vml",eV(o,x["!comments"])),delete x["!comments"],delete x["!legacy"]}f["!id"].rId1&&ar(i,Q1(l),Gp(f))}return t.Strings!=null&&t.Strings.length>0&&(l="xl/sharedStrings."+a,ar(i,l,zH(t.Strings,t)),n.strs.push(l),Ur(t.wbrels,-1,"sharedStrings."+a,or.SST)),l="xl/workbook."+a,ar(i,l,vV(e)),n.workbooks.push(l),Ur(t.rels,1,l,or.WB),l="xl/theme/theme1.xml",ar(i,l,HA(e.Themes,t)),n.themes.push(l),Ur(t.wbrels,-1,"theme/theme1.xml",or.THEME),l="xl/styles."+a,ar(i,l,XH(e,t)),n.styles.push(l),Ur(t.wbrels,-1,"styles."+a,or.STY),e.vbaraw&&s&&(l="xl/vbaProject.bin",ar(i,l,e.vbaraw),n.vba.push(l),Ur(t.wbrels,-1,"vbaProject.bin",or.VBA)),l="xl/metadata."+a,ar(i,l,ZH()),n.metadata.push(l),Ur(t.wbrels,-1,"metadata."+a,or.XLMETA),u.length>1&&(l="xl/persons/person.xml",ar(i,l,tpe(u)),n.people.push(l),Ur(t.wbrels,-1,"persons/person.xml",or.PEOPLE)),ar(i,"[Content_Types].xml",pH(n,t)),ar(i,"_rels/.rels",Gp(t.rels)),ar(i,"xl/_rels/workbook."+a+".rels",Gp(t.wbrels)),delete t.revssf,delete t.ssf,i}function e8(e,t){var a="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":a=Oo(e.slice(0,12));break;case"binary":a=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[a.charCodeAt(0),a.charCodeAt(1),a.charCodeAt(2),a.charCodeAt(3),a.charCodeAt(4),a.charCodeAt(5),a.charCodeAt(6),a.charCodeAt(7)]}function qbe(e,t){return Na.find(e,"EncryptedPackage")?zbe(e,t):XA(e,t)}function Gbe(e,t){var a,s=e,n=t||{};return n.type||(n.type=nr&&Buffer.isBuffer(e)?"buffer":"base64"),a=Vz(s,n),TV(a,n)}function EV(e,t){var a=0;e:for(;a<e.length;)switch(e.charCodeAt(a)){case 10:case 13:case 32:++a;break;case 60:return Zk(e.slice(a),t);default:break e}return lx.to_workbook(e,t)}function Kbe(e,t){var a="",s=e8(e,t);switch(t.type){case"base64":a=Oo(e);break;case"binary":a=e;break;case"buffer":a=e.toString("binary");break;case"array":a=hm(e);break;default:throw new Error("Unrecognized type "+t.type)}return s[0]==239&&s[1]==187&&s[2]==191&&(a=Jr(a)),t.type="binary",EV(a,t)}function Ybe(e,t){var a=e;return t.type=="base64"&&(a=Oo(a)),a=q1.utils.decode(1200,a.slice(2),"str"),t.type="binary",EV(a,t)}function Xbe(e){return e.match(/[^\x00-\x7F]/)?Yd(e):e}function $5(e,t,a,s){return s?(a.type="string",lx.to_workbook(e,a)):lx.to_workbook(t,a)}function gm(e,t){vA();var a=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return gm(new Uint8Array(e),(a=xs(a),a.type="array",a));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!a.type&&(a.type=typeof Deno<"u"?"buffer":"array");var s=e,n=[0,0,0,0],i=!1;if(a.cellStyles&&(a.cellNF=!0,a.sheetStubs=!0),Yp={},a.dateNF&&(Yp.dateNF=a.dateNF),a.type||(a.type=nr&&Buffer.isBuffer(e)?"buffer":"base64"),a.type=="file"&&(a.type=nr?"buffer":"binary",s=Wde(e),typeof Uint8Array<"u"&&!nr&&(a.type="array")),a.type=="string"&&(i=!0,a.type="binary",a.codepage=65001,s=Xbe(e)),a.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var l=new ArrayBuffer(3),o=new Uint8Array(l);if(o.foo="bar",!o.foo)return a=xs(a),a.type="array",gm(bA(s),a)}switch((n=e8(s,a))[0]){case 208:if(n[1]===207&&n[2]===17&&n[3]===224&&n[4]===161&&n[5]===177&&n[6]===26&&n[7]===225)return qbe(Na.read(s,a),a);break;case 9:if(n[1]<=8)return XA(s,a);break;case 60:return Zk(s,a);case 73:if(n[1]===73&&n[2]===42&&n[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(n[1]===68)return a0e(s,a);break;case 84:if(n[1]===65&&n[2]===66&&n[3]===76)return $H.to_workbook(s,a);break;case 80:return n[1]===75&&n[2]<9&&n[3]<9?Gbe(s,a):$5(e,s,a,i);case 239:return n[3]===60?Zk(s,a):$5(e,s,a,i);case 255:if(n[1]===254)return Ybe(s,a);if(n[1]===0&&n[2]===2&&n[3]===0)return X0.to_workbook(s,a);break;case 0:if(n[1]===0&&(n[2]>=2&&n[3]===0||n[2]===0&&(n[3]===8||n[3]===9)))return X0.to_workbook(s,a);break;case 3:case 131:case 139:case 140:return Qk.to_workbook(s,a);case 123:if(n[1]===92&&n[2]===114&&n[3]===116)return GH.to_workbook(s,a);break;case 10:case 13:case 32:return Kbe(s,a);case 137:if(n[1]===80&&n[2]===78&&n[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return t0e.indexOf(n[0])>-1&&n[2]<=12&&n[3]<=31?Qk.to_workbook(s,a):$5(e,s,a,i)}function DV(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Uv(t.file,Na.write(e,{type:nr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Na.write(e,t)}function Jbe(e,t){var a=xs(t||{}),s=Hbe(e,a);return Qbe(s,a)}function Qbe(e,t){var a={},s=nr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(a.compression="DEFLATE"),t.password)a.type=s;else switch(t.type){case"base64":a.type="base64";break;case"binary":a.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":a.type=s;break;default:throw new Error("Unrecognized type "+t.type)}var n=e.FullPaths?Na.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[a.type]||a.type,compression:!!t.compression}):e.generate(a);if(typeof Deno<"u"&&typeof n=="string"){if(t.type=="binary"||t.type=="base64")return n;n=new Uint8Array(Hj(n))}return t.password&&typeof encrypt_agile<"u"?DV(encrypt_agile(n,t.password),t):t.type==="file"?Uv(t.file,n):t.type=="string"?Jr(n):n}function Zbe(e,t){var a=t||{},s=Jve(e,a);return DV(s,a)}function qd(e,t,a){a||(a="");var s=a+e;switch(t.type){case"base64":return G1(Yd(s));case"binary":return Yd(s);case"string":return e;case"file":return Uv(t.file,s,"utf8");case"buffer":return nr?yh(s,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(s):qd(s,{type:"binary"}).split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function eye(e,t){switch(t.type){case"base64":return G1(e);case"binary":return e;case"string":return e;case"file":return Uv(t.file,e,"binary");case"buffer":return nr?yh(e,"binary"):e.split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Wy(e,t){switch(t.type){case"string":case"base64":case"binary":for(var a="",s=0;s<e.length;++s)a+=String.fromCharCode(e[s]);return t.type=="base64"?G1(a):t.type=="string"?Jr(a):a;case"file":return Uv(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function t8(e,t){vA(),G1e(e);var a=xs(t||{});if(a.cellStyles&&(a.cellNF=!0,a.sheetStubs=!0),a.type=="array"){a.type="binary";var s=t8(e,a);return a.type="array",Hj(s)}var n=0;if(a.sheet&&(typeof a.sheet=="number"?n=a.sheet:n=e.SheetNames.indexOf(a.sheet),!e.SheetNames[n]))throw new Error("Sheet not found: "+a.sheet+" : "+typeof a.sheet);switch(a.bookType||"xlsb"){case"xml":case"xlml":return qd(Vve(e,a),a);case"slk":case"sylk":return qd(BH.from_sheet(e.Sheets[e.SheetNames[n]],a),a);case"htm":case"html":return qd(NV(e.Sheets[e.SheetNames[n]],a),a);case"txt":return eye(MV(e.Sheets[e.SheetNames[n]],a),a);case"csv":return qd(a8(e.Sheets[e.SheetNames[n]],a),a,"\uFEFF");case"dif":return qd($H.from_sheet(e.Sheets[e.SheetNames[n]],a),a);case"dbf":return Wy(Qk.from_sheet(e.Sheets[e.SheetNames[n]],a),a);case"prn":return qd(lx.from_sheet(e.Sheets[e.SheetNames[n]],a),a);case"rtf":return qd(GH.from_sheet(e.Sheets[e.SheetNames[n]],a),a);case"eth":return qd(UH.from_sheet(e.Sheets[e.SheetNames[n]],a),a);case"fods":return qd(AV(e,a),a);case"wk1":return Wy(X0.sheet_to_wk1(e.Sheets[e.SheetNames[n]],a),a);case"wk3":return Wy(X0.book_to_wk3(e,a),a);case"biff2":a.biff||(a.biff=2);case"biff3":a.biff||(a.biff=3);case"biff4":return a.biff||(a.biff=4),Wy(jV(e,a),a);case"biff5":a.biff||(a.biff=5);case"biff8":case"xla":case"xls":return a.biff||(a.biff=8),Zbe(e,a);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Jbe(e,a);default:throw new Error("Unrecognized bookType |"+a.bookType+"|")}}function tye(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},a=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();a.match(/^\.[a-z]+$/)&&(e.bookType=a.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function gs(e,t,a){var s={};return s.type="file",s.file=t,tye(s),t8(e,s)}function aye(e,t,a,s,n,i,l,o){var c=Sn(a),d=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,x=n===1?[]:{};if(n!==1)if(Object.defineProperty)try{Object.defineProperty(x,"__rowNum__",{value:a,enumerable:!1})}catch{x.__rowNum__=a}else x.__rowNum__=a;if(!l||e[a])for(var m=t.s.c;m<=t.e.c;++m){var g=l?e[a][m]:e[s[m]+c];if(g===void 0||g.t===void 0){if(d===void 0)continue;i[m]!=null&&(x[i[m]]=d);continue}var v=g.v;switch(g.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(i[m]!=null){if(v==null)if(g.t=="e"&&v===null)x[i[m]]=null;else if(d!==void 0)x[i[m]]=d;else if(u&&v===null)x[i[m]]=null;else continue;else x[i[m]]=u&&(g.t!=="n"||g.t==="n"&&o.rawNumbers!==!1)?v:ch(g,v,o);v!=null&&(f=!1)}}return{row:x,isempty:f}}function pw(e,t){if(e==null||e["!ref"]==null)return[];var a={t:"n",v:0},s=0,n=1,i=[],l=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},d=t||{},u=d.range!=null?d.range:e["!ref"];switch(d.header===1?s=1:d.header==="A"?s=2:Array.isArray(d.header)?s=3:d.header==null&&(s=0),typeof u){case"string":c=Cr(u);break;case"number":c=Cr(e["!ref"]),c.s.r=u;break;default:c=u}s>0&&(n=0);var f=Sn(c.s.r),x=[],m=[],g=0,v=0,b=Array.isArray(e),j=c.s.r,S=0,k={};b&&!e[j]&&(e[j]=[]);var N=d.skipHidden&&e["!cols"]||[],A=d.skipHidden&&e["!rows"]||[];for(S=c.s.c;S<=c.e.c;++S)if(!(N[S]||{}).hidden)switch(x[S]=Hs(S),a=b?e[j][S]:e[x[S]+f],s){case 1:i[S]=S-c.s.c;break;case 2:i[S]=x[S];break;case 3:i[S]=d.header[S-c.s.c];break;default:if(a==null&&(a={w:"__EMPTY",t:"s"}),o=l=ch(a,null,d),v=k[l]||0,!v)k[l]=1;else{do o=l+"_"+v++;while(k[o]);k[l]=v,k[o]=1}i[S]=o}for(j=c.s.r+n;j<=c.e.r;++j)if(!(A[j]||{}).hidden){var _=aye(e,c,j,x,s,i,b,d);(_.isempty===!1||(s===1?d.blankrows!==!1:d.blankrows))&&(m[g++]=_.row)}return m.length=g,m}var JP=/"/g;function rye(e,t,a,s,n,i,l,o){for(var c=!0,d=[],u="",f=Sn(a),x=t.s.c;x<=t.e.c;++x)if(s[x]){var m=o.dense?(e[a]||[])[x]:e[s[x]+f];if(m==null)u="";else if(m.v!=null){c=!1,u=""+(o.rawNumbers&&m.t=="n"?m.v:ch(m,null,o));for(var g=0,v=0;g!==u.length;++g)if((v=u.charCodeAt(g))===n||v===i||v===34||o.forceQuotes){u='"'+u.replace(JP,'""')+'"';break}u=="ID"&&(u='"ID"')}else m.f!=null&&!m.F?(c=!1,u="="+m.f,u.indexOf(",")>=0&&(u='"'+u.replace(JP,'""')+'"')):u="";d.push(u)}return o.blankrows===!1&&c?null:d.join(l)}function a8(e,t){var a=[],s=t??{};if(e==null||e["!ref"]==null)return"";var n=Cr(e["!ref"]),i=s.FS!==void 0?s.FS:",",l=i.charCodeAt(0),o=s.RS!==void 0?s.RS:`
`,c=o.charCodeAt(0),d=new RegExp((i=="|"?"\\|":i)+"+$"),u="",f=[];s.dense=Array.isArray(e);for(var x=s.skipHidden&&e["!cols"]||[],m=s.skipHidden&&e["!rows"]||[],g=n.s.c;g<=n.e.c;++g)(x[g]||{}).hidden||(f[g]=Hs(g));for(var v=0,b=n.s.r;b<=n.e.r;++b)(m[b]||{}).hidden||(u=rye(e,n,b,f,l,c,i,s),u!=null&&(s.strip&&(u=u.replace(d,"")),(u||s.blankrows!==!1)&&a.push((v++?o:"")+u)));return delete s.dense,a.join("")}function MV(e,t){t||(t={}),t.FS="	",t.RS=`
`;var a=a8(e,t);return a}function sye(e){var t="",a,s="";if(e==null||e["!ref"]==null)return[];var n=Cr(e["!ref"]),i="",l=[],o,c=[],d=Array.isArray(e);for(o=n.s.c;o<=n.e.c;++o)l[o]=Hs(o);for(var u=n.s.r;u<=n.e.r;++u)for(i=Sn(u),o=n.s.c;o<=n.e.c;++o)if(t=l[o]+i,a=d?(e[u]||[])[o]:e[t],s="",a!==void 0){if(a.F!=null){if(t=a.F,!a.f)continue;s=a.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(a.f!=null)s=a.f;else{if(a.t=="z")continue;if(a.t=="n"&&a.v!=null)s=""+a.v;else if(a.t=="b")s=a.v?"TRUE":"FALSE";else if(a.w!==void 0)s="'"+a.w;else{if(a.v===void 0)continue;a.t=="s"?s="'"+a.v:s=""+a.v}}c[c.length]=t+"="+s}return c}function PV(e,t,a){var s=a||{},n=+!s.skipHeader,i=e||{},l=0,o=0;if(i&&s.origin!=null)if(typeof s.origin=="number")l=s.origin;else{var c=typeof s.origin=="string"?Vs(s.origin):s.origin;l=c.r,o=c.c}var d,u={s:{c:0,r:0},e:{c:o,r:l+t.length-1+n}};if(i["!ref"]){var f=Cr(i["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),l==-1&&(l=f.e.r+1,u.e.r=l+t.length-1+n)}else l==-1&&(l=0,u.e.r=t.length-1+n);var x=s.header||[],m=0;t.forEach(function(v,b){tn(v).forEach(function(j){(m=x.indexOf(j))==-1&&(x[m=x.length]=j);var S=v[j],k="z",N="",A=Da({c:o+m,r:l+b+n});d=nv(i,A),S&&typeof S=="object"&&!(S instanceof Date)?i[A]=S:(typeof S=="number"?k="n":typeof S=="boolean"?k="b":typeof S=="string"?k="s":S instanceof Date?(k="d",s.cellDates||(k="n",S=ei(S)),N=s.dateNF||Ea[14]):S===null&&s.nullError&&(k="e",S=0),d?(d.t=k,d.v=S,delete d.w,delete d.R,N&&(d.z=N)):i[A]=d={t:k,v:S},N&&(d.z=N))})}),u.e.c=Math.max(u.e.c,o+x.length-1);var g=Sn(l);if(n)for(m=0;m<x.length;++m)i[Hs(m+o)+g]={t:"s",v:x[m]};return i["!ref"]=Qa(u),i}function nye(e,t){return PV(null,e,t)}function nv(e,t,a){if(typeof t=="string"){if(Array.isArray(e)){var s=Vs(t);return e[s.r]||(e[s.r]=[]),e[s.r][s.c]||(e[s.r][s.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?nv(e,Da(t)):nv(e,Da({r:t,c:a||0}))}function iye(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var a=e.SheetNames.indexOf(t);if(a>-1)return a;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function r8(){return{SheetNames:[],Sheets:{}}}function s8(e,t,a,s){var n=1;if(!a)for(;n<=65535&&e.SheetNames.indexOf(a="Sheet"+n)!=-1;++n,a=void 0);if(!a||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(s&&e.SheetNames.indexOf(a)>=0){var i=a.match(/(^.*?)(\d+)$/);n=i&&+i[2]||0;var l=i&&i[1]||a;for(++n;n<=65535&&e.SheetNames.indexOf(a=l+n)!=-1;++n);}if(gV(a),e.SheetNames.indexOf(a)>=0)throw new Error("Worksheet with name |"+a+"| already exists!");return e.SheetNames.push(a),e.Sheets[a]=t,a}function lye(e,t,a){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var s=iye(e,t);switch(e.Workbook.Sheets[s]||(e.Workbook.Sheets[s]={}),a){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+a)}e.Workbook.Sheets[s].Hidden=a}function oye(e,t){return e.z=t,e}function LV(e,t,a){return t?(e.l={Target:t},a&&(e.l.Tooltip=a)):delete e.l,e}function cye(e,t,a){return LV(e,"#"+t,a)}function dye(e,t,a){e.c||(e.c=[]),e.c.push({t,a:a||"SheetJS"})}function uye(e,t,a,s){for(var n=typeof t!="string"?t:Cr(t),i=typeof t=="string"?t:Qa(t),l=n.s.r;l<=n.e.r;++l)for(var o=n.s.c;o<=n.e.c;++o){var c=nv(e,l,o);c.t="n",c.F=i,delete c.v,l==n.s.r&&o==n.s.c&&(c.f=a,s&&(c.D=!0))}return e}var Jt={encode_col:Hs,encode_row:Sn,encode_cell:Da,encode_range:Qa,decode_col:DA,decode_row:EA,split_cell:Nue,decode_cell:Vs,decode_range:so,format_cell:ch,sheet_add_aoa:oH,sheet_add_json:PV,sheet_add_dom:SV,aoa_to_sheet:Cx,json_to_sheet:nye,table_to_sheet:kV,table_to_book:bbe,sheet_to_csv:a8,sheet_to_txt:MV,sheet_to_json:pw,sheet_to_html:NV,sheet_to_formulae:sye,sheet_to_row_object_array:pw,sheet_get_cell:nv,book_new:r8,book_append_sheet:s8,book_set_sheet_visibility:lye,cell_set_number_format:oye,cell_set_hyperlink:LV,cell_set_internal_link:cye,cell_add_comment:dye,sheet_set_array_formula:uye,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const OV=Object.freeze(Object.defineProperty({__proto__:null,CFB:Na,parse_xlscfb:XA,parse_zip:TV,read:gm,utils:Jt,write:t8,writeFile:gs,writeFileSync:gs},Symbol.toStringTag,{value:"Module"})),hye=({isOpen:e,onClose:t,excelFile:a,setExcelFile:s,importing:n,importError:i,importSummary:l,onImport:o})=>{const{t:c,i18n:d}=Dt(),u=()=>{const m=[{LEAD:" ",Email:"ahmed@example.com",Phone:"01234567890",Company:" ",Status:"new",Priority:"medium",Source:"website","Assigned To":" ","Created At":"2024-01-01","Last Contact":"2024-01-01","Estimated Value":"10000",Probability:"50",Notes:" "}],g=Jt.json_to_sheet(m),v=Jt.book_new();Jt.book_append_sheet(v,g,"Leads Template"),gs(v,"leads_template.xlsx")},f=m=>new Promise((g,v)=>{const b=new FileReader;b.onload=j=>{try{const S=new Uint8Array(j.target.result),k=gm(S,{type:"array"}),N=k.SheetNames[0],A=k.Sheets[N],_=Jt.sheet_to_json(A,{header:1});if(_.length===0){v(new Error(" "));return}const D=_[0].map(B=>B?.toString()?.toLowerCase()?.trim()),P=["lead","email","phone"],I=[];P.forEach(B=>{D.some(U=>U.includes(B)||U.includes("name")&&B==="lead"||U.includes("")&&B==="lead"||U.includes("")&&B==="email"||U.includes("")&&B==="phone")||I.push(B)}),I.length>0?v(new Error(`  : ${I.join(", ")}`)):g(!0)}catch{v(new Error("   "))}},b.readAsArrayBuffer(m)}),x=async m=>{if(m)try{await f(m),s(m)}catch(g){alert(g.message)}};return e?r.jsxs("div",{className:`fixed inset-0 z-[2000] ${d.language==="ar"?"rtl":"ltr"} flex items-center justify-center`,children:[r.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:t}),r.jsxs("div",{className:"relative max-w-2xl w-full mx-4 rounded-2xl bg-white dark:bg-gray-800 shadow-2xl border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-9 h-9 flex items-center justify-center rounded-xl bg-blue-600 text-white shadow-md",children:r.jsx(eh,{className:"w-4 h-4"})}),r.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:c("import.title")})]}),r.jsx("button",{onClick:t,className:"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":c("Close"),children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-5 h-5",children:[r.jsx("path",{d:"M18 6L6 18"}),r.jsx("path",{d:"M6 6l12 12"})]})})]}),r.jsxs("div",{className:"px-6 py-6",children:[r.jsxs("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-200 dark:border-blue-800",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(JU,{className:"w-5 h-5 text-green-600"}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:c("template.downloadExcel")}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:c("template.downloadDescription")})]})]}),r.jsxs("button",{onClick:u,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-green-600 hover:bg-green-700 text-white text-sm font-medium transition-colors duration-200",children:[r.jsx(eh,{className:"w-3 h-3"}),c("template.downloadButton")]})]}),r.jsxs("div",{className:"mt-3 text-xs text-gray-500 dark:text-gray-400",children:[r.jsx("strong",{children:c("template.requiredFields")})," LEAD, Email, Phone"]})]}),r.jsxs("div",{className:"group relative flex flex-col items-center justify-center gap-3 p-6 rounded-2xl border-2 border-dashed border-blue-300 dark:border-blue-600 bg-white/70 dark:bg-gray-800/60 hover:bg-white dark:hover:bg-gray-800 transition-colors duration-300",onDragOver:m=>m.preventDefault(),onDrop:async m=>{m.preventDefault();const g=m.dataTransfer.files?.[0];g&&/\.xlsx$|\.xls$/i.test(g.name)&&await x(g)},children:[r.jsx("svg",{className:"w-10 h-10 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16V4m0 0l-3 3m3-3l3 3m7 4v12m0 0l-3-3m3 3l3-3"})}),r.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 text-center",children:c("import.dropzone")}),r.jsx("input",{id:"modal-excel-file-input",type:"file",accept:".xlsx,.xls",onChange:async m=>{const g=m.target.files?.[0]||null;g?await x(g):s(null)},className:"hidden"}),r.jsx("button",{type:"button",onClick:()=>document.getElementById("modal-excel-file-input")?.click(),className:"px-4 py-2 rounded-md text-sm font-semibold bg-blue-50 text-blue-700 hover:bg-blue-100 dark:bg-gray-700 dark:text-gray-200",children:c("import.browseButton")}),a?r.jsx("div",{className:"mt-2 text-xs text-gray-600 dark:text-gray-400",children:c("import.selectedFile",{file:a.name})}):r.jsx("div",{className:"mt-2 text-xs text-gray-600 dark:text-gray-400",children:c("import.noFileSelected")})]}),r.jsxs("div",{className:"mt-5 flex flex-col sm:flex-row gap-3 sm:items-center",children:[r.jsxs("button",{onClick:o,disabled:!a||n,className:`inline-flex items-center gap-2 px-5 py-3 rounded-xl text-sm font-bold ${n?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} text-white shadow-md transition-colors duration-300`,children:[r.jsx(eh,{className:"w-4 h-4"}),c(n?"import.importing":"import.importButton")]}),r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:c("import.supportedFiles")})]}),i&&r.jsx("div",{className:"mt-4 px-4 py-3 rounded-lg bg-red-50 text-red-700 border border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800",children:c(i)}),l&&r.jsx("div",{className:"mt-4 px-4 py-3 rounded-lg bg-green-50 text-green-700 border border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800",children:c("import.summary",{count:l.added})}),r.jsx("div",{className:"mt-3 text-xs text-gray-500 dark:text-gray-400",children:c("import.supportedFields")})]}),r.jsx("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-700 flex justify-end",children:r.jsx("button",{onClick:t,className:"px-4 py-2 rounded-md bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-sm",children:c("Close")})})]})]}):null},RV=({columns:e,visibleColumns:t,onColumnToggle:a,onResetColumns:s})=>{const{t:n}=Dt(),[i,l]=w.useState(!1),[o,c]=w.useState(""),d=w.useRef(null);return w.useEffect(()=>{const u=f=>{d.current&&!d.current.contains(f.target)&&l(!1)};return document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}},[]),r.jsxs("div",{className:"relative",ref:d,children:[r.jsxs("button",{onClick:()=>l(!i),className:"inline-flex items-center gap-2 px-3 py-2 rounded-md bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500","aria-expanded":i,"aria-label":n("Display Options"),title:n("Display Options"),children:[r.jsx(eoe,{className:"h-5 w-5"}),r.jsx("span",{className:"text-sm font-medium",children:n("Display Options")})]}),i&&r.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-72 rounded-lg shadow-xl bg-[var(--panel-bg)] text-[var(--content-text)] ring-1 ring-[var(--panel-border)] z-50",children:r.jsxs("div",{className:"p-3 space-y-3",role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"text-sm font-semibold",children:n("Show/Hide Columns")}),s&&r.jsxs("button",{type:"button",onClick:s,className:"inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs bg-[var(--table-header-bg)] hover:bg-[var(--table-row-hover)] text-[var(--content-text)]",title:n("Reset Columns"),children:[r.jsx(moe,{className:"h-3 w-3"}),n("Reset Columns")]})]}),r.jsx("input",{type:"text",value:o,onChange:u=>c(u.target.value),placeholder:n("Search columns..."),className:"w-full px-3 py-2 text-sm rounded-md border border-[var(--panel-border)] bg-[var(--panel-bg)] text-[var(--content-text)] focus:outline-none focus:ring-2 focus:ring-blue-500"}),r.jsx("div",{className:"max-h-64 overflow-y-auto divide-y divide-[var(--divider)]",children:Object.keys(e).filter(u=>e[u].toLowerCase().includes(o.toLowerCase())).map(u=>r.jsxs("label",{className:"flex items-center gap-3 px-2 py-2 text-sm hover:bg-[var(--table-row-hover)] cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 dark:border-gray-600 text-blue-600 focus:ring-blue-500",checked:t[u],onChange:()=>a(u)}),r.jsx("span",{children:e[u]})]},u))})]})})]})},fye=()=>{const{t:e,i18n:t}=Dt(),{theme:a}=Vi(),s=ti(),{stages:n,statuses:i}=Ov(),[l,o]=w.useState([]),[c,d]=w.useState([]),[u,f]=w.useState(""),[x,m]=w.useState("all"),[g,v]=w.useState("all"),[b,j]=w.useState("all"),[S,k]=w.useState("all"),[N,A]=w.useState("all"),[_,D]=w.useState("all"),[P,I]=w.useState("all"),[B,O]=w.useState("all"),[U,E]=w.useState(""),[R,K]=w.useState(""),[V,Z]=w.useState(""),[J,ee]=w.useState("all"),[W,le]=w.useState(""),[M,X]=w.useState("all"),[z,Q]=w.useState("all"),[ne,re]=w.useState(""),[oe,q]=w.useState(""),[ie,ye]=w.useState("all"),[Y,ce]=w.useState("all"),[he,ue]=w.useState("all"),[Fe,Ue]=w.useState("createdAt"),[Te,ae]=w.useState("desc"),[De,Ce]=w.useState([]),[at,ft]=w.useState(!1),[zt,st]=w.useState(null),[$e,qe]=w.useState(1),[ct,dt]=w.useState(20),[Nt,Ct]=w.useState(""),[Lt,Ht]=w.useState(1),[Vt,Ne]=w.useState(1),[Mt,Ee]=w.useState(!1),[ze,We]=w.useState(null),[xt,gt]=w.useState(null),[sa,Zt]=w.useState(!1),[ka,ut]=w.useState(""),[ta,va]=w.useState(null),[pa,Ae]=w.useState(!1),[na,Za]=w.useState([]),Ka=Cc();w.useEffect(()=>{try{const wt=new URLSearchParams(Ka.search||"").get("stage");wt&&A(wt)}catch{}},[Ka.search]);const[rr,$a]=w.useState(null),[Ua,pe]=w.useState({x:0,y:0}),[Me,we]=w.useState(!1),Se=w.useRef(null),[_e,Oe]=w.useState(!1),Ze=w.useRef(null),pt=(Ie=10)=>{const wt=l.reduce((es,Ar)=>Math.max(es,Number(Ar?.id)||0),0),ea=n&&n.length>0?n.map(es=>typeof es=="string"?es:es?.name).filter(Boolean):["new","qualified","in-progress","converted","lost"],Wt=i&&i.length>0?i.map(es=>typeof es=="string"?es:es?.name).filter(Boolean):["new","qualified","in-progress","converted","lost"],br=["high","medium","low"],Mr=["website","social-media","referral","email-campaign","direct"],Zr=[" "," ","Ahmed Ali"],En=[" ","Temporary Lead","Test Prospect","Lead Demo","Prospect Sample"],er=[" ","Temp Co.","Demo LLC","Sample Inc."," "],vs=new Date,ia=es=>{const Ar=es.getFullYear(),bs=String(es.getMonth()+1).padStart(2,"0"),nn=String(es.getDate()).padStart(2,"0");return`${Ar}-${bs}-${nn}`},co=Array.from({length:Ie},(es,Ar)=>{const bs=wt+Ar+1,nn=String(ea[Ar%ea.length]),ln=String(Wt[Ar%Wt.length]),di=br[Ar%br.length],uo=Mr[Ar%Mr.length],_i=Zr[Ar%Zr.length],Il=`${En[Ar%En.length]} ${bs}`,Wi=`temp${bs}@example.com`,vl=`+9665${String(9e7+bs).slice(-8)}`,$o=new Date(vs);$o.setDate(vs.getDate()-(3+Ar%10));const on=new Date(vs);return on.setDate(vs.getDate()-(1+Ar%5)),{id:bs,name:Il,email:Wi,phone:vl,company:er[Ar%er.length],stage:nn,status:ln,priority:di,source:uo,assignedTo:_i,createdAt:ia($o),lastContact:ia(on),notes:"  ",estimatedValue:1e4+Ar*750,probability:Ar*11%101,isTemporary:!0}});o(es=>{const Ar=[...co,...es];return window.dispatchEvent(new CustomEvent("leadsDataUpdated")),Ar})},Xe=Ie=>{const wt=(Ie||"").toLowerCase();return wt.includes("convert")?"":wt.includes("progress")?"":wt.includes("lost")?"":wt.includes("new")?"":wt.includes("qual")?"":""};w.useEffect(()=>{const Ie=wt=>{const ea=(wt||"").toLowerCase();return ea.includes("convert")?"#10b981":ea.includes("progress")?"#f59e0b":ea.includes("lost")?"#ef4444":ea.includes("new")?"#3b82f6":ea.includes("qual")?"#8b5cf6":"#3b82f6"};try{const wt=JSON.parse(localStorage.getItem("crmStages")||"[]"),ea=Array.isArray(wt)?typeof wt[0]=="string"?wt.map(Wt=>({name:Wt,color:Ie(Wt),icon:Xe(Wt)})):wt.map(Wt=>({name:Wt.name||String(Wt),color:Wt.color||Ie(Wt.name||String(Wt)),icon:Wt.icon||Xe(Wt.name||String(Wt))})):[];ea.length===0?Za([{name:"new",color:"#10b981",icon:""},{name:"qualified",color:"#3b82f6",icon:""},{name:"in-progress",color:"#f59e0b",icon:""},{name:"converted",color:"#059669",icon:""},{name:"lost",color:"#ef4444",icon:""}]):Za(ea)}catch{Za([{name:"new",color:"#10b981",icon:""},{name:"qualified",color:"#3b82f6",icon:""},{name:"in-progress",color:"#f59e0b",icon:""},{name:"converted",color:"#059669",icon:""},{name:"lost",color:"#ef4444",icon:""}])}},[]);const tt={lead:e("Lead"),contact:e("Contact"),source:e("Source"),project:e("Project"),sales:e("Sales"),lastComment:e("Last Comment"),stage:e("Stage"),expectedRevenue:e("Expected Revenue"),priority:e("Priority"),status:e("Status"),actions:e("Actions")},nt=Ie=>Ie?.toString()?.toLowerCase()?.trim()?.replace(/\s+/g,""),At={name:["name",""," ","lead","lead name"],email:["email",""," "],phone:["phone",""," ","contact"],company:["company",""],status:["status",""],priority:["priority",""],source:["source",""],assignedTo:["assignedto","assigned",""," ","salesperson"],createdAt:["createdat"," ","created"],lastContact:["lastcontact"," "],estimatedValue:["estimatedvalue"," ","value"],probability:["probability",""],notes:["notes",""]},Ft=(Ie,wt)=>{const ea=Object.keys(Ie||{});for(const Wt of ea){const br=nt(Wt);for(const Mr of wt)if(br===nt(Mr))return Ie[Wt]}return""},Qt=async Ie=>{const wt=await Ie.arrayBuffer(),ea=gm(wt,{type:"array"}),Wt=ea.SheetNames[0],br=ea.Sheets[Wt],Mr=Jt.sheet_to_json(br,{defval:""}),Zr=new Date().toISOString().slice(0,10);return Mr.map(er=>({id:Date.now()+Math.random(),name:String(Ft(er,At.name)||"").trim(),email:String(Ft(er,At.email)||"").trim(),phone:String(Ft(er,At.phone)||"").trim(),company:String(Ft(er,At.company)||"").trim(),status:String(Ft(er,At.status)||"new").toLowerCase().trim(),priority:String(Ft(er,At.priority)||"medium").toLowerCase().trim(),source:String(Ft(er,At.source)||"import").trim(),assignedTo:String(Ft(er,At.assignedTo)||"").trim(),createdAt:String(Ft(er,At.createdAt)||Zr).trim(),lastContact:String(Ft(er,At.lastContact)||Zr).trim(),estimatedValue:Number(Ft(er,At.estimatedValue))||0,probability:Number(Ft(er,At.probability))||0,notes:String(Ft(er,At.notes)||"").trim()}))},ke=async()=>{if(!xt){ut("import.selectFileError");return}Zt(!0),ut(null),va(null);try{const Ie=await Qt(xt);try{await fetch("/api/leads/bulk-import",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({leads:Ie})})}catch(wt){console.warn("API import endpoint not reachable, adding locally only.",wt?.message)}o(wt=>[...Ie,...wt]),gt(null),va({added:Ie.length})}catch(Ie){console.error(Ie),ut("import.readFileError")}finally{Zt(!1)}},[Ge,qt]=w.useState({lead:!0,contact:!0,source:!0,project:!0,sales:!0,lastComment:!0,stage:!0,expectedRevenue:!0,priority:!0,status:!0,actions:!0}),xa=Ie=>{qt(wt=>({...wt,[Ie]:!wt[Ie]}))},wa=()=>{const Ie=Object.keys(tt).reduce((wt,ea)=>(wt[ea]=!0,wt),{});qt(Ie)},Wa=Array.from({length:30},(Ie,wt)=>{const ea=wt+1,Wt=["new","in-progress","qualified","converted","lost"],br=["high","medium","low"],Mr=["website","social-media","referral","email-campaign","direct"],Zr=[" "," ","Ahmed Ali"],En=[" "," Johnson"," ","Emma Wilson"," "],er=[" ","ABC Corporation"," ","Tech Solutions"," "],vs=Wt[wt%Wt.length],ia=br[wt%br.length],co=Mr[wt%Mr.length],es=Zr[wt%Zr.length],Ar=`${En[wt%En.length]} ${ea}`,bs=`lead${ea}@example.com`,nn=`+9665${String(12345670+ea).slice(-8)}`,ln=`2024-01-${String(1+wt%28).padStart(2,"0")}`,di=`2024-01-${String(1+(wt+3)%28).padStart(2,"0")}`,uo=" ",_i=5e4+wt*1e3,Il=wt*7%101;return{id:ea,name:Ar,email:bs,phone:nn,company:er[wt%er.length],stage:vs,status:vs,priority:ia,source:co,assignedTo:es,createdAt:ln,lastContact:di,notes:uo,estimatedValue:_i,probability:Il}});w.useEffect(()=>{try{const Ie=localStorage.getItem("leadsData");if(Ie){const wt=JSON.parse(Ie);o(wt),d(wt),window.dispatchEvent(new CustomEvent("leadsDataUpdated"))}else o(Wa),d(Wa),localStorage.setItem("leadsData",JSON.stringify(Wa)),window.dispatchEvent(new CustomEvent("leadsDataUpdated"))}catch(Ie){console.warn("Failed to load leadsData from localStorage, using sample.",Ie?.message),o(Wa),d(Wa),window.dispatchEvent(new CustomEvent("leadsDataUpdated"))}},[]),w.useEffect(()=>{const Ie=()=>{try{const ea=JSON.parse(localStorage.getItem("leadsData")||"[]");o(ea)}catch(ea){console.warn("Failed to sync leadsData from localStorage.",ea?.message)}},wt=ea=>{ea.key==="leadsData"&&Ie()};return window.addEventListener("storage",wt),Ie(),()=>{window.removeEventListener("storage",wt)}},[]),w.useEffect(()=>{try{localStorage.setItem("leadsData",JSON.stringify(l)),window.dispatchEvent(new CustomEvent("leadsDataUpdated"))}catch(Ie){console.warn("Failed to save leadsData to localStorage.",Ie?.message)}},[l]),w.useEffect(()=>{let Ie=l.filter(wt=>{const ea=wt.name.toLowerCase().includes(u.toLowerCase())||wt.email.toLowerCase().includes(u.toLowerCase())||wt.company.toLowerCase().includes(u.toLowerCase()),Wt=x==="all"||wt.status===x,br=g==="all"||wt.source===g,Mr=b==="all"||wt.priority===b,Zr=S==="all"||wt.project===S,En=N==="all"||wt.stage===N,er=_==="all"||wt.manager===_,vs=P==="all"||wt.assignedTo===P,ia=B==="all"||wt.createdBy===B,co=J==="all"||wt.oldStage===J,es=M==="all"||wt.campaign===M,Ar=z==="all"||wt.country===z,bs=ie==="all"||wt.whatsappIntents===ie,nn=Y==="all"||wt.callType===Y,ln=he==="all"||wt.duplicateStatus===he,di=!U||wt.assignDate&&wt.assignDate.includes(U),uo=!R||wt.actionDate&&wt.actionDate.includes(R),_i=!V||wt.createdAt&&wt.createdAt.includes(V),Il=!W||wt.closedDate&&wt.closedDate.includes(W),Wi=!oe||wt.email&&wt.email.toLowerCase().includes(oe.toLowerCase()),vl=!ne||wt.expectedRevenue&&wt.expectedRevenue.toString().includes(ne);return ea&&Wt&&br&&Mr&&Zr&&En&&er&&vs&&ia&&co&&es&&Ar&&bs&&nn&&ln&&di&&uo&&_i&&Il&&Wi&&vl});Ie.sort((wt,ea)=>{let Wt=wt[Fe],br=ea[Fe];return(Fe==="createdAt"||Fe==="lastContact")&&(Wt=new Date(Wt),br=new Date(br)),Te==="asc"?Wt>br?1:-1:Wt<br?1:-1}),d(Ie),qe(1)},[l,u,x,g,b,Fe,Te,S,N,_,P,B,U,R,V,J,W,M,z,ne,oe,ie,Y,he]);const Ws=Ie=>{switch(Ie){case"new":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"qualified":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"in-progress":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"converted":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";case"lost":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},Rr=Ie=>{switch(Ie){case"high":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"low":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},Un=Ie=>{switch(Ie){case"Facebook":return"";case"Website":return"";case"Referral":return"";case"Campaign":return"";case"website":return"";case"social-media":return"";case"referral":return"";case"email-campaign":return"";case"direct":return"";default:return""}},oi=Ie=>{Ie.target.checked?Ce(Ai.map(wt=>wt.id)):Ce([])},Fl=Ie=>{Ce(wt=>wt.includes(Ie)?wt.filter(ea=>ea!==Ie):[...wt,Ie])},Tn=(Ie,wt)=>{const ea=wt.currentTarget.getBoundingClientRect();Ze.current=wt.currentTarget,$a(Ie),pe({x:ea.left+ea.width/2,y:ea.top-10}),we(!0)};w.useEffect(()=>{const Ie=wt=>{Me&&(Se.current&&Se.current.contains(wt.target)||Ze.current&&Ze.current.contains(wt.target)||(we(!1),$a(null),Ze.current=null))};return document.addEventListener("mousedown",Ie),()=>document.removeEventListener("mousedown",Ie)},[Me]);const[cu,fr]=w.useState(""),[yd,du]=w.useState(""),[zn,Hn]=w.useState(null),{canAssignNow:ci}=(()=>{try{return{canAssignNow:require("../utils/rotation").canAssignNow}}catch{return{canAssignNow:()=>({ok:!0})}}})(),Tc=()=>{const Ie=cu?.trim();if(!Ie){Hn({key:"bulk.selectAssigneeError"});return}const wt=ci(new Date);if(!wt.ok){Hn({key:"bulk.assignBlocked",params:{reason:wt.reason}});return}o(ea=>ea.map(Wt=>De.includes(Wt.id)?{...Wt,assignedTo:Ie}:Wt)),Hn({key:"bulk.assignSuccess",params:{count:De.length,target:Ie}}),Ce([]),fr("")},mr=()=>{const Ie=yd?.trim();if(!Ie){Hn({key:"bulk.selectStatusError"});return}o(wt=>wt.map(ea=>De.includes(ea.id)?{...ea,status:Ie}:ea)),Hn({key:"bulk.statusUpdateSuccess",params:{count:De.length,status:Ie}}),Ce([]),du("")},Ec=()=>{const wt=l.filter(Wt=>De.includes(Wt.id)).map(Wt=>({...Wt,deletedAt:new Date().toISOString()})),ea=JSON.parse(localStorage.getItem("deletedLeads")||"[]");ea.push(...wt),localStorage.setItem("deletedLeads",JSON.stringify(ea)),o(Wt=>Wt.filter(br=>!De.includes(br.id))),Hn({key:"bulk.deleteSuccess",params:{count:De.length}}),Ce([])},Th=async()=>{const Ie=l.filter(Wt=>De.includes(Wt.id));if(Ie.length===0)return;const wt=[],ea=[];for(const Wt of Ie){const br=String(Wt?.name||Wt?.company||"").trim(),Mr=String(Wt?.phone||"").trim();if(!br||!Mr||Mr.length<5){ea.push(Wt);continue}const Zr=Array.isArray(Wt?.tags)?Wt.tags:Wt?.tags?String(Wt.tags).split(",").map(er=>er.trim()).filter(Boolean):Wt?.source?[String(Wt.source)]:[],En={name:br,phone:Mr,email:String(Wt?.email||"").trim(),type:String(Wt?.type||(Wt?.company?"Company":"Individual")),companyName:Wt?.company||"",country:String(Wt?.country||"").trim(),city:String(Wt?.city||"").trim(),addressLine:String(Wt?.address||"").trim(),contacts:Wt?.company?[{name:String(Wt?.name||"").trim(),phone:String(Wt?.phone||"").trim(),email:String(Wt?.email||"").trim()}]:[],tags:Zr,notes:String(Wt?.notes||"").trim(),assignedSalesRep:String(Wt?.sales||Wt?.assignedTo||"").trim()};wt.push(En)}try{await Promise.all(wt.map(Wt=>ya.post("/api/customers",Wt))),Hn({key:"bulk.convertSuccess",params:{success:wt.length,failed:ea.length}}),Ce([])}catch(Wt){console.error("bulk convert failed",Wt),Hn({key:"bulk.convertError"})}},uu=Ie=>{const wt=l.find(ea=>ea.id===Ie);if(wt){const ea={...wt,deletedAt:new Date().toISOString()},Wt=JSON.parse(localStorage.getItem("deletedLeads")||"[]");Wt.push(ea),localStorage.setItem("deletedLeads",JSON.stringify(Wt))}o(ea=>ea.filter(Wt=>Wt.id!==Ie)),Ce(ea=>ea.filter(Wt=>Wt!==Ie))},oo=async Ie=>{try{const wt=String(Ie?.name||Ie?.company||"").trim(),ea=String(Ie?.phone||"").trim();if(!wt||!ea||ea.length<5){alert(t.language==="ar"?"  : / ":e("Cannot convert: missing name/phone"));return}const Wt=Array.isArray(Ie?.tags)?Ie.tags:Ie?.tags?String(Ie.tags).split(",").map(Mr=>Mr.trim()).filter(Boolean):Ie?.source?[String(Ie.source)]:[],br={name:wt,phone:ea,email:String(Ie?.email||"").trim(),type:String(Ie?.type||(Ie?.company?"Company":"Individual")),companyName:Ie?.company||"",country:String(Ie?.country||"").trim(),city:String(Ie?.city||"").trim(),addressLine:String(Ie?.address||"").trim(),contacts:Ie?.company?[{name:String(Ie?.name||"").trim(),phone:String(Ie?.phone||"").trim(),email:String(Ie?.email||"").trim()}]:[],tags:Wt,notes:String(Ie?.notes||"").trim(),assignedSalesRep:String(Ie?.sales||Ie?.assignedTo||"").trim()};await ya.post("/api/customers",br),alert(t.language==="ar"?"     ":e("Lead converted to customer successfully"))}catch(wt){console.error("convert customer failed",wt),alert(t.language==="ar"?"   ":e("Failed to convert to customer"))}},sn=1e3,Io=($e-1)*ct,Ai=c.slice(Io,Io+ct),Bo=()=>{const Ie=Math.max(1,Math.ceil(c.length/ct)),wt=Math.max(1,Math.min(Number(Lt)||$e,Ie)),ea=Math.max(wt,Math.min(Number(Vt)||wt,Ie)),Wt=(wt-1)*ct,br=Math.min(ea*ct,c.length),Zr=c.slice(Wt,br).map(ia=>({Name:ia.name,Email:ia.email,Phone:ia.phone,Company:ia.company,Status:e(ia.status),Priority:e(ia.priority),Source:e(ia.source),"Assigned To":ia.assignedTo,"Created At":new Date(ia.createdAt).toLocaleDateString(),"Last Contact":new Date(ia.lastContact).toLocaleDateString(),"Estimated Value":ia.estimatedValue})),En=Jt.json_to_sheet(Zr),er=Jt.book_new();Jt.book_append_sheet(er,En,"Leads");const vs=`leads_pages_${wt}-${ea}.xlsx`;gs(er,vs)};return r.jsxs("div",{className:"p-6 bg-[var(--content-bg)] text-[var(--content-text)] space-y-8 md:space-y-10 lg:space-y-12",children:[r.jsxs("div",{className:"flex w-full items-center justify-between gap-6 mb-4 lg:gap-0",children:[r.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[r.jsx("div",{className:"w-1 h-8 bg-gradient-to-b from-blue-500 to-purple-600 rounded-full"}),r.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:e("Lead Management")})]}),r.jsx("div",{className:"flex-shrink-0",children:r.jsxs("div",{className:"flex items-center gap-2 flex-nowrap justify-end",children:[r.jsxs("button",{onClick:()=>s("/leads/new"),className:"group relative inline-flex items-center gap-2 px-6 py-3 rounded-lg text-sm font-bold bg-gradient-to-br from-green-500 via-emerald-500 to-teal-600 hover:from-emerald-400 hover:via-green-500 hover:to-emerald-700 text-white border-2 border-emerald-300/30 shadow-[0_8px_30px_rgb(34,197,94,0.3)] hover:shadow-[0_20px_40px_rgb(34,197,94,0.6)] transition-all duration-300 ease-out hover:brightness-125 hover:scale-110 hover:-translate-y-1 focus:outline-none focus-visible:ring-4 focus-visible:ring-emerald-300/50 hover:ring-4 hover:ring-emerald-300/70 active:scale-95 active:translate-y-0 overflow-hidden",children:[r.jsx("span",{className:"absolute inset-0 rounded-lg opacity-0 group-hover:opacity-100 pointer-events-none transition-all duration-300 bg-[linear-gradient(45deg,transparent_30%,rgba(255,255,255,0.5)_50%,transparent_70%)] animate-pulse"}),r.jsx("span",{className:"absolute inset-0 rounded-lg opacity-0 group-hover:opacity-30 pointer-events-none transition-opacity duration-300 bg-gradient-to-r from-transparent via-white to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full group-hover:duration-700"}),r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v12M6 12h12"})}),r.jsx("span",{children:e("Add New Lead")})]}),r.jsxs("button",{onClick:()=>Ae(!0),className:"group relative inline-flex items-center gap-2 px-6 py-3 rounded-lg text-sm font-bold bg-gradient-to-br from-blue-500 via-indigo-500 to-purple-600 hover:from-indigo-400 hover:via-blue-500 hover:to-indigo-700 text-white border-2 border-blue-300/30 shadow-[0_8px_30px_rgb(59,130,246,0.3)] hover:shadow-[0_20px_40px_rgb(59,130,246,0.6)] transition-all duration-300 ease-out hover:brightness-125 hover:scale-110 hover:-translate-y-1 focus:outline-none focus-visible:ring-4 focus-visible:ring-blue-300/50 hover:ring-4 hover:ring-blue-300/70 active:scale-95 active:translate-y-0 overflow-hidden",children:[r.jsx("span",{className:"absolute inset-0 rounded-lg opacity-0 group-hover:opacity-100 pointer-events-none transition-all duration-300 bg-[linear-gradient(45deg,transparent_30%,rgba(255,255,255,0.5)_50%,transparent_70%)] animate-pulse"}),r.jsx("span",{className:"absolute inset-0 rounded-lg opacity-0 group-hover:opacity-30 pointer-events-none transition-opacity duration-300 bg-gradient-to-r from-transparent via-white to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full group-hover:duration-700"}),r.jsxs("svg",{className:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M12 3v12"}),r.jsx("path",{d:"M8 11l4 4 4-4"}),r.jsx("path",{d:"M4 20h16"})]}),r.jsx("span",{children:e("Import Leads")})]}),r.jsxs("button",{onClick:()=>pt(15),className:"group relative inline-flex items-center gap-2 px-6 py-3 rounded-lg text-sm font-bold bg-gradient-to-br from-orange-500 via-amber-500 to-yellow-600 hover:from-amber-400 hover:via-orange-500 hover:to-amber-700 text-white border-2 border-orange-300/30 shadow-[0_8px_30px_rgb(245,158,11,0.3)] hover:shadow-[0_20px_40px_rgb(245,158,11,0.6)] transition-all duration-300 ease-out hover:brightness-125 hover:scale-110 hover:-translate-y-1 focus:outline-none focus-visible:ring-4 focus-visible:ring-orange-300/50 hover:ring-4 hover:ring-orange-300/70 active:scale-95 active:translate-y-0 overflow-hidden",children:[r.jsx("span",{className:"absolute inset-0 rounded-lg opacity-0 group-hover:opacity-100 pointer-events-none transition-all duration-300 bg-[linear-gradient(45deg,transparent_30%,rgba(255,255,255,0.5)_50%,transparent_70%)] animate-pulse"}),r.jsx("span",{className:"absolute inset-0 rounded-lg opacity-0 group-hover:opacity-30 pointer-events-none transition-opacity duration-300 bg-gradient-to-r from-transparent via-white to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full group-hover:duration-700"}),r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),r.jsx("span",{children:e("Add Demo Leads")})]})]})})]}),r.jsxs("section",{className:"p-4 rounded-xl shadow-lg glass-panel w-full mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4 pb-3 border-b border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-600 rounded-lg",children:r.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.707A1 1 0 013 7V4z"})})}),r.jsx("h3",{className:"text-lg font-bold text-primary",children:e("Filter Options")})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("button",{onClick:()=>Oe(!_e),className:"btn btn-primary",children:[r.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${_e?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),e(_e?"Show Less":"Show More")]}),r.jsxs("button",{className:"btn btn-ghost",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),e("Reset")]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[r.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e("Search")]}),r.jsx("input",{type:"text",placeholder:e("Search leads..."),value:u,onChange:Ie=>f(Ie.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[r.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("Status")]}),r.jsxs("select",{value:x,onChange:Ie=>m(Ie.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[r.jsx("option",{value:"all",children:e("All Status")}),i.map(Ie=>r.jsxs("option",{value:Ie.name,children:[Ie.icon," ",t.language==="ar"&&Ie.nameAr?Ie.nameAr:Ie.name]},Ie.name))]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[r.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),e("Source")]}),r.jsxs("select",{value:g,onChange:Ie=>v(Ie.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[r.jsx("option",{value:"all",children:e("All Sources")}),r.jsx("option",{value:"website",children:e("Website")}),r.jsx("option",{value:"social-media",children:e("Social Media")}),r.jsx("option",{value:"referral",children:e("Referrals")}),r.jsx("option",{value:"email-campaign",children:e("Email Campaign")}),r.jsx("option",{value:"direct",children:e("Direct")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[r.jsx("svg",{className:"w-4 h-4 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("Priority")]}),r.jsxs("select",{value:b,onChange:Ie=>j(Ie.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[r.jsx("option",{value:"all",children:e("All Priority")}),r.jsx("option",{value:"high",children:e("High")}),r.jsx("option",{value:"medium",children:e("Medium")}),r.jsx("option",{value:"low",children:e("Low")})]})]})]}),_e&&r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 pt-4 border-t border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[r.jsx("svg",{className:"w-4 h-4 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),e("Project")]}),r.jsxs("select",{value:S,onChange:Ie=>k(Ie.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[r.jsx("option",{value:"all",children:e("All Projects")}),r.jsx("option",{value:"project-a",children:e("Project A")}),r.jsx("option",{value:"project-b",children:e("Project B")}),r.jsx("option",{value:"project-c",children:e("Project C")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[r.jsx("svg",{className:"w-4 h-4 text-teal-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),e("Stage")]}),r.jsxs("select",{value:N,onChange:Ie=>A(Ie.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[r.jsx("option",{value:"all",children:e("All Stages")}),n.map(Ie=>r.jsxs("option",{value:Ie.name,children:[Ie.icon," ",t.language==="ar"&&Ie.nameAr||Ie.name]},Ie.name))]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[r.jsx("svg",{className:"w-4 h-4 text-pink-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),e("Manager")]}),r.jsxs("select",{value:_,onChange:Ie=>D(Ie.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[r.jsx("option",{value:"all",children:e("All Managers")}),r.jsx("option",{value:"ibrahim",children:e("Ibrahim Ahmed")}),r.jsx("option",{value:"sara",children:e("Sara Nour")}),r.jsx("option",{value:"ahmed",children:e("Ahmed Ali")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[r.jsx("svg",{className:"w-4 h-4 text-cyan-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),e("Sales Person")]}),r.jsxs("select",{value:P,onChange:Ie=>I(Ie.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[r.jsx("option",{value:"all",children:e("All Sales People")}),r.jsx("option",{value:" ",children:e("Ibrahim Ahmed")}),r.jsx("option",{value:" ",children:e("Sara Nour")}),r.jsx("option",{value:"Ahmed Ali",children:e("Ahmed Ali")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[r.jsx("svg",{className:"w-4 h-4 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),e("Created By")]}),r.jsxs("select",{value:B,onChange:Ie=>O(Ie.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[r.jsx("option",{value:"all",children:e("All Creators")}),r.jsx("option",{value:"system",children:e("System")}),r.jsx("option",{value:"admin",children:e("Admin")}),r.jsx("option",{value:"user",children:e("User")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[r.jsx("svg",{className:"w-4 h-4 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e("Assign Date")]}),r.jsx("input",{type:"date",value:U,onChange:Ie=>E(Ie.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[r.jsx("svg",{className:"w-4 h-4 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.language==="ar"?" ":e("Action Date")]}),r.jsx("input",{type:"date",value:R,onChange:Ie=>K(Ie.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[r.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e("Creation Date")]}),r.jsx("input",{type:"date",value:V,onChange:Ie=>Z(Ie.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[r.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("Old Stage")]}),r.jsxs("select",{value:J,onChange:Ie=>ee(Ie.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[r.jsx("option",{value:"all",children:e("All Old Stages")}),n.map(Ie=>r.jsxs("option",{value:Ie.name,children:[Ie.icon," ",t.language==="ar"&&Ie.nameAr||Ie.name]},Ie.name))]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[r.jsx("svg",{className:"w-4 h-4 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),e("Closed Date")]}),r.jsx("input",{type:"date",value:W,onChange:Ie=>le(Ie.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[r.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z"})}),e("Campaign")]}),r.jsxs("select",{value:M,onChange:Ie=>X(Ie.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[r.jsx("option",{value:"all",children:e("All Campaigns")}),r.jsx("option",{value:"summer-2024",children:e("Summer 2024")}),r.jsx("option",{value:"winter-2024",children:e("Winter 2024")}),r.jsx("option",{value:"spring-2025",children:e("Spring 2025")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[r.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("Country")]}),r.jsxs("select",{value:z,onChange:Ie=>Q(Ie.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[r.jsx("option",{value:"all",children:e("All Countries")}),r.jsx("option",{value:"saudi-arabia",children:e("Saudi Arabia")}),r.jsx("option",{value:"uae",children:e("UAE")}),r.jsx("option",{value:"egypt",children:e("Egypt")}),r.jsx("option",{value:"jordan",children:e("Jordan")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[r.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),e("Expected Revenue")]}),r.jsx("input",{type:"number",placeholder:e("Min amount..."),value:ne,onChange:Ie=>re(Ie.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[r.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e("Email")]}),r.jsx("input",{type:"text",placeholder:e("Search by email..."),value:oe,onChange:Ie=>q(Ie.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[r.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),e("WhatsApp Intents")]}),r.jsxs("select",{value:ie,onChange:Ie=>ye(Ie.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[r.jsx("option",{value:"all",children:e("All Intents")}),r.jsx("option",{value:"inquiry",children:e("Inquiry")}),r.jsx("option",{value:"support",children:e("Support")}),r.jsx("option",{value:"purchase",children:e("Purchase")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[r.jsx("svg",{className:"w-4 h-4 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),e("Call Type")]}),r.jsxs("select",{value:Y,onChange:Ie=>ce(Ie.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[r.jsx("option",{value:"all",children:e("All Call Types")}),r.jsx("option",{value:"inbound",children:e("Inbound")}),r.jsx("option",{value:"outbound",children:e("Outbound")}),r.jsx("option",{value:"follow-up",children:e("Follow-up")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[r.jsx("svg",{className:"w-4 h-4 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),e("Duplicate Status")]}),r.jsxs("select",{value:he,onChange:Ie=>ue(Ie.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[r.jsx("option",{value:"all",children:e("All Status")}),r.jsx("option",{value:"unique",children:e("Unique")}),r.jsx("option",{value:"duplicate",children:e("Duplicate")}),r.jsx("option",{value:"potential-duplicate",children:e("Potential Duplicate")})]})]})]})]})]}),r.jsx("div",{className:"h-10 md:h-12 lg:h-14","aria-hidden":"true"}),De.length>0&&r.jsxs("div",{className:"glass-panel rounded-2xl shadow-lg p-6 mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-xl font-bold text-primary",children:[e("Bulk Actions")," (",De.length," ",e("selected"),")"]}),r.jsx("div",{className:"flex items-center gap-3",children:r.jsxs("button",{onClick:Ec,className:"btn btn-danger",children:[r.jsx(sx,{}),e("Delete")]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[r.jsx("label",{htmlFor:"bulk-status",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("Update Status")}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("select",{id:"bulk-status",value:yd,onChange:Ie=>du(Ie.target.value),className:"flex-grow bg-white dark:bg-gray-600 border border-gray-300 dark:border-gray-500 rounded-lg shadow-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm p-2.5",children:[r.jsx("option",{value:"",children:e("Select Status")}),r.jsx("option",{value:"new",children:e("New")}),r.jsx("option",{value:"qualified",children:e("Qualified")}),r.jsx("option",{value:"in-progress",children:e("In Progress")}),r.jsx("option",{value:"converted",children:e("Converted")}),r.jsx("option",{value:"lost",children:e("Lost")})]}),r.jsx("button",{onClick:mr,className:"btn btn-primary",children:e("Apply Status")})]})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[r.jsx("label",{htmlFor:"bulk-assign",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("Assign Owner")}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("select",{id:"bulk-assign",value:cu,onChange:Ie=>fr(Ie.target.value),className:"flex-grow bg-white dark:bg-gray-600 border border-gray-300 dark:border-gray-500 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm p-2.5",children:[r.jsx("option",{value:"",children:e("Select Owner")}),Array.from(new Set(l.map(Ie=>Ie.assignedTo).filter(Boolean))).map(Ie=>r.jsx("option",{value:Ie,children:Ie},Ie))]}),r.jsx("button",{onClick:Tc,className:"px-5 py-2.5 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow-md transition-transform transform hover:scale-105",children:e("Assign")})]})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("Convert Selected to Customers")}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:Th,className:"px-5 py-2.5 bg-teal-600 hover:bg-teal-700 text-white font-semibold rounded-lg shadow-md transition-transform transform hover:scale-105",children:e("Convert")}),De.length>0&&r.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e("Selected"),": ",De.length]})]})]})]}),zn&&r.jsx("div",{className:`mt-4 px-4 py-3 rounded-lg ${zn.key.includes("Error")?"bg-red-50 text-red-700 border border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800":"bg-green-50 text-green-700 border border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800"}`,children:e(zn.key,zn.params)})]}),r.jsx("div",{className:"flex justify-end mt-6 mb-4",children:r.jsx(RV,{columns:tt,visibleColumns:Ge,onColumnToggle:xa,onResetColumns:wa})}),r.jsxs("div",{className:"glass-panel rounded-xl shadow-lg p-4 mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("h3",{className:"text-lg font-semibold text-primary flex items-center gap-2",children:[r.jsx("svg",{className:"w-5 h-5 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a 2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),e("Lead Stages")]}),r.jsx("button",{onClick:()=>A("all"),className:`btn ${N==="all"?"btn-primary":""}`,children:e("All Stages")})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(Ie=>r.jsxs("button",{onClick:()=>A(Ie.name),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm transition-all duration-200 transform hover:scale-105 ${N===Ie.name?"text-white shadow-lg scale-105":"bg-[var(--panel-bg)] text-[var(--app-text)] border border-[var(--panel-border)] hover:border-[var(--panel-border)] shadow-sm hover:shadow-md"}`,style:N===Ie.name?{backgroundColor:Ie.color||"#3B82F6"}:{},children:[r.jsx("span",{className:"text-lg",children:Ie.icon}),r.jsx("span",{children:t.language==="ar"&&Ie.nameAr||Ie.name}),r.jsx("span",{className:`ml-1 px-2 py-0.5 text-xs rounded-full ${N===Ie.name?"bg-white/20 text-white":"bg-[var(--panel-bg)] text-[var(--muted-text)] border border-[var(--panel-border)]"}`,children:c.filter(wt=>wt.stage===Ie.name).length})]},Ie.name))})]}),r.jsxs("div",{className:"glass-panel rounded-2xl shadow-xl overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[r.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:r.jsxs("tr",{children:[r.jsx("th",{scope:"col",className:"p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{id:"checkbox-all-search",type:"checkbox",className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600",checked:De.length===Ai.length&&Ai.length>0,onChange:oi}),r.jsx("label",{htmlFor:"checkbox-all-search",className:"sr-only",children:"checkbox"})]})}),Ge.lead&&r.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Lead")}),Ge.contact&&r.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Contact")}),Ge.source&&r.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Source")}),Ge.project&&r.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Project")}),Ge.sales&&r.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Sales")}),Ge.lastComment&&r.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Last Comment")}),Ge.stage&&r.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Stage")}),Ge.expectedRevenue&&r.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Expected Revenue")}),Ge.priority&&r.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Priority")}),Ge.status&&r.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Status")}),Ge.actions&&r.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Actions")})]})}),r.jsx("tbody",{children:Ai.map(Ie=>r.jsxs("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 cursor-pointer",onClick:wt=>Tn(Ie,wt),children:[r.jsx("td",{className:"w-4 p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{id:`checkbox-table-search-${Ie.id}`,type:"checkbox",className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600",checked:De.includes(Ie.id),onChange:()=>Fl(Ie.id)}),r.jsx("label",{htmlFor:`checkbox-table-search-${Ie.id}`,className:"sr-only",children:"checkbox"})]})}),Ge.lead&&r.jsx("th",{scope:"row",className:"flex items-center px-6 py-4 text-gray-900 whitespace-nowrap dark:text-white",children:r.jsx("div",{className:"pl-3",children:r.jsx("div",{className:"text-base font-semibold",children:Ie.name})})}),Ge.contact&&r.jsxs("td",{className:"px-6 py-4",children:[r.jsx("div",{className:"font-normal text-gray-500",children:Ie.email}),r.jsx("div",{className:"font-normal text-gray-500",children:Ie.phone})]}),Ge.source&&r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:Un(Ie.source)}),r.jsx("span",{className:"text-sm",children:e(Ie.source)})]})}),Ge.project&&r.jsx("td",{className:"px-6 py-4",children:Ie.company}),Ge.sales&&r.jsx("td",{className:"px-6 py-4",children:Ie.assignedTo}),Ge.lastComment&&r.jsx("td",{className:"px-6 py-4",children:Ie.notes}),Ge.stage&&r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${Ws(Ie.stage)}`,children:e(Ie.stage)})}),Ge.expectedRevenue&&r.jsxs("td",{className:"px-6 py-4",children:["$",Ie.estimatedValue.toLocaleString()]}),Ge.priority&&r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${Rr(Ie.priority)}`,children:e(Ie.priority)})}),Ge.status&&r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${Ws(Ie.status)}`,children:e(Ie.status)})}),Ge.actions&&r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:()=>{We(Ie),Ee(!0)},className:"text-blue-600 hover:text-blue-900 p-1",title:e("preview"),children:r.jsx(dd,{size:16})}),r.jsx("button",{onClick:()=>console.log("Call lead:",Ie?.phone),className:"text-purple-600 hover:text-purple-900 p-1",title:"Call",children:r.jsx(th,{size:16})}),r.jsx("button",{onClick:()=>console.log("WhatsApp lead:",Ie?.phone),className:"text-green-600 hover:text-green-900 p-1",title:"WhatsApp",children:r.jsx(Zu,{size:16})}),r.jsx("button",{onClick:()=>console.log("Email lead:",Ie?.email),className:"text-gray-600 hover:text-gray-900 p-1",title:"Email",children:r.jsx(Cf,{size:16})}),r.jsx("button",{onClick:()=>console.log("Google Meet lead:",Ie?.email),className:"text-red-600 hover:text-red-900 p-1",title:"Google Meet",children:r.jsx(tw,{size:16})}),r.jsx("button",{onClick:()=>oo(Ie),className:"text-teal-600 hover:text-teal-900 p-1",title:e("Convert Customer"),children:r.jsx(ez,{size:16})}),De.includes(Ie.id)&&r.jsx("button",{onClick:()=>uu(Ie.id),className:"text-red-600 hover:text-red-900 p-1",title:e("Delete"),children:r.jsx(sx,{size:16})})]})})]},Ie.id))})]})}),Ai.length===0&&r.jsx("div",{className:"p-6 text-center text-gray-600 dark:text-gray-300",children:e("empty.noMoreCustomers")}),r.jsxs("nav",{className:"flex items-center justify-between p-4","aria-label":"Table navigation",children:[r.jsxs("span",{className:"text-sm font-normal text-gray-500 dark:text-gray-400",children:[e("Showing")," ",r.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:[Io+1,"-",Math.min(Io+ct,c.length)]})," ",e("of")," ",r.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:c.length})]}),r.jsxs("ul",{className:"inline-flex items-center -space-x-px gap-2",children:[r.jsx("li",{children:r.jsxs("button",{onClick:()=>qe(Ie=>Math.max(Ie-1,1)),disabled:$e===1,className:"block px-3 py-2 ml-0 leading-tight text-gray-500 bg-white border border-gray-300 rounded-l-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white disabled:opacity-50",children:[r.jsx("span",{className:"sr-only",children:e("Previous")}),r.jsx("svg",{className:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]})}),Array.from({length:Math.min(3,sn)},(Ie,wt)=>wt+1).map(Ie=>r.jsx("li",{children:r.jsx("button",{onClick:()=>qe(Ie),className:`px-3 py-2 leading-tight ${$e===Ie?"text-blue-600 border border-blue-300 bg-blue-50 hover:bg-blue-100 hover:text-blue-700 dark:border-gray-700 dark:bg-gray-700 dark:text-white":"text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"}`,children:Ie})},Ie)),r.jsxs("li",{className:"flex items-center gap-2 ml-3",children:[r.jsx("input",{type:"number",min:1,max:sn,value:Nt,onChange:Ie=>Ct(Ie.target.value),placeholder:e("Search"),className:"w-16 px-2 py-1 text-sm border rounded-md dark:bg-gray-800 dark:text-gray-200"}),r.jsx("button",{onClick:()=>{const Ie=Math.max(1,Math.min(Number(Nt)||1,sn));qe(Ie)},className:"px-2 py-1 text-sm bg-gray-100 hover:bg-gray-200 border rounded-md dark:bg-gray-700 dark:border-gray-600",children:r.jsx(rx,{className:"w-4 h-4"})})]}),r.jsxs("li",{className:"flex items-center gap-2 ml-3",children:[r.jsx("input",{type:"number",min:1,max:sn,value:Lt,onChange:Ie=>Ht(Ie.target.value),placeholder:e("From"),className:"w-20 px-2 py-1 text-sm border rounded-md dark:bg-gray-800 dark:text-gray-200"}),r.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:e("To")}),r.jsx("input",{type:"number",min:1,max:sn,value:Vt,onChange:Ie=>Ne(Ie.target.value),placeholder:e("To"),className:"w-20 px-2 py-1 text-sm border rounded-md dark:bg-gray-800 dark:text-gray-200"}),r.jsxs("button",{onClick:Bo,className:"px-3 py-1 text-sm bg-blue-600 text-white hover:bg-blue-700 border rounded-md dark:bg-blue-500 dark:border-blue-400 flex items-center gap-1",children:[r.jsx(eh,{className:"w-4 h-4"}),e("Export Data")]})]}),r.jsx("li",{children:r.jsxs("button",{onClick:()=>qe(Ie=>Math.min(Ie+1,sn)),disabled:$e===sn,className:"block px-3 py-2 leading-tight text-gray-500 bg-white border border-gray-300 rounded-r-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white disabled:opacity-50",children:[r.jsx("span",{className:"sr-only",children:e("Next")}),r.jsx("svg",{className:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})})]})]})]}),pa&&r.jsx(hye,{isOpen:pa,onClose:()=>Ae(!1),excelFile:xt,setExcelFile:gt,importing:sa,importError:ka,importSummary:ta,onImport:ke}),r.jsxs("button",{onClick:()=>s("/leads/new"),className:"fixed bottom-10 right-6 z-50 md:hidden p-4 bg-green-600 text-white rounded-full shadow-lg hover:bg-green-700 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500","aria-label":e("Add New Lead"),children:[r.jsx(zu,{className:"w-6 h-6"}),r.jsx("span",{className:"sr-only",children:e("Add New Lead")})]}),Mt&&r.jsx(Rv,{isOpen:Mt,onClose:()=>{Ee(!1),We(null)},lead:ze,isArabic:t.language==="ar",theme:a}),Me&&rr&&r.jsx(tz,{lead:rr,position:Ua,innerRef:Se,onAction:Ie=>{switch(we(!1),$a(null),Ie){case"view":We(rr),Ee(!0);break;case"call":window.open(`tel:${rr.phone}`);break;case"whatsapp":window.open(`https://wa.me/${rr.phone.replace(/[^0-9]/g,"")}`);break;case"email":window.open(`mailto:${rr.email}`);break;case"video":console.log("Video call:",rr);break;case"convert":oo(rr);break;case"delete":if(window.confirm(e("Are you sure you want to delete this lead?"))){const wt={...rr,deletedAt:new Date().toISOString()},ea=JSON.parse(localStorage.getItem("deletedLeads")||"[]");ea.push(wt),localStorage.setItem("deletedLeads",JSON.stringify(ea)),o(Wt=>Wt.filter(br=>br.id!==rr.id))}break}},isRtl:t.language==="ar"})]})},mye=({isOpen:e,onClose:t,lead:a,onRestore:s,onPermanentDelete:n,onView:i,position:l={x:0,y:0},theme:o="light",isArabic:c=!1})=>{if(!e||!a)return null;const d=o==="dark",u=d?"bg-gray-800":"bg-white",f=d?"border-gray-600":"border-gray-200",x=d?"text-gray-100":"text-gray-800",m=d?"hover:bg-gray-700":"hover:bg-gray-50",g=[{id:"view",title:c?" ":"View Details",icon:dd,color:"text-blue-600",onClick:()=>{i(a),t()}},{id:"restore",title:c?"":"Restore",icon:Bk,color:"text-green-600",onClick:()=>{s(a.id),t()}},{id:"delete",title:c?" ":"Permanent Delete",icon:Ik,color:"text-red-600",onClick:()=>{n(a.id),t()}}],v={position:"fixed",left:`${Math.min(l.x,window.innerWidth-320)}px`,top:`${Math.min(l.y+10,window.innerHeight-400)}px`,zIndex:1e3};return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 z-40",onClick:t}),r.jsxs("div",{className:`${u} rounded-lg shadow-xl border ${f} w-80 max-w-sm`,style:v,children:[r.jsxs("div",{className:`flex items-center justify-between p-4 border-b ${f}`,children:[r.jsx("h3",{className:`text-lg font-semibold ${x}`,children:c?" ":"Available Actions"}),r.jsx("button",{onClick:t,className:`p-1 rounded-full ${m} ${x}`,children:r.jsx(ru,{size:16})})]}),r.jsx("div",{className:`p-4 border-b ${f}`,children:r.jsx("div",{className:`text-sm ${x}`,children:r.jsx("div",{className:"font-medium",children:a.name})})}),r.jsx("div",{className:"p-2",children:g.map(b=>r.jsxs("button",{onClick:b.onClick,className:`w-full flex items-center gap-3 p-3 rounded-lg ${m} transition-colors duration-200`,children:[r.jsx(b.icon,{className:`${b.color} text-lg`}),r.jsx("span",{className:`${x} font-medium`,children:b.title})]},b.id))})]})]})};function pye(){const{t:e,i18n:t}=Dt(),{theme:a}=Vi(),[s,n]=w.useState([]),[i,l]=w.useState([]),[o,c]=w.useState([]),[d,u]=w.useState(null),[f,x]=w.useState(!1),[m,g]=w.useState(!1),[v,b]=w.useState({x:0,y:0}),[j,S]=w.useState(!1),[k,N]=w.useState(null),[A]=w.useState({x:0,y:0}),_=w.useRef(null),[D,P]=w.useState(""),[I,B]=w.useState("all"),[O,U]=w.useState("all"),[E,R]=w.useState("all"),[K,V]=w.useState("all"),[Z,J]=w.useState("all"),[ee,W]=w.useState("all"),[le,M]=w.useState("all"),[X,z]=w.useState("all"),[Q,ne]=w.useState(""),[re,oe]=w.useState(""),[q,ie]=w.useState(""),[ye,Y]=w.useState("all"),[ce,he]=w.useState(""),[ue,Fe]=w.useState("all"),[Ue,Te]=w.useState("all"),[ae,De]=w.useState(""),[Ce,at]=w.useState(""),[ft,zt]=w.useState("all"),[st,$e]=w.useState("all"),[qe,ct]=w.useState("all"),[dt,Nt]=w.useState(""),[Ct,Lt]=w.useState(!1),[Ht,Vt]=w.useState("deletedAt"),[Ne,Mt]=w.useState("desc"),[Ee,ze]=w.useState(1),[We]=w.useState(10),[xt,gt]=w.useState(""),[sa,Zt]=w.useState(""),[ka,ut]=w.useState(""),[ta,va]=w.useState(null),pa=Cc();w.useEffect(()=>{try{const Ge=new URLSearchParams(pa.search||"").get("stage");Ge&&J(Ge)}catch(ke){console.warn("Invalid stage param",ke)}},[pa.search]);const Ae={lead:e("Lead"),contact:e("Contact"),source:e("Source"),project:e("Project"),sales:e("Sales"),lastComment:e("Last Comment"),stage:e("Stage"),expectedRevenue:e("Expected Revenue"),priority:e("Priority"),status:e("Status"),deletedDate:e("Deleted Date"),actions:e("Actions")},[na,Za]=w.useState({lead:!0,contact:!0,source:!0,project:!0,sales:!0,lastComment:!0,stage:!0,expectedRevenue:!0,priority:!0,status:!0,deletedDate:!0,actions:!0}),[Ka,rr]=w.useState([]);w.useEffect(()=>{const ke=()=>{try{const qt=localStorage.getItem("crmStages");if(qt){const xa=JSON.parse(qt);rr(xa)}else rr([{name:"New",nameAr:"",icon:"",color:"#3B82F6"},{name:"Qualified",nameAr:"",icon:"",color:"#10B981"},{name:"In Progress",nameAr:" ",icon:"",color:"#F59E0B"},{name:"Converted",nameAr:" ",icon:"",color:"#8B5CF6"},{name:"Lost",nameAr:"",icon:"",color:"#EF4444"}])}catch(qt){console.error("Failed to load stages:",qt),rr([])}};ke();const Ge=qt=>{qt.key==="crmStages"&&ke()};return window.addEventListener("storage",Ge),()=>window.removeEventListener("storage",Ge)},[]),w.useEffect(()=>{const ke=localStorage.getItem("deletedLeads");ke&&n(JSON.parse(ke))},[]),w.useEffect(()=>{let ke=[...s];D&&(ke=ke.filter(Ge=>Ge.name?.toLowerCase().includes(D.toLowerCase())||Ge.email?.toLowerCase().includes(D.toLowerCase())||Ge.phone?.includes(D)||Ge.company?.toLowerCase().includes(D.toLowerCase()))),I!=="all"&&(ke=ke.filter(Ge=>Ge.status===I)),O!=="all"&&(ke=ke.filter(Ge=>Ge.source===O)),E!=="all"&&(ke=ke.filter(Ge=>Ge.priority===E)),K!=="all"&&(ke=ke.filter(Ge=>Ge.company===K)),Z!=="all"&&(ke=ke.filter(Ge=>Ge.stage===Z)),ee!=="all"&&(ke=ke.filter(Ge=>Ge.assignedTo===ee)),le!=="all"&&(ke=ke.filter(Ge=>Ge.assignedTo===le)),X!=="all"&&(ke=ke.filter(Ge=>Ge.createdBy===X)),dt&&(ke=ke.filter(Ge=>{const qt=new Date(Ge.deletedAt).toDateString(),xa=new Date(dt).toDateString();return qt===xa})),Ce&&(ke=ke.filter(Ge=>Ge.email?.toLowerCase().includes(Ce.toLowerCase()))),ae&&(ke=ke.filter(Ge=>Ge.estimatedValue>=parseFloat(ae))),ue!=="all"&&(ke=ke.filter(Ge=>Ge.campaign===ue)),Ue!=="all"&&(ke=ke.filter(Ge=>Ge.country===Ue)),ft!=="all"&&(ke=ke.filter(Ge=>Ge.whatsappIntent===ft)),st!=="all"&&(ke=ke.filter(Ge=>Ge.callType===st)),qe!=="all"&&(ke=ke.filter(Ge=>Ge.duplicateStatus===qe)),Q&&(ke=ke.filter(Ge=>{const qt=new Date(Ge.assignedAt).toDateString(),xa=new Date(Q).toDateString();return qt===xa})),re&&(ke=ke.filter(Ge=>{const qt=new Date(Ge.lastActionAt).toDateString(),xa=new Date(re).toDateString();return qt===xa})),q&&(ke=ke.filter(Ge=>{const qt=new Date(Ge.createdAt).toDateString(),xa=new Date(q).toDateString();return qt===xa})),ye!=="all"&&(ke=ke.filter(Ge=>Ge.oldStage===ye)),ce&&(ke=ke.filter(Ge=>{const qt=new Date(Ge.closedAt).toDateString(),xa=new Date(ce).toDateString();return qt===xa})),ke.sort((Ge,qt)=>{let xa=Ge[Ht],wa=qt[Ht];return Ht==="deletedAt"&&(xa=new Date(xa),wa=new Date(wa)),Ne==="asc"?xa>wa?1:-1:xa<wa?1:-1}),l(ke),ze(1)},[s,D,I,O,E,K,Z,ee,le,X,dt,Ce,ae,ue,Ue,ft,st,qe,Q,re,q,ye,ce,Ht,Ne]);const $a=Math.ceil(i.length/We),Ua=(Ee-1)*We,pe=i.slice(Ua,Ua+We),Me=ke=>({new:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",qualified:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300","in-progress":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",converted:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300",lost:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"})[ke]||"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300",we=ke=>({high:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",medium:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",low:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300"})[ke]||"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300",Se=ke=>({website:"","social-media":"",referral:"",email:"",phone:"",advertisement:""})[ke]||"",_e=()=>{o.length===pe.length?c([]):c(pe.map(ke=>ke.id))},Oe=ke=>{c(Ge=>Ge.includes(ke)?Ge.filter(qt=>qt!==ke):[...Ge,ke])},Ze=(ke,Ge)=>{if(Ge.target.type==="checkbox")return;const qt=Ge.currentTarget.getBoundingClientRect(),xa={x:qt.left+qt.width/2-160,y:qt.bottom};u(ke),b(xa),g(!0)},pt=ke=>{Za(Ge=>({...Ge,[ke]:!Ge[ke]}))},Xe=()=>{const ke=Object.keys(Ae).reduce((Ge,qt)=>(Ge[qt]=!0,Ge),{});Za(ke)},tt=ke=>{const Ge=s.find(qt=>qt.id===ke);if(Ge){const{deletedAt:qt,...xa}=Ge,wa=JSON.parse(localStorage.getItem("leads")||"[]");wa.push(xa),localStorage.setItem("leads",JSON.stringify(wa)),localStorage.setItem("leadsData",JSON.stringify(wa));try{window.dispatchEvent(new CustomEvent("leadsDataUpdated"))}catch{}const Wa=s.filter(Ws=>Ws.id!==ke);n(Wa),localStorage.setItem("deletedLeads",JSON.stringify(Wa)),va({key:"Lead restored successfully",params:{}}),setTimeout(()=>va(null),3e3)}},nt=ke=>{if(window.confirm(e("Are you sure you want to permanently delete this lead? This action cannot be undone."))){const Ge=s.filter(qt=>qt.id!==ke);n(Ge),localStorage.setItem("deletedLeads",JSON.stringify(Ge)),va({key:"Lead permanently deleted",params:{}}),setTimeout(()=>va(null),3e3)}},At=()=>{const ke=s.filter(Ge=>o.includes(Ge.id));if(ke.length>0){const Ge=JSON.parse(localStorage.getItem("leads")||"[]"),qt=ke.map(({deletedAt:wa,...Wa})=>Wa);Ge.push(...qt),localStorage.setItem("leads",JSON.stringify(Ge)),localStorage.setItem("leadsData",JSON.stringify(Ge));try{window.dispatchEvent(new CustomEvent("leadsDataUpdated"))}catch{}const xa=s.filter(wa=>!o.includes(wa.id));n(xa),localStorage.setItem("deletedLeads",JSON.stringify(xa)),c([]),va({key:`${ke.length} leads restored successfully`,params:{}}),setTimeout(()=>va(null),3e3)}},Ft=()=>{const ke=Math.max(1,parseInt(sa)||1),Ge=Math.min($a,parseInt(ka)||$a),qt=(ke-1)*We,xa=Ge*We,wa=i.slice(qt,xa),Wa=Jt.json_to_sheet(wa.map(Rr=>({Name:Rr.name,Email:Rr.email,Phone:Rr.phone,Company:Rr.company,Source:Rr.source,Status:Rr.status,Priority:Rr.priority,Stage:Rr.stage,"Expected Revenue":Rr.estimatedValue,"Assigned To":Rr.assignedTo,"Deleted Date":new Date(Rr.deletedAt).toLocaleDateString(),Notes:Rr.notes}))),Ws=Jt.book_new();Jt.book_append_sheet(Ws,Wa,"Deleted Leads"),gs(Ws,`deleted_leads_${new Date().toISOString().split("T")[0]}.xlsx`)},Qt=()=>{P(""),B("all"),U("all"),R("all"),V("all"),J("all"),W("all"),M("all"),z("all"),ne(""),oe(""),ie(""),Y("all"),he(""),Fe("all"),Te("all"),De(""),at(""),zt("all"),$e("all"),ct("all"),Nt("")};return r.jsxs("div",{className:"p-6 bg-[var(--content-bg)] text-[var(--content-text)] space-y-8 md:space-y-10 lg:space-y-12",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:e("Recycle Bin")}),r.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:[e("Manage deleted leads")," (",i.length," ",e("leads"),")"]})]})}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 mb-6 border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:r.jsx("svg",{className:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})})}),e("Filter Options")]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("button",{onClick:()=>Lt(!Ct),className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white font-medium rounded-lg shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[r.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${Ct?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),e(Ct?"Show Less":"Show More")]}),r.jsxs("button",{onClick:Qt,className:"flex items-center gap-2 px-6 py-3 bg-gray-500 hover:bg-gray-600 text-white font-medium rounded-lg shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),e("Reset")]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[r.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e("Search")]}),r.jsx("input",{type:"text",placeholder:e("Search leads..."),value:D,onChange:ke=>P(ke.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[r.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("Status")]}),r.jsxs("select",{value:I,onChange:ke=>B(ke.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[r.jsx("option",{value:"all",children:e("All Status")}),r.jsx("option",{value:"new",children:e("New")}),r.jsx("option",{value:"qualified",children:e("Qualified")}),r.jsx("option",{value:"in-progress",children:e("In Progress")}),r.jsx("option",{value:"converted",children:e("Converted")}),r.jsx("option",{value:"lost",children:e("Lost")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[r.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),e("Source")]}),r.jsxs("select",{value:O,onChange:ke=>U(ke.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[r.jsx("option",{value:"all",children:e("All Sources")}),r.jsx("option",{value:"website",children:e("Website")}),r.jsx("option",{value:"social-media",children:e("Social Media")}),r.jsx("option",{value:"referral",children:e("Referrals")}),r.jsx("option",{value:"email-campaign",children:e("Email Campaign")}),r.jsx("option",{value:"direct",children:e("Direct")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[r.jsx("svg",{className:"w-4 h-4 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("Priority")]}),r.jsxs("select",{value:E,onChange:ke=>R(ke.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[r.jsx("option",{value:"all",children:e("All Priority")}),r.jsx("option",{value:"high",children:e("High")}),r.jsx("option",{value:"medium",children:e("Medium")}),r.jsx("option",{value:"low",children:e("Low")})]})]})]}),Ct&&r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 pt-4 border-t border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[r.jsx("svg",{className:"w-4 h-4 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),e("Project")]}),r.jsxs("select",{value:K,onChange:ke=>V(ke.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[r.jsx("option",{value:"all",children:e("All Projects")}),r.jsx("option",{value:"project-a",children:e("Project A")}),r.jsx("option",{value:"project-b",children:e("Project B")}),r.jsx("option",{value:"project-c",children:e("Project C")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[r.jsx("svg",{className:"w-4 h-4 text-teal-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),e("Stage")]}),r.jsxs("select",{value:Z,onChange:ke=>J(ke.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[r.jsx("option",{value:"all",children:e("All Stages")}),Ka.map(ke=>r.jsxs("option",{value:ke.name,children:[ke.icon," ",t.language==="ar"&&ke.nameAr||ke.name]},ke.name))]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[r.jsx("svg",{className:"w-4 h-4 text-pink-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),e("Manager")]}),r.jsxs("select",{value:ee,onChange:ke=>W(ke.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[r.jsx("option",{value:"all",children:e("All Managers")}),r.jsx("option",{value:"ibrahim",children:e("Ibrahim Ahmed")}),r.jsx("option",{value:"sara",children:e("Sara Nour")}),r.jsx("option",{value:"ahmed",children:e("Ahmed Ali")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[r.jsx("svg",{className:"w-4 h-4 text-cyan-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),e("Sales Person")]}),r.jsxs("select",{value:le,onChange:ke=>M(ke.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[r.jsx("option",{value:"all",children:e("All Sales People")}),r.jsx("option",{value:" ",children:e("Ibrahim Ahmed")}),r.jsx("option",{value:" ",children:e("Sara Nour")}),r.jsx("option",{value:"Ahmed Ali",children:e("Ahmed Ali")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[r.jsx("svg",{className:"w-4 h-4 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),e("Created By")]}),r.jsxs("select",{value:X,onChange:ke=>z(ke.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[r.jsx("option",{value:"all",children:e("All Creators")}),r.jsx("option",{value:"system",children:e("System")}),r.jsx("option",{value:"admin",children:e("Admin")}),r.jsx("option",{value:"user",children:e("User")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[r.jsx("svg",{className:"w-4 h-4 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e("Deleted Date")]}),r.jsx("input",{type:"date",value:dt,onChange:ke=>Nt(ke.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[r.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e("Email")]}),r.jsx("input",{type:"text",placeholder:e("Filter by email"),value:Ce,onChange:ke=>at(ke.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[r.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),e("Expected Revenue")]}),r.jsx("input",{type:"number",placeholder:e("Minimum amount"),value:ae,onChange:ke=>De(ke.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[r.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z"})}),e("Campaign")]}),r.jsxs("select",{value:ue,onChange:ke=>Fe(ke.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[r.jsx("option",{value:"all",children:e("All Campaigns")}),r.jsx("option",{value:"summer-2024",children:e("Summer 2024")}),r.jsx("option",{value:"winter-2024",children:e("Winter 2024")}),r.jsx("option",{value:"spring-2025",children:e("Spring 2025")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[r.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("Country")]}),r.jsxs("select",{value:Ue,onChange:ke=>Te(ke.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[r.jsx("option",{value:"all",children:e("All Countries")}),r.jsx("option",{value:"saudi-arabia",children:e("Saudi Arabia")}),r.jsx("option",{value:"uae",children:e("UAE")}),r.jsx("option",{value:"egypt",children:e("Egypt")}),r.jsx("option",{value:"jordan",children:e("Jordan")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[r.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),e("WhatsApp Intents")]}),r.jsxs("select",{value:ft,onChange:ke=>zt(ke.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[r.jsx("option",{value:"all",children:e("All Intents")}),r.jsx("option",{value:"inquiry",children:e("Inquiry")}),r.jsx("option",{value:"support",children:e("Support")}),r.jsx("option",{value:"purchase",children:e("Purchase")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[r.jsx("svg",{className:"w-4 h-4 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),e("Call Type")]}),r.jsxs("select",{value:st,onChange:ke=>$e(ke.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[r.jsx("option",{value:"all",children:e("All Call Types")}),r.jsx("option",{value:"inbound",children:e("Inbound")}),r.jsx("option",{value:"outbound",children:e("Outbound")}),r.jsx("option",{value:"follow-up",children:e("Follow-up")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[r.jsx("svg",{className:"w-4 h-4 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),e("Duplicate Status")]}),r.jsxs("select",{value:qe,onChange:ke=>ct(ke.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[r.jsx("option",{value:"all",children:e("All Status")}),r.jsx("option",{value:"unique",children:e("Unique")}),r.jsx("option",{value:"duplicate",children:e("Duplicate")}),r.jsx("option",{value:"potential-duplicate",children:e("Potential Duplicate")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[r.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e("Assign Date")]}),r.jsx("input",{type:"date",value:Q,onChange:ke=>ne(ke.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[r.jsx("svg",{className:"w-4 h-4 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),t.language==="ar"?" ":e("Action Date")]}),r.jsx("input",{type:"date",value:re,onChange:ke=>oe(ke.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[r.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),e("Creation Date")]}),r.jsx("input",{type:"date",value:q,onChange:ke=>ie(ke.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[r.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("Old Stage")]}),r.jsxs("select",{value:ye,onChange:ke=>Y(ke.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[r.jsx("option",{value:"all",children:e("All Stages")}),Ka.map(ke=>r.jsx("option",{value:ke.name,children:t.language==="ar"?ke.nameAr:ke.name},ke.name))]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[r.jsx("svg",{className:"w-4 h-4 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),e("Closed Date")]}),r.jsx("input",{type:"date",value:ce,onChange:ke=>he(ke.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400"})]})]})]})]}),r.jsx("div",{className:"h-10 md:h-12 lg:h-14"}),r.jsxs("div",{className:"flex justify-between items-center mt-0 mb-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("button",{onClick:()=>{if(o.length===0){alert(e("Please select items to restore"));return}window.confirm(e("Are you sure you want to restore the selected leads?"))&&At()},className:"flex items-center gap-3 px-10 py-5 my-6 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold text-lg rounded-2xl shadow-2xl hover:shadow-green-500/50 transition-all duration-500 transform hover:scale-110 hover:-translate-y-2 active:scale-95 border-4 border-green-300 hover:border-green-200 ring-4 ring-green-200/30 hover:ring-green-300/50",children:[r.jsx(Bk,{className:"text-xl"}),e("Restore All")]}),r.jsxs("button",{onClick:()=>{if(o.length===0){alert(e("Please select items to delete"));return}window.confirm(e("Are you sure you want to permanently delete the selected leads? This action cannot be undone."))&&(n(ke=>ke.filter(Ge=>!o.includes(Ge.id))),localStorage.setItem("deletedLeads",JSON.stringify(s.filter(ke=>!o.includes(ke.id)))),c([]))},className:"flex items-center gap-3 px-10 py-5 my-6 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold text-lg rounded-2xl shadow-2xl hover:shadow-red-500/50 transition-all duration-500 transform hover:scale-110 hover:-translate-y-2 active:scale-95 border-4 border-red-300 hover:border-red-200 ring-4 ring-red-200/30 hover:ring-red-300/50",children:[r.jsx(Ik,{className:"text-xl"}),e("Permanent Delete")]})]}),r.jsx(RV,{columns:Ae,visibleColumns:na,onColumnToggle:pt,onResetColumns:Xe})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 mt-8 mb-0 border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[r.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),e("Deleted Lead Stages")]}),r.jsx("button",{onClick:()=>J("all"),className:`px-3 py-1.5 text-sm font-medium rounded-lg transition-all duration-200 ${Z==="all"?"bg-blue-600 text-white shadow-md":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:e("All Stages")})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:Ka.map(ke=>r.jsxs("button",{onClick:()=>J(ke.name),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm transition-all duration-200 transform hover:scale-105 ${Z===ke.name?"text-white shadow-lg scale-105":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500 shadow-sm hover:shadow-md"}`,style:Z===ke.name?{backgroundColor:ke.color||"#3B82F6"}:{},children:[r.jsx("span",{className:"text-lg",children:ke.icon}),r.jsx("span",{children:t.language==="ar"&&ke.nameAr||ke.name}),r.jsx("span",{className:`ml-1 px-2 py-0.5 text-xs rounded-full ${Z===ke.name?"bg-white/20 text-white":"bg-gray-100 dark:bg-gray-600 text-gray-600 dark:text-gray-400"}`,children:i.filter(Ge=>Ge.stage===ke.name).length})]},ke.name))})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[r.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:r.jsxs("tr",{children:[r.jsx("th",{scope:"col",className:"p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{id:"checkbox-all-search",type:"checkbox",className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600",checked:o.length===pe.length&&pe.length>0,onChange:_e}),r.jsx("label",{htmlFor:"checkbox-all-search",className:"sr-only",children:"checkbox"})]})}),na.lead&&r.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Lead")}),na.contact&&r.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Contact")}),na.source&&r.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Source")}),na.project&&r.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Project")}),na.sales&&r.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Sales")}),na.lastComment&&r.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Last Comment")}),na.stage&&r.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Stage")}),na.expectedRevenue&&r.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Expected Revenue")}),na.priority&&r.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Priority")}),na.status&&r.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Status")}),na.deletedDate&&r.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Deleted Date")}),na.actions&&r.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Actions")})]})}),r.jsx("tbody",{children:pe.map(ke=>r.jsxs("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 cursor-pointer",onClick:Ge=>Ze(ke,Ge),children:[r.jsx("td",{className:"w-4 p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{id:`checkbox-table-search-${ke.id}`,type:"checkbox",className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600",checked:o.includes(ke.id),onChange:()=>Oe(ke.id)}),r.jsx("label",{htmlFor:`checkbox-table-search-${ke.id}`,className:"sr-only",children:"checkbox"})]})}),na.lead&&r.jsx("th",{scope:"row",className:"flex items-center px-6 py-4 text-gray-900 whitespace-nowrap dark:text-white",children:r.jsx("div",{className:"pl-3",children:r.jsx("div",{className:"text-base font-semibold",children:ke.name})})}),na.contact&&r.jsxs("td",{className:"px-6 py-4",children:[r.jsx("div",{className:"font-normal text-gray-500",children:ke.email}),r.jsx("div",{className:"font-normal text-gray-500",children:ke.phone})]}),na.source&&r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:Se(ke.source)}),r.jsx("span",{className:"text-sm",children:e(ke.source)})]})}),na.project&&r.jsx("td",{className:"px-6 py-4",children:ke.company}),na.sales&&r.jsx("td",{className:"px-6 py-4",children:ke.assignedTo}),na.lastComment&&r.jsx("td",{className:"px-6 py-4",children:ke.notes}),na.stage&&r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${Me(ke.stage)}`,children:e(ke.stage)})}),na.expectedRevenue&&r.jsxs("td",{className:"px-6 py-4",children:["$",ke.estimatedValue?.toLocaleString()]}),na.priority&&r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${we(ke.priority)}`,children:e(ke.priority)})}),na.status&&r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${Me(ke.status)}`,children:e(ke.status)})}),na.deletedDate&&r.jsx("td",{className:"px-6 py-4",children:new Date(ke.deletedAt).toLocaleDateString()}),na.actions&&r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:Ge=>{Ge.stopPropagation(),u(ke),x(!0)},className:"text-blue-600 hover:text-blue-900 p-3",title:e("preview"),children:r.jsx(dd,{size:16})}),r.jsx("button",{onClick:Ge=>{Ge.stopPropagation(),tt(ke.id)},className:"text-green-600 hover:text-green-900 p-3",title:e("Restore"),children:r.jsx(Bk,{size:16})}),r.jsx("button",{onClick:Ge=>{Ge.stopPropagation(),nt(ke.id)},className:"text-red-600 hover:text-red-900 p-3",title:e("Permanent Delete"),children:r.jsx(Ik,{size:16})})]})})]},ke.id))})]})}),pe.length===0&&r.jsx("div",{className:"p-6 text-center text-gray-600 dark:text-gray-300",children:e("No deleted leads found")}),$a>1&&r.jsxs("nav",{className:"flex items-center justify-between p-4","aria-label":"Table navigation",children:[r.jsxs("span",{className:"text-sm font-normal text-gray-500 dark:text-gray-400",children:[e("Showing")," ",r.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:[Ua+1,"-",Math.min(Ua+We,i.length)]})," ",e("of")," ",r.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:i.length})]}),r.jsxs("ul",{className:"inline-flex items-center -space-x-px gap-2",children:[r.jsx("li",{children:r.jsxs("button",{onClick:()=>ze(ke=>Math.max(ke-1,1)),disabled:Ee===1,className:"block px-4 py-3 ml-0 leading-tight text-gray-500 bg-white border border-gray-300 rounded-l-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white disabled:opacity-50",children:[r.jsx("span",{className:"sr-only",children:e("Previous")}),r.jsx("svg",{className:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]})}),Array.from({length:Math.min(3,$a)},(ke,Ge)=>Ge+1).map(ke=>r.jsx("li",{children:r.jsx("button",{onClick:()=>ze(ke),className:`px-4 py-3 leading-tight ${Ee===ke?"text-blue-600 border border-blue-300 bg-blue-50 hover:bg-blue-100 hover:text-blue-700 dark:border-gray-700 dark:bg-gray-700 dark:text-white":"text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"}`,children:ke})},ke)),r.jsxs("li",{className:"flex items-center gap-2 ml-3",children:[r.jsx("input",{type:"number",min:1,max:$a,value:xt,onChange:ke=>gt(ke.target.value),placeholder:e("Search"),className:"w-16 px-2 py-1 text-sm border rounded-md dark:bg-gray-800 dark:text-gray-200"}),r.jsx("button",{onClick:()=>{const ke=Math.max(1,Math.min(Number(xt)||1,$a));ze(ke)},className:"px-3 py-2 text-sm bg-gray-100 hover:bg-gray-200 border rounded-md dark:bg-gray-700 dark:border-gray-600",children:r.jsx(rx,{className:"w-4 h-4"})})]}),r.jsxs("li",{className:"flex items-center gap-2 ml-3",children:[r.jsx("input",{type:"number",min:1,max:$a,value:sa,onChange:ke=>Zt(ke.target.value),placeholder:e("From"),className:"w-20 px-2 py-1 text-sm border rounded-md dark:bg-gray-800 dark:text-gray-200"}),r.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:e("To")}),r.jsx("input",{type:"number",min:1,max:$a,value:ka,onChange:ke=>ut(ke.target.value),placeholder:e("To"),className:"w-20 px-2 py-1 text-sm border rounded-md dark:bg-gray-800 dark:text-gray-200"}),r.jsxs("button",{onClick:Ft,className:"px-4 py-2 text-sm bg-blue-600 text-white hover:bg-blue-700 border rounded-md dark:bg-blue-500 dark:border-blue-400 flex items-center gap-1",children:[r.jsx(eh,{className:"w-4 h-4"}),e("Export Data")]})]}),r.jsx("li",{children:r.jsxs("button",{onClick:()=>ze(ke=>Math.min(ke+1,$a)),disabled:Ee===$a,className:"block px-4 py-3 leading-tight text-gray-500 bg-white border border-gray-300 rounded-r-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white disabled:opacity-50",children:[r.jsx("span",{className:"sr-only",children:e("Next")}),r.jsx("svg",{className:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})})]})]})]}),f&&r.jsx(Rv,{isOpen:f,onClose:()=>{x(!1),u(null)},lead:d,isArabic:t.language==="ar",theme:a}),m&&r.jsx(mye,{isOpen:m,onClose:()=>{g(!1),u(null)},lead:d,position:v,onRestore:tt,onPermanentDelete:nt,onView:ke=>{u(ke),x(!0)},theme:a,isArabic:t.language==="ar"}),j&&k&&r.jsx(tz,{lead:k,position:A,innerRef:_,onAction:ke=>{switch(S(!1),N(null),ke){case"view":u(k),x(!0);break;case"restore":tt(k.id);break;case"delete":nt(k.id);break}},isRtl:t.language==="ar"})]})}const xye=[{iso2:"EG",nameAr:"",nameEn:"Egypt",dialCode:"+20",flag:""},{iso2:"SA",nameAr:"",nameEn:"Saudi Arabia",dialCode:"+966",flag:""},{iso2:"AE",nameAr:"",nameEn:"United Arab Emirates",dialCode:"+971",flag:""},{iso2:"KW",nameAr:"",nameEn:"Kuwait",dialCode:"+965",flag:""},{iso2:"QA",nameAr:"",nameEn:"Qatar",dialCode:"+974",flag:""},{iso2:"BH",nameAr:"",nameEn:"Bahrain",dialCode:"+973",flag:""},{iso2:"OM",nameAr:"",nameEn:"Oman",dialCode:"+968",flag:""},{iso2:"JO",nameAr:"",nameEn:"Jordan",dialCode:"+962",flag:""},{iso2:"LB",nameAr:"",nameEn:"Lebanon",dialCode:"+961",flag:""},{iso2:"SY",nameAr:"",nameEn:"Syria",dialCode:"+963",flag:""},{iso2:"IQ",nameAr:"",nameEn:"Iraq",dialCode:"+964",flag:""},{iso2:"PS",nameAr:"",nameEn:"Palestine",dialCode:"+970",flag:""},{iso2:"MA",nameAr:"",nameEn:"Morocco",dialCode:"+212",flag:""},{iso2:"DZ",nameAr:"",nameEn:"Algeria",dialCode:"+213",flag:""},{iso2:"TN",nameAr:"",nameEn:"Tunisia",dialCode:"+216",flag:""},{iso2:"LY",nameAr:"",nameEn:"Libya",dialCode:"+218",flag:""},{iso2:"SD",nameAr:"",nameEn:"Sudan",dialCode:"+249",flag:""},{iso2:"SO",nameAr:"",nameEn:"Somalia",dialCode:"+252",flag:""},{iso2:"DJ",nameAr:"",nameEn:"Djibouti",dialCode:"+253",flag:""},{iso2:"KM",nameAr:" ",nameEn:"Comoros",dialCode:"+269",flag:""},{iso2:"MR",nameAr:"",nameEn:"Mauritania",dialCode:"+222",flag:""},{iso2:"YE",nameAr:"",nameEn:"Yemen",dialCode:"+967",flag:""},{iso2:"US",nameAr:" ",nameEn:"United States",dialCode:"+1",flag:""},{iso2:"CA",nameAr:"",nameEn:"Canada",dialCode:"+1",flag:""},{iso2:"GB",nameAr:" ",nameEn:"United Kingdom",dialCode:"+44",flag:""},{iso2:"FR",nameAr:"",nameEn:"France",dialCode:"+33",flag:""},{iso2:"DE",nameAr:"",nameEn:"Germany",dialCode:"+49",flag:""},{iso2:"IT",nameAr:"",nameEn:"Italy",dialCode:"+39",flag:""},{iso2:"ES",nameAr:"",nameEn:"Spain",dialCode:"+34",flag:""},{iso2:"JP",nameAr:"",nameEn:"Japan",dialCode:"+81",flag:""},{iso2:"KR",nameAr:" ",nameEn:"South Korea",dialCode:"+82",flag:""},{iso2:"CN",nameAr:"",nameEn:"China",dialCode:"+86",flag:""},{iso2:"IN",nameAr:"",nameEn:"India",dialCode:"+91",flag:""},{iso2:"PK",nameAr:"",nameEn:"Pakistan",dialCode:"+92",flag:""},{iso2:"BD",nameAr:"",nameEn:"Bangladesh",dialCode:"+880",flag:""},{iso2:"ID",nameAr:"",nameEn:"Indonesia",dialCode:"+62",flag:""},{iso2:"PH",nameAr:"",nameEn:"Philippines",dialCode:"+63",flag:""},{iso2:"MY",nameAr:"",nameEn:"Malaysia",dialCode:"+60",flag:""},{iso2:"SG",nameAr:"",nameEn:"Singapore",dialCode:"+65",flag:""},{iso2:"TH",nameAr:"",nameEn:"Thailand",dialCode:"+66",flag:""},{iso2:"VN",nameAr:"",nameEn:"Vietnam",dialCode:"+84",flag:""},{iso2:"IR",nameAr:"",nameEn:"Iran",dialCode:"+98",flag:""},{iso2:"TR",nameAr:"",nameEn:"Turkey",dialCode:"+90",flag:""},{iso2:"RU",nameAr:"",nameEn:"Russia",dialCode:"+7",flag:""},{iso2:"UA",nameAr:"",nameEn:"Ukraine",dialCode:"+380",flag:""},{iso2:"AU",nameAr:"",nameEn:"Australia",dialCode:"+61",flag:""},{iso2:"NZ",nameAr:"",nameEn:"New Zealand",dialCode:"+64",flag:""},{iso2:"BR",nameAr:"",nameEn:"Brazil",dialCode:"+55",flag:""},{iso2:"MX",nameAr:"",nameEn:"Mexico",dialCode:"+52",flag:""},{iso2:"AR",nameAr:"",nameEn:"Argentina",dialCode:"+54",flag:""},{iso2:"ZA",nameAr:" ",nameEn:"South Africa",dialCode:"+27",flag:""},{iso2:"NG",nameAr:"",nameEn:"Nigeria",dialCode:"+234",flag:""},{iso2:"KE",nameAr:"",nameEn:"Kenya",dialCode:"+254",flag:""},{iso2:"ET",nameAr:"",nameEn:"Ethiopia",dialCode:"+251",flag:""},{iso2:"IL",nameAr:"",nameEn:"Israel",dialCode:"+972",flag:""},{iso2:"SE",nameAr:"",nameEn:"Sweden",dialCode:"+46",flag:""},{iso2:"NO",nameAr:"",nameEn:"Norway",dialCode:"+47",flag:""},{iso2:"DK",nameAr:"",nameEn:"Denmark",dialCode:"+45",flag:""},{iso2:"FI",nameAr:"",nameEn:"Finland",dialCode:"+358",flag:""},{iso2:"NL",nameAr:"",nameEn:"Netherlands",dialCode:"+31",flag:""},{iso2:"BE",nameAr:"",nameEn:"Belgium",dialCode:"+32",flag:""},{iso2:"CH",nameAr:"",nameEn:"Switzerland",dialCode:"+41",flag:""},{iso2:"AT",nameAr:"",nameEn:"Austria",dialCode:"+43",flag:""},{iso2:"PT",nameAr:"",nameEn:"Portugal",dialCode:"+351",flag:""},{iso2:"GR",nameAr:"",nameEn:"Greece",dialCode:"+30",flag:""},{iso2:"PL",nameAr:"",nameEn:"Poland",dialCode:"+48",flag:""},{iso2:"CZ",nameAr:"",nameEn:"Czech Republic",dialCode:"+420",flag:""},{iso2:"HU",nameAr:"",nameEn:"Hungary",dialCode:"+36",flag:""}],gye=()=>{const{t:e,i18n:t}=Dt(),{theme:a}=Vi(),s=a==="light",n=ti(),[i,l]=w.useState(""),[o,c]=w.useState(""),[d,u]=w.useState(""),[f,x]=w.useState(""),[m,g]=w.useState(""),[v,b]=w.useState(""),[j,S]=w.useState(""),[k,N]=w.useState([{code:"+20",number:""}]),[A,_]=w.useState(""),[D,P]=w.useState(""),{stages:I,statuses:B}=Ov(),[O,U]=w.useState(""),[E,R]=w.useState(""),[K,V]=w.useState(""),[Z,J]=w.useState("medium"),[ee,W]=w.useState(!1),[le,M]=w.useState([]),X=()=>{M(ae=>[...ae,{name:"",source:"",project:"",company:"",type:"",tags:"",expectedRevenue:"",mobileNumbers:[{code:k[0]?.code||"+20",number:""}],email:"",assignedTo:"",stage:"",status:"",priority:"medium",note:"",collapsed:!1}])},z=(ae,De,Ce)=>{M(at=>at.map((ft,zt)=>zt===ae?{...ft,[De]:Ce}:ft))},Q=ae=>{M(De=>De.map((Ce,at)=>at===ae?{...Ce,mobileNumbers:[...Ce.mobileNumbers||[{code:"+20",number:""}],{code:Ce.mobileNumbers?.[0]?.code||"+20",number:""}]}:Ce))},ne=(ae,De,Ce,at)=>{M(ft=>ft.map((zt,st)=>{if(st!==ae)return zt;const qe=(zt.mobileNumbers||[{code:"+20",number:""}]).map((ct,dt)=>dt===De?{...ct,[Ce]:at}:ct);return{...zt,mobileNumbers:qe}}))},re=ae=>{M(De=>De.map((Ce,at)=>at===ae?{...Ce,collapsed:!Ce.collapsed}:Ce))},oe=ae=>{M(De=>De.filter((Ce,at)=>at!==ae))},q=()=>{N(ae=>[...ae,{code:ae[0]?.code||"+20",number:""}])},ie=(ae,De,Ce)=>{N(at=>at.map((ft,zt)=>zt===ae?{...ft,[De]:Ce}:ft))},ye=s?"bg-white border-gray-200":"bg-blue-900/40 border-blue-800",Y=s?"text-gray-700":"text-gray-200",ce=s?"bg-white border-gray-300 focus:ring-blue-500 focus:border-blue-500":"bg-gray-900/50 border-gray-700 text-white focus:ring-blue-400 focus:border-blue-400",he=i.trim().length>0&&o.trim().length>0&&d.trim().length>0&&String(j).trim().length>0&&k.length>0&&k.every(ae=>ae.number.trim().length>0)&&A.trim().length>0&&O.trim().length>0&&E!==""&&K!=="",ue=ae=>(ae.name||"").trim().length>0&&(ae.source||"").trim().length>0&&(ae.project||"").trim().length>0&&String(ae.expectedRevenue||"").trim().length>0&&Array.isArray(ae.mobileNumbers)&&ae.mobileNumbers.length>0&&ae.mobileNumbers.every(De=>(De.number||"").trim().length>0)&&(ae.email||"").trim().length>0&&(ae.assignedTo||"").trim().length>0&&(ae.stage||"")!==""&&(ae.status||"")!=="",Fe=he&&le.every(ue),Ue=({value:ae,onChange:De})=>r.jsx("select",{value:ae,onChange:Ce=>De(Ce.target.value),className:`w-20 rounded-md border px-2 py-2 ${ce}`,children:xye.map(Ce=>r.jsxs("option",{value:Ce.dialCode,children:[Ce.flag," ",Ce.dialCode]},Ce.iso2+Ce.dialCode))}),Te=()=>{const ae=i.trim(),De=[];if(ae||De.push(t.language==="ar"?"":e("Name")),o.trim()||De.push(t.language==="ar"?"":e("Source")),d.trim()||De.push(t.language==="ar"?"":e("Project")),j.trim()||De.push(t.language==="ar"?" ":e("Expected Revenue")),(!k.length||!k.every(qe=>qe.number.trim()))&&De.push(t.language==="ar"?" ":e("Mobile")),A.trim()||De.push(t.language==="ar"?" ":e("Email")),O.trim()||De.push(t.language==="ar"?"":e("Sales")),E||De.push(t.language==="ar"?"":e("Stage")),K||De.push(t.language==="ar"?"":e("Status")),De.length>0){alert(t.language==="ar"?`     (  ):
- ${De.join(`
- `)}`:`Please fill all fields (except notes):
- ${De.join(`
- `)}`);return}const Ce=le.map((qe,ct)=>ue(qe)?null:ct+1).filter(Boolean);if(Ce.length){alert(t.language==="ar"?`    : ${Ce.join(", ")}
     (  ).`:`Some additional leads are incomplete: ${Ce.join(", ")}
Please fill all required fields (except notes).`);return}const at=new Date().toISOString(),ft={id:Date.now(),name:ae,email:A.trim()||"",phone:k.filter(qe=>qe.number.trim()).map(qe=>`${qe.code} ${qe.number}`).join(" / "),company:f.trim()||d.trim()||"",type:m||(f.trim()||d.trim()?"Company":"Individual"),tags:v.trim()||"",stage:E,status:K,priority:Z,source:o,assignedTo:O.trim()||"",createdAt:at,lastContact:at,notes:D.trim()||"",estimatedValue:j,probability:0},zt=le.map((qe,ct)=>({id:Date.now()+ct+1,name:(qe.name||"").trim(),email:(qe.email||"").trim(),phone:(Array.isArray(qe.mobileNumbers)?qe.mobileNumbers:[]).filter(dt=>(dt.number||"").trim()).map(dt=>`${dt.code} ${dt.number}`).join(" / "),company:(qe.company||qe.project||"").trim(),type:qe.type||(qe.company||qe.project?"Company":"Individual"),tags:(qe.tags||"").trim(),stage:qe.stage||"",status:qe.status||"",priority:qe.priority||"medium",source:qe.source||"",assignedTo:(qe.assignedTo||"").trim(),createdAt:at,lastContact:at,notes:(qe.note||"").trim(),estimatedValue:qe.expectedRevenue||"",probability:0})),st=JSON.parse(localStorage.getItem("leadsData")||"[]"),$e=[ft,...zt,...st];localStorage.setItem("leadsData",JSON.stringify($e)),window.dispatchEvent(new Event("leadsDataUpdated")),alert(t.language==="ar"?"   ":e("Lead added successfully")),n("/leads")};return r.jsxs("div",{className:"p-6 pb-24 bg-[var(--content-bg)] text-[var(--content-text)]",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:e("Add New Lead")}),r.jsxs("div",{className:`p-4 md:p-6 rounded-lg border ${ye}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h2",{className:"text-lg font-semibold",children:t.language==="ar"?" ":e("Primary Lead")}),r.jsx("button",{type:"button",onClick:()=>W(!ee),className:`p-2 rounded-md ${s?"bg-gray-100 text-gray-700":"bg-gray-800 text-gray-200"} hover:opacity-90`,"aria-label":t.language==="ar"?ee?"":"":e(ee?"Expand":"Collapse"),children:ee?r.jsx(vM,{className:"w-4 h-4"}):r.jsx(bM,{className:"w-4 h-4"})})]}),!ee&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium mb-1 ${Y}`,children:e("Name")}),r.jsx("input",{type:"text",value:i,onChange:ae=>l(ae.target.value),className:`w-full rounded-md border px-3 py-2 ${ce}`,placeholder:e("Enter name")})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium mb-1 ${Y}`,children:e("Source")}),r.jsxs("select",{value:o,onChange:ae=>c(ae.target.value),className:`w-full rounded-md border px-3 py-2 ${ce}`,children:[r.jsx("option",{value:"",children:e("Select")}),r.jsx("option",{value:"social-media",children:"Facebook"}),r.jsx("option",{value:"website",children:"Website"}),r.jsx("option",{value:"referral",children:"Referral"}),r.jsx("option",{value:"email-campaign",children:"Campaign"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium mb-1 ${Y}`,children:e("Project")}),r.jsx("input",{type:"text",value:d,onChange:ae=>u(ae.target.value),className:`w-full rounded-md border px-3 py-2 ${ce}`,placeholder:e("Project name")})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium mb-1 ${Y}`,children:e("Type")}),r.jsxs("select",{value:m,onChange:ae=>g(ae.target.value),className:`w-full rounded-md border px-3 py-2 ${ce}`,children:[r.jsx("option",{value:"",children:e("Select")}),r.jsx("option",{value:"Company",children:e("Company")}),r.jsx("option",{value:"Individual",children:e("Individual")})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium mb-1 ${Y}`,children:e("Company")}),r.jsx("input",{type:"text",value:f,onChange:ae=>x(ae.target.value),className:`w-full rounded-md border px-3 py-2 ${ce}`,placeholder:e("Company")})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium mb-1 ${Y}`,children:e("Expected Revenue")}),r.jsx("input",{type:"number",value:j,onChange:ae=>S(ae.target.value),className:`w-full rounded-md border px-3 py-2 ${ce}`,placeholder:e("Amount")})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium mb-1 ${Y}`,children:e("Stage")}),r.jsxs("select",{value:E,onChange:ae=>R(ae.target.value),className:`w-full rounded-md border px-3 py-2 ${ce}`,children:[r.jsx("option",{value:"",children:e("Select")}),I.map(ae=>r.jsxs("option",{value:ae.name,children:[ae.icon," ",t.language==="ar"&&ae.nameAr||ae.name]},ae.name))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium mb-1 ${Y}`,children:e("Priority")}),r.jsxs("select",{value:Z,onChange:ae=>J(ae.target.value),className:`w-full rounded-md border px-3 py-2 ${ce}`,children:[r.jsx("option",{value:"low",children:e("Low")}),r.jsx("option",{value:"medium",children:e("Medium")}),r.jsx("option",{value:"high",children:e("High")})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium mb-1 ${Y}`,children:e("Mobile")}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ue,{value:k[0]?.code,onChange:ae=>ie(0,"code",ae)}),r.jsx("input",{type:"tel",value:k[0]?.number,onChange:ae=>ie(0,"number",ae.target.value),className:`flex-1 rounded-md border px-3 py-2 ${ce}`,placeholder:e("Mobile number")}),r.jsx("button",{type:"button",onClick:q,className:`inline-flex items-center justify-center px-3 py-2 rounded-md border ${s?"bg-blue-50 border-blue-300 text-blue-700 hover:bg-blue-100":"bg-gray-800 border-gray-700 text-blue-300 hover:bg-gray-700"}`,"aria-label":e("Add another number"),title:e("Add another number"),children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]}),k.slice(1).map((ae,De)=>r.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[r.jsx(Ue,{value:ae.code,onChange:Ce=>ie(De+1,"code",Ce)}),r.jsx("input",{type:"tel",value:ae.number,onChange:Ce=>ie(De+1,"number",Ce.target.value),className:`flex-1 rounded-md border px-3 py-2 ${ce}`,placeholder:e("Another mobile number")})]},De))]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium mb-1 ${Y}`,children:e("Email")}),r.jsx("input",{type:"email",value:A,onChange:ae=>_(ae.target.value),className:`w-full rounded-md border px-3 py-2 ${ce}`,placeholder:e("Email address")})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium mb-1 ${Y}`,children:e("Tags")}),r.jsx("input",{type:"text",value:v,onChange:ae=>b(ae.target.value),className:`w-full rounded-md border px-3 py-2 ${ce}`,placeholder:t.language==="ar"?"   ":"Comma-separated tags"})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium mb-1 ${Y}`,children:e("Sales")}),r.jsx("input",{type:"text",value:O,onChange:ae=>U(ae.target.value),className:`w-full rounded-md border px-3 py-2 ${ce}`,placeholder:e("Assigned to")})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium mb-1 ${Y}`,children:e("Status")}),r.jsxs("select",{value:K,onChange:ae=>V(ae.target.value),className:`w-full rounded-md border px-3 py-2 ${ce}`,children:[r.jsx("option",{value:"",children:e("Select")}),B.map(ae=>r.jsxs("option",{value:ae.name,children:[ae.icon," ",t.language==="ar"&&ae.nameAr||ae.name]},ae.name))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium mb-1 ${Y}`,children:e("Last Comment")}),r.jsx("textarea",{rows:4,value:D,onChange:ae=>P(ae.target.value),className:`w-full rounded-md border px-3 py-2 ${ce}`,placeholder:e("Write notes here")})]})]})]}),r.jsx("div",{className:"mt-6",children:le.map((ae,De)=>r.jsxs("div",{className:`mt-3 rounded-lg border p-4 ${ye}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"font-medium",children:ae.name?.trim()?ae.name:t.language==="ar"?` #${De+1}`:`Lead #${De+1}`}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{type:"button",onClick:()=>re(De),className:`p-2 rounded-md ${s?"bg-gray-100 text-gray-700":"bg-gray-800 text-gray-200"} hover:opacity-90`,"aria-label":t.language==="ar"?ae.collapsed?"":"":ae.collapsed?e("Expand"):e("Collapse"),title:t.language==="ar"?ae.collapsed?"":"":ae.collapsed?e("Expand"):e("Collapse"),children:ae.collapsed?r.jsx(vM,{className:"w-4 h-4"}):r.jsx(bM,{className:"w-4 h-4"})}),r.jsx("button",{type:"button",onClick:()=>oe(De),className:"px-3 py-1 rounded-md bg-red-600 text-white hover:bg-red-700",children:t.language==="ar"?"":e("Delete")})]})]}),!ae.collapsed&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium mb-1 ${Y}`,children:e("Name")}),r.jsx("input",{type:"text",value:ae.name,onChange:Ce=>z(De,"name",Ce.target.value),className:`w-full rounded-md border px-3 py-2 ${ce}`})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium mb-1 ${Y}`,children:e("Source")}),r.jsxs("select",{value:ae.source,onChange:Ce=>z(De,"source",Ce.target.value),className:`w-full rounded-md border px-3 py-2 ${ce}`,children:[r.jsx("option",{value:"",children:e("Select")}),r.jsx("option",{value:"social-media",children:"Facebook"}),r.jsx("option",{value:"website",children:"Website"}),r.jsx("option",{value:"referral",children:"Referral"}),r.jsx("option",{value:"email-campaign",children:"Campaign"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium mb-1 ${Y}`,children:e("Project")}),r.jsx("input",{type:"text",value:ae.project,onChange:Ce=>z(De,"project",Ce.target.value),className:`w-full rounded-md border px-3 py-2 ${ce}`})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium mb-1 ${Y}`,children:e("Type")}),r.jsxs("select",{value:ae.type||"",onChange:Ce=>z(De,"type",Ce.target.value),className:`w-full rounded-md border px-3 py-2 ${ce}`,children:[r.jsx("option",{value:"",children:e("Select")}),r.jsx("option",{value:"Company",children:e("Company")}),r.jsx("option",{value:"Individual",children:e("Individual")})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium mb-1 ${Y}`,children:e("Company")}),r.jsx("input",{type:"text",value:ae.company||"",onChange:Ce=>z(De,"company",Ce.target.value),className:`w-full rounded-md border px-3 py-2 ${ce}`})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium mb-1 ${Y}`,children:e("Expected Revenue")}),r.jsx("input",{type:"number",value:ae.expectedRevenue,onChange:Ce=>z(De,"expectedRevenue",Ce.target.value),className:`w-full rounded-md border px-3 py-2 ${ce}`})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium mb-1 ${Y}`,children:e("Mobile")}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ue,{value:ae.mobileNumbers?.[0]?.code||"+20",onChange:Ce=>ne(De,0,"code",Ce)}),r.jsx("input",{type:"tel",value:ae.mobileNumbers?.[0]?.number||"",onChange:Ce=>ne(De,0,"number",Ce.target.value),className:`flex-1 rounded-md border px-3 py-2 ${ce}`}),r.jsx("button",{type:"button",onClick:()=>Q(De),className:`inline-flex items-center justify-center px-3 py-2 rounded-md border ${s?"bg-blue-50 border-blue-300 text-blue-700 hover:bg-blue-100":"bg-gray-800 border-gray-700 text-blue-300 hover:bg-gray-700"}`,"aria-label":e("Add another number"),title:e("Add another number"),children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]}),(ae.mobileNumbers||[]).slice(1).map((Ce,at)=>r.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[r.jsx(Ue,{value:Ce.code,onChange:ft=>ne(De,at+1,"code",ft)}),r.jsx("input",{type:"tel",value:Ce.number,onChange:ft=>ne(De,at+1,"number",ft.target.value),className:`flex-1 rounded-md border px-3 py-2 ${ce}`})]},at))]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium mb-1 ${Y}`,children:e("Email")}),r.jsx("input",{type:"email",value:ae.email,onChange:Ce=>z(De,"email",Ce.target.value),className:`w-full rounded-md border px-3 py-2 ${ce}`})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium mb-1 ${Y}`,children:e("Tags")}),r.jsx("input",{type:"text",value:ae.tags||"",onChange:Ce=>z(De,"tags",Ce.target.value),className:`w-full rounded-md border px-3 py-2 ${ce}`})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium mb-1 ${Y}`,children:e("Sales")}),r.jsx("input",{type:"text",value:ae.assignedTo,onChange:Ce=>z(De,"assignedTo",Ce.target.value),className:`w-full rounded-md border px-3 py-2 ${ce}`})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium mb-1 ${Y}`,children:e("Stage")}),r.jsxs("select",{value:ae.stage,onChange:Ce=>z(De,"stage",Ce.target.value),className:`w-full rounded-md border px-3 py-2 ${ce}`,children:[r.jsx("option",{value:"",children:e("Select")}),I.map(Ce=>r.jsxs("option",{value:Ce.name,children:[Ce.icon," ",t.language==="ar"&&Ce.nameAr||Ce.name]},Ce.name))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium mb-1 ${Y}`,children:e("Priority")}),r.jsxs("select",{value:ae.priority,onChange:Ce=>z(De,"priority",Ce.target.value),className:`w-full rounded-md border px-3 py-2 ${ce}`,children:[r.jsx("option",{value:"low",children:e("Low")}),r.jsx("option",{value:"medium",children:e("Medium")}),r.jsx("option",{value:"high",children:e("High")})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium mb-1 ${Y}`,children:e("Status")}),r.jsxs("select",{value:ae.status,onChange:Ce=>z(De,"status",Ce.target.value),className:`w-full rounded-md border px-3 py-2 ${ce}`,children:[r.jsx("option",{value:"",children:e("Select")}),B.map(Ce=>r.jsxs("option",{value:Ce.name,children:[Ce.icon," ",t.language==="ar"&&Ce.nameAr||Ce.name]},Ce.name))]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:`block text-sm font-medium mb-1 ${Y}`,children:e("Last Comment")}),r.jsx("textarea",{rows:3,value:ae.note,onChange:Ce=>z(De,"note",Ce.target.value),className:`w-full rounded-md border px-3 py-2 ${ce}`})]})]})]},De))})]}),r.jsx("div",{className:`sticky bottom-0 left-0 right-0 z-50 border-t-2 ${s?"bg-white border-gray-300 shadow-2xl":"bg-gray-900 border-gray-600 shadow-2xl"} backdrop-blur-md mt-6`,children:r.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("h2",{className:`text-lg font-bold ${s?"text-purple-700":"text-cyan-300"}`,children:t.language==="ar"?" ":e("Additional Leads")}),r.jsx("button",{type:"button",onClick:X,className:`inline-flex items-center justify-center p-2 rounded-md border-2 transition-all duration-200 ${s?"bg-blue-50 border-blue-400 text-blue-700 hover:bg-blue-100 hover:border-blue-500":"bg-gray-800 border-gray-600 text-blue-300 hover:bg-gray-700 hover:border-gray-500"} hover:opacity-95 hover:shadow-lg active:scale-95`,"aria-label":t.language==="ar"?" ":e("Add Lead"),title:t.language==="ar"?" ":e("Add Lead"),children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]}),r.jsx("div",{className:"inline-flex w-fit",children:r.jsx("button",{type:"button",onClick:Te,disabled:!Fe,className:`inline-flex items-center gap-2 px-6 py-2 rounded-md font-bold transition-all duration-150 ease-out transform disabled:opacity-50 disabled:cursor-not-allowed disabled:pointer-events-none hover:opacity-95 hover:-translate-y-0.5 active:scale-95 focus:outline-none focus:ring-2 focus:ring-emerald-500/60 shadow-lg hover:shadow-xl ${s?"bg-green-600 hover:bg-green-700 active:bg-green-800 text-white border-2 border-green-500":"bg-emerald-700 hover:bg-emerald-800 active:bg-emerald-900 text-white border-2 border-emerald-600"}`,children:t.language==="ar"?" ":e("Confirm Add")})})]})})]})},qf="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='128'%20height='128'%20viewBox='0%200%20128%20128'%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%3e%3cdefs%3e%3clinearGradient%20id='brandGradient'%20x1='12'%20y1='12'%20x2='116'%20y2='116'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0%25'%20stop-color='%23ffffff'/%3e%3cstop%20offset='45%25'%20stop-color='%23c7d2fe'/%3e%3c!--%20indigo-200%20--%3e%3cstop%20offset='100%25'%20stop-color='%237c3aed'/%3e%3c!--%20violet-600%20--%3e%3c/linearGradient%3e%3c/defs%3e%3crect%20x='12'%20y='12'%20width='104'%20height='104'%20rx='18'%20stroke='url(%23brandGradient)'%20stroke-width='10'%20/%3e%3c!--%20Stylized%20B%20with%20an%20arrow%20to%20suggest%20simplicity/progress%20--%3e%3cpath%20d='M44%2032%20h24%20c14%200%2022%208%2022%2020%20c0%208%20-5%2014%20-12%2016%20c8%202%2014%208%2014%2018%20c0%2012%20-10%2020%20-24%2020%20H44%20V32%20Z'%20stroke='url(%23brandGradient)'%20stroke-width='10'/%3e%3cpath%20d='M24%2064%20H64'%20stroke='url(%23brandGradient)'%20stroke-width='10'/%3e%3cpath%20d='M64%2064%20l10%20-6%20l-4%206%20l4%206%20z'%20fill='url(%23brandGradient)'/%3e%3c/svg%3e",Kl=e=>{const t={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",className:"w-5 h-5",style:{display:"block"}};switch(e){case"Dashboard":return r.jsxs("svg",{...t,"aria-hidden":"true",children:[r.jsx("rect",{x:"4",y:"4",width:"6",height:"6",rx:"1"}),r.jsx("rect",{x:"14",y:"4",width:"6",height:"4",rx:"1"}),r.jsx("rect",{x:"14",y:"11",width:"6",height:"9",rx:"1"}),r.jsx("rect",{x:"4",y:"13",width:"6",height:"7",rx:"1"})]});case"Lead Management":return r.jsxs("svg",{...t,"aria-hidden":"true",children:[r.jsx("circle",{cx:"12",cy:"8",r:"3"}),r.jsx("path",{d:"M6 21v-2a6 6 0 0112 0v2"})]});case"Inventory":return r.jsxs("svg",{...t,"aria-hidden":"true",children:[r.jsx("path",{d:"M3 7l9-4 9 4v10l-9 4-9-4V7"}),r.jsx("path",{d:"M3 7l9 4 9-4"})]});case"Marketing Modules":return r.jsxs("svg",{...t,"aria-hidden":"true",children:[r.jsx("path",{d:"M3 10v4l12 4V6L3 10z"}),r.jsx("path",{d:"M19 8v8"}),r.jsx("circle",{cx:"7",cy:"12",r:"2"})]});case"Customers":return r.jsxs("svg",{...t,"aria-hidden":"true",children:[r.jsx("circle",{cx:"8",cy:"9",r:"2.5"}),r.jsx("circle",{cx:"16",cy:"9",r:"2.5"}),r.jsx("path",{d:"M3 20v-1a5 5 0 015-5h8a5 5 0 015 5v1"})]});case"Reports":return r.jsxs("svg",{...t,"aria-hidden":"true",children:[r.jsx("path",{d:"M5 20V10"}),r.jsx("path",{d:"M10 20V6"}),r.jsx("path",{d:"M15 20V13"}),r.jsx("path",{d:"M20 20V4"})]});case"User Management":return r.jsxs("svg",{...t,"aria-hidden":"true",children:[r.jsx("circle",{cx:"12",cy:"8",r:"3"}),r.jsx("path",{d:"M4 20v-1a7 7 0 0116 0v1"})]});case"Support":return r.jsx("svg",{...t,"aria-hidden":"true",children:r.jsx("path",{d:"M21 12a9 9 0 10-18 0 3 3 0 003 3h1v3l4-3h6a3 3 0 003-3z"})});case"Settings":return r.jsxs("svg",{...t,"aria-hidden":"true",children:[r.jsx("circle",{cx:"12",cy:"12",r:"2.5"}),r.jsx("path",{d:"M19.4 15a7.5 7.5 0 000-6l-2 .7-1-1.7 1.3-1.6a9 9 0 00-6 0L12 7 10.3 5.4a9 9 0 00-6 0L5.6 7 4.6 8.7l-2-.7a7.5 7.5 0 000 6l2-.7 1 1.7-1.3 1.6a9 9 0 006 0L12 17l1.7 1.6a9 9 0 006 0L18.4 17l1-1.7 2 .7z"})]});case"Recycle Bin":return r.jsxs("svg",{...t,"aria-hidden":"true",children:[r.jsx("path",{d:"M3 6h18"}),r.jsx("path",{d:"M8 6V4a2 2 0 012-2h4a2 2 0 012 2v2"}),r.jsx("path",{d:"M19 6v12a2 2 0 01-2 2H7a2 2 0 01-2-2V6"}),r.jsx("path",{d:"M10 11v6"}),r.jsx("path",{d:"M14 11v6"})]});case"Contact us":return r.jsxs("svg",{...t,"aria-hidden":"true",children:[r.jsx("rect",{x:"4",y:"6",width:"16",height:"12",rx:"2"}),r.jsx("path",{d:"M4 8l8 6 8-6"})]});default:return r.jsx("svg",{...t,"aria-hidden":"true",children:r.jsx("circle",{cx:"12",cy:"12",r:"2.5"})})}},vye=e=>{const t={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",className:"w-4 h-4",style:{display:"block"}};switch(e){case"Categories":return r.jsxs("svg",{...t,"aria-hidden":"true",children:[r.jsx("path",{d:"M4 7h14"}),r.jsx("path",{d:"M4 12h14"}),r.jsx("path",{d:"M4 17h10"}),r.jsx("rect",{x:"2",y:"5",width:"2",height:"2",rx:"0.5"}),r.jsx("rect",{x:"2",y:"10",width:"2",height:"2",rx:"0.5"}),r.jsx("rect",{x:"2",y:"15",width:"2",height:"2",rx:"0.5"})]});case"Developers":return r.jsxs("svg",{...t,"aria-hidden":"true",children:[r.jsx("rect",{x:"4",y:"5",width:"6",height:"14",rx:"1"}),r.jsx("rect",{x:"12",y:"9",width:"8",height:"10",rx:"1"}),r.jsx("path",{d:"M6 7h2M6 10h2M6 13h2M6 16h2"}),r.jsx("path",{d:"M14 11h2M14 14h2M14 17h2"})]});case"Brokers":return r.jsxs("svg",{...t,"aria-hidden":"true",children:[r.jsx("circle",{cx:"7",cy:"8",r:"2.5"}),r.jsx("path",{d:"M2 20v-1a6 6 0 016-6"}),r.jsx("circle",{cx:"17",cy:"8",r:"2.5"}),r.jsx("path",{d:"M22 20v-1a6 6 0 00-6-6"}),r.jsx("path",{d:"M8 14l4 3 4-3"})]});case"Products":return r.jsxs("svg",{...t,"aria-hidden":"true",children:[r.jsx("path",{d:"M12 3l7 4-7 4-7-4 7-4"}),r.jsx("path",{d:"M5 7v7l7 4 7-4V7"})]});case"Items":return r.jsxs("svg",{...t,"aria-hidden":"true",children:[r.jsx("path",{d:"M6 6h12"}),r.jsx("path",{d:"M6 12h12"}),r.jsx("path",{d:"M6 18h12"}),r.jsx("circle",{cx:"3",cy:"6",r:"1"}),r.jsx("circle",{cx:"3",cy:"12",r:"1"}),r.jsx("circle",{cx:"3",cy:"18",r:"1"})]});case"Warehouse":return r.jsxs("svg",{...t,"aria-hidden":"true",children:[r.jsx("path",{d:"M3 7l9-4 9 4v10l-9 4-9-4V7"}),r.jsx("path",{d:"M7 10h10"}),r.jsx("path",{d:"M7 14h10"}),r.jsx("path",{d:"M7 18h10"})]});case"Suppliers":return r.jsxs("svg",{...t,"aria-hidden":"true",children:[r.jsx("rect",{x:"3",y:"7",width:"12",height:"7",rx:"1"}),r.jsx("path",{d:"M15 10h3l2 3v1h-5v-4"}),r.jsx("circle",{cx:"7",cy:"18",r:"2"}),r.jsx("circle",{cx:"18",cy:"18",r:"2"})]});case"Stock Management":return r.jsxs("svg",{...t,"aria-hidden":"true",children:[r.jsx("rect",{x:"6",y:"4",width:"12",height:"16",rx:"2"}),r.jsx("path",{d:"M9 9h6"}),r.jsx("path",{d:"M9 13h6"}),r.jsx("path",{d:"M9 17h6"})]});case"Transactions":return r.jsxs("svg",{...t,"aria-hidden":"true",children:[r.jsx("path",{d:"M5 8h10"}),r.jsx("path",{d:"M13 6l2 2-2 2"}),r.jsx("path",{d:"M19 16h-10"}),r.jsx("path",{d:"M11 14l-2 2 2 2"})]});case"Projects":return r.jsx("svg",{...t,"aria-hidden":"true",children:r.jsx("path",{d:"M3 7a2 2 0 012-2h4l2 2h6a2 2 0 012 2v7a2 2 0 01-2 2H5a2 2 0 01-2-2V7z"})});case"Properties":return r.jsxs("svg",{...t,"aria-hidden":"true",children:[r.jsx("path",{d:"M3 10l9-7 9 7"}),r.jsx("path",{d:"M5 10v9h14v-9"}),r.jsx("path",{d:"M10 19v-5h4v5"})]});case"Requests":return r.jsxs("svg",{...t,"aria-hidden":"true",children:[r.jsx("rect",{x:"3",y:"4",width:"18",height:"14",rx:"2"}),r.jsx("path",{d:"M7 10h10"}),r.jsx("path",{d:"M7 7h10"})]});case"Buyer Requests":return r.jsxs("svg",{...t,"aria-hidden":"true",children:[r.jsx("circle",{cx:"9",cy:"8",r:"2.5"}),r.jsx("path",{d:"M3 20v-1a6 6 0 016-6"}),r.jsx("path",{d:"M16 7v6"}),r.jsx("path",{d:"M13 10l3 3 3-3"})]});case"Seller Requests":return r.jsxs("svg",{...t,"aria-hidden":"true",children:[r.jsx("circle",{cx:"9",cy:"8",r:"2.5"}),r.jsx("path",{d:"M3 20v-1a6 6 0 016-6"}),r.jsx("path",{d:"M16 13V7"}),r.jsx("path",{d:"M13 10l3-3 3 3"})]});case"Dev Companies":return r.jsxs("svg",{...t,"aria-hidden":"true",children:[r.jsx("rect",{x:"4",y:"5",width:"6",height:"14",rx:"1"}),r.jsx("rect",{x:"12",y:"9",width:"8",height:"10",rx:"1"}),r.jsx("path",{d:"M6 7h2M6 10h2M6 13h2M6 16h2"}),r.jsx("path",{d:"M14 11h2M14 14h2M14 17h2"})]});default:return r.jsx("svg",{...t,"aria-hidden":"true",children:r.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"2"})})}},bye=e=>{const t={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",className:"w-4 h-4",style:{display:"block"}};switch(e){case"Dashboard":return r.jsxs("svg",{...t,"aria-hidden":"true",children:[r.jsx("rect",{x:"4",y:"4",width:"6",height:"6",rx:"1"}),r.jsx("rect",{x:"14",y:"4",width:"6",height:"4",rx:"1"}),r.jsx("rect",{x:"14",y:"11",width:"6",height:"9",rx:"1"}),r.jsx("rect",{x:"4",y:"13",width:"6",height:"7",rx:"1"})]});case"Campaigns":return r.jsxs("svg",{...t,"aria-hidden":"true",children:[r.jsx("path",{d:"M4 5h10l6 4v6l-6 4H4V5z"}),r.jsx("circle",{cx:"8",cy:"12",r:"2"})]});case"Landing Pages":return r.jsxs("svg",{...t,"aria-hidden":"true",children:[r.jsx("rect",{x:"4",y:"5",width:"16",height:"14",rx:"2"}),r.jsx("path",{d:"M4 9h16"}),r.jsx("path",{d:"M8 13h8"})]});case"Meta Integration":return r.jsxs("svg",{...t,"aria-hidden":"true",children:[r.jsx("path",{d:"M6 12c0-3 2-5 5-5s5 2 5 5-2 5-5 5-5-2-5-5z"}),r.jsx("path",{d:"M7 12c1-3 3-5 4-5 2 0 4 4 6 5"})]});case"Leads Performance":return r.jsxs("svg",{...t,"aria-hidden":"true",children:[r.jsx("path",{d:"M4 18V6"}),r.jsx("path",{d:"M8 18V10"}),r.jsx("path",{d:"M12 18V8"}),r.jsx("path",{d:"M16 18V13"}),r.jsx("path",{d:"M20 18V5"})]});case"Reports":return r.jsxs("svg",{...t,"aria-hidden":"true",children:[r.jsx("path",{d:"M5 20V10"}),r.jsx("path",{d:"M10 20V6"}),r.jsx("path",{d:"M15 20V13"}),r.jsx("path",{d:"M20 20V4"})]});default:return r.jsx("svg",{...t,"aria-hidden":"true",children:r.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"2"})})}},yye=({isOpen:e,onClose:t=()=>{},className:a})=>{const{activeModules:s,user:n}=zj(),{theme:i}=Vi(),{t:l,i18n:o}=Dt(),c=Cc(),d=i==="light",u=(o.language||"").toLowerCase(),f=(typeof o.dir=="function"?o.dir(u)==="rtl":u.startsWith("ar"))||typeof document<"u"&&document.documentElement.dir==="rtl",[x,m]=w.useState(!1),g=c.pathname.startsWith("/inventory"),[v,b]=w.useState(()=>{try{if(typeof window<"u"&&window.localStorage){const Ae=window.localStorage.getItem("leadMgmtOpen");if(Ae==="true")return!0;if(Ae==="false")return!1}}catch{}return!1}),j=c.pathname.startsWith("/leads")||c.pathname.startsWith("/recycle");w.useEffect(()=>{if(!j){b(!1);try{typeof window<"u"&&window.localStorage&&window.localStorage.setItem("leadMgmtOpen","false")}catch{}}},[c.pathname]),w.useEffect(()=>{if(j){b(!0);try{typeof window<"u"&&window.localStorage&&window.localStorage.setItem("leadMgmtOpen","true")}catch{}}},[j]);const[S,k]=w.useState(!0),N=c.pathname.startsWith("/marketing"),A=c.pathname.startsWith("/marketing/reports");c.pathname.startsWith("/recycle");const[_,D]=w.useState(!1),[P,I]=w.useState(!1),[B,O]=w.useState(!1),[U,E]=w.useState(!1),[R,K]=w.useState(!1),[V,Z]=w.useState(!1),[J,ee]=w.useState(!1),[W,le]=w.useState(!1),[M,X]=w.useState(!1),[z,Q]=w.useState(!1),[ne,re]=w.useState(!1),[oe,q]=w.useState(!1),ie=Ae=>{ee(Ae==="profileCompany"),le(Ae==="systemSettings"),X(Ae==="companySetup"),Q(Ae==="notifications"),re(Ae==="billing"),q(Ae==="dataMgmt")},ye=Ae=>{ie(Ae==="profileCompany"&&J||Ae==="systemSettings"&&W||Ae==="companySetup"&&M||Ae==="notifications"&&z||Ae==="billing"&&ne||Ae==="dataMgmt"&&oe?"":Ae)},Y=c.pathname.startsWith("/customers")||c.pathname.startsWith("/sales"),ce=c.pathname.startsWith("/settings"),he=c.pathname.startsWith("/settings/integrations"),ue=c.pathname.startsWith("/settings/operations"),Fe=c.pathname.startsWith("/settings/profile"),Ue=c.pathname.startsWith("/settings/system"),Te=c.pathname.startsWith("/settings/company-setup"),ae=c.pathname.startsWith("/settings/notifications"),De=c.pathname.startsWith("/settings/billing"),Ce=c.pathname.startsWith("/settings/data"),at=String(n?.role||"").toLowerCase(),ft=at.includes("admin")||at.includes("super admin")||at.includes("owner");c.pathname.startsWith("/reports")||c.pathname.startsWith("/marketing/reports");const zt=c.pathname.startsWith("/user-management"),st=c.pathname.startsWith("/support"),$e=c.pathname.startsWith("/reports"),qe=c.pathname.startsWith("/reports/sales"),[ct,dt]=w.useState(()=>{try{if(typeof window<"u"&&window.localStorage){const Ae=window.localStorage.getItem("marketingOpen");if(Ae==="true")return!0;if(Ae==="false")return!1}}catch{}return!1});w.useEffect(()=>{if(!N){dt(!1);try{typeof window<"u"&&window.localStorage&&window.localStorage.setItem("marketingOpen","false")}catch{}}},[c.pathname]),w.useEffect(()=>{if(N){b(!1),m(!1),D(!1),I(!1),E(!1),K(!1),Z(!1);try{typeof window<"u"&&window.localStorage&&window.localStorage.setItem("leadMgmtOpen","false")}catch{}}},[N]),w.useEffect(()=>{Fe?ie("profileCompany"):ee(!1)},[Fe]),w.useEffect(()=>{Ue?ie("systemSettings"):le(!1)},[Ue]),w.useEffect(()=>{Te?ie("companySetup"):X(!1)},[Te]),w.useEffect(()=>{ae?ie("notifications"):Q(!1)},[ae]),w.useEffect(()=>{De?ie("billing"):re(!1)},[De]),w.useEffect(()=>{Ce?ie("dataMgmt"):q(!1)},[Ce]);const Nt=v||x||ct||_||P||V||U||R;w.useEffect(()=>{if($e){b(!1),m(!1),D(!1),E(!1),K(!1),Z(!1),dt(!1),Lt(!1);try{typeof window<"u"&&window.localStorage&&(window.localStorage.setItem("leadMgmtOpen","false"),window.localStorage.setItem("marketingOpen","false"),window.localStorage.setItem("marketingReportsOpen","false"))}catch{}}},[$e]),w.useEffect(()=>{Z(!!ce)},[ce]),w.useEffect(()=>{m(!!g)},[g]),w.useEffect(()=>{D(!!Y)},[Y]),w.useEffect(()=>{K(!!st)},[st]),w.useEffect(()=>{st&&(b(!1),m(!1),dt(!1),D(!1),I(!1),E(!1),Z(!1))},[st]),w.useEffect(()=>{E(!!zt)},[zt]),w.useEffect(()=>{I(!!$e)},[$e]),w.useEffect(()=>{O(!!qe)},[qe]);const[Ct,Lt]=w.useState(()=>{try{if(typeof window<"u"&&window.localStorage){const Ae=window.localStorage.getItem("marketingReportsOpen");if(Ae==="true")return!0;if(Ae==="false")return!1}}catch{}return!1});w.useEffect(()=>{if(!A)try{typeof window<"u"&&window.localStorage&&window.localStorage.setItem("marketingReportsOpen",String(Ct))}catch{}},[A,Ct]);const{stages:Ht}=Ov();Array.isArray(Ht)&&Ht.map(Ae=>typeof Ae=="string"?{name:Ae,nameAr:"",color:"#3B82F6",icon:""}:Ae);const Vt=(()=>{try{return new URLSearchParams(c.search||"").get("stage")||null}catch{return null}})(),[Ne,Mt]=w.useState(0);w.useMemo(()=>{try{const Ae=localStorage.getItem("leadsData");if(!Ae)return[];const na=JSON.parse(Ae);return Array.isArray(na)?na:[]}catch{return[]}},[Ne]),w.useMemo(()=>{try{const Ae=localStorage.getItem("deletedLeads");if(!Ae)return[];const na=JSON.parse(Ae);return Array.isArray(na)?na:[]}catch{return[]}},[Ne]),w.useEffect(()=>{const Ae=()=>Mt(na=>na+1);return window.addEventListener("storage",Ae),window.addEventListener("leadsDataUpdated",Ae),window.addEventListener("deletedLeadsUpdated",Ae),Mt(na=>na+1),()=>{window.removeEventListener("storage",Ae),window.removeEventListener("leadsDataUpdated",Ae),window.removeEventListener("deletedLeadsUpdated",Ae)}},[]);const Ee=d?"bg-gray-100 border-gray-200 text-gray-800":"bg-gray-900 border-gray-800 text-gray-100",ze=d?"group flex items-center gap-3 px-4 py-1.5 rounded-md text-gray-700 hover:bg-blue-50 transition overflow-hidden":"group flex items-center gap-3 px-4 py-1.5 rounded-md text-gray-200 hover:bg-gray-800 transition overflow-hidden",We="flex-shrink-0 nova-icon flex items-center justify-center",xt=d?`bg-blue-100 text-blue-700 ${f?"active-link-indicator":"border-l-4"} border-blue-500 font-medium shadow-[inset_0_1px_0_rgba(255,255,255,0.6)]`:`bg-gray-800 text-blue-400 ${f?"active-link-indicator":"border-l-4"} border-blue-500 font-medium`,gt=d?"text-gray-500 group-hover:text-blue-600":"text-gray-400 group-hover:text-blue-400",sa=u.startsWith("ar")?"":"Back",Zt=[{to:"/inventory/warehouse",key:"Warehouse"},{to:"/inventory/suppliers",key:"Suppliers"},{to:"/inventory/categories",key:"Categories"},{to:"/inventory/products",key:"Products"},{to:"/inventory/items",key:"Items"},{to:"/inventory/stock-management",key:"Stock Management"},{to:"/inventory/transactions",key:"Transactions"},{to:"/inventory/developers",key:"Developers"},{to:"/inventory/brokers",key:"Brokers"},{to:"/inventory/projects",key:"Projects"},{to:"/inventory/properties",key:"Properties"},{to:"/inventory/requests",key:"Requests"}],ka=[{to:"/marketing",key:"Dashboard"},{to:"/marketing/campaigns",key:"Campaigns"},{to:"/marketing/landing-pages",key:"Landing Pages"},{to:"/marketing/meta-integration",key:"Meta Integration"}],[ut,ta]=w.useState(!1),[va,pa]=w.useState(!1);return w.useEffect(()=>{ta(!!he)},[he]),w.useEffect(()=>{pa(!!ue)},[ue]),r.jsxs("aside",{id:"app-sidebar",dir:f?"rtl":"ltr",className:`nova-sidebar group fixed inset-y-0 z-[130] md:z-[100] p-4 ${Ee} flex flex-col h-full relative overflow-x-hidden ${f?"right-0 border-l":"left-0 border-r"} ${e?"sidebar-open":""} ${a||""}`,children:[r.jsx("button",{type:"button","aria-label":f?" ":"Close sidebar",onClick:t,className:`md:hidden absolute top-3 ${f?"left-3":"right-3"} z-[140] h-10 w-10 grid place-items-center rounded-full border backdrop-blur-sm shadow-lg transition ${d?"bg-black/10 hover:bg-black/20 border-black/20":"bg-white/10 hover:bg-white/20 border-white/20"}`,children:r.jsx(Ole,{className:`${d?"text-gray-900":"text-white"} text-2xl`})}),r.jsxs("div",{className:"logo-brand flex items-center gap-1 mb-1 mt-0",children:[r.jsx("img",{src:qf,alt:"Be Souhola",className:"w-11 h-11 flex-shrink-0",style:{backgroundColor:"transparent"}}),r.jsxs("div",{className:"flex flex-col leading-tight min-w-0",children:[r.jsx("span",{className:`sidebar-label whitespace-nowrap hidden md:block ${d?"text-[11px] text-[#0b2b4f]":"text-[10px] text-white"}`,children:"Make everything..."}),r.jsx("span",{className:"sidebar-label font-semibold text-base truncate bg-gradient-to-r from-white via-indigo-200 to-indigo-400 bg-clip-text text-transparent drop-shadow-sm",children:"Be Souhola"})]})]}),r.jsx("div",{className:"sidebar-brand-spacer h-2"}),r.jsxs("nav",{className:`flex-1 pt-2 md:pt-3 overflow-y-hidden overflow-x-hidden mt-0 pb-16 ${x?"inventory-open":""}`,children:[!Nt&&!N&&!$e&&r.jsxs(Ut,{to:"/dashboard",className:({isActive:Ae})=>`${ze} !py-3 ${Ae?xt:""}`,children:[r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:Kl("Dashboard")}),r.jsx("span",{className:"link-label",children:l("Dashboard")})]}),r.jsx("span",{className:"ml-auto nova-badge link-label",children:"1"})]}),!N&&!$e&&(!Nt||v)&&s.includes("leads")&&r.jsxs("div",{className:"w-full",children:[v&&r.jsxs("div",{className:`sticky top-0 z-10 section-header flex items-center mb-2 ${d?"bg-gray-100":"bg-gray-900"} px-2 py-1`,children:[r.jsx("span",{className:"text-sm font-bold link-label",children:l("Lead Management")}),r.jsxs("button",{type:"button",onClick:()=>b(!1),className:`close-btn text-sm font-semibold ${d?"text-gray-700 hover:text-gray-900":"text-gray-200 hover:text-white"} flex items-center gap-2`,children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:r.jsx("path",{d:"M15 18l-6-6 6-6"})}),r.jsx("span",{children:sa})]})]}),!v&&r.jsxs(Ut,{to:"/leads",onClick:()=>b(!0),className:({isActive:Ae})=>`${ze} w-full justify-between`,children:[r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:Kl("Lead Management")}),r.jsx("span",{className:"link-label text-[16px]",children:l("Lead Management")})]}),r.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:v?"rotate(180deg)":"rotate(0deg)"},children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:r.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),r.jsxs("div",{className:`${f?"mr-0 pr-0 border-r":"ml-0 pl-0 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:v?"800px":"0",overflow:"hidden",opacity:v?1:0},children:[r.jsx(Ut,{to:"/leads",className:({isActive:Ae})=>`${ze} ${f?"!pr-0":"!pl-0"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:Kl("Lead Management")}),r.jsx("span",{className:"text-[15px] link-label",children:l("Leads")})]})}),r.jsx(Ut,{to:"/leads/new",className:({isActive:Ae})=>`${ze} ${f?"!pr-0":"!pl-0"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:Kl("Lead Management")}),r.jsx("span",{className:"text-[15px] link-label",children:l("Add New Lead")})]})}),r.jsx(Ut,{to:"/recycle",className:({isActive:Ae})=>`${ze} ${f?"!pr-0":"!pl-0"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:Kl("Recycle Bin")}),r.jsx("span",{className:"text-[15px] link-label",children:l("Recycle Bin")})]})}),r.jsxs("div",{className:`${f?"!pr-0":"!pl-0"}`,children:[r.jsxs("button",{type:"button",onClick:()=>k(Ae=>!Ae),className:`${ze} w-full justify-between ${f?"!pr-0":"!pl-0"}`,children:[r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Stages")})]}),r.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:S?"rotate(180deg)":"rotate(0deg)"},children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:r.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),r.jsx("div",{className:"space-y-0.5",style:{maxHeight:S?"600px":"0",overflow:"hidden",opacity:S?1:0},children:[{key:"new lead",icon:""},{key:"duplicate",icon:""},{key:"pending",icon:""},{key:"cold calls",icon:""},{key:"follow up",icon:""}].map((Ae,na)=>{const Ka=`${c.pathname.startsWith("/recycle")?"/recycle":"/leads"}?stage=${encodeURIComponent(Ae.key)}`,$a=Vt===Ae.key?`glass-neon border ${d?"border-blue-200":"border-blue-900"}`:"";return r.jsx(Ut,{to:Ka,className:({isActive:Ua})=>`${ze} ${f?"!pr-10":"!pl-10"} ${$a}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:Ae.icon}),r.jsx("span",{className:"text-[15px] link-label",children:l(Ae.key)})]})},`fixed-stage-${na}-${Ae.key}`)})})]})]})]}),!N&&!$e&&(!Nt||x)&&r.jsxs("div",{className:"w-full",children:[x?r.jsxs("div",{className:`sticky top-0 z-10 section-header flex items-center mb-2 ${d?"bg-gray-100":"bg-gray-900"} px-2 py-1`,children:[r.jsx("span",{className:"text-sm font-bold link-label text-[16px]",children:l("Inventory")}),r.jsxs("button",{type:"button",onClick:()=>{m(!1),D(!1),Z(!1),I(!1)},className:`close-btn text-sm font-semibold ${d?"text-gray-700 hover:text-gray-900":"text-gray-200 hover:text-white"} flex items-center gap-2`,children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:r.jsx("path",{d:"M15 18l-6-6 6-6"})}),r.jsx("span",{children:sa})]})]}):r.jsxs("button",{type:"button",onClick:()=>{m(!0),D(!1),Z(!1),I(!1)},className:`${ze} w-full justify-between ${g?"active-parent":""}`,"aria-expanded":x,children:[r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:Kl("Inventory")}),r.jsx("span",{className:"link-label text-[16px]",children:l("Inventory")})]}),r.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:x?"rotate(180deg)":"rotate(0deg)"},children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:r.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),r.jsx("div",{className:`${f?"mr-0 pr-0 border-r":"ml-0 pl-0 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:x?"480px":"0",overflow:"hidden",opacity:x?1:0},children:Zt.map(Ae=>r.jsx(Ut,{to:Ae.to,className:({isActive:na})=>`${ze} ${f?"!pr-0":"!pl-0"} ${na?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:vye(Ae.key)}),r.jsx("span",{className:"text-[15px] link-label",children:l(Ae.key)})]})},Ae.to))})]}),!$e&&(!Nt||ct)&&s.includes("campaigns")&&r.jsxs("div",{className:"w-full",children:[(N||ct)&&r.jsxs("div",{className:`sticky top-0 z-10 section-header flex items-center mb-2 ${d?"bg-gray-100":"bg-gray-900"} px-2 py-1`,children:[r.jsx("span",{className:"text-sm font-bold link-label",children:l("Marketing Modules")}),r.jsxs("button",{type:"button",onClick:()=>{dt(!1);try{typeof window<"u"&&window.localStorage&&window.localStorage.setItem("marketingOpen","false")}catch{}},className:`close-btn text-sm font-semibold ${d?"text-gray-700 hover:text-gray-900":"text-gray-200 hover:text-white"} flex items-center gap-2`,children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:r.jsx("path",{d:"M15 18l-6-6 6-6"})}),r.jsx("span",{children:sa})]})]}),!ct&&r.jsxs("button",{type:"button",onClick:Ae=>{Ae.preventDefault(),Ae.stopPropagation(),dt(na=>{const Za=!na;try{typeof window<"u"&&window.localStorage&&window.localStorage.setItem("marketingOpen",String(Za))}catch{}return Za})},className:`${ze} w-full justify-between ${N?"active-parent":""}`,"aria-expanded":ct,children:[r.jsxs("span",{className:"nova-icon-label min-w-0",children:[r.jsx("span",{className:`${We} ${gt}`,children:Kl("Marketing Modules")}),r.jsx("span",{className:"text-[15px] link-label whitespace-nowrap truncate",children:l("Marketing Modules")})]}),r.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:ct?"rotate(180deg)":"rotate(0deg)"},children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:r.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),r.jsx("div",{className:`${f?"mr-0 pr-0 border-r":"ml-0 pl-0 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:ct?"360px":"0",overflow:"hidden",opacity:ct?1:0},children:ka.map(Ae=>r.jsx(Ut,{to:Ae.to,end:Ae.to==="/marketing",className:({isActive:na})=>`${ze} ${f?"!pr-10":"!pl-10"} ${na?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:bye(Ae.key)}),r.jsx("span",{className:"text-[15px] link-label",children:l(Ae.key)})]})},Ae.to))})]}),!N&&!$e&&(!Nt||_)&&r.jsxs("div",{className:"w-full",children:[_?r.jsxs("div",{className:"sticky top-0 z-10 section-header flex items-center mb-2 glass-header glass-neon px-2 py-1",children:[r.jsx("span",{className:"text-sm font-bold link-label",children:l("Customers")}),r.jsxs("button",{type:"button",onClick:()=>{D(!1),m(!1),Z(!1),I(!1)},className:`close-btn text-sm font-semibold ${d?"text-gray-700 hover:text-gray-900":"text-gray-200 hover:text-white"} flex items-center gap-2`,children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:r.jsx("path",{d:"M15 18l-6-6 6-6"})}),r.jsx("span",{children:sa})]})]}):r.jsxs(Ut,{to:"/customers",onClick:()=>{D(!0),m(!1),Z(!1),I(!1)},className:({isActive:Ae})=>`${ze} w-full justify-between ${Ae?`glass-neon border ${d?"border-blue-200":"border-blue-900"} active-parent`:""}`,children:[r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:Kl("Customers")}),r.jsx("span",{className:"link-label",children:l("Customers")})]}),r.jsx("span",{className:"ml-auto nova-badge link-label",children:"12"}),r.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:_?"rotate(180deg)":"rotate(0deg)"},children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:r.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),r.jsxs("div",{className:`${f?"mr-0 pr-0 border-r":"ml-0 pl-0 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all glass-neon`,style:{maxHeight:_?"800px":"0",overflow:"hidden",opacity:_?1:0},children:[r.jsx(Ut,{to:"/customers",className:({isActive:Ae})=>`${ze} ${f?"!pr-0":"!pl-0"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:Kl("Customers")}),r.jsx("span",{className:"text-[15px] link-label",children:l("Customers")})]})}),r.jsx(Ut,{to:"/sales/opportunities",className:({isActive:Ae})=>`${ze} ${f?"!pr-0":"!pl-0"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Opportunities")})]})}),r.jsx(Ut,{to:"/sales/quotations",className:({isActive:Ae})=>`${ze} ${f?"!pr-0":"!pl-0"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Quotations")})]})}),r.jsx(Ut,{to:"/sales/orders",className:({isActive:Ae})=>`${ze} ${f?"!pr-0":"!pl-0"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Sales Orders")})]})}),r.jsx(Ut,{to:"/sales/invoices",className:({isActive:Ae})=>`${ze} ${f?"!pr-0":"!pl-0"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Invoices")})]})})]})]}),!N&&!$e&&(!Nt||R)&&r.jsxs("div",{className:"w-full",children:[R&&r.jsxs("div",{className:`${d?"bg-gray-100":"bg-gray-900"} sticky top-0 z-10 section-header flex items-center mb-2 px-2 py-1`,children:[r.jsx("span",{className:"text-sm font-bold link-label",children:l("Support")}),r.jsxs("button",{type:"button",onClick:()=>K(!1),className:`close-btn text-sm font-semibold ${d?"text-gray-700 hover:text-gray-900":"text-gray-200 hover:text-white"} flex items-center gap-2`,children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:r.jsx("path",{d:"M15 18l-6-6 6-6"})}),r.jsx("span",{children:sa})]})]}),!R&&r.jsxs("button",{type:"button",onClick:()=>{K(!0),b(!1),m(!1),dt(!1),D(!1),I(!1),E(!1),Z(!1)},className:`${ze} w-full justify-between ${st?"active-parent":""}`,"aria-expanded":R,children:[r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:Kl("Support")}),r.jsx("span",{className:"link-label",children:l("Support")})]}),r.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:R?"rotate(180deg)":"rotate(0deg)"},children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:r.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),r.jsxs("div",{className:`${f?"mr-0 pr-0 border-r":"ml-0 pl-0 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:R?"800px":"0",overflow:"hidden",opacity:R?1:0},children:[r.jsx(Ut,{to:"/support",end:!0,className:({isActive:Ae})=>`${ze} !py-3 ${f?"!pr-10":"!pl-10"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Dashboard")})]})}),r.jsx(Ut,{to:"/support/tickets",className:({isActive:Ae})=>`${ze} ${f?"!pr-10":"!pl-10"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Tickets")})]})}),r.jsx(Ut,{to:"/support/customers",className:({isActive:Ae})=>`${ze} ${f?"!pr-10":"!pl-10"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Customers")})]})}),r.jsx(Ut,{to:"/support/sla",className:({isActive:Ae})=>`${ze} ${f?"!pr-10":"!pl-10"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("SLA")})]})}),r.jsx(Ut,{to:"/support/reports",className:({isActive:Ae})=>`${ze} ${f?"!pr-10":"!pl-10"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Reports")})]})}),r.jsx(Ut,{to:"/support/feedbacks",className:({isActive:Ae})=>`${ze} ${f?"!pr-10":"!pl-10"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Feedbacks")})]})})]})]}),!N&&(!Nt||P)&&r.jsxs("div",{className:"w-full",children:[P&&r.jsxs("div",{className:`sticky top-0 z-10 section-header flex items-center mb-2 ${d?"bg-gray-100":"bg-gray-900"} px-2 py-1`,children:[r.jsx("span",{className:"text-sm font-bold link-label",children:l("Reports")}),r.jsxs("button",{type:"button",onClick:()=>I(!1),className:`close-btn text-sm font-semibold ${d?"text-gray-700 hover:text-gray-900":"text-gray-200 hover:text-white"} flex items-center gap-2`,children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:r.jsx("path",{d:"M15 18l-6-6 6-6"})}),r.jsx("span",{children:sa})]})]}),!P&&r.jsxs("button",{type:"button",onClick:()=>I(Ae=>!Ae),className:`${ze} w-full justify-between`,"aria-expanded":P,children:[r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:Kl("Reports")}),r.jsx("span",{className:"link-label",children:l("Reports")})]}),r.jsx("span",{className:"ml-auto nova-badge link-label",children:"8"}),r.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:P?"rotate(180deg)":"rotate(0deg)"},children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:r.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),r.jsxs("div",{className:`${f?"mr-0 pr-0 border-r":"ml-0 pl-0 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:P?"800px":"0",overflow:"hidden",opacity:P?1:0},children:[r.jsx(Ut,{to:"/reports",end:!0,className:({isActive:Ae})=>`${ze} ${f?"!pr-0":"!pl-0"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Reports Dashboard")})]})}),r.jsxs("div",{className:"w-full",children:[r.jsxs("button",{type:"button",onClick:()=>O(Ae=>!Ae),className:`${ze} w-full justify-between ${f?"!pr-0":"!pl-0"}`,"aria-expanded":B,children:[r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Sales Report")})]}),r.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:B?"rotate(180deg)":"rotate(0deg)"},children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:r.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),r.jsxs("div",{className:`${f?"!pr-0":"!pl-0"} space-y-0.5 transition-all`,style:{maxHeight:B?"800px":"0",overflow:"hidden",opacity:B?1:0},children:[r.jsx(Ut,{to:"/reports/sales/activities",className:({isActive:Ae})=>`${ze} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Sales Activities")})]})}),r.jsx(Ut,{to:"/reports/sales/pipeline",className:({isActive:Ae})=>`${ze} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Leads pipeline")})]})}),r.jsx(Ut,{to:"/reports/sales/meetings",className:({isActive:Ae})=>`${ze} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Meetings Report")})]})}),r.jsx(Ut,{to:"/reports/sales/reservations",className:({isActive:Ae})=>`${ze} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Reservations")})]})}),r.jsx(Ut,{to:"/reports/sales/closed-deals",className:({isActive:Ae})=>`${ze} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Closed Deals")})]})}),r.jsx(Ut,{to:"/reports/sales/rent",className:({isActive:Ae})=>`${ze} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Rent")})]})}),r.jsx(Ut,{to:"/reports/sales/check-in",className:({isActive:Ae})=>`${ze} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Check in Report")})]})}),r.jsx(Ut,{to:"/reports/sales/customers",className:({isActive:Ae})=>`${ze} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Customers Report")})]})}),r.jsx(Ut,{to:"/reports/sales/imports",className:({isActive:Ae})=>`${ze} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Import")})]})}),r.jsx(Ut,{to:"/reports/sales/exports",className:({isActive:Ae})=>`${ze} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Export")})]})})]})]}),r.jsx(Ut,{to:"/reports/leads",className:({isActive:Ae})=>`${ze} ${f?"!pr-10":"!pl-10"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Lead Report")})]})}),r.jsx(Ut,{to:"/reports/team",className:({isActive:Ae})=>`${ze} ${f?"!pr-10":"!pl-10"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Team Report")})]})})]})]}),!N&&!$e&&(!Nt||U)&&r.jsxs("div",{className:"w-full",children:[U?r.jsxs("div",{className:`sticky top-0 z-10 section-header flex items-center mb-2 ${d?"bg-gray-100":"bg-gray-900"} px-2 py-1`,children:[r.jsx("span",{className:"text-sm font-bold link-label",children:l("User Management")}),r.jsxs("button",{type:"button",onClick:()=>{E(!1),b(!1),m(!1),dt(!1),D(!1),Z(!1),I(!1)},className:`close-btn text-sm font-semibold ${d?"text-gray-700 hover:text-gray-900":"text-gray-200 hover:text-white"} flex items-center gap-2`,children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:r.jsx("path",{d:"M15 18l-6-6 6-6"})}),r.jsx("span",{children:sa})]})]}):r.jsxs("button",{type:"button",onClick:()=>{E(!0),b(!1),m(!1),dt(!1),D(!1),Z(!1),I(!1)},className:`${ze} w-full justify-between ${zt?"active-parent":""}`,"aria-expanded":U,children:[r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:Kl("User Management")}),r.jsx("span",{className:"link-label",children:l("User Management")})]}),r.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:U?"rotate(180deg)":"rotate(0deg)"},children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:r.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),r.jsxs("div",{className:`${f?"mr-0 pr-0 border-r":"ml-0 pl-0 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:U?"480px":"0",overflow:"hidden",opacity:U?1:0},children:[r.jsx(Ut,{to:"/user-management/users",className:({isActive:Ae})=>`${ze} ${f?"!pr-10":"!pl-10"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Users")})]})}),r.jsx(Ut,{to:"/user-management/teams",className:({isActive:Ae})=>`${ze} ${f?"!pr-10":"!pl-10"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Teams")})]})}),r.jsx(Ut,{to:"/user-management/departments",className:({isActive:Ae})=>`${ze} ${f?"!pr-10":"!pl-10"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Departments")})]})}),r.jsx(Ut,{to:"/user-management/roles",className:({isActive:Ae})=>`${ze} ${f?"!pr-10":"!pl-10"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Roles")})]})}),r.jsx(Ut,{to:"/user-management/activity-logs",className:({isActive:Ae})=>`${ze} ${f?"!pr-10":"!pl-10"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Activity Logs")})]})}),r.jsx(Ut,{to:"/user-management/access-logs",className:({isActive:Ae})=>`${ze} ${f?"!pr-10":"!pl-10"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Access Logs")})]})})]})]})]}),!N&&!$e&&(!Nt||V)&&s.includes("settings")&&r.jsxs("div",{className:"pt-2 w-full",children:[r.jsx("div",{className:`border-t ${d?"border-gray-200":"border-gray-800"} mb-3`}),V?r.jsxs("div",{className:`sticky top-0 z-10 section-header flex items-center mb-2 ${d?"bg-gray-100":"bg-gray-900"} px-2 py-1`,children:[r.jsx("span",{className:"text-sm font-bold link-label",children:l("Settings")}),r.jsxs("button",{type:"button",onClick:()=>{Z(!1),m(!1),D(!1),I(!1)},className:`close-btn text-sm font-semibold ${d?"text-gray-700 hover:text-gray-900":"text-gray-200 hover:text-white"} flex items-center gap-2`,children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:r.jsx("path",{d:"M15 18l-6-6 6-6"})}),r.jsx("span",{children:sa})]})]}):r.jsxs(Ut,{to:"/settings/profile",onClick:()=>{Z(!0),m(!1),D(!1),I(!1)},className:({isActive:Ae})=>`${ze} group/settings w-full justify-between ${ce?"active-parent":""} bg-indigo-50 dark:bg-gray-800 border border-indigo-200 dark:border-gray-700`,children:[r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:Kl("Settings")}),r.jsx("span",{className:"link-label !text-black group-hover/settings:!text-white",children:l("Settings")})]}),r.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:V?"rotate(180deg)":"rotate(0deg)"},children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:r.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),r.jsxs("div",{className:`${f?"mr-0 pr-0 border-r":"ml-0 pl-0 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:V?"60vh":"0",overflow:V?"auto":"hidden",opacity:V?1:0},children:[r.jsxs("button",{type:"button",onClick:()=>ye("profileCompany"),className:`${ze} w-full justify-between`,"aria-expanded":J,children:[r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"link-label",children:l("Profile & Company")})]}),r.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:J?"rotate(180deg)":"rotate(0deg)"},children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:r.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),r.jsxs("div",{className:`${f?"mr-4 pr-2 border-r":"ml-4 pl-2 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:J?"300px":"0",overflow:"hidden",opacity:J?1:0},children:[r.jsx(Ut,{end:!0,to:"/settings/profile",className:({isActive:Ae})=>`${ze} ${f?"!pr-0":"!pl-0"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Profile Settings")})]})}),r.jsx(Ut,{to:"/settings/profile/company",className:({isActive:Ae})=>`${ze} ${f?"!pr-0":"!pl-0"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Company Settings")})]})}),r.jsx(Ut,{to:"/settings/profile/contact-info",className:({isActive:Ae})=>`${ze} ${f?"!pr-0":"!pl-0"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Contact Info Settings")})]})})]}),r.jsxs("button",{type:"button",onClick:()=>ye("systemSettings"),className:`${ze} w-full justify-between`,"aria-expanded":W,children:[r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"link-label",children:l("System Settings")})]}),r.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:W?"rotate(180deg)":"rotate(0deg)"},children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:r.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),r.jsxs("div",{className:`${f?"mr-4 pr-2 border-r":"ml-4 pl-2 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:W?"400px":"0",overflow:"hidden",opacity:W?1:0},children:[r.jsx(Ut,{to:"/settings/system/preferences",className:({isActive:Ae})=>`${ze} ${f?"!pr-0":"!pl-0"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("System Preferences")})]})}),r.jsx(Ut,{to:"/settings/system/modules",className:({isActive:Ae})=>`${ze} ${f?"!pr-0":"!pl-0"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Modules Settings")})]})}),r.jsx(Ut,{to:"/settings/system/security",className:({isActive:Ae})=>`${ze} ${f?"!pr-0":"!pl-0"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Security Settings")})]})}),r.jsx(Ut,{to:"/settings/system/custom-fields",className:({isActive:Ae})=>`${ze} ${f?"!pr-0":"!pl-0"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Custom Fields")})]})}),r.jsx(Ut,{to:"/settings/system/audit-logs",className:({isActive:Ae})=>`${ze} ${f?"!pr-0":"!pl-0"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Audit Logs")})]})})]}),r.jsxs("button",{type:"button",onClick:()=>ye("companySetup"),className:`${ze} w-full justify-between`,"aria-expanded":M,children:[r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"link-label",children:l("Company Setup")})]}),r.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:M?"rotate(180deg)":"rotate(0deg)"},children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:r.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),r.jsxs("div",{className:`${f?"mr-4 pr-2 border-r":"ml-4 pl-2 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:M?"360px":"0",overflow:"hidden",opacity:M?1:0},children:[r.jsx(Ut,{to:"/settings/company-setup/info",className:({isActive:Ae})=>`${ze} ${f?"!pr-0":"!pl-0"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Company Info")})]})}),r.jsx(Ut,{to:"/settings/company-setup/subscription",className:({isActive:Ae})=>`${ze} ${f?"!pr-0":"!pl-0"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Subscription")})]})}),r.jsx(Ut,{to:"/settings/company-setup/modules",className:({isActive:Ae})=>`${ze} ${f?"!pr-0":"!pl-0"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Enabled Modules")})]})}),r.jsx(Ut,{to:"/settings/company-setup/departments",className:({isActive:Ae})=>`${ze} ${f?"!pr-0":"!pl-0"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Departments")})]})}),r.jsx(Ut,{to:"/settings/company-setup/visibility",className:({isActive:Ae})=>`${ze} ${f?"!pr-0":"!pl-0"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Visibility")})]})})]}),r.jsxs("button",{type:"button",onClick:()=>ye("notifications"),className:`${ze} w-full justify-between`,"aria-expanded":z,children:[r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsxs("span",{className:"link-label nova-multiline leading-tight",children:[r.jsx("span",{className:"block",children:l("Notifications")}),r.jsx("span",{className:"block",children:"&"}),r.jsx("span",{className:"block",children:l("Templates")})]})]}),r.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:z?"rotate(180deg)":"rotate(0deg)"},children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:r.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),r.jsxs("div",{className:`${f?"mr-4 pr-2 border-r":"ml-4 pl-2 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:z?"360px":"0",overflow:"hidden",opacity:z?1:0},children:[r.jsx(Ut,{end:!0,to:"/settings/notifications",className:({isActive:Ae})=>`${ze} ${f?"!pr-0":"!pl-0"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Notifications Settings")})]})}),r.jsx(Ut,{to:"/settings/notifications/sms-templates",className:({isActive:Ae})=>`${ze} ${f?"!pr-0":"!pl-0"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("SMS Templates")})]})}),r.jsx(Ut,{to:"/settings/notifications/email-templates",className:({isActive:Ae})=>`${ze} ${f?"!pr-0":"!pl-0"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Email Templates")})]})}),r.jsx(Ut,{to:"/settings/notifications/whatsapp-templates",className:({isActive:Ae})=>`${ze} ${f?"!pr-0":"!pl-0"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("WhatsApp Templates")})]})})]}),r.jsxs("button",{type:"button",onClick:()=>ye("billing"),className:`${ze} w-full justify-between`,"aria-expanded":ne,children:[r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"link-label",children:l("Billing & Subscription")})]}),r.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:ne?"rotate(180deg)":"rotate(0deg)"},children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:r.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),r.jsxs("div",{className:`${f?"mr-4 pr-2 border-r":"ml-4 pl-2 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:ne?"320px":"0",overflow:"hidden",opacity:ne?1:0},children:[ft&&r.jsx(Ut,{to:"/settings/billing/subscription",className:({isActive:Ae})=>`${ze} ${f?"!pr-0":"!pl-0"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Billing & Subscription")})]})}),r.jsx(Ut,{to:"/settings/billing/payment-history",className:({isActive:Ae})=>`${ze} ${f?"!pr-0":"!pl-0"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Payment History")})]})}),r.jsx(Ut,{to:"/settings/billing/plans-upgrade",className:({isActive:Ae})=>`${ze} ${f?"!pr-0":"!pl-0"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Plans & Upgrade")})]})})]}),r.jsxs("button",{type:"button",onClick:()=>ta(Ae=>!Ae),className:`${ze} w-full justify-between`,"aria-expanded":ut,children:[r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"link-label",children:l("Integrations")})]}),r.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:ut?"rotate(180deg)":"rotate(0deg)"},children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:r.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),r.jsxs("div",{className:`${f?"mr-4 pr-2 border-r":"ml-4 pl-2 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:ut?"400px":"0",overflow:"hidden",opacity:ut?1:0},children:[r.jsx(Ut,{to:"/settings/integrations/api-keys",className:({isActive:Ae})=>`${ze} ${f?"!pr-0":"!pl-0"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("API Keys")})]})}),r.jsx(Ut,{to:"/settings/integrations/webhooks",className:({isActive:Ae})=>`${ze} ${f?"!pr-0":"!pl-0"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Webhooks")})]})}),r.jsx(Ut,{to:"/settings/integrations/whatsapp",className:({isActive:Ae})=>`${ze} ${f?"!pr-0":"!pl-0"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("WhatsApp Integration")})]})}),r.jsx(Ut,{to:"/settings/integrations/payment-gateway",className:({isActive:Ae})=>`${ze} ${f?"!pr-0":"!pl-0"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Payment Gateway Integration")})]})}),r.jsx(Ut,{to:"/settings/integrations/google-slack",className:({isActive:Ae})=>`${ze} ${f?"!pr-0":"!pl-0"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Google / Slack Integrations")})]})})]}),r.jsxs("button",{type:"button",onClick:()=>ye("dataMgmt"),className:`${ze} w-full justify-between`,"aria-expanded":oe,children:[r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"link-label",children:l("Data Management")})]}),r.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:oe?"rotate(180deg)":"rotate(0deg)"},children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:r.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),r.jsxs("div",{className:`${f?"mr-4 pr-2 border-r":"ml-4 pl-2 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:oe?"320px":"0",overflow:"hidden",opacity:oe?1:0},children:[r.jsx(Ut,{to:"/settings/data/import",className:({isActive:Ae})=>`${ze} ${f?"!pr-0":"!pl-0"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Import")})]})}),r.jsx(Ut,{to:"/settings/data/export",className:({isActive:Ae})=>`${ze} ${f?"!pr-0":"!pl-0"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Export")})]})}),r.jsx(Ut,{to:"/settings/data/backup",className:({isActive:Ae})=>`${ze} ${f?"!pr-0":"!pl-0"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Backup")})]})})]}),r.jsxs("button",{type:"button",onClick:()=>pa(Ae=>!Ae),className:`${ze} w-full justify-between`,"aria-expanded":va,children:[r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"link-label",children:l("Configuration")})]}),r.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:va?"rotate(180deg)":"rotate(0deg)"},children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:r.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),r.jsxs("div",{className:`${f?"mr-4 pr-2 border-r":"ml-4 pl-2 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:va?"800px":"0",overflow:"hidden",opacity:va?1:0},children:[r.jsx(Ut,{to:"/settings/operations/scripting",className:({isActive:Ae})=>`${ze} ${f?"!pr-0":"!pl-0"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Scripting")})]})}),r.jsx(Ut,{to:"/settings/operations/eoi",className:({isActive:Ae})=>`${ze} ${f?"!pr-0":"!pl-0"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("EOI Settings")})]})}),r.jsx(Ut,{to:"/settings/operations/reservation",className:({isActive:Ae})=>`${ze} ${f?"!pr-0":"!pl-0"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Reservation Settings")})]})}),r.jsx(Ut,{to:"/settings/operations/rotation",className:({isActive:Ae})=>`${ze} ${f?"!pr-0":"!pl-0"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Rotation Settings")})]})}),r.jsx(Ut,{to:"/settings/operations/contracts",className:({isActive:Ae})=>`${ze} ${f?"!pr-0":"!pl-0"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Contracts Settings")})]})}),r.jsx(Ut,{to:"/settings/operations/buyer-request-reset",className:({isActive:Ae})=>`${ze} ${f?"!pr-0":"!pl-0"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Buyer Request Reset")})]})}),r.jsx(Ut,{to:"/settings/operations/matching",className:({isActive:Ae})=>`${ze} ${f?"!pr-0":"!pl-0"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Matching Settings")})]})}),r.jsx(Ut,{to:"/settings/operations/rent",className:({isActive:Ae})=>`${ze} ${f?"!pr-0":"!pl-0"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("Rent Configuration")})]})}),r.jsx(Ut,{to:"/settings/operations/cil",className:({isActive:Ae})=>`${ze} ${f?"!pr-0":"!pl-0"} ${Ae?xt:""}`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:""}),r.jsx("span",{className:"text-[15px] link-label",children:l("CIL Settings")})]})})]})]})]}),r.jsxs("div",{className:"mt-auto pt-2 w-full",children:[r.jsx("div",{className:`border-t ${d?"border-gray-200":"border-gray-800"} mb-3`}),r.jsx(Ut,{to:"/contact",className:({isActive:Ae})=>`${ze} group/contact ${Ae?xt:""} bg-emerald-50 dark:bg-emerald-900/40 border border-emerald-200 dark:border-emerald-800`,children:r.jsxs("span",{className:"nova-icon-label",children:[r.jsx("span",{className:`${We} ${gt}`,children:Kl("Contact us")}),r.jsx("span",{className:"link-label !text-black group-hover/contact:!text-white",children:l("Contact us")})]})})]})]})};function wye({open:e=!1,onClose:t,className:a=""}){const{i18n:s}=Dt();return s.language,r.jsx(r.Fragment,{children:r.jsx(yye,{className:`${a}`,isOpen:e,onClose:t})})}const FV="userActionsByDate",jye=()=>{try{const e=localStorage.getItem(FV),t=e?JSON.parse(e):{},a={};return Object.keys(t).forEach(s=>{t[s]&&Array.isArray(t[s])&&(a[s]=t[s].filter(n=>{const i=String(n).toLowerCase();return i.includes("meeting")||i.includes("")||i.includes(" ")||i.includes(" ")||i.includes(" ")||i.includes(" ")}))}),a}catch{return{}}},QP=e=>{try{const t={};Object.keys(e).forEach(a=>{e[a]&&Array.isArray(e[a])&&(t[a]=e[a].filter(s=>{const n=String(s).toLowerCase();return n.includes("meeting")||n.includes("")||n.includes(" ")||n.includes(" ")||n.includes(" ")||n.includes(" ")}))}),localStorage.setItem(FV,JSON.stringify(t))}catch{}},Nye=(e,t)=>{const s=new Date(e,t,1).getDay(),n=new Date(e,t+1,0).getDate(),i=new Date(e,t,0).getDate(),l=[];for(let o=0;o<s;o++){const c=i-s+1+o;l.push({date:new Date(e,t-1,c),inMonth:!1})}for(let o=1;o<=n;o++)l.push({date:new Date(e,t,o),inMonth:!0});for(;l.length%7!==0;){const o=l[l.length-1].date,c=new Date(o);c.setDate(o.getDate()+1),l.push({date:c,inMonth:!1})}return l};function Sye({open:e,onClose:t,tone:a="light"}){const{t:s,i18n:n}=Dt(),i=a==="light",[l]=w.useState(new Date),[o,c]=w.useState(new Date),[d,u]=w.useState(new Date),[f,x]=w.useState(null),[m,g]=w.useState({}),[v,b]=w.useState(!1),[j,S]=w.useState(!1),[k,N]=w.useState("selected"),[A,_]=w.useState(null),[D,P]=w.useState(520),I=$e=>{P(qe=>Math.max(380,Math.min(800,qe+$e)))},[B,O]=w.useState(""),[U,E]=w.useState(""),[R,K]=w.useState(""),[V,Z]=w.useState(""),[J,ee]=w.useState(""),[W,le]=w.useState([]),[M,X]=w.useState(!1),[z,Q]=w.useState(null),ne=[s("All Managers"),"Manager 1","Manager 2","Manager 3"],re=[s("All Employees"),"Employee 1","Employee 2","Employee 3"],oe=()=>{try{const $e=JSON.parse(localStorage.getItem("crmStages")||"[]");if($e.length>0){const qe=$e.map(ct=>ct.name||String(ct)).filter(Boolean);le([s("All Stages"),...qe])}else le([s("All Stages"),"New Lead","Contacted","Qualified","Proposal","Negotiation","Closed Won","Closed Lost"])}catch($e){console.error("Failed to load stages:",$e),le([s("All Stages"),"New Lead","Contacted","Qualified","Proposal","Negotiation","Closed Won","Closed Lost"])}},q=()=>{try{const $e=localStorage.getItem("leads");return $e?JSON.parse($e):[]}catch($e){return console.error("Failed to load leads:",$e),[]}},ie=$e=>q().find(ct=>ct.id===$e)||null,ye=$e=>{const qe=ie($e);qe&&(Q(qe),X(!0))};w.useEffect(()=>{const $e=jye(),qe=Ht=>{const Vt=Ht.getFullYear(),Ne=String(Ht.getMonth()+1).padStart(2,"0"),Mt=String(Ht.getDate()).padStart(2,"0");return`${Vt}-${Ne}-${Mt}`},ct=new Date(l);ct.setDate(l.getDate()+1);const dt=new Date(l);dt.setDate(l.getDate()+3);const Nt=new Date(l);Nt.setDate(l.getDate()+7);const Ct={[qe(ct)]:[{id:"demo-1",type:"meeting",title:"    ",description:"   ",leadId:"lead_001",leadName:" ",leadPhone:"+966501234567",assignedTo:" ",status:"scheduled",priority:"high",location:" ",time:"10:00"}],[qe(dt)]:[{id:"demo-2",type:"call",title:"Follow-up Call",description:"Follow-up with client about proposal",leadId:"lead_002",leadName:"John Smith",leadPhone:"+1-555-0123",assignedTo:"Sarah Sales",status:"scheduled",priority:"medium",location:"Remote",time:"14:30"}],[qe(Nt)]:[{id:"demo-3",type:"meeting",title:"  ",description:"     ",leadId:"lead_003",leadName:" ",leadPhone:"+966509876543",assignedTo:" ",status:"scheduled",priority:"high",location:" ",time:"11:15"}]},Lt={...$e};Object.entries(Ct).forEach(([Ht,Vt])=>{Lt[Ht]=[...Lt[Ht]||[],...Vt]}),g(Lt),QP(Lt),oe(),O(s("All Stages")),E(s("All Managers")),K(s("All Employees")),Z(s("All Leads"))},[]),w.useEffect(()=>{O(s("All Stages")),E(s("All Managers")),K(s("All Employees")),Z(s("All Leads")),oe()},[n.language]);const Y=o.getFullYear(),ce=o.getMonth(),he=w.useMemo(()=>Nye(Y,ce),[Y,ce]),ue=$e=>{const qe=$e.getFullYear(),ct=String($e.getMonth()+1).padStart(2,"0"),dt=String($e.getDate()).padStart(2,"0");return`${qe}-${ct}-${dt}`},Fe=$e=>m[ue($e)]||[],Ue=$e=>{const qe=new Date($e),ct=qe.getDay();return qe.setDate(qe.getDate()-ct),qe.setHours(0,0,0,0),qe},Te=$e=>{const qe=new Date(Ue($e));return qe.setDate(qe.getDate()+6),qe.setHours(23,59,59,999),qe},ae=$e=>new Date($e.getFullYear(),$e.getMonth(),1),De=$e=>new Date($e.getFullYear(),$e.getMonth()+1,0),Ce=($e,qe)=>{const ct=[],dt=new Date($e);for(;dt<=qe;)ct.push(...Fe(dt)),dt.setDate(dt.getDate()+1);return ct},at=($e=10,qe=30)=>{try{const ct=new Date,dt=new Date(ct);dt.setDate(dt.getDate()+qe);const Nt=[];Object.entries(m||{}).forEach(([Lt,Ht])=>{const Vt=new Date(Lt);Ht.forEach(Ne=>{const Mt=new Date(Vt);if(Ne&&Ne.time){const[Ee,ze]=String(Ne.time).split(":");isNaN(Ee)||Mt.setHours(parseInt(Ee,10)),isNaN(ze)||Mt.setMinutes(parseInt(ze,10))}Nt.push({...Ne,_dt:Mt})})});let Ct=Nt.filter(Lt=>Lt._dt>=ct&&Lt._dt<=dt);if(R&&R!==s("All Employees")?Ct=Ct.filter(Lt=>Lt.assignedTo===R):U&&U!==s("All Managers")&&(Ct=Ct.filter(Lt=>Lt.assignedTo===U)),V&&V!==s("All Leads")&&(Ct=Ct.filter(Lt=>Lt.leadName===V)),J&&String(J).trim()){const Lt=String(J).trim().toLowerCase();Ct=Ct.filter(Ht=>(Ht.title||"").toLowerCase().includes(Lt)||(Ht.description||"").toLowerCase().includes(Lt))}return Ct.sort((Lt,Ht)=>Lt._dt-Ht._dt),Ct.slice(0,$e)}catch{return[]}},ft=$e=>{let qe=[];if($e==="selected"||$e==="day")qe=Fe(d||l);else if($e==="week"){const ct=Ue(l),dt=Te(l);qe=Ce(ct,dt)}else if($e==="month"){const ct=ae(o),dt=De(o);qe=Ce(ct,dt)}else $e==="upcoming"&&(qe=at());if(R&&R!==s("All Employees")?qe=qe.filter(ct=>typeof ct!="string"&&ct.assignedTo===R):U&&U!==s("All Managers")&&(qe=qe.filter(ct=>typeof ct!="string"&&ct.assignedTo===U)),V&&V!==s("All Leads")&&(qe=qe.filter(ct=>typeof ct!="string"&&ct.leadName===V)),J){const ct=String(J).toLowerCase();qe=qe.filter(dt=>{const Nt=typeof dt=="string"?dt:[dt.title,dt.leadName,dt.assignedTo,dt.location].filter(Boolean).join(" ");return String(Nt).toLowerCase().includes(ct)})}return qe},zt=w.useMemo(()=>{let qe=Object.values(m).flat();R&&R!==s("All Employees")?qe=qe.filter(dt=>dt.assignedTo===R):U&&U!==s("All Managers")&&(qe=qe.filter(dt=>dt.assignedTo===U));const ct=Array.from(new Set(qe.map(dt=>dt.leadName).filter(Boolean)));return[s("All Leads"),...ct]},[m,R,U,n.language]),st=$e=>{if($e.type!=="meeting")return;const qe=d?ue(d):$e.date,dt=($e.title||"").trim()||($e.notes?String($e.notes).slice(0,60):`${$e.type} action`),Nt={...m,[qe]:[...m[qe]||[],dt]};g(Nt),QP(Nt),b(!1)};return e?r.jsxs("div",{className:"fixed inset-0 z-[100] flex items-start justify-center pt-10",children:[r.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-[2px]",onClick:t,"aria-label":"Close calendar"}),r.jsxs("div",{className:`relative w-full h-screen sm:w-[90%] sm:max-w-4xl sm:h-auto sm:max-h-[90vh] overflow-y-auto rounded-none sm:rounded-xl border shadow-2xl ${i?"bg-white border-gray-200 text-gray-800":"bg-gray-900 border-gray-700 text-gray-100"}`,children:[r.jsx("button",{className:`absolute top-4 right-4 z-10 p-2 rounded-md transition-colors ${i?"hover:bg-gray-100 text-gray-500 hover:text-gray-700":"hover:bg-gray-800 text-gray-400 hover:text-gray-200"}`,onClick:t,"aria-label":"Close calendar",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:r.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),r.jsxs("div",{className:"p-4 pt-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-6 h-6",children:r.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),r.jsxs("div",{children:[r.jsx("h2",{className:`text-base font-semibold ${i?"text-gray-900":"text-white"}`,children:"Calender"}),r.jsx("p",{className:`text-sm ${i?"text-gray-500":"text-gray-400"}`,children:"Select which columns you need to see lead table"})]})]}),r.jsxs("div",{className:`flex flex-col sm:flex-row items-center justify-between px-3 py-2 border-b gap-2 ${i?"bg-gray-50 border-gray-200":"bg-gray-800 border-gray-700"}`,children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:`font-bold text-base ${i?"text-gray-800":"text-white"}`,children:o.toLocaleString(void 0,{month:"long",year:"numeric"})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("select",{value:ce,onChange:$e=>{const qe=parseInt($e.target.value,10);c(new Date(Y,qe,1))},className:`px-2 py-1 text-xs rounded-md border ${i?"bg-white border-gray-300 text-gray-800":"bg-gray-700 border-gray-600 text-gray-200"}`,"aria-label":"Select month",children:Array.from({length:12}).map(($e,qe)=>r.jsx("option",{value:qe,children:new Date(2e3,qe,1).toLocaleString(void 0,{month:"long"})},qe))}),r.jsx("select",{value:Y,onChange:$e=>{const qe=parseInt($e.target.value,10);c(new Date(qe,ce,1))},className:`px-2 py-1 text-xs rounded-md border ${i?"bg-white border-gray-300 text-gray-800":"bg-gray-700 border-gray-600 text-gray-200"}`,"aria-label":"Select year",children:Array.from({length:21}).map(($e,qe)=>{const ct=l.getFullYear()-10+qe;return r.jsx("option",{value:ct,children:ct},ct)})})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{className:`p-1 rounded-md ${i?"hover:bg-gray-200":"hover:bg-gray-700"}`,onClick:()=>c(new Date(Y,ce-1,1)),"aria-label":"Prev month",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:r.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),r.jsx("button",{className:`p-1 rounded-md ${i?"hover:bg-gray-200":"hover:bg-gray-700"}`,onClick:()=>c(new Date(Y,ce+1,1)),"aria-label":"Next month",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:r.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("button",{className:`px-3 py-1 text-sm font-semibold rounded-md ${i?"bg-gray-200 hover:bg-gray-300":"bg-gray-700 hover:bg-gray-600"}`,onClick:()=>c(new Date),children:"Today"})})]}),r.jsxs("div",{className:"p-3",children:[r.jsxs("div",{className:"flex items-center justify-between gap-3 mb-3 flex-wrap",children:[r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsx("select",{value:B,onChange:$e=>O($e.target.value),className:`px-3 py-1 text-sm rounded-md border ${i?"bg-white border-gray-300 text-gray-700":"bg-gray-700 border-gray-600 text-gray-200"}`,children:W.map($e=>r.jsx("option",{value:$e,children:$e},$e))}),r.jsx("select",{value:U,onChange:$e=>E($e.target.value),className:`px-3 py-1 text-sm rounded-md border ${i?"bg-white border-gray-300 text-gray-700":"bg-gray-700 border-gray-600 text-gray-200"}`,children:ne.map($e=>r.jsx("option",{value:$e,children:$e},$e))}),r.jsx("select",{value:R,onChange:$e=>K($e.target.value),className:`px-3 py-1 text-sm rounded-md border ${i?"bg-white border-gray-300 text-gray-700":"bg-gray-700 border-gray-600 text-gray-200"}`,children:re.map($e=>r.jsx("option",{value:$e,children:$e},$e))}),r.jsx("select",{value:V,onChange:$e=>Z($e.target.value),className:`px-3 py-1 text-sm rounded-md border ${i?"bg-white border-gray-300 text-gray-700":"bg-gray-700 border-gray-600 text-gray-200"}`,children:zt.map($e=>r.jsx("option",{value:$e,children:$e},$e))})]}),r.jsx("div",{className:"flex-1 md:flex-none",children:r.jsx("input",{type:"search",value:J,onChange:$e=>ee($e.target.value),placeholder:"Search...",className:`w-full md:w-64 px-3 py-1 text-sm rounded-md border ${i?"bg-white border-gray-300 text-gray-700 placeholder-gray-400":"bg-gray-700 border-gray-600 text-gray-200 placeholder-gray-400"}`})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-stretch",children:[r.jsxs("div",{className:"min-h-[360px] flex flex-col",style:{height:D},children:[r.jsx("div",{className:"grid grid-cols-7 text-xs opacity-70 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map($e=>r.jsx("div",{className:"text-center py-1",children:$e},$e))}),r.jsx("div",{className:"grid grid-cols-7 gap-1 flex-1 overflow-y-auto",children:he.map(({date:$e,inMonth:qe},ct)=>{const dt=$e.toDateString()===l.toDateString(),Nt=d&&$e.toDateString()===d.toDateString();let Ct=Fe($e);return R&&R!==s("All Employees")?Ct=Ct.filter(Lt=>Lt.assignedTo===R):U&&U!==s("All Managers")&&(Ct=Ct.filter(Lt=>Lt.assignedTo===U)),V&&V!==s("All Leads")&&(Ct=Ct.filter(Lt=>Lt.leadName===V)),r.jsx("div",{className:"relative group",children:r.jsxs("button",{onClick:()=>{u($e),N("selected")},onMouseEnter:()=>x($e),onMouseLeave:()=>x(null),className:`text-center rounded-lg border p-2 min-h-[70px] w-full transition-colors duration-150 ${qe?i?"bg-white border-gray-200 hover:bg-gray-100":"bg-gray-800 border-gray-700 hover:bg-gray-700":i?"bg-gray-50 border-gray-200 opacity-50":"bg-gray-900 border-gray-800 opacity-50"} ${dt?"ring-2 ring-indigo-500":""} ${Nt?"ring-2 ring-blue-500":""}`,children:[r.jsx("span",{className:"text-sm font-medium",children:$e.getDate()}),Ct.length>0&&r.jsx("span",{className:`mt-1 inline-block w-2 h-2 rounded-full ${i?"bg-indigo-500":"bg-indigo-400"}`})]})},ct)})})]}),r.jsxs("div",{className:"min-h-[360px] flex flex-col",style:{height:D},children:[r.jsxs("div",{className:`rounded-xl border ${i?"bg-white border-gray-200":"bg-gray-800 border-gray-700"} shadow-sm flex-1 flex flex-col overflow-hidden`,children:[r.jsxs("div",{className:`px-4 py-2 border-b flex items-center justify-between ${i?"border-gray-200":"border-gray-700"}`,children:[r.jsx("span",{className:"font-semibold text-sm",children:s("Actions")}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"flex items-center gap-1",children:[{key:"selected",label:d&&d.toDateString()===l.toDateString()?s("Today"):s("Selected","Selected")},{key:"week",label:s("Week")},{key:"month",label:s("Month")},{key:"upcoming",label:s("Upcoming")}].map($e=>r.jsx("button",{className:`px-2 py-1 text-xs rounded-md border ${i?"border-gray-300":"border-gray-600"} ${k===$e.key?i?"bg-gray-200":"bg-gray-700":""}`,onClick:()=>N($e.key),children:$e.label},$e.key))}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{title:s("Decrease height"),className:`px-2 py-1 text-xs rounded-md border ${i?"border-gray-300 hover:bg-gray-100":"border-gray-600 hover:bg-gray-700"}`,onClick:()=>I(-40),children:""}),r.jsx("button",{title:s("Increase height"),className:`px-2 py-1 text-xs rounded-md border ${i?"border-gray-300 hover:bg-gray-100":"border-gray-600 hover:bg-gray-700"}`,onClick:()=>I(40),children:"+"})]})]})]}),r.jsxs("div",{className:"p-3 space-y-2 overflow-y-auto flex-1",children:[ft(k).map(($e,qe)=>{const ct=typeof $e=="string"?$e:$e.title||"Action",dt=typeof $e=="string"?"medium":$e.priority||"medium",Nt=dt==="high"?i?"bg-red-100":"bg-red-900/30":dt==="medium"?i?"bg-yellow-100":"bg-yellow-900/30":i?"bg-emerald-100":"bg-emerald-900/30",Ct=dt==="high"?i?"text-red-800":"text-red-300":dt==="medium"?i?"text-yellow-800":"text-yellow-300":i?"text-emerald-800":"text-emerald-300",Lt=typeof $e=="string"?"":$e.leadName?$e.leadName:"";return r.jsxs("button",{className:`w-full text-left flex items-center justify-between px-3 py-2 rounded-xl ${Nt} cursor-pointer`,onClick:()=>{typeof $e!="string"&&$e.leadId?ye($e.leadId):_($e)},children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:`w-2 h-2 rounded-full ${Ct} bg-current`}),r.jsxs("div",{children:[r.jsx("div",{className:`text-sm font-medium ${Ct}`,children:ct}),Lt&&r.jsx("div",{className:"text-xs opacity-70",children:Lt})]})]}),r.jsx("span",{className:"text-white bg-gray-400/60 rounded-full w-5 h-5 flex items-center justify-center",children:""})]},qe)}),ft(k).length===0&&r.jsx("div",{className:`text-sm ${i?"text-gray-600":"text-gray-300"} opacity-70`,children:s("No actions for selected range.")})]})]}),r.jsxs("div",{className:`mt-3 rounded-xl border ${i?"bg-white border-gray-200":"bg-gray-800 border-gray-700"} shadow-sm`,children:[r.jsx("div",{className:`px-4 py-2 border-b font-semibold text-sm ${i?"border-gray-200":"border-gray-700"}`,children:s("Notifications")}),r.jsxs("div",{className:"p-3 space-y-2 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500"}),r.jsx("span",{children:s("Reminder: Meeting in 15 min.")})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),r.jsxs("span",{children:[s("New Lead assigned"),": John Smith"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 rounded-full bg-indigo-500"}),r.jsx("span",{children:s("Update: Project status changed to In Progress")})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 rounded-full bg-gray-500"}),r.jsx("span",{children:s("New message received")})]})]})]})]})]})]}),v&&r.jsx(hA,{isOpen:!0,onClose:()=>b(!1),onSave:st,lead:null}),A&&r.jsxs("div",{className:"fixed inset-0 z-[120] flex items-center justify-center",children:[r.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>_(null)}),r.jsxs("div",{className:`relative w-[92%] sm:w-[480px] rounded-2xl border shadow-xl ${i?"bg-white border-gray-200 text-gray-800":"bg-gray-800 border-gray-700 text-gray-100"}`,children:[r.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-gray-200 dark:border-gray-700",children:[r.jsx("div",{className:"font-semibold text-sm",children:" "}),r.jsx("button",{className:`px-2 py-1 rounded-md text-xs ${i?"bg-gray-100 hover:bg-gray-200":"bg-gray-700 hover:bg-gray-600"}`,onClick:()=>_(null),children:""})]}),r.jsxs("div",{className:"px-4 py-3 space-y-2 text-sm",children:[r.jsx("div",{className:"font-medium",children:typeof A=="string"?A:A.title||"Action"}),typeof A!="string"&&r.jsxs(r.Fragment,{children:[A.description&&r.jsx("div",{className:"opacity-80",children:A.description}),r.jsxs("div",{className:"opacity-75",children:[" ",A.leadName||""," |  ",A.assignedTo||""]}),A.location&&r.jsxs("div",{className:"opacity-75",children:[" ",A.location]}),A.leadPhone&&r.jsxs("div",{className:"opacity-75",children:[" ",A.leadPhone]})]}),r.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[typeof A!="string"&&A.leadId&&r.jsx("button",{className:"text-xs px-2 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>ye(A.leadId),children:" "}),typeof A!="string"&&A.leadPhone&&r.jsx("button",{className:"text-xs px-2 py-1 bg-green-500 text-white rounded hover:bg-green-600",onClick:()=>window.open(`tel:${A.leadPhone}`,"_self"),children:""}),typeof A!="string"&&A.leadPhone&&r.jsx("button",{className:"text-xs px-2 py-1 bg-emerald-500 text-white rounded hover:bg-emerald-600",onClick:()=>window.open(`https://wa.me/${A.leadPhone.replace("+","")}`,"_blank"),children:""})]})]})]})]}),r.jsx(kye,{lead:z,isOpen:M,onClose:()=>X(!1),isLight:i})]})]})]}):null}function kye({lead:e,isOpen:t,onClose:a,isLight:s}){return!t||!e?null:r.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center",children:[r.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:a}),r.jsx("div",{className:`relative w-full max-w-md mx-4 rounded-xl border shadow-2xl ${s?"bg-white border-gray-200 text-gray-800":"bg-gray-800 border-gray-700 text-gray-100"}`,children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:" "}),r.jsx("button",{onClick:a,className:`p-2 rounded-md transition-colors ${s?"hover:bg-gray-100 text-gray-500":"hover:bg-gray-700 text-gray-400"}`,children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:r.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${s?"bg-gray-200 text-gray-600":"bg-gray-700 text-gray-300"}`,children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-6 h-6",children:r.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:e.name}),r.jsx("p",{className:`text-sm ${s?"text-gray-600":"text-gray-400"}`,children:e.company||"Individual Client"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[r.jsxs("div",{className:`p-3 rounded-lg ${s?"bg-gray-50":"bg-gray-700"}`,children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 text-blue-500",children:r.jsx("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})}),r.jsx("span",{className:"text-sm font-medium",children:""})]}),r.jsx("p",{className:"text-sm",children:e.phone})]}),e.email&&r.jsxs("div",{className:`p-3 rounded-lg ${s?"bg-gray-50":"bg-gray-700"}`,children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 text-green-500",children:[r.jsx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),r.jsx("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]}),r.jsx("span",{className:"text-sm font-medium",children:" "})]}),r.jsx("p",{className:"text-sm",children:e.email})]}),e.stage&&r.jsxs("div",{className:`p-3 rounded-lg ${s?"bg-gray-50":"bg-gray-700"}`,children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 text-purple-500",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),r.jsx("span",{className:"text-sm font-medium",children:""})]}),r.jsx("p",{className:"text-sm",children:e.stage})]}),e.source&&r.jsxs("div",{className:`p-3 rounded-lg ${s?"bg-gray-50":"bg-gray-700"}`,children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 text-orange-500",children:r.jsx("path",{fillRule:"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z",clipRule:"evenodd"})}),r.jsx("span",{className:"text-sm font-medium",children:""})]}),r.jsx("p",{className:"text-sm",children:e.source})]})]}),r.jsxs("div",{className:"flex gap-2 mt-4",children:[r.jsxs("button",{onClick:()=>window.open(`tel:${e.phone}`,"_self"),className:"flex-1 bg-green-500 hover:bg-green-600 text-white py-2 px-4 rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4",children:r.jsx("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})}),""]}),r.jsxs("button",{onClick:()=>window.open(`https://wa.me/${e.phone.replace("+","")}`,"_blank"),className:"flex-1 bg-emerald-500 hover:bg-emerald-600 text-white py-2 px-4 rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})}),""]})]})]})]})})]})}const Cye=e=>{const t={className:"w-5 h-5"};switch(e){case"task":return r.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[r.jsx("path",{d:"M9 11l2 2 4-4"}),r.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2"})]});case"lead":return r.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[r.jsx("circle",{cx:"12",cy:"7",r:"4"}),r.jsx("path",{d:"M5.5 21a6.5 6.5 0 0113 0"})]});case"campaign":return r.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[r.jsx("path",{d:"M5 12h14"}),r.jsx("path",{d:"M7 9l3-3 3 3"}),r.jsx("path",{d:"M17 15l-3 3-3-3"})]});case"inventory":return r.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[r.jsx("rect",{x:"3",y:"4",width:"18",height:"14",rx:"2"}),r.jsx("path",{d:"M3 10h18"})]});case"comment":return r.jsx("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:r.jsx("path",{d:"M21 15a4 4 0 01-4 4H7l-4 4V7a4 4 0 014-4h10a4 4 0 014 4z"})});case"system":default:return r.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[r.jsx("path",{d:"M12 9v4"}),r.jsx("path",{d:"M12 17h.01"}),r.jsx("circle",{cx:"12",cy:"12",r:"9"})]})}},Aye=e=>{try{const t=Date.now()-Number(e||0),a=Math.floor(t/6e4);if(a<1)return"now";if(a<60)return`${a}m`;const s=Math.floor(a/60);return s<24?`${s}h`:`${Math.floor(s/24)}d`}catch{return""}};function _ye({data:e,onToggleRead:t,onArchive:a,onUnarchive:s}){const{t:n}=Dt(),[i,l]=w.useState(!1),o=w.useMemo(()=>{switch(e?.type){case"task":return"text-green-600 dark:text-green-400";case"lead":return"text-blue-600 dark:text-blue-400";case"campaign":return"text-purple-600 dark:text-purple-400";case"inventory":return"text-amber-600 dark:text-amber-400";case"comment":return"text-pink-600 dark:text-pink-400";case"system":default:return"text-gray-600 dark:text-gray-300"}},[e?.type]),c=e?.read?"border-gray-200 dark:border-gray-800":"border-blue-300 dark:border-blue-700",d=e?.read?"bg-[var(--content-bg)]":"bg-blue-50/50 dark:bg-blue-900/10";return r.jsxs("div",{className:`rounded-md border ${c} ${d} p-3 sm:p-4 flex items-start gap-3`,children:[r.jsx("div",{className:`flex-shrink-0 mt-0.5 ${o}`,children:Cye(e?.type)}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-start justify-between gap-3",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h3",{className:"font-medium truncate",children:e?.title||""}),e?.archived&&r.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-gray-200 dark:bg-gray-800 text-gray-600 dark:text-gray-300",children:n("Archived","Archived")}),!e?.read&&r.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-blue-600 text-white",children:n("New","New")})]}),r.jsx("p",{className:"text-sm opacity-80 truncate",children:e?.body||""}),r.jsxs("div",{className:"text-xs opacity-60 mt-0.5",children:[Aye(e?.createdAt),"  ",n(e?.source)||e?.source]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:()=>l(u=>!u),className:"btn btn-xs btn-ghost text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700","aria-expanded":i,title:i?n("Collapse","Collapse"):n("Expand","Expand"),children:r.jsx("svg",{className:`w-4 h-4 transition-transform ${i?"rotate-180":""}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:r.jsx("path",{d:"M6 9l6 6 6-6"})})}),r.jsx("button",{onClick:t,className:"btn btn-xs",title:e?.read?n("Mark as unread","Mark as unread"):n("Mark as read","Mark as read"),children:e?.read?n("Unread","Unread"):n("Read","Read")}),e?.archived?r.jsx("button",{onClick:s,className:"btn btn-xs btn-outline",title:n("Unarchive","Unarchive"),children:n("Unarchive","Unarchive")}):r.jsx("button",{onClick:a,className:"btn btn-xs btn-outline",title:n("Archive","Archive"),children:n("Archive","Archive")})]})]}),i&&r.jsx("div",{className:"pt-3 mt-2 border-t border-gray-200 dark:border-gray-800 text-sm",children:r.jsx("div",{className:"opacity-90 whitespace-pre-wrap",children:e?.body||""})})]})]})}function ZP(){const e=Date.now();return[{id:"n1",type:"task",title:"New task assigned",body:"Call client Ibrahim about contract details",createdAt:e-1e3*60*20,read:!1,archived:!1,source:"Tasks"},{id:"n2",type:"lead",title:"New lead imported",body:'Lead "Sara Ali" added from Meta campaign',createdAt:e-1e3*60*60*2,read:!1,archived:!1,source:"Leads"},{id:"n3",type:"campaign",title:"Campaign budget alert",body:"Google Ads daily budget reached 90%",createdAt:e-1e3*60*60*6,read:!0,archived:!1,source:"Marketing"},{id:"n4",type:"inventory",title:"Low stock threshold",body:'Item "SKU-AX12" is running low',createdAt:e-1e3*60*60*12,read:!1,archived:!1,source:"Inventory"},{id:"n5",type:"comment",title:"New comment on Task",body:"Omar: Please update the deadline to Friday",createdAt:e-1e3*60*60*26,read:!0,archived:!1,source:"Tasks"},{id:"n6",type:"system",title:"System updated",body:"CRM Ibrahim v1.2.3 deployed successfully",createdAt:e-1e3*60*60*48,read:!0,archived:!1,source:"System"},{id:"n7",type:"task",title:"Task deadline tomorrow",body:"Prepare product demo materials",createdAt:e-1e3*60*60*4,read:!1,archived:!1,source:"Tasks"},{id:"n8",type:"lead",title:"Lead status changed",body:'Lead "Mohamed" moved to Qualified',createdAt:e-1e3*60*10,read:!1,archived:!1,source:"Leads"}]}const Tye=[{value:"All",label:"All"},{value:"task",label:"Tasks"},{value:"lead",label:"Leads"},{value:"campaign",label:"Campaigns"},{value:"inventory",label:"Inventory"},{value:"comment",label:"Comments"},{value:"system",label:"System"}];function IV({embedded:e=!1}){const{t,i18n:a}=Dt();a.language;const[s,n]=w.useState([]),[i,l]=w.useState("all"),[o,c]=w.useState(""),[d,u]=w.useState("All");w.useEffect(()=>{try{const S=localStorage.getItem("notificationsData");if(S){const k=JSON.parse(S);if(Array.isArray(k))n(k);else throw new Error("Invalid notifications")}else{const k=ZP();n(k),localStorage.setItem("notificationsData",JSON.stringify(k))}}catch{const S=ZP();n(S);try{localStorage.setItem("notificationsData",JSON.stringify(S))}catch{}}},[]);const f=w.useCallback(S=>{n(S);try{localStorage.setItem("notificationsData",JSON.stringify(S)),window.dispatchEvent(new Event("notificationsUpdated"))}catch{}},[]),x=w.useMemo(()=>{const S=o.trim().toLowerCase();return s.filter(k=>!(i==="unread"&&k.read||i==="archived"&&!k.archived||i!=="archived"&&k.archived||d!=="All"&&(k.type||"")!==d||S&&!`${k.title||""} ${k.body||""}`.toLowerCase().includes(S)))},[s,i,o,d]),m=w.useMemo(()=>s.filter(S=>!S.read&&!S.archived).length,[s]),g=()=>{const S=s.map(k=>({...k,read:!0}));f(S)},v=()=>{const S=s.filter(k=>!k.read);f(S)},b=S=>{const k=s.map(N=>N.id===S?{...N,read:!N.read}:N);f(k)},j=(S,k)=>{const N=s.map(A=>A.id===S?{...A,archived:k}:A);f(N)};return r.jsxs("div",{className:`space-y-6 ${e?"p-0":""}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("h1",{className:"page-title text-xl font-semibold",children:t("Notifications","Notifications")}),r.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 text-xs rounded-full bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300",children:[m," ",t("Unread","Unread")]})]}),!e&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{type:"button",onClick:g,className:"btn btn-sm",children:t("Mark all as read","Mark all as read")}),r.jsx("button",{type:"button",onClick:v,className:"btn btn-sm btn-outline",children:t("Clear read","Clear read")})]})]}),r.jsx("div",{className:"h-3","aria-hidden":"true"}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsx("button",{onClick:()=>l("all"),className:`px-3 py-1.5 text-sm rounded-md border transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 active:scale-[0.98] ${i==="all"?"bg-blue-600 text-white border-blue-600 shadow-sm":"bg-gray-50 dark:bg-transparent border-gray-300 dark:border-gray-700 text-gray-800 dark:text-[var(--content-text)] hover:bg-blue-50 dark:hover:bg-blue-900/10 hover:shadow"}`,children:t("All")}),r.jsx("button",{onClick:()=>l("unread"),className:`px-3 py-1.5 text-sm rounded-md border transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 active:scale-[0.98] ${i==="unread"?"bg-blue-600 text-white border-blue-600 shadow-sm":"bg-gray-50 dark:bg-transparent border-gray-300 dark:border-gray-700 text-gray-800 dark:text-[var(--content-text)] hover:bg-blue-50 dark:hover:bg-blue-900/10 hover:shadow"}`,children:t("Unread","Unread")}),r.jsx("button",{onClick:()=>l("archived"),className:`px-3 py-1.5 text-sm rounded-md border transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 active:scale-[0.98] ${i==="archived"?"bg-blue-600 text-white border-blue-600 shadow-sm":"bg-gray-50 dark:bg-transparent border-gray-300 dark:border-gray-700 text-gray-800 dark:text-[var(--content-text)] hover:bg-blue-50 dark:hover:bg-blue-900/10 hover:shadow"}`,children:t("Archived","Archived")})]}),r.jsxs("div",{className:"flex items-center gap-2 w-full",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx("input",{value:o,onChange:S=>c(S.target.value),placeholder:t("Search"),className:"w-full rounded-lg border px-3 py-2.5 pl-8 pr-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-800 border-gray-300 placeholder:text-gray-500 dark:bg-gray-800 dark:text-gray-100 dark:border-gray-700"}),r.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 opacity-70 text-gray-600 dark:text-gray-300",children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:[r.jsx("circle",{cx:"11",cy:"11",r:"6"}),r.jsx("path",{d:"M21 21l-4.5-4.5"})]})})]}),r.jsx("div",{className:"w-40",children:r.jsx(Xa,{options:Tye,value:d,onChange:u,placeholder:t("All")})})]})]}),r.jsx("div",{className:"space-y-2",children:x.length===0?r.jsx("div",{className:"text-center py-16 border border-dashed rounded-md text-sm opacity-75",children:t("No notifications","No notifications")}):x.map(S=>r.jsx(_ye,{data:S,onToggleRead:()=>b(S.id),onArchive:()=>j(S.id,!0),onUnarchive:()=>j(S.id,!1)},S.id))})]})}function Eye(){return r.jsx(aa,{children:r.jsx(IV,{embedded:!1})})}function Dye({onClose:e,variant:t="modal"}){const{t:a,i18n:s}=Dt(),n=s.language==="ar",{theme:i}=Vi(),l=i==="light",[o,c]=w.useState("all"),[d,u]=w.useState(""),f=()=>{try{const x={filterField:o,query:d,ts:Date.now()};localStorage.setItem("globalSearch",JSON.stringify(x)),window.dispatchEvent(new CustomEvent("globalSearch",{detail:x}))}catch{}e&&e()};return t==="dropdown"?r.jsx("div",{className:`${l?"bg-white":"backdrop-blur-md bg-gray-900/95"} z-[110] 
        fixed left-0 right-0 top-16 max-[320px]:top-14 w-screen md:w-auto md:fixed md:top-auto md:absolute md:top-12 
        md:${n?"left-0":"right-0"} md:w-80 
        border-t md:border ${l?"border-gray-200":"border-gray-700"} 
        rounded-none md:rounded-xl shadow-none md:shadow-2xl`,role:"dialog","aria-label":a("Search"),children:r.jsxs("div",{className:"px-3 py-2 md:px-4 md:py-3 space-y-2 md:space-y-3 max-h-[60vh] overflow-auto",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:`text-xs md:text-sm max-[480px]:hidden ${l?"text-gray-800":"text-gray-300"}`,children:n?"":"Filter"}),r.jsx("div",{className:"relative w-40 max-[480px]:w-32 md:w-48",children:r.jsxs(Xa,{value:o,onChange:x=>c(x),className:"w-full text-xs md:text-sm",usePortal:!0,children:[r.jsx("option",{value:"all",children:n?"":"All"}),r.jsx("option",{value:"lead",children:n?"":"Lead"}),r.jsx("option",{value:"mobile",children:n?"":"Mobile"}),r.jsx("option",{value:"comment",children:n?"":"Comment"}),r.jsx("option",{value:"country",children:n?"":"Country"})]})}),r.jsx("label",{className:`text-xs md:text-sm max-[480px]:hidden ${l?"text-gray-800":"text-gray-300"}`,children:a("Search")}),r.jsx("input",{type:"text",value:d,onChange:x=>u(x.target.value),placeholder:n?" ...":"Type to search...",className:`flex-1 px-2 py-2 md:px-3 md:py-2 text-[12px] md:text-[14px] placeholder:text-[11px] md:placeholder:text-[13px] rounded-lg border ${l?"border-gray-300 bg-white text-gray-900 placeholder:text-gray-500":"dark:border-gray-600 dark:bg-gray-800 dark:text-gray-100"} focus:outline-none focus:ring-2 focus:ring-blue-500`})]}),r.jsxs("div",{className:"pt-2 flex items-center justify-end gap-2 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("button",{onClick:()=>{u(""),c("all");try{localStorage.removeItem("globalSearch"),window.dispatchEvent(new Event("globalSearchCleared"))}catch{}},className:`text-xs px-2 py-1 md:px-3 md:py-2 rounded-md border ${l?"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200":"dark:bg-gray-800 dark:text-gray-200 dark:border-gray-700 dark:hover:bg-gray-700"}`,children:n?"":"Clear"}),r.jsx("button",{onClick:()=>{f(),e&&e()},className:"text-xs px-2 py-1 md:px-3 md:py-2 rounded-md bg-indigo-600 hover:bg-indigo-700 text-white",children:n?"":"Search"})]})]})}):r.jsxs("div",{className:"fixed inset-0 z-[100]","aria-label":a("Search"),children:[r.jsx("div",{className:"absolute inset-0 bg-transparent",onClick:e,"aria-label":n?" ":"Close search"}),r.jsxs("div",{className:`absolute top-14 ${n?"left-4":"right-4"} w-[90vw] max-w-md rounded-xl ${l?"bg-white border border-gray-200 shadow-2xl":"backdrop-blur-md bg-gray-900/90 border border-gray-700 shadow-2xl"}`,role:"dialog","aria-modal":"true",children:[r.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[r.jsx("div",{className:`text-sm font-semibold ${l?"text-gray-900":""}`,children:a("Search")}),r.jsx("button",{onClick:e,className:`text-xs px-2 py-1 rounded-md border ${l?"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200":"dark:bg-gray-800 dark:text-gray-200 dark:border-gray-700 dark:hover:bg-gray-700"}`,children:n?"":"Close"})]}),r.jsxs("div",{className:"px-4 py-3 space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:`text-sm min-w-[70px] ${l?"text-gray-800":"text-gray-300"}`,children:n?"":"Filter"}),r.jsxs(Xa,{value:o,onChange:x=>c(x),className:"flex-1 text-sm",menuWidth:360,usePortal:!1,children:[r.jsx("option",{value:"all",children:n?"":"All"}),r.jsx("option",{value:"lead",children:n?"":"Lead"}),r.jsx("option",{value:"mobile",children:n?"":"Mobile"}),r.jsx("option",{value:"comment",children:n?"":"Comment"}),r.jsx("option",{value:"country",children:n?"":"Country"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:`text-sm min-w-[70px] ${l?"text-gray-800":"text-gray-300"}`,children:a("Search")}),r.jsx("input",{type:"text",value:d,onChange:x=>u(x.target.value),placeholder:n?" ...":"Type to search...",className:`flex-1 px-3 py-2 placeholder:text-[11px] md:placeholder:text-[13px] rounded-lg border ${l?"border-gray-300 bg-white text-gray-900 placeholder:text-gray-500":"dark:border-gray-600 dark:bg-gray-800 dark:text-gray-100"} focus:outline-none focus:ring-2 focus:ring-blue-500`})]}),r.jsxs("div",{className:"pt-2 flex items-center justify-end gap-2 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("button",{onClick:()=>{u("")},className:`text-xs px-3 py-2 rounded-md border ${l?"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200":"dark:bg-gray-800 dark:text-gray-200 dark:border-gray-700 dark:hover:bg-gray-700"}`,children:n?"":"Clear"}),r.jsx("button",{onClick:f,className:"text-xs px-3 py-2 rounded-md bg-indigo-600 hover:bg-indigo-700 text-white",children:n?"":"Search"})]})]})]})]})}const U5="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='64' height='64'><rect width='100%' height='100%' fill='%239ca3af'/><text x='50%' y='54%' font-family='system-ui,Segoe UI,Arial' font-size='28' fill='white' text-anchor='middle'>I</text></svg>",Mye=({count:e})=>r.jsx("span",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center px-1.5 py-0.5 text-[10px] font-semibold rounded-full bg-red-500 text-white",children:e}),Zc=({children:e,label:t,className:a,onClick:s,showLabel:n=!0})=>r.jsxs("button",{type:"button",className:a??"btn flex-col gap-1 px-3 py-2",title:t,"aria-label":t,onClick:s,children:[e,n&&r.jsx("span",{className:"text-[8px] leading-none opacity-75 font-medium max-[480px]:hidden",children:t})]});function Pye({isLight:e,text:t}){const[a,s]=w.useState(!1);return w.useEffect(()=>{const n=()=>s(window.matchMedia("(min-width: 768px)").matches);return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),r.jsx("div",{className:"flex items-center gap-3 max-[800px]:gap-2 max-[480px]:gap-1 max-[320px]:gap-1 pl-0 ml-0",style:{paddingInlineStart:0,marginInlineStart:0},children:r.jsx("span",{className:`text-sm max-[480px]:text-xs font-semibold whitespace-nowrap flex-shrink-0 min-w-fit max-w-[40vw] truncate ${e?"text-gray-800":"text-gray-300"}`,children:t})})}function Lye({onMobileToggle:e,mobileSidebarOpen:t,isSidebarExpanded:a}){const{theme:s,setTheme:n}=Vi(),i=s==="light",{t:l,i18n:o}=Dt(),c=o.language==="ar",d=ti(),{user:u}=zj(),[f,x]=w.useState(!1),[m,g]=w.useState(!1),[v,b]=w.useState(""),[j,S]=w.useState("All"),[k,N]=w.useState(!1),[A,_]=w.useState(!1),[D,P]=w.useState(!1),[I,B]=w.useState(!1),[O,U]=w.useState({top:64,left:8,right:8}),[E,R]=w.useState(!1),[K,V]=w.useState(0),[Z,J]=w.useState(!1),[ee,W]=w.useState(!1),[le,M]=w.useState(!1),X=w.useRef(null),z=w.useRef(null),Q=w.useRef(null),ne=w.useRef(null),re=w.useRef(null),oe=w.useRef(null);w.useEffect(()=>{try{const ae=localStorage.getItem("language")||localStorage.getItem("lang");ae&&ae!==o.language&&o.changeLanguage(ae)}catch{}},[]);const[q,ie]=w.useState(!1),ye=()=>{try{const ae=localStorage.getItem("notificationsData");if(!ae)return 0;const De=JSON.parse(ae);return Array.isArray(De)?De.filter(Ce=>!Ce.read&&!Ce.archived).length:0}catch{return 0}};w.useEffect(()=>{const ae=()=>V(ye());return ae(),window.addEventListener("storage",ae),window.addEventListener("notificationsUpdated",ae),document.addEventListener("visibilitychange",ae),()=>{window.removeEventListener("storage",ae),window.removeEventListener("notificationsUpdated",ae),document.removeEventListener("visibilitychange",ae)}},[]),w.useEffect(()=>{const ae=De=>{m&&X.current&&!X.current.contains(De.target)&&g(!1),ee&&z.current&&!z.current.contains(De.target)&&W(!1),Z&&Q.current&&!Q.current.contains(De.target)&&J(!1),le&&oe.current&&!oe.current.contains(De.target)&&M(!1),E&&ne.current&&!ne.current.contains(De.target)&&R(!1),I&&re.current&&!re.current.contains(De.target)&&B(!1)};return document.addEventListener("mousedown",ae),document.addEventListener("touchstart",ae),()=>{document.removeEventListener("mousedown",ae),document.removeEventListener("touchstart",ae)}},[m,ee,Z,E,I]);const Y="inline-flex items-center justify-center p-2 rounded-full transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500",ce=i?"text-gray-600 hover:text-gray-800 backdrop-blur-md bg-white/20 hover:bg-white/40 border border-white/30 hover:border-white/50 shadow-lg hover:shadow-xl hover:scale-105 hover:-translate-y-0.5":"text-gray-400 hover:text-gray-200 backdrop-blur-md bg-gray-800/20 hover:bg-gray-700/40 border border-gray-600/30 hover:border-gray-500/50 shadow-lg hover:shadow-xl hover:scale-105 hover:-translate-y-0.5",he=i?"bg-white/35 backdrop-blur-md border-white/30 shadow-sm":"bg-gray-900 border-gray-800",ue="flex flex-col items-center justify-center gap-1 p-2 rounded-lg border transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-400/40",Fe=i?"bg-green-50 border-green-200 hover:bg-green-100 text-green-700":"bg-green-900/20 border-green-600 hover:bg-green-900/30 text-green-300",Ue=i?"bg-orange-50 border-orange-200 hover:bg-orange-100 text-orange-700":"bg-orange-900/20 border-orange-600 hover:bg-orange-900/30 text-orange-300",Te=()=>{n(i?"dark":"light")};return r.jsxs(r.Fragment,{children:[r.jsx("header",{className:`main-header nova-topbar fixed top-0 z-[120] border-b ${he}`,children:r.jsxs("div",{className:"header-inner relative w-full h-16 max-[320px]:h-14 flex items-center justify-between px-2 max-[480px]:px-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{type:"button",onClick:()=>{typeof e=="function"&&e()},className:`md:hidden ${Y} ${ce} p-1.5`,"aria-label":t?"Close menu":"Open menu",children:t?r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4 text-red-500",children:[r.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}):r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-5 h-5",children:r.jsx("path",{d:"M3 12h18M3 6h18M3 18h18"})})}),r.jsxs("div",{className:"md:hidden flex items-center gap-2",children:[r.jsx("img",{src:qf,alt:"Be Souhola",className:"w-8 h-8"}),r.jsx("span",{className:`text-sm font-bold ${i?"text-gray-900":"text-white"}`,children:"Be Souhola"})]}),r.jsx("div",{className:"hidden md:flex",children:r.jsx(Pye,{isLight:i,text:l("welcome_super_admin","Welcome, Super Admin!")})})]}),r.jsxs("div",{className:"flex items-center gap-2 max-[768px]:gap-1.5 max-[480px]:gap-1",children:[r.jsxs("div",{className:"relative",ref:X,children:[r.jsx(Zc,{label:l("Search"),className:`${Y} ${ce} p-1.5 ${m?i?"ring-2 ring-blue-400 bg-white/40":"ring-2 ring-blue-500 bg-gray-800/40":""}`,onClick:()=>g(ae=>!ae),"aria-expanded":m,children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4 max-[480px]:w-3 max-[480px]:h-3",children:[r.jsx("circle",{cx:"11",cy:"11",r:"6"}),r.jsx("path",{d:"M21 21l-4.5-4.5"})]})}),m&&r.jsx(Dye,{onClose:()=>g(!1),variant:"dropdown"})]}),r.jsx("div",{children:r.jsx(Zc,{label:l("Calendar"),className:`${Y} ${ce} ${i?"":"text-white bg-gray-700/40 hover:bg-gray-600/50 border border-gray-500/50"}`,onClick:()=>ie(!0),children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5 max-[480px]:w-4 max-[480px]:h-4",children:[r.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),r.jsx("path",{d:"M3 10h18"}),r.jsx("path",{d:"M8 2v4M16 2v4"})]})})}),r.jsx("div",{className:"max-[768px]:hidden",children:r.jsx(Zc,{label:l("Theme"),className:`${Y} ${ce}`,onClick:Te,children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5 max-[480px]:w-4 max-[480px]:h-4",children:[r.jsx("path",{d:"M12 3v1m0 16v1m8-9h-1M4 12H3m15.36-6.36l-.71.71M6.35 17.65l-.71.71m12.01 0l-.71-.71M6.35 6.35l-.71-.71"}),r.jsx("circle",{cx:"12",cy:"12",r:"5"})]})})}),r.jsx("div",{className:"max-[768px]:hidden",children:r.jsx(Zc,{label:l("Tasks"),className:`${Y} ${ce}`,onClick:()=>d("/tasks"),children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:[r.jsx("path",{d:"M9 11l2 2 4-4"}),r.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2"})]})})}),r.jsxs("div",{className:"relative",ref:z,children:[r.jsx(Zc,{label:l("Notifications"),className:`${Y} ${ce} ${ee?i?"ring-2 ring-blue-400 bg-white/40":"ring-2 ring-blue-500 bg-gray-800/40":""}`,onClick:()=>W(ae=>!ae),children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5 max-[480px]:w-4 max-[480px]:h-4",children:[r.jsx("path",{d:"M18 8a6 6 0 10-12 0v4l-2 2h16l-2-2V8"}),r.jsx("path",{d:"M13.73 21a2 2 0 01-3.46 0"})]})}),K>0&&r.jsx(Mye,{count:K}),ee&&r.jsx("div",{className:`notifications-dropdown dropdown-panel absolute top-12 ${c?"left-0":"right-0"} w-[520px] max-w-[90vw] max-h-[70vh] overflow-auto backdrop-blur-md backdrop-saturate-150 ${i?"bg-white/95 border border-white/40 ring-1 ring-black/10":"bg-gray-900/95 border border-gray-600/40 ring-1 ring-white/10"} rounded-xl shadow-xl z-50`,role:"menu","aria-label":l("Notifications"),children:r.jsx("div",{className:"p-3",children:r.jsx(IV,{embedded:!0})})})]}),r.jsxs("div",{className:"max-[768px]:hidden relative",ref:Q,children:[r.jsx(Zc,{label:l("Language"),className:`${Y} ${ce} ${Z?i?"ring-2 ring-blue-400 bg-white/40":"ring-2 ring-blue-500 bg-gray-800/40":""}`,onClick:()=>J(ae=>!ae),children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:[r.jsx("circle",{cx:"12",cy:"12",r:"9"}),r.jsx("path",{d:"M3 12h18"}),r.jsx("path",{d:"M12 3v18"})]})}),Z&&r.jsxs("div",{className:`dropdown-panel absolute top-12 ${c?"left-0":"right-0"} w-44 backdrop-blur-md ${i?"bg-white/80 border border-white/30":"bg-gray-900/80 border border-gray-600/30"} rounded-xl shadow-2xl z-50`,role:"menu","aria-label":l("Language"),children:[r.jsx("button",{className:"w-full text-center px-4 py-2 text-sm hover:bg-[var(--table-row-hover)]",onClick:()=>{o.changeLanguage("en");try{localStorage.setItem("language","en")}catch{}},children:"English"}),r.jsx("button",{className:"w-full text-center px-4 py-2 text-sm hover:bg-[var(--table-row-hover)]",onClick:()=>{o.changeLanguage("ar");try{localStorage.setItem("language","ar")}catch{}},children:""})]})]}),r.jsxs("div",{className:"relative max-[768px]:hidden",ref:ne,children:[r.jsxs("button",{onClick:()=>R(!E),className:`flex items-center gap-2 px-3 py-2 rounded-full transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 ${i?"backdrop-blur-md bg-white/20 hover:bg-white/40 border border-white/30 hover:border-white/50 shadow-lg hover:shadow-xl hover:scale-105 hover:-translate-y-0.5":"backdrop-blur-md bg-gray-800/20 hover:bg-gray-700/40 border border-gray-600/30 hover:border-gray-500/50 shadow-lg hover:shadow-xl hover:scale-105 hover:-translate-y-0.5"}`,children:[r.jsx("img",{src:U5,alt:"User",className:"w-8 h-8 rounded-full"}),r.jsxs("div",{className:"max-[880px]:hidden text-left",children:[r.jsx("div",{className:"text-sm font-semibold",children:l("Ibrahim")}),r.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:l("Admin")})]})]}),E&&r.jsxs("div",{className:`dropdown-panel absolute top-12 ${c?"left-0":"right-0"} w-64 max-w-[85vw] ${i?"bg-white border border-gray-200":"bg-gray-900 border border-gray-700"} rounded-xl shadow-2xl z-50`,role:"menu","aria-label":l("Profile menu"),children:[r.jsx("div",{className:`absolute -top-2 ${c?"left-6":"right-6"} w-3 h-3 ${i?"bg-white border-t border-l border-gray-200":"bg-gray-900 border-t border-l border-gray-700"} rotate-45`}),r.jsxs("div",{className:"px-4 py-3 flex items-center gap-3",children:[r.jsx("img",{src:U5,alt:"User",className:"w-10 h-10 rounded-full"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-sm font-semibold truncate",children:u?.name||l("Administrator")}),r.jsx("div",{className:"text-xs text-[var(--muted-text)] truncate",children:u?.email||"admin@example.com"}),r.jsxs("button",{className:"mt-1 text-xs font-semibold text-blue-600 hover:text-blue-700",onClick:()=>{d("/settings/profile")},children:[l("My Profile")," "]})]}),r.jsx("span",{className:"inline-flex items-center justify-center w-2 h-2 rounded-full bg-green-500","aria-hidden":!0})]}),r.jsx("div",{className:"h-px bg-[var(--divider)]"}),r.jsxs("button",{onClick:()=>{d("/settings/system/security")},className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-[var(--content-text)] hover:bg-[var(--table-row-hover)] transition-colors",role:"menuitem",children:[r.jsx("span",{className:"w-5 h-5 inline-flex items-center justify-center",children:""}),r.jsx("span",{children:l("Security Settings")})]}),r.jsxs("button",{onClick:()=>{d("/user-management/access-logs")},className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-[var(--content-text)] hover:bg-[var(--table-row-hover)] transition-colors",role:"menuitem",children:[r.jsx("span",{className:"w-5 h-5 inline-flex items-center justify-center",children:""}),r.jsx("span",{children:l("Linked Devices")})]}),r.jsxs("button",{onClick:()=>{d("/settings/profile/company")},className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-[var(--content-text)] hover:bg-[var(--table-row-hover)] transition-colors",role:"menuitem",children:[r.jsx("span",{className:"w-5 h-5 inline-flex items-center justify-center",children:""}),r.jsx("span",{children:l("Company Profile")})]}),r.jsx("div",{className:"h-px bg-[var(--divider)]"}),r.jsxs("button",{onClick:()=>{d("/settings/profile")},className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-[var(--content-text)] hover:bg-[var(--table-row-hover)] transition-colors",role:"menuitem",children:[r.jsx("span",{className:"w-5 h-5 inline-flex items-center justify-center",children:""}),r.jsx("span",{children:l("Change Profile Picture")})]}),r.jsxs("button",{onClick:()=>{d("/settings/system/security")},className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-[var(--content-text)] hover:bg-[var(--table-row-hover)] transition-colors",role:"menuitem",children:[r.jsx("span",{className:"w-5 h-5 inline-flex items-center justify-center",children:""}),r.jsx("span",{children:l("Change Password")})]}),r.jsx("div",{className:"h-px bg-[var(--divider)]"}),r.jsxs("button",{onClick:async()=>{await UM(),d("/login")},className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-[var(--content-text)] hover:bg-[var(--table-row-hover)] transition-colors",role:"menuitem",children:[r.jsx("span",{className:"w-5 h-5 inline-flex items-center justify-center",children:""}),r.jsx("span",{children:l("Logout")})]})]})]}),r.jsx("div",{className:"md:hidden",children:r.jsx(Zc,{label:l("More"),className:`${Y} ${ce}`,onClick:()=>P(!D),children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:[r.jsx("circle",{cx:"12",cy:"12",r:"1"}),r.jsx("circle",{cx:"19",cy:"12",r:"1"}),r.jsx("circle",{cx:"5",cy:"12",r:"1"})]})})})]})]})}),D&&r.jsx("div",{className:"md:hidden fixed inset-x-0 top-16 max-[320px]:top-14 z-40",children:r.jsx("div",{className:`py-2 px-3 border-b backdrop-blur-sm ${he}`,children:r.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[r.jsx(Zc,{label:l("Tasks"),className:`${ue} ${Fe}`,onClick:()=>{P(!1),d("/tasks")},children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:[r.jsx("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"}),r.jsx("path",{d:"M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"})]})}),r.jsx(Zc,{label:l("Language"),className:`${ue} ${Ue}`,onClick:()=>{M(ae=>!ae)},children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:[r.jsx("circle",{cx:"12",cy:"12",r:"9"}),r.jsx("path",{d:"M3 12h18"}),r.jsx("path",{d:"M12 3v18"})]})}),r.jsx(Zc,{label:l("Theme"),className:`${ue} ${i?"bg-gray-100 border-gray-200 text-gray-600":"bg-gray-800 border-gray-700 text-gray-300"}`,onClick:Te,children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:[r.jsx("path",{d:"M12 3v1m0 16v1m8-9h-1M4 12H3m15.36-6.36l-.71.71M6.35 17.65l-.71.71m12.01 0l-.71-.71M6.35 6.35l-.71-.71"}),r.jsx("circle",{cx:"12",cy:"12",r:"5"})]})}),r.jsx(Zc,{label:l("Profile"),className:`${ue} ${i?"bg-gray-100 border-gray-200 text-gray-600":"bg-gray-800 border-gray-700 text-gray-300"}`,onClick:ae=>{P(!1);try{const De=ae.currentTarget.getBoundingClientRect(),Ce=Math.min(De.bottom+8,window.innerHeight-10),at=Math.max(8,De.left),ft=Math.max(8,window.innerWidth-De.right);U({top:Ce,left:at,right:ft})}catch{}B(De=>!De)},children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:[r.jsx("circle",{cx:"12",cy:"8",r:"4"}),r.jsx("path",{d:"M6 20a6 6 0 0112 0"})]})}),le&&r.jsx("div",{ref:oe,className:`col-span-4 mt-2 rounded-lg border ${i?"bg-white border-gray-200":"bg-gray-900 border-gray-700"} p-2`,children:r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsx("button",{className:`px-3 py-2 rounded-md text-sm ${i?"bg-gray-50 hover:bg-gray-100 text-gray-800 border border-gray-200":"bg-gray-800 hover:bg-gray-700 text-gray-100 border border-gray-700"}`,onClick:()=>{o.changeLanguage("en");try{localStorage.setItem("language","en")}catch{}},children:"English"}),r.jsx("button",{className:`px-3 py-2 rounded-md text-sm ${i?"bg-gray-50 hover:bg-gray-100 text-gray-800 border border-gray-200":"bg-gray-800 hover:bg-gray-700 text-gray-100 border border-gray-700"}`,onClick:()=>{o.changeLanguage("ar");try{localStorage.setItem("language","ar")}catch{}},children:""})]})})]})})}),I&&r.jsx("div",{ref:re,className:"md:hidden fixed z-50",style:{top:O.top,left:c?O.left:void 0,right:c?void 0:O.right},children:r.jsxs("div",{className:`dropdown-panel w-[260px] max-w-[90vw] ${i?"bg-white border border-gray-200":"bg-gray-900 border border-gray-700"} rounded-xl shadow-2xl`,role:"menu","aria-label":l("Profile menu"),children:[r.jsxs("div",{className:"px-3 py-2 flex items-center gap-2",children:[r.jsx("img",{src:U5,alt:"User",className:"w-8 h-8 rounded-full"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-sm font-semibold truncate",children:u?.name||l("Administrator")}),r.jsx("div",{className:"text-[11px] text-[var(--muted-text)] truncate",children:u?.email||"admin@example.com"}),r.jsxs("button",{className:"mt-1 text-[11px] font-semibold text-blue-600 hover:text-blue-700",onClick:()=>{d("/settings/profile")},children:[l("My Profile")," "]})]}),r.jsx("span",{className:"inline-flex items-center justify-center w-2 h-2 rounded-full bg-green-500","aria-hidden":!0})]}),r.jsx("div",{className:"h-px bg-[var(--divider)]"}),r.jsxs("button",{onClick:()=>{d("/settings/system/security")},className:"w-full flex items-center gap-2 px-3 py-2 text-xs text-[var(--content-text)] hover:bg-[var(--table-row-hover)]",role:"menuitem",children:[r.jsx("span",{className:"w-5 h-5 inline-flex items-center justify-center",children:""}),r.jsx("span",{children:l("Security Settings")})]}),r.jsxs("button",{onClick:()=>{d("/user-management/access-logs")},className:"w-full flex items_center gap-2 px-3 py-2 text-xs text-[var(--content-text)] hover:bg-[var(--table-row-hover)]",role:"menuitem",children:[r.jsx("span",{className:"w-5 h-5 inline-flex items_center justify_center",children:""}),r.jsx("span",{children:l("Linked Devices")})]}),r.jsxs("button",{onClick:()=>{d("/settings/profile/company")},className:"w-full flex items_center gap-2 px-3 py-2 text-xs text-[var(--content-text)] hover:bg-[var(--table-row-hover)]",role:"menuitem",children:[r.jsx("span",{className:"w-5 h-5 inline-flex items_center justify_center",children:""}),r.jsx("span",{children:l("Company Profile")})]}),r.jsx("div",{className:"h-px bg-[var(--divider)]"}),r.jsxs("button",{onClick:()=>{d("/settings/profile")},className:"w-full flex items_center gap-2 px-3 py-2 text-xs text-[var(--content-text)] hover:bg-[var(--table-row-hover)]",role:"menuitem",children:[r.jsx("span",{className:"w-5 h-5 inline-flex items_center justify_center",children:""}),r.jsx("span",{children:l("Change Profile Picture")})]}),r.jsxs("button",{onClick:()=>{d("/settings/system/security")},className:"w-full flex items_center gap-2 px-3 py-2 text-xs text-[var(--content-text)] hover:bg-[var(--table-row-hover)]",role:"menuitem",children:[r.jsx("span",{className:"w-5 h-5 inline-flex items_center justify_center",children:""}),r.jsx("span",{children:l("Change Password")})]}),r.jsx("div",{className:"h-px bg-[var(--divider)]"}),r.jsxs("button",{onClick:async()=>{await UM(),d("/login")},className:"w-full flex items_center gap-2 px-3 py-2 text-xs text-[var(--content_text)] hover:bg-[var(--table-row-hover)]",role:"menuitem",children:[r.jsx("span",{className:"w-5 h-5 inline-flex items_center justify_center",children:""}),r.jsx("span",{children:l("Logout")})]})]})}),q&&r.jsx(Sye,{open:q,onClose:()=>ie(!1)})]})}function aa({children:e}){const{i18n:t}=Dt(),a=t.language==="ar",[s,n]=w.useState(!1),[i,l]=w.useState(()=>window.matchMedia("(max-width: 768px)").matches);return w.useEffect(()=>(window.matchMedia("(max-width: 768px)").matches&&s?document.body.classList.add("overflow-hidden"):document.body.classList.remove("overflow-hidden"),()=>document.body.classList.remove("overflow-hidden")),[s]),w.useEffect(()=>{const o=window.matchMedia("(max-width: 768px)"),c=d=>l(d.matches);return o.addEventListener("change",c),l(o.matches),()=>o.removeEventListener("change",c)},[]),r.jsxs("div",{dir:a?"rtl":"ltr",className:"relative min-h-screen bg-[var(--app-bg)] text-[var(--app-text)] app-glass-neon",children:[r.jsx("div",{className:`${s&&i?"hidden md:block":""}`,children:r.jsx(Lye,{onMobileToggle:()=>n(o=>!o),mobileSidebarOpen:s})}),r.jsxs("div",{className:"flex w-full",children:[r.jsx(wye,{open:s,onClose:()=>n(!1)}),r.jsx("div",{className:"content-container flex flex-col  min-h-0",children:r.jsx("main",{className:"main-pane flex-1 px-0 m-0",children:r.jsx("div",{className:"w-full",children:e??r.jsx(Sj,{})})})})]})]})}function Oye(){const{t:e}=Dt(),t=ti(),[a,s]=w.useState([]),[n,i]=w.useState(!0),[l,o]=w.useState(""),[c,d]=w.useState(!1),[u,f]=w.useState(""),x=[{id:"OPP-001",customerId:"CUST-001",status:"New",amount:25e3,stage:"Qualification",expectedCloseDate:new Date(Date.now()+168*3600*1e3).toISOString(),createdAt:new Date(Date.now()-48*3600*1e3).toISOString()},{id:"OPP-002",customerId:"CUST-002",status:"In Progress",amount:78e3,stage:"Proposal",expectedCloseDate:new Date(Date.now()+336*3600*1e3).toISOString(),createdAt:new Date(Date.now()-24*3600*1e3).toISOString()},{id:"OPP-003",customerId:"CUST-003",status:"New",amount:12e3,stage:"Negotiation",expectedCloseDate:new Date(Date.now()+504*3600*1e3).toISOString(),createdAt:new Date().toISOString()}],[m,g]=w.useState([]),[v,b]=w.useState(""),[j,S]=w.useState(""),[k,N]=w.useState(""),[A,_]=w.useState(""),[D,P]=w.useState("New"),[I,B]=w.useState("Qualification"),[O,U]=w.useState(""),[E,R]=w.useState(""),[K,V]=w.useState(""),[Z,J]=w.useState("Individual"),[ee,W]=w.useState(""),[le,M]=w.useState(""),[X,z]=w.useState(""),[Q,ne]=w.useState(""),[re,oe]=w.useState(!1),[q,ie]=w.useState(!1);w.useEffect(()=>{let ae=!0;return i(!0),o(""),ya.get("/api/customers/opportunities").then(De=>{if(!ae)return;const Ce=De?.data?.data,at=Array.isArray(Ce?.items)?Ce.items:[];s(at.length>0?at:x)}).catch(De=>{if(!ae)return;o("Failed to load from //api/customers/opportunities"),s(x)}).finally(()=>ae&&i(!1)),()=>{ae=!1}},[]),w.useEffect(()=>{let ae=!0;return ya.get("/api/customers").then(De=>{if(!ae)return;const Ce=De?.data?.data,at=Array.isArray(Ce?.items)?Ce.items:[];g(at)}).catch(()=>{}),()=>{ae=!1}},[]);const ye=["New","In Progress","Won","Lost"],Y=["Qualification","Proposal","Negotiation","Final"],ce=()=>{b(""),S(""),N(""),_(""),P("New"),B("Qualification"),U("")},he=ae=>{if(ae.preventDefault(),c)return;d(!0),o(""),f("");const De={customerId:v||void 0,contact:j||void 0,amount:k?Number(k):void 0,expectedCloseDate:A||void 0,status:D,stage:I,notes:O||void 0};ya.post("/api/customers/opportunities",De).then(Ce=>{const at=Ce?.data?.data?.item;at&&(s(ft=>[at,...ft]),ce(),f(e("Saved successfully")))}).catch(Ce=>{const at={id:`local-${Date.now()}`,status:D,stage:I,amount:k?Number(k):void 0,customerId:v||void 0,expectedCloseDate:A||void 0,createdAt:new Date().toISOString()};s(ft=>[at,...ft]),ce(),f(e("Saved successfully"))}).finally(()=>d(!1))},[ue,Fe]=w.useState(""),Ue=ae=>{ue||(Fe(ae),ya.post("/api/customers/quotations",{opportunityId:ae,items:[]}).then(()=>{t("/sales/quotations")}).catch(()=>{}).finally(()=>Fe("")))},Te=ae=>{if(ae?.preventDefault?.(),!E.trim()||!K.trim()||re)return;oe(!0);const De={name:E.trim(),phone:K.trim(),type:Z||"Individual",companyName:le||void 0,contacts:ee?[ee.trim()]:[],tags:X?X.split(",").map(Ce=>Ce.trim()).filter(Boolean):[],assignedSalesRep:Q||void 0};ya.post("/api/customers",De).then(Ce=>{const at=Ce?.data?.data?.item;at&&(g(ft=>[at,...ft]),b(at.id),R(""),V(""),J("Individual"),W(""),M(""),z(""),ne(""),ie(!1))}).catch(()=>{}).finally(()=>oe(!1))};return r.jsxs(aa,{children:[r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h1",{className:"text-xl font-semibold",children:e("Opportunities")}),r.jsx("div",{className:"text-sm text-gray-500",children:e("Sales")})]}),r.jsxs("form",{onSubmit:he,className:"mb-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:e("Customer")}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{value:v,onChange:ae=>b(ae.target.value),className:"flex-1 border rounded px-2 py-2",children:[r.jsx("option",{value:"",children:e("Select")}),m.map(ae=>r.jsx("option",{value:ae.id,children:ae.name},ae.id))]}),r.jsx("button",{onClick:()=>ie(!0),className:"px-3 py-2 rounded bg-indigo-600 text-white",type:"button",disabled:re,title:e("Quick add"),children:re?e("..."):"+"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:e("Contact (B2B)")}),r.jsx("input",{value:j,onChange:ae=>S(ae.target.value),placeholder:e("Contact person"),className:"w-full border rounded px-2 py-2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:e("Amount")}),r.jsx("input",{type:"number",step:"0.01",min:"0",value:k,onChange:ae=>N(ae.target.value),placeholder:e("Amount"),className:"w-full border rounded px-2 py-2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:e("Expected Close Date")}),r.jsx("input",{type:"date",value:A,onChange:ae=>_(ae.target.value),className:"w-full border rounded px-2 py-2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:e("Status")}),r.jsx("select",{value:D,onChange:ae=>P(ae.target.value),className:"w-full border rounded px-2 py-2",children:ye.map(ae=>r.jsx("option",{value:ae,children:e(ae)},ae))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:e("Stage")}),r.jsx("select",{value:I,onChange:ae=>B(ae.target.value),className:"w-full border rounded px-2 py-2",children:Y.map(ae=>r.jsx("option",{value:ae,children:e(ae)},ae))})]}),r.jsxs("div",{className:"md:col-span-2 lg:col-span-3",children:[r.jsx("label",{className:"block text-sm mb-1",children:e("Notes")}),r.jsx("textarea",{value:O,onChange:ae=>U(ae.target.value),placeholder:e("Optional"),className:"w-full border rounded px-2 py-2 min-h-[80px]"})]}),r.jsxs("div",{className:"md:col-span-2 lg:col-span-3 flex gap-2",children:[r.jsx("button",{type:"submit",disabled:c,className:"px-4 py-2 rounded bg-green-600 text-white",children:e("Add Opportunity")}),c&&r.jsx("span",{className:"text-gray-500 px-2",children:e("Saving...")})]})]}),l&&r.jsx("div",{className:"mb-3 p-3 rounded border border-red-300 bg-red-50 text-red-700",children:l}),u&&r.jsx("div",{className:"mb-3 p-3 rounded border border-green-300 bg-green-50 text-green-700",children:u}),n?r.jsx("div",{className:"text-gray-500",children:e("Loading...")}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left border-b",children:[r.jsx("th",{className:"p-2",children:e("Customer")}),r.jsx("th",{className:"p-2",children:e("Status")}),r.jsx("th",{className:"p-2",children:e("Amount")}),r.jsx("th",{className:"p-2",children:e("Stage")}),r.jsx("th",{className:"p-2",children:e("Expected Close Date")}),r.jsx("th",{className:"p-2",children:e("Created")}),r.jsx("th",{className:"p-2",children:e("Actions")})]})}),r.jsx("tbody",{children:a.length===0?r.jsx("tr",{children:r.jsx("td",{className:"p-3 text-gray-500",colSpan:7,children:e("No data")})}):a.map(ae=>r.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[r.jsx("td",{className:"p-2",children:ae.customerId||"-"}),r.jsx("td",{className:"p-2",children:ae.status}),r.jsx("td",{className:"p-2",children:typeof ae.amount=="number"?ae.amount.toLocaleString():ae.amount}),r.jsx("td",{className:"p-2",children:ae.stage}),r.jsx("td",{className:"p-2",children:ae.expectedCloseDate?new Date(ae.expectedCloseDate).toLocaleDateString():"-"}),r.jsx("td",{className:"p-2",children:ae.createdAt?new Date(ae.createdAt).toLocaleString():"-"}),r.jsx("td",{className:"p-2",children:r.jsx("button",{className:"px-3 py-1 rounded bg-purple-600 text-white",title:e("Convert to Quotation"),onClick:()=>Ue(ae.id),disabled:ue===ae.id,children:ue===ae.id?e("Saving..."):e("Convert to Quotation")})})]},ae.id))})]})})]}),q&&r.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[r.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>ie(!1)}),r.jsxs("div",{className:"relative z-50 glass-panel rounded-xl p-4 w-[420px] max-w-[95vw]",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h2",{className:"text-lg font-semibold",children:e("Quick Add Customer")}),r.jsx("button",{className:"btn btn-glass",onClick:()=>ie(!1),children:e("Close")})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Name")}),r.jsx("input",{className:"input",value:E,onChange:ae=>R(ae.target.value),placeholder:e("Customer Name")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Phone")}),r.jsx("input",{className:"input",value:K,onChange:ae=>V(ae.target.value),placeholder:e("Phone")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Type")}),r.jsxs("select",{className:"input",value:Z,onChange:ae=>J(ae.target.value),children:[r.jsx("option",{value:"Individual",children:e("Individual")}),r.jsx("option",{value:"Company",children:e("Company")})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Contact")}),r.jsx("input",{className:"input",value:ee,onChange:ae=>W(ae.target.value),placeholder:e("Contact person")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Company")}),r.jsx("input",{className:"input",value:le,onChange:ae=>M(ae.target.value),placeholder:e("Company name")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Tags")}),r.jsx("input",{className:"input",value:X,onChange:ae=>z(ae.target.value),placeholder:e("Comma separated")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Assigned Rep")}),r.jsx("input",{className:"input",value:Q,onChange:ae=>ne(ae.target.value),placeholder:e("Sales representative")})]}),r.jsxs("div",{className:"flex items-center justify-end gap-2",children:[r.jsx("button",{className:"btn",onClick:()=>ie(!1),children:e("Cancel")}),r.jsx("button",{className:"btn btn-primary",onClick:Te,disabled:re,children:e(re?"Saving...":"Save")})]})]})]})]})]})}function Rye(){const{t:e}=Dt(),[t,a]=w.useState([]),[s,n]=w.useState(!0),[i,l]=w.useState(""),[o,c]=w.useState(!1),[d,u]=w.useState(""),[f,x]=w.useState(""),[m,g]=w.useState([]),v=[{id:"QUO-1001",status:"Draft",subtotal:25e3,tax:3500,total:28500,opportunityId:"OPP-001",createdAt:new Date(Date.now()-36*3600*1e3).toISOString()},{id:"QUO-1002",status:"Sent",subtotal:78e3,tax:10920,total:88920,opportunityId:"OPP-002",createdAt:new Date(Date.now()-12*3600*1e3).toISOString()},{id:"QUO-1003",status:"Approved",subtotal:12e3,tax:1680,total:13680,opportunityId:"OPP-003",createdAt:new Date().toISOString()}],[b,j]=w.useState([]),[S,k]=w.useState(""),[N,A]=w.useState([{name:"",quantity:1,unitPrice:0,discount:0}]),[_,D]=w.useState(null),[P,I]=w.useState(""),[B,O]=w.useState(""),[U,E]=w.useState(.14),[R,K]=w.useState(!1),V=w.useMemo(()=>N.reduce((oe,q)=>oe+(Number(q.quantity)||0)*(Number(q.unitPrice)||0)-(Number(q.discount)||0),0),[N]),Z=w.useMemo(()=>Math.round(V*Number(U||.14)*100)/100,[V,U]),J=w.useMemo(()=>Math.round((V+Z)*100)/100,[V,Z]);w.useEffect(()=>{let oe=!0;return n(!0),l(""),ya.get("/api/customers/quotations").then(q=>{if(!oe)return;const ie=q?.data?.data,ye=Array.isArray(ie?.items)?ie.items:[];a(ye.length>0?ye:v)}).catch(()=>{oe&&(l("Failed to load from //api/customers/quotations"),a(v))}).finally(()=>oe&&n(!1)),()=>{oe=!1}},[]),w.useEffect(()=>{let oe=!0;return ya.get("/api/customers/opportunities").then(q=>{if(!oe)return;const ie=q?.data?.data,ye=Array.isArray(ie?.items)?ie.items:[];j(ye)}).catch(()=>{}),()=>{oe=!1}},[]),w.useEffect(()=>{let oe=!0;return ya.get("/api/settings").then(q=>{if(!oe)return;const ie=q?.data?.data?.settings?.sales?.taxRate;typeof ie=="number"&&E(ie)}).catch(()=>{}),()=>{oe=!1}},[]);const ee=(oe,q)=>{A(ie=>ie.map((ye,Y)=>Y===oe?{...ye,...q}:ye))},W=()=>A(oe=>[...oe,{name:"",quantity:1,unitPrice:0,discount:0}]),le=oe=>A(q=>q.filter((ie,ye)=>ye!==oe)),M=oe=>{if(oe.preventDefault(),o)return;c(!0),(async()=>{try{let ie;if(B){const ce=await ya.post("/api/uploads/base64",{fileName:P||"attachment",dataUrl:B});ie=ce?.data?.data?.url||ce?.data?.url||ce?.data?.data?.data?.url}const ye={opportunityId:S,items:N.map(ce=>({name:ce.name,quantity:Number(ce.quantity)||0,unitPrice:Number(ce.unitPrice)||0,discount:Number(ce.discount)||0})),attachment:ie||void 0};return await ya.post("/api/customers/quotations",ye)}catch(ie){throw ie}})().then(ie=>{const ye=ie?.data?.data?.item;ye&&(a(Y=>[ye,...Y]),k(""),A([{name:"",quantity:1,unitPrice:0,discount:0}]),D(null),I(""),O(""),u(e("Saved successfully")),setTimeout(()=>u(""),3e3))}).catch(ie=>{const ye=ie?.response?.data?.message||"Failed to create";l(typeof ye=="string"?ye:"Failed to create")}).finally(()=>c(!1))},X=oe=>{ya.post(`/api/customers/quotations/${oe}/send`).then(q=>{const ie=q?.data?.data?.item;ie&&(a(ye=>ye.map(Y=>Y.id===oe?ie:Y)),x(e("Sent successfully")),setTimeout(()=>x(""),3e3))}).catch(()=>{})},z=oe=>{m.includes(oe)||(g(q=>[...q,oe]),ya.post(`/api/customers/quotations/${oe}/convert-to-sales-order`).then(q=>{const ie=q?.data?.data?.salesOrder;ie?(x(r.jsxs("span",{children:[e("Converted to Sales Order"),": ",r.jsx("span",{className:"font-medium",children:ie.id||e("New Order")})," ",r.jsx("a",{href:"/sales/orders",className:"underline text-indigo-700 ml-1",children:e("View Sales Orders")})]})),setTimeout(()=>x(""),4e3)):(l(e("Conversion failed")),setTimeout(()=>l(""),4e3))}).catch(q=>{const ie=q?.response?.data?.message||e("Conversion failed");l(typeof ie=="string"?ie:e("Conversion failed")),setTimeout(()=>l(""),4e3)}).finally(()=>{g(q=>q.filter(ie=>ie!==oe))}))},Q=oe=>{const q=oe.target.files&&oe.target.files[0];if(!q){D(null),I(""),O("");return}D(q),I(q.name);const ie=new FileReader;ie.onload=()=>{const ye=typeof ie.result=="string"?ie.result:"";O(ye)},ie.readAsDataURL(q)},ne=()=>{D(null),I(""),O("")},re=async()=>{try{K(!0),await ya.put("/api/settings/sales",{taxRate:U}),x(e("Tax rate updated")),setTimeout(()=>x(""),3e3)}catch{l(e("Failed to update tax rate")),setTimeout(()=>l(""),4e3)}finally{K(!1)}};return r.jsx(aa,{children:r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h1",{className:"text-xl font-semibold",children:e("Quotations")}),r.jsx("div",{className:"text-sm text-gray-500",children:e("Sales")})]}),d&&r.jsx("div",{className:"mb-3 p-3 rounded border border-green-300 bg-green-50 text-green-700",children:d}),f&&r.jsx("div",{className:"mb-3 p-3 rounded border border-blue-300 bg-blue-50 text-blue-700",children:f}),r.jsxs("form",{onSubmit:M,className:"mb-6 space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:e("Opportunity")}),r.jsxs("select",{value:S,onChange:oe=>k(oe.target.value),className:"w-full border rounded px-2 py-2",children:[r.jsx("option",{value:"",children:e("Select")}),b.map(oe=>r.jsx("option",{value:oe.id,children:oe.name||oe.id},oe.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:e("Attachment")}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"file",onChange:Q,className:"flex-1"}),P&&r.jsx("button",{type:"button",onClick:ne,className:"px-3 py-2 rounded bg-gray-200",children:e("Remove")})]}),P&&r.jsxs("div",{className:"mt-1 text-xs text-gray-600",children:[e("Selected file"),": ",P]})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"font-medium",children:e("Items")}),r.jsx("button",{type:"button",onClick:W,className:"px-3 py-2 rounded bg-indigo-600 text-white",children:e("Add Item")})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left border-b",children:[r.jsx("th",{className:"p-2",children:e("Product / Service")}),r.jsx("th",{className:"p-2",children:e("Quantity")}),r.jsx("th",{className:"p-2",children:e("Unit Price")}),r.jsx("th",{className:"p-2",children:e("Discount")}),r.jsx("th",{className:"p-2",children:e("Actions")})]})}),r.jsx("tbody",{children:N.map((oe,q)=>r.jsxs("tr",{className:"border-b",children:[r.jsx("td",{className:"p-2",children:r.jsx("input",{className:"w-full border rounded px-2 py-1",value:oe.name,onChange:ie=>ee(q,{name:ie.target.value})})}),r.jsx("td",{className:"p-2",children:r.jsx("input",{type:"number",min:"1",className:"w-full border rounded px-2 py-1",value:oe.quantity,onChange:ie=>ee(q,{quantity:ie.target.value})})}),r.jsx("td",{className:"p-2",children:r.jsx("input",{type:"number",min:"0",step:"0.01",className:"w-full border rounded px-2 py-1",value:oe.unitPrice,onChange:ie=>ee(q,{unitPrice:ie.target.value})})}),r.jsx("td",{className:"p-2",children:r.jsx("input",{type:"number",min:"0",step:"0.01",className:"w-full border rounded px-2 py-1",value:oe.discount,onChange:ie=>ee(q,{discount:ie.target.value})})}),r.jsx("td",{className:"p-2",children:r.jsx("button",{type:"button",onClick:()=>le(q),className:"px-2 py-1 rounded bg-red-600 text-white",children:e("Remove")})})]},q))})]})})]}),r.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[r.jsxs("div",{className:"text-sm text-gray-700",children:[e("Subtotal"),": ",r.jsx("span",{className:"font-medium",children:V.toLocaleString()})]}),r.jsxs("div",{className:"text-sm text-gray-700",children:[e("Tax"),": ",r.jsx("span",{className:"font-medium",children:Z.toLocaleString()})]}),r.jsxs("div",{className:"text-sm text-gray-700",children:[e("Total"),": ",r.jsx("span",{className:"font-medium",children:J.toLocaleString()})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"text-sm text-gray-700",children:e("Tax Rate (%)")}),r.jsx("input",{type:"number",min:"0",max:"100",step:"0.01",className:"w-24 border rounded px-2 py-1",value:Math.round(Number(U||0)*1e4)/100,onChange:oe=>E(Number(oe.target.value)>1?Number(oe.target.value)/100:Number(oe.target.value))}),r.jsx("button",{type:"button",disabled:R,onClick:re,className:"px-3 py-2 rounded bg-gray-800 text-white",children:e(R?"Saving...":"Save")})]}),r.jsx("button",{type:"submit",disabled:o||!S||N.length===0,className:"px-4 py-2 rounded bg-green-600 text-white",children:e("Create Quotation")}),o&&r.jsx("span",{className:"text-gray-500",children:e("Saving...")})]})]}),i&&r.jsx("div",{className:"mb-3 p-3 rounded border border-red-300 bg-red-50 text-red-700",children:i}),s?r.jsx("div",{className:"text-gray-500",children:e("Loading...")}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left border-b",children:[r.jsx("th",{className:"p-2",children:e("ID")}),r.jsx("th",{className:"p-2",children:e("Status")}),r.jsx("th",{className:"p-2",children:e("Subtotal")}),r.jsx("th",{className:"p-2",children:e("Tax")}),r.jsx("th",{className:"p-2",children:e("Total")}),r.jsx("th",{className:"p-2",children:e("Opportunity")}),r.jsx("th",{className:"p-2",children:e("Created")}),r.jsx("th",{className:"p-2",children:e("Actions")})]})}),r.jsx("tbody",{children:t.length===0?r.jsx("tr",{children:r.jsx("td",{className:"p-3 text-gray-500",colSpan:8,children:e("No data")})}):t.map(oe=>r.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[r.jsx("td",{className:"p-2",children:oe.id}),r.jsx("td",{className:"p-2",children:oe.status}),r.jsx("td",{className:"p-2",children:typeof oe.subtotal=="number"?oe.subtotal.toLocaleString():oe.subtotal}),r.jsx("td",{className:"p-2",children:typeof oe.tax=="number"?oe.tax.toLocaleString():oe.tax}),r.jsx("td",{className:"p-2 font-medium",children:typeof oe.total=="number"?oe.total.toLocaleString():oe.total}),r.jsx("td",{className:"p-2",children:oe.opportunityId||"-"}),r.jsx("td",{className:"p-2",children:oe.createdAt?new Date(oe.createdAt).toLocaleString():"-"}),r.jsx("td",{className:"p-2",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>X(oe.id),className:"px-3 py-1 rounded bg-blue-600 text-white",title:e("Send to Customer"),children:e("Send to Customer")}),r.jsx("button",{onClick:()=>z(oe.id),disabled:m.includes(oe.id),className:`px-3 py-1 rounded text-white ${m.includes(oe.id)?"bg-purple-300 cursor-not-allowed":"bg-purple-600"}`,title:e("Convert to Sales Order"),children:m.includes(oe.id)?e("Converting..."):e("Convert to Sales Order")})]})})]},oe.id))})]})})]})})}function Fye(){const{t:e}=Dt(),[t,a]=w.useState([]),[s,n]=w.useState(!0),[i,l]=w.useState(""),o=[{id:"SO-5001",status:"Draft",deliveryDate:new Date(Date.now()+240*3600*1e3).toISOString(),paymentTerms:"Net 30",shippingMethod:"Courier",attachments:[{name:"PO-5001.pdf"}],quotationId:"QUO-1001",customerId:"CUST-001",createdAt:new Date(Date.now()-24*3600*1e3).toISOString()},{id:"SO-5002",status:"Confirmed",deliveryDate:new Date(Date.now()+120*3600*1e3).toISOString(),paymentTerms:"Advance 50%",shippingMethod:"Pickup",attachments:[],quotationId:"QUO-1002",customerId:"CUST-002",createdAt:new Date(Date.now()-6*3600*1e3).toISOString()},{id:"SO-5003",status:"Delivered",deliveryDate:new Date(Date.now()+432*3600*1e3).toISOString(),paymentTerms:"Net 15",shippingMethod:"Freight",attachments:[{name:"DEL-5003.jpg"}],quotationId:"QUO-1003",customerId:"CUST-003",createdAt:new Date().toISOString()}],c=u=>{const f=Date.now(),x=u?.toLowerCase().includes("net 30")?30:u?.toLowerCase().includes("net 15")?15:u?.toLowerCase().includes("advance")?0:7;return new Date(f+x*24*3600*1e3).toISOString()},d=async u=>{try{const f={orderId:u.id,customerId:u.customerId,status:"Unpaid",issueDate:new Date().toISOString(),dueDate:c(u.paymentTerms),paymentTerms:u.paymentTerms,currency:"USD",amount:0};await ya.post("/api/customers/invoices",f),alert(`${e("Invoice generated for order")} ${u.id}`)}catch{alert(`${e("Failed to generate invoice. Showing preview only.")}`)}};return w.useEffect(()=>{let u=!0;return n(!0),l(""),ya.get("/api/customers/sales-orders").then(f=>{if(!u)return;const x=f?.data?.data||[],m=Array.isArray(x)?x:[];a(m.length>0?m:o)}).catch(()=>{u&&(l("Failed to load from //api/customers/sales-orders"),a(o))}).finally(()=>u&&n(!1)),()=>{u=!1}},[]),r.jsx(aa,{children:r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h1",{className:"text-xl font-semibold",children:e("Sales Orders")}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(gr,{to:"/sales/orders/new",className:"px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] hover:bg-[var(--table-row-hover)]",children:e("Add Sales Order")}),r.jsx("div",{className:"text-sm text-gray-500",children:e("Sales")})]})]}),i&&r.jsx("div",{className:"mb-3 p-3 rounded border border-red-300 bg-red-50 text-red-700",children:i}),s?r.jsx("div",{className:"text-gray-500",children:e("Loading...")}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left border-b",children:[r.jsx("th",{className:"p-2",children:e("ID")}),r.jsx("th",{className:"p-2",children:e("Status")}),r.jsx("th",{className:"p-2",children:e("Delivery Date")}),r.jsx("th",{className:"p-2",children:e("Payment Terms")}),r.jsx("th",{className:"p-2",children:e("Shipping Method")}),r.jsx("th",{className:"p-2",children:e("Attachments")}),r.jsx("th",{className:"p-2",children:e("Quotation")}),r.jsx("th",{className:"p-2",children:e("Customer")}),r.jsx("th",{className:"p-2",children:e("Created")}),r.jsx("th",{className:"p-2",children:e("Actions")})]})}),r.jsx("tbody",{children:t.length===0?r.jsx("tr",{children:r.jsx("td",{className:"p-3 text-gray-500",colSpan:10,children:e("No data")})}):t.map(u=>r.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[r.jsx("td",{className:"p-2",children:u.id}),r.jsx("td",{className:"p-2",children:u.status}),r.jsx("td",{className:"p-2",children:u.deliveryDate?new Date(u.deliveryDate).toLocaleDateString():"-"}),r.jsx("td",{className:"p-2",children:u.paymentTerms||"-"}),r.jsx("td",{className:"p-2",children:u.shippingMethod||"-"}),r.jsx("td",{className:"p-2",children:Array.isArray(u.attachments)?`${u.attachments.length} ${e("file(s)")}`:"-"}),r.jsx("td",{className:"p-2",children:u.quotationId||"-"}),r.jsx("td",{className:"p-2",children:u.customerId||"-"}),r.jsx("td",{className:"p-2",children:u.createdAt?new Date(u.createdAt).toLocaleString():"-"}),r.jsx("td",{className:"p-2",children:r.jsx("button",{className:"btn btn-success btn-sm",onClick:()=>d(u),children:e("Generate Invoice")})})]},u.id))})]})})]})})}function Iye(){const{t:e}=Dt(),[t,a]=w.useState([]),[s,n]=w.useState(!0),[i,l]=w.useState(""),o=[{id:"INV-9001",status:"Pending",issueDate:new Date(Date.now()-48*3600*1e3).toISOString(),orderId:"SO-5001",customerId:"CUST-001",amount:4500,currency:"USD",paymentMethod:"Bank Transfer",attachments:[{name:"INV-9001.pdf"}],createdAt:new Date(Date.now()-24*3600*1e3).toISOString()},{id:"INV-9002",status:"Partial",issueDate:new Date(Date.now()-144*3600*1e3).toISOString(),orderId:"SO-5002",customerId:"CUST-002",amount:1200,currency:"EUR",paymentMethod:"Credit Card",attachments:[],createdAt:new Date(Date.now()-6*3600*1e3).toISOString()},{id:"INV-9003",status:"Paid",issueDate:new Date(Date.now()-336*3600*1e3).toISOString(),orderId:"SO-5003",customerId:"CUST-003",amount:800,currency:"USD",paymentMethod:"Cash",attachments:[{name:"receipt.jpg"}],createdAt:new Date().toISOString()}],c=u=>{try{window.print()}catch{alert(e("Print is unavailable in this environment"))}},d=async u=>{try{await ya.put(`/api/customers/invoices/${u.id}`,{status:"Paid"})}catch{}a(f=>f.map(x=>x.id===u.id?{...x,status:"Paid"}:x))};return w.useEffect(()=>{let u=!0;return n(!0),l(""),ya.get("/api/customers/invoices").then(f=>{if(!u)return;const x=f?.data?.data||[],m=Array.isArray(x)?x:[];a(m.length>0?m:o)}).catch(()=>{u&&(l("Failed to load from //api/customers/invoices"),a(o))}).finally(()=>u&&n(!1)),()=>{u=!1}},[]),r.jsx(aa,{children:r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h1",{className:"text-xl font-semibold",children:e("Invoices")}),r.jsx("div",{className:"text-sm text-gray-500",children:e("Sales")})]}),i&&r.jsx("div",{className:"mb-3 p-3 rounded border border-red-300 bg-red-50 text-red-700",children:i}),s?r.jsx("div",{className:"text-gray-500",children:e("Loading...")}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left border-b",children:[r.jsx("th",{className:"p-2",children:e("Invoice No.")}),r.jsx("th",{className:"p-2",children:e("Invoice Date")}),r.jsx("th",{className:"p-2",children:e("Linked Sales Order")}),r.jsx("th",{className:"p-2",children:e("Total Amount")}),r.jsx("th",{className:"p-2",children:e("Payment Method")}),r.jsx("th",{className:"p-2",children:e("Payment Status")}),r.jsx("th",{className:"p-2",children:e("Attachment")}),r.jsx("th",{className:"p-2",children:e("Actions")})]})}),r.jsx("tbody",{children:t.length===0?r.jsx("tr",{children:r.jsx("td",{className:"p-3 text-gray-500",colSpan:8,children:e("No data")})}):t.map(u=>r.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[r.jsx("td",{className:"p-2",children:u.id}),r.jsx("td",{className:"p-2",children:u.issueDate?new Date(u.issueDate).toLocaleDateString():"-"}),r.jsx("td",{className:"p-2",children:u.orderId||u.salesOrderId||"-"}),r.jsxs("td",{className:"p-2 font-medium",children:[typeof u.amount=="number"?u.amount.toLocaleString():u.amount," ",u.currency||""]}),r.jsx("td",{className:"p-2",children:u.paymentMethod||"-"}),r.jsx("td",{className:"p-2",children:u.status||u.paymentStatus||"-"}),r.jsx("td",{className:"p-2",children:Array.isArray(u.attachments)?`${u.attachments.length} ${e("file(s)")}`:"-"}),r.jsxs("td",{className:"p-2 space-x-2",children:[r.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>c(),children:e("Send / Print")}),r.jsx("button",{className:"btn btn-success btn-sm",onClick:()=>d(u),children:e("Mark as Paid")})]})]},u.id))})]})})]})})}const n8=w.createContext({});function i8(e){const t=w.useRef(null);return t.current===null&&(t.current=e()),t.current}const l8=typeof window<"u",BV=l8?w.useLayoutEffect:w.useEffect,Qj=w.createContext(null);function o8(e,t){e.indexOf(t)===-1&&e.push(t)}function c8(e,t){const a=e.indexOf(t);a>-1&&e.splice(a,1)}const dh=(e,t,a)=>a>t?t:a<e?e:a;let d8=()=>{};const uh={},$V=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function UV(e){return typeof e=="object"&&e!==null}const zV=e=>/^0[^.\s]+$/u.test(e);function u8(e){let t;return()=>(t===void 0&&(t=e()),t)}const vc=e=>e,Bye=(e,t)=>a=>t(e(a)),Yv=(...e)=>e.reduce(Bye),iv=(e,t,a)=>{const s=t-e;return s===0?1:(a-e)/s};class h8{constructor(){this.subscriptions=[]}add(t){return o8(this.subscriptions,t),()=>c8(this.subscriptions,t)}notify(t,a,s){const n=this.subscriptions.length;if(n)if(n===1)this.subscriptions[0](t,a,s);else for(let i=0;i<n;i++){const l=this.subscriptions[i];l&&l(t,a,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const eu=e=>e*1e3,pc=e=>e/1e3;function HV(e,t){return t?e*(1e3/t):0}const VV=(e,t,a)=>(((1-3*a+3*t)*e+(3*a-6*t))*e+3*t)*e,$ye=1e-7,Uye=12;function zye(e,t,a,s,n){let i,l,o=0;do l=t+(a-t)/2,i=VV(l,s,n)-e,i>0?a=l:t=l;while(Math.abs(i)>$ye&&++o<Uye);return l}function Xv(e,t,a,s){if(e===t&&a===s)return vc;const n=i=>zye(i,0,1,e,a);return i=>i===0||i===1?i:VV(n(i),t,s)}const WV=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,qV=e=>t=>1-e(1-t),GV=Xv(.33,1.53,.69,.99),f8=qV(GV),KV=WV(f8),YV=e=>(e*=2)<1?.5*f8(e):.5*(2-Math.pow(2,-10*(e-1))),m8=e=>1-Math.sin(Math.acos(e)),XV=qV(m8),JV=WV(m8),Hye=Xv(.42,0,1,1),Vye=Xv(0,0,.58,1),QV=Xv(.42,0,.58,1),Wye=e=>Array.isArray(e)&&typeof e[0]!="number",ZV=e=>Array.isArray(e)&&typeof e[0]=="number",qye={linear:vc,easeIn:Hye,easeInOut:QV,easeOut:Vye,circIn:m8,circInOut:JV,circOut:XV,backIn:f8,backInOut:KV,backOut:GV,anticipate:YV},Gye=e=>typeof e=="string",eL=e=>{if(ZV(e)){d8(e.length===4);const[t,a,s,n]=e;return Xv(t,a,s,n)}else if(Gye(e))return qye[e];return e},qy=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Kye(e,t){let a=new Set,s=new Set,n=!1,i=!1;const l=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function c(u){l.has(u)&&(d.schedule(u),e()),u(o)}const d={schedule:(u,f=!1,x=!1)=>{const g=x&&n?a:s;return f&&l.add(u),g.has(u)||g.add(u),u},cancel:u=>{s.delete(u),l.delete(u)},process:u=>{if(o=u,n){i=!0;return}n=!0,[a,s]=[s,a],a.forEach(c),a.clear(),n=!1,i&&(i=!1,d.process(u))}};return d}const Yye=40;function eW(e,t){let a=!1,s=!0;const n={delta:0,timestamp:0,isProcessing:!1},i=()=>a=!0,l=qy.reduce((k,N)=>(k[N]=Kye(i),k),{}),{setup:o,read:c,resolveKeyframes:d,preUpdate:u,update:f,preRender:x,render:m,postRender:g}=l,v=()=>{const k=uh.useManualTiming?n.timestamp:performance.now();a=!1,uh.useManualTiming||(n.delta=s?1e3/60:Math.max(Math.min(k-n.timestamp,Yye),1)),n.timestamp=k,n.isProcessing=!0,o.process(n),c.process(n),d.process(n),u.process(n),f.process(n),x.process(n),m.process(n),g.process(n),n.isProcessing=!1,a&&t&&(s=!1,e(v))},b=()=>{a=!0,s=!0,n.isProcessing||e(v)};return{schedule:qy.reduce((k,N)=>{const A=l[N];return k[N]=(_,D=!1,P=!1)=>(a||b(),A.schedule(_,D,P)),k},{}),cancel:k=>{for(let N=0;N<qy.length;N++)l[qy[N]].cancel(k)},state:n,steps:l}}const{schedule:Ds,cancel:Of,state:Bi,steps:z5}=eW(typeof requestAnimationFrame<"u"?requestAnimationFrame:vc,!0);let P2;function Xye(){P2=void 0}const Ql={now:()=>(P2===void 0&&Ql.set(Bi.isProcessing||uh.useManualTiming?Bi.timestamp:performance.now()),P2),set:e=>{P2=e,queueMicrotask(Xye)}},tW=e=>t=>typeof t=="string"&&t.startsWith(e),p8=tW("--"),Jye=tW("var(--"),x8=e=>Jye(e)?Qye.test(e.split("/*")[0].trim()):!1,Qye=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,_x={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},lv={..._x,transform:e=>dh(0,1,e)},Gy={..._x,default:1},w1=e=>Math.round(e*1e5)/1e5,g8=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Zye(e){return e==null}const e2e=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,v8=(e,t)=>a=>!!(typeof a=="string"&&e2e.test(a)&&a.startsWith(e)||t&&!Zye(a)&&Object.prototype.hasOwnProperty.call(a,t)),aW=(e,t,a)=>s=>{if(typeof s!="string")return s;const[n,i,l,o]=s.match(g8);return{[e]:parseFloat(n),[t]:parseFloat(i),[a]:parseFloat(l),alpha:o!==void 0?parseFloat(o):1}},t2e=e=>dh(0,255,e),H5={..._x,transform:e=>Math.round(t2e(e))},I0={test:v8("rgb","red"),parse:aW("red","green","blue"),transform:({red:e,green:t,blue:a,alpha:s=1})=>"rgba("+H5.transform(e)+", "+H5.transform(t)+", "+H5.transform(a)+", "+w1(lv.transform(s))+")"};function a2e(e){let t="",a="",s="",n="";return e.length>5?(t=e.substring(1,3),a=e.substring(3,5),s=e.substring(5,7),n=e.substring(7,9)):(t=e.substring(1,2),a=e.substring(2,3),s=e.substring(3,4),n=e.substring(4,5),t+=t,a+=a,s+=s,n+=n),{red:parseInt(t,16),green:parseInt(a,16),blue:parseInt(s,16),alpha:n?parseInt(n,16)/255:1}}const aC={test:v8("#"),parse:a2e,transform:I0.transform},Jv=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ff=Jv("deg"),tu=Jv("%"),Oa=Jv("px"),r2e=Jv("vh"),s2e=Jv("vw"),tL={...tu,parse:e=>tu.parse(e)/100,transform:e=>tu.transform(e*100)},Bp={test:v8("hsl","hue"),parse:aW("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:a,alpha:s=1})=>"hsla("+Math.round(e)+", "+tu.transform(w1(t))+", "+tu.transform(w1(a))+", "+w1(lv.transform(s))+")"},Rn={test:e=>I0.test(e)||aC.test(e)||Bp.test(e),parse:e=>I0.test(e)?I0.parse(e):Bp.test(e)?Bp.parse(e):aC.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?I0.transform(e):Bp.transform(e),getAnimatableNone:e=>{const t=Rn.parse(e);return t.alpha=0,Rn.transform(t)}},n2e=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function i2e(e){return isNaN(e)&&typeof e=="string"&&(e.match(g8)?.length||0)+(e.match(n2e)?.length||0)>0}const rW="number",sW="color",l2e="var",o2e="var(",aL="${}",c2e=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ov(e){const t=e.toString(),a=[],s={color:[],number:[],var:[]},n=[];let i=0;const o=t.replace(c2e,c=>(Rn.test(c)?(s.color.push(i),n.push(sW),a.push(Rn.parse(c))):c.startsWith(o2e)?(s.var.push(i),n.push(l2e),a.push(c)):(s.number.push(i),n.push(rW),a.push(parseFloat(c))),++i,aL)).split(aL);return{values:a,split:o,indexes:s,types:n}}function nW(e){return ov(e).values}function iW(e){const{split:t,types:a}=ov(e),s=t.length;return n=>{let i="";for(let l=0;l<s;l++)if(i+=t[l],n[l]!==void 0){const o=a[l];o===rW?i+=w1(n[l]):o===sW?i+=Rn.transform(n[l]):i+=n[l]}return i}}const d2e=e=>typeof e=="number"?0:Rn.test(e)?Rn.getAnimatableNone(e):e;function u2e(e){const t=nW(e);return iW(e)(t.map(d2e))}const Rf={test:i2e,parse:nW,createTransformer:iW,getAnimatableNone:u2e};function V5(e,t,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?e+(t-e)*6*a:a<1/2?t:a<2/3?e+(t-e)*(2/3-a)*6:e}function h2e({hue:e,saturation:t,lightness:a,alpha:s}){e/=360,t/=100,a/=100;let n=0,i=0,l=0;if(!t)n=i=l=a;else{const o=a<.5?a*(1+t):a+t-a*t,c=2*a-o;n=V5(c,o,e+1/3),i=V5(c,o,e),l=V5(c,o,e-1/3)}return{red:Math.round(n*255),green:Math.round(i*255),blue:Math.round(l*255),alpha:s}}function xw(e,t){return a=>a>0?t:e}const zs=(e,t,a)=>e+(t-e)*a,W5=(e,t,a)=>{const s=e*e,n=a*(t*t-s)+s;return n<0?0:Math.sqrt(n)},f2e=[aC,I0,Bp],m2e=e=>f2e.find(t=>t.test(e));function rL(e){const t=m2e(e);if(!t)return!1;let a=t.parse(e);return t===Bp&&(a=h2e(a)),a}const sL=(e,t)=>{const a=rL(e),s=rL(t);if(!a||!s)return xw(e,t);const n={...a};return i=>(n.red=W5(a.red,s.red,i),n.green=W5(a.green,s.green,i),n.blue=W5(a.blue,s.blue,i),n.alpha=zs(a.alpha,s.alpha,i),I0.transform(n))},rC=new Set(["none","hidden"]);function p2e(e,t){return rC.has(e)?a=>a<=0?e:t:a=>a>=1?t:e}function x2e(e,t){return a=>zs(e,t,a)}function b8(e){return typeof e=="number"?x2e:typeof e=="string"?x8(e)?xw:Rn.test(e)?sL:b2e:Array.isArray(e)?lW:typeof e=="object"?Rn.test(e)?sL:g2e:xw}function lW(e,t){const a=[...e],s=a.length,n=e.map((i,l)=>b8(i)(i,t[l]));return i=>{for(let l=0;l<s;l++)a[l]=n[l](i);return a}}function g2e(e,t){const a={...e,...t},s={};for(const n in a)e[n]!==void 0&&t[n]!==void 0&&(s[n]=b8(e[n])(e[n],t[n]));return n=>{for(const i in s)a[i]=s[i](n);return a}}function v2e(e,t){const a=[],s={color:0,var:0,number:0};for(let n=0;n<t.values.length;n++){const i=t.types[n],l=e.indexes[i][s[i]],o=e.values[l]??0;a[n]=o,s[i]++}return a}const b2e=(e,t)=>{const a=Rf.createTransformer(t),s=ov(e),n=ov(t);return s.indexes.var.length===n.indexes.var.length&&s.indexes.color.length===n.indexes.color.length&&s.indexes.number.length>=n.indexes.number.length?rC.has(e)&&!n.values.length||rC.has(t)&&!s.values.length?p2e(e,t):Yv(lW(v2e(s,n),n.values),a):xw(e,t)};function oW(e,t,a){return typeof e=="number"&&typeof t=="number"&&typeof a=="number"?zs(e,t,a):b8(e)(e,t)}const y2e=e=>{const t=({timestamp:a})=>e(a);return{start:(a=!0)=>Ds.update(t,a),stop:()=>Of(t),now:()=>Bi.isProcessing?Bi.timestamp:Ql.now()}},cW=(e,t,a=10)=>{let s="";const n=Math.max(Math.round(t/a),2);for(let i=0;i<n;i++)s+=Math.round(e(i/(n-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},gw=2e4;function y8(e){let t=0;const a=50;let s=e.next(t);for(;!s.done&&t<gw;)t+=a,s=e.next(t);return t>=gw?1/0:t}function w2e(e,t=100,a){const s=a({...e,keyframes:[0,t]}),n=Math.min(y8(s),gw);return{type:"keyframes",ease:i=>s.next(n*i).value/t,duration:pc(n)}}const j2e=5;function dW(e,t,a){const s=Math.max(t-j2e,0);return HV(a-e(s),t-s)}const Js={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},q5=.001;function N2e({duration:e=Js.duration,bounce:t=Js.bounce,velocity:a=Js.velocity,mass:s=Js.mass}){let n,i,l=1-t;l=dh(Js.minDamping,Js.maxDamping,l),e=dh(Js.minDuration,Js.maxDuration,pc(e)),l<1?(n=d=>{const u=d*l,f=u*e,x=u-a,m=sC(d,l),g=Math.exp(-f);return q5-x/m*g},i=d=>{const f=d*l*e,x=f*a+a,m=Math.pow(l,2)*Math.pow(d,2)*e,g=Math.exp(-f),v=sC(Math.pow(d,2),l);return(-n(d)+q5>0?-1:1)*((x-m)*g)/v}):(n=d=>{const u=Math.exp(-d*e),f=(d-a)*e+1;return-q5+u*f},i=d=>{const u=Math.exp(-d*e),f=(a-d)*(e*e);return u*f});const o=5/e,c=k2e(n,i,o);if(e=eu(e),isNaN(c))return{stiffness:Js.stiffness,damping:Js.damping,duration:e};{const d=Math.pow(c,2)*s;return{stiffness:d,damping:l*2*Math.sqrt(s*d),duration:e}}}const S2e=12;function k2e(e,t,a){let s=a;for(let n=1;n<S2e;n++)s=s-e(s)/t(s);return s}function sC(e,t){return e*Math.sqrt(1-t*t)}const C2e=["duration","bounce"],A2e=["stiffness","damping","mass"];function nL(e,t){return t.some(a=>e[a]!==void 0)}function _2e(e){let t={velocity:Js.velocity,stiffness:Js.stiffness,damping:Js.damping,mass:Js.mass,isResolvedFromDuration:!1,...e};if(!nL(e,A2e)&&nL(e,C2e))if(e.visualDuration){const a=e.visualDuration,s=2*Math.PI/(a*1.2),n=s*s,i=2*dh(.05,1,1-(e.bounce||0))*Math.sqrt(n);t={...t,mass:Js.mass,stiffness:n,damping:i}}else{const a=N2e(e);t={...t,...a,mass:Js.mass},t.isResolvedFromDuration=!0}return t}function vw(e=Js.visualDuration,t=Js.bounce){const a=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:n}=a;const i=a.keyframes[0],l=a.keyframes[a.keyframes.length-1],o={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:f,velocity:x,isResolvedFromDuration:m}=_2e({...a,velocity:-pc(a.velocity||0)}),g=x||0,v=d/(2*Math.sqrt(c*u)),b=l-i,j=pc(Math.sqrt(c/u)),S=Math.abs(b)<5;s||(s=S?Js.restSpeed.granular:Js.restSpeed.default),n||(n=S?Js.restDelta.granular:Js.restDelta.default);let k;if(v<1){const A=sC(j,v);k=_=>{const D=Math.exp(-v*j*_);return l-D*((g+v*j*b)/A*Math.sin(A*_)+b*Math.cos(A*_))}}else if(v===1)k=A=>l-Math.exp(-j*A)*(b+(g+j*b)*A);else{const A=j*Math.sqrt(v*v-1);k=_=>{const D=Math.exp(-v*j*_),P=Math.min(A*_,300);return l-D*((g+v*j*b)*Math.sinh(P)+A*b*Math.cosh(P))/A}}const N={calculatedDuration:m&&f||null,next:A=>{const _=k(A);if(m)o.done=A>=f;else{let D=A===0?g:0;v<1&&(D=A===0?eu(g):dW(k,A,_));const P=Math.abs(D)<=s,I=Math.abs(l-_)<=n;o.done=P&&I}return o.value=o.done?l:_,o},toString:()=>{const A=Math.min(y8(N),gw),_=cW(D=>N.next(A*D).value,A,30);return A+"ms "+_},toTransition:()=>{}};return N}vw.applyToOptions=e=>{const t=w2e(e,100,vw);return e.ease=t.ease,e.duration=eu(t.duration),e.type="keyframes",e};function nC({keyframes:e,velocity:t=0,power:a=.8,timeConstant:s=325,bounceDamping:n=10,bounceStiffness:i=500,modifyTarget:l,min:o,max:c,restDelta:d=.5,restSpeed:u}){const f=e[0],x={done:!1,value:f},m=P=>o!==void 0&&P<o||c!==void 0&&P>c,g=P=>o===void 0?c:c===void 0||Math.abs(o-P)<Math.abs(c-P)?o:c;let v=a*t;const b=f+v,j=l===void 0?b:l(b);j!==b&&(v=j-f);const S=P=>-v*Math.exp(-P/s),k=P=>j+S(P),N=P=>{const I=S(P),B=k(P);x.done=Math.abs(I)<=d,x.value=x.done?j:B};let A,_;const D=P=>{m(x.value)&&(A=P,_=vw({keyframes:[x.value,g(x.value)],velocity:dW(k,P,x.value),damping:n,stiffness:i,restDelta:d,restSpeed:u}))};return D(0),{calculatedDuration:null,next:P=>{let I=!1;return!_&&A===void 0&&(I=!0,N(P),D(P)),A!==void 0&&P>=A?_.next(P-A):(!I&&N(P),x)}}}function T2e(e,t,a){const s=[],n=a||uh.mix||oW,i=e.length-1;for(let l=0;l<i;l++){let o=n(e[l],e[l+1]);if(t){const c=Array.isArray(t)?t[l]||vc:t;o=Yv(c,o)}s.push(o)}return s}function E2e(e,t,{clamp:a=!0,ease:s,mixer:n}={}){const i=e.length;if(d8(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const l=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=T2e(t,s,n),c=o.length,d=u=>{if(l&&u<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const x=iv(e[f],e[f+1],u);return o[f](x)};return a?u=>d(dh(e[0],e[i-1],u)):d}function D2e(e,t){const a=e[e.length-1];for(let s=1;s<=t;s++){const n=iv(0,t,s);e.push(zs(a,1,n))}}function M2e(e){const t=[0];return D2e(t,e.length-1),t}function P2e(e,t){return e.map(a=>a*t)}function L2e(e,t){return e.map(()=>t||QV).splice(0,e.length-1)}function j1({duration:e=300,keyframes:t,times:a,ease:s="easeInOut"}){const n=Wye(s)?s.map(eL):eL(s),i={done:!1,value:t[0]},l=P2e(a&&a.length===t.length?a:M2e(t),e),o=E2e(l,t,{ease:Array.isArray(n)?n:L2e(t,n)});return{calculatedDuration:e,next:c=>(i.value=o(c),i.done=c>=e,i)}}const O2e=e=>e!==null;function w8(e,{repeat:t,repeatType:a="loop"},s,n=1){const i=e.filter(O2e),o=n<0||t&&a!=="loop"&&t%2===1?0:i.length-1;return!o||s===void 0?i[o]:s}const R2e={decay:nC,inertia:nC,tween:j1,keyframes:j1,spring:vw};function uW(e){typeof e.type=="string"&&(e.type=R2e[e.type])}class j8{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,a){return this.finished.then(t,a)}}const F2e=e=>e/100;class N8 extends j8{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:a}=this.options;a&&a.updatedAt!==Ql.now()&&this.tick(Ql.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;uW(t);const{type:a=j1,repeat:s=0,repeatDelay:n=0,repeatType:i,velocity:l=0}=t;let{keyframes:o}=t;const c=a||j1;c!==j1&&typeof o[0]!="number"&&(this.mixKeyframes=Yv(F2e,oW(o[0],o[1])),o=[0,100]);const d=c({...t,keyframes:o});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...o].reverse(),velocity:-l})),d.calculatedDuration===null&&(d.calculatedDuration=y8(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+n,this.totalDuration=this.resolvedDuration*(s+1)-n,this.generator=d}updateTime(t){const a=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=a}tick(t,a=!1){const{generator:s,totalDuration:n,mixKeyframes:i,mirroredGenerator:l,resolvedDuration:o,calculatedDuration:c}=this;if(this.startTime===null)return s.next(0);const{delay:d=0,keyframes:u,repeat:f,repeatType:x,repeatDelay:m,type:g,onUpdate:v,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-n/this.speed,this.startTime)),a?this.currentTime=t:this.updateTime(t);const j=this.currentTime-d*(this.playbackSpeed>=0?1:-1),S=this.playbackSpeed>=0?j<0:j>n;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=n);let k=this.currentTime,N=s;if(f){const P=Math.min(this.currentTime,n)/o;let I=Math.floor(P),B=P%1;!B&&P>=1&&(B=1),B===1&&I--,I=Math.min(I,f+1),!!(I%2)&&(x==="reverse"?(B=1-B,m&&(B-=m/o)):x==="mirror"&&(N=l)),k=dh(0,1,B)*o}const A=S?{done:!1,value:u[0]}:N.next(k);i&&(A.value=i(A.value));let{done:_}=A;!S&&c!==null&&(_=this.playbackSpeed>=0?this.currentTime>=n:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&_);return D&&g!==nC&&(A.value=w8(u,this.options,b,this.speed)),v&&v(A.value),D&&this.finish(),A}then(t,a){return this.finished.then(t,a)}get duration(){return pc(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+pc(t)}get time(){return pc(this.currentTime)}set time(t){t=eu(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ql.now());const a=this.playbackSpeed!==t;this.playbackSpeed=t,a&&(this.time=pc(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=y2e,startTime:a}=this.options;this.driver||(this.driver=t(n=>this.tick(n))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=a??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ql.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function I2e(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const B0=e=>e*180/Math.PI,iC=e=>{const t=B0(Math.atan2(e[1],e[0]));return lC(t)},B2e={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:iC,rotateZ:iC,skewX:e=>B0(Math.atan(e[1])),skewY:e=>B0(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},lC=e=>(e=e%360,e<0&&(e+=360),e),iL=iC,lL=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),oL=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),$2e={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:lL,scaleY:oL,scale:e=>(lL(e)+oL(e))/2,rotateX:e=>lC(B0(Math.atan2(e[6],e[5]))),rotateY:e=>lC(B0(Math.atan2(-e[2],e[0]))),rotateZ:iL,rotate:iL,skewX:e=>B0(Math.atan(e[4])),skewY:e=>B0(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function oC(e){return e.includes("scale")?1:0}function cC(e,t){if(!e||e==="none")return oC(t);const a=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,n;if(a)s=$2e,n=a;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=B2e,n=o}if(!n)return oC(t);const i=s[t],l=n[1].split(",").map(z2e);return typeof i=="function"?i(l):l[i]}const U2e=(e,t)=>{const{transform:a="none"}=getComputedStyle(e);return cC(a,t)};function z2e(e){return parseFloat(e.trim())}const Tx=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ex=new Set(Tx),cL=e=>e===_x||e===Oa,H2e=new Set(["x","y","z"]),V2e=Tx.filter(e=>!H2e.has(e));function W2e(e){const t=[];return V2e.forEach(a=>{const s=e.getValue(a);s!==void 0&&(t.push([a,s.get()]),s.set(a.startsWith("scale")?1:0))}),t}const Q0={width:({x:e},{paddingLeft:t="0",paddingRight:a="0"})=>e.max-e.min-parseFloat(t)-parseFloat(a),height:({y:e},{paddingTop:t="0",paddingBottom:a="0"})=>e.max-e.min-parseFloat(t)-parseFloat(a),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>cC(t,"x"),y:(e,{transform:t})=>cC(t,"y")};Q0.translateX=Q0.x;Q0.translateY=Q0.y;const Z0=new Set;let dC=!1,uC=!1,hC=!1;function hW(){if(uC){const e=Array.from(Z0).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),a=new Map;t.forEach(s=>{const n=W2e(s);n.length&&(a.set(s,n),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const n=a.get(s);n&&n.forEach(([i,l])=>{s.getValue(i)?.set(l)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}uC=!1,dC=!1,Z0.forEach(e=>e.complete(hC)),Z0.clear()}function fW(){Z0.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(uC=!0)})}function q2e(){hC=!0,fW(),hW(),hC=!1}class S8{constructor(t,a,s,n,i,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=a,this.name=s,this.motionValue=n,this.element=i,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Z0.add(this),dC||(dC=!0,Ds.read(fW),Ds.resolveKeyframes(hW))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:a,element:s,motionValue:n}=this;if(t[0]===null){const i=n?.get(),l=t[t.length-1];if(i!==void 0)t[0]=i;else if(s&&a){const o=s.readValue(a,l);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=l),n&&i===void 0&&n.set(t[0])}I2e(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Z0.delete(this)}cancel(){this.state==="scheduled"&&(Z0.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const G2e=e=>e.startsWith("--");function K2e(e,t,a){G2e(t)?e.style.setProperty(t,a):e.style[t]=a}const Y2e=u8(()=>window.ScrollTimeline!==void 0),X2e={};function J2e(e,t){const a=u8(e);return()=>X2e[t]??a()}const mW=J2e(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),i1=([e,t,a,s])=>`cubic-bezier(${e}, ${t}, ${a}, ${s})`,dL={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:i1([0,.65,.55,1]),circOut:i1([.55,0,1,.45]),backIn:i1([.31,.01,.66,-.59]),backOut:i1([.33,1.53,.69,.99])};function pW(e,t){if(e)return typeof e=="function"?mW()?cW(e,t):"ease-out":ZV(e)?i1(e):Array.isArray(e)?e.map(a=>pW(a,t)||dL.easeOut):dL[e]}function Q2e(e,t,a,{delay:s=0,duration:n=300,repeat:i=0,repeatType:l="loop",ease:o="easeOut",times:c}={},d=void 0){const u={[t]:a};c&&(u.offset=c);const f=pW(o,n);Array.isArray(f)&&(u.easing=f);const x={delay:s,duration:n,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:l==="reverse"?"alternate":"normal"};return d&&(x.pseudoElement=d),e.animate(u,x)}function xW(e){return typeof e=="function"&&"applyToOptions"in e}function Z2e({type:e,...t}){return xW(e)&&mW()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class ewe extends j8{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:a,name:s,keyframes:n,pseudoElement:i,allowFlatten:l=!1,finalKeyframe:o,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=l,this.options=t,d8(typeof t.type!="string");const d=Z2e(t);this.animation=Q2e(a,s,n,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=w8(n,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(u):K2e(a,s,u),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return pc(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+pc(t)}get time(){return pc(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=eu(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:a}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&Y2e()?(this.animation.timeline=t,vc):a(this)}}const gW={anticipate:YV,backInOut:KV,circInOut:JV};function twe(e){return e in gW}function awe(e){typeof e.ease=="string"&&twe(e.ease)&&(e.ease=gW[e.ease])}const uL=10;class rwe extends ewe{constructor(t){awe(t),uW(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:a,onUpdate:s,onComplete:n,element:i,...l}=this.options;if(!a)return;if(t!==void 0){a.set(t);return}const o=new N8({...l,autoplay:!1}),c=eu(this.finishedTime??this.time);a.setWithVelocity(o.sample(c-uL).value,o.sample(c).value,uL),o.stop()}}const hL=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Rf.test(e)||e==="0")&&!e.startsWith("url("));function swe(e){const t=e[0];if(e.length===1)return!0;for(let a=0;a<e.length;a++)if(e[a]!==t)return!0}function nwe(e,t,a,s){const n=e[0];if(n===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],l=hL(n,t),o=hL(i,t);return!l||!o?!1:swe(e)||(a==="spring"||xW(a))&&s}function fC(e){e.duration=0,e.type="keyframes"}const iwe=new Set(["opacity","clipPath","filter","transform"]),lwe=u8(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function owe(e){const{motionValue:t,name:a,repeatDelay:s,repeatType:n,damping:i,type:l}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=t.owner.getProps();return lwe()&&a&&iwe.has(a)&&(a!=="transform"||!d)&&!c&&!s&&n!=="mirror"&&i!==0&&l!=="inertia"}const cwe=40;class dwe extends j8{constructor({autoplay:t=!0,delay:a=0,type:s="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:l="loop",keyframes:o,name:c,motionValue:d,element:u,...f}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ql.now();const x={autoplay:t,delay:a,type:s,repeat:n,repeatDelay:i,repeatType:l,name:c,motionValue:d,element:u,...f},m=u?.KeyframeResolver||S8;this.keyframeResolver=new m(o,(g,v,b)=>this.onKeyframesResolved(g,v,x,!b),c,d,u),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,a,s,n){this.keyframeResolver=void 0;const{name:i,type:l,velocity:o,delay:c,isHandoff:d,onUpdate:u}=s;this.resolvedAt=Ql.now(),nwe(t,i,l,o)||((uh.instantAnimations||!c)&&u?.(w8(t,s,a)),t[0]=t[t.length-1],fC(s),s.repeat=0);const x={startTime:n?this.resolvedAt?this.resolvedAt-this.createdAt>cwe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:a,...s,keyframes:t},m=!d&&owe(x)?new rwe({...x,element:x.motionValue.owner.current}):new N8(x);m.finished.then(()=>this.notifyFinished()).catch(vc),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,a){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),q2e()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const uwe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function hwe(e){const t=uwe.exec(e);if(!t)return[,];const[,a,s,n]=t;return[`--${a??s}`,n]}function vW(e,t,a=1){const[s,n]=hwe(e);if(!s)return;const i=window.getComputedStyle(t).getPropertyValue(s);if(i){const l=i.trim();return $V(l)?parseFloat(l):l}return x8(n)?vW(n,t,a+1):n}function k8(e,t){return e?.[t]??e?.default??e}const bW=new Set(["width","height","top","left","right","bottom",...Tx]),fwe={test:e=>e==="auto",parse:e=>e},yW=e=>t=>t.test(e),wW=[_x,Oa,tu,ff,s2e,r2e,fwe],fL=e=>wW.find(yW(e));function mwe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||zV(e):!0}const pwe=new Set(["brightness","contrast","saturate","opacity"]);function xwe(e){const[t,a]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=a.match(g8)||[];if(!s)return e;const n=a.replace(s,"");let i=pwe.has(t)?1:0;return s!==a&&(i*=100),t+"("+i+n+")"}const gwe=/\b([a-z-]*)\(.*?\)/gu,mC={...Rf,getAnimatableNone:e=>{const t=e.match(gwe);return t?t.map(xwe).join(" "):e}},mL={..._x,transform:Math.round},vwe={rotate:ff,rotateX:ff,rotateY:ff,rotateZ:ff,scale:Gy,scaleX:Gy,scaleY:Gy,scaleZ:Gy,skew:ff,skewX:ff,skewY:ff,distance:Oa,translateX:Oa,translateY:Oa,translateZ:Oa,x:Oa,y:Oa,z:Oa,perspective:Oa,transformPerspective:Oa,opacity:lv,originX:tL,originY:tL,originZ:Oa},C8={borderWidth:Oa,borderTopWidth:Oa,borderRightWidth:Oa,borderBottomWidth:Oa,borderLeftWidth:Oa,borderRadius:Oa,radius:Oa,borderTopLeftRadius:Oa,borderTopRightRadius:Oa,borderBottomRightRadius:Oa,borderBottomLeftRadius:Oa,width:Oa,maxWidth:Oa,height:Oa,maxHeight:Oa,top:Oa,right:Oa,bottom:Oa,left:Oa,padding:Oa,paddingTop:Oa,paddingRight:Oa,paddingBottom:Oa,paddingLeft:Oa,margin:Oa,marginTop:Oa,marginRight:Oa,marginBottom:Oa,marginLeft:Oa,backgroundPositionX:Oa,backgroundPositionY:Oa,...vwe,zIndex:mL,fillOpacity:lv,strokeOpacity:lv,numOctaves:mL},bwe={...C8,color:Rn,backgroundColor:Rn,outlineColor:Rn,fill:Rn,stroke:Rn,borderColor:Rn,borderTopColor:Rn,borderRightColor:Rn,borderBottomColor:Rn,borderLeftColor:Rn,filter:mC,WebkitFilter:mC},jW=e=>bwe[e];function NW(e,t){let a=jW(e);return a!==mC&&(a=Rf),a.getAnimatableNone?a.getAnimatableNone(t):void 0}const ywe=new Set(["auto","none","0"]);function wwe(e,t,a){let s=0,n;for(;s<e.length&&!n;){const i=e[s];typeof i=="string"&&!ywe.has(i)&&ov(i).values.length&&(n=e[s]),s++}if(n&&a)for(const i of t)e[i]=NW(a,n)}class jwe extends S8{constructor(t,a,s,n,i){super(t,a,s,n,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:a,name:s}=this;if(!a||!a.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),x8(d))){const u=vW(d,a.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!bW.has(s)||t.length!==2)return;const[n,i]=t,l=fL(n),o=fL(i);if(l!==o)if(cL(l)&&cL(o))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else Q0[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:a}=this,s=[];for(let n=0;n<t.length;n++)(t[n]===null||mwe(t[n]))&&s.push(n);s.length&&wwe(t,s,a)}measureInitialState(){const{element:t,unresolvedKeyframes:a,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Q0[s](t.measureViewportBox(),window.getComputedStyle(t.current)),a[0]=this.measuredOrigin;const n=a[a.length-1];n!==void 0&&t.getValue(s,n).jump(n,!1)}measureEndState(){const{element:t,name:a,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const n=t.getValue(a);n&&n.jump(this.measuredOrigin,!1);const i=s.length-1,l=s[i];s[i]=Q0[a](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([o,c])=>{t.getValue(o).set(c)}),this.resolveNoneKeyframes()}}function Nwe(e,t,a){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const n=a?.[e]??s.querySelectorAll(e);return n?Array.from(n):[]}return Array.from(e)}const SW=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function kW(e){return UV(e)&&"offsetHeight"in e}const pL=30,Swe=e=>!isNaN(parseFloat(e));class kwe{constructor(t,a={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const n=Ql.now();if(this.updatedAt!==n&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=a.owner}setCurrent(t){this.current=t,this.updatedAt=Ql.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Swe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,a){this.events[t]||(this.events[t]=new h8);const s=this.events[t].add(a);return t==="change"?()=>{s(),Ds.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,a){this.passiveEffect=t,this.stopPassiveEffect=a}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,a,s){this.set(a),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,a=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,a&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ql.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>pL)return 0;const a=Math.min(this.updatedAt-this.prevUpdatedAt,pL);return HV(parseFloat(this.current)-parseFloat(this.prevFrameValue),a)}start(t){return this.stop(),new Promise(a=>{this.hasAnimated=!0,this.animation=t(a),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function cx(e,t){return new kwe(e,t)}const{schedule:A8}=eW(queueMicrotask,!1),td={x:!1,y:!1};function CW(){return td.x||td.y}function Cwe(e){return e==="x"||e==="y"?td[e]?null:(td[e]=!0,()=>{td[e]=!1}):td.x||td.y?null:(td.x=td.y=!0,()=>{td.x=td.y=!1})}function AW(e,t){const a=Nwe(e),s=new AbortController,n={passive:!0,...t,signal:s.signal};return[a,n,()=>s.abort()]}function xL(e){return!(e.pointerType==="touch"||CW())}function Awe(e,t,a={}){const[s,n,i]=AW(e,a),l=o=>{if(!xL(o))return;const{target:c}=o,d=t(c,o);if(typeof d!="function"||!c)return;const u=f=>{xL(f)&&(d(f),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,n)};return s.forEach(o=>{o.addEventListener("pointerenter",l,n)}),i}const _W=(e,t)=>t?e===t?!0:_W(e,t.parentElement):!1,_8=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,_we=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Twe(e){return _we.has(e.tagName)||e.tabIndex!==-1}const L2=new WeakSet;function gL(e){return t=>{t.key==="Enter"&&e(t)}}function G5(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Ewe=(e,t)=>{const a=e.currentTarget;if(!a)return;const s=gL(()=>{if(L2.has(a))return;G5(a,"down");const n=gL(()=>{G5(a,"up")}),i=()=>G5(a,"cancel");a.addEventListener("keyup",n,t),a.addEventListener("blur",i,t)});a.addEventListener("keydown",s,t),a.addEventListener("blur",()=>a.removeEventListener("keydown",s),t)};function vL(e){return _8(e)&&!CW()}function Dwe(e,t,a={}){const[s,n,i]=AW(e,a),l=o=>{const c=o.currentTarget;if(!vL(o))return;L2.add(c);const d=t(c,o),u=(m,g)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",x),L2.has(c)&&L2.delete(c),vL(m)&&typeof d=="function"&&d(m,{success:g})},f=m=>{u(m,c===window||c===document||a.useGlobalTarget||_W(c,m.target))},x=m=>{u(m,!1)};window.addEventListener("pointerup",f,n),window.addEventListener("pointercancel",x,n)};return s.forEach(o=>{(a.useGlobalTarget?window:o).addEventListener("pointerdown",l,n),kW(o)&&(o.addEventListener("focus",d=>Ewe(d,n)),!Twe(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),i}function TW(e){return UV(e)&&"ownerSVGElement"in e}function Mwe(e){return TW(e)&&e.tagName==="svg"}const ul=e=>!!(e&&e.getVelocity),Pwe=[...wW,Rn,Rf],Lwe=e=>Pwe.find(yW(e)),T8=w.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function bL(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Owe(...e){return t=>{let a=!1;const s=e.map(n=>{const i=bL(n,t);return!a&&typeof i=="function"&&(a=!0),i});if(a)return()=>{for(let n=0;n<s.length;n++){const i=s[n];typeof i=="function"?i():bL(e[n],null)}}}}function Rwe(...e){return w.useCallback(Owe(...e),e)}class Fwe extends w.Component{getSnapshotBeforeUpdate(t){const a=this.props.childRef.current;if(a&&t.isPresent&&!this.props.isPresent){const s=a.offsetParent,n=kW(s)&&s.offsetWidth||0,i=this.props.sizeRef.current;i.height=a.offsetHeight||0,i.width=a.offsetWidth||0,i.top=a.offsetTop,i.left=a.offsetLeft,i.right=n-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Iwe({children:e,isPresent:t,anchorX:a,root:s}){const n=w.useId(),i=w.useRef(null),l=w.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=w.useContext(T8),c=Rwe(i,e?.ref);return w.useInsertionEffect(()=>{const{width:d,height:u,top:f,left:x,right:m}=l.current;if(t||!i.current||!d||!u)return;const g=a==="left"?`left: ${x}`:`right: ${m}`;i.current.dataset.motionPopId=n;const v=document.createElement("style");o&&(v.nonce=o);const b=s??document.head;return b.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${u}px !important;
            ${g}px !important;
            top: ${f}px !important;
          }
        `),()=>{b.contains(v)&&b.removeChild(v)}},[t]),r.jsx(Fwe,{isPresent:t,childRef:i,sizeRef:l,children:w.cloneElement(e,{ref:c})})}const Bwe=({children:e,initial:t,isPresent:a,onExitComplete:s,custom:n,presenceAffectsLayout:i,mode:l,anchorX:o,root:c})=>{const d=i8($we),u=w.useId();let f=!0,x=w.useMemo(()=>(f=!1,{id:u,initial:t,isPresent:a,custom:n,onExitComplete:m=>{d.set(m,!0);for(const g of d.values())if(!g)return;s&&s()},register:m=>(d.set(m,!1),()=>d.delete(m))}),[a,d,s]);return i&&f&&(x={...x}),w.useMemo(()=>{d.forEach((m,g)=>d.set(g,!1))},[a]),w.useEffect(()=>{!a&&!d.size&&s&&s()},[a]),l==="popLayout"&&(e=r.jsx(Iwe,{isPresent:a,anchorX:o,root:c,children:e})),r.jsx(Qj.Provider,{value:x,children:e})};function $we(){return new Map}function EW(e=!0){const t=w.useContext(Qj);if(t===null)return[!0,null];const{isPresent:a,onExitComplete:s,register:n}=t,i=w.useId();w.useEffect(()=>{if(e)return n(i)},[e]);const l=w.useCallback(()=>e&&s&&s(i),[i,s,e]);return!a&&s?[!1,l]:[!0]}const Ky=e=>e.key||"";function yL(e){const t=[];return w.Children.forEach(e,a=>{w.isValidElement(a)&&t.push(a)}),t}const Uwe=({children:e,custom:t,initial:a=!0,onExitComplete:s,presenceAffectsLayout:n=!0,mode:i="sync",propagate:l=!1,anchorX:o="left",root:c})=>{const[d,u]=EW(l),f=w.useMemo(()=>yL(e),[e]),x=l&&!d?[]:f.map(Ky),m=w.useRef(!0),g=w.useRef(f),v=i8(()=>new Map),[b,j]=w.useState(f),[S,k]=w.useState(f);BV(()=>{m.current=!1,g.current=f;for(let _=0;_<S.length;_++){const D=Ky(S[_]);x.includes(D)?v.delete(D):v.get(D)!==!0&&v.set(D,!1)}},[S,x.length,x.join("-")]);const N=[];if(f!==b){let _=[...f];for(let D=0;D<S.length;D++){const P=S[D],I=Ky(P);x.includes(I)||(_.splice(D,0,P),N.push(P))}return i==="wait"&&N.length&&(_=N),k(yL(_)),j(f),null}const{forceRender:A}=w.useContext(n8);return r.jsx(r.Fragment,{children:S.map(_=>{const D=Ky(_),P=l&&!d?!1:f===S||x.includes(D),I=()=>{if(v.has(D))v.set(D,!0);else return;let B=!0;v.forEach(O=>{O||(B=!1)}),B&&(A?.(),k(g.current),l&&u?.(),s&&s())};return r.jsx(Bwe,{isPresent:P,initial:!m.current||a?void 0:!1,custom:t,presenceAffectsLayout:n,mode:i,root:c,onExitComplete:P?void 0:I,anchorX:o,children:_},D)})})},DW=w.createContext({strict:!1}),wL={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},dx={};for(const e in wL)dx[e]={isEnabled:t=>wL[e].some(a=>!!t[a])};function zwe(e){for(const t in e)dx[t]={...dx[t],...e[t]}}const Hwe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bw(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Hwe.has(e)}let MW=e=>!bw(e);function Vwe(e){typeof e=="function"&&(MW=t=>t.startsWith("on")?!bw(t):e(t))}try{Vwe(require("@emotion/is-prop-valid").default)}catch{}function Wwe(e,t,a){const s={};for(const n in e)n==="values"&&typeof e.values=="object"||(MW(n)||a===!0&&bw(n)||!t&&!bw(n)||e.draggable&&n.startsWith("onDrag"))&&(s[n]=e[n]);return s}const Zj=w.createContext({});function eN(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function cv(e){return typeof e=="string"||Array.isArray(e)}const E8=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],D8=["initial",...E8];function tN(e){return eN(e.animate)||D8.some(t=>cv(e[t]))}function PW(e){return!!(tN(e)||e.variants)}function qwe(e,t){if(tN(e)){const{initial:a,animate:s}=e;return{initial:a===!1||cv(a)?a:void 0,animate:cv(s)?s:void 0}}return e.inherit!==!1?t:{}}function Gwe(e){const{initial:t,animate:a}=qwe(e,w.useContext(Zj));return w.useMemo(()=>({initial:t,animate:a}),[jL(t),jL(a)])}function jL(e){return Array.isArray(e)?e.join(" "):e}const dv={};function Kwe(e){for(const t in e)dv[t]=e[t],p8(t)&&(dv[t].isCSSVariable=!0)}function LW(e,{layout:t,layoutId:a}){return Ex.has(e)||e.startsWith("origin")||(t||a!==void 0)&&(!!dv[e]||e==="opacity")}const Ywe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Xwe=Tx.length;function Jwe(e,t,a){let s="",n=!0;for(let i=0;i<Xwe;i++){const l=Tx[i],o=e[l];if(o===void 0)continue;let c=!0;if(typeof o=="number"?c=o===(l.startsWith("scale")?1:0):c=parseFloat(o)===0,!c||a){const d=SW(o,C8[l]);if(!c){n=!1;const u=Ywe[l]||l;s+=`${u}(${d}) `}a&&(t[l]=d)}}return s=s.trim(),a?s=a(t,n?"":s):n&&(s="none"),s}function M8(e,t,a){const{style:s,vars:n,transformOrigin:i}=e;let l=!1,o=!1;for(const c in t){const d=t[c];if(Ex.has(c)){l=!0;continue}else if(p8(c)){n[c]=d;continue}else{const u=SW(d,C8[c]);c.startsWith("origin")?(o=!0,i[c]=u):s[c]=u}}if(t.transform||(l||a?s.transform=Jwe(t,e.transform,a):s.transform&&(s.transform="none")),o){const{originX:c="50%",originY:d="50%",originZ:u=0}=i;s.transformOrigin=`${c} ${d} ${u}`}}const P8=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function OW(e,t,a){for(const s in t)!ul(t[s])&&!LW(s,a)&&(e[s]=t[s])}function Qwe({transformTemplate:e},t){return w.useMemo(()=>{const a=P8();return M8(a,t,e),Object.assign({},a.vars,a.style)},[t])}function Zwe(e,t){const a=e.style||{},s={};return OW(s,a,e),Object.assign(s,Qwe(e,t)),s}function eje(e,t){const a={},s=Zwe(e,t);return e.drag&&e.dragListener!==!1&&(a.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(a.tabIndex=0),a.style=s,a}const tje={offset:"stroke-dashoffset",array:"stroke-dasharray"},aje={offset:"strokeDashoffset",array:"strokeDasharray"};function rje(e,t,a=1,s=0,n=!0){e.pathLength=1;const i=n?tje:aje;e[i.offset]=Oa.transform(-s);const l=Oa.transform(t),o=Oa.transform(a);e[i.array]=`${l} ${o}`}function RW(e,{attrX:t,attrY:a,attrScale:s,pathLength:n,pathSpacing:i=1,pathOffset:l=0,...o},c,d,u){if(M8(e,o,d),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:x}=e;f.transform&&(x.transform=f.transform,delete f.transform),(x.transform||f.transformOrigin)&&(x.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),x.transform&&(x.transformBox=u?.transformBox??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),a!==void 0&&(f.y=a),s!==void 0&&(f.scale=s),n!==void 0&&rje(f,n,i,l,!1)}const FW=()=>({...P8(),attrs:{}}),IW=e=>typeof e=="string"&&e.toLowerCase()==="svg";function sje(e,t,a,s){const n=w.useMemo(()=>{const i=FW();return RW(i,t,IW(s),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};OW(i,e.style,e),n.style={...i,...n.style}}return n}const nje=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function L8(e){return typeof e!="string"||e.includes("-")?!1:!!(nje.indexOf(e)>-1||/[A-Z]/u.test(e))}function ije(e,t,a,{latestValues:s},n,i=!1){const o=(L8(e)?sje:eje)(t,s,n,e),c=Wwe(t,typeof e=="string",i),d=e!==w.Fragment?{...c,...o,ref:a}:{},{children:u}=t,f=w.useMemo(()=>ul(u)?u.get():u,[u]);return w.createElement(e,{...d,children:f})}function NL(e){const t=[{},{}];return e?.values.forEach((a,s)=>{t[0][s]=a.get(),t[1][s]=a.getVelocity()}),t}function O8(e,t,a,s){if(typeof t=="function"){const[n,i]=NL(s);t=t(a!==void 0?a:e.custom,n,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[n,i]=NL(s);t=t(a!==void 0?a:e.custom,n,i)}return t}function O2(e){return ul(e)?e.get():e}function lje({scrapeMotionValuesFromProps:e,createRenderState:t},a,s,n){return{latestValues:oje(a,s,n,e),renderState:t()}}function oje(e,t,a,s){const n={},i=s(e,{});for(const x in i)n[x]=O2(i[x]);let{initial:l,animate:o}=e;const c=tN(e),d=PW(e);t&&d&&!c&&e.inherit!==!1&&(l===void 0&&(l=t.initial),o===void 0&&(o=t.animate));let u=a?a.initial===!1:!1;u=u||l===!1;const f=u?o:l;if(f&&typeof f!="boolean"&&!eN(f)){const x=Array.isArray(f)?f:[f];for(let m=0;m<x.length;m++){const g=O8(e,x[m]);if(g){const{transitionEnd:v,transition:b,...j}=g;for(const S in j){let k=j[S];if(Array.isArray(k)){const N=u?k.length-1:0;k=k[N]}k!==null&&(n[S]=k)}for(const S in v)n[S]=v[S]}}}return n}const BW=e=>(t,a)=>{const s=w.useContext(Zj),n=w.useContext(Qj),i=()=>lje(e,t,s,n);return a?i():i8(i)};function R8(e,t,a){const{style:s}=e,n={};for(const i in s)(ul(s[i])||t.style&&ul(t.style[i])||LW(i,e)||a?.getValue(i)?.liveStyle!==void 0)&&(n[i]=s[i]);return n}const cje=BW({scrapeMotionValuesFromProps:R8,createRenderState:P8});function $W(e,t,a){const s=R8(e,t,a);for(const n in e)if(ul(e[n])||ul(t[n])){const i=Tx.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;s[i]=e[n]}return s}const dje=BW({scrapeMotionValuesFromProps:$W,createRenderState:FW}),uje=Symbol.for("motionComponentSymbol");function $p(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function hje(e,t,a){return w.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),a&&(typeof a=="function"?a(s):$p(a)&&(a.current=s))},[t])}const F8=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),fje="framerAppearId",UW="data-"+F8(fje),zW=w.createContext({});function mje(e,t,a,s,n){const{visualElement:i}=w.useContext(Zj),l=w.useContext(DW),o=w.useContext(Qj),c=w.useContext(T8).reducedMotion,d=w.useRef(null);s=s||l.renderer,!d.current&&s&&(d.current=s(e,{visualState:t,parent:i,props:a,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,f=w.useContext(zW);u&&!u.projection&&n&&(u.type==="html"||u.type==="svg")&&pje(d.current,a,n,f);const x=w.useRef(!1);w.useInsertionEffect(()=>{u&&x.current&&u.update(a,o)});const m=a[UW],g=w.useRef(!!m&&!window.MotionHandoffIsComplete?.(m)&&window.MotionHasOptimisedAnimation?.(m));return BV(()=>{u&&(x.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),g.current&&u.animationState&&u.animationState.animateChanges())}),w.useEffect(()=>{u&&(!g.current&&u.animationState&&u.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(m)}),g.current=!1),u.enteringChildren=void 0)}),u}function pje(e,t,a,s){const{layoutId:n,layout:i,drag:l,dragConstraints:o,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=t;e.projection=new a(e.latestValues,t["data-framer-portal-id"]?void 0:HW(e.parent)),e.projection.setOptions({layoutId:n,layout:i,alwaysMeasureLayout:!!l||o&&$p(o),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,crossfade:u,layoutScroll:c,layoutRoot:d})}function HW(e){if(e)return e.options.allowProjection!==!1?e.projection:HW(e.parent)}function K5(e,{forwardMotionProps:t=!1}={},a,s){a&&zwe(a);const n=L8(e)?dje:cje;function i(o,c){let d;const u={...w.useContext(T8),...o,layoutId:xje(o)},{isStatic:f}=u,x=Gwe(o),m=n(o,f);if(!f&&l8){gje();const g=vje(u);d=g.MeasureLayout,x.visualElement=mje(e,m,u,s,g.ProjectionNode)}return r.jsxs(Zj.Provider,{value:x,children:[d&&x.visualElement?r.jsx(d,{visualElement:x.visualElement,...u}):null,ije(e,o,hje(m,x.visualElement,c),m,f,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const l=w.forwardRef(i);return l[uje]=e,l}function xje({layoutId:e}){const t=w.useContext(n8).id;return t&&e!==void 0?t+"-"+e:e}function gje(e,t){w.useContext(DW).strict}function vje(e){const{drag:t,layout:a}=dx;if(!t&&!a)return{};const s={...t,...a};return{MeasureLayout:t?.isEnabled(e)||a?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function bje(e,t){if(typeof Proxy>"u")return K5;const a=new Map,s=(i,l)=>K5(i,l,e,t),n=(i,l)=>s(i,l);return new Proxy(n,{get:(i,l)=>l==="create"?s:(a.has(l)||a.set(l,K5(l,void 0,e,t)),a.get(l))})}function VW({top:e,left:t,right:a,bottom:s}){return{x:{min:t,max:a},y:{min:e,max:s}}}function yje({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function wje(e,t){if(!t)return e;const a=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:a.y,left:a.x,bottom:s.y,right:s.x}}function Y5(e){return e===void 0||e===1}function pC({scale:e,scaleX:t,scaleY:a}){return!Y5(e)||!Y5(t)||!Y5(a)}function E0(e){return pC(e)||WW(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function WW(e){return SL(e.x)||SL(e.y)}function SL(e){return e&&e!=="0%"}function yw(e,t,a){const s=e-a,n=t*s;return a+n}function kL(e,t,a,s,n){return n!==void 0&&(e=yw(e,n,s)),yw(e,a,s)+t}function xC(e,t=0,a=1,s,n){e.min=kL(e.min,t,a,s,n),e.max=kL(e.max,t,a,s,n)}function qW(e,{x:t,y:a}){xC(e.x,t.translate,t.scale,t.originPoint),xC(e.y,a.translate,a.scale,a.originPoint)}const CL=.999999999999,AL=1.0000000000001;function jje(e,t,a,s=!1){const n=a.length;if(!n)return;t.x=t.y=1;let i,l;for(let o=0;o<n;o++){i=a[o],l=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&zp(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,qW(e,l)),s&&E0(i.latestValues)&&zp(e,i.latestValues))}t.x<AL&&t.x>CL&&(t.x=1),t.y<AL&&t.y>CL&&(t.y=1)}function Up(e,t){e.min=e.min+t,e.max=e.max+t}function _L(e,t,a,s,n=.5){const i=zs(e.min,e.max,n);xC(e,t,a,i,s)}function zp(e,t){_L(e.x,t.x,t.scaleX,t.scale,t.originX),_L(e.y,t.y,t.scaleY,t.scale,t.originY)}function GW(e,t){return VW(wje(e.getBoundingClientRect(),t))}function Nje(e,t,a){const s=GW(e,a),{scroll:n}=t;return n&&(Up(s.x,n.offset.x),Up(s.y,n.offset.y)),s}const TL=()=>({translate:0,scale:1,origin:0,originPoint:0}),Hp=()=>({x:TL(),y:TL()}),EL=()=>({min:0,max:0}),bn=()=>({x:EL(),y:EL()}),gC={current:null},KW={current:!1};function Sje(){if(KW.current=!0,!!l8)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>gC.current=e.matches;e.addEventListener("change",t),t()}else gC.current=!1}const kje=new WeakMap;function Cje(e,t,a){for(const s in t){const n=t[s],i=a[s];if(ul(n))e.addValue(s,n);else if(ul(i))e.addValue(s,cx(n,{owner:e}));else if(i!==n)if(e.hasValue(s)){const l=e.getValue(s);l.liveStyle===!0?l.jump(n):l.hasAnimated||l.set(n)}else{const l=e.getStaticValue(s);e.addValue(s,cx(l!==void 0?l:n,{owner:e}))}}for(const s in a)t[s]===void 0&&e.removeValue(s);return t}const DL=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Aje{scrapeMotionValuesFromProps(t,a,s){return{}}constructor({parent:t,props:a,presenceContext:s,reducedMotionConfig:n,blockInitialAnimation:i,visualState:l},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=S8,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Ql.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Ds.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=l;this.latestValues=c,this.baseTarget={...c},this.initialValues=a.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=a,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=n,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=tN(a),this.isVariantNode=PW(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(a,{},this);for(const x in f){const m=f[x];c[x]!==void 0&&ul(m)&&m.set(c[x])}}mount(t){this.current=t,kje.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,s)=>this.bindToMotionValue(s,a)),KW.current||Sje(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:gC.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Of(this.notifyUpdate),Of(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const a=this.features[t];a&&(a.unmount(),a.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,a){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=Ex.has(t);s&&this.onBindTransform&&this.onBindTransform();const n=a.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Ds.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,a)),this.valueSubscriptions.set(t,()=>{n(),i&&i(),a.owner&&a.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in dx){const a=dx[t];if(!a)continue;const{isEnabled:s,Feature:n}=a;if(!this.features[t]&&n&&s(this.props)&&(this.features[t]=new n(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):bn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,a){this.latestValues[t]=a}update(t,a){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=a;for(let s=0;s<DL.length;s++){const n=DL[s];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const i="on"+n,l=t[i];l&&(this.propEventSubscriptions[n]=this.on(n,l))}this.prevMotionValues=Cje(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const a=this.getClosestVariantNode();if(a)return a.variantChildren&&a.variantChildren.add(t),()=>a.variantChildren.delete(t)}addValue(t,a){const s=this.values.get(t);a!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,a),this.values.set(t,a),this.latestValues[t]=a.get())}removeValue(t){this.values.delete(t);const a=this.valueSubscriptions.get(t);a&&(a(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,a){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&a!==void 0&&(s=cx(a===null?void 0:a,{owner:this}),this.addValue(t,s)),s}readValue(t,a){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&($V(s)||zV(s))?s=parseFloat(s):!Lwe(s)&&Rf.test(a)&&(s=NW(t,a)),this.setBaseTarget(t,ul(s)?s.get():s)),ul(s)?s.get():s}setBaseTarget(t,a){this.baseTarget[t]=a}getBaseTarget(t){const{initial:a}=this.props;let s;if(typeof a=="string"||typeof a=="object"){const i=O8(this.props,a,this.presenceContext?.custom);i&&(s=i[t])}if(a&&s!==void 0)return s;const n=this.getBaseTargetFromProps(this.props,t);return n!==void 0&&!ul(n)?n:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,a){return this.events[t]||(this.events[t]=new h8),this.events[t].add(a)}notify(t,...a){this.events[t]&&this.events[t].notify(...a)}scheduleRenderMicrotask(){A8.render(this.render)}}class YW extends Aje{constructor(){super(...arguments),this.KeyframeResolver=jwe}sortInstanceNodePosition(t,a){return t.compareDocumentPosition(a)&2?1:-1}getBaseTargetFromProps(t,a){return t.style?t.style[a]:void 0}removeValueFromRenderState(t,{vars:a,style:s}){delete a[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ul(t)&&(this.childSubscription=t.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}}function XW(e,{style:t,vars:a},s,n){const i=e.style;let l;for(l in t)i[l]=t[l];n?.applyProjectionStyles(i,s);for(l in a)i.setProperty(l,a[l])}function _je(e){return window.getComputedStyle(e)}class Tje extends YW{constructor(){super(...arguments),this.type="html",this.renderInstance=XW}readValueFromInstance(t,a){if(Ex.has(a))return this.projection?.isProjecting?oC(a):U2e(t,a);{const s=_je(t),n=(p8(a)?s.getPropertyValue(a):s[a])||0;return typeof n=="string"?n.trim():n}}measureInstanceViewportBox(t,{transformPagePoint:a}){return GW(t,a)}build(t,a,s){M8(t,a,s.transformTemplate)}scrapeMotionValuesFromProps(t,a,s){return R8(t,a,s)}}const JW=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Eje(e,t,a,s){XW(e,t,void 0,s);for(const n in t.attrs)e.setAttribute(JW.has(n)?n:F8(n),t.attrs[n])}class Dje extends YW{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=bn}getBaseTargetFromProps(t,a){return t[a]}readValueFromInstance(t,a){if(Ex.has(a)){const s=jW(a);return s&&s.default||0}return a=JW.has(a)?a:F8(a),t.getAttribute(a)}scrapeMotionValuesFromProps(t,a,s){return $W(t,a,s)}build(t,a,s){RW(t,a,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,a,s,n){Eje(t,a,s,n)}mount(t){this.isSVGTag=IW(t.tagName),super.mount(t)}}const Mje=(e,t)=>L8(e)?new Dje(t):new Tje(t,{allowProjection:e!==w.Fragment});function Xp(e,t,a){const s=e.getProps();return O8(s,t,a!==void 0?a:s.custom,e)}const vC=e=>Array.isArray(e);function Pje(e,t,a){e.hasValue(t)?e.getValue(t).set(a):e.addValue(t,cx(a))}function Lje(e){return vC(e)?e[e.length-1]||0:e}function Oje(e,t){const a=Xp(e,t);let{transitionEnd:s={},transition:n={},...i}=a||{};i={...i,...s};for(const l in i){const o=Lje(i[l]);Pje(e,l,o)}}function Rje(e){return!!(ul(e)&&e.add)}function bC(e,t){const a=e.getValue("willChange");if(Rje(a))return a.add(t);if(!a&&uh.WillChange){const s=new uh.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function QW(e){return e.props[UW]}const Fje=e=>e!==null;function Ije(e,{repeat:t,repeatType:a="loop"},s){const n=e.filter(Fje),i=t&&a!=="loop"&&t%2===1?0:n.length-1;return n[i]}const Bje={type:"spring",stiffness:500,damping:25,restSpeed:10},$je=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Uje={type:"keyframes",duration:.8},zje={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Hje=(e,{keyframes:t})=>t.length>2?Uje:Ex.has(e)?e.startsWith("scale")?$je(t[1]):Bje:zje;function Vje({when:e,delay:t,delayChildren:a,staggerChildren:s,staggerDirection:n,repeat:i,repeatType:l,repeatDelay:o,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const I8=(e,t,a,s={},n,i)=>l=>{const o=k8(s,e)||{},c=o.delay||s.delay||0;let{elapsed:d=0}=s;d=d-eu(c);const u={keyframes:Array.isArray(a)?a:[null,a],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-d,onUpdate:x=>{t.set(x),o.onUpdate&&o.onUpdate(x)},onComplete:()=>{l(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:n};Vje(o)||Object.assign(u,Hje(e,u)),u.duration&&(u.duration=eu(u.duration)),u.repeatDelay&&(u.repeatDelay=eu(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(fC(u),u.delay===0&&(f=!0)),(uh.instantAnimations||uh.skipAnimations)&&(f=!0,fC(u),u.delay=0),u.allowFlatten=!o.type&&!o.ease,f&&!i&&t.get()!==void 0){const x=Ije(u.keyframes,o);if(x!==void 0){Ds.update(()=>{u.onUpdate(x),u.onComplete()});return}}return o.isSync?new N8(u):new dwe(u)};function Wje({protectedKeys:e,needsAnimating:t},a){const s=e.hasOwnProperty(a)&&t[a]!==!0;return t[a]=!1,s}function ZW(e,t,{delay:a=0,transitionOverride:s,type:n}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:l,...o}=t;s&&(i=s);const c=[],d=n&&e.animationState&&e.animationState.getState()[n];for(const u in o){const f=e.getValue(u,e.latestValues[u]??null),x=o[u];if(x===void 0||d&&Wje(d,u))continue;const m={delay:a,...k8(i||{},u)},g=f.get();if(g!==void 0&&!f.isAnimating&&!Array.isArray(x)&&x===g&&!m.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const j=QW(e);if(j){const S=window.MotionHandoffAnimation(j,u,Ds);S!==null&&(m.startTime=S,v=!0)}}bC(e,u),f.start(I8(u,f,x,e.shouldReduceMotion&&bW.has(u)?{type:!1}:m,e,v));const b=f.animation;b&&c.push(b)}return l&&Promise.all(c).then(()=>{Ds.update(()=>{l&&Oje(e,l)})}),c}function eq(e,t,a,s=0,n=1){const i=Array.from(e).sort((d,u)=>d.sortNodePosition(u)).indexOf(t),l=e.size,o=(l-1)*s;return typeof a=="function"?a(i,l):n===1?i*s:o-i*s}function yC(e,t,a={}){const s=Xp(e,t,a.type==="exit"?e.presenceContext?.custom:void 0);let{transition:n=e.getDefaultTransition()||{}}=s||{};a.transitionOverride&&(n=a.transitionOverride);const i=s?()=>Promise.all(ZW(e,s,a)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:u,staggerDirection:f}=n;return qje(e,t,c,d,u,f,a)}:()=>Promise.resolve(),{when:o}=n;if(o){const[c,d]=o==="beforeChildren"?[i,l]:[l,i];return c().then(()=>d())}else return Promise.all([i(),l(a.delay)])}function qje(e,t,a=0,s=0,n=0,i=1,l){const o=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),o.push(yC(c,t,{...l,delay:a+(typeof s=="function"?0:s)+eq(e.variantChildren,c,s,n,i)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(o)}function Gje(e,t,a={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const n=t.map(i=>yC(e,i,a));s=Promise.all(n)}else if(typeof t=="string")s=yC(e,t,a);else{const n=typeof t=="function"?Xp(e,t,a.custom):t;s=Promise.all(ZW(e,n,a))}return s.then(()=>{e.notify("AnimationComplete",t)})}function tq(e,t){if(!Array.isArray(t))return!1;const a=t.length;if(a!==e.length)return!1;for(let s=0;s<a;s++)if(t[s]!==e[s])return!1;return!0}const Kje=D8.length;function aq(e){if(!e)return;if(!e.isControllingVariants){const a=e.parent?aq(e.parent)||{}:{};return e.props.initial!==void 0&&(a.initial=e.props.initial),a}const t={};for(let a=0;a<Kje;a++){const s=D8[a],n=e.props[s];(cv(n)||n===!1)&&(t[s]=n)}return t}const Yje=[...E8].reverse(),Xje=E8.length;function Jje(e){return t=>Promise.all(t.map(({animation:a,options:s})=>Gje(e,a,s)))}function Qje(e){let t=Jje(e),a=ML(),s=!0;const n=c=>(d,u)=>{const f=Xp(e,u,c==="exit"?e.presenceContext?.custom:void 0);if(f){const{transition:x,transitionEnd:m,...g}=f;d={...d,...g,...m}}return d};function i(c){t=c(e)}function l(c){const{props:d}=e,u=aq(e.parent)||{},f=[],x=new Set;let m={},g=1/0;for(let b=0;b<Xje;b++){const j=Yje[b],S=a[j],k=d[j]!==void 0?d[j]:u[j],N=cv(k),A=j===c?S.isActive:null;A===!1&&(g=b);let _=k===u[j]&&k!==d[j]&&N;if(_&&s&&e.manuallyAnimateOnMount&&(_=!1),S.protectedKeys={...m},!S.isActive&&A===null||!k&&!S.prevProp||eN(k)||typeof k=="boolean")continue;const D=Zje(S.prevProp,k);let P=D||j===c&&S.isActive&&!_&&N||b>g&&N,I=!1;const B=Array.isArray(k)?k:[k];let O=B.reduce(n(j),{});A===!1&&(O={});const{prevResolvedValues:U={}}=S,E={...U,...O},R=Z=>{P=!0,x.has(Z)&&(I=!0,x.delete(Z)),S.needsAnimating[Z]=!0;const J=e.getValue(Z);J&&(J.liveStyle=!1)};for(const Z in E){const J=O[Z],ee=U[Z];if(m.hasOwnProperty(Z))continue;let W=!1;vC(J)&&vC(ee)?W=!tq(J,ee):W=J!==ee,W?J!=null?R(Z):x.add(Z):J!==void 0&&x.has(Z)?R(Z):S.protectedKeys[Z]=!0}S.prevProp=k,S.prevResolvedValues=O,S.isActive&&(m={...m,...O}),s&&e.blockInitialAnimation&&(P=!1);const K=_&&D;P&&(!K||I)&&f.push(...B.map(Z=>{const J={type:j};if(typeof Z=="string"&&s&&!K&&e.manuallyAnimateOnMount&&e.parent){const{parent:ee}=e,W=Xp(ee,Z);if(ee.enteringChildren&&W){const{delayChildren:le}=W.transition||{};J.delay=eq(ee.enteringChildren,e,le)}}return{animation:Z,options:J}}))}if(x.size){const b={};if(typeof d.initial!="boolean"){const j=Xp(e,Array.isArray(d.initial)?d.initial[0]:d.initial);j&&j.transition&&(b.transition=j.transition)}x.forEach(j=>{const S=e.getBaseTarget(j),k=e.getValue(j);k&&(k.liveStyle=!0),b[j]=S??null}),f.push({animation:b})}let v=!!f.length;return s&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(v=!1),s=!1,v?t(f):Promise.resolve()}function o(c,d){if(a[c].isActive===d)return Promise.resolve();e.variantChildren?.forEach(f=>f.animationState?.setActive(c,d)),a[c].isActive=d;const u=l(c);for(const f in a)a[f].protectedKeys={};return u}return{animateChanges:l,setActive:o,setAnimateFunction:i,getState:()=>a,reset:()=>{a=ML()}}}function Zje(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!tq(t,e):!1}function C0(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ML(){return{animate:C0(!0),whileInView:C0(),whileHover:C0(),whileTap:C0(),whileDrag:C0(),whileFocus:C0(),exit:C0()}}class Gf{constructor(t){this.isMounted=!1,this.node=t}update(){}}class eNe extends Gf{constructor(t){super(t),t.animationState||(t.animationState=Qje(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();eN(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:a}=this.node.prevProps||{};t!==a&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let tNe=0;class aNe extends Gf{constructor(){super(...arguments),this.id=tNe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:a}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const n=this.node.animationState.setActive("exit",!t);a&&!t&&n.then(()=>{a(this.id)})}mount(){const{register:t,onExitComplete:a}=this.node.presenceContext||{};a&&a(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const rNe={animation:{Feature:eNe},exit:{Feature:aNe}};function uv(e,t,a,s={passive:!0}){return e.addEventListener(t,a,s),()=>e.removeEventListener(t,a)}function Qv(e){return{point:{x:e.pageX,y:e.pageY}}}const sNe=e=>t=>_8(t)&&e(t,Qv(t));function N1(e,t,a,s){return uv(e,t,sNe(a),s)}const rq=1e-4,nNe=1-rq,iNe=1+rq,sq=.01,lNe=0-sq,oNe=0+sq;function Dl(e){return e.max-e.min}function cNe(e,t,a){return Math.abs(e-t)<=a}function PL(e,t,a,s=.5){e.origin=s,e.originPoint=zs(t.min,t.max,e.origin),e.scale=Dl(a)/Dl(t),e.translate=zs(a.min,a.max,e.origin)-e.originPoint,(e.scale>=nNe&&e.scale<=iNe||isNaN(e.scale))&&(e.scale=1),(e.translate>=lNe&&e.translate<=oNe||isNaN(e.translate))&&(e.translate=0)}function S1(e,t,a,s){PL(e.x,t.x,a.x,s?s.originX:void 0),PL(e.y,t.y,a.y,s?s.originY:void 0)}function LL(e,t,a){e.min=a.min+t.min,e.max=e.min+Dl(t)}function dNe(e,t,a){LL(e.x,t.x,a.x),LL(e.y,t.y,a.y)}function OL(e,t,a){e.min=t.min-a.min,e.max=e.min+Dl(t)}function k1(e,t,a){OL(e.x,t.x,a.x),OL(e.y,t.y,a.y)}function uc(e){return[e("x"),e("y")]}const nq=({current:e})=>e?e.ownerDocument.defaultView:null,RL=(e,t)=>Math.abs(e-t);function uNe(e,t){const a=RL(e.x,t.x),s=RL(e.y,t.y);return Math.sqrt(a**2+s**2)}class iq{constructor(t,a,{transformPagePoint:s,contextWindow:n=window,dragSnapToOrigin:i=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=J5(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,g=uNe(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!g)return;const{point:v}=x,{timestamp:b}=Bi;this.history.push({...v,timestamp:b});const{onStart:j,onMove:S}=this.handlers;m||(j&&j(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,x)},this.handlePointerMove=(x,m)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=X5(m,this.transformPagePoint),Ds.update(this.updatePoint,!0)},this.handlePointerUp=(x,m)=>{this.end();const{onEnd:g,onSessionEnd:v,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=J5(x.type==="pointercancel"?this.lastMoveEventInfo:X5(m,this.transformPagePoint),this.history);this.startEvent&&g&&g(x,j),v&&v(x,j)},!_8(t))return;this.dragSnapToOrigin=i,this.handlers=a,this.transformPagePoint=s,this.distanceThreshold=l,this.contextWindow=n||window;const o=Qv(t),c=X5(o,this.transformPagePoint),{point:d}=c,{timestamp:u}=Bi;this.history=[{...d,timestamp:u}];const{onSessionStart:f}=a;f&&f(t,J5(c,this.history)),this.removeListeners=Yv(N1(this.contextWindow,"pointermove",this.handlePointerMove),N1(this.contextWindow,"pointerup",this.handlePointerUp),N1(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Of(this.updatePoint)}}function X5(e,t){return t?{point:t(e.point)}:e}function FL(e,t){return{x:e.x-t.x,y:e.y-t.y}}function J5({point:e},t){return{point:e,delta:FL(e,lq(t)),offset:FL(e,hNe(t)),velocity:fNe(t,.1)}}function hNe(e){return e[0]}function lq(e){return e[e.length-1]}function fNe(e,t){if(e.length<2)return{x:0,y:0};let a=e.length-1,s=null;const n=lq(e);for(;a>=0&&(s=e[a],!(n.timestamp-s.timestamp>eu(t)));)a--;if(!s)return{x:0,y:0};const i=pc(n.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const l={x:(n.x-s.x)/i,y:(n.y-s.y)/i};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function mNe(e,{min:t,max:a},s){return t!==void 0&&e<t?e=s?zs(t,e,s.min):Math.max(e,t):a!==void 0&&e>a&&(e=s?zs(a,e,s.max):Math.min(e,a)),e}function IL(e,t,a){return{min:t!==void 0?e.min+t:void 0,max:a!==void 0?e.max+a-(e.max-e.min):void 0}}function pNe(e,{top:t,left:a,bottom:s,right:n}){return{x:IL(e.x,a,n),y:IL(e.y,t,s)}}function BL(e,t){let a=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([a,s]=[s,a]),{min:a,max:s}}function xNe(e,t){return{x:BL(e.x,t.x),y:BL(e.y,t.y)}}function gNe(e,t){let a=.5;const s=Dl(e),n=Dl(t);return n>s?a=iv(t.min,t.max-s,e.min):s>n&&(a=iv(e.min,e.max-n,t.min)),dh(0,1,a)}function vNe(e,t){const a={};return t.min!==void 0&&(a.min=t.min-e.min),t.max!==void 0&&(a.max=t.max-e.min),a}const wC=.35;function bNe(e=wC){return e===!1?e=0:e===!0&&(e=wC),{x:$L(e,"left","right"),y:$L(e,"top","bottom")}}function $L(e,t,a){return{min:UL(e,t),max:UL(e,a)}}function UL(e,t){return typeof e=="number"?e:e[t]||0}const yNe=new WeakMap;class wNe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=bn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:a=!1,distanceThreshold:s}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),a&&this.snapToCursor(Qv(f).point)},l=(f,x)=>{const{drag:m,dragPropagation:g,onDragStart:v}=this.getProps();if(m&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Cwe(m),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),uc(j=>{let S=this.getAxisMotionValue(j).get()||0;if(tu.test(S)){const{projection:k}=this.visualElement;if(k&&k.layout){const N=k.layout.layoutBox[j];N&&(S=Dl(N)*(parseFloat(S)/100))}}this.originPoint[j]=S}),v&&Ds.postRender(()=>v(f,x)),bC(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(f,x)=>{this.latestPointerEvent=f,this.latestPanInfo=x;const{dragPropagation:m,dragDirectionLock:g,onDirectionLock:v,onDrag:b}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:j}=x;if(g&&this.currentDirection===null){this.currentDirection=jNe(j),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",x.point,j),this.updateAxis("y",x.point,j),this.visualElement.render(),b&&b(f,x)},c=(f,x)=>{this.latestPointerEvent=f,this.latestPanInfo=x,this.stop(f,x),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>uc(f=>this.getAnimationState(f)==="paused"&&this.getAxisMotionValue(f).animation?.play()),{dragSnapToOrigin:u}=this.getProps();this.panSession=new iq(t,{onSessionStart:i,onStart:l,onMove:o,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:s,contextWindow:nq(this.visualElement)})}stop(t,a){const s=t||this.latestPointerEvent,n=a||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!n||!s)return;const{velocity:l}=n;this.startAnimation(l);const{onDragEnd:o}=this.getProps();o&&Ds.postRender(()=>o(s,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:a}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),a&&a.setActive("whileDrag",!1)}updateAxis(t,a,s){const{drag:n}=this.getProps();if(!s||!Yy(t,n,this.currentDirection))return;const i=this.getAxisMotionValue(t);let l=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(l=mNe(l,this.constraints[t],this.elastic[t])),i.set(l)}resolveConstraints(){const{dragConstraints:t,dragElastic:a}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,n=this.constraints;t&&$p(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=pNe(s.layoutBox,t):this.constraints=!1,this.elastic=bNe(a),n!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&uc(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=vNe(s.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:a}=this.getProps();if(!t||!$p(t))return!1;const s=t.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const i=Nje(s,n.root,this.visualElement.getTransformPagePoint());let l=xNe(n.layout.layoutBox,i);if(a){const o=a(yje(l));this.hasMutatedConstraints=!!o,o&&(l=VW(o))}return l}startAnimation(t){const{drag:a,dragMomentum:s,dragElastic:n,dragTransition:i,dragSnapToOrigin:l,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},d=uc(u=>{if(!Yy(u,a,this.currentDirection))return;let f=c&&c[u]||{};l&&(f={min:0,max:0});const x=n?200:1e6,m=n?40:1e7,g={type:"inertia",velocity:s?t[u]:0,bounceStiffness:x,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(u,g)});return Promise.all(d).then(o)}startAxisValueAnimation(t,a){const s=this.getAxisMotionValue(t);return bC(this.visualElement,t),s.start(I8(t,s,0,a,this.visualElement,!1))}stopAnimation(){uc(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){uc(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const a=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),n=s[a];return n||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){uc(a=>{const{drag:s}=this.getProps();if(!Yy(a,s,this.currentDirection))return;const{projection:n}=this.visualElement,i=this.getAxisMotionValue(a);if(n&&n.layout){const{min:l,max:o}=n.layout.layoutBox[a];i.set(t[a]-zs(l,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:a}=this.getProps(),{projection:s}=this.visualElement;if(!$p(a)||!s||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};uc(l=>{const o=this.getAxisMotionValue(l);if(o&&this.constraints!==!1){const c=o.get();n[l]=gNe({min:c,max:c},this.constraints[l])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),uc(l=>{if(!Yy(l,t,null))return;const o=this.getAxisMotionValue(l),{min:c,max:d}=this.constraints[l];o.set(zs(c,d,n[l]))})}addListeners(){if(!this.visualElement.current)return;yNe.set(this.visualElement,this);const t=this.visualElement.current,a=N1(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();$p(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,i=n.addEventListener("measure",s);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),Ds.read(s);const l=uv(window,"resize",()=>this.scalePositionWithinConstraints()),o=n.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(uc(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=c[u].translate,f.set(f.get()+c[u].translate))}),this.visualElement.render())}));return()=>{l(),a(),i(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:a=!1,dragDirectionLock:s=!1,dragPropagation:n=!1,dragConstraints:i=!1,dragElastic:l=wC,dragMomentum:o=!0}=t;return{...t,drag:a,dragDirectionLock:s,dragPropagation:n,dragConstraints:i,dragElastic:l,dragMomentum:o}}}function Yy(e,t,a){return(t===!0||t===e)&&(a===null||a===e)}function jNe(e,t=10){let a=null;return Math.abs(e.y)>t?a="y":Math.abs(e.x)>t&&(a="x"),a}class NNe extends Gf{constructor(t){super(t),this.removeGroupControls=vc,this.removeListeners=vc,this.controls=new wNe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vc}unmount(){this.removeGroupControls(),this.removeListeners()}}const zL=e=>(t,a)=>{e&&Ds.postRender(()=>e(t,a))};class SNe extends Gf{constructor(){super(...arguments),this.removePointerDownListener=vc}onPointerDown(t){this.session=new iq(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:nq(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:a,onPan:s,onPanEnd:n}=this.node.getProps();return{onSessionStart:zL(t),onStart:zL(a),onMove:s,onEnd:(i,l)=>{delete this.session,n&&Ds.postRender(()=>n(i,l))}}}mount(){this.removePointerDownListener=N1(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const R2={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function HL(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Rg={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Oa.test(e))e=parseFloat(e);else return e;const a=HL(e,t.target.x),s=HL(e,t.target.y);return`${a}% ${s}%`}},kNe={correct:(e,{treeScale:t,projectionDelta:a})=>{const s=e,n=Rf.parse(e);if(n.length>5)return s;const i=Rf.createTransformer(e),l=typeof n[0]!="number"?1:0,o=a.x.scale*t.x,c=a.y.scale*t.y;n[0+l]/=o,n[1+l]/=c;const d=zs(o,c,.5);return typeof n[2+l]=="number"&&(n[2+l]/=d),typeof n[3+l]=="number"&&(n[3+l]/=d),i(n)}};let Q5=!1;class CNe extends w.Component{componentDidMount(){const{visualElement:t,layoutGroup:a,switchLayoutGroup:s,layoutId:n}=this.props,{projection:i}=t;Kwe(ANe),i&&(a.group&&a.group.add(i),s&&s.register&&n&&s.register(i),Q5&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),R2.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:a,visualElement:s,drag:n,isPresent:i}=this.props,{projection:l}=s;return l&&(l.isPresent=i,Q5=!0,n||t.layoutDependency!==a||a===void 0||t.isPresent!==i?l.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?l.promote():l.relegate()||Ds.postRender(()=>{const o=l.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),A8.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:a,switchLayoutGroup:s}=this.props,{projection:n}=t;Q5=!0,n&&(n.scheduleCheckAfterUnmount(),a&&a.group&&a.group.remove(n),s&&s.deregister&&s.deregister(n))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function oq(e){const[t,a]=EW(),s=w.useContext(n8);return r.jsx(CNe,{...e,layoutGroup:s,switchLayoutGroup:w.useContext(zW),isPresent:t,safeToRemove:a})}const ANe={borderRadius:{...Rg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Rg,borderTopRightRadius:Rg,borderBottomLeftRadius:Rg,borderBottomRightRadius:Rg,boxShadow:kNe};function _Ne(e,t,a){const s=ul(e)?e:cx(e);return s.start(I8("",s,t,a)),s.animation}const TNe=(e,t)=>e.depth-t.depth;class ENe{constructor(){this.children=[],this.isDirty=!1}add(t){o8(this.children,t),this.isDirty=!0}remove(t){c8(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(TNe),this.isDirty=!1,this.children.forEach(t)}}function DNe(e,t){const a=Ql.now(),s=({timestamp:n})=>{const i=n-a;i>=t&&(Of(s),e(i-t))};return Ds.setup(s,!0),()=>Of(s)}const cq=["TopLeft","TopRight","BottomLeft","BottomRight"],MNe=cq.length,VL=e=>typeof e=="string"?parseFloat(e):e,WL=e=>typeof e=="number"||Oa.test(e);function PNe(e,t,a,s,n,i){n?(e.opacity=zs(0,a.opacity??1,LNe(s)),e.opacityExit=zs(t.opacity??1,0,ONe(s))):i&&(e.opacity=zs(t.opacity??1,a.opacity??1,s));for(let l=0;l<MNe;l++){const o=`border${cq[l]}Radius`;let c=qL(t,o),d=qL(a,o);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||WL(c)===WL(d)?(e[o]=Math.max(zs(VL(c),VL(d),s),0),(tu.test(d)||tu.test(c))&&(e[o]+="%")):e[o]=d}(t.rotate||a.rotate)&&(e.rotate=zs(t.rotate||0,a.rotate||0,s))}function qL(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const LNe=dq(0,.5,XV),ONe=dq(.5,.95,vc);function dq(e,t,a){return s=>s<e?0:s>t?1:a(iv(e,t,s))}function GL(e,t){e.min=t.min,e.max=t.max}function sc(e,t){GL(e.x,t.x),GL(e.y,t.y)}function KL(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function YL(e,t,a,s,n){return e-=t,e=yw(e,1/a,s),n!==void 0&&(e=yw(e,1/n,s)),e}function RNe(e,t=0,a=1,s=.5,n,i=e,l=e){if(tu.test(t)&&(t=parseFloat(t),t=zs(l.min,l.max,t/100)-l.min),typeof t!="number")return;let o=zs(i.min,i.max,s);e===i&&(o-=t),e.min=YL(e.min,t,a,o,n),e.max=YL(e.max,t,a,o,n)}function XL(e,t,[a,s,n],i,l){RNe(e,t[a],t[s],t[n],t.scale,i,l)}const FNe=["x","scaleX","originX"],INe=["y","scaleY","originY"];function JL(e,t,a,s){XL(e.x,t,FNe,a?a.x:void 0,s?s.x:void 0),XL(e.y,t,INe,a?a.y:void 0,s?s.y:void 0)}function QL(e){return e.translate===0&&e.scale===1}function uq(e){return QL(e.x)&&QL(e.y)}function ZL(e,t){return e.min===t.min&&e.max===t.max}function BNe(e,t){return ZL(e.x,t.x)&&ZL(e.y,t.y)}function eO(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function hq(e,t){return eO(e.x,t.x)&&eO(e.y,t.y)}function tO(e){return Dl(e.x)/Dl(e.y)}function aO(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class $Ne{constructor(){this.members=[]}add(t){o8(this.members,t),t.scheduleRender()}remove(t){if(c8(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(t){const a=this.members.findIndex(n=>t===n);if(a===0)return!1;let s;for(let n=a;n>=0;n--){const i=this.members[n];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(t,a){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,a&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:n}=t.options;n===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:a,resumingFrom:s}=t;a.onExitComplete&&a.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function UNe(e,t,a){let s="";const n=e.x.translate/t.x,i=e.y.translate/t.y,l=a?.z||0;if((n||i||l)&&(s=`translate3d(${n}px, ${i}px, ${l}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),a){const{transformPerspective:d,rotate:u,rotateX:f,rotateY:x,skewX:m,skewY:g}=a;d&&(s=`perspective(${d}px) ${s}`),u&&(s+=`rotate(${u}deg) `),f&&(s+=`rotateX(${f}deg) `),x&&(s+=`rotateY(${x}deg) `),m&&(s+=`skewX(${m}deg) `),g&&(s+=`skewY(${g}deg) `)}const o=e.x.scale*t.x,c=e.y.scale*t.y;return(o!==1||c!==1)&&(s+=`scale(${o}, ${c})`),s||"none"}const Z5=["","X","Y","Z"],zNe=1e3;let HNe=0;function e3(e,t,a,s){const{latestValues:n}=t;n[e]&&(a[e]=n[e],t.setStaticValue(e,0),s&&(s[e]=0))}function fq(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const a=QW(t);if(window.MotionHasOptimisedAnimation(a,"transform")){const{layout:n,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(a,"transform",Ds,!(n||i))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&fq(s)}function mq({attachResizeListener:e,defaultParent:t,measureScroll:a,checkIsScrollRoot:s,resetTransform:n}){return class{constructor(l={},o=t?.()){this.id=HNe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(qNe),this.nodes.forEach(XNe),this.nodes.forEach(JNe),this.nodes.forEach(GNe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new ENe)}addEventListener(l,o){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new h8),this.eventHandlers.get(l).add(o)}notifyListeners(l,...o){const c=this.eventHandlers.get(l);c&&c.notify(...o)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=TW(l)&&!Mwe(l),this.instance=l;const{layoutId:o,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||o)&&(this.isLayoutDirty=!0),e){let u,f=0;const x=()=>this.root.updateBlockedByResize=!1;Ds.read(()=>{f=window.innerWidth}),e(l,()=>{const m=window.innerWidth;m!==f&&(f=m,this.root.updateBlockedByResize=!0,u&&u(),u=DNe(x,250),R2.hasAnimatedSinceResize&&(R2.hasAnimatedSinceResize=!1,this.nodes.forEach(nO)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&d&&(o||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:x,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||a4e,{onLayoutAnimationStart:v,onLayoutAnimationComplete:b}=d.getProps(),j=!this.targetLayout||!hq(this.targetLayout,m),S=!f&&x;if(this.options.layoutRoot||this.resumeFrom||S||f&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...k8(g,"layout"),onPlay:v,onComplete:b};(d.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(u,S)}else f||nO(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Of(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(QNe),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&fq(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(rO);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(sO);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(YNe),this.nodes.forEach(VNe),this.nodes.forEach(WNe)):this.nodes.forEach(sO),this.clearAllSnapshots();const o=Ql.now();Bi.delta=dh(0,1e3/60,o-Bi.timestamp),Bi.timestamp=o,Bi.isProcessing=!0,z5.update.process(Bi),z5.preRender.process(Bi),z5.render.process(Bi),Bi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,A8.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(KNe),this.sharedNodes.forEach(ZNe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ds.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ds.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Dl(this.snapshot.measuredBox.x)&&!Dl(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=bn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(o=!1),o&&this.instance){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:c,offset:a(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!n)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!uq(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;l&&this.instance&&(o||E0(this.latestValues)||u)&&(n(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return l&&(c=this.removeTransform(c)),r4e(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return bn();const o=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(s4e))){const{scroll:d}=this.root;d&&(Up(o.x,d.offset.x),Up(o.y,d.offset.y))}return o}removeElementScroll(l){const o=bn();if(sc(o,l),this.scroll?.wasRoot)return o;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:u,options:f}=d;d!==this.root&&u&&f.layoutScroll&&(u.wasRoot&&sc(o,l),Up(o.x,u.offset.x),Up(o.y,u.offset.y))}return o}applyTransform(l,o=!1){const c=bn();sc(c,l);for(let d=0;d<this.path.length;d++){const u=this.path[d];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&zp(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),E0(u.latestValues)&&zp(c,u.latestValues)}return E0(this.latestValues)&&zp(c,this.latestValues),c}removeTransform(l){const o=bn();sc(o,l);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!E0(d.latestValues))continue;pC(d.latestValues)&&d.updateSnapshot();const u=bn(),f=d.measurePageBox();sc(u,f),JL(o,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return E0(this.latestValues)&&JL(o,this.latestValues),o}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Bi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==o;if(!(l||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!(!this.layout||!(u||f))){if(this.resolvedRelativeTargetAt=Bi.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bn(),this.relativeTargetOrigin=bn(),k1(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),sc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=bn(),this.targetWithTransforms=bn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),dNe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):sc(this.target,this.layout.layoutBox),qW(this.target,this.targetDelta)):sc(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bn(),this.relativeTargetOrigin=bn(),k1(this.relativeTargetOrigin,this.target,x.target),sc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||pC(this.parent.latestValues)||WW(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),o=!!this.resumingFrom||this!==l;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Bi.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;sc(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,x=this.treeScale.y;jje(this.layoutCorrected,this.treeScale,this.path,o),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=bn());const{target:m}=l;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(KL(this.prevProjectionDelta.x,this.projectionDelta.x),KL(this.prevProjectionDelta.y,this.projectionDelta.y)),S1(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==x||!aO(this.projectionDelta.x,this.prevProjectionDelta.x)||!aO(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Hp(),this.projectionDelta=Hp(),this.projectionDeltaWithTransform=Hp()}setAnimationOrigin(l,o=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},f=Hp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const x=bn(),m=c?c.source:void 0,g=this.layout?this.layout.source:void 0,v=m!==g,b=this.getStack(),j=!b||b.members.length<=1,S=!!(v&&!j&&this.options.crossfade===!0&&!this.path.some(t4e));this.animationProgress=0;let k;this.mixTargetDelta=N=>{const A=N/1e3;iO(f.x,l.x,A),iO(f.y,l.y,A),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(k1(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),e4e(this.relativeTarget,this.relativeTargetOrigin,x,A),k&&BNe(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=bn()),sc(k,this.relativeTarget)),v&&(this.animationValues=u,PNe(u,d,this.latestValues,A,S,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Of(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ds.update(()=>{R2.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=cx(0)),this.currentAnimation=_Ne(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:o=>{this.mixTargetDelta(o),l.onUpdate&&l.onUpdate(o)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(zNe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:o,target:c,layout:d,latestValues:u}=l;if(!(!o||!c||!d)){if(this!==l&&this.layout&&d&&pq(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||bn();const f=Dl(this.layout.layoutBox.x);c.x.min=l.target.x.min,c.x.max=c.x.min+f;const x=Dl(this.layout.layoutBox.y);c.y.min=l.target.y.min,c.y.max=c.y.min+x}sc(o,c),zp(o,u),S1(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(l,o){this.sharedNodes.has(l)||this.sharedNodes.set(l,new $Ne),this.sharedNodes.get(l).add(o);const d=o.options.initialPromotionConfig;o.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(o):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:o,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),l&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let o=!1;const{latestValues:c}=l;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const d={};c.z&&e3("z",l,d,this.animationValues);for(let u=0;u<Z5.length;u++)e3(`rotate${Z5[u]}`,l,d,this.animationValues),e3(`skew${Z5[u]}`,l,d,this.animationValues);l.render();for(const u in d)l.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);l.scheduleRender()}applyProjectionStyles(l,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=O2(o?.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=O2(o?.pointerEvents)||""),this.hasProjected&&!E0(this.latestValues)&&(l.transform=c?c({},""):"none",this.hasProjected=!1);return}l.visibility="";const u=d.animationValues||d.latestValues;this.applyTransformsToTarget();let f=UNe(this.projectionDeltaWithTransform,this.treeScale,u);c&&(f=c(u,f)),l.transform=f;const{x,y:m}=this.projectionDelta;l.transformOrigin=`${x.origin*100}% ${m.origin*100}% 0`,d.animationValues?l.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:l.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const g in dv){if(u[g]===void 0)continue;const{correct:v,applyTo:b,isCSSVariable:j}=dv[g],S=f==="none"?u[g]:v(u[g],d);if(b){const k=b.length;for(let N=0;N<k;N++)l[b[N]]=S}else j?this.options.visualElement.renderState.vars[g]=S:l[g]=S}this.options.layoutId&&(l.pointerEvents=d===this?O2(o?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(rO),this.root.sharedNodes.clear()}}}function VNe(e){e.updateLayout()}function WNe(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:s}=e.layout,{animationType:n}=e.options,i=t.source!==e.layout.source;n==="size"?uc(u=>{const f=i?t.measuredBox[u]:t.layoutBox[u],x=Dl(f);f.min=a[u].min,f.max=f.min+x}):pq(n,t.layoutBox,a)&&uc(u=>{const f=i?t.measuredBox[u]:t.layoutBox[u],x=Dl(a[u]);f.max=f.min+x,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[u].max=e.relativeTarget[u].min+x)});const l=Hp();S1(l,a,t.layoutBox);const o=Hp();i?S1(o,e.applyTransform(s,!0),t.measuredBox):S1(o,a,t.layoutBox);const c=!uq(l);let d=!1;if(!e.resumeFrom){const u=e.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:f,layout:x}=u;if(f&&x){const m=bn();k1(m,t.layoutBox,f.layoutBox);const g=bn();k1(g,a,x.layoutBox),hq(m,g)||(d=!0),u.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=m,e.relativeParent=u)}}}e.notifyListeners("didUpdate",{layout:a,snapshot:t,delta:o,layoutDelta:l,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:a}=e.options;a&&a()}e.options.transition=void 0}function qNe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function GNe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function KNe(e){e.clearSnapshot()}function rO(e){e.clearMeasurements()}function sO(e){e.isLayoutDirty=!1}function YNe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function nO(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function XNe(e){e.resolveTargetDelta()}function JNe(e){e.calcProjection()}function QNe(e){e.resetSkewAndRotation()}function ZNe(e){e.removeLeadSnapshot()}function iO(e,t,a){e.translate=zs(t.translate,0,a),e.scale=zs(t.scale,1,a),e.origin=t.origin,e.originPoint=t.originPoint}function lO(e,t,a,s){e.min=zs(t.min,a.min,s),e.max=zs(t.max,a.max,s)}function e4e(e,t,a,s){lO(e.x,t.x,a.x,s),lO(e.y,t.y,a.y,s)}function t4e(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const a4e={duration:.45,ease:[.4,0,.1,1]},oO=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),cO=oO("applewebkit/")&&!oO("chrome/")?Math.round:vc;function dO(e){e.min=cO(e.min),e.max=cO(e.max)}function r4e(e){dO(e.x),dO(e.y)}function pq(e,t,a){return e==="position"||e==="preserve-aspect"&&!cNe(tO(t),tO(a),.2)}function s4e(e){return e!==e.root&&e.scroll?.wasRoot}const n4e=mq({attachResizeListener:(e,t)=>uv(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),t3={current:void 0},xq=mq({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!t3.current){const e=new n4e({});e.mount(window),e.setOptions({layoutScroll:!0}),t3.current=e}return t3.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),i4e={pan:{Feature:SNe},drag:{Feature:NNe,ProjectionNode:xq,MeasureLayout:oq}};function uO(e,t,a){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",a==="Start");const n="onHover"+a,i=s[n];i&&Ds.postRender(()=>i(t,Qv(t)))}class l4e extends Gf{mount(){const{current:t}=this.node;t&&(this.unmount=Awe(t,(a,s)=>(uO(this.node,s,"Start"),n=>uO(this.node,n,"End"))))}unmount(){}}class o4e extends Gf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Yv(uv(this.node.current,"focus",()=>this.onFocus()),uv(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function hO(e,t,a){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",a==="Start");const n="onTap"+(a==="End"?"":a),i=s[n];i&&Ds.postRender(()=>i(t,Qv(t)))}class c4e extends Gf{mount(){const{current:t}=this.node;t&&(this.unmount=Dwe(t,(a,s)=>(hO(this.node,s,"Start"),(n,{success:i})=>hO(this.node,n,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const jC=new WeakMap,a3=new WeakMap,d4e=e=>{const t=jC.get(e.target);t&&t(e)},u4e=e=>{e.forEach(d4e)};function h4e({root:e,...t}){const a=e||document;a3.has(a)||a3.set(a,{});const s=a3.get(a),n=JSON.stringify(t);return s[n]||(s[n]=new IntersectionObserver(u4e,{root:e,...t})),s[n]}function f4e(e,t,a){const s=h4e(t);return jC.set(e,a),s.observe(e),()=>{jC.delete(e),s.unobserve(e)}}const m4e={some:0,all:1};class p4e extends Gf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:a,margin:s,amount:n="some",once:i}=t,l={root:a?a.current:void 0,rootMargin:s,threshold:typeof n=="number"?n:m4e[n]},o=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),x=d?u:f;x&&x(c)};return f4e(this.node.current,l,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:a}=this.node;["amount","margin","root"].some(x4e(t,a))&&this.startObserver()}unmount(){}}function x4e({viewport:e={}},{viewport:t={}}={}){return a=>e[a]!==t[a]}const g4e={inView:{Feature:p4e},tap:{Feature:c4e},focus:{Feature:o4e},hover:{Feature:l4e}},v4e={layout:{ProjectionNode:xq,MeasureLayout:oq}},b4e={...rNe,...g4e,...i4e,...v4e},nh=bje(b4e,Mje);function y4e(){const{t:e,i18n:t}=Dt();(t.language||"").toLowerCase();const[a,s]=w.useState(!1),[n,i]=w.useState([]),[l,o]=w.useState(""),[c,d]=w.useState("this_month");w.useEffect(()=>{(async()=>{try{s(!0);const _=await ya.get("/api/tickets",{params:{limit:500}}),D=Array.isArray(_.data?.items)?_.data.items:Array.isArray(_.data)?_.data:[];i(D)}catch(_){console.warn("support_dashboard_load_failed",_),o(e("Failed to load tickets"))}finally{s(!1)}})()},[]);const u=w.useMemo(()=>{const A=new Date,_=new Date(A);_.setDate(A.getDate()-A.getDay());const D=new Date(A.getFullYear(),A.getMonth(),1),P=new Date(A.getFullYear(),A.getMonth()-1,1),I=new Date(A.getFullYear(),A.getMonth(),0),B=O=>{const U=new Date(O);return c==="this_week"?U>=_:c==="this_month"?U>=D:c==="last_month"?U>=P&&U<=I:!0};return n.filter(O=>O.createdAt&&B(O.createdAt))},[n,c]),f=w.useMemo(()=>{const A=new Date,_=new Date(A);_.setDate(A.getDate()-A.getDay()),new Date(A.getFullYear(),A.getMonth(),1);const D=new Date(A.getFullYear(),A.getMonth()-1,1),P=new Date(A.getFullYear(),A.getMonth(),0);let I,B;if(c==="this_week")B=_,I=new Date(_),I.setDate(I.getDate()-7);else if(c==="this_month")I=D,B=P;else if(c==="last_month"){const O=new Date(A.getFullYear(),A.getMonth()-2,1),U=new Date(A.getFullYear(),A.getMonth()-1,0);I=O,B=U}else return[];return n.filter(O=>O.createdAt&&new Date(O.createdAt)>=I&&new Date(O.createdAt)<=B)},[n,c]),x=A=>{const _=A.length,D=re=>A.filter(oe=>String(oe.status)===String(re)).length,P=D("Open"),I=D("In Progress"),B=D("Escalated"),O=D("Closed"),U=A.filter(re=>re.slaDeadline&&(!re.status||re.status!=="Closed")&&new Date(re.slaDeadline)<new Date).length,E=A.filter(re=>re.status==="Closed"&&re.updatedAt&&re.createdAt),R=E.length>0?Math.round(E.reduce((re,oe)=>{const q=(new Date(oe.updatedAt)-new Date(oe.createdAt))/36e5;return re+Math.max(0,q)},0)/E.length):80,K=_>0?Math.round(O/_*100):0,Z=Object.fromEntries(["Low","Medium","High","Urgent"].map(re=>[re,A.filter(oe=>oe.priority===re).length])),ee=Object.fromEntries(["Email","Phone","Customer Portal","WhatsApp","Social Media"].map(re=>[re,A.filter(oe=>oe.channel===re).length])),le=Object.fromEntries(["Complaint","Inquiry","Request"].map(re=>[re,A.filter(oe=>oe.type===re).length])),M=A.filter(re=>re.status==="Closed"),X=M.filter(re=>re.slaDeadline&&re.updatedAt&&new Date(re.updatedAt)<=new Date(re.slaDeadline)).length,z=M.length>0?Math.round(X/M.length*100):92,Q=new Map;A.forEach(re=>{const oe=re.assignedAgent||e("Unassigned"),q=Q.get(oe)||{name:oe,closed:0,total:0};q.total+=1,re.status==="Closed"&&(q.closed+=1),Q.set(oe,q)});const ne=Array.from(Q.values()).map(re=>({agent:re.name,ticketsClosed:re.closed,avgResponse:"",satisfaction:""}));return{total:_,open:P,inProgress:I,escalated:B,closed:O,overdue:U,avgResolutionHours:R,resolutionRate:K,priorityCounts:Z,channelCounts:ee,typeCounts:le,slaOnTimePct:z,teamRows:ne}},m=w.useMemo(()=>x(u),[u]),g=w.useMemo(()=>x(f),[f]),v=(A,_)=>!_||_===0?A?100:0:Math.round((A-_)/_*100),b=(A,_=()=>!0,D=8)=>{if(!A.length)return new Array(D).fill(0);const P=A.map(E=>new Date(E.createdAt)).sort((E,R)=>E-R),I=P[0],O=P[P.length-1]-I||1,U=new Array(D).fill(0);return A.forEach(E=>{if(!_(E))return;const R=new Date(E.createdAt),K=Math.min(D-1,Math.max(0,Math.floor((R-I)/O*D)));U[K]+=1}),U.every(E=>E===0)?new Array(D).fill(0).map((E,R)=>R||0):U},j=w.useMemo(()=>b(u),[u]),S=w.useMemo(()=>b(u,A=>A.status==="Open"),[u]),k=w.useMemo(()=>b(u,A=>A.status==="Closed"),[u]),N=w.useMemo(()=>{const A=Object.values(m.channelCounts||{});return Math.max(1,...A.length?A:[1])},[m]);return r.jsxs(aa,{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h1",{className:"text-xl font-bold",children:e("Customer Service Dashboard")}),r.jsx("div",{className:"flex items-center gap-2 text-sm",children:r.jsxs("select",{value:c,onChange:A=>d(A.target.value),className:"px-3 py-1 rounded glass-panel bg-transparent",children:[r.jsx("option",{value:"this_month",children:e("This Month")}),r.jsx("option",{value:"this_week",children:e("This Week")}),r.jsx("option",{value:"last_month",children:e("Last Month")}),r.jsx("option",{value:"all",children:e("All")})]})})]}),r.jsx(Uwe,{mode:"wait",children:r.jsxs(nh.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.22},children:[a?r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3 mb-4",children:Array.from({length:6}).map((A,_)=>r.jsxs("div",{className:"glass-panel p-3",children:[r.jsx("div",{className:"skeleton-line h-3 w-24 mb-2"}),r.jsx("div",{className:"skeleton-line h-6 w-16"})]},_))}):r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3 mb-4",children:[r.jsx(Fg,{title:e("Total Tickets"),value:m.total,delta:v(m.total,g.total),series:j,color:"emerald"}),r.jsx(Fg,{title:e("Open"),value:m.open,delta:v(m.open,g.open),series:S,color:"emerald",dotColor:"amber"}),r.jsx(j4e,{overdue:m.overdue}),r.jsx(Fg,{title:e("Average Resolution Time"),value:m.avgResolutionHours,suffix:"h",delta:v(m.avgResolutionHours,g.avgResolutionHours),series:k,color:"emerald"}),r.jsx(Fg,{title:e("Resolution Rate"),value:m.resolutionRate,suffix:"%",delta:v(m.resolutionRate,g.resolutionRate),series:k,color:"rose"}),r.jsx(Fg,{title:e("Reopened Tickets"),value:m.escalated,delta:v(m.escalated,g.escalated),series:S,color:"emerald"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a?r.jsxs("div",{className:"glass-panel p-4",children:[r.jsx("div",{className:"skeleton-line h-4 w-40 mb-3"}),r.jsx("div",{className:"skeleton-circle h-40 w-40 mx-auto"})]}):r.jsxs("div",{className:"glass-panel p-4 cm-anim transition-transform hover:translate-y-[1px]",children:[r.jsx("div",{className:"text-sm font-medium mb-2",children:e("Tickets by Priority")}),r.jsx(Zn,{segments:[{label:e("High"),value:m.priorityCounts.High,color:"#ef4444"},{label:e("Medium"),value:m.priorityCounts.Medium,color:"#f59e0b"},{label:e("Low"),value:m.priorityCounts.Low,color:"#10b981"},{label:e("Urgent"),value:m.priorityCounts.Urgent,color:"#fb7185"}],size:180,centerLabel:e("Total"),centerValue:m.total,animateCenterCountUp:!0,borderRadius:8})]}),a?r.jsxs("div",{className:"glass-panel p-4",children:[r.jsx("div",{className:"skeleton-line h-4 w-40 mb-3"}),r.jsx("div",{className:"space-y-2",children:Array.from({length:5}).map((A,_)=>r.jsx("div",{className:"skeleton-line h-3 w-full"},_))})]}):r.jsxs("div",{className:"glass-panel p-4 cm-anim delay-200 transition-transform hover:translate-y-[1px]",children:[r.jsx("div",{className:"text-sm font-medium mb-2",children:e("Tickets by Channel")}),r.jsx("div",{className:"space-y-2",children:Object.entries(m.channelCounts).map(([A,_])=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-28 text-xs opacity-80",children:e(A)}),r.jsx("div",{className:"flex-1 h-3 rounded bg-white/10",children:r.jsx("div",{className:"h-3 rounded transition-all bar-gradient-fill-emerald bar-wave",style:{width:`${Math.round(_/N*100)}%`}})}),r.jsx("div",{className:"w-8 text-xs opacity-70 text-right",children:_})]},A))})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mt-4",children:[a?r.jsxs("div",{className:"glass-panel p-4 animate-pulse",children:[r.jsx("div",{className:"h-4 w-40 bg-gray-200 dark:bg-gray-700 rounded mb-3"}),r.jsx("div",{className:"space-y-2",children:Array.from({length:3}).map((A,_)=>r.jsx("div",{className:"h-3 w-32 bg-gray-200 dark:bg-gray-700 rounded"},_))})]}):r.jsxs("div",{className:"glass-panel p-4 cm-anim transition-transform hover:translate-y-[1px]",children:[r.jsx("div",{className:"text-sm font-medium mb-2",children:e("Top Contact Reasons")}),r.jsx("ul",{className:"text-sm opacity-80 space-y-1",children:Object.entries(m.typeCounts).map(([A,_])=>r.jsxs("li",{children:[e(A),"  ",_]},A))})]}),a?r.jsxs("div",{className:"glass-panel p-4",children:[r.jsx("div",{className:"skeleton-line h-4 w-40 mb-3"}),r.jsx("div",{className:"skeleton-circle h-40 w-40 mx-auto"})]}):r.jsxs("div",{className:"glass-panel p-4 cm-anim delay-200 transition-transform hover:translate-y-[1px]",children:[r.jsx("div",{className:"text-sm font-medium mb-2",children:e("SLA Contact Reasons")}),r.jsx(Zn,{percentage:m.slaOnTimePct,centerValue:m.slaOnTimePct,centerValueSuffix:"%",centerLabel:e("On-time"),size:180,animateCenterCountUp:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mt-4",children:[r.jsxs("div",{className:"glass-panel p-4 cm-anim transition-transform hover:translate-y-[1px]",children:[r.jsx("div",{className:"text-sm font-medium mb-2",children:e("Customer Satisfaction")}),r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{children:""}),r.jsx("span",{className:"text-xl font-semibold",children:"4.6/5"})]}),r.jsx("div",{className:"space-y-2",children:[{label:e("Positive"),pct:85},{label:e("Neutral"),pct:10},{label:e("Negative"),pct:5}].map(({label:A,pct:_})=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-24 text-xs opacity-80",children:A}),r.jsx("div",{className:"flex-1 h-3 rounded bg-white/10",children:r.jsx("div",{className:"h-3 rounded transition-all bar-gradient-fill-emerald bar-wave",style:{width:`${_}%`}})}),r.jsxs("div",{className:"w-10 text-xs opacity-70 text-right",children:[_,"%"]})]},A))})]}),r.jsxs("div",{className:"glass-panel p-4 cm-anim delay-200 transition-transform hover:translate-y-[1px]",children:[r.jsx("div",{className:"text-sm font-medium mb-2",children:e("Avg Response Time")}),r.jsx("div",{className:"space-y-2",children:[{label:e("Email"),val:30},{label:e("Phone"),val:3},{label:e("Live Chat"),val:1}].map(({label:A,val:_})=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-28 text-xs opacity-80",children:A}),r.jsx("div",{className:"flex-1 h-3 rounded bg-white/10",children:r.jsx("div",{className:"h-3 rounded transition-all bar-gradient-fill-blue bar-wave",style:{width:`${Math.min(100,_/30*100)}%`}})}),r.jsxs("div",{className:"w-16 text-xs opacity-70 text-right",children:[_,"m"]})]},A))})]})]}),r.jsxs("div",{className:"glass-panel p-4 mt-4",children:[r.jsx("div",{className:"text-sm font-medium mb-3",children:e("Team Performance")}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm nova-table",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left bg-[var(--table-header-bg)]",children:[r.jsx("th",{className:"px-3 py-2",children:e("Agent")}),r.jsx("th",{className:"px-3 py-2",children:e("Tickets Closed")}),r.jsx("th",{className:"px-3 py-2",children:e("Avg. Response Time")}),r.jsx("th",{className:"px-3 py-2",children:e("Satisfaction")})]})}),r.jsxs("tbody",{children:[m.teamRows.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:4,className:"px-3 py-6 text-center text-[var(--muted-text)]",children:e(a?"Loading...":"No data")})}),m.teamRows.map((A,_)=>r.jsxs("tr",{className:"border-t border-[var(--table-row-border)] odd:bg-[var(--table-row-bg)] hover:bg-[var(--table-row-hover)] transition-colors",children:[r.jsx("td",{className:"px-3 py-2",children:A.agent}),r.jsx("td",{className:"px-3 py-2",children:A.ticketsClosed}),r.jsx("td",{className:"px-3 py-2",children:A.avgResponse}),r.jsx("td",{className:"px-3 py-2",children:A.satisfaction})]},_))]})]})})]}),l&&r.jsx("div",{className:"mt-3 text-xs text-rose-400",children:l})]},c)})]})}function w4e({data:e=[],color:t="emerald"}){const i=Math.min(...e,0),o=Math.max(...e,1)-i||1,c=74/Math.max(1,e.length-1),d=e.map((f,x)=>{const m=3+x*c,g=33-(f-i)/o*30;return`${m},${g}`}).join(" "),u=t==="emerald"?"#10b981":t==="rose"?"#ef4444":"#94a3b8";return r.jsx("svg",{width:80,height:36,viewBox:"0 0 80 36",className:"opacity-70",children:r.jsx("polyline",{fill:"none",stroke:u,strokeWidth:"2",points:d})})}function Fg({title:e,value:t,suffix:a,delta:s,series:n,color:i="emerald",dotColor:l}){const o=s>=0?"text-emerald-600":"text-rose-600";return r.jsxs("div",{className:"glass-panel p-3 cm-anim transition-transform hover:translate-y-[1px]",children:[r.jsxs("div",{className:"text-xs opacity-80 flex items-center gap-2",children:[l&&r.jsx("span",{className:`inline-block h-2 w-2 rounded-full bg-${l}-400`}),r.jsx("span",{children:e})]}),r.jsxs("div",{className:"text-2xl font-semibold flex items-baseline gap-1 mt-1",children:[r.jsx(gq,{value:typeof t=="number"?t:0}),a&&r.jsx("span",{className:"text-xs opacity-70",children:a})]}),Array.isArray(n)&&n.length>1&&r.jsx("div",{className:"mt-1",children:r.jsx(w4e,{data:n,color:i})}),r.jsx("div",{className:`text-[11px] mt-1 ${o}`,children:s>=0?`+${s}%`:`${s}%`})]})}function j4e({overdue:e}){return r.jsxs("div",{className:"glass-panel p-3 cm-anim transition-transform hover:translate-y-[1px]",children:[r.jsxs("div",{className:"text-xs opacity-80 flex items-center gap-2",children:[r.jsx("span",{className:"text-base leading-none",children:""}),r.jsx("span",{children:"Alerts"})]}),r.jsx("div",{className:"text-2xl font-semibold flex items-baseline gap-1 mt-1",children:r.jsx(gq,{value:typeof e=="number"?e:0})}),r.jsx("div",{className:"text-[11px] mt-1 opacity-80",children:e>50?"Overdue tickets > 50 (Critical)":"Overdue tickets  50"})]})}function gq({value:e,duration:t=600}){const[a,s]=w.useState(e),n=w.useRef(e);return w.useEffect(()=>{const i=n.current,l=e;n.current=l;const o=performance.now(),c=d=>{const u=Math.min(1,(d-o)/t),f=Math.round(i+(l-i)*u);s(f),u<1&&requestAnimationFrame(c)};requestAnimationFrame(c)},[e,t]),r.jsx("span",{children:a})}function N4e(){const{t:e}=Dt(),t=["Open","In Progress","Escalated","Closed"],a=["Low","Medium","High","Urgent"],s=["Complaint","Inquiry","Request"],n=["Email","Phone","WhatsApp","Customer Portal","Social Media"],[i,l]=w.useState(!1),[o,c]=w.useState([]),[d,u]=w.useState(""),[f,x]=w.useState(""),[m,g]=w.useState(!1),[v,b]=w.useState({customerId:"",subject:"",description:"",type:s[1],priority:"Low",status:"Open",channel:"Email",contactPhone:"",contactEmail:"",contactWhatsapp:"",assignedAgent:"",slaDeadline:"",resolutionNotes:"",attachments:[]}),[j,S]=w.useState(""),[k,N]=w.useState([]),[A,_]=w.useState(!1),D=R=>{if(!R?.slaDeadline||String(R.status)==="Closed")return!1;try{return new Date(R.slaDeadline)<new Date}catch{return!1}},P=async()=>{try{l(!0);const R={};d&&(R.status=d),f&&(R.q=f);const K=await ya.get("/api/tickets",{params:R});c(Array.isArray(K.data?.items)?K.data.items:[])}catch(R){console.warn("tickets_load_failed",R)}finally{l(!1)}};w.useEffect(()=>{P()},[d]);const I=async()=>{try{_(!0);const R=await ya.get("/api/customers",{params:{q:j,limit:10}});N(Array.isArray(R.data?.items)?R.data.items:[])}catch(R){console.warn("customers_load_failed",R)}finally{_(!1)}};w.useEffect(()=>{I()},[j]);const B=R=>b(K=>({...K,customerId:R})),O=(R,K)=>b(V=>({...V,[R]:K})),U=async R=>{if(R)try{const V=await(ee=>new Promise((W,le)=>{const M=new FileReader;M.onload=()=>W(M.result),M.onerror=le,M.readAsDataURL(ee)}))(R),J=(await ya.post("/api/uploads/base64",{fileName:R.name,dataUrl:V})).data?.url;J&&b(ee=>({...ee,attachments:[...ee.attachments,J]}))}catch(K){console.warn("upload_failed",K)}},E=async R=>{R.preventDefault();try{const K={...v};if(K.slaDeadline)try{K.slaDeadline=new Date(K.slaDeadline).toISOString()}catch{}const Z=(await ya.post("/api/tickets",K)).data?.item;Z&&c(J=>[Z,...J]),g(!1),b({customerId:"",subject:"",description:"",type:s[1],priority:"Low",status:"Open",channel:"Email",contactPhone:"",contactEmail:"",contactWhatsapp:"",assignedAgent:"",slaDeadline:"",resolutionNotes:"",attachments:[]})}catch(K){console.warn("create_failed",K)}};return r.jsxs(aa,{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h1",{className:"text-xl font-bold",children:e("Tickets")}),r.jsx("button",{className:"btn btn-primary",onClick:()=>g(!0),children:e("Create New Ticket")})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:[r.jsx("input",{value:f,onChange:R=>x(R.target.value),onKeyDown:R=>R.key==="Enter"?P():null,placeholder:e("Search tickets..."),className:"px-3 py-1 rounded bg-white/5 border border-white/10 text-sm"}),t.map(R=>r.jsx("button",{onClick:()=>u(K=>K===R?"":R),className:`px-3 py-1 rounded text-sm ${d===R?"bg-blue-600":"bg-white/10 dark:bg-gray-800/40"}`,children:e(R)},R)),r.jsx("button",{onClick:P,className:"px-3 py-1 rounded bg-white/10 text-sm",children:e("Apply")})]}),r.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left opacity-70",children:[r.jsx("th",{className:"py-2",children:e("ID")}),r.jsx("th",{className:"py-2",children:e("Customer")}),r.jsx("th",{className:"py-2",children:e("Subject")}),r.jsx("th",{className:"py-2",children:e("Agent")}),r.jsx("th",{className:"py-2",children:e("Type")}),r.jsx("th",{className:"py-2",children:e("Priority")}),r.jsx("th",{className:"py-2",children:e("Status")}),r.jsx("th",{className:"py-2",children:e("Channel")}),r.jsx("th",{className:"py-2",children:e("SLA")})]})}),r.jsx("tbody",{children:o.map(R=>r.jsxs("tr",{className:"border-t border-white/10",children:[r.jsx("td",{className:"py-2",children:String(R.ticketNumber||R.id).slice(0,12)}),r.jsx("td",{className:"py-2",children:R.customerId?R.customerId:"-"}),r.jsx("td",{className:"py-2",children:R.subject}),r.jsx("td",{className:"py-2",children:R.assignedAgent||"-"}),r.jsx("td",{className:"py-2",children:R.type}),r.jsx("td",{className:"py-2",children:R.priority}),r.jsx("td",{className:"py-2",children:R.status}),r.jsx("td",{className:"py-2",children:R.channel}),r.jsx("td",{className:`py-2 ${D(R)?"text-red-500":""}`,children:R.slaDeadline?new Date(R.slaDeadline).toLocaleString():"-"})]},R.id))})]}),i&&r.jsx("div",{className:"mt-3 text-sm opacity-70",children:e("Loading...")})]}),m&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex justify-center items-start",style:{paddingTop:"80px"},children:r.jsxs("div",{className:"bg-gray-900 p-4 sm:p-6 rounded w-full max-w-2xl max-h-[80vh] overflow-auto sidebar-scrollbar",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h2",{className:"text-lg font-semibold",children:e("Create New Ticket")}),r.jsx("button",{onClick:()=>g(!1),className:"px-3 py-1 rounded bg-white/10",children:e("Close")})]}),r.jsxs("form",{onSubmit:E,className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[r.jsxs("div",{className:"sm:col-span-2",children:[r.jsx("label",{className:"block text-sm mb-1",children:e("Customer")}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{value:j,onChange:R=>S(R.target.value),placeholder:e("Search customers..."),className:"flex-1 px-3 py-2 rounded bg-white/5 border border-white/10"}),r.jsxs(Xa,{value:v.customerId,onChange:R=>B(R),className:"px-3 py-2",children:[r.jsx("option",{value:"",children:e("Select")}),k.map(R=>r.jsxs("option",{value:R.id,children:[R.name,"  ",R.phone]},R.id))]})]}),A&&r.jsx("div",{className:"text-xs mt-1 opacity-70",children:e("Loading customers...")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:e("Subject")}),r.jsx("input",{value:v.subject,onChange:R=>O("subject",R.target.value),className:"w-full px-3 py-2 rounded bg-white/5 border border-white/10"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:e("Type")}),r.jsx(Xa,{value:v.type,onChange:R=>O("type",R),children:s.map(R=>r.jsx("option",{value:R,children:e(R)},R))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:e("Priority")}),r.jsx(Xa,{value:v.priority,onChange:R=>O("priority",R),children:a.map(R=>r.jsx("option",{value:R,children:e(R)},R))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:e("Status")}),r.jsx(Xa,{value:v.status,onChange:R=>O("status",R),children:t.map(R=>r.jsx("option",{value:R,children:e(R)},R))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:e("Channel")}),r.jsx(Xa,{value:v.channel,onChange:R=>O("channel",R),children:n.map(R=>r.jsx("option",{value:R,children:e(R)},R))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:e("Assigned To")}),r.jsx("input",{value:v.assignedAgent,onChange:R=>O("assignedAgent",R.target.value),className:"w-full px-3 py-2 rounded bg-white/5 border border-white/10"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:e("Contact Phone")}),r.jsx("input",{value:v.contactPhone,onChange:R=>O("contactPhone",R.target.value),className:"w-full px-3 py-2 rounded bg-white/5 border border-white/10"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:e("Contact Email")}),r.jsx("input",{value:v.contactEmail,onChange:R=>O("contactEmail",R.target.value),className:"w-full px-3 py-2 rounded bg-white/5 border border-white/10"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:e("WhatsApp")}),r.jsx("input",{value:v.contactWhatsapp,onChange:R=>O("contactWhatsapp",R.target.value),className:"w-full px-3 py-2 rounded bg-white/5 border border-white/10"})]}),r.jsxs("div",{className:"sm:col-span-2",children:[r.jsx("label",{className:"block text-sm mb-1",children:e("Description")}),r.jsx("textarea",{value:v.description,onChange:R=>O("description",R.target.value),rows:4,className:"w-full px-3 py-2 rounded bg-white/5 border border-white/10"})]}),r.jsxs("div",{className:"sm:col-span-2",children:[r.jsx("label",{className:"block text-sm mb-1",children:e("SLA Deadline")}),r.jsx("input",{type:"datetime-local",value:v.slaDeadline,onChange:R=>O("slaDeadline",R.target.value),className:"w-full px-3 py-2 rounded bg-white/5 border border-white/10"})]}),r.jsxs("div",{className:"sm:col-span-2",children:[r.jsx("label",{className:"block text-sm mb-1",children:e("Resolution Notes")}),r.jsx("textarea",{value:v.resolutionNotes,onChange:R=>O("resolutionNotes",R.target.value),rows:3,className:"w-full px-3 py-2 rounded bg-white/5 border border-white/10"})]}),r.jsxs("div",{className:"sm:col-span-2",children:[r.jsx("label",{className:"block text-sm mb-1",children:e("Attachments")}),r.jsx("input",{type:"file",onChange:R=>U(R.target.files?.[0]),className:"w-full"}),!!v.attachments.length&&r.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:v.attachments.map(R=>r.jsx("a",{href:R,target:"_blank",rel:"noreferrer",className:"text-blue-400 underline text-xs",children:R},R))})]}),r.jsxs("div",{className:"sm:col-span-2 flex justify-end gap-2 mt-2",children:[r.jsx("button",{type:"button",onClick:()=>g(!1),className:"px-4 py-2 rounded bg-white/10",children:e("Cancel")}),r.jsx("button",{type:"submit",className:"px-4 py-2 rounded bg-blue-600",children:e("Create")})]})]})]})})]})}function S4e(){const{t:e}=Dt(),[t,a]=w.useState(!1),[s,n]=w.useState([]),[i,l]=w.useState([]),[o,c]=w.useState(""),d=async()=>{try{a(!0);const[m,g]=await Promise.all([ya.get("/api/customers",{params:{limit:500}}),ya.get("/api/tickets",{params:{limit:1e3}})]);n(Array.isArray(m.data?.items)?m.data.items:[]),l(Array.isArray(g.data?.items)?g.data.items:[])}catch(m){console.warn("customers_load_failed",m)}finally{a(!1)}};w.useEffect(()=>{d()},[]);const u=w.useMemo(()=>{if(!o)return s;const m=String(o).toLowerCase();return s.filter(g=>String(g.name||"").toLowerCase().includes(m)||String(g.phone||"").toLowerCase().includes(m)||String(g.email||"").toLowerCase().includes(m)||String(g.companyName||"").toLowerCase().includes(m))},[s,o]),f=w.useMemo(()=>{const m=new Map;return i.forEach(g=>{const v=String(g.customerId||"");if(!v)return;const b=m.get(v)||[];b.push(g),m.set(v,b)}),u.map(g=>{const v=m.get(String(g.id))||[],b=v.length?v[0]:null;return{id:g.id,name:g.name,company:g.type==="Company"&&g.companyName||"-",contactPhone:g.phone||"-",contactEmail:g.email||"-",products:Array.isArray(g.tags)?g.tags:[],ticketsCount:v.length,lastTicket:b}})},[u,i]),x=({text:m})=>r.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs bg-white/10 dark:bg-gray-800/40 border border-white/10 mr-1 mb-1",children:m});return r.jsxs(aa,{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h1",{className:"text-xl font-bold",children:e("Customers")}),r.jsxs("div",{className:"flex gap-2 items-center",children:[r.jsx("input",{value:o,onChange:m=>c(m.target.value),placeholder:e("Search customers..."),className:"px-3 py-2 rounded bg-white/5 border border-white/10 text-sm w-64"}),r.jsx("button",{onClick:d,className:"px-3 py-2 rounded bg-white/10 text-sm",children:e("Refresh")})]})]}),r.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left opacity-70",children:[r.jsx("th",{className:"py-2",children:e("Customer ID")}),r.jsx("th",{className:"py-2",children:e("Name")}),r.jsx("th",{className:"py-2",children:e("Company")}),r.jsx("th",{className:"py-2",children:e("Contact Info")}),r.jsx("th",{className:"py-2",children:e("Active Contracts / Products Owned")}),r.jsx("th",{className:"py-2",children:e("Previous Tickets History")})]})}),r.jsxs("tbody",{children:[t&&[...Array(6)].map((m,g)=>r.jsxs("tr",{className:"border-t border-white/10",children:[r.jsx("td",{className:"py-3",children:r.jsx("div",{className:"skeleton-line h-4 w-24"})}),r.jsx("td",{className:"py-3",children:r.jsx("div",{className:"skeleton-line h-4 w-32"})}),r.jsx("td",{className:"py-3",children:r.jsx("div",{className:"skeleton-line h-4 w-28"})}),r.jsx("td",{className:"py-3",children:r.jsx("div",{className:"skeleton-line h-4 w-48"})}),r.jsx("td",{className:"py-3",children:r.jsx("div",{className:"skeleton-block h-6 w-64"})}),r.jsx("td",{className:"py-3",children:r.jsx("div",{className:"skeleton-line h-4 w-40"})})]},`s-${g}`)),!t&&f.map(m=>r.jsxs("tr",{className:"border-t border-white/10",children:[r.jsx("td",{className:"py-2",children:String(m.id).slice(0,12)}),r.jsx("td",{className:"py-2",children:m.name}),r.jsx("td",{className:"py-2",children:m.company||"-"}),r.jsxs("td",{className:"py-2",children:[r.jsxs("div",{className:"opacity-80",children:[e("Phone"),": ",m.contactPhone||"-"]}),r.jsxs("div",{className:"opacity-80",children:[e("Email"),": ",m.contactEmail||"-"]})]}),r.jsx("td",{className:"py-2",children:Array.isArray(m.products)&&m.products.length?r.jsx("div",{className:"flex flex-wrap",children:m.products.map((g,v)=>r.jsx(x,{text:g},v))}):r.jsx("span",{className:"opacity-60",children:"-"})}),r.jsxs("td",{className:"py-2",children:[r.jsxs("div",{className:"opacity-90",children:[e("Total"),": ",m.ticketsCount]}),m.lastTicket?r.jsxs("div",{className:"opacity-70",children:[e("Last"),": ",m.lastTicket.status,"  ",m.lastTicket.subject]}):r.jsx("div",{className:"opacity-70",children:e("No previous tickets")})]})]},m.id))]})]}),!t&&f.length===0&&r.jsx("div",{className:"mt-3 text-sm opacity-70",children:e("No customers found")})]})]})}const fO=["Complaint","Inquiry","Request","VIP Support","Technical Issue"],r3=["Low","Medium","High","Urgent"];function k4e(){const{t:e,i18n:t}=Dt(),a=String(t.language||"").startsWith("en"),s={title:a?"SLA Management":"    (SLA)",add:a?"Add SLA":" SLA",search:a?"Search...":"...",typeAll:a?"Service Type (All)":"  ()",statusAll:a?"Status (All)":" ()",enabled:a?"Enabled":"",disabled:a?"Disabled":"",name:a?"Name":"",serviceType:a?"Service Type":" ",responseTime:a?"Response Time":" ",resolutionTime:a?"Resolution Time (by Priority)":"  ( )",appliesTo:a?"Applies To":" ",status:a?"Status":"",actions:a?"Actions":"",edit:a?"Edit":"",del:a?"Delete":"",none:a?"No SLAs found":"   SLA ",responseCompliance:a?"Response Compliance":" ",resolutionCompliance:a?"Resolution Compliance":" ",issues:a?"issues":"",hours:a?"hours":"",unitMinutes:a?"Minutes":"",unitHours:a?"Hours":"",unitDays:a?"Days":"",cancel:a?"Cancel":"",save:a?"Save":"",editTitle:a?"Edit SLA":" SLA",addTitle:a?"Add SLA":" SLA",loading:a?"Loading...":" ...",customerCategory:a?"Customer Category":" ",plan:a?"Plan":" ",specificCustomers:a?"Specific customers":" "},[n,i]=w.useState(!0),[l,o]=w.useState([]),[c,d]=w.useState(""),[u,f]=w.useState(""),[x,m]=w.useState(""),[g,v]=w.useState(!1),[b,j]=w.useState(null),[S,k]=w.useState({name:"",serviceType:"Inquiry",responseValue:2,responseUnit:"hours",resolution:{Low:24,Medium:24,High:12,Urgent:6},escalation:{onResponseBreach:[],onResolutionBreach:["NotifyManager"],escalateToRole:""},appliesTo:{customerCategory:"",customerIds:[],plan:""},active:!0}),[N,A]=w.useState([]),[_,D]=w.useState(""),[P,I]=w.useState(""),B=W=>{if(!W)return null;const le=String(W).trim().replaceAll(".","/").replaceAll("-","/").replace(/\s+/g,""),M=le.split("/");let X;if(M.length===3){const z=Number(M[0]),Q=Number(M[1]),ne=Number(M[2]),re=ne<100?2e3+ne:ne;z>31?X=new Date(z,Q-1,re):(X=new Date(re,z-1,Q),isNaN(X?.getTime())&&(X=new Date(re,Q-1,z)))}else X=new Date(le);return isNaN(X?.getTime())?null:X},O=w.useMemo(()=>{const W=Number(S.responseValue||0),le=S.responseUnit;return!W||W<=0?0:le==="minutes"?W:le==="hours"?W*60:le==="days"?W*60*24:W},[S.responseValue,S.responseUnit]),U=async()=>{i(!0);try{const W=await ya.get("/api/slas",{params:{q:c,serviceType:u,active:x}}),le=await ya.get("/api/tickets",{params:{type:u||void 0}});o(W.data.items||W.data.items?.items||W.data.items),A(le.data.items&&le.data.items.items?le.data.items.items:le.data.items||[])}catch(W){console.error("Failed to load SLAs",W)}finally{i(!1)}};w.useEffect(()=>{U()},[c,u,x]);const E=()=>{j(null),k({name:"",serviceType:"Inquiry",responseValue:2,responseUnit:"hours",resolution:{Low:24,Medium:24,High:12,Urgent:6},escalation:{onResponseBreach:[],onResolutionBreach:["NotifyManager"],escalateToRole:""},appliesTo:{customerCategory:"",customerIds:[],plan:""},active:!0}),v(!0)},R=W=>{j(W),k({name:W.name||"",serviceType:W.serviceType||"Inquiry",responseValue:2,responseUnit:"hours",resolution:{Low:W.resolutionMinutesByPriority?.Low?Math.round(W.resolutionMinutesByPriority.Low/60):24,Medium:W.resolutionMinutesByPriority?.Medium?Math.round(W.resolutionMinutesByPriority.Medium/60):24,High:W.resolutionMinutesByPriority?.High?Math.round(W.resolutionMinutesByPriority.High/60):12,Urgent:W.resolutionMinutesByPriority?.Urgent?Math.round(W.resolutionMinutesByPriority.Urgent/60):6},escalation:W.escalation||{onResponseBreach:[],onResolutionBreach:[],escalateToRole:""},appliesTo:W.appliesTo||{customerCategory:"",customerIds:[],plan:""},active:!!W.active}),v(!0)},K=async W=>{W.preventDefault();try{const le={name:S.name||"SLA",serviceType:S.serviceType,responseMinutes:O,resolutionMinutesByPriority:{Low:Number(S.resolution.Low)*60,Medium:Number(S.resolution.Medium)*60,High:Number(S.resolution.High)*60,Urgent:Number(S.resolution.Urgent)*60},escalation:S.escalation,appliesTo:S.appliesTo,active:!!S.active};b?await ya.put(`/api/slas/${b.id}`,le):await ya.post("/api/slas",le),v(!1),await U()}catch(le){console.error("SLA save failed",le)}},V=async W=>{try{await ya.put(`/api/slas/${W.id}`,{active:!W.active}),await U()}catch(le){console.error("toggle failed",le)}},Z=async W=>{if(window.confirm("Delete SLA?"))try{await ya.delete(`/api/slas/${W.id}`),await U()}catch(le){console.error("delete failed",le)}},J=w.useMemo(()=>{let W=N;u&&(W=W.filter(X=>X.type===u));const le=B(_),M=B(P);if(le&&(W=W.filter(X=>new Date(X.createdAt)>=le)),M){const X=new Date(M);X.setHours(23,59,59,999),W=W.filter(z=>new Date(z.createdAt)<=X)}return W},[N,u,_,P]),ee=W=>{if(!W)return{responsePct:0,resolutionPct:0,count:0};const le=J.length;if(!le)return{responsePct:0,resolutionPct:0,count:0};let M=0,X=0;for(const z of J)if(z.firstResponseAt&&(new Date(z.firstResponseAt)-new Date(z.createdAt))/6e4<=Number(W.responseMinutes||0)&&M++,z.closedAt){const Q=(new Date(z.closedAt)-new Date(z.createdAt))/6e4,ne=W.resolutionMinutesByPriority?.[z.priority||"Low"]||0;ne&&Q<=ne&&X++}return{responsePct:Math.round(M/le*100),resolutionPct:Math.round(X/le*100),count:le}};return r.jsxs(aa,{children:[r.jsxs("section",{className:"overflow-x-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h1",{className:"text-xl font-bold",children:s.title}),r.jsxs("button",{className:"btn btn-sm btn-primary",onClick:E,children:["+ ",s.add]})]}),r.jsx("div",{className:"glass-neon p-3 rounded-lg mb-3",children:r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 text-sm",children:[r.jsx("input",{className:"input input-sm w-full bg-[var(--panel-bg)] text-[var(--content-text)] border border-[var(--panel-border)]",placeholder:s.search,value:c,onChange:W=>d(W.target.value)}),r.jsxs("select",{className:"input input-sm w-full bg-[var(--panel-bg)] text-[var(--content-text)] border border-[var(--panel-border)]",value:u,onChange:W=>f(W.target.value),children:[r.jsx("option",{value:"",children:s.typeAll}),fO.map(W=>r.jsx("option",{value:W,children:W},W))]}),r.jsxs("select",{className:"input input-sm w-full bg-[var(--panel-bg)] text-[var(--content-text)] border border-[var(--panel-border)]",value:x,onChange:W=>m(W.target.value),children:[r.jsx("option",{value:"",children:s.statusAll}),r.jsx("option",{value:"true",children:s.enabled}),r.jsx("option",{value:"false",children:s.disabled})]}),r.jsxs("div",{className:"sm:col-span-3 flex items-center gap-2",children:[r.jsx("input",{type:"text",inputMode:"numeric",className:"input input-sm w-full bg-[var(--panel-bg)] text-[var(--content-text)] border border-[var(--panel-border)]",placeholder:a?"mm/dd/yyyy":"//",value:_,onChange:W=>D(W.target.value)}),r.jsx("input",{type:"text",inputMode:"numeric",className:"input input-sm w-full bg-[var(--panel-bg)] text-[var(--content-text)] border border-[var(--panel-border)]",placeholder:a?"mm/dd/yyyy":"//",value:P,onChange:W=>I(W.target.value)})]})]})}),r.jsx("div",{className:"md:hidden space-y-3",children:n?r.jsxs("div",{className:"nova-card p-4",children:[r.jsx("div",{className:"skeleton h-6 w-32 mb-2"}),r.jsx("div",{className:"skeleton h-4 w-52"})]}):l&&l.length?l.map(W=>{const le=ee(W);return r.jsxs("div",{className:"nova-card p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("div",{className:"font-semibold",children:W.name||""}),r.jsx("button",{className:`badge ${W.active?"badge-success":"badge-neutral"}`,onClick:()=>V(W),children:W.active?s.enabled:s.disabled})]}),r.jsxs("div",{className:"text-sm opacity-80 mb-2",children:[s.serviceType,": ",W.serviceType]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[r.jsxs("div",{children:[r.jsx("div",{className:"opacity-70",children:s.responseTime}),r.jsxs("div",{children:[Math.round((W.responseMinutes||0)/60)," ",s.hours]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"opacity-70",children:s.resolutionTime}),r.jsx("div",{className:"flex flex-wrap gap-x-2 gap-y-1",children:r3.map(M=>r.jsxs("span",{children:[M,":",Math.round((W.resolutionMinutesByPriority?.[M]||0)/60),"h"]},M))})]})]}),r.jsxs("div",{className:"mt-2 text-xs opacity-80",children:[r.jsxs("div",{children:[W.appliesTo?.customerCategory||""," ",W.appliesTo?.plan?` ${W.appliesTo.plan}`:""]}),W.appliesTo?.customerIds?.length?r.jsxs("div",{children:[s.specificCustomers,": ",W.appliesTo.customerIds.length]}):null]}),r.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[r.jsx("button",{className:"btn btn-xs",onClick:()=>R(W),children:s.edit}),r.jsx("button",{className:"btn btn-xs btn-error",onClick:()=>Z(W),children:s.del})]}),r.jsxs("div",{className:"mt-2 text-xs",children:[r.jsxs("div",{children:[s.responseCompliance,": ",le.responsePct,"%  ",s.issues,": ",le.count]}),r.jsxs("div",{children:[s.resolutionCompliance,": ",le.resolutionPct,"%"]})]})]},W.id)}):r.jsx("div",{className:"nova-card p-4 text-center opacity-70",children:s.none})}),r.jsx("div",{className:"nova-card p-0 hidden md:block",children:r.jsxs("table",{className:"table table-sm table-fixed w-full nova-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:s.name}),r.jsx("th",{children:s.serviceType}),r.jsx("th",{children:s.responseTime}),r.jsx("th",{children:s.resolutionTime}),r.jsx("th",{children:s.appliesTo}),r.jsx("th",{children:s.status}),r.jsx("th",{children:s.actions})]})}),r.jsx("tbody",{children:n?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"p-6 text-center opacity-70",children:s.loading})}):l&&l.length?l.map(W=>{const le=ee(W);return r.jsxs("tr",{children:[r.jsx("td",{className:"whitespace-normal break-words",children:W.name||""}),r.jsx("td",{className:"whitespace-normal break-words",children:W.serviceType}),r.jsxs("td",{className:"whitespace-normal break-words",children:[Math.round((W.responseMinutes||0)/60)," ",s.hours]}),r.jsx("td",{className:"text-sm whitespace-normal break-words",children:r.jsx("div",{className:"flex flex-col gap-1",children:r3.map(M=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"opacity-70",children:M}),r.jsxs("span",{children:[Math.round((W.resolutionMinutesByPriority?.[M]||0)/60)," ",s.hours]})]},M))})}),r.jsxs("td",{className:"text-sm whitespace-normal break-words",children:[r.jsxs("div",{className:"opacity-80",children:[W.appliesTo?.customerCategory||""," ",W.appliesTo?.plan?` ${W.appliesTo.plan}`:""]}),W.appliesTo?.customerIds?.length?r.jsxs("div",{className:"opacity-60",children:[s.specificCustomers,": ",W.appliesTo.customerIds.length]}):null]}),r.jsx("td",{children:r.jsx("button",{className:`badge ${W.active?"badge-success":"badge-neutral"}`,onClick:()=>V(W),children:W.active?s.enabled:s.disabled})}),r.jsxs("td",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{className:"btn btn-xs",onClick:()=>R(W),children:s.edit}),r.jsx("button",{className:"btn btn-xs btn-error",onClick:()=>Z(W),children:s.del})]}),r.jsxs("div",{className:"mt-2 text-xs",children:[r.jsxs("div",{children:[s.responseCompliance,": ",le.responsePct,"%  ",s.issues,": ",le.count]}),r.jsxs("div",{children:[s.resolutionCompliance,": ",le.resolutionPct,"%"]})]})]})]},W.id)}):r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"p-6 text-center opacity-70",children:s.none})})})]})})]}),g&&r.jsxs("div",{className:"modal open",children:[r.jsxs("div",{className:"modal-box max-w-3xl",children:[r.jsx("h3",{className:"font-bold text-lg mb-3",children:b?s.editTitle:s.addTitle}),r.jsxs("form",{onSubmit:K,className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[r.jsxs("label",{className:"flex flex-col gap-1",children:[r.jsx("span",{children:s.name}),r.jsx("input",{className:"input input-sm",value:S.name,onChange:W=>k({...S,name:W.target.value})})]}),r.jsxs("label",{className:"flex flex-col gap-1",children:[r.jsx("span",{children:s.serviceType}),r.jsx("select",{className:"input input-sm",value:S.serviceType,onChange:W=>k({...S,serviceType:W.target.value}),children:fO.map(W=>r.jsx("option",{value:W,children:W},W))})]}),r.jsxs("div",{className:"md:col-span-2 grid grid-cols-3 gap-3",children:[r.jsxs("label",{className:"flex flex-col gap-1",children:[r.jsx("span",{children:s.responseTime}),r.jsx("input",{type:"number",min:1,className:"input input-sm",value:S.responseValue,onChange:W=>k({...S,responseValue:Number(W.target.value)})})]}),r.jsxs("label",{className:"flex flex-col gap-1",children:[r.jsx("span",{children:a?"Unit":""}),r.jsxs("select",{className:"input input-sm",value:S.responseUnit,onChange:W=>k({...S,responseUnit:W.target.value}),children:[r.jsx("option",{value:"minutes",children:s.unitMinutes}),r.jsx("option",{value:"hours",children:s.unitHours}),r.jsx("option",{value:"days",children:s.unitDays})]})]}),r.jsxs("div",{className:"flex items-end text-sm opacity-70",children:["= ",O," ",s.unitMinutes]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("div",{className:"font-semibold mb-2",children:a?"Required Resolution (by Priority) - hours":"   ( ) - "}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:r3.map(W=>r.jsxs("label",{className:"flex flex-col gap-1",children:[r.jsx("span",{children:W}),r.jsx("input",{type:"number",min:1,className:"input input-sm",value:S.resolution[W],onChange:le=>k({...S,resolution:{...S.resolution,[W]:Number(le.target.value)}})})]},W))})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("div",{className:"font-semibold mb-1",children:a?"Escalation Rules":" "}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("label",{className:"flex flex-col gap-1",children:[r.jsx("span",{children:a?"On Response Breach":"   "}),r.jsx("select",{multiple:!0,className:"input input-sm h-24",value:S.escalation.onResponseBreach,onChange:W=>{const le=Array.from(W.target.selectedOptions).map(M=>M.value);k({...S,escalation:{...S.escalation,onResponseBreach:le}})},children:["NotifyManager","ReassignHigherRank","IncreasePriority","NotifyCustomer","MarkEscalated"].map(W=>r.jsx("option",{value:W,children:W},W))})]}),r.jsxs("label",{className:"flex flex-col gap-1",children:[r.jsx("span",{children:a?"On Resolution Breach":"   "}),r.jsx("select",{multiple:!0,className:"input input-sm h-24",value:S.escalation.onResolutionBreach,onChange:W=>{const le=Array.from(W.target.selectedOptions).map(M=>M.value);k({...S,escalation:{...S.escalation,onResolutionBreach:le}})},children:["NotifyManager","ReassignHigherRank","IncreasePriority","NotifyCustomer","MarkEscalated"].map(W=>r.jsx("option",{value:W,children:W},W))})]}),r.jsxs("label",{className:"flex flex-col gap-1 md:col-span-2",children:[r.jsx("span",{children:a?"Escalate to Role/Team":"  /Team"}),r.jsx("input",{className:"input input-sm",value:S.escalation.escalateToRole,onChange:W=>k({...S,escalation:{...S.escalation,escalateToRole:W.target.value}})})]})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("div",{className:"font-semibold mb-1",children:a?"Targeting":""}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[r.jsxs("label",{className:"flex flex-col gap-1",children:[r.jsx("span",{children:s.customerCategory}),r.jsxs("select",{className:"input input-sm",value:S.appliesTo.customerCategory||"",onChange:W=>k({...S,appliesTo:{...S.appliesTo,customerCategory:W.target.value||void 0}}),children:[r.jsx("option",{value:"",children:""}),r.jsx("option",{value:"VIP",children:"VIP"}),r.jsx("option",{value:"Regular",children:"Regular"})]})]}),r.jsxs("label",{className:"flex flex-col gap-1",children:[r.jsx("span",{children:s.plan}),r.jsx("input",{className:"input input-sm",value:S.appliesTo.plan||"",onChange:W=>k({...S,appliesTo:{...S.appliesTo,plan:W.target.value}})})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:S.active,onChange:W=>k({...S,active:W.target.checked})}),r.jsx("span",{children:s.enabled})]})]})]}),r.jsxs("div",{className:"md:col-span-2 flex justify-end gap-2 mt-2",children:[r.jsx("button",{type:"button",className:"btn btn-sm",onClick:()=>v(!1),children:s.cancel}),r.jsx("button",{type:"submit",className:"btn btn-sm btn-primary",children:s.save})]})]})]}),r.jsx("div",{className:"modal-backdrop",onClick:()=>v(!1)})]})]})}function C4e(){const{t:e}=Dt(),t=["Complaint","Inquiry","Request"],a=["Low","Medium","High","Urgent"],s=["Email","Phone","WhatsApp","Customer Portal","Social Media"],[n,i]=w.useState([]),[l,o]=w.useState(!1),[c,d]=w.useState(""),[u,f]=w.useState(""),[x,m]=w.useState(""),[g,v]=w.useState(""),[b,j]=w.useState(""),[S,k]=w.useState(""),N=async()=>{try{o(!0);const M=await ya.get("/api/tickets",{params:{limit:2e3}});i(Array.isArray(M.data?.items)?M.data.items:[])}catch(M){console.warn("reports_tickets_load_failed",M)}finally{o(!1)}};w.useEffect(()=>{N()},[]);const A=w.useMemo(()=>{let M=[...n];const X=c.trim().toLowerCase();X&&(M=M.filter(ne=>JSON.stringify(ne).toLowerCase().includes(X))),u&&(M=M.filter(ne=>String(ne.type)===String(u))),x&&(M=M.filter(ne=>String(ne.priority)===String(x))),g&&(M=M.filter(ne=>String(ne.channel)===String(g)));const z=b?new Date(b):null,Q=S?new Date(S):null;return z&&(M=M.filter(ne=>new Date(ne.createdAt)>=z)),Q&&(M=M.filter(ne=>new Date(ne.createdAt)<=Q)),M},[n,c,u,x,g,b,S]),_=w.useMemo(()=>A.filter(M=>String(M.status)==="Closed"),[A]),D=w.useMemo(()=>{const M=_.map(X=>{const z=new Date(X.createdAt).getTime(),Q=X.updatedAt?new Date(X.updatedAt).getTime():z;return Math.max(0,(Q-z)/(1e3*60*60))}).filter(X=>Number.isFinite(X));return M.length?Math.round(M.reduce((X,z)=>X+z,0)/M.length*10)/10:0},[_]),P=w.useMemo(()=>_.filter(M=>{const X=new Date(M.createdAt),z=M.updatedAt?new Date(M.updatedAt):X;return X.toDateString()===z.toDateString()}).length,[_]),I=w.useMemo(()=>_.filter(M=>M.slaDeadline?(M.updatedAt?new Date(M.updatedAt):new Date(M.createdAt))>new Date(M.slaDeadline):!1).length,[_]),B=w.useMemo(()=>{const M=new Map;return A.forEach(X=>M.set(X.channel,(M.get(X.channel)||0)+1)),s.map(X=>({label:e(X),value:M.get(X)||0}))},[A]),O=w.useMemo(()=>{const M=new Map;return A.forEach(X=>M.set(X.priority,(M.get(X.priority)||0)+1)),a.map(X=>({label:e(X),value:M.get(X)||0}))},[A]),U=w.useMemo(()=>{const M=new Map;return A.forEach(z=>{const Q=new Date(z.createdAt).toISOString().slice(0,10);M.set(Q,(M.get(Q)||0)+1)}),Array.from(M.entries()).sort((z,Q)=>z[0].localeCompare(Q[0])).map(z=>z[1]).slice(-14)},[A]),E=({series:M=[]})=>{const Q=Math.max(1,...M),ne=M.length>1?156/(M.length-1):156,re=M.map((ie,ye)=>{const Y=2+ye*ne,ce=38-ie/Q*36;return`${Y},${ce}`}).join(" "),q=M.length>1&&M[M.length-1]>=M[0]?"#10b981":"#ef4444";return r.jsx("svg",{width:160,height:40,viewBox:"0 0 160 40",children:r.jsx("polyline",{fill:"none",stroke:q,strokeWidth:"2",points:re})})},R={emerald:"#10b981",yellow:"#f59e0b",blue:"#3b82f6",red:"#ef4444",gray:"#64748b",teal:"#2dd4bf"},K=[{label:e("Email"),value:B[0]?.value||0,color:R.teal},{label:e("Phone"),value:B[1]?.value||0,color:R.blue},{label:e("WhatsApp"),value:B[2]?.value||0,color:R.emerald},{label:e("Customer Portal"),value:B[3]?.value||0,color:R.yellow},{label:e("Social Media"),value:B[4]?.value||0,color:R.gray}],V=[{label:e("Low"),value:O[0]?.value||0,color:R.gray},{label:e("Medium"),value:O[1]?.value||0,color:R.blue},{label:e("High"),value:O[2]?.value||0,color:R.yellow},{label:e("Urgent"),value:O[3]?.value||0,color:R.red}],Z=w.useMemo(()=>A.map(M=>M.csatRating).filter(M=>typeof M=="number"),[A]),J=w.useMemo(()=>Z.length?Math.round(Z.reduce((M,X)=>M+X,0)/Z.length*10)/10:0,[Z]),ee=w.useMemo(()=>{const M=new Map;return Z.forEach(X=>M.set(X,(M.get(X)||0)+1)),[1,2,3,4,5].map(X=>({label:String(X),value:M.get(X)||0}))},[Z]),W=w.useMemo(()=>{const M=new Map;A.forEach(z=>{const Q=z.assignedAgent||"Unassigned",ne=M.get(Q)||[];ne.push(z),M.set(Q,ne)});const X=Array.from(M.entries()).map(([z,Q])=>{const ne=Q.filter(he=>String(he.status)==="Closed"),re=ne.length?Math.round(ne.reduce((he,ue)=>{const Fe=new Date(ue.createdAt).getTime(),Ue=ue.updatedAt?new Date(ue.updatedAt).getTime():Fe;return he+Math.max(0,(Ue-Fe)/(1e3*60*60))},0)/ne.length*10)/10:0,oe=ne.filter(he=>he.slaDeadline&&new Date(he.updatedAt||he.createdAt)<=new Date(he.slaDeadline)).length,q=ne.length?Math.round(oe/ne.length*100):0,ie=Q.filter(he=>String(he.status)==="Escalated").length,ye=Q.map(he=>he.csatRating).filter(he=>typeof he=="number").reduce((he,ue)=>he+ue,0),Y=Q.map(he=>he.csatRating).filter(he=>typeof he=="number").length,ce=Y?Math.round(ye/Y*10)/10:0;return{agent:z,tickets:Q.length,closed:ne.length,avgHours:re,slaRate:q,escalations:ie,csatAvg:ce}});return X.sort((z,Q)=>Q.tickets-z.tickets),X},[A]),le=({rows:M,fileName:X})=>{const z=()=>{const Q=Object.keys(M[0]||{}),ne=[Q.join(","),...M.map(ie=>Q.map(ye=>JSON.stringify(ie[ye]??"")).join(","))].join(`
`),re=new Blob([ne],{type:"text/csv;charset=utf-8;"}),oe=URL.createObjectURL(re),q=document.createElement("a");q.href=oe,q.download=X||"export.csv",q.click(),URL.revokeObjectURL(oe)};return r.jsx("button",{className:"btn btn-outline btn-xs",onClick:z,children:e("Export CSV")})};return r.jsxs(aa,{children:[r.jsx("h1",{className:"text-xl font-bold mb-4",children:e("Support Reports & Analytics")}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:[r.jsx("input",{value:c,onChange:M=>d(M.target.value),placeholder:e("Search..."),className:"px-3 py-1 rounded bg-white/5 border border-white/10 text-sm"}),r.jsxs(Xa,{value:u,onChange:M=>f(M),className:"px-3 py-1 text-sm",children:[r.jsx("option",{value:"",children:e("Type")}),t.map(M=>r.jsx("option",{value:M,children:e(M)},M))]}),r.jsxs(Xa,{value:x,onChange:M=>m(M),className:"px-3 py-1 text-sm",children:[r.jsx("option",{value:"",children:e("Priority")}),a.map(M=>r.jsx("option",{value:M,children:e(M)},M))]}),r.jsxs(Xa,{value:g,onChange:M=>v(M),className:"px-3 py-1 text-sm",children:[r.jsx("option",{value:"",children:e("Channel")}),s.map(M=>r.jsx("option",{value:M,children:e(M)},M))]}),r.jsx("input",{type:"date",value:b,onChange:M=>j(M.target.value),className:"px-3 py-1 rounded bg-white/5 border border-white/10 text-sm"}),r.jsx("input",{type:"date",value:S,onChange:M=>k(M.target.value),className:"px-3 py-1 rounded bg-white/5 border border-white/10 text-sm"}),r.jsx("button",{onClick:N,className:"px-3 py-1 rounded bg-white/10 text-sm",children:e("Refresh")})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[r.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h2",{className:"text-lg font-semibold",children:e("Average Resolution Time")}),r.jsx(le,{rows:[{avgResolutionHours:D}],fileName:"avg-resolution.csv"})]}),r.jsxs("div",{className:"text-3xl font-bold",children:[D," ",r.jsx("span",{className:"text-sm opacity-70",children:e("hours")})]}),r.jsxs("div",{className:"text-sm opacity-80 mt-2",children:[e("Same day"),": ",P,"  ",e("After SLA"),": ",I]}),r.jsx("div",{className:"mt-3",children:r.jsx(E,{series:U})})]}),r.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[r.jsx("h2",{className:"text-lg font-semibold mb-2",children:e("Tickets by Channel")}),r.jsx("div",{className:"h-40",children:r.jsx(Zn,{segments:K,centerLabel:e("Channels"),centerValue:B.reduce((M,X)=>M+X.value,0),animateCenterCountUp:!0,centerValueDuration:800})})]}),r.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[r.jsx("h2",{className:"text-lg font-semibold mb-2",children:e("Tickets by Priority")}),r.jsx("div",{className:"h-40",children:r.jsx(Zn,{segments:V,centerLabel:e("Priority"),centerValue:O.reduce((M,X)=>M+X.value,0),animateCenterCountUp:!0,centerValueDuration:800})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h2",{className:"text-lg font-semibold",children:e("Customer Satisfaction (CSAT)")}),Z.length>0&&r.jsx(le,{rows:ee,fileName:"csat.csv"})]}),Z.length>0?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"text-3xl font-bold",children:[J," ",r.jsx("span",{className:"text-sm opacity-70",children:"/ 5"})]}),r.jsx("div",{className:"mt-3",children:r.jsx(Zn,{segments:ee.map(M=>({label:M.label,value:M.value,color:R.teal})),centerLabel:e("Ratings"),centerValue:Z.length,animateCenterCountUp:!0})})]}):r.jsx("div",{className:"text-sm opacity-70",children:e("No CSAT data available")})]}),r.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h2",{className:"text-lg font-semibold",children:e("Agent Performance")}),W.length>0&&r.jsx(le,{rows:W,fileName:"agents.csv"})]}),r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left opacity-70",children:[r.jsx("th",{className:"py-1",children:e("Agent")}),r.jsx("th",{className:"py-1",children:e("Tickets")}),r.jsx("th",{className:"py-1",children:e("Closed")}),r.jsx("th",{className:"py-1",children:e("Avg Hours")}),r.jsx("th",{className:"py-1",children:e("SLA %")}),r.jsx("th",{className:"py-1",children:e("Escalations")}),r.jsx("th",{className:"py-1",children:e("CSAT")})]})}),r.jsxs("tbody",{children:[W.map(M=>r.jsxs("tr",{className:"border-t border-white/10",children:[r.jsx("td",{className:"py-1",children:M.agent}),r.jsx("td",{className:"py-1",children:M.tickets}),r.jsx("td",{className:"py-1",children:M.closed}),r.jsx("td",{className:"py-1",children:M.avgHours}),r.jsxs("td",{className:"py-1",children:[M.slaRate,"%"]}),r.jsx("td",{className:"py-1",children:M.escalations}),r.jsx("td",{className:"py-1",children:M.csatAvg?`${M.csatAvg}/5`:"-"})]},M.agent)),!W.length&&r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"py-2 text-sm opacity-70",children:e("No agent data")})})]})]})]})]}),l&&r.jsx("div",{className:"mt-2 text-sm opacity-70",children:e("Loading...")})]})}function A4e(){const{t:e,i18n:t}=Dt();t.dir();const[a,s]=w.useState([]),[n,i]=w.useState({avgCSAT:0,topAgents:[],bottomAgents:[],dissatisfiedCountThisMonth:0,responseRatePercent:0}),[l,o]=w.useState(!0),[c,d]=w.useState(""),[u,f]=w.useState("All"),[x,m]=w.useState(1),[g,v]=w.useState(!1),[b,j]=w.useState({ticketId:"",customerId:"",rating:5,comment:"",channel:"Email"});w.useEffect(()=>{(async()=>{try{o(!0);const[_,D]=await Promise.all([ya.get("/api/feedbacks/surveys"),ya.get("/api/feedbacks/surveys/stats")]);s(_.data?.data?.items||[]),i(D.data?.data||{})}catch(_){console.warn("Failed to load surveys",_)}finally{o(!1)}})()},[]);const S=w.useMemo(()=>{let A=a.slice();return c&&(A=A.filter(_=>JSON.stringify(_).toLowerCase().includes(c.toLowerCase()))),u!=="All"&&(A=A.filter(_=>String(_.agent||"")===String(u))),x&&(A=A.filter(_=>Number(_.rating)>=Number(x))),A},[a,c,u,x]),k=w.useMemo(()=>["All",...Array.from(new Set(a.map(_=>_.agent||"")))],[a]),N=async A=>{A.preventDefault();try{v(!0);const _={...b,rating:Number(b.rating)};await ya.post("/api/feedbacks/surveys",_),j({ticketId:"",customerId:"",rating:5,comment:"",channel:"Email"});const[D,P]=await Promise.all([ya.get("/api/feedbacks/surveys"),ya.get("/api/feedbacks/surveys/stats")]);s(D.data?.data?.items||[]),i(P.data?.data||{})}catch(_){console.warn("Submit survey failed",_)}finally{v(!1)}};return r.jsx(aa,{children:r.jsxs("section",{className:"px-2 sm:px-4",children:[r.jsx("h1",{className:"text-xl font-bold mb-3",children:e("Feedback & Surveys")}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 mb-4",children:[r.jsxs("div",{className:"nova-card p-4",children:[r.jsx("div",{className:"text-sm opacity-70",children:e("Average CSAT")}),r.jsx("div",{className:"text-2xl font-semibold",children:Number(n.avgCSAT||0).toFixed(2)})]}),r.jsxs("div",{className:"nova-card p-4",children:[r.jsx("div",{className:"text-sm opacity-70",children:e("Dissatisfied Customers (This Month)")}),r.jsx("div",{className:"text-2xl font-semibold",children:n.dissatisfiedCountThisMonth||0})]}),r.jsxs("div",{className:"nova-card p-4",children:[r.jsx("div",{className:"text-sm opacity-70",children:e("Response Rate")}),r.jsxs("div",{className:"text-2xl font-semibold",children:[n.responseRatePercent||0,"%"]})]}),r.jsxs("div",{className:"nova-card p-4",children:[r.jsx("div",{className:"text-sm opacity-70",children:e("Total Surveys")}),r.jsx("div",{className:"text-2xl font-semibold",children:n?.totals?.surveys||a.length})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 mb-4",children:[r.jsxs("div",{className:"nova-card p-4",children:[r.jsx("h2",{className:"text-lg font-semibold mb-2",children:e("Top 5 Agents")}),r.jsx("ul",{className:"space-y-1 text-sm",children:(n.topAgents||[]).map((A,_)=>r.jsxs("li",{className:"flex justify-between",children:[r.jsx("span",{children:A.agent}),r.jsx("span",{className:"font-medium",children:A.avg?.toFixed(2)})]},_))})]}),r.jsxs("div",{className:"nova-card p-4",children:[r.jsx("h2",{className:"text-lg font-semibold mb-2",children:e("Bottom 5 Agents")}),r.jsx("ul",{className:"space-y-1 text-sm",children:(n.bottomAgents||[]).map((A,_)=>r.jsxs("li",{className:"flex justify-between",children:[r.jsx("span",{children:A.agent}),r.jsx("span",{className:"font-medium",children:A.avg?.toFixed(2)})]},_))})]})]}),r.jsx("div",{className:"glass-neon nova-card p-3 mb-3",children:r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[r.jsx("input",{className:"input-sm rounded-md px-3 py-2 border",placeholder:e("Search..."),value:c,onChange:A=>d(A.target.value),style:{backgroundColor:"var(--panel-bg)",color:"var(--content-text)",borderColor:"var(--panel-border)"}}),r.jsx("select",{className:"input-sm rounded-md px-3 py-2",value:u,onChange:A=>f(A.target.value),style:{backgroundColor:"var(--panel-bg)",color:"var(--content-text)",borderColor:"var(--panel-border)"},children:k.map(A=>r.jsx("option",{value:A,children:A},A))}),r.jsx("select",{className:"input-sm rounded-md px-3 py-2",value:x,onChange:A=>m(Number(A.target.value)),style:{backgroundColor:"var(--panel-bg)",color:"var(--content-text)",borderColor:"var(--panel-border)"},children:[1,2,3,4,5].map(A=>r.jsxs("option",{value:A,children:[e("Min Rating")," ",A]},A))})]})}),r.jsxs("div",{className:"nova-card p-4 mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold mb-2",children:e("Submit Survey")}),r.jsxs("form",{onSubmit:N,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2",children:[r.jsx("input",{className:"input-sm rounded-md px-3 py-2 border",placeholder:e("Ticket ID"),value:b.ticketId,onChange:A=>j(_=>({..._,ticketId:A.target.value})),style:{backgroundColor:"var(--panel-bg)",color:"var(--content-text)",borderColor:"var(--panel-border)"}}),r.jsx("input",{className:"input-sm rounded-md px-3 py-2 border",placeholder:e("Customer ID"),value:b.customerId,onChange:A=>j(_=>({..._,customerId:A.target.value})),style:{backgroundColor:"var(--panel-bg)",color:"var(--content-text)",borderColor:"var(--panel-border)"}}),r.jsx("select",{className:"input-sm rounded-md px-3 py-2",value:b.rating,onChange:A=>j(_=>({..._,rating:Number(A.target.value)})),style:{backgroundColor:"var(--panel-bg)",color:"var(--content-text)",borderColor:"var(--panel-border)"},children:[1,2,3,4,5].map(A=>r.jsxs("option",{value:A,children:[A," "]},A))}),r.jsx("select",{className:"input-sm rounded-md px-3 py-2",value:b.channel,onChange:A=>j(_=>({..._,channel:A.target.value})),style:{backgroundColor:"var(--panel-bg)",color:"var(--content-text)",borderColor:"var(--panel-border)"},children:["Email","SMS","WhatsApp"].map(A=>r.jsx("option",{value:A,children:A},A))}),r.jsx("textarea",{className:"input-sm rounded-md px-3 py-2 sm:col-span-2 lg:col-span-4",placeholder:e("Optional comment"),value:b.comment,onChange:A=>j(_=>({..._,comment:A.target.value})),style:{backgroundColor:"var(--panel-bg)",color:"var(--content-text)",borderColor:"var(--panel-border)"}}),r.jsx("div",{className:"sm:col-span-2 lg:col-span-4 flex justify-end",children:r.jsx("button",{className:"btn btn-primary",disabled:g,children:e(g?"Submitting...":"Submit")})})]}),r.jsxs("p",{className:"text-xs opacity-70 mt-2",children:[e("Note"),": ",e("Negative ratings (2) auto-escalate with 24h SLA")]})]}),r.jsx("div",{className:"nova-card p-0 overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"nova-table w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-3 py-2 text-left",children:e("Rating")}),r.jsx("th",{className:"px-3 py-2 text-left",children:e("Comment")}),r.jsx("th",{className:"px-3 py-2 text-left",children:e("Ticket ID")}),r.jsx("th",{className:"px-3 py-2 text-left",children:e("Customer ID")}),r.jsx("th",{className:"px-3 py-2 text-left",children:e("Agent")}),r.jsx("th",{className:"px-3 py-2 text-left",children:e("Submitted At")})]})}),r.jsx("tbody",{children:l?r.jsx("tr",{children:r.jsx("td",{className:"px-3 py-6",colSpan:6,children:e("Loading...")})}):S.length?S.map(A=>r.jsxs("tr",{className:"border-t",children:[r.jsxs("td",{className:"px-3 py-2",children:[A.rating," "]}),r.jsx("td",{className:"px-3 py-2",children:A.comment||""}),r.jsx("td",{className:"px-3 py-2",children:A.ticketId}),r.jsx("td",{className:"px-3 py-2",children:A.customerId}),r.jsx("td",{className:"px-3 py-2",children:A.agent||""}),r.jsx("td",{className:"px-3 py-2",children:(A.submittedAt||"").replace("T"," ").slice(0,16)})]},A.id)):r.jsx("tr",{children:r.jsx("td",{className:"px-3 py-6",colSpan:6,children:e("No surveys found")})})})]})})})]})})}function _4e(){const{i18n:e}=Dt(),t=e.language==="ar",[a,s]=w.useState(""),[n,i]=w.useState(!1),[l,o]=w.useState(!1),[c,d]=w.useState(!1),[u,f]=w.useState(null),[x,m]=w.useState(null),[g,v]=w.useState([]),[b,j]=w.useState([]),[S,k]=w.useState(["Planning","Active","Sales","Completed"]),[N,A]=w.useState([]),[_,D]=w.useState([]),[P,I]=w.useState([0,500]),[B,O]=w.useState([0,10]),[U,E]=w.useState(1),[R,K]=w.useState(6),V=w.useMemo(()=>[{name:"Crown Medical Park",city:"Elshiekh Zayed",units:0,developer:"Crown",status:"Planning",phases:2,docs:12,lastUpdated:"2025-10-12",image:"https://images.unsplash.com/photo-1600585154526-990dced4db0f?q=80&w=1200&auto=format&fit=crop",logo:null,description:"Premium medical complex with modern facilities.",completion:25,revenue:0},{name:"Crown Medical Center",city:"Elshiekh Zayed",units:0,developer:"Crown",status:"Active",phases:4,docs:34,lastUpdated:"2025-10-11",image:"https://images.unsplash.com/photo-1509395176047-4a66953fd231?q=80&w=1200&auto=format&fit=crop",logo:"https://dummyimage.com/120x60/ffffff/2b2b2b&text=CROWN",description:"A medical facility located in the heart of Sheikh Zayed.",completion:60,revenue:12e4},{name:"Sunset Residences",city:"New Cairo",units:24,developer:"Sunrise Dev",status:"Sales",phases:3,docs:19,lastUpdated:"2025-09-30",image:"https://images.unsplash.com/photo-1560518883-ce09059eeffa?q=80&w=1200&auto=format&fit=crop",logo:null,description:"Residential compound with landscaped gardens and pools.",completion:80,revenue:45e4}],[]),Z=w.useMemo(()=>Array.from(new Set(V.map(Q=>Q.city))),[V]),J=w.useMemo(()=>Array.from(new Set(V.map(Q=>Q.developer))),[V]),ee=["Planning","Active","Sales","Completed"],W=w.useMemo(()=>{const Q=a.trim().toLowerCase();return V.filter(ne=>{const re=!Q||[ne.name,ne.city,ne.developer,ne.description].some(ce=>(ce||"").toLowerCase().includes(Q)),oe=S.includes(ne.status),q=N.length===0||N.includes(ne.city),ie=_.length===0||_.includes(ne.developer),ye=(ne.units||0)>=P[0]&&(ne.units||0)<=P[1],Y=(ne.phases||0)>=B[0]&&(ne.phases||0)<=B[1];return re&&oe&&q&&ie&&ye&&Y})},[V,a,S,N,_,P,B]),le=w.useMemo(()=>{const Q=(U-1)*R;return W.slice(Q,Q+R)},[W,U,R]),M=(Q,ne)=>{const re=Date.now();v(oe=>[...oe,{id:re,type:Q,message:ne}]),setTimeout(()=>v(oe=>oe.filter(q=>q.id!==re)),3e3)},X=()=>{s(""),k(["Planning","Active","Sales","Completed"]),A([]),D([]),I([0,500]),O([0,10]),E(1)},z={title:t?" > ":"Inventory > Projects",search:t?"":"Search",filter:t?"":"Filter",importProjects:t?" ":"Import Projects",createProject:t?" ":"Create Project",location:t?"":"Location",units:t?"":"Units",share:t?"":"Share",more:t?"":"More",developer:t?"":"Developer",status:t?"":"Status",city:t?"":"City",phases:t?"":"Phases",clearFilters:t?" ":"Clear Filters",exportExcel:t?" ":"Export Excel",exportPdf:t?" PDF":"Export PDF"};return r.jsx(aa,{children:r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsxs("div",{className:"flex items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"relative w-72",children:[r.jsx(rx,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),r.jsx("input",{value:a,onChange:Q=>s(Q.target.value),placeholder:z.search,className:"input w-full pl-9"})]}),r.jsx("button",{className:"btn btn-glass",onClick:()=>i(Q=>!Q),children:r.jsxs("span",{className:"inline-flex items-center gap-2",children:[r.jsx(Z2,{})," ",z.filter]})})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{className:"px-4 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-600",onClick:()=>o(!0),children:z.importProjects}),r.jsxs("button",{className:"px-4 py-2 rounded-lg bg-primary text-white hover:brightness-110 inline-flex items-center gap-2",onClick:()=>d(!0),children:[r.jsx(zu,{})," ",z.createProject]}),r.jsx("button",{className:"px-3 py-2 rounded-lg bg-gray-100 dark:bg-gray-700",onClick:()=>P4e(W),children:z.exportExcel}),r.jsx("button",{className:"px-3 py-2 rounded-lg bg-gray-100 dark:bg-gray-700",onClick:()=>L4e(W),children:z.exportPdf})]})]}),n&&r.jsxs("div",{className:`mt-3 p-3 rounded-lg border border-gray-200 dark:border-gray-700 text-sm ${t?"text-right":"text-left"}`,children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-3",children:[r.jsxs("span",{className:"text-[var(--muted-text)]",children:[z.status,":"]}),ee.map(Q=>r.jsxs("label",{className:"inline-flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:S.includes(Q),onChange:ne=>{k(re=>ne.target.checked?[...re,Q]:re.filter(oe=>oe!==Q))}}),r.jsx("span",{children:Q})]},Q))]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-3",children:[r.jsxs("span",{className:"text-[var(--muted-text)]",children:[z.city,":"]}),Z.map(Q=>r.jsxs("label",{className:"inline-flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:N.includes(Q),onChange:ne=>{A(re=>ne.target.checked?[...re,Q]:re.filter(oe=>oe!==Q))}}),r.jsx("span",{children:Q})]},Q))]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-3",children:[r.jsxs("span",{className:"text-[var(--muted-text)]",children:[z.developer,":"]}),J.map(Q=>r.jsxs("label",{className:"inline-flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:_.includes(Q),onChange:ne=>{D(re=>ne.target.checked?[...re,Q]:re.filter(oe=>oe!==Q))}}),r.jsx("span",{children:Q})]},Q))]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-[var(--muted-text)]",children:z.units}),r.jsxs("span",{className:"text-xs",children:[P[0]," - ",P[1]]})]}),r.jsx("input",{type:"range",min:"0",max:"500",value:P[0],onChange:Q=>I([Number(Q.target.value),P[1]])}),r.jsx("input",{type:"range",min:"0",max:"500",value:P[1],onChange:Q=>I([P[0],Number(Q.target.value)])})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-[var(--muted-text)]",children:z.phases}),r.jsxs("span",{className:"text-xs",children:[B[0]," - ",B[1]]})]}),r.jsx("input",{type:"range",min:"0",max:"10",value:B[0],onChange:Q=>O([Number(Q.target.value),B[1]])}),r.jsx("input",{type:"range",min:"0",max:"10",value:B[1],onChange:Q=>O([B[0],Number(Q.target.value)])})]})]}),r.jsx("div",{className:`mt-3 flex items-center ${t?"justify-start":"justify-end"}`,children:r.jsx("button",{className:"btn btn-glass",onClick:X,children:z.clearFilters})})]})]}),r.jsx("div",{className:"mt-4",children:r.jsx(M4e,{projects:W,isRTL:t,onFilterStatus:Q=>{k([Q]),E(1)},onFilterCity:Q=>{A([Q]),E(1)}})}),r.jsxs("div",{className:"mt-4 flex flex-col gap-2",children:[le.map((Q,ne)=>r.jsx("div",{className:"glass-panel rounded-xl overflow-hidden",children:r.jsx(D4e,{p:Q,isRTL:t,Label:z,onView:re=>f(re),onEdit:re=>{m(re),d(!0)}})},ne)),r.jsxs("div",{className:"flex items-center justify-end gap-2",children:[r.jsx("button",{className:"btn btn-glass",disabled:U===1,onClick:()=>E(Q=>Math.max(1,Q-1)),children:t?"":"Prev"}),r.jsxs("span",{className:"text-sm text-[var(--muted-text)]",children:[t?"":"Page"," ",U]}),r.jsx("button",{className:"btn btn-glass",disabled:U*R>=W.length,onClick:()=>E(Q=>Q+1),children:t?"":"Next"}),r.jsx("select",{className:"input",value:R,onChange:Q=>{K(Number(Q.target.value)),E(1)},children:[6,9,12].map(Q=>r.jsxs("option",{value:Q,children:[Q,"/page"]},Q))})]})]}),l&&r.jsx(T4e,{onClose:()=>o(!1),isRTL:t,addToast:M,addLog:Q=>j(ne=>[Q,...ne])}),c&&r.jsx(E4e,{onClose:()=>{d(!1),m(null)},isRTL:t,mode:x?"edit":"create",initialValues:x?{name:x.name||"",developer:x.developer||""}:void 0}),u&&r.jsx(O4e,{p:u,isRTL:t,onClose:()=>f(null)}),r.jsx("div",{className:"fixed z-50 top-20 right-4 flex flex-col gap-2",children:g.map(Q=>r.jsx("div",{className:`px-4 py-2 rounded-lg shadow-lg ${Q.type==="success"?"bg-emerald-600 text-white":Q.type==="error"?"bg-rose-600 text-white":"bg-gray-800 text-white"}`,children:Q.message},Q.id))})]})})}function T4e({onClose:e,isRTL:t,addToast:a,addLog:s}){const[n,i]=w.useState([]),[l,o]=w.useState([]),c=(f="csv")=>{const x=["Project","City","Developer","Units","Phases","Status","Docs","LastUpdated","Image","Logo","Description"],m=["Sample Project","New Cairo","Sample Dev","12","3","Planning","5","2025-10-10","https://picsum.photos/1200/800","","Sample description"];if(f==="csv"){const g=x.join(",")+`
`+m.join(",")+`
`,v=new Blob([g],{type:"text/csv;charset=utf-8;"}),b=URL.createObjectURL(v),j=document.createElement("a");j.href=b,j.download="projects_template.csv",document.body.appendChild(j),j.click(),document.body.removeChild(j),URL.revokeObjectURL(b)}else{const g=Jt.aoa_to_sheet([x,m]),v=Jt.book_new();Jt.book_append_sheet(v,g,"Template"),gs(v,"projects_template.xlsx")}},d=async f=>{const x=Array.from(f.target.files||[]);if(i(x),x[0])try{const m=await x[0].arrayBuffer(),g=gm(m,{type:"array"}),v=g.SheetNames[0],b=g.Sheets[v],j=Jt.sheet_to_json(b,{defval:""});o(j.slice(0,50))}catch{a("error",t?"  ":"Failed to read file")}},u=()=>{if(!n.length){a("error",t?"  ":"Select files first");return}n.forEach(f=>s({fileName:f.name,user:"Current User",timestamp:new Date().toISOString(),status:"Success"})),a("success",t?"  ":"Import successful"),e()};return r.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[r.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:e}),r.jsxs("div",{className:"relative z-50 glass-panel rounded-xl p-4 w-[900px] max-w-[95vw]",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h2",{className:"text-lg font-semibold",children:t?" ":"Import Projects"}),r.jsx("button",{className:"btn btn-glass",onClick:e,children:t?"":"Close"})]}),r.jsxs("div",{className:"space-y-3 text-sm",children:[r.jsx("p",{className:"text-[var(--muted-text)]",children:t?"  CSV/XLSX  .":"Upload CSV/XLSX files, a preview will show."}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"file",accept:".csv,.xlsx",multiple:!0,onChange:d}),r.jsx("button",{className:"btn btn-glass",onClick:()=>c("csv"),children:t?"  CSV":"Download CSV Template"}),r.jsx("button",{className:"btn btn-glass",onClick:()=>c("xlsx"),children:t?"  XLSX":"Download XLSX Template"})]}),r.jsx("div",{className:"rounded-lg border border-gray-200 dark:border-gray-700 overflow-auto max-h-[300px]",children:r.jsxs("table",{className:"w-full text-xs",children:[r.jsx("thead",{children:r.jsx("tr",{className:"bg-gray-50 dark:bg-gray-800/50",children:l[0]&&Object.keys(l[0]).map(f=>r.jsx("th",{className:"px-2 py-1 text-left",children:f},f))})}),r.jsxs("tbody",{children:[l.map((f,x)=>r.jsx("tr",{className:"border-t border-gray-100 dark:border-gray-800",children:Object.values(f).map((m,g)=>r.jsx("td",{className:"px-2 py-1",children:String(m)},g))},x)),l.length===0&&r.jsx("tr",{children:r.jsx("td",{className:"px-2 py-3 text-center text-[var(--muted-text)]",children:t?"  ":"No preview"})})]})]})}),r.jsxs("div",{className:"flex items-center justify-end gap-3",children:[r.jsx("button",{className:"btn btn-glass",onClick:e,children:t?"":"Cancel"}),r.jsx("button",{className:"btn btn-primary",onClick:u,children:t?"":"Import"})]})]})]})]})}function E4e({onClose:e,isRTL:t,mode:a="create",initialValues:s}){const[n,i]=w.useState(t?"ar":"en"),[l,o]=w.useState("basic"),[c,d]=w.useState({name:s?.name||"",developer:s?.developer||"",category:"",unitPrefix:"",indirectName:"",indirectPhone:"",address:"",minPrice:"",maxPrice:"",minSpace:"",maxSpace:"",driveUrl:"",logoFile:null,mainImageFile:null}),u=x=>m=>d(g=>({...g,[x]:m.target.value})),f=[{id:"basic",label:t?" ":"Basic Info"},{id:"more",label:t?"":"More Info"},{id:"gallery",label:t?"":"Gallery"},{id:"layout",label:t?"":"Layout"},{id:"master",label:t?" ":"Master Plan"},{id:"pdf",label:"PDF"},{id:"3d",label:"3D"},{id:"video",label:t?"":"Video"},{id:"map",label:t?"":"Map"}];return r.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[r.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:e}),r.jsxs("div",{className:"relative z-50 bg-white dark:bg-gray-900 w-full h-screen sm:w-[1100px] sm:max-w-[95vw] sm:max-h-[90vh] sm:h-auto sm:rounded-2xl border border-gray-200 dark:border-gray-700 shadow-2xl overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[r.jsx("div",{className:"flex items-center gap-3",children:r.jsx("h2",{className:"text-xl font-bold",children:a==="edit"?t?" ":"Edit Project":t?" ":"Create Project"})}),r.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",title:t?"":"Close",children:r.jsx(ru,{})})]}),r.jsx("div",{className:"px-4 pt-4",children:r.jsx("div",{className:`flex items-center gap-4 ${t?"flex-row-reverse":""} overflow-x-auto`,children:f.map(x=>r.jsx("button",{onClick:()=>o(x.id),className:`px-3 py-2 text-sm rounded-lg border ${l===x.id?"bg-primary text-white border-primary":"border-gray-200 dark:border-gray-700 text-[var(--content-text)]"}`,children:x.label},x.id))})}),r.jsxs("div",{className:"p-4 space-y-4",children:[l==="basic"&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>i("en"),className:`px-4 py-2 rounded-lg ${n==="en"?"bg-gray-200 dark:bg-gray-800":"bg-transparent border border-gray-200 dark:border-gray-700"}`,children:"English"}),r.jsx("button",{onClick:()=>i("ar"),className:`px-4 py-2 rounded-lg ${n==="ar"?"bg-gray-200 dark:bg-gray-800":"bg-transparent border border-gray-200 dark:border-gray-700"}`,children:t?" ":"Arabic"})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-end",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?" ":"Upload Logo"}),r.jsx("input",{type:"file",accept:"image/*",onChange:x=>d(m=>({...m,logoFile:x.target.files?.[0]||null}))}),c.logoFile&&r.jsx("div",{className:"mt-2",children:r.jsx("img",{src:URL.createObjectURL(c.logoFile),alt:"logo preview",className:"h-16 w-auto object-contain rounded-md border"})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?"  ":"Upload Main Image"}),r.jsx("input",{type:"file",accept:"image/*",onChange:x=>d(m=>({...m,mainImageFile:x.target.files?.[0]||null}))}),c.mainImageFile&&r.jsx("div",{className:"mt-2",children:r.jsx("img",{src:URL.createObjectURL(c.mainImageFile),alt:"main preview",className:"h-28 w-full object-cover rounded-md border"})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?" ":"Project Name"}),r.jsx("input",{className:"input w-full",value:c.name,onChange:u("name"),placeholder:t?" ":"Project Name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?"":"Developer"}),r.jsx("input",{className:"input w-full",value:c.developer,onChange:u("developer"),placeholder:t?"":"Developer"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?"":"Category"}),r.jsx("input",{className:"input w-full",value:c.category,onChange:u("category"),placeholder:t?"":"Category"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?"  ":"Unit Code Prefix"}),r.jsx("input",{className:"input w-full",value:c.unitPrefix,onChange:u("unitPrefix"),placeholder:t?"  ":"Unit Code Prefix"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?"   ":"Indirect Sales Name"}),r.jsx("input",{className:"input w-full",value:c.indirectName,onChange:u("indirectName"),placeholder:t?"   ":"Indirect Sales Name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?"   ":"Indirect Sales Phone"}),r.jsx("input",{className:"input w-full",value:c.indirectPhone,onChange:u("indirectPhone"),placeholder:t?"   ":"Indirect Sales Phone"})]})]}),r.jsxs("div",{className:`flex items-center justify-end gap-3 ${t?"flex-row-reverse":""}`,children:[r.jsx("button",{className:"btn btn-glass",onClick:e,children:t?"":"Cancel"}),r.jsx("button",{className:"btn btn-primary",onClick:e,children:a==="edit"?t?"":"Update":t?"":"Save"})]})]}),l==="more"&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:t?" ":"More Info"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?"":"Address"}),r.jsx("input",{className:"input w-full",value:c.address,onChange:u("address"),placeholder:t?"":"Address"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?"  ":"Min Price"}),r.jsx("input",{type:"number",className:"input w-full",value:c.minPrice,onChange:u("minPrice"),placeholder:t?" ":"Min Price"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?"  ":"Max Price"}),r.jsx("input",{type:"number",className:"input w-full",value:c.maxPrice,onChange:u("maxPrice"),placeholder:t?" ":"Max Price"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?" ":"Min Space"}),r.jsx("input",{type:"number",className:"input w-full",value:c.minSpace,onChange:u("minSpace"),placeholder:t?" ":"Min Space"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?" ":"Max Space"}),r.jsx("input",{type:"number",className:"input w-full",value:c.maxSpace,onChange:u("maxSpace"),placeholder:t?" ":"Max Space"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:"Drive URL"}),r.jsx("input",{className:"input w-full",value:c.driveUrl,onChange:u("driveUrl"),placeholder:"Drive URL"})]}),r.jsxs("div",{className:`flex items-center justify-end gap-3 ${t?"flex-row-reverse":""}`,children:[r.jsx("button",{className:"btn btn-glass",onClick:e,children:t?"":"Cancel"}),r.jsx("button",{className:"btn btn-primary",onClick:e,children:t?"":"Save"})]})]})]})]})]})}function D4e({p:e,isRTL:t,Label:a,onView:s,onEdit:n}){return r.jsxs("div",{className:"p-3",children:[r.jsxs("div",{className:`flex items-center justify-between ${t?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center ${t?"flex-row-reverse":""} gap-3`,children:[e.image&&r.jsx("img",{src:e.image,alt:e.name,className:"h-16 w-28 md:h-20 md:w-32 object-cover rounded-lg"}),e.logo&&r.jsx("img",{src:e.logo,alt:`${e.name} logo`,className:"h-7 w-auto"}),r.jsx("h3",{className:"text-base font-semibold",children:e.name}),r.jsx("span",{className:"inline-flex px-2 py-1 text-xs rounded-md bg-blue-50 text-blue-600 dark:bg-blue-900/30 dark:text-blue-300",children:e.status})]}),r.jsxs("div",{className:`flex items-center gap-2 ${t?"flex-row-reverse":""}`,children:[r.jsxs("button",{className:"btn btn-glass text-xs inline-flex items-center gap-2",onClick:()=>s&&s(e),children:[r.jsx(dd,{})," ",t?"":"View"]}),r.jsxs("button",{className:"btn btn-glass text-xs inline-flex items-center gap-2",onClick:()=>n&&n(e),children:[r.jsx(wf,{})," ",t?"":"Edit"]}),r.jsxs("button",{className:"btn btn-glass text-xs inline-flex items-center gap-2",children:[r.jsx(sx,{})," ",t?"":"Delete"]})]})]}),r.jsxs("div",{className:`mt-2 grid grid-cols-2 md:grid-cols-6 gap-2 text-sm ${t?"text-right":"text-left"}`,children:[r.jsxs("div",{className:"px-2 py-1 rounded-md bg-gray-50 dark:bg-gray-800/40 flex items-center gap-2",children:[r.jsx(QU,{className:"opacity-70"})," ",e.city]}),r.jsxs("div",{className:"px-2 py-1 rounded-md bg-gray-50 dark:bg-gray-800/40 flex items-center gap-2",children:[r.jsx(XU,{className:"opacity-70"})," ",e.developer]}),r.jsxs("div",{className:"px-2 py-1 rounded-md bg-gray-50 dark:bg-gray-800/40",children:[a.units,": ",r.jsx("span",{className:"font-semibold",children:e.units})]}),r.jsxs("div",{className:"px-2 py-1 rounded-md bg-gray-50 dark:bg-gray-800/40",children:[t?"":"Phases",": ",r.jsx("span",{className:"font-semibold",children:e.phases})]}),r.jsxs("div",{className:"px-2 py-1 rounded-md bg-gray-50 dark:bg-gray-800/40",children:[t?"":"Docs",": ",r.jsx("span",{className:"font-semibold",children:e.docs})]}),r.jsxs("div",{className:"px-2 py-1 rounded-md bg-gray-50 dark:bg-gray-800/40",children:[t?" ":"Updated",": ",r.jsx("span",{className:"font-semibold",children:e.lastUpdated})]})]}),r.jsxs("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-[var(--muted-text)] mb-1",children:t?" ":"Completion"}),r.jsx("div",{className:"h-2 bg-gray-200 dark:bg-gray-800 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-primary",style:{width:`${e.completion||0}%`}})})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-[var(--muted-text)] mb-1",children:t?" ":"Revenue Estimate"}),r.jsx("div",{className:"text-sm font-semibold",children:e.revenue?new Intl.NumberFormat("en-EG",{style:"currency",currency:"EGP",maximumFractionDigits:0}).format(e.revenue):t?" ":"N/A"})]})]}),r.jsx("div",{className:`mt-2 flex items-center ${t?"justify-start":"justify-end"}`,children:r.jsxs("button",{className:"inline-flex items-center gap-2 text-primary hover:underline",title:a.share,children:[r.jsx(ZU,{})," ",a.share]})})]})}function M4e({projects:e,isRTL:t,onFilterStatus:a,onFilterCity:s}){const n=e.reduce((c,d)=>c+(d.units||0),0),i=Array.from(new Set(e.map(c=>c.city))),l=e.filter(c=>(c.status||"").toLowerCase()==="active"||(c.status||"").toLowerCase()==="sales").length,o=["Planning","Active","Sales","Completed"].map(c=>({s:c,count:e.filter(d=>d.status===c).length}));return r.jsxs("div",{className:"glass-panel rounded-xl p-3",children:[r.jsx("h3",{className:"text-sm font-semibold",children:t?" ":"Projects Summary"}),r.jsxs("div",{className:"mt-2 grid grid-cols-3 gap-2 text-sm",children:[r.jsxs("button",{className:"p-3 rounded-lg bg-gray-50 dark:bg-gray-800/40 text-left",onClick:()=>a&&a("All"),children:[r.jsx("div",{className:"text-[var(--muted-text)]",children:t?" ":"Projects"}),r.jsx("div",{className:"text-xl font-bold",children:e.length})]}),r.jsxs("div",{className:"p-3 rounded-lg bg-gray-50 dark:bg-gray-800/40",children:[r.jsx("div",{className:"text-[var(--muted-text)]",children:t?" ":"Total Units"}),r.jsx("div",{className:"text-xl font-bold",children:n})]}),r.jsxs("button",{className:"p-3 rounded-lg bg-gray-50 dark:bg-gray-800/40 text-left",onClick:()=>a&&a("Active"),children:[r.jsx("div",{className:"text-[var(--muted-text)]",children:t?"":"Active"}),r.jsx("div",{className:"text-xl font-bold",children:l})]})]}),r.jsx("div",{className:"mt-2 text-sm text-[var(--muted-text)]",children:r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsxs("span",{children:[t?"":"Cities",":"]}),i.map(c=>r.jsx("button",{className:"px-2 py-0.5 text-xs rounded-md bg-gray-100 dark:bg-gray-800",onClick:()=>s&&s(c),children:c},c))]})}),r.jsx("div",{className:"mt-3 h-28",children:r.jsx(Ls,{data:{labels:o.map(c=>c.s),datasets:[{label:t?" ":"By Status",data:o.map(c=>c.count),backgroundColor:"rgba(59,130,246,0.6)",borderRadius:6}]},options:{plugins:{legend:{display:!1}},responsive:!0,maintainAspectRatio:!1,scales:{y:{ticks:{callback:c=>`${c}`}}}}})})]})}function P4e(e){const t=e.map(n=>({Name:n.name,City:n.city,Developer:n.developer,Status:n.status,Units:n.units,Phases:n.phases,Docs:n.docs,LastUpdated:n.lastUpdated,Revenue:n.revenue||0,Completion:(n.completion||0)+"%"})),a=Jt.json_to_sheet(t),s=Jt.book_new();Jt.book_append_sheet(s,a,"Projects"),gs(s,"projects_export.xlsx")}async function L4e(e){try{const t=(await yi(async()=>{const{default:l}=await Promise.resolve().then(()=>Sw);return{default:l}},[])).default,a=await yi(()=>Promise.resolve().then(()=>_w),void 0),s=new t,n=[["Name","City","Developer","Status","Units","Phases","Docs","Updated"]],i=e.map(l=>[l.name,l.city,l.developer,l.status,String(l.units),String(l.phases),String(l.docs),l.lastUpdated]);a.default(s,{head:n,body:i}),s.save("projects_export.pdf")}catch(t){console.error(t),alert("Failed to export PDF")}}function O4e({p:e,isRTL:t,onClose:a}){return r.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[r.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:a}),r.jsxs("div",{className:"relative z-50 glass-panel rounded-xl p-4 w-[900px] max-w-[95vw]",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h2",{className:"text-lg font-semibold",children:t?" ":"Project Details"}),r.jsx("button",{className:"btn btn-glass",onClick:a,children:t?"":"Close"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"text-sm",children:[r.jsxs("span",{className:"text-[var(--muted-text)]",children:[t?"":"Name",":"]})," ",r.jsx("span",{className:"font-semibold",children:e.name})]}),r.jsxs("div",{className:"text-sm",children:[r.jsxs("span",{className:"text-[var(--muted-text)]",children:[t?"":"Status",":"]})," ",r.jsx("span",{className:"font-semibold",children:e.status})]}),r.jsxs("div",{className:"text-sm",children:[r.jsxs("span",{className:"text-[var(--muted-text)]",children:[t?"":"City",":"]})," ",r.jsx("span",{className:"font-semibold",children:e.city})]}),r.jsxs("div",{className:"text-sm",children:[r.jsxs("span",{className:"text-[var(--muted-text)]",children:[t?"":"Developer",":"]})," ",r.jsx("span",{className:"font-semibold",children:e.developer})]}),r.jsxs("div",{className:"text-sm",children:[r.jsxs("span",{className:"text-[var(--muted-text)]",children:[t?"":"Units",":"]})," ",r.jsx("span",{className:"font-semibold",children:e.units})]}),r.jsxs("div",{className:"text-sm",children:[r.jsxs("span",{className:"text-[var(--muted-text)]",children:[t?"":"Phases",":"]})," ",r.jsx("span",{className:"font-semibold",children:e.phases})]}),r.jsxs("div",{className:"text-sm",children:[r.jsxs("span",{className:"text-[var(--muted-text)]",children:[t?"":"Docs",":"]})," ",r.jsx("span",{className:"font-semibold",children:e.docs})]}),r.jsxs("div",{className:"text-sm",children:[r.jsxs("span",{className:"text-[var(--muted-text)]",children:[t?" ":"Updated",":"]})," ",r.jsx("span",{className:"font-semibold",children:e.lastUpdated})]}),r.jsxs("div",{className:"text-sm",children:[r.jsxs("span",{className:"text-[var(--muted-text)]",children:[t?"":"Description",":"]})," ",r.jsx("span",{className:"font-medium",children:e.description})]})]}),r.jsx("div",{className:"rounded-lg overflow-hidden h-48 md:h-full",children:r.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover"})})]})]})]})}function R4e({p:e,isRTL:t,onView:a,onEdit:s,onShare:n,onDelete:i}){return r.jsxs("div",{className:"glass-panel rounded-xl overflow-hidden",children:[r.jsxs("div",{className:"relative h-40 sm:h-48 md:h-56 w-full",children:[r.jsx("img",{src:e.mainImage,alt:e.name,className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"}),r.jsxs("div",{className:`absolute bottom-2 left-2 right-2 flex ${t?"flex-row-reverse":""} items-center justify-between`,children:[r.jsxs("div",{className:`flex items-center gap-3 ${t?"flex-row-reverse":""}`,children:[e.logo&&r.jsx("img",{src:e.logo,alt:"logo",className:"w-10 h-10 rounded-md border border-white/30"}),r.jsxs("div",{className:"text-white",children:[r.jsx("div",{className:"text-lg font-semibold drop-shadow",children:e.name}),r.jsxs("div",{className:"text-xs opacity-90",children:[e.city,"  ",e.developer]})]})]}),r.jsx("div",{className:`flex items-center gap-2 ${t?"flex-row-reverse":""}`,children:r.jsx("span",{className:"px-2 py-1 rounded-md text-xs bg-white/20 text-white border border-white/30",children:e.status})})]})]}),r.jsxs("div",{className:"p-3 sm:p-4",children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-[var(--muted-text)]",children:"Units:"})," ",r.jsx("span",{className:"font-semibold",children:e.units})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-[var(--muted-text)]",children:"Area:"})," ",r.jsxs("span",{className:"font-semibold",children:[e.area," sqm"]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-[var(--muted-text)]",children:"Price:"})," ",r.jsxs("span",{className:"font-semibold",children:["EGP ",e.price.toLocaleString()]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-[var(--muted-text)]",children:"Docs:"})," ",r.jsx("span",{className:"font-semibold",children:e.documents})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-[var(--muted-text)]",children:"Updated:"})," ",r.jsx("span",{className:"font-semibold",children:e.lastUpdated})]}),e.estimatedRevenue!=null&&r.jsxs("div",{children:[r.jsx("span",{className:"text-[var(--muted-text)]",children:"Est. Revenue:"})," ",r.jsxs("span",{className:"font-semibold",children:["EGP ",e.estimatedRevenue.toLocaleString()]})]})]}),e.description&&r.jsx("div",{className:"mt-3 text-sm text-[var(--muted-text)] line-clamp-2",children:e.description}),r.jsxs("div",{className:"mt-4",children:[r.jsx("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-gradient-to-r from-emerald-500 to-emerald-600",style:{width:`${e.progress||0}%`}})}),r.jsxs("div",{className:"mt-1 text-xs text-[var(--muted-text)]",children:[e.progress||0,"% ",t?" ":"Progress"]})]}),r.jsxs("div",{className:`mt-4 flex items-center gap-2 ${t?"flex-row-reverse":""}`,children:[r.jsxs("button",{className:"btn btn-glass text-xs inline-flex items-center gap-2",onClick:()=>a&&a(e),children:[r.jsx(dd,{})," ",t?"":"View"]}),r.jsxs("button",{className:"btn btn-glass text-xs inline-flex items-center gap-2",onClick:()=>s&&s(e),children:[r.jsx(wf,{})," ",t?"":"Edit"]}),r.jsxs("button",{className:"btn btn-glass text-xs inline-flex items-center gap-2",onClick:()=>n&&n(e),children:[r.jsx(ZU,{})," ",t?"":"Share"]}),r.jsxs("button",{className:"btn btn-glass text-xs inline-flex items-center gap-2",onClick:()=>i&&i(e),children:[r.jsx(sx,{})," ",t?"":"Delete"]})]})]})]})}function F4e({stats:e,isRTL:t,onFilter:a}){const s=({label:n,value:i,filter:l})=>r.jsxs("button",{className:"glass-panel rounded-xl p-4 w-full text-left hover:shadow-md transition",onClick:()=>l&&a(l),children:[r.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:n}),r.jsx("div",{className:"text-2xl font-semibold text-indigo-600",children:i})]});return r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3",children:[r.jsx(s,{label:t?" ":"Total Properties",value:e.total,filter:{type:"all"}}),r.jsx(s,{label:t?" ":"Total Units",value:e.totalUnits}),r.jsx(s,{label:t?"":"Sold",value:e.sold,filter:{type:"status",value:"Sold"}}),r.jsx(s,{label:t?"":"Available",value:e.available,filter:{type:"status",value:"Available"}}),r.jsx(s,{label:t?"":"Reserved",value:e.reserved,filter:{type:"status",value:"Reserved"}})]})}function I4e({onClose:e,isRTL:t,onImported:a}){const[s,n]=w.useState([]),[i,l]=w.useState([]),[o,c]=w.useState(null),d=g=>{const v=Array.from(g||[]);n(v)},u=async g=>{const b=(await g.text()).split(/\r?\n/).filter(Boolean),j=b[0].split(","),S=b.slice(1).map(k=>{const N=k.split(","),A={};return j.forEach((_,D)=>A[_.trim()]=(N[D]||"").trim()),A});return{headers:j,rows:S}},f=async()=>{if(!s.length)return;const g=s[0];if(g.name.toLowerCase().endsWith(".csv")){const v=await u(g);c(v)}else c({headers:["File","Type","Size"],rows:[{File:g.name,Type:g.type||"xlsx",Size:`${g.size} bytes`}]})},x=async()=>{const g="Admin",v=new Date().toISOString(),b={file:s.map(j=>j.name).join(", "),user:g,ts:v,status:"Success"};l(j=>[b,...j]),o?.rows?.length&&a(o.rows),e()},m=(g="csv")=>{const b=["name","city","developer","status","units","area","price","documents","lastUpdated","description","progress"].join(",")+`
`,j=new Blob([b],{type:"text/csv;charset=utf-8;"}),S=URL.createObjectURL(j),k=document.createElement("a");k.href=S,k.download=`properties_template.${g}`,k.click(),URL.revokeObjectURL(S)};return r.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[r.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:e}),r.jsxs("div",{className:"relative z-50 glass-panel rounded-xl p-4 w-[900px] max-w-[95vw]",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h2",{className:"text-lg font-semibold",children:t?" ":"Import Properties"}),r.jsx("button",{className:"btn btn-glass",onClick:e,children:t?"":"Close"})]}),r.jsx("div",{className:`border-2 border-dashed rounded-xl p-6 text-center ${t?"dir-rtl":""}`,onDragOver:g=>{g.preventDefault()},onDrop:g=>{g.preventDefault(),d(g.dataTransfer.files)},children:r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx(Qle,{className:"text-2xl"}),r.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:t?"    ":"Drag files here or choose files"}),r.jsx("input",{type:"file",multiple:!0,accept:".csv,.xlsx",onChange:g=>d(g.target.files),className:"mt-2"})]})}),r.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[r.jsxs("button",{className:"btn btn-glass",onClick:()=>m("csv"),children:[r.jsx(eh,{})," CSV ",t?"":"Template"]}),r.jsxs("button",{className:"btn btn-glass",onClick:()=>m("xlsx"),children:[r.jsx(eh,{})," XLSX ",t?"":"Template"]}),r.jsx("div",{className:"flex-1"}),r.jsx("button",{className:"btn btn-primary",onClick:f,children:t?"":"Preview"}),r.jsx("button",{className:"btn btn-success",onClick:x,disabled:!s.length,children:t?"":"Import"})]}),o&&r.jsx("div",{className:"mt-4 overflow-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsx("tr",{children:o.headers.map((g,v)=>r.jsx("th",{className:"text-left p-2 border-b",children:g},v))})}),r.jsx("tbody",{children:o.rows.slice(0,20).map((g,v)=>r.jsx("tr",{children:o.headers.map((b,j)=>r.jsx("td",{className:"p-2 border-b",children:g[b]},j))},v))})]})}),r.jsxs("div",{className:"mt-4",children:[r.jsx("div",{className:"text-sm font-semibold mb-2",children:t?" ":"Import Log"}),r.jsx("div",{className:"space-y-2",children:i.map((g,v)=>r.jsxs("div",{className:"text-xs text-[var(--muted-text)]",children:[g.ts,"  ",g.user,"  ",g.file,"  ",g.status]},v))})]})]})]})}function B4e({onClose:e,isRTL:t,onSave:a}){const{t:s}=Dt(),[n,i]=w.useState("basic"),[l,o]=w.useState({name:"",city:"",developer:"",status:"Available",units:"",area:"",price:"",description:"",gallery:[],layout:[],masterPlan:[],pdfs:[],threed:[],videos:[],mapUrl:"",mainImageFile:null,logoFile:null}),c=["name","city","developer","status"],[d,u]=w.useState({}),f=()=>{const b={};return c.forEach(j=>{String(l[j]||"").trim()||(b[j]="Required")}),u(b),Object.keys(b).length===0},x=(b,j)=>{o(S=>({...S,[b]:[...S[b],...Array.from(j||[])]}))},m=()=>{f()&&(a&&a(l),e())},g=({id:b,label:j})=>r.jsx("button",{className:`px-3 py-2 rounded-md border ${n===b?"bg-blue-600 text-white":""}`,onClick:()=>i(b),children:j}),v=({label:b,keyName:j})=>r.jsxs("div",{className:"border-2 border-dashed rounded-xl p-4 text-sm",onDragOver:S=>{S.preventDefault()},onDrop:S=>{S.preventDefault(),x(j,S.dataTransfer.files)},children:[r.jsx("div",{className:"text-[var(--muted-text)] mb-2",children:b}),r.jsx("input",{type:"file",multiple:!0,onChange:S=>x(j,S.target.files)}),r.jsxs("div",{className:"mt-2 text-xs text-[var(--muted-text)]",children:[l[j]?.length||0," files"]})]});return r.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[r.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:e}),r.jsxs("div",{className:"relative z-50 glass-panel rounded-xl p-4 w-[1000px] max-w-[95vw]",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h2",{className:"text-lg font-semibold",children:t?" ":"Create Property"}),r.jsx("button",{className:"btn btn-glass",onClick:e,children:r.jsx(ru,{})})]}),r.jsxs("div",{className:`flex items-center gap-2 mb-4 ${t?"flex-row-reverse":""}`,children:[r.jsx(g,{id:"basic",label:t?" ":"Basic Info"}),r.jsx(g,{id:"more",label:t?" ":"More Info"}),r.jsx(g,{id:"gallery",label:t?"":"Gallery"}),r.jsx(g,{id:"layout",label:t?"":"Layout"}),r.jsx(g,{id:"master",label:t?" ":"Master Plan"}),r.jsx(g,{id:"pdf",label:"PDF"}),r.jsx(g,{id:"3d",label:"3D"}),r.jsx(g,{id:"video",label:t?"":"Video"}),r.jsx(g,{id:"map",label:t?"":"Map"})]}),n==="basic"&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[["name","city","developer","status","units","area","price"].map(b=>r.jsxs("div",{children:[r.jsx("label",{className:"label capitalize",children:b}),r.jsx("input",{className:"input w-full",value:l[b]||"",onChange:j=>o(S=>({...S,[b]:j.target.value}))}),d[b]&&r.jsx("div",{className:"text-red-500 text-xs mt-1",children:t?" ":"Required field"})]},b)),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"label",children:t?"":"Description"}),r.jsx("textarea",{className:"input w-full",rows:3,value:l.description||"",onChange:b=>o(j=>({...j,description:b.target.value}))})]})]}),n==="more"&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"Logo URL"}),r.jsx("input",{className:"input w-full",value:l.logo||"",onChange:b=>o(j=>({...j,logo:b.target.value}))}),r.jsx("label",{className:"label mt-2",children:t?" ":"Upload Logo"}),r.jsx("input",{type:"file",accept:"image/*",onChange:b=>o(j=>({...j,logoFile:b.target.files?.[0]||null}))}),(l.logoFile||l.logo)&&r.jsx("div",{className:"mt-2",children:r.jsx("img",{src:l.logoFile?URL.createObjectURL(l.logoFile):l.logo,alt:"logo preview",className:"h-16 w-auto object-contain rounded-md border"})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"Main Image URL"}),r.jsx("input",{className:"input w-full",value:l.mainImage||"",onChange:b=>o(j=>({...j,mainImage:b.target.value}))}),r.jsx("label",{className:"label mt-2",children:t?"  ":"Upload Main Image"}),r.jsx("input",{type:"file",accept:"image/*",onChange:b=>o(j=>({...j,mainImageFile:b.target.files?.[0]||null}))}),(l.mainImageFile||l.mainImage)&&r.jsx("div",{className:"mt-2",children:r.jsx("img",{src:l.mainImageFile?URL.createObjectURL(l.mainImageFile):l.mainImage,alt:"main preview",className:"h-28 w-full object-cover rounded-md border"})})]})]}),n==="gallery"&&r.jsx(v,{label:t?" ":"Gallery Images",keyName:"gallery"}),n==="layout"&&r.jsx(v,{label:t?" ":"Layout Images",keyName:"layout"}),n==="master"&&r.jsx(v,{label:t?"  ":"Master Plan Images",keyName:"masterPlan"}),n==="pdf"&&r.jsx(v,{label:t?" PDF":"PDF Files",keyName:"pdfs"}),n==="3d"&&r.jsx(v,{label:t?"  ":"3D Files",keyName:"threed"}),n==="video"&&r.jsx(v,{label:t?" ":"Video Files",keyName:"videos"}),n==="map"&&r.jsxs("div",{children:[r.jsx("label",{className:"label",children:"Map URL"}),r.jsx("input",{className:"input w-full",value:l.mapUrl||"",onChange:b=>o(j=>({...j,mapUrl:b.target.value}))})]}),r.jsxs("div",{className:`mt-4 flex items-center gap-2 ${t?"flex-row-reverse":""}`,children:[r.jsx("button",{className:"btn btn-primary",onClick:m,children:t?"":"Save"}),r.jsx("button",{className:"btn btn-glass",onClick:e,children:t?"":"Cancel"})]})]})]})}function $4e(){const{t:e,i18n:t}=Dt(),a=t.language==="ar",s=w.useMemo(()=>[{id:1,name:"Nile View Residences",city:"Cairo",developer:"Hima Dev",status:"Available",units:120,area:120,price:25e5,documents:12,lastUpdated:"2025-11-05",logo:"https://dummyimage.com/100x100/000/fff.png&text=NV",mainImage:"https://images.unsplash.com/photo-1505691938895-1758d7feb511?q=80&w=1200&auto=format&fit=crop",description:"Prime apartments overlooking the Nile with modern amenities.",progress:35,estimatedRevenue:85e6},{id:2,name:"Palm Villas",city:"Giza",developer:"Hima Dev",status:"Reserved",units:60,area:300,price:65e5,documents:8,lastUpdated:"2025-11-06",logo:"https://dummyimage.com/100x100/111/fff.png&text=PV",mainImage:"https://images.unsplash.com/photo-1505691728975-327f93beedb3?q=80&w=1200&auto=format&fit=crop",description:"Luxury villas with private gardens and pools.",progress:60,estimatedRevenue:12e7},{id:3,name:"Smart Offices",city:"New Cairo",developer:"TechBuild",status:"Sold",units:40,area:95,price:18e5,documents:18,lastUpdated:"2025-11-03",logo:"https://dummyimage.com/100x100/333/fff.png&text=SO",mainImage:"https://images.unsplash.com/photo-1460353581641-37baddab0fa2?q=80&w=1200&auto=format&fit=crop",description:"Modern offices with smart building features.",progress:100,estimatedRevenue:48e6},{id:4,name:"Marina Bay Apartments",city:"Alexandria",developer:"SeaSide Dev",status:"Available",units:200,area:110,price:21e5,documents:10,lastUpdated:"2025-10-29",logo:"https://dummyimage.com/100x100/555/fff.png&text=MB",mainImage:"https://images.unsplash.com/photo-1449844908441-774d237f3b16?q=80&w=1200&auto=format&fit=crop",description:"Sea view apartments with premium facilities.",progress:45,estimatedRevenue:15e7}],[]),[n,i]=w.useState(""),[l,o]=w.useState([]),[c,d]=w.useState([]),[u,f]=w.useState([]),[x,m]=w.useState([]),[g,v]=w.useState([0,1e7]),[b,j]=w.useState([0,500]),[S,k]=w.useState([0,6]),[N,A]=w.useState(!1),[_,D]=w.useState(!1),[P,I]=w.useState(null),B=["Cairo","Giza","New Cairo","Alexandria"],O=["Hima Dev","TechBuild","SeaSide Dev"],U=["Apartment","Villa","Office"],E=w.useMemo(()=>s.filter(z=>{const Q=n.trim().toLowerCase(),ne=!Q||[z.name,z.city,z.developer,z.description].some(he=>String(he).toLowerCase().includes(Q)),re=l.length===0||l.includes(z.status),oe=c.length===0||c.includes(z.city),q=u.length===0||u.includes(z.developer),ie=x.length===0||x.includes(z.type||"Apartment"),ye=z.price>=g[0]&&z.price<=g[1],Y=z.area>=b[0]&&z.area<=b[1],ce=(z.rooms||3)>=S[0]&&(z.rooms||3)<=S[1];return ne&&re&&oe&&q&&ie&&ye&&Y&&ce}),[s,n,l,c,u,x,g,b,S]),R=w.useMemo(()=>({total:s.length,totalUnits:s.reduce((z,Q)=>z+(Q.units||0),0),sold:s.filter(z=>z.status==="Sold").length,available:s.filter(z=>z.status==="Available").length,reserved:s.filter(z=>z.status==="Reserved").length}),[s]),K=()=>{i(""),o([]),d([]),f([]),m([]),v([0,1e7]),j([0,500]),k([0,6])},V=(z,Q,ne)=>{Q.includes(ne)?z(Q.filter(re=>re!==ne)):z([...Q,ne])},Z=()=>{const z=["name","city","developer","status","units","area","price","documents","lastUpdated","progress"],Q=E.map(ie=>z.map(ye=>ie[ye]??"")),ne=z.join(",")+`
`+Q.map(ie=>ie.join(",")).join(`
`),re=new Blob([ne],{type:"text/csv;charset=utf-8;"}),oe=URL.createObjectURL(re),q=document.createElement("a");q.href=oe,q.download="properties.csv",q.click(),URL.revokeObjectURL(oe)},J=async()=>{const[{default:z},Q]=await Promise.all([yi(()=>Promise.resolve().then(()=>Sw),void 0),yi(()=>Promise.resolve().then(()=>_w),void 0)]),ne=new z,re=["Name","City","Dev","Status","Units","Area","Price"],oe=E.map(q=>[q.name,q.city,q.developer,q.status,q.units,q.area,q.price]);Q.default(ne,{head:[re],body:oe}),ne.save("properties.pdf")},ee=6,[W,le]=w.useState(1),M=Math.max(1,Math.ceil(E.length/ee)),X=w.useMemo(()=>E.slice((W-1)*ee,W*ee),[E,W]);return r.jsx(aa,{children:r.jsxs("div",{className:"p-6 bg-[var(--content-bg)] text-[var(--content-text)]",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"flex items-center gap-3",children:r.jsx("h1",{className:"text-2xl font-bold",children:a?" ":"Properties Dashboard"})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{className:"btn btn-primary",onClick:()=>D(!0),children:a?" ":"Create Property"}),r.jsx("button",{className:"btn btn-glass",onClick:()=>A(!0),children:a?"":"Import"}),r.jsx("button",{className:"btn btn-glass",onClick:Z,children:a?" CSV":"Export CSV"}),r.jsx("button",{className:"btn btn-glass",onClick:J,children:a?" PDF":"Export PDF"})]})]}),r.jsx("div",{className:"h-4"}),r.jsx(F4e,{stats:R,isRTL:a,onFilter:z=>{z.type==="status"?o([z.value]):K()}}),r.jsx("div",{className:"h-4"}),r.jsxs("div",{className:"glass-panel rounded-xl p-4 mt-4",children:[r.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-4 gap-3 ${a?"dir-rtl":""}`,children:[r.jsxs("div",{children:[r.jsx("label",{className:"label",children:a?"":"Search"}),r.jsx("input",{className:"input w-full",placeholder:a?" ..":"Name, city...",value:n,onChange:z=>i(z.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:a?"":"Status"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:["Available","Sold","Reserved"].map(z=>r.jsx("button",{className:`chip ${l.includes(z)?"chip-active":""}`,onClick:()=>V(o,l,z),children:z},z))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:a?"":"City"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:B.map(z=>r.jsx("button",{className:`chip ${c.includes(z)?"chip-active":""}`,onClick:()=>V(d,c,z),children:z},z))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:a?"":"Developer"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:O.map(z=>r.jsx("button",{className:`chip ${u.includes(z)?"chip-active":""}`,onClick:()=>V(f,u,z),children:z},z))})]})]}),r.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-3 gap-3 mt-4 ${a?"dir-rtl":""}`,children:[r.jsxs("div",{children:[r.jsx("label",{className:"label",children:a?"":"Type"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:U.map(z=>r.jsx("button",{className:`chip ${x.includes(z)?"chip-active":""}`,onClick:()=>V(m,x,z),children:z},z))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:a?"":"Price"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"range",min:"0",max:"10000000",value:g[0],onChange:z=>v([Number(z.target.value),g[1]]),className:"flex-1"}),r.jsx("input",{type:"range",min:"0",max:"10000000",value:g[1],onChange:z=>v([g[0],Number(z.target.value)]),className:"flex-1"})]}),r.jsxs("div",{className:"text-xs text-[var(--muted-text)]",children:["EGP ",g[0].toLocaleString()," - ",g[1].toLocaleString()]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:a?"":"Area (sqm)"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"range",min:"0",max:"500",value:b[0],onChange:z=>j([Number(z.target.value),b[1]]),className:"flex-1"}),r.jsx("input",{type:"range",min:"0",max:"500",value:b[1],onChange:z=>j([b[0],Number(z.target.value)]),className:"flex-1"})]}),r.jsxs("div",{className:"text-xs text-[var(--muted-text)]",children:[b[0]," - ",b[1]," sqm"]})]})]}),r.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-3 gap-3 mt-4 ${a?"dir-rtl":""}`,children:[r.jsxs("div",{children:[r.jsx("label",{className:"label",children:a?"":"Rooms"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"range",min:"0",max:"6",value:S[0],onChange:z=>k([Number(z.target.value),S[1]]),className:"flex-1"}),r.jsx("input",{type:"range",min:"0",max:"6",value:S[1],onChange:z=>k([S[0],Number(z.target.value)]),className:"flex-1"})]}),r.jsxs("div",{className:"text-xs text-[var(--muted-text)]",children:[S[0]," - ",S[1]]})]}),r.jsx("div",{className:"md:col-span-2 flex items-center justify-end",children:r.jsx("button",{className:"btn btn-glass",onClick:K,children:a?" ":"Clear Filters"})})]})]}),r.jsx("div",{className:"h-4"}),r.jsx("div",{className:"h-4"}),r.jsx("div",{className:"h-4"}),r.jsx("div",{className:"h-4"}),r.jsx("div",{className:"h-4"}),r.jsx("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:X.map(z=>r.jsx(R4e,{p:z,isRTL:a,onView:I,onEdit:()=>D(!0),onShare:()=>navigator?.share?navigator.share({title:z.name,text:z.description,url:window.location.href}):alert("Share not supported"),onDelete:()=>alert("Delete clicked")},z.id))}),r.jsx("div",{className:"h-4"}),r.jsxs("div",{className:`mt-4 flex items-center justify-center gap-2 ${a?"flex-row-reverse":""}`,children:[r.jsx("button",{className:"btn btn-glass",onClick:()=>le(z=>Math.max(1,z-1)),children:a?"":"Prev"}),r.jsxs("span",{className:"text-sm text-[var(--muted-text)]",children:[a?"":"Page"," ",W," / ",M]}),r.jsx("button",{className:"btn btn-glass",onClick:()=>le(z=>Math.min(M,z+1)),children:a?"":"Next"})]}),N&&r.jsx(I4e,{onClose:()=>A(!1),isRTL:a,onImported:z=>console.log("Imported rows",z)}),_&&r.jsx(B4e,{onClose:()=>D(!1),isRTL:a,onSave:z=>console.log("New property",z)}),P&&r.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[r.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>I(null)}),r.jsxs("div",{className:"relative z-50 glass-panel rounded-xl p-4 w-[900px] max-w-[95vw]",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h2",{className:"text-lg font-semibold",children:a?" ":"Property Details"}),r.jsx("button",{className:"btn btn-glass",onClick:()=>I(null),children:a?"":"Close"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{children:[r.jsxs("span",{className:"text-[var(--muted-text)]",children:[a?"":"Name",":"]})," ",r.jsx("span",{className:"font-semibold",children:P.name})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"text-[var(--muted-text)]",children:[a?"":"City",":"]})," ",r.jsx("span",{className:"font-semibold",children:P.city})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"text-[var(--muted-text)]",children:[a?"":"Developer",":"]})," ",r.jsx("span",{className:"font-semibold",children:P.developer})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"text-[var(--muted-text)]",children:[a?"":"Status",":"]})," ",r.jsx("span",{className:"font-semibold",children:P.status})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"text-[var(--muted-text)]",children:[a?"":"Units",":"]})," ",r.jsx("span",{className:"font-semibold",children:P.units})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"text-[var(--muted-text)]",children:[a?"":"Area",":"]})," ",r.jsxs("span",{className:"font-semibold",children:[P.area," sqm"]})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"text-[var(--muted-text)]",children:[a?"":"Price",":"]})," ",r.jsxs("span",{className:"font-semibold",children:["EGP ",P.price.toLocaleString()]})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"text-[var(--muted-text)]",children:[a?" ":"Updated",":"]})," ",r.jsx("span",{className:"font-semibold",children:P.lastUpdated})]})]}),r.jsx("div",{className:"rounded-lg overflow-hidden h-48 md:h-full",children:r.jsx("img",{src:P.mainImage,alt:P.name,className:"w-full h-full object-cover"})})]})]})]})]})})}function mO(e){if(!e)return"-";try{return(typeof e=="string"?new Date(e):e).toLocaleDateString()}catch{return String(e)}}function U4e({request:e,isRTL:t=!1,onView:a,onEdit:s,onAssign:n,onApprove:i,onReject:l,onDelete:o,onExport:c}){if(!e)return null;const d=t?"rtl":"ltr",u=t?"justify-end":"justify-start";return r.jsxs("div",{dir:d,className:"bg-white dark:bg-gray-800 shadow rounded-lg p-4 flex flex-col gap-3 transition hover:shadow-md",children:[r.jsxs("div",{className:"flex items-center justify-between gap-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-xs px-2 py-1 rounded bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:["#",e.id]}),r.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-100",children:e.customerName})]}),r.jsxs("span",{className:"text-xs px-2 py-1 rounded border border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-300",children:[e.type,"  ",e.priority]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Property / Unit"}),r.jsx("span",{className:"text-gray-800 dark:text-gray-100",children:e.propertyUnit||"-"})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Status"}),r.jsx("span",{className:"text-gray-800 dark:text-gray-100",children:e.status})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Created"}),r.jsx("span",{className:"text-gray-800 dark:text-gray-100",children:mO(e.createdAt)})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Updated"}),r.jsx("span",{className:"text-gray-800 dark:text-gray-100",children:mO(e.updatedAt)})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Assigned To"}),r.jsxs("span",{className:"text-gray-800 dark:text-gray-100 flex items-center gap-1",children:[r.jsx(goe,{})," ",e.assignedTo||"-"]})]}),r.jsxs("div",{className:"flex flex-col col-span-2 md:col-span-3",children:[r.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Notes"}),r.jsx("span",{className:"text-gray-800 dark:text-gray-100 line-clamp-2",children:e.description||e.notes||"-"})]})]}),r.jsxs("div",{className:`flex flex-wrap items-center gap-2 ${u}`,children:[r.jsx("button",{onClick:()=>a?.(e),className:"px-3 py-1 text-sm rounded bg-blue-50 text-blue-700 border border-blue-200 hover:bg-blue-100",children:"View"}),r.jsxs("button",{onClick:()=>s?.(e),className:"px-3 py-1 text-sm rounded bg-indigo-50 text-indigo-700 border border-indigo-200 hover:bg-indigo-100 flex items-center gap-1",children:[r.jsx(xoe,{})," Edit"]}),r.jsx("button",{onClick:()=>n?.(e),className:"px-3 py-1 text-sm rounded bg-amber-50 text-amber-700 border border-amber-200 hover:bg-amber-100",children:"Assign"}),r.jsxs("button",{onClick:()=>i?.(e),className:"px-3 py-1 text-sm rounded bg-green-50 text-green-700 border border-green-200 hover:bg-green-100 flex items-center gap-1",children:[r.jsx(Yle,{})," Approve"]}),r.jsxs("button",{onClick:()=>l?.(e),className:"px-3 py-1 text-sm rounded bg-red-50 text-red-700 border border-red-200 hover:bg-red-100 flex items-center gap-1",children:[r.jsx(ru,{})," Reject"]}),r.jsxs("button",{onClick:()=>o?.(e),className:"px-3 py-1 text-sm rounded bg-gray-100 text-gray-700 border border-gray-200 hover:bg-gray-200 flex items-center gap-1",children:[r.jsx(sx,{})," Delete"]}),r.jsxs("button",{onClick:()=>c?.(e),className:"px-3 py-1 text-sm rounded bg-teal-50 text-teal-700 border border-teal-200 hover:bg-teal-100 flex items-center gap-1",children:[r.jsx(roe,{})," Export"]})]})]})}function z4e({requests:e=[],onFilterStatus:t,onFilterPriority:a,onFilterType:s,isRTL:n=!1}){const i=n?"rtl":"ltr",l=e.length,o=e.reduce((x,m)=>(x[m.status]=(x[m.status]||0)+1,x),{}),c=e.reduce((x,m)=>(x[m.priority]=(x[m.priority]||0)+1,x),{}),d=e.reduce((x,m)=>(x[m.type]=(x[m.type]||0)+1,x),{}),u=(o.Approved||0)+(o.Rejected||0),f=({label:x,value:m,onClick:g})=>r.jsxs("button",{onClick:g,className:"flex flex-col items-start bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded p-4 hover:shadow transition",children:[r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:x}),r.jsx("span",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:m})]});return r.jsxs("div",{dir:i,className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3",children:[r.jsx(f,{label:"Total Requests",value:l}),r.jsx(f,{label:"Pending",value:o.Pending||0,onClick:()=>t?.("Pending")}),r.jsx(f,{label:"In Progress",value:o["In Progress"]||0,onClick:()=>t?.("In Progress")}),r.jsx(f,{label:"Approved",value:o.Approved||0,onClick:()=>t?.("Approved")}),r.jsx(f,{label:"Rejected",value:o.Rejected||0,onClick:()=>t?.("Rejected")}),r.jsx(f,{label:"Completed",value:u}),r.jsx(f,{label:"High Priority",value:c.High||0,onClick:()=>a?.("High")}),r.jsx(f,{label:"Medium Priority",value:c.Medium||0,onClick:()=>a?.("Medium")}),r.jsx(f,{label:"Low Priority",value:c.Low||0,onClick:()=>a?.("Low")}),r.jsx(f,{label:"Inquiry",value:d.Inquiry||0,onClick:()=>s?.("Inquiry")}),r.jsx(f,{label:"Maintenance",value:d.Maintenance||0,onClick:()=>s?.("Maintenance")}),r.jsx(f,{label:"Booking",value:d.Booking||0,onClick:()=>s?.("Booking")})]})}function H4e({open:e,onClose:t,onImport:a,isRTL:s=!1,currentUser:n="admin"}){const[i,l]=w.useState([]),[o,c]=w.useState([]),[d,u]=w.useState([]),f=s?"rtl":"ltr",x=w.useMemo(()=>["id","customerName","propertyUnit","status","priority","type","description","assignedTo","createdAt","updatedAt"],[]),m=w.useCallback((k,N="info")=>{u(A=>[{ts:new Date().toISOString(),level:N,message:k,user:n},...A])},[u,n]),g=k=>{const N=k.split(/\r?\n/).filter(Boolean);if(!N.length)return[];const A=N[0].split(",").map(D=>D.trim());return N.slice(1).map(D=>{const P=D.split(","),I={};return A.forEach((B,O)=>{I[B]=P[O]}),I})},v=async k=>{const N=Array.from(k||[]);l(N);for(const A of N)try{const _=A.name.toLowerCase().split(".").pop();if(_==="csv"){const D=await A.text(),P=g(D);c(P),m(`CSV parsed: ${A.name} (${P.length} rows)`,"success")}else if(_==="xlsx"||_==="xls"){const D=(await yi(async()=>{const{default:E}=await Promise.resolve().then(()=>OV);return{default:E}},void 0)).default,P=await A.arrayBuffer(),I=D.read(P,{type:"array"}),B=I.SheetNames[0],O=I.Sheets[B],U=D.utils.sheet_to_json(O);c(U),m(`XLSX parsed: ${A.name} (${U.length} rows)`,"success")}else m(`Unsupported file type: ${A.name}`,"error")}catch(_){console.error(_),m(`Failed to parse ${A.name}: ${_.message}`,"error")}},b=k=>{k.preventDefault(),k.stopPropagation(),v(k.dataTransfer.files)},j=()=>{if(!o.length){m("No rows to import","error"),alert("No rows to import");return}a?.(o),m(`Imported ${o.length} row(s)`,"success"),alert(`Imported ${o.length} row(s)`),t?.()},S=async k=>{const N=[x.join(","),""].join(`
`),A=new Blob([N],{type:"text/csv"}),_=URL.createObjectURL(A),D=document.createElement("a");D.href=_,D.download="requests_template.csv",D.click(),URL.revokeObjectURL(_),m(`Template downloaded (${k})`,"info")};return e?r.jsx("div",{dir:f,className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg w-[95vw] max-w-4xl p-4 flex flex-col gap-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:"Import Requests"}),r.jsx("button",{onClick:t,className:"px-3 py-1 rounded bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:"Close"})]}),r.jsxs("div",{onDrop:b,onDragOver:k=>{k.preventDefault(),k.stopPropagation()},className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded p-6 text-center text-gray-600 dark:text-gray-300",children:[r.jsx("p",{children:"Drag & drop CSV/XLSX files here, or click to select"}),r.jsx("input",{type:"file",multiple:!0,accept:".csv,.xlsx,.xls",onChange:k=>v(k.target.files),className:"mt-3"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>S("csv"),className:"px-3 py-1 rounded bg-blue-50 text-blue-700 border border-blue-200",children:"Download CSV Template"}),r.jsx("button",{onClick:()=>S("xlsx"),className:"px-3 py-1 rounded bg-indigo-50 text-indigo-700 border border-indigo-200",children:"Download XLSX Template"})]}),r.jsx("div",{className:"overflow-auto max-h-60 border border-gray-200 dark:border-gray-700 rounded",children:r.jsxs("table",{className:"min-w-full text-sm",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsx("tr",{children:x.map(k=>r.jsx("th",{className:"px-2 py-1 text-left text-gray-700 dark:text-gray-200 border-b border-gray-200 dark:border-gray-700",children:k},k))})}),r.jsxs("tbody",{children:[o.slice(0,50).map((k,N)=>r.jsx("tr",{className:"odd:bg-white even:bg-gray-50 dark:odd:bg-gray-800 dark:even:bg-gray-700",children:x.map(A=>r.jsx("td",{className:"px-2 py-1 text-gray-800 dark:text-gray-100 border-b border-gray-200 dark:border-gray-700",children:k[A]},A))},N)),!o.length&&r.jsx("tr",{children:r.jsx("td",{colSpan:x.length,className:"px-2 py-6 text-center text-gray-500 dark:text-gray-400",children:"No data preview"})})]})]})}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"text-xs max-h-28 overflow-auto border border-gray-200 dark:border-gray-700 rounded p-2 w-1/2",children:d.map((k,N)=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`px-2 py-0.5 rounded ${k.level==="success"?"bg-green-50 text-green-700":k.level==="error"?"bg-red-50 text-red-700":"bg-gray-100 text-gray-700"}`,children:k.level}),r.jsx("span",{className:"text-gray-700 dark:text-gray-200",children:k.ts}),r.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:k.user}),r.jsx("span",{className:"text-gray-800 dark:text-gray-100",children:k.message})]},N))}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:j,className:"px-3 py-1 rounded bg-green-50 text-green-700 border border-green-200",children:"Import"}),r.jsx("button",{onClick:t,className:"px-3 py-1 rounded bg-gray-100 text-gray-700 border border-gray-200",children:"Cancel"})]})]})]})}):null}const pO=["Inquiry","Maintenance","Booking"],xO=["Low","Medium","High"],gO=["Pending","In Progress","Approved","Rejected"];function V4e({onFiles:e,label:t}){return r.jsxs("div",{onDrop:a=>{a.preventDefault(),e(Array.from(a.dataTransfer.files))},onDragOver:a=>a.preventDefault(),className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded p-4 text-center text-gray-600 dark:text-gray-300",children:[r.jsx("p",{children:t}),r.jsx("input",{type:"file",multiple:!0,onChange:a=>e(Array.from(a.target.files)),className:"mt-2"})]})}function W4e({open:e,onClose:t,onSave:a,initial:s={},isRTL:n=!1}){const[i,l]=w.useState(s.type||pO[0]),[o,c]=w.useState(s.customerName||""),[d,u]=w.useState(s.propertyUnit||""),[f,x]=w.useState(s.priority||xO[1]),[m,g]=w.useState(s.status||gO[0]),[v,b]=w.useState(s.description||""),[j,S]=w.useState(s.assignedTo||""),[k,N]=w.useState([]),[A,_]=w.useState("basic"),D=n?"rtl":"ltr",P=w.useMemo(()=>o&&i&&f,[o,i,f]),I=()=>{if(!P){alert("Please fill required fields");return}const B={id:s.id||Math.floor(Math.random()*1e5),type:i,customerName:o,propertyUnit:d,priority:f,status:m,description:v,assignedTo:j,createdAt:s.createdAt||new Date().toISOString(),updatedAt:new Date().toISOString(),attachments:k};a?.(B),alert("Request saved"),t?.()};return e?r.jsx("div",{dir:D,className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg w-[95vw] max-w-3xl p-4 flex flex-col gap-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:s.id?"Edit Request":"Create Request"}),r.jsx("button",{onClick:t,className:"px-3 py-1 rounded bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:"Close"})]}),r.jsx("div",{className:"flex items-center gap-2 border-b border-gray-200 dark:border-gray-700 pb-2",children:["basic","attachments","notes"].map(B=>r.jsx("button",{onClick:()=>_(B),className:`px-3 py-1 rounded ${A===B?"bg-gray-200 dark:bg-gray-700":"bg-gray-100 dark:bg-gray-800"} text-gray-800 dark:text-gray-100`,children:B},B))}),A==="basic"&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Request Type"}),r.jsx("select",{value:i,onChange:B=>l(B.target.value),className:"w-full mt-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",children:pO.map(B=>r.jsx("option",{value:B,children:B},B))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Priority"}),r.jsx("select",{value:f,onChange:B=>x(B.target.value),className:"w-full mt-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",children:xO.map(B=>r.jsx("option",{value:B,children:B},B))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Status"}),r.jsx("select",{value:m,onChange:B=>g(B.target.value),className:"w-full mt-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",children:gO.map(B=>r.jsx("option",{value:B,children:B},B))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Assigned Staff"}),r.jsx("input",{value:j,onChange:B=>S(B.target.value),className:"w-full mt-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",placeholder:"e.g. John Doe"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Customer Name"}),r.jsx("input",{value:o,onChange:B=>c(B.target.value),className:"w-full mt-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",placeholder:"Customer Name"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Property / Unit"}),r.jsx("input",{value:d,onChange:B=>u(B.target.value),className:"w-full mt-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",placeholder:"Property or Unit"})]})]}),A==="attachments"&&r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsx(V4e,{label:"Drag & drop attachments or click to upload",onFiles:B=>N(O=>[...O,...B])}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:[k.map((B,O)=>r.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded p-2 text-sm flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-700 dark:text-gray-200",children:B.name}),r.jsx("button",{onClick:()=>N(U=>U.filter((E,R)=>R!==O)),className:"text-red-600",children:"Remove"})]},O)),!k.length&&r.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No attachments"})]})]}),A==="notes"&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Description / Notes"}),r.jsx("textarea",{value:v,onChange:B=>b(B.target.value),rows:5,className:"w-full mt-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",placeholder:"Enter description"})]}),r.jsxs("div",{className:"flex items-center justify-end gap-2",children:[r.jsx("button",{onClick:I,disabled:!P,className:`px-3 py-1 rounded border ${P?"bg-green-50 text-green-700 border-green-200":"bg-gray-100 text-gray-500 border-gray-200 cursor-not-allowed"}`,children:"Save"}),r.jsx("button",{onClick:t,className:"px-3 py-1 rounded bg-gray-100 text-gray-700 border border-gray-200",children:"Cancel"})]})]})}):null}const q4e=[{id:1001,customerName:"Alice Johnson",propertyUnit:"Palm Residency A-12",status:"Pending",priority:"High",type:"Inquiry",createdAt:"2025-10-02",updatedAt:"2025-10-05",assignedTo:"John Doe",description:"Interested in 2BHK, need pricing details."},{id:1002,customerName:"Omar Ali",propertyUnit:"Green Villas V-7",status:"In Progress",priority:"Medium",type:"Maintenance",createdAt:"2025-10-01",updatedAt:"2025-10-06",assignedTo:"Sara Ahmed",description:"AC unit not cooling properly."},{id:1003,customerName:"Emily Clark",propertyUnit:"Blue Towers T-22",status:"Approved",priority:"Low",type:"Booking",createdAt:"2025-09-29",updatedAt:"2025-10-03",assignedTo:"Mark Spencer",description:"Booking confirmed for 1BR apartment."},{id:1004,customerName:"Khaled Mohamed",propertyUnit:"Sunset Apartments S-9",status:"Rejected",priority:"Low",type:"Inquiry",createdAt:"2025-10-03",updatedAt:"2025-10-04",assignedTo:"Nadia Karim",description:"Requested discount not applicable."},{id:1005,customerName:"Sara Ibrahim",propertyUnit:"Palm Residency A-08",status:"Pending",priority:"High",type:"Booking",createdAt:"2025-10-05",updatedAt:"2025-10-05",assignedTo:"John Doe",description:"Urgent booking inquiry for 3BR."}];function G4e(){const{toggleTheme:e}=Vi(),[t,a]=w.useState(!1),[s,n]=w.useState(!0),[i,l]=w.useState(""),[o,c]=w.useState([]),[d,u]=w.useState([]),[f,x]=w.useState([]),[m,g]=w.useState(""),[v,b]=w.useState(""),j=["Pending","In Progress","Approved","Rejected"],S=["Inquiry","Maintenance","Booking"],k=["Low","Medium","High"],N=(re,oe,q)=>{const ie=re.includes(q)?re.filter(ye=>ye!==q):[...re,q];oe(ie)},A=[...o.map(re=>({label:re,kind:"status"})),...d.map(re=>({label:re,kind:"type"})),...f.map(re=>({label:re,kind:"priority"})),...m?[{label:`From ${m}`,kind:"from"}]:[],...v?[{label:`To ${v}`,kind:"to"}]:[]],[_,D]=w.useState(!1),[P,I]=w.useState(!1),[B,O]=w.useState(q4e),U=w.useMemo(()=>B.filter(re=>{const oe=i.trim().toLowerCase(),q=!oe||String(re.id).includes(oe)||(re.customerName||"").toLowerCase().includes(oe)||(re.propertyUnit||"").toLowerCase().includes(oe)||(re.status||"").toLowerCase().includes(oe)||(re.description||"").toLowerCase().includes(oe),ie=!o.length||o.includes(re.status),ye=!d.length||d.includes(re.type),Y=!f.length||f.includes(re.priority),ce=re.createdAt?new Date(re.createdAt).getTime():0,he=!m||ce>=new Date(m).getTime(),ue=!v||ce<=new Date(v).getTime();return q&&ie&&ye&&Y&&he&&ue}),[B,i,o,d,f,m,v]),[E,R]=w.useState(1),K=8,V=Math.max(1,Math.ceil(U.length/K)),Z=w.useMemo(()=>U.slice((E-1)*K,E*K),[U,E]),J=()=>{l(""),c([]),u([]),x([]),g(""),b("")},ee=re=>c([re]),W=re=>x([re]),le=re=>u([re]),M=re=>{O(oe=>oe.find(ie=>ie.id===re.id)?oe.map(ie=>ie.id===re.id?re:ie):[re,...oe])},X=re=>{const oe=re.map((q,ie)=>({id:Number(q.id)||1e4+ie,customerName:q.customerName||q.customer||"",propertyUnit:q.propertyUnit||q.property||"",status:q.status||"Pending",priority:q.priority||"Medium",type:q.type||"Inquiry",description:q.description||"",assignedTo:q.assignedTo||"",createdAt:q.createdAt||new Date().toISOString(),updatedAt:q.updatedAt||new Date().toISOString()}));O(q=>[...oe,...q])},z=async()=>{const re=(await yi(async()=>{const{default:ie}=await Promise.resolve().then(()=>OV);return{default:ie}},void 0)).default,oe=re.utils.json_to_sheet(U),q=re.utils.book_new();re.utils.book_append_sheet(q,oe,"Requests"),re.writeFile(q,"requests_export.xlsx")},Q=async()=>{const re=(await yi(async()=>{const{default:Y}=await Promise.resolve().then(()=>Sw);return{default:Y}},void 0)).default,oe=(await yi(async()=>{const{default:Y}=await Promise.resolve().then(()=>_w);return{default:Y}},void 0)).default,q=new re,ie=[["ID","Customer","Property/Unit","Status","Priority","Type","Created","Updated"]],ye=U.map(Y=>[Y.id,Y.customerName,Y.propertyUnit,Y.status,Y.priority,Y.type,Y.createdAt,Y.updatedAt]);oe(q,{head:ie,body:ye}),q.save("requests_export.pdf")},ne=t?"rtl":"ltr";return r.jsxs("div",{dir:ne,className:"p-4 space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:"Requests Dashboard"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>a(re=>!re),className:"px-3 py-1 rounded bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:t?"EN":"RTL"}),r.jsx("button",{onClick:e,className:"px-3 py-1 rounded bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:"Theme"}),r.jsx("button",{onClick:()=>I(!0),className:"px-3 py-1 rounded bg-indigo-50 text-indigo-700 border border-indigo-200",children:"Import"}),r.jsx("button",{onClick:()=>D(!0),className:"px-3 py-1 rounded bg-green-50 text-green-700 border border-green-200",children:"Create"})]})]}),r.jsx(z4e,{requests:B,onFilterStatus:ee,onFilterPriority:W,onFilterType:le,isRTL:t}),r.jsx("div",{className:"h-4"}),r.jsx("div",{className:"h-4"}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4 space-y-4",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(rx,{className:"absolute left-3 top-3 text-gray-400"}),r.jsx("input",{value:i,onChange:re=>l(re.target.value),placeholder:"     ",className:"w-full rounded pl-9 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:()=>n(re=>!re),className:"px-3 py-2 rounded bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 flex items-center gap-2",children:[r.jsx(Z2,{})," ",s?" ":" "]}),r.jsxs("button",{onClick:z,className:"px-3 py-2 rounded bg-teal-50 text-teal-700 border border-teal-200 flex items-center gap-2",children:[r.jsx(JU,{}),"  Excel"]}),r.jsxs("button",{onClick:Q,className:"px-3 py-2 rounded bg-pink-50 text-pink-700 border border-pink-200 flex items-center gap-2",children:[r.jsx(soe,{}),"  PDF"]})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[A.map((re,oe)=>r.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 text-sm",children:[re.label,r.jsx("button",{onClick:()=>{re.kind==="status"&&c(q=>q.filter(ie=>ie!==re.label)),re.kind==="type"&&u(q=>q.filter(ie=>ie!==re.label)),re.kind==="priority"&&x(q=>q.filter(ie=>ie!==re.label)),re.kind==="from"&&g(""),re.kind==="to"&&b("")},className:"hover:text-red-600","aria-label":"Remove filter",children:r.jsx(ru,{})})]},oe)),!A.length&&r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"   "})]}),s&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-300",children:""}),r.jsx("div",{className:"flex flex-wrap gap-2",children:j.map(re=>{const oe=o.includes(re);return r.jsx("button",{onClick:()=>N(o,c,re),className:`px-3 py-1 rounded-full border ${oe?"bg-blue-600 text-white border-blue-700":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-200 border-gray-300 dark:border-gray-600"}`,children:re},re)})})]}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-300",children:""}),r.jsx("div",{className:"flex flex-wrap gap-2",children:S.map(re=>{const oe=d.includes(re);return r.jsx("button",{onClick:()=>N(d,u,re),className:`px-3 py-1 rounded-full border ${oe?"bg-violet-600 text-white border-violet-700":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-200 border-gray-300 dark:border-gray-600"}`,children:re},re)})})]}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-300",children:""}),r.jsx("div",{className:"flex flex-wrap gap-2",children:k.map(re=>{const oe=f.includes(re);return r.jsx("button",{onClick:()=>N(f,x,re),className:`px-3 py-1 rounded-full border ${oe?"bg-emerald-600 text-white border-emerald-700":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-200 border-gray-300 dark:border-gray-600"}`,children:re},re)})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[r.jsxs("div",{className:"relative",children:[r.jsx("label",{className:"text-xs text-gray-600 dark:text-gray-300",children:""}),r.jsx(W1,{className:"absolute left-3 bottom-3 text-gray-400"}),r.jsx("input",{type:"date",value:m,onChange:re=>g(re.target.value),className:"w-full rounded pl-9 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("label",{className:"text-xs text-gray-600 dark:text-gray-300",children:""}),r.jsx(W1,{className:"absolute left-3 bottom-3 text-gray-400"}),r.jsx("input",{type:"date",value:v,onChange:re=>b(re.target.value),className:"w-full rounded pl-9 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2"})]})]}),r.jsx("div",{className:"flex items-center justify-end",children:r.jsxs("button",{onClick:J,className:"px-3 py-2 rounded bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 flex items-center gap-2",children:[r.jsx(ru,{}),"   "]})})]})]}),r.jsx("div",{className:"h-3"}),r.jsx("div",{className:"h-3"}),r.jsx("div",{className:"h-3"}),r.jsx("div",{className:"h-3"}),r.jsx("div",{className:"h-3"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[Z.map(re=>r.jsx(U4e,{request:re,isRTL:t,onView:()=>alert(`View request ${re.id}`),onEdit:()=>D(!0)||null,onAssign:()=>alert(`Assign request ${re.id}`),onApprove:()=>O(oe=>oe.map(q=>q.id===re.id?{...q,status:"Approved",updatedAt:new Date().toISOString()}:q)),onReject:()=>O(oe=>oe.map(q=>q.id===re.id?{...q,status:"Rejected",updatedAt:new Date().toISOString()}:q)),onDelete:()=>O(oe=>oe.filter(q=>q.id!==re.id)),onExport:async()=>{const oe=(await yi(async()=>{const{default:ce}=await Promise.resolve().then(()=>Sw);return{default:ce}},void 0)).default,q=(await yi(async()=>{const{default:ce}=await Promise.resolve().then(()=>_w);return{default:ce}},void 0)).default,ie=new oe,ye=[["Field","Value"]],Y=Object.entries(re).map(([ce,he])=>[ce,String(he)]);q(ie,{head:ye,body:Y}),ie.save(`request_${re.id}.pdf`)}},re.id)),!Z.length&&r.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"No requests match filters."})]}),r.jsx("div",{className:"h-4"}),r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx("button",{onClick:()=>R(re=>Math.max(1,re-1)),className:"px-3 py-1 rounded bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:"Prev"}),r.jsxs("span",{className:"text-gray-700 dark:text-gray-200",children:["Page ",E," / ",V]}),r.jsx("button",{onClick:()=>R(re=>Math.min(V,re+1)),className:"px-3 py-1 rounded bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:"Next"})]}),r.jsx(W4e,{open:_,onClose:()=>D(!1),onSave:M,isRTL:t}),r.jsx(H4e,{open:P,onClose:()=>I(!1),onImport:X,isRTL:t})]})}function K4e(){return r.jsxs("div",{className:"p-4 bg-[var(--content-bg)] text-[var(--content-text)]",children:[r.jsx("h1",{className:"text-xl font-semibold",children:"Buyer Requests"}),r.jsx("p",{className:"mt-2 text-[var(--muted-text)]",children:"Inventory > Buyer Requests placeholder page."})]})}function Y4e(){return r.jsxs("div",{className:"p-4 bg-[var(--content-bg)] text-[var(--content-text)]",children:[r.jsx("h1",{className:"text-xl font-semibold",children:"Seller Requests"}),r.jsx("p",{className:"mt-2 text-[var(--muted-text)]",children:"Inventory > Seller Requests placeholder page."})]})}function X4e(){return r.jsxs("div",{className:"p-4 bg-[var(--content-bg)] text-[var(--content-text)]",children:[r.jsx("h1",{className:"text-xl font-semibold",children:"Dev Companies"}),r.jsx("p",{className:"mt-2 text-[var(--muted-text)]",children:"Inventory > Dev Companies placeholder page."})]})}Sr.register(Cn,An,$n,rn,an);function J4e({channelsData:e,height:t=240}){const{t:a}=Dt(),s=["Email","SMS","Social","Ads"],n=e?.values||[3200,1800,2400,1500],i=["#2563eb","#f59e0b","#22c55e","#8b5cf6"],o=typeof document<"u"&&document.documentElement.classList.contains("dark")?"#e5e7eb":"#374151",c={labels:s,datasets:[{label:a("Channel Performance"),data:n,backgroundColor:i,borderRadius:6,barThickness:24}]},d={responsive:!0,maintainAspectRatio:!1,scales:{x:{grid:{display:!1},ticks:{font:{size:12},color:o}},y:{grid:{display:!1},ticks:{font:{size:12},color:o}}},plugins:{legend:{display:!1}}};return r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-3 text-transparent bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 bg-clip-text",children:a("Channel Performance")}),r.jsx("div",{style:{height:typeof t=="number"?`${t}px`:t},children:r.jsx(Ls,{data:c,options:d})}),r.jsx("div",{className:"mt-3 text-xs text-[var(--muted-text)] dark:text-blue-200",children:a("Last 30 Days")})]})}function Q4e({isOpen:e,onClose:t,onCreate:a}){const{t:s,i18n:n}=Dt(),i=(n.language||"").toLowerCase()==="ar",[l,o]=w.useState({name:"",channel:"Email",audience:"",startAt:"",endAt:"",budget:"",description:""}),c=u=>{const{name:f,value:x}=u.target;o(m=>({...m,[f]:x}))},d=u=>{u.preventDefault(),!(!l.name||!l.channel||!l.startAt)&&(a?.(l),t?.())};return e?r.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[r.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:t}),r.jsxs("div",{className:"relative bg-white dark:bg-blue-900 rounded-lg shadow-xl w-full max-w-2xl mx-4",children:[r.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200 dark:border-blue-700",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:s("Create Campaign")}),r.jsx("button",{className:"text-gray-500 hover:text-gray-700 dark:text-gray-300",onClick:t,children:""})]}),r.jsxs("form",{onSubmit:d,className:"p-4 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:s("Campaign Name")}),r.jsx("input",{type:"text",name:"name",value:l.name,onChange:c,className:"w-full border rounded px-3 py-2 bg-white dark:bg-blue-900 dark:text-white",placeholder:s("e.g., Summer Promo"),required:!0})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:s("Channel")}),r.jsxs("select",{name:"channel",value:l.channel,onChange:c,className:"w-full border rounded px-3 py-2 bg-white dark:bg-blue-900 dark:text-white",required:!0,children:[r.jsx("option",{children:"Email"}),r.jsx("option",{children:"SMS"}),r.jsx("option",{children:"Social"}),r.jsx("option",{children:"Ads"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:s("Audience Segment")}),r.jsx("input",{type:"text",name:"audience",value:l.audience,onChange:c,className:"w-full border rounded px-3 py-2 bg-white dark:bg-blue-900 dark:text-white",placeholder:s("e.g., New Leads in 30 days")})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:s("Start At")}),r.jsx("input",{type:"datetime-local",name:"startAt",value:l.startAt,onChange:c,className:"w-full border rounded px-3 py-2 bg-white dark:bg-blue-900 dark:text-white",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:s("End At")}),r.jsx("input",{type:"datetime-local",name:"endAt",value:l.endAt,onChange:c,className:"w-full border rounded px-3 py-2 bg-white dark:bg-blue-900 dark:text-white"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:s("Budget")}),r.jsx("input",{type:"number",name:"budget",value:l.budget,onChange:c,className:"w-full border rounded px-3 py-2 bg-white dark:bg-blue-900 dark:text-white",placeholder:"0",min:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:s("Description")}),r.jsx("textarea",{name:"description",value:l.description,onChange:c,className:"w-full border rounded px-3 py-2 bg-white dark:bg-blue-900 dark:text-white",rows:3,placeholder:s("Short description")})]}),r.jsxs("div",{className:`flex items-center justify-end gap-2 ${i?"flex-row-reverse":""}`,children:[r.jsx("button",{type:"button",className:"btn",onClick:t,children:s("Cancel")}),r.jsx("button",{type:"submit",className:"btn btn-primary",children:s("Create")})]})]})]})]}):null}Sr.register(Cn,An,xl,ai,rn,an);function Z4e({series:e}){const{t}=Dt(),a=e?.labels||["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],s=e?.values||[8,10,9,12,15,18,16,20,22,24,23,28],i=typeof document<"u"&&document.documentElement.classList.contains("dark")?"#e5e7eb":"#374151",l={labels:a,datasets:[{label:t("Reports"),data:s,borderColor:"#22c55e",backgroundColor:"rgba(34, 197, 94, 0.15)",tension:.35,pointRadius:3,pointBackgroundColor:"#22c55e",fill:!0}]},o={responsive:!0,maintainAspectRatio:!1,scales:{x:{grid:{display:!1},ticks:{color:i,font:{size:12}}},y:{grid:{display:!1},ticks:{color:i,font:{size:12}}}},plugins:{legend:{display:!1}}};return r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-3 text-transparent bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 bg-clip-text",children:t("Reporting Over Time")}),r.jsx("div",{style:{height:"220px"},children:r.jsx(no,{data:l,options:o})})]})}function e5e(){const{t:e,i18n:t}=Dt(),a=(t.language||"").toLowerCase()==="ar",[s,n]=w.useState(!1);e("On Track"),e("At Risk"),e("Paused");const i=18,l=25,o=3.2,c=3.7,d=[{id:"meta-1",title:"Meta Ads API",account:e("Account Linked")+": 105",status:e("Linked"),lastSync:"2h",btn:e("Configure")},{id:"meta-2",title:"Meta Ads API",account:e("Account Linked")+": 103",status:e("Linked"),lastSync:"2h",btn:e("Configure")},{id:"meta-3",title:"Meta Ads API",account:e("Account Linked")+": 102",status:e("Linked"),lastSync:"1h",btn:e("Configure")}],u=[{name:e("Summer Promo"),status:"SMS",spend:255,clicks:425,conversions:40,roi:"3.2x"},{name:e("Winback Series"),status:"SMS",spend:205,clicks:355,conversions:29,roi:"2.6x"},{name:e("Product Launch"),status:"SMS",spend:285,clicks:465,conversions:33,roi:"3.0x"},{name:e("Global Ad"),status:"SMS",spend:245,clicks:415,conversions:31,roi:"2.7x"}],f=[{platform:"Meta Ads",spend:886,impressions:6655,conversions:"26%"},{platform:"Google Ads",spend:906,impressions:6888,conversions:"29%"},{platform:"Email",spend:311,impressions:1777,conversions:"18%"},{platform:"SMS",spend:255,impressions:1555,conversions:"33%"}],x=P=>{console.log(" New Campaign Created:",P),n(!1)},[m,g]=w.useState(!1),[v,b]=w.useState(!1),j=async()=>{const P="http://localhost:8787";try{const I=await fetch(`${P}/api/gmail/labels`),B=await I.json();if(!I.ok)throw new Error(B.error||"labels_failed");const O=(B.labels||[]).map(U=>U.name).join(", ");alert(`Gmail Labels: ${O||"No labels"}`)}catch(I){console.error("Fetch Gmail labels failed:",I),alert(`  Labels  Gmail: ${I.message}`)}},S=async()=>{const P="http://localhost:8787";try{await fetch(`${P}/api/oauth/google/revoke`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:"gmail"})})}catch{}try{localStorage.removeItem("oauth_token_gmail"),localStorage.removeItem("oauth_redirect_uri_gmail")}catch{}b(!1),A(I=>I.map(B=>B.id==="gmail"?{...B,status:e("Disconnected"),connected:!1}:B))},k=async()=>{const P="http://localhost:8787";try{await fetch(`${P}/api/oauth/google/revoke`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:"ads"})})}catch{}try{localStorage.removeItem("oauth_token_ads"),localStorage.removeItem("oauth_redirect_uri_ads")}catch{}g(!1),A(I=>I.map(B=>B.id==="google-ads"?{...B,status:e("Disconnected"),connected:!1}:B))},[N,A]=w.useState([{id:"meta",name:"Meta",icon:w5,bg:"bg-[#1877F2]",status:e("Connected"),connected:!0},{id:"mailchimp",name:"MailChimp",icon:j5,bg:"bg-amber-500",status:e("Connected"),connected:!0},{id:"whatsapp",name:"WhatsApp",icon:Zu,bg:"bg-green-500",status:e("Connected"),connected:!0},{id:"gmail",name:"Gmail",icon:My,bg:"bg-[#DB4437]",status:e("Disconnected"),connected:!1},{id:"google-ads",name:"Google Ads",icon:My,bg:"bg-red-500",status:e("Disconnected"),connected:!1}]),_=()=>{`${Math.random().toString(36).slice(2)}`;{alert("Google Ads Client ID  .  VITE_GOOGLE_ADS_CLIENT_ID   .env    .");return}},D=()=>{`${Math.random().toString(36).slice(2)}`;{alert("Gmail Client ID  .  VITE_GMAIL_CLIENT_ID    VITE_GOOGLE_ADS_CLIENT_ID  .env    .");return}};return w.useEffect(()=>{(async()=>{const I=new URLSearchParams(window.location.search),B=I.get("code"),O=I.get("state")||"";if(!B)return;const U=`${window.location.origin}/crm-ibrahim/`,E="http://localhost:8787";try{if(O.startsWith("gmail:")&&!v){const R=localStorage.getItem("oauth_redirect_uri_gmail"),K=R||void 0||U;console.log("[oauth] exchange Gmail",{redirectUri:K,hasStored:!!R});const V=await fetch(`${E}/api/oauth/google/exchange`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:B,redirectUri:K,provider:"gmail"})}),Z=await V.json();if(!V.ok){const J=Z?.message||Z?.error||"gmail_exchange_failed",ee=Z?.details&&(Z.details.error_description||Z.details.error)||"";console.error("OAuth exchange failed (gmail):",Z),alert(`  Gmail: ${J}${ee?"  "+ee:""}`);return}try{localStorage.setItem("oauth_token_gmail",JSON.stringify(Z.token||Z))}catch{}b(!0),A(J=>J.map(ee=>ee.id==="gmail"?{...ee,status:e("Connected"),connected:!0}:ee))}else if(O.startsWith("ads:")&&!m){const R=localStorage.getItem("oauth_redirect_uri_ads"),K=R||void 0||U;console.log("[oauth] exchange Google Ads",{redirectUri:K,hasStored:!!R});const V=await fetch(`${E}/api/oauth/google/exchange`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:B,redirectUri:K,provider:"ads"})}),Z=await V.json();if(!V.ok){const J=Z?.message||Z?.error||"ads_exchange_failed",ee=Z?.details&&(Z.details.error_description||Z.details.error)||"";console.error("OAuth exchange failed (ads):",Z),alert(`  Google Ads: ${J}${ee?"  "+ee:""}`);return}try{localStorage.setItem("oauth_token_ads",JSON.stringify(Z.token||Z))}catch{}g(!0),A(J=>J.map(ee=>ee.id==="google-ads"?{...ee,status:e("Connected"),connected:!0}:ee))}}catch(R){console.error("OAuth exchange failed:",R),alert(`  ${O.startsWith("gmail:")?"Gmail":"Google Ads"}: ${R.message}`)}finally{const R=window.location.origin+"/crm-ibrahim/"+window.location.hash;window.history.replaceState({},document.title,R)}})()},[m,v,e]),r.jsxs("div",{className:"space-y-6 bg-[var(--content-bg)] text-[var(--content-text)] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:e("Marketing Modules (Enhanced)")}),r.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:e("Welcome, Super Admin!")})]}),r.jsx("div",{className:`flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:r.jsx("button",{className:"btn btn-primary",onClick:()=>n(!0),children:e("Create Campaign")})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-4",children:[r.jsxs("section",{className:"card glass-card p-4 lg:col-span-3",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Overview")}),r.jsxs("div",{className:"flex items-start gap-6",children:[r.jsx(Zn,{percentage:80,centerValue:i,centerLabel:`${e("Total Active Campaigns")}:`,centerLabelPosition:"above",subLabel:e("Last 30 Days"),size:200,primaryColor:"#2dd4bf",secondaryColor:"#475569",cutout:"60%",spacing:0,borderRadius:12,centerValueClass:"text-4xl font-bold",centerLabelClass:"text-xs text-[var(--muted-text)] mb-1",subLabelClass:"text-[10px] text-[var(--muted-text)] mt-0.5",innerTrack:!0,innerTrackRadius:"92%",innerTrackCutout:"86%",innerTrackColor:"#3f4a5a"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[r.jsx("div",{className:"px-3 py-1 rounded-lg border border-[var(--panel-border)] bg-[var(--panel-bg)] text-xs text-[var(--muted-text)]",children:e("Avg Open Rate")}),r.jsx("div",{className:"px-3 py-1 rounded-lg border border-[var(--panel-border)] bg-[var(--panel-bg)] text-xs text-[var(--muted-text)]",children:e("Avg Click Rate")})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-baseline justify-between",children:[r.jsx("span",{className:"text-xs text-[var(--muted-text)]",children:e("Avg Open Rate")}),r.jsxs("div",{className:"flex items-baseline gap-8",children:[r.jsxs("span",{className:"text-xl font-bold",children:[l,"%"]}),r.jsxs("span",{className:"text-xl font-bold",children:[o,"%"]})]})]}),r.jsxs("div",{className:"flex items-baseline justify-between",children:[r.jsx("span",{className:"text-xs text-[var(--muted-text)]",children:e("Conversion Rate")}),r.jsxs("div",{className:"flex items-baseline gap-8",children:[r.jsxs("span",{className:"text-xl font-bold",children:[c,"%"]}),r.jsxs("span",{className:"text-xl font-bold",children:[c,"%"]})]})]})]})]})]})]}),r.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-4 gap-3",children:[d.map(P=>r.jsxs("section",{className:"card glass-card p-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"text-sm font-semibold",children:P.title}),r.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-200",children:P.status})]}),r.jsxs("div",{className:"text-xs text-[var(--muted-text)] mb-3",children:[P.account,"  ",e("Last Sync"),": ",P.lastSync]}),r.jsx("button",{className:"btn btn-secondary w-full h-9 text-sm",children:P.btn})]},P.id)),r.jsx("section",{className:"card glass-card p-3",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-around",children:[r.jsx("span",{className:"inline-flex items-center justify-center w-10 h-10 rounded-xl bg-[#1877F2]",children:w5&&r.jsx(w5,{className:"text-white w-4 h-4"})}),r.jsx("span",{className:"inline-flex items-center justify-center w-10 h-10 rounded-xl bg-red-500",children:My&&r.jsx(My,{className:"text-white w-4 h-4"})})]}),r.jsxs("div",{className:"flex items-center justify-around",children:[r.jsx("span",{className:"inline-flex items-center justify-center w-10 h-10 rounded-xl bg-amber-500",children:j5&&r.jsx(j5,{className:"text-white w-4 h-4"})}),r.jsx("span",{className:"inline-flex items-center justify-center w-10 h-10 rounded-xl bg-green-500",children:Zu&&r.jsx(Zu,{className:"text-white w-4 h-4"})})]})]})})]})]}),r.jsx("div",{className:"border-t border-[var(--panel-border)] my-2 md:my-3"}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 items-stretch",children:[r.jsxs("div",{className:"flex flex-col h-full gap-4",children:[r.jsxs("section",{className:"card glass-card p-4",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Top Active Campaigns Dashboard")}),r.jsx(J4e,{height:180})]}),r.jsxs("section",{className:"card glass-card p-4 h-[300px] flex flex-col",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Campaign Management Last 30 Days")}),r.jsx("div",{className:"flex-1",children:r.jsxs("table",{className:"nova-table w-full table-fixed text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left text-gray-600 dark:text-gray-300",children:[r.jsx("th",{className:"py-2 px-4",children:e("Campaign Name")}),r.jsx("th",{className:"py-2 px-4",children:e("Status")}),r.jsx("th",{className:"py-2 px-4",children:e("Spend")}),r.jsx("th",{className:"py-2 px-4",children:e("Clicks")}),r.jsx("th",{className:"py-2 px-4",children:e("Conversions")}),r.jsx("th",{className:"py-2 px-4",children:"ROI"})]})}),r.jsx("tbody",{className:"text-gray-800 dark:text-gray-100",children:u.map((P,I)=>r.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-800",children:[r.jsx("td",{className:"py-2 px-4",children:P.name}),r.jsx("td",{className:"py-2 px-4",children:P.status}),r.jsx("td",{className:"py-2 px-4",children:P.spend}),r.jsx("td",{className:"py-2 px-4",children:P.clicks}),r.jsx("td",{className:"py-2 px-4",children:P.conversions}),r.jsx("td",{className:"py-2 px-4",children:P.roi})]},I))})]})})]})]}),r.jsxs("div",{className:"flex flex-col h-full gap-4",children:[r.jsxs("section",{className:"card glass-card p-4 flex-1 min-h-0",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Cross-Channel Performance")}),r.jsx("div",{children:r.jsxs("table",{className:"nova-table w-full table-fixed text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left text-gray-600 dark:text-gray-300",children:[r.jsx("th",{className:"py-2 px-4",children:e("Platform")}),r.jsx("th",{className:"py-2 px-4",children:e("Spend")}),r.jsx("th",{className:"py-2 px-4",children:e("Impressions")}),r.jsx("th",{className:"py-2 px-4",children:e("Conversions")})]})}),r.jsx("tbody",{className:"text-gray-800 dark:text-gray-100",children:f.map((P,I)=>r.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-800",children:[r.jsx("td",{className:"py-2 px-4",children:P.platform}),r.jsx("td",{className:"py-2 px-4",children:P.spend}),r.jsx("td",{className:"py-2 px-4",children:P.impressions}),r.jsx("td",{className:"py-2 px-4",children:P.conversions})]},I))})]})})]}),r.jsxs("section",{className:"card glass-card p-4",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Automation & Rules")}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[r.jsx("div",{className:"p-3 rounded border border-[var(--panel-border)] bg-[var(--panel-bg)] text-sm text-[var(--muted-text)]",children:e("Pause Google Ads campaign if CPA exceeds 3x")}),r.jsxs("button",{className:"btn btn-outline",children:["+ ",e("Create Automation Rule")]})]})]}),r.jsx("section",{className:"card glass-card p-4",children:r.jsxs("div",{className:`flex items-center justify-between gap-3 ${a?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{className:"btn btn-primary",onClick:()=>n(!0),children:["+ ",e("Create New Campaign")]}),r.jsx("button",{className:"btn btn-secondary",children:e("Edit")}),r.jsx("button",{className:"btn btn-outline",children:e("View")})]}),r.jsxs("div",{className:"text-xs text-[var(--muted-text)]",children:["Increase Google budget exceeds 10%  ",e("Create Automation Rule")]})]})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[r.jsx("section",{className:"card glass-card p-4",children:r.jsx(Z4e,{})}),r.jsxs("section",{className:"card glass-card p-4",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Integration Status")}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:N.map(P=>r.jsxs("div",{className:"flex items-center gap-3 p-3 rounded border border-[var(--panel-border)] bg-[var(--panel-bg)]",children:[r.jsx("span",{className:`inline-flex items-center justify-center w-8 h-8 rounded-lg ${P.bg}`,children:P.icon&&P.icon({className:"text-white w-4 h-4"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:P.name}),r.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:P.status})]}),r.jsx("span",{className:`w-2 h-2 rounded-full ${P.connected?"bg-emerald-500":"bg-red-500"}`}),P.id==="google-ads"&&!P.connected&&r.jsx("button",{className:"btn btn-primary btn-sm",onClick:_,children:e("Connect")}),P.id==="google-ads"&&P.connected&&r.jsx("button",{className:"btn btn-outline btn-sm",onClick:k,children:e("Disconnect")}),P.id==="gmail"&&!P.connected&&r.jsx("button",{className:"btn btn-primary btn-sm",onClick:D,children:e("Connect")}),P.id==="gmail"&&P.connected&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{className:"btn btn-secondary btn-sm",onClick:j,children:e("Fetch")}),r.jsx("button",{className:"btn btn-outline btn-sm",onClick:S,children:e("Disconnect")})]})]},P.id))})]})]}),r.jsx(Q4e,{isOpen:s,onClose:()=>n(!1),onCreate:x})]})}/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5e=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a5e=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,a,s)=>s?s.toUpperCase():a.toLowerCase()),vO=e=>{const t=a5e(e);return t.charAt(0).toUpperCase()+t.slice(1)},vq=(...e)=>e.filter((t,a,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===a).join(" ").trim(),r5e=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var s5e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5e=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:n="",children:i,iconNode:l,...o},c)=>w.createElement("svg",{ref:c,...s5e,width:t,height:t,stroke:e,strokeWidth:s?Number(a)*24/Number(t):a,className:vq("lucide",n),...!i&&!r5e(o)&&{"aria-hidden":"true"},...o},[...l.map(([d,u])=>w.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5e=(e,t)=>{const a=w.forwardRef(({className:s,...n},i)=>w.createElement(n5e,{ref:i,iconNode:t,className:vq(`lucide-${t5e(vO(e))}`,`lucide-${e}`,s),...n}));return a.displayName=vO(e),a};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5e=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],o5e=i5e("upload",l5e),c5e=()=>{const[e,t]=w.useState({name:"Acme Inc.",logo:"",address:"123 Nile St, Cairo",phone:"+201000000000",email:"info@acme.com",description:"Leading CRM company",currency:"EGP",timezone:"Africa/Cairo"}),a=(s,n)=>t(i=>({...i,[s]:n}));return r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Company Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:"Company Name"}),r.jsx("input",{value:e.name,onChange:s=>a("name",s.target.value),className:"input-soft w-full"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:"Phone"}),r.jsx("input",{value:e.phone,onChange:s=>a("phone",s.target.value),className:"input-soft w-full"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:"Email"}),r.jsx("input",{type:"email",value:e.email,onChange:s=>a("email",s.target.value),className:"input-soft w-full"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:"Address"}),r.jsx("input",{value:e.address,onChange:s=>a("address",s.target.value),className:"input-soft w-full"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm mb-1",children:"Description"}),r.jsx("textarea",{value:e.description,onChange:s=>a("description",s.target.value),className:"input-soft w-full",rows:3})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:"Currency"}),r.jsxs("select",{value:e.currency,onChange:s=>a("currency",s.target.value),className:"input-soft w-full",children:[r.jsx("option",{value:"EGP",children:"EGP"}),r.jsx("option",{value:"USD",children:"USD"}),r.jsx("option",{value:"EUR",children:"EUR"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:"Timezone"}),r.jsx("input",{value:e.timezone,onChange:s=>a("timezone",s.target.value),className:"input-soft w-full"})]})]}),r.jsx("div",{className:"mt-4",children:r.jsx("button",{className:"btn btn-primary",children:"Save"})})]}),r.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Logo"}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-24 h-24 rounded-xl bg-gray-200 dark:bg-gray-700 overflow-hidden",children:e.logo?r.jsx("img",{src:e.logo,alt:"logo",className:"w-full h-full object-contain"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500",children:"LOGO"})}),r.jsxs("label",{className:"btn btn-glass inline-flex items-center gap-2 cursor-pointer",children:[r.jsx(o5e,{className:"w-4 h-4"}),r.jsx("span",{children:"Upload"}),r.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:s=>{const n=s.target.files?.[0];if(!n)return;const i=new FileReader;i.onload=()=>a("logo",i.result),i.readAsDataURL(n)}})]})]})]})]}),r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Preview"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-200 dark:bg-gray-700 overflow-hidden",children:e.logo?r.jsx("img",{src:e.logo,alt:"logo"}):null}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold",children:e.name}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:e.email})]})]}),r.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-200",children:e.address}),r.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-200",children:e.phone}),r.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-200",children:e.description}),r.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-200",children:["Currency: ",e.currency]}),r.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-200",children:["Timezone: ",e.timezone]})]})]})})]})};Sr.register(Cn,An,xl,ai,$n,rn,an);const d5e=e=>{switch(e){case"Active":return"bg-green-100 text-green-700 border-green-200";case"Pending":return"bg-amber-100 text-amber-700 border-amber-200";case"Expired":return"bg-gray-200 text-gray-700 border-gray-300 dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600";case"Cancelled":return"bg-red-100 text-red-700 border-red-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},u5e=({status:e})=>r.jsx("span",{className:`px-2 py-1 text-xs rounded-full border ${d5e(e)}`,children:e}),h5e=()=>{const[e,t]=w.useState([{id:"SUB-001",customer:"Acme Corp",plan:"Pro",start:"2025-01-01",end:"2026-01-01",status:"Active"},{id:"SUB-002",customer:"Globex LLC",plan:"Basic",start:"2025-06-01",end:"2025-12-01",status:"Pending"},{id:"SUB-003",customer:"Soylent Inc",plan:"Enterprise",start:"2024-01-01",end:"2025-01-01",status:"Expired"},{id:"SUB-004",customer:"Umbrella Co",plan:"Pro",start:"2025-02-15",end:"2026-02-15",status:"Cancelled"}]),[a,s]=w.useState(""),[n,i]=w.useState("All"),[l,o]=w.useState("All"),[c,d]=w.useState({address:"Building 12, Business Park, Cairo",method:"Credit Card",taxId:"EG-123456789",cardLast4:"4242"}),[u,f]=w.useState([{id:"INV-1001",amount:49,currency:"USD",date:"2025-10-01",status:"Paid"},{id:"INV-1002",amount:49,currency:"USD",date:"2025-11-01",status:"Paid"},{id:"INV-1003",amount:49,currency:"USD",date:"2025-12-01",status:"Unpaid"},{id:"INV-1004",amount:49,currency:"USD",date:"2026-01-01",status:"Overdue"}]),[x,m]=w.useState("All"),[g,v]=w.useState(""),[b,j]=w.useState(!1),[S,k]=w.useState(!1),[N,A]=w.useState(null),_=w.useMemo(()=>e.filter(z=>(n==="All"||z.plan===n)&&(l==="All"||z.status===l)&&(!a||z.customer.toLowerCase().includes(a.toLowerCase()))),[e,n,l,a]),D=w.useMemo(()=>u.filter(z=>(x==="All"||z.status===x)&&(!g||z.date.startsWith(g))),[u,x,g]),P=w.useMemo(()=>{const z=u.filter(re=>re.status==="Paid").reduce((re,oe)=>re+oe.amount,0),Q=e.filter(re=>re.status==="Active").length,ne=e.filter(re=>re.status==="Expired").length;return{totalRevenue:z,active:Q,expired:ne}},[u,e]),I={Basic:19,Pro:49,Enterprise:99},[B,O]=w.useState(6),[U,E]=w.useState(!1),[R,K]=w.useState("line"),V=w.useMemo(()=>{const z=e.filter(ie=>ie.status==="Active"),Q=z.reduce((ie,ye)=>ie+(I[ye.plan]||0),0),ne=z.length?Math.round(Q/z.length*100)/100:0,re=e.filter(ie=>ie.status==="Cancelled").length,oe=z.length+re?Math.round(re/(z.length+re)*1e3)/10:0,q=u.filter(ie=>ie.status==="Overdue").length;return{mrr:Q,arpu:ne,churnRate:oe,overdueInvoices:q}},[e,u]),Z=w.useMemo(()=>{const z=new Date,Q=new Date(z);Q.setMonth(z.getMonth()-(B-1));const ne=Te=>`${Te.getFullYear()}-${String(Te.getMonth()+1).padStart(2,"0")}`,re=Te=>Te.toLocaleString(void 0,{month:"short"})+" "+String(Te.getFullYear()).slice(2),oe={},q={},ie=[],ye=new Date(Q);for(;ye<=z;){const Te=ne(ye);oe[Te]=0,q[Te]=0,ie.push(re(ye)),ye.setMonth(ye.getMonth()+1)}u.forEach(Te=>{const ae=new Date(Te.date);if(ae>=Q&&ae<=z){const De=ne(ae);Te.status==="Paid"&&oe[De]!==void 0&&(oe[De]+=Te.amount),Te.status==="Unpaid"&&q[De]!==void 0&&(q[De]+=Te.amount)}});const Y=Object.keys(oe).map(Te=>oe[Te]),ce=Object.keys(q).map(Te=>q[Te]),he=Y.reduce((Te,ae)=>Te+ae,0),ue=Y[Y.length-1]||0,Fe=Y[Y.length-2]||0,Ue=Fe?Math.round((ue-Fe)/Fe*1e3)/10:0;return{labels:ie,paidValues:Y,unpaidValues:ce,total:he,last:ue,mom:Ue}},[u,B,U]),J=z=>{A(z),j(!0)},ee=z=>{A(z),k(!0)},W=z=>{t(Q=>Q.map(ne=>ne.id===z.id?z:ne)),j(!1)},le=()=>{N&&(t(z=>z.map(Q=>Q.id===N.id?{...Q,status:"Cancelled"}:Q)),k(!1))},M=()=>{const z=`INV-${String(1e3+u.length+1)}`;f(Q=>[{id:z,amount:49,currency:"USD",date:new Date().toISOString().slice(0,10),status:"Unpaid"},...Q])},X=()=>{alert("Payment info updated")};return r.jsxs("div",{className:"space-y-0",children:[r.jsxs("div",{className:"glass-panel rounded-2xl p-4 md:p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Active Subscriptions"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{value:a,onChange:z=>s(z.target.value),placeholder:"Search by customer",className:"input-soft w-[180px]"}),r.jsx("select",{value:n,onChange:z=>i(z.target.value),className:"input-soft",children:["All","Basic","Pro","Enterprise"].map(z=>r.jsx("option",{value:z,children:z},z))}),r.jsx("select",{value:l,onChange:z=>o(z.target.value),className:"input-soft",children:["All","Active","Pending","Expired","Cancelled"].map(z=>r.jsx("option",{value:z,children:z},z))})]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm",style:{borderCollapse:"separate",borderSpacing:"0 12px"},children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"px-4 py-3",children:"Customer Name"}),r.jsx("th",{className:"px-4 py-3",children:"Plan"}),r.jsx("th",{className:"px-4 py-3",children:"Start Date"}),r.jsx("th",{className:"px-4 py-3",children:"End Date"}),r.jsx("th",{className:"px-4 py-3",children:"Status"}),r.jsx("th",{className:"px-4 py-3",children:"Actions"})]})}),r.jsx("tbody",{children:_.map(z=>r.jsxs("tr",{className:"rounded-lg bg-white/40 dark:bg-gray-800/40",children:[r.jsx("td",{className:"px-4 py-3",children:z.customer}),r.jsx("td",{className:"px-4 py-3",children:z.plan}),r.jsx("td",{className:"px-4 py-3",children:z.start}),r.jsx("td",{className:"px-4 py-3",children:z.end}),r.jsx("td",{className:"px-4 py-3",children:r.jsx(u5e,{status:z.status})}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{className:"px-3 py-1 rounded-lg bg-white/60 dark:bg-gray-800/60 border hover:bg-white",onClick:()=>J(z),title:"Edit",children:" Edit"}),r.jsx("button",{className:"px-3 py-1 rounded-lg bg-white/60 dark:bg-gray-800/60 border hover:bg-white",onClick:()=>ee(z),title:"Cancel",children:" Cancel"})]})})]},z.id))})]})})]}),r.jsx("div",{className:"h-6","aria-hidden":"true"}),r.jsxs("div",{className:"glass-panel rounded-2xl p-4 md:p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Billing Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:"Customer Billing Address"}),r.jsx("textarea",{value:c.address,onChange:z=>d({...c,address:z.target.value}),className:"input-soft w-full h-[90px]"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:"Payment Method"}),r.jsx("select",{value:c.method,onChange:z=>d({...c,method:z.target.value}),className:"input-soft w-full",children:["Credit Card","PayPal"].map(z=>r.jsx("option",{value:z,children:z},z))}),c.method==="Credit Card"&&r.jsxs("div",{className:"mt-2 text-sm text-[var(--muted-text)]",children:["Card ending in ",c.cardLast4]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:"Tax Info"}),r.jsx("input",{value:c.taxId,onChange:z=>d({...c,taxId:z.target.value}),className:"input-soft w-full"})]})]}),r.jsx("div",{className:"mt-4",children:r.jsx("button",{className:"px-4 py-2 rounded-lg bg-blue-600 text-white shadow hover:bg-blue-700",onClick:X,children:"Update Payment Info"})})]}),r.jsx("div",{className:"h-6","aria-hidden":"true"}),r.jsxs("div",{className:"glass-panel rounded-2xl p-4 md:p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Invoices & Payments"}),r.jsx("button",{className:"px-4 py-2 rounded-lg bg-indigo-600 text-white shadow hover:bg-indigo-700",onClick:M,children:"Generate New Invoice"})]}),r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("select",{value:x,onChange:z=>m(z.target.value),className:"input-soft",children:["All","Paid","Unpaid","Overdue"].map(z=>r.jsx("option",{value:z,children:z},z))}),r.jsx("input",{type:"month",value:g,onChange:z=>v(z.target.value),className:"input-soft"})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm",style:{borderCollapse:"separate",borderSpacing:"0 12px"},children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"px-4 py-3",children:"Invoice Number"}),r.jsx("th",{className:"px-4 py-3",children:"Date"}),r.jsx("th",{className:"px-4 py-3",children:"Amount"}),r.jsx("th",{className:"px-4 py-3",children:"Status"}),r.jsx("th",{className:"px-4 py-3",children:"Actions"})]})}),r.jsx("tbody",{children:D.map(z=>r.jsxs("tr",{className:"rounded-lg bg-white/40 dark:bg-gray-800/40",children:[r.jsx("td",{className:"px-4 py-3",children:z.id}),r.jsx("td",{className:"px-4 py-3",children:z.date}),r.jsxs("td",{className:"px-4 py-3",children:[z.amount," ",z.currency]}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`px-2 py-1 text-xs rounded-full border ${z.status==="Paid"?"bg-green-100 text-green-700 border-green-200":z.status==="Unpaid"?"bg-amber-100 text-amber-700 border-amber-200":"bg-red-100 text-red-700 border-red-200"}`,children:z.status})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("button",{className:"px-3 py-1 rounded-lg bg-white/60 dark:bg-gray-800/60 border hover:bg-white",title:"Download",children:" Download PDF"})})]},z.id))})]})})]}),r.jsx("div",{className:"h-6","aria-hidden":"true"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{name:"Basic",price:"$19/mo",duration:"Monthly",features:["Up to 3 users","Email support","Basic reports"]},{name:"Pro",price:"$49/mo",duration:"Monthly",features:["Up to 10 users","Priority support","Advanced analytics"]},{name:"Enterprise",price:"Custom",duration:"Annual",features:["Unlimited users","Dedicated manager","Custom integrations"]}].map((z,Q)=>r.jsxs("div",{className:"glass-panel rounded-2xl p-6 hover:shadow-xl transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"text-lg font-semibold",children:z.name}),r.jsx("span",{children:""})]}),r.jsx("div",{className:"text-2xl font-bold mb-1",children:z.price}),r.jsx("div",{className:"text-sm text-[var(--muted-text)] mb-3",children:z.duration}),r.jsx("ul",{className:"text-sm space-y-1 mb-4",children:z.features.map((ne,re)=>r.jsxs("li",{children:[" ",ne]},re))}),r.jsx("button",{className:"px-4 py-2 rounded-lg bg-blue-600 text-white shadow hover:bg-blue-700",children:"Upgrade Plan"})]},Q))}),r.jsx("div",{className:"h-6","aria-hidden":"true"}),r.jsxs("div",{className:"glass-panel rounded-2xl p-4 md:p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Reports & Analytics"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("select",{className:"input-soft",value:B,onChange:z=>O(Number(z.target.value)),children:[6,12,24].map(z=>r.jsxs("option",{value:z,children:["Last ",z," months"]},z))}),r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:U,onChange:z=>E(z.target.checked)}),"Include Unpaid"]}),r.jsxs("div",{className:"rounded-lg border bg-white/60 dark:bg-gray-800/60 overflow-hidden",children:[r.jsx("button",{"aria-pressed":R==="line",className:`px-3 py-1 text-sm border-r border-gray-300 dark:border-gray-700 ${R==="line"?"bg-blue-600 text-white":"text-[var(--text-muted)]"}`,onClick:()=>K("line"),children:"Line"}),r.jsx("button",{"aria-pressed":R==="bar",className:`px-3 py-1 text-sm ${R==="bar"?"bg-blue-600 text-white":"text-[var(--text-muted)]"}`,onClick:()=>K("bar"),children:"Bar"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[r.jsxs("div",{className:"rounded-xl border bg-white/60 dark:bg-gray-800/60 p-4",children:[r.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:"Total Revenue (Paid)"}),r.jsxs("div",{className:"text-2xl font-bold",children:["$",P.totalRevenue]})]}),r.jsxs("div",{className:"rounded-xl border bg-white/60 dark:bg-gray-800/60 p-4",children:[r.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:"MRR (Active)"}),r.jsxs("div",{className:"text-2xl font-bold",children:["$",V.mrr]})]}),r.jsxs("div",{className:"rounded-xl border bg-white/60 dark:bg-gray-800/60 p-4",children:[r.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:"ARPU"}),r.jsxs("div",{className:"text-2xl font-bold",children:["$",V.arpu]})]}),r.jsxs("div",{className:"rounded-xl border bg-white/60 dark:bg-gray-800/60 p-4",children:[r.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:"Churn Rate"}),r.jsxs("div",{className:"text-2xl font-bold",children:[V.churnRate,"%"]})]})]}),R==="line"?r.jsx("div",{className:"h-64 w-full",children:r.jsx(no,{options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:U},tooltip:{mode:"index",intersect:!1}},scales:{x:{grid:{display:!1},ticks:{color:"#94a3b8",font:{size:12}}},y:{grid:{color:"rgba(255,255,255,0.08)"},ticks:{color:"#94a3b8",font:{size:12}}}}},data:{labels:Z.labels,datasets:[{label:"Paid",data:Z.paidValues,borderColor:"#3B82F6",backgroundColor:"rgba(59,130,246,0.25)",tension:.3,pointRadius:2,fill:!0},...U?[{label:"Unpaid",data:Z.unpaidValues,borderColor:"#f59e0b",backgroundColor:"rgba(245,158,11,0.25)",tension:.3,pointRadius:2,fill:!0}]:[]]}})}):r.jsx("div",{className:"h-64 w-full",children:r.jsx(Ls,{options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:U},tooltip:{mode:"index",intersect:!1}},scales:{x:{grid:{display:!1},ticks:{color:"#94a3b8",font:{size:12}}},y:{grid:{color:"rgba(255,255,255,0.08)"},ticks:{color:"#94a3b8",font:{size:12}}}}},data:{labels:Z.labels,datasets:[{label:"Paid",data:Z.paidValues,backgroundColor:"rgba(59,130,246,0.6)",borderRadius:8},...U?[{label:"Unpaid",data:Z.unpaidValues,backgroundColor:"rgba(245,158,11,0.6)",borderRadius:8}]:[]]}})}),r.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-3 text-sm",children:[r.jsxs("div",{className:"rounded-xl border bg-white/60 dark:bg-gray-800/60 p-3",children:["Period Total: ",r.jsxs("span",{className:"font-semibold",children:["$",Z.total]})]}),r.jsxs("div",{className:"rounded-xl border bg-white/60 dark:bg-gray-800/60 p-3",children:["Last Month: ",r.jsxs("span",{className:"font-semibold",children:["$",Z.last]})]}),r.jsxs("div",{className:"rounded-xl border bg-white/60 dark:bg-gray-800/60 p-3",children:["MoM Change: ",r.jsxs("span",{className:`font-semibold ${Z.mom>=0?"text-green-500":"text-red-500"}`,children:[Z.mom,"%"]})]})]})]}),b&&N&&r.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center",children:[r.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>j(!1)}),r.jsx("div",{className:"relative z-[1001] w-[92vw] max-w-[520px]",children:r.jsxs("div",{className:"glass-panel rounded-2xl p-6 space-y-3",children:[r.jsx("h4",{className:"text-lg font-semibold",children:"Edit Subscription"}),r.jsx("input",{className:"input-soft w-full",value:N.customer,onChange:z=>A({...N,customer:z.target.value})}),r.jsx("select",{className:"input-soft w-full",value:N.plan,onChange:z=>A({...N,plan:z.target.value}),children:["Basic","Pro","Enterprise"].map(z=>r.jsx("option",{value:z,children:z},z))}),r.jsxs("div",{className:"flex items-center justify-end gap-2",children:[r.jsx("button",{className:"px-3 py-2 rounded-lg border bg-white/60 dark:bg-gray-800/60",onClick:()=>j(!1),children:"Cancel"}),r.jsx("button",{className:"px-3 py-2 rounded-lg bg-blue-600 text-white",onClick:()=>W(N),children:"Save"})]})]})})]}),S&&N&&r.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center",children:[r.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>k(!1)}),r.jsx("div",{className:"relative z-[1001] w-[92vw] max-w-[520px]",children:r.jsxs("div",{className:"glass-panel rounded-2xl p-6 space-y-3",children:[r.jsx("h4",{className:"text-lg font-semibold",children:"Confirm Cancellation"}),r.jsxs("p",{className:"text-sm text-[var(--muted-text)]",children:["Cancel subscription for ",N.customer,"? This action can be reverted by re-activating later."]}),r.jsxs("div",{className:"flex items-center justify-end gap-2",children:[r.jsx("button",{className:"px-3 py-2 rounded-lg border bg-white/60 dark:bg-gray-800/60",onClick:()=>k(!1),children:"Close"}),r.jsx("button",{className:"px-3 py-2 rounded-lg bg-red-600 text-white",onClick:le,children:"Confirm Cancel"})]})]})})]})]})},NC=[{key:"core",name:"Core CRM",modules:[{key:"dashboard",label:"Dashboard",route:"/dashboard",icon:""},{key:"customers",label:"Customers",route:"/customers",icon:""},{key:"leads",label:"Leads",route:"/leads",icon:""},{key:"projects",label:"Projects",route:"/projects",icon:""},{key:"properties",label:"Properties",route:"/properties",icon:""},{key:"requests",label:"Requests",route:"/requests",icon:""},{key:"buyerRequests",label:"Buyer Requests",route:"/buyer-requests",icon:""},{key:"sellerRequests",label:"Seller Requests",route:"/seller-requests",icon:""},{key:"developers",label:"Developers",route:"/dev-companies",icon:""},{key:"recycle",label:"Recycle Bin",route:"/recycle",icon:""},{key:"contact",label:"Contact Us",route:"/contact",icon:""}]},{key:"marketing",name:"Marketing",modules:[{key:"marketing",label:"Marketing",route:"/marketing",icon:""},{key:"campaigns",label:"Campaigns",route:"/campaigns",icon:""},{key:"landingPages",label:"Landing Pages",route:"/landing-pages",icon:""},{key:"metaIntegration",label:"Meta Integration",route:"/meta-integration",icon:""},{key:"mktReports",label:"Marketing Reports",route:"/marketing/reports",icon:""}]},{key:"inventory",name:"Inventory",modules:[{key:"products",label:"Products",route:"/inventory/products",icon:""},{key:"items",label:"Items",route:"/inventory/items",icon:""},{key:"suppliers",label:"Suppliers",route:"/inventory/suppliers",icon:""},{key:"warehouse",label:"Warehouse",route:"/inventory/warehouse",icon:""},{key:"stockManagement",label:"Stock Management",route:"/inventory/stock-management",icon:""},{key:"inventoryTransactions",label:"Inventory Transactions",route:"/inventory/transactions",icon:""}]},{key:"reports",name:"Reports",modules:[{key:"reportsDashboard",label:"Reports Dashboard",route:"/reports",icon:""},{key:"leadsReport",label:"Leads Report",route:"/reports/leads",icon:""},{key:"teamPerformance",label:"Team Performance",route:"/reports/team",icon:""},{key:"meetingsReport",label:"Meetings Report",route:"/reports/sales/meetings",icon:""},{key:"exportsReport",label:"Exports Report",route:"/exports",icon:""},{key:"importsReport",label:"Imports Report",route:"/imports",icon:""},{key:"campaignSummary",label:"Campaign Summary",route:"/campaign-summary",icon:""},{key:"leadSourcePerf",label:"Lead Source Performance",route:"/lead-source-performance",icon:""},{key:"costVsRevenue",label:"Cost vs Revenue",route:"/cost-vs-revenue",icon:""},{key:"monthlyMarketingOverview",label:"Monthly Marketing Overview",route:"/monthly-marketing-overview",icon:""}]},{key:"settings",name:"Settings & Extensions",modules:[{key:"settingsProfile",label:"Profile Settings",route:"/settings/profile",icon:""},{key:"settingsCompany",label:"Company Settings",route:"/settings/company",icon:""},{key:"settingsUsers",label:"Users & Roles",route:"/settings/users",icon:""},{key:"settingsNotifications",label:"Notifications Settings",route:"/settings/notifications",icon:""},{key:"settingsBilling",label:"Billing & Subscription",route:"/settings/billing",icon:""},{key:"settingsModules",label:"Modules Settings",route:"/settings/modules",icon:""},{key:"settingsSystem",label:"System Preferences",route:"/settings/system",icon:""},{key:"settingsSecurity",label:"Security Settings",route:"/settings/security",icon:""},{key:"settingsSms",label:"SMS Settings",route:"/settings/sms",icon:""},{key:"settingsSmsTemplates",label:"SMS Templates",route:"/settings/sms-templates",icon:""},{key:"settingsEmail",label:"Email Settings",route:"/settings/email",icon:""},{key:"settingsWhatsApp",label:"WhatsApp Settings",route:"/settings/whatsapp",icon:""},{key:"settingsSocialMedia",label:"Social Media Settings",route:"/settings/social-media",icon:""},{key:"settingsContactInfo",label:"Contact Info Settings",route:"/settings/contact-info",icon:""},{key:"settingsScripting",label:"Scripting",route:"/settings/scripting",icon:""},{key:"settingsEoi",label:"EOI Settings",route:"/settings/eoi",icon:""},{key:"settingsReservations",label:"Reservation Settings",route:"/settings/reservations",icon:""},{key:"settingsRotation",label:"Rotation Settings",route:"/settings/rotation",icon:""},{key:"settingsContracts",label:"Contracts Settings",route:"/settings/contracts",icon:""},{key:"settingsConfiguration",label:"Configuration",route:"/settings/configuration",icon:""},{key:"settingsBuyerReset",label:"Buyer Request Reset",route:"/settings/buyer-request-reset",icon:""},{key:"settingsMatching",label:"Matching",route:"/settings/matching",icon:""},{key:"settingsRent",label:"Rent Configuration",route:"/settings/rent",icon:""},{key:"settingsCil",label:"CIL Settings",route:"/settings/cil",icon:""}]}],s3=NC.flatMap(e=>e.modules.map(t=>t.key)),f5e=()=>{const[e,t]=w.useState(""),[a,s]=w.useState(()=>{try{const u=typeof window<"u"?window.localStorage.getItem("enabledModules"):null;if(u)return JSON.parse(u)}catch{}const d={};return s3.forEach(u=>{d[u]=!0}),d}),n=d=>s(u=>({...u,[d]:!u[d]})),i=()=>s(d=>{const u={...d};return s3.forEach(f=>{u[f]=!0}),u}),l=()=>s(d=>{const u={...d};return s3.forEach(f=>{u[f]=!1}),u}),o=()=>{try{typeof window<"u"&&window.localStorage.setItem("enabledModules",JSON.stringify(a))}catch{}alert("Modules settings saved")},c=w.useMemo(()=>{const d=e.trim().toLowerCase();return d?NC.map(u=>({...u,modules:u.modules.filter(f=>f.label.toLowerCase().includes(d))})).filter(u=>u.modules.length>0):NC},[e]);return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"glass-panel rounded-2xl p-4 md:p-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Modules"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{value:e,onChange:d=>t(d.target.value),placeholder:"Search modules",className:"input-soft w-[220px]"}),r.jsx("button",{className:"px-3 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700",onClick:i,children:"Enable All"}),r.jsx("button",{className:"px-3 py-2 rounded-lg bg-gray-700 text-white hover:bg-gray-800",onClick:l,children:"Disable All"}),r.jsx("button",{className:"px-3 py-2 rounded-lg bg-indigo-600 text-white hover:bg-indigo-700",onClick:o,children:"Save"})]})]})}),c.map(d=>r.jsxs("div",{className:"glass-panel rounded-2xl p-4 md:p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h4",{className:"text-md font-semibold",children:d.name}),r.jsxs("span",{className:"text-xs text-[var(--muted-text)]",children:[d.modules.filter(u=>a[u.key]).length,"/",d.modules.length," enabled"]})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:d.modules.map(u=>r.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-xl border bg-white/60 dark:bg-gray-800/60",children:[r.jsx("input",{type:"checkbox",checked:!!a[u.key],onChange:()=>n(u.key)}),r.jsx("span",{className:"text-lg","aria-hidden":"true",children:u.icon}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium",children:u.label}),u.route&&r.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:u.route})]})]},u.key))})]},d.key))]})},n3={theme:"auto",language:"ar",direction:"auto",timezone:"Africa/Cairo",dateFormat:"DD/MM/YYYY",timeFormat:"24h",currency:"EGP",numberFormat:"1,234.56",units:"sqm",density:"comfortable",animations:!0,sidebarExpanded:!0,notificationsSound:!0,chartsStyle:"line",chartsRounded:!0,chartsStacked:!1},m5e=()=>{const{t:e,i18n:t}=Dt(),[a,s]=w.useState(()=>{try{const u=typeof window<"u"?window.localStorage.getItem("systemPrefs"):null;if(u)return{...n3,...JSON.parse(u)}}catch{}return n3}),n=(u,f)=>s(x=>({...x,[u]:f})),i=u=>{const f=document.documentElement,x=u==="dark"||u==="auto"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;f.classList.toggle("dark",!!x)},l=(u,f)=>{const x=document.documentElement,m=u==="auto"?f==="ar"?"rtl":"ltr":u;x.setAttribute("dir",m)};w.useEffect(()=>{try{a.language&&t?.changeLanguage&&t.changeLanguage(a.language)}catch{}i(a.theme),l(a.direction,a.language);const u=document.documentElement;u.classList.remove("density-compact","density-comfortable"),u.classList.add(a.density==="compact"?"density-compact":"density-comfortable")},[a.theme,a.direction,a.language,a.density]);const o=()=>{try{window.localStorage.setItem("systemPrefs",JSON.stringify(a))}catch{}},c=()=>{s(n3);try{window.localStorage.removeItem("systemPrefs")}catch{}},d=u=>r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-blue-500 to-purple-600 rounded-full"}),r.jsx("div",{className:"text-sm font-semibold text-[var(--content-text)]",children:u})]});return r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:e("System Preferences")}),d(e("Appearance")),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Theme")}),r.jsxs("select",{value:a.theme,onChange:u=>n("theme",u.target.value),className:"input-soft w-full",children:[r.jsx("option",{value:"auto",children:e("Auto")}),r.jsx("option",{value:"light",children:e("Light")}),r.jsx("option",{value:"dark",children:e("Dark")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Density")}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{type:"button",onClick:()=>n("density","compact"),className:`px-3 py-2 rounded-lg border ${a.density==="compact"?"bg-blue-50 border-blue-300 text-blue-700 dark:bg-blue-900/30 dark:border-blue-700":"bg-white/80 dark:bg-gray-800/70"}`,children:e("Compact")}),r.jsx("button",{type:"button",onClick:()=>n("density","comfortable"),className:`px-3 py-2 rounded-lg border ${a.density==="comfortable"?"bg-blue-50 border-blue-300 text-blue-700 dark:bg-blue-900/30 dark:border-blue-700":"bg-white/80 dark:bg-gray-800/70"}`,children:e("Comfortable")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Animations")}),r.jsxs("label",{className:"inline-flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",className:"sr-only",checked:a.animations,onChange:u=>n("animations",u.target.checked)}),r.jsx("span",{className:`w-10 h-5 flex items-center bg-gray-300 dark:bg-gray-700 rounded-full p-1 ${a.animations?"justify-end":"justify-start"}`,children:r.jsx("span",{className:`w-4 h-4 rounded-full bg-white transition ${a.animations?"shadow-[0_0_0_2px_rgba(59,130,246,0.6)]":""}`})}),r.jsx("span",{className:"text-sm",children:a.animations?e("Enabled"):e("Disabled")})]})]})]}),r.jsx("div",{className:"h-4"}),d(e("Language & Region")),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Language")}),r.jsxs("select",{value:a.language,onChange:u=>n("language",u.target.value),className:"input-soft w-full",children:[r.jsx("option",{value:"ar",children:e("Arabic")}),r.jsx("option",{value:"en",children:e("English")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Layout Direction")}),r.jsxs("select",{value:a.direction,onChange:u=>n("direction",u.target.value),className:"input-soft w-full",children:[r.jsx("option",{value:"auto",children:e("Auto")}),r.jsx("option",{value:"ltr",children:"LTR"}),r.jsx("option",{value:"rtl",children:"RTL"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Time Zone")}),r.jsxs("select",{value:a.timezone,onChange:u=>n("timezone",u.target.value),className:"input-soft w-full",children:[r.jsx("option",{value:"Africa/Cairo",children:"Africa/Cairo"}),r.jsx("option",{value:"Asia/Riyadh",children:"Asia/Riyadh"}),r.jsx("option",{value:"Europe/London",children:"Europe/London"}),r.jsx("option",{value:"UTC",children:"UTC"})]})]})]}),r.jsx("div",{className:"h-4"}),d(e("Formatting")),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Date Format")}),r.jsxs("select",{value:a.dateFormat,onChange:u=>n("dateFormat",u.target.value),className:"input-soft w-full",children:[r.jsx("option",{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),r.jsx("option",{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),r.jsx("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Time Format")}),r.jsxs("select",{value:a.timeFormat,onChange:u=>n("timeFormat",u.target.value),className:"input-soft w-full",children:[r.jsxs("option",{value:"24h",children:["24 ",e("Hours")]}),r.jsxs("option",{value:"12h",children:["12 ",e("Hours")]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Currency")}),r.jsxs("select",{value:a.currency,onChange:u=>n("currency",u.target.value),className:"input-soft w-full",children:[r.jsx("option",{value:"EGP",children:"EGP"}),r.jsx("option",{value:"USD",children:"USD"}),r.jsx("option",{value:"EUR",children:"EUR"}),r.jsx("option",{value:"SAR",children:"SAR"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Number Format")}),r.jsxs("select",{value:a.numberFormat,onChange:u=>n("numberFormat",u.target.value),className:"input-soft w-full",children:[r.jsx("option",{value:"1,234.56",children:"1,234.56"}),r.jsx("option",{value:"1.234,56",children:"1.234,56"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Units")}),r.jsxs("select",{value:a.units,onChange:u=>n("units",u.target.value),className:"input-soft w-full",children:[r.jsx("option",{value:"sqm",children:"m"}),r.jsx("option",{value:"sqft",children:"ft"})]})]})]}),r.jsx("div",{className:"h-4"}),d(e("Interface")),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Sidebar Expanded on Start")}),r.jsxs("label",{className:"inline-flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",className:"sr-only",checked:a.sidebarExpanded,onChange:u=>n("sidebarExpanded",u.target.checked)}),r.jsx("span",{className:`w-10 h-5 flex items-center bg-gray-300 dark:bg-gray-700 rounded-full p-1 ${a.sidebarExpanded?"justify-end":"justify-start"}`,children:r.jsx("span",{className:`w-4 h-4 rounded-full bg-white transition ${a.sidebarExpanded?"shadow-[0_0_0_2px_rgba(59,130,246,0.6)]":""}`})}),r.jsx("span",{className:"text-sm",children:a.sidebarExpanded?e("Enabled"):e("Disabled")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Notification Sound")}),r.jsxs("label",{className:"inline-flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",className:"sr-only",checked:a.notificationsSound,onChange:u=>n("notificationsSound",u.target.checked)}),r.jsx("span",{className:`w-10 h-5 flex items-center bg-gray-300 dark:bg-gray-700 rounded-full p-1 ${a.notificationsSound?"justify-end":"justify-start"}`,children:r.jsx("span",{className:`w-4 h-4 rounded-full bg-white transition ${a.notificationsSound?"shadow-[0_0_0_2px_rgba(59,130,246,0.6)]":""}`})}),r.jsx("span",{className:"text-sm",children:a.notificationsSound?e("Enabled"):e("Disabled")})]})]})]}),r.jsx("div",{className:"h-4"}),d(e("Charts")),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Default Chart Type")}),r.jsxs("select",{value:a.chartsStyle,onChange:u=>n("chartsStyle",u.target.value),className:"input-soft w-full",children:[r.jsx("option",{value:"line",children:e("Line")}),r.jsx("option",{value:"bar",children:e("Bar")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Rounded Corners")}),r.jsxs("label",{className:"inline-flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",className:"sr-only",checked:a.chartsRounded,onChange:u=>n("chartsRounded",u.target.checked)}),r.jsx("span",{className:`w-10 h-5 flex items-center bg-gray-300 dark:bg-gray-700 rounded-full p-1 ${a.chartsRounded?"justify-end":"justify-start"}`,children:r.jsx("span",{className:`w-4 h-4 rounded-full bg-white transition ${a.chartsRounded?"shadow-[0_0_0_2px_rgba(59,130,246,0.6)]":""}`})}),r.jsx("span",{className:"text-sm",children:a.chartsRounded?e("Enabled"):e("Disabled")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Stacked Bars")}),r.jsxs("label",{className:"inline-flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",className:"sr-only",checked:a.chartsStacked,onChange:u=>n("chartsStacked",u.target.checked)}),r.jsx("span",{className:`w-10 h-5 flex items-center bg-gray-300 dark:bg-gray-700 rounded-full p-1 ${a.chartsStacked?"justify-end":"justify-start"}`,children:r.jsx("span",{className:`w-4 h-4 rounded-full bg-white transition ${a.chartsStacked?"shadow-[0_0_0_2px_rgba(59,130,246,0.6)]":""}`})}),r.jsx("span",{className:"text-sm",children:a.chartsStacked?e("Enabled"):e("Disabled")})]})]})]}),r.jsxs("div",{className:"mt-6 flex items-center gap-3",children:[r.jsx("button",{className:"btn btn-primary",onClick:o,children:e("Save Preferences")}),r.jsx("button",{className:"btn btn-soft",onClick:c,children:e("Reset to Defaults")})]})]})})},i3=({open:e,title:t,children:a,onClose:s,onConfirm:n,confirmText:i="Confirm"})=>{const{t:l}=Dt();return e?r.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center",children:[r.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:s}),r.jsx("div",{className:"relative z-[1001] w-[92vw] max-w-[560px]",children:r.jsxs("div",{className:"glass-panel rounded-2xl shadow-2xl overflow-hidden",children:[r.jsxs("div",{className:"px-5 py-4 border-b border-white/20 dark:border-gray-700 flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:t}),r.jsx("button",{className:"btn btn-glass",onClick:s,children:""})]}),r.jsx("div",{className:"p-5 space-y-4",children:a}),r.jsxs("div",{className:"px-5 py-4 border-t border-white/20 dark:border-gray-700 flex items-center justify-end gap-3",children:[r.jsx("button",{className:"btn btn-glass",onClick:s,children:l("common.cancel")}),r.jsx("button",{className:"btn btn-primary",onClick:n,children:i})]})]})})]}):null},p5e=()=>{const{t:e}=Dt(),[t,a]=w.useState(""),[s,n]=w.useState(""),[i,l]=w.useState(""),[o,c]=w.useState(!0),[d,u]=w.useState("email"),[f,x]=w.useState(!1),[m,g]=w.useState({email:!0,sms:!0,app:!0});w.useEffect(()=>{if(!m[d]){const Fe=m.email?"email":m.sms?"sms":m.app?"app":"email";u(Fe)}},[m,d]),w.useEffect(()=>{try{const Fe=window.localStorage.getItem("securitySettings");if(Fe){const Ue=JSON.parse(Fe);typeof Ue.twoFactor=="boolean"&&c(Ue.twoFactor),Ue.twoFactorMethod&&u(Ue.twoFactorMethod),Ue.available2fa&&g(Ue.available2fa)}}catch{}},[]);const v=w.useMemo(()=>{let Fe=0;return s.length>=8&&Fe++,/[A-Z]/.test(s)&&Fe++,/[a-z]/.test(s)&&Fe++,/[0-9]/.test(s)&&Fe++,/[^A-Za-z0-9]/.test(s)&&Fe++,Fe},[s]),[b]=w.useState([{name:"Admin"},{name:"Sales"}]),[j,S]=w.useState({viewCustomers:!0,editCustomers:!1,manageUsers:!1,viewBilling:!0}),[k,N]=w.useState(!1),[A,_]=w.useState([{id:1,device:"Windows PC",location:"Cairo, EG",lastActive:"2025-11-10 12:33"},{id:2,device:"iPhone 15",location:"Giza, EG",lastActive:"2025-11-11 08:21"}]),[D,P]=w.useState(null),[I,B]=w.useState(!0),[O,U]=w.useState(!0),[E,R]=w.useState(!0),[K,V]=w.useState("email"),[Z,J]=w.useState(8),[ee,W]=w.useState(!0),[le,M]=w.useState(!0),[X,z]=w.useState(!0),[Q,ne]=w.useState(!1),[re,oe]=w.useState(5),[q,ie]=w.useState(!0),[ye,Y]=w.useState([{id:"a1",action:"Password Change",by:"John Doe",at:"2025-11-10 09:20"},{id:"a2",action:"2FA Enabled",by:"John Doe",at:"2025-11-10 09:25"},{id:"a3",action:"Permissions Updated",by:"Admin",at:"2025-11-11 15:12"}]),ce=()=>{const Fe={twoFactor:o,twoFactorMethod:d,available2fa:m,notifications:{notifNewDevice:I,notifPwdChange:O,notifFailedLogins:E,notifMethod:K},policies:{minLength:Z,reqUpper:ee,reqLower:le,reqNumber:X,reqSpecial:Q,failedLimit:re,temporaryLockout:q}};try{window.localStorage.setItem("securitySettings",JSON.stringify(Fe))}catch{}},he=()=>{D&&(_(Fe=>Fe.filter(Ue=>Ue.id!==D.id)),P(null))},ue=()=>{_([])};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"xl:col-span-2",children:[r.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:e("security.passwordAuth")}),r.jsx("button",{className:"btn btn-primary",onClick:ce,children:e("security.save")})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:e("security.currentPassword")}),r.jsx("input",{type:"password",className:"input-soft w-full",placeholder:e("security.currentPassword"),value:t,onChange:Fe=>a(Fe.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:e("security.newPassword")}),r.jsx("input",{type:"password",className:"input-soft w-full",placeholder:e("security.newPassword"),value:s,onChange:Fe=>n(Fe.target.value)}),r.jsx("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded overflow-hidden mt-2",children:r.jsx("div",{className:`h-2 transition-all ${v<=2?"bg-red-500":v===3?"bg-yellow-500":"bg-emerald-500"}`,style:{width:`${v/5*100}%`}})})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm mb-1",children:e("security.confirmPassword")}),r.jsx("input",{type:"password",className:"input-soft w-full",placeholder:e("security.confirmPassword"),value:i,onChange:Fe=>l(Fe.target.value)}),i&&i!==s&&r.jsx("div",{className:"text-xs text-rose-600 mt-1",children:e("security.passwordMismatch")})]})]}),r.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[r.jsx("span",{className:"text-sm",children:e("security.twoFactor")}),r.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"hidden",checked:o,onChange:Fe=>c(Fe.target.checked)}),r.jsx("span",{className:`w-10 h-6 rounded-full p-1 ${o?"bg-emerald-500":"bg-gray-400"} transition-all`,children:r.jsx("span",{className:`block w-4 h-4 bg-white rounded-full transition-transform ${o?"translate-x-4":"translate-x-0"}`})})]})]}),!o&&r.jsx("div",{className:"md:col-span-2 p-3 rounded-lg border bg-white/70 dark:bg-gray-800/70",children:r.jsx("div",{className:"text-sm",children:e("security.enableNotice")})}),o&&r.jsxs("div",{className:"p-3 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[r.jsx("div",{className:"text-sm mb-2",children:e("security.defaultMethod")}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"radio",name:"twofactor",disabled:!m.email,checked:d==="email",onChange:()=>u("email")})," ",e("security.emailOtp")]}),r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"radio",name:"twofactor",disabled:!m.sms,checked:d==="sms",onChange:()=>u("sms")})," ",e("security.sms")]}),r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"radio",name:"twofactor",disabled:!m.app,checked:d==="app",onChange:()=>u("app")})," ",e("security.app")]})]})]}),o&&r.jsxs("div",{className:"p-3 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[r.jsx("div",{className:"text-sm mb-2",children:e("security.enableMethods")}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:m.email,onChange:Fe=>g(Ue=>({...Ue,email:Fe.target.checked}))})," ",e("security.emailOtp")]}),r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:m.sms,onChange:Fe=>g(Ue=>({...Ue,sms:Fe.target.checked}))})," ",e("security.sms")]}),r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:m.app,onChange:Fe=>g(Ue=>({...Ue,app:Fe.target.checked}))})," ",e("security.app")]})]}),r.jsx("div",{className:"text-xs text-[var(--muted-text)] mt-1",children:e("security.enableNotice")})]}),r.jsx("div",{className:"md:col-span-3 flex items-center justify-end",children:r.jsx("button",{className:"btn btn-primary",disabled:!o,onClick:()=>x(!0),children:e("security.setup2fa")})})]})]}),r.jsx("div",{className:"h-6 md:h-8","aria-hidden":"true"}),r.jsx("div",{className:"glass-panel rounded-2xl overflow-hidden",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"text-lg font-semibold",children:e("security.accountAccess")}),r.jsx("button",{className:"btn btn-glass",onClick:()=>N(!0),children:e("security.editPermissions")})]}),r.jsx("div",{className:"mb-4 flex flex-wrap gap-2",children:b.map(Fe=>r.jsx("span",{className:"px-3 py-1 rounded-full bg-blue-50 text-blue-700 dark:bg-gray-800 dark:text-blue-400 border border-blue-100 dark:border-gray-700 text-xs",children:Fe.name},Fe.name))}),r.jsx("div",{className:"text-sm font-medium mb-2",children:e("security.activeSessions")}),r.jsxs("table",{className:"w-full table-auto text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-800",children:[r.jsx("th",{className:"px-4 py-3 text-left",children:e("security.device")}),r.jsx("th",{className:"px-4 py-3 text-left",children:e("security.location")}),r.jsx("th",{className:"px-4 py-3 text-left",children:e("security.lastActive")}),r.jsx("th",{className:"px-4 py-3 text-left",children:e("security.action")})]})}),r.jsx("tbody",{children:A.length===0?r.jsx("tr",{children:r.jsx("td",{className:"px-4 py-4 text-center text-gray-500",colSpan:4,children:e("security.noSessions")})}):A.map(Fe=>r.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-700",children:[r.jsx("td",{className:"px-4 py-2",children:Fe.device}),r.jsx("td",{className:"px-4 py-2",children:Fe.location}),r.jsx("td",{className:"px-4 py-2",children:Fe.lastActive}),r.jsx("td",{className:"px-4 py-2",children:r.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>P(Fe),children:e("security.logout")})})]},Fe.id))})]}),r.jsx("div",{className:"mt-3 flex items-center justify-end",children:r.jsx("button",{className:"btn btn-danger",onClick:ue,children:e("security.logoutAll")})})]})}),r.jsx("div",{className:"h-6 md:h-8","aria-hidden":"true"}),r.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:e("security.securityNotifications")}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[r.jsx("span",{className:"text-sm",children:e("security.loginNewDevice")}),r.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"hidden",checked:I,onChange:Fe=>B(Fe.target.checked)}),r.jsx("span",{className:`w-10 h-6 rounded-full p-1 ${I?"bg-emerald-500":"bg-gray-400"} transition-all`,children:r.jsx("span",{className:`block w-4 h-4 bg-white rounded-full transition-transform ${I?"translate-x-4":"translate-x-0"}`})})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[r.jsx("span",{className:"text-sm",children:e("security.passwordChange")}),r.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"hidden",checked:O,onChange:Fe=>U(Fe.target.checked)}),r.jsx("span",{className:`w-10 h-6 rounded-full p-1 ${O?"bg-emerald-500":"bg-gray-400"} transition-all`,children:r.jsx("span",{className:`block w-4 h-4 bg-white rounded-full transition-transform ${O?"translate-x-4":"translate-x-0"}`})})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[r.jsx("span",{className:"text-sm",children:e("security.failedLogins")}),r.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"hidden",checked:E,onChange:Fe=>R(Fe.target.checked)}),r.jsx("span",{className:`w-10 h-6 rounded-full p-1 ${E?"bg-emerald-500":"bg-gray-400"} transition-all`,children:r.jsx("span",{className:`block w-4 h-4 bg-white rounded-full transition-transform ${E?"translate-x-4":"translate-x-0"}`})})]})]}),r.jsxs("div",{className:"p-3 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[r.jsx("div",{className:"text-sm mb-2",children:e("security.notificationMethod")}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"radio",name:"notif",checked:K==="email",onChange:()=>V("email")})," Email"]}),r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"radio",name:"notif",checked:K==="sms",onChange:()=>V("sms")})," ",e("security.sms")]}),r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"radio",name:"notif",checked:K==="push",onChange:()=>V("push")})," ",e("security.push")]})]})]})]})]}),r.jsx("div",{className:"h-6 md:h-8","aria-hidden":"true"}),r.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:e("security.policies")}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:e("security.minLength")}),r.jsx("input",{type:"number",min:4,className:"input-soft w-full",value:Z,onChange:Fe=>J(Number(Fe.target.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:e("security.failedLimit")}),r.jsx("input",{type:"number",min:1,className:"input-soft w-full",value:re,onChange:Fe=>oe(Number(Fe.target.value))})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[r.jsxs("div",{className:"space-y-2 p-3 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[r.jsx("div",{className:"text-sm font-medium",children:e("security.charReq")}),r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:ee,onChange:Fe=>W(Fe.target.checked)})," ",e("security.upper")]}),r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:le,onChange:Fe=>M(Fe.target.checked)})," ",e("security.lower")]}),r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:X,onChange:Fe=>z(Fe.target.checked)})," ",e("security.number")]}),r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:Q,onChange:Fe=>ne(Fe.target.checked)})," ",e("security.special")]})]}),r.jsxs("div",{className:"space-y-2 p-3 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[r.jsx("div",{className:"text-sm font-medium",children:e("security.lockoutPolicy")}),r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:q,onChange:Fe=>ie(Fe.target.checked)})," ",e("security.tempLockout")]}),r.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:e("security.lockoutNote")})]})]})]})]}),r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:e("security.auditLogs")}),r.jsx("div",{className:"space-y-2",children:ye.map(Fe=>r.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-white/90 dark:bg-gray-800/80 hover:shadow-sm",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"w-8 h-8 rounded-md bg-blue-50 text-blue-700 dark:bg-gray-700 dark:text-blue-400 flex items-center justify-center",children:""}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium",children:Fe.action}),r.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:Fe.at})]})]}),r.jsx("div",{className:"text-xs",children:Fe.by})]},Fe.id))})]})})]}),r.jsx(i3,{open:f,title:e("security.modal.setupTitle"),onClose:()=>x(!1),onConfirm:()=>{x(!1),c(!0),Y(Fe=>[{id:Math.random().toString(36).slice(2),action:"2FA Setup",by:"You",at:new Date().toLocaleString()},...Fe])},confirmText:e("security.setup2fa"),children:r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"text-sm",children:e("security.modal.setupHelp")}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"radio",name:"twofactor-modal",checked:d==="email",onChange:()=>u("email")})," ",e("security.emailOtp")]}),r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"radio",name:"twofactor-modal",checked:d==="sms",onChange:()=>u("sms")})," ",e("security.sms")]}),r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"radio",name:"twofactor-modal",checked:d==="app",onChange:()=>u("app")})," ",e("security.app")]})]})]})}),r.jsx(i3,{open:!!D,title:e("security.modal.logoutTitle"),onClose:()=>P(null),onConfirm:he,confirmText:e("security.logout"),children:r.jsx("div",{className:"text-sm",children:e("security.modal.logoutDesc")})}),r.jsx(i3,{open:k,title:e("security.modal.editPermsTitle"),onClose:()=>N(!1),onConfirm:()=>{N(!1),Y(Fe=>[{id:Math.random().toString(36).slice(2),action:"Permissions Updated",by:"You",at:new Date().toLocaleString()},...Fe])},confirmText:e("common.save"),children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:j.viewCustomers,onChange:Fe=>S(Ue=>({...Ue,viewCustomers:Fe.target.checked}))})," ",e("security.perms.viewCustomers")]}),r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:j.editCustomers,onChange:Fe=>S(Ue=>({...Ue,editCustomers:Fe.target.checked}))})," ",e("security.perms.editCustomers")]}),r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:j.manageUsers,onChange:Fe=>S(Ue=>({...Ue,manageUsers:Fe.target.checked}))})," ",e("security.perms.manageUsers")]}),r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:j.viewBilling,onChange:Fe=>S(Ue=>({...Ue,viewBilling:Fe.target.checked}))})," ",e("security.perms.viewBilling")]})]})})]})};function Vr(e){"@babel/helpers - typeof";return Vr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vr(e)}var ud=Uint8Array,Po=Uint16Array,B8=Int32Array,$8=new ud([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),U8=new ud([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),bO=new ud([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),bq=function(e,t){for(var a=new Po(31),s=0;s<31;++s)a[s]=t+=1<<e[s-1];for(var n=new B8(a[30]),s=1;s<30;++s)for(var i=a[s];i<a[s+1];++i)n[i]=i-a[s]<<5|s;return{b:a,r:n}},yq=bq($8,2),x5e=yq.b,SC=yq.r;x5e[28]=258,SC[258]=28;var g5e=bq(U8,0),yO=g5e.r,kC=new Po(32768);for(var fs=0;fs<32768;++fs){var uf=(fs&43690)>>1|(fs&21845)<<1;uf=(uf&52428)>>2|(uf&13107)<<2,uf=(uf&61680)>>4|(uf&3855)<<4,kC[fs]=((uf&65280)>>8|(uf&255)<<8)>>1}var C1=(function(e,t,a){for(var s=e.length,n=0,i=new Po(t);n<s;++n)e[n]&&++i[e[n]-1];var l=new Po(t);for(n=1;n<t;++n)l[n]=l[n-1]+i[n-1]<<1;var o;if(a){o=new Po(1<<t);var c=15-t;for(n=0;n<s;++n)if(e[n])for(var d=n<<4|e[n],u=t-e[n],f=l[e[n]-1]++<<u,x=f|(1<<u)-1;f<=x;++f)o[kC[f]>>c]=d}else for(o=new Po(s),n=0;n<s;++n)e[n]&&(o[n]=kC[l[e[n]-1]++]>>15-e[n]);return o}),vm=new ud(288);for(var fs=0;fs<144;++fs)vm[fs]=8;for(var fs=144;fs<256;++fs)vm[fs]=9;for(var fs=256;fs<280;++fs)vm[fs]=7;for(var fs=280;fs<288;++fs)vm[fs]=8;var ww=new ud(32);for(var fs=0;fs<32;++fs)ww[fs]=5;var v5e=C1(vm,9,0),b5e=C1(ww,5,0),wq=function(e){return(e+7)/8|0},y5e=function(e,t,a){return(a==null||a>e.length)&&(a=e.length),new ud(e.subarray(t,a))},Ru=function(e,t,a){a<<=t&7;var s=t/8|0;e[s]|=a,e[s+1]|=a>>8},Ig=function(e,t,a){a<<=t&7;var s=t/8|0;e[s]|=a,e[s+1]|=a>>8,e[s+2]|=a>>16},l3=function(e,t){for(var a=[],s=0;s<e.length;++s)e[s]&&a.push({s,f:e[s]});var n=a.length,i=a.slice();if(!n)return{t:Nq,l:0};if(n==1){var l=new ud(a[0].s+1);return l[a[0].s]=1,{t:l,l:1}}a.sort(function(A,_){return A.f-_.f}),a.push({s:-1,f:25001});var o=a[0],c=a[1],d=0,u=1,f=2;for(a[0]={s:-1,f:o.f+c.f,l:o,r:c};u!=n-1;)o=a[a[d].f<a[f].f?d++:f++],c=a[d!=u&&a[d].f<a[f].f?d++:f++],a[u++]={s:-1,f:o.f+c.f,l:o,r:c};for(var x=i[0].s,s=1;s<n;++s)i[s].s>x&&(x=i[s].s);var m=new Po(x+1),g=CC(a[u-1],m,0);if(g>t){var s=0,v=0,b=g-t,j=1<<b;for(i.sort(function(_,D){return m[D.s]-m[_.s]||_.f-D.f});s<n;++s){var S=i[s].s;if(m[S]>t)v+=j-(1<<g-m[S]),m[S]=t;else break}for(v>>=b;v>0;){var k=i[s].s;m[k]<t?v-=1<<t-m[k]++-1:++s}for(;s>=0&&v;--s){var N=i[s].s;m[N]==t&&(--m[N],++v)}g=t}return{t:new ud(m),l:g}},CC=function(e,t,a){return e.s==-1?Math.max(CC(e.l,t,a+1),CC(e.r,t,a+1)):t[e.s]=a},wO=function(e){for(var t=e.length;t&&!e[--t];);for(var a=new Po(++t),s=0,n=e[0],i=1,l=function(c){a[s++]=c},o=1;o<=t;++o)if(e[o]==n&&o!=t)++i;else{if(!n&&i>2){for(;i>138;i-=138)l(32754);i>2&&(l(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(l(n),--i;i>6;i-=6)l(8304);i>2&&(l(i-3<<5|8208),i=0)}for(;i--;)l(n);i=1,n=e[o]}return{c:a.subarray(0,s),n:t}},Bg=function(e,t){for(var a=0,s=0;s<t.length;++s)a+=e[s]*t[s];return a},jq=function(e,t,a){var s=a.length,n=wq(t+2);e[n]=s&255,e[n+1]=s>>8,e[n+2]=e[n]^255,e[n+3]=e[n+1]^255;for(var i=0;i<s;++i)e[n+i+4]=a[i];return(n+4+s)*8},jO=function(e,t,a,s,n,i,l,o,c,d,u){Ru(t,u++,a),++n[256];for(var f=l3(n,15),x=f.t,m=f.l,g=l3(i,15),v=g.t,b=g.l,j=wO(x),S=j.c,k=j.n,N=wO(v),A=N.c,_=N.n,D=new Po(19),P=0;P<S.length;++P)++D[S[P]&31];for(var P=0;P<A.length;++P)++D[A[P]&31];for(var I=l3(D,7),B=I.t,O=I.l,U=19;U>4&&!B[bO[U-1]];--U);var E=d+5<<3,R=Bg(n,vm)+Bg(i,ww)+l,K=Bg(n,x)+Bg(i,v)+l+14+3*U+Bg(D,B)+2*D[16]+3*D[17]+7*D[18];if(c>=0&&E<=R&&E<=K)return jq(t,u,e.subarray(c,c+d));var V,Z,J,ee;if(Ru(t,u,1+(K<R)),u+=2,K<R){V=C1(x,m,0),Z=x,J=C1(v,b,0),ee=v;var W=C1(B,O,0);Ru(t,u,k-257),Ru(t,u+5,_-1),Ru(t,u+10,U-4),u+=14;for(var P=0;P<U;++P)Ru(t,u+3*P,B[bO[P]]);u+=3*U;for(var le=[S,A],M=0;M<2;++M)for(var X=le[M],P=0;P<X.length;++P){var z=X[P]&31;Ru(t,u,W[z]),u+=B[z],z>15&&(Ru(t,u,X[P]>>5&127),u+=X[P]>>12)}}else V=v5e,Z=vm,J=b5e,ee=ww;for(var P=0;P<o;++P){var Q=s[P];if(Q>255){var z=Q>>18&31;Ig(t,u,V[z+257]),u+=Z[z+257],z>7&&(Ru(t,u,Q>>23&31),u+=$8[z]);var ne=Q&31;Ig(t,u,J[ne]),u+=ee[ne],ne>3&&(Ig(t,u,Q>>5&8191),u+=U8[ne])}else Ig(t,u,V[Q]),u+=Z[Q]}return Ig(t,u,V[256]),u+Z[256]},w5e=new B8([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Nq=new ud(0),j5e=function(e,t,a,s,n,i){var l=i.z||e.length,o=new ud(s+l+5*(1+Math.ceil(l/7e3))+n),c=o.subarray(s,o.length-n),d=i.l,u=(i.r||0)&7;if(t){u&&(c[0]=i.r>>3);for(var f=w5e[t-1],x=f>>13,m=f&8191,g=(1<<a)-1,v=i.p||new Po(32768),b=i.h||new Po(g+1),j=Math.ceil(a/3),S=2*j,k=function(he){return(e[he]^e[he+1]<<j^e[he+2]<<S)&g},N=new B8(25e3),A=new Po(288),_=new Po(32),D=0,P=0,I=i.i||0,B=0,O=i.w||0,U=0;I+2<l;++I){var E=k(I),R=I&32767,K=b[E];if(v[R]=K,b[E]=R,O<=I){var V=l-I;if((D>7e3||B>24576)&&(V>423||!d)){u=jO(e,c,0,N,A,_,P,B,U,I-U,u),B=D=P=0,U=I;for(var Z=0;Z<286;++Z)A[Z]=0;for(var Z=0;Z<30;++Z)_[Z]=0}var J=2,ee=0,W=m,le=R-K&32767;if(V>2&&E==k(I-le))for(var M=Math.min(x,V)-1,X=Math.min(32767,I),z=Math.min(258,V);le<=X&&--W&&R!=K;){if(e[I+J]==e[I+J-le]){for(var Q=0;Q<z&&e[I+Q]==e[I+Q-le];++Q);if(Q>J){if(J=Q,ee=le,Q>M)break;for(var ne=Math.min(le,Q-2),re=0,Z=0;Z<ne;++Z){var oe=I-le+Z&32767,q=v[oe],ie=oe-q&32767;ie>re&&(re=ie,K=oe)}}}R=K,K=v[R],le+=R-K&32767}if(ee){N[B++]=268435456|SC[J]<<18|yO[ee];var ye=SC[J]&31,Y=yO[ee]&31;P+=$8[ye]+U8[Y],++A[257+ye],++_[Y],O=I+J,++D}else N[B++]=e[I],++A[e[I]]}}for(I=Math.max(I,O);I<l;++I)N[B++]=e[I],++A[e[I]];u=jO(e,c,d,N,A,_,P,B,U,I-U,u),d||(i.r=u&7|c[u/8|0]<<3,u-=7,i.h=b,i.p=v,i.i=I,i.w=O)}else{for(var I=i.w||0;I<l+d;I+=65535){var ce=I+65535;ce>=l&&(c[u/8|0]=d,ce=l),u=jq(c,u+1,e.subarray(I,ce))}i.i=l}return y5e(o,0,s+wq(u)+n)},Sq=function(){var e=1,t=0;return{p:function(a){for(var s=e,n=t,i=a.length|0,l=0;l!=i;){for(var o=Math.min(l+2655,i);l<o;++l)n+=s+=a[l];s=(s&65535)+15*(s>>16),n=(n&65535)+15*(n>>16)}e=s,t=n},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},N5e=function(e,t,a,s,n){if(!n&&(n={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),l=new ud(i.length+e.length);l.set(i),l.set(e,i.length),e=l,n.w=i.length}return j5e(e,t.level==null?6:t.level,t.mem==null?n.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,a,s,n)},kq=function(e,t,a){for(;a;++t)e[t]=a,a>>>=8},S5e=function(e,t){var a=t.level,s=a==0?0:a<6?1:a==9?3:2;if(e[0]=120,e[1]=s<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var n=Sq();n.p(t.dictionary),kq(e,2,n.d())}};function AC(e,t){t||(t={});var a=Sq();a.p(e);var s=N5e(e,t,t.dictionary?6:2,4);return S5e(s,t),kq(s,s.length-4,a.d()),s}var k5e=typeof TextDecoder<"u"&&new TextDecoder,C5e=0;try{k5e.decode(Nq,{stream:!0}),C5e=1}catch{}function A5e(e){if(Array.isArray(e))return e}function _5e(e,t){var a=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(a!=null){var s,n,i,l,o=[],c=!0,d=!1;try{if(i=(a=a.call(e)).next,t!==0)for(;!(c=(s=i.call(a)).done)&&(o.push(s.value),o.length!==t);c=!0);}catch(u){d=!0,n=u}finally{try{if(!c&&a.return!=null&&(l=a.return(),Object(l)!==l))return}finally{if(d)throw n}}return o}}function NO(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,s=Array(t);a<t;a++)s[a]=e[a];return s}function T5e(e,t){if(e){if(typeof e=="string")return NO(e,t);var a={}.toString.call(e).slice(8,-1);return a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set"?Array.from(e):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?NO(e,t):void 0}}function E5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SO(e,t){return A5e(e)||_5e(e,t)||T5e(e,t)||E5e()}function kO(e,t="utf8"){return new TextDecoder(t).decode(e)}const D5e=new TextEncoder;function M5e(e){return D5e.encode(e)}const P5e=1024*8,L5e=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),o3={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class z8{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=P5e,a={}){let s=!1;typeof t=="number"?t=new ArrayBuffer(t):(s=!0,this.lastWrittenByte=t.byteLength);const n=a.offset?a.offset>>>0:0,i=t.byteLength-n;let l=n;(ArrayBuffer.isView(t)||t instanceof z8)&&(t.byteLength!==t.buffer.byteLength&&(l=t.byteOffset+n),t=t.buffer),s?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=l,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,l,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const s=(this.offset+t)*2,n=new Uint8Array(s);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=s,this.byteLength=s,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,a){const s=o3[a].BYTES_PER_ELEMENT*t,n=this.byteOffset+this.offset,i=this.buffer.slice(n,n+s);if(this.littleEndian===L5e&&a!=="uint8"&&a!=="int8"){const o=new Uint8Array(this.buffer.slice(n,n+s));o.reverse();const c=new o3[a](o.buffer);return this.offset+=s,c.reverse(),c}const l=new o3[a](i);return this.offset+=s,l}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let a="";for(let s=0;s<t;s++)a+=this.readChar();return a}readUtf8(t=1){return kO(this.readBytes(t))}decodeText(t=1,a="utf8"){return kO(this.readBytes(t),a)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let a=0;a<t.length;a++)this._data.setUint8(this.offset++,t[a]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let a=0;a<t.length;a++)this.writeUint8(t.charCodeAt(a));return this}writeUtf8(t){return this.writeBytes(M5e(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Dx(e){let t=e.length;for(;--t>=0;)e[t]=0}const O5e=3,R5e=258,Cq=29,F5e=256,I5e=F5e+1+Cq,Aq=30,B5e=512,$5e=new Array((I5e+2)*2);Dx($5e);const U5e=new Array(Aq*2);Dx(U5e);const z5e=new Array(B5e);Dx(z5e);const H5e=new Array(R5e-O5e+1);Dx(H5e);const V5e=new Array(Cq);Dx(V5e);const W5e=new Array(Aq);Dx(W5e);const q5e=(e,t,a,s)=>{let n=e&65535|0,i=e>>>16&65535|0,l=0;for(;a!==0;){l=a>2e3?2e3:a,a-=l;do n=n+t[s++]|0,i=i+n|0;while(--l);n%=65521,i%=65521}return n|i<<16|0};var _C=q5e;const G5e=()=>{let e,t=[];for(var a=0;a<256;a++){e=a;for(var s=0;s<8;s++)e=e&1?3988292384^e>>>1:e>>>1;t[a]=e}return t},K5e=new Uint32Array(G5e()),Y5e=(e,t,a,s)=>{const n=K5e,i=s+a;e^=-1;for(let l=s;l<i;l++)e=e>>>8^n[(e^t[l])&255];return e^-1};var Hd=Y5e,TC={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},_q={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const X5e=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var J5e=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const a=t.shift();if(a){if(typeof a!="object")throw new TypeError(a+"must be non-object");for(const s in a)X5e(a,s)&&(e[s]=a[s])}}return e},Q5e=e=>{let t=0;for(let s=0,n=e.length;s<n;s++)t+=e[s].length;const a=new Uint8Array(t);for(let s=0,n=0,i=e.length;s<i;s++){let l=e[s];a.set(l,n),n+=l.length}return a},Tq={assign:J5e,flattenChunks:Q5e};let Eq=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Eq=!1}const hv=new Uint8Array(256);for(let e=0;e<256;e++)hv[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;hv[254]=hv[254]=1;var Z5e=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,a,s,n,i,l=e.length,o=0;for(n=0;n<l;n++)a=e.charCodeAt(n),(a&64512)===55296&&n+1<l&&(s=e.charCodeAt(n+1),(s&64512)===56320&&(a=65536+(a-55296<<10)+(s-56320),n++)),o+=a<128?1:a<2048?2:a<65536?3:4;for(t=new Uint8Array(o),i=0,n=0;i<o;n++)a=e.charCodeAt(n),(a&64512)===55296&&n+1<l&&(s=e.charCodeAt(n+1),(s&64512)===56320&&(a=65536+(a-55296<<10)+(s-56320),n++)),a<128?t[i++]=a:a<2048?(t[i++]=192|a>>>6,t[i++]=128|a&63):a<65536?(t[i++]=224|a>>>12,t[i++]=128|a>>>6&63,t[i++]=128|a&63):(t[i++]=240|a>>>18,t[i++]=128|a>>>12&63,t[i++]=128|a>>>6&63,t[i++]=128|a&63);return t};const e3e=(e,t)=>{if(t<65534&&e.subarray&&Eq)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let a="";for(let s=0;s<t;s++)a+=String.fromCharCode(e[s]);return a};var t3e=(e,t)=>{const a=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let s,n;const i=new Array(a*2);for(n=0,s=0;s<a;){let l=e[s++];if(l<128){i[n++]=l;continue}let o=hv[l];if(o>4){i[n++]=65533,s+=o-1;continue}for(l&=o===2?31:o===3?15:7;o>1&&s<a;)l=l<<6|e[s++]&63,o--;if(o>1){i[n++]=65533;continue}l<65536?i[n++]=l:(l-=65536,i[n++]=55296|l>>10&1023,i[n++]=56320|l&1023)}return e3e(i,n)},a3e=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let a=t-1;for(;a>=0&&(e[a]&192)===128;)a--;return a<0||a===0?t:a+hv[e[a]]>t?a:t},EC={string2buf:Z5e,buf2string:t3e,utf8border:a3e};function r3e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var s3e=r3e;const Xy=16209,n3e=16191;var i3e=function(t,a){let s,n,i,l,o,c,d,u,f,x,m,g,v,b,j,S,k,N,A,_,D,P,I,B;const O=t.state;s=t.next_in,I=t.input,n=s+(t.avail_in-5),i=t.next_out,B=t.output,l=i-(a-t.avail_out),o=i+(t.avail_out-257),c=O.dmax,d=O.wsize,u=O.whave,f=O.wnext,x=O.window,m=O.hold,g=O.bits,v=O.lencode,b=O.distcode,j=(1<<O.lenbits)-1,S=(1<<O.distbits)-1;e:do{g<15&&(m+=I[s++]<<g,g+=8,m+=I[s++]<<g,g+=8),k=v[m&j];t:for(;;){if(N=k>>>24,m>>>=N,g-=N,N=k>>>16&255,N===0)B[i++]=k&65535;else if(N&16){A=k&65535,N&=15,N&&(g<N&&(m+=I[s++]<<g,g+=8),A+=m&(1<<N)-1,m>>>=N,g-=N),g<15&&(m+=I[s++]<<g,g+=8,m+=I[s++]<<g,g+=8),k=b[m&S];a:for(;;){if(N=k>>>24,m>>>=N,g-=N,N=k>>>16&255,N&16){if(_=k&65535,N&=15,g<N&&(m+=I[s++]<<g,g+=8,g<N&&(m+=I[s++]<<g,g+=8)),_+=m&(1<<N)-1,_>c){t.msg="invalid distance too far back",O.mode=Xy;break e}if(m>>>=N,g-=N,N=i-l,_>N){if(N=_-N,N>u&&O.sane){t.msg="invalid distance too far back",O.mode=Xy;break e}if(D=0,P=x,f===0){if(D+=d-N,N<A){A-=N;do B[i++]=x[D++];while(--N);D=i-_,P=B}}else if(f<N){if(D+=d+f-N,N-=f,N<A){A-=N;do B[i++]=x[D++];while(--N);if(D=0,f<A){N=f,A-=N;do B[i++]=x[D++];while(--N);D=i-_,P=B}}}else if(D+=f-N,N<A){A-=N;do B[i++]=x[D++];while(--N);D=i-_,P=B}for(;A>2;)B[i++]=P[D++],B[i++]=P[D++],B[i++]=P[D++],A-=3;A&&(B[i++]=P[D++],A>1&&(B[i++]=P[D++]))}else{D=i-_;do B[i++]=B[D++],B[i++]=B[D++],B[i++]=B[D++],A-=3;while(A>2);A&&(B[i++]=B[D++],A>1&&(B[i++]=B[D++]))}}else if((N&64)===0){k=b[(k&65535)+(m&(1<<N)-1)];continue a}else{t.msg="invalid distance code",O.mode=Xy;break e}break}}else if((N&64)===0){k=v[(k&65535)+(m&(1<<N)-1)];continue t}else if(N&32){O.mode=n3e;break e}else{t.msg="invalid literal/length code",O.mode=Xy;break e}break}}while(s<n&&i<o);A=g>>3,s-=A,g-=A<<3,m&=(1<<g)-1,t.next_in=s,t.next_out=i,t.avail_in=s<n?5+(n-s):5-(s-n),t.avail_out=i<o?257+(o-i):257-(i-o),O.hold=m,O.bits=g};const _p=15,CO=852,AO=592,_O=0,c3=1,TO=2,l3e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),o3e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),c3e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),d3e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),u3e=(e,t,a,s,n,i,l,o)=>{const c=o.bits;let d=0,u=0,f=0,x=0,m=0,g=0,v=0,b=0,j=0,S=0,k,N,A,_,D,P=null,I;const B=new Uint16Array(_p+1),O=new Uint16Array(_p+1);let U=null,E,R,K;for(d=0;d<=_p;d++)B[d]=0;for(u=0;u<s;u++)B[t[a+u]]++;for(m=c,x=_p;x>=1&&B[x]===0;x--);if(m>x&&(m=x),x===0)return n[i++]=1<<24|64<<16|0,n[i++]=1<<24|64<<16|0,o.bits=1,0;for(f=1;f<x&&B[f]===0;f++);for(m<f&&(m=f),b=1,d=1;d<=_p;d++)if(b<<=1,b-=B[d],b<0)return-1;if(b>0&&(e===_O||x!==1))return-1;for(O[1]=0,d=1;d<_p;d++)O[d+1]=O[d]+B[d];for(u=0;u<s;u++)t[a+u]!==0&&(l[O[t[a+u]]++]=u);if(e===_O?(P=U=l,I=20):e===c3?(P=l3e,U=o3e,I=257):(P=c3e,U=d3e,I=0),S=0,u=0,d=f,D=i,g=m,v=0,A=-1,j=1<<m,_=j-1,e===c3&&j>CO||e===TO&&j>AO)return 1;for(;;){E=d-v,l[u]+1<I?(R=0,K=l[u]):l[u]>=I?(R=U[l[u]-I],K=P[l[u]-I]):(R=96,K=0),k=1<<d-v,N=1<<g,f=N;do N-=k,n[D+(S>>v)+N]=E<<24|R<<16|K|0;while(N!==0);for(k=1<<d-1;S&k;)k>>=1;if(k!==0?(S&=k-1,S+=k):S=0,u++,--B[d]===0){if(d===x)break;d=t[a+l[u]]}if(d>m&&(S&_)!==A){for(v===0&&(v=m),D+=f,g=d-v,b=1<<g;g+v<x&&(b-=B[g+v],!(b<=0));)g++,b<<=1;if(j+=1<<g,e===c3&&j>CO||e===TO&&j>AO)return 1;A=S&_,n[A]=m<<24|g<<16|D-i|0}}return S!==0&&(n[D+S]=d-v<<24|64<<16|0),o.bits=m,0};var A1=u3e;const h3e=0,Dq=1,Mq=2,{Z_FINISH:EO,Z_BLOCK:f3e,Z_TREES:Jy,Z_OK:bm,Z_STREAM_END:m3e,Z_NEED_DICT:p3e,Z_STREAM_ERROR:wc,Z_DATA_ERROR:Pq,Z_MEM_ERROR:Lq,Z_BUF_ERROR:x3e,Z_DEFLATED:DO}=_q,aN=16180,MO=16181,PO=16182,LO=16183,OO=16184,RO=16185,FO=16186,IO=16187,BO=16188,$O=16189,jw=16190,Fu=16191,d3=16192,UO=16193,u3=16194,zO=16195,HO=16196,VO=16197,WO=16198,Qy=16199,Zy=16200,qO=16201,GO=16202,KO=16203,YO=16204,XO=16205,h3=16206,JO=16207,QO=16208,_s=16209,Oq=16210,Rq=16211,g3e=852,v3e=592,b3e=15,y3e=b3e,ZO=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function w3e(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Fm=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<aN||t.mode>Rq?1:0},Fq=e=>{if(Fm(e))return wc;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=aN,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(g3e),t.distcode=t.distdyn=new Int32Array(v3e),t.sane=1,t.back=-1,bm},Iq=e=>{if(Fm(e))return wc;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Fq(e)},Bq=(e,t)=>{let a;if(Fm(e))return wc;const s=e.state;return t<0?(a=0,t=-t):(a=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?wc:(s.window!==null&&s.wbits!==t&&(s.window=null),s.wrap=a,s.wbits=t,Iq(e))},$q=(e,t)=>{if(!e)return wc;const a=new w3e;e.state=a,a.strm=e,a.window=null,a.mode=aN;const s=Bq(e,t);return s!==bm&&(e.state=null),s},j3e=e=>$q(e,y3e);let eR=!0,f3,m3;const N3e=e=>{if(eR){f3=new Int32Array(512),m3=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(A1(Dq,e.lens,0,288,f3,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;A1(Mq,e.lens,0,32,m3,0,e.work,{bits:5}),eR=!1}e.lencode=f3,e.lenbits=9,e.distcode=m3,e.distbits=5},Uq=(e,t,a,s)=>{let n;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),s>=i.wsize?(i.window.set(t.subarray(a-i.wsize,a),0),i.wnext=0,i.whave=i.wsize):(n=i.wsize-i.wnext,n>s&&(n=s),i.window.set(t.subarray(a-s,a-s+n),i.wnext),s-=n,s?(i.window.set(t.subarray(a-s,a),0),i.wnext=s,i.whave=i.wsize):(i.wnext+=n,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=n))),0},S3e=(e,t)=>{let a,s,n,i,l,o,c,d,u,f,x,m,g,v,b=0,j,S,k,N,A,_,D,P;const I=new Uint8Array(4);let B,O;const U=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Fm(e)||!e.output||!e.input&&e.avail_in!==0)return wc;a=e.state,a.mode===Fu&&(a.mode=d3),l=e.next_out,n=e.output,c=e.avail_out,i=e.next_in,s=e.input,o=e.avail_in,d=a.hold,u=a.bits,f=o,x=c,P=bm;e:for(;;)switch(a.mode){case aN:if(a.wrap===0){a.mode=d3;break}for(;u<16;){if(o===0)break e;o--,d+=s[i++]<<u,u+=8}if(a.wrap&2&&d===35615){a.wbits===0&&(a.wbits=15),a.check=0,I[0]=d&255,I[1]=d>>>8&255,a.check=Hd(a.check,I,2,0),d=0,u=0,a.mode=MO;break}if(a.head&&(a.head.done=!1),!(a.wrap&1)||(((d&255)<<8)+(d>>8))%31){e.msg="incorrect header check",a.mode=_s;break}if((d&15)!==DO){e.msg="unknown compression method",a.mode=_s;break}if(d>>>=4,u-=4,D=(d&15)+8,a.wbits===0&&(a.wbits=D),D>15||D>a.wbits){e.msg="invalid window size",a.mode=_s;break}a.dmax=1<<a.wbits,a.flags=0,e.adler=a.check=1,a.mode=d&512?$O:Fu,d=0,u=0;break;case MO:for(;u<16;){if(o===0)break e;o--,d+=s[i++]<<u,u+=8}if(a.flags=d,(a.flags&255)!==DO){e.msg="unknown compression method",a.mode=_s;break}if(a.flags&57344){e.msg="unknown header flags set",a.mode=_s;break}a.head&&(a.head.text=d>>8&1),a.flags&512&&a.wrap&4&&(I[0]=d&255,I[1]=d>>>8&255,a.check=Hd(a.check,I,2,0)),d=0,u=0,a.mode=PO;case PO:for(;u<32;){if(o===0)break e;o--,d+=s[i++]<<u,u+=8}a.head&&(a.head.time=d),a.flags&512&&a.wrap&4&&(I[0]=d&255,I[1]=d>>>8&255,I[2]=d>>>16&255,I[3]=d>>>24&255,a.check=Hd(a.check,I,4,0)),d=0,u=0,a.mode=LO;case LO:for(;u<16;){if(o===0)break e;o--,d+=s[i++]<<u,u+=8}a.head&&(a.head.xflags=d&255,a.head.os=d>>8),a.flags&512&&a.wrap&4&&(I[0]=d&255,I[1]=d>>>8&255,a.check=Hd(a.check,I,2,0)),d=0,u=0,a.mode=OO;case OO:if(a.flags&1024){for(;u<16;){if(o===0)break e;o--,d+=s[i++]<<u,u+=8}a.length=d,a.head&&(a.head.extra_len=d),a.flags&512&&a.wrap&4&&(I[0]=d&255,I[1]=d>>>8&255,a.check=Hd(a.check,I,2,0)),d=0,u=0}else a.head&&(a.head.extra=null);a.mode=RO;case RO:if(a.flags&1024&&(m=a.length,m>o&&(m=o),m&&(a.head&&(D=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Uint8Array(a.head.extra_len)),a.head.extra.set(s.subarray(i,i+m),D)),a.flags&512&&a.wrap&4&&(a.check=Hd(a.check,s,m,i)),o-=m,i+=m,a.length-=m),a.length))break e;a.length=0,a.mode=FO;case FO:if(a.flags&2048){if(o===0)break e;m=0;do D=s[i+m++],a.head&&D&&a.length<65536&&(a.head.name+=String.fromCharCode(D));while(D&&m<o);if(a.flags&512&&a.wrap&4&&(a.check=Hd(a.check,s,m,i)),o-=m,i+=m,D)break e}else a.head&&(a.head.name=null);a.length=0,a.mode=IO;case IO:if(a.flags&4096){if(o===0)break e;m=0;do D=s[i+m++],a.head&&D&&a.length<65536&&(a.head.comment+=String.fromCharCode(D));while(D&&m<o);if(a.flags&512&&a.wrap&4&&(a.check=Hd(a.check,s,m,i)),o-=m,i+=m,D)break e}else a.head&&(a.head.comment=null);a.mode=BO;case BO:if(a.flags&512){for(;u<16;){if(o===0)break e;o--,d+=s[i++]<<u,u+=8}if(a.wrap&4&&d!==(a.check&65535)){e.msg="header crc mismatch",a.mode=_s;break}d=0,u=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),e.adler=a.check=0,a.mode=Fu;break;case $O:for(;u<32;){if(o===0)break e;o--,d+=s[i++]<<u,u+=8}e.adler=a.check=ZO(d),d=0,u=0,a.mode=jw;case jw:if(a.havedict===0)return e.next_out=l,e.avail_out=c,e.next_in=i,e.avail_in=o,a.hold=d,a.bits=u,p3e;e.adler=a.check=1,a.mode=Fu;case Fu:if(t===f3e||t===Jy)break e;case d3:if(a.last){d>>>=u&7,u-=u&7,a.mode=h3;break}for(;u<3;){if(o===0)break e;o--,d+=s[i++]<<u,u+=8}switch(a.last=d&1,d>>>=1,u-=1,d&3){case 0:a.mode=UO;break;case 1:if(N3e(a),a.mode=Qy,t===Jy){d>>>=2,u-=2;break e}break;case 2:a.mode=HO;break;case 3:e.msg="invalid block type",a.mode=_s}d>>>=2,u-=2;break;case UO:for(d>>>=u&7,u-=u&7;u<32;){if(o===0)break e;o--,d+=s[i++]<<u,u+=8}if((d&65535)!==(d>>>16^65535)){e.msg="invalid stored block lengths",a.mode=_s;break}if(a.length=d&65535,d=0,u=0,a.mode=u3,t===Jy)break e;case u3:a.mode=zO;case zO:if(m=a.length,m){if(m>o&&(m=o),m>c&&(m=c),m===0)break e;n.set(s.subarray(i,i+m),l),o-=m,i+=m,c-=m,l+=m,a.length-=m;break}a.mode=Fu;break;case HO:for(;u<14;){if(o===0)break e;o--,d+=s[i++]<<u,u+=8}if(a.nlen=(d&31)+257,d>>>=5,u-=5,a.ndist=(d&31)+1,d>>>=5,u-=5,a.ncode=(d&15)+4,d>>>=4,u-=4,a.nlen>286||a.ndist>30){e.msg="too many length or distance symbols",a.mode=_s;break}a.have=0,a.mode=VO;case VO:for(;a.have<a.ncode;){for(;u<3;){if(o===0)break e;o--,d+=s[i++]<<u,u+=8}a.lens[U[a.have++]]=d&7,d>>>=3,u-=3}for(;a.have<19;)a.lens[U[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,B={bits:a.lenbits},P=A1(h3e,a.lens,0,19,a.lencode,0,a.work,B),a.lenbits=B.bits,P){e.msg="invalid code lengths set",a.mode=_s;break}a.have=0,a.mode=WO;case WO:for(;a.have<a.nlen+a.ndist;){for(;b=a.lencode[d&(1<<a.lenbits)-1],j=b>>>24,S=b>>>16&255,k=b&65535,!(j<=u);){if(o===0)break e;o--,d+=s[i++]<<u,u+=8}if(k<16)d>>>=j,u-=j,a.lens[a.have++]=k;else{if(k===16){for(O=j+2;u<O;){if(o===0)break e;o--,d+=s[i++]<<u,u+=8}if(d>>>=j,u-=j,a.have===0){e.msg="invalid bit length repeat",a.mode=_s;break}D=a.lens[a.have-1],m=3+(d&3),d>>>=2,u-=2}else if(k===17){for(O=j+3;u<O;){if(o===0)break e;o--,d+=s[i++]<<u,u+=8}d>>>=j,u-=j,D=0,m=3+(d&7),d>>>=3,u-=3}else{for(O=j+7;u<O;){if(o===0)break e;o--,d+=s[i++]<<u,u+=8}d>>>=j,u-=j,D=0,m=11+(d&127),d>>>=7,u-=7}if(a.have+m>a.nlen+a.ndist){e.msg="invalid bit length repeat",a.mode=_s;break}for(;m--;)a.lens[a.have++]=D}}if(a.mode===_s)break;if(a.lens[256]===0){e.msg="invalid code -- missing end-of-block",a.mode=_s;break}if(a.lenbits=9,B={bits:a.lenbits},P=A1(Dq,a.lens,0,a.nlen,a.lencode,0,a.work,B),a.lenbits=B.bits,P){e.msg="invalid literal/lengths set",a.mode=_s;break}if(a.distbits=6,a.distcode=a.distdyn,B={bits:a.distbits},P=A1(Mq,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,B),a.distbits=B.bits,P){e.msg="invalid distances set",a.mode=_s;break}if(a.mode=Qy,t===Jy)break e;case Qy:a.mode=Zy;case Zy:if(o>=6&&c>=258){e.next_out=l,e.avail_out=c,e.next_in=i,e.avail_in=o,a.hold=d,a.bits=u,i3e(e,x),l=e.next_out,n=e.output,c=e.avail_out,i=e.next_in,s=e.input,o=e.avail_in,d=a.hold,u=a.bits,a.mode===Fu&&(a.back=-1);break}for(a.back=0;b=a.lencode[d&(1<<a.lenbits)-1],j=b>>>24,S=b>>>16&255,k=b&65535,!(j<=u);){if(o===0)break e;o--,d+=s[i++]<<u,u+=8}if(S&&(S&240)===0){for(N=j,A=S,_=k;b=a.lencode[_+((d&(1<<N+A)-1)>>N)],j=b>>>24,S=b>>>16&255,k=b&65535,!(N+j<=u);){if(o===0)break e;o--,d+=s[i++]<<u,u+=8}d>>>=N,u-=N,a.back+=N}if(d>>>=j,u-=j,a.back+=j,a.length=k,S===0){a.mode=XO;break}if(S&32){a.back=-1,a.mode=Fu;break}if(S&64){e.msg="invalid literal/length code",a.mode=_s;break}a.extra=S&15,a.mode=qO;case qO:if(a.extra){for(O=a.extra;u<O;){if(o===0)break e;o--,d+=s[i++]<<u,u+=8}a.length+=d&(1<<a.extra)-1,d>>>=a.extra,u-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=GO;case GO:for(;b=a.distcode[d&(1<<a.distbits)-1],j=b>>>24,S=b>>>16&255,k=b&65535,!(j<=u);){if(o===0)break e;o--,d+=s[i++]<<u,u+=8}if((S&240)===0){for(N=j,A=S,_=k;b=a.distcode[_+((d&(1<<N+A)-1)>>N)],j=b>>>24,S=b>>>16&255,k=b&65535,!(N+j<=u);){if(o===0)break e;o--,d+=s[i++]<<u,u+=8}d>>>=N,u-=N,a.back+=N}if(d>>>=j,u-=j,a.back+=j,S&64){e.msg="invalid distance code",a.mode=_s;break}a.offset=k,a.extra=S&15,a.mode=KO;case KO:if(a.extra){for(O=a.extra;u<O;){if(o===0)break e;o--,d+=s[i++]<<u,u+=8}a.offset+=d&(1<<a.extra)-1,d>>>=a.extra,u-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){e.msg="invalid distance too far back",a.mode=_s;break}a.mode=YO;case YO:if(c===0)break e;if(m=x-c,a.offset>m){if(m=a.offset-m,m>a.whave&&a.sane){e.msg="invalid distance too far back",a.mode=_s;break}m>a.wnext?(m-=a.wnext,g=a.wsize-m):g=a.wnext-m,m>a.length&&(m=a.length),v=a.window}else v=n,g=l-a.offset,m=a.length;m>c&&(m=c),c-=m,a.length-=m;do n[l++]=v[g++];while(--m);a.length===0&&(a.mode=Zy);break;case XO:if(c===0)break e;n[l++]=a.length,c--,a.mode=Zy;break;case h3:if(a.wrap){for(;u<32;){if(o===0)break e;o--,d|=s[i++]<<u,u+=8}if(x-=c,e.total_out+=x,a.total+=x,a.wrap&4&&x&&(e.adler=a.check=a.flags?Hd(a.check,n,x,l-x):_C(a.check,n,x,l-x)),x=c,a.wrap&4&&(a.flags?d:ZO(d))!==a.check){e.msg="incorrect data check",a.mode=_s;break}d=0,u=0}a.mode=JO;case JO:if(a.wrap&&a.flags){for(;u<32;){if(o===0)break e;o--,d+=s[i++]<<u,u+=8}if(a.wrap&4&&d!==(a.total&4294967295)){e.msg="incorrect length check",a.mode=_s;break}d=0,u=0}a.mode=QO;case QO:P=m3e;break e;case _s:P=Pq;break e;case Oq:return Lq;case Rq:default:return wc}return e.next_out=l,e.avail_out=c,e.next_in=i,e.avail_in=o,a.hold=d,a.bits=u,(a.wsize||x!==e.avail_out&&a.mode<_s&&(a.mode<h3||t!==EO))&&Uq(e,e.output,e.next_out,x-e.avail_out),f-=e.avail_in,x-=e.avail_out,e.total_in+=f,e.total_out+=x,a.total+=x,a.wrap&4&&x&&(e.adler=a.check=a.flags?Hd(a.check,n,x,e.next_out-x):_C(a.check,n,x,e.next_out-x)),e.data_type=a.bits+(a.last?64:0)+(a.mode===Fu?128:0)+(a.mode===Qy||a.mode===u3?256:0),(f===0&&x===0||t===EO)&&P===bm&&(P=x3e),P},k3e=e=>{if(Fm(e))return wc;let t=e.state;return t.window&&(t.window=null),e.state=null,bm},C3e=(e,t)=>{if(Fm(e))return wc;const a=e.state;return(a.wrap&2)===0?wc:(a.head=t,t.done=!1,bm)},A3e=(e,t)=>{const a=t.length;let s,n,i;return Fm(e)||(s=e.state,s.wrap!==0&&s.mode!==jw)?wc:s.mode===jw&&(n=1,n=_C(n,t,a,0),n!==s.check)?Pq:(i=Uq(e,t,a,a),i?(s.mode=Oq,Lq):(s.havedict=1,bm))};var _3e=Iq,T3e=Bq,E3e=Fq,D3e=j3e,M3e=$q,P3e=S3e,L3e=k3e,O3e=C3e,R3e=A3e,F3e="pako inflate (from Nodeca project)",Uu={inflateReset:_3e,inflateReset2:T3e,inflateResetKeep:E3e,inflateInit:D3e,inflateInit2:M3e,inflate:P3e,inflateEnd:L3e,inflateGetHeader:O3e,inflateSetDictionary:R3e,inflateInfo:F3e};function I3e(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var B3e=I3e;const zq=Object.prototype.toString,{Z_NO_FLUSH:$3e,Z_FINISH:U3e,Z_OK:fv,Z_STREAM_END:p3,Z_NEED_DICT:x3,Z_STREAM_ERROR:z3e,Z_DATA_ERROR:tR,Z_MEM_ERROR:H3e}=_q;function Zv(e){this.options=Tq.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s3e,this.strm.avail_out=0;let a=Uu.inflateInit2(this.strm,t.windowBits);if(a!==fv)throw new Error(TC[a]);if(this.header=new B3e,Uu.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=EC.string2buf(t.dictionary):zq.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(a=Uu.inflateSetDictionary(this.strm,t.dictionary),a!==fv)))throw new Error(TC[a])}Zv.prototype.push=function(e,t){const a=this.strm,s=this.options.chunkSize,n=this.options.dictionary;let i,l,o;if(this.ended)return!1;for(t===~~t?l=t:l=t===!0?U3e:$3e,zq.call(e)==="[object ArrayBuffer]"?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;;){for(a.avail_out===0&&(a.output=new Uint8Array(s),a.next_out=0,a.avail_out=s),i=Uu.inflate(a,l),i===x3&&n&&(i=Uu.inflateSetDictionary(a,n),i===fv?i=Uu.inflate(a,l):i===tR&&(i=x3));a.avail_in>0&&i===p3&&a.state.wrap>0&&e[a.next_in]!==0;)Uu.inflateReset(a),i=Uu.inflate(a,l);switch(i){case z3e:case tR:case x3:case H3e:return this.onEnd(i),this.ended=!0,!1}if(o=a.avail_out,a.next_out&&(a.avail_out===0||i===p3))if(this.options.to==="string"){let c=EC.utf8border(a.output,a.next_out),d=a.next_out-c,u=EC.buf2string(a.output,c);a.next_out=d,a.avail_out=s-d,d&&a.output.set(a.output.subarray(c,c+d),0),this.onData(u)}else this.onData(a.output.length===a.next_out?a.output:a.output.subarray(0,a.next_out));if(!(i===fv&&o===0)){if(i===p3)return i=Uu.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(a.avail_in===0)break}}return!0};Zv.prototype.onData=function(e){this.chunks.push(e)};Zv.prototype.onEnd=function(e){e===fv&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Tq.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function V3e(e,t){const a=new Zv(t);if(a.push(e),a.err)throw a.msg||TC[a.err];return a.result}var W3e=Zv,q3e=V3e,G3e={Inflate:W3e,inflate:q3e};const{Inflate:K3e,inflate:Y3e}=G3e;var aR=K3e,X3e=Y3e;const Hq=[];for(let e=0;e<256;e++){let t=e;for(let a=0;a<8;a++)t&1?t=3988292384^t>>>1:t=t>>>1;Hq[e]=t}const rR=4294967295;function J3e(e,t,a){let s=e;for(let n=0;n<a;n++)s=Hq[(s^t[n])&255]^s>>>8;return s}function Q3e(e,t){return(J3e(rR,e,t)^rR)>>>0}function sR(e,t,a){const s=e.readUint32(),n=Q3e(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(n!==s)throw new Error(`CRC mismatch for chunk ${a}. Expected ${s}, found ${n}`)}function Vq(e,t,a){for(let s=0;s<a;s++)t[s]=e[s]}function Wq(e,t,a,s){let n=0;for(;n<s;n++)t[n]=e[n];for(;n<a;n++)t[n]=e[n]+t[n-s]&255}function qq(e,t,a,s){let n=0;if(a.length===0)for(;n<s;n++)t[n]=e[n];else for(;n<s;n++)t[n]=e[n]+a[n]&255}function Gq(e,t,a,s,n){let i=0;if(a.length===0){for(;i<n;i++)t[i]=e[i];for(;i<s;i++)t[i]=e[i]+(t[i-n]>>1)&255}else{for(;i<n;i++)t[i]=e[i]+(a[i]>>1)&255;for(;i<s;i++)t[i]=e[i]+(t[i-n]+a[i]>>1)&255}}function Kq(e,t,a,s,n){let i=0;if(a.length===0){for(;i<n;i++)t[i]=e[i];for(;i<s;i++)t[i]=e[i]+t[i-n]&255}else{for(;i<n;i++)t[i]=e[i]+a[i]&255;for(;i<s;i++)t[i]=e[i]+Z3e(t[i-n],a[i],a[i-n])&255}}function Z3e(e,t,a){const s=e+t-a,n=Math.abs(s-e),i=Math.abs(s-t),l=Math.abs(s-a);return n<=i&&n<=l?e:i<=l?t:a}function eSe(e,t,a,s,n,i){switch(e){case 0:Vq(t,a,n);break;case 1:Wq(t,a,n,i);break;case 2:qq(t,a,s,n);break;case 3:Gq(t,a,s,n,i);break;case 4:Kq(t,a,s,n,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const tSe=new Uint16Array([255]),aSe=new Uint8Array(tSe.buffer),rSe=aSe[0]===255;function sSe(e){const{data:t,width:a,height:s,channels:n,depth:i}=e,l=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(i/8)*n,c=new Uint8Array(s*a*o);let d=0;for(let u=0;u<7;u++){const f=l[u],x=Math.ceil((a-f.x)/f.xStep),m=Math.ceil((s-f.y)/f.yStep);if(x<=0||m<=0)continue;const g=x*o,v=new Uint8Array(g);for(let b=0;b<m;b++){const j=t[d++],S=t.subarray(d,d+g);d+=g;const k=new Uint8Array(g);eSe(j,S,k,v,g,o),v.set(k);for(let N=0;N<x;N++){const A=f.x+N*f.xStep,_=f.y+b*f.yStep;if(!(A>=a||_>=s))for(let D=0;D<o;D++)c[(_*a+A)*o+D]=k[N*o+D]}}}if(i===16){const u=new Uint16Array(c.buffer);if(rSe)for(let f=0;f<u.length;f++)u[f]=nSe(u[f]);return u}else return c}function nSe(e){return(e&255)<<8|e>>8&255}const iSe=new Uint16Array([255]),lSe=new Uint8Array(iSe.buffer),oSe=lSe[0]===255,cSe=new Uint8Array(0);function nR(e){const{data:t,width:a,height:s,channels:n,depth:i}=e,l=Math.ceil(i/8)*n,o=Math.ceil(i/8*n*a),c=new Uint8Array(s*o);let d=cSe,u=0,f,x;for(let m=0;m<s;m++){switch(f=t.subarray(u+1,u+1+o),x=c.subarray(m*o,(m+1)*o),t[u]){case 0:Vq(f,x,o);break;case 1:Wq(f,x,o,l);break;case 2:qq(f,x,d,o);break;case 3:Gq(f,x,d,o,l);break;case 4:Kq(f,x,d,o,l);break;default:throw new Error(`Unsupported filter: ${t[u]}`)}d=x,u+=o+1}if(i===16){const m=new Uint16Array(c.buffer);if(oSe)for(let g=0;g<m.length;g++)m[g]=dSe(m[g]);return m}else return c}function dSe(e){return(e&255)<<8|e>>8&255}const F2=Uint8Array.of(137,80,78,71,13,10,26,10);function iR(e){if(!uSe(e.readBytes(F2.length)))throw new Error("wrong PNG signature")}function uSe(e){if(e.length<F2.length)return!1;for(let t=0;t<F2.length;t++)if(e[t]!==F2[t])return!1;return!0}const hSe="tEXt",fSe=0,Yq=new TextDecoder("latin1");function mSe(e){if(xSe(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const pSe=/^[\u0000-\u00FF]*$/;function xSe(e){if(!pSe.test(e))throw new Error("invalid latin1 text")}function gSe(e,t,a){const s=Xq(t);e[s]=vSe(t,a-s.length-1)}function Xq(e){for(e.mark();e.readByte()!==fSe;);const t=e.offset;e.reset();const a=Yq.decode(e.readBytes(t-e.offset-1));return e.skip(1),mSe(a),a}function vSe(e,t){return Yq.decode(e.readBytes(t))}const jo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},g3={UNKNOWN:-1,DEFLATE:0},lR={UNKNOWN:-1,ADAPTIVE:0},v3={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},e2={NONE:0,BACKGROUND:1,PREVIOUS:2},b3={SOURCE:0,OVER:1};class bSe extends z8{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,a={}){super(t);const{checkCrc:s=!1}=a;this._checkCrc=s,this._inflator=new aR,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=g3.UNKNOWN,this._filterMethod=lR.UNKNOWN,this._interlaceMethod=v3.UNKNOWN,this._colorType=jo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(iR(this);!this._end;){const t=this.readUint32(),a=this.readChars(4);this.decodeChunk(t,a)}return this.decodeImage(),this._png}decodeApng(){for(iR(this);!this._end;){const t=this.readUint32(),a=this.readChars(4);this.decodeApngChunk(t,a)}return this.decodeApngImage(),this._apng}decodeChunk(t,a){const s=this.offset;switch(a){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case hSe:gSe(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-s!==t)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?sR(this,t+4,a):this.skip(4)}decodeApngChunk(t,a){const s=this.offset;switch(a!=="fdAT"&&a!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),a){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,a),this.offset=s+t;break}if(this.offset-s!==t)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?sR(this,t+4,a):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=ySe(this.readUint8());const a=this.readUint8();this._colorType=a;let s;switch(a){case jo.GREYSCALE:s=1;break;case jo.TRUECOLOUR:s=3;break;case jo.INDEXED_COLOUR:s=1;break;case jo.GREYSCALE_ALPHA:s=2;break;case jo.TRUECOLOUR_ALPHA:s=4;break;case jo.UNKNOWN:default:throw new Error(`Unknown color type: ${a}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==g3.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const a=t/3;this._hasPalette=!0;const s=[];this._palette=s;for(let n=0;n<a;n++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const a=t,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let a=t,s=this.offset+this.byteOffset;if(s+=4,a-=4,this._inflator.push(new Uint8Array(this.buffer,s,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case jo.GREYSCALE:case jo.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let a=0;a<t/2;a++)this._transparency[a]=this.readUint16();break}case jo.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let a=0;for(;a<t;a++){const s=this.readByte();this._palette[a].push(s)}for(;a<this._palette.length;a++)this._palette[a].push(255);break}case jo.UNKNOWN:case jo.GREYSCALE_ALPHA:case jo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const a=Xq(this),s=this.readUint8();if(s!==g3.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const n=this.readBytes(t-a.length-2);this._png.iccEmbeddedProfile={name:a,profile:X3e(n)}}decodepHYs(){const t=this.readUint32(),a=this.readUint32(),s=this.readByte();this._png.resolution={x:t,y:a,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const a={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(t);if(s){if(s.data=nR({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)a.data=s.data;else{const n=this._apng.frames.at(t-1);this.disposeFrame(s,n,a),this.addFrameDataToCanvas(a,s)}this._apng.frames.push(a)}}return this._apng}disposeFrame(t,a,s){switch(t.disposeOp){case e2.NONE:break;case e2.BACKGROUND:for(let n=0;n<this._png.height;n++)for(let i=0;i<this._png.width;i++){const l=(n*t.width+i)*this._png.channels;for(let o=0;o<this._png.channels;o++)s.data[l+o]=0}break;case e2.PREVIOUS:s.data.set(a.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,a){const s=1<<this._png.depth,n=(i,l)=>{const o=((i+a.yOffset)*this._png.width+a.xOffset+l)*this._png.channels,c=(i*a.width+l)*this._png.channels;return{index:o,frameIndex:c}};switch(a.blendOp){case b3.SOURCE:for(let i=0;i<a.height;i++)for(let l=0;l<a.width;l++){const{index:o,frameIndex:c}=n(i,l);for(let d=0;d<this._png.channels;d++)t.data[o+d]=a.data[c+d]}break;case b3.OVER:for(let i=0;i<a.height;i++)for(let l=0;l<a.width;l++){const{index:o,frameIndex:c}=n(i,l);for(let d=0;d<this._png.channels;d++){const u=a.data[c+this._png.channels-1]/s,f=d%(this._png.channels-1)===0?1:a.data[c+d],x=Math.floor(u*f+(1-u)*t.data[o+d]);t.data[o+d]+=x}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==lR.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===v3.NO_INTERLACE)this._png.data=nR({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===v3.ADAM7)this._png.data=sSe({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,a=this._frames.at(-1);a?a.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:e2.NONE,blendOp:b3.SOURCE,data:t}),this._inflator=new aR,this._writingDataChunks=!1}}function ySe(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var oR;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(oR||(oR={}));function wSe(e,t){return new bSe(e,t).decode()}var Ba=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function y3(){Ba.console&&typeof Ba.console.log=="function"&&Ba.console.log.apply(Ba.console,arguments)}var ss={log:y3,warn:function(e){Ba.console&&(typeof Ba.console.warn=="function"?Ba.console.warn.apply(Ba.console,arguments):y3.call(null,arguments))},error:function(e){Ba.console&&(typeof Ba.console.error=="function"?Ba.console.error.apply(Ba.console,arguments):y3(e))}};function w3(e,t,a){var s=new XMLHttpRequest;s.open("GET",e),s.responseType="blob",s.onload=function(){D0(s.response,t,a)},s.onerror=function(){ss.error("could not download file")},s.send()}function cR(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function t2(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var D0=Ba.saveAs||((typeof window>"u"?"undefined":Vr(window))!=="object"||window!==Ba?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,a){var s=Ba.URL||Ba.webkitURL,n=document.createElement("a");t=t||e.name||"download",n.download=t,n.rel="noopener",typeof e=="string"?(n.href=e,n.origin!==location.origin?cR(n.href)?w3(e,t,a):t2(n,n.target="_blank"):t2(n)):(n.href=s.createObjectURL(e),setTimeout(function(){s.revokeObjectURL(n.href)},4e4),setTimeout(function(){t2(n)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,a){if(t=t||e.name||"download",typeof e=="string")if(cR(e))w3(e,t,a);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout(function(){t2(s)})}else navigator.msSaveOrOpenBlob((function(n,i){return i===void 0?i={autoBom:!1}:Vr(i)!=="object"&&(ss.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob(["\uFEFF",n],{type:n.type}):n})(e,a),t)}:function(e,t,a,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),typeof e=="string")return w3(e,t,a);var n=e.type==="application/octet-stream",i=/constructor/i.test(Ba.HTMLElement)||Ba.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||n&&i)&&(typeof FileReader>"u"?"undefined":Vr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=l?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=u:location=u,s=null},o.readAsDataURL(e)}else{var c=Ba.URL||Ba.webkitURL,d=c.createObjectURL(e);s?s.location=d:location.href=d,s=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Jq(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var a=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],s=0;s<a.length;s++){var n=a[s].re,i=a[s].process,l=n.exec(e);l&&(t=i(l),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+o+c+d}}var I2=Ba.atob.bind(Ba),dR=Ba.btoa.bind(Ba);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function j3(e,t){var a=e[0],s=e[1],n=e[2],i=e[3];a=Ji(a,s,n,i,t[0],7,-680876936),i=Ji(i,a,s,n,t[1],12,-389564586),n=Ji(n,i,a,s,t[2],17,606105819),s=Ji(s,n,i,a,t[3],22,-1044525330),a=Ji(a,s,n,i,t[4],7,-176418897),i=Ji(i,a,s,n,t[5],12,1200080426),n=Ji(n,i,a,s,t[6],17,-1473231341),s=Ji(s,n,i,a,t[7],22,-45705983),a=Ji(a,s,n,i,t[8],7,1770035416),i=Ji(i,a,s,n,t[9],12,-1958414417),n=Ji(n,i,a,s,t[10],17,-42063),s=Ji(s,n,i,a,t[11],22,-1990404162),a=Ji(a,s,n,i,t[12],7,1804603682),i=Ji(i,a,s,n,t[13],12,-40341101),n=Ji(n,i,a,s,t[14],17,-1502002290),a=Qi(a,s=Ji(s,n,i,a,t[15],22,1236535329),n,i,t[1],5,-165796510),i=Qi(i,a,s,n,t[6],9,-1069501632),n=Qi(n,i,a,s,t[11],14,643717713),s=Qi(s,n,i,a,t[0],20,-373897302),a=Qi(a,s,n,i,t[5],5,-701558691),i=Qi(i,a,s,n,t[10],9,38016083),n=Qi(n,i,a,s,t[15],14,-660478335),s=Qi(s,n,i,a,t[4],20,-405537848),a=Qi(a,s,n,i,t[9],5,568446438),i=Qi(i,a,s,n,t[14],9,-1019803690),n=Qi(n,i,a,s,t[3],14,-187363961),s=Qi(s,n,i,a,t[8],20,1163531501),a=Qi(a,s,n,i,t[13],5,-1444681467),i=Qi(i,a,s,n,t[2],9,-51403784),n=Qi(n,i,a,s,t[7],14,1735328473),a=Zi(a,s=Qi(s,n,i,a,t[12],20,-1926607734),n,i,t[5],4,-378558),i=Zi(i,a,s,n,t[8],11,-2022574463),n=Zi(n,i,a,s,t[11],16,1839030562),s=Zi(s,n,i,a,t[14],23,-35309556),a=Zi(a,s,n,i,t[1],4,-1530992060),i=Zi(i,a,s,n,t[4],11,1272893353),n=Zi(n,i,a,s,t[7],16,-155497632),s=Zi(s,n,i,a,t[10],23,-1094730640),a=Zi(a,s,n,i,t[13],4,681279174),i=Zi(i,a,s,n,t[0],11,-358537222),n=Zi(n,i,a,s,t[3],16,-722521979),s=Zi(s,n,i,a,t[6],23,76029189),a=Zi(a,s,n,i,t[9],4,-640364487),i=Zi(i,a,s,n,t[12],11,-421815835),n=Zi(n,i,a,s,t[15],16,530742520),a=el(a,s=Zi(s,n,i,a,t[2],23,-995338651),n,i,t[0],6,-198630844),i=el(i,a,s,n,t[7],10,1126891415),n=el(n,i,a,s,t[14],15,-1416354905),s=el(s,n,i,a,t[5],21,-57434055),a=el(a,s,n,i,t[12],6,1700485571),i=el(i,a,s,n,t[3],10,-1894986606),n=el(n,i,a,s,t[10],15,-1051523),s=el(s,n,i,a,t[1],21,-2054922799),a=el(a,s,n,i,t[8],6,1873313359),i=el(i,a,s,n,t[15],10,-30611744),n=el(n,i,a,s,t[6],15,-1560198380),s=el(s,n,i,a,t[13],21,1309151649),a=el(a,s,n,i,t[4],6,-145523070),i=el(i,a,s,n,t[11],10,-1120210379),n=el(n,i,a,s,t[2],15,718787259),s=el(s,n,i,a,t[9],21,-343485551),e[0]=Sf(a,e[0]),e[1]=Sf(s,e[1]),e[2]=Sf(n,e[2]),e[3]=Sf(i,e[3])}function rN(e,t,a,s,n,i){return t=Sf(Sf(t,e),Sf(s,i)),Sf(t<<n|t>>>32-n,a)}function Ji(e,t,a,s,n,i,l){return rN(t&a|~t&s,e,t,n,i,l)}function Qi(e,t,a,s,n,i,l){return rN(t&s|a&~s,e,t,n,i,l)}function Zi(e,t,a,s,n,i,l){return rN(t^a^s,e,t,n,i,l)}function el(e,t,a,s,n,i,l){return rN(a^(t|~s),e,t,n,i,l)}function Qq(e){var t,a=e.length,s=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)j3(s,jSe(e.substring(t-64,t)));e=e.substring(t-64);var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)n[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(n[t>>2]|=128<<(t%4<<3),t>55)for(j3(s,n),t=0;t<16;t++)n[t]=0;return n[14]=8*a,j3(s,n),s}function jSe(e){var t,a=[];for(t=0;t<64;t+=4)a[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return a}var uR="0123456789abcdef".split("");function NSe(e){for(var t="",a=0;a<4;a++)t+=uR[e>>8*a+4&15]+uR[e>>8*a&15];return t}function SSe(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function DC(e){return Qq(e).map(SSe).join("")}var kSe=(function(e){for(var t=0;t<e.length;t++)e[t]=NSe(e[t]);return e.join("")})(Qq("hello"))!="5d41402abc4b2a76b9719d911017c592";function Sf(e,t){if(kSe){var a=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(a>>16)<<16|65535&a}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function MC(e,t){var a,s,n,i;if(e!==a){for(var l=(n=e,i=1+(256/e.length|0),new Array(i+1).join(n)),o=[],c=0;c<256;c++)o[c]=c;var d=0;for(c=0;c<256;c++){var u=o[c];d=(d+u+l.charCodeAt(c))%256,o[c]=o[d],o[d]=u}a=e,s=o}else o=s;var f=t.length,x=0,m=0,g="";for(c=0;c<f;c++)m=(m+(u=o[x=(x+1)%256]))%256,o[x]=o[m],o[m]=u,l=o[(o[x]+o[m])%256],g+=String.fromCharCode(t.charCodeAt(c)^l);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var hR={print:4,modify:8,copy:16,"annot-forms":32};function Rp(e,t,a,s){this.v=1,this.r=2;var n=192;e.forEach(function(o){if(hR.perm!==void 0)throw new Error("Invalid permission: "+o);n+=hR[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),l=(a+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,l),this.P=-(1+(255^n)),this.encryptionKey=DC(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(s)).substr(0,5),this.U=MC(this.encryptionKey,this.padding)}function Fp(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",a=e.length,s=0;s<a;s++){var n=e.charCodeAt(s);t+=n<33||n===35||n===37||n===40||n===41||n===47||n===60||n===62||n===91||n===93||n===123||n===125||n>126?"#"+("0"+n.toString(16)).slice(-2):e[s]}return t}function fR(e){if(Vr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(a,s,n){if(n=n||!1,typeof a!="string"||typeof s!="function"||typeof n!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(a)||(t[a]={});var i=Math.random().toString(35);return t[a][i]=[s,!!n],i},this.unsubscribe=function(a){for(var s in t)if(t[s][a])return delete t[s][a],Object.keys(t[s]).length===0&&delete t[s],!0;return!1},this.publish=function(a){if(t.hasOwnProperty(a)){var s=Array.prototype.slice.call(arguments,1),n=[];for(var i in t[a]){var l=t[a][i];try{l[0].apply(e,s)}catch(o){Ba.console&&ss.error("jsPDF PubSub Error",o.message,o)}l[1]&&n.push(i)}n.length&&n.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function mv(e){if(!(this instanceof mv))return new mv(e);var t="opacity,stroke-opacity".split(",");for(var a in e)e.hasOwnProperty(a)&&t.indexOf(a)>=0&&(this[a]=e[a]);this.id="",this.objectNumber=-1}function Zq(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function xf(e,t,a,s,n){if(!(this instanceof xf))return new xf(e,t,a,s,n);this.type=e==="axial"?2:3,this.coords=t,this.colors=a,Zq.call(this,s,n)}function $0(e,t,a,s,n){if(!(this instanceof $0))return new $0(e,t,a,s,n);this.boundingBox=e,this.xStep=t,this.yStep=a,this.stream="",this.cloneIndex=0,Zq.call(this,s,n)}function ma(e){var t,a=typeof arguments[0]=="string"?arguments[0]:"p",s=arguments[1],n=arguments[2],i=arguments[3],l=[],o=1,c=16,d="S",u=null;Vr(e=e||{})==="object"&&(a=e.orientation,s=e.unit||s,n=e.format||n,i=e.compress||e.compressPdf||i,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),d=e.defaultPathOperation||"S"),l=e.filters||(i===!0?["FlateEncode"]:l),s=s||"mm",a=(""+(a||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,x={},m={internal:{},__private__:{}};m.__private__.PubSub=fR;var g="1.3",v=m.__private__.getPdfVersion=function(){return g};m.__private__.setPdfVersion=function(G){g=G};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return b};var j=m.__private__.getPageFormat=function(G){return b[G]};n=n||"a4";var S="compat",k="advanced",N=S;function A(){this.saveGraphicsState(),ue(new Ae(Nt,0,0,-Nt,0,mu()*Nt).toString()+" cm"),this.setFontSize(this.getFontSize()/Nt),d="n",N=k}function _(){this.restoreGraphicsState(),d="S",N=S}var D=m.__private__.combineFontStyleAndFontWeight=function(G,fe){if(G=="bold"&&fe=="normal"||G=="bold"&&fe==400||G=="normal"&&fe=="italic"||G=="bold"&&fe=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return fe&&(G=fe==400||fe==="normal"?G==="italic"?"italic":"normal":fe!=700&&fe!=="bold"||G!=="normal"?(fe==700?"bold":fe)+""+G:"bold"),G};m.advancedAPI=function(G){var fe=N===S;return fe&&A.call(this),typeof G!="function"||(G(this),fe&&_.call(this)),this},m.compatAPI=function(G){var fe=N===k;return fe&&_.call(this),typeof G!="function"||(G(this),fe&&A.call(this)),this},m.isAdvancedAPI=function(){return N===k};var P,I=function(G){if(N!==k)throw new Error(G+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},B=m.roundToPrecision=m.__private__.roundToPrecision=function(G,fe){var Re=t||fe;if(isNaN(G)||isNaN(Re))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return G.toFixed(Re).replace(/0+$/,"")};P=m.hpf=m.__private__.hpf=typeof c=="number"?function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.hpf");return B(G,c)}:c==="smart"?function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.hpf");return B(G,G>-1&&G<1?16:5)}:function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.hpf");return B(G,16)};var O=m.f2=m.__private__.f2=function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.f2");return B(G,2)},U=m.__private__.f3=function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.f3");return B(G,3)},E=m.scale=m.__private__.scale=function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.scale");return N===S?G*Nt:N===k?G:void 0},R=function(G){return E((function(fe){return N===S?mu()-fe:N===k?fe:void 0})(G))};m.__private__.setPrecision=m.setPrecision=function(G){typeof parseInt(G,10)=="number"&&(t=parseInt(G,10))};var K,V="00000000000000000000000000000000",Z=m.__private__.getFileId=function(){return V},J=m.__private__.setFileId=function(G){return V=G!==void 0&&/^[a-fA-F0-9]{32}$/.test(G)?G.toUpperCase():V.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(mr=new Rp(u.userPermissions,u.userPassword,u.ownerPassword,V)),V};m.setFileId=function(G){return J(G),this},m.getFileId=function(){return Z()};var ee=m.__private__.convertDateToPDFDate=function(G){var fe=G.getTimezoneOffset(),Re=fe<0?"+":"-",He=Math.floor(Math.abs(fe/60)),Qe=Math.abs(fe%60),_t=[Re,z(He),"'",z(Qe),"'"].join("");return["D:",G.getFullYear(),z(G.getMonth()+1),z(G.getDate()),z(G.getHours()),z(G.getMinutes()),z(G.getSeconds()),_t].join("")},W=m.__private__.convertPDFDateToDate=function(G){var fe=parseInt(G.substr(2,4),10),Re=parseInt(G.substr(6,2),10)-1,He=parseInt(G.substr(8,2),10),Qe=parseInt(G.substr(10,2),10),_t=parseInt(G.substr(12,2),10),It=parseInt(G.substr(14,2),10);return new Date(fe,Re,He,Qe,_t,It,0)},le=m.__private__.setCreationDate=function(G){var fe;if(G===void 0&&(G=new Date),G instanceof Date)fe=ee(G);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(G))throw new Error("Invalid argument passed to jsPDF.setCreationDate");fe=G}return K=fe},M=m.__private__.getCreationDate=function(G){var fe=K;return G==="jsDate"&&(fe=W(K)),fe};m.setCreationDate=function(G){return le(G),this},m.getCreationDate=function(G){return M(G)};var X,z=m.__private__.padd2=function(G){return("0"+parseInt(G)).slice(-2)},Q=m.__private__.padd2Hex=function(G){return("00"+(G=G.toString())).substr(G.length)},ne=0,re=[],oe=[],q=0,ie=[],ye=[],Y=!1,ce=oe;m.__private__.setCustomOutputDestination=function(G){Y=!0,ce=G};var he=function(G){Y||(ce=G)};m.__private__.resetCustomOutputDestination=function(){Y=!1,ce=oe};var ue=m.__private__.out=function(G){return G=G.toString(),q+=G.length+1,ce.push(G),ce},Fe=m.__private__.write=function(G){return ue(arguments.length===1?G.toString():Array.prototype.join.call(arguments," "))},Ue=m.__private__.getArrayBuffer=function(G){for(var fe=G.length,Re=new ArrayBuffer(fe),He=new Uint8Array(Re);fe--;)He[fe]=G.charCodeAt(fe);return Re},Te=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Te};var ae=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(G){return ae=N===k?G/Nt:G,this};var De,Ce=m.__private__.getFontSize=m.getFontSize=function(){return N===S?ae:ae*Nt},at=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(G){return at=G,this},m.__private__.getR2L=m.getR2L=function(){return at};var ft,zt=m.__private__.setZoomMode=function(G){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(G))De=G;else if(isNaN(G)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(G)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+G+'" is not recognized.');De=G}else De=parseInt(G,10)};m.__private__.getZoomMode=function(){return De};var st,$e=m.__private__.setPageMode=function(G){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(G)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+G+'" is not recognized.');ft=G};m.__private__.getPageMode=function(){return ft};var qe=m.__private__.setLayoutMode=function(G){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(G)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+G+'" is not recognized.');st=G};m.__private__.getLayoutMode=function(){return st},m.__private__.setDisplayMode=m.setDisplayMode=function(G,fe,Re){return zt(G),qe(fe),$e(Re),this};var ct={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(G){if(Object.keys(ct).indexOf(G)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ct[G]},m.__private__.getDocumentProperties=function(){return ct},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(G){for(var fe in ct)ct.hasOwnProperty(fe)&&G[fe]&&(ct[fe]=G[fe]);return this},m.__private__.setDocumentProperty=function(G,fe){if(Object.keys(ct).indexOf(G)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ct[G]=fe};var dt,Nt,Ct,Lt,Ht,Vt={},Ne={},Mt=[],Ee={},ze={},We={},xt={},gt=null,sa=0,Zt=[],ka=new fR(m),ut=e.hotfixes||[],ta={},va={},pa=[],Ae=function G(fe,Re,He,Qe,_t,It){if(!(this instanceof G))return new G(fe,Re,He,Qe,_t,It);isNaN(fe)&&(fe=1),isNaN(Re)&&(Re=0),isNaN(He)&&(He=0),isNaN(Qe)&&(Qe=1),isNaN(_t)&&(_t=0),isNaN(It)&&(It=0),this._matrix=[fe,Re,He,Qe,_t,It]};Object.defineProperty(Ae.prototype,"sx",{get:function(){return this._matrix[0]},set:function(G){this._matrix[0]=G}}),Object.defineProperty(Ae.prototype,"shy",{get:function(){return this._matrix[1]},set:function(G){this._matrix[1]=G}}),Object.defineProperty(Ae.prototype,"shx",{get:function(){return this._matrix[2]},set:function(G){this._matrix[2]=G}}),Object.defineProperty(Ae.prototype,"sy",{get:function(){return this._matrix[3]},set:function(G){this._matrix[3]=G}}),Object.defineProperty(Ae.prototype,"tx",{get:function(){return this._matrix[4]},set:function(G){this._matrix[4]=G}}),Object.defineProperty(Ae.prototype,"ty",{get:function(){return this._matrix[5]},set:function(G){this._matrix[5]=G}}),Object.defineProperty(Ae.prototype,"a",{get:function(){return this._matrix[0]},set:function(G){this._matrix[0]=G}}),Object.defineProperty(Ae.prototype,"b",{get:function(){return this._matrix[1]},set:function(G){this._matrix[1]=G}}),Object.defineProperty(Ae.prototype,"c",{get:function(){return this._matrix[2]},set:function(G){this._matrix[2]=G}}),Object.defineProperty(Ae.prototype,"d",{get:function(){return this._matrix[3]},set:function(G){this._matrix[3]=G}}),Object.defineProperty(Ae.prototype,"e",{get:function(){return this._matrix[4]},set:function(G){this._matrix[4]=G}}),Object.defineProperty(Ae.prototype,"f",{get:function(){return this._matrix[5]},set:function(G){this._matrix[5]=G}}),Object.defineProperty(Ae.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ae.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ae.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ae.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ae.prototype.join=function(G){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(P).join(G)},Ae.prototype.multiply=function(G){var fe=G.sx*this.sx+G.shy*this.shx,Re=G.sx*this.shy+G.shy*this.sy,He=G.shx*this.sx+G.sy*this.shx,Qe=G.shx*this.shy+G.sy*this.sy,_t=G.tx*this.sx+G.ty*this.shx+this.tx,It=G.tx*this.shy+G.ty*this.sy+this.ty;return new Ae(fe,Re,He,Qe,_t,It)},Ae.prototype.decompose=function(){var G=this.sx,fe=this.shy,Re=this.shx,He=this.sy,Qe=this.tx,_t=this.ty,It=Math.sqrt(G*G+fe*fe),la=(G/=It)*Re+(fe/=It)*He;Re-=G*la,He-=fe*la;var ba=Math.sqrt(Re*Re+He*He);return la/=ba,G*(He/=ba)<fe*(Re/=ba)&&(G=-G,fe=-fe,la=-la,It=-It),{scale:new Ae(It,0,0,ba,0,0),translate:new Ae(1,0,0,1,Qe,_t),rotate:new Ae(G,fe,-fe,G,0,0),skew:new Ae(1,0,la,1,0,0)}},Ae.prototype.toString=function(G){return this.join(" ")},Ae.prototype.inversed=function(){var G=this.sx,fe=this.shy,Re=this.shx,He=this.sy,Qe=this.tx,_t=this.ty,It=1/(G*He-fe*Re),la=He*It,ba=-fe*It,Ma=-Re*It,za=G*It;return new Ae(la,ba,Ma,za,-la*Qe-Ma*_t,-ba*Qe-za*_t)},Ae.prototype.applyToPoint=function(G){var fe=G.x*this.sx+G.y*this.shx+this.tx,Re=G.x*this.shy+G.y*this.sy+this.ty;return new hu(fe,Re)},Ae.prototype.applyToRectangle=function(G){var fe=this.applyToPoint(G),Re=this.applyToPoint(new hu(G.x+G.w,G.y+G.h));return new fu(fe.x,fe.y,Re.x-fe.x,Re.y-fe.y)},Ae.prototype.clone=function(){var G=this.sx,fe=this.shy,Re=this.shx,He=this.sy,Qe=this.tx,_t=this.ty;return new Ae(G,fe,Re,He,Qe,_t)},m.Matrix=Ae;var na=m.matrixMult=function(G,fe){return fe.multiply(G)},Za=new Ae(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Za;var Ka=function(G,fe){if(!ze[G]){var Re=(fe instanceof xf?"Sh":"P")+(Object.keys(Ee).length+1).toString(10);fe.id=Re,ze[G]=Re,Ee[Re]=fe,ka.publish("addPattern",fe)}};m.ShadingPattern=xf,m.TilingPattern=$0,m.addShadingPattern=function(G,fe){return I("addShadingPattern()"),Ka(G,fe),this},m.beginTilingPattern=function(G){I("beginTilingPattern()"),Dc(G.boundingBox[0],G.boundingBox[1],G.boundingBox[2]-G.boundingBox[0],G.boundingBox[3]-G.boundingBox[1],G.matrix)},m.endTilingPattern=function(G,fe){I("endTilingPattern()"),fe.stream=ye[X].join(`
`),Ka(G,fe),ka.publish("endTilingPattern",fe),pa.pop().restore()};var rr,$a=m.__private__.newObject=function(){var G=Ua();return pe(G,!0),G},Ua=m.__private__.newObjectDeferred=function(){return ne++,re[ne]=function(){return q},ne},pe=function(G,fe){return fe=typeof fe=="boolean"&&fe,re[G]=q,fe&&ue(G+" 0 obj"),G},Me=m.__private__.newAdditionalObject=function(){var G={objId:Ua(),content:""};return ie.push(G),G},we=Ua(),Se=Ua(),_e=m.__private__.decodeColorString=function(G){var fe=G.split(" ");if(fe.length!==2||fe[1]!=="g"&&fe[1]!=="G")fe.length!==5||fe[4]!=="k"&&fe[4]!=="K"||(fe=[(1-fe[0])*(1-fe[3]),(1-fe[1])*(1-fe[3]),(1-fe[2])*(1-fe[3]),"r"]);else{var Re=parseFloat(fe[0]);fe=[Re,Re,Re,"r"]}for(var He="#",Qe=0;Qe<3;Qe++)He+=("0"+Math.floor(255*parseFloat(fe[Qe])).toString(16)).slice(-2);return He},Oe=m.__private__.encodeColorString=function(G){var fe;typeof G=="string"&&(G={ch1:G});var Re=G.ch1,He=G.ch2,Qe=G.ch3,_t=G.ch4,It=G.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Re=="string"&&Re.charAt(0)!=="#"){var la=new Jq(Re);if(la.ok)Re=la.toHex();else if(!/^\d*\.?\d*$/.test(Re))throw new Error('Invalid color "'+Re+'" passed to jsPDF.encodeColorString.')}if(typeof Re=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Re)&&(Re="#"+Re[1]+Re[1]+Re[2]+Re[2]+Re[3]+Re[3]),typeof Re=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Re)){var ba=parseInt(Re.substr(1),16);Re=ba>>16&255,He=ba>>8&255,Qe=255&ba}if(He===void 0||_t===void 0&&Re===He&&He===Qe)fe=typeof Re=="string"?Re+" "+It[0]:G.precision===2?O(Re/255)+" "+It[0]:U(Re/255)+" "+It[0];else if(_t===void 0||Vr(_t)==="object"){if(_t&&!isNaN(_t.a)&&_t.a===0)return["1.","1.","1.",It[1]].join(" ");fe=typeof Re=="string"?[Re,He,Qe,It[1]].join(" "):G.precision===2?[O(Re/255),O(He/255),O(Qe/255),It[1]].join(" "):[U(Re/255),U(He/255),U(Qe/255),It[1]].join(" ")}else fe=typeof Re=="string"?[Re,He,Qe,_t,It[2]].join(" "):G.precision===2?[O(Re),O(He),O(Qe),O(_t),It[2]].join(" "):[U(Re),U(He),U(Qe),U(_t),It[2]].join(" ");return fe},Ze=m.__private__.getFilters=function(){return l},pt=m.__private__.putStream=function(G){var fe=(G=G||{}).data||"",Re=G.filters||Ze(),He=G.alreadyAppliedFilters||[],Qe=G.addLength1||!1,_t=fe.length,It=G.objectId,la=function(cn){return cn};if(u!==null&&It===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(la=mr.encryptor(It,0));var ba={};Re===!0&&(Re=["FlateEncode"]);var Ma=G.additionalKeyValues||[],za=(ba=ma.API.processDataByFilters!==void 0?ma.API.processDataByFilters(fe,Re):{data:fe,reverseChain:[]}).reverseChain+(Array.isArray(He)?He.join(" "):He.toString());if(ba.data.length!==0&&(Ma.push({key:"Length",value:ba.data.length}),Qe===!0&&Ma.push({key:"Length1",value:_t})),za.length!=0)if(za.split("/").length-1==1)Ma.push({key:"Filter",value:za});else{Ma.push({key:"Filter",value:"["+za+"]"});for(var yr=0;yr<Ma.length;yr+=1)if(Ma[yr].key==="DecodeParms"){for(var cs=[],qs=0;qs<ba.reverseChain.split("/").length-1;qs+=1)cs.push("null");cs.push(Ma[yr].value),Ma[yr].value="["+cs.join(" ")+"]"}}ue("<<");for(var qr=0;qr<Ma.length;qr++)ue("/"+Ma[qr].key+" "+Ma[qr].value);ue(">>"),ba.data.length!==0&&(ue("stream"),ue(la(ba.data)),ue("endstream"))},Xe=m.__private__.putPage=function(G){var fe=G.number,Re=G.data,He=G.objId,Qe=G.contentsObjId;pe(He,!0),ue("<</Type /Page"),ue("/Parent "+G.rootDictionaryObjId+" 0 R"),ue("/Resources "+G.resourceDictionaryObjId+" 0 R"),ue("/MediaBox ["+parseFloat(P(G.mediaBox.bottomLeftX))+" "+parseFloat(P(G.mediaBox.bottomLeftY))+" "+P(G.mediaBox.topRightX)+" "+P(G.mediaBox.topRightY)+"]"),G.cropBox!==null&&ue("/CropBox ["+P(G.cropBox.bottomLeftX)+" "+P(G.cropBox.bottomLeftY)+" "+P(G.cropBox.topRightX)+" "+P(G.cropBox.topRightY)+"]"),G.bleedBox!==null&&ue("/BleedBox ["+P(G.bleedBox.bottomLeftX)+" "+P(G.bleedBox.bottomLeftY)+" "+P(G.bleedBox.topRightX)+" "+P(G.bleedBox.topRightY)+"]"),G.trimBox!==null&&ue("/TrimBox ["+P(G.trimBox.bottomLeftX)+" "+P(G.trimBox.bottomLeftY)+" "+P(G.trimBox.topRightX)+" "+P(G.trimBox.topRightY)+"]"),G.artBox!==null&&ue("/ArtBox ["+P(G.artBox.bottomLeftX)+" "+P(G.artBox.bottomLeftY)+" "+P(G.artBox.topRightX)+" "+P(G.artBox.topRightY)+"]"),typeof G.userUnit=="number"&&G.userUnit!==1&&ue("/UserUnit "+G.userUnit),ka.publish("putPage",{objId:He,pageContext:Zt[fe],pageNumber:fe,page:Re}),ue("/Contents "+Qe+" 0 R"),ue(">>"),ue("endobj");var _t=Re.join(`
`);return N===k&&(_t+=`
Q`),pe(Qe,!0),pt({data:_t,filters:Ze(),objectId:Qe}),ue("endobj"),He},tt=m.__private__.putPages=function(){var G,fe,Re=[];for(G=1;G<=sa;G++)Zt[G].objId=Ua(),Zt[G].contentsObjId=Ua();for(G=1;G<=sa;G++)Re.push(Xe({number:G,data:ye[G],objId:Zt[G].objId,contentsObjId:Zt[G].contentsObjId,mediaBox:Zt[G].mediaBox,cropBox:Zt[G].cropBox,bleedBox:Zt[G].bleedBox,trimBox:Zt[G].trimBox,artBox:Zt[G].artBox,userUnit:Zt[G].userUnit,rootDictionaryObjId:we,resourceDictionaryObjId:Se}));pe(we,!0),ue("<</Type /Pages");var He="/Kids [";for(fe=0;fe<sa;fe++)He+=Re[fe]+" 0 R ";ue(He+"]"),ue("/Count "+sa),ue(">>"),ue("endobj"),ka.publish("postPutPages")},nt=function(G){ka.publish("putFont",{font:G,out:ue,newObject:$a,putStream:pt}),G.isAlreadyPutted!==!0&&(G.objectNumber=$a(),ue("<<"),ue("/Type /Font"),ue("/BaseFont /"+Fp(G.postScriptName)),ue("/Subtype /Type1"),typeof G.encoding=="string"&&ue("/Encoding /"+G.encoding),ue("/FirstChar 32"),ue("/LastChar 255"),ue(">>"),ue("endobj"))},At=function(G){G.objectNumber=$a();var fe=[];fe.push({key:"Type",value:"/XObject"}),fe.push({key:"Subtype",value:"/Form"}),fe.push({key:"BBox",value:"["+[P(G.x),P(G.y),P(G.x+G.width),P(G.y+G.height)].join(" ")+"]"}),fe.push({key:"Matrix",value:"["+G.matrix.toString()+"]"});var Re=G.pages[1].join(`
`);pt({data:Re,additionalKeyValues:fe,objectId:G.objectNumber}),ue("endobj")},Ft=function(G,fe){fe||(fe=21);var Re=$a(),He=(function(It,la){var ba,Ma=[],za=1/(la-1);for(ba=0;ba<1;ba+=za)Ma.push(ba);if(Ma.push(1),It[0].offset!=0){var yr={offset:0,color:It[0].color};It.unshift(yr)}if(It[It.length-1].offset!=1){var cs={offset:1,color:It[It.length-1].color};It.push(cs)}for(var qs="",qr=0,cn=0;cn<Ma.length;cn++){for(ba=Ma[cn];ba>It[qr+1].offset;)qr++;var Gs=It[qr].offset,Vn=(ba-Gs)/(It[qr+1].offset-Gs),Bl=It[qr].color,qi=It[qr+1].color;qs+=Q(Math.round((1-Vn)*Bl[0]+Vn*qi[0]).toString(16))+Q(Math.round((1-Vn)*Bl[1]+Vn*qi[1]).toString(16))+Q(Math.round((1-Vn)*Bl[2]+Vn*qi[2]).toString(16))}return qs.trim()})(G.colors,fe),Qe=[];Qe.push({key:"FunctionType",value:"0"}),Qe.push({key:"Domain",value:"[0.0 1.0]"}),Qe.push({key:"Size",value:"["+fe+"]"}),Qe.push({key:"BitsPerSample",value:"8"}),Qe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Qe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),pt({data:He,additionalKeyValues:Qe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Re}),ue("endobj"),G.objectNumber=$a(),ue("<< /ShadingType "+G.type),ue("/ColorSpace /DeviceRGB");var _t="/Coords ["+P(parseFloat(G.coords[0]))+" "+P(parseFloat(G.coords[1]))+" ";G.type===2?_t+=P(parseFloat(G.coords[2]))+" "+P(parseFloat(G.coords[3])):_t+=P(parseFloat(G.coords[2]))+" "+P(parseFloat(G.coords[3]))+" "+P(parseFloat(G.coords[4]))+" "+P(parseFloat(G.coords[5])),ue(_t+="]"),G.matrix&&ue("/Matrix ["+G.matrix.toString()+"]"),ue("/Function "+Re+" 0 R"),ue("/Extend [true true]"),ue(">>"),ue("endobj")},Qt=function(G,fe){var Re=Ua(),He=$a();fe.push({resourcesOid:Re,objectOid:He}),G.objectNumber=He;var Qe=[];Qe.push({key:"Type",value:"/Pattern"}),Qe.push({key:"PatternType",value:"1"}),Qe.push({key:"PaintType",value:"1"}),Qe.push({key:"TilingType",value:"1"}),Qe.push({key:"BBox",value:"["+G.boundingBox.map(P).join(" ")+"]"}),Qe.push({key:"XStep",value:P(G.xStep)}),Qe.push({key:"YStep",value:P(G.yStep)}),Qe.push({key:"Resources",value:Re+" 0 R"}),G.matrix&&Qe.push({key:"Matrix",value:"["+G.matrix.toString()+"]"}),pt({data:G.stream,additionalKeyValues:Qe,objectId:G.objectNumber}),ue("endobj")},ke=function(G){for(var fe in G.objectNumber=$a(),ue("<<"),G)switch(fe){case"opacity":ue("/ca "+O(G[fe]));break;case"stroke-opacity":ue("/CA "+O(G[fe]))}ue(">>"),ue("endobj")},Ge=function(G){pe(G.resourcesOid,!0),ue("<<"),ue("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var fe in ue("/Font <<"),Vt)Vt.hasOwnProperty(fe)&&(f===!1||f===!0&&x.hasOwnProperty(fe))&&ue("/"+fe+" "+Vt[fe].objectNumber+" 0 R");ue(">>")})(),(function(){if(Object.keys(Ee).length>0){for(var fe in ue("/Shading <<"),Ee)Ee.hasOwnProperty(fe)&&Ee[fe]instanceof xf&&Ee[fe].objectNumber>=0&&ue("/"+fe+" "+Ee[fe].objectNumber+" 0 R");ka.publish("putShadingPatternDict"),ue(">>")}})(),(function(fe){if(Object.keys(Ee).length>0){for(var Re in ue("/Pattern <<"),Ee)Ee.hasOwnProperty(Re)&&Ee[Re]instanceof m.TilingPattern&&Ee[Re].objectNumber>=0&&Ee[Re].objectNumber<fe&&ue("/"+Re+" "+Ee[Re].objectNumber+" 0 R");ka.publish("putTilingPatternDict"),ue(">>")}})(G.objectOid),(function(){if(Object.keys(We).length>0){var fe;for(fe in ue("/ExtGState <<"),We)We.hasOwnProperty(fe)&&We[fe].objectNumber>=0&&ue("/"+fe+" "+We[fe].objectNumber+" 0 R");ka.publish("putGStateDict"),ue(">>")}})(),(function(){for(var fe in ue("/XObject <<"),ta)ta.hasOwnProperty(fe)&&ta[fe].objectNumber>=0&&ue("/"+fe+" "+ta[fe].objectNumber+" 0 R");ka.publish("putXobjectDict"),ue(">>")})(),ue(">>"),ue("endobj")},qt=function(G){Ne[G.fontName]=Ne[G.fontName]||{},Ne[G.fontName][G.fontStyle]=G.id},xa=function(G,fe,Re,He,Qe){var _t={id:"F"+(Object.keys(Vt).length+1).toString(10),postScriptName:G,fontName:fe,fontStyle:Re,encoding:He,isStandardFont:Qe||!1,metadata:{}};return ka.publish("addFont",{font:_t,instance:this}),Vt[_t.id]=_t,qt(_t),_t.id},wa=m.__private__.pdfEscape=m.pdfEscape=function(G,fe){return(function(Re,He){var Qe,_t,It,la,ba,Ma,za,yr,cs;if(It=(He=He||{}).sourceEncoding||"Unicode",ba=He.outputEncoding,(He.autoencode||ba)&&Vt[dt].metadata&&Vt[dt].metadata[It]&&Vt[dt].metadata[It].encoding&&(la=Vt[dt].metadata[It].encoding,!ba&&Vt[dt].encoding&&(ba=Vt[dt].encoding),!ba&&la.codePages&&(ba=la.codePages[0]),typeof ba=="string"&&(ba=la[ba]),ba)){for(za=!1,Ma=[],Qe=0,_t=Re.length;Qe<_t;Qe++)(yr=ba[Re.charCodeAt(Qe)])?Ma.push(String.fromCharCode(yr)):Ma.push(Re[Qe]),Ma[Qe].charCodeAt(0)>>8&&(za=!0);Re=Ma.join("")}for(Qe=Re.length;za===void 0&&Qe!==0;)Re.charCodeAt(Qe-1)>>8&&(za=!0),Qe--;if(!za)return Re;for(Ma=He.noBOM?[]:[254,255],Qe=0,_t=Re.length;Qe<_t;Qe++){if((cs=(yr=Re.charCodeAt(Qe))>>8)>>8)throw new Error("Character at position "+Qe+" of string '"+Re+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ma.push(cs),Ma.push(yr-(cs<<8))}return String.fromCharCode.apply(void 0,Ma)})(G,fe).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Wa=m.__private__.beginPage=function(G){ye[++sa]=[],Zt[sa]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(G[0]),topRightY:Number(G[1])}},Un(sa),he(ye[X])},Ws=function(G,fe){var Re,He,Qe;switch(a=fe||a,typeof G=="string"&&(Re=j(G.toLowerCase()),Array.isArray(Re)&&(He=Re[0],Qe=Re[1])),Array.isArray(G)&&(He=G[0]*Nt,Qe=G[1]*Nt),isNaN(He)&&(He=n[0],Qe=n[1]),(He>14400||Qe>14400)&&(ss.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),He=Math.min(14400,He),Qe=Math.min(14400,Qe)),n=[He,Qe],a.substr(0,1)){case"l":Qe>He&&(n=[Qe,He]);break;case"p":He>Qe&&(n=[Qe,He])}Wa(n),co(vs),ue(_i),ho!==0&&ue(ho+" J"),wd!==0&&ue(wd+" j"),ka.publish("addPage",{pageNumber:sa})},Rr=function(G){G>0&&G<=sa&&(ye.splice(G,1),Zt.splice(G,1),sa--,X>sa&&(X=sa),this.setPage(X))},Un=function(G){G>0&&G<=sa&&(X=G)},oi=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return ye.length-1},Fl=function(G,fe,Re){var He,Qe=void 0;return Re=Re||{},G=G!==void 0?G:Vt[dt].fontName,fe=fe!==void 0?fe:Vt[dt].fontStyle,He=G.toLowerCase(),Ne[He]!==void 0&&Ne[He][fe]!==void 0?Qe=Ne[He][fe]:Ne[G]!==void 0&&Ne[G][fe]!==void 0?Qe=Ne[G][fe]:Re.disableWarning===!1&&ss.warn("Unable to look up font label for font '"+G+"', '"+fe+"'. Refer to getFontList() for available fonts."),Qe||Re.noFallback||(Qe=Ne.times[fe])==null&&(Qe=Ne.times.normal),Qe},Tn=m.__private__.putInfo=function(){var G=$a(),fe=function(He){return He};for(var Re in u!==null&&(fe=mr.encryptor(G,0)),ue("<<"),ue("/Producer ("+wa(fe("jsPDF "+ma.version))+")"),ct)ct.hasOwnProperty(Re)&&ct[Re]&&ue("/"+Re.substr(0,1).toUpperCase()+Re.substr(1)+" ("+wa(fe(ct[Re]))+")");ue("/CreationDate ("+wa(fe(K))+")"),ue(">>"),ue("endobj")},cu=m.__private__.putCatalog=function(G){var fe=(G=G||{}).rootDictionaryObjId||we;switch($a(),ue("<<"),ue("/Type /Catalog"),ue("/Pages "+fe+" 0 R"),De||(De="fullwidth"),De){case"fullwidth":ue("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ue("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ue("/OpenAction [3 0 R /Fit]");break;case"original":ue("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Re=""+De;Re.substr(Re.length-1)==="%"&&(De=parseInt(De)/100),typeof De=="number"&&ue("/OpenAction [3 0 R /XYZ null null "+O(De)+"]")}switch(st||(st="continuous"),st){case"continuous":ue("/PageLayout /OneColumn");break;case"single":ue("/PageLayout /SinglePage");break;case"two":case"twoleft":ue("/PageLayout /TwoColumnLeft");break;case"tworight":ue("/PageLayout /TwoColumnRight")}ft&&ue("/PageMode /"+ft),ka.publish("putCatalog"),ue(">>"),ue("endobj")},fr=m.__private__.putTrailer=function(){ue("trailer"),ue("<<"),ue("/Size "+(ne+1)),ue("/Root "+ne+" 0 R"),ue("/Info "+(ne-1)+" 0 R"),u!==null&&ue("/Encrypt "+mr.oid+" 0 R"),ue("/ID [ <"+V+"> <"+V+"> ]"),ue(">>")},yd=m.__private__.putHeader=function(){ue("%PDF-"+g),ue("%")},du=m.__private__.putXRef=function(){var G="0000000000";ue("xref"),ue("0 "+(ne+1)),ue("0000000000 65535 f ");for(var fe=1;fe<=ne;fe++)typeof re[fe]=="function"?ue((G+re[fe]()).slice(-10)+" 00000 n "):re[fe]!==void 0?ue((G+re[fe]).slice(-10)+" 00000 n "):ue("0000000000 00000 n ")},zn=m.__private__.buildDocument=function(){var G;ne=0,q=0,oe=[],re=[],ie=[],we=Ua(),Se=Ua(),he(oe),ka.publish("buildDocument"),yd(),tt(),(function(){ka.publish("putAdditionalObjects");for(var Re=0;Re<ie.length;Re++){var He=ie[Re];pe(He.objId,!0),ue(He.content),ue("endobj")}ka.publish("postPutAdditionalObjects")})(),G=[],(function(){for(var Re in Vt)Vt.hasOwnProperty(Re)&&(f===!1||f===!0&&x.hasOwnProperty(Re))&&nt(Vt[Re])})(),(function(){var Re;for(Re in We)We.hasOwnProperty(Re)&&ke(We[Re])})(),(function(){for(var Re in ta)ta.hasOwnProperty(Re)&&At(ta[Re])})(),(function(Re){var He;for(He in Ee)Ee.hasOwnProperty(He)&&(Ee[He]instanceof xf?Ft(Ee[He]):Ee[He]instanceof $0&&Qt(Ee[He],Re))})(G),ka.publish("putResources"),G.forEach(Ge),Ge({resourcesOid:Se,objectOid:Number.MAX_SAFE_INTEGER}),ka.publish("postPutResources"),u!==null&&(mr.oid=$a(),ue("<<"),ue("/Filter /Standard"),ue("/V "+mr.v),ue("/R "+mr.r),ue("/U <"+mr.toHexString(mr.U)+">"),ue("/O <"+mr.toHexString(mr.O)+">"),ue("/P "+mr.P),ue(">>"),ue("endobj")),Tn(),cu();var fe=q;return du(),fr(),ue("startxref"),ue(""+fe),ue("%%EOF"),he(ye[X]),oe.join(`
`)},Hn=m.__private__.getBlob=function(G){return new Blob([Ue(G)],{type:"application/pdf"})},ci=m.output=m.__private__.output=(rr=function(G,fe){switch(typeof(fe=fe||{})=="string"?fe={filename:fe}:fe.filename=fe.filename||"generated.pdf",G){case void 0:return zn();case"save":m.save(fe.filename);break;case"arraybuffer":return Ue(zn());case"blob":return Hn(zn());case"bloburi":case"bloburl":if(Ba.URL!==void 0&&typeof Ba.URL.createObjectURL=="function")return Ba.URL&&Ba.URL.createObjectURL(Hn(zn()))||void 0;ss.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Re="",He=zn();try{Re=dR(He)}catch{Re=dR(unescape(encodeURIComponent(He)))}return"data:application/pdf;filename="+fe.filename+";base64,"+Re;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ba)==="[object Window]"){var Qe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",_t=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';fe.pdfObjectUrl&&(Qe=fe.pdfObjectUrl,_t="");var It='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Qe+'"'+_t+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(fe)+");<\/script></body></html>",la=Ba.open();return la!==null&&la.document.write(It),la}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ba)==="[object Window]"){var ba='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(fe.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+fe.filename+'" width="500px" height="400px" /></body></html>',Ma=Ba.open();if(Ma!==null){Ma.document.write(ba);var za=this;Ma.document.documentElement.querySelector("#pdfViewer").onload=function(){Ma.document.title=fe.filename,Ma.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(za.output("bloburl"))}}return Ma}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ba)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var yr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",fe)+'"></iframe></body></html>',cs=Ba.open();if(cs!==null&&(cs.document.write(yr),cs.document.title=fe.filename),cs||typeof safari>"u")return cs;break;case"datauri":case"dataurl":return Ba.document.location.href=this.output("datauristring",fe);default:return null}},rr.foo=function(){try{return rr.apply(this,arguments)}catch(Re){var G=Re.stack||"";~G.indexOf(" at ")&&(G=G.split(" at ")[1]);var fe="Error in function "+G.split(`
`)[0].split("<")[0]+": "+Re.message;if(!Ba.console)throw new Error(fe);Ba.console.error(fe,Re),Ba.alert&&alert(fe)}},rr.foo.bar=rr,rr.foo),Tc=function(G){return Array.isArray(ut)===!0&&ut.indexOf(G)>-1};switch(s){case"pt":Nt=1;break;case"mm":Nt=72/25.4;break;case"cm":Nt=72/2.54;break;case"in":Nt=72;break;case"px":Nt=Tc("px_scaling")==1?.75:96/72;break;case"pc":case"em":Nt=12;break;case"ex":Nt=6;break;default:if(typeof s!="number")throw new Error("Invalid unit: "+s);Nt=s}var mr=null;le(),J();var Ec=m.__private__.getPageInfo=m.getPageInfo=function(G){if(isNaN(G)||G%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Zt[G].objId,pageNumber:G,pageContext:Zt[G]}},Th=m.__private__.getPageInfoByObjId=function(G){if(isNaN(G)||G%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var fe in Zt)if(Zt[fe].objId===G)break;return Ec(fe)},uu=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:Zt[X].objId,pageNumber:X,pageContext:Zt[X]}};m.addPage=function(){return Ws.apply(this,arguments),this},m.setPage=function(){return Un.apply(this,arguments),he.call(this,ye[X]),this},m.insertPage=function(G){return this.addPage(),this.movePage(X,G),this},m.movePage=function(G,fe){var Re,He;if(G>fe){Re=ye[G],He=Zt[G];for(var Qe=G;Qe>fe;Qe--)ye[Qe]=ye[Qe-1],Zt[Qe]=Zt[Qe-1];ye[fe]=Re,Zt[fe]=He,this.setPage(fe)}else if(G<fe){Re=ye[G],He=Zt[G];for(var _t=G;_t<fe;_t++)ye[_t]=ye[_t+1],Zt[_t]=Zt[_t+1];ye[fe]=Re,Zt[fe]=He,this.setPage(fe)}return this},m.deletePage=function(){return Rr.apply(this,arguments),this},m.__private__.text=m.text=function(G,fe,Re,He,Qe){var _t,It,la,ba,Ma,za,yr,cs,qs,qr=(He=He||{}).scope||this;if(typeof G=="number"&&typeof fe=="number"&&(typeof Re=="string"||Array.isArray(Re))){var cn=Re;Re=fe,fe=G,G=cn}if(arguments[3]instanceof Ae==0?(la=arguments[4],ba=arguments[5],Vr(yr=arguments[3])==="object"&&yr!==null||(typeof la=="string"&&(ba=la,la=null),typeof yr=="string"&&(ba=yr,yr=null),typeof yr=="number"&&(la=yr,yr=null),He={flags:yr,angle:la,align:ba})):(I("The transform parameter of text() with a Matrix value"),qs=Qe),isNaN(fe)||isNaN(Re)||G==null)throw new Error("Invalid arguments passed to jsPDF.text");if(G.length===0)return qr;var Gs,Vn="",Bl=typeof He.lineHeightFactor=="number"?He.lineHeightFactor:er,qi=qr.internal.scaleFactor;function Wm(cr){return cr=cr.split("	").join(Array(He.TabLen||9).join(" ")),wa(cr,yr)}function Nd(cr){for(var Pr,js=cr.concat(),ts=[],Wo=js.length;Wo--;)typeof(Pr=js.shift())=="string"?ts.push(Pr):Array.isArray(cr)&&(Pr.length===1||Pr[1]===void 0&&Pr[2]===void 0)?ts.push(Pr[0]):ts.push([Pr[0],Pr[1],Pr[2]]);return ts}function mo(cr,Pr){var js;if(typeof cr=="string")js=Pr(cr)[0];else if(Array.isArray(cr)){for(var ts,Wo,Fh=cr.concat(),gu=[],Gm=Fh.length;Gm--;)typeof(ts=Fh.shift())=="string"?gu.push(Pr(ts)[0]):Array.isArray(ts)&&typeof ts[0]=="string"&&(Wo=Pr(ts[0],ts[1],ts[2]),gu.push([Wo[0],Wo[1],Wo[2]]));js=gu}return js}var Sd=!1,kd=!0;if(typeof G=="string")Sd=!0;else if(Array.isArray(G)){var Cd=G.concat();It=[];for(var Ad,Wn=Cd.length;Wn--;)(typeof(Ad=Cd.shift())!="string"||Array.isArray(Ad)&&typeof Ad[0]!="string")&&(kd=!1);Sd=kd}if(Sd===!1)throw new Error('Type of text must be string or Array. "'+G+'" is not recognized.');typeof G=="string"&&(G=G.match(/[\r?\n]/)?G.split(/\r\n|\r|\n/g):[G]);var _d=ae/qr.internal.scaleFactor,$l=_d*(Bl-1);switch(He.baseline){case"bottom":Re-=$l;break;case"top":Re+=_d-$l;break;case"hanging":Re+=_d-2*$l;break;case"middle":Re+=_d/2-$l}if((za=He.maxWidth||0)>0&&(typeof G=="string"?G=qr.splitTextToSize(G,za):Object.prototype.toString.call(G)==="[object Array]"&&(G=G.reduce(function(cr,Pr){return cr.concat(qr.splitTextToSize(Pr,za))},[]))),_t={text:G,x:fe,y:Re,options:He,mutex:{pdfEscape:wa,activeFontKey:dt,fonts:Vt,activeFontSize:ae}},ka.publish("preProcessText",_t),G=_t.text,la=(He=_t.options).angle,qs instanceof Ae==0&&la&&typeof la=="number"){la*=Math.PI/180,He.rotationDirection===0&&(la=-la),N===k&&(la=-la);var Zf=Math.cos(la),e0=Math.sin(la);qs=new Ae(Zf,e0,-e0,Zf,0,0)}else la&&la instanceof Ae&&(qs=la);N!==k||qs||(qs=Za),(Ma=He.charSpace||$o)!==void 0&&(Vn+=P(E(Ma))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(cs=He.horizontalScale)!==void 0&&(Vn+=P(100*cs)+` Tz
`),He.lang;var ys=-1,zo=He.renderingMode!==void 0?He.renderingMode:He.stroke,pu=qr.internal.getCurrentPageInfo().pageContext;switch(zo){case 0:case!1:case"fill":ys=0;break;case 1:case!0:case"stroke":ys=1;break;case 2:case"fillThenStroke":ys=2;break;case 3:case"invisible":ys=3;break;case 4:case"fillAndAddForClipping":ys=4;break;case 5:case"strokeAndAddPathForClipping":ys=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ys=6;break;case 7:case"addToPathForClipping":ys=7}var Td=pu.usedRenderingMode!==void 0?pu.usedRenderingMode:-1;ys!==-1?Vn+=ys+` Tr
`:Td!==-1&&(Vn+=`0 Tr
`),ys!==-1&&(pu.usedRenderingMode=ys),ba=He.align||"left";var ui,xu=ae*Bl,Ed=qr.internal.pageSize.getWidth(),Dh=Vt[dt];Ma=He.charSpace||$o,za=He.maxWidth||0,yr=Object.assign({autoencode:!0,noBOM:!0},He.flags);var Lc=[],Oc=function(cr){return qr.getStringUnitWidth(cr,{font:Dh,charSpace:Ma,fontSize:ae,doKerning:!1})*ae/qi};if(Object.prototype.toString.call(G)==="[object Array]"){var Ti;It=Nd(G),ba!=="left"&&(ui=It.map(Oc));var Gi,Rc=0;if(ba==="right"){fe-=ui[0],G=[],Wn=It.length;for(var Ho=0;Ho<Wn;Ho++)Ho===0?(Gi=nn(fe),Ti=ln(Re)):(Gi=E(Rc-ui[Ho]),Ti=-xu),G.push([It[Ho],Gi,Ti]),Rc=ui[Ho]}else if(ba==="center"){fe-=ui[0]/2,G=[],Wn=It.length;for(var Dd=0;Dd<Wn;Dd++)Dd===0?(Gi=nn(fe),Ti=ln(Re)):(Gi=E((Rc-ui[Dd])/2),Ti=-xu),G.push([It[Dd],Gi,Ti]),Rc=ui[Dd]}else if(ba==="left"){G=[],Wn=It.length;for(var t0=0;t0<Wn;t0++)G.push(It[t0])}else if(ba==="justify"&&Dh.encoding==="Identity-H"){G=[],Wn=It.length,za=za!==0?za:Ed;for(var Mh=0,Fs=0;Fs<Wn;Fs++)if(Ti=Fs===0?ln(Re):-xu,Gi=Fs===0?nn(fe):Mh,Fs<Wn-1){var qm=E((za-ui[Fs])/(It[Fs].split(" ").length-1)),ws=It[Fs].split(" ");G.push([ws[0]+" ",Gi,Ti]),Mh=0;for(var Ki=1;Ki<ws.length;Ki++){var Ph=(Oc(ws[Ki-1]+" "+ws[Ki])-Oc(ws[Ki]))*qi+qm;Ki==ws.length-1?G.push([ws[Ki],Ph,0]):G.push([ws[Ki]+" ",Ph,0]),Mh-=Ph}}else G.push([It[Fs],Gi,Ti]);G.push(["",Mh,0])}else{if(ba!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(G=[],Wn=It.length,za=za!==0?za:Ed,Fs=0;Fs<Wn;Fs++){Ti=Fs===0?ln(Re):-xu,Gi=Fs===0?nn(fe):0;var Lh=It[Fs].split(" ").length-1,Oh=Lh>0?(za-ui[Fs])/Lh:0;Fs<Wn-1?Lc.push(P(E(Oh))):Lc.push(0),G.push([It[Fs],Gi,Ti])}}}(typeof He.R2L=="boolean"?He.R2L:at)===!0&&(G=mo(G,function(cr,Pr,js){return[cr.split("").reverse().join(""),Pr,js]})),_t={text:G,x:fe,y:Re,options:He,mutex:{pdfEscape:wa,activeFontKey:dt,fonts:Vt,activeFontSize:ae}},ka.publish("postProcessText",_t),G=_t.text,Gs=_t.mutex.isHex||!1;var Rh=Vt[dt].encoding;Rh!=="WinAnsiEncoding"&&Rh!=="StandardEncoding"||(G=mo(G,function(cr,Pr,js){return[Wm(cr),Pr,js]})),It=Nd(G),G=[];for(var Vo,Md,bl,Fc=Array.isArray(It[0])?1:0,Ul="",Ic=function(cr,Pr,js){var ts="";return js instanceof Ae?(js=typeof He.angle=="number"?na(js,new Ae(1,0,0,1,cr,Pr)):na(new Ae(1,0,0,1,cr,Pr),js),N===k&&(js=na(new Ae(1,0,0,-1,0,0),js)),ts=js.join(" ")+` Tm
`):ts=P(cr)+" "+P(Pr)+` Td
`,ts},yl=0;yl<It.length;yl++){switch(Ul="",Fc){case 1:bl=(Gs?"<":"(")+It[yl][0]+(Gs?">":")"),Vo=parseFloat(It[yl][1]),Md=parseFloat(It[yl][2]);break;case 0:bl=(Gs?"<":"(")+It[yl]+(Gs?">":")"),Vo=nn(fe),Md=ln(Re)}Lc!==void 0&&Lc[yl]!==void 0&&(Ul=Lc[yl]+` Tw
`),yl===0?G.push(Ul+Ic(Vo,Md,qs)+bl):Fc===0?G.push(Ul+bl):Fc===1&&G.push(Ul+Ic(Vo,Md,qs)+bl)}G=Fc===0?G.join(` Tj
T* `):G.join(` Tj
`),G+=` Tj
`;var hi=`BT
/`;return hi+=dt+" "+ae+` Tf
`,hi+=P(ae*Bl)+` TL
`,hi+=Wi+`
`,hi+=Vn,hi+=G,ue(hi+="ET"),x[dt]=!0,qr};var oo=m.__private__.clip=m.clip=function(G){return ue(G==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return oo("evenodd")},m.__private__.discardPath=m.discardPath=function(){return ue("n"),this};var sn=m.__private__.isValidStyle=function(G){var fe=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(G)!==-1&&(fe=!0),fe};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(G){return sn(G)&&(d=G),this};var Io=m.__private__.getStyle=m.getStyle=function(G){var fe=d;switch(G){case"D":case"S":fe="S";break;case"F":fe="f";break;case"FD":case"DF":fe="B";break;case"f":case"f*":case"B":case"B*":fe=G}return fe},Ai=m.close=function(){return ue("h"),this};m.stroke=function(){return ue("S"),this},m.fill=function(G){return Bo("f",G),this},m.fillEvenOdd=function(G){return Bo("f*",G),this},m.fillStroke=function(G){return Bo("B",G),this},m.fillStrokeEvenOdd=function(G){return Bo("B*",G),this};var Bo=function(G,fe){Vr(fe)==="object"?ea(fe,G):ue(G)},Ie=function(G){G===null||N===k&&G===void 0||(G=Io(G),ue(G))};function wt(G,fe,Re,He,Qe){var _t=new $0(fe||this.boundingBox,Re||this.xStep,He||this.yStep,this.gState,Qe||this.matrix);_t.stream=this.stream;var It=G+"$$"+this.cloneIndex+++"$$";return Ka(It,_t),_t}var ea=function(G,fe){var Re=ze[G.key],He=Ee[Re];if(He instanceof xf)ue("q"),ue(Wt(fe)),He.gState&&m.setGState(He.gState),ue(G.matrix.toString()+" cm"),ue("/"+Re+" sh"),ue("Q");else if(He instanceof $0){var Qe=new Ae(1,0,0,-1,0,mu());G.matrix&&(Qe=Qe.multiply(G.matrix||Za),Re=wt.call(He,G.key,G.boundingBox,G.xStep,G.yStep,Qe).id),ue("q"),ue("/Pattern cs"),ue("/"+Re+" scn"),He.gState&&m.setGState(He.gState),ue(fe),ue("Q")}},Wt=function(G){switch(G){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},br=m.moveTo=function(G,fe){return ue(P(E(G))+" "+P(R(fe))+" m"),this},Mr=m.lineTo=function(G,fe){return ue(P(E(G))+" "+P(R(fe))+" l"),this},Zr=m.curveTo=function(G,fe,Re,He,Qe,_t){return ue([P(E(G)),P(R(fe)),P(E(Re)),P(R(He)),P(E(Qe)),P(R(_t)),"c"].join(" ")),this};m.__private__.line=m.line=function(G,fe,Re,He,Qe){if(isNaN(G)||isNaN(fe)||isNaN(Re)||isNaN(He)||!sn(Qe))throw new Error("Invalid arguments passed to jsPDF.line");return N===S?this.lines([[Re-G,He-fe]],G,fe,[1,1],Qe||"S"):this.lines([[Re-G,He-fe]],G,fe,[1,1]).stroke()},m.__private__.lines=m.lines=function(G,fe,Re,He,Qe,_t){var It,la,ba,Ma,za,yr,cs,qs,qr,cn,Gs,Vn;if(typeof G=="number"&&(Vn=Re,Re=fe,fe=G,G=Vn),He=He||[1,1],_t=_t||!1,isNaN(fe)||isNaN(Re)||!Array.isArray(G)||!Array.isArray(He)||!sn(Qe)||typeof _t!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(br(fe,Re),It=He[0],la=He[1],Ma=G.length,cn=fe,Gs=Re,ba=0;ba<Ma;ba++)(za=G[ba]).length===2?(cn=za[0]*It+cn,Gs=za[1]*la+Gs,Mr(cn,Gs)):(yr=za[0]*It+cn,cs=za[1]*la+Gs,qs=za[2]*It+cn,qr=za[3]*la+Gs,cn=za[4]*It+cn,Gs=za[5]*la+Gs,Zr(yr,cs,qs,qr,cn,Gs));return _t&&Ai(),Ie(Qe),this},m.path=function(G){for(var fe=0;fe<G.length;fe++){var Re=G[fe],He=Re.c;switch(Re.op){case"m":br(He[0],He[1]);break;case"l":Mr(He[0],He[1]);break;case"c":Zr.apply(this,He);break;case"h":Ai()}}return this},m.__private__.rect=m.rect=function(G,fe,Re,He,Qe){if(isNaN(G)||isNaN(fe)||isNaN(Re)||isNaN(He)||!sn(Qe))throw new Error("Invalid arguments passed to jsPDF.rect");return N===S&&(He=-He),ue([P(E(G)),P(R(fe)),P(E(Re)),P(E(He)),"re"].join(" ")),Ie(Qe),this},m.__private__.triangle=m.triangle=function(G,fe,Re,He,Qe,_t,It){if(isNaN(G)||isNaN(fe)||isNaN(Re)||isNaN(He)||isNaN(Qe)||isNaN(_t)||!sn(It))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Re-G,He-fe],[Qe-Re,_t-He],[G-Qe,fe-_t]],G,fe,[1,1],It,!0),this},m.__private__.roundedRect=m.roundedRect=function(G,fe,Re,He,Qe,_t,It){if(isNaN(G)||isNaN(fe)||isNaN(Re)||isNaN(He)||isNaN(Qe)||isNaN(_t)||!sn(It))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var la=4/3*(Math.SQRT2-1);return Qe=Math.min(Qe,.5*Re),_t=Math.min(_t,.5*He),this.lines([[Re-2*Qe,0],[Qe*la,0,Qe,_t-_t*la,Qe,_t],[0,He-2*_t],[0,_t*la,-Qe*la,_t,-Qe,_t],[2*Qe-Re,0],[-Qe*la,0,-Qe,-_t*la,-Qe,-_t],[0,2*_t-He],[0,-_t*la,Qe*la,-_t,Qe,-_t]],G+Qe,fe,[1,1],It,!0),this},m.__private__.ellipse=m.ellipse=function(G,fe,Re,He,Qe){if(isNaN(G)||isNaN(fe)||isNaN(Re)||isNaN(He)||!sn(Qe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var _t=4/3*(Math.SQRT2-1)*Re,It=4/3*(Math.SQRT2-1)*He;return br(G+Re,fe),Zr(G+Re,fe-It,G+_t,fe-He,G,fe-He),Zr(G-_t,fe-He,G-Re,fe-It,G-Re,fe),Zr(G-Re,fe+It,G-_t,fe+He,G,fe+He),Zr(G+_t,fe+He,G+Re,fe+It,G+Re,fe),Ie(Qe),this},m.__private__.circle=m.circle=function(G,fe,Re,He){if(isNaN(G)||isNaN(fe)||isNaN(Re)||!sn(He))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(G,fe,Re,Re,He)},m.setFont=function(G,fe,Re){return Re&&(fe=D(fe,Re)),dt=Fl(G,fe,{disableWarning:!1}),this};var En=m.__private__.getFont=m.getFont=function(){return Vt[Fl.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var G,fe,Re={};for(G in Ne)if(Ne.hasOwnProperty(G))for(fe in Re[G]=[],Ne[G])Ne[G].hasOwnProperty(fe)&&Re[G].push(fe);return Re},m.addFont=function(G,fe,Re,He,Qe){var _t=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&_t.indexOf(arguments[3])!==-1?Qe=arguments[3]:arguments[3]&&_t.indexOf(arguments[3])==-1&&(Re=D(Re,He)),xa.call(this,G,fe,Re,Qe=Qe||"Identity-H")};var er,vs=e.lineWidth||.200025,ia=m.__private__.getLineWidth=m.getLineWidth=function(){return vs},co=m.__private__.setLineWidth=m.setLineWidth=function(G){return vs=G,ue(P(E(G))+" w"),this};m.__private__.setLineDash=ma.API.setLineDash=ma.API.setLineDashPattern=function(G,fe){if(G=G||[],fe=fe||0,isNaN(fe)||!Array.isArray(G))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return G=G.map(function(Re){return P(E(Re))}).join(" "),fe=P(E(fe)),ue("["+G+"] "+fe+" d"),this};var es=m.__private__.getLineHeight=m.getLineHeight=function(){return ae*er};m.__private__.getLineHeight=m.getLineHeight=function(){return ae*er};var Ar=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(G){return typeof(G=G||1.15)=="number"&&(er=G),this},bs=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return er};Ar(e.lineHeight);var nn=m.__private__.getHorizontalCoordinate=function(G){return E(G)},ln=m.__private__.getVerticalCoordinate=function(G){return N===k?G:Zt[X].mediaBox.topRightY-Zt[X].mediaBox.bottomLeftY-E(G)},di=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(G){return P(nn(G))},uo=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(G){return P(ln(G))},_i=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return _e(_i)},m.__private__.setStrokeColor=m.setDrawColor=function(G,fe,Re,He){return _i=Oe({ch1:G,ch2:fe,ch3:Re,ch4:He,pdfColorType:"draw",precision:2}),ue(_i),this};var Il=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return _e(Il)},m.__private__.setFillColor=m.setFillColor=function(G,fe,Re,He){return Il=Oe({ch1:G,ch2:fe,ch3:Re,ch4:He,pdfColorType:"fill",precision:2}),ue(Il),this};var Wi=e.textColor||"0 g",vl=m.__private__.getTextColor=m.getTextColor=function(){return _e(Wi)};m.__private__.setTextColor=m.setTextColor=function(G,fe,Re,He){return Wi=Oe({ch1:G,ch2:fe,ch3:Re,ch4:He,pdfColorType:"text",precision:3}),this};var $o=e.charSpace,on=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat($o||0)};m.__private__.setCharSpace=m.setCharSpace=function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return $o=G,this};var ho=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(G){var fe=m.CapJoinStyles[G];if(fe===void 0)throw new Error("Line cap style of '"+G+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ho=fe,ue(fe+" J"),this};var wd=0;m.__private__.setLineJoin=m.setLineJoin=function(G){var fe=m.CapJoinStyles[G];if(fe===void 0)throw new Error("Line join style of '"+G+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return wd=fe,ue(fe+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(G){if(G=G||0,isNaN(G))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ue(P(E(G))+" M"),this},m.GState=mv,m.setGState=function(G){(G=typeof G=="string"?We[xt[G]]:fo(null,G)).equals(gt)||(ue("/"+G.id+" gs"),gt=G)};var fo=function(G,fe){if(!G||!xt[G]){var Re=!1;for(var He in We)if(We.hasOwnProperty(He)&&We[He].equals(fe)){Re=!0;break}if(Re)fe=We[He];else{var Qe="GS"+(Object.keys(We).length+1).toString(10);We[Qe]=fe,fe.id=Qe}return G&&(xt[G]=fe.id),ka.publish("addGState",fe),fe}};m.addGState=function(G,fe){return fo(G,fe),this},m.saveGraphicsState=function(){return ue("q"),Mt.push({key:dt,size:ae,color:Wi}),this},m.restoreGraphicsState=function(){ue("Q");var G=Mt.pop();return dt=G.key,ae=G.size,Wi=G.color,gt=null,this},m.setCurrentTransformationMatrix=function(G){return ue(G.toString()+" cm"),this},m.comment=function(G){return ue("#"+G),this};var hu=function(G,fe){var Re=G||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Re},set:function(_t){isNaN(_t)||(Re=parseFloat(_t))}});var He=fe||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return He},set:function(_t){isNaN(_t)||(He=parseFloat(_t))}});var Qe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Qe},set:function(_t){Qe=_t.toString()}}),this},fu=function(G,fe,Re,He){hu.call(this,G,fe),this.type="rect";var Qe=Re||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Qe},set:function(It){isNaN(It)||(Qe=parseFloat(It))}});var _t=He||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return _t},set:function(It){isNaN(It)||(_t=parseFloat(It))}}),this},jd=function(){this.page=sa,this.currentPage=X,this.pages=ye.slice(0),this.pagesContext=Zt.slice(0),this.x=Ct,this.y=Lt,this.matrix=Ht,this.width=Qf(X),this.height=Mc(X),this.outputDestination=ce,this.id="",this.objectNumber=-1};jd.prototype.restore=function(){sa=this.page,X=this.currentPage,Zt=this.pagesContext,ye=this.pages,Ct=this.x,Lt=this.y,Ht=this.matrix,zm(X,this.width),Pc(X,this.height),ce=this.outputDestination};var Dc=function(G,fe,Re,He,Qe){pa.push(new jd),sa=X=0,ye=[],Ct=G,Lt=fe,Ht=Qe,Wa([Re,He])};for(var Uo in m.beginFormObject=function(G,fe,Re,He,Qe){return Dc(G,fe,Re,He,Qe),this},m.endFormObject=function(G){return(function(fe){if(va[fe])pa.pop().restore();else{var Re=new jd,He="Xo"+(Object.keys(ta).length+1).toString(10);Re.id=He,va[fe]=He,ta[He]=Re,ka.publish("addFormObject",Re),pa.pop().restore()}})(G),this},m.doFormObject=function(G,fe){var Re=ta[va[G]];return ue("q"),ue(fe.toString()+" cm"),ue("/"+Re.id+" Do"),ue("Q"),this},m.getFormObject=function(G){var fe=ta[va[G]];return{x:fe.x,y:fe.y,width:fe.width,height:fe.height,matrix:fe.matrix}},m.save=function(G,fe){return G=G||"generated.pdf",(fe=fe||{}).returnPromise=fe.returnPromise||!1,fe.returnPromise===!1?(D0(Hn(zn()),G),typeof D0.unload=="function"&&Ba.setTimeout&&setTimeout(D0.unload,911),this):new Promise(function(Re,He){try{var Qe=D0(Hn(zn()),G);typeof D0.unload=="function"&&Ba.setTimeout&&setTimeout(D0.unload,911),Re(Qe)}catch(_t){He(_t.message)}})},ma.API)ma.API.hasOwnProperty(Uo)&&(Uo==="events"&&ma.API.events.length?(function(G,fe){var Re,He,Qe;for(Qe=fe.length-1;Qe!==-1;Qe--)Re=fe[Qe][0],He=fe[Qe][1],G.subscribe.apply(G,[Re].concat(typeof He=="function"?[He]:He))})(ka,ma.API.events):m[Uo]=ma.API[Uo]);function Qf(G){return Zt[G].mediaBox.topRightX-Zt[G].mediaBox.bottomLeftX}function zm(G,fe){Zt[G].mediaBox.topRightX=fe+Zt[G].mediaBox.bottomLeftX}function Mc(G){return Zt[G].mediaBox.topRightY-Zt[G].mediaBox.bottomLeftY}function Pc(G,fe){Zt[G].mediaBox.topRightY=fe+Zt[G].mediaBox.bottomLeftY}var Eh=m.getPageWidth=function(G){return Qf(G=G||X)/Nt},Hm=m.setPageWidth=function(G,fe){zm(G,fe*Nt)},mu=m.getPageHeight=function(G){return Mc(G=G||X)/Nt},Vm=m.setPageHeight=function(G,fe){Pc(G,fe*Nt)};return m.internal={pdfEscape:wa,getStyle:Io,getFont:En,getFontSize:Ce,getCharSpace:on,getTextColor:vl,getLineHeight:es,getLineHeightFactor:bs,getLineWidth:ia,write:Fe,getHorizontalCoordinate:nn,getVerticalCoordinate:ln,getCoordinateString:di,getVerticalCoordinateString:uo,collections:{},newObject:$a,newAdditionalObject:Me,newObjectDeferred:Ua,newObjectDeferredBegin:pe,getFilters:Ze,putStream:pt,events:ka,scaleFactor:Nt,pageSize:{getWidth:function(){return Eh(X)},setWidth:function(G){Hm(X,G)},getHeight:function(){return mu(X)},setHeight:function(G){Vm(X,G)}},encryptionOptions:u,encryption:mr,getEncryptor:function(G){return u!==null?mr.encryptor(G,0):function(fe){return fe}},output:ci,getNumberOfPages:oi,pages:ye,out:ue,f2:O,f3:U,getPageInfo:Ec,getPageInfoByObjId:Th,getCurrentPageInfo:uu,getPDFVersion:v,Point:hu,Rectangle:fu,Matrix:Ae,hasHotfix:Tc},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Eh(X)},set:function(G){Hm(X,G)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return mu(X)},set:function(G){Vm(X,G)},enumerable:!0,configurable:!0}),(function(G){for(var fe=0,Re=Te.length;fe<Re;fe++){var He=xa.call(this,G[fe][0],G[fe][1],G[fe][2],Te[fe][3],!0);f===!1&&(x[He]=!0);var Qe=G[fe][0].split("-");qt({id:He,fontName:Qe[0],fontStyle:Qe[1]||""})}ka.publish("addFonts",{fonts:Vt,dictionary:Ne})}).call(m,Te),dt="F1",Ws(n,a),ka.publish("initialized"),m}Rp.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Rp.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Rp.prototype.hexToBytes=function(e){for(var t=[],a=0;a<e.length;a+=2)t.push(String.fromCharCode(parseInt(e.substr(a,2),16)));return t.join("")},Rp.prototype.processOwnerPassword=function(e,t){return MC(DC(t).substr(0,5),e)},Rp.prototype.encryptor=function(e,t){var a=DC(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(s){return MC(a,s)}},mv.prototype.equals=function(e){var t,a="id,objectNumber,equals";if(!e||Vr(e)!==Vr(this))return!1;var s=0;for(t in this)if(!(a.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;s++}for(t in e)e.hasOwnProperty(t)&&a.indexOf(t)<0&&s--;return s===0},ma.API={events:[]},ma.version="3.0.3";var Xs=ma.API,H8=1,Im=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Tp=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},qa=function(e){return e.toFixed(2)},hf=function(e){return e.toFixed(5)};Xs.__acroform__={};var io=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},mR=function(e){return e*H8},Gd=function(e){var t=new tG,a=ha.internal.getHeight(e)||0,s=ha.internal.getWidth(e)||0;return t.BBox=[0,0,Number(qa(s)),Number(qa(a))],t},CSe=Xs.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},ASe=Xs.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},_Se=Xs.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},yn=Xs.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return _Se(e,t-1)},wn=Xs.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return CSe(e,t-1)},jn=Xs.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return ASe(e,t-1)},TSe=Xs.__acroform__.calculateCoordinates=function(e,t){var a=t.internal.getHorizontalCoordinate,s=t.internal.getVerticalCoordinate,n=e[0],i=e[1],l=e[2],o=e[3],c={};return c.lowerLeft_X=a(n)||0,c.lowerLeft_Y=s(i+o)||0,c.upperRight_X=a(n+l)||0,c.upperRight_Y=s(i)||0,[Number(qa(c.lowerLeft_X)),Number(qa(c.lowerLeft_Y)),Number(qa(c.upperRight_X)),Number(qa(c.upperRight_Y))]},ESe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],a=e._V||e.DV,s=PC(e,a),n=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+n+" "+qa(s.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Gd(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},PC=function(e,t){var a=e.fontSize===0?e.maxFontSize:e.fontSize,s={text:"",fontSize:""},n=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");n=e.multiline?n.map(function(O){return O.split(`
`)}):n.map(function(O){return[O]});var i=a,l=ha.internal.getHeight(e)||0;l=l<0?-l:l;var o=ha.internal.getWidth(e)||0;o=o<0?-o:o;var c=function(O,U,E){if(O+1<n.length){var R=U+" "+n[O+1][0];return a2(R,e,E).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var d,u,f=a2("3",e,i).height,x=e.multiline?l-i:(l-f)/2,m=x+=2,g=0,v=0,b=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+a2(t,e,i=12).width+", FieldWidth:"+o+`
`;break}for(var j="",S=0,k=0;k<n.length;k++)if(n.hasOwnProperty(k)){var N=!1;if(n[k].length!==1&&b!==n[k].length-1){if((f+2)*(S+2)+2>l)continue e;j+=n[k][b],N=!0,v=k,k--}else{j=(j+=n[k][b]+" ").substr(j.length-1)==" "?j.substr(0,j.length-1):j;var A=parseInt(k),_=c(A,j,i),D=k>=n.length-1;if(_&&!D){j+=" ",b=0;continue}if(_||D){if(D)v=A;else if(e.multiline&&(f+2)*(S+2)+2>l)continue e}else{if(!e.multiline||(f+2)*(S+2)+2>l)continue e;v=A}}for(var P="",I=g;I<=v;I++){var B=n[I];if(e.multiline){if(I===v){P+=B[b]+" ",b=(b+1)%B.length;continue}if(I===g){P+=B[B.length-1]+" ";continue}}P+=B[0]+" "}switch(P=P.substr(P.length-1)==" "?P.substr(0,P.length-1):P,u=a2(P,e,i).width,e.textAlign){case"right":d=o-u-2;break;case"center":d=(o-u)/2;break;default:d=2}t+=qa(d)+" "+qa(m)+` Td
`,t+="("+Im(P)+`) Tj
`,t+=-qa(d)+` 0 Td
`,m=-(i+2),u=0,g=N?v:v+1,S++,j=""}break}return s.text=t,s.fontSize=i,s},a2=function(e,t,a){var s=t.scope.internal.getFont(t.fontName,t.fontStyle),n=t.scope.getStringUnitWidth(e,{font:s,fontSize:parseFloat(a),charSpace:0})*parseFloat(a);return{height:t.scope.getStringUnitWidth("3",{font:s,fontSize:parseFloat(a),charSpace:0})*parseFloat(a)*1.5,width:n}},DSe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},MSe=function(e,t){var a={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(s){return s.type===a.type&&s.object===a.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(a)},PSe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(gd.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(DSe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");H8=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new aG,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(a){a.internal.events.unsubscribe(a.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete a.internal.acroformPlugin.acroFormDictionaryRoot._eventID,a.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(a){a.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var s=a.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in s)if(s.hasOwnProperty(n)){var i=s[n];i.objId=void 0,i.hasAnnotation&&MSe(i,a)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(a){if(a.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");a.internal.write("/AcroForm "+a.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(a){(function(s,n){var i=!s;for(var l in s||(n.internal.newObjectDeferredBegin(n.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),n.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),s=s||n.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(s.hasOwnProperty(l)){var o=s[l],c=[],d=o.Rect;if(o.Rect&&(o.Rect=TSe(o.Rect,n)),n.internal.newObjectDeferredBegin(o.objId,!0),o.DA=ha.createDefaultAppearanceStream(o),Vr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=d,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=ESe(o);c.push({key:"AP",value:"<</N "+u+">>"}),n.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var f="";for(var x in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(x)){var m=o.appearanceStreamContent[x];if(f+="/"+x+" ",f+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var l in m)if(m.hasOwnProperty(l)){var g=m[l];typeof g=="function"&&(g=g.call(n,o)),f+="/"+l+" "+g+" ",n.internal.acroformPlugin.xForms.indexOf(g)>=0||n.internal.acroformPlugin.xForms.push(g)}}else typeof(g=m)=="function"&&(g=g.call(n,o)),f+="/"+l+" "+g,n.internal.acroformPlugin.xForms.indexOf(g)>=0||n.internal.acroformPlugin.xForms.push(g);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}n.internal.putStream({additionalKeyValues:c,objectId:o.objId}),n.internal.out("endobj")}i&&(function(v,b){for(var j in v)if(v.hasOwnProperty(j)){var S=j,k=v[j];b.internal.newObjectDeferredBegin(k.objId,!0),Vr(k)==="object"&&typeof k.putStream=="function"&&k.putStream(),delete v[S]}})(n.internal.acroformPlugin.xForms,n)})(a,e)}),e.internal.acroformPlugin.isInitialized=!0}},eG=Xs.__acroform__.arrayToPdfArray=function(e,t,a){var s=function(l){return l};if(Array.isArray(e)){for(var n="[",i=0;i<e.length;i++)switch(i!==0&&(n+=" "),Vr(e[i])){case"boolean":case"number":case"object":n+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&a&&(s=a.internal.getEncryptor(t)),n+="("+Im(s(e[i].toString()))+")"):n+=e[i].toString()}return n+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},N3=function(e,t,a){var s=function(n){return n};return t!==void 0&&a&&(s=a.internal.getEncryptor(t)),(e=e||"").toString(),"("+Im(s(e))+")"},Xd=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Xd.prototype.toString=function(){return this.objId+" 0 R"},Xd.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Xd.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var a in t)if(Object.getOwnPropertyDescriptor(this,t[a]).configurable===!1){var s=t[a],n=this[s];n&&(Array.isArray(n)?e.push({key:s,value:eG(n,this.objId,this.scope)}):n instanceof Xd?(n.scope=this.scope,e.push({key:s,value:n.objId+" 0 R"})):typeof n!="function"&&e.push({key:s,value:n}))}return e};var tG=function(){Xd.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(a){e=a.trim()},get:function(){return e||null}})};io(tG,Xd);var aG=function(){Xd.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var a=function(s){return s};return this.scope&&(a=this.scope.internal.getEncryptor(this.objId)),"("+Im(a(e))+")"}},set:function(a){e=a}})};io(aG,Xd);var gd=function e(){Xd.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute F supplied.');t=j}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!yn(t,3)},set:function(j){j?this.F=wn(t,3):this.F=jn(t,3)}});var a=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return a},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute Ff supplied.');a=j}});var s=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(s.length!==0)return s},set:function(j){s=j!==void 0?j:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[0])?0:s[0]},set:function(j){s[0]=j}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[1])?0:s[1]},set:function(j){s[1]=j}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[2])?0:s[2]},set:function(j){s[2]=j}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[3])?0:s[3]},set:function(j){s[3]=j}});var n="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return n},set:function(j){switch(j){case"/Btn":case"/Tx":case"/Ch":case"/Sig":n=j;break;default:throw new Error('Invalid value "'+j+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Nw)return;i="FieldObject"+e.FieldNum++}var j=function(S){return S};return this.scope&&(j=this.scope.internal.getEncryptor(this.objId)),"("+Im(j(i))+")"},set:function(j){i=j.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(j){i=j}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(j){l=j}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(j){o=j}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(j){c=j}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/H8:d},set:function(j){d=j}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(j){u=j}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Nw||this instanceof Af))return N3(f,this.objId,this.scope)},set:function(j){j=j.toString(),f=j}});var x=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof Yn==0?N3(x,this.objId,this.scope):x},set:function(j){j=j.toString(),x=this instanceof Yn==0?j.substr(0,1)==="("?Tp(j.substr(1,j.length-2)):Tp(j):j}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Yn==1?Tp(x.substr(1,x.length-1)):x},set:function(j){j=j.toString(),x=this instanceof Yn==1?"/"+j:j}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(j){this.V=j}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Yn==0?N3(m,this.objId,this.scope):m},set:function(j){j=j.toString(),m=this instanceof Yn==0?j.substr(0,1)==="("?Tp(j.substr(1,j.length-2)):Tp(j):j}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Yn==1?Tp(m.substr(1,m.length-1)):m},set:function(j){j=j.toString(),m=this instanceof Yn==1?"/"+j:j}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(j){j=!!j,v=j}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(j){g=j}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,1)},set:function(j){j?this.Ff=wn(this.Ff,1):this.Ff=jn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,2)},set:function(j){j?this.Ff=wn(this.Ff,2):this.Ff=jn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,3)},set:function(j){j?this.Ff=wn(this.Ff,3):this.Ff=jn(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(j){if([0,1,2].indexOf(j)===-1)throw new Error('Invalid value "'+j+'" for attribute Q supplied.');b=j}}),Object.defineProperty(this,"textAlign",{get:function(){var j;switch(b){case 0:default:j="left";break;case 1:j="center";break;case 2:j="right"}return j},configurable:!0,enumerable:!0,set:function(j){switch(j){case"right":case 2:b=2;break;case"center":case 1:b=1;break;default:b=0}}})};io(gd,Xd);var em=function(){gd.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(a){e=a}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return eG(t,this.objId,this.scope)},set:function(a){var s,n;n=[],typeof(s=a)=="string"&&(n=(function(i,l,o){o||(o=1);for(var c,d=[];c=l.exec(i);)d.push(c[o]);return d})(s,/\((.*?)\)/g)),t=n}}),this.getOptions=function(){return t},this.setOptions=function(a){t=a,this.sort&&t.sort()},this.addOption=function(a){a=(a=a||"").toString(),t.push(a),this.sort&&t.sort()},this.removeOption=function(a,s){for(s=s||!1,a=(a=a||"").toString();t.indexOf(a)!==-1&&(t.splice(t.indexOf(a),1),s!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,18)},set:function(a){a?this.Ff=wn(this.Ff,18):this.Ff=jn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,19)},set:function(a){this.combo===!0&&(a?this.Ff=wn(this.Ff,19):this.Ff=jn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,20)},set:function(a){a?(this.Ff=wn(this.Ff,20),t.sort()):this.Ff=jn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,22)},set:function(a){a?this.Ff=wn(this.Ff,22):this.Ff=jn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,23)},set:function(a){a?this.Ff=wn(this.Ff,23):this.Ff=jn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,27)},set:function(a){a?this.Ff=wn(this.Ff,27):this.Ff=jn(this.Ff,27)}}),this.hasAppearanceStream=!1};io(em,gd);var tm=function(){em.call(this),this.fontName="helvetica",this.combo=!1};io(tm,em);var am=function(){tm.call(this),this.combo=!0};io(am,tm);var _1=function(){am.call(this),this.edit=!0};io(_1,am);var Yn=function(){gd.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,15)},set:function(a){a?this.Ff=wn(this.Ff,15):this.Ff=jn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,16)},set:function(a){a?this.Ff=wn(this.Ff,16):this.Ff=jn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,17)},set:function(a){a?this.Ff=wn(this.Ff,17):this.Ff=jn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,26)},set:function(a){a?this.Ff=wn(this.Ff,26):this.Ff=jn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(i){return i};if(this.scope&&(a=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var s,n=[];for(s in n.push("<<"),t)n.push("/"+s+" ("+Im(a(t[s]))+")");return n.push(">>"),n.join(`
`)}},set:function(a){Vr(a)==="object"&&(t=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(a){typeof a=="string"&&(t.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(a){e="/"+a}})};io(Yn,gd);var T1=function(){Yn.call(this),this.pushButton=!0};io(T1,Yn);var rm=function(){Yn.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};io(rm,Yn);var Nw=function(){var e,t;gd.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(n){t=n}});var a,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(o){return o};this.scope&&(n=this.scope.internal.getEncryptor(this.objId));var i,l=[];for(i in l.push("<<"),s)l.push("/"+i+" ("+Im(n(s[i]))+")");return l.push(">>"),l.join(`
`)},set:function(n){Vr(n)==="object"&&(s=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(n){typeof n=="string"&&(s.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return a},set:function(n){a=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return a.substr(1,a.length-1)},set:function(n){a="/"+n}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ha.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};io(Nw,gd),rm.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var a=this.Kids[t];a.appearanceStreamContent=e.createAppearanceStream(a.optionName),a.caption=e.getCA()}},rm.prototype.createOption=function(e){var t=new Nw;return t.Parent=this,t.optionName=e,this.Kids.push(t),LSe.call(this.scope,t),t};var E1=function(){Yn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ha.CheckBox.createAppearanceStream()};io(E1,Yn);var Af=function(){gd.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,13)},set:function(t){t?this.Ff=wn(this.Ff,13):this.Ff=jn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,21)},set:function(t){t?this.Ff=wn(this.Ff,21):this.Ff=jn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,23)},set:function(t){t?this.Ff=wn(this.Ff,23):this.Ff=jn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,24)},set:function(t){t?this.Ff=wn(this.Ff,24):this.Ff=jn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,25)},set:function(t){t?this.Ff=wn(this.Ff,25):this.Ff=jn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,26)},set:function(t){t?this.Ff=wn(this.Ff,26):this.Ff=jn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};io(Af,gd);var D1=function(){Af.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,14)},set:function(e){e?this.Ff=wn(this.Ff,14):this.Ff=jn(this.Ff,14)}}),this.password=!0};io(D1,Af);var ha={CheckBox:{createAppearanceStream:function(){return{N:{On:ha.CheckBox.YesNormal},D:{On:ha.CheckBox.YesPushDown,Off:ha.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Gd(e);t.scope=e.scope;var a=[],s=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=PC(e,e.caption);return a.push("0.749023 g"),a.push("0 0 "+qa(ha.internal.getWidth(e))+" "+qa(ha.internal.getHeight(e))+" re"),a.push("f"),a.push("BMC"),a.push("q"),a.push("0 0 1 rg"),a.push("/"+s+" "+qa(i.fontSize)+" Tf "+n),a.push("BT"),a.push(i.text),a.push("ET"),a.push("Q"),a.push("EMC"),t.stream=a.join(`
`),t},YesNormal:function(e){var t=Gd(e);t.scope=e.scope;var a=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),n=[],i=ha.internal.getHeight(e),l=ha.internal.getWidth(e),o=PC(e,e.caption);return n.push("1 g"),n.push("0 0 "+qa(l)+" "+qa(i)+" re"),n.push("f"),n.push("q"),n.push("0 0 1 rg"),n.push("0 0 "+qa(l-1)+" "+qa(i-1)+" re"),n.push("W"),n.push("n"),n.push("0 g"),n.push("BT"),n.push("/"+a+" "+qa(o.fontSize)+" Tf "+s),n.push(o.text),n.push("ET"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Gd(e);t.scope=e.scope;var a=[];return a.push("0.749023 g"),a.push("0 0 "+qa(ha.internal.getWidth(e))+" "+qa(ha.internal.getHeight(e))+" re"),a.push("f"),t.stream=a.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:ha.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=ha.RadioButton.Circle.YesNormal,t.D[e]=ha.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Gd(e);t.scope=e.scope;var a=[],s=ha.internal.getWidth(e)<=ha.internal.getHeight(e)?ha.internal.getWidth(e)/4:ha.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var n=ha.internal.Bezier_C,i=Number((s*n).toFixed(5));return a.push("q"),a.push("1 0 0 1 "+hf(ha.internal.getWidth(e)/2)+" "+hf(ha.internal.getHeight(e)/2)+" cm"),a.push(s+" 0 m"),a.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),a.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),a.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),a.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),a.push("f"),a.push("Q"),t.stream=a.join(`
`),t},YesPushDown:function(e){var t=Gd(e);t.scope=e.scope;var a=[],s=ha.internal.getWidth(e)<=ha.internal.getHeight(e)?ha.internal.getWidth(e)/4:ha.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var n=Number((2*s).toFixed(5)),i=Number((n*ha.internal.Bezier_C).toFixed(5)),l=Number((s*ha.internal.Bezier_C).toFixed(5));return a.push("0.749023 g"),a.push("q"),a.push("1 0 0 1 "+hf(ha.internal.getWidth(e)/2)+" "+hf(ha.internal.getHeight(e)/2)+" cm"),a.push(n+" 0 m"),a.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),a.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),a.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),a.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),a.push("f"),a.push("Q"),a.push("0 g"),a.push("q"),a.push("1 0 0 1 "+hf(ha.internal.getWidth(e)/2)+" "+hf(ha.internal.getHeight(e)/2)+" cm"),a.push(s+" 0 m"),a.push(s+" "+l+" "+l+" "+s+" 0 "+s+" c"),a.push("-"+l+" "+s+" -"+s+" "+l+" -"+s+" 0 c"),a.push("-"+s+" -"+l+" -"+l+" -"+s+" 0 -"+s+" c"),a.push(l+" -"+s+" "+s+" -"+l+" "+s+" 0 c"),a.push("f"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Gd(e);t.scope=e.scope;var a=[],s=ha.internal.getWidth(e)<=ha.internal.getHeight(e)?ha.internal.getWidth(e)/4:ha.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var n=Number((2*s).toFixed(5)),i=Number((n*ha.internal.Bezier_C).toFixed(5));return a.push("0.749023 g"),a.push("q"),a.push("1 0 0 1 "+hf(ha.internal.getWidth(e)/2)+" "+hf(ha.internal.getHeight(e)/2)+" cm"),a.push(n+" 0 m"),a.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),a.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),a.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),a.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),a.push("f"),a.push("Q"),t.stream=a.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:ha.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=ha.RadioButton.Cross.YesNormal,t.D[e]=ha.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Gd(e);t.scope=e.scope;var a=[],s=ha.internal.calculateCross(e);return a.push("q"),a.push("1 1 "+qa(ha.internal.getWidth(e)-2)+" "+qa(ha.internal.getHeight(e)-2)+" re"),a.push("W"),a.push("n"),a.push(qa(s.x1.x)+" "+qa(s.x1.y)+" m"),a.push(qa(s.x2.x)+" "+qa(s.x2.y)+" l"),a.push(qa(s.x4.x)+" "+qa(s.x4.y)+" m"),a.push(qa(s.x3.x)+" "+qa(s.x3.y)+" l"),a.push("s"),a.push("Q"),t.stream=a.join(`
`),t},YesPushDown:function(e){var t=Gd(e);t.scope=e.scope;var a=ha.internal.calculateCross(e),s=[];return s.push("0.749023 g"),s.push("0 0 "+qa(ha.internal.getWidth(e))+" "+qa(ha.internal.getHeight(e))+" re"),s.push("f"),s.push("q"),s.push("1 1 "+qa(ha.internal.getWidth(e)-2)+" "+qa(ha.internal.getHeight(e)-2)+" re"),s.push("W"),s.push("n"),s.push(qa(a.x1.x)+" "+qa(a.x1.y)+" m"),s.push(qa(a.x2.x)+" "+qa(a.x2.y)+" l"),s.push(qa(a.x4.x)+" "+qa(a.x4.y)+" m"),s.push(qa(a.x3.x)+" "+qa(a.x3.y)+" l"),s.push("s"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=Gd(e);t.scope=e.scope;var a=[];return a.push("0.749023 g"),a.push("0 0 "+qa(ha.internal.getWidth(e))+" "+qa(ha.internal.getHeight(e))+" re"),a.push("f"),t.stream=a.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+a}};ha.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=ha.internal.getWidth(e),a=ha.internal.getHeight(e),s=Math.min(t,a);return{x1:{x:(t-s)/2,y:(a-s)/2+s},x2:{x:(t-s)/2+s,y:(a-s)/2},x3:{x:(t-s)/2,y:(a-s)/2},x4:{x:(t-s)/2+s,y:(a-s)/2+s}}}},ha.internal.getWidth=function(e){var t=0;return Vr(e)==="object"&&(t=mR(e.Rect[2])),t},ha.internal.getHeight=function(e){var t=0;return Vr(e)==="object"&&(t=mR(e.Rect[3])),t};var LSe=Xs.addField=function(e){if(PSe(this,e),!(e instanceof gd))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Xs.AcroFormChoiceField=em,Xs.AcroFormListBox=tm,Xs.AcroFormComboBox=am,Xs.AcroFormEditBox=_1,Xs.AcroFormButton=Yn,Xs.AcroFormPushButton=T1,Xs.AcroFormRadioButton=rm,Xs.AcroFormCheckBox=E1,Xs.AcroFormTextField=Af,Xs.AcroFormPasswordField=D1,Xs.AcroFormAppearance=ha,Xs.AcroForm={ChoiceField:em,ListBox:tm,ComboBox:am,EditBox:_1,Button:Yn,PushButton:T1,RadioButton:rm,CheckBox:E1,TextField:Af,PasswordField:D1,Appearance:ha},ma.AcroForm={ChoiceField:em,ListBox:tm,ComboBox:am,EditBox:_1,Button:Yn,PushButton:T1,RadioButton:rm,CheckBox:E1,TextField:Af,PasswordField:D1,Appearance:ha};var OSe=ma.AcroForm;function rG(e){return e.reduce(function(t,a,s){return t[a]=s,t},{})}(function(e){var t="addImage_";e.__addimage__={};var a="UNKNOWN",s={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(O,U){var E,R,K,V,Z,J=a;if((U=U||a)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(_(O))for(Z in s)for(K=s[Z],E=0;E<K.length;E+=1){for(V=!0,R=0;R<K[E].length;R+=1)if(K[E][R]!==void 0&&K[E][R]!==O[R]){V=!1;break}if(V===!0){J=Z;break}}else for(Z in s)for(K=s[Z],E=0;E<K.length;E+=1){for(V=!0,R=0;R<K[E].length;R+=1)if(K[E][R]!==void 0&&K[E][R]!==O.charCodeAt(R)){V=!1;break}if(V===!0){J=Z;break}}return J===a&&U!==a&&(J=U),J},i=function O(U){for(var E=this.internal.write,R=this.internal.putStream,K=(0,this.internal.getFilters)();K.indexOf("FlateEncode")!==-1;)K.splice(K.indexOf("FlateEncode"),1);U.objectId=this.internal.newObject();var V=[];if(V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Image"}),V.push({key:"Width",value:U.width}),V.push({key:"Height",value:U.height}),U.colorSpace===j.INDEXED?V.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(U.palette.length/3-1)+" "+("sMask"in U&&U.sMask!==void 0?U.objectId+2:U.objectId+1)+" 0 R]"}):(V.push({key:"ColorSpace",value:"/"+U.colorSpace}),U.colorSpace===j.DEVICE_CMYK&&V.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),V.push({key:"BitsPerComponent",value:U.bitsPerComponent}),"decodeParameters"in U&&U.decodeParameters!==void 0&&V.push({key:"DecodeParms",value:"<<"+U.decodeParameters+">>"}),"transparency"in U&&Array.isArray(U.transparency)&&U.transparency.length>0){for(var Z="",J=0,ee=U.transparency.length;J<ee;J++)Z+=U.transparency[J]+" "+U.transparency[J]+" ";V.push({key:"Mask",value:"["+Z+"]"})}U.sMask!==void 0&&V.push({key:"SMask",value:U.objectId+1+" 0 R"});var W=U.filter!==void 0?["/"+U.filter]:void 0;if(R({data:U.data,additionalKeyValues:V,alreadyAppliedFilters:W,objectId:U.objectId}),E("endobj"),"sMask"in U&&U.sMask!==void 0){var le,M=(le=U.sMaskBitsPerComponent)!==null&&le!==void 0?le:U.bitsPerComponent,X={width:U.width,height:U.height,colorSpace:"DeviceGray",bitsPerComponent:M,data:U.sMask};"filter"in U&&(X.decodeParameters="/Predictor ".concat(U.predictor," /Colors 1 /BitsPerComponent ").concat(M," /Columns ").concat(U.width),X.filter=U.filter),O.call(this,X)}if(U.colorSpace===j.INDEXED){var z=this.internal.newObject();R({data:P(new Uint8Array(U.palette)),objectId:z}),E("endobj")}},l=function(){var O=this.internal.collections[t+"images"];for(var U in O)i.call(this,O[U])},o=function(){var O,U=this.internal.collections[t+"images"],E=this.internal.write;for(var R in U)E("/I"+(O=U[R]).index,O.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",o))},d=function(){var O=this.internal.collections[t+"images"];return c.call(this),O},u=function(){return Object.keys(this.internal.collections[t+"images"]).length},f=function(O){return typeof e["process"+O.toUpperCase()]=="function"},x=function(O){return Vr(O)==="object"&&O.nodeType===1},m=function(O,U){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var E=""+O.getAttribute("src");if(E.indexOf("data:image/")===0)return I2(unescape(E).split("base64,").pop());var R=e.loadFile(E,!0);if(R!==void 0)return R}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var K;switch(U){case"PNG":K="image/png";break;case"WEBP":K="image/webp";break;default:K="image/jpeg"}return I2(O.toDataURL(K,1).split("base64,").pop())}},g=function(O){var U=this.internal.collections[t+"images"];if(U){for(var E in U)if(O===U[E].alias)return U[E]}},v=function(O,U,E){return O||U||(O=-96,U=-96),O<0&&(O=-1*E.width*72/O/this.internal.scaleFactor),U<0&&(U=-1*E.height*72/U/this.internal.scaleFactor),O===0&&(O=U*E.width/E.height),U===0&&(U=O*E.height/E.width),[O,U]},b=function(O,U,E,R,K,V){var Z=v.call(this,E,R,K),J=this.internal.getCoordinateString,ee=this.internal.getVerticalCoordinateString,W=d.call(this);if(E=Z[0],R=Z[1],W[K.index]=K,V){V*=Math.PI/180;var le=Math.cos(V),M=Math.sin(V),X=function(Q){return Q.toFixed(4)},z=[X(le),X(M),X(-1*M),X(le),0,0,"cm"]}this.internal.write("q"),V?(this.internal.write([1,"0","0",1,J(O),ee(U+R),"cm"].join(" ")),this.internal.write(z.join(" ")),this.internal.write([J(E),"0","0",J(R),"0","0","cm"].join(" "))):this.internal.write([J(E),"0","0",J(R),J(O),ee(U+R),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+K.index+" Do"),this.internal.write("Q")},j=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var S=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},k=e.__addimage__.sHashCode=function(O){var U,E,R=0;if(typeof O=="string")for(E=O.length,U=0;U<E;U++)R=(R<<5)-R+O.charCodeAt(U),R|=0;else if(_(O))for(E=O.byteLength/2,U=0;U<E;U++)R=(R<<5)-R+O[U],R|=0;return R},N=e.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var U=!0;return O.length===0&&(U=!1),O.length%4!=0&&(U=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(U=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(U=!1),U},A=e.__addimage__.extractImageFromDataUrl=function(O){if(O==null||!(O=O.trim()).startsWith("data:"))return null;var U=O.indexOf(",");return U<0?null:O.substring(0,U).trim().endsWith("base64")?O.substring(U+1):null};e.__addimage__.isArrayBuffer=function(O){return O instanceof ArrayBuffer};var _=e.__addimage__.isArrayBufferView=function(O){return O instanceof Int8Array||O instanceof Uint8Array||O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array},D=e.__addimage__.binaryStringToUint8Array=function(O){for(var U=O.length,E=new Uint8Array(U),R=0;R<U;R++)E[R]=O.charCodeAt(R);return E},P=e.__addimage__.arrayBufferToBinaryString=function(O){for(var U="",E=_(O)?O:new Uint8Array(O),R=0;R<E.length;R+=8192)U+=String.fromCharCode.apply(null,E.subarray(R,R+8192));return U};e.addImage=function(){var O,U,E,R,K,V,Z,J,ee;if(typeof arguments[1]=="number"?(U=a,E=arguments[1],R=arguments[2],K=arguments[3],V=arguments[4],Z=arguments[5],J=arguments[6],ee=arguments[7]):(U=arguments[1],E=arguments[2],R=arguments[3],K=arguments[4],V=arguments[5],Z=arguments[6],J=arguments[7],ee=arguments[8]),Vr(O=arguments[0])==="object"&&!x(O)&&"imageData"in O){var W=O;O=W.imageData,U=W.format||U||a,E=W.x||E||0,R=W.y||R||0,K=W.w||W.width||K,V=W.h||W.height||V,Z=W.alias||Z,J=W.compression||J,ee=W.rotation||W.angle||ee}var le=this.internal.getFilters();if(J===void 0&&le.indexOf("FlateEncode")!==-1&&(J="SLOW"),isNaN(E)||isNaN(R))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var M=I.call(this,O,U,Z,J);return b.call(this,E,R,K,V,M,ee),this};var I=function(O,U,E,R){var K,V,Z;if(typeof O=="string"&&n(O)===a){O=unescape(O);var J=B(O,!1);(J!==""||(J=e.loadFile(O,!0))!==void 0)&&(O=J)}if(x(O)&&(O=m(O,U)),U=n(O,U),!f(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(((Z=E)==null||Z.length===0)&&(E=(function(ee){return typeof ee=="string"||_(ee)?k(ee):_(ee.data)?k(ee.data):null})(O)),(K=g.call(this,E))||(O instanceof Uint8Array||U==="RGBA"||(V=O,O=D(O)),K=this["process"+U.toUpperCase()](O,u.call(this),E,(function(ee){return ee&&typeof ee=="string"&&(ee=ee.toUpperCase()),ee in e.image_compression?ee:S.NONE})(R),V)),!K)throw new Error("An unknown error occurred whilst processing the image.");return K},B=e.__addimage__.convertBase64ToBinaryString=function(O,U){U=typeof U!="boolean"||U;var E,R="";if(typeof O=="string"){var K;E=(K=A(O))!==null&&K!==void 0?K:O;try{R=I2(E)}catch(V){if(U)throw N(E)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+V.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return R};e.getImageProperties=function(O){var U,E,R="";if(x(O)&&(O=m(O)),typeof O=="string"&&n(O)===a&&((R=B(O,!1))===""&&(R=e.loadFile(O)||""),O=R),E=n(O),!f(E))throw new Error("addImage does not support files of type '"+E+"', please ensure that a plugin for '"+E+"' support is added.");if(O instanceof Uint8Array||(O=D(O)),!(U=this["process"+E.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return U.fileType=E,U}})(ma.API),(function(e){var t=function(a){if(a!==void 0&&a!="")return!0};ma.API.events.push(["addPage",function(a){this.internal.getPageInfo(a.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(a){for(var s,n,i,l=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(a.objId),d=a.pageContext.annotations,u=!1,f=0;f<d.length&&!u;f++)switch((s=d[f]).type){case"link":(t(s.options.url)||t(s.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var x=0;x<d.length;x++){s=d[x];var m=this.internal.pdfEscape,g=this.internal.getEncryptor(a.objId);switch(s.type){case"reference":this.internal.write(" "+s.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),j=this.internal.getEncryptor(v.objId),S=s.title||"Note";i="<</Type /Annot /Subtype /Text "+(n="/Rect ["+l(s.bounds.x)+" "+o(s.bounds.y+s.bounds.h)+" "+l(s.bounds.x+s.bounds.w)+" "+o(s.bounds.y)+"] ")+"/Contents ("+m(j(s.contents))+")",i+=" /Popup "+b.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+m(j(S))+") >>",v.content=i;var k=v.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+l(s.bounds.x+30)+" "+o(s.bounds.y+s.bounds.h)+" "+l(s.bounds.x+s.bounds.w+30)+" "+o(s.bounds.y)+"] ")+" /Parent "+k,s.open&&(i+=" /Open true"),i+=" >>",b.content=i,this.internal.write(v.objId,"0 R",b.objId,"0 R");break;case"freetext":n="/Rect ["+l(s.bounds.x)+" "+o(s.bounds.y)+" "+l(s.bounds.x+s.bounds.w)+" "+o(s.bounds.y+s.bounds.h)+"] ";var N=s.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+m(g(s.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+N+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(s.options.name){var A=this.annotations._nameMap[s.options.name];s.options.pageNumber=A.page,s.options.top=A.y}else s.options.top||(s.options.top=0);if(n="/Rect ["+s.finalBounds.x+" "+s.finalBounds.y+" "+s.finalBounds.w+" "+s.finalBounds.h+"] ",i="",s.options.url)i="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+m(g(s.options.url))+") >>";else if(s.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(s.options.pageNumber).objId+" 0 R",s.options.magFactor=s.options.magFactor||"XYZ",s.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+s.options.top+"]";break;case"FitV":s.options.left=s.options.left||0,i+=" /FitV "+s.options.left+"]";break;default:var _=o(s.options.top);s.options.left=s.options.left||0,s.options.zoom===void 0&&(s.options.zoom=0),i+=" /XYZ "+s.options.left+" "+_+" "+s.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(a){var s=this.internal.getCurrentPageInfo();switch(a.type){case"link":this.link(a.bounds.x,a.bounds.y,a.bounds.w,a.bounds.h,a);break;case"text":case"freetext":s.pageContext.annotations.push(a)}},e.link=function(a,s,n,i,l){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(a),y:d(s),w:c(a+n),h:d(s+i)},options:l,type:"link"})},e.textWithLink=function(a,s,n,i){var l,o,c=this.getTextWidth(a),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var u=this.splitTextToSize(a,o).length;l=Math.ceil(d*u)}else o=c,l=d;return this.text(a,s,n,i),n+=.2*d,i.align==="center"&&(s-=c/2),i.align==="right"&&(s-=c),this.link(s,n-d,o,l,i),c},e.getTextWidth=function(a){var s=this.internal.getFontSize();return this.getStringUnitWidth(a)*s/this.internal.scaleFactor}})(ma.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},a={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},s={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},n=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(v){return t[v.charCodeAt(0)]!==void 0},l=e.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},o=e.__arabicParser__.isArabicEndLetter=function(v){return l(v)&&i(v)&&t[v.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(v){return l(v)&&n.indexOf(v.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return l(v)&&i(v)&&t[v.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(v){return l(v)&&i(v)&&t[v.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(v){return l(v)&&i(v)&&t[v.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(v){return l(v)&&i(v)&&t[v.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(v){var b=0,j=a,S="",k=0;for(b=0;b<v.length;b+=1)j[v.charCodeAt(b)]!==void 0?(k++,typeof(j=j[v.charCodeAt(b)])=="number"&&(S+=String.fromCharCode(j),j=a,k=0),b===v.length-1&&(j=a,S+=v.charAt(b-(k-1)),b-=k-1,k=0)):(j=a,S+=v.charAt(b-k),b-=k,k=0);return S};e.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&s[v.charCodeAt(0)]!==void 0};var x=e.__arabicParser__.getCorrectForm=function(v,b,j){return l(v)?i(v)===!1?-1:!d(v)||!l(b)&&!l(j)||!l(j)&&o(b)||o(v)&&!l(b)||o(v)&&c(b)||o(v)&&o(b)?0:u(v)&&l(b)&&!o(b)&&l(j)&&d(j)?3:o(v)||!l(j)?1:2:-1},m=function(v){var b=0,j=0,S=0,k="",N="",A="",_=(v=v||"").split("\\s+"),D=[];for(b=0;b<_.length;b+=1){for(D.push(""),j=0;j<_[b].length;j+=1)k=_[b][j],N=_[b][j-1],A=_[b][j+1],l(k)?(S=x(k,N,A),D[b]+=S!==-1?String.fromCharCode(t[k.charCodeAt(0)][S]):k):D[b]+=k;D[b]=f(D[b])}return D.join(" ")},g=e.__arabicParser__.processArabic=e.processArabic=function(){var v,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,j=[];if(Array.isArray(b)){var S=0;for(j=[],S=0;S<b.length;S+=1)Array.isArray(b[S])?j.push([m(b[S][0]),b[S][1],b[S][2]]):j.push([m(b[S])]);v=j}else v=m(b);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};e.events.push(["preProcessText",g])})(ma.API),ma.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(e){var t=function(){var a=void 0;Object.defineProperty(this,"pdf",{get:function(){return a},set:function(o){a=o}});var s=150;Object.defineProperty(this,"width",{get:function(){return s},set:function(o){s=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=s+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(o){l=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(a,s){var n;if((a=a||"2d")!=="2d")return null;for(n in s)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=s[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(ma.API),(function(e){var t={left:0,top:0,bottom:0,right:0},a=!1,s=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),n.call(this))},n=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(v){c=v}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(v){d=v}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(v){u=v}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(v){f=v}});var x=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return x},set:function(v){x=v}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(v){m=v}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(v){g=v}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return s.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,d){s.call(this);var u=(d=d||{}).fontSize||this.getFontSize(),f=d.font||this.getFont(),x=d.scaleFactor||this.internal.scaleFactor,m=0,g=0,v=0,b=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var j=d.maxWidth;j>0?typeof c=="string"?c=this.splitTextToSize(c,j):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(k,N){return k.concat(b.splitTextToSize(N,j))},[])):c=Array.isArray(c)?c:[c];for(var S=0;S<c.length;S++)m<(v=this.getStringUnitWidth(c[S],{font:f})*u)&&(m=v);return m!==0&&(g=c.length),{w:m/=x,h:Math.max((g*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/x,0)}},e.cellAddPage=function(){s.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),s.call(this);var d=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,x=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,m&&x&&(this.printHeaderRow(c.lineNumber,!0),c.y+=x[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,a===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-u,c.y+u,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+u,{align:"center",baseline:"top",maxWidth:c.width-u-u}):this.text(c.text,c.x+u,c.y+u,{align:"left",baseline:"top",maxWidth:c.width-u-u})),this.internal.__cell__.lastCell=c,this};e.table=function(c,d,u,f,x){if(s.call(this),!u)throw new Error("No data for PDF table.");var m,g,v,b,j=[],S=[],k=[],N={},A={},_=[],D=[],P=(x=x||{}).autoSize||!1,I=x.printHeaders!==!1,B=x.css&&x.css["font-size"]!==void 0?16*x.css["font-size"]:x.fontSize||12,O=x.margins||Object.assign({width:this.getPageWidth()},t),U=typeof x.padding=="number"?x.padding:3,E=x.headerBackgroundColor||"#c8c8c8",R=x.headerTextColor||"#000";if(n.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=B,this.internal.__cell__.padding=U,this.internal.__cell__.headerBackgroundColor=E,this.internal.__cell__.headerTextColor=R,this.setFontSize(B),f==null)S=j=Object.keys(u[0]),k=j.map(function(){return"left"});else if(Array.isArray(f)&&Vr(f[0])==="object")for(j=f.map(function(W){return W.name}),S=f.map(function(W){return W.prompt||W.name||""}),k=f.map(function(W){return W.align||"left"}),m=0;m<f.length;m+=1)A[f[m].name]=.7499990551181103*f[m].width;else Array.isArray(f)&&typeof f[0]=="string"&&(S=j=f,k=j.map(function(){return"left"}));if(P||Array.isArray(f)&&typeof f[0]=="string")for(m=0;m<j.length;m+=1){for(N[b=j[m]]=u.map(function(W){return W[b]}),this.setFont(void 0,"bold"),_.push(this.getTextDimensions(S[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=N[b],this.setFont(void 0,"normal"),v=0;v<g.length;v+=1)_.push(this.getTextDimensions(g[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);A[b]=Math.max.apply(null,_)+U+U,_=[]}if(I){var K={};for(m=0;m<j.length;m+=1)K[j[m]]={},K[j[m]].text=S[m],K[j[m]].align=k[m];var V=o.call(this,K,A);D=j.map(function(W){return new i(c,d,A[W],V,K[W].text,void 0,K[W].align)}),this.setTableHeaderRow(D),this.printHeaderRow(1,!1)}var Z=f.reduce(function(W,le){return W[le.name]=le.align,W},{});for(m=0;m<u.length;m+=1){"rowStart"in x&&x.rowStart instanceof Function&&x.rowStart({row:m,data:u[m]},this);var J=o.call(this,u[m],A);for(v=0;v<j.length;v+=1){var ee=u[m][j[v]];"cellStart"in x&&x.cellStart instanceof Function&&x.cellStart({row:m,col:v,data:ee},this),l.call(this,new i(c,d,A[j[v]],J,ee,m+2,Z[j[v]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var o=function(c,d){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,x=this.internal.scaleFactor;return Object.keys(c).map(function(m){var g=c[m];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,d[m]-u-u)},this).map(function(m){return this.getLineHeightFactor()*m.length*f/x+u+u},this).reduce(function(m,g){return Math.max(m,g)},0)};e.setTableHeaderRow=function(c){s.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,d){if(s.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(a=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var x=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){u=this.internal.__cell__.tableHeaderRow[m].clone(),d&&(u.y=this.internal.__cell__.margins.top||0,x.push(u)),u.lineNumber=c;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,u),this.setTextColor(g)}x.length>0&&this.setTableHeaderRow(x),this.setFont(void 0,"normal"),a=!1}})(ma.API);var sG={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},nG=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],LC=rG(nG),iG=[100,200,300,400,500,600,700,800,900],RSe=rG(iG);function S3(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),a=(function(i){return sG[i=i||"normal"]?i:"normal"})(e.style),s=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(e.weight),n=(function(i){return typeof LC[i=i||"normal"]=="number"?i:"normal"})(e.stretch);return{family:t,style:a,weight:s,stretch:n,src:e.src||[],ref:e.ref||{name:t,style:[n,a,s].join(" ")}}}function pR(e,t,a,s){var n;for(n=a;n>=0&&n<t.length;n+=s)if(e[t[n]])return e[t[n]];for(n=a;n>=0&&n<t.length;n-=s)if(e[t[n]])return e[t[n]]}var FSe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},xR={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function gR(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function vR(e){return e.trimLeft()}function ISe(e,t){for(var a=0;a<e.length;){if(e.charAt(a)===t)return[e.substring(0,a),e.substring(a+1)];a+=1}return null}function BSe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var r2,bR,yR,Ep,s2,wR,jR,NR,k3=["times"];function SR(e,t,a,s,n){var i=4,l=CR;switch(n){case ma.API.image_compression.FAST:i=1,l=kR;break;case ma.API.image_compression.MEDIUM:i=6,l=AR;break;case ma.API.image_compression.SLOW:i=9,l=_R}e=(function(c,d,u,f){for(var x,m=c.length/d,g=new Uint8Array(c.length+m),v=[$Se,kR,CR,AR,_R],b=0;b<m;b+=1){var j=b*d,S=c.subarray(j,j+d);if(f)g.set(f(S,u,x),j+b);else{for(var k=v.length,N=[],A=0;A<k;A+=1)N[A]=v[A](S,u,x);var _=zSe(N.concat());g.set(N[_],j+b)}x=S}return g})(e,t,Math.ceil(a*s/8),l);var o=AC(e,{level:i});return ma.API.__addimage__.arrayBufferToBinaryString(o)}function $Se(e){var t=Array.apply([],e);return t.unshift(0),t}function kR(e,t){var a=e.length,s=[];s[0]=1;for(var n=0;n<a;n+=1){var i=e[n-t]||0;s[n+1]=e[n]-i+256&255}return s}function CR(e,t,a){var s=e.length,n=[];n[0]=2;for(var i=0;i<s;i+=1){var l=a&&a[i]||0;n[i+1]=e[i]-l+256&255}return n}function AR(e,t,a){var s=e.length,n=[];n[0]=3;for(var i=0;i<s;i+=1){var l=e[i-t]||0,o=a&&a[i]||0;n[i+1]=e[i]+256-(l+o>>>1)&255}return n}function _R(e,t,a){var s=e.length,n=[];n[0]=4;for(var i=0;i<s;i+=1){var l=USe(e[i-t]||0,a&&a[i]||0,a&&a[i-t]||0);n[i+1]=e[i]-l+256&255}return n}function USe(e,t,a){if(e===t&&t===a)return e;var s=Math.abs(t-a),n=Math.abs(e-a),i=Math.abs(e+t-a-a);return s<=n&&s<=i?e:n<=i?t:a}function zSe(e){var t=e.map(function(a){return a.reduce(function(s,n){return s+Math.abs(n)},0)});return t.indexOf(Math.min.apply(null,t))}function C3(e,t,a){var s=t*a,n=Math.floor(s/8),i=16-(s-8*n+a),l=(1<<a)-1;return lG(e,n)>>i&l}function TR(e,t,a,s){var n=a*s,i=Math.floor(n/8),l=16-(n-8*i+s),o=(1<<s)-1,c=(t&o)<<l;(function(d,u,f){if(u+1<d.byteLength)d.setUint16(u,f,!1);else{var x=f>>8&255;d.setUint8(u,x)}})(e,i,lG(e,i)&~(o<<l)&65535|c)}function lG(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function HSe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var a=e[t++]|e[t++]<<8,s=e[t++]|e[t++]<<8,n=e[t++],i=n>>7,l=1<<1+(7&n);e[t++],e[t++];var o=null,c=null;i&&(o=t,c=l,t+=3*l);var d=!0,u=[],f=0,x=null,m=0,g=null;for(this.width=a,this.height=s;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,g=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var v=e[t++];f=e[t++]|e[t++]<<8,x=e[t++],1&v||(x=null),m=v>>2&7,t++;break;case 254:for(;;){if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var b=e[t++]|e[t++]<<8,j=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,k=e[t++]|e[t++]<<8,N=e[t++],A=N>>6&1,_=1<<1+(7&N),D=o,P=c,I=!1;N>>7&&(I=!0,D=t,P=_,t+=3*_);var B=t;for(t++;;){var O;if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}u.push({x:b,y:j,width:S,height:k,has_local_palette:I,palette_offset:D,palette_size:P,data_offset:B,data_length:t-B,transparent_index:x,interlaced:!!A,delay:f,disposal:m});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return g},this.frameInfo=function(U){if(U<0||U>=u.length)throw new Error("Frame index out of range.");return u[U]},this.decodeAndBlitFrameBGRA=function(U,E){var R=this.frameInfo(U),K=R.width*R.height,V=new Uint8Array(K);ER(e,R.data_offset,V,K);var Z=R.palette_offset,J=R.transparent_index;J===null&&(J=256);var ee=R.width,W=a-ee,le=ee,M=4*(R.y*a+R.x),X=4*((R.y+R.height)*a+R.x),z=M,Q=4*W;R.interlaced===!0&&(Q+=4*a*7);for(var ne=8,re=0,oe=V.length;re<oe;++re){var q=V[re];if(le===0&&(le=ee,(z+=Q)>=X&&(Q=4*W+4*a*(ne-1),z=M+(ee+W)*(ne<<1),ne>>=1)),q===J)z+=4;else{var ie=e[Z+3*q],ye=e[Z+3*q+1],Y=e[Z+3*q+2];E[z++]=Y,E[z++]=ye,E[z++]=ie,E[z++]=255}--le}},this.decodeAndBlitFrameRGBA=function(U,E){var R=this.frameInfo(U),K=R.width*R.height,V=new Uint8Array(K);ER(e,R.data_offset,V,K);var Z=R.palette_offset,J=R.transparent_index;J===null&&(J=256);var ee=R.width,W=a-ee,le=ee,M=4*(R.y*a+R.x),X=4*((R.y+R.height)*a+R.x),z=M,Q=4*W;R.interlaced===!0&&(Q+=4*a*7);for(var ne=8,re=0,oe=V.length;re<oe;++re){var q=V[re];if(le===0&&(le=ee,(z+=Q)>=X&&(Q=4*W+4*a*(ne-1),z=M+(ee+W)*(ne<<1),ne>>=1)),q===J)z+=4;else{var ie=e[Z+3*q],ye=e[Z+3*q+1],Y=e[Z+3*q+2];E[z++]=ie,E[z++]=ye,E[z++]=Y,E[z++]=255}--le}}}function ER(e,t,a,s){for(var n=e[t++],i=1<<n,l=i+1,o=l+1,c=n+1,d=(1<<c)-1,u=0,f=0,x=0,m=e[t++],g=new Int32Array(4096),v=null;;){for(;u<16&&m!==0;)f|=e[t++]<<u,u+=8,m===1?m=e[t++]:--m;if(u<c)break;var b=f&d;if(f>>=c,u-=c,b!==i){if(b===l)break;for(var j=b<o?b:v,S=0,k=j;k>i;)k=g[k]>>8,++S;var N=k;if(x+S+(j!==b?1:0)>s)return void ss.log("Warning, gif stream longer than expected.");a[x++]=N;var A=x+=S;for(j!==b&&(a[x++]=N),k=j;S--;)k=g[k],a[--A]=255&k,k>>=8;v!==null&&o<4096&&(g[o++]=v<<8|N,o>=d+1&&c<12&&(++c,d=d<<1|1)),v=b}else o=l+1,d=(1<<(c=n+1))-1,v=null}return x!==s&&ss.log("Warning, gif stream shorter than expected."),a}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function A3(e){var t,a,s,n,i,l=Math.floor,o=new Array(64),c=new Array(64),d=new Array(64),u=new Array(64),f=new Array(65535),x=new Array(65535),m=new Array(64),g=new Array(64),v=[],b=0,j=7,S=new Array(64),k=new Array(64),N=new Array(64),A=new Array(256),_=new Array(2048),D=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],P=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],U=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],K=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function V(M,X){for(var z=0,Q=0,ne=new Array,re=1;re<=16;re++){for(var oe=1;oe<=M[re];oe++)ne[X[Q]]=[],ne[X[Q]][0]=z,ne[X[Q]][1]=re,Q++,z++;z*=2}return ne}function Z(M){for(var X=M[0],z=M[1]-1;z>=0;)X&1<<z&&(b|=1<<j),z--,--j<0&&(b==255?(J(255),J(0)):J(b),j=7,b=0)}function J(M){v.push(M)}function ee(M){J(M>>8&255),J(255&M)}function W(M,X,z,Q,ne){for(var re,oe=ne[0],q=ne[240],ie=(function(ae,De){var Ce,at,ft,zt,st,$e,qe,ct,dt,Nt,Ct=0;for(dt=0;dt<8;++dt){Ce=ae[Ct],at=ae[Ct+1],ft=ae[Ct+2],zt=ae[Ct+3],st=ae[Ct+4],$e=ae[Ct+5],qe=ae[Ct+6];var Lt=Ce+(ct=ae[Ct+7]),Ht=Ce-ct,Vt=at+qe,Ne=at-qe,Mt=ft+$e,Ee=ft-$e,ze=zt+st,We=zt-st,xt=Lt+ze,gt=Lt-ze,sa=Vt+Mt,Zt=Vt-Mt;ae[Ct]=xt+sa,ae[Ct+4]=xt-sa;var ka=.707106781*(Zt+gt);ae[Ct+2]=gt+ka,ae[Ct+6]=gt-ka;var ut=.382683433*((xt=We+Ee)-(Zt=Ne+Ht)),ta=.5411961*xt+ut,va=1.306562965*Zt+ut,pa=.707106781*(sa=Ee+Ne),Ae=Ht+pa,na=Ht-pa;ae[Ct+5]=na+ta,ae[Ct+3]=na-ta,ae[Ct+1]=Ae+va,ae[Ct+7]=Ae-va,Ct+=8}for(Ct=0,dt=0;dt<8;++dt){Ce=ae[Ct],at=ae[Ct+8],ft=ae[Ct+16],zt=ae[Ct+24],st=ae[Ct+32],$e=ae[Ct+40],qe=ae[Ct+48];var Za=Ce+(ct=ae[Ct+56]),Ka=Ce-ct,rr=at+qe,$a=at-qe,Ua=ft+$e,pe=ft-$e,Me=zt+st,we=zt-st,Se=Za+Me,_e=Za-Me,Oe=rr+Ua,Ze=rr-Ua;ae[Ct]=Se+Oe,ae[Ct+32]=Se-Oe;var pt=.707106781*(Ze+_e);ae[Ct+16]=_e+pt,ae[Ct+48]=_e-pt;var Xe=.382683433*((Se=we+pe)-(Ze=$a+Ka)),tt=.5411961*Se+Xe,nt=1.306562965*Ze+Xe,At=.707106781*(Oe=pe+$a),Ft=Ka+At,Qt=Ka-At;ae[Ct+40]=Qt+tt,ae[Ct+24]=Qt-tt,ae[Ct+8]=Ft+nt,ae[Ct+56]=Ft-nt,Ct++}for(dt=0;dt<64;++dt)Nt=ae[dt]*De[dt],m[dt]=Nt>0?Nt+.5|0:Nt-.5|0;return m})(M,X),ye=0;ye<64;++ye)g[D[ye]]=ie[ye];var Y=g[0]-z;z=g[0],Y==0?Z(Q[0]):(Z(Q[x[re=32767+Y]]),Z(f[re]));for(var ce=63;ce>0&&g[ce]==0;)ce--;if(ce==0)return Z(oe),z;for(var he,ue=1;ue<=ce;){for(var Fe=ue;g[ue]==0&&ue<=ce;)++ue;var Ue=ue-Fe;if(Ue>=16){he=Ue>>4;for(var Te=1;Te<=he;++Te)Z(q);Ue&=15}re=32767+g[ue],Z(ne[(Ue<<4)+x[re]]),Z(f[re]),ue++}return ce!=63&&Z(oe),z}function le(M){M=Math.min(Math.max(M,1),100),i!=M&&((function(X){for(var z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Q=0;Q<64;Q++){var ne=l((z[Q]*X+50)/100);ne=Math.min(Math.max(ne,1),255),o[D[Q]]=ne}for(var re=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],oe=0;oe<64;oe++){var q=l((re[oe]*X+50)/100);q=Math.min(Math.max(q,1),255),c[D[oe]]=q}for(var ie=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ye=0,Y=0;Y<8;Y++)for(var ce=0;ce<8;ce++)d[ye]=1/(o[D[ye]]*ie[Y]*ie[ce]*8),u[ye]=1/(c[D[ye]]*ie[Y]*ie[ce]*8),ye++})(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),i=M)}this.encode=function(M,X){X&&le(X),v=new Array,b=0,j=7,ee(65496),ee(65504),ee(16),J(74),J(70),J(73),J(70),J(0),J(1),J(1),J(0),ee(1),ee(1),J(0),J(0),(function(){ee(65499),ee(132),J(0);for(var at=0;at<64;at++)J(o[at]);J(1);for(var ft=0;ft<64;ft++)J(c[ft])})(),(function(at,ft){ee(65472),ee(17),J(8),ee(ft),ee(at),J(3),J(1),J(17),J(0),J(2),J(17),J(1),J(3),J(17),J(1)})(M.width,M.height),(function(){ee(65476),ee(418),J(0);for(var at=0;at<16;at++)J(P[at+1]);for(var ft=0;ft<=11;ft++)J(I[ft]);J(16);for(var zt=0;zt<16;zt++)J(B[zt+1]);for(var st=0;st<=161;st++)J(O[st]);J(1);for(var $e=0;$e<16;$e++)J(U[$e+1]);for(var qe=0;qe<=11;qe++)J(E[qe]);J(17);for(var ct=0;ct<16;ct++)J(R[ct+1]);for(var dt=0;dt<=161;dt++)J(K[dt])})(),ee(65498),ee(12),J(3),J(1),J(0),J(2),J(17),J(3),J(17),J(0),J(63),J(0);var z=0,Q=0,ne=0;b=0,j=7,this.encode.displayName="_encode_";for(var re,oe,q,ie,ye,Y,ce,he,ue,Fe=M.data,Ue=M.width,Te=M.height,ae=4*Ue,De=0;De<Te;){for(re=0;re<ae;){for(ye=ae*De+re,ce=-1,he=0,ue=0;ue<64;ue++)Y=ye+(he=ue>>3)*ae+(ce=4*(7&ue)),De+he>=Te&&(Y-=ae*(De+1+he-Te)),re+ce>=ae&&(Y-=re+ce-ae+4),oe=Fe[Y++],q=Fe[Y++],ie=Fe[Y++],S[ue]=(_[oe]+_[q+256|0]+_[ie+512|0]>>16)-128,k[ue]=(_[oe+768|0]+_[q+1024|0]+_[ie+1280|0]>>16)-128,N[ue]=(_[oe+1280|0]+_[q+1536|0]+_[ie+1792|0]>>16)-128;z=W(S,d,z,t,s),Q=W(k,u,Q,a,n),ne=W(N,u,ne,a,n),re+=32}De+=8}if(j>=0){var Ce=[];Ce[1]=j+1,Ce[0]=(1<<j+1)-1,Z(Ce)}return ee(65497),new Uint8Array(v)},e=e||50,(function(){for(var M=String.fromCharCode,X=0;X<256;X++)A[X]=M(X)})(),t=V(P,I),a=V(U,E),s=V(B,O),n=V(R,K),(function(){for(var M=1,X=2,z=1;z<=15;z++){for(var Q=M;Q<X;Q++)x[32767+Q]=z,f[32767+Q]=[],f[32767+Q][1]=z,f[32767+Q][0]=Q;for(var ne=-(X-1);ne<=-M;ne++)x[32767+ne]=z,f[32767+ne]=[],f[32767+ne][1]=z,f[32767+ne][0]=X-1+ne;M<<=1,X<<=1}})(),(function(){for(var M=0;M<256;M++)_[M]=19595*M,_[M+256|0]=38470*M,_[M+512|0]=7471*M+32768,_[M+768|0]=-11059*M,_[M+1024|0]=-21709*M,_[M+1280|0]=32768*M+8421375,_[M+1536|0]=-27439*M,_[M+1792|0]=-5329*M})(),le(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ed(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function DR(e){function t(I){if(!I)throw Error("assert :P")}function a(I,B,O){for(var U=0;4>U;U++)if(I[B+U]!=O.charCodeAt(U))return!0;return!1}function s(I,B,O,U,E){for(var R=0;R<E;R++)I[B+R]=O[U+R]}function n(I,B,O,U){for(var E=0;E<U;E++)I[B+E]=O}function i(I){return new Int32Array(I)}function l(I,B){for(var O=[],U=0;U<I;U++)O.push(new B);return O}function o(I,B){var O=[];return(function U(E,R,K){for(var V=K[R],Z=0;Z<V&&(E.push(K.length>R+1?[]:new B),!(K.length<R+1));Z++)U(E[Z],R+1,K)})(O,0,I),O}var c=function(){var I=this;function B(T,F){for(var te=1<<F-1>>>0;T&te;)te>>>=1;return te?(T&te-1)+te:T}function O(T,F,te,se,me){t(!(se%te));do T[F+(se-=te)]=me;while(0<se)}function U(T,F,te,se,me){if(t(2328>=me),512>=me)var xe=i(512);else if((xe=i(me))==null)return 0;return(function(ge,be,je,Le,Ve,lt){var Pe,Ye,et=be,yt=1<<je,it=i(16),St=i(16);for(t(Ve!=0),t(Le!=null),t(ge!=null),t(0<je),Ye=0;Ye<Ve;++Ye){if(15<Le[Ye])return 0;++it[Le[Ye]]}if(it[0]==Ve)return 0;for(St[1]=0,Pe=1;15>Pe;++Pe){if(it[Pe]>1<<Pe)return 0;St[Pe+1]=St[Pe]+it[Pe]}for(Ye=0;Ye<Ve;++Ye)Pe=Le[Ye],0<Le[Ye]&&(lt[St[Pe]++]=Ye);if(St[15]==1)return(Le=new E).g=0,Le.value=lt[0],O(ge,et,1,yt,Le),yt;var jt,$t=-1,Ot=yt-1,ga=0,ra=1,Fa=1,oa=1<<je;for(Ye=0,Pe=1,Ve=2;Pe<=je;++Pe,Ve<<=1){if(ra+=Fa<<=1,0>(Fa-=it[Pe]))return 0;for(;0<it[Pe];--it[Pe])(Le=new E).g=Pe,Le.value=lt[Ye++],O(ge,et+ga,Ve,oa,Le),ga=B(ga,Pe)}for(Pe=je+1,Ve=2;15>=Pe;++Pe,Ve<<=1){if(ra+=Fa<<=1,0>(Fa-=it[Pe]))return 0;for(;0<it[Pe];--it[Pe]){if(Le=new E,(ga&Ot)!=$t){for(et+=oa,jt=1<<($t=Pe)-je;15>$t&&!(0>=(jt-=it[$t]));)++$t,jt<<=1;yt+=oa=1<<(jt=$t-je),ge[be+($t=ga&Ot)].g=jt+je,ge[be+$t].value=et-be-$t}Le.g=Pe-je,Le.value=lt[Ye++],O(ge,et+(ga>>je),Ve,oa,Le),ga=B(ga,Pe)}}return ra!=2*St[15]-1?0:yt})(T,F,te,se,me,xe)}function E(){this.value=this.g=0}function R(){this.value=this.g=0}function K(){this.G=l(5,E),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(Oc,R)}function V(T,F,te,se){t(T!=null),t(F!=null),t(2147483648>se),T.Ca=254,T.I=0,T.b=-8,T.Ka=0,T.oa=F,T.pa=te,T.Jd=F,T.Yc=te+se,T.Zc=4<=se?te+se-4+1:te,oe(T)}function Z(T,F){for(var te=0;0<F--;)te|=ie(T,128)<<F;return te}function J(T,F){var te=Z(T,F);return q(T)?-te:te}function ee(T,F,te,se){var me,xe=0;for(t(T!=null),t(F!=null),t(4294967288>se),T.Sb=se,T.Ra=0,T.u=0,T.h=0,4<se&&(se=4),me=0;me<se;++me)xe+=F[te+me]<<8*me;T.Ra=xe,T.bb=se,T.oa=F,T.pa=te}function W(T){for(;8<=T.u&&T.bb<T.Sb;)T.Ra>>>=8,T.Ra+=T.oa[T.pa+T.bb]<<Rc-8>>>0,++T.bb,T.u-=8;Q(T)&&(T.h=1,T.u=0)}function le(T,F){if(t(0<=F),!T.h&&F<=Gi){var te=z(T)&Ti[F];return T.u+=F,W(T),te}return T.h=1,T.u=0}function M(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function X(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function z(T){return T.Ra>>>(T.u&Rc-1)>>>0}function Q(T){return t(T.bb<=T.Sb),T.h||T.bb==T.Sb&&T.u>Rc}function ne(T,F){T.u=F,T.h=Q(T)}function re(T){T.u>=Ho&&(t(T.u>=Ho),W(T))}function oe(T){t(T!=null&&T.oa!=null),T.pa<T.Zc?(T.I=(T.oa[T.pa++]|T.I<<8)>>>0,T.b+=8):(t(T!=null&&T.oa!=null),T.pa<T.Yc?(T.b+=8,T.I=T.oa[T.pa++]|T.I<<8):T.Ka?T.b=0:(T.I<<=8,T.b+=8,T.Ka=1))}function q(T){return Z(T,1)}function ie(T,F){var te=T.Ca;0>T.b&&oe(T);var se=T.b,me=te*F>>>8,xe=(T.I>>>se>me)+0;for(xe?(te-=me,T.I-=me+1<<se>>>0):te=me+1,se=te,me=0;256<=se;)me+=8,se>>=8;return se=7^me+Dd[se],T.b-=se,T.Ca=(te<<se)-1,xe}function ye(T,F,te){T[F+0]=te>>24&255,T[F+1]=te>>16&255,T[F+2]=te>>8&255,T[F+3]=255&te}function Y(T,F){return T[F+0]|T[F+1]<<8}function ce(T,F){return Y(T,F)|T[F+2]<<16}function he(T,F){return Y(T,F)|Y(T,F+2)<<16}function ue(T,F){var te=1<<F;return t(T!=null),t(0<F),T.X=i(te),T.X==null?0:(T.Mb=32-F,T.Xa=F,1)}function Fe(T,F){t(T!=null),t(F!=null),t(T.Xa==F.Xa),s(F.X,0,T.X,0,1<<F.Xa)}function Ue(){this.X=[],this.Xa=this.Mb=0}function Te(T,F,te,se){t(te!=null),t(se!=null);var me=te[0],xe=se[0];return me==0&&(me=(T*xe+F/2)/F),xe==0&&(xe=(F*me+T/2)/T),0>=me||0>=xe?0:(te[0]=me,se[0]=xe,1)}function ae(T,F){return T+(1<<F)-1>>>F}function De(T,F){return((4278255360&T)+(4278255360&F)>>>0&4278255360)+((16711935&T)+(16711935&F)>>>0&16711935)>>>0}function Ce(T,F){I[F]=function(te,se,me,xe,ge,be,je){var Le;for(Le=0;Le<ge;++Le){var Ve=I[T](be[je+Le-1],me,xe+Le);be[je+Le]=De(te[se+Le],Ve)}}}function at(){this.ud=this.hd=this.jd=0}function ft(T,F){return((4278124286&(T^F))>>>1)+(T&F)>>>0}function zt(T){return 0<=T&&256>T?T:0>T?0:255<T?255:void 0}function st(T,F){return zt(T+(T-F+.5>>1))}function $e(T,F,te){return Math.abs(F-te)-Math.abs(T-te)}function qe(T,F,te,se,me,xe,ge){for(se=xe[ge-1],te=0;te<me;++te)xe[ge+te]=se=De(T[F+te],se)}function ct(T,F,te,se,me){var xe;for(xe=0;xe<te;++xe){var ge=T[F+xe],be=ge>>8&255,je=16711935&(je=(je=16711935&ge)+((be<<16)+be));se[me+xe]=(4278255360&ge)+je>>>0}}function dt(T,F){F.jd=255&T,F.hd=T>>8&255,F.ud=T>>16&255}function Nt(T,F,te,se,me,xe){var ge;for(ge=0;ge<se;++ge){var be=F[te+ge],je=be>>>8,Le=be,Ve=255&(Ve=(Ve=be>>>16)+((T.jd<<24>>24)*(je<<24>>24)>>>5));Le=255&(Le=(Le+=(T.hd<<24>>24)*(je<<24>>24)>>>5)+((T.ud<<24>>24)*(Ve<<24>>24)>>>5)),me[xe+ge]=(4278255360&be)+(Ve<<16)+Le}}function Ct(T,F,te,se,me){I[F]=function(xe,ge,be,je,Le,Ve,lt,Pe,Ye){for(je=lt;je<Pe;++je)for(lt=0;lt<Ye;++lt)Le[Ve++]=me(be[se(xe[ge++])])},I[T]=function(xe,ge,be,je,Le,Ve,lt){var Pe=8>>xe.b,Ye=xe.Ea,et=xe.K[0],yt=xe.w;if(8>Pe)for(xe=(1<<xe.b)-1,yt=(1<<Pe)-1;ge<be;++ge){var it,St=0;for(it=0;it<Ye;++it)it&xe||(St=se(je[Le++])),Ve[lt++]=me(et[St&yt]),St>>=Pe}else I["VP8LMapColor"+te](je,Le,et,yt,Ve,lt,ge,be,Ye)}}function Lt(T,F,te,se,me){for(te=F+te;F<te;){var xe=T[F++];se[me++]=xe>>16&255,se[me++]=xe>>8&255,se[me++]=255&xe}}function Ht(T,F,te,se,me){for(te=F+te;F<te;){var xe=T[F++];se[me++]=xe>>16&255,se[me++]=xe>>8&255,se[me++]=255&xe,se[me++]=xe>>24&255}}function Vt(T,F,te,se,me){for(te=F+te;F<te;){var xe=(ge=T[F++])>>16&240|ge>>12&15,ge=240&ge|ge>>28&15;se[me++]=xe,se[me++]=ge}}function Ne(T,F,te,se,me){for(te=F+te;F<te;){var xe=(ge=T[F++])>>16&248|ge>>13&7,ge=ge>>5&224|ge>>3&31;se[me++]=xe,se[me++]=ge}}function Mt(T,F,te,se,me){for(te=F+te;F<te;){var xe=T[F++];se[me++]=255&xe,se[me++]=xe>>8&255,se[me++]=xe>>16&255}}function Ee(T,F,te,se,me,xe){if(xe==0)for(te=F+te;F<te;)ye(se,((xe=T[F++])[0]>>24|xe[1]>>8&65280|xe[2]<<8&16711680|xe[3]<<24)>>>0),me+=32;else s(se,me,T,F,te)}function ze(T,F){I[F][0]=I[T+"0"],I[F][1]=I[T+"1"],I[F][2]=I[T+"2"],I[F][3]=I[T+"3"],I[F][4]=I[T+"4"],I[F][5]=I[T+"5"],I[F][6]=I[T+"6"],I[F][7]=I[T+"7"],I[F][8]=I[T+"8"],I[F][9]=I[T+"9"],I[F][10]=I[T+"10"],I[F][11]=I[T+"11"],I[F][12]=I[T+"12"],I[F][13]=I[T+"13"],I[F][14]=I[T+"0"],I[F][15]=I[T+"0"]}function We(T){return T==n0||T==Pd||T==$c||T==$h}function xt(){this.eb=[],this.size=this.A=this.fb=0}function gt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function sa(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new xt,this.f.kb=new gt,this.sd=null}function Zt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ka(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ut(T){return alert("todo:WebPSamplerProcessPlane"),T.T}function ta(T,F){var te=T.T,se=F.ba.f.RGBA,me=se.eb,xe=se.fb+T.ka*se.A,ge=Mn[F.ba.S],be=T.y,je=T.O,Le=T.f,Ve=T.N,lt=T.ea,Pe=T.W,Ye=F.cc,et=F.dc,yt=F.Mc,it=F.Nc,St=T.ka,jt=T.ka+T.T,$t=T.U,Ot=$t+1>>1;for(St==0?ge(be,je,null,null,Le,Ve,lt,Pe,Le,Ve,lt,Pe,me,xe,null,null,$t):(ge(F.ec,F.fc,be,je,Ye,et,yt,it,Le,Ve,lt,Pe,me,xe-se.A,me,xe,$t),++te);St+2<jt;St+=2)Ye=Le,et=Ve,yt=lt,it=Pe,Ve+=T.Rc,Pe+=T.Rc,xe+=2*se.A,ge(be,(je+=2*T.fa)-T.fa,be,je,Ye,et,yt,it,Le,Ve,lt,Pe,me,xe-se.A,me,xe,$t);return je+=T.fa,T.j+jt<T.o?(s(F.ec,F.fc,be,je,$t),s(F.cc,F.dc,Le,Ve,Ot),s(F.Mc,F.Nc,lt,Pe,Ot),te--):1&jt||ge(be,je,null,null,Le,Ve,lt,Pe,Le,Ve,lt,Pe,me,xe+se.A,null,null,$t),te}function va(T,F,te){var se=T.F,me=[T.J];if(se!=null){var xe=T.U,ge=F.ba.S,be=ge==wu||ge==$c;F=F.ba.f.RGBA;var je=[0],Le=T.ka;je[0]=T.T,T.Kb&&(Le==0?--je[0]:(--Le,me[0]-=T.width),T.j+T.ka+T.T==T.o&&(je[0]=T.o-T.j-Le));var Ve=F.eb;Le=F.fb+Le*F.A,T=jl(se,me[0],T.width,xe,je,Ve,Le+(be?0:3),F.A),t(te==je),T&&We(ge)&&Ih(Ve,Le,be,xe,je,F.A)}return 0}function pa(T){var F=T.ma,te=F.ba.S,se=11>te,me=te==Bh||te==s0||te==wu||te==Bc||te==12||We(te);if(F.memory=null,F.Ib=null,F.Jb=null,F.Nd=null,!Ed(F.Oa,T,me?11:12))return 0;if(me&&We(te)&&Wm(),T.da)alert("todo:use_scaling");else{if(se){if(F.Ib=ut,T.Kb){if(te=T.U+1>>1,F.memory=i(T.U+2*te),F.memory==null)return 0;F.ec=F.memory,F.fc=0,F.cc=F.ec,F.dc=F.fc+T.U,F.Mc=F.cc,F.Nc=F.dc+te,F.Ib=ta,Wm()}}else alert("todo:EmitYUV");me&&(F.Jb=va,se&&Bl())}if(se&&!jb){for(T=0;256>T;++T)GN[T]=89858*(T-128)+un>>Xo,o0[T]=-22014*(T-128)+un,Vx[T]=-45773*(T-128),hn[T]=113618*(T-128)+un>>Xo;for(T=Rd;T<rp;++T)F=76283*(T-16)+un>>Xo,c0[T-Rd]=ys(F,255),Wx[T-Rd]=ys(F+8>>4,15);jb=1}return 1}function Ae(T){var F=T.ma,te=T.U,se=T.T;return t(!(1&T.ka)),0>=te||0>=se?0:(te=F.Ib(T,F),F.Jb!=null&&F.Jb(T,F,te),F.Dc+=te,1)}function na(T){T.ma.memory=null}function Za(T,F,te,se){return le(T,8)!=47?0:(F[0]=le(T,14)+1,te[0]=le(T,14)+1,se[0]=le(T,1),le(T,3)!=0?0:!T.h)}function Ka(T,F){if(4>T)return T+1;var te=T-2>>1;return(2+(1&T)<<te)+le(F,te)+1}function rr(T,F){return 120<F?F-120:1<=(te=((te=zc[F-1])>>4)*T+(8-(15&te)))?te:1;var te}function $a(T,F,te){var se=z(te),me=T[F+=255&se].g-8;return 0<me&&(ne(te,te.u+8),se=z(te),F+=T[F].value,F+=se&(1<<me)-1),ne(te,te.u+T[F].g),T[F].value}function Ua(T,F,te){return te.g+=T.g,te.value+=T.value<<F>>>0,t(8>=te.g),T.g}function pe(T,F,te){var se=T.xc;return t((F=se==0?0:T.vc[T.md*(te>>se)+(F>>se)])<T.Wb),T.Ya[F]}function Me(T,F,te,se){var me=T.ab,xe=T.c*F,ge=T.C;F=ge+F;var be=te,je=se;for(se=T.Ta,te=T.Ua;0<me--;){var Le=T.gc[me],Ve=ge,lt=F,Pe=be,Ye=je,et=(je=se,be=te,Le.Ea);switch(t(Ve<lt),t(lt<=Le.nc),Le.hc){case 2:Fs(Pe,Ye,(lt-Ve)*et,je,be);break;case 0:var yt=Ve,it=lt,St=je,jt=be,$t=(oa=Le).Ea;yt==0&&(t0(Pe,Ye,null,null,1,St,jt),qe(Pe,Ye+1,0,0,$t-1,St,jt+1),Ye+=$t,jt+=$t,++yt);for(var Ot=1<<oa.b,ga=Ot-1,ra=ae($t,oa.b),Fa=oa.K,oa=oa.w+(yt>>oa.b)*ra;yt<it;){var ir=Fa,Ks=oa,Pa=1;for(Mh(Pe,Ye,St,jt-$t,1,St,jt);Pa<$t;){var ca=(Pa&~ga)+Ot;ca>$t&&(ca=$t),(0,Lh[ir[Ks++]>>8&15])(Pe,Ye+ +Pa,St,jt+Pa-$t,ca-Pa,St,jt+Pa),Pa=ca}Ye+=$t,jt+=$t,++yt&ga||(oa+=ra)}lt!=Le.nc&&s(je,be-et,je,be+(lt-Ve-1)*et,et);break;case 1:for(et=Pe,it=Ye,$t=(Pe=Le.Ea)-(jt=Pe&~(St=(Ye=1<<Le.b)-1)),yt=ae(Pe,Le.b),Ot=Le.K,Le=Le.w+(Ve>>Le.b)*yt;Ve<lt;){for(ga=Ot,ra=Le,Fa=new at,oa=it+jt,ir=it+Pe;it<oa;)dt(ga[ra++],Fa),Oh(Fa,et,it,Ye,je,be),it+=Ye,be+=Ye;it<ir&&(dt(ga[ra++],Fa),Oh(Fa,et,it,$t,je,be),it+=$t,be+=$t),++Ve&St||(Le+=yt)}break;case 3:if(Pe==je&&Ye==be&&0<Le.b){for(it=je,Pe=et=be+(lt-Ve)*et-(jt=(lt-Ve)*ae(Le.Ea,Le.b)),Ye=je,St=be,yt=[],jt=($t=jt)-1;0<=jt;--jt)yt[jt]=Ye[St+jt];for(jt=$t-1;0<=jt;--jt)it[Pe+jt]=yt[jt];qm(Le,Ve,lt,je,et,je,be)}else qm(Le,Ve,lt,Pe,Ye,je,be)}be=se,je=te}je!=te&&s(se,te,be,je,xe)}function we(T,F){var te=T.V,se=T.Ba+T.c*T.C,me=F-T.C;if(t(F<=T.l.o),t(16>=me),0<me){var xe=T.l,ge=T.Ta,be=T.Ua,je=xe.width;if(Me(T,me,te,se),me=be=[be],t((te=T.C)<(se=F)),t(xe.v<xe.va),se>xe.o&&(se=xe.o),te<xe.j){var Le=xe.j-te;te=xe.j,me[0]+=Le*je}if(te>=se?te=0:(me[0]+=4*xe.v,xe.ka=te-xe.j,xe.U=xe.va-xe.v,xe.T=se-te,te=1),te){if(be=be[0],11>(te=T.ca).S){var Ve=te.f.RGBA,lt=(se=te.S,me=xe.U,xe=xe.T,Le=Ve.eb,Ve.A),Pe=xe;for(Ve=Ve.fb+T.Ma*Ve.A;0<Pe--;){var Ye=ge,et=be,yt=me,it=Le,St=Ve;switch(se){case fi:Rh(Ye,et,yt,it,St);break;case Bh:Vo(Ye,et,yt,it,St);break;case n0:Vo(Ye,et,yt,it,St),Ih(it,St,0,yt,1,0);break;case qo:Fc(Ye,et,yt,it,St);break;case s0:Ee(Ye,et,yt,it,St,1);break;case Pd:Ee(Ye,et,yt,it,St,1),Ih(it,St,0,yt,1,0);break;case wu:Ee(Ye,et,yt,it,St,0);break;case $c:Ee(Ye,et,yt,it,St,0),Ih(it,St,1,yt,1,0);break;case Bc:Md(Ye,et,yt,it,St);break;case $h:Md(Ye,et,yt,it,St),wl(it,St,yt,1,0);break;case Qm:bl(Ye,et,yt,it,St);break;default:t(0)}be+=je,Ve+=lt}T.Ma+=xe}else alert("todo:EmitRescaledRowsYUVA");t(T.Ma<=te.height)}}T.C=F,t(T.C<=T.i)}function Se(T){var F;if(0<T.ua)return 0;for(F=0;F<T.Wb;++F){var te=T.Ya[F].G,se=T.Ya[F].H;if(0<te[1][se[1]+0].g||0<te[2][se[2]+0].g||0<te[3][se[3]+0].g)return 0}return 1}function _e(T,F,te,se,me,xe){if(T.Z!=0){var ge=T.qd,be=T.rd;for(t(Ko[T.Z]!=null);F<te;++F)Ko[T.Z](ge,be,se,me,se,me,xe),ge=se,be=me,me+=xe;T.qd=ge,T.rd=be}}function Oe(T,F){var te=T.l.ma,se=te.Z==0||te.Z==1?T.l.j:T.C;if(se=T.C<se?se:T.C,t(F<=T.l.o),F>se){var me=T.l.width,xe=te.ca,ge=te.tb+me*se,be=T.V,je=T.Ba+T.c*se,Le=T.gc;t(T.ab==1),t(Le[0].hc==3),Ki(Le[0],se,F,be,je,xe,ge),_e(te,se,F,xe,ge,me)}T.C=T.Ma=F}function Ze(T,F,te,se,me,xe,ge){var be=T.$/se,je=T.$%se,Le=T.m,Ve=T.s,lt=te+T.$,Pe=lt;me=te+se*me;var Ye=te+se*xe,et=280+Ve.ua,yt=T.Pb?be:16777216,it=0<Ve.ua?Ve.Wa:null,St=Ve.wc,jt=lt<Ye?pe(Ve,je,be):null;t(T.C<xe),t(Ye<=me);var $t=!1;e:for(;;){for(;$t||lt<Ye;){var Ot=0;if(be>=yt){var ga=lt-te;t((yt=T).Pb),yt.wd=yt.m,yt.xd=ga,0<yt.s.ua&&Fe(yt.s.Wa,yt.s.vb),yt=be+bb}if(je&St||(jt=pe(Ve,je,be)),t(jt!=null),jt.Qb&&(F[lt]=jt.qb,$t=!0),!$t)if(re(Le),jt.jc){Ot=Le,ga=F;var ra=lt,Fa=jt.pd[z(Ot)&Oc-1];t(jt.jc),256>Fa.g?(ne(Ot,Ot.u+Fa.g),ga[ra]=Fa.value,Ot=0):(ne(Ot,Ot.u+Fa.g-256),t(256<=Fa.value),Ot=Fa.value),Ot==0&&($t=!0)}else Ot=$a(jt.G[0],jt.H[0],Le);if(Le.h)break;if($t||256>Ot){if(!$t)if(jt.nd)F[lt]=(jt.qb|Ot<<8)>>>0;else{if(re(Le),$t=$a(jt.G[1],jt.H[1],Le),re(Le),ga=$a(jt.G[2],jt.H[2],Le),ra=$a(jt.G[3],jt.H[3],Le),Le.h)break;F[lt]=(ra<<24|$t<<16|Ot<<8|ga)>>>0}if($t=!1,++lt,++je>=se&&(je=0,++be,ge!=null&&be<=xe&&!(be%16)&&ge(T,be),it!=null))for(;Pe<lt;)Ot=F[Pe++],it.X[(506832829*Ot&4294967295)>>>it.Mb]=Ot}else if(280>Ot){if(Ot=Ka(Ot-256,Le),ga=$a(jt.G[4],jt.H[4],Le),re(Le),ga=rr(se,ga=Ka(ga,Le)),Le.h)break;if(lt-te<ga||me-lt<Ot)break e;for(ra=0;ra<Ot;++ra)F[lt+ra]=F[lt+ra-ga];for(lt+=Ot,je+=Ot;je>=se;)je-=se,++be,ge!=null&&be<=xe&&!(be%16)&&ge(T,be);if(t(lt<=me),je&St&&(jt=pe(Ve,je,be)),it!=null)for(;Pe<lt;)Ot=F[Pe++],it.X[(506832829*Ot&4294967295)>>>it.Mb]=Ot}else{if(!(Ot<et))break e;for($t=Ot-280,t(it!=null);Pe<lt;)Ot=F[Pe++],it.X[(506832829*Ot&4294967295)>>>it.Mb]=Ot;Ot=lt,t(!($t>>>(ga=it).Xa)),F[Ot]=ga.X[$t],$t=!0}$t||t(Le.h==Q(Le))}if(T.Pb&&Le.h&&lt<me)t(T.m.h),T.a=5,T.m=T.wd,T.$=T.xd,0<T.s.ua&&Fe(T.s.vb,T.s.Wa);else{if(Le.h)break e;ge?.(T,be>xe?xe:be),T.a=0,T.$=lt-te}return 1}return T.a=3,0}function pt(T){t(T!=null),T.vc=null,T.yc=null,T.Ya=null;var F=T.Wa;F!=null&&(F.X=null),T.vb=null,t(T!=null)}function Xe(){var T=new ba;return T==null?null:(T.a=0,T.xb=Uh,ze("Predictor","VP8LPredictors"),ze("Predictor","VP8LPredictors_C"),ze("PredictorAdd","VP8LPredictorsAdd"),ze("PredictorAdd","VP8LPredictorsAdd_C"),Fs=ct,Oh=Nt,Rh=Lt,Vo=Ht,Md=Vt,bl=Ne,Fc=Mt,I.VP8LMapColor32b=ws,I.VP8LMapColor8b=Ph,T)}function tt(T,F,te,se,me){var xe=1,ge=[T],be=[F],je=se.m,Le=se.s,Ve=null,lt=0;e:for(;;){if(te)for(;xe&&le(je,1);){var Pe=ge,Ye=be,et=se,yt=1,it=et.m,St=et.gc[et.ab],jt=le(it,2);if(et.Oc&1<<jt)xe=0;else{switch(et.Oc|=1<<jt,St.hc=jt,St.Ea=Pe[0],St.nc=Ye[0],St.K=[null],++et.ab,t(4>=et.ab),jt){case 0:case 1:St.b=le(it,3)+2,yt=tt(ae(St.Ea,St.b),ae(St.nc,St.b),0,et,St.K),St.K=St.K[0];break;case 3:var $t,Ot=le(it,8)+1,ga=16<Ot?0:4<Ot?1:2<Ot?2:3;if(Pe[0]=ae(St.Ea,ga),St.b=ga,$t=yt=tt(Ot,1,0,et,St.K)){var ra,Fa=Ot,oa=St,ir=1<<(8>>oa.b),Ks=i(ir);if(Ks==null)$t=0;else{var Pa=oa.K[0],ca=oa.w;for(Ks[0]=oa.K[0][0],ra=1;ra<1*Fa;++ra)Ks[ra]=De(Pa[ca+ra],Ks[ra-1]);for(;ra<4*ir;++ra)Ks[ra]=0;oa.K[0]=null,oa.K[0]=Ks,$t=1}}yt=$t;break;case 2:break;default:t(0)}xe=yt}}if(ge=ge[0],be=be[0],xe&&le(je,1)&&!(xe=1<=(lt=le(je,4))&&11>=lt)){se.a=3;break e}var Xt;if(Xt=xe)t:{var ds,Ia,Ya,ua=se,Ha=ge,pr=be,as=lt,Is=te,Bs=ua.m,Ss=ua.s,sr=[null],xr=1,ks=0,Aa=Nu[as];a:for(;;){if(Is&&le(Bs,1)){var fn=le(Bs,3)+2,kl=ae(Ha,fn),Cs=ae(pr,fn),Di=kl*Cs;if(!tt(kl,Cs,0,ua,sr))break a;for(sr=sr[0],Ss.xc=fn,ds=0;ds<Di;++ds){var Fr=sr[ds]>>8&65535;sr[ds]=Fr,Fr>=xr&&(xr=Fr+1)}}if(Bs.h)break a;for(Ia=0;5>Ia;++Ia){var $s=Nl[Ia];!Ia&&0<as&&($s+=1<<as),ks<$s&&(ks=$s)}var Mi=l(xr*Aa,E),qn=xr,Gr=l(qn,K);if(Gr==null)var wr=null;else t(65536>=qn),wr=Gr;var mi=i(ks);if(wr==null||mi==null||Mi==null){ua.a=1;break a}var Gn=Mi;for(ds=Ya=0;ds<xr;++ds){var Lr=wr[ds],Pi=Lr.G,mn=Lr.H,Jo=0,po=1,pn=0;for(Ia=0;5>Ia;++Ia){$s=Nl[Ia],Pi[Ia]=Gn,mn[Ia]=Ya,!Ia&&0<as&&($s+=1<<as);s:{var d0,sp=$s,u0=ua,Hh=mi,kb=Gn,Cb=Ya,h0=0,qc=u0.m,YN=le(qc,1);if(n(Hh,0,0,sp),YN){var Ab=le(qc,1)+1,_b=le(qc,1),qx=le(qc,_b==0?1:8);Hh[qx]=1,Ab==2&&(Hh[qx=le(qc,8)]=1);var Vh=1}else{var Gx=i(19),Kx=le(qc,4)+4;if(19<Kx){u0.a=3;var f0=0;break s}for(d0=0;d0<Kx;++d0)Gx[Uc[d0]]=le(qc,3);var np=void 0,Wh=void 0,Tb=u0,Eb=Gx,Gc=sp,m0=Hh,ip=0,xo=Tb.m,qh=8,Yx=l(128,E);r:for(;U(Yx,0,7,Eb,19);){if(le(xo,1)){var Db=2+2*le(xo,3);if((np=2+le(xo,Db))>Gc)break r}else np=Gc;for(Wh=0;Wh<Gc&&np--;){re(xo);var Xx=Yx[0+(127&z(xo))];ne(xo,xo.u+Xx.g);var Cu=Xx.value;if(16>Cu)m0[Wh++]=Cu,Cu!=0&&(qh=Cu);else{var Mb=Cu==16,Jx=Cu-16,Qx=Vl[Jx],Zx=le(xo,Zm[Jx])+Qx;if(Wh+Zx>Gc)break r;for(var Pb=Mb?qh:0;0<Zx--;)m0[Wh++]=Pb}}ip=1;break r}ip||(Tb.a=3),Vh=ip}(Vh=Vh&&!qc.h)&&(h0=U(kb,Cb,8,Hh,sp)),Vh&&h0!=0?f0=h0:(u0.a=3,f0=0)}if(f0==0)break a;if(po&&ju[Ia]==1&&(po=Gn[Ya].g==0),Jo+=Gn[Ya].g,Ya+=f0,3>=Ia){var Au,lp=mi[0];for(Au=1;Au<$s;++Au)mi[Au]>lp&&(lp=mi[Au]);pn+=lp}}if(Lr.nd=po,Lr.Qb=0,po&&(Lr.qb=(Pi[3][mn[3]+0].value<<24|Pi[1][mn[1]+0].value<<16|Pi[2][mn[2]+0].value)>>>0,Jo==0&&256>Pi[0][mn[0]+0].value&&(Lr.Qb=1,Lr.qb+=Pi[0][mn[0]+0].value<<8)),Lr.jc=!Lr.Qb&&6>pn,Lr.jc){var p0,Kc=Lr;for(p0=0;p0<Oc;++p0){var Qo=p0,Yc=Kc.pd[Qo],x0=Kc.G[0][Kc.H[0]+Qo];256<=x0.value?(Yc.g=x0.g+256,Yc.value=x0.value):(Yc.g=0,Yc.value=0,Qo>>=Ua(x0,8,Yc),Qo>>=Ua(Kc.G[1][Kc.H[1]+Qo],16,Yc),Qo>>=Ua(Kc.G[2][Kc.H[2]+Qo],0,Yc),Ua(Kc.G[3][Kc.H[3]+Qo],24,Yc))}}}Ss.vc=sr,Ss.Wb=xr,Ss.Ya=wr,Ss.yc=Mi,Xt=1;break t}Xt=0}if(!(xe=Xt)){se.a=3;break e}if(0<lt){if(Le.ua=1<<lt,!ue(Le.Wa,lt)){se.a=1,xe=0;break e}}else Le.ua=0;var g0=se,eg=ge,Lb=be,tg=g0.s,ag=tg.xc;if(g0.c=eg,g0.i=Lb,tg.md=ae(eg,ag),tg.wc=ag==0?-1:(1<<ag)-1,te){se.xb=wb;break e}if((Ve=i(ge*be))==null){se.a=1,xe=0;break e}xe=(xe=Ze(se,Ve,0,ge,be,be,null))&&!je.h;break e}return xe?(me!=null?me[0]=Ve:(t(Ve==null),t(te)),se.$=0,te||pt(Le)):pt(Le),xe}function nt(T,F){var te=T.c*T.i,se=te+F+16*F;return t(T.c<=F),T.V=i(se),T.V==null?(T.Ta=null,T.Ua=0,T.a=1,0):(T.Ta=T.V,T.Ua=T.Ba+te+F,1)}function At(T,F){var te=T.C,se=F-te,me=T.V,xe=T.Ba+T.c*te;for(t(F<=T.l.o);0<se;){var ge=16<se?16:se,be=T.l.ma,je=T.l.width,Le=je*ge,Ve=be.ca,lt=be.tb+je*te,Pe=T.Ta,Ye=T.Ua;Me(T,ge,me,xe),vu(Pe,Ye,Ve,lt,Le),_e(be,te,te+ge,Ve,lt,je),se-=ge,me+=ge*T.c,te+=ge}t(te==F),T.C=T.Ma=F}function Ft(){this.ub=this.yd=this.td=this.Rb=0}function Qt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ke(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Ge(){this.Yb=(function(){var T=[];return(function F(te,se,me){for(var xe=me[se],ge=0;ge<xe&&(te.push(me.length>se+1?[]:0),!(me.length<se+1));ge++)F(te[ge],se+1,me)})(T,0,[3,11]),T})()}function qt(){this.jb=i(3),this.Wc=o([4,8],Ge),this.Xc=o([4,17],Ge)}function xa(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function wa(){this.ld=this.La=this.dd=this.tc=0}function Wa(){this.Na=this.la=0}function Ws(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Rr(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Un(){this.uc=this.M=this.Nb=0,this.wa=Array(new wa),this.Y=0,this.ya=Array(new Rr),this.aa=0,this.l=new Tn}function oi(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Fl(){this.cb=this.a=0,this.sc="",this.m=new M,this.Od=new Ft,this.Kc=new Qt,this.ed=new xa,this.Qa=new ke,this.Ic=this.$c=this.Aa=0,this.D=new Un,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,M),this.ia=0,this.pb=l(4,Ws),this.Pa=new qt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new oi),this.Hd=0,this.rb=Array(new Wa),this.sb=0,this.wa=Array(new wa),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Rr),this.L=this.aa=0,this.gd=o([4,2],wa),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Tn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function cu(){var T=new Fl;return T!=null&&(T.a=0,T.sc="OK",T.cb=0,T.Xb=0,dn||(dn=zn)),T}function fr(T,F,te){return T.a==0&&(T.a=F,T.sc=te,T.cb=0),0}function yd(T,F,te){return 3<=te&&T[F+0]==157&&T[F+1]==1&&T[F+2]==42}function du(T,F){if(T==null)return 0;if(T.a=0,T.sc="OK",F==null)return fr(T,2,"null VP8Io passed to VP8GetHeaders()");var te=F.data,se=F.w,me=F.ha;if(4>me)return fr(T,7,"Truncated header.");var xe=te[se+0]|te[se+1]<<8|te[se+2]<<16,ge=T.Od;if(ge.Rb=!(1&xe),ge.td=xe>>1&7,ge.yd=xe>>4&1,ge.ub=xe>>5,3<ge.td)return fr(T,3,"Incorrect keyframe parameters.");if(!ge.yd)return fr(T,4,"Frame not displayable.");se+=3,me-=3;var be=T.Kc;if(ge.Rb){if(7>me)return fr(T,7,"cannot parse picture header");if(!yd(te,se,me))return fr(T,3,"Bad code word");be.c=16383&(te[se+4]<<8|te[se+3]),be.Td=te[se+4]>>6,be.i=16383&(te[se+6]<<8|te[se+5]),be.Ud=te[se+6]>>6,se+=7,me-=7,T.za=be.c+15>>4,T.Ub=be.i+15>>4,F.width=be.c,F.height=be.i,F.Da=0,F.j=0,F.v=0,F.va=F.width,F.o=F.height,F.da=0,F.ib=F.width,F.hb=F.height,F.U=F.width,F.T=F.height,n((xe=T.Pa).jb,0,255,xe.jb.length),t((xe=T.Qa)!=null),xe.Cb=0,xe.Bb=0,xe.Fb=1,n(xe.Zb,0,0,xe.Zb.length),n(xe.Lb,0,0,xe.Lb)}if(ge.ub>me)return fr(T,7,"bad partition length");V(xe=T.m,te,se,ge.ub),se+=ge.ub,me-=ge.ub,ge.Rb&&(be.Ld=q(xe),be.Kd=q(xe)),be=T.Qa;var je,Le=T.Pa;if(t(xe!=null),t(be!=null),be.Cb=q(xe),be.Cb){if(be.Bb=q(xe),q(xe)){for(be.Fb=q(xe),je=0;4>je;++je)be.Zb[je]=q(xe)?J(xe,7):0;for(je=0;4>je;++je)be.Lb[je]=q(xe)?J(xe,6):0}if(be.Bb)for(je=0;3>je;++je)Le.jb[je]=q(xe)?Z(xe,8):255}else be.Bb=0;if(xe.Ka)return fr(T,3,"cannot parse segment header");if((be=T.ed).zd=q(xe),be.Tb=Z(xe,6),be.wb=Z(xe,3),be.Pc=q(xe),be.Pc&&q(xe)){for(Le=0;4>Le;++Le)q(xe)&&(be.vd[Le]=J(xe,6));for(Le=0;4>Le;++Le)q(xe)&&(be.od[Le]=J(xe,6))}if(T.L=be.Tb==0?0:be.zd?1:2,xe.Ka)return fr(T,3,"cannot parse filter header");var Ve=me;if(me=je=se,se=je+Ve,be=Ve,T.Xb=(1<<Z(T.m,2))-1,Ve<3*(Le=T.Xb))te=7;else{for(je+=3*Le,be-=3*Le,Ve=0;Ve<Le;++Ve){var lt=te[me+0]|te[me+1]<<8|te[me+2]<<16;lt>be&&(lt=be),V(T.Jc[+Ve],te,je,lt),je+=lt,be-=lt,me+=3}V(T.Jc[+Le],te,je,be),te=je<se?0:5}if(te!=0)return fr(T,te,"cannot parse partitions");for(te=Z(je=T.m,7),me=q(je)?J(je,4):0,se=q(je)?J(je,4):0,be=q(je)?J(je,4):0,Le=q(je)?J(je,4):0,je=q(je)?J(je,4):0,Ve=T.Qa,lt=0;4>lt;++lt){if(Ve.Cb){var Pe=Ve.Zb[lt];Ve.Fb||(Pe+=te)}else{if(0<lt){T.pb[lt]=T.pb[0];continue}Pe=te}var Ye=T.pb[lt];Ye.Sc[0]=i0[ys(Pe+me,127)],Ye.Sc[1]=l0[ys(Pe+0,127)],Ye.Eb[0]=2*i0[ys(Pe+se,127)],Ye.Eb[1]=101581*l0[ys(Pe+be,127)]>>16,8>Ye.Eb[1]&&(Ye.Eb[1]=8),Ye.Qc[0]=i0[ys(Pe+Le,117)],Ye.Qc[1]=l0[ys(Pe+je,127)],Ye.lc=Pe+je}if(!ge.Rb)return fr(T,4,"Not a key frame.");for(q(xe),ge=T.Pa,te=0;4>te;++te){for(me=0;8>me;++me)for(se=0;3>se;++se)for(be=0;11>be;++be)Le=ie(xe,Su[te][me][se][be])?Z(xe,8):Go[te][me][se][be],ge.Wc[te][me].Yb[se][be]=Le;for(me=0;17>me;++me)ge.Xc[te][me]=ge.Wc[te][yb[me]]}return T.kc=q(xe),T.kc&&(T.Bd=Z(xe,8)),T.cb=1}function zn(T,F,te,se,me,xe,ge){var be=F[me].Yb[te];for(te=0;16>me;++me){if(!ie(T,be[te+0]))return me;for(;!ie(T,be[te+1]);)if(be=F[++me].Yb[0],te=0,me==16)return 16;var je=F[me+1].Yb;if(ie(T,be[te+2])){var Le=T,Ve=0;if(ie(Le,(Pe=be)[(lt=te)+3]))if(ie(Le,Pe[lt+6])){for(be=0,lt=2*(Ve=ie(Le,Pe[lt+8]))+(Pe=ie(Le,Pe[lt+9+Ve])),Ve=0,Pe=Ns[lt];Pe[be];++be)Ve+=Ve+ie(Le,Pe[be]);Ve+=3+(8<<lt)}else ie(Le,Pe[lt+7])?(Ve=7+2*ie(Le,165),Ve+=ie(Le,145)):Ve=5+ie(Le,159);else Ve=ie(Le,Pe[lt+4])?3+ie(Le,Pe[lt+5]):2;be=je[2]}else Ve=1,be=je[1];je=ge+Nr[me],0>(Le=T).b&&oe(Le);var lt,Pe=Le.b,Ye=(lt=Le.Ca>>1)-(Le.I>>Pe)>>31;--Le.b,Le.Ca+=Ye,Le.Ca|=1,Le.I-=(lt+1&Ye)<<Pe,xe[je]=((Ve^Ye)-Ye)*se[(0<me)+0]}return 16}function Hn(T){var F=T.rb[T.sb-1];F.la=0,F.Na=0,n(T.zc,0,0,T.zc.length),T.ja=0}function ci(T,F,te,se,me){me=T[F+te+32*se]+(me>>3),T[F+te+32*se]=-256&me?0>me?0:255:me}function Tc(T,F,te,se,me,xe){ci(T,F,0,te,se+me),ci(T,F,1,te,se+xe),ci(T,F,2,te,se-xe),ci(T,F,3,te,se-me)}function mr(T){return(20091*T>>16)+T}function Ec(T,F,te,se){var me,xe=0,ge=i(16);for(me=0;4>me;++me){var be=T[F+0]+T[F+8],je=T[F+0]-T[F+8],Le=(35468*T[F+4]>>16)-mr(T[F+12]),Ve=mr(T[F+4])+(35468*T[F+12]>>16);ge[xe+0]=be+Ve,ge[xe+1]=je+Le,ge[xe+2]=je-Le,ge[xe+3]=be-Ve,xe+=4,F++}for(me=xe=0;4>me;++me)be=(T=ge[xe+0]+4)+ge[xe+8],je=T-ge[xe+8],Le=(35468*ge[xe+4]>>16)-mr(ge[xe+12]),ci(te,se,0,0,be+(Ve=mr(ge[xe+4])+(35468*ge[xe+12]>>16))),ci(te,se,1,0,je+Le),ci(te,se,2,0,je-Le),ci(te,se,3,0,be-Ve),xe++,se+=32}function Th(T,F,te,se){var me=T[F+0]+4,xe=35468*T[F+4]>>16,ge=mr(T[F+4]),be=35468*T[F+1]>>16;Tc(te,se,0,me+ge,T=mr(T[F+1]),be),Tc(te,se,1,me+xe,T,be),Tc(te,se,2,me-xe,T,be),Tc(te,se,3,me-ge,T,be)}function uu(T,F,te,se,me){Ec(T,F,te,se),me&&Ec(T,F+16,te,se+4)}function oo(T,F,te,se){Ic(T,F+0,te,se,1),Ic(T,F+32,te,se+128,1)}function sn(T,F,te,se){var me;for(T=T[F+0]+4,me=0;4>me;++me)for(F=0;4>F;++F)ci(te,se,F,me,T)}function Io(T,F,te,se){T[F+0]&&cr(T,F+0,te,se),T[F+16]&&cr(T,F+16,te,se+4),T[F+32]&&cr(T,F+32,te,se+128),T[F+48]&&cr(T,F+48,te,se+128+4)}function Ai(T,F,te,se){var me,xe=i(16);for(me=0;4>me;++me){var ge=T[F+0+me]+T[F+12+me],be=T[F+4+me]+T[F+8+me],je=T[F+4+me]-T[F+8+me],Le=T[F+0+me]-T[F+12+me];xe[0+me]=ge+be,xe[8+me]=ge-be,xe[4+me]=Le+je,xe[12+me]=Le-je}for(me=0;4>me;++me)ge=(T=xe[0+4*me]+3)+xe[3+4*me],be=xe[1+4*me]+xe[2+4*me],je=xe[1+4*me]-xe[2+4*me],Le=T-xe[3+4*me],te[se+0]=ge+be>>3,te[se+16]=Le+je>>3,te[se+32]=ge-be>>3,te[se+48]=Le-je>>3,se+=64}function Bo(T,F,te){var se,me=F-32,xe=Dn,ge=255-T[me-1];for(se=0;se<te;++se){var be,je=xe,Le=ge+T[F-1];for(be=0;be<te;++be)T[F+be]=je[Le+T[me+be]];F+=32}}function Ie(T,F){Bo(T,F,4)}function wt(T,F){Bo(T,F,8)}function ea(T,F){Bo(T,F,16)}function Wt(T,F){var te;for(te=0;16>te;++te)s(T,F+32*te,T,F-32,16)}function br(T,F){var te;for(te=16;0<te;--te)n(T,F,T[F-1],16),F+=32}function Mr(T,F,te){var se;for(se=0;16>se;++se)n(F,te+32*se,T,16)}function Zr(T,F){var te,se=16;for(te=0;16>te;++te)se+=T[F-1+32*te]+T[F+te-32];Mr(se>>5,T,F)}function En(T,F){var te,se=8;for(te=0;16>te;++te)se+=T[F-1+32*te];Mr(se>>4,T,F)}function er(T,F){var te,se=8;for(te=0;16>te;++te)se+=T[F+te-32];Mr(se>>4,T,F)}function vs(T,F){Mr(128,T,F)}function ia(T,F,te){return T+2*F+te+2>>2}function co(T,F){var te,se=F-32;for(se=new Uint8Array([ia(T[se-1],T[se+0],T[se+1]),ia(T[se+0],T[se+1],T[se+2]),ia(T[se+1],T[se+2],T[se+3]),ia(T[se+2],T[se+3],T[se+4])]),te=0;4>te;++te)s(T,F+32*te,se,0,se.length)}function es(T,F){var te=T[F-1],se=T[F-1+32],me=T[F-1+64],xe=T[F-1+96];ye(T,F+0,16843009*ia(T[F-1-32],te,se)),ye(T,F+32,16843009*ia(te,se,me)),ye(T,F+64,16843009*ia(se,me,xe)),ye(T,F+96,16843009*ia(me,xe,xe))}function Ar(T,F){var te,se=4;for(te=0;4>te;++te)se+=T[F+te-32]+T[F-1+32*te];for(se>>=3,te=0;4>te;++te)n(T,F+32*te,se,4)}function bs(T,F){var te=T[F-1+0],se=T[F-1+32],me=T[F-1+64],xe=T[F-1-32],ge=T[F+0-32],be=T[F+1-32],je=T[F+2-32],Le=T[F+3-32];T[F+0+96]=ia(se,me,T[F-1+96]),T[F+1+96]=T[F+0+64]=ia(te,se,me),T[F+2+96]=T[F+1+64]=T[F+0+32]=ia(xe,te,se),T[F+3+96]=T[F+2+64]=T[F+1+32]=T[F+0+0]=ia(ge,xe,te),T[F+3+64]=T[F+2+32]=T[F+1+0]=ia(be,ge,xe),T[F+3+32]=T[F+2+0]=ia(je,be,ge),T[F+3+0]=ia(Le,je,be)}function nn(T,F){var te=T[F+1-32],se=T[F+2-32],me=T[F+3-32],xe=T[F+4-32],ge=T[F+5-32],be=T[F+6-32],je=T[F+7-32];T[F+0+0]=ia(T[F+0-32],te,se),T[F+1+0]=T[F+0+32]=ia(te,se,me),T[F+2+0]=T[F+1+32]=T[F+0+64]=ia(se,me,xe),T[F+3+0]=T[F+2+32]=T[F+1+64]=T[F+0+96]=ia(me,xe,ge),T[F+3+32]=T[F+2+64]=T[F+1+96]=ia(xe,ge,be),T[F+3+64]=T[F+2+96]=ia(ge,be,je),T[F+3+96]=ia(be,je,je)}function ln(T,F){var te=T[F-1+0],se=T[F-1+32],me=T[F-1+64],xe=T[F-1-32],ge=T[F+0-32],be=T[F+1-32],je=T[F+2-32],Le=T[F+3-32];T[F+0+0]=T[F+1+64]=xe+ge+1>>1,T[F+1+0]=T[F+2+64]=ge+be+1>>1,T[F+2+0]=T[F+3+64]=be+je+1>>1,T[F+3+0]=je+Le+1>>1,T[F+0+96]=ia(me,se,te),T[F+0+64]=ia(se,te,xe),T[F+0+32]=T[F+1+96]=ia(te,xe,ge),T[F+1+32]=T[F+2+96]=ia(xe,ge,be),T[F+2+32]=T[F+3+96]=ia(ge,be,je),T[F+3+32]=ia(be,je,Le)}function di(T,F){var te=T[F+0-32],se=T[F+1-32],me=T[F+2-32],xe=T[F+3-32],ge=T[F+4-32],be=T[F+5-32],je=T[F+6-32],Le=T[F+7-32];T[F+0+0]=te+se+1>>1,T[F+1+0]=T[F+0+64]=se+me+1>>1,T[F+2+0]=T[F+1+64]=me+xe+1>>1,T[F+3+0]=T[F+2+64]=xe+ge+1>>1,T[F+0+32]=ia(te,se,me),T[F+1+32]=T[F+0+96]=ia(se,me,xe),T[F+2+32]=T[F+1+96]=ia(me,xe,ge),T[F+3+32]=T[F+2+96]=ia(xe,ge,be),T[F+3+64]=ia(ge,be,je),T[F+3+96]=ia(be,je,Le)}function uo(T,F){var te=T[F-1+0],se=T[F-1+32],me=T[F-1+64],xe=T[F-1+96];T[F+0+0]=te+se+1>>1,T[F+2+0]=T[F+0+32]=se+me+1>>1,T[F+2+32]=T[F+0+64]=me+xe+1>>1,T[F+1+0]=ia(te,se,me),T[F+3+0]=T[F+1+32]=ia(se,me,xe),T[F+3+32]=T[F+1+64]=ia(me,xe,xe),T[F+3+64]=T[F+2+64]=T[F+0+96]=T[F+1+96]=T[F+2+96]=T[F+3+96]=xe}function _i(T,F){var te=T[F-1+0],se=T[F-1+32],me=T[F-1+64],xe=T[F-1+96],ge=T[F-1-32],be=T[F+0-32],je=T[F+1-32],Le=T[F+2-32];T[F+0+0]=T[F+2+32]=te+ge+1>>1,T[F+0+32]=T[F+2+64]=se+te+1>>1,T[F+0+64]=T[F+2+96]=me+se+1>>1,T[F+0+96]=xe+me+1>>1,T[F+3+0]=ia(be,je,Le),T[F+2+0]=ia(ge,be,je),T[F+1+0]=T[F+3+32]=ia(te,ge,be),T[F+1+32]=T[F+3+64]=ia(se,te,ge),T[F+1+64]=T[F+3+96]=ia(me,se,te),T[F+1+96]=ia(xe,me,se)}function Il(T,F){var te;for(te=0;8>te;++te)s(T,F+32*te,T,F-32,8)}function Wi(T,F){var te;for(te=0;8>te;++te)n(T,F,T[F-1],8),F+=32}function vl(T,F,te){var se;for(se=0;8>se;++se)n(F,te+32*se,T,8)}function $o(T,F){var te,se=8;for(te=0;8>te;++te)se+=T[F+te-32]+T[F-1+32*te];vl(se>>4,T,F)}function on(T,F){var te,se=4;for(te=0;8>te;++te)se+=T[F+te-32];vl(se>>3,T,F)}function ho(T,F){var te,se=4;for(te=0;8>te;++te)se+=T[F-1+32*te];vl(se>>3,T,F)}function wd(T,F){vl(128,T,F)}function fo(T,F,te){var se=T[F-te],me=T[F+0],xe=3*(me-se)+Jm[1020+T[F-2*te]-T[F+te]],ge=yu[112+(xe+4>>3)];T[F-te]=Dn[255+se+yu[112+(xe+3>>3)]],T[F+0]=Dn[255+me-ge]}function hu(T,F,te,se){var me=T[F+0],xe=T[F+te];return Hl[255+T[F-2*te]-T[F-te]]>se||Hl[255+xe-me]>se}function fu(T,F,te,se){return 4*Hl[255+T[F-te]-T[F+0]]+Hl[255+T[F-2*te]-T[F+te]]<=se}function jd(T,F,te,se,me){var xe=T[F-3*te],ge=T[F-2*te],be=T[F-te],je=T[F+0],Le=T[F+te],Ve=T[F+2*te],lt=T[F+3*te];return 4*Hl[255+be-je]+Hl[255+ge-Le]>se?0:Hl[255+T[F-4*te]-xe]<=me&&Hl[255+xe-ge]<=me&&Hl[255+ge-be]<=me&&Hl[255+lt-Ve]<=me&&Hl[255+Ve-Le]<=me&&Hl[255+Le-je]<=me}function Dc(T,F,te,se){var me=2*se+1;for(se=0;16>se;++se)fu(T,F+se,te,me)&&fo(T,F+se,te)}function Uo(T,F,te,se){var me=2*se+1;for(se=0;16>se;++se)fu(T,F+se*te,1,me)&&fo(T,F+se*te,1)}function Qf(T,F,te,se){var me;for(me=3;0<me;--me)Dc(T,F+=4*te,te,se)}function zm(T,F,te,se){var me;for(me=3;0<me;--me)Uo(T,F+=4,te,se)}function Mc(T,F,te,se,me,xe,ge,be){for(xe=2*xe+1;0<me--;){if(jd(T,F,te,xe,ge))if(hu(T,F,te,be))fo(T,F,te);else{var je=T,Le=F,Ve=te,lt=je[Le-2*Ve],Pe=je[Le-Ve],Ye=je[Le+0],et=je[Le+Ve],yt=je[Le+2*Ve],it=27*(jt=Jm[1020+3*(Ye-Pe)+Jm[1020+lt-et]])+63>>7,St=18*jt+63>>7,jt=9*jt+63>>7;je[Le-3*Ve]=Dn[255+je[Le-3*Ve]+jt],je[Le-2*Ve]=Dn[255+lt+St],je[Le-Ve]=Dn[255+Pe+it],je[Le+0]=Dn[255+Ye-it],je[Le+Ve]=Dn[255+et-St],je[Le+2*Ve]=Dn[255+yt-jt]}F+=se}}function Pc(T,F,te,se,me,xe,ge,be){for(xe=2*xe+1;0<me--;){if(jd(T,F,te,xe,ge))if(hu(T,F,te,be))fo(T,F,te);else{var je=T,Le=F,Ve=te,lt=je[Le-Ve],Pe=je[Le+0],Ye=je[Le+Ve],et=yu[112+(4+(yt=3*(Pe-lt))>>3)],yt=yu[112+(yt+3>>3)],it=et+1>>1;je[Le-2*Ve]=Dn[255+je[Le-2*Ve]+it],je[Le-Ve]=Dn[255+lt+yt],je[Le+0]=Dn[255+Pe-et],je[Le+Ve]=Dn[255+Ye-it]}F+=se}}function Eh(T,F,te,se,me,xe){Mc(T,F,te,1,16,se,me,xe)}function Hm(T,F,te,se,me,xe){Mc(T,F,1,te,16,se,me,xe)}function mu(T,F,te,se,me,xe){var ge;for(ge=3;0<ge;--ge)Pc(T,F+=4*te,te,1,16,se,me,xe)}function Vm(T,F,te,se,me,xe){var ge;for(ge=3;0<ge;--ge)Pc(T,F+=4,1,te,16,se,me,xe)}function G(T,F,te,se,me,xe,ge,be){Mc(T,F,me,1,8,xe,ge,be),Mc(te,se,me,1,8,xe,ge,be)}function fe(T,F,te,se,me,xe,ge,be){Mc(T,F,1,me,8,xe,ge,be),Mc(te,se,1,me,8,xe,ge,be)}function Re(T,F,te,se,me,xe,ge,be){Pc(T,F+4*me,me,1,8,xe,ge,be),Pc(te,se+4*me,me,1,8,xe,ge,be)}function He(T,F,te,se,me,xe,ge,be){Pc(T,F+4,1,me,8,xe,ge,be),Pc(te,se+4,1,me,8,xe,ge,be)}function Qe(){this.ba=new sa,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ka,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function _t(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function It(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function la(){this.ua=0,this.Wa=new Ue,this.vb=new Ue,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new K,this.yc=new E}function ba(){this.xb=this.a=0,this.l=new Tn,this.ca=new sa,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new X,this.Pb=0,this.wd=new X,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new la,this.ab=0,this.gc=l(4,It),this.Oc=0}function Ma(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Tn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function za(T,F,te,se,me,xe,ge){for(T=T==null?0:T[F+0],F=0;F<ge;++F)me[xe+F]=T+te[se+F]&255,T=me[xe+F]}function yr(T,F,te,se,me,xe,ge){var be;if(T==null)za(null,null,te,se,me,xe,ge);else for(be=0;be<ge;++be)me[xe+be]=T[F+be]+te[se+be]&255}function cs(T,F,te,se,me,xe,ge){if(T==null)za(null,null,te,se,me,xe,ge);else{var be,je=T[F+0],Le=je,Ve=je;for(be=0;be<ge;++be)Le=Ve+(je=T[F+be])-Le,Ve=te[se+be]+(-256&Le?0>Le?0:255:Le)&255,Le=je,me[xe+be]=Ve}}function qs(T,F,te,se){var me=F.width,xe=F.o;if(t(T!=null&&F!=null),0>te||0>=se||te+se>xe)return null;if(!T.Cc){if(T.ga==null){var ge;if(T.ga=new Ma,(ge=T.ga==null)||(ge=F.width*F.o,t(T.Gb.length==0),T.Gb=i(ge),T.Uc=0,T.Gb==null?ge=0:(T.mb=T.Gb,T.nb=T.Uc,T.rc=null,ge=1),ge=!ge),!ge){ge=T.ga;var be=T.Fa,je=T.P,Le=T.qc,Ve=T.mb,lt=T.nb,Pe=je+1,Ye=Le-1,et=ge.l;if(t(be!=null&&Ve!=null&&F!=null),Ko[0]=null,Ko[1]=za,Ko[2]=yr,Ko[3]=cs,ge.ca=Ve,ge.tb=lt,ge.c=F.width,ge.i=F.height,t(0<ge.c&&0<ge.i),1>=Le)F=0;else if(ge.$a=3&be[je+0],ge.Z=be[je+0]>>2&3,ge.Lc=be[je+0]>>4&3,je=be[je+0]>>6&3,0>ge.$a||1<ge.$a||4<=ge.Z||1<ge.Lc||je)F=0;else if(et.put=Ae,et.ac=pa,et.bc=na,et.ma=ge,et.width=F.width,et.height=F.height,et.Da=F.Da,et.v=F.v,et.va=F.va,et.j=F.j,et.o=F.o,ge.$a)e:{t(ge.$a==1),F=Xe();t:for(;;){if(F==null){F=0;break e}if(t(ge!=null),ge.mc=F,F.c=ge.c,F.i=ge.i,F.l=ge.l,F.l.ma=ge,F.l.width=ge.c,F.l.height=ge.i,F.a=0,ee(F.m,be,Pe,Ye),!tt(ge.c,ge.i,1,F,null)||(F.ab==1&&F.gc[0].hc==3&&Se(F.s)?(ge.ic=1,be=F.c*F.i,F.Ta=null,F.Ua=0,F.V=i(be),F.Ba=0,F.V==null?(F.a=1,F=0):F=1):(ge.ic=0,F=nt(F,ge.c)),!F))break t;F=1;break e}ge.mc=null,F=0}else F=Ye>=ge.c*ge.i;ge=!F}if(ge)return null;T.ga.Lc!=1?T.Ga=0:se=xe-te}t(T.ga!=null),t(te+se<=xe);e:{if(F=(be=T.ga).c,xe=be.l.o,be.$a==0){if(Pe=T.rc,Ye=T.Vc,et=T.Fa,je=T.P+1+te*F,Le=T.mb,Ve=T.nb+te*F,t(je<=T.P+T.qc),be.Z!=0)for(t(Ko[be.Z]!=null),ge=0;ge<se;++ge)Ko[be.Z](Pe,Ye,et,je,Le,Ve,F),Pe=Le,Ye=Ve,Ve+=F,je+=F;else for(ge=0;ge<se;++ge)s(Le,Ve,et,je,F),Pe=Le,Ye=Ve,Ve+=F,je+=F;T.rc=Pe,T.Vc=Ye}else{if(t(be.mc!=null),F=te+se,t((ge=be.mc)!=null),t(F<=ge.i),ge.C>=F)F=1;else if(be.ic||Bl(),be.ic){be=ge.V,Pe=ge.Ba,Ye=ge.c;var yt=ge.i,it=(et=1,je=ge.$/Ye,Le=ge.$%Ye,Ve=ge.m,lt=ge.s,ge.$),St=Ye*yt,jt=Ye*F,$t=lt.wc,Ot=it<jt?pe(lt,Le,je):null;t(it<=St),t(F<=yt),t(Se(lt));t:for(;;){for(;!Ve.h&&it<jt;){if(Le&$t||(Ot=pe(lt,Le,je)),t(Ot!=null),re(Ve),256>(yt=$a(Ot.G[0],Ot.H[0],Ve)))be[Pe+it]=yt,++it,++Le>=Ye&&(Le=0,++je<=F&&!(je%16)&&Oe(ge,je));else{if(!(280>yt)){et=0;break t}yt=Ka(yt-256,Ve);var ga,ra=$a(Ot.G[4],Ot.H[4],Ve);if(re(Ve),!(it>=(ra=rr(Ye,ra=Ka(ra,Ve)))&&St-it>=yt)){et=0;break t}for(ga=0;ga<yt;++ga)be[Pe+it+ga]=be[Pe+it+ga-ra];for(it+=yt,Le+=yt;Le>=Ye;)Le-=Ye,++je<=F&&!(je%16)&&Oe(ge,je);it<jt&&Le&$t&&(Ot=pe(lt,Le,je))}t(Ve.h==Q(Ve))}Oe(ge,je>F?F:je);break t}!et||Ve.h&&it<St?(et=0,ge.a=Ve.h?5:3):ge.$=it,F=et}else F=Ze(ge,ge.V,ge.Ba,ge.c,ge.i,F,At);if(!F){se=0;break e}}te+se>=xe&&(T.Cc=1),se=1}if(!se)return null;if(T.Cc&&((se=T.ga)!=null&&(se.mc=null),T.ga=null,0<T.Ga))return alert("todo:WebPDequantizeLevels"),null}return T.nb+te*me}function qr(T,F,te,se,me,xe){for(;0<me--;){var ge,be=T,je=F+(te?1:0),Le=T,Ve=F+(te?0:3);for(ge=0;ge<se;++ge){var lt=Le[Ve+4*ge];lt!=255&&(lt*=32897,be[je+4*ge+0]=be[je+4*ge+0]*lt>>23,be[je+4*ge+1]=be[je+4*ge+1]*lt>>23,be[je+4*ge+2]=be[je+4*ge+2]*lt>>23)}F+=xe}}function cn(T,F,te,se,me){for(;0<se--;){var xe;for(xe=0;xe<te;++xe){var ge=T[F+2*xe+0],be=15&(Le=T[F+2*xe+1]),je=4369*be,Le=(240&Le|Le>>4)*je>>16;T[F+2*xe+0]=(240&ge|ge>>4)*je>>16&240|(15&ge|ge<<4)*je>>16>>4&15,T[F+2*xe+1]=240&Le|be}F+=me}}function Gs(T,F,te,se,me,xe,ge,be){var je,Le,Ve=255;for(Le=0;Le<me;++Le){for(je=0;je<se;++je){var lt=T[F+je];xe[ge+4*je]=lt,Ve&=lt}F+=te,ge+=be}return Ve!=255}function Vn(T,F,te,se,me){var xe;for(xe=0;xe<me;++xe)te[se+xe]=T[F+xe]>>8}function Bl(){Ih=qr,wl=cn,jl=Gs,vu=Vn}function qi(T,F,te){I[T]=function(se,me,xe,ge,be,je,Le,Ve,lt,Pe,Ye,et,yt,it,St,jt,$t){var Ot,ga=$t-1>>1,ra=be[je+0]|Le[Ve+0]<<16,Fa=lt[Pe+0]|Ye[et+0]<<16;t(se!=null);var oa=3*ra+Fa+131074>>2;for(F(se[me+0],255&oa,oa>>16,yt,it),xe!=null&&(oa=3*Fa+ra+131074>>2,F(xe[ge+0],255&oa,oa>>16,St,jt)),Ot=1;Ot<=ga;++Ot){var ir=be[je+Ot]|Le[Ve+Ot]<<16,Ks=lt[Pe+Ot]|Ye[et+Ot]<<16,Pa=ra+ir+Fa+Ks+524296,ca=Pa+2*(ir+Fa)>>3;oa=ca+ra>>1,ra=(Pa=Pa+2*(ra+Ks)>>3)+ir>>1,F(se[me+2*Ot-1],255&oa,oa>>16,yt,it+(2*Ot-1)*te),F(se[me+2*Ot-0],255&ra,ra>>16,yt,it+(2*Ot-0)*te),xe!=null&&(oa=Pa+Fa>>1,ra=ca+Ks>>1,F(xe[ge+2*Ot-1],255&oa,oa>>16,St,jt+(2*Ot-1)*te),F(xe[ge+2*Ot+0],255&ra,ra>>16,St,jt+(2*Ot+0)*te)),ra=ir,Fa=Ks}1&$t||(oa=3*ra+Fa+131074>>2,F(se[me+$t-1],255&oa,oa>>16,yt,it+($t-1)*te),xe!=null&&(oa=3*Fa+ra+131074>>2,F(xe[ge+$t-1],255&oa,oa>>16,St,jt+($t-1)*te)))}}function Wm(){Mn[fi]=Vc,Mn[Bh]=Yo,Mn[qo]=Od,Mn[s0]=ep,Mn[wu]=tp,Mn[Bc]=zh,Mn[Qm]=ap,Mn[n0]=Yo,Mn[Pd]=ep,Mn[$c]=tp,Mn[$h]=zh}function Nd(T){return T&-16384?0>T?0:255:T>>qN}function mo(T,F){return Nd((19077*T>>8)+(26149*F>>8)-14234)}function Sd(T,F,te){return Nd((19077*T>>8)-(6419*F>>8)-(13320*te>>8)+8708)}function kd(T,F){return Nd((19077*T>>8)+(33050*F>>8)-17685)}function Cd(T,F,te,se,me){se[me+0]=mo(T,te),se[me+1]=Sd(T,F,te),se[me+2]=kd(T,F)}function Ad(T,F,te,se,me){se[me+0]=kd(T,F),se[me+1]=Sd(T,F,te),se[me+2]=mo(T,te)}function Wn(T,F,te,se,me){var xe=Sd(T,F,te);F=xe<<3&224|kd(T,F)>>3,se[me+0]=248&mo(T,te)|xe>>5,se[me+1]=F}function _d(T,F,te,se,me){var xe=240&kd(T,F)|15;se[me+0]=240&mo(T,te)|Sd(T,F,te)>>4,se[me+1]=xe}function $l(T,F,te,se,me){se[me+0]=255,Cd(T,F,te,se,me+1)}function Zf(T,F,te,se,me){Ad(T,F,te,se,me),se[me+3]=255}function e0(T,F,te,se,me){Cd(T,F,te,se,me),se[me+3]=255}function ys(T,F){return 0>T?0:T>F?F:T}function zo(T,F,te){I[T]=function(se,me,xe,ge,be,je,Le,Ve,lt){for(var Pe=Ve+(-2&lt)*te;Ve!=Pe;)F(se[me+0],xe[ge+0],be[je+0],Le,Ve),F(se[me+1],xe[ge+0],be[je+0],Le,Ve+te),me+=2,++ge,++je,Ve+=2*te;1&lt&&F(se[me+0],xe[ge+0],be[je+0],Le,Ve)}}function pu(T,F,te){return te==0?T==0?F==0?6:5:F==0?4:0:te}function Td(T,F,te,se,me){switch(T>>>30){case 3:Ic(F,te,se,me,0);break;case 2:yl(F,te,se,me);break;case 1:cr(F,te,se,me)}}function ui(T,F){var te,se,me=F.M,xe=F.Nb,ge=T.oc,be=T.pc+40,je=T.oc,Le=T.pc+584,Ve=T.oc,lt=T.pc+600;for(te=0;16>te;++te)ge[be+32*te-1]=129;for(te=0;8>te;++te)je[Le+32*te-1]=129,Ve[lt+32*te-1]=129;for(0<me?ge[be-1-32]=je[Le-1-32]=Ve[lt-1-32]=129:(n(ge,be-32-1,127,21),n(je,Le-32-1,127,9),n(Ve,lt-32-1,127,9)),se=0;se<T.za;++se){var Pe=F.ya[F.aa+se];if(0<se){for(te=-1;16>te;++te)s(ge,be+32*te-4,ge,be+32*te+12,4);for(te=-1;8>te;++te)s(je,Le+32*te-4,je,Le+32*te+4,4),s(Ve,lt+32*te-4,Ve,lt+32*te+4,4)}var Ye=T.Gd,et=T.Hd+se,yt=Pe.ad,it=Pe.Hc;if(0<me&&(s(ge,be-32,Ye[et].y,0,16),s(je,Le-32,Ye[et].f,0,8),s(Ve,lt-32,Ye[et].ea,0,8)),Pe.Za){var St=ge,jt=be-32+16;for(0<me&&(se>=T.za-1?n(St,jt,Ye[et].y[15],4):s(St,jt,Ye[et+1].y,0,4)),te=0;4>te;te++)St[jt+128+te]=St[jt+256+te]=St[jt+384+te]=St[jt+0+te];for(te=0;16>te;++te,it<<=2)St=ge,jt=be+ku[te],Ei[Pe.Ob[te]](St,jt),Td(it,yt,16*+te,St,jt)}else if(St=pu(se,me,Pe.Ob[0]),Hc[St](ge,be),it!=0)for(te=0;16>te;++te,it<<=2)Td(it,yt,16*+te,ge,be+ku[te]);for(te=Pe.Gc,St=pu(se,me,Pe.Dd),Sl[St](je,Le),Sl[St](Ve,lt),it=yt,St=je,jt=Le,255&(Pe=0|te)&&(170&Pe?hi(it,256,St,jt):Pr(it,256,St,jt)),Pe=Ve,it=lt,255&(te>>=8)&&(170&te?hi(yt,320,Pe,it):Pr(yt,320,Pe,it)),me<T.Ub-1&&(s(Ye[et].y,0,ge,be+480,16),s(Ye[et].f,0,je,Le+224,8),s(Ye[et].ea,0,Ve,lt+224,8)),te=8*xe*T.B,Ye=T.sa,et=T.ta+16*se+16*xe*T.R,yt=T.qa,Pe=T.ra+8*se+te,it=T.Ha,St=T.Ia+8*se+te,te=0;16>te;++te)s(Ye,et+te*T.R,ge,be+32*te,16);for(te=0;8>te;++te)s(yt,Pe+te*T.B,je,Le+32*te,8),s(it,St+te*T.B,Ve,lt+32*te,8)}}function xu(T,F,te,se,me,xe,ge,be,je){var Le=[0],Ve=[0],lt=0,Pe=je!=null?je.kd:0,Ye=je??new _t;if(T==null||12>te)return 7;Ye.data=T,Ye.w=F,Ye.ha=te,F=[F],te=[te],Ye.gb=[Ye.gb];e:{var et=F,yt=te,it=Ye.gb;if(t(T!=null),t(yt!=null),t(it!=null),it[0]=0,12<=yt[0]&&!a(T,et[0],"RIFF")){if(a(T,et[0]+8,"WEBP")){it=3;break e}var St=he(T,et[0]+4);if(12>St||4294967286<St){it=3;break e}if(Pe&&St>yt[0]-8){it=7;break e}it[0]=St,et[0]+=12,yt[0]-=12}it=0}if(it!=0)return it;for(St=0<Ye.gb[0],te=te[0];;){e:{var jt=T;yt=F,it=te;var $t=Le,Ot=Ve,ga=et=[0];if((oa=lt=[lt])[0]=0,8>it[0])it=7;else{if(!a(jt,yt[0],"VP8X")){if(he(jt,yt[0]+4)!=10){it=3;break e}if(18>it[0]){it=7;break e}var ra=he(jt,yt[0]+8),Fa=1+ce(jt,yt[0]+12);if(2147483648<=Fa*(jt=1+ce(jt,yt[0]+15))){it=3;break e}ga!=null&&(ga[0]=ra),$t!=null&&($t[0]=Fa),Ot!=null&&(Ot[0]=jt),yt[0]+=18,it[0]-=18,oa[0]=1}it=0}}if(lt=lt[0],et=et[0],it!=0)return it;if(yt=!!(2&et),!St&&lt)return 3;if(xe!=null&&(xe[0]=!!(16&et)),ge!=null&&(ge[0]=yt),be!=null&&(be[0]=0),ge=Le[0],et=Ve[0],lt&&yt&&je==null){it=0;break}if(4>te){it=7;break}if(St&&lt||!St&&!lt&&!a(T,F[0],"ALPH")){te=[te],Ye.na=[Ye.na],Ye.P=[Ye.P],Ye.Sa=[Ye.Sa];e:{ra=T,it=F,St=te;var oa=Ye.gb;$t=Ye.na,Ot=Ye.P,ga=Ye.Sa,Fa=22,t(ra!=null),t(St!=null),jt=it[0];var ir=St[0];for(t($t!=null),t(ga!=null),$t[0]=null,Ot[0]=null,ga[0]=0;;){if(it[0]=jt,St[0]=ir,8>ir){it=7;break e}var Ks=he(ra,jt+4);if(4294967286<Ks){it=3;break e}var Pa=8+Ks+1&-2;if(Fa+=Pa,0<oa&&Fa>oa){it=3;break e}if(!a(ra,jt,"VP8 ")||!a(ra,jt,"VP8L")){it=0;break e}if(ir[0]<Pa){it=7;break e}a(ra,jt,"ALPH")||($t[0]=ra,Ot[0]=jt+8,ga[0]=Ks),jt+=Pa,ir-=Pa}}if(te=te[0],Ye.na=Ye.na[0],Ye.P=Ye.P[0],Ye.Sa=Ye.Sa[0],it!=0)break}te=[te],Ye.Ja=[Ye.Ja],Ye.xa=[Ye.xa];e:if(oa=T,it=F,St=te,$t=Ye.gb[0],Ot=Ye.Ja,ga=Ye.xa,ra=it[0],jt=!a(oa,ra,"VP8 "),Fa=!a(oa,ra,"VP8L"),t(oa!=null),t(St!=null),t(Ot!=null),t(ga!=null),8>St[0])it=7;else{if(jt||Fa){if(oa=he(oa,ra+4),12<=$t&&oa>$t-12){it=3;break e}if(Pe&&oa>St[0]-8){it=7;break e}Ot[0]=oa,it[0]+=8,St[0]-=8,ga[0]=Fa}else ga[0]=5<=St[0]&&oa[ra+0]==47&&!(oa[ra+4]>>5),Ot[0]=St[0];it=0}if(te=te[0],Ye.Ja=Ye.Ja[0],Ye.xa=Ye.xa[0],F=F[0],it!=0)break;if(4294967286<Ye.Ja)return 3;if(be==null||yt||(be[0]=Ye.xa?2:1),ge=[ge],et=[et],Ye.xa){if(5>te){it=7;break}be=ge,Pe=et,yt=xe,T==null||5>te?T=0:5<=te&&T[F+0]==47&&!(T[F+4]>>5)?(St=[0],oa=[0],$t=[0],ee(Ot=new X,T,F,te),Za(Ot,St,oa,$t)?(be!=null&&(be[0]=St[0]),Pe!=null&&(Pe[0]=oa[0]),yt!=null&&(yt[0]=$t[0]),T=1):T=0):T=0}else{if(10>te){it=7;break}be=et,T==null||10>te||!yd(T,F+3,te-3)?T=0:(Pe=T[F+0]|T[F+1]<<8|T[F+2]<<16,yt=16383&(T[F+7]<<8|T[F+6]),T=16383&(T[F+9]<<8|T[F+8]),1&Pe||3<(Pe>>1&7)||!(Pe>>4&1)||Pe>>5>=Ye.Ja||!yt||!T?T=0:(ge&&(ge[0]=yt),be&&(be[0]=T),T=1))}if(!T||(ge=ge[0],et=et[0],lt&&(Le[0]!=ge||Ve[0]!=et)))return 3;je!=null&&(je[0]=Ye,je.offset=F-je.w,t(4294967286>F-je.w),t(je.offset==je.ha-te));break}return it==0||it==7&&lt&&je==null?(xe!=null&&(xe[0]|=Ye.na!=null&&0<Ye.na.length),se!=null&&(se[0]=ge),me!=null&&(me[0]=et),0):it}function Ed(T,F,te){var se=F.width,me=F.height,xe=0,ge=0,be=se,je=me;if(F.Da=T!=null&&0<T.Da,F.Da&&(be=T.cd,je=T.bd,xe=T.v,ge=T.j,11>te||(xe&=-2,ge&=-2),0>xe||0>ge||0>=be||0>=je||xe+be>se||ge+je>me))return 0;if(F.v=xe,F.j=ge,F.va=xe+be,F.o=ge+je,F.U=be,F.T=je,F.da=T!=null&&0<T.da,F.da){if(!Te(be,je,te=[T.ib],xe=[T.hb]))return 0;F.ib=te[0],F.hb=xe[0]}return F.ob=T!=null&&T.ob,F.Kb=T==null||!T.Sd,F.da&&(F.ob=F.ib<3*se/4&&F.hb<3*me/4,F.Kb=0),1}function Dh(T){if(T==null)return 2;if(11>T.S){var F=T.f.RGBA;F.fb+=(T.height-1)*F.A,F.A=-F.A}else F=T.f.kb,T=T.height,F.O+=(T-1)*F.fa,F.fa=-F.fa,F.N+=(T-1>>1)*F.Ab,F.Ab=-F.Ab,F.W+=(T-1>>1)*F.Db,F.Db=-F.Db,F.F!=null&&(F.J+=(T-1)*F.lb,F.lb=-F.lb);return 0}function Lc(T,F,te,se){if(se==null||0>=T||0>=F)return 2;if(te!=null){if(te.Da){var me=te.cd,xe=te.bd,ge=-2&te.v,be=-2&te.j;if(0>ge||0>be||0>=me||0>=xe||ge+me>T||be+xe>F)return 2;T=me,F=xe}if(te.da){if(!Te(T,F,me=[te.ib],xe=[te.hb]))return 2;T=me[0],F=xe[0]}}se.width=T,se.height=F;e:{var je=se.width,Le=se.height;if(T=se.S,0>=je||0>=Le||!(T>=fi&&13>T))T=2;else{if(0>=se.Rd&&se.sd==null){ge=xe=me=F=0;var Ve=(be=je*Sb[T])*Le;if(11>T||(xe=(Le+1)/2*(F=(je+1)/2),T==12&&(ge=(me=je)*Le)),(Le=i(Ve+2*xe+ge))==null){T=1;break e}se.sd=Le,11>T?((je=se.f.RGBA).eb=Le,je.fb=0,je.A=be,je.size=Ve):((je=se.f.kb).y=Le,je.O=0,je.fa=be,je.Fd=Ve,je.f=Le,je.N=0+Ve,je.Ab=F,je.Cd=xe,je.ea=Le,je.W=0+Ve+xe,je.Db=F,je.Ed=xe,T==12&&(je.F=Le,je.J=0+Ve+2*xe),je.Tc=ge,je.lb=me)}if(F=1,me=se.S,xe=se.width,ge=se.height,me>=fi&&13>me)if(11>me)T=se.f.RGBA,F&=(be=Math.abs(T.A))*(ge-1)+xe<=T.size,F&=be>=xe*Sb[me],F&=T.eb!=null;else{T=se.f.kb,be=(xe+1)/2,Ve=(ge+1)/2,je=Math.abs(T.fa),Le=Math.abs(T.Ab);var lt=Math.abs(T.Db),Pe=Math.abs(T.lb),Ye=Pe*(ge-1)+xe;F&=je*(ge-1)+xe<=T.Fd,F&=Le*(Ve-1)+be<=T.Cd,F=(F&=lt*(Ve-1)+be<=T.Ed)&je>=xe&Le>=be&lt>=be,F&=T.y!=null,F&=T.f!=null,F&=T.ea!=null,me==12&&(F&=Pe>=xe,F&=Ye<=T.Tc,F&=T.F!=null)}else F=0;T=F?0:2}}return T!=0||te!=null&&te.fd&&(T=Dh(se)),T}var Oc=64,Ti=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Gi=24,Rc=32,Ho=8,Dd=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ce("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(T){return T},I.Predictor2=function(T,F,te){return F[te+0]},I.Predictor3=function(T,F,te){return F[te+1]},I.Predictor4=function(T,F,te){return F[te-1]},I.Predictor5=function(T,F,te){return ft(ft(T,F[te+1]),F[te+0])},I.Predictor6=function(T,F,te){return ft(T,F[te-1])},I.Predictor7=function(T,F,te){return ft(T,F[te+0])},I.Predictor8=function(T,F,te){return ft(F[te-1],F[te+0])},I.Predictor9=function(T,F,te){return ft(F[te+0],F[te+1])},I.Predictor10=function(T,F,te){return ft(ft(T,F[te-1]),ft(F[te+0],F[te+1]))},I.Predictor11=function(T,F,te){var se=F[te+0];return 0>=$e(se>>24&255,T>>24&255,(F=F[te-1])>>24&255)+$e(se>>16&255,T>>16&255,F>>16&255)+$e(se>>8&255,T>>8&255,F>>8&255)+$e(255&se,255&T,255&F)?se:T},I.Predictor12=function(T,F,te){var se=F[te+0];return(zt((T>>24&255)+(se>>24&255)-((F=F[te-1])>>24&255))<<24|zt((T>>16&255)+(se>>16&255)-(F>>16&255))<<16|zt((T>>8&255)+(se>>8&255)-(F>>8&255))<<8|zt((255&T)+(255&se)-(255&F)))>>>0},I.Predictor13=function(T,F,te){var se=F[te-1];return(st((T=ft(T,F[te+0]))>>24&255,se>>24&255)<<24|st(T>>16&255,se>>16&255)<<16|st(T>>8&255,se>>8&255)<<8|st(255&T,255&se))>>>0};var t0=I.PredictorAdd0;I.PredictorAdd1=qe,Ce("Predictor2","PredictorAdd2"),Ce("Predictor3","PredictorAdd3"),Ce("Predictor4","PredictorAdd4"),Ce("Predictor5","PredictorAdd5"),Ce("Predictor6","PredictorAdd6"),Ce("Predictor7","PredictorAdd7"),Ce("Predictor8","PredictorAdd8"),Ce("Predictor9","PredictorAdd9"),Ce("Predictor10","PredictorAdd10"),Ce("Predictor11","PredictorAdd11"),Ce("Predictor12","PredictorAdd12"),Ce("Predictor13","PredictorAdd13");var Mh=I.PredictorAdd2;Ct("ColorIndexInverseTransform","MapARGB","32b",function(T){return T>>8&255},function(T){return T}),Ct("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(T){return T},function(T){return T>>8&255});var Fs,qm=I.ColorIndexInverseTransform,ws=I.MapARGB,Ki=I.VP8LColorIndexInverseTransformAlpha,Ph=I.MapAlpha,Lh=I.VP8LPredictorsAdd=[];Lh.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var Oh,Rh,Vo,Md,bl,Fc,Ul,Ic,yl,hi,cr,Pr,js,ts,Wo,Fh,gu,Gm,gb,vb,Ux,zx,Km,zl,Ih,wl,jl,vu,Ym=i(511),a0=i(2041),r0=i(225),Xm=i(767),bu=0,Jm=a0,yu=r0,Dn=Xm,Hl=Ym,fi=0,Bh=1,qo=2,s0=3,wu=4,Bc=5,Qm=6,n0=7,Pd=8,$c=9,$h=10,Zm=[2,3,7],Vl=[3,3,11],Nl=[280,256,256,256,40],ju=[0,1,1,1,0],Uc=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],zc=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Nu=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],bb=8,i0=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],l0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],dn=null,Ns=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Nr=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ld=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Go=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Hx=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Su=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],yb=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Hc=[],Ei=[],Sl=[],wb=1,Uh=2,Ko=[],Mn=[];qi("UpsampleRgbLinePair",Cd,3),qi("UpsampleBgrLinePair",Ad,3),qi("UpsampleRgbaLinePair",e0,4),qi("UpsampleBgraLinePair",Zf,4),qi("UpsampleArgbLinePair",$l,4),qi("UpsampleRgba4444LinePair",_d,2),qi("UpsampleRgb565LinePair",Wn,2);var Vc=I.UpsampleRgbLinePair,Od=I.UpsampleBgrLinePair,Yo=I.UpsampleRgbaLinePair,ep=I.UpsampleBgraLinePair,tp=I.UpsampleArgbLinePair,zh=I.UpsampleRgba4444LinePair,ap=I.UpsampleRgb565LinePair,Xo=16,un=1<<Xo-1,Rd=-227,rp=482,qN=6,jb=0,GN=i(256),hn=i(256),Vx=i(256),o0=i(256),c0=i(rp-Rd),Wx=i(rp-Rd);zo("YuvToRgbRow",Cd,3),zo("YuvToBgrRow",Ad,3),zo("YuvToRgbaRow",e0,4),zo("YuvToBgraRow",Zf,4),zo("YuvToArgbRow",$l,4),zo("YuvToRgba4444Row",_d,2),zo("YuvToRgb565Row",Wn,2);var ku=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Wc=[0,2,8],KN=[8,7,6,4,4,2,2,2,1,1,1,1],Nb=1;this.WebPDecodeRGBA=function(T,F,te,se,me){var xe=Bh,ge=new Qe,be=new sa;ge.ba=be,be.S=xe,be.width=[be.width],be.height=[be.height];var je=be.width,Le=be.height,Ve=new Zt;if(Ve==null||T==null)var lt=2;else t(Ve!=null),lt=xu(T,F,te,Ve.width,Ve.height,Ve.Pd,Ve.Qd,Ve.format,null);if(lt!=0?je=0:(je!=null&&(je[0]=Ve.width[0]),Le!=null&&(Le[0]=Ve.height[0]),je=1),je){be.width=be.width[0],be.height=be.height[0],se!=null&&(se[0]=be.width),me!=null&&(me[0]=be.height);e:{if(se=new Tn,(me=new _t).data=T,me.w=F,me.ha=te,me.kd=1,F=[0],t(me!=null),((T=xu(me.data,me.w,me.ha,null,null,null,F,null,me))==0||T==7)&&F[0]&&(T=4),(F=T)==0){if(t(ge!=null),se.data=me.data,se.w=me.w+me.offset,se.ha=me.ha-me.offset,se.put=Ae,se.ac=pa,se.bc=na,se.ma=ge,me.xa){if((T=Xe())==null){ge=1;break e}if((function(Pe,Ye){var et=[0],yt=[0],it=[0];t:for(;;){if(Pe==null)return 0;if(Ye==null)return Pe.a=2,0;if(Pe.l=Ye,Pe.a=0,ee(Pe.m,Ye.data,Ye.w,Ye.ha),!Za(Pe.m,et,yt,it)){Pe.a=3;break t}if(Pe.xb=Uh,Ye.width=et[0],Ye.height=yt[0],!tt(et[0],yt[0],1,Pe,null))break t;return 1}return t(Pe.a!=0),0})(T,se)){if(se=(F=Lc(se.width,se.height,ge.Oa,ge.ba))==0){t:{se=T;a:for(;;){if(se==null){se=0;break t}if(t(se.s.yc!=null),t(se.s.Ya!=null),t(0<se.s.Wb),t((te=se.l)!=null),t((me=te.ma)!=null),se.xb!=0){if(se.ca=me.ba,se.tb=me.tb,t(se.ca!=null),!Ed(me.Oa,te,s0)){se.a=2;break a}if(!nt(se,te.width)||te.da)break a;if((te.da||We(se.ca.S))&&Bl(),11>se.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),se.ca.f.kb.F!=null&&Bl()),se.Pb&&0<se.s.ua&&se.s.vb.X==null&&!ue(se.s.vb,se.s.Wa.Xa)){se.a=1;break a}se.xb=0}if(!Ze(se,se.V,se.Ba,se.c,se.i,te.o,we))break a;me.Dc=se.Ma,se=1;break t}t(se.a!=0),se=0}se=!se}se&&(F=T.a)}else F=T.a}else{if((T=new cu)==null){ge=1;break e}if(T.Fa=me.na,T.P=me.P,T.qc=me.Sa,du(T,se)){if((F=Lc(se.width,se.height,ge.Oa,ge.ba))==0){if(T.Aa=0,te=ge.Oa,t((me=T)!=null),te!=null){if(0<(je=0>(je=te.Md)?0:100<je?255:255*je/100)){for(Le=Ve=0;4>Le;++Le)12>(lt=me.pb[Le]).lc&&(lt.ia=je*KN[0>lt.lc?0:lt.lc]>>3),Ve|=lt.ia;Ve&&(alert("todo:VP8InitRandom"),me.ia=1)}me.Ga=te.Id,100<me.Ga?me.Ga=100:0>me.Ga&&(me.Ga=0)}(function(Pe,Ye){if(Pe==null)return 0;if(Ye==null)return fr(Pe,2,"NULL VP8Io parameter in VP8Decode().");if(!Pe.cb&&!du(Pe,Ye))return 0;if(t(Pe.cb),Ye.ac==null||Ye.ac(Ye)){Ye.ob&&(Pe.L=0);var et=Wc[Pe.L];if(Pe.L==2?(Pe.yb=0,Pe.zb=0):(Pe.yb=Ye.v-et>>4,Pe.zb=Ye.j-et>>4,0>Pe.yb&&(Pe.yb=0),0>Pe.zb&&(Pe.zb=0)),Pe.Va=Ye.o+15+et>>4,Pe.Hb=Ye.va+15+et>>4,Pe.Hb>Pe.za&&(Pe.Hb=Pe.za),Pe.Va>Pe.Ub&&(Pe.Va=Pe.Ub),0<Pe.L){var yt=Pe.ed;for(et=0;4>et;++et){var it;if(Pe.Qa.Cb){var St=Pe.Qa.Lb[et];Pe.Qa.Fb||(St+=yt.Tb)}else St=yt.Tb;for(it=0;1>=it;++it){var jt=Pe.gd[et][it],$t=St;if(yt.Pc&&($t+=yt.vd[0],it&&($t+=yt.od[0])),0<($t=0>$t?0:63<$t?63:$t)){var Ot=$t;0<yt.wb&&(Ot=4<yt.wb?Ot>>2:Ot>>1)>9-yt.wb&&(Ot=9-yt.wb),1>Ot&&(Ot=1),jt.dd=Ot,jt.tc=2*$t+Ot,jt.ld=40<=$t?2:15<=$t?1:0}else jt.tc=0;jt.La=it}}}et=0}else fr(Pe,6,"Frame setup failed"),et=Pe.a;if(et=et==0){if(et){Pe.$c=0,0<Pe.Aa||(Pe.Ic=Nb);t:{et=Pe.Ic,yt=4*(Ot=Pe.za);var ga=32*Ot,ra=Ot+1,Fa=0<Pe.L?Ot*(0<Pe.Aa?2:1):0,oa=(Pe.Aa==2?2:1)*Ot;if((jt=yt+832+(it=3*(16*et+Wc[Pe.L])/2*ga)+(St=Pe.Fa!=null&&0<Pe.Fa.length?Pe.Kc.c*Pe.Kc.i:0))!=jt)et=0;else{if(jt>Pe.Vb){if(Pe.Vb=0,Pe.Ec=i(jt),Pe.Fc=0,Pe.Ec==null){et=fr(Pe,1,"no memory during frame initialization.");break t}Pe.Vb=jt}jt=Pe.Ec,$t=Pe.Fc,Pe.Ac=jt,Pe.Bc=$t,$t+=yt,Pe.Gd=l(ga,oi),Pe.Hd=0,Pe.rb=l(ra+1,Wa),Pe.sb=1,Pe.wa=Fa?l(Fa,wa):null,Pe.Y=0,Pe.D.Nb=0,Pe.D.wa=Pe.wa,Pe.D.Y=Pe.Y,0<Pe.Aa&&(Pe.D.Y+=Ot),t(!0),Pe.oc=jt,Pe.pc=$t,$t+=832,Pe.ya=l(oa,Rr),Pe.aa=0,Pe.D.ya=Pe.ya,Pe.D.aa=Pe.aa,Pe.Aa==2&&(Pe.D.aa+=Ot),Pe.R=16*Ot,Pe.B=8*Ot,Ot=(ga=Wc[Pe.L])*Pe.R,ga=ga/2*Pe.B,Pe.sa=jt,Pe.ta=$t+Ot,Pe.qa=Pe.sa,Pe.ra=Pe.ta+16*et*Pe.R+ga,Pe.Ha=Pe.qa,Pe.Ia=Pe.ra+8*et*Pe.B+ga,Pe.$c=0,$t+=it,Pe.mb=St?jt:null,Pe.nb=St?$t:null,t($t+St<=Pe.Fc+Pe.Vb),Hn(Pe),n(Pe.Ac,Pe.Bc,0,yt),et=1}}if(et){if(Ye.ka=0,Ye.y=Pe.sa,Ye.O=Pe.ta,Ye.f=Pe.qa,Ye.N=Pe.ra,Ye.ea=Pe.Ha,Ye.Vd=Pe.Ia,Ye.fa=Pe.R,Ye.Rc=Pe.B,Ye.F=null,Ye.J=0,!bu){for(et=-255;255>=et;++et)Ym[255+et]=0>et?-et:et;for(et=-1020;1020>=et;++et)a0[1020+et]=-128>et?-128:127<et?127:et;for(et=-112;112>=et;++et)r0[112+et]=-16>et?-16:15<et?15:et;for(et=-255;510>=et;++et)Xm[255+et]=0>et?0:255<et?255:et;bu=1}Ul=Ai,Ic=uu,hi=oo,cr=sn,Pr=Io,yl=Th,js=Eh,ts=Hm,Wo=G,Fh=fe,gu=mu,Gm=Vm,gb=Re,vb=He,Ux=Dc,zx=Uo,Km=Qf,zl=zm,Ei[0]=Ar,Ei[1]=Ie,Ei[2]=co,Ei[3]=es,Ei[4]=bs,Ei[5]=ln,Ei[6]=nn,Ei[7]=di,Ei[8]=_i,Ei[9]=uo,Hc[0]=Zr,Hc[1]=ea,Hc[2]=Wt,Hc[3]=br,Hc[4]=En,Hc[5]=er,Hc[6]=vs,Sl[0]=$o,Sl[1]=wt,Sl[2]=Il,Sl[3]=Wi,Sl[4]=ho,Sl[5]=on,Sl[6]=wd,et=1}else et=0}et&&(et=(function(ir,Ks){for(ir.M=0;ir.M<ir.Va;++ir.M){var Pa,ca=ir.Jc[ir.M&ir.Xb],Xt=ir.m,ds=ir;for(Pa=0;Pa<ds.za;++Pa){var Ia=Xt,Ya=ds,ua=Ya.Ac,Ha=Ya.Bc+4*Pa,pr=Ya.zc,as=Ya.ya[Ya.aa+Pa];if(Ya.Qa.Bb?as.$b=ie(Ia,Ya.Pa.jb[0])?2+ie(Ia,Ya.Pa.jb[2]):ie(Ia,Ya.Pa.jb[1]):as.$b=0,Ya.kc&&(as.Ad=ie(Ia,Ya.Bd)),as.Za=!ie(Ia,145)+0,as.Za){var Is=as.Ob,Bs=0;for(Ya=0;4>Ya;++Ya){var Ss,sr=pr[0+Ya];for(Ss=0;4>Ss;++Ss){sr=Hx[ua[Ha+Ss]][sr];for(var xr=Ld[ie(Ia,sr[0])];0<xr;)xr=Ld[2*xr+ie(Ia,sr[xr])];sr=-xr,ua[Ha+Ss]=sr}s(Is,Bs,ua,Ha,4),Bs+=4,pr[0+Ya]=sr}}else sr=ie(Ia,156)?ie(Ia,128)?1:3:ie(Ia,163)?2:0,as.Ob[0]=sr,n(ua,Ha,sr,4),n(pr,0,sr,4);as.Dd=ie(Ia,142)?ie(Ia,114)?ie(Ia,183)?1:3:2:0}if(ds.m.Ka)return fr(ir,7,"Premature end-of-partition0 encountered.");for(;ir.ja<ir.za;++ir.ja){if(ds=ca,Ia=(Xt=ir).rb[Xt.sb-1],ua=Xt.rb[Xt.sb+Xt.ja],Pa=Xt.ya[Xt.aa+Xt.ja],Ha=Xt.kc?Pa.Ad:0)Ia.la=ua.la=0,Pa.Za||(Ia.Na=ua.Na=0),Pa.Hc=0,Pa.Gc=0,Pa.ia=0;else{var ks,Aa;if(Ia=ua,ua=ds,Ha=Xt.Pa.Xc,pr=Xt.ya[Xt.aa+Xt.ja],as=Xt.pb[pr.$b],Ya=pr.ad,Is=0,Bs=Xt.rb[Xt.sb-1],sr=Ss=0,n(Ya,Is,0,384),pr.Za)var fn=0,kl=Ha[3];else{xr=i(16);var Cs=Ia.Na+Bs.Na;if(Cs=dn(ua,Ha[1],Cs,as.Eb,0,xr,0),Ia.Na=Bs.Na=(0<Cs)+0,1<Cs)Ul(xr,0,Ya,Is);else{var Di=xr[0]+3>>3;for(xr=0;256>xr;xr+=16)Ya[Is+xr]=Di}fn=1,kl=Ha[0]}var Fr=15&Ia.la,$s=15&Bs.la;for(xr=0;4>xr;++xr){var Mi=1&$s;for(Di=Aa=0;4>Di;++Di)Fr=Fr>>1|(Mi=(Cs=dn(ua,kl,Cs=Mi+(1&Fr),as.Sc,fn,Ya,Is))>fn)<<7,Aa=Aa<<2|(3<Cs?3:1<Cs?2:Ya[Is+0]!=0),Is+=16;Fr>>=4,$s=$s>>1|Mi<<7,Ss=(Ss<<8|Aa)>>>0}for(kl=Fr,fn=$s>>4,ks=0;4>ks;ks+=2){for(Aa=0,Fr=Ia.la>>4+ks,$s=Bs.la>>4+ks,xr=0;2>xr;++xr){for(Mi=1&$s,Di=0;2>Di;++Di)Cs=Mi+(1&Fr),Fr=Fr>>1|(Mi=0<(Cs=dn(ua,Ha[2],Cs,as.Qc,0,Ya,Is)))<<3,Aa=Aa<<2|(3<Cs?3:1<Cs?2:Ya[Is+0]!=0),Is+=16;Fr>>=2,$s=$s>>1|Mi<<5}sr|=Aa<<4*ks,kl|=Fr<<4<<ks,fn|=(240&$s)<<ks}Ia.la=kl,Bs.la=fn,pr.Hc=Ss,pr.Gc=sr,pr.ia=43690&sr?0:as.ia,Ha=!(Ss|sr)}if(0<Xt.L&&(Xt.wa[Xt.Y+Xt.ja]=Xt.gd[Pa.$b][Pa.Za],Xt.wa[Xt.Y+Xt.ja].La|=!Ha),ds.Ka)return fr(ir,7,"Premature end-of-file encountered.")}if(Hn(ir),Xt=Ks,ds=1,Pa=(ca=ir).D,Ia=0<ca.L&&ca.M>=ca.zb&&ca.M<=ca.Va,ca.Aa==0)t:{if(Pa.M=ca.M,Pa.uc=Ia,ui(ca,Pa),ds=1,Pa=(Aa=ca.D).Nb,Ia=(sr=Wc[ca.L])*ca.R,ua=sr/2*ca.B,xr=16*Pa*ca.R,Di=8*Pa*ca.B,Ha=ca.sa,pr=ca.ta-Ia+xr,as=ca.qa,Ya=ca.ra-ua+Di,Is=ca.Ha,Bs=ca.Ia-ua+Di,$s=(Fr=Aa.M)==0,Ss=Fr>=ca.Va-1,ca.Aa==2&&ui(ca,Aa),Aa.uc)for(Mi=(Cs=ca).D.M,t(Cs.D.uc),Aa=Cs.yb;Aa<Cs.Hb;++Aa){fn=Aa,kl=Mi;var qn=(Gr=(pn=Cs).D).Nb;ks=pn.R;var Gr=Gr.wa[Gr.Y+fn],wr=pn.sa,mi=pn.ta+16*qn*ks+16*fn,Gn=Gr.dd,Lr=Gr.tc;if(Lr!=0)if(t(3<=Lr),pn.L==1)0<fn&&zx(wr,mi,ks,Lr+4),Gr.La&&zl(wr,mi,ks,Lr),0<kl&&Ux(wr,mi,ks,Lr+4),Gr.La&&Km(wr,mi,ks,Lr);else{var Pi=pn.B,mn=pn.qa,Jo=pn.ra+8*qn*Pi+8*fn,po=pn.Ha,pn=pn.Ia+8*qn*Pi+8*fn;qn=Gr.ld,0<fn&&(ts(wr,mi,ks,Lr+4,Gn,qn),Fh(mn,Jo,po,pn,Pi,Lr+4,Gn,qn)),Gr.La&&(Gm(wr,mi,ks,Lr,Gn,qn),vb(mn,Jo,po,pn,Pi,Lr,Gn,qn)),0<kl&&(js(wr,mi,ks,Lr+4,Gn,qn),Wo(mn,Jo,po,pn,Pi,Lr+4,Gn,qn)),Gr.La&&(gu(wr,mi,ks,Lr,Gn,qn),gb(mn,Jo,po,pn,Pi,Lr,Gn,qn))}}if(ca.ia&&alert("todo:DitherRow"),Xt.put!=null){if(Aa=16*Fr,Fr=16*(Fr+1),$s?(Xt.y=ca.sa,Xt.O=ca.ta+xr,Xt.f=ca.qa,Xt.N=ca.ra+Di,Xt.ea=ca.Ha,Xt.W=ca.Ia+Di):(Aa-=sr,Xt.y=Ha,Xt.O=pr,Xt.f=as,Xt.N=Ya,Xt.ea=Is,Xt.W=Bs),Ss||(Fr-=sr),Fr>Xt.o&&(Fr=Xt.o),Xt.F=null,Xt.J=null,ca.Fa!=null&&0<ca.Fa.length&&Aa<Fr&&(Xt.J=qs(ca,Xt,Aa,Fr-Aa),Xt.F=ca.mb,Xt.F==null&&Xt.F.length==0)){ds=fr(ca,3,"Could not decode alpha data.");break t}Aa<Xt.j&&(sr=Xt.j-Aa,Aa=Xt.j,t(!(1&sr)),Xt.O+=ca.R*sr,Xt.N+=ca.B*(sr>>1),Xt.W+=ca.B*(sr>>1),Xt.F!=null&&(Xt.J+=Xt.width*sr)),Aa<Fr&&(Xt.O+=Xt.v,Xt.N+=Xt.v>>1,Xt.W+=Xt.v>>1,Xt.F!=null&&(Xt.J+=Xt.v),Xt.ka=Aa-Xt.j,Xt.U=Xt.va-Xt.v,Xt.T=Fr-Aa,ds=Xt.put(Xt))}Pa+1!=ca.Ic||Ss||(s(ca.sa,ca.ta-Ia,Ha,pr+16*ca.R,Ia),s(ca.qa,ca.ra-ua,as,Ya+8*ca.B,ua),s(ca.Ha,ca.Ia-ua,Is,Bs+8*ca.B,ua))}if(!ds)return fr(ir,6,"Output aborted.")}return 1})(Pe,Ye)),Ye.bc!=null&&Ye.bc(Ye),et&=1}return et?(Pe.cb=0,et):0})(T,se)||(F=T.a)}}else F=T.a}F==0&&ge.Oa!=null&&ge.Oa.fd&&(F=Dh(ge.ba))}ge=F}xe=ge!=0?null:11>xe?be.f.RGBA.eb:be.f.kb.y}else xe=null;return xe};var Sb=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(I,B){for(var O="",U=0;U<4;U++)O+=String.fromCharCode(I[B++]);return O}function u(I,B){return I[B+0]|I[B+1]<<8}function f(I,B){return(I[B+0]|I[B+1]<<8|I[B+2]<<16)>>>0}function x(I,B){return(I[B+0]|I[B+1]<<8|I[B+2]<<16|I[B+3]<<24)>>>0}new c;var m=[0],g=[0],v=[],b=new c,j=e,S=(function(I,B){var O={},U=0,E=!1,R=0,K=0;if(O.frames=[],!(function(M,X){for(var z=0;z<4;z++)if(M[X+z]!="RIFF".charCodeAt(z))return!0;return!1})(I,B)){for(x(I,B+=4),B+=8;B<I.length;){var V=d(I,B),Z=x(I,B+=4);B+=4;var J=Z+(1&Z);switch(V){case"VP8 ":case"VP8L":O.frames[U]===void 0&&(O.frames[U]={}),(le=O.frames[U]).src_off=E?K:B-8,le.src_size=R+Z+8,U++,E&&(E=!1,R=0,K=0);break;case"VP8X":(le=O.header={}).feature_flags=I[B];var ee=B+4;le.canvas_width=1+f(I,ee),ee+=3,le.canvas_height=1+f(I,ee),ee+=3;break;case"ALPH":E=!0,R=J+8,K=B-8;break;case"ANIM":(le=O.header).bgcolor=x(I,B),ee=B+4,le.loop_count=u(I,ee),ee+=2;break;case"ANMF":var W,le;(le=O.frames[U]={}).offset_x=2*f(I,B),B+=3,le.offset_y=2*f(I,B),B+=3,le.width=1+f(I,B),B+=3,le.height=1+f(I,B),B+=3,le.duration=f(I,B),B+=3,W=I[B++],le.dispose=1&W,le.blend=W>>1&1}V!="ANMF"&&(B+=J)}return O}})(j,0);S.response=j,S.rgbaoutput=!0,S.dataurl=!1;var k=S.header?S.header:null,N=S.frames?S.frames:null;if(k){k.loop_counter=k.loop_count,m=[k.canvas_height],g=[k.canvas_width];for(var A=0;A<N.length&&N[A].blend!=0;A++);}var _=N[0],D=b.WebPDecodeRGBA(j,_.src_off,_.src_size,g,m);_.rgba=D,_.imgwidth=g[0],_.imgheight=m[0];for(var P=0;P<g[0]*m[0]*4;P++)v[P]=D[P];return this.width=g,this.height=m,this.data=v,this}(function(e){var t,a,s,n,i,l,o,c,d,u=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new c,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new l,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new l,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,a=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,n=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,l=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,d=new u}]);var f=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var X=M;Object.defineProperty(this,"pdf",{get:function(){return X}});var z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return z},set:function(he){z=!!he}});var Q=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Q},set:function(he){Q=!!he}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(he){isNaN(he)||(ne=he)}});var re=0;Object.defineProperty(this,"posY",{get:function(){return re},set:function(he){isNaN(he)||(re=he)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(he){var ue;typeof he=="number"?ue=[he,he,he,he]:((ue=new Array(4))[0]=he[0],ue[1]=he.length>=2?he[1]:ue[0],ue[2]=he.length>=3?he[2]:ue[0],ue[3]=he.length>=4?he[3]:ue[1]),d.margin=ue}});var oe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return oe},set:function(he){oe=he}});var q=0;Object.defineProperty(this,"lastBreak",{get:function(){return q},set:function(he){q=he}});var ie=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ie},set:function(he){ie=he}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(he){he instanceof u&&(d=he)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(he){d.path=he}});var ye=[];Object.defineProperty(this,"ctxStack",{get:function(){return ye},set:function(he){ye=he}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(he){var ue;ue=x(he),this.ctx.fillStyle=ue.style,this.ctx.isFillTransparent=ue.a===0,this.ctx.fillOpacity=ue.a,this.pdf.setFillColor(ue.r,ue.g,ue.b,{a:ue.a}),this.pdf.setTextColor(ue.r,ue.g,ue.b,{a:ue.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(he){var ue=x(he);this.ctx.strokeStyle=ue.style,this.ctx.isStrokeTransparent=ue.a===0,this.ctx.strokeOpacity=ue.a,ue.a===0?this.pdf.setDrawColor(255,255,255):(ue.a,this.pdf.setDrawColor(ue.r,ue.g,ue.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(he){["butt","round","square"].indexOf(he)!==-1&&(this.ctx.lineCap=he,this.pdf.setLineCap(he))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(he){isNaN(he)||(this.ctx.lineWidth=he,this.pdf.setLineWidth(he))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(he){["bevel","round","miter"].indexOf(he)!==-1&&(this.ctx.lineJoin=he,this.pdf.setLineJoin(he))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(he){isNaN(he)||(this.ctx.miterLimit=he,this.pdf.setMiterLimit(he))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(he){this.ctx.textBaseline=he}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(he){["right","end","center","left","start"].indexOf(he)!==-1&&(this.ctx.textAlign=he)}});var Y=null,ce=null;Object.defineProperty(this,"fontFaces",{get:function(){return ce},set:function(he){Y=null,ce=he}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(he){var ue;if(this.ctx.font=he,(ue=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(he))!==null){var Fe=ue[1];ue[2];var Ue=ue[3],Te=ue[4];ue[5];var ae=ue[6],De=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Te)[2];Te=Math.floor(De==="px"?parseFloat(Te)*this.pdf.internal.scaleFactor:De==="em"?parseFloat(Te)*this.pdf.getFontSize():parseFloat(Te)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Te);var Ce=(function(Nt){var Ct,Lt,Ht=[],Vt=Nt.trim();if(Vt==="")return k3;if(Vt in xR)return[xR[Vt]];for(;Vt!=="";){switch(Lt=null,Ct=(Vt=vR(Vt)).charAt(0)){case'"':case"'":Lt=ISe(Vt.substring(1),Ct);break;default:Lt=BSe(Vt)}if(Lt===null||(Ht.push(Lt[0]),(Vt=vR(Lt[1]))!==""&&Vt.charAt(0)!==","))return k3;Vt=Vt.replace(/^,/,"")}return Ht})(ae);if(this.fontFaces){var at=(function(Nt,Ct){if(Y===null){var Lt=(function(Ht){var Vt=[];return Object.keys(Ht).forEach(function(Ne){Ht[Ne].forEach(function(Mt){var Ee=null;switch(Mt){case"bold":Ee={family:Ne,weight:"bold"};break;case"italic":Ee={family:Ne,style:"italic"};break;case"bolditalic":Ee={family:Ne,weight:"bold",style:"italic"};break;case"":case"normal":Ee={family:Ne}}Ee!==null&&(Ee.ref={name:Ne,style:Mt},Vt.push(Ee))})}),Vt})(Nt.getFontList());Y=(function(Ht){for(var Vt={},Ne=0;Ne<Ht.length;++Ne){var Mt=S3(Ht[Ne]),Ee=Mt.family,ze=Mt.stretch,We=Mt.style,xt=Mt.weight;Vt[Ee]=Vt[Ee]||{},Vt[Ee][ze]=Vt[Ee][ze]||{},Vt[Ee][ze][We]=Vt[Ee][ze][We]||{},Vt[Ee][ze][We][xt]=Mt}return Vt})(Lt.concat(Ct))}return Y})(this.pdf,this.fontFaces),ft=Ce.map(function(Nt){return{family:Nt,stretch:"normal",weight:Ue,style:Fe}}),zt=(function(Nt,Ct,Lt){for(var Ht=(Lt=Lt||{}).defaultFontFamily||"times",Vt=Object.assign({},FSe,Lt.genericFontFamilies||{}),Ne=null,Mt=null,Ee=0;Ee<Ct.length;++Ee)if(Vt[(Ne=S3(Ct[Ee])).family]&&(Ne.family=Vt[Ne.family]),Nt.hasOwnProperty(Ne.family)){Mt=Nt[Ne.family];break}if(!(Mt=Mt||Nt[Ht]))throw new Error("Could not find a font-family for the rule '"+gR(Ne)+"' and default family '"+Ht+"'.");if(Mt=(function(ze,We){if(We[ze])return We[ze];var xt=LC[ze],gt=xt<=LC.normal?-1:1,sa=pR(We,nG,xt,gt);if(!sa)throw new Error("Could not find a matching font-stretch value for "+ze);return sa})(Ne.stretch,Mt),Mt=(function(ze,We){if(We[ze])return We[ze];for(var xt=sG[ze],gt=0;gt<xt.length;++gt)if(We[xt[gt]])return We[xt[gt]];throw new Error("Could not find a matching font-style for "+ze)})(Ne.style,Mt),!(Mt=(function(ze,We){if(We[ze])return We[ze];if(ze===400&&We[500])return We[500];if(ze===500&&We[400])return We[400];var xt=RSe[ze],gt=pR(We,iG,xt,ze<400?-1:1);if(!gt)throw new Error("Could not find a matching font-weight for value "+ze);return gt})(Ne.weight,Mt)))throw new Error("Failed to resolve a font for the rule '"+gR(Ne)+"'.");return Mt})(at,ft);this.pdf.setFont(zt.ref.name,zt.ref.style)}else{var st="";(Ue==="bold"||parseInt(Ue,10)>=700||Fe==="bold")&&(st="bold"),Fe==="italic"&&(st+="italic"),st.length===0&&(st="normal");for(var $e="",qe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ct=0;ct<Ce.length;ct++){if(this.pdf.internal.getFont(Ce[ct],st,{noFallback:!0,disableWarning:!0})!==void 0){$e=Ce[ct];break}if(st==="bolditalic"&&this.pdf.internal.getFont(Ce[ct],"bold",{noFallback:!0,disableWarning:!0})!==void 0)$e=Ce[ct],st="bold";else if(this.pdf.internal.getFont(Ce[ct],"normal",{noFallback:!0,disableWarning:!0})!==void 0){$e=Ce[ct],st="normal";break}}if($e===""){for(var dt=0;dt<Ce.length;dt++)if(qe[Ce[dt]]){$e=qe[Ce[dt]];break}}$e=$e===""?"Times":$e,this.pdf.setFont($e,st)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(he){this.ctx.globalCompositeOperation=he}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(he){this.ctx.globalAlpha=he}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(he){this.ctx.lineDashOffset=he,le.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(he){this.ctx.lineDash=he,le.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(he){this.ctx.ignoreClearRect=!!he}})};f.prototype.setLineDash=function(M){this.lineDash=M},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){N.call(this,"fill",!1)},f.prototype.stroke=function(){N.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(M,X){if(isNaN(M)||isNaN(X))throw ss.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var z=this.ctx.transform.applyToPoint(new l(M,X));this.path.push({type:"mt",x:z.x,y:z.y}),this.ctx.lastPoint=new l(M,X)},f.prototype.closePath=function(){var M=new l(0,0),X=0;for(X=this.path.length-1;X!==-1;X--)if(this.path[X].type==="begin"&&Vr(this.path[X+1])==="object"&&typeof this.path[X+1].x=="number"){M=new l(this.path[X+1].x,this.path[X+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(M.x,M.y)},f.prototype.lineTo=function(M,X){if(isNaN(M)||isNaN(X))throw ss.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var z=this.ctx.transform.applyToPoint(new l(M,X));this.path.push({type:"lt",x:z.x,y:z.y}),this.ctx.lastPoint=new l(z.x,z.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),N.call(this,null,!0)},f.prototype.quadraticCurveTo=function(M,X,z,Q){if(isNaN(z)||isNaN(Q)||isNaN(M)||isNaN(X))throw ss.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new l(z,Q)),re=this.ctx.transform.applyToPoint(new l(M,X));this.path.push({type:"qct",x1:re.x,y1:re.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new l(ne.x,ne.y)},f.prototype.bezierCurveTo=function(M,X,z,Q,ne,re){if(isNaN(ne)||isNaN(re)||isNaN(M)||isNaN(X)||isNaN(z)||isNaN(Q))throw ss.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var oe=this.ctx.transform.applyToPoint(new l(ne,re)),q=this.ctx.transform.applyToPoint(new l(M,X)),ie=this.ctx.transform.applyToPoint(new l(z,Q));this.path.push({type:"bct",x1:q.x,y1:q.y,x2:ie.x,y2:ie.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new l(oe.x,oe.y)},f.prototype.arc=function(M,X,z,Q,ne,re){if(isNaN(M)||isNaN(X)||isNaN(z)||isNaN(Q)||isNaN(ne))throw ss.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(re=!!re,!this.ctx.transform.isIdentity){var oe=this.ctx.transform.applyToPoint(new l(M,X));M=oe.x,X=oe.y;var q=this.ctx.transform.applyToPoint(new l(0,z)),ie=this.ctx.transform.applyToPoint(new l(0,0));z=Math.sqrt(Math.pow(q.x-ie.x,2)+Math.pow(q.y-ie.y,2))}Math.abs(ne-Q)>=2*Math.PI&&(Q=0,ne=2*Math.PI),this.path.push({type:"arc",x:M,y:X,radius:z,startAngle:Q,endAngle:ne,counterclockwise:re})},f.prototype.arcTo=function(M,X,z,Q,ne){throw new Error("arcTo not implemented.")},f.prototype.rect=function(M,X,z,Q){if(isNaN(M)||isNaN(X)||isNaN(z)||isNaN(Q))throw ss.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,X),this.lineTo(M+z,X),this.lineTo(M+z,X+Q),this.lineTo(M,X+Q),this.lineTo(M,X),this.lineTo(M+z,X),this.lineTo(M,X)},f.prototype.fillRect=function(M,X,z,Q){if(isNaN(M)||isNaN(X)||isNaN(z)||isNaN(Q))throw ss.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,X,z,Q),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},f.prototype.strokeRect=function(M,X,z,Q){if(isNaN(M)||isNaN(X)||isNaN(z)||isNaN(Q))throw ss.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(M,X,z,Q),this.stroke())},f.prototype.clearRect=function(M,X,z,Q){if(isNaN(M)||isNaN(X)||isNaN(z)||isNaN(Q))throw ss.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,X,z,Q))},f.prototype.save=function(M){M=typeof M!="boolean"||M;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("q");if(this.pdf.setPage(X),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var Q=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Q}},f.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("Q");this.pdf.setPage(X),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var x=function(M){var X,z,Q,ne;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))X=0,z=0,Q=0,ne=0;else{var re=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(re!==null)X=parseInt(re[1]),z=parseInt(re[2]),Q=parseInt(re[3]),ne=1;else if((re=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)X=parseInt(re[1]),z=parseInt(re[2]),Q=parseInt(re[3]),ne=parseFloat(re[4]);else{if(ne=1,typeof M=="string"&&M.charAt(0)!=="#"){var oe=new Jq(M);M=oe.ok?oe.toHex():"#000000"}M.length===4?(X=M.substring(1,2),X+=X,z=M.substring(2,3),z+=z,Q=M.substring(3,4),Q+=Q):(X=M.substring(1,3),z=M.substring(3,5),Q=M.substring(5,7)),X=parseInt(X,16),z=parseInt(z,16),Q=parseInt(Q,16)}}return{r:X,g:z,b:Q,a:ne,style:M}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(M,X,z,Q){if(isNaN(X)||isNaN(z)||typeof M!="string")throw ss.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Q=isNaN(Q)?void 0:Q,!m.call(this)){var ne=J(this.ctx.transform.rotation),re=this.ctx.transform.scaleX;U.call(this,{text:M,x:X,y:z,scale:re,angle:ne,align:this.textAlign,maxWidth:Q})}},f.prototype.strokeText=function(M,X,z,Q){if(isNaN(X)||isNaN(z)||typeof M!="string")throw ss.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){Q=isNaN(Q)?void 0:Q;var ne=J(this.ctx.transform.rotation),re=this.ctx.transform.scaleX;U.call(this,{text:M,x:X,y:z,scale:re,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:Q})}},f.prototype.measureText=function(M){if(typeof M!="string")throw ss.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var X=this.pdf,z=this.pdf.internal.scaleFactor,Q=X.internal.getFontSize(),ne=X.getStringUnitWidth(M)*Q/X.internal.scaleFactor;return new function(re){var oe=(re=re||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return oe}}),this}({width:ne*=Math.round(96*z/72*1e4)/1e4})},f.prototype.scale=function(M,X){if(isNaN(M)||isNaN(X))throw ss.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var z=new c(M,0,0,X,0,0);this.ctx.transform=this.ctx.transform.multiply(z)},f.prototype.rotate=function(M){if(isNaN(M))throw ss.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var X=new c(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(X)},f.prototype.translate=function(M,X){if(isNaN(M)||isNaN(X))throw ss.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var z=new c(1,0,0,1,M,X);this.ctx.transform=this.ctx.transform.multiply(z)},f.prototype.transform=function(M,X,z,Q,ne,re){if(isNaN(M)||isNaN(X)||isNaN(z)||isNaN(Q)||isNaN(ne)||isNaN(re))throw ss.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var oe=new c(M,X,z,Q,ne,re);this.ctx.transform=this.ctx.transform.multiply(oe)},f.prototype.setTransform=function(M,X,z,Q,ne,re){M=isNaN(M)?1:M,X=isNaN(X)?0:X,z=isNaN(z)?0:z,Q=isNaN(Q)?1:Q,ne=isNaN(ne)?0:ne,re=isNaN(re)?0:re,this.ctx.transform=new c(M,X,z,Q,ne,re)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(M,X,z,Q,ne,re,oe,q,ie){var ye=this.pdf.getImageProperties(M),Y=1,ce=1,he=1,ue=1;Q!==void 0&&q!==void 0&&(he=q/Q,ue=ie/ne,Y=ye.width/Q*q/Q,ce=ye.height/ne*ie/ne),re===void 0&&(re=X,oe=z,X=0,z=0),Q!==void 0&&q===void 0&&(q=Q,ie=ne),Q===void 0&&q===void 0&&(q=ye.width,ie=ye.height);for(var Fe,Ue=this.ctx.transform.decompose(),Te=J(Ue.rotate.shx),ae=new c,De=(ae=(ae=(ae=ae.multiply(Ue.translate)).multiply(Ue.skew)).multiply(Ue.scale)).applyToRectangle(new o(re-X*he,oe-z*ue,Q*Y,ne*ce)),Ce=b.call(this,De),at=[],ft=0;ft<Ce.length;ft+=1)at.indexOf(Ce[ft])===-1&&at.push(Ce[ft]);if(k(at),this.autoPaging)for(var zt=at[0],st=at[at.length-1],$e=zt;$e<st+1;$e++){this.pdf.setPage($e);var qe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ct=$e===1?this.posY+this.margin[0]:this.margin[0],dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ct=$e===1?0:dt+($e-2)*Nt;if(this.ctx.clip_path.length!==0){var Lt=this.path;Fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(Fe,this.posX+this.margin[3],-Ct+ct+this.ctx.prevPageLastElemOffset),A.call(this,"fill",!0),this.path=Lt}var Ht=JSON.parse(JSON.stringify(De));Ht=S([Ht],this.posX+this.margin[3],-Ct+ct+this.ctx.prevPageLastElemOffset)[0];var Vt=($e>zt||$e<st)&&v.call(this);Vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qe,Nt,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",Ht.x,Ht.y,Ht.w,Ht.h,null,null,Te),Vt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",De.x,De.y,De.w,De.h,null,null,Te)};var b=function(M,X,z){var Q=[];X=X||this.pdf.internal.pageSize.width,z=z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":Q.push(Math.floor((M.y+ne)/z)+1);break;case"arc":Q.push(Math.floor((M.y+ne-M.radius)/z)+1),Q.push(Math.floor((M.y+ne+M.radius)/z)+1);break;case"qct":var re=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);Q.push(Math.floor((re.y+ne)/z)+1),Q.push(Math.floor((re.y+re.h+ne)/z)+1);break;case"bct":var oe=W(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);Q.push(Math.floor((oe.y+ne)/z)+1),Q.push(Math.floor((oe.y+oe.h+ne)/z)+1);break;case"rect":Q.push(Math.floor((M.y+ne)/z)+1),Q.push(Math.floor((M.y+M.h+ne)/z)+1)}for(var q=0;q<Q.length;q+=1)for(;this.pdf.internal.getNumberOfPages()<Q[q];)j.call(this);return Q},j=function(){var M=this.fillStyle,X=this.strokeStyle,z=this.font,Q=this.lineCap,ne=this.lineWidth,re=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=X,this.font=z,this.lineCap=Q,this.lineWidth=ne,this.lineJoin=re},S=function(M,X,z){for(var Q=0;Q<M.length;Q++)switch(M[Q].type){case"bct":M[Q].x2+=X,M[Q].y2+=z;case"qct":M[Q].x1+=X,M[Q].y1+=z;default:M[Q].x+=X,M[Q].y+=z}return M},k=function(M){return M.sort(function(X,z){return X-z})},N=function(M,X){for(var z,Q,ne=this.fillStyle,re=this.strokeStyle,oe=this.lineCap,q=this.lineWidth,ie=Math.abs(q*this.ctx.transform.scaleX),ye=this.lineJoin,Y=JSON.parse(JSON.stringify(this.path)),ce=JSON.parse(JSON.stringify(this.path)),he=[],ue=0;ue<ce.length;ue++)if(ce[ue].x!==void 0)for(var Fe=b.call(this,ce[ue]),Ue=0;Ue<Fe.length;Ue+=1)he.indexOf(Fe[Ue])===-1&&he.push(Fe[Ue]);for(var Te=0;Te<he.length;Te++)for(;this.pdf.internal.getNumberOfPages()<he[Te];)j.call(this);if(k(he),this.autoPaging)for(var ae=he[0],De=he[he.length-1],Ce=ae;Ce<De+1;Ce++){this.pdf.setPage(Ce),this.fillStyle=ne,this.strokeStyle=re,this.lineCap=oe,this.lineWidth=ie,this.lineJoin=ye;var at=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ft=Ce===1?this.posY+this.margin[0]:this.margin[0],zt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],st=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],$e=Ce===1?0:zt+(Ce-2)*st;if(this.ctx.clip_path.length!==0){var qe=this.path;z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(z,this.posX+this.margin[3],-$e+ft+this.ctx.prevPageLastElemOffset),A.call(this,M,!0),this.path=qe}if(Q=JSON.parse(JSON.stringify(Y)),this.path=S(Q,this.posX+this.margin[3],-$e+ft+this.ctx.prevPageLastElemOffset),X===!1||Ce===0){var ct=(Ce>ae||Ce<De)&&v.call(this);ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],at,st,null).clip().discardPath()),A.call(this,M,X),ct&&this.pdf.restoreGraphicsState()}this.lineWidth=q}else this.lineWidth=ie,A.call(this,M,X),this.lineWidth=q;this.path=Y},A=function(M,X){if((M!=="stroke"||X||!g.call(this))&&(M==="stroke"||X||!m.call(this))){for(var z,Q,ne=[],re=this.path,oe=0;oe<re.length;oe++){var q=re[oe];switch(q.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:q,deltas:[],abs:[]});break;case"lt":var ie=ne.length;if(re[oe-1]&&!isNaN(re[oe-1].x)&&(z=[q.x-re[oe-1].x,q.y-re[oe-1].y],ie>0)){for(;ie>=0;ie--)if(ne[ie-1].close!==!0&&ne[ie-1].begin!==!0){ne[ie-1].deltas.push(z),ne[ie-1].abs.push(q);break}}break;case"bct":z=[q.x1-re[oe-1].x,q.y1-re[oe-1].y,q.x2-re[oe-1].x,q.y2-re[oe-1].y,q.x-re[oe-1].x,q.y-re[oe-1].y],ne[ne.length-1].deltas.push(z);break;case"qct":var ye=re[oe-1].x+2/3*(q.x1-re[oe-1].x),Y=re[oe-1].y+2/3*(q.y1-re[oe-1].y),ce=q.x+2/3*(q.x1-q.x),he=q.y+2/3*(q.y1-q.y),ue=q.x,Fe=q.y;z=[ye-re[oe-1].x,Y-re[oe-1].y,ce-re[oe-1].x,he-re[oe-1].y,ue-re[oe-1].x,Fe-re[oe-1].y],ne[ne.length-1].deltas.push(z);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(q)}}Q=X?null:M==="stroke"?"stroke":"fill";for(var Ue=!1,Te=0;Te<ne.length;Te++)if(ne[Te].arc)for(var ae=ne[Te].abs,De=0;De<ae.length;De++){var Ce=ae[De];Ce.type==="arc"?P.call(this,Ce.x,Ce.y,Ce.radius,Ce.startAngle,Ce.endAngle,Ce.counterclockwise,void 0,X,!Ue):E.call(this,Ce.x,Ce.y),Ue=!0}else if(ne[Te].close===!0)this.pdf.internal.out("h"),Ue=!1;else if(ne[Te].begin!==!0){var at=ne[Te].start.x,ft=ne[Te].start.y;R.call(this,ne[Te].deltas,at,ft),Ue=!0}Q&&I.call(this,Q),X&&B.call(this)}},_=function(M){var X=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,z=X*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-z;case"top":return M+X-z;case"hanging":return M+X-2*z;case"middle":return M+X/2-z;default:return M}},D=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(X,z){this.colorStops.push([X,z])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var P=function(M,X,z,Q,ne,re,oe,q,ie){for(var ye=V.call(this,z,Q,ne,re),Y=0;Y<ye.length;Y++){var ce=ye[Y];Y===0&&(ie?O.call(this,ce.x1+M,ce.y1+X):E.call(this,ce.x1+M,ce.y1+X)),K.call(this,M,X,ce.x2,ce.y2,ce.x3,ce.y3,ce.x4,ce.y4)}q?B.call(this):I.call(this,oe)},I=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},B=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(M,X){this.pdf.internal.out(a(M)+" "+s(X)+" m")},U=function(M){var X;switch(M.align){case"right":case"end":X="right";break;case"center":X="center";break;default:X="left"}var z=this.pdf.getTextDimensions(M.text),Q=_.call(this,M.y),ne=D.call(this,Q)-z.h,re=this.ctx.transform.applyToPoint(new l(M.x,Q)),oe=this.ctx.transform.decompose(),q=new c;q=(q=(q=q.multiply(oe.translate)).multiply(oe.skew)).multiply(oe.scale);for(var ie,ye,Y,ce=this.ctx.transform.applyToRectangle(new o(M.x,Q,z.w,z.h)),he=q.applyToRectangle(new o(M.x,ne,z.w,z.h)),ue=b.call(this,he),Fe=[],Ue=0;Ue<ue.length;Ue+=1)Fe.indexOf(ue[Ue])===-1&&Fe.push(ue[Ue]);if(k(Fe),this.autoPaging)for(var Te=Fe[0],ae=Fe[Fe.length-1],De=Te;De<ae+1;De++){this.pdf.setPage(De);var Ce=De===1?this.posY+this.margin[0]:this.margin[0],at=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ft=this.pdf.internal.pageSize.height-this.margin[2],zt=ft-this.margin[0],st=this.pdf.internal.pageSize.width-this.margin[1],$e=st-this.margin[3],qe=De===1?0:at+(De-2)*zt;if(this.ctx.clip_path.length!==0){var ct=this.path;ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(ie,this.posX+this.margin[3],-1*qe+Ce),A.call(this,"fill",!0),this.path=ct}var dt=S([JSON.parse(JSON.stringify(he))],this.posX+this.margin[3],-qe+Ce+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ye*M.scale),Y=this.lineWidth,this.lineWidth=Y*M.scale);var Nt=this.autoPaging!=="text";if(Nt||dt.y+dt.h<=ft){if(Nt||dt.y>=Ce&&dt.x<=st){var Ct=Nt?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||st-dt.x)[0],Lt=S([JSON.parse(JSON.stringify(ce))],this.posX+this.margin[3],-qe+Ce+this.ctx.prevPageLastElemOffset)[0],Ht=Nt&&(De>Te||De<ae)&&v.call(this);Ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$e,zt,null).clip().discardPath()),this.pdf.text(Ct,Lt.x,Lt.y,{angle:M.angle,align:X,renderingMode:M.renderingMode}),Ht&&this.pdf.restoreGraphicsState()}}else dt.y<ft&&(this.ctx.prevPageLastElemOffset+=ft-dt.y);M.scale>=.01&&(this.pdf.setFontSize(ye),this.lineWidth=Y)}else M.scale>=.01&&(ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ye*M.scale),Y=this.lineWidth,this.lineWidth=Y*M.scale),this.pdf.text(M.text,re.x+this.posX,re.y+this.posY,{angle:M.angle,align:X,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(ye),this.lineWidth=Y)},E=function(M,X,z,Q){z=z||0,Q=Q||0,this.pdf.internal.out(a(M+z)+" "+s(X+Q)+" l")},R=function(M,X,z){return this.pdf.lines(M,X,z,null,null)},K=function(M,X,z,Q,ne,re,oe,q){this.pdf.internal.out([t(n(z+M)),t(i(Q+X)),t(n(ne+M)),t(i(re+X)),t(n(oe+M)),t(i(q+X)),"c"].join(" "))},V=function(M,X,z,Q){for(var ne=2*Math.PI,re=Math.PI/2;X>z;)X-=ne;var oe=Math.abs(z-X);oe<ne&&Q&&(oe=ne-oe);for(var q=[],ie=Q?-1:1,ye=X;oe>1e-5;){var Y=ye+ie*Math.min(oe,re);q.push(Z.call(this,M,ye,Y)),oe-=Math.abs(Y-ye),ye=Y}return q},Z=function(M,X,z){var Q=(z-X)/2,ne=M*Math.cos(Q),re=M*Math.sin(Q),oe=ne,q=-re,ie=oe*oe+q*q,ye=ie+oe*ne+q*re,Y=4/3*(Math.sqrt(2*ie*ye)-ye)/(oe*re-q*ne),ce=oe-Y*q,he=q+Y*oe,ue=ce,Fe=-he,Ue=Q+X,Te=Math.cos(Ue),ae=Math.sin(Ue);return{x1:M*Math.cos(X),y1:M*Math.sin(X),x2:ce*Te-he*ae,y2:ce*ae+he*Te,x3:ue*Te-Fe*ae,y3:ue*ae+Fe*Te,x4:M*Math.cos(z),y4:M*Math.sin(z)}},J=function(M){return 180*M/Math.PI},ee=function(M,X,z,Q,ne,re){var oe=M+.5*(z-M),q=X+.5*(Q-X),ie=ne+.5*(z-ne),ye=re+.5*(Q-re),Y=Math.min(M,ne,oe,ie),ce=Math.max(M,ne,oe,ie),he=Math.min(X,re,q,ye),ue=Math.max(X,re,q,ye);return new o(Y,he,ce-Y,ue-he)},W=function(M,X,z,Q,ne,re,oe,q){var ie,ye,Y,ce,he,ue,Fe,Ue,Te,ae,De,Ce,at,ft,zt=z-M,st=Q-X,$e=ne-z,qe=re-Q,ct=oe-ne,dt=q-re;for(ye=0;ye<41;ye++)Te=(Fe=(Y=M+(ie=ye/40)*zt)+ie*((he=z+ie*$e)-Y))+ie*(he+ie*(ne+ie*ct-he)-Fe),ae=(Ue=(ce=X+ie*st)+ie*((ue=Q+ie*qe)-ce))+ie*(ue+ie*(re+ie*dt-ue)-Ue),ye==0?(De=Te,Ce=ae,at=Te,ft=ae):(De=Math.min(De,Te),Ce=Math.min(Ce,ae),at=Math.max(at,Te),ft=Math.max(ft,ae));return new o(Math.round(De),Math.round(Ce),Math.round(at-De),Math.round(ft-Ce))},le=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,X,z=(M=this.ctx.lineDash,X=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:X}));this.prevLineDash!==z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=z)}}})(ma.API),(function(e){var t=function(l){var o,c,d,u,f,x,m,g,v,b;for(c=[],d=0,u=(l+=o="\0\0\0\0".slice(l.length%4||4)).length;u>d;d+=4)(f=(l.charCodeAt(d)<<24)+(l.charCodeAt(d+1)<<16)+(l.charCodeAt(d+2)<<8)+l.charCodeAt(d+3))!==0?(x=(f=((f=((f=((f=(f-(b=f%85))/85)-(v=f%85))/85)-(g=f%85))/85)-(m=f%85))/85)%85,c.push(x+33,m+33,g+33,v+33,b+33)):c.push(122);return(function(j,S){for(var k=S;k>0;k--)j.pop()})(c,o.length),String.fromCharCode.apply(String,c)+"~>"},a=function(l){var o,c,d,u,f,x=String,m="length",g=255,v="charCodeAt",b="slice",j="replace";for(l[b](-2),l=l[b](0,-2)[j](/\s/g,"")[j]("z","!!!!!"),d=[],u=0,f=(l+=o="uuuuu"[b](l[m]%5||5))[m];f>u;u+=5)c=52200625*(l[v](u)-33)+614125*(l[v](u+1)-33)+7225*(l[v](u+2)-33)+85*(l[v](u+3)-33)+(l[v](u+4)-33),d.push(g&c>>24,g&c>>16,g&c>>8,g&c);return(function(S,k){for(var N=k;N>0;N--)S.pop()})(d,o[m]),x.fromCharCode.apply(x,d)},s=function(l){return l.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},n=function(l){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),o.test(l)===!1)return"";for(var c="",d=0;d<l.length;d+=2)c+=String.fromCharCode("0x"+(l[d]+l[d+1]));return c},i=function(l){for(var o=new Uint8Array(l.length),c=l.length;c--;)o[c]=l.charCodeAt(c);return(o=AC(o)).reduce(function(d,u){return d+String.fromCharCode(u)},"")};e.processDataByFilters=function(l,o){var c=0,d=l||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),c=0;c<o.length;c+=1)switch(o[c]){case"ASCII85Decode":case"/ASCII85Decode":d=a(d),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=t(d),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=n(d),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=s(d),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=i(d),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[c]+'" is not implemented')}return{data:d,reverseChain:u.reverse().join(" ")}}})(ma.API),(function(e){e.loadFile=function(t,a,s){return(function(n,i,l){i=i!==!1,l=typeof l=="function"?l:function(){};var o=void 0;try{o=(function(c,d,u){var f=new XMLHttpRequest,x=0,m=function(g){var v=g.length,b=[],j=String.fromCharCode;for(x=0;x<v;x+=1)b.push(j(255&g.charCodeAt(x)));return b.join("")};if(f.open("GET",c,!d),f.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(f.onload=function(){f.status===200?u(m(this.responseText)):u(void 0)}),f.send(null),d&&f.status===200)return m(f.responseText)})(n,i,l)}catch{}return o})(t,a,s)},e.loadImageFile=e.loadFile})(ma.API),(function(e){function t(){return(Ba.html2canvas?Promise.resolve(Ba.html2canvas):yi(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function a(){return(Ba.DOMPurify?Promise.resolve(Ba.DOMPurify):yi(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var s=function(o){var c=Vr(o);return c==="undefined"?"undefined":c==="string"||o instanceof String?"string":c==="number"||o instanceof Number?"number":c==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":c==="object"?"object":"unknown"},n=function(o,c){var d=document.createElement(o);for(var u in c.className&&(d.className=c.className),c.innerHTML&&c.dompurify&&(d.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)d.style[u]=c.style[u];return d},i=function o(c,d){for(var u=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)d!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||u.appendChild(o(f,d));return c.nodeType===1&&(c.nodeName==="CANVAS"?(u.width=c.width,u.height=c.height,u.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(u.value=c.value),u.addEventListener("load",function(){u.scrollTop=c.scrollTop,u.scrollLeft=c.scrollLeft},!0)),u},l=function o(c){var d=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),d);return(u=u.setProgress(1,o,1,[o])).set(c)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(o,c){return o.__proto__=c||l.prototype,o},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(o,c){return this.then(function(){switch(c=c||(function(d){switch(s(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o),c){case"string":return this.then(a).then(function(d){return this.set({src:n("div",{innerHTML:o,dompurify:d})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},l.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=n("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=n("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(n("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,c(this.prop.container,d)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var d=this.opt.jsPDF,u=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,x=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete x.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=u,u)for(var m=0;m<u.length;++m){var g=u[m],v=g.src.find(function(b){return b.format==="truetype"});v&&d.addFont(v.url,g.ref.name,g.ref.style)}return x.windowHeight=x.windowHeight||0,x.windowHeight=x.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):x.windowHeight,d.context2d.save(!0),c(this.prop.container,x)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(o,c,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(o,c):this.outputPdf(o,c)},l.prototype.outputPdf=function(o,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,c)})},l.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},l.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(o){if(s(o)!=="object")return this;var c=Object.keys(o||{}).map(function(d){if(d in l.template.prop)return function(){this.prop[d]=o[d]};switch(d){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[d]=o[d]}}},this);return this.then(function(){return this.thenList(c)})},l.prototype.get=function(o,c){return this.then(function(){var d=o in l.template.prop?this.prop[o]:this.opt[o];return c?c(d):d})},l.prototype.setMargin=function(o){return this.then(function(){switch(s(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},l.prototype.setPageSize=function(o){function c(d,u){return Math.floor(d*u/72*96)}return this.then(function(){(o=o||ma.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:c(o.inner.width,o.k),height:c(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},l.prototype.setProgress=function(o,c,d,u){return o!=null&&(this.progress.val=o),c!=null&&(this.progress.state=c),d!=null&&(this.progress.n=d),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(o,c,d,u){return this.setProgress(o?this.progress.val+o:null,c||null,d?this.progress.n+d:null,u?this.progress.stack.concat(u):null)},l.prototype.then=function(o,c){var d=this;return this.thenCore(o,c,function(u,f){return d.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(x){return d.updateProgress(null,u),x}).then(u,f).then(function(x){return d.updateProgress(1),x})})},l.prototype.thenCore=function(o,c,d){d=d||Promise.prototype.then;var u=this;o&&(o=o.bind(u)),c&&(c=c.bind(u));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:l.convert(Object.assign({},u),Promise.prototype),x=d.call(f,o,c);return l.convert(x,u.__proto__)},l.prototype.thenExternal=function(o,c){return Promise.prototype.then.call(this,o,c)},l.prototype.thenList=function(o){var c=this;return o.forEach(function(d){c=c.thenCore(d)}),c},l.prototype.catch=function(o){o&&(o=o.bind(this));var c=Promise.prototype.catch.call(this,o);return l.convert(c,this)},l.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},l.prototype.error=function(o){return this.then(function(){throw new Error(o)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,ma.getPageSize=function(o,c,d){if(Vr(o)==="object"){var u=o;o=u.orientation,c=u.unit||c,d=u.format||d}c=c||"mm",d=d||"a4",o=(""+(o||"P")).toLowerCase();var f,x=(""+d).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+c}var g,v=0,b=0;if(m.hasOwnProperty(x))v=m[x][1]/f,b=m[x][0]/f;else try{v=d[1],b=d[0]}catch{throw new Error("Invalid format: "+d)}if(o==="p"||o==="portrait")o="p",b>v&&(g=b,b=v,v=g);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",v>b&&(g=b,b=v,v=g)}return{width:b,height:v,unit:c,k:f,orientation:o}},e.html=function(o,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(S3):null;var d=new l(c);return c.worker?d:d.from(o).doCallback()}})(ma.API),ma.API.addJS=function(e){return yR=e,this.internal.events.subscribe("postPutResources",function(){r2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(r2+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),bR=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+yR+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){r2!==void 0&&bR!==void 0&&this.internal.out("/Names <</JavaScript "+r2+" 0 R>>")}),this},(function(e){var t;e.events.push(["postPutResources",function(){var a=this,s=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var n=a.outline.render().split(/\r\n/),i=0;i<n.length;i++){var l=n[i],o=s.exec(l);if(o!=null){var c=o[1];a.internal.newObjectDeferredBegin(c,!1)}a.internal.write(l)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,u=[];for(i=0;i<d;i++){var f=a.internal.newObject();u.push(f);var x=a.internal.getPageInfo(i+1);a.internal.write("<< /D["+x.objId+" 0 R /XYZ null null null]>> endobj")}var m=a.internal.newObject();for(a.internal.write("<< /Names [ "),i=0;i<u.length;i++)a.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");a.internal.write(" ] >>","endobj"),t=a.internal.newObject(),a.internal.write("<< /Dests "+m+" 0 R"),a.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var a=this;a.outline.root.children.length>0&&(a.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&a.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var a=this;a.outline={createNamedDestinations:!1,root:{children:[]}},a.outline.add=function(s,n,i){var l={title:n,options:i,children:[]};return s==null&&(s=this.root),s.children.push(l),l},a.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=a,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},a.outline.genIds_r=function(s){s.id=a.internal.newObjectDeferred();for(var n=0;n<s.children.length;n++)this.genIds_r(s.children[n])},a.outline.renderRoot=function(s){this.objStart(s),this.line("/Type /Outlines"),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1]))),this.line("/Count "+this.count_r({count:0},s)),this.objEnd()},a.outline.renderItems=function(s){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<s.children.length;i++){var l=s.children[i];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(s)),i>0&&this.line("/Prev "+this.makeRef(s.children[i-1])),i<s.children.length-1&&this.line("/Next "+this.makeRef(s.children[i+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var o=this.count=this.count_r({count:0},l);if(o>0&&this.line("/Count "+o),l.options&&l.options.pageNumber){var c=a.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var d=0;d<s.children.length;d++)this.renderItems(s.children[d])},a.outline.line=function(s){this.ctx.val+=s+`\r
`},a.outline.makeRef=function(s){return s.id+" 0 R"},a.outline.makeString=function(s){return"("+a.internal.pdfEscape(s)+")"},a.outline.objStart=function(s){this.ctx.val+=`\r
`+s.id+` 0 obj\r
<<\r
`},a.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},a.outline.count_r=function(s,n){for(var i=0;i<n.children.length;i++)s.count++,this.count_r(s,n.children[i]);return s.count}}])})(ma.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(a,s,n,i,l,o){var c,d=this.decode.DCT_DECODE,u=null;if(typeof a=="string"||this.__addimage__.isArrayBuffer(a)||this.__addimage__.isArrayBufferView(a)){switch(a=l||a,a=this.__addimage__.isArrayBuffer(a)?new Uint8Array(a):a,c=(function(f){for(var x,m=256*f.charCodeAt(4)+f.charCodeAt(5),g=f.length,v={width:0,height:0,numcomponents:1},b=4;b<g;b+=2){if(b+=m,t.indexOf(f.charCodeAt(b+1))!==-1){x=256*f.charCodeAt(b+5)+f.charCodeAt(b+6),v={width:256*f.charCodeAt(b+7)+f.charCodeAt(b+8),height:x,numcomponents:f.charCodeAt(b+9)};break}m=256*f.charCodeAt(b+2)+f.charCodeAt(b+3)}return v})(a=this.__addimage__.isArrayBufferView(a)?this.__addimage__.arrayBufferToBinaryString(a):a),c.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:a,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:d,index:s,alias:n}}return u}})(ma.API),ma.API.processPNG=function(e,t,a,s){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var n,i=wSe(e,{checkCrc:!0}),l=i.width,o=i.height,c=i.channels,d=i.palette,u=i.depth;n=d&&c===1?(function(P){for(var I=P.width,B=P.height,O=P.data,U=P.palette,E=P.depth,R=!1,K=[],V=[],Z=void 0,J=!1,ee=0,W=0;W<U.length;W++){var le=SO(U[W],4),M=le[0],X=le[1],z=le[2],Q=le[3];K.push(M,X,z),Q!=null&&(Q===0?(ee++,V.length<1&&V.push(W)):Q<255&&(J=!0))}if(J||ee>1){R=!0,V=void 0;var ne=I*B;Z=new Uint8Array(ne);for(var re=new DataView(O.buffer),oe=0;oe<ne;oe++){var q=C3(re,oe,E),ie=SO(U[q],4)[3];Z[oe]=ie}}else ee===0&&(V=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:R?8:void 0,colorBytes:O,alphaBytes:Z,needSMask:R,palette:K,mask:V}})(i):c===2||c===4?(function(P){for(var I=P.data,B=P.width,O=P.height,U=P.channels,E=P.depth,R=U===2?"DeviceGray":"DeviceRGB",K=U-1,V=B*O,Z=K,J=V*Z,ee=1*V,W=Math.ceil(J*E/8),le=Math.ceil(ee*E/8),M=new Uint8Array(W),X=new Uint8Array(le),z=new DataView(I.buffer),Q=new DataView(M.buffer),ne=new DataView(X.buffer),re=!1,oe=0;oe<V;oe++){for(var q=oe*U,ie=0;ie<Z;ie++)TR(Q,C3(z,q+ie,E),oe*Z+ie,E);var ye=C3(z,q+Z,E);ye<(1<<E)-1&&(re=!0),TR(ne,ye,1*oe,E)}return{colorSpace:R,colorsPerPixel:K,sMaskBitsPerComponent:re?E:void 0,colorBytes:M,alphaBytes:X,needSMask:re}})(i):(function(P){var I=P.data,B=P.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:B,colorsPerPixel:B==="DeviceGray"?1:3,colorBytes:I instanceof Uint16Array?(function(O){for(var U=O.length,E=new Uint8Array(2*U),R=new DataView(E.buffer,E.byteOffset,E.byteLength),K=0;K<U;K++)R.setUint16(2*K,O[K],!1);return E})(I):I,needSMask:!1}})(i);var f,x,m,g=n,v=g.colorSpace,b=g.colorsPerPixel,j=g.sMaskBitsPerComponent,S=g.colorBytes,k=g.alphaBytes,N=g.needSMask,A=g.palette,_=g.mask,D=null;return s!==ma.API.image_compression.NONE&&typeof AC=="function"?(D=(function(P){var I;switch(P){case ma.API.image_compression.FAST:I=11;break;case ma.API.image_compression.MEDIUM:I=13;break;case ma.API.image_compression.SLOW:I=14;break;default:I=12}return I})(s),f=this.decode.FLATE_DECODE,x="/Predictor ".concat(D," /Colors ").concat(b," /BitsPerComponent ").concat(u," /Columns ").concat(l),e=SR(S,Math.ceil(l*b*u/8),b,u,s),N&&(m=SR(k,Math.ceil(l*j/8),1,j,s))):(f=void 0,x=void 0,e=S,N&&(m=k)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:a,data:e,index:t,filter:f,decodeParameters:x,transparency:_,palette:A,sMask:m,predictor:D,width:l,height:o,bitsPerComponent:u,sMaskBitsPerComponent:j,colorSpace:v}}},(function(e){e.processGIF89A=function(t,a,s,n){var i=new HSe(t),l=i.width,o=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:l,height:o},u=new A3(100).encode(d,100);return e.processJPEG.call(this,u,a,s,n)},e.processGIF87A=e.processGIF89A})(ma.API),ed.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:n,green:s,blue:a,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ed.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(a){ss.log("bit decode error:"+a)}},ed.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),a=t%4;for(e=this.height-1;e>=0;e--){for(var s=this.bottom_up?e:this.height-1-e,n=0;n<t;n++)for(var i=this.datav.getUint8(this.pos++,!0),l=s*this.width*4+8*n*4,o=0;o<8&&8*n+o<this.width;o++){var c=this.palette[i>>7-o&1];this.data[l+4*o]=c.blue,this.data[l+4*o+1]=c.green,this.data[l+4*o+2]=c.red,this.data[l+4*o+3]=255}a!==0&&(this.pos+=4-a)}},ed.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,a=this.height-1;a>=0;a--){for(var s=this.bottom_up?a:this.height-1-a,n=0;n<e;n++){var i=this.datav.getUint8(this.pos++,!0),l=s*this.width*4+2*n*4,o=i>>4,c=15&i,d=this.palette[o];if(this.data[l]=d.blue,this.data[l+1]=d.green,this.data[l+2]=d.red,this.data[l+3]=255,2*n+1>=this.width)break;d=this.palette[c],this.data[l+4]=d.blue,this.data[l+4+1]=d.green,this.data[l+4+2]=d.red,this.data[l+4+3]=255}t!==0&&(this.pos+=4-t)}},ed.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var a=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var n=this.datav.getUint8(this.pos++,!0),i=a*this.width*4+4*s;if(n<this.palette.length){var l=this.palette[n];this.data[i]=l.red,this.data[i+1]=l.green,this.data[i+2]=l.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},ed.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),a=this.height-1;a>=0;a--){for(var s=this.bottom_up?a:this.height-1-a,n=0;n<this.width;n++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,d=i>>15?255:0,u=s*this.width*4+4*n;this.data[u]=c,this.data[u+1]=o,this.data[u+2]=l,this.data[u+3]=d}this.pos+=e}},ed.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),a=parseInt("111111",2),s=this.height-1;s>=0;s--){for(var n=this.bottom_up?s:this.height-1-s,i=0;i<this.width;i++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(l&t)/t*255|0,c=(l>>5&a)/a*255|0,d=(l>>11)/t*255|0,u=n*this.width*4+4*i;this.data[u]=d,this.data[u+1]=c,this.data[u+2]=o,this.data[u+3]=255}this.pos+=e}},ed.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,a=0;a<this.width;a++){var s=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*a;this.data[l]=i,this.data[l+1]=n,this.data[l+2]=s,this.data[l+3]=255}this.pos+=this.width%4}},ed.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,a=0;a<this.width;a++){var s=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*a;this.data[o]=i,this.data[o+1]=n,this.data[o+2]=s,this.data[o+3]=l}},ed.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,a,s,n){var i=new ed(t,!1),l=i.width,o=i.height,c={data:i.getData(),width:l,height:o},d=new A3(100).encode(c,100);return e.processJPEG.call(this,d,a,s,n)}})(ma.API),DR.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,a,s,n){var i=new DR(t),l=i.width,o=i.height,c={data:i.getData(),width:l,height:o},d=new A3(100).encode(c,100);return e.processJPEG.call(this,d,a,s,n)}})(ma.API),ma.API.processRGBA=function(e,t,a){for(var s=e.data,n=s.length,i=new Uint8Array(n/4*3),l=new Uint8Array(n/4),o=0,c=0,d=0;d<n;d+=4){var u=s[d],f=s[d+1],x=s[d+2],m=s[d+3];i[o++]=u,i[o++]=f,i[o++]=x,l[c++]=m}var g=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:g,index:t,alias:a,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},ma.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ep=ma.API,s2=Ep.getCharWidthsArray=function(e,t){var a,s,n=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),l=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:n.metadata.Unicode.widths,c=o.fof?o.fof:1,d=t.kerning?t.kerning:n.metadata.Unicode.kerning,u=d.fof?d.fof:1,f=t.doKerning!==!1,x=0,m=e.length,g=0,v=o[0]||c,b=[];for(a=0;a<m;a++)s=e.charCodeAt(a),typeof n.metadata.widthOfString=="function"?b.push((n.metadata.widthOfGlyph(n.metadata.characterToGlyph(s))+l*(1e3/i)||0)/1e3):(x=f&&Vr(d[s])==="object"&&!isNaN(parseInt(d[s][g],10))?d[s][g]/u:0,b.push((o[s]||v)/c+x)),g=s;return b},wR=Ep.getStringUnitWidth=function(e,t){var a=(t=t||{}).fontSize||this.internal.getFontSize(),s=t.font||this.internal.getFont(),n=t.charSpace||this.internal.getCharSpace();return Ep.processArabic&&(e=Ep.processArabic(e)),typeof s.metadata.widthOfString=="function"?s.metadata.widthOfString(e,a,n)/a:s2.apply(this,arguments).reduce(function(i,l){return i+l},0)},jR=function(e,t,a,s){for(var n=[],i=0,l=e.length,o=0;i!==l&&o+t[i]<a;)o+=t[i],i++;n.push(e.slice(0,i));var c=i;for(o=0;i!==l;)o+t[i]>s&&(n.push(e.slice(c,i)),o=0,c=i),o+=t[i],i++;return c!==i&&n.push(e.slice(c,i)),n},NR=function(e,t,a){a||(a={});var s,n,i,l,o,c,d,u=[],f=[u],x=a.textIndent||0,m=0,g=0,v=e.split(" "),b=s2.apply(this,[" ",a])[0];if(c=a.lineIndent===-1?v[0].length+2:a.lineIndent||0){var j=Array(c).join(" "),S=[];v.map(function(N){(N=N.split(/\s*\n/)).length>1?S=S.concat(N.map(function(A,_){return(_&&A.length?`
`:"")+A})):S.push(N[0])}),v=S,c=wR.apply(this,[j,a])}for(i=0,l=v.length;i<l;i++){var k=0;if(s=v[i],c&&s[0]==`
`&&(s=s.substr(1),k=1),x+m+(g=(n=s2.apply(this,[s,a])).reduce(function(N,A){return N+A},0))>t||k){if(g>t){for(o=jR.apply(this,[s,n,t-(x+m),t]),u.push(o.shift()),u=[o.pop()];o.length;)f.push([o.shift()]);g=n.slice(s.length-(u[0]?u[0].length:0)).reduce(function(N,A){return N+A},0)}else u=[s];f.push(u),x=g+c,m=b}else u.push(s),x+=m+g,m=b}return d=c?function(N,A){return(A?j:"")+N.join(" ")}:function(N){return N.join(" ")},f.map(d)},Ep.splitTextToSize=function(e,t,a){var s,n=(a=a||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle),x="Unicode";return f.metadata[x]?{widths:f.metadata[x].widths||{0:1},kerning:f.metadata[x].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,a);s=Array.isArray(e)?e:String(e).split(/\r?\n/);var l=1*this.internal.scaleFactor*t/n;i.textIndent=a.textIndent?1*a.textIndent*this.internal.scaleFactor/n:0,i.lineIndent=a.lineIndent;var o,c,d=[];for(o=0,c=s.length;o<c;o++)d=d.concat(NR.apply(this,[s[o],l,i]));return d},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",a="klmnopqrstuvwxyz",s={},n={},i=0;i<16;i++)s[a[i]]=t[i],n[t[i]]=a[i];var l=function(x){return"0x"+parseInt(x,10).toString(16)},o=e.__fontmetrics__.compress=function(x){var m,g,v,b,j=["{"];for(var S in x){if(m=x[S],isNaN(parseInt(S,10))?g="'"+S+"'":(S=parseInt(S,10),g=(g=l(S).slice(2)).slice(0,-1)+n[g.slice(-1)]),typeof m=="number")m<0?(v=l(m).slice(3),b="-"):(v=l(m).slice(2),b=""),v=b+v.slice(0,-1)+n[v.slice(-1)];else{if(Vr(m)!=="object")throw new Error("Don't know what to do with value type "+Vr(m)+".");v=o(m)}j.push(g+v)}return j.push("}"),j.join("")},c=e.__fontmetrics__.uncompress=function(x){if(typeof x!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,g,v,b,j={},S=1,k=j,N=[],A="",_="",D=x.length-1,P=1;P<D;P+=1)(b=x[P])=="'"?m?(v=m.join(""),m=void 0):m=[]:m?m.push(b):b=="{"?(N.push([k,v]),k={},v=void 0):b=="}"?((g=N.pop())[0][g[1]]=k,v=void 0,k=g[0]):b=="-"?S=-1:v===void 0?s.hasOwnProperty(b)?(A+=s[b],v=parseInt(A,16)*S,S=1,A=""):A+=b:s.hasOwnProperty(b)?(_+=s[b],k[v]=parseInt(_,16)*S,S=1,v=void 0,_=""):_+=b;return j},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},f={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(x){var m=x.font,g=f.Unicode[m.postScriptName];g&&(m.metadata.Unicode={},m.metadata.Unicode.widths=g.widths,m.metadata.Unicode.kerning=g.kerning);var v=u.Unicode[m.postScriptName];v&&(m.metadata.Unicode.encoding=v,m.encoding=v.codePages[0])}])})(ma.API),(function(e){var t=function(a){for(var s=a.length,n=new Uint8Array(s),i=0;i<s;i++)n[i]=a.charCodeAt(i);return n};e.API.events.push(["addFont",function(a){var s=void 0,n=a.font,i=a.instance;if(!n.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");if(typeof(s=i.existsFileInVFS(n.postScriptName)===!1?i.loadFile(n.postScriptName):i.getFileFromVFS(n.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");(function(l,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(I2(o)),l.metadata=e.API.TTFFont.open(o),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(n,s)}}])})(ma),ma.API.addSvgAsImage=function(e,t,a,s,n,i,l,o){if(isNaN(t)||isNaN(a))throw ss.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(n))throw ss.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=s,c.height=n;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(Ba.canvg?Promise.resolve(Ba.canvg):yi(()=>import("./index.es-DsMqAgMh.js"),[])).catch(function(x){return Promise.reject(new Error("Could not load canvg: "+x))}).then(function(x){return x.default?x.default:x}).then(function(x){return x.fromString(d,e,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(u)}).then(function(){f.addImage(c.toDataURL("image/jpeg",1),t,a,s,n,l,o)})},ma.API.putTotalPages=function(e){var t,a=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),a=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),a=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var s=1;s<=this.internal.getNumberOfPages();s++)for(var n=0;n<this.internal.pages[s].length;n++)this.internal.pages[s][n]=this.internal.pages[s][n].replace(t,a);return this},ma.API.viewerPreferences=function(e,t){var a;e=e||{},t=t||!1;var s,n,i,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(l),c=[],d=0,u=0,f=0;function x(g,v){var b,j=!1;for(b=0;b<g.length;b+=1)g[b]===v&&(j=!0);return j}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),a=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var m=o.length;for(f=0;f<m;f+=1)a[o[f]].value=a[o[f]].defaultValue,a[o[f]].explicitSet=!1}if(Vr(e)==="object"){for(n in e)if(i=e[n],x(o,n)&&i!==void 0){if(a[n].type==="boolean"&&typeof i=="boolean")a[n].value=i;else if(a[n].type==="name"&&x(a[n].valueSet,i))a[n].value=i;else if(a[n].type==="integer"&&Number.isInteger(i))a[n].value=i;else if(a[n].type==="array"){for(d=0;d<i.length;d+=1)if(s=!0,i[d].length===1&&typeof i[d][0]=="number")c.push(String(i[d]-1));else if(i[d].length>1){for(u=0;u<i[d].length;u+=1)typeof i[d][u]!="number"&&(s=!1);s===!0&&c.push([i[d][0]-1,i[d][1]-1].join(" "))}a[n].value="["+c.join(" ")+"]"}else a[n].value=a[n].defaultValue;a[n].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,v=[];for(g in a)a[g].explicitSet===!0&&(a[g].type==="name"?v.push("/"+g+" /"+a[g].value):v.push("/"+g+" "+a[g].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=a,this},(function(e){var t=function(){var s='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',n=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(s)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=i.length+l.length+o.length+n.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(n+i+l+o+c),this.internal.write("endstream"),this.internal.write("endobj")},a=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(s,n){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:s,namespaceuri:n||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",a),this.internal.events.subscribe("postPutResources",t)),this}})(ma.API),(function(e){var t=e.API,a=t.pdfEscape16=function(i,l){for(var o,c=l.metadata.Unicode.widths,d=["","0","00","000","0000"],u=[""],f=0,x=i.length;f<x;++f){if(o=l.metadata.characterToGlyph(i.charCodeAt(f)),l.metadata.glyIdsUsed.push(o),l.metadata.toUnicode[o]=i.charCodeAt(f),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(l.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(d[4-o.length],o)}return u.join("")},s=function(i){var l,o,c,d,u,f,x;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,x=(o=Object.keys(i).sort(function(m,g){return m-g})).length;f<x;f++)l=o[f],c.length>=100&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[l]!==void 0&&i[l]!==null&&typeof i[l].toString=="function"&&(d=("0000"+i[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),c.push("<"+l+"><"+d+">"));return c.length&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(l){var o=l.font,c=l.out,d=l.newObject,u=l.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,x=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),m="",g=0;g<x.length;g++)m+=String.fromCharCode(x[g]);var v=d();u({data:m,addLength1:!0,objectId:v}),c("endobj");var b=d();u({data:s(o.metadata.toUnicode),addLength1:!0,objectId:b}),c("endobj");var j=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Fp(o.fontName)),c("/FontFile2 "+v+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var S=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+Fp(o.fontName)),c("/FontDescriptor "+j+" 0 R"),c("/W "+e.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+b+" 0 R"),c("/BaseFont /"+Fp(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+S+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(l){var o=l.font,c=l.out,d=l.newObject,u=l.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,x="",m=0;m<f.length;m++)x+=String.fromCharCode(f[m]);var g=d();u({data:x,addLength1:!0,objectId:g}),c("endobj");var v=d();u({data:s(o.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var b=d();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+g+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+Fp(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=d();for(var j=0;j<o.metadata.hmtx.widths.length;j++)o.metadata.hmtx.widths[j]=parseInt(o.metadata.hmtx.widths[j]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+Fp(o.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]);var n=function(i){var l,o=i.text||"",c=i.x,d=i.y,u=i.options||{},f=i.mutex||{},x=f.pdfEscape,m=f.activeFontKey,g=f.fonts,v=m,b="",j=0,S="",k=g[v].encoding;if(g[v].encoding!=="Identity-H")return{text:o,x:c,y:d,options:u,mutex:f};for(S=o,v=m,Array.isArray(o)&&(S=o[0]),j=0;j<S.length;j+=1)g[v].metadata.hasOwnProperty("cmap")&&(l=g[v].metadata.cmap.unicode.codeMap[S[j].charCodeAt(0)]),l||S[j].charCodeAt(0)<256&&g[v].metadata.hasOwnProperty("Unicode")?b+=S[j]:b+="";var N="";return parseInt(v.slice(1))<14||k==="WinAnsiEncoding"?N=x(b,v).split("").map(function(A){return A.charCodeAt(0).toString(16)}).join(""):k==="Identity-H"&&(N=a(b,g[v])),f.isHex=!0,{text:N,x:c,y:d,options:u,mutex:f}};t.events.push(["postProcessText",function(i){var l=i.text||"",o=[],c={text:l,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(l)){var d=0;for(d=0;d<l.length;d+=1)Array.isArray(l[d])&&l[d].length===3?o.push([n(Object.assign({},c,{text:l[d][0]})).text,l[d][1],l[d][2]]):o.push(n(Object.assign({},c,{text:l[d]})).text);i.text=o}else i.text=n(Object.assign({},c,{text:l})).text}])})(ma),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(a){return t.call(this),this.internal.vFS[a]!==void 0},e.addFileToVFS=function(a,s){return t.call(this),this.internal.vFS[a]=s,this},e.getFileFromVFS=function(a){return t.call(this),this.internal.vFS[a]!==void 0?this.internal.vFS[a]:null}})(ma.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(s){var n,i,l,o,c,d,u,f=t,x=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],j=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),S=!1,k=0;this.__bidiEngine__={};var N=function(O){var U=O.charCodeAt(),E=U>>8,R=v[E];return R!==void 0?f[256*R+(255&U)]:E===252||E===253?"AL":j.test(E)?"L":E===8?"R":"N"},A=function(O){for(var U,E=0;E<O.length;E++){if((U=N(O.charAt(E)))==="L")return!1;if(U==="R")return!0}return!1},_=function(O,U,E,R){var K,V,Z,J,ee=U[R];switch(ee){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":S=!1;break;case"N":case"AN":break;case"EN":S&&(ee="AN");break;case"AL":S=!0,ee="R";break;case"WS":case"BN":ee="N";break;case"CS":R<1||R+1>=U.length||(K=E[R-1])!=="EN"&&K!=="AN"||(V=U[R+1])!=="EN"&&V!=="AN"?ee="N":S&&(V="AN"),ee=V===K?V:"N";break;case"ES":ee=(K=R>0?E[R-1]:"B")==="EN"&&R+1<U.length&&U[R+1]==="EN"?"EN":"N";break;case"ET":if(R>0&&E[R-1]==="EN"){ee="EN";break}if(S){ee="N";break}for(Z=R+1,J=U.length;Z<J&&U[Z]==="ET";)Z++;ee=Z<J&&U[Z]==="EN"?"EN":"N";break;case"NSM":if(l&&!o){for(J=U.length,Z=R+1;Z<J&&U[Z]==="NSM";)Z++;if(Z<J){var W=O[R],le=W>=1425&&W<=2303||W===64286;if(K=U[Z],le&&(K==="R"||K==="AL")){ee="R";break}}}ee=R<1||(K=U[R-1])==="B"?"N":E[R-1];break;case"B":S=!1,n=!0,ee=k;break;case"S":i=!0,ee="N"}return ee},D=function(O,U,E){var R=O.split("");return E&&P(R,E,{hiLevel:k}),R.reverse(),U&&U.reverse(),R.join("")},P=function(O,U,E){var R,K,V,Z,J,ee=-1,W=O.length,le=0,M=[],X=k?m:x,z=[];for(S=!1,n=!1,i=!1,K=0;K<W;K++)z[K]=N(O[K]);for(V=0;V<W;V++){if(J=le,M[V]=_(O,z,M,V),R=240&(le=X[J][g[M[V]]]),le&=15,U[V]=Z=X[le][5],R>0)if(R===16){for(K=ee;K<V;K++)U[K]=1;ee=-1}else ee=-1;if(X[le][6])ee===-1&&(ee=V);else if(ee>-1){for(K=ee;K<V;K++)U[K]=Z;ee=-1}z[V]==="B"&&(U[V]=0),E.hiLevel|=Z}i&&(function(Q,ne,re){for(var oe=0;oe<re;oe++)if(Q[oe]==="S"){ne[oe]=k;for(var q=oe-1;q>=0&&Q[q]==="WS";q--)ne[q]=k}})(z,U,W)},I=function(O,U,E,R,K){if(!(K.hiLevel<O)){if(O===1&&k===1&&!n)return U.reverse(),void(E&&E.reverse());for(var V,Z,J,ee,W=U.length,le=0;le<W;){if(R[le]>=O){for(J=le+1;J<W&&R[J]>=O;)J++;for(ee=le,Z=J-1;ee<Z;ee++,Z--)V=U[ee],U[ee]=U[Z],U[Z]=V,E&&(V=E[ee],E[ee]=E[Z],E[Z]=V);le=J}le++}}},B=function(O,U,E){var R=O.split(""),K={hiLevel:k};return E||(E=[]),P(R,E,K),(function(V,Z,J){if(J.hiLevel!==0&&u)for(var ee,W=0;W<V.length;W++)Z[W]===1&&(ee=b.indexOf(V[W]))>=0&&(V[W]=b[ee+1])})(R,E,K),I(2,R,U,E,K),I(1,R,U,E,K),R.join("")};return this.__bidiEngine__.doBidiReorder=function(O,U,E){if((function(K,V){if(V)for(var Z=0;Z<K.length;Z++)V[Z]=Z;o===void 0&&(o=A(K)),d===void 0&&(d=A(K))})(O,U),l||!c||d)if(l&&c&&o^d)k=o?1:0,O=D(O,U,E);else if(!l&&c&&d)k=o?1:0,O=B(O,U,E),O=D(O,U);else if(!l||o||c||d){if(l&&!c&&o^d)O=D(O,U),o?(k=0,O=B(O,U,E)):(k=1,O=B(O,U,E),O=D(O,U));else if(l&&o&&!c&&d)k=1,O=B(O,U,E),O=D(O,U);else if(!l&&!c&&o^d){var R=u;o?(k=1,O=B(O,U,E),k=0,u=!1,O=B(O,U,E),u=R):(k=0,O=B(O,U,E),O=D(O,U),k=1,u=!1,O=B(O,U,E),u=R,O=D(O,U))}}else k=0,O=B(O,U,E);else k=o?1:0,O=B(O,U,E);return O},this.__bidiEngine__.setOptions=function(O){O&&(l=O.isInputVisual,c=O.isOutputVisual,o=O.isInputRtl,d=O.isOutputRtl,u=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(s),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],a=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(s){var n=s.text;s.x,s.y;var i=s.options||{};s.mutex,i.lang;var l=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,a.setOptions(i),Object.prototype.toString.call(n)==="[object Array]"){var o=0;for(l=[],o=0;o<n.length;o+=1)Object.prototype.toString.call(n[o])==="[object Array]"?l.push([a.doBidiReorder(n[o][0]),n[o][1],n[o][2]]):l.push([a.doBidiReorder(n[o])]);s.text=l}else s.text=a.doBidiReorder(n);a.setOptions({isInputVisual:!0})}])})(ma),ma.API.TTFFont=(function(){function e(t){var a;if(this.rawData=t,a=this.contents=new Ff(t),this.contents.pos=4,a.readString(4)==="ttcf")throw new Error("TTCF not supported.");a.pos=0,this.parse(),this.subset=new ske(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new VSe(this.contents),this.head=new qSe(this),this.name=new JSe(this),this.cmap=new oG(this),this.toUnicode={},this.hhea=new GSe(this),this.maxp=new QSe(this),this.hmtx=new ZSe(this),this.post=new YSe(this),this.os2=new KSe(this),this.loca=new rke(this),this.glyf=new eke(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,a,s,n,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,o,c,d;for(d=[],l=0,o=(c=this.bbox).length;l<o;l++)t=c[l],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(s=255&(n=this.post.italic_angle),32768&(a=n>>16)&&(a=-(1+(65535^a))),this.italicAngle=+(a+"."+s)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var a;return((a=this.cmap.unicode)!=null?a.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var a;return a=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*a},e.prototype.widthOfString=function(t,a,s){var n,i,l,o;for(l=0,i=0,o=(t=""+t).length;0<=o?i<o:i>o;i=0<=o?++i:--i)n=t.charCodeAt(i),l+=this.widthOfGlyph(this.characterToGlyph(n))+s*(1e3/a)||0;return l*(a/1e3)},e.prototype.lineHeight=function(t,a){var s;return a==null&&(a=!1),s=a?this.lineGap:0,(this.ascender+s-this.decender)/1e3*t},e})();var vd,Ff=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var a,s;for(s=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)s[a]=String.fromCharCode(this.readByte());return s.join("")},e.prototype.writeString=function(t){var a,s,n;for(n=[],a=0,s=t.length;0<=s?a<s:a>s;a=0<=s?++a:--a)n.push(this.writeByte(t.charCodeAt(a)));return n},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,a,s,n,i,l,o,c;return t=this.readByte(),a=this.readByte(),s=this.readByte(),n=this.readByte(),i=this.readByte(),l=this.readByte(),o=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^a)+1099511627776*(255^s)+4294967296*(255^n)+16777216*(255^i)+65536*(255^l)+256*(255^o)+(255^c)+1):72057594037927940*t+281474976710656*a+1099511627776*s+4294967296*n+16777216*i+65536*l+256*o+c},e.prototype.writeLongLong=function(t){var a,s;return a=Math.floor(t/4294967296),s=4294967295&t,this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a),this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var a,s;for(a=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)a.push(this.readByte());return a},e.prototype.write=function(t){var a,s,n,i;for(i=[],s=0,n=t.length;s<n;s++)a=t[s],i.push(this.writeByte(a));return i},e})(),VSe=(function(){var e;function t(a){var s,n,i;for(this.scalarType=a.readInt(),this.tableCount=a.readShort(),this.searchRange=a.readShort(),this.entrySelector=a.readShort(),this.rangeShift=a.readShort(),this.tables={},n=0,i=this.tableCount;0<=i?n<i:n>i;n=0<=i?++n:--n)s={tag:a.readString(4),checksum:a.readInt(),offset:a.readInt(),length:a.readInt()},this.tables[s.tag]=s}return t.prototype.encode=function(a){var s,n,i,l,o,c,d,u,f,x,m,g,v;for(v in m=Object.keys(a).length,c=Math.log(2),f=16*Math.floor(Math.log(m)/c),l=Math.floor(f/c),u=16*m-f,(n=new Ff).writeInt(this.scalarType),n.writeShort(m),n.writeShort(f),n.writeShort(l),n.writeShort(u),i=16*m,d=n.pos+i,o=null,g=[],a)for(x=a[v],n.writeString(v),n.writeInt(e(x)),n.writeInt(d),n.writeInt(x.length),g=g.concat(x),v==="head"&&(o=d),d+=x.length;d%4;)g.push(0),d++;return n.write(g),s=2981146554-e(n.data),n.pos=o+8,n.writeUInt32(s),n.data},e=function(a){var s,n,i,l;for(a=cG.call(a);a.length%4;)a.push(0);for(i=new Ff(a),n=0,s=0,l=a.length;s<l;s=s+=4)n+=i.readUInt32();return 4294967295&n},t})(),WSe={}.hasOwnProperty,ou=function(e,t){for(var a in t)WSe.call(t,a)&&(e[a]=t[a]);function s(){this.constructor=e}return s.prototype=t.prototype,e.prototype=new s,e.__super__=t.prototype,e};vd=(function(){function e(t){var a;this.file=t,a=this.file.directory.tables[this.tag],this.exists=!!a,a&&(this.offset=a.offset,this.length=a.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var qSe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ou(e,vd),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var a;return(a=new Ff).writeInt(this.version),a.writeInt(this.revision),a.writeInt(this.checkSumAdjustment),a.writeInt(this.magicNumber),a.writeShort(this.flags),a.writeShort(this.unitsPerEm),a.writeLongLong(this.created),a.writeLongLong(this.modified),a.writeShort(this.xMin),a.writeShort(this.yMin),a.writeShort(this.xMax),a.writeShort(this.yMax),a.writeShort(this.macStyle),a.writeShort(this.lowestRecPPEM),a.writeShort(this.fontDirectionHint),a.writeShort(t),a.writeShort(this.glyphDataFormat),a.data},e})(),MR=(function(){function e(t,a){var s,n,i,l,o,c,d,u,f,x,m,g,v,b,j,S,k;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=a+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(m=t.readUInt16(),x=m/2,t.pos+=6,i=(function(){var N,A;for(A=[],c=N=0;0<=x?N<x:N>x;c=0<=x?++N:--N)A.push(t.readUInt16());return A})(),t.pos+=2,v=(function(){var N,A;for(A=[],c=N=0;0<=x?N<x:N>x;c=0<=x?++N:--N)A.push(t.readUInt16());return A})(),d=(function(){var N,A;for(A=[],c=N=0;0<=x?N<x:N>x;c=0<=x?++N:--N)A.push(t.readUInt16());return A})(),u=(function(){var N,A;for(A=[],c=N=0;0<=x?N<x:N>x;c=0<=x?++N:--N)A.push(t.readUInt16());return A})(),n=(this.length-t.pos+this.offset)/2,o=(function(){var N,A;for(A=[],c=N=0;0<=n?N<n:N>n;c=0<=n?++N:--N)A.push(t.readUInt16());return A})(),c=j=0,k=i.length;j<k;c=++j)for(b=i[c],s=S=g=v[c];g<=b?S<=b:S>=b;s=g<=b?++S:--S)u[c]===0?l=s+d[c]:(l=o[u[c]/2+(s-g)-(x-c)]||0)!==0&&(l+=d[c]),this.codeMap[s]=65535&l}t.pos=f}return e.encode=function(t,a){var s,n,i,l,o,c,d,u,f,x,m,g,v,b,j,S,k,N,A,_,D,P,I,B,O,U,E,R,K,V,Z,J,ee,W,le,M,X,z,Q,ne,re,oe,q,ie,ye,Y;switch(R=new Ff,l=Object.keys(t).sort(function(ce,he){return ce-he}),a){case"macroman":for(v=0,b=(function(){var ce=[];for(g=0;g<256;++g)ce.push(0);return ce})(),S={0:0},i={},K=0,ee=l.length;K<ee;K++)S[q=t[n=l[K]]]==null&&(S[q]=++v),i[n]={old:t[n],new:S[t[n]]},b[n]=S[t[n]];return R.writeUInt16(1),R.writeUInt16(0),R.writeUInt32(12),R.writeUInt16(0),R.writeUInt16(262),R.writeUInt16(0),R.write(b),{charMap:i,subtable:R.data,maxGlyphID:v+1};case"unicode":for(U=[],f=[],k=0,S={},s={},j=d=null,V=0,W=l.length;V<W;V++)S[A=t[n=l[V]]]==null&&(S[A]=++k),s[n]={old:A,new:S[A]},o=S[A]-n,j!=null&&o===d||(j&&f.push(j),U.push(n),d=o),j=n;for(j&&f.push(j),f.push(65535),U.push(65535),B=2*(I=U.length),P=2*Math.pow(Math.log(I)/Math.LN2,2),x=Math.log(P/2)/Math.LN2,D=2*I-P,c=[],_=[],m=[],g=Z=0,le=U.length;Z<le;g=++Z){if(O=U[g],u=f[g],O===65535){c.push(0),_.push(0);break}if(O-(E=s[O].new)>=32768)for(c.push(0),_.push(2*(m.length+I-g)),n=J=O;O<=u?J<=u:J>=u;n=O<=u?++J:--J)m.push(s[n].new);else c.push(E-O),_.push(0)}for(R.writeUInt16(3),R.writeUInt16(1),R.writeUInt32(12),R.writeUInt16(4),R.writeUInt16(16+8*I+2*m.length),R.writeUInt16(0),R.writeUInt16(B),R.writeUInt16(P),R.writeUInt16(x),R.writeUInt16(D),re=0,M=f.length;re<M;re++)n=f[re],R.writeUInt16(n);for(R.writeUInt16(0),oe=0,X=U.length;oe<X;oe++)n=U[oe],R.writeUInt16(n);for(ie=0,z=c.length;ie<z;ie++)o=c[ie],R.writeUInt16(o);for(ye=0,Q=_.length;ye<Q;ye++)N=_[ye],R.writeUInt16(N);for(Y=0,ne=m.length;Y<ne;Y++)v=m[Y],R.writeUInt16(v);return{charMap:s,subtable:R.data,maxGlyphID:k+1}}},e})(),oG=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ou(e,vd),e.prototype.tag="cmap",e.prototype.parse=function(t){var a,s,n;for(t.pos=this.offset,this.version=t.readUInt16(),n=t.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)a=new MR(t,this.offset),this.tables.push(a),a.isUnicode&&this.unicode==null&&(this.unicode=a);return!0},e.encode=function(t,a){var s,n;return a==null&&(a="macroman"),s=MR.encode(t,a),(n=new Ff).writeUInt16(0),n.writeUInt16(1),s.table=n.data.concat(s.subtable),s},e})(),GSe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ou(e,vd),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),KSe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ou(e,vd),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var a,s;for(s=[],a=0;a<10;++a)s.push(t.readByte());return s})(),this.charRange=(function(){var a,s;for(s=[],a=0;a<4;++a)s.push(t.readInt());return s})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var a,s;for(s=[],a=0;a<2;a=++a)s.push(t.readInt());return s})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),YSe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ou(e,vd),e.prototype.tag="post",e.prototype.parse=function(t){var a,s,n;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(s=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],n=[];t.pos<this.offset+this.length;)a=t.readByte(),n.push(this.names.push(t.readString(a)));return n;case 151552:return s=t.readUInt16(),this.offsets=t.read(s);case 262144:return this.map=(function(){var l,o,c;for(c=[],i=l=0,o=this.file.maxp.numGlyphs;0<=o?l<o:l>o;i=0<=o?++l:--l)c.push(t.readUInt32());return c}).call(this)}},e})(),XSe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},JSe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ou(e,vd),e.prototype.tag="name",e.prototype.parse=function(t){var a,s,n,i,l,o,c,d,u,f,x;for(t.pos=this.offset,t.readShort(),a=t.readShort(),o=t.readShort(),s=[],i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)s.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+o+t.readShort()});for(c={},i=u=0,f=s.length;u<f;i=++u)n=s[i],t.pos=n.offset,d=t.readString(n.length),l=new XSe(d,n),c[x=n.nameID]==null&&(c[x]=[]),c[n.nameID].push(l);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e})(),QSe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ou(e,vd),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),ZSe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ou(e,vd),e.prototype.tag="hmtx",e.prototype.parse=function(t){var a,s,n,i,l,o,c;for(t.pos=this.offset,this.metrics=[],a=0,o=this.file.hhea.numberOfMetrics;0<=o?a<o:a>o;a=0<=o?++a:--a)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(n=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,u;for(u=[],a=d=0;0<=n?d<n:d>n;a=0<=n?++d:--d)u.push(t.readInt16());return u})(),this.widths=(function(){var d,u,f,x;for(x=[],d=0,u=(f=this.metrics).length;d<u;d++)i=f[d],x.push(i.advance);return x}).call(this),s=this.widths[this.widths.length-1],c=[],a=l=0;0<=n?l<n:l>n;a=0<=n?++l:--l)c.push(this.widths.push(s));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),cG=[].slice,eke=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ou(e,vd),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var a,s,n,i,l,o,c,d,u,f;return t in this.cache?this.cache[t]:(i=this.file.loca,a=this.file.contents,s=i.indexOf(t),(n=i.lengthOf(t))===0?this.cache[t]=null:(a.pos=this.offset+s,l=(o=new Ff(a.read(n))).readShort(),d=o.readShort(),f=o.readShort(),c=o.readShort(),u=o.readShort(),this.cache[t]=l===-1?new ake(o,d,f,c,u):new tke(o,l,d,f,c,u),this.cache[t]))},e.prototype.encode=function(t,a,s){var n,i,l,o,c;for(l=[],i=[],o=0,c=a.length;o<c;o++)n=t[a[o]],i.push(l.length),n&&(l=l.concat(n.encode(s)));return i.push(l.length),{table:l,offsets:i}},e})(),tke=(function(){function e(t,a,s,n,i,l){this.raw=t,this.numberOfContours=a,this.xMin=s,this.yMin=n,this.xMax=i,this.yMax=l,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),ake=(function(){function e(t,a,s,n,i){var l,o;for(this.raw=t,this.xMin=a,this.yMin=s,this.xMax=n,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;o=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&o;)l.pos+=1&o?4:2,128&o?l.pos+=8:64&o?l.pos+=4:8&o&&(l.pos+=2)}return e.prototype.encode=function(){var t,a,s;for(a=new Ff(cG.call(this.raw.data)),t=0,s=this.glyphIDs.length;t<s;++t)a.pos=this.glyphOffsets[t];return a.data},e})(),rke=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ou(e,vd),e.prototype.tag="loca",e.prototype.parse=function(t){var a,s;return t.pos=this.offset,a=this.file.head.indexToLocFormat,this.offsets=a===0?(function(){var n,i;for(i=[],s=0,n=this.length;s<n;s+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var n,i;for(i=[],s=0,n=this.length;s<n;s+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,a){for(var s=new Uint32Array(this.offsets.length),n=0,i=0,l=0;l<s.length;++l)if(s[l]=n,i<a.length&&a[i]==l){++i,s[l]=n;var o=this.offsets[l],c=this.offsets[l+1]-o;c>0&&(n+=c)}for(var d=new Array(4*s.length),u=0;u<s.length;++u)d[4*u+3]=255&s[u],d[4*u+2]=(65280&s[u])>>8,d[4*u+1]=(16711680&s[u])>>16,d[4*u]=(4278190080&s[u])>>24;return d},e})(),ske=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,a,s,n,i;for(a in n=this.font.cmap.tables[0].codeMap,t={},i=this.subset)s=i[a],t[a]=n[s];return t},e.prototype.glyphsFor=function(t){var a,s,n,i,l,o,c;for(n={},l=0,o=t.length;l<o;l++)n[i=t[l]]=this.font.glyf.glyphFor(i);for(i in a=[],n)(s=n[i])!=null&&s.compound&&a.push.apply(a,s.glyphIDs);if(a.length>0)for(i in c=this.glyphsFor(a))s=c[i],n[i]=s;return n},e.prototype.encode=function(t,a){var s,n,i,l,o,c,d,u,f,x,m,g,v,b,j;for(n in s=oG.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(t),m={0:0},j=s.charMap)m[(c=j[n]).old]=c.new;for(g in x=s.maxGlyphID,l)g in m||(m[g]=x++);return u=(function(S){var k,N;for(k in N={},S)N[S[k]]=k;return N})(m),f=Object.keys(u).sort(function(S,k){return S-k}),v=(function(){var S,k,N;for(N=[],S=0,k=f.length;S<k;S++)o=f[S],N.push(u[o]);return N})(),i=this.font.glyf.encode(l,v,m),d=this.font.loca.encode(i.offsets,v),b={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(a)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},e})();ma.API.PDFObject=(function(){var e;function t(){}return e=function(a,s){return(Array(s+1).join("0")+a).slice(-s)},t.convert=function(a){var s,n,i,l;if(Array.isArray(a))return"["+(function(){var o,c,d;for(d=[],o=0,c=a.length;o<c;o++)s=a[o],d.push(t.convert(s));return d})().join(" ")+"]";if(typeof a=="string")return"/"+a;if(a?.isString)return"("+a+")";if(a instanceof Date)return"(D:"+e(a.getUTCFullYear(),4)+e(a.getUTCMonth(),2)+e(a.getUTCDate(),2)+e(a.getUTCHours(),2)+e(a.getUTCMinutes(),2)+e(a.getUTCSeconds(),2)+"Z)";if({}.toString.call(a)==="[object Object]"){for(n in i=["<<"],a)l=a[n],i.push("/"+n+" "+t.convert(l));return i.push(">>"),i.join(`
`)}return""+a},t})();const Sw=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:OSe,AcroFormAppearance:ha,AcroFormButton:Yn,AcroFormCheckBox:E1,AcroFormChoiceField:em,AcroFormComboBox:am,AcroFormEditBox:_1,AcroFormListBox:tm,AcroFormPasswordField:D1,AcroFormPushButton:T1,AcroFormRadioButton:rm,AcroFormTextField:Af,GState:mv,ShadingPattern:xf,TilingPattern:$0,default:ma,jsPDF:ma},Symbol.toStringTag,{value:"Module"}));function dG(e,t,a,s,n){s=s||{};var i=1.15,l=n.internal.scaleFactor,o=n.internal.getFontSize()/l,c=n.getLineHeightFactor?n.getLineHeightFactor():i,d=o*c,u=/\r\n|\r|\n/g,f="",x=1;if((s.valign==="middle"||s.valign==="bottom"||s.halign==="center"||s.halign==="right")&&(f=typeof e=="string"?e.split(u):e,x=f.length||1),a+=o*(2-i),s.valign==="middle"?a-=x/2*d:s.valign==="bottom"&&(a-=x*d),s.halign==="center"||s.halign==="right"){var m=o;if(s.halign==="center"&&(m*=.5),f&&x>=1){for(var g=0;g<f.length;g++)n.text(f[g],t-n.getStringUnitWidth(f[g])*m,a),a+=d;return n}t-=n.getStringUnitWidth(e)*m}return s.halign==="justify"?n.text(e,t,a,{maxWidth:s.maxWidth||100,align:"justify"}):n.text(e,t,a),n}var PR={},Jp=(function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,a){a===void 0&&(a=null),a?a.__autoTableDocumentDefaults=t:PR=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,a){var s,n,i;a===void 0&&(a=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var l=this.jsPDFDocument.internal.getFont(),o=l.fontStyle,c=l.fontName;if(t.font&&(c=t.font),t.fontStyle){o=t.fontStyle;var d=this.getFontList()[c];d&&d.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),o=d[0])}if(this.jsPDFDocument.setFont(c,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!a){var u=e.unifyColor(t.fillColor);u&&(s=this.jsPDFDocument).setFillColor.apply(s,u),u=e.unifyColor(t.textColor),u&&(n=this.jsPDFDocument).setTextColor.apply(n,u),u=e.unifyColor(t.lineColor),u&&(i=this.jsPDFDocument).setDrawColor.apply(i,u),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,a,s){return this.jsPDFDocument.splitTextToSize(t,a,s)},e.prototype.rect=function(t,a,s,n,i){return this.jsPDFDocument.rect(t,a,s,n,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return PR||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e})(),OC=function(e,t){return OC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(a[n]=s[n])},OC(e,t)};function uG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");OC(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}var hG=(function(e){uG(t,e);function t(a){var s=e.call(this)||this;return s._element=a,s}return t})(Array);function nke(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function ike(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function kw(e,t,a){a.applyStyles(t,!0);var s=Array.isArray(e)?e:[e],n=s.map(function(i){return a.getTextWidth(i)}).reduce(function(i,l){return Math.max(i,l)},0);return n}function fG(e,t,a,s){var n=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:n,lineColor:i});var l=mG(n,!1);l&&e.rect(a.x,a.y,t.getWidth(e.pageSize().width),s.y-a.y,l)}function mG(e,t){var a=e>0,s=t||t===0;return a&&s?"DF":a?"S":s?"F":null}function sN(e,t){var a,s,n,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(a=e.left)!==null&&a!==void 0?a:t,top:(s=e.top)!==null&&s!==void 0?s:t,right:(n=e.right)!==null&&n!==void 0?n:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function pG(e,t){var a=sN(t.settings.margin,0);return e.pageSize().width-(a.left+a.right)}function lke(e,t,a,s,n){var i={},l=1.3333333333333333,o=_3(t,function(k){return n.getComputedStyle(k).backgroundColor});o!=null&&(i.fillColor=o);var c=_3(t,function(k){return n.getComputedStyle(k).color});c!=null&&(i.textColor=c);var d=cke(s,a);d&&(i.cellPadding=d);var u="borderTopColor",f=l*a,x=s.borderTopWidth;if(s.borderBottomWidth===x&&s.borderRightWidth===x&&s.borderLeftWidth===x){var m=(parseFloat(x)||0)/f;m&&(i.lineWidth=m)}else i.lineWidth={top:(parseFloat(s.borderTopWidth)||0)/f,right:(parseFloat(s.borderRightWidth)||0)/f,bottom:(parseFloat(s.borderBottomWidth)||0)/f,left:(parseFloat(s.borderLeftWidth)||0)/f},i.lineWidth.top||(i.lineWidth.right?u="borderRightColor":i.lineWidth.bottom?u="borderBottomColor":i.lineWidth.left&&(u="borderLeftColor"));var g=_3(t,function(k){return n.getComputedStyle(k)[u]});g!=null&&(i.lineColor=g);var v=["left","right","center","justify"];v.indexOf(s.textAlign)!==-1&&(i.halign=s.textAlign),v=["middle","bottom","top"],v.indexOf(s.verticalAlign)!==-1&&(i.valign=s.verticalAlign);var b=parseInt(s.fontSize||"");isNaN(b)||(i.fontSize=b/l);var j=oke(s);j&&(i.fontStyle=j);var S=(s.fontFamily||"").toLowerCase();return e.indexOf(S)!==-1&&(i.font=S),i}function oke(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function _3(e,t){var a=xG(e,t);if(!a)return null;var s=a.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!s||!Array.isArray(s))return null;var n=[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])],i=parseInt(s[4]);return i===0||isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function xG(e,t){var a=t(e);return a==="rgba(0, 0, 0, 0)"||a==="transparent"||a==="initial"||a==="inherit"?e.parentElement==null?null:xG(e.parentElement,t):a}function cke(e,t){var a=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],s=96/(72/t),n=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=a.map(function(o){return parseInt(o||"0")/s}),l=sN(i,0);return n>l.top&&(l.top=n),n>l.bottom&&(l.bottom=n),l}function gG(e,t,a,s,n){var i,l;s===void 0&&(s=!1),n===void 0&&(n=!1);var o;typeof t=="string"?o=a.document.querySelector(t):o=t;var c=Object.keys(e.getFontList()),d=e.scaleFactor(),u=[],f=[],x=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:u,body:f,foot:x};for(var m=0;m<o.rows.length;m++){var g=o.rows[m],v=(l=(i=g?.parentElement)===null||i===void 0?void 0:i.tagName)===null||l===void 0?void 0:l.toLowerCase(),b=dke(c,d,a,g,s,n);b&&(v==="thead"?u.push(b):v==="tfoot"?x.push(b):f.push(b))}return{head:u,body:f,foot:x}}function dke(e,t,a,s,n,i){for(var l=new hG(s),o=0;o<s.cells.length;o++){var c=s.cells[o],d=a.getComputedStyle(c);if(n||d.display!=="none"){var u=void 0;i&&(u=lke(e,c,t,d,a)),l.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:u,_element:c,content:uke(c)})}}var f=a.getComputedStyle(s);if(l.length>0&&(n||f.display!=="none"))return l}function uke(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(a){return a.trim()}).join(`
`),t.innerText||t.textContent||""}function hke(e,t,a){for(var s=0,n=[e,t,a];s<n.length;s++){var i=n[s];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function Yu(e,t,a,s,n){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),l=1;l<arguments.length;l++){var o=arguments[l];if(o!=null)for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(i[c]=o[c])}return i}function V8(e,t){var a=new Jp(e),s=a.getDocumentOptions(),n=a.getGlobalOptions();hke(n,s,t);var i=Yu({},n,s,t),l;typeof window<"u"&&(l=window);var o=fke(n,s,t),c=mke(n,s,t),d=pke(a,i),u=gke(a,i,l);return{id:t.tableId,content:u,hooks:c,styles:o,settings:d}}function fke(e,t,a){for(var s={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},n=function(c){if(c==="columnStyles"){var d=e[c],u=t[c],f=a[c];s.columnStyles=Yu({},d,u,f)}else{var x=[e,t,a],m=x.map(function(g){return g[c]||{}});s[c]=Yu({},m[0],m[1],m[2])}},i=0,l=Object.keys(s);i<l.length;i++){var o=l[i];n(o)}return s}function mke(e,t,a){for(var s=[e,t,a],n={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,l=s;i<l.length;i++){var o=l[i];o.didParseCell&&n.didParseCell.push(o.didParseCell),o.willDrawCell&&n.willDrawCell.push(o.willDrawCell),o.didDrawCell&&n.didDrawCell.push(o.didDrawCell),o.willDrawPage&&n.willDrawPage.push(o.willDrawPage),o.didDrawPage&&n.didDrawPage.push(o.didDrawPage)}return n}function pke(e,t){var a,s,n,i,l,o,c,d,u,f,x,m,g=sN(t.margin,40/e.scaleFactor()),v=(a=xke(e,t.startY))!==null&&a!==void 0?a:g.top,b;t.showFoot===!0?b="everyPage":t.showFoot===!1?b="never":b=(s=t.showFoot)!==null&&s!==void 0?s:"everyPage";var j;t.showHead===!0?j="everyPage":t.showHead===!1?j="never":j=(n=t.showHead)!==null&&n!==void 0?n:"everyPage";var S=(i=t.useCss)!==null&&i!==void 0?i:!1,k=t.theme||(S?"plain":"striped"),N=!!t.horizontalPageBreak,A=(l=t.horizontalPageBreakRepeat)!==null&&l!==void 0?l:null;return{includeHiddenHtml:(o=t.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:S,theme:k,startY:v,margin:g,pageBreak:(c=t.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(d=t.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(u=t.tableWidth)!==null&&u!==void 0?u:"auto",showHead:j,showFoot:b,tableLineWidth:(f=t.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(x=t.tableLineColor)!==null&&x!==void 0?x:200,horizontalPageBreak:N,horizontalPageBreakRepeat:A,horizontalPageBreakBehaviour:(m=t.horizontalPageBreakBehaviour)!==null&&m!==void 0?m:"afterAllRows"}}function xke(e,t){var a=e.getLastAutoTable(),s=e.scaleFactor(),n=e.pageNumber(),i=!1;if(a&&a.startPageNumber){var l=a.startPageNumber+a.pageNumber-1;i=l===n}return typeof t=="number"?t:(t==null||t===!1)&&i&&a?.finalY!=null?a.finalY+20/s:null}function gke(e,t,a){var s=t.head||[],n=t.body||[],i=t.foot||[];if(t.html){var l=t.includeHiddenHtml;if(a){var o=gG(e,t.html,a,l,t.useCss)||{};s=o.head||s,n=o.body||s,i=o.foot||s}else console.error("Cannot parse html in non browser environment")}var c=t.columns||vke(s,n,i);return{columns:c,head:s,body:n,foot:i}}function vke(e,t,a){var s=e[0]||t[0]||a[0]||[],n=[];return Object.keys(s).filter(function(i){return i!=="_element"}).forEach(function(i){var l=1,o;Array.isArray(s)?o=s[parseInt(i)]:o=s[i],typeof o=="object"&&!Array.isArray(o)&&(l=o?.colSpan||1);for(var c=0;c<l;c++){var d=void 0;Array.isArray(s)?d=n.length:d=i+(c>0?"_".concat(c):"");var u={dataKey:d};n.push(u)}}),n}var Cw=(function(){function e(t,a,s){this.table=a,this.pageNumber=a.pageNumber,this.settings=a.settings,this.cursor=s,this.doc=t.getDocument()}return e})(),vG=(function(e){uG(t,e);function t(a,s,n,i,l,o){var c=e.call(this,a,s,o)||this;return c.cell=n,c.row=i,c.column=l,c.section=i.section,c}return t})(Cw),bG=(function(){function e(t,a){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=a.columns,this.head=a.head,this.body=a.body,this.foot=a.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(a,s){return a+s.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(a,s){return a+s.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,a,s,n,i,l){for(var o=0,c=a;o<c.length;o++){var d=c[o],u=new vG(t,this,s,n,i,l),f=d(u)===!1;if(s.text=Array.isArray(s.text)?s.text:[s.text],f)return!1}return!0},e.prototype.callEndPageHooks=function(t,a){t.applyStyles(t.userStyles);for(var s=0,n=this.hooks.didDrawPage;s<n.length;s++){var i=n[s];i(new Cw(t,this,a))}},e.prototype.callWillDrawPageHooks=function(t,a){for(var s=0,n=this.hooks.willDrawPage;s<n.length;s++){var i=n[s];i(new Cw(t,this,a))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var a=this.columns.reduce(function(n,i){return n+i.wrappedWidth},0);return a}else{var s=this.settings.margin;return t-s.left-s.right}},e})(),W8=(function(){function e(t,a,s,n,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof hG&&(this.raw=t._element,this.element=t._element),this.index=a,this.section=s,this.cells=n,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var a=this;return t.reduce(function(s,n){var i;return Math.max(s,((i=a.cells[n.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var a=this;return t.filter(function(s){var n=a.cells[s.index];return n?n.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,a){return this.getMaxCellHeight(a)<=t},e.prototype.getMinimumRowHeight=function(t,a){var s=this;return t.reduce(function(n,i){var l=s.cells[i.index];if(!l)return 0;var o=a.getLineHeight(l.styles.fontSize),c=l.padding("vertical"),d=c+o;return d>n?d:n},0)},e})(),q8=(function(){function e(t,a,s){var n;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=a,this.section=s,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(n=t.content)!==null&&n!==void 0?n:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var l=i!=null?""+i:"",o=/\r\n|\r|\n/g;this.text=l.split(o)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var a=this.height-this.padding("vertical");t=this.y+a/2+this.padding("top")}var s;if(this.styles.halign==="right")s=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var n=this.width-this.padding("horizontal");s=this.x+n/2+this.padding("left")}else s=this.x+this.padding("left");return{x:s,y:t}},e.prototype.getContentHeight=function(t,a){a===void 0&&(a=1.15);var s=Array.isArray(this.text)?this.text.length:1,n=this.styles.fontSize/t*a,i=s*n+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var a=sN(this.styles.cellPadding,0);return t==="vertical"?a.top+a.bottom:t==="horizontal"?a.left+a.right:a[t]},e})(),yG=(function(){function e(t,a,s){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=a,this.index=s}return e.prototype.getMaxCustomCellWidth=function(t){for(var a=0,s=0,n=t.allRows();s<n.length;s++){var i=n[s],l=i.cells[this.index];l&&typeof l.styles.cellWidth=="number"&&(a=Math.max(a,l.styles.cellWidth))}return a},e})();function bke(e,t){yke(e,t);var a=[],s=0;t.columns.forEach(function(i){var l=i.getMaxCustomCellWidth(t);l?i.width=l:(i.width=i.wrappedWidth,a.push(i)),s+=i.width});var n=t.getWidth(e.pageSize().width)-s;n&&(n=RC(a,n,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),n&&(n=RC(a,n,function(i){return i.minWidth})),n=Math.abs(n),!t.settings.horizontalPageBreak&&n>.1/e.scaleFactor()&&(n=n<1?n:Math.round(n),console.warn("Of the table content, ".concat(n," units width could not fit page"))),jke(t),Nke(t,e),wke(t)}function yke(e,t){var a=e.scaleFactor(),s=t.settings.horizontalPageBreak,n=pG(e,t);t.allRows().forEach(function(i){for(var l=0,o=t.columns;l<o.length;l++){var c=o[l],d=i.cells[c.index];if(d){var u=t.hooks.didParseCell;t.callCellHooks(e,u,d,i,c,null);var f=d.padding("horizontal");d.contentWidth=kw(d.text,d.styles,e)+f;var x=kw(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,e);if(d.minReadableWidth=x+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||s===!0)d.contentWidth>n?(d.minWidth=n,d.wrappedWidth=n):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var m=10/a;d.minWidth=d.styles.minCellWidth||m,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),t.allRows().forEach(function(i){for(var l=0,o=t.columns;l<o.length;l++){var c=o[l],d=i.cells[c.index];if(d&&d.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,d.wrappedWidth),c.minWidth=Math.max(c.minWidth,d.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,d.minReadableWidth);else{var u=t.styles.columnStyles[c.dataKey]||t.styles.columnStyles[c.index]||{},f=u.cellWidth||u.minCellWidth;f&&typeof f=="number"&&(c.minWidth=f,c.wrappedWidth=f)}d&&(d.colSpan>1&&!c.minWidth&&(c.minWidth=d.minWidth),d.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=d.minWidth))}})}function RC(e,t,a){for(var s=t,n=e.reduce(function(m,g){return m+g.wrappedWidth},0),i=0;i<e.length;i++){var l=e[i],o=l.wrappedWidth/n,c=s*o,d=l.width+c,u=a(l),f=d<u?u:d;t-=f-l.width,l.width=f}if(t=Math.round(t*1e10)/1e10,t){var x=e.filter(function(m){return t<0?m.width>a(m):!0});x.length&&(t=RC(x,t,a))}return t}function wke(e){for(var t={},a=1,s=e.allRows(),n=0;n<s.length;n++)for(var i=s[n],l=0,o=e.columns;l<o.length;l++){var c=o[l],d=t[c.index];if(a>1)a--,delete i.cells[c.index];else if(d)d.cell.height+=i.height,a=d.cell.colSpan,delete i.cells[c.index],d.left--,d.left<=1&&delete t[c.index];else{var u=i.cells[c.index];if(!u)continue;if(u.height=i.height,u.rowSpan>1){var f=s.length-n,x=u.rowSpan>f?f:u.rowSpan;t[c.index]={cell:u,left:x,row:i}}}}}function jke(e){for(var t=e.allRows(),a=0;a<t.length;a++)for(var s=t[a],n=null,i=0,l=0,o=0;o<e.columns.length;o++){var c=e.columns[o];if(l-=1,l>1&&e.columns[o+1])i+=c.width,delete s.cells[c.index];else if(n){var d=n;delete s.cells[c.index],n=null,d.width=c.width+i}else{var d=s.cells[c.index];if(!d)continue;if(l=d.colSpan,i=0,d.colSpan>1){n=d,i+=c.width;continue}d.width=c.width+i}}}function Nke(e,t){for(var a={count:0,height:0},s=0,n=e.allRows();s<n.length;s++){for(var i=n[s],l=0,o=e.columns;l<o.length;l++){var c=o[l],d=i.cells[c.index];if(d){t.applyStyles(d.styles,!0);var u=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=t.splitTextToSize(d.text,u+1/t.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=LR(d.text,u,d.styles,t,"...");else if(d.styles.overflow==="hidden")d.text=LR(d.text,u,d.styles,t,"");else if(typeof d.styles.overflow=="function"){var f=d.styles.overflow(d.text,u);typeof f=="string"?d.text=[f]:d.text=f}d.contentHeight=d.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var x=d.contentHeight/d.rowSpan;d.rowSpan>1&&a.count*a.height<x*d.rowSpan?a={height:x,count:d.rowSpan}:a&&a.count>0&&a.height>x&&(x=a.height),x>i.height&&(i.height=x)}}a.count--}}function LR(e,t,a,s,n){return e.map(function(i){return Ske(i,t,a,s,n)})}function Ske(e,t,a,s,n){var i=1e4*s.scaleFactor();if(t=Math.ceil(t*i)/i,t>=kw(e,a,s))return e;for(;t<kw(e+n,a,s)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+n}function G8(e,t){var a=new Jp(e),s=kke(t,a.scaleFactor()),n=new bG(t,s);return bke(a,n),a.applyStyles(a.userStyles),n}function kke(e,t){var a=e.content,s=Ake(a.columns);if(a.head.length===0){var n=OR(s,"head");n&&a.head.push(n)}if(a.foot.length===0){var n=OR(s,"foot");n&&a.foot.push(n)}var i=e.settings.theme,l=e.styles;return{columns:s,head:T3("head",a.head,s,l,i,t),body:T3("body",a.body,s,l,i,t),foot:T3("foot",a.foot,s,l,i,t)}}function T3(e,t,a,s,n,i){var l={},o=t.map(function(c,d){for(var u=0,f={},x=0,m=0,g=0,v=a;g<v.length;g++){var b=v[g];if(l[b.index]==null||l[b.index].left===0)if(m===0){var j=void 0;Array.isArray(c)?j=c[b.index-x-u]:j=c[b.dataKey];var S={};typeof j=="object"&&!Array.isArray(j)&&(S=j?.styles||{});var k=_ke(e,b,d,n,s,i,S),N=new q8(j,k,e);f[b.dataKey]=N,f[b.index]=N,m=N.colSpan-1,l[b.index]={left:N.rowSpan-1,times:m}}else m--,x++;else l[b.index].left--,m=l[b.index].times,u++}return new W8(c,d,e,f)});return o}function OR(e,t){var a={};return e.forEach(function(s){if(s.raw!=null){var n=Cke(t,s.raw);n!=null&&(a[s.dataKey]=n)}}),Object.keys(a).length>0?a:null}function Cke(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function Ake(e){return e.map(function(t,a){var s,n;return typeof t=="object"?n=(s=t.dataKey)!==null&&s!==void 0?s:a:n=a,new yG(n,t,a)})}function _ke(e,t,a,s,n,i,l){var o=ike(s),c;e==="head"?c=n.headStyles:e==="body"?c=n.bodyStyles:e==="foot"&&(c=n.footStyles);var d=Yu({},o.table,o[e],n.styles,c),u=n.columnStyles[t.dataKey]||n.columnStyles[t.index]||{},f=e==="body"?u:{},x=e==="body"&&a%2===0?Yu({},o.alternateRow,n.alternateRowStyles):{},m=nke(i),g=Yu({},m,d,x,f);return Yu(g,l)}function Tke(e,t,a){var s;a===void 0&&(a={});var n=pG(e,t),i=new Map,l=[],o=[],c=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?c=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(c=[t.settings.horizontalPageBreakRepeat]),c.forEach(function(x){var m=t.columns.find(function(g){return g.dataKey===x||g.index===x});m&&!i.has(m.index)&&(i.set(m.index,!0),l.push(m.index),o.push(t.columns[m.index]),n-=m.wrappedWidth)});for(var d=!0,u=(s=a?.start)!==null&&s!==void 0?s:0;u<t.columns.length;){if(i.has(u)){u++;continue}var f=t.columns[u].wrappedWidth;if(d||n>=f)d=!1,l.push(u),o.push(t.columns[u]),n-=f;else break;u++}return{colIndexes:l,columns:o,lastIndex:u-1}}function Eke(e,t){for(var a=[],s=0;s<t.columns.length;s++){var n=Tke(e,t,{start:s});n.columns.length&&(a.push(n),s=n.lastIndex)}return a}function K8(e,t){var a=t.settings,s=a.startY,n=a.margin,i={x:n.left,y:s},l=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=s+n.bottom+l;if(a.pageBreak==="avoid"){var c=t.body,d=c.reduce(function(x,m){return x+m.height},0);o+=d}var u=new Jp(e);(a.pageBreak==="always"||a.startY!=null&&o>u.pageSize().height)&&(jG(u),i.y=n.top),t.callWillDrawPageHooks(u,i);var f=Yu({},i);t.startPageNumber=u.pageNumber(),a.horizontalPageBreak?Dke(u,t,f,i):(u.applyStyles(u.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(x){return hh(u,t,x,i,t.columns)}),u.applyStyles(u.userStyles),t.body.forEach(function(x,m){var g=m===t.body.length-1;Aw(u,t,x,g,f,i,t.columns)}),u.applyStyles(u.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(x){return hh(u,t,x,i,t.columns)})),fG(u,t,f,i),t.callEndPageHooks(u,i),t.finalY=i.y,e.lastAutoTable=t,u.applyStyles(u.userStyles)}function Dke(e,t,a,s){var n=Eke(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")n.forEach(function(d,u){e.applyStyles(e.userStyles),u>0?M1(e,t,a,s,d.columns,!0):RR(e,t,s,d.columns),Mke(e,t,a,s,d.columns),E3(e,t,s,d.columns)});else for(var l=-1,o=n[0],c=function(){var d=l;if(o){e.applyStyles(e.userStyles);var u=o.columns;l>=0?M1(e,t,a,s,u,!0):RR(e,t,s,u),d=FR(e,t,l+1,s,u),E3(e,t,s,u)}var f=d-l;n.slice(1).forEach(function(x){e.applyStyles(e.userStyles),M1(e,t,a,s,x.columns,!0),FR(e,t,l+1,s,x.columns,f),E3(e,t,s,x.columns)}),l=d};l<t.body.length-1;)c()}function RR(e,t,a,s){var n=t.settings;e.applyStyles(e.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&t.head.forEach(function(i){return hh(e,t,i,a,s)})}function Mke(e,t,a,s,n){e.applyStyles(e.userStyles),t.body.forEach(function(i,l){var o=l===t.body.length-1;Aw(e,t,i,o,a,s,n)})}function FR(e,t,a,s,n,i){e.applyStyles(e.userStyles),i=i??t.body.length;var l=Math.min(a+i,t.body.length),o=-1;return t.body.slice(a,l).forEach(function(c,d){var u=a+d===t.body.length-1,f=wG(e,t,u,s);c.canEntireRowFit(f,n)&&(hh(e,t,c,s,n),o=a+d)}),o}function E3(e,t,a,s){var n=t.settings;e.applyStyles(e.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&t.foot.forEach(function(i){return hh(e,t,i,a,s)})}function Pke(e,t,a){var s=a.getLineHeight(e.styles.fontSize),n=e.padding("vertical"),i=Math.floor((t-n)/s);return Math.max(0,i)}function Lke(e,t,a,s){var n={};e.spansMultiplePages=!0,e.height=0;for(var i=0,l=0,o=a.columns;l<o.length;l++){var c=o[l],d=e.cells[c.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var u=new q8(d.raw,d.styles,d.section);u=Yu(u,d),u.text=[];var f=Pke(d,t,s);d.text.length>f&&(u.text=d.text.splice(f,d.text.length));var x=s.scaleFactor(),m=s.getLineHeightFactor();d.contentHeight=d.getContentHeight(x,m),d.contentHeight>=t&&(d.contentHeight=t,u.styles.minCellHeight-=t),d.contentHeight>e.height&&(e.height=d.contentHeight),u.contentHeight=u.getContentHeight(x,m),u.contentHeight>i&&(i=u.contentHeight),n[c.index]=u}}var g=new W8(e.raw,-1,e.section,n,!0);g.height=i;for(var v=0,b=a.columns;v<b.length;v++){var c=b[v],u=g.cells[c.index];u&&(u.height=g.height);var d=e.cells[c.index];d&&(d.height=e.height)}return g}function Oke(e,t,a,s){var n=e.pageSize().height,i=s.settings.margin,l=i.top+i.bottom,o=n-l;t.section==="body"&&(o-=s.getHeadHeight(s.columns)+s.getFootHeight(s.columns));var c=t.getMinimumRowHeight(s.columns,e),d=c<a;if(c>o)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var u=t.hasRowSpan(s.columns),f=t.getMaxCellHeight(s.columns)>o;return f?(u&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||s.settings.rowPageBreak==="avoid")}function Aw(e,t,a,s,n,i,l){var o=wG(e,t,s,i);if(a.canEntireRowFit(o,l))hh(e,t,a,i,l);else if(Oke(e,a,o,t)){var c=Lke(a,o,t,e);hh(e,t,a,i,l),M1(e,t,n,i,l),Aw(e,t,c,s,n,i,l)}else M1(e,t,n,i,l),Aw(e,t,a,s,n,i,l)}function hh(e,t,a,s,n){s.x=t.settings.margin.left;for(var i=0,l=n;i<l.length;i++){var o=l[i],c=a.cells[o.index];if(!c){s.x+=o.width;continue}e.applyStyles(c.styles),c.x=s.x,c.y=s.y;var d=t.callCellHooks(e,t.hooks.willDrawCell,c,a,o,s);if(d===!1){s.x+=o.width;continue}Rke(e,c,s);var u=c.getTextPos();dG(c.text,u.x,u.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,c,a,o,s),s.x+=o.width}s.y+=a.height}function Rke(e,t,a){var s=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof s.lineWidth=="number"){var n=mG(s.lineWidth,s.fillColor);n&&e.rect(t.x,a.y,t.width,t.height,n)}else typeof s.lineWidth=="object"&&(s.fillColor&&e.rect(t.x,a.y,t.width,t.height,"F"),Fke(e,t,a,s.lineWidth))}function Fke(e,t,a,s){var n,i,l,o;s.top&&(n=a.x,i=a.y,l=a.x+t.width,o=a.y,s.right&&(l+=.5*s.right),s.left&&(n-=.5*s.left),c(s.top,n,i,l,o)),s.bottom&&(n=a.x,i=a.y+t.height,l=a.x+t.width,o=a.y+t.height,s.right&&(l+=.5*s.right),s.left&&(n-=.5*s.left),c(s.bottom,n,i,l,o)),s.left&&(n=a.x,i=a.y,l=a.x,o=a.y+t.height,s.top&&(i-=.5*s.top),s.bottom&&(o+=.5*s.bottom),c(s.left,n,i,l,o)),s.right&&(n=a.x+t.width,i=a.y,l=a.x+t.width,o=a.y+t.height,s.top&&(i-=.5*s.top),s.bottom&&(o+=.5*s.bottom),c(s.right,n,i,l,o));function c(d,u,f,x,m){e.getDocument().setLineWidth(d),e.getDocument().line(u,f,x,m,"S")}}function wG(e,t,a,s){var n=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&a)&&(n+=t.getFootHeight(t.columns)),e.pageSize().height-s.y-n}function M1(e,t,a,s,n,i){n===void 0&&(n=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(o){return hh(e,t,o,s,n)}),t.callEndPageHooks(e,s);var l=t.settings.margin;fG(e,t,a,s),jG(e),t.pageNumber++,s.x=l.left,s.y=l.top,a.y=l.top,t.callWillDrawPageHooks(e,s),t.settings.showHead==="everyPage"&&(t.head.forEach(function(o){return hh(e,t,o,s,n)}),e.applyStyles(e.userStyles))}function jG(e){var t=e.pageNumber();e.setPage(t+1);var a=e.pageNumber();return a===t?(e.addPage(),!0):!1}function NG(e){e.API.autoTable=function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];var s=t[0],n=V8(this,s),i=G8(this,n);return K8(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,a,s,n){dG(t,a,s,n,this)},e.API.autoTableSetDefaults=function(t){return Jp.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,a){Jp.setDefaults(t,a)},e.API.autoTableHtmlToJson=function(t,a){var s;if(a===void 0&&(a=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var n=new Jp(this),i=gG(n,t,window,a,!1),l=i.head,o=i.body,c=((s=l[0])===null||s===void 0?void 0:s.map(function(d){return d.content}))||[];return{columns:c,rows:o,data:o}}}var D3;function IR(e,t){var a=V8(e,t),s=G8(e,a);K8(e,s)}function Ike(e,t){var a=V8(e,t);return G8(e,a)}function Bke(e,t){K8(e,t)}try{if(typeof window<"u"&&window){var BR=window,$R=BR.jsPDF||((D3=BR.jspdf)===null||D3===void 0?void 0:D3.jsPDF);$R&&NG($R)}}catch(e){console.error("Could not apply autoTable plugin",e)}const _w=Object.freeze(Object.defineProperty({__proto__:null,Cell:q8,CellHookData:vG,Column:yG,HookData:Cw,Row:W8,Table:bG,__createTable:Ike,__drawTable:Bke,applyPlugin:NG,autoTable:IR,default:IR},Symbol.toStringTag,{value:"Module"})),$g=({active:e,onClick:t,children:a})=>r.jsx("button",{onClick:t,className:`px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm rounded-t-lg transition-all duration-300 whitespace-nowrap border-b-2 ${e?"border-blue-500 text-blue-600 font-medium bg-white/60 dark:bg-gray-800/60 shadow-sm":"border-transparent text-gray-700 dark:text-gray-200 hover:text-blue-600 hover:bg-white/40 dark:hover:bg-gray-800/40"}`,children:a});function $ke(){const{t:e,i18n:t}=Dt(),[a,s]=w.useState("personal"),[n,i]=w.useState(!1),l={fullName:"Ibrahim Mohamed",jobTitle:"Sales Manager",department:"Sales",email:"ibrahim@example.com",phone:"+2010XXXXXXX",lang:t.language.startsWith("ar")?"Arabic":"English",tz:"Africa/Cairo",theme:"Dark",notifEmail:!0,notifApp:!0,notifMonthly:!1,notifNewDevice:!0},[o,c]=w.useState(l.fullName),[d,u]=w.useState(l.jobTitle),[f,x]=w.useState(l.department),[m,g]=w.useState(l.email),[v,b]=w.useState(l.phone),[j,S]=w.useState(""),[k,N]=w.useState(""),[A,_]=w.useState(""),[D,P]=w.useState(""),[I,B]=w.useState(""),[O,U]=w.useState(!1),[E,R]=w.useState(!1),[K,V]=w.useState(!1),[Z,J]=w.useState(l.notifEmail),[ee,W]=w.useState(l.notifApp),[le,M]=w.useState(l.notifMonthly),[X,z]=w.useState(l.notifNewDevice),[Q,ne]=w.useState(l.lang),[re,oe]=w.useState(l.tz),[q,ie]=w.useState(l.theme),[ye,Y]=w.useState(""),[ce,he]=w.useState(""),[ue,Fe]=w.useState("All"),Ue=w.useMemo(()=>{let st=0;return D.length>=8&&st++,/[A-Z]/.test(D)&&st++,/[a-z]/.test(D)&&st++,/\d/.test(D)&&st++,/[^A-Za-z0-9]/.test(D)&&st++,st},[D]),Te=w.useMemo(()=>[{date:"2025-11-12",action:"Login",device:"Chrome (Windows)",location:"Cairo, Egypt"},{date:"2025-11-11",action:"Password Change",device:"Edge (Windows)",location:"Giza, Egypt"},{date:"2025-11-09",action:"Login",device:"Safari (iOS)",location:"Alexandria, Egypt"}],[]),ae=w.useMemo(()=>Te.filter(st=>{const $e=ue==="All"||(st.device||"").toLowerCase().includes(ue.toLowerCase()),qe=!ye||st.date>=ye,ct=!ce||st.date<=ce;return $e&&qe&&ct}),[Te,ue,ye,ce]),De=()=>{const st=Jt.json_to_sheet(ae),$e=Jt.book_new();Jt.book_append_sheet($e,st,"SecurityLog"),gs($e,"security_log.xlsx")},Ce=()=>{const st=new ma("p","pt","a4");st.setFontSize(14),st.text("Security Log",40,40);const $e=[["Date","Action","Device","Location"]],qe=ae.map(ct=>[ct.date,ct.action,ct.device,ct.location]);st.autoTable({head:$e,body:qe,startY:60}),st.save("security_log.pdf")},at=st=>{const $e=st.target.files?.[0];if(!$e)return;S($e);const qe=new FileReader;qe.onload=ct=>N(ct.target?.result||""),qe.readAsDataURL($e)},ft=()=>{i(!0),setTimeout(()=>{i(!1)},900)},zt=()=>{c(l.fullName),u(l.jobTitle),x(l.department),g(l.email),b(l.phone),S(""),N(""),_(""),P(""),B(""),U(!1),R(!1),V(!1),J(l.notifEmail),W(l.notifApp),M(l.notifMonthly),z(l.notifNewDevice),ne(l.lang),oe(l.tz),ie(l.theme),Y(""),he(""),Fe("All"),s("personal")};return r.jsxs("div",{className:"rounded-2xl glass-panel w-full overflow-hidden shadow-2xl",children:[r.jsx("div",{className:"px-3 sm:px-4 pt-2 sm:pt-3",children:r.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto no-scrollbar",children:[r.jsx($g,{active:a==="personal",onClick:()=>s("personal"),children:e("Personal Info")}),r.jsx($g,{active:a==="account",onClick:()=>s("account"),children:e("Account & Password")}),r.jsx($g,{active:a==="notifications",onClick:()=>s("notifications"),children:e("Notifications")}),r.jsx($g,{active:a==="preferences",onClick:()=>s("preferences"),children:e("Preferences")}),r.jsx($g,{active:a==="log",onClick:()=>s("log"),children:e("Security Log")})]})}),r.jsxs("div",{className:"flex-1 overflow-auto p-3 sm:p-4 md:p-6 space-y-4 sm:space-y-6",children:[a==="personal"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Full Name")}),r.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[r.jsx("span",{className:"text-gray-400",children:""}),r.jsx("input",{disabled:!0,className:"flex-1 bg-transparent outline-none opacity-70 cursor-not-allowed",value:o,onChange:st=>c(st.target.value),placeholder:e("Enter full name")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Job Title")}),r.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[r.jsx("span",{className:"text-gray-400",children:""}),r.jsx("input",{disabled:!0,className:"flex-1 bg-transparent outline-none opacity-70 cursor-not-allowed",value:d,onChange:st=>u(st.target.value),placeholder:e("Enter job title")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Department")}),r.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[r.jsx("span",{className:"text-gray-400",children:""}),r.jsx("input",{disabled:!0,className:"flex-1 bg-transparent outline-none opacity-70 cursor-not-allowed",value:f,onChange:st=>x(st.target.value),placeholder:e("Enter department")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Email")}),r.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[r.jsx("span",{className:"text-gray-400",children:""}),r.jsx("input",{className:"flex-1 bg-transparent outline-none",value:m,onChange:st=>g(st.target.value),placeholder:e("Enter email")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Phone")}),r.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[r.jsx("span",{className:"text-gray-400",children:""}),r.jsx("input",{className:"flex-1 bg-transparent outline-none",value:v,onChange:st=>b(st.target.value),placeholder:e("Enter phone")})]})]})]}),r.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-white/30 dark:via-gray-700 to-transparent"}),r.jsx("div",{className:"flex items-center gap-4 flex-wrap",children:r.jsxs("div",{className:"relative w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 rounded-full overflow-hidden ring-2 ring-white/30",children:[k?r.jsx("img",{src:k,alt:"avatar",className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-xl sm:text-2xl",children:""}),r.jsxs("label",{className:"absolute inset-0 bg-black/40 opacity-0 hover:opacity-100 transition flex items-center justify-center text-xs text-white cursor-pointer",children:[e("Update Photo"),r.jsx("input",{type:"file",accept:"image/*",onChange:at,className:"hidden"})]})]})}),r.jsx("div",{className:"h-4"})]}),a==="account"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Current Password")}),r.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[r.jsx("input",{type:O?"text":"password",className:"flex-1 bg-transparent outline-none",value:A,onChange:st=>_(st.target.value),placeholder:e("Enter current password")}),r.jsx("button",{type:"button",className:"text-xs text-blue-600 hover:underline",onClick:()=>U(st=>!st),children:e(O?"Hide":"Show")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("New Password")}),r.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[r.jsx("input",{type:E?"text":"password",className:"flex-1 bg-transparent outline-none",value:D,onChange:st=>P(st.target.value),placeholder:e("Enter new password")}),r.jsx("button",{type:"button",className:"text-xs text-blue-600 hover:underline",onClick:()=>R(st=>!st),children:e(E?"Hide":"Show")})]}),r.jsx("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded overflow-hidden",children:r.jsx("div",{className:`h-2 transition-all ${Ue<=2?"bg-red-500":Ue===3?"bg-yellow-500":"bg-emerald-500"}`,style:{width:`${Ue/5*100}%`}})})]}),r.jsxs("div",{className:"space-y-2 md:col-span-2",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Confirm Password")}),r.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[r.jsx("input",{type:K?"text":"password",className:"flex-1 bg-transparent outline-none",value:I,onChange:st=>B(st.target.value),placeholder:e("Confirm new password")}),r.jsx("button",{type:"button",className:"text-xs text-blue-600 hover:underline",onClick:()=>V(st=>!st),children:e(K?"Hide":"Show")})]}),I&&I!==D&&r.jsx("div",{className:"text-xs text-rose-600",children:e("Passwords don't match")})]})]}),r.jsx("div",{className:"h-4"})]}),a==="notifications"&&r.jsxs("div",{className:"space-y-3",children:[[{key:"email",label:"Email Alerts",state:Z,set:J,icon:""},{key:"app",label:"App Notifications",state:ee,set:W,icon:""},{key:"reports",label:"Monthly Reports",state:le,set:M,icon:""},{key:"newdev",label:"Login from new devices",state:X,set:z,icon:""}].map(st=>r.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-white/80 dark:bg-gray-800/80 hover:shadow-sm",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-lg",children:st.icon}),r.jsx("span",{className:"text-sm font-medium",children:e(st.label)})]}),r.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only",checked:st.state,onChange:$e=>st.set($e.target.checked)}),r.jsx("span",{className:`w-10 h-5 flex items-center bg-gray-300 dark:bg-gray-700 rounded-full p-1 ${st.state?"justify-end":"justify-start"}`,children:r.jsx("span",{className:`w-4 h-4 rounded-full bg-white transition ${st.state?"shadow-[0_0_0_2px_rgba(59,130,246,0.6)]":""}`})})]})]},st.key)),r.jsx("div",{className:"h-4"})]}),a==="preferences"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Language")}),r.jsxs("select",{className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:Q,onChange:st=>ne(st.target.value),children:[r.jsx("option",{children:"English"}),r.jsx("option",{children:"Arabic"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Time Zone")}),r.jsxs("select",{className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:re,onChange:st=>oe(st.target.value),children:[r.jsx("option",{children:"Africa/Cairo"}),r.jsx("option",{children:"Asia/Riyadh"}),r.jsx("option",{children:"Europe/London"}),r.jsx("option",{children:"UTC"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Theme")}),r.jsxs("select",{className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:q,onChange:st=>ie(st.target.value),children:[r.jsx("option",{children:"Dark"}),r.jsx("option",{children:"Light"}),r.jsx("option",{children:"Auto"})]})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:r.jsxs("div",{className:"rounded-xl p-4 border bg-white/60 dark:bg-gray-800/60",children:[r.jsx("div",{className:"text-sm font-medium mb-2",children:e("Live Preview")}),r.jsxs("div",{className:`rounded-lg h-24 flex items-center justify-center ${q==="Dark"?"bg-gradient-to-r from-gray-800 to-gray-900 text-white":"bg-gradient-to-r from-gray-100 to-white text-gray-800"}`,children:[q," Theme"]})]})}),r.jsx("div",{className:"h-4"})]}),a==="log"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Start Date")}),r.jsx("input",{type:"date",className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:ye,onChange:st=>Y(st.target.value)})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("End Date")}),r.jsx("input",{type:"date",className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:ce,onChange:st=>he(st.target.value)})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Device")}),r.jsxs("select",{className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:ue,onChange:st=>Fe(st.target.value),children:[r.jsx("option",{children:"All"}),r.jsx("option",{children:"Chrome"}),r.jsx("option",{children:"Edge"}),r.jsx("option",{children:"Safari"})]})]}),r.jsxs("div",{className:"flex items-end gap-2",children:[r.jsx("button",{className:"px-4 py-2 rounded-lg border bg-white/70 dark:bg-gray-800/70",onClick:De,children:e("Download Excel")}),r.jsx("button",{className:"px-4 py-2 rounded-lg border bg-white/70 dark:bg-gray-800/70",onClick:Ce,children:e("Download PDF")})]})]}),r.jsx("div",{className:"h-2"}),r.jsx("div",{className:"overflow-auto -mx-2 sm:-mx-4",children:r.jsxs("table",{className:"nova-table w-full text-sm min-w-[600px]",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left text-gray-600 dark:text-gray-300",children:[r.jsx("th",{className:"py-2 px-4",children:e("Date")}),r.jsx("th",{className:"py-2 px-4",children:e("Action")}),r.jsx("th",{className:"py-2 px-4",children:e("Device")}),r.jsx("th",{className:"py-2 px-4",children:e("Location")})]})}),r.jsxs("tbody",{className:"text-gray-800 dark:text-gray-100",children:[r.jsx("tr",{children:r.jsx("td",{className:"py-1",colSpan:"4"})}),ae.map((st,$e)=>r.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-800 hover:bg-white/40 dark:hover:bg-gray-800/40",children:[r.jsx("td",{className:"py-2 px-4",children:st.date}),r.jsx("td",{className:"py-2 px-4",children:st.action}),r.jsx("td",{className:"py-2 px-4",children:st.device}),r.jsx("td",{className:"py-2 px-4",children:st.location})]},$e)),r.jsx("tr",{children:r.jsx("td",{className:"py-1",colSpan:"4"})})]})]})}),r.jsx("div",{className:"h-4"})]})]}),r.jsxs("div",{className:"px-3 sm:px-4 md:px-6 py-4 border-t border-white/20 dark:border-gray-700 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[r.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:e("Last updated: 2 days ago")}),r.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[r.jsx("button",{className:"w-full sm:w-auto px-4 py-2 rounded-lg bg-blue-600 text-white shadow hover:bg-blue-700",onClick:ft,children:e("Save")}),r.jsx("button",{className:"w-full sm:w-auto px-4 py-2 rounded-lg bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 hover:bg-gray-300 dark:hover:bg-gray-600",onClick:zt,children:e("Reset")})]})]})]})}function Uke(){const{t:e}=Dt();return r.jsx(aa,{children:r.jsxs("div",{className:"p-3 sm:p-4 md:p-6 bg-[var(--content-bg)] text-[var(--content-text)] space-y-4 sm:space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsx("div",{className:"w-1 h-6 sm:h-8 bg-gradient-to-b from-blue-500 to-purple-600 rounded-full"}),r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:e("Profile Settings")})]}),r.jsx($ke,{})]})})}function zke(){const{t:e}=Dt();return r.jsx(aa,{children:r.jsxs("div",{className:"p-3 sm:p-4 md:p-6 bg-[var(--content-bg)] text-[var(--content-text)] space-y-4 sm:space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsx("div",{className:"w-1 h-6 sm:h-8 bg-gradient-to-b from-blue-500 to-purple-600 rounded-full"}),r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:e("Company Settings")})]}),r.jsx(c5e,{})]})})}const Ug=({title:e,icon:t,children:a,defaultOpen:s=!0})=>{const[n,i]=w.useState(s);return r.jsxs("div",{className:"glass-panel rounded-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between p-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:t}),r.jsx("h3",{className:"text-lg font-semibold",children:e})]}),r.jsx("button",{className:"btn btn-glass btn-sm",onClick:()=>i(l=>!l),children:n?"Collapse":"Expand"})]}),n&&r.jsx("div",{className:"p-4 pt-0",children:a})]})},UR=e=>new Promise((t,a)=>{const s=new FileReader;s.onload=()=>t(s.result),s.onerror=a,s.readAsDataURL(e)}),Hke=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e||""),Vke=e=>/^https?:\/\//i.test(e||""),Wke=e=>/^[+]?([0-9\-\s()]){6,}$/.test(e||"");function qke(){const{t:e}=Dt(),t={companyName:"",tagline:"",businessType:"Real Estate",country:"Egypt",city:"",street:"",zip:"",lat:"",lng:"",phones:[""],whatsapp:"",fax:"",email:"",website:"",social:{facebook:"",instagram:"",linkedin:"",twitter:"",youtube:""},logo:"",favicon:"",publicVisible:!0},[a,s]=w.useState(t),[n,i]=w.useState(null);w.useEffect(()=>{const k=localStorage.getItem("contact-info-settings");if(k)try{s({...t,...JSON.parse(k)})}catch{}},[]),w.useEffect(()=>{const k=()=>l(),N=()=>o();return window.addEventListener("save-contact-info",k),window.addEventListener("reset-contact-info",N),()=>{window.removeEventListener("save-contact-info",k),window.removeEventListener("reset-contact-info",N)}},[a]);const l=()=>{localStorage.setItem("contact-info-settings",JSON.stringify(a)),i({type:"success",message:e("Settings saved")}),setTimeout(()=>i(null),2e3)},o=()=>{s(t),i({type:"success",message:e("Settings reset to default")}),setTimeout(()=>i(null),2e3)},c=(k,N)=>s(A=>({...A,[k]:N})),d=(k,N)=>s(A=>({...A,social:{...A.social,[k]:N}})),u=()=>s(k=>({...k,phones:[...k.phones,""]})),f=(k,N)=>s(A=>({...A,phones:A.phones.map((_,D)=>D===k?N:_)})),x=k=>s(N=>({...N,phones:N.phones.filter((A,_)=>_!==k)})),m=async k=>{const N=await UR(k);c("logo",N)},g=async k=>{const N=await UR(k);c("favicon",N)},v=w.useMemo(()=>a.email&&!Hke(a.email)?e("Invalid email"):"",[a.email,e]),b=w.useMemo(()=>a.website&&!Vke(a.website)?e("Invalid URL (use http/https)"):"",[a.website,e]),j=w.useMemo(()=>a.phones.map(k=>k&&!Wke(k)?e("Invalid phone"):""),[a.phones,e]),S=w.useMemo(()=>{if(a.lat&&a.lng)return`https://www.google.com/maps?q=${a.lat},${a.lng}&z=14&output=embed`;const k=[a.street,a.city,a.country].filter(Boolean).join(", ");return k?`https://www.google.com/maps?q=${encodeURIComponent(k)}&z=14&output=embed`:""},[a.lat,a.lng,a.street,a.city,a.country]);return r.jsxs("div",{className:"space-y-6",children:[r.jsx(Ug,{title:e("Company Information"),icon:"",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"label",children:e("Company Name")}),r.jsx("input",{className:"input-soft w-full",value:a.companyName,onChange:k=>c("companyName",k.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:e("Tagline / Slogan")}),r.jsx("input",{className:"input-soft w-full",value:a.tagline,onChange:k=>c("tagline",k.target.value),placeholder:e("Optional")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:e("Business Type")}),r.jsx("select",{className:"input-soft w-full",value:a.businessType,onChange:k=>c("businessType",k.target.value),children:["Medical","Real Estate","Marketing","Retail","Education","Other"].map(k=>r.jsx("option",{value:k,children:k},k))})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs("label",{className:"text-sm flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:a.publicVisible,onChange:k=>c("publicVisible",k.target.checked)})," ",e("Show contact info publicly")]})})]})}),r.jsxs(Ug,{title:e("Address"),icon:"",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"label",children:e("Country")}),r.jsx("select",{className:"input-soft w-full",value:a.country,onChange:k=>c("country",k.target.value),children:["Egypt","Saudi Arabia","UAE","Jordan","Kuwait","Qatar","Other"].map(k=>r.jsx("option",{value:k,children:k},k))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:e("City")}),r.jsx("input",{className:"input-soft w-full",value:a.city,onChange:k=>c("city",k.target.value)})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"label",children:e("Street Address")}),r.jsx("textarea",{className:"input-soft w-full h-20",value:a.street,onChange:k=>c("street",k.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:e("Zip Code")}),r.jsx("input",{className:"input-soft w-full",value:a.zip,onChange:k=>c("zip",k.target.value)})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"label",children:e("Latitude")}),r.jsx("input",{className:"input-soft w-full",value:a.lat,onChange:k=>c("lat",k.target.value),placeholder:"30.0444"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:e("Longitude")}),r.jsx("input",{className:"input-soft w-full",value:a.lng,onChange:k=>c("lng",k.target.value),placeholder:"31.2357"})]})]})]}),S&&r.jsx("div",{className:"mt-4",children:r.jsx("iframe",{title:"map",src:S,className:"w-full h-56 rounded-xl border border-gray-200 dark:border-gray-800",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})]}),r.jsx(Ug,{title:e("Communication"),icon:"",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"label",children:e("Phone Numbers")}),r.jsxs("div",{className:"space-y-2",children:[a.phones.map((k,N)=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{className:`input-soft flex-1 ${j[N]?"border-rose-400":""}`,value:k,onChange:A=>f(N,A.target.value),placeholder:e("e.g., +2010XXXXXXX")}),r.jsx("button",{className:"btn btn-glass btn-sm",onClick:()=>x(N),disabled:a.phones.length===1,children:e("Remove")})]},N)),j.some(Boolean)&&r.jsx("div",{className:"text-xs text-rose-600",children:e("Please check phone formats")}),r.jsx("button",{className:"btn btn-primary btn-sm",onClick:u,children:e("Add Phone")})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"label",children:e("WhatsApp Number")}),r.jsx("input",{className:"input-soft w-full",value:a.whatsapp,onChange:k=>c("whatsapp",k.target.value),placeholder:e("e.g., +2010XXXXXXX")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:e("Fax")}),r.jsx("input",{className:"input-soft w-full",value:a.fax,onChange:k=>c("fax",k.target.value),placeholder:e("Optional")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:e("Email")}),r.jsx("input",{className:`input-soft w-full ${v?"border-rose-400":""}`,value:a.email,onChange:k=>c("email",k.target.value),placeholder:e("e.g., support@example.com")}),v&&r.jsx("div",{className:"text-xs text-rose-600 mt-1",children:v})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:e("Website URL")}),r.jsx("input",{className:`input-soft w-full ${b?"border-rose-400":""}`,value:a.website,onChange:k=>c("website",k.target.value),placeholder:e("e.g., https://example.com")}),b&&r.jsx("div",{className:"text-xs text-rose-600 mt-1",children:b})]})]})]})}),r.jsx(Ug,{title:e("Social Links"),icon:"",defaultOpen:!1,children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{key:"facebook",label:"Facebook",icon:""},{key:"instagram",label:"Instagram",icon:""},{key:"linkedin",label:"LinkedIn",icon:""},{key:"twitter",label:"X (Twitter)",icon:""},{key:"youtube",label:"YouTube",icon:""}].map(k=>r.jsxs("div",{children:[r.jsxs("label",{className:"label flex items-center gap-2",children:[r.jsx("span",{children:k.icon})," ",e(k.label)]}),r.jsx("input",{className:"input-soft w-full",value:a.social[k.key],onChange:N=>d(k.key,N.target.value),placeholder:e("Profile URL")})]},k.key))})}),r.jsxs(Ug,{title:e("Upload Assets"),icon:"",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-start",children:[r.jsxs("div",{children:[r.jsx("label",{className:"label",children:e("Company Logo")}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"file",accept:"image/*",onChange:k=>k.target.files?.[0]&&m(k.target.files[0])}),a.logo&&r.jsx("button",{className:"btn btn-glass btn-sm",onClick:()=>c("logo",""),children:e("Remove")})]}),a.logo&&r.jsx("div",{className:"mt-2 w-40 h-40 rounded-xl overflow-hidden border",children:r.jsx("img",{src:a.logo,alt:"logo",className:"w-full h-full object-contain bg-white"})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:e("Favicon")}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"file",accept:"image/*",onChange:k=>k.target.files?.[0]&&g(k.target.files[0])}),a.favicon&&r.jsx("button",{className:"btn btn-glass btn-sm",onClick:()=>c("favicon",""),children:e("Remove")})]}),a.favicon&&r.jsx("div",{className:"mt-2 w-16 h-16 rounded-xl overflow-hidden border",children:r.jsx("img",{src:a.favicon,alt:"favicon",className:"w-full h-full object-contain bg-white"})})]})]}),r.jsx("div",{className:"text-xs text-[var(--muted-text)] mt-2",children:e("Logo and favicon will auto-preview and be used across the system.")})]}),n&&r.jsx("div",{className:`fixed top-4 right-4 z-50 px-3 py-2 rounded-lg shadow-lg ${n.type==="success"?"bg-emerald-600 text-white":"bg-rose-600 text-white"}`,children:n.message})]})}function Gke(){const{t:e}=Dt(),t=()=>{window.dispatchEvent(new Event("save-contact-info"))},a=()=>{window.dispatchEvent(new Event("reset-contact-info"))},s=r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{className:"btn btn-primary btn-sm",onClick:t,children:e("Save Changes")}),r.jsx("button",{className:"btn btn-glass btn-sm",onClick:a,children:e("Reset to Default")})]});return r.jsx(aa,{title:e("Contact Info Settings"),actions:s,children:r.jsx("div",{className:"p-3 sm:p-4",children:r.jsx(qke,{})})})}function Kke(){const{t:e}=Dt();return r.jsx(aa,{children:r.jsxs("div",{className:"p-3 sm:p-4 md:p-6 bg-[var(--content-bg)] text-[var(--content-text)] space-y-4 sm:space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsx("div",{className:"w-1 h-6 sm:h-8 bg-gradient-to-b from-blue-500 to-purple-600 rounded-full"}),r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:e("System Preferences")})]}),r.jsx(m5e,{})]})})}function Yke(){const{t:e}=Dt();return r.jsx(aa,{children:r.jsxs("div",{className:"p-3 sm:p-4 md:p-6 bg-[var(--content-bg)] text-[var(--content-text)] space-y-4 sm:space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsx("div",{className:"w-1 h-6 sm:h-8 bg-gradient-to-b from-blue-500 to-purple-600 rounded-full"}),r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:e("Modules Settings")})]}),r.jsx(f5e,{})]})})}function Xke(){const{t:e}=Dt();return r.jsx(aa,{children:r.jsxs("div",{className:"p-3 sm:p-4 md:p-6 bg-[var(--content-bg)] text-[var(--content-text)] space-y-4 sm:space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsx("div",{className:"w-1 h-6 sm:h-8 bg-gradient-to-b from-blue-500 to-purple-600 rounded-full"}),r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:e("Security Settings")})]}),r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 w-full sm:w-auto",children:[r.jsx("button",{className:"w-full sm:w-auto btn btn-primary",children:e("Save Changes")}),r.jsx("button",{className:"btn btn-glass p-2","aria-label":"Notifications",children:r.jsx("span",{role:"img","aria-hidden":!0,children:""})}),r.jsx("button",{className:"btn btn-glass p-2","aria-label":"Alerts",children:r.jsx("span",{role:"img","aria-hidden":!0,children:""})})]})]}),r.jsx(p5e,{})]})})}function Jke(){return r.jsx(aa,{title:"Custom Fields",children:r.jsxs("div",{className:"container mx-auto px-4 py-4",children:[r.jsx("h1",{className:"text-xl font-semibold mb-3",children:"Custom Fields"}),r.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:"Configure custom fields across entities."})]})})}function Qke(){return r.jsx(aa,{title:"Audit Logs",children:r.jsxs("div",{className:"container mx-auto px-4 py-4",children:[r.jsx("h1",{className:"text-xl font-semibold mb-3",children:"Audit Logs"}),r.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:"Review system changes and activities."})]})})}function Zke(){const{t:e}=Dt();return r.jsx(aa,{children:r.jsxs("div",{className:"p-3 sm:p-4 md:p-6 bg-[var(--content-bg)] text-[var(--content-text)] space-y-4 sm:space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsx("div",{className:"w-1 h-6 sm:h-8 bg-gradient-to-b from-blue-500 to-purple-600 rounded-full"}),r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:e("Billing & Subscription")})]}),r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 w-full sm:w-auto",children:[r.jsx("button",{className:"w-full sm:w-auto px-4 py-2 rounded-lg bg-blue-600 text-white shadow hover:bg-blue-700",children:"Add New Subscription"}),r.jsx("button",{className:"p-2 rounded-lg border bg-white/60 dark:bg-gray-800/60 hover:bg-white",children:""}),r.jsx("button",{className:"p-2 rounded-lg border bg-white/60 dark:bg-gray-800/60 hover:bg-white",children:""})]})]}),r.jsx(h5e,{})]})})}function eCe(){return r.jsx(aa,{title:"Payment History",children:r.jsxs("div",{className:"container mx-auto px-4 py-4",children:[r.jsx("h1",{className:"text-xl font-semibold mb-3",children:"Payment History"}),r.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:"View invoices and payments."})]})})}function tCe(){const{t:e}=Dt(),{subscription:t}=zj(),a=w.useMemo(()=>{const l=t?.plan_name||t?.plan||t?.name||"Free";return String(l).trim()},[t]),s=[{key:"Free",title:e("Starter"),price:e("$0 / mo"),features:[e("Basic CRM and leads"),e("Limited modules access"),e("Community support")],action:e("Stay on Free")},{key:"Pro",title:e("Pro"),price:e("$29 / mo"),features:[e("All core modules"),e("Notifications & Templates"),e("Basic reports")],action:e("Upgrade to Pro"),recommended:!0},{key:"Enterprise",title:e("Enterprise"),price:e("Contact us"),features:[e("Advanced reports and analytics"),e("Custom fields and audit logs"),e("Priority support & SLA")],action:e("Talk to Sales")}],n=["Free","Pro","Enterprise"],i=n.indexOf(a)===-1?0:n.indexOf(a);return r.jsx(aa,{children:r.jsxs("div",{className:"p-3 sm:p-4 md:p-6 bg-[var(--content-bg)] text-[var(--content-text)] space-y-4 sm:space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsx("div",{className:"w-1 h-6 sm:h-8 bg-gradient-to-b from-indigo-500 to-purple-600 rounded-full"}),r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:e("Plans & Upgrade")})]}),r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 w-full sm:w-auto",children:[r.jsx(gr,{to:"/settings/billing/subscription",className:"w-full sm:w-auto px-4 py-2 rounded-lg bg-blue-600 text-white shadow hover:bg-blue-700",children:e("View Subscription")}),r.jsx(gr,{to:"/pricing",className:"p-2 rounded-lg border bg-white/60 dark:bg-gray-800/60 hover:bg-white",children:e("Pricing")})]})]}),r.jsx("div",{className:"rounded-lg border border-gray-200 dark:border-gray-700 p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:e("Current Plan")}),r.jsx("div",{className:"text-lg font-semibold",children:a||e("Unknown")})]}),r.jsx(gr,{to:"/pricing",className:"text-sm px-3 py-2 rounded-md border border-gray-300 dark:border-gray-700",children:e("See all plans")})]})}),r.jsx("div",{className:"grid gap-4 sm:gap-6 sm:grid-cols-2 md:grid-cols-3",children:s.map((l,o)=>{const c=n[o]===a,d=o<=i;return r.jsxs("div",{className:`rounded-lg border p-5 ${l.recommended?"border-indigo-500 shadow-md":"border-gray-200 dark:border-gray-700"}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"text-xl font-semibold",children:l.title}),l.recommended&&r.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-indigo-600 text-white",children:e("Recommended")})]}),r.jsx("div",{className:"text-2xl font-bold mb-3",children:l.price}),r.jsx("ul",{className:"space-y-2 text-sm mb-4",children:l.features.map(u=>r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("span",{children:""}),r.jsx("span",{children:u})]},u))}),c?r.jsx("button",{className:"w-full px-4 py-2 rounded-md bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 cursor-default",disabled:!0,children:e("Current")}):r.jsx(gr,{to:l.key==="Enterprise"?"/welcome/contact":"/pricing",className:`w-full inline-flex justify-center px-4 py-2 rounded-md ${d?"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700"}`,"aria-disabled":d,children:l.action})]},l.key)})}),r.jsx("div",{className:"rounded-lg border border-gray-200 dark:border-gray-700 p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:e("Need a custom package or have compliance requirements?")}),r.jsx(gr,{to:"/welcome/contact",className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700",children:e("Contact Sales")})]})})]})})}function aCe(){return r.jsx(aa,{title:"API Keys",children:r.jsxs("div",{className:"container mx-auto px-4 py-4",children:[r.jsx("h1",{className:"text-xl font-semibold mb-3",children:"API Keys"}),r.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:"Manage API keys for integrations."})]})})}function rCe(){return r.jsxs("div",{className:"container mx-auto px-4 py-4",children:[r.jsx("h1",{className:"text-xl font-semibold mb-3",children:"Webhooks"}),r.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:"Configure webhook endpoints and events."})]})}const M3=({open:e,title:t,children:a,onClose:s,onConfirm:n,confirmText:i="Confirm"})=>e?r.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[r.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:s}),r.jsxs("div",{className:"relative w-full max-w-xl glass-panel rounded-2xl p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:t}),r.jsx("button",{className:"btn btn-glass",onClick:s,children:"Cancel"})]}),r.jsx("div",{children:a}),r.jsxs("div",{className:"mt-5 flex items-center justify-end gap-2",children:[r.jsx("button",{className:"btn btn-glass",onClick:s,children:"Cancel"}),r.jsx("button",{className:"btn btn-primary",onClick:n,children:i})]})]})]}):null,n2=()=>r.jsx("span",{role:"img","aria-label":"WhatsApp",children:""}),sCe=()=>r.jsx("span",{role:"img","aria-label":"Send",children:""}),nCe=()=>r.jsx("span",{role:"img","aria-label":"Refresh",children:""});function iCe(){const[e,t]=w.useState("Meta API"),[a,s]=w.useState(""),[n,i]=w.useState(""),[l,o]=w.useState(""),[c,d]=w.useState(""),[u,f]=w.useState(""),[x,m]=w.useState("disconnected"),[g,v]=w.useState(""),[b,j]=w.useState(0),[S,k]=w.useState([{id:"wa-otp",name:"OTP Auth",category:"Authentication",language:"en",status:"Approved",body:"Hi {{name}}, your WhatsApp verification code is {{otp}}."},{id:"wa-pay",name:"Payment Confirmation",category:"Utility",language:"en",status:"Pending",body:"Dear {{name}}, we received {{amount}} on {{date}}."},{id:"wa-promo",name:"Promo Offer",category:"Marketing",language:"en",status:"Rejected",body:"Hi {{name}}, check our new offers today!"}]),[N,A]=w.useState(!1),[_,D]=w.useState(null),[P,I]=w.useState(""),[B,O]=w.useState("Marketing"),[U,E]=w.useState("en"),[R,K]=w.useState(""),[V,Z]=w.useState({open:!1,tpl:null}),[J,ee]=w.useState({registration:{enabled:!0,template:"wa-otp"},payment:{enabled:!0,template:"wa-pay"},expiry:{enabled:!1,template:"wa-promo"},newNote:{enabled:!1,template:"wa-promo"}}),[W,le]=w.useState(""),[M,X]=w.useState("wa-otp"),[z,Q]=w.useState(null),[ne,re]=w.useState([]),[oe,q]=w.useState(""),[ie,ye]=w.useState("All"),[Y,ce]=w.useState(""),[he,ue]=w.useState(""),[Fe,Ue]=w.useState(1),Te=5,[ae,De]=w.useState([{id:"ar-hello",keyword:"hello",message:"Hello! How can we help you?",status:"Active"}]),[Ce,at]=w.useState(!1),[ft,zt]=w.useState(null),[st,$e]=w.useState(""),[qe,ct]=w.useState(""),[dt,Nt]=w.useState("Active"),[Ct,Lt]=w.useState(null);w.useEffect(()=>{const ut=localStorage.getItem("wa-settings");if(ut)try{const ta=JSON.parse(ut);t(ta.provider||"Meta API"),s(ta.apiKey||""),i(ta.apiSecret||""),o(ta.businessNumber||""),d(ta.businessId||""),f(ta.webhookUrl||""),m(ta.connStatus||"disconnected"),j(ta.monthlyCount||0),k(ta.templates||[]),ee(ta.triggers||J),De(ta.autoReplies||ae)}catch{}},[]),w.useEffect(()=>{const ut=()=>Ht();return window.addEventListener("save-wa-settings",ut),()=>window.removeEventListener("save-wa-settings",ut)},[]);const Ht=()=>{const ut={provider:e,apiKey:a,apiSecret:n,businessNumber:l,businessId:c,webhookUrl:u,connStatus:x,monthlyCount:b,templates:S,triggers:J,autoReplies:ae};localStorage.setItem("wa-settings",JSON.stringify(ut)),Lt({type:"success",message:"Settings saved."}),setTimeout(()=>Lt(null),2e3)},Vt=()=>{const ut=e&&a&&n&&l;m(ut?"connected":"failed"),v(ut?"Connected to WhatsApp API.":"Failed to connect. Check inputs."),ut&&j(ta=>ta+1),setTimeout(()=>v(""),3500)},Ne=()=>{D(null),I(""),O("Marketing"),E("en"),K(""),A(!0)},Mt=()=>{const ut=P.trim(),ta=R.trim();if(!ut||!ta){Lt({type:"error",message:"Please fill all fields."}),setTimeout(()=>Lt(null),2e3);return}if(_)k(va=>va.map(pa=>pa.id===_.id?{...pa,name:ut,category:B,language:U,body:ta,updatedAt:new Date().toLocaleString()}:pa)),Lt({type:"success",message:"Template updated."});else{const va="wa-"+ut.toLowerCase().replace(/\s+/g,"-")+"-"+Math.random().toString(36).slice(2);k(pa=>[{id:va,name:ut,category:B,language:U,status:"Pending",body:ta,updatedAt:new Date().toLocaleString()},...pa]),Lt({type:"success",message:"Template added."})}setTimeout(()=>Lt(null),2e3),A(!1)},Ee=ut=>Z({open:!0,tpl:ut}),ze=()=>{const ut=V.tpl;k(ta=>ta.filter(va=>va.id!==ut.id)),Z({open:!1,tpl:null}),Lt({type:"success",message:"Template deleted."}),setTimeout(()=>Lt(null),2e3)},We=(ut,ta)=>ee(va=>({...va,[ut]:{...va[ut],enabled:ta}})),xt=(ut,ta)=>ee(va=>({...va,[ut]:{...va[ut],template:ta}})),gt=()=>{const ut=S.find(va=>va.id===M),ta=!!ut&&!!W&&x==="connected";Q({type:ta?"success":"failed",message:ta?"Test message sent.":"Failed to send."}),re(va=>[{id:Math.random().toString(36).slice(2),recipient:W||"N/A",template:ut?.name||"N/A",status:ta?"Delivered":"Failed",at:new Date().toLocaleString()},...va]),setTimeout(()=>Q(null),3e3)},sa=w.useMemo(()=>ne.filter(ut=>{const ta=!oe||ut.recipient.toLowerCase().includes(oe.trim().toLowerCase()),va=ie==="All"||ut.status===ie,pa=!Y||new Date(ut.at)>=new Date(Y),Ae=!he||new Date(ut.at)<=new Date(he);return ta&&va&&pa&&Ae}),[ne,oe,ie,Y,he]),Zt=Math.max(1,Math.ceil(sa.length/Te)),ka=sa.slice((Fe-1)*Te,Fe*Te);return w.useEffect(()=>{Fe>Zt&&Ue(1)},[Zt,Fe]),r.jsxs("div",{className:"",children:[r.jsxs("div",{className:"glass-panel rounded-2xl p-4 mb-6 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(n2,{}),r.jsx("h3",{className:"text-lg font-semibold",children:"WhatsApp Connection"})]}),r.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${x==="connected"?"bg-emerald-100 text-emerald-700":x==="failed"?"bg-rose-100 text-rose-700":"bg-gray-100 text-gray-700"}`,children:x==="connected"?"Connected":"Disconnected"})]}),r.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(n2,{}),r.jsx("h3",{className:"text-lg font-semibold",children:"Integration Setup"})]}),r.jsxs("button",{className:"btn btn-primary",onClick:Vt,children:[r.jsx(nCe,{})," Test Connection"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:"Provider"}),r.jsxs("select",{className:"input-soft w-full",value:e,onChange:ut=>t(ut.target.value),children:[r.jsx("option",{children:"Meta API"}),r.jsx("option",{children:"Twilio"}),r.jsx("option",{children:"360Dialog"}),r.jsx("option",{children:"WATI"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:"Business Number"}),r.jsx("input",{className:"input-soft w-full",value:l,onChange:ut=>o(ut.target.value),placeholder:"e.g., +201234567890"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:"API Key"}),r.jsx("input",{className:"input-soft w-full",value:a,onChange:ut=>s(ut.target.value),placeholder:"API Key"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:"API Secret"}),r.jsx("input",{className:"input-soft w-full",value:n,onChange:ut=>i(ut.target.value),placeholder:"API Secret"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:"WhatsApp Business ID"}),r.jsx("input",{className:"input-soft w-full",value:c,onChange:ut=>d(ut.target.value),placeholder:"Business ID"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:"Webhook URL"}),r.jsx("input",{className:"input-soft w-full",value:u,onChange:ut=>f(ut.target.value),placeholder:"https://example.com/webhook"})]})]}),g&&r.jsx("div",{className:`mt-4 text-sm px-3 py-2 rounded-md ${x==="connected"?"bg-emerald-100 text-emerald-700":"bg-rose-100 text-rose-700"}`,children:g})]}),r.jsx("div",{className:"h-6 md:h-8","aria-hidden":"true"}),r.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"WhatsApp Templates"}),r.jsx("button",{className:"btn btn-primary",onClick:Ne,children:"Add New Template"})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full table-auto text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-800",children:[r.jsx("th",{className:"px-4 py-3 text-left",children:"Template Name"}),r.jsx("th",{className:"px-4 py-3 text-left",children:"Category"}),r.jsx("th",{className:"px-4 py-3 text-left",children:"Language"}),r.jsx("th",{className:"px-4 py-3 text-left",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-left",children:"Actions"})]})}),r.jsx("tbody",{children:S.length===0?r.jsx("tr",{children:r.jsx("td",{className:"px-4 py-4 text-center text-gray-500",colSpan:5,children:"No templates"})}):S.map(ut=>r.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-700",children:[r.jsx("td",{className:"px-4 py-2",children:ut.name}),r.jsx("td",{className:"px-4 py-2",children:ut.category}),r.jsx("td",{className:"px-4 py-2",children:ut.language}),r.jsx("td",{className:`px-4 py-2 font-medium ${ut.status==="Approved"?"text-emerald-600":ut.status==="Pending"?"text-amber-600":"text-rose-600"}`,children:ut.status}),r.jsxs("td",{className:"px-4 py-2 flex items-center gap-1",children:[r.jsxs("button",{className:"btn btn-glass btn-sm text-xs scale-90",onClick:()=>K(ut.body),children:[r.jsx(n2,{})," Preview"]}),r.jsx("button",{className:"btn btn-danger btn-sm text-xs scale-90",onClick:()=>Ee(ut),children:"Delete"})]})]},ut.id))})]})})]}),r.jsx("div",{className:"h-6 md:h-8","aria-hidden":"true"}),r.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Message Triggers"}),r.jsxs("div",{className:"text-sm text-[var(--muted-text)]",children:["Monthly messages: ",b]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{key:"registration",label:"New Registration"},{key:"payment",label:"Payment Confirmation"},{key:"expiry",label:"Subscription Expiry"},{key:"newNote",label:"New Note Added"}].map(ut=>r.jsxs("div",{className:"rounded-xl border border-gray-200 dark:border-gray-700 p-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"font-medium",children:ut.label}),r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:!!J[ut.key]?.enabled,onChange:ta=>We(ut.key,ta.target.checked)})," Enable"]})]}),r.jsxs("div",{className:"mt-3",children:[r.jsx("label",{className:"block text-sm mb-1",children:"Template"}),r.jsx("select",{className:"input-soft w-full",value:J[ut.key]?.template,onChange:ta=>xt(ut.key,ta.target.value),children:S.map(ta=>r.jsx("option",{value:ta.id,children:ta.name},ta.id))})]})]},ut.key))})]}),r.jsx("div",{className:"h-6 md:h-8","aria-hidden":"true"}),r.jsxs("div",{id:"test-wa",className:"glass-panel rounded-2xl p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(sCe,{}),r.jsx("h3",{className:"text-lg font-semibold",children:"Test WhatsApp Message"})]}),r.jsx("button",{className:"btn btn-primary",onClick:gt,children:"Send Test Message"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:"Phone Number"}),r.jsx("input",{className:"input-soft w-full",value:W,onChange:ut=>le(ut.target.value),placeholder:"e.g., +201234567890"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:"Template"}),r.jsx("select",{className:"input-soft w-full",value:M,onChange:ut=>X(ut.target.value),children:S.map(ut=>r.jsx("option",{value:ut.id,children:ut.name},ut.id))})]})]}),z&&r.jsx("div",{className:`mt-4 text-sm px-3 py-2 rounded-md ${z.type==="success"?"bg-emerald-100 text-emerald-700":"bg-rose-100 text-rose-700"}`,children:z.message})]}),r.jsx("div",{className:"h-6 md:h-8","aria-hidden":"true"}),r.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(n2,{}),r.jsx("h3",{className:"text-lg font-semibold",children:"Logs"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{className:"input-soft",placeholder:"Search recipient",value:oe,onChange:ut=>q(ut.target.value)}),r.jsxs("select",{className:"input-soft",value:ie,onChange:ut=>ye(ut.target.value),children:[r.jsx("option",{children:"All"}),r.jsx("option",{children:"Delivered"}),r.jsx("option",{children:"Read"}),r.jsx("option",{children:"Failed"})]}),r.jsx("input",{type:"date",className:"input-soft",value:Y,onChange:ut=>ce(ut.target.value)}),r.jsx("input",{type:"date",className:"input-soft",value:he,onChange:ut=>ue(ut.target.value)})]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full table-auto text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-800",children:[r.jsx("th",{className:"px-4 py-3 text-left",children:"Recipient"}),r.jsx("th",{className:"px-4 py-3 text-left",children:"Template"}),r.jsx("th",{className:"px-4 py-3 text-left",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-left",children:"Date & Time"})]})}),r.jsx("tbody",{children:ka.length===0?r.jsx("tr",{children:r.jsx("td",{className:"px-4 py-4 text-center text-gray-500",colSpan:4,children:"No logs found"})}):ka.map(ut=>r.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-700",children:[r.jsx("td",{className:"px-4 py-2",children:ut.recipient}),r.jsx("td",{className:"px-4 py-2",children:ut.template}),r.jsx("td",{className:`px-4 py-2 font-medium ${ut.status==="Delivered"?"text-emerald-600":ut.status==="Read"?"text-blue-600":"text-rose-600"}`,children:ut.status}),r.jsx("td",{className:"px-4 py-2",children:ut.at})]},ut.id))})]})}),r.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[r.jsxs("div",{className:"text-xs text-[var(--muted-text)]",children:["Showing ",ka.length," of ",sa.length]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{className:"btn btn-glass btn-sm",disabled:Fe===1,onClick:()=>Ue(ut=>Math.max(1,ut-1)),children:"Prev"}),r.jsx("button",{className:"btn btn-glass btn-sm",disabled:Fe===Zt,onClick:()=>Ue(ut=>Math.min(Zt,ut+1)),children:"Next"})]})]})]}),r.jsx("div",{className:"h-6 md:h-8","aria-hidden":"true"}),r.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Auto Replies"}),r.jsx("button",{className:"btn btn-primary",onClick:()=>{zt(null),$e(""),ct(""),Nt("Active"),at(!0)},children:"Add New Auto Reply"})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full table-auto text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-800",children:[r.jsx("th",{className:"px-4 py-3 text-left",children:"Keyword"}),r.jsx("th",{className:"px-4 py-3 text-left",children:"Auto Reply Message"}),r.jsx("th",{className:"px-4 py-3 text-left",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-left",children:"Actions"})]})}),r.jsx("tbody",{children:ae.length===0?r.jsx("tr",{children:r.jsx("td",{className:"px-4 py-4 text-center text-gray-500",colSpan:4,children:"No auto replies"})}):ae.map(ut=>r.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-700",children:[r.jsx("td",{className:"px-4 py-2",children:ut.keyword}),r.jsx("td",{className:"px-4 py-2",children:ut.message}),r.jsx("td",{className:`px-4 py-2 font-medium ${ut.status==="Active"?"text-emerald-600":"text-rose-600"}`,children:ut.status}),r.jsxs("td",{className:"px-4 py-2 flex items-center gap-1",children:[r.jsx("button",{className:"btn btn-glass btn-sm text-xs scale-90",onClick:()=>{zt(ut),$e(ut.keyword),ct(ut.message),Nt(ut.status),at(!0)},children:"Edit"}),r.jsx("button",{className:"btn btn-danger btn-sm text-xs scale-90",onClick:()=>De(ta=>ta.filter(va=>va.id!==ut.id)),children:"Delete"})]})]},ut.id))})]})})]}),r.jsx(M3,{open:N,title:_?"Edit Template":"Add New Template",onClose:()=>A(!1),onConfirm:Mt,confirmText:"Save Template",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:"Template Name"}),r.jsx("input",{className:"input-soft w-full",value:P,onChange:ut=>I(ut.target.value),placeholder:"e.g., Payment Confirmation"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:"Category"}),r.jsxs("select",{className:"input-soft w-full",value:B,onChange:ut=>O(ut.target.value),children:[r.jsx("option",{children:"Marketing"}),r.jsx("option",{children:"Utility"}),r.jsx("option",{children:"Authentication"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:"Language"}),r.jsxs("select",{className:"input-soft w-full",value:U,onChange:ut=>E(ut.target.value),children:[r.jsx("option",{children:"en"}),r.jsx("option",{children:"ar"}),r.jsx("option",{children:"fr"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:"Body Message"}),r.jsx("textarea",{className:"input-soft w-full h-32",value:R,onChange:ut=>K(ut.target.value),placeholder:"Hi {{name}}, your verification code is {{otp}}."}),r.jsxs("div",{className:"text-xs text-[var(--muted-text)] mt-1",children:["Supports placeholders like ","{{name}}",", ","{{amount}}",", ","{{date}}",", ","{{otp}}","."]})]})]})}),r.jsx(M3,{open:V.open,title:"Confirm Delete",onClose:()=>Z({open:!1,tpl:null}),onConfirm:ze,confirmText:"Delete",children:r.jsxs("p",{className:"text-sm",children:["Are you sure you want to delete template ",r.jsx("span",{className:"font-semibold",children:V.tpl?.name}),"?"]})}),r.jsx(M3,{open:Ce,title:ft?"Edit Auto Reply":"Add New Auto Reply",onClose:()=>at(!1),onConfirm:()=>{const ut=st.trim(),ta=qe.trim();if(!ut||!ta){Lt({type:"error",message:"Please fill all fields."}),setTimeout(()=>Lt(null),2e3);return}if(ft)De(va=>va.map(pa=>pa.id===ft.id?{...pa,keyword:ut,message:ta,status:dt}:pa));else{const va="ar-"+ut.toLowerCase().replace(/\s+/g,"-")+"-"+Math.random().toString(36).slice(2);De(pa=>[{id:va,keyword:ut,message:ta,status:dt},...pa])}at(!1),Lt({type:"success",message:"Auto reply saved."}),setTimeout(()=>Lt(null),2e3)},confirmText:"Save",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:"Keyword"}),r.jsx("input",{className:"input-soft w-full",value:st,onChange:ut=>$e(ut.target.value),placeholder:"e.g., hello"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:"Auto Reply Message"}),r.jsx("textarea",{className:"input-soft w-full h-28",value:qe,onChange:ut=>ct(ut.target.value),placeholder:"Hello! How can we help you?"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:"Status"}),r.jsxs("select",{className:"input-soft w-full",value:dt,onChange:ut=>Nt(ut.target.value),children:[r.jsx("option",{children:"Active"}),r.jsx("option",{children:"Inactive"})]})]})]})}),Ct&&r.jsx("div",{className:`fixed top-4 right-4 z-50 px-3 py-2 rounded-lg shadow-lg ${Ct.type==="success"?"bg-emerald-600 text-white":"bg-rose-600 text-white"}`,children:Ct.message})]})}function lCe(){const{t:e}=Dt(),t=()=>{const a=new Event("save-wa-settings");window.dispatchEvent(a)};return r.jsx(aa,{title:e("WhatsApp Settings"),children:r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-xl font-semibold",children:e("WhatsApp Settings")}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{className:"btn btn-primary",onClick:t,children:e("Save Changes")}),r.jsx("a",{href:"#test-wa",className:"btn btn-glass",children:e("Test Connection")})]})]}),r.jsx(iCe,{})]})})}function oCe(){return r.jsxs("div",{className:"container mx-auto px-4 py-4",children:[r.jsx("h1",{className:"text-xl font-semibold mb-3",children:"Payment Gateway Integration"}),r.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:"Setup payment gateway providers."})]})}function cCe(){return r.jsx(aa,{title:"Google / Slack Integrations",children:r.jsxs("div",{className:"container mx-auto px-4 py-4",children:[r.jsx("h1",{className:"text-xl font-semibold mb-3",children:"Google / Slack Integrations"}),r.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:"Configure Google Workspace and Slack integrations."})]})})}function dCe(){const{t:e}=Dt(),[t,a]=w.useState(null),[s,n]=w.useState("customers"),[i,l]=w.useState(!0),[o,c]=w.useState(!1),[d,u]=w.useState("idle"),[f,x]=w.useState(1),[m,g]=w.useState([]),[v,b]=w.useState([]),[j,S]=w.useState({}),[k,N]=w.useState(null),A=w.useRef(null),_=w.useMemo(()=>["text/csv","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],[]),D=w.useMemo(()=>({customers:["id","name","phone","email","status"],leads:["id","name","phone","source","status"],products:["id","name","sku","price","stock"],users:["id","name","email","role"],projects:["id","name","city","status"],properties:["id","type","area","price"]}),[]),P=async E=>{const R=await E.arrayBuffer(),K=gm(R,{type:"array"}),V=K.SheetNames[0],Z=K.Sheets[V],J=Jt.sheet_to_json(Z,{header:i?1:0});let ee=[],W=[];if(i)ee=(J[0]||[]).map(M=>String(M||"").trim()),W=(J.slice(1)||[]).map(M=>{const X={};return ee.forEach((z,Q)=>{X[z]=M[Q]}),X});else{const M=Math.max(...J.map(X=>X.length));ee=Array.from({length:M},(X,z)=>`C${z+1}`),W=J.map(X=>{const z={};return ee.forEach((Q,ne)=>{z[Q]=X[ne]}),z})}g(ee),b(W);const le={};ee.forEach((M,X)=>{le[M]=D[s][X]||""}),S(le),x(2)},I=w.useCallback(async E=>{if(E){if(!(_.includes(E.type)||E.name.endsWith(".csv")||E.name.endsWith(".xlsx"))){u("error");return}if(E.size>10*1024*1024){u("error");return}a(E),u("idle"),await P(E)}},[_,i,s]),B=E=>{E.preventDefault();const R=E.dataTransfer?.files?.[0];I(R)},O=async()=>{try{u("processing");const E=await ya.post("/api/import",{module:s,rows:v,mapping:j,updateExisting:o});N(E.data),u("success"),x(4)}catch{u("error")}},U=()=>{a(null),g([]),b([]),S({}),N(null),u("idle"),x(1)};return r.jsx(aa,{title:e("Import Data"),children:r.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-semibold",children:e("Import Data")}),r.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:e("import.uploadDescription")})]})}),r.jsx("div",{className:"flex gap-2 text-xs",children:[1,2,3,4].map(E=>r.jsx("div",{className:`px-2 py-1 rounded ${f===E?"bg-blue-600 text-white":"bg-gray-700 text-gray-200"}`,children:e(E===1?"Upload":E===2?"Preview":E===3?"Mapping":"Summary")},E))}),f===1&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"glass-panel rounded-2xl p-5",children:[r.jsx("h3",{className:"text-base font-semibold mb-3",children:e("import.uploadFile")}),r.jsx("div",{onDragOver:E=>E.preventDefault(),onDrop:B,className:"border-2 border-dashed border-gray-500/40 rounded-xl p-6 text-center hover:border-blue-500/60 transition",children:t?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"text-sm",children:[t.name,"  ",(t.size/1024).toFixed(1)," KB"]}),r.jsx("div",{className:"flex items-center justify-center gap-3",children:r.jsx("button",{className:"px-3 py-2 rounded-lg bg-gray-700 text-white",onClick:U,children:e("Remove")})})]}):r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"text-sm mb-2",children:e("import.dropHint")}),r.jsx("button",{className:"px-3 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700",onClick:()=>A.current?.click(),children:e("import.chooseFile")}),r.jsx("input",{ref:A,type:"file",accept:".csv,.xlsx",className:"hidden",onChange:E=>I(E.target.files?.[0])})]})}),r.jsx("div",{className:"mt-3 text-xs text-[var(--muted-text)]",children:e("import.supportedFormats")})]}),r.jsxs("div",{className:"glass-panel rounded-2xl p-5 space-y-3",children:[r.jsx("h3",{className:"text-base font-semibold",children:e("Settings")}),r.jsx("label",{className:"block text-sm",children:e("import.target")}),r.jsxs("select",{value:s,onChange:E=>n(E.target.value),className:"input-soft w-full",children:[r.jsx("option",{value:"customers",children:e("Customers")}),r.jsx("option",{value:"leads",children:e("Leads")}),r.jsx("option",{value:"products",children:e("Products")}),r.jsx("option",{value:"users",children:e("Users")}),r.jsx("option",{value:"projects",children:e("Projects")}),r.jsx("option",{value:"properties",children:e("Properties")})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[r.jsx("input",{id:"hasHeader",type:"checkbox",checked:i,onChange:E=>l(E.target.checked)}),r.jsx("label",{htmlFor:"hasHeader",className:"text-sm",children:e("import.hasHeader")})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{id:"updateExisting",type:"checkbox",checked:o,onChange:E=>c(E.target.checked)}),r.jsx("label",{htmlFor:"updateExisting",className:"text-sm",children:e("import.updateExisting")})]}),r.jsxs("div",{className:"pt-2 flex items-center gap-3",children:[r.jsx("button",{disabled:!t,onClick:()=>x(2),className:`px-3 py-2 rounded-lg ${t?"bg-green-600 hover:bg-green-700":"bg-gray-600 cursor-not-allowed"} text-white`,children:e("Next")}),d==="error"&&r.jsx("span",{className:"text-sm text-red-400",children:e("import.unsupportedType")})]})]})]}),f===2&&r.jsxs("div",{className:"glass-panel rounded-2xl p-5",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"text-base font-semibold",children:e("Preview")}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{className:"px-3 py-2 rounded bg-gray-700 text-white",onClick:()=>x(1),children:e("Back")}),r.jsx("button",{className:"px-3 py-2 rounded bg-blue-600 text-white",onClick:()=>x(3),children:e("Next")})]})]}),r.jsx("div",{className:"overflow-auto",children:r.jsxs("table",{className:"min-w-full text-sm",children:[r.jsx("thead",{children:r.jsx("tr",{children:m.map(E=>r.jsx("th",{className:"px-3 py-2 text-left",children:E},E))})}),r.jsx("tbody",{children:v.slice(0,20).map((E,R)=>r.jsx("tr",{className:"border-t border-gray-700/40",children:m.map(K=>r.jsx("td",{className:"px-3 py-2",children:String(E[K]??"")},K))},R))})]})})]}),f===3&&r.jsxs("div",{className:"glass-panel rounded-2xl p-5",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"text-base font-semibold",children:e("Mapping")}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{className:"px-3 py-2 rounded bg-gray-700 text-white",onClick:()=>x(2),children:e("Back")}),r.jsx("button",{className:"px-3 py-2 rounded bg-green-600 text-white",onClick:O,children:e("Confirm Import")})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:m.map(E=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"w-1/2",children:[r.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:e("Column")}),r.jsx("div",{className:"text-sm",children:E})]}),r.jsxs("div",{className:"w-1/2",children:[r.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:e("Map to field")}),r.jsxs("select",{value:j[E]||"",onChange:R=>S(K=>({...K,[E]:R.target.value})),className:"input-soft w-full",children:[r.jsx("option",{value:"",children:""}),(D[s]||[]).map(R=>r.jsx("option",{value:R,children:R},R))]})]})]},E))})]}),f===4&&r.jsxs("div",{className:"glass-panel rounded-2xl p-5",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"text-base font-semibold",children:e("Summary")}),r.jsx("div",{className:"flex gap-2",children:r.jsx("button",{className:"px-3 py-2 rounded bg-gray-700 text-white",onClick:U,children:e("Start New")})})]}),d==="processing"&&r.jsx("span",{className:"text-sm text-blue-400",children:e("import.processing")}),d==="error"&&r.jsx("span",{className:"text-sm text-red-400",children:e("Error")}),k&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:e("New Records")}),r.jsx("div",{className:"text-2xl font-semibold",children:k.newRecords})]}),r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:e("Updated Records")}),r.jsx("div",{className:"text-2xl font-semibold",children:k.updatedRecords})]}),r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:e("Failed Rows")}),r.jsx("div",{className:"text-2xl font-semibold",children:k.failedCount})]})]})]}),r.jsxs("div",{className:"glass-panel rounded-2xl p-5",children:[r.jsx("h3",{className:"text-base font-semibold mb-2",children:e("import.formatGuidelines")}),r.jsxs("ul",{className:"text-sm list-disc pl-5 space-y-1 text-[var(--muted-text)]",children:[r.jsx("li",{children:e("import.guidelineUtf8")}),r.jsx("li",{children:e("import.guidelineColumns")}),r.jsx("li",{children:e("import.guidelineHeaders")})]})]})]})})}function uCe(){const[e,t]=w.useState("customers"),[a,s]=w.useState("csv"),[n,i]=w.useState("idle"),[l,o]=w.useState(!1),[c,d]=w.useState(""),[u,f]=w.useState(""),[x,m]=w.useState("all"),[g,v]=w.useState(""),[b,j]=w.useState(""),S=async()=>{try{i("processing"),j("");const k={dateFrom:c,dateTo:u,status:x,assignedTo:g},N=await ya.post("/api/export",{module:e,format:a,filters:k}),{url:A}=N.data||{};A&&(j(A),window.open(A,"_blank")),i("success")}catch{i("error")}};return r.jsx(aa,{title:"Export",children:r.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-semibold",children:"Export Data"}),r.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:"     CSV/XLSX."})]}),r.jsxs("div",{className:"glass-panel rounded-2xl p-5 space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:"Dataset"}),r.jsxs("select",{value:e,onChange:k=>t(k.target.value),className:"input-soft w-full",children:[r.jsx("option",{value:"customers",children:"Customers"}),r.jsx("option",{value:"leads",children:"Leads"}),r.jsx("option",{value:"products",children:"Products"}),r.jsx("option",{value:"users",children:"Users"}),r.jsx("option",{value:"projects",children:"Projects"}),r.jsx("option",{value:"properties",children:"Properties"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:"Format"}),r.jsxs("select",{value:a,onChange:k=>s(k.target.value),className:"input-soft w-[200px]",children:[r.jsx("option",{value:"csv",children:"CSV"}),r.jsx("option",{value:"xlsx",children:"XLSX"})]})]}),r.jsx("div",{children:r.jsx("button",{className:"text-xs text-blue-400",onClick:()=>o(k=>!k),children:l?"Hide Export Options":"Show Export Options"})}),l&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:"Date From"}),r.jsx("input",{type:"date",value:c,onChange:k=>d(k.target.value),className:"input-soft w-full"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:"Date To"}),r.jsx("input",{type:"date",value:u,onChange:k=>f(k.target.value),className:"input-soft w-full"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:"Status"}),r.jsxs("select",{value:x,onChange:k=>m(k.target.value),className:"input-soft w-full",children:[r.jsx("option",{value:"all",children:"All"}),r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"inactive",children:"Inactive"}),r.jsx("option",{value:"new",children:"New"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:"Assigned User/Team"}),r.jsx("input",{type:"text",placeholder:"e.g. Ahmed / Team A",value:g,onChange:k=>v(k.target.value),className:"input-soft w-full"})]})]}),r.jsxs("div",{className:"pt-2 flex items-center gap-3",children:[r.jsx("button",{onClick:S,className:"px-3 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700",children:""}),n==="processing"&&r.jsx("span",{className:"text-sm text-blue-400",children:" ..."}),n==="success"&&r.jsx("span",{className:"text-sm text-green-400",children:"  ."}),n==="error"&&r.jsx("span",{className:"text-sm text-red-400",children:"   ."}),b&&r.jsx("a",{href:b,target:"_blank",rel:"noreferrer",className:"text-xs text-blue-300 underline",children:" "})]})]})]})})}function hCe(){const[e,t]=w.useState([]),[a,s]=w.useState(!1),[n,i]=w.useState({frequency:"daily",time:"02:00"}),[l,o]=w.useState(!1),c=async()=>{try{const x=await ya.get("/api/backups");t(x.data.items||[])}catch{}};w.useEffect(()=>{c()},[]);const d=async()=>{try{s(!0);const m=(await ya.post("/api/backups",{name:"full-backup"})).data.item;t(g=>[m,...g])}catch{}s(!1)},u=async x=>{try{await ya.delete(`/api/backups/${x}`),t(m=>m.filter(g=>g.id!==x))}catch{}},f=async()=>{try{o(!0),await ya.post("/api/backups/schedule",n)}catch{}o(!1)};return r.jsx(aa,{title:"Backup Management",children:r.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-semibold",children:"Backup Management"}),r.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:"        ."})]}),r.jsx("button",{onClick:d,disabled:a,className:`px-3 py-2 rounded-lg ${a?"bg-gray-600":"bg-green-600 hover:bg-green-700"} text-white`,children:a?"Generating":"Generate Full Backup"})]}),r.jsxs("div",{className:"glass-panel rounded-2xl p-5",children:[r.jsx("h3",{className:"text-base font-semibold mb-3",children:"Available Backups"}),e.length===0?r.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:"No backups yet."}):r.jsx("div",{className:"overflow-auto",children:r.jsxs("table",{className:"min-w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-3 py-2 text-left",children:"Name"}),r.jsx("th",{className:"px-3 py-2 text-left",children:"Date"}),r.jsx("th",{className:"px-3 py-2 text-left",children:"Size"}),r.jsx("th",{className:"px-3 py-2 text-left",children:"Actions"})]})}),r.jsx("tbody",{children:e.map(x=>r.jsxs("tr",{className:"border-t border-gray-700/40",children:[r.jsx("td",{className:"px-3 py-2",children:x.name}),r.jsx("td",{className:"px-3 py-2",children:new Date(x.date).toLocaleString()}),r.jsxs("td",{className:"px-3 py-2",children:[Math.round((x.size||0)/1024)," KB"]}),r.jsxs("td",{className:"px-3 py-2 flex gap-2",children:[r.jsx("a",{href:x.url,target:"_blank",rel:"noreferrer",className:"text-blue-400 underline",children:"Download"}),r.jsx("button",{onClick:()=>u(x.id),className:"text-red-400",children:"Delete"})]})]},x.id))})]})})]}),r.jsxs("div",{className:"glass-panel rounded-2xl p-5",children:[r.jsx("h3",{className:"text-base font-semibold mb-3",children:"Scheduled Backups"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:"Frequency"}),r.jsxs("select",{value:n.frequency,onChange:x=>i(m=>({...m,frequency:x.target.value})),className:"input-soft w-full",children:[r.jsx("option",{value:"daily",children:"Daily"}),r.jsx("option",{value:"weekly",children:"Weekly"}),r.jsx("option",{value:"monthly",children:"Monthly"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:"Time"}),r.jsx("input",{type:"time",value:n.time,onChange:x=>i(m=>({...m,time:x.target.value})),className:"input-soft w-full"})]}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{onClick:f,disabled:l,className:`px-3 py-2 rounded-lg ${l?"bg-gray-600":"bg-blue-600 hover:bg-blue-700"} text-white`,children:"Save Schedule"})})]})]})]})})}const i2=["Leads","CIL","Brokers","Clients","Orders","Marketing","Reports"],P3=["OnLoad","OnSave","OnChange"];function fCe({value:e,onChange:t}){return r.jsx("textarea",{className:"w-full h-56 md:h-64 text-sm font-mono bg-gray-900 text-gray-100 p-3 rounded-xl border border-gray-800 outline-none resize-y focus:ring-2 focus:ring-indigo-500/50",value:e,onChange:a=>t(a.target.value),placeholder:`// JavaScript
// Use context objects like lead, currentUser, preventSave()`,spellCheck:!1})}function zR(e){try{let t=String(e||"");return t=t.replace(/javascript:/gi,""),t}catch{return String(e||"")}}function mCe(){const{t:e}=Dt(),[t,a]=w.useState(()=>{try{return JSON.parse(localStorage.getItem("crm.scripts")||"[]")}catch{return[]}}),[s,n]=w.useState(""),[i,l]=w.useState(""),[o,c]=w.useState(""),[d,u]=w.useState(!1),[f,x]=w.useState(null),[m,g]=w.useState(null),[v,b]=w.useState(!1);w.useEffect(()=>{const _=()=>{x({id:null,name:"",module:i2[0],trigger:P3[0],description:"",code:"",status:"Active"}),u(!0)};return window.addEventListener("open-add-script-modal",_),()=>window.removeEventListener("open-add-script-modal",_)},[]);const j=w.useMemo(()=>t.filter(_=>!i||_.module===i).filter(_=>!o||_.status===o).filter(_=>!s||_.name?.toLowerCase().includes(s.toLowerCase())||_.description?.toLowerCase().includes(s.toLowerCase())).sort((_,D)=>new Date(D.updated_at||D.created_at||0)-new Date(_.updated_at||_.created_at||0)),[t,s,i,o]),S=_=>{a(D=>{const P=D.filter(I=>I.id!==_);try{localStorage.setItem("crm.scripts",JSON.stringify(P))}catch{}return P})},k=_=>{x({..._}),u(!0)},N=_=>g(_),A=()=>{if(!f)return;const _=new Date().toISOString(),D={...f};D.code=zR(D.code),D.id||(D.id="scr_"+Date.now(),D.created_at=_),D.updated_at=_,D.updated_by="Admin",a(P=>{const B=P.some(O=>O.id===D.id)?P.map(O=>O.id===D.id?D:O):[D,...P];try{localStorage.setItem("crm.scripts",JSON.stringify(B))}catch{}return B}),b(!0),setTimeout(()=>b(!1),1800),u(!1)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsx("input",{className:"input",placeholder:e("Search by name or description"),value:s,onChange:_=>n(_.target.value)}),r.jsxs("select",{className:"input",value:i,onChange:_=>l(_.target.value),children:[r.jsx("option",{value:"",children:e("All Modules")}),i2.map(_=>r.jsx("option",{value:_,children:e(_)},_))]}),r.jsxs("select",{className:"input",value:o,onChange:_=>c(_.target.value),children:[r.jsx("option",{value:"",children:e("All Status")}),r.jsx("option",{value:"Active",children:e("Active")}),r.jsx("option",{value:"Inactive",children:e("Inactive")})]}),r.jsx("button",{className:"btn btn-secondary btn-sm ml-auto",onClick:()=>{x({id:null,name:"",module:i2[0],trigger:P3[0],description:"",code:"",status:"Active"}),u(!0)},children:e("Add New Script")}),v&&r.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[r.jsx("span",{children:""}),r.jsx("span",{className:"text-sm",children:e("Saved successfully")})]})]}),r.jsx("div",{className:"rounded-2xl border border-gray-200 dark:border-gray-700 overflow-hidden bg-white dark:bg-gray-900",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-2 text-left",children:e("Script Name")}),r.jsx("th",{className:"px-4 py-2 text-left",children:e("Target Module")}),r.jsx("th",{className:"px-4 py-2 text-left",children:e("Trigger Type")}),r.jsx("th",{className:"px-4 py-2 text-left",children:e("Status")}),r.jsx("th",{className:"px-4 py-2 text-left",children:e("Last Modified")}),r.jsx("th",{className:"px-4 py-2 text-right",children:e("Actions")})]})}),r.jsxs("tbody",{children:[j.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-gray-500",children:e("No scripts found")})}),j.map(_=>r.jsxs("tr",{className:"border-t border-gray-100 dark:border-gray-800",children:[r.jsx("td",{className:"px-4 py-2",children:_.name}),r.jsx("td",{className:"px-4 py-2",children:e(_.module)}),r.jsx("td",{className:"px-4 py-2",children:e(_.trigger)}),r.jsx("td",{className:"px-4 py-2",children:r.jsx("span",{className:`px-2 py-1 rounded text-xs ${_.status==="Active"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300"}`,children:e(_.status)})}),r.jsx("td",{className:"px-4 py-2",children:new Date(_.updated_at||_.created_at||Date.now()).toLocaleString()}),r.jsx("td",{className:"px-4 py-2 text-right",children:r.jsxs("div",{className:"flex items-center justify-end gap-2",children:[r.jsx("button",{className:"btn btn-glass btn-sm",onClick:()=>N(_),children:e("Preview")}),r.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>k(_),children:e("Edit")}),r.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>S(_.id),children:e("Delete")})]})})]},_.id))]})]})}),d&&f&&r.jsxs("div",{className:"fixed inset-0 z-[100] flex items-start justify-center pt-20 md:pt-28",children:[r.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>u(!1)}),r.jsxs("div",{className:"relative w-[96%] max-w-2xl bg-white dark:bg-gray-900 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"text-lg font-semibold",children:f?.id?e("Edit Script"):e("Add New Script")}),r.jsx("button",{className:"btn btn-glass btn-sm",onClick:()=>u(!1),children:e("Cancel")})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsxs("div",{className:"flex-1 min-w-[180px]",children:[r.jsx("label",{className:"label",children:e("Target Module")}),r.jsx("select",{className:"input bg-gray-100 dark:bg-gray-800",value:f.module,onChange:_=>x(D=>({...D,module:_.target.value})),children:i2.map(_=>r.jsx("option",{value:_,children:e(_)},_))})]}),r.jsxs("div",{className:"flex-1 min-w-[220px]",children:[r.jsx("label",{className:"label",children:e("Trigger Type")}),r.jsx("div",{className:"flex items-center gap-2 p-1 rounded-xl bg-gray-100 dark:bg-gray-800",children:P3.map(_=>r.jsx("button",{className:`px-3 py-1 rounded-lg text-sm ${f.trigger===_?"bg-indigo-600 text-white":"bg-transparent text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,onClick:()=>x(D=>({...D,trigger:_})),type:"button",children:e(_)},_))})]}),r.jsxs("div",{className:"min-w-[160px]",children:[r.jsx("label",{className:"label",children:e("Status")}),r.jsx("button",{type:"button",onClick:()=>x(_=>({..._,status:_.status==="Active"?"Inactive":"Active"})),className:`px-4 py-2 rounded-lg text-sm ${f.status==="Active"?"bg-green-600 text-white":"bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}`,children:e(f.status)})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:e("Script Name")}),r.jsx("input",{className:"input",placeholder:e("Enter a concise script name"),value:f.name,onChange:_=>x(D=>({...D,name:_.target.value}))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:e("Description")}),r.jsx("textarea",{className:"input",rows:2,value:f.description,onChange:_=>x(D=>({...D,description:_.target.value}))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:e("Code")}),r.jsx(fCe,{value:f.code,onChange:_=>x(D=>({...D,code:_}))})]}),r.jsxs("div",{className:"flex items-center justify-end gap-2",children:[r.jsx("button",{className:"btn btn-primary btn-sm",disabled:!f.name?.trim(),onClick:A,children:e("Save")}),r.jsx("button",{className:"btn btn-glass btn-sm",onClick:()=>u(!1),children:e("Cancel")})]})]})]})]}),m&&r.jsxs("div",{className:"fixed inset-0 z-[90] flex items-center justify-center",children:[r.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>g(null)}),r.jsxs("div",{className:"relative w-[96%] h-[90vh] bg-white dark:bg-gray-900 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("strong",{children:e("Sandbox Preview")}),r.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[m.name,"  ",e(m.module),"  ",e(m.trigger)]})]}),r.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>g(null),children:e("Close")})]}),r.jsx("iframe",{title:"script-sandbox",className:"w-full h-full",srcDoc:`<!doctype html><html><head><meta charset="utf-8"><title>Sandbox</title></head><body>
                <div style="font-family: ui-sans-serif, system-ui; padding: 12px; color: #374151">
                  <h2 style="margin:0 0 8px">Preview: ${m.name}</h2>
                  <p style="margin:0 0 10px; color:#6b7280">Module: ${m.module}  Trigger: ${m.trigger}</p>
                  <pre style="padding:8px; border:1px solid #e5e7eb; border-radius:8px; background:#f9fafb">Open the console to see effects.</pre>
                </div>
                <script>
                  try {
                    window.sandboxContext = {
                      currentUser: { id: 'admin_1', role: 'Admin', name: 'Ibrahim' },
                      lead: { id: 'lead_001', name: 'Test Lead', phone: '' },
                      preventSave: function() { console.warn('preventSave() called'); alert('Save prevented by script.'); }
                    };
                    (function(context) {
                      ${zR(m.code)}
                    })(window.sandboxContext);
                  } catch (e) { console.error('Script error:', e); }
                <\/script>
              </body></html>`})]})]})]})}function pCe(){const{t:e}=Dt(),t=()=>{window.dispatchEvent(new Event("open-add-script-modal"))};return r.jsx(aa,{children:r.jsxs("div",{className:"p-3 sm:p-4 md:p-6 bg-[var(--content-bg)] text-[var(--content-text)] space-y-4 sm:space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start justify-between gap-3",children:[r.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[r.jsx("div",{className:"w-1 h-6 sm:h-8 bg-gradient-to-b from-indigo-500 to-purple-600 rounded-full"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:e("Scripting Settings")}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 mt-1",children:e("Manage custom scripts and logic that control system behavior dynamically.")})]})]}),r.jsx("button",{className:"btn btn-secondary btn-sm w-full sm:w-auto",onClick:t,children:e("Add New Script")})]}),r.jsx(mCe,{})]})})}const SG="eoi.settings";async function xCe(){try{const e=await fetch("/api/eoi/settings");if(e.ok)return await e.json()||{}}catch{}try{const e=typeof window<"u"?window.localStorage.getItem(SG):null;if(e)return JSON.parse(e)}catch{}return FC()}async function HR(e){try{if((await fetch("/api/eoi/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)return!0}catch{}try{if(typeof window<"u")return window.localStorage.setItem(SG,JSON.stringify(e)),!0}catch{}return!1}function FC(){return{general:{enabled:!0,defaultStatus:"Pending",autoConvertToLead:!1,defaultBrokerId:"",linkToCil:!0,linkToSales:!0,workflow:[{key:"Pending",color:"#94a3b8"},{key:"Verified",color:"#22c55e"},{key:"Converted",color:"#3b82f6"},{key:"Closed",color:"#64748b"}],defaultWorkflowStatus:"Pending"},sources:[{id:"website",name:"Website",active:!0,requiresCil:!1,autoConvertToSales:!1,notes:""},{id:"broker",name:"Broker",active:!0,requiresCil:!0,autoConvertToSales:!0,notes:"Broker entries require CIL verification."},{id:"facebook_ads",name:"Facebook Ads",active:!0,requiresCil:!1,autoConvertToSales:!1,notes:""},{id:"manual",name:"Manual Entry",active:!0,requiresCil:!1,autoConvertToSales:!1,notes:""}],fields:[{key:"name",label:"Name",required:!0,type:"text",validation:"min:2"},{key:"phone",label:"Phone",required:!0,type:"phone",validation:"phone"},{key:"email",label:"Email",required:!1,type:"email",validation:"email"},{key:"budget",label:"Budget",required:!1,type:"number",validation:"min:0"},{key:"propertyType",label:"Property Type",required:!1,type:"select",validation:"",options:["Apartment","Villa","Townhouse"]},{key:"location",label:"Location",required:!1,type:"text",validation:""},{key:"notes",label:"Notes",required:!1,type:"textarea",validation:"max:1000"}],notifications:{recipients:["Admin"],methods:{email:!0,inApp:!0,sms:!1},messages:{newEoi:"New EOI received for {{name}}",convertedLead:"EOI converted to Lead: {{leadId}}",createdCil:"CIL record created for broker {{brokerId}}",salesOpportunity:"Sales Opportunity created: Stage {{stage}}"}},cilIntegration:{autoGenerateOnLead:!0,verificationRequired:!0,defaultStatus:"Pending",mapping:{brokerId:"eoi.broker",leadId:"lead.id",customerInfo:"eoi.customer_data"}},salesIntegration:{autoCreateOpportunity:!0,defaultStage:"New",defaultSalesRepId:"",valueMapping:"eoi.budget",notesMapping:"eoi.notes"}}}function gCe(){const{t:e,i18n:t}=Dt(),a=w.useMemo(()=>t.dir()==="rtl",[t]),[s,n]=w.useState(!0),[i,l]=w.useState(!1),[o,c]=w.useState(FC()),[d,u]=w.useState("general"),[f,x]=w.useState([{id:"b1",name:"Broker A"},{id:"b2",name:"Broker B"}]),[m,g]=w.useState([{id:"s1",name:"Sales Rep 1"},{id:"s2",name:"Sales Rep 2"}]);w.useEffect(()=>{let N=!0;return(async()=>{const A=await xCe();N&&(c(_=>({..._,...A})),n(!1))})(),()=>{N=!1}},[]);const v=[{key:"general",label:e("General")},{key:"sources",label:e("Sources")},{key:"fields",label:e("Fields")},{key:"notifications",label:e("Notifications")},{key:"cil",label:e("CIL Integration")},{key:"sales",label:e("Sales Integration")}],b=(N,A)=>{c(_=>{const D={..._},P=N.split(".");let I=D;for(let B=0;B<P.length-1;B++)I[P[B]]={...I[P[B]]},I=I[P[B]];return I[P[P.length-1]]=A,D})},j=async()=>{l(!0),await HR(o),l(!1)},S=async()=>{const N=FC();c(N),await HR(N)},k=(N,A)=>{c(_=>{const D=[..._.general.workflow],P=N+A;if(P<0||P>=D.length)return _;const[I]=D.splice(N,1);return D.splice(P,0,I),{..._,general:{..._.general,workflow:D}}})};return s?r.jsx("div",{className:"p-4",children:r.jsxs("div",{className:"text-[var(--muted-text)]",children:[e("Loading"),"..."]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex flex-wrap gap-2",children:v.map(N=>r.jsx("button",{className:`btn btn-outline btn-sm ${d===N.key?"bg-primary text-white":""}`,onClick:()=>u(N.key),children:N.label},N.key))}),d==="general"&&r.jsxs("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Enable EOI System")}),r.jsx("input",{type:"checkbox",checked:o.general.enabled,onChange:N=>b("general.enabled",N.target.checked)})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Default Status")}),r.jsx("select",{className:"input",value:o.general.defaultStatus,onChange:N=>b("general.defaultStatus",N.target.value),children:["Pending","Approved","Rejected"].map(N=>r.jsx("option",{value:N,children:e(N)},N))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Auto-convert EOI to Lead")}),r.jsx("input",{type:"checkbox",checked:o.general.autoConvertToLead,onChange:N=>b("general.autoConvertToLead",N.target.checked)})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Default Assigned Broker")}),r.jsxs("select",{className:"input",value:o.general.defaultBrokerId,onChange:N=>b("general.defaultBrokerId",N.target.value),children:[r.jsx("option",{value:"",children:e("None")}),f.map(N=>r.jsx("option",{value:N.id,children:N.name},N.id))]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Link EOI to CIL Module")}),r.jsx("input",{type:"checkbox",checked:o.general.linkToCil,onChange:N=>b("general.linkToCil",N.target.checked)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Link EOI to Sales Module")}),r.jsx("input",{type:"checkbox",checked:o.general.linkToSales,onChange:N=>b("general.linkToSales",N.target.checked)})]})]}),r.jsxs("div",{className:"mt-2",children:[r.jsx("h3",{className:"text-base font-semibold mb-2",children:e("Workflow Settings")}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Default Workflow Status")}),r.jsx("select",{className:"input",value:o.general.defaultWorkflowStatus,onChange:N=>b("general.defaultWorkflowStatus",N.target.value),children:o.general.workflow.map(N=>r.jsx("option",{value:N.key,children:e(N.key)},N.key))})]})}),r.jsx("div",{className:"mt-3 space-y-2",children:o.general.workflow.map((N,A)=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"w-32",children:e(N.key)}),r.jsx("input",{type:"color",value:N.color,onChange:_=>{c(D=>{const P=D.general.workflow.map((I,B)=>B===A?{...I,color:_.target.value}:I);return{...D,general:{...D.general,workflow:P}}})}}),r.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[r.jsx("button",{className:"btn btn-glass btn-xs",onClick:()=>k(A,-1),children:a?"":""}),r.jsx("button",{className:"btn btn-glass btn-xs",onClick:()=>k(A,1),children:a?"":""})]})]},N.key))})]})]}),d==="sources"&&r.jsx("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-4",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"p-2",children:e("Source Name")}),r.jsx("th",{className:"p-2",children:e("Active")}),r.jsx("th",{className:"p-2",children:e("Requires CIL")}),r.jsx("th",{className:"p-2",children:e("Auto Convert to Sales")}),r.jsx("th",{className:"p-2",children:e("Notes")})]})}),r.jsx("tbody",{children:o.sources.map((N,A)=>r.jsxs("tr",{className:"border-t",children:[r.jsx("td",{className:"p-2",children:e(N.name)}),r.jsx("td",{className:"p-2",children:r.jsx("input",{type:"checkbox",checked:N.active,onChange:_=>c(D=>{const P=[...D.sources];return P[A]={...N,active:_.target.checked},{...D,sources:P}})})}),r.jsx("td",{className:"p-2",children:r.jsx("input",{type:"checkbox",checked:N.requiresCil,onChange:_=>c(D=>{const P=[...D.sources];return P[A]={...N,requiresCil:_.target.checked},{...D,sources:P}})})}),r.jsx("td",{className:"p-2",children:r.jsx("input",{type:"checkbox",checked:N.autoConvertToSales,onChange:_=>c(D=>{const P=[...D.sources];return P[A]={...N,autoConvertToSales:_.target.checked},{...D,sources:P}})})}),r.jsx("td",{className:"p-2",children:r.jsx("input",{className:"input",value:N.notes,onChange:_=>c(D=>{const P=[...D.sources];return P[A]={...N,notes:_.target.value},{...D,sources:P}})})})]},N.id))})]})})}),d==="fields"&&r.jsxs("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-4",children:[o.fields.map((N,A)=>r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3 items-end",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Field")}),r.jsx("input",{className:"input",value:N.label,onChange:_=>c(D=>{const P=[...D.fields];return P[A]={...N,label:_.target.value},{...D,fields:P}})})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Required")}),r.jsx("input",{type:"checkbox",checked:N.required,onChange:_=>c(D=>{const P=[...D.fields];return P[A]={...N,required:_.target.checked},{...D,fields:P}})})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Input Type")}),r.jsx("select",{className:"input",value:N.type,onChange:_=>c(D=>{const P=[...D.fields];return P[A]={...N,type:_.target.value},{...D,fields:P}}),children:["text","email","phone","number","select","textarea"].map(_=>r.jsx("option",{value:_,children:_},_))})]}),N.type==="select"?r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Options (comma separated)")}),r.jsx("input",{className:"input",value:(N.options||[]).join(", "),onChange:_=>c(D=>{const P=[...D.fields];return P[A]={...N,options:_.target.value.split(",").map(I=>I.trim()).filter(Boolean)},{...D,fields:P}})})]}):r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Validation Rule")}),r.jsx("input",{className:"input",value:N.validation||"",onChange:_=>c(D=>{const P=[...D.fields];return P[A]={...N,validation:_.target.value},{...D,fields:P}})})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>c(_=>({..._,fields:_.fields.filter((D,P)=>P!==A)})),children:e("Delete")})})]},N.key)),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>c(N=>({...N,fields:[...N.fields,{key:`field_${N.fields.length+1}`,label:"Custom Field",required:!1,type:"text",validation:""}]})),children:e("Add Field")})})]}),d==="notifications"&&r.jsxs("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Recipients")}),r.jsx("select",{multiple:!0,className:"input",value:o.notifications.recipients,onChange:N=>{const A=Array.from(N.target.selectedOptions).map(_=>_.value);b("notifications.recipients",A)},children:["Admin","Broker","Sales Manager","All"].map(N=>r.jsx("option",{value:N,children:e(N)},N))})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Methods")}),r.jsxs("label",{className:"inline-flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:o.notifications.methods.email,onChange:N=>b("notifications.methods",{...o.notifications.methods,email:N.target.checked})})," Email"]}),r.jsxs("label",{className:"inline-flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:o.notifications.methods.inApp,onChange:N=>b("notifications.methods",{...o.notifications.methods,inApp:N.target.checked})})," In-App"]}),r.jsxs("label",{className:"inline-flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:o.notifications.methods.sms,onChange:N=>b("notifications.methods",{...o.notifications.methods,sms:N.target.checked})})," SMS"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Message: New EOI")}),r.jsx("textarea",{className:"input h-24",value:o.notifications.messages.newEoi,onChange:N=>b("notifications.messages",{...o.notifications.messages,newEoi:N.target.value})})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Message: Converted to Lead")}),r.jsx("textarea",{className:"input h-24",value:o.notifications.messages.convertedLead,onChange:N=>b("notifications.messages",{...o.notifications.messages,convertedLead:N.target.value})})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Message: Created CIL")}),r.jsx("textarea",{className:"input h-24",value:o.notifications.messages.createdCil,onChange:N=>b("notifications.messages",{...o.notifications.messages,createdCil:N.target.value})})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Message: Sales Opportunity Generated")}),r.jsx("textarea",{className:"input h-24",value:o.notifications.messages.salesOpportunity,onChange:N=>b("notifications.messages",{...o.notifications.messages,salesOpportunity:N.target.value})})]})]})]}),d==="cil"&&r.jsxs("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Auto-generate CIL on Lead")}),r.jsx("input",{type:"checkbox",checked:o.cilIntegration.autoGenerateOnLead,onChange:N=>b("cilIntegration.autoGenerateOnLead",N.target.checked)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("CIL Verification Required Before Sale")}),r.jsx("input",{type:"checkbox",checked:o.cilIntegration.verificationRequired,onChange:N=>b("cilIntegration.verificationRequired",N.target.checked)})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Default CIL Status")}),r.jsx("select",{className:"input",value:o.cilIntegration.defaultStatus,onChange:N=>b("cilIntegration.defaultStatus",N.target.value),children:["Pending","Verified"].map(N=>r.jsx("option",{value:N,children:e(N)},N))})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Mapping: Broker ID")}),r.jsx("input",{className:"input",value:o.cilIntegration.mapping.brokerId,onChange:N=>b("cilIntegration.mapping",{...o.cilIntegration.mapping,brokerId:N.target.value})})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Mapping: Lead ID")}),r.jsx("input",{className:"input",value:o.cilIntegration.mapping.leadId,onChange:N=>b("cilIntegration.mapping",{...o.cilIntegration.mapping,leadId:N.target.value})})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Mapping: Customer Info")}),r.jsx("input",{className:"input",value:o.cilIntegration.mapping.customerInfo,onChange:N=>b("cilIntegration.mapping",{...o.cilIntegration.mapping,customerInfo:N.target.value})})]})]})]}),d==="sales"&&r.jsxs("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Auto-create Sales Opportunity")}),r.jsx("input",{type:"checkbox",checked:o.salesIntegration.autoCreateOpportunity,onChange:N=>b("salesIntegration.autoCreateOpportunity",N.target.checked)})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Assign Default Sales Stage")}),r.jsx("select",{className:"input",value:o.salesIntegration.defaultStage,onChange:N=>b("salesIntegration.defaultStage",N.target.value),children:["New","Negotiation","Closed Won","Closed Lost"].map(N=>r.jsx("option",{value:N,children:e(N)},N))})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Auto-assign Sales Rep")}),r.jsxs("select",{className:"input",value:o.salesIntegration.defaultSalesRepId,onChange:N=>b("salesIntegration.defaultSalesRepId",N.target.value),children:[r.jsx("option",{value:"",children:e("None")}),m.map(N=>r.jsx("option",{value:N.id,children:N.name},N.id))]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Link EOI Budget  Opportunity Value")}),r.jsx("input",{className:"input",value:o.salesIntegration.valueMapping,onChange:N=>b("salesIntegration.valueMapping",N.target.value)})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Notes Mapping")}),r.jsx("input",{className:"input",value:o.salesIntegration.notesMapping,onChange:N=>b("salesIntegration.notesMapping",N.target.value)})]})]})]}),r.jsxs("div",{className:"sticky bottom-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur border-t p-4 flex items-center justify-end gap-2 rounded-t-2xl",children:[r.jsx("button",{className:"btn btn-glass",onClick:S,children:e("Reset to Default")}),r.jsx("button",{className:"btn btn-primary",onClick:j,disabled:i,children:e(i?"Saving...":"Save Changes")})]})]})}function vCe(){const{t:e}=Dt();return r.jsx(aa,{title:e("EOI Settings"),children:r.jsxs("div",{className:"p-4 space-y-6",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold",children:e("EOI Settings")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e("Manage Expression of Interest and integration with CIL & Sales modules.")})]}),r.jsx("div",{className:"text-xs text-[var(--muted-text)] bg-gray-100 dark:bg-gray-800 px-3 py-1 rounded-full",children:e("Admin Only")})]}),r.jsx(gCe,{})]})})}const kG="reservation.settings";function IC(){return{general:{enabled:!0,defaultStatus:"Pending",defaultDurationMin:30,defaultAssigneeId:"",timezone:"Africa/Cairo",workingHours:{mon:{enabled:!0,from:"09:00",to:"17:00"},tue:{enabled:!0,from:"09:00",to:"17:00"},wed:{enabled:!0,from:"09:00",to:"17:00"},thu:{enabled:!0,from:"09:00",to:"17:00"},fri:{enabled:!0,from:"10:00",to:"16:00"},sat:{enabled:!1,from:"00:00",to:"00:00"},sun:{enabled:!1,from:"00:00",to:"00:00"}}},sources:[{id:"website",name:"Website",enabled:!0,autoAssignId:""},{id:"app",name:"Mobile App",enabled:!0,autoAssignId:""},{id:"manual",name:"Manual Entry",enabled:!0,autoAssignId:""}],notifications:{recipients:{admin:!0,broker:!0,customer:!0},methods:{email:!0,sms:!1,inApp:!0},messages:{pending:"Reservation pending for {{customer}} at {{datetime}}",confirmed:"Reservation confirmed: {{datetime}}",completed:"Reservation completed, thank you!",cancelled:"Reservation cancelled. Contact us to reschedule."}},rules:{maxPerDayPerStaff:12,minNoticeMinutes:120,allowReschedule:!0,allowCancel:!0,autoConvertToLead:!1},integration:{eoiToLeadAutoReservation:!0,onCompleteTriggerSales:!0,onCompleteCreateCil:!1}}}async function bCe(){try{const e=await fetch("/api/reservation/settings");if(e.ok)return await e.json()}catch{}try{const e=typeof window<"u"?window.localStorage.getItem(kG):null;if(e)return JSON.parse(e)}catch{}return IC()}async function VR(e){try{if((await fetch("/api/reservation/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)return!0}catch{}try{if(typeof window<"u")return window.localStorage.setItem(kG,JSON.stringify(e)),!0}catch{}return!1}function yCe(){const{t:e,i18n:t}=Dt();w.useMemo(()=>t.dir()==="rtl",[t]);const[a,s]=w.useState(!0),[n,i]=w.useState(!1),[l,o]=w.useState(IC()),[c,d]=w.useState("general"),[u]=w.useState([{id:"st1",name:"Staff A"},{id:"st2",name:"Staff B"},{id:"bk1",name:"Broker X"}]);w.useEffect(()=>{let v=!0;return(async()=>{const b=await bCe();v&&(o(j=>({...j,...b})),s(!1))})(),()=>{v=!1}},[]);const f=[{key:"general",label:e("General Settings")},{key:"sources",label:e("Reservation Sources")},{key:"notifications",label:e("Notifications")},{key:"rules",label:e("Workflow & Rules")}],x=(v,b)=>{o(j=>{const S={...j},k=v.split(".");let N=S;for(let A=0;A<k.length-1;A++)N[k[A]]={...N[k[A]]},N=N[k[A]];return N[k[k.length-1]]=b,S})},m=async()=>{i(!0),await VR(l),i(!1)},g=async()=>{const v=IC();o(v),await VR(v)};return a?r.jsxs("div",{className:"p-4 text-[var(--muted-text)]",children:[e("Loading"),"..."]}):r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex flex-wrap gap-2",children:f.map(v=>r.jsx("button",{className:`btn btn-outline btn-sm ${c===v.key?"bg-primary text-white":""}`,onClick:()=>d(v.key),children:v.label},v.key))}),c==="general"&&r.jsxs("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Enable Reservation System")}),r.jsx("input",{type:"checkbox",checked:l.general.enabled,onChange:v=>x("general.enabled",v.target.checked)})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Default Reservation Status")}),r.jsx("select",{className:"input",value:l.general.defaultStatus,onChange:v=>x("general.defaultStatus",v.target.value),children:["Pending","Confirmed","Cancelled","Completed"].map(v=>r.jsx("option",{value:v,children:e(v)},v))})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Default Reservation Duration (min)")}),r.jsx("input",{type:"number",min:5,className:"input",value:l.general.defaultDurationMin,onChange:v=>x("general.defaultDurationMin",parseInt(v.target.value||"0",10))})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Default Assigned Staff / Broker")}),r.jsxs("select",{className:"input",value:l.general.defaultAssigneeId,onChange:v=>x("general.defaultAssigneeId",v.target.value),children:[r.jsx("option",{value:"",children:e("None")}),u.map(v=>r.jsx("option",{value:v.id,children:v.name},v.id))]})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Timezone")}),r.jsx("input",{className:"input",value:l.general.timezone,onChange:v=>x("general.timezone",v.target.value)})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-base font-semibold mb-2",children:e("Working Hours")}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.entries(l.general.workingHours).map(([v,b])=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("label",{className:"w-24 capitalize",children:e(v)}),r.jsx("input",{type:"checkbox",checked:b.enabled,onChange:j=>o(S=>({...S,general:{...S.general,workingHours:{...S.general.workingHours,[v]:{...b,enabled:j.target.checked}}}}))}),r.jsx("input",{type:"time",className:"input",value:b.from,onChange:j=>o(S=>({...S,general:{...S.general,workingHours:{...S.general.workingHours,[v]:{...b,from:j.target.value}}}}))}),r.jsx("span",{children:""}),r.jsx("input",{type:"time",className:"input",value:b.to,onChange:j=>o(S=>({...S,general:{...S.general,workingHours:{...S.general.workingHours,[v]:{...b,to:j.target.value}}}}))})]},v))})]})]}),c==="sources"&&r.jsx("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-4",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"p-2",children:e("Source")}),r.jsx("th",{className:"p-2",children:e("Enabled")}),r.jsx("th",{className:"p-2",children:e("Auto-Assign Staff")})]})}),r.jsx("tbody",{children:l.sources.map((v,b)=>r.jsxs("tr",{className:"border-t",children:[r.jsx("td",{className:"p-2",children:e(v.name)}),r.jsx("td",{className:"p-2",children:r.jsx("input",{type:"checkbox",checked:v.enabled,onChange:j=>o(S=>{const k=[...S.sources];return k[b]={...v,enabled:j.target.checked},{...S,sources:k}})})}),r.jsx("td",{className:"p-2",children:r.jsxs("select",{className:"input",value:v.autoAssignId||"",onChange:j=>o(S=>{const k=[...S.sources];return k[b]={...v,autoAssignId:j.target.value},{...S,sources:k}}),children:[r.jsx("option",{value:"",children:e("None")}),u.map(j=>r.jsx("option",{value:j.id,children:j.name},j.id))]})})]},v.id))})]})})}),c==="notifications"&&r.jsxs("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"font-medium text-sm",children:e("Recipients")}),r.jsxs("label",{className:"inline-flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:l.notifications.recipients.admin,onChange:v=>x("notifications.recipients",{...l.notifications.recipients,admin:v.target.checked})})," Admin"]}),r.jsxs("label",{className:"inline-flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:l.notifications.recipients.broker,onChange:v=>x("notifications.recipients",{...l.notifications.recipients,broker:v.target.checked})})," Broker"]}),r.jsxs("label",{className:"inline-flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:l.notifications.recipients.customer,onChange:v=>x("notifications.recipients",{...l.notifications.recipients,customer:v.target.checked})})," Customer"]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"font-medium text-sm",children:e("Methods")}),r.jsxs("label",{className:"inline-flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:l.notifications.methods.email,onChange:v=>x("notifications.methods",{...l.notifications.methods,email:v.target.checked})})," Email"]}),r.jsxs("label",{className:"inline-flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:l.notifications.methods.sms,onChange:v=>x("notifications.methods",{...l.notifications.methods,sms:v.target.checked})})," SMS"]}),r.jsxs("label",{className:"inline-flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:l.notifications.methods.inApp,onChange:v=>x("notifications.methods",{...l.notifications.methods,inApp:v.target.checked})})," In-App"]})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:["pending","confirmed","completed","cancelled"].map(v=>r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e(`Message: ${v.charAt(0).toUpperCase()+v.slice(1)}`)}),r.jsx("textarea",{className:"input h-24",value:l.notifications.messages[v],onChange:b=>x("notifications.messages",{...l.notifications.messages,[v]:b.target.value})})]},v))})]}),c==="rules"&&r.jsxs("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Max Reservations Per Day / Staff")}),r.jsx("input",{type:"number",min:1,className:"input",value:l.rules.maxPerDayPerStaff,onChange:v=>x("rules.maxPerDayPerStaff",parseInt(v.target.value||"0",10))})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Minimum Notice Time (minutes)")}),r.jsx("input",{type:"number",min:0,className:"input",value:l.rules.minNoticeMinutes,onChange:v=>x("rules.minNoticeMinutes",parseInt(v.target.value||"0",10))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Allow Rescheduling")}),r.jsx("input",{type:"checkbox",checked:l.rules.allowReschedule,onChange:v=>x("rules.allowReschedule",v.target.checked)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Allow Cancellation")}),r.jsx("input",{type:"checkbox",checked:l.rules.allowCancel,onChange:v=>x("rules.allowCancel",v.target.checked)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Auto-Convert Reservation to Lead")}),r.jsx("input",{type:"checkbox",checked:l.rules.autoConvertToLead,onChange:v=>x("rules.autoConvertToLead",v.target.checked)})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("EOI  Lead  Auto Reservation")}),r.jsx("input",{type:"checkbox",checked:l.integration.eoiToLeadAutoReservation,onChange:v=>x("integration.eoiToLeadAutoReservation",v.target.checked)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("On Complete  Trigger Sales Opportunity")}),r.jsx("input",{type:"checkbox",checked:l.integration.onCompleteTriggerSales,onChange:v=>x("integration.onCompleteTriggerSales",v.target.checked)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("On Complete  Create CIL Record")}),r.jsx("input",{type:"checkbox",checked:l.integration.onCompleteCreateCil,onChange:v=>x("integration.onCompleteCreateCil",v.target.checked)})]})]})]}),r.jsxs("div",{className:"sticky bottom-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur border-t p-4 flex items-center justify-end gap-2 rounded-t-2xl",children:[r.jsx("button",{className:"btn btn-glass",onClick:g,children:e("Reset to Default")}),r.jsx("button",{className:"btn btn-primary",onClick:m,disabled:n,children:e(n?"Saving...":"Save Changes")})]})]})}function wCe(){const{t:e}=Dt();return r.jsxs("div",{className:"p-4 space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-semibold",children:e("Reservation Settings")}),r.jsx("span",{className:"text-xs px-2 py-1 rounded bg-gray-100 dark:bg-gray-800",children:e("Admin Only")})]}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e("Manage booking rules, notifications, and integration with EOI/Lead/CIL/Sales.")}),r.jsx(yCe,{})]})}const Va=e=>typeof e=="string",zg=()=>{let e,t;const a=new Promise((s,n)=>{e=s,t=n});return a.resolve=e,a.reject=t,a},WR=e=>e==null?"":""+e,jCe=(e,t,a)=>{e.forEach(s=>{t[s]&&(a[s]=t[s])})},NCe=/###/g,qR=e=>e&&e.indexOf("###")>-1?e.replace(NCe,"."):e,GR=e=>!e||Va(e),P1=(e,t,a)=>{const s=Va(t)?t.split("."):t;let n=0;for(;n<s.length-1;){if(GR(e))return{};const i=qR(s[n]);!e[i]&&a&&(e[i]=new a),Object.prototype.hasOwnProperty.call(e,i)?e=e[i]:e={},++n}return GR(e)?{}:{obj:e,k:qR(s[n])}},KR=(e,t,a)=>{const{obj:s,k:n}=P1(e,t,Object);if(s!==void 0||t.length===1){s[n]=a;return}let i=t[t.length-1],l=t.slice(0,t.length-1),o=P1(e,l,Object);for(;o.obj===void 0&&l.length;)i=`${l[l.length-1]}.${i}`,l=l.slice(0,l.length-1),o=P1(e,l,Object),o?.obj&&typeof o.obj[`${o.k}.${i}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${i}`]=a},SCe=(e,t,a,s)=>{const{obj:n,k:i}=P1(e,t,Object);n[i]=n[i]||[],n[i].push(a)},Tw=(e,t)=>{const{obj:a,k:s}=P1(e,t);if(a&&Object.prototype.hasOwnProperty.call(a,s))return a[s]},kCe=(e,t,a)=>{const s=Tw(e,a);return s!==void 0?s:Tw(t,a)},CG=(e,t,a)=>{for(const s in t)s!=="__proto__"&&s!=="constructor"&&(s in e?Va(e[s])||e[s]instanceof String||Va(t[s])||t[s]instanceof String?a&&(e[s]=t[s]):CG(e[s],t[s],a):e[s]=t[s]);return e},Dp=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var CCe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const ACe=e=>Va(e)?e.replace(/[&<>"'\/]/g,t=>CCe[t]):e;class _Ce{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const a=this.regExpMap.get(t);if(a!==void 0)return a;const s=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,s),this.regExpQueue.push(t),s}}const TCe=[" ",",","?","!",";"],ECe=new _Ce(20),DCe=(e,t,a)=>{t=t||"",a=a||"";const s=TCe.filter(l=>t.indexOf(l)<0&&a.indexOf(l)<0);if(s.length===0)return!0;const n=ECe.getRegExp(`(${s.map(l=>l==="?"?"\\?":l).join("|")})`);let i=!n.test(e);if(!i){const l=e.indexOf(a);l>0&&!n.test(e.substring(0,l))&&(i=!0)}return i},BC=(e,t,a=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const s=t.split(a);let n=e;for(let i=0;i<s.length;){if(!n||typeof n!="object")return;let l,o="";for(let c=i;c<s.length;++c)if(c!==i&&(o+=a),o+=s[c],l=n[o],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&c<s.length-1)continue;i+=c-i+1;break}n=l}return n},pv=e=>e?.replace("_","-"),MCe={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}};class Ew{constructor(t,a={}){this.init(t,a)}init(t,a={}){this.prefix=a.prefix||"i18next:",this.logger=t||MCe,this.options=a,this.debug=a.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,a,s,n){return n&&!this.debug?null:(Va(t[0])&&(t[0]=`${s}${this.prefix} ${t[0]}`),this.logger[a](t))}create(t){return new Ew(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Ew(this.logger,t)}}var Jd=new Ew;let nN=class{constructor(){this.observers={}}on(t,a){return t.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const n=this.observers[s].get(a)||0;this.observers[s].set(a,n+1)}),this}off(t,a){if(this.observers[t]){if(!a){delete this.observers[t];return}this.observers[t].delete(a)}}emit(t,...a){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([n,i])=>{for(let l=0;l<i;l++)n(...a)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([n,i])=>{for(let l=0;l<i;l++)n.apply(n,[t,...a])})}};class YR extends nN{constructor(t,a={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=a,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const a=this.options.ns.indexOf(t);a>-1&&this.options.ns.splice(a,1)}getResource(t,a,s,n={}){const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,l=n.ignoreJSONStructure!==void 0?n.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;t.indexOf(".")>-1?o=t.split("."):(o=[t,a],s&&(Array.isArray(s)?o.push(...s):Va(s)&&i?o.push(...s.split(i)):o.push(s)));const c=Tw(this.data,o);return!c&&!a&&!s&&t.indexOf(".")>-1&&(t=o[0],a=o[1],s=o.slice(2).join(".")),c||!l||!Va(s)?c:BC(this.data?.[t]?.[a],s,i)}addResource(t,a,s,n,i={silent:!1}){const l=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let o=[t,a];s&&(o=o.concat(l?s.split(l):s)),t.indexOf(".")>-1&&(o=t.split("."),n=a,a=o[1]),this.addNamespaces(a),KR(this.data,o,n),i.silent||this.emit("added",t,a,s,n)}addResources(t,a,s,n={silent:!1}){for(const i in s)(Va(s[i])||Array.isArray(s[i]))&&this.addResource(t,a,i,s[i],{silent:!0});n.silent||this.emit("added",t,a,s)}addResourceBundle(t,a,s,n,i,l={silent:!1,skipCopy:!1}){let o=[t,a];t.indexOf(".")>-1&&(o=t.split("."),n=s,s=a,a=o[1]),this.addNamespaces(a);let c=Tw(this.data,o)||{};l.skipCopy||(s=JSON.parse(JSON.stringify(s))),n?CG(c,s,i):c={...c,...s},KR(this.data,o,c),l.silent||this.emit("added",t,a,s)}removeResourceBundle(t,a){this.hasResourceBundle(t,a)&&delete this.data[t][a],this.removeNamespaces(a),this.emit("removed",t,a)}hasResourceBundle(t,a){return this.getResource(t,a)!==void 0}getResourceBundle(t,a){return a||(a=this.options.defaultNS),this.getResource(t,a)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const a=this.getDataByLanguage(t);return!!(a&&Object.keys(a)||[]).find(n=>a[n]&&Object.keys(a[n]).length>0)}toJSON(){return this.data}}var AG={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,a,s,n){return e.forEach(i=>{t=this.processors[i]?.process(t,a,s,n)??t}),t}};const _G=Symbol("i18next/PATH_KEY");function PCe(){const e=[],t=Object.create(null);let a;return t.get=(s,n)=>(a?.revoke?.(),n===_G?e:(e.push(n),a=Proxy.revocable(s,t),a.proxy)),Proxy.revocable(Object.create(null),t).proxy}function $C(e,t){const{[_G]:a}=e(PCe());return a.join(t?.keySeparator??".")}const XR={},JR=e=>!Va(e)&&typeof e!="boolean"&&typeof e!="number";class Dw extends nN{constructor(t,a={}){super(),jCe(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=a,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Jd.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,a={interpolation:{}}){const s={...a};return t==null?!1:this.resolve(t,s)?.res!==void 0}extractFromKey(t,a){let s=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const n=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let i=a.ns||this.options.defaultNS||[];const l=s&&t.indexOf(s)>-1,o=!this.options.userDefinedKeySeparator&&!a.keySeparator&&!this.options.userDefinedNsSeparator&&!a.nsSeparator&&!DCe(t,s,n);if(l&&!o){const c=t.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:t,namespaces:Va(i)?[i]:i};const d=t.split(s);(s!==n||s===n&&this.options.ns.indexOf(d[0])>-1)&&(i=d.shift()),t=d.join(n)}return{key:t,namespaces:Va(i)?[i]:i}}translate(t,a,s){let n=typeof a=="object"?{...a}:a;if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),t==null)return"";typeof t=="function"&&(t=$C(t,{...this.options,...n})),Array.isArray(t)||(t=[String(t)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,l=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:o,namespaces:c}=this.extractFromKey(t[t.length-1],n),d=c[c.length-1];let u=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;u===void 0&&(u=":");const f=n.lng||this.language,x=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(f?.toLowerCase()==="cimode")return x?i?{res:`${d}${u}${o}`,usedKey:o,exactUsedKey:o,usedLng:f,usedNS:d,usedParams:this.getUsedParamsDetails(n)}:`${d}${u}${o}`:i?{res:o,usedKey:o,exactUsedKey:o,usedLng:f,usedNS:d,usedParams:this.getUsedParamsDetails(n)}:o;const m=this.resolve(t,n);let g=m?.res;const v=m?.usedKey||o,b=m?.exactUsedKey||o,j=["[object Number]","[object Function]","[object RegExp]"],S=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,k=!this.i18nFormat||this.i18nFormat.handleAsObject,N=n.count!==void 0&&!Va(n.count),A=Dw.hasDefaultValue(n),_=N?this.pluralResolver.getSuffix(f,n.count,n):"",D=n.ordinal&&N?this.pluralResolver.getSuffix(f,n.count,{ordinal:!1}):"",P=N&&!n.ordinal&&n.count===0,I=P&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${_}`]||n[`defaultValue${D}`]||n.defaultValue;let B=g;k&&!g&&A&&(B=I);const O=JR(B),U=Object.prototype.toString.apply(B);if(k&&B&&O&&j.indexOf(U)<0&&!(Va(S)&&Array.isArray(B))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const E=this.options.returnedObjectHandler?this.options.returnedObjectHandler(v,B,{...n,ns:c}):`key '${o} (${this.language})' returned an object instead of string.`;return i?(m.res=E,m.usedParams=this.getUsedParamsDetails(n),m):E}if(l){const E=Array.isArray(B),R=E?[]:{},K=E?b:v;for(const V in B)if(Object.prototype.hasOwnProperty.call(B,V)){const Z=`${K}${l}${V}`;A&&!g?R[V]=this.translate(Z,{...n,defaultValue:JR(I)?I[V]:void 0,joinArrays:!1,ns:c}):R[V]=this.translate(Z,{...n,joinArrays:!1,ns:c}),R[V]===Z&&(R[V]=B[V])}g=R}}else if(k&&Va(S)&&Array.isArray(g))g=g.join(S),g&&(g=this.extendTranslation(g,t,n,s));else{let E=!1,R=!1;!this.isValidLookup(g)&&A&&(E=!0,g=I),this.isValidLookup(g)||(R=!0,g=o);const V=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&R?void 0:g,Z=A&&I!==g&&this.options.updateMissing;if(R||E||Z){if(this.logger.log(Z?"updateKey":"missingKey",f,d,o,Z?I:g),l){const le=this.resolve(o,{...n,keySeparator:!1});le&&le.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let J=[];const ee=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ee&&ee[0])for(let le=0;le<ee.length;le++)J.push(ee[le]);else this.options.saveMissingTo==="all"?J=this.languageUtils.toResolveHierarchy(n.lng||this.language):J.push(n.lng||this.language);const W=(le,M,X)=>{const z=A&&X!==g?X:V;this.options.missingKeyHandler?this.options.missingKeyHandler(le,d,M,z,Z,n):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(le,d,M,z,Z,n),this.emit("missingKey",le,d,M,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&N?J.forEach(le=>{const M=this.pluralResolver.getSuffixes(le,n);P&&n[`defaultValue${this.options.pluralSeparator}zero`]&&M.indexOf(`${this.options.pluralSeparator}zero`)<0&&M.push(`${this.options.pluralSeparator}zero`),M.forEach(X=>{W([le],o+X,n[`defaultValue${X}`]||I)})}):W(J,o,I))}g=this.extendTranslation(g,t,n,m,s),R&&g===o&&this.options.appendNamespaceToMissingKey&&(g=`${d}${u}${o}`),(R||E)&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${d}${u}${o}`:o,E?g:void 0,n))}return i?(m.res=g,m.usedParams=this.getUsedParamsDetails(n),m):g}extendTranslation(t,a,s,n,i){if(this.i18nFormat?.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const c=Va(t)&&(s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(c){const f=t.match(this.interpolator.nestingRegexp);d=f&&f.length}let u=s.replace&&!Va(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(u={...this.options.interpolation.defaultVariables,...u}),t=this.interpolator.interpolate(t,u,s.lng||this.language||n.usedLng,s),c){const f=t.match(this.interpolator.nestingRegexp),x=f&&f.length;d<x&&(s.nest=!1)}!s.lng&&n&&n.res&&(s.lng=this.language||n.usedLng),s.nest!==!1&&(t=this.interpolator.nest(t,(...f)=>i?.[0]===f[0]&&!s.context?(this.logger.warn(`It seems you are nesting recursively key: ${f[0]} in key: ${a[0]}`),null):this.translate(...f,a),s)),s.interpolation&&this.interpolator.reset()}const l=s.postProcess||this.options.postProcess,o=Va(l)?[l]:l;return t!=null&&o?.length&&s.applyPostProcessor!==!1&&(t=AG.handle(o,t,a,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...n,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),t}resolve(t,a={}){let s,n,i,l,o;return Va(t)&&(t=[t]),t.forEach(c=>{if(this.isValidLookup(s))return;const d=this.extractFromKey(c,a),u=d.key;n=u;let f=d.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const x=a.count!==void 0&&!Va(a.count),m=x&&!a.ordinal&&a.count===0,g=a.context!==void 0&&(Va(a.context)||typeof a.context=="number")&&a.context!=="",v=a.lngs?a.lngs:this.languageUtils.toResolveHierarchy(a.lng||this.language,a.fallbackLng);f.forEach(b=>{this.isValidLookup(s)||(o=b,!XR[`${v[0]}-${b}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(o)&&(XR[`${v[0]}-${b}`]=!0,this.logger.warn(`key "${n}" for languages "${v.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),v.forEach(j=>{if(this.isValidLookup(s))return;l=j;const S=[u];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(S,u,j,b,a);else{let N;x&&(N=this.pluralResolver.getSuffix(j,a.count,a));const A=`${this.options.pluralSeparator}zero`,_=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(x&&(a.ordinal&&N.indexOf(_)===0&&S.push(u+N.replace(_,this.options.pluralSeparator)),S.push(u+N),m&&S.push(u+A)),g){const D=`${u}${this.options.contextSeparator||"_"}${a.context}`;S.push(D),x&&(a.ordinal&&N.indexOf(_)===0&&S.push(D+N.replace(_,this.options.pluralSeparator)),S.push(D+N),m&&S.push(D+A))}}let k;for(;k=S.pop();)this.isValidLookup(s)||(i=k,s=this.getResource(j,b,k,a))}))})}),{res:s,usedKey:n,exactUsedKey:i,usedLng:l,usedNS:o}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,a,s,n={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(t,a,s,n):this.resourceStore.getResource(t,a,s,n)}getUsedParamsDetails(t={}){const a=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=t.replace&&!Va(t.replace);let n=s?t.replace:t;if(s&&typeof t.count<"u"&&(n.count=t.count),this.options.interpolation.defaultVariables&&(n={...this.options.interpolation.defaultVariables,...n}),!s){n={...n};for(const i of a)delete n[i]}return n}static hasDefaultValue(t){const a="defaultValue";for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&a===s.substring(0,a.length)&&t[s]!==void 0)return!0;return!1}}class QR{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Jd.create("languageUtils")}getScriptPartFromCode(t){if(t=pv(t),!t||t.indexOf("-")<0)return null;const a=t.split("-");return a.length===2||(a.pop(),a[a.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(a.join("-"))}getLanguagePartFromCode(t){if(t=pv(t),!t||t.indexOf("-")<0)return t;const a=t.split("-");return this.formatLanguageCode(a[0])}formatLanguageCode(t){if(Va(t)&&t.indexOf("-")>-1){let a;try{a=Intl.getCanonicalLocales(t)[0]}catch{}return a&&this.options.lowerCaseLng&&(a=a.toLowerCase()),a||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let a;return t.forEach(s=>{if(a)return;const n=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(n))&&(a=n)}),!a&&this.options.supportedLngs&&t.forEach(s=>{if(a)return;const n=this.getScriptPartFromCode(s);if(this.isSupportedCode(n))return a=n;const i=this.getLanguagePartFromCode(s);if(this.isSupportedCode(i))return a=i;a=this.options.supportedLngs.find(l=>{if(l===i)return l;if(!(l.indexOf("-")<0&&i.indexOf("-")<0)&&(l.indexOf("-")>0&&i.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===i||l.indexOf(i)===0&&i.length>1))return l})}),a||(a=this.getFallbackCodes(this.options.fallbackLng)[0]),a}getFallbackCodes(t,a){if(!t)return[];if(typeof t=="function"&&(t=t(a)),Va(t)&&(t=[t]),Array.isArray(t))return t;if(!a)return t.default||[];let s=t[a];return s||(s=t[this.getScriptPartFromCode(a)]),s||(s=t[this.formatLanguageCode(a)]),s||(s=t[this.getLanguagePartFromCode(a)]),s||(s=t.default),s||[]}toResolveHierarchy(t,a){const s=this.getFallbackCodes((a===!1?[]:a)||this.options.fallbackLng||[],t),n=[],i=l=>{l&&(this.isSupportedCode(l)?n.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return Va(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(t))):Va(t)&&i(this.formatLanguageCode(t)),s.forEach(l=>{n.indexOf(l)<0&&i(this.formatLanguageCode(l))}),n}}const ZR={zero:0,one:1,two:2,few:3,many:4,other:5},e9={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class LCe{constructor(t,a={}){this.languageUtils=t,this.options=a,this.logger=Jd.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,a){this.rules[t]=a}clearCache(){this.pluralRulesCache={}}getRule(t,a={}){const s=pv(t==="dev"?"en":t),n=a.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:s,type:n});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let l;try{l=new Intl.PluralRules(s,{type:n})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),e9;if(!t.match(/-|_/))return e9;const c=this.languageUtils.getLanguagePartFromCode(t);l=this.getRule(c,a)}return this.pluralRulesCache[i]=l,l}needsPlural(t,a={}){let s=this.getRule(t,a);return s||(s=this.getRule("dev",a)),s?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(t,a,s={}){return this.getSuffixes(t,s).map(n=>`${a}${n}`)}getSuffixes(t,a={}){let s=this.getRule(t,a);return s||(s=this.getRule("dev",a)),s?s.resolvedOptions().pluralCategories.sort((n,i)=>ZR[n]-ZR[i]).map(n=>`${this.options.prepend}${a.ordinal?`ordinal${this.options.prepend}`:""}${n}`):[]}getSuffix(t,a,s={}){const n=this.getRule(t,s);return n?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${n.select(a)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",a,s))}}const t9=(e,t,a,s=".",n=!0)=>{let i=kCe(e,t,a);return!i&&n&&Va(a)&&(i=BC(e,a,s),i===void 0&&(i=BC(t,a,s))),i},L3=e=>e.replace(/\$/g,"$$$$");class OCe{constructor(t={}){this.logger=Jd.create("interpolator"),this.options=t,this.format=t?.interpolation?.format||(a=>a),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:a,escapeValue:s,useRawValueToEscape:n,prefix:i,prefixEscaped:l,suffix:o,suffixEscaped:c,formatSeparator:d,unescapeSuffix:u,unescapePrefix:f,nestingPrefix:x,nestingPrefixEscaped:m,nestingSuffix:g,nestingSuffixEscaped:v,nestingOptionsSeparator:b,maxReplaces:j,alwaysFormat:S}=t.interpolation;this.escape=a!==void 0?a:ACe,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=n!==void 0?n:!1,this.prefix=i?Dp(i):l||"{{",this.suffix=o?Dp(o):c||"}}",this.formatSeparator=d||",",this.unescapePrefix=u?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=x?Dp(x):m||Dp("$t("),this.nestingSuffix=g?Dp(g):v||Dp(")"),this.nestingOptionsSeparator=b||",",this.maxReplaces=j||1e3,this.alwaysFormat=S!==void 0?S:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(a,s)=>a?.source===s?(a.lastIndex=0,a):new RegExp(s,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,a,s,n){let i,l,o;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=m=>{if(m.indexOf(this.formatSeparator)<0){const j=t9(a,c,m,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(j,void 0,s,{...n,...a,interpolationkey:m}):j}const g=m.split(this.formatSeparator),v=g.shift().trim(),b=g.join(this.formatSeparator).trim();return this.format(t9(a,c,v,this.options.keySeparator,this.options.ignoreJSONStructure),b,s,{...n,...a,interpolationkey:v})};this.resetRegExp();const u=n?.missingInterpolationHandler||this.options.missingInterpolationHandler,f=n?.interpolation?.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:m=>L3(m)},{regex:this.regexp,safeValue:m=>this.escapeValue?L3(this.escape(m)):L3(m)}].forEach(m=>{for(o=0;i=m.regex.exec(t);){const g=i[1].trim();if(l=d(g),l===void 0)if(typeof u=="function"){const b=u(t,i,n);l=Va(b)?b:""}else if(n&&Object.prototype.hasOwnProperty.call(n,g))l="";else if(f){l=i[0];continue}else this.logger.warn(`missed to pass in variable ${g} for interpolating ${t}`),l="";else!Va(l)&&!this.useRawValueToEscape&&(l=WR(l));const v=m.safeValue(l);if(t=t.replace(i[0],v),f?(m.regex.lastIndex+=l.length,m.regex.lastIndex-=i[0].length):m.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),t}nest(t,a,s={}){let n,i,l;const o=(c,d)=>{const u=this.nestingOptionsSeparator;if(c.indexOf(u)<0)return c;const f=c.split(new RegExp(`${u}[ ]*{`));let x=`{${f[1]}`;c=f[0],x=this.interpolate(x,l);const m=x.match(/'/g),g=x.match(/"/g);((m?.length??0)%2===0&&!g||g.length%2!==0)&&(x=x.replace(/'/g,'"'));try{l=JSON.parse(x),d&&(l={...d,...l})}catch(v){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,v),`${c}${u}${x}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,c};for(;n=this.nestingRegexp.exec(t);){let c=[];l={...s},l=l.replace&&!Va(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;const d=/{.*}/.test(n[1])?n[1].lastIndexOf("}")+1:n[1].indexOf(this.formatSeparator);if(d!==-1&&(c=n[1].slice(d).split(this.formatSeparator).map(u=>u.trim()).filter(Boolean),n[1]=n[1].slice(0,d)),i=a(o.call(this,n[1].trim(),l),l),i&&n[0]===t&&!Va(i))return i;Va(i)||(i=WR(i)),i||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${t}`),i=""),c.length&&(i=c.reduce((u,f)=>this.format(u,f,s.lng,{...s,interpolationkey:n[1].trim()}),i.trim())),t=t.replace(n[0],i),this.regexp.lastIndex=0}return t}}const RCe=e=>{let t=e.toLowerCase().trim();const a={};if(e.indexOf("(")>-1){const s=e.split("(");t=s[0].toLowerCase().trim();const n=s[1].substring(0,s[1].length-1);t==="currency"&&n.indexOf(":")<0?a.currency||(a.currency=n.trim()):t==="relativetime"&&n.indexOf(":")<0?a.range||(a.range=n.trim()):n.split(";").forEach(l=>{if(l){const[o,...c]=l.split(":"),d=c.join(":").trim().replace(/^'+|'+$/g,""),u=o.trim();a[u]||(a[u]=d),d==="false"&&(a[u]=!1),d==="true"&&(a[u]=!0),isNaN(d)||(a[u]=parseInt(d,10))}})}return{formatName:t,formatOptions:a}},a9=e=>{const t={};return(a,s,n)=>{let i=n;n&&n.interpolationkey&&n.formatParams&&n.formatParams[n.interpolationkey]&&n[n.interpolationkey]&&(i={...i,[n.interpolationkey]:void 0});const l=s+JSON.stringify(i);let o=t[l];return o||(o=e(pv(s),n),t[l]=o),o(a)}},FCe=e=>(t,a,s)=>e(pv(a),s)(t);class ICe{constructor(t={}){this.logger=Jd.create("formatter"),this.options=t,this.init(t)}init(t,a={interpolation:{}}){this.formatSeparator=a.interpolation.formatSeparator||",";const s=a.cacheInBuiltFormats?a9:FCe;this.formats={number:s((n,i)=>{const l=new Intl.NumberFormat(n,{...i});return o=>l.format(o)}),currency:s((n,i)=>{const l=new Intl.NumberFormat(n,{...i,style:"currency"});return o=>l.format(o)}),datetime:s((n,i)=>{const l=new Intl.DateTimeFormat(n,{...i});return o=>l.format(o)}),relativetime:s((n,i)=>{const l=new Intl.RelativeTimeFormat(n,{...i});return o=>l.format(o,i.range||"day")}),list:s((n,i)=>{const l=new Intl.ListFormat(n,{...i});return o=>l.format(o)})}}add(t,a){this.formats[t.toLowerCase().trim()]=a}addCached(t,a){this.formats[t.toLowerCase().trim()]=a9(a)}format(t,a,s,n={}){const i=a.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(o=>o.indexOf(")")>-1)){const o=i.findIndex(c=>c.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,o)].join(this.formatSeparator)}return i.reduce((o,c)=>{const{formatName:d,formatOptions:u}=RCe(c);if(this.formats[d]){let f=o;try{const x=n?.formatParams?.[n.interpolationkey]||{},m=x.locale||x.lng||n.locale||n.lng||s;f=this.formats[d](o,m,{...u,...n,...x})}catch(x){this.logger.warn(x)}return f}else this.logger.warn(`there was no format function for ${d}`);return o},t)}}const BCe=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class $Ce extends nN{constructor(t,a,s,n={}){super(),this.backend=t,this.store=a,this.services=s,this.languageUtils=s.languageUtils,this.options=n,this.logger=Jd.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=n.maxParallelReads||10,this.readingCalls=0,this.maxRetries=n.maxRetries>=0?n.maxRetries:5,this.retryTimeout=n.retryTimeout>=1?n.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(s,n.backend,n)}queueLoad(t,a,s,n){const i={},l={},o={},c={};return t.forEach(d=>{let u=!0;a.forEach(f=>{const x=`${d}|${f}`;!s.reload&&this.store.hasResourceBundle(d,f)?this.state[x]=2:this.state[x]<0||(this.state[x]===1?l[x]===void 0&&(l[x]=!0):(this.state[x]=1,u=!1,l[x]===void 0&&(l[x]=!0),i[x]===void 0&&(i[x]=!0),c[f]===void 0&&(c[f]=!0)))}),u||(o[d]=!0)}),(Object.keys(i).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(i),pending:Object.keys(l),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(c)}}loaded(t,a,s){const n=t.split("|"),i=n[0],l=n[1];a&&this.emit("failedLoading",i,l,a),!a&&s&&this.store.addResourceBundle(i,l,s,void 0,void 0,{skipCopy:!0}),this.state[t]=a?-1:2,a&&s&&(this.state[t]=0);const o={};this.queue.forEach(c=>{SCe(c.loaded,[i],l),BCe(c,t),a&&c.errors.push(a),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(d=>{o[d]||(o[d]={});const u=c.loaded[d];u.length&&u.forEach(f=>{o[d][f]===void 0&&(o[d][f]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(c=>!c.done)}read(t,a,s,n=0,i=this.retryTimeout,l){if(!t.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:a,fcName:s,tried:n,wait:i,callback:l});return}this.readingCalls++;const o=(d,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(d&&u&&n<this.maxRetries){setTimeout(()=>{this.read.call(this,t,a,s,n+1,i*2,l)},i);return}l(d,u)},c=this.backend[s].bind(this.backend);if(c.length===2){try{const d=c(t,a);d&&typeof d.then=="function"?d.then(u=>o(null,u)).catch(o):o(null,d)}catch(d){o(d)}return}return c(t,a,o)}prepareLoading(t,a,s={},n){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();Va(t)&&(t=this.languageUtils.toResolveHierarchy(t)),Va(a)&&(a=[a]);const i=this.queueLoad(t,a,s,n);if(!i.toLoad.length)return i.pending.length||n(),null;i.toLoad.forEach(l=>{this.loadOne(l)})}load(t,a,s){this.prepareLoading(t,a,{},s)}reload(t,a,s){this.prepareLoading(t,a,{reload:!0},s)}loadOne(t,a=""){const s=t.split("|"),n=s[0],i=s[1];this.read(n,i,"read",void 0,void 0,(l,o)=>{l&&this.logger.warn(`${a}loading namespace ${i} for language ${n} failed`,l),!l&&o&&this.logger.log(`${a}loaded namespace ${i} for language ${n}`,o),this.loaded(t,l,o)})}saveMissing(t,a,s,n,i,l={},o=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(a)){this.logger.warn(`did not save key "${s}" as the namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if(this.backend?.create){const c={...l,isUpdate:i},d=this.backend.create.bind(this.backend);if(d.length<6)try{let u;d.length===5?u=d(t,a,s,n,c):u=d(t,a,s,n),u&&typeof u.then=="function"?u.then(f=>o(null,f)).catch(o):o(null,u)}catch(u){o(u)}else d(t,a,s,n,o,c)}!t||!t[0]||this.store.addResource(t[0],a,s,n)}}}const r9=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),Va(e[1])&&(t.defaultValue=e[1]),Va(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const a=e[3]||e[2];Object.keys(a).forEach(s=>{t[s]=a[s]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),s9=e=>(Va(e.ns)&&(e.ns=[e.ns]),Va(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Va(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e),l2=()=>{},UCe=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(a=>{typeof e[a]=="function"&&(e[a]=e[a].bind(e))})};class xv extends nN{constructor(t={},a){if(super(),this.options=s9(t),this.services={},this.logger=Jd,this.modules={external:[]},UCe(this),a&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,a),this;setTimeout(()=>{this.init(t,a)},0)}}init(t={},a){this.isInitializing=!0,typeof t=="function"&&(a=t,t={}),t.defaultNS==null&&t.ns&&(Va(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const s=r9();this.options={...s,...this.options,...s9(t)},this.options.interpolation={...s.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const n=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?Jd.init(n(this.modules.logger),this.options):Jd.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:d=ICe;const u=new QR(this.options);this.store=new YR(this.options.resources,this.options);const f=this.services;f.logger=Jd,f.resourceStore=this.store,f.languageUtils=u,f.pluralResolver=new LCe(u,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==s.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),d&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(f.formatter=n(d),f.formatter.init&&f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new OCe(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new $Ce(n(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",(m,...g)=>{this.emit(m,...g)}),this.modules.languageDetector&&(f.languageDetector=n(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=n(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new Dw(this.services,this.options),this.translator.on("*",(m,...g)=>{this.emit(m,...g)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,a||(a=l2),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=(...u)=>this.store[d](...u)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=(...u)=>(this.store[d](...u),this)});const o=zg(),c=()=>{const d=(u,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(f),a(u,f)};if(this.languages&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),o}loadResources(t,a=l2){let s=a;const n=Va(t)?t:this.language;if(typeof t=="function"&&(s=t),!this.options.resources||this.options.partialBundledLanguages){if(n?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const i=[],l=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(d=>{d!=="cimode"&&i.indexOf(d)<0&&i.push(d)})};n?l(n):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>l(c)),this.options.preload?.forEach?.(o=>l(o)),this.services.backendConnector.load(i,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(o)})}else s(null)}reloadResources(t,a,s){const n=zg();return typeof t=="function"&&(s=t,t=void 0),typeof a=="function"&&(s=a,a=void 0),t||(t=this.languages),a||(a=this.options.ns),s||(s=l2),this.services.backendConnector.reload(t,a,i=>{n.resolve(),s(i)}),n}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&AG.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let a=0;a<this.languages.length;a++){const s=this.languages[a];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,a){this.isLanguageChangingTo=t;const s=zg();this.emit("languageChanging",t);const n=o=>{this.language=o,this.languages=this.services.languageUtils.toResolveHierarchy(o),this.resolvedLanguage=void 0,this.setResolvedLanguage(o)},i=(o,c)=>{c?this.isLanguageChangingTo===t&&(n(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,s.resolve((...d)=>this.t(...d)),a&&a(o,(...d)=>this.t(...d))},l=o=>{!t&&!o&&this.services.languageDetector&&(o=[]);const c=Va(o)?o:o&&o[0],d=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(Va(o)?[o]:o);d&&(this.language||n(d),this.translator.language||this.translator.changeLanguage(d),this.services.languageDetector?.cacheUserLanguage?.(d)),this.loadResources(d,u=>{i(u,d)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(t),s}getFixedT(t,a,s){const n=(i,l,...o)=>{let c;typeof l!="object"?c=this.options.overloadTranslationOptionHandler([i,l].concat(o)):c={...l},c.lng=c.lng||n.lng,c.lngs=c.lngs||n.lngs,c.ns=c.ns||n.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||s||n.keyPrefix);const d=this.options.keySeparator||".";let u;return c.keyPrefix&&Array.isArray(i)?u=i.map(f=>(typeof f=="function"&&(f=$C(f,{...this.options,...l})),`${c.keyPrefix}${d}${f}`)):(typeof i=="function"&&(i=$C(i,{...this.options,...l})),u=c.keyPrefix?`${c.keyPrefix}${d}${i}`:i),this.t(u,c)};return Va(t)?n.lng=t:n.lngs=t,n.ns=a,n.keyPrefix=s,n}t(...t){return this.translator?.translate(...t)}exists(...t){return this.translator?.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,a={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=a.lng||this.resolvedLanguage||this.languages[0],n=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const l=(o,c)=>{const d=this.services.backendConnector.state[`${o}|${c}`];return d===-1||d===0||d===2};if(a.precheck){const o=a.precheck(this,l);if(o!==void 0)return o}return!!(this.hasResourceBundle(s,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(s,t)&&(!n||l(i,t)))}loadNamespaces(t,a){const s=zg();return this.options.ns?(Va(t)&&(t=[t]),t.forEach(n=>{this.options.ns.indexOf(n)<0&&this.options.ns.push(n)}),this.loadResources(n=>{s.resolve(),a&&a(n)}),s):(a&&a(),Promise.resolve())}loadLanguages(t,a){const s=zg();Va(t)&&(t=[t]);const n=this.options.preload||[],i=t.filter(l=>n.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return i.length?(this.options.preload=n.concat(i),this.loadResources(l=>{s.resolve(),a&&a(l)}),s):(a&&a(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!t)return"rtl";try{const n=new Intl.Locale(t);if(n&&n.getTextInfo){const i=n.getTextInfo();if(i&&i.direction)return i.direction}}catch{}const a=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=this.services?.languageUtils||new QR(r9());return t.toLowerCase().indexOf("-latn")>1?"ltr":a.indexOf(s.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},a){return new xv(t,a)}cloneInstance(t={},a=l2){const s=t.forkResourceStore;s&&delete t.forkResourceStore;const n={...this.options,...t,isClone:!0},i=new xv(n);if((t.debug!==void 0||t.prefix!==void 0)&&(i.logger=i.logger.clone(t)),["store","services","language"].forEach(o=>{i[o]=this[o]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},s){const o=Object.keys(this.store.data).reduce((c,d)=>(c[d]={...this.store.data[d]},c[d]=Object.keys(c[d]).reduce((u,f)=>(u[f]={...c[d][f]},u),c[d]),c),{});i.store=new YR(o,n),i.services.resourceStore=i.store}return i.translator=new Dw(i.services,n),i.translator.on("*",(o,...c)=>{i.emit(o,...c)}),i.init(n,a),i.translator.options=n,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Rs=xv.createInstance();Rs.createInstance=xv.createInstance;Rs.createInstance;Rs.dir;Rs.init;Rs.loadResources;Rs.reloadResources;Rs.use;Rs.changeLanguage;Rs.getFixedT;Rs.t;Rs.exists;Rs.setDefaultNamespace;Rs.hasLoadedNamespace;Rs.loadNamespaces;Rs.loadLanguages;const TG=e=>{document.documentElement.dir=e==="ar"?"rtl":"ltr",document.documentElement.lang=e};TG(Rs.language||"en");Rs.on("languageChanged",e=>{TG(e||"en")});const zCe={en:{translation:{Dashboard:"Dashboard","Lead Management":"Lead Management",Leads:"Leads",Stages:"Stages","new lead":"New Lead",duplicate:"Duplicate",pending:"Pending","cold calls":"Cold Calls","Recycle Bin":"Recycle Bin",Inventory:"Inventory","Marketing Modules":"Marketing Modules",Campaigns:"Campaigns","Landing Pages":"Landing Pages","Meta Integration":"Meta Integration","Leads Performance":"Leads Performance",Customers:"Customers",Reports:"Reports","User Management":"User Management",Support:"Support",Settings:"Settings","Contact us":"Contact us",Logout:"Logout","Profile & Company":"Profile & Company","Profile Settings":"Profile Settings","Company Settings":"Company Settings","Contact Info Settings":"Contact Info Settings","System Settings":"System Settings","System Preferences":"System Preferences","Modules Settings":"Modules Settings","Security Settings":"Security Settings","Custom Fields":"Custom Fields","Audit Logs":"Audit Logs","Company Setup":"Company Setup","Company Info":"Company Info",Subscription:"Subscription","Enabled Modules":"Enabled Modules",Visibility:"Visibility","Notifications Settings":"Notifications Settings","SMS Templates":"SMS Templates","Email Templates":"Email Templates","WhatsApp Templates":"WhatsApp Templates","Billing & Subscription":"Billing & Subscription","Payment History":"Payment History","Plans & Upgrade":"Plans & Upgrade",Integrations:"Integrations","API Keys":"API Keys",Webhooks:"Webhooks","WhatsApp Integration":"WhatsApp Integration","Payment Gateway Integration":"Payment Gateway Integration","Google / Slack Integrations":"Google / Slack Integrations","Data Management":"Data Management",Backup:"Backup",Configuration:"Configuration",Scripting:"Scripting","EOI Settings":"EOI Settings","Reservation Settings":"Reservation Settings","Rotation Settings":"Rotation Settings","Contracts Settings":"Contracts Settings","Buyer Request Reset":"Buyer Request Reset","Matching Settings":"Matching Settings","Rent Configuration":"Rent Configuration","CIL Settings":"CIL Settings",Users:"Users",Teams:"Teams",Departments:"Departments",Roles:"Roles","Activity Logs":"Activity Logs","Access Logs":"Access Logs",Tickets:"Tickets",SLA:"SLA",Feedbacks:"Feedbacks",Projects:"Projects",Properties:"Properties",Requests:"Requests","Buyer Requests":"Buyer Requests","Seller Requests":"Seller Requests","Dev Companies":"Dev Companies",Products:"Products",Items:"Items",Warehouse:"Warehouse",Categories:"Categories",Developers:"Developers",Brokers:"Brokers",Suppliers:"Suppliers","Stock Management":"Stock Management",Transactions:"Transactions",Calendar:"Calendar",Tasks:"Tasks",Language:"Language",Search:"Search",Notifications:"Notifications",Profile:"Profile","Profile menu":"Profile menu","My Profile":"My Profile","Linked Devices":"Linked Devices","Company Profile":"Company Profile","Change Profile Picture":"Change Profile Picture","Change Password":"Change Password",Administrator:"Administrator","Dark Mode":"Dark Mode","Light Mode":"Light Mode",welcome_super_admin:"Welcome, Super Admin!",Filter:"Filter",All:"All",Country:"Country",City:"City",Company:"Company","Customer name":"Customer name",Orders:"Orders",Comments:"Comments",Comment:"Comment","Type to search...":"Type to search...",Search_button:"Search","Hide Tools":"Hide Tools","Show Tools":"Show Tools","Delay Leads":"Delay Leads",Activity:"Activity","To do list":"To do list","The Last Comments":"The Last Comments","Last Comments":"Last Comments","Hot Leads":"Hot Leads","Phone Calls":"Phone Calls","Recent Phone Calls":"Recent Phone Calls",Employee:"Employee",Lead:"Lead",Phone:"Phone",Duration:"Duration",Notes:"Notes",Incoming:"Incoming",Outgoing:"Outgoing",Missed:"Missed","Total Leads":"Total Leads","Conversion Rate":"Conversion Rate","Avg Response Time":"Avg Response Time","Leads by Source":"Leads by Source","Leads by Status":"Leads by Status","Leads Status":"Leads Status",Website:"Website","Social Media":"Social Media",Referrals:"Referrals","Email Campaign":"Email Campaign",Direct:"Direct",New:"New","In Progress":"In Progress",Qualified:"Qualified",Converted:"Converted",Lost:"Lost","Quick Actions":"Quick Actions","Export Data":"Export Data","Generate Report":"Generate Report","View Details":"View Details",Priority:"Priority",Type:"Type",high:"High",medium:"Medium",low:"Low",follow_up:"Follow Up",proposal:"Proposal",inquiry:"Inquiry",support:"Support",meeting:"Meeting","bulk.selectAssigneeError":"Please select or type an assignee first","bulk.assignSuccess":"Assigned {{count}} leads to: {{target}}","bulk.selectStatusError":"Please select a status first","bulk.statusUpdateSuccess":"Updated status for {{count}} leads to: {{status}}","bulk.deleteSuccess":"Successfully deleted {{count}} leads","import.title":"Import Leads from Excel","import.dropzone":"Drag & drop your file here, or click to select","import.selectedFile":"Selected file: {{file}}","import.noFileSelected":"No file selected yet","import.browseButton":"Browse","import.importing":"Importing...","import.importButton":"Import","import.supportedFiles":"Supports .xlsx and .xls files","import.selectFileError":"Please select an Excel file first","import.readFileError":"Failed to read the Excel file. Please check the format and content.","import.summary":"Added {{count}} new leads","import.supportedFields":"Supported fields: Name, Email, Phone, Company, Status, Priority, Source, Assigned To, Created At, Last Contact, Estimated Value, Probability","Import Data":"Import Data","import.uploadDescription":"Import data into the system.","import.uploadFile":"Upload file","import.dropHint":"Drag & drop file here or use the button","import.chooseFile":"Choose File","import.supportedFormats":"Supports CSV and XLSX files","import.target":"Import target","import.hasHeader":"First row contains column headers","import.updateExisting":"Update existing records on match","import.processing":"Importing...","import.successSimulated":"Import simulated successfully","import.unsupportedType":"Unsupported file type. Please upload CSV or XLSX.","import.formatGuidelines":"Format guidelines","import.guidelineUtf8":"Use UTF-8 encoding for CSV files","import.guidelineColumns":"Ensure columns match required fields","import.guidelineHeaders":"Include descriptive headers in the first row",Upload:"Upload",Preview:"Preview",Mapping:"Mapping",Summary:"Summary",Next:"Next",Back:"Back","Confirm Import":"Confirm Import",Column:"Column","Map to field":"Map to field","Start New":"Start New","New Records":"New Records","Updated Records":"Updated Records","Failed Rows":"Failed Rows","Show Export Options":"Show Export Options","Hide Export Options":"Hide Export Options","Date From":"Date From","Date To":"Date To","Assigned User/Team":"Assigned User/Team",Export:"Export",Error:"Error","Backup Management":"Backup Management","Generate Full Backup":"Generate Full Backup","Available Backups":"Available Backups","Scheduled Backups":"Scheduled Backups",Download:"Download","Save Schedule":"Save Schedule",Frequency:"Frequency",Time:"Time",Daily:"Daily",Weekly:"Weekly",Monthly:"Monthly","No backups yet.":"No backups yet.","importLogs.title":"Import Operations","importLogs.dataset":"Dataset","importLogs.status":"Status","importLogs.file":"File","importLogs.size":"Size","importLogs.options":"Options","importLogs.hasHeader":"Has Header","importLogs.updateExisting":"Update Existing","importLogs.time":"Time","importLogs.filter.dataset":"Filter by dataset","importLogs.filter.status":"Filter by status","importLogs.filter.search":"Search by file name...","importLogs.noData":"No import operations recorded","Import Logs":"Import Logs","empty.noMoreCustomers":"No other customers","template.downloadExcel":"Download Excel Template","template.downloadDescription":"Download the template and fill in the required data","template.downloadButton":"Download Template","template.requiredFields":"Required Fields:","Lead Stages":"Lead Stages","Active Campaigns":"Active Campaigns","Active Campaigns Overview":"Active Campaigns Overview","Key Performance Metrics":"Key Performance Metrics","Total Active":"Total Active","Avg. Open Rate":"Avg. Open Rate","Avg. Click Rate":"Avg. Click Rate","Conversion Rate":"Conversion Rate","Last 30 Days":"Last 30 Days","Top Campaigns":"Top Campaigns","Show Paused":"Show Paused","Hide Paused":"Hide Paused","Open Rate":"Open Rate","Click Rate":"Click Rate","On Track":"On Track","At Risk":"At Risk",Paused:"Paused","Active Users":"Active Users","Last Seen":"Last Seen",Active:"Active",Inactive:"Inactive","List View":"List View","Chart View":"Chart View",Refresh:"Refresh","All Leads":"All Leads",Duplicate:"Duplicate","New Lead":"New Lead","Cold Call":"Cold Call","follow up":"follow up","Actions at CRM":"Actions at CRM","Follow Ups":"Follow Ups",Completed:"Completed",Manager:"Manager",Employees:"Employees","Date Range":"Date Range","Date Input Placeholder":"mm/dd/yyyy",future:"Future",contacted:"Contacted",meeting_after:"Meeting after",follow_up_after:"Follow up after",cancel_after:"Cancel after",deal:"Deal",not_interested:"Not interested",next:"Next",From:"From",To:"To",Clear:"Clear","The Best":"The Best","Your top agents for the number of actions.":"Your top agents for the number of actions.",Today:"Today",Weekly:"Weekly",Monthly:"Monthly","All Time":"All Time","Quick Numbers":"Pipeline stages","Duplicate Leads":"Duplicate Leads","Fresh Leads":"Fresh Leads","New Leads":"New Leads","Pending Leads":"Pending Leads","Cold Leads":"Cold Leads","Cold Calls":"Cold Calls","of all system leads":"of all system leads","Not Available":"Not Available",Contact:"Contact","Bulk Actions":"Bulk Actions",selected:"selected","Update Status":"Update Status","Select Status":"Select Status","Apply Status":"Apply Status","Assign Owner":"Assign to","Select Owner":"Select Owner",Assign:"Assign","Apply Filters":"Apply Filters",Reset:"Reset",Delete:"Delete",Assigned:"Assigned",Value:"Value","Last Contact":"Last Contact","Import Leads from Excel file":"Import Leads from Excel file","Drag the file here or use the button to select it":"Drag the file here or use the button to select it","All Leads":"All Leads","All Managers":"All Managers","All Employees":"All Employees","Selected file: {excelFile.name}":"Selected file: {excelFile.name}","Importing...":"Importing...",Import:"Import","Supports .xlsx and .xls files":"Supports .xlsx and .xls files","Filter Options":"Filter Options","All Status":"All Status","All Sources":"All Sources","All Priority":"All Priority","Lead Statistics":"Lead Statistics",Theme:"Theme","Display Options":"Display Options","Show/Hide Columns":"Show/Hide Columns","Search columns...":"Search columns...","Reset Columns":"Reset Columns",Company:"Company",Assigned:"Assigned",Value:"Value","Last Contact":"Last Contact",Actions:"Actions",Admin:"Admin","+100% of all system leads":"+100% of all system leads","+8.2% from last month":"+8.2% from last month","+5.1% from last month":"+5.1% from last month","-2.3% from last month":"-2.3% from last month","Add Leads in Excel Sheet":"Add leads in an Excel-like sheet","Add Row":"Add Row","Delete Row":"Delete Row","Save Leads":"Save Leads",Close:"Close",Urgent:"Urgent",Referral:"Referral","Select Manager":"Select Manager","Select Employee":"Select Employee","From Date":"From Date","To Date":"To Date",Cancel:"Cancel","Add New Lead":"Add New Lead","Import Leads":"Import Leads","Add Demo Leads":"Add Demo Leads","Please select items to restore":"Please select items to restore","Please select items to delete":"Please select items to delete","Are you sure you want to restore the selected leads?":"Are you sure you want to restore the selected leads?","Are you sure you want to permanently delete the selected leads? This action cannot be undone.":"Are you sure you want to permanently delete the selected leads? This action cannot be undone.","Add Landing Page":"Add Landing Page",General:"General",Description:"Description",Media:"Media",Script:"Script",Title:"Title","Enter title":"Enter title",Channel:"Channel","Select Channel":"Select Channel",Project:"Project","Select Project":"Select Project","Target URL":"Target URL","Short Description":"Short Description","Upload Media":"Upload Media","Header Script":"Header Script","Body Script":"Body Script","Saving...":"Saving...",Create:"Create","Saved successfully":"Saved successfully",Open:"Open","Coming soon":"Coming soon","Reports Dashboard":"Reports Dashboard","Sales Report":"Sales Report","Lead Report":"Lead Report","Marketing Reports":"Marketing Reports","Team Report":"Team Report","Meetings Report":"Meetings Report","Sales Activities":"Sales Activities",Reservations:"Reservations","Closed Deals":"Closed Deals",Rent:"Rent","Check in Report":"Check in Report","Customers Report":"Customers Report","Sms Report":"Sms Report","Calls Report":"Calls Report","Team Performance Report":"Team Performance Report",Opportunities:"Opportunities",Cils:"Cils",Calls:"Calls",EOI:"EOI",Reservation:"Reservation",Deals:"Deals","Cancel Reasons":"Cancel Reasons","Opened This Month":"Opened This Month","Closed This Month":"Closed This Month","Open Chances":"Open Chances","Missed Chances":"Missed Chances",Remaining:"Remaining","Closed Chances":"Closed Chances","Data List":"Data List","Export List":"Export List","Show Entries":"Show Entries",Previous:"Previous",Next:"Next","No data":"No data","Export Report":"Export Report",Status:"Status",Reason:"Reason",Count:"Count","Reports KPIs":"Reports KPIs","Employees Reporting":"Employees Reporting","Generated Reports":"Generated Reports","Scheduled Reports":"Scheduled Reports","Failed Reports":"Failed Reports","Avg Generation Time":"Avg Generation Time","Report Types":"Report Types",PDF:"PDF",Excel:"Excel",Email:"Email","Reports per Employee":"Reports per Employee","Success Rate":"Success Rate","Last Activity":"Last Activity","Dashboard Overview":"Dashboard Overview","Show All":"Show All","Hide Less Active":"Hide Less Active",Minutes:"Minutes","reports.sales.desc":"Analyze sales data to improve performance and boost revenue.","reports.leads.desc":"Track your leads and evaluate their engagement within the system.","reports.marketing.desc":"Analyze marketing campaigns and measure their success to enhance strategies.","reports.team.desc":"Monitor team performance and track daily goal achievements.","reports.meetings.desc":"Manage meetings and follow up on discussed points and implementation.","reports.sms.desc":"Track and analyze messages sent to customers to increase engagement.","reports.calls.desc":"Monitor and analyze call data for performance and quality assessment.","reports.team_performance.desc":"Evaluate team performance and identify areas for improvement.","salesActions.lastUpdate":"Last update",Update:"Update","Updating...":"Updating...","salesActions.reservations":"Reservations","salesActions.totalRevenue":"Total Revenue","salesActions.accounts":"Accounts","salesActions.callsBreakdown":"Calls Breakdown","salesActions.byType":"By Type","salesActions.noCalls":"No calls","salesActions.topTeam":"Top Team","salesActions.viewTeamDetails":"View Team Details","salesActions.noTeamData":"No team data","salesActions.leaderboard":"Team Leaderboard","salesActions.byAccounts":"By Accounts","salesActions.monthlyReservationsSummary":"Monthly Reservations Summary","salesActions.lastMonths":"Last {{months}} months",Month:"Month",Revenue:"Revenue",View:"View",Details:"Details",Rank:"Rank",Conversion:"Conversion",Team:"Team",Excel:"Excel",PDF:"PDF",Print:"Print","teamDetails.title":"Team Details","teamDetails.roster":"Members","teamDetails.search":"Search...","teamDetails.noMembers":"No members","teamDetails.managerialControls":"Managerial Controls","teamDetails.assignNewTask":"Assign New Task","teamDetails.sendNote":"Send Note/Comment","teamDetails.openPerformanceReview":"Open Performance Review","teamDetails.suspend":"Suspend","teamDetails.reactivate":"Reactivate","teamDetails.tabs.profile":"Profile","teamDetails.tabs.performance":"Performance","teamDetails.tabs.projects":"Projects","teamDetails.tabs.permissions":"Permissions","teamDetails.tabs.activity":"Activity Log","teamDetails.basicInfo":"Basic Information","teamDetails.fields.fullName":"Full Name","teamDetails.fields.jobTitle":"Job Title","teamDetails.fields.department":"Department","teamDetails.fields.employeeId":"Employee ID","teamDetails.fields.email":"Email","teamDetails.fields.phone":"Phone","teamDetails.fields.joinDate":"Join Date","teamDetails.fields.status":"Status",Active:"Active","On Leave":"On Leave",Inactive:"Inactive","teamDetails.performanceMetrics":"Performance Metrics","teamDetails.metrics.totalTasks":"Total Tasks","teamDetails.metrics.tasksCompletionRate":"Tasks Completion Rate","teamDetails.metrics.avgResponseTime":"Average Response Time","teamDetails.metrics.attendanceRate":"Attendance Rate","teamDetails.metrics.performanceScore":"Performance Score","teamDetails.metrics.lastEvaluation":"Last Evaluation","teamDetails.projectsAndResponsibilities":"Projects & Responsibilities",Started:"Started",Tasks:"Tasks","View Project":"View Project",Reset:"Reset","teamDetails.noProjects":"No projects","teamDetails.permissionsAndAccess":"Permissions & Access","teamDetails.regionBranch":"Region/Branch","teamDetails.availableModules":"Available Modules","teamDetails.updateAccess":"Update Access","teamDetails.restrictAccess":"Restrict Access","teamDetails.activityLog":"Activity Log","teamDetails.filterByDate":"Filter by date","activity.leadUpdated":"Lead data updated","activity.dealClosed":"Deal closed","activity.newRequestCreated":"New request created","security.passwordAuth":"Password & Authentication","security.save":"Save","security.currentPassword":"Current Password","security.newPassword":"New Password","security.confirmPassword":"Confirm Password","security.passwordMismatch":"Passwords don't match","security.twoFactor":"Two-Factor Authentication","security.defaultMethod":"Default Method","security.emailOtp":"Email OTP","security.sms":"SMS","security.app":"Authenticator App","security.enableMethods":"Enable Methods","security.enableNotice":"Enable two-factor to show method settings and enable methods.","security.setup2fa":"Setup 2FA","security.accountAccess":"Account Access","security.editPermissions":"Edit Permissions","security.activeSessions":"Active Sessions","security.device":"Device","security.location":"Location","security.lastActive":"Last Active","security.action":"Action","security.noSessions":"No active sessions","security.logout":"Logout","security.logoutAll":"Logout from All Devices","security.securityNotifications":"Security Notifications","security.loginNewDevice":"Login from New Device","security.passwordChange":"Password Change","security.failedLogins":"Failed Login Attempts","security.notificationMethod":"Notification Method","security.push":"Push Notifications","security.policies":"Login & Password Policies","security.minLength":"Minimum Length","security.failedLimit":"Failed Login Attempt Limit","security.charReq":"Character Requirements","security.upper":"Uppercase","security.lower":"Lowercase","security.number":"Number","security.special":"Special Character","security.lockoutPolicy":"Lockout Policy","security.tempLockout":"Temporary Lockout","security.lockoutNote":"Applies after consecutive failed attempts.","security.auditLogs":"Audit Logs","security.modal.setupTitle":"Setup Two-Factor Authentication","security.modal.setupHelp":"Select method and follow instructions to complete setup.","security.modal.logoutTitle":"Logout Session","security.modal.logoutDesc":"This will logout the selected device.","security.modal.editPermsTitle":"Edit Permissions","security.perms.viewCustomers":"View Customers","security.perms.editCustomers":"Edit Customers","security.perms.manageUsers":"Manage Users","security.perms.viewBilling":"View Billing","common.cancel":"Cancel","common.save":"Save",Attachment:"Attachment","Selected file":"Selected file",Remove:"Remove","Tax Rate (%)":"Tax Rate (%)","Create Quotation":"Create Quotation",Opportunity:"Opportunity",Select:"Select","Loading...":"Loading...","Sent successfully":"Sent successfully","Conversion created successfully":"Conversion created successfully","Tax rate updated":"Tax rate updated","Failed to update tax rate":"Failed to update tax rate","Product / Service":"Product / Service",SKU:"SKU",Quantity:"Quantity","Unit Price":"Unit Price",Discount:"Discount",Subtotal:"Subtotal",Tax:"Tax",Total:"Total",Quotations:"Quotations","Sales Orders":"Sales Orders",Invoices:"Invoices",Sales:"Sales",Created:"Created",ID:"ID","Send to Customer":"Send to Customer","Convert to Sales Order":"Convert to Sales Order","Convert to Quotation":"Convert to Quotation",Amount:"Amount",Stage:"Stage","Expected Close Date":"Expected Close Date","Contact (B2B)":"Contact (B2B)","Contact person":"Contact person","Quick add":"Quick add","Add Opportunity":"Add Opportunity",Optional:"Optional",Individual:"Individual","Company name":"Company name",Tags:"Tags","Comma separated":"Comma separated","Assigned Rep":"Assigned Rep","Sales representative":"Sales representative","Quick Add Customer":"Quick Add Customer"}},ar:{translation:{Dashboard:" ","Lead Management":"  ",Leads:"",Stages:"","new lead":" ",duplicate:"",pending:" ","cold calls":" ","Recycle Bin":" ",Inventory:"","Marketing Modules":" ",Campaigns:"","Landing Pages":" ","Meta Integration":" ","Leads Performance":"  ",Customers:"",Reports:"","User Management":" ",Support:"",Settings:"","Contact us":" ",Logout:" ","Profile & Company":"  ","Profile Settings":"  ","Company Settings":" ","Contact Info Settings":"  ","System Settings":" ","System Preferences":" ","Modules Settings":" ","Security Settings":" ","Custom Fields":" ","Audit Logs":" ","Company Setup":" ","Company Info":" ",Subscription:"","Enabled Modules":" ",Visibility:"","Notifications Settings":" ","SMS Templates":"  ","Email Templates":"  ","WhatsApp Templates":" ","Billing & Subscription":" ","Payment History":" ","Plans & Upgrade":" ",Integrations:"","API Keys":" API",Webhooks:"","WhatsApp Integration":" ","Payment Gateway Integration":"  ","Google / Slack Integrations":" Google / Slack","Data Management":" ",Backup:" ",Configuration:"",Scripting:"","EOI Settings":" EOI","Reservation Settings":" ","Rotation Settings":" ","Contracts Settings":" ","Buyer Request Reset":"   ","Matching Settings":" ","Rent Configuration":" ","CIL Settings":" CIL",Users:"",Teams:"",Departments:"",Roles:"","Activity Logs":" ","Access Logs":" ",Tickets:"",SLA:"  ",Feedbacks:"",Projects:"",Properties:"",Requests:"","Buyer Requests":" ","Seller Requests":" ","Dev Companies":" ",Products:"",Items:"",Warehouse:"",Categories:"",Developers:"",Brokers:"",Suppliers:"","Stock Management":" ",Transactions:" ",Calendar:"",Tasks:"",Language:"",Search:"",Notifications:"",Profile:" ","Dark Mode":" ","Light Mode":" ",welcome_super_admin:"  !",Filter:"",All:"",Country:"",City:"",Company:"","Customer name":" ",Orders:"",Comments:"",Comment:"","Type to search...":" ...",Search_button:"","Hide Tools":" ","Show Tools":" ","Delay Leads":" ",Activity:"","To do list":" ","The Last Comments":" ","Last Comments":" ","Hot Leads":"  ","Phone Calls":" ","Recent Phone Calls":"  ",Employee:"",Lead:" ",Phone:"",Duration:"",Notes:"",Incoming:"",Outgoing:"",Missed:"","Total Leads":"  ","Conversion Rate":" ","Avg Response Time":"  ","Leads by Source":"   ","Leads by Status":"   ","Leads Status":"  ",Website:" ","Social Media":"  ",Referrals:"","Email Campaign":"  ",Direct:"",New:"","In Progress":" ",Qualified:"",Converted:" ",Lost:"","Quick Actions":" ","Export Data":" ","Generate Report":" ","View Details":" ",Priority:"",Type:"",high:"",medium:"",low:"",follow_up:"",proposal:" ",inquiry:"",support:" ",meeting:"","bulk.selectAssigneeError":"      ","bulk.assignSuccess":"  {{count}}  : {{target}}","bulk.selectStatusError":"   ","bulk.statusUpdateSuccess":"   {{count}}  : {{status}}","bulk.deleteSuccess":"  {{count}}  ","import.title":"    ","import.dropzone":"      ","import.selectedFile":" : {{file}}","import.noFileSelected":"   ","import.browseButton":"","import.importing":" ...","import.importButton":"","import.supportedFiles":"  .xlsx  .xls","import.selectFileError":"    ","import.readFileError":"   .    .","import.summary":"  {{count}}  ","import.supportedFields":" :               ","Import Data":" ","import.uploadDescription":"   .","import.uploadFile":" ","import.dropHint":"     ","import.chooseFile":" ","import.supportedFormats":"  CSV  XLSX","import.target":" ","import.hasHeader":"     ","import.updateExisting":"    ","import.processing":" ...","import.successSimulated":"   ","import.unsupportedType":"   .   CSV  XLSX.","import.formatGuidelines":" ","import.guidelineUtf8":"  UTF-8  CSV","import.guidelineColumns":"     ","import.guidelineHeaders":"     ","importLogs.title":" ","importLogs.dataset":"","importLogs.status":"","importLogs.file":"","importLogs.size":"","importLogs.options":"","importLogs.hasHeader":" ","importLogs.updateExisting":" ","importLogs.time":"","importLogs.filter.dataset":"  ","importLogs.filter.status":"  ","importLogs.filter.search":"  ...","importLogs.noData":"    ","Import Logs":" ","empty.noMoreCustomers":"   ","template.downloadExcel":"  Excel","template.downloadDescription":"     ","template.downloadButton":" ","template.requiredFields":" :","Lead Stages":" ","Pipeline Stages":" ","Active Campaigns":" ","Active Campaigns Overview":"    ","Key Performance Metrics":"  ","Total Active":" ","Avg. Open Rate":"  ","Avg. Click Rate":"  ","Conversion Rate":" ","Last 30 Days":" 30 ","Top Campaigns":" ","Show Paused":" ","Hide Paused":" ","Open Rate":" ","Click Rate":" ","On Track":" ","At Risk":" ",Paused:"","Active Users":" ","Last Seen":" ","List View":" ","Chart View":"  ",Refresh:"","All Leads":" ",Duplicate:"","New Lead":"  ","Cold Call":" ","follow up":"","Actions at CRM":"  CRM","Follow Ups":"",Completed:"",Manager:"",Employees:"","Date Range":" ","Date Input Placeholder":"//",future:"",contacted:" ",meeting_after:" ",follow_up_after:" ",reschedule_meeting:"  ",no_answer_1st_call:"    ",meeting:"",follow_up:"",cancel_after:" ",deal:"",not_interested:" ",next:"",follow_up_after_meeting:"  ","Show All":" ",From:"",To:"",Clear:"","The Best":"","Your top agents for the number of actions.":"     .",Today:"",Weekly:"",Monthly:"","All Time":" ","Quick Numbers":" ","Duplicate Leads":" ","Fresh Leads":" ","New Leads":" ","Pending Leads":"  ","Cold Leads":" ","Cold Calls":" ","of all system leads":"   ","Not Available":" ","Lead Name":" ",Mobile:"","Stage Date":" ","Last Comment":" ",preview:"",cancel_after:" ",deal:"",not_interested:" ",next:"","Show Less":" ","Show More":" ","Leads Analysis":"  ","Pipeline Analysis":"  ",Measures:"","Days to Assign":" ","Days to Close":" ","Days To Convert":" ","Exceeded Closing Days":"  ","Expected Revenue":" ","Prorated Revenue":" ",Total:"","Peak Month":" ",Average:"","vs Last Month":"  ",Active:"",Inactive:" ",Yes:"",No:"",Year:"","Previous Period":" ",Count:"","Search...":"...","Active or Inactive":"   ","Created on":"  ",Sales:"","Leads Analysis":"  ","Pipeline Analysis":"  ",Measures:"","Days to Assign":" ","Days to Close":" ","Days To Convert":" ","Exceeded Closing Days":"  ","Expected Revenue":" ","Prorated Revenue":" ",Count:"","Search...":"...","Active or Inactive":"   ","Created on":"  ",Sales:"","Search Leads":" ","All Statuses":" ",Contacted:" ","All Sources":" ",Referral:"","Email Campaign":"  ","All Priorities":" ",High:"",Medium:"",Low:"","Bulk Actions":" ","Export Selected":" ","Delete Selected":" ","Change Status":" ","Add New Lead":"  ","Lead Name":" ",Email:" ",Status:"",Priority:"",Source:"",Assigned:"",Value:"","Last Contact":" ","Action Date":" ","Created Date":" ",Actions:"",View:"",Edit:"",Delete:"",Showing:"",of:"",results:"",Previous:"",Next:"",Contact:" ",selected:"","Update Status":" ","Select Status":" ","Apply Status":" ","Assign Owner":" ","Select Owner":" ",Assign:"","Apply Filters":" ",Reset:" ","Filter Options":" ","All Status":" ","All Priority":" ","Lead Statistics":" ","Display Options":" ","Show/Hide Columns":"/ ","Search columns...":"  ...","Reset Columns":"  ",Theme:"",welcome_super_admin:"  !",Profile:"","Profile menu":" ","My Profile":" ","Linked Devices":" ","Company Profile":" ","Change Profile Picture":"   ","Change Password":"  ",Administrator:"",Admin:"","+100% of all system leads":"+100%    ","+8.2% from last month":"+8.2%   ","+5.1% from last month":"+5.1%   ","-2.3% from last month":"-2.3%   ","Add Leads in Excel Sheet":"     ","Add Row":" ","Delete Row":" ","Save Leads":" ",Close:"",Urgent:"",Referral:"","Select Manager":" ","Select Employee":" ","From Date":" ","To Date":" ",Cancel:"","Add New Lead":"  ","Import Leads":" ","Add Demo Leads":"  ","Please select items to restore":"    ","Please select items to delete":"    ","Are you sure you want to restore the selected leads?":"      ","Are you sure you want to permanently delete the selected leads? This action cannot be undone.":"             .","Add Landing Page":"  ",General:"",Description:"",Media:"",Script:"",Title:"","Enter title":" ",Channel:"","Select Channel":" ",Project:"","Select Project":" ","Target URL":" ","Short Description":" ","Upload Media":" ","Header Script":" ","Body Script":" ","Saving...":" ...",Create:"","Saved successfully":"  ",Open:"","Coming soon":"","Reports Dashboard":" ","Sales Report":" ","Lead Report":"  ","Marketing Reports":" ","Team Report":" ","Meetings Report":" ","Sales Activities":" ",Reservations:"","Closed Deals":" ",Rent:"","Check in Report":"  ","Customers Report":" ","Sms Report":" ","Calls Report":" ","Team Performance Report":"  ",Opportunities:"",Cils:"Cils",Calls:"",EOI:" ",Reservation:"",Deals:"","Cancel Reasons":" ","Opened This Month":"  ","Closed This Month":"  ","Open Chances":" ","Missed Chances":" ",Remaining:"","Closed Chances":" ","Data List":" ","Export List":" ","Show Entries":" ",Previous:"",Next:"","No data":"  ","Export Report":" ",Status:"",Reason:"",Count:"","Reports KPIs":" ","Employees Reporting":" ","Generated Reports":" ","Scheduled Reports":" ","Failed Reports":" ","Avg Generation Time":"   ","Report Types":" ",PDF:"  ",Excel:"",Email:" ","Reports per Employee":"  ","Success Rate":" ","Last Activity":" ","Dashboard Overview":"   ","Show All":" ","Hide Less Active":"  ",Minutes:"","reports.sales.desc":"      .","reports.leads.desc":"      .","reports.marketing.desc":"      .","reports.team.desc":"      .","reports.meetings.desc":"     .","reports.sms.desc":"      .","reports.calls.desc":"      .","reports.team_performance.desc":"     .","salesActions.lastUpdate":" ",Update:"","Updating...":" ...","salesActions.reservations":"","salesActions.totalRevenue":" ","salesActions.accounts":"","salesActions.callsBreakdown":" ","salesActions.byType":" ","salesActions.noCalls":"  ","salesActions.topTeam":" ","salesActions.viewTeamDetails":"  ","salesActions.noTeamData":"   ","salesActions.leaderboard":"  ","salesActions.byAccounts":" ","salesActions.monthlyReservationsSummary":"   ","salesActions.lastMonths":" {{months}} ",Month:"",Revenue:"",View:"",Details:"",Rank:"",Conversion:"",Team:"",Excel:"",PDF:"PDF",Print:"","teamDetails.title":" ","teamDetails.roster":"","teamDetails.search":"...","teamDetails.noMembers":"  ","teamDetails.managerialControls":" ","teamDetails.assignNewTask":"  ","teamDetails.sendNote":" /","teamDetails.openPerformanceReview":"   ","teamDetails.suspend":" ","teamDetails.reactivate":" ","teamDetails.tabs.profile":"","teamDetails.tabs.performance":"","teamDetails.tabs.projects":"","teamDetails.tabs.permissions":"","teamDetails.tabs.activity":"","teamDetails.basicInfo":" ","teamDetails.fields.fullName":" ","teamDetails.fields.jobTitle":" ","teamDetails.fields.department":"","teamDetails.fields.employeeId":" ","teamDetails.fields.email":" ","teamDetails.fields.phone":"","teamDetails.fields.joinDate":" ","teamDetails.fields.status":"",Active:"","On Leave":" ",Inactive:" ","teamDetails.performanceMetrics":" ","teamDetails.metrics.totalTasks":" ","teamDetails.metrics.tasksCompletionRate":"  ","teamDetails.metrics.avgResponseTime":"  ","teamDetails.metrics.attendanceRate":" ","teamDetails.metrics.performanceScore":" ","teamDetails.metrics.lastEvaluation":" ","teamDetails.projectsAndResponsibilities":" ",Started:"",Tasks:"","View Project":" ",Reset:" ","teamDetails.noProjects":"  ","teamDetails.permissionsAndAccess":" ","teamDetails.regionBranch":"/","teamDetails.availableModules":" ","teamDetails.updateAccess":" ","teamDetails.restrictAccess":" ","teamDetails.activityLog":" ","teamDetails.filterByDate":" ","activity.leadUpdated":"   ","activity.dealClosed":"  ","activity.newRequestCreated":"   ","security.passwordAuth":"  ","security.save":"","security.currentPassword":"  ","security.newPassword":"  ","security.confirmPassword":"  ","security.passwordMismatch":"   ","security.twoFactor":" ","security.defaultMethod":" ","security.emailOtp":"  ","security.sms":" ","security.app":" ","security.enableMethods":" ","security.enableNotice":"        .","security.setup2fa":"  ","security.accountAccess":" ","security.editPermissions":" ","security.activeSessions":" ","security.device":"","security.location":"","security.lastActive":" ","security.action":"","security.noSessions":"   ","security.logout":" ","security.logoutAll":"    ","security.securityNotifications":" ","security.loginNewDevice":"    ","security.passwordChange":"  ","security.failedLogins":"   ","security.notificationMethod":" ","security.push":" ","security.policies":"   ","security.minLength":" ","security.failedLimit":"   ","security.charReq":" ","security.upper":" ","security.lower":" ","security.number":"","security.special":" ","security.lockoutPolicy":"  ","security.tempLockout":" ","security.lockoutNote":"     .","security.auditLogs":" ","security.modal.setupTitle":"  ","security.modal.setupHelp":"     .","security.modal.logoutTitle":"  ","security.modal.logoutDesc":"    .","security.modal.editPermsTitle":" ","security.perms.viewCustomers":" ","security.perms.editCustomers":" ","security.perms.manageUsers":" ","security.perms.viewBilling":" ","common.cancel":"","common.save":"",Attachment:"","Selected file":" ",Remove:"","Tax Rate (%)":"  (%)","Create Quotation":"  ",Opportunity:"",Select:"","Loading...":" ...","Sent successfully":"  ","Conversion created successfully":"   ","Tax rate updated":"   ","Failed to update tax rate":"   ","Product / Service":" / ",SKU:" ",Quantity:"","Unit Price":" ",Discount:"",Subtotal:" ",Tax:"",Total:"",Quotations:" ","Sales Orders":" ",Invoices:"",Sales:"",Created:" ",ID:"","Send to Customer":"  ","Convert to Sales Order":"   ","Convert to Quotation":"   ",Amount:"",Stage:"","Expected Close Date":"  ","Contact (B2B)":"  (B2B)","Contact person":"  ","Quick add":" ","Add Opportunity":" ",Optional:"",Individual:"","Company name":" ",Tags:"","Comma separated":" ","Assigned Rep":" ","Sales representative":" ","Quick Add Customer":"  "}}};Rs.use(tae).init({resources:zCe,lng:(()=>{try{if(typeof window<"u"&&window.localStorage){const e=window.localStorage.getItem("systemPrefs");if(e){const a=JSON.parse(e);if(a&&a.language)return a.language}const t=window.localStorage.getItem("language");if(t)return t}}catch{}return"en"})(),fallbackLng:"en",interpolation:{escapeValue:!1}});function HCe(){const{t:e}=Dt(),t=Rs.language==="ar",a=w.useMemo(()=>({allowAssignRotation:!0,delayAssignRotation:!1,workFrom:"00:00",workTo:"23:59",reshuffleColdLeads:!1,reshuffleColdLeadsNumber:0}),[]),[s,n]=w.useState(a),[i,l]=w.useState(!1);w.useEffect(()=>{try{const x=localStorage.getItem("rotationSettings");if(x){const m=JSON.parse(x);n({...a,...m})}}catch{}},[a]);const o=x=>{n(m=>({...m,...x})),l(!0)},c=()=>{try{localStorage.setItem("rotationSettings",JSON.stringify(s)),l(!1)}catch{}},d=()=>{n(a),l(!0)},u=({label:x,value:m,onChange:g})=>r.jsxs("div",{className:"flex items-center justify-between py-3",children:[r.jsx("div",{className:"text-sm text-[var(--content-text)] opacity-80",children:x}),r.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"hidden",checked:!!m,onChange:v=>g(v.target.checked)}),r.jsx("span",{className:`w-11 h-6 flex items-center rounded-full p-1 transition ${m?"bg-blue-600":"bg-gray-300 dark:bg-gray-700"}`,children:r.jsx("span",{className:`w-4 h-4 rounded-full bg-white transform transition ${m?t?"-translate-x-0 translate-x-0":"translate-x-5":"translate-x-0"}`})}),r.jsx("span",{className:"ml-2 text-sm",children:e(m?"Yes":"No")})]})]}),f=({label:x,value:m,onChange:g})=>r.jsxs("div",{className:"flex items-center gap-3 py-2",children:[r.jsx("div",{className:"text-sm text-[var(--content-text)] opacity-80 w-28",children:x}),r.jsx("input",{type:"time",value:m,onChange:v=>g(v.target.value),className:"px-3 py-2 rounded-lg border bg-white/80 dark:bg-gray-800/70"})]});return r.jsx(aa,{title:e("Rotation Settings"),children:r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-1 h-8 bg-gradient-to-b from-blue-500 to-purple-600 rounded-full"}),r.jsx("h2",{className:"text-2xl font-bold",children:e("Rotation Settings")})]}),r.jsxs("div",{className:"glass-panel rounded-2xl p-4 space-y-4",children:[r.jsx(u,{label:e("Allow Assign Rotation"),value:s.allowAssignRotation,onChange:x=>o({allowAssignRotation:x})}),r.jsx(u,{label:e("Delay Assign Rotation"),value:s.delayAssignRotation,onChange:x=>o({delayAssignRotation:x})}),r.jsxs("div",{className:`py-2 ${t?"text-right":""}`,children:[r.jsx("div",{className:"text-sm text-[var(--content-text)] opacity-80 mb-2",children:e("Working Hours From")}),r.jsxs("div",{className:`flex items-center gap-4 ${t?"flex-row-reverse":""}`,children:[r.jsx(f,{label:e("From"),value:s.workFrom,onChange:x=>o({workFrom:x})}),r.jsx("span",{className:"opacity-70",children:e("To")}),r.jsx(f,{label:"",value:s.workTo,onChange:x=>o({workTo:x})})]})]}),r.jsx(u,{label:e("Reshuffle Cold Leads"),value:s.reshuffleColdLeads,onChange:x=>o({reshuffleColdLeads:x})}),r.jsxs("div",{className:"py-2",children:[r.jsx("div",{className:"text-sm text-[var(--content-text)] opacity-80 mb-2",children:e("Reshuffle Cold Leads Number")}),r.jsx("input",{type:"number",min:0,value:s.reshuffleColdLeadsNumber,onChange:x=>o({reshuffleColdLeadsNumber:Number(x.target.value||0)}),className:"w-40 px-3 py-2 rounded-lg border bg-white/80 dark:bg-gray-800/70"})]}),r.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2 border-t border-[var(--panel-border)]",children:[r.jsx("button",{className:"px-4 py-2 rounded-lg bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-100",onClick:d,children:e("Reset")}),r.jsx("button",{className:"px-4 py-2 rounded-lg bg-blue-600 text-white shadow hover:bg-blue-700 disabled:opacity-50",disabled:!i,onClick:c,children:e("Save")})]})]})]})})}const EG="contracts.settings";function UC(){return{general:{enabled:!0,defaultStatus:"Draft",defaultTemplateId:"",defaultAssigneeId:"",expiryDays:30,autoRenew:!1,renewalTermMonths:12,renewalGraceDays:7},templates:[{id:"basic-contract",name:"Basic Contract",fields:[{key:"customerName",label:"Customer Name",required:!0,type:"text"},{key:"service",label:"Product/Service",required:!0,type:"text"},{key:"amount",label:"Amount",required:!0,type:"number"},{key:"startDate",label:"Start Date",required:!0,type:"date"},{key:"endDate",label:"End Date",required:!1,type:"date"},{key:"terms",label:"Terms",required:!1,type:"textarea"}],dynamicTokens:["{{customer}}","{{lead.id}}","{{sales.opportunityId}}"]}],notifications:{recipients:{admin:!0,broker:!0,customer:!0},methods:{email:!0,sms:!1,inApp:!0},messages:{created:"Contract created for {{customer}}",pending:"Contract pending signature",signed:"Contract signed successfully",expired:"Contract expired. Consider renewal."}},workflow:{autoGenerateFromSales:!0,autoLinkToInvoice:!1,autoRenewContracts:!1,minApprovalRequired:"Manager"}}}async function VCe(){try{const e=await fetch("/api/contracts/settings");if(e.ok)return await e.json()}catch{}try{const e=typeof window<"u"?window.localStorage.getItem(EG):null;if(e)return JSON.parse(e)}catch{}return UC()}async function n9(e){try{if((await fetch("/api/contracts/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)return!0}catch{}try{if(typeof window<"u")return window.localStorage.setItem(EG,JSON.stringify(e)),!0}catch{}return!1}function WCe(){const{t:e,i18n:t}=Dt();w.useMemo(()=>t.dir()==="rtl",[t]);const[a,s]=w.useState(!0),[n,i]=w.useState(!1),[l,o]=w.useState(UC()),[c,d]=w.useState("general"),[u,f]=w.useState(""),[x]=w.useState([{id:"st1",name:"Staff A"},{id:"st2",name:"Staff B"},{id:"bk1",name:"Broker X"}]);w.useEffect(()=>{let N=!0;return(async()=>{const A=await VCe();N&&(o(_=>({..._,...A})),s(!1))})(),()=>{N=!1}},[]);const m=[{key:"general",label:e("General Settings")},{key:"templates",label:e("Contract Templates")},{key:"notifications",label:e("Notifications")},{key:"workflow",label:e("Workflow & Rules")}],g=(N,A)=>{o(_=>{const D={..._},P=N.split(".");let I=D;for(let B=0;B<P.length-1;B++)I[P[B]]={...I[P[B]]},I=I[P[B]];return I[P[P.length-1]]=A,D})},v=async()=>{i(!0),await n9(l),i(!1)},b=async()=>{const N=UC();o(N),await n9(N)},j=()=>{const N=`tpl-${Date.now()}`,A={id:N,name:"New Template",fields:[{key:"customerName",label:"Customer Name",required:!0,type:"text"},{key:"amount",label:"Amount",required:!0,type:"number"},{key:"startDate",label:"Start Date",required:!0,type:"date"}],dynamicTokens:["{{customer}}"]};o(_=>({..._,templates:[..._.templates,A]})),f(N)},S=N=>{o(A=>({...A,templates:A.templates.filter(_=>_.id!==N)})),u===N&&f(""),l.general.defaultTemplateId===N&&g("general.defaultTemplateId","")},k=(N,A)=>{o(_=>({..._,templates:_.templates.map(D=>D.id===N?{...D,...A}:D)}))};return a?r.jsxs("div",{className:"p-4 text-[var(--muted-text)]",children:[e("Loading"),"..."]}):r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(N=>r.jsx("button",{className:`btn btn-outline btn-sm ${c===N.key?"bg-primary text-white":""}`,onClick:()=>d(N.key),children:N.label},N.key))}),c==="general"&&r.jsx("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Enable Contracts Module")}),r.jsx("input",{type:"checkbox",checked:l.general.enabled,onChange:N=>g("general.enabled",N.target.checked)})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Default Contract Status")}),r.jsx("select",{className:"input",value:l.general.defaultStatus,onChange:N=>g("general.defaultStatus",N.target.value),children:["Draft","Pending Signature","Signed","Cancelled"].map(N=>r.jsx("option",{value:N,children:e(N)},N))})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Default Template")}),r.jsxs("select",{className:"input",value:l.general.defaultTemplateId,onChange:N=>g("general.defaultTemplateId",N.target.value),children:[r.jsx("option",{value:"",children:e("None")}),l.templates.map(N=>r.jsx("option",{value:N.id,children:N.name},N.id))]})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Default Assigned Staff / Broker")}),r.jsxs("select",{className:"input",value:l.general.defaultAssigneeId,onChange:N=>g("general.defaultAssigneeId",N.target.value),children:[r.jsx("option",{value:"",children:e("None")}),x.map(N=>r.jsx("option",{value:N.id,children:N.name},N.id))]})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Contract Expiry (days)")}),r.jsx("input",{type:"number",min:0,className:"input",value:l.general.expiryDays,onChange:N=>g("general.expiryDays",parseInt(N.target.value||"0",10))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Auto-Renew Contracts")}),r.jsx("input",{type:"checkbox",checked:l.general.autoRenew,onChange:N=>g("general.autoRenew",N.target.checked)})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Renewal Term (months)")}),r.jsx("input",{type:"number",min:1,className:"input",value:l.general.renewalTermMonths,onChange:N=>g("general.renewalTermMonths",parseInt(N.target.value||"0",10))})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Renewal Grace (days)")}),r.jsx("input",{type:"number",min:0,className:"input",value:l.general.renewalGraceDays,onChange:N=>g("general.renewalGraceDays",parseInt(N.target.value||"0",10))})]})]})}),c==="templates"&&r.jsxs("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-base font-semibold",children:e("Contract Templates")}),r.jsx("div",{className:"flex gap-2",children:r.jsx("button",{className:"btn btn-secondary btn-sm",onClick:j,children:e("Add Template")})})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"p-2",children:e("Name")}),r.jsx("th",{className:"p-2",children:e("Fields")}),r.jsx("th",{className:"p-2",children:e("Actions")})]})}),r.jsx("tbody",{children:l.templates.map(N=>r.jsxs("tr",{className:"border-t",children:[r.jsx("td",{className:"p-2",children:r.jsx("input",{className:"input",value:N.name,onChange:A=>k(N.id,{name:A.target.value})})}),r.jsx("td",{className:"p-2",children:r.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-300",children:[e("Fields"),": ",N.fields.length]})}),r.jsx("td",{className:"p-2",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{className:"btn btn-outline btn-sm",onClick:()=>f(u===N.id?"":N.id),children:u===N.id?e("Close"):e("Edit")}),r.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>S(N.id),children:e("Delete")})]})})]},N.id))})]})}),u&&r.jsx("div",{className:"rounded-xl border border-gray-200 dark:border-gray-700 p-4",children:l.templates.filter(N=>N.id===u).map(N=>r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"font-medium",children:[e("Edit Template"),": ",N.name]}),r.jsx("button",{className:"btn btn-glass btn-sm",onClick:()=>f(""),children:e("Done")})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:N.fields.map((A,_)=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{className:"input flex-1",value:A.label,onChange:D=>{const P=[...N.fields];P[_]={...A,label:D.target.value},k(N.id,{fields:P})}}),r.jsx("select",{className:"input w-32",value:A.type,onChange:D=>{const P=[...N.fields];P[_]={...A,type:D.target.value},k(N.id,{fields:P})},children:["text","number","date","textarea"].map(D=>r.jsx("option",{value:D,children:D},D))}),r.jsxs("label",{className:"text-xs inline-flex items-center gap-1",children:[r.jsx("input",{type:"checkbox",checked:A.required,onChange:D=>{const P=[...N.fields];P[_]={...A,required:D.target.checked},k(N.id,{fields:P})}}),e("Required")]})]},A.key))}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{className:"btn btn-outline btn-sm",onClick:()=>{const A=[...N.fields,{key:`field_${N.fields.length+1}`,label:"New Field",required:!1,type:"text"}];k(N.id,{fields:A})},children:e("Add Field")}),r.jsx("button",{className:"btn btn-glass btn-sm",onClick:()=>k(N.id,{dynamicTokens:[...N.dynamicTokens||[],"{{contract.id}}"]}),children:e("Add Dynamic Token")})]})]},N.id))})]}),c==="notifications"&&r.jsxs("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"font-medium text-sm",children:e("Recipients")}),r.jsxs("label",{className:"inline-flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:l.notifications.recipients.admin,onChange:N=>g("notifications.recipients",{...l.notifications.recipients,admin:N.target.checked})})," Admin"]}),r.jsxs("label",{className:"inline-flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:l.notifications.recipients.broker,onChange:N=>g("notifications.recipients",{...l.notifications.recipients,broker:N.target.checked})})," Broker"]}),r.jsxs("label",{className:"inline-flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:l.notifications.recipients.customer,onChange:N=>g("notifications.recipients",{...l.notifications.recipients,customer:N.target.checked})})," Customer"]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"font-medium text-sm",children:e("Methods")}),r.jsxs("label",{className:"inline-flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:l.notifications.methods.email,onChange:N=>g("notifications.methods",{...l.notifications.methods,email:N.target.checked})})," Email"]}),r.jsxs("label",{className:"inline-flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:l.notifications.methods.sms,onChange:N=>g("notifications.methods",{...l.notifications.methods,sms:N.target.checked})})," SMS"]}),r.jsxs("label",{className:"inline-flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:l.notifications.methods.inApp,onChange:N=>g("notifications.methods",{...l.notifications.methods,inApp:N.target.checked})})," In-App"]})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:["created","pending","signed","expired"].map(N=>r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e(`Message: ${N.charAt(0).toUpperCase()+N.slice(1)}`)}),r.jsx("textarea",{className:"input h-24",value:l.notifications.messages[N],onChange:A=>g("notifications.messages",{...l.notifications.messages,[N]:A.target.value})})]},N))})]}),c==="workflow"&&r.jsx("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Auto-generate Contract from Sales Opportunity")}),r.jsx("input",{type:"checkbox",checked:l.workflow.autoGenerateFromSales,onChange:N=>g("workflow.autoGenerateFromSales",N.target.checked)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Auto-link Contract to Invoice")}),r.jsx("input",{type:"checkbox",checked:l.workflow.autoLinkToInvoice,onChange:N=>g("workflow.autoLinkToInvoice",N.target.checked)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Auto-renew Contracts")}),r.jsx("input",{type:"checkbox",checked:l.workflow.autoRenewContracts,onChange:N=>g("workflow.autoRenewContracts",N.target.checked)})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Minimum Approval Required")}),r.jsx("select",{className:"input",value:l.workflow.minApprovalRequired,onChange:N=>g("workflow.minApprovalRequired",N.target.value),children:["None","Admin","Manager"].map(N=>r.jsx("option",{value:N,children:e(N)},N))})]})]})}),r.jsxs("div",{className:"sticky bottom-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur border-t p-4 flex items-center justify-end gap-2 rounded-t-2xl",children:[r.jsx("button",{className:"btn btn-glass",onClick:b,children:e("Reset to Default")}),r.jsx("button",{className:"btn btn-primary",onClick:v,disabled:n,children:e(n?"Saving...":"Save Changes")})]})]})}function qCe(){const{t:e}=Dt();return r.jsx(aa,{title:e("Contracts Settings"),children:r.jsxs("div",{className:"p-4 space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-semibold",children:e("Contracts Settings")}),r.jsx("span",{className:"text-xs px-2 py-1 rounded bg-gray-100 dark:bg-gray-800",children:e("Admin Only")})]}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e("Manage contract templates, required fields, e-sign rules, and integration with Sales/Invoice/Reservation.")}),r.jsx(WCe,{})]})})}const DG="buyer_request_reset.settings";function zC(){return{general:{enabled:!0,defaultResetStatus:"pending",maxResetsPerRequest:3},rules:{allowedRoles:["admin","broker"],allowedFields:["budget","location","propertyType","notes"],autoNotifyAssignedBroker:!0},notifications:{customer:{enabled:!0,methods:{email:!0,sms:!1,inApp:!0}},admin:{enabled:!0,methods:{email:!0,sms:!1,inApp:!0}},broker:{enabled:!0,methods:{email:!0,sms:!1,inApp:!0}}},workflowLogs:{trackResetHistory:!0,displayChanges:!0,autoConvertToLead:!1,autoConvertToEoi:!1}}}async function GCe(){try{const e=await fetch("/api/buyer-request-reset/settings");if(e.ok)return await e.json()}catch{}try{const e=typeof window<"u"?window.localStorage.getItem(DG):null;if(e)return JSON.parse(e)}catch{}return zC()}async function KCe(e){try{if(!(await fetch("/api/buyer-request-reset/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw new Error("Failed to save")}catch{}try{typeof window<"u"&&window.localStorage.setItem(DG,JSON.stringify(e))}catch{}}function YCe(){const{t:e,i18n:t}=Dt();w.useMemo(()=>t.dir()==="rtl",[t]);const[a,s]=w.useState(!0),[n,i]=w.useState(!1),[l,o]=w.useState(zC()),[c,d]=w.useState("general"),u=[{key:"general",label:e("General Settings")},{key:"rules",label:e("Reset Rules")},{key:"notifications",label:e("Notifications")},{key:"workflow",label:e("Workflow & Logs")}];w.useEffect(()=>{let g=!0;return(async()=>{const v=await GCe();g&&(o(b=>({...b,...v})),s(!1))})(),()=>{g=!1}},[]);const f=(g,v)=>{o(b=>{const j={...b},S=g.split(".");let k=j;for(let N=0;N<S.length-1;N++)k[S[N]]={...k[S[N]]},k=k[S[N]];return k[S[S.length-1]]=v,j})},x=async()=>{i(!0),await KCe(l),i(!1)},m=()=>{const g=zC();o(g)};return a?r.jsx("div",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6",children:r.jsx("div",{className:"animate-pulse text-sm text-gray-500",children:e("Loading settings...")})}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex flex-wrap gap-2",children:u.map(g=>r.jsx("button",{onClick:()=>d(g.key),className:`px-3 py-2 text-sm rounded-full border ${c===g.key?"bg-gray-900 text-white dark:bg-white dark:text-black":"bg-white dark:bg-gray-900 text-gray-700 dark:text-gray-200"} border-gray-200 dark:border-gray-700`,children:g.label},g.key))}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:m,className:"px-3 py-2 text-sm rounded bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 border border-gray-200 dark:border-gray-700",children:e("Reset to Default")}),r.jsx("button",{onClick:x,disabled:n,className:`px-3 py-2 text-sm rounded ${n?"opacity-70 cursor-not-allowed":""} bg-blue-600 text-white`,children:e(n?"Saving...":"Save Changes")})]})]}),c==="general"&&r.jsx("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"font-medium text-sm",children:e("Enable Buyer Request Reset")}),r.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:l.general.enabled,onChange:g=>f("general.enabled",g.target.checked)}),r.jsx("span",{children:l.general.enabled?e("Enabled"):e("Disabled")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"font-medium text-sm",children:e("Default Reset Status")}),r.jsx("select",{className:"input",value:l.general.defaultResetStatus,onChange:g=>f("general.defaultResetStatus",g.target.value),children:["pending","draft","verified"].map(g=>r.jsx("option",{value:g,children:e(g)},g))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"font-medium text-sm",children:e("Max Number of Resets per Request")}),r.jsx("input",{type:"number",min:0,className:"input",value:l.general.maxResetsPerRequest,onChange:g=>f("general.maxResetsPerRequest",Number(g.target.value))})]})]})}),c==="rules"&&r.jsxs("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"font-medium text-sm",children:e("Allowed Roles")}),r.jsx("div",{className:"flex flex-wrap gap-3 text-sm",children:["admin","broker","customer"].map(g=>r.jsxs("label",{className:"inline-flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:l.rules.allowedRoles.includes(g),onChange:v=>{const j=v.target.checked?[...l.rules.allowedRoles,g]:l.rules.allowedRoles.filter(S=>S!==g);f("rules.allowedRoles",j)}}),r.jsx("span",{children:e(g)})]},g))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"font-medium text-sm",children:e("Fields Allowed for Reset")}),r.jsx("div",{className:"flex flex-wrap gap-3 text-sm",children:[{key:"budget",label:e("Budget")},{key:"location",label:e("Location")},{key:"propertyType",label:e("Property Type")},{key:"notes",label:e("Notes")}].map(g=>r.jsxs("label",{className:"inline-flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:l.rules.allowedFields.includes(g.key),onChange:v=>{const j=v.target.checked?[...l.rules.allowedFields,g.key]:l.rules.allowedFields.filter(S=>S!==g.key);f("rules.allowedFields",j)}}),r.jsx("span",{children:g.label})]},g.key))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"font-medium text-sm",children:e("Auto-Notify Assigned Broker After Reset")}),r.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:l.rules.autoNotifyAssignedBroker,onChange:g=>f("rules.autoNotifyAssignedBroker",g.target.checked)}),r.jsx("span",{children:l.rules.autoNotifyAssignedBroker?e("Enabled"):e("Disabled")})]})]})]}),c==="notifications"&&r.jsx("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["customer","admin","broker"].map(g=>r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"font-medium text-sm",children:e(`Notify ${g.charAt(0).toUpperCase()+g.slice(1)}`)}),r.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:l.notifications[g].enabled,onChange:v=>f(`notifications.${g}.enabled`,v.target.checked)}),r.jsx("span",{children:l.notifications[g].enabled?e("Enabled"):e("Disabled")})]}),r.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[r.jsxs("label",{className:"inline-flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:l.notifications[g].methods.email,onChange:v=>f(`notifications.${g}.methods`,{...l.notifications[g].methods,email:v.target.checked})}),r.jsx("span",{children:e("Email")})]}),r.jsxs("label",{className:"inline-flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:l.notifications[g].methods.sms,onChange:v=>f(`notifications.${g}.methods`,{...l.notifications[g].methods,sms:v.target.checked})}),r.jsx("span",{children:e("SMS")})]}),r.jsxs("label",{className:"inline-flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:l.notifications[g].methods.inApp,onChange:v=>f(`notifications.${g}.methods`,{...l.notifications[g].methods,inApp:v.target.checked})}),r.jsx("span",{children:e("In-App")})]})]})]},g))})}),c==="workflow"&&r.jsxs("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"font-medium text-sm",children:e("Track Reset History per Request")}),r.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:l.workflowLogs.trackResetHistory,onChange:g=>f("workflowLogs.trackResetHistory",g.target.checked)}),r.jsx("span",{children:l.workflowLogs.trackResetHistory?e("Enabled"):e("Disabled")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"font-medium text-sm",children:e("Display Who Reset, When, and Which Fields Changed")}),r.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:l.workflowLogs.displayChanges,onChange:g=>f("workflowLogs.displayChanges",g.target.checked)}),r.jsx("span",{children:l.workflowLogs.displayChanges?e("Enabled"):e("Disabled")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"font-medium text-sm",children:e("Auto-Convert Reset to Lead")}),r.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:l.workflowLogs.autoConvertToLead,onChange:g=>f("workflowLogs.autoConvertToLead",g.target.checked)}),r.jsx("span",{children:l.workflowLogs.autoConvertToLead?e("Enabled"):e("Disabled")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"font-medium text-sm",children:e("Auto-Convert Reset to EOI")}),r.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:l.workflowLogs.autoConvertToEoi,onChange:g=>f("workflowLogs.autoConvertToEoi",g.target.checked)}),r.jsx("span",{children:l.workflowLogs.autoConvertToEoi?e("Enabled"):e("Disabled")})]})]})]}),r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 space-y-1",children:[r.jsxs("div",{children:[e("Logs endpoint"),": /api/buyer-request-reset/logs"]}),r.jsxs("div",{children:[e("Apply reset endpoint"),": /api/buyer-request-reset/apply"]}),r.jsxs("div",{children:[e("Notifications endpoint"),": /api/buyer-request-reset/notify"]})]})]})]})}function XCe(){const{t:e}=Dt();return r.jsx(aa,{title:e("Buyer Request Reset Settings"),children:r.jsxs("div",{className:"p-4 space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-semibold",children:e("Buyer Request Reset Settings")}),r.jsx("span",{className:"text-xs px-2 py-1 rounded bg-gray-100 dark:bg-gray-800",children:e("Admin Only")})]}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e("Configure reset permissions, notifications, and workflow/logs for buyer requests.")}),r.jsx(YCe,{})]})})}const MG="matching.settings";function PG(e="Default Profile"){return{id:`${Date.now()}`,name:e,fields:{location:!0,budget:!0,propertyType:!0,leadPriority:!0,tags:!1},weights:{location:40,budget:30,propertyType:30,leadPriority:0,tags:0}}}function HC(){const e=PG();return{general:{enabled:!0,defaultStatus:"Pending",autoMatching:!0},criteria:{profiles:[e],activeProfileId:e.id},notifications:{notifyBroker:!0,notifyCustomer:!1,methods:{email:!0,sms:!1,inApp:!0}},workflow:{trackHistory:!0,showScore:!0,manualOverride:{admin:!0,broker:!0}}}}async function JCe(){try{const e=await fetch("/api/matching/settings");if(e.ok)return await e.json()}catch{}try{const e=typeof window<"u"?window.localStorage.getItem(MG):null;if(e)return JSON.parse(e)}catch{}return HC()}async function QCe(e){try{if((await fetch("/api/matching/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)return!0}catch{}try{if(typeof window<"u")return window.localStorage.setItem(MG,JSON.stringify(e)),!0}catch{}return!1}async function ZCe(){try{const e=await fetch("/api/matching/logs");if(e.ok)return await e.json()}catch{}try{const e=typeof window<"u"?window.localStorage.getItem("matching.logs"):null;if(e)return JSON.parse(e)}catch{}return[]}async function e6e(e={}){try{const t=await fetch("/api/matching/run",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok)return await t.json()}catch{}return{status:"mocked",matchedCount:0,message:"Mock run completed."}}async function t6e(e={}){try{const t=await fetch("/api/matching/notify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok)return await t.json()}catch{}return{status:"mocked",message:"Notifications simulated."}}function a6e(){const{t:e,i18n:t}=Dt(),a=t.language==="ar",[s,n]=w.useState(HC()),[i,l]=w.useState(!0),[o,c]=w.useState(!1),[d,u]=w.useState(null),[f,x]=w.useState("General"),[m,g]=w.useState([]),[v,b]=w.useState("");w.useEffect(()=>{let E=!0;return JCe().then(R=>{E&&(n(R),l(!1))}),()=>{E=!1}},[]);const j=(E,R)=>{n(K=>{const V={...K},Z=E.split(".");let J=V;for(let ee=0;ee<Z.length-1;ee++)J[Z[ee]]={...J[Z[ee]]},J=J[Z[ee]];return J[Z[Z.length-1]]=R,V})},S=s.criteria.profiles||[],k=w.useMemo(()=>S.find(E=>E.id===s.criteria.activeProfileId)||S[0],[S,s.criteria.activeProfileId]),N=w.useMemo(()=>{const E=k?.weights||{};return(Number(E.location)||0)+(Number(E.budget)||0)+(Number(E.propertyType)||0)+(Number(E.leadPriority)||0)+(Number(E.tags)||0)},[k]),A=()=>{const E=v.trim()||"Profile",R=PG(E),K=[...S,R];j("criteria.profiles",K),j("criteria.activeProfileId",R.id),b(""),u({type:"success",message:e("Profile added")}),setTimeout(()=>u(null),1800)},_=E=>{const R=S.filter(V=>V.id!==E),K=E===s.criteria.activeProfileId?R[0]?.id||null:s.criteria.activeProfileId;j("criteria.profiles",R),j("criteria.activeProfileId",K),u({type:"info",message:e("Profile removed")}),setTimeout(()=>u(null),1800)},D=(E,R)=>{const K=S.map(V=>V.id===E?R({...V}):V);j("criteria.profiles",K)},P=async()=>{c(!0);const E=await QCe(s);c(!1),u({type:E?"success":"error",message:e(E?"Settings saved":"Failed to save settings")}),setTimeout(()=>u(null),2e3)},I=()=>{const E=HC();n(E),u({type:"info",message:e("Settings reset to default")}),setTimeout(()=>u(null),2e3)},B=async()=>{const E=await ZCe();g(Array.isArray(E)?E:[])},O=async()=>{const E={profile:k,general:s.general};await e6e(E),u({type:"success",message:e("Matching run completed")}),setTimeout(()=>u(null),1500),await B()},U=async()=>{await t6e({methods:s.notifications.methods}),u({type:"info",message:e("Notifications sent (mock)")}),setTimeout(()=>u(null),1500)};return i?r.jsx("div",{className:"p-4",children:r.jsx("div",{className:"animate-pulse h-6 w-40 bg-gray-200 dark:bg-gray-700 rounded"})}):r.jsxs("div",{className:"mt-4 space-y-4",children:[r.jsx("div",{className:"flex flex-wrap gap-2 border-b border-gray-200 dark:border-gray-700 pb-2",children:["General","Matching Criteria","Notifications","Workflow & Logs"].map(E=>r.jsx("button",{onClick:()=>x(E),className:`px-3 py-1.5 rounded text-sm ${f===E?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200"}`,children:e(E)},E))}),f==="General"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:s.general.enabled,onChange:E=>j("general.enabled",E.target.checked)}),r.jsx("label",{className:"font-medium",children:e("Enable Matching System")})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"font-medium w-48",children:e("Default Matching Status")}),r.jsx("select",{value:s.general.defaultStatus,onChange:E=>j("general.defaultStatus",E.target.value),className:"px-2 py-1 rounded bg-[var(--content-bg)] border border-gray-300 dark:border-gray-700",children:["Pending","Matched","Unmatched"].map(E=>r.jsx("option",{value:E,children:e(E)},E))})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:s.general.autoMatching,onChange:E=>j("general.autoMatching",E.target.checked)}),r.jsx("label",{className:"font-medium",children:e("Auto-Matching Enabled")})]})]}),f==="Matching Criteria"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"rounded border border-gray-200 dark:border-gray-700 p-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("div",{className:"font-semibold",children:e("Matching Profiles")}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{value:v,onChange:E=>b(E.target.value),placeholder:e("Profile name"),className:"px-2 py-1 rounded bg-[var(--content-bg)] border border-gray-300 dark:border-gray-700"}),r.jsx("button",{onClick:A,className:"px-3 py-1 rounded bg-blue-600 text-white text-sm",children:e("Add Profile")})]})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:S.map(E=>r.jsxs("div",{className:`px-3 py-1 rounded text-sm flex items-center gap-2 ${E.id===k?.id?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-800"}`,children:[r.jsx("input",{type:"radio",name:"activeProfile",checked:E.id===k?.id,onChange:()=>j("criteria.activeProfileId",E.id)}),r.jsx("span",{children:E.name}),r.jsx("button",{onClick:()=>_(E.id),className:"text-xs opacity-80",children:e("Remove")})]},E.id))})]}),k&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"font-semibold",children:e("Fields for Matching")}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[{key:"location",label:"Location"},{key:"budget",label:"Budget"},{key:"propertyType",label:"Property Type"},{key:"leadPriority",label:"Lead Priority"},{key:"tags",label:"Tags / Keywords"}].map(E=>r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:!!k.fields[E.key],onChange:R=>D(k.id,K=>(K.fields[E.key]=R.target.checked,K))}),r.jsx("span",{children:e(E.label)})]},E.key))}),r.jsx("div",{className:"font-semibold",children:e("Matching Priority Weight (%)")}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[{key:"location",label:"Location"},{key:"budget",label:"Budget"},{key:"propertyType",label:"Property Type"},{key:"leadPriority",label:"Lead Priority"},{key:"tags",label:"Tags / Keywords"}].map(E=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"w-40",children:e(E.label)}),r.jsx("input",{type:"number",min:0,max:100,value:k.weights[E.key]??0,onChange:R=>D(k.id,K=>(K.weights[E.key]=Number(R.target.value)||0,K)),className:"px-2 py-1 rounded bg-[var(--content-bg)] border border-gray-300 dark:border-gray-700 w-28"}),r.jsx("span",{className:"text-xs text-gray-500",children:e("%")})]},E.key))}),r.jsxs("div",{className:`text-sm ${N===100?"text-green-600":"text-amber-600"}`,children:[e("Total weight"),": ",N,"% ",N!==100&&e("(recommended: 100%)")]})]})]}),f==="Notifications"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:s.notifications.notifyBroker,onChange:E=>j("notifications.notifyBroker",E.target.checked)}),r.jsx("label",{className:"font-medium",children:e("Notify Assigned Broker / Staff After Match")})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:s.notifications.notifyCustomer,onChange:E=>j("notifications.notifyCustomer",E.target.checked)}),r.jsx("label",{className:"font-medium",children:e("Notify Customer if Matched")})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"font-semibold",children:e("Methods")}),r.jsx("div",{className:"flex flex-wrap gap-4",children:[{key:"email",label:"Email"},{key:"sms",label:"SMS"},{key:"inApp",label:"In-App"}].map(E=>r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:s.notifications.methods[E.key],onChange:R=>j(`notifications.methods.${E.key}`,R.target.checked)}),r.jsx("span",{children:e(E.label)})]},E.key))})]})]}),f==="Workflow & Logs"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:s.workflow.trackHistory,onChange:E=>j("workflow.trackHistory",E.target.checked)}),r.jsx("label",{className:"font-medium",children:e("Track Matching History")})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:s.workflow.showScore,onChange:E=>j("workflow.showScore",E.target.checked)}),r.jsx("label",{className:"font-medium",children:e("Display Matches & Score %")})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"font-semibold",children:e("Manual Override Option")}),r.jsxs("div",{className:"flex flex-wrap gap-4",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:s.workflow.manualOverride.admin,onChange:E=>j("workflow.manualOverride.admin",E.target.checked)}),r.jsx("span",{children:e("Admin")})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:s.workflow.manualOverride.broker,onChange:E=>j("workflow.manualOverride.broker",E.target.checked)}),r.jsx("span",{children:e("Broker")})]})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:O,className:"px-3 py-1.5 rounded bg-blue-600 text-white text-sm",children:e("Run Matching")}),r.jsx("button",{onClick:B,className:"px-3 py-1.5 rounded bg-gray-200 dark:bg-gray-700 text-sm",children:e("Refresh Logs")}),r.jsx("button",{onClick:U,className:"px-3 py-1.5 rounded bg-amber-500 text-white text-sm",children:e("Send Notifications")})]}),r.jsxs("div",{className:"rounded border border-gray-200 dark:border-gray-700 p-3",children:[r.jsx("div",{className:"font-semibold mb-2",children:e("Matching History")}),m.length===0?r.jsx("div",{className:"text-sm text-gray-500",children:e("No matching logs yet.")}):r.jsx("div",{className:"space-y-2",children:m.map((E,R)=>r.jsxs("div",{className:"text-sm flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:E.entity||"Item"}),r.jsx("span",{className:"opacity-70",children:E.score?`${E.score}%`:""})]}),r.jsx("div",{className:"opacity-70",children:E.time||""})]},R))})]})]}),r.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("button",{onClick:P,disabled:o,className:"px-4 py-2 rounded bg-green-600 text-white disabled:opacity-60",children:e(o?"Saving...":"Save Changes")}),r.jsx("button",{onClick:I,className:"px-4 py-2 rounded bg-gray-200 dark:bg-gray-700",children:e("Reset to Default")})]}),d&&r.jsx("div",{className:`fixed bottom-4 ${a?"left-4":"right-4"} px-3 py-2 rounded text-sm shadow ${d.type==="error"?"bg-red-600 text-white":d.type==="success"?"bg-green-600 text-white":"bg-gray-800 text-white"}`,children:d.message})]})}function r6e(){const{t:e}=Dt();return r.jsx(aa,{title:e("Matching Settings"),children:r.jsxs("div",{className:"p-4 space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-semibold",children:e("Matching Settings")}),r.jsx("span",{className:"text-xs px-2 py-1 rounded bg-gray-100 dark:bg-gray-800",children:e("Admin Only")})]}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e("Manage matching between Leads, EOI, Buyer Requests, Opportunities, and Properties/Products.")}),r.jsx(a6e,{})]})})}const LG="rent.configuration";function VC(e=1){return{id:`${Date.now()}-${e}`,name:`Unit ${e}`,rentPrice:1e3,minContractMonths:12,depositAmount:500,autoRenew:!0,currency:"USD"}}function WC(){const e=[VC(1),VC(2)];return{general:{enabled:!0,defaultStatus:"Active",defaultCurrency:"USD",paymentTerms:"Monthly",autoGenerateInvoice:!0},units:e,notifications:{customerBeforeDue:{email:!0,sms:!0,inApp:!0},adminLatePayment:!0,beforeExpiry:!1},workflow:{autoUpdateStatus:!0,trackPaymentHistory:!0,linkToContract:!0,linkToSalesOpportunity:!0}}}async function s6e(){try{const e=await fetch("/api/rent/configuration");if(e.ok)return await e.json()}catch{}try{const e=typeof window<"u"?window.localStorage.getItem(LG):null;if(e)return JSON.parse(e)}catch{}return WC()}async function n6e(e){try{if((await fetch("/api/rent/configuration",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)return!0}catch{}try{if(typeof window<"u")return window.localStorage.setItem(LG,JSON.stringify(e)),!0}catch{}return!1}async function i6e(e={}){try{const t=await fetch("/api/rent/generate-invoice",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok)return await t.json()}catch{}return{status:"mocked",message:"Invoice generation simulated."}}async function l6e(){try{const e=await fetch("/api/rent/payment-history");if(e.ok)return await e.json()}catch{}try{const e=typeof window<"u"?window.localStorage.getItem("rent.paymentHistory"):null;if(e)return JSON.parse(e)}catch{}return[]}async function o6e(e={}){try{const t=await fetch("/api/rent/notify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok)return await t.json()}catch{}return{status:"mocked",message:"Notifications simulated."}}function c6e(){const{t:e,i18n:t}=Dt(),a=t.language==="ar",[s,n]=w.useState(WC()),[i,l]=w.useState(!0),[o,c]=w.useState(!1),[d,u]=w.useState(null),[f,x]=w.useState("General"),[m,g]=w.useState([]);w.useEffect(()=>{let P=!0;return s6e().then(I=>{P&&(n(I),l(!1))}),()=>{P=!1}},[]);const v=(P,I)=>{n(B=>{const O={...B},U=P.split(".");let E=O;for(let R=0;R<U.length-1;R++)E[U[R]]={...E[U[R]]},E=E[U[R]];return E[U[U.length-1]]=I,O})},b=()=>{const P=[...s.units,VC(s.units.length+1)];v("units",P)},j=P=>{const I=s.units.filter(B=>B.id!==P);v("units",I)},S=(P,I)=>{const B=s.units.map(O=>O.id===P?I({...O}):O);v("units",B)},k=async()=>{c(!0);const P=await n6e(s);c(!1),u({type:P?"success":"error",message:e(P?"Settings saved":"Failed to save settings")}),setTimeout(()=>u(null),2e3)},N=()=>{const P=WC();n(P),u({type:"info",message:e("Settings reset to default")}),setTimeout(()=>u(null),2e3)},A=async()=>{const P=await l6e();g(Array.isArray(P)?P:[])},_=async()=>{await i6e({units:s.units,general:s.general}),u({type:"success",message:e("Invoice generation triggered")}),setTimeout(()=>u(null),1500),await A()},D=async()=>{await o6e({methods:s.notifications.customerBeforeDue}),u({type:"info",message:e("Notifications sent (mock)")}),setTimeout(()=>u(null),1500)};return i?r.jsx("div",{className:"p-4",children:r.jsx("div",{className:"animate-pulse h-6 w-40 bg-gray-200 dark:bg-gray-700 rounded"})}):r.jsxs("div",{className:"mt-4 space-y-4",children:[r.jsx("div",{className:"flex flex-wrap gap-2 border-b border-gray-200 dark:border-gray-700 pb-2",children:["General","Rent Units / Properties","Notifications","Workflow & Rules"].map(P=>r.jsx("button",{onClick:()=>x(P),className:`px-3 py-1.5 rounded text-sm ${f===P?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200"}`,children:e(P)},P))}),f==="General"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:s.general.enabled,onChange:P=>v("general.enabled",P.target.checked)}),r.jsx("label",{className:"font-medium",children:e("Enable Rent Module")})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"font-medium w-56",children:e("Default Rent Status")}),r.jsx("select",{value:s.general.defaultStatus,onChange:P=>v("general.defaultStatus",P.target.value),className:"px-2 py-1 rounded bg-[var(--content-bg)] border border-gray-300 dark:border-gray-700",children:["Active","Pending","Expired"].map(P=>r.jsx("option",{value:P,children:e(P)},P))})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"font-medium w-56",children:e("Default Currency")}),r.jsx("input",{value:s.general.defaultCurrency,onChange:P=>v("general.defaultCurrency",P.target.value),className:"px-2 py-1 rounded bg-[var(--content-bg)] border border-gray-300 dark:border-gray-700 w-40"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"font-medium w-56",children:e("Default Payment Terms")}),r.jsx("select",{value:s.general.paymentTerms,onChange:P=>v("general.paymentTerms",P.target.value),className:"px-2 py-1 rounded bg-[var(--content-bg)] border border-gray-300 dark:border-gray-700",children:["Monthly","Quarterly","Yearly"].map(P=>r.jsx("option",{value:P,children:e(P)},P))})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:s.general.autoGenerateInvoice,onChange:P=>v("general.autoGenerateInvoice",P.target.checked)}),r.jsx("label",{className:"font-medium",children:e("Auto-generate Invoice for Rent")})]})]}),f==="Rent Units / Properties"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"font-semibold",children:e("List of Units / Properties")}),r.jsx("button",{onClick:b,className:"px-3 py-1 rounded bg-blue-600 text-white text-sm",children:e("Add Unit / Property")})]}),r.jsx("div",{className:"space-y-3",children:s.units.map(P=>r.jsxs("div",{className:"rounded border border-gray-200 dark:border-gray-700 p-3 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"w-40",children:e("Name / ID")}),r.jsx("input",{value:P.name,onChange:I=>S(P.id,B=>(B.name=I.target.value,B)),className:"input px-2 py-1 rounded bg-[var(--content-bg)] border border-gray-300 dark:border-gray-700 w-full"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"w-40",children:e("Rent Price")}),r.jsx("input",{type:"number",value:P.rentPrice,onChange:I=>S(P.id,B=>(B.rentPrice=Number(I.target.value)||0,B)),className:"px-2 py-1 rounded bg-[var(--content-bg)] border border-gray-300 dark:border-gray-700 w-40"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"w-56",children:e("Minimum Contract Duration")}),r.jsx("input",{type:"number",value:P.minContractMonths,onChange:I=>S(P.id,B=>(B.minContractMonths=Number(I.target.value)||0,B)),className:"px-2 py-1 rounded bg-[var(--content-bg)] border border-gray-300 dark:border-gray-700 w-40"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"w-40",children:e("Deposit Amount")}),r.jsx("input",{type:"number",value:P.depositAmount,onChange:I=>S(P.id,B=>(B.depositAmount=Number(I.target.value)||0,B)),className:"px-2 py-1 rounded bg-[var(--content-bg)] border border-gray-300 dark:border-gray-700 w-40"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"w-40",children:e("Auto-Renew Option")}),r.jsx("input",{type:"checkbox",checked:P.autoRenew,onChange:I=>S(P.id,B=>(B.autoRenew=I.target.checked,B))})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"w-40",children:e("Currency")}),r.jsx("input",{value:P.currency,onChange:I=>S(P.id,B=>(B.currency=I.target.value,B)),className:"px-2 py-1 rounded bg-[var(--content-bg)] border border-gray-300 dark:border-gray-700 w-32"})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("button",{onClick:()=>j(P.id),className:"px-3 py-1 rounded bg-red-600 text-white text-sm",children:e("Remove")})})]},P.id))})]}),f==="Notifications"&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"font-semibold",children:e("Notify Customer Before Payment Due")}),r.jsx("div",{className:"flex flex-wrap gap-4",children:[{key:"email",label:"Email"},{key:"sms",label:"SMS"},{key:"inApp",label:"In-App"}].map(P=>r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:s.notifications.customerBeforeDue[P.key],onChange:I=>v(`notifications.customerBeforeDue.${P.key}`,I.target.checked)}),r.jsx("span",{children:e(P.label)})]},P.key))}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:s.notifications.adminLatePayment,onChange:P=>v("notifications.adminLatePayment",P.target.checked)}),r.jsx("span",{children:e("Notify Admin / Broker on Late Payment")})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:s.notifications.beforeExpiry,onChange:P=>v("notifications.beforeExpiry",P.target.checked)}),r.jsx("span",{children:e("Notify before Contract Expiry")})]})]}),f==="Workflow & Rules"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:s.workflow.autoUpdateStatus,onChange:P=>v("workflow.autoUpdateStatus",P.target.checked)}),r.jsx("span",{className:"font-medium",children:e("Auto-Update Rent Status (Active  Expired)")})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:s.workflow.trackPaymentHistory,onChange:P=>v("workflow.trackPaymentHistory",P.target.checked)}),r.jsx("span",{className:"font-medium",children:e("Track Rent Payment History")})]}),r.jsxs("div",{className:"flex flex-wrap gap-4",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:s.workflow.linkToContract,onChange:P=>v("workflow.linkToContract",P.target.checked)}),r.jsx("span",{children:e("Link Rent to Contract")})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:s.workflow.linkToSalesOpportunity,onChange:P=>v("workflow.linkToSalesOpportunity",P.target.checked)}),r.jsx("span",{children:e("Link to Sales Opportunity")})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:_,className:"px-3 py-1.5 rounded bg-blue-600 text-white text-sm",children:e("Generate Invoice")}),r.jsx("button",{onClick:A,className:"px-3 py-1.5 rounded bg-gray-200 dark:bg-gray-700 text-sm",children:e("Refresh Payment History")}),r.jsx("button",{onClick:D,className:"px-3 py-1.5 rounded bg-amber-500 text-white text-sm",children:e("Send Notifications")})]}),r.jsxs("div",{className:"rounded border border-gray-200 dark:border-gray-700 p-3",children:[r.jsx("div",{className:"font-semibold mb-2",children:e("Payment History")}),m.length===0?r.jsx("div",{className:"text-sm text-gray-500",children:e("No payment history yet.")}):r.jsx("div",{className:"space-y-2",children:m.map((P,I)=>r.jsxs("div",{className:"text-sm flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:P.contract||"Contract"}),r.jsx("span",{className:"opacity-70",children:P.amount?`${P.amount} ${P.currency||s.general.defaultCurrency}`:""})]}),r.jsx("div",{className:"opacity-70",children:P.time||""})]},I))})]})]}),r.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("button",{onClick:k,disabled:o,className:"px-4 py-2 rounded bg-green-600 text-white disabled:opacity-60",children:e(o?"Saving...":"Save Changes")}),r.jsx("button",{onClick:N,className:"px-4 py-2 rounded bg-gray-200 dark:bg-gray-700",children:e("Reset to Default")})]}),d&&r.jsx("div",{className:`fixed bottom-4 ${a?"left-4":"right-4"} px-3 py-2 rounded text-sm shadow ${d.type==="error"?"bg-red-600 text-white":d.type==="success"?"bg-green-600 text-white":"bg-gray-800 text-white"}`,children:d.message})]})}function d6e(){const{t:e}=Dt();return r.jsx(aa,{title:e("Rent Configuration"),children:r.jsxs("div",{className:"p-4 space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-semibold",children:e("Rent Configuration")}),r.jsx("span",{className:"text-xs px-2 py-1 rounded bg-gray-100 dark:bg-gray-800",children:e("Admin Only")})]}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e("Manage rent contracts, pricing, invoices, and links to Contracts/Sales/Customers.")}),r.jsx(c6e,{})]})})}function u6e({isOpen:e,onClose:t,inline:a=!1}){const{t:s,i18n:n}=Dt();(n.language||"").startsWith("ar");const[i,l]=w.useState("general"),[o,c]=w.useState(!1),[d,u]=w.useState(!1),[f,x]=w.useState("CIL Core"),[m,g]=w.useState("system@company.com"),[v,b]=w.useState("Website"),[j,S]=w.useState("USD"),[k,N]=w.useState("09:00"),[A,_]=w.useState("18:00"),[D,P]=w.useState("10"),[I,B]=w.useState(!0),[O,U]=w.useState("Round Robin"),[E,R]=w.useState(15),[K,V]=w.useState(24),[Z,J]=w.useState(!0),[ee,W]=w.useState(!0),[le,M]=w.useState("sk_live_1234567890"),[X,z]=w.useState("https://api.example.com/webhook"),[Q,ne]=w.useState("15 min"),[re,oe]=w.useState(()=>({facebook:{enabled:!0,name:"Facebook Leads"},google:{enabled:!1,name:"Google Ads"},zapier:{enabled:!0,name:"Zapier"}})),[q,ie]=w.useState(!0),[ye,Y]=w.useState(!1),[ce,he]=w.useState(!0),[ue,Fe]=w.useState(!0),[Ue,Te]=w.useState(5),[ae,De]=w.useState(!0),[Ce,at]=w.useState(!1),[ft,zt]=w.useState({start:"",end:"",action:"All",user:"All"}),[st,$e]=w.useState([{date:"2025-11-12",user:"Ibrahim Mohamed",action:"API Regenerated",result:"Success"},{date:"2025-11-11",user:"Admin",action:"Webhook Updated",result:"Success"},{date:"2025-11-10",user:"Admin",action:"Assign Mode Changed",result:"Success"}]);w.useEffect(()=>{if(!d)return;c(!0);const Ee=setTimeout(()=>{c(!1),u(!1)},1200);return()=>clearTimeout(Ee)},[d]);const qe=()=>u(!0),ct=w.useMemo(()=>Math.round(Number(E)*.8),[E]),dt=()=>{M(`sk_live_${Math.random().toString(36).slice(2,10)}${Date.now().toString().slice(-4)}`),qe()},Nt=Ee=>{const ze=Math.random()>.2;alert(`${re[Ee].name}: ${ze?"Connection OK":"Failed to connect"}`)},Ct=Ee=>{alert(`Exporting logs as ${Ee}...`)},Lt=()=>{c(!0),setTimeout(()=>c(!1),1200)};if(!a&&!e)return null;const Ht="glass-panel rounded-2xl w-full h-full flex flex-col overflow-hidden shadow-2xl",Vt="border-b border-white/20 dark:border-gray-700 shadow-[0_2px_10px_rgba(0,0,0,0.08)]",Ne=({id:Ee,label:ze})=>r.jsxs("button",{className:`relative px-3 md:px-4 py-2 text-sm md:text-[15px] whitespace-nowrap transition-all ${i===Ee?"text-blue-500":"text-gray-600 dark:text-gray-300"}`,onClick:()=>l(Ee),children:[r.jsx("span",{className:`${i===Ee?"font-semibold":""}`,children:ze}),i===Ee&&r.jsx("span",{className:"absolute left-0 right-0 -bottom-[2px] h-[2px] bg-gradient-to-r from-blue-500 to-cyan-400"})]}),Mt=()=>r.jsxs("div",{className:Ht,children:[r.jsx("div",{className:`px-6 py-4 ${Vt}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("h2",{className:"text-xl md:text-2xl font-semibold bg-gradient-to-r from-blue-500 to-cyan-400 bg-clip-text text-transparent",children:s("CIL Settings")}),r.jsx("span",{className:"text-sm text-[var(--muted-text)]",children:s("Manage and customize system integration and lead assignment settings.")}),o&&r.jsx("span",{className:"ml-2 inline-flex items-center gap-1 px-2 py-1 rounded-full bg-amber-100 text-amber-700 border border-amber-200 text-xs animate-pulse",children:s("Saving...")})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:Lt,className:"px-4 py-2 rounded-lg bg-blue-600 text-white shadow-[0_0_12px_rgba(59,130,246,0.6)] hover:bg-blue-700",children:s("Save Changes")}),!a&&r.jsx("button",{onClick:t,className:"px-3 py-2 rounded-lg border bg-white/60 dark:bg-gray-800/60",children:s("Close")})]})]})}),r.jsx("div",{className:"px-4 md:px-6 pt-3 pb-2 shadow-[0_10px_10px_-10px_rgba(0,0,0,0.25)]",children:r.jsxs("div",{className:"flex items-center gap-1 overflow-x-auto no-scrollbar",children:[r.jsx(Ne,{id:"general",label:s("General Settings")}),r.jsx(Ne,{id:"rules",label:s("Lead Assignment Rules")}),r.jsx(Ne,{id:"integrations",label:s("Integration Setup")}),r.jsx(Ne,{id:"notifications",label:s("Notifications")}),r.jsx(Ne,{id:"security",label:s("Security & Logs")})]})}),r.jsxs("div",{className:"flex-1 px-6 py-5 overflow-y-auto space-y-5 transition-all",children:[i==="general"&&r.jsx("div",{className:"space-y-5 animate-[fadeIn_200ms_ease]",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsxs("label",{className:"text-xs text-[var(--muted-text)] flex items-center gap-1",children:[s("CIL Name")," ",r.jsx("span",{title:s("Name of your CIL system"),children:""})]}),r.jsx("input",{className:"input-soft w-full",value:f,onChange:Ee=>{x(Ee.target.value),qe()}})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("label",{className:"text-xs text-[var(--muted-text)] flex items-center gap-1",children:[s("System Email")," ",r.jsx("span",{title:s("Email used for system notifications"),children:""})]}),r.jsx("input",{className:"input-soft w-full",type:"email",value:m,onChange:Ee=>{g(Ee.target.value),qe()}})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("label",{className:"text-xs text-[var(--muted-text)] flex items-center gap-1",children:[s("Default Lead Source")," ",r.jsx("span",{title:s("Default source for incoming leads"),children:""})]}),r.jsx("select",{className:"input-soft w-full",value:v,onChange:Ee=>{b(Ee.target.value),qe()},children:["Website","Facebook","Google Ads","Manual"].map(Ee=>r.jsx("option",{value:Ee,children:Ee},Ee))})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("label",{className:"text-xs text-[var(--muted-text)] flex items-center gap-1",children:[s("Default Currency")," ",r.jsx("span",{title:s("Currency used in reports and contracts"),children:""})]}),r.jsx("select",{className:"input-soft w-full",value:j,onChange:Ee=>{S(Ee.target.value),qe()},children:["USD","EUR","GBP","EGP","SAR","AED"].map(Ee=>r.jsx("option",{value:Ee,children:Ee},Ee))})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("label",{className:"text-xs text-[var(--muted-text)] flex items-center gap-1",children:[s("Working Hours (Start)")," ",r.jsx("span",{title:s("Start time of workday"),children:""})]}),r.jsx("input",{type:"time",className:"input-soft w-full",value:k,onChange:Ee=>{N(Ee.target.value),qe()}})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("label",{className:"text-xs text-[var(--muted-text)] flex items-center gap-1",children:[s("Working Hours (End)")," ",r.jsx("span",{title:s("End time of workday"),children:""})]}),r.jsx("input",{type:"time",className:"input-soft w-full",value:A,onChange:Ee=>{_(Ee.target.value),qe()}})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("label",{className:"text-xs text-[var(--muted-text)] flex items-center gap-1",children:[s("Auto-Save Interval")," ",r.jsx("span",{title:s("Frequency to auto-save settings"),children:""})]}),r.jsx("select",{className:"input-soft w-full",value:D,onChange:Ee=>{P(Ee.target.value),qe()},children:[5,10,30].map(Ee=>r.jsxs("option",{value:String(Ee),children:[Ee," min"]},Ee))})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("label",{className:"text-xs text-[var(--muted-text)] flex items-center gap-1",children:[s("Enable CIL API")," ",r.jsx("span",{title:s("Enable/disable external API access"),children:""})]}),r.jsx("div",{className:"flex items-center gap-3",children:r.jsx("button",{onClick:()=>{B(Ee=>!Ee),qe()},className:`px-3 py-2 rounded-lg border ${I?"bg-green-500/20 text-green-700 border-green-400":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 border-gray-300 dark:border-gray-600"}`,children:s(I?"Enabled":"Disabled")})})]})]})}),i==="rules"&&r.jsxs("div",{className:"space-y-5 animate-[fadeIn_200ms_ease]",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:s("Assignment Mode")}),r.jsx("select",{className:"input-soft w-full",value:O,onChange:Ee=>{U(Ee.target.value),qe()},children:["Round Robin","Priority Based","Manual"].map(Ee=>r.jsx("option",{value:Ee,children:Ee},Ee))})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:s("Lead Limit per Sales Rep")}),r.jsx("input",{type:"number",className:"input-soft w-full",value:E,onChange:Ee=>{R(Ee.target.value),qe()}})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:s("Reassignment Delay (hours)")}),r.jsx("input",{type:"number",className:"input-soft w-full",value:K,onChange:Ee=>{V(Ee.target.value),qe()}})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:s("Skip inactive users")}),r.jsx("div",{children:r.jsxs("label",{className:"inline-flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:Z,onChange:Ee=>{J(Ee.target.checked),qe()}}),r.jsx("span",{className:"text-sm",children:s("Enable")})]})})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:s("Notification when reassigned")}),r.jsx("button",{onClick:()=>{W(Ee=>!Ee),qe()},className:`px-3 py-2 rounded-lg border ${ee?"bg-blue-500/20 text-blue-700 border-blue-400":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 border-gray-300 dark:border-gray-600"}`,children:s(ee?"Enabled":"Disabled")})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:r.jsxs("div",{className:"rounded-xl border bg-white/60 dark:bg-gray-800/60 p-4",children:[r.jsx("div",{className:"text-sm text-[var(--muted-text)] mb-1",children:s("Assignment Preview")}),r.jsxs("div",{className:"text-2xl font-semibold",children:[s("Avg. leads per rep"),": ",ct]})]})})]}),i==="integrations"&&r.jsxs("div",{className:"space-y-5 animate-[fadeIn_200ms_ease]",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:s("API Key")}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{className:"input-soft w-full",value:le,onChange:Ee=>{M(Ee.target.value),qe()}}),r.jsx("button",{className:"px-3 py-2 rounded-lg bg-indigo-600 text-white",onClick:dt,children:s("Regenerate")})]})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:s("Webhook URL")}),r.jsx("input",{className:"input-soft w-full",value:X,onChange:Ee=>{z(Ee.target.value),qe()}})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:s("Sync Frequency")}),r.jsx("select",{className:"input-soft w-full",value:Q,onChange:Ee=>{ne(Ee.target.value),qe()},children:["5 min","15 min","30 min","60 min"].map(Ee=>r.jsx("option",{value:Ee,children:Ee},Ee))})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:s("Connected Platforms")}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:Object.entries(re).map(([Ee,ze])=>r.jsxs("div",{className:"rounded-xl border bg-white/60 dark:bg-gray-800/60 p-4 space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:ze.name.includes("Facebook")?"":ze.name.includes("Google")?"":""}),r.jsx("span",{className:"font-medium",children:ze.name})]}),r.jsx("button",{onClick:()=>{oe(We=>({...We,[Ee]:{...We[Ee],enabled:!We[Ee].enabled}})),qe()},className:`px-3 py-1 rounded-lg border ${ze.enabled?"bg-green-500/20 text-green-700 border-green-400":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 border-gray-300 dark:border-gray-600"}`,children:ze.enabled?s("Enabled"):s("Disabled")})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("button",{className:"px-3 py-2 rounded-lg bg-blue-600 text-white",onClick:()=>Nt(Ee),children:s("Test Connection")})})]},Ee))})]})]}),i==="notifications"&&r.jsxs("div",{className:"space-y-5 animate-[fadeIn_200ms_ease]",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:s("Email Notifications")}),r.jsx("button",{onClick:()=>{ie(Ee=>!Ee),qe()},className:`px-3 py-2 rounded-lg border ${q?"bg-blue-500/20 text-blue-700 border-blue-400":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 border-gray-300 dark:border-gray-600"}`,children:s(q?"Enabled":"Disabled")})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:s("Slack / Teams Integration")}),r.jsx("button",{onClick:()=>{Y(Ee=>!Ee),qe()},className:`px-3 py-2 rounded-lg border ${ye?"bg-blue-500/20 text-blue-700 border-blue-400":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 border-gray-300 dark:border-gray-600"}`,children:s(ye?"Enabled":"Disabled")})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:s("Daily Summary Report")}),r.jsx("button",{onClick:()=>{he(Ee=>!Ee),qe()},className:`px-3 py-2 rounded-lg border ${ce?"bg-blue-500/20 text-blue-700 border-blue-400":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 border-gray-300 dark:border-gray-600"}`,children:s(ce?"Enabled":"Disabled")})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:s("Error Alerts threshold")}),r.jsx("input",{type:"number",className:"input-soft w-full",value:Ue,onChange:Ee=>{Te(Ee.target.value),qe()}})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:s("Notify Admin on failed sync")}),r.jsx("button",{onClick:()=>{De(Ee=>!Ee),qe()},className:`px-3 py-2 rounded-lg border ${ae?"bg-blue-500/20 text-blue-700 border-blue-400":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 border-gray-300 dark:border-gray-600"}`,children:s(ae?"Enabled":"Disabled")})]})]}),r.jsxs("div",{className:"rounded-xl border bg-white/60 dark:bg-gray-800/60 p-4 space-y-2",children:[r.jsx("button",{className:"text-sm font-medium",onClick:()=>at(Ee=>!Ee),children:s("Preview sample notification email")}),Ce&&r.jsxs("div",{className:"mt-2 text-sm text-gray-700 dark:text-gray-200",children:[r.jsxs("div",{className:"font-semibold mb-1",children:[s("Subject"),": ",s("Daily CIL Summary")]}),r.jsx("p",{children:s("Hello Admin, here is your daily summary including sync stats and errors.")})]})]})]}),i==="security"&&r.jsxs("div",{className:"space-y-5 animate-[fadeIn_200ms_ease]",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:s("Start Date")}),r.jsx("input",{type:"date",className:"input-soft w-full",value:ft.start,onChange:Ee=>{zt(ze=>({...ze,start:Ee.target.value})),qe()}})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:s("End Date")}),r.jsx("input",{type:"date",className:"input-soft w-full",value:ft.end,onChange:Ee=>{zt(ze=>({...ze,end:Ee.target.value})),qe()}})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:s("Action type")}),r.jsx("select",{className:"input-soft w-full",value:ft.action,onChange:Ee=>{zt(ze=>({...ze,action:Ee.target.value})),qe()},children:["All","API Regenerated","Webhook Updated","Assign Mode Changed"].map(Ee=>r.jsx("option",{value:Ee,children:Ee},Ee))})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:s("User")}),r.jsx("select",{className:"input-soft w-full",value:ft.user,onChange:Ee=>{zt(ze=>({...ze,user:Ee.target.value})),qe()},children:["All","Admin","Ibrahim Mohamed"].map(Ee=>r.jsx("option",{value:Ee,children:Ee},Ee))})]})]}),r.jsx("div",{className:"h-3"}),r.jsxs("div",{className:"flex items-center justify-end gap-2",children:[r.jsx("button",{className:"px-3 py-2 rounded-lg border bg-white/60 dark:bg-gray-800/60",onClick:()=>Ct("Excel"),children:s("Export to Excel")}),r.jsx("button",{className:"px-3 py-2 rounded-lg border bg-white/60 dark:bg-gray-800/60",onClick:()=>Ct("PDF"),children:s("Export to PDF")})]}),r.jsx("div",{className:"h-2"}),r.jsx("div",{className:"rounded-xl border bg-white/60 dark:bg-gray-800/60 overflow-hidden",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"px-4 py-3",children:s("Date")}),r.jsx("th",{className:"px-4 py-3",children:s("User")}),r.jsx("th",{className:"px-4 py-3",children:s("Action")}),r.jsx("th",{className:"px-4 py-3",children:s("Result")})]})}),r.jsxs("tbody",{children:[r.jsx("tr",{children:r.jsx("td",{className:"px-4 py-2",colSpan:4})}),st.map((Ee,ze)=>r.jsxs("tr",{className:"border-t",children:[r.jsx("td",{className:"px-4 py-2",children:Ee.date}),r.jsx("td",{className:"px-4 py-2",children:Ee.user}),r.jsx("td",{className:"px-4 py-2",children:Ee.action}),r.jsx("td",{className:"px-4 py-2",children:Ee.result==="Success"?" Success":Ee.result})]},ze)),r.jsx("tr",{children:r.jsx("td",{className:"px-4 py-2",colSpan:4})})]})]})}),r.jsx("div",{className:"h-2"})]})]})]});return a?r.jsx("div",{className:"w-full",children:r.jsx(Mt,{})}):r.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center",children:[r.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-lg",onClick:t}),r.jsx("div",{className:"relative z-[1001] w-[94vw] max-w-[1200px] h-[88vh]",children:r.jsx(Mt,{})})]})}function h6e(){const{t:e}=Dt();return r.jsx(aa,{title:e("CIL Settings"),children:r.jsxs("div",{className:"p-4",children:[r.jsx("h2",{className:"text-xl font-semibold mb-2",children:e("CIL Settings")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:e("Configure CIL-specific options and integrations.")}),r.jsx(u6e,{inline:!0})]})})}function f6e(){const{i18n:e}=Dt(),t=e.language==="ar",a=w.useMemo(()=>({title:t?" > ":"Inventory > Products",formTitle:t?" ":"Product Details",name:t?" ":"Product Name",category:t?"":"Category",description:t?"":"Description",uom:t?" ":"Unit of Measure",supplier:t?" ":"Default Supplier",price:t?" ":"Default Price",save:t?" ":"Save Product",listTitle:t?"   ":"All Products",empty:t?"   ":"No products yet",actions:t?"":"Actions",delete:t?"":"Delete",edit:t?"":"Edit"}),[t]),s=w.useMemo(()=>t?["","",""]:["Electronics","Furniture","Clothing"],[t]),n=w.useMemo(()=>t?["","",""]:["Piece","Box","Kg"],[t]),i=w.useMemo(()=>t?[" "," "," "]:["Supplier A","Supplier B","Supplier C"],[t]),l="inventoryProducts",[o,c]=w.useState({name:"",category:s[0]||"",description:"",uom:n[0]||"",supplier:i[0]||"",price:""}),[d,u]=w.useState([]);w.useEffect(()=>{try{const v=localStorage.getItem(l);if(v){const b=JSON.parse(v);Array.isArray(b)&&u(b)}}catch(v){console.warn("Failed to load products from localStorage",v)}},[]),w.useEffect(()=>{try{localStorage.setItem(l,JSON.stringify(d))}catch(v){console.warn("Failed to save products to localStorage",v)}},[d]);function f(v){const{name:b,value:j}=v.target;c(S=>({...S,[b]:j}))}function x(v){v.preventDefault();const b=o.name.trim();if(!b)return;const j={id:Date.now(),name:b,category:o.category,description:o.description.trim(),uom:o.uom,supplier:o.supplier,price:o.price?Number(o.price):0};u(S=>[j,...S]),c({name:"",category:s[0]||"",description:"",uom:n[0]||"",supplier:i[0]||"",price:""})}function m(v){u(b=>b.filter(j=>j.id!==v))}function g(v){c({name:v.name||"",category:v.category||s[0]||"",description:v.description||"",uom:v.uom||n[0]||"",supplier:v.supplier||i[0]||"",price:v.price!=null?String(v.price):""});try{window.scrollTo({top:0,behavior:"smooth"})}catch{}}return r.jsx(aa,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("h1",{className:"text-2xl font-semibold",children:a.title}),r.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[r.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitle}),r.jsxs("form",{onSubmit:x,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.name}),r.jsx("input",{name:"name",value:o.name,onChange:f,placeholder:a.name,className:"input",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.category}),r.jsx("select",{name:"category",value:o.category,onChange:f,className:"input",children:s.map(v=>r.jsx("option",{value:v,children:v},v))})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm mb-1",children:a.description}),r.jsx("textarea",{name:"description",value:o.description,onChange:f,placeholder:a.description,className:"input h-24"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.uom}),r.jsx("select",{name:"uom",value:o.uom,onChange:f,className:"input",children:n.map(v=>r.jsx("option",{value:v,children:v},v))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.supplier}),r.jsx("select",{name:"supplier",value:o.supplier,onChange:f,className:"input",children:i.map(v=>r.jsx("option",{value:v,children:v},v))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.price}),r.jsx("input",{type:"number",name:"price",value:o.price,onChange:f,placeholder:a.price,className:"input",min:"0",step:"0.01"})]}),r.jsx("div",{className:"md:col-span-2",children:r.jsx("button",{type:"submit",className:"btn btn-primary",children:a.save})})]})]}),r.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[r.jsx("h2",{className:"text-xl font-medium mb-4",children:a.listTitle}),d.length===0?r.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:a.empty}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"nova-table w-full",children:[r.jsx("thead",{className:"thead-soft",children:r.jsxs("tr",{className:"text-gray-600 dark:text-gray-300",children:[r.jsx("th",{className:"text-start px-3 min-w-[180px]",children:a.name}),r.jsx("th",{className:"text-start px-3 min-w-[140px]",children:a.category}),r.jsx("th",{className:"text-start px-3 min-w-[120px]",children:a.uom}),r.jsx("th",{className:"text-start px-3 min-w-[160px]",children:a.supplier}),r.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.price}),r.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.actions})]})}),r.jsx("tbody",{children:d.map(v=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-3",children:r.jsx("span",{className:"font-medium",children:v.name})}),r.jsx("td",{className:"px-3",children:v.category}),r.jsx("td",{className:"px-3",children:v.uom}),r.jsx("td",{className:"px-3",children:v.supplier}),r.jsx("td",{className:"px-3 text-center",children:(v.price??0).toFixed(2)}),r.jsx("td",{className:"px-3 text-center",children:r.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[r.jsx("button",{type:"button",className:"btn btn-outline btn-sm px-2 py-1",title:a.edit,"aria-label":a.edit,onClick:()=>g(v),children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:[r.jsx("path",{d:"M12 20h9"}),r.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 113 3L7 19l-4 1 1-4 12.5-12.5z"})]})}),r.jsx("button",{type:"button",className:"btn-icon-danger",title:a.delete,"aria-label":a.delete,onClick:()=>m(v.id),children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:[r.jsx("path",{d:"M3 6h18"}),r.jsx("path",{d:"M8 6V4h8v2"}),r.jsx("rect",{x:"5",y:"6",width:"14",height:"14",rx:"2"})]})})]})})]},v.id))})]})})]})]})})}function m6e(){const{i18n:e}=Dt(),t=e.language==="ar",a=w.useMemo(()=>({title:t?" > ":"Inventory > Items",formTitle:t?" ":"Item Details",itemName:t?" ":"Item Name",linkedProduct:t?" ":"Linked Product",sku:t?"  (SKU)":"SKU",barcode:t?"":"Barcode",costPrice:t?" ":"Cost Price",sellingPrice:t?" ":"Selling Price",stockCount:t?" ()":"Stock Count",warehouse:t?"":"Warehouse",save:t?" ":"Save Item",listTitle:t?" ":"Items List",empty:t?"   ":"No items yet",actions:t?"":"Actions",delete:t?"":"Delete",edit:t?"":"Edit",noProducts:t?"   ":"No products available"}),[t]),s="inventoryItems",n="inventoryProducts",[i,l]=w.useState([]),[o,c]=w.useState({name:"",productId:"",sku:"",barcode:"",costPrice:"",sellingPrice:"",stockCount:"",warehouse:""}),[d,u]=w.useState([]);w.useEffect(()=>{try{const b=localStorage.getItem(s);if(b){const j=JSON.parse(b);Array.isArray(j)&&u(j)}}catch(b){console.warn("Failed to load items from localStorage",b)}try{const b=localStorage.getItem(n);if(b){const j=JSON.parse(b);Array.isArray(j)&&l(j)}}catch(b){console.warn("Failed to load products from localStorage",b)}},[]),w.useEffect(()=>{try{localStorage.setItem(s,JSON.stringify(d))}catch(b){console.warn("Failed to save items to localStorage",b)}},[d]);function f(b){const{name:j,value:S}=b.target;c(k=>({...k,[j]:S}))}function x(b){b.preventDefault();const j=o.name.trim();if(!j)return;const S=i.find(N=>String(N.id)===String(o.productId)),k={id:Date.now(),name:j,productId:o.productId||"",productName:S?S.name:"",sku:o.sku.trim(),barcode:o.barcode.trim(),costPrice:o.costPrice?Number(o.costPrice):0,sellingPrice:o.sellingPrice?Number(o.sellingPrice):0,stockCount:o.stockCount?Number(o.stockCount):0,warehouse:o.warehouse.trim()};u(N=>[k,...N]),c({name:"",productId:"",sku:"",barcode:"",costPrice:"",sellingPrice:"",stockCount:"",warehouse:""})}function m(b){u(j=>j.filter(S=>S.id!==b))}function g(b){c({name:b.name||"",productId:b.productId||"",sku:b.sku||"",barcode:b.barcode||"",costPrice:b.costPrice!=null?String(b.costPrice):"",sellingPrice:b.sellingPrice!=null?String(b.sellingPrice):"",stockCount:b.stockCount!=null?String(b.stockCount):"",warehouse:b.warehouse||""});try{window.scrollTo({top:0,behavior:"smooth"})}catch{}}const v=w.useMemo(()=>t?[" "," "," "]:["Main Warehouse","Secondary Warehouse","Outdoor Storage"],[t]);return r.jsx(aa,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("h1",{className:"text-2xl font-semibold",children:a.title}),r.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[r.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitle}),r.jsxs("form",{onSubmit:x,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.itemName}),r.jsx("input",{name:"name",value:o.name,onChange:f,placeholder:a.itemName,className:"input",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.linkedProduct}),r.jsxs("select",{name:"productId",value:o.productId,onChange:f,className:"input",children:[r.jsx("option",{value:"",children:a.noProducts}),i.map(b=>r.jsx("option",{value:b.id,children:b.name},b.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.sku}),r.jsx("input",{name:"sku",value:o.sku,onChange:f,placeholder:a.sku,className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.barcode}),r.jsx("input",{name:"barcode",value:o.barcode,onChange:f,placeholder:a.barcode,className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.costPrice}),r.jsx("input",{type:"number",name:"costPrice",value:o.costPrice,onChange:f,placeholder:a.costPrice,className:"input",min:"0",step:"0.01"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.sellingPrice}),r.jsx("input",{type:"number",name:"sellingPrice",value:o.sellingPrice,onChange:f,placeholder:a.sellingPrice,className:"input",min:"0",step:"0.01"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.stockCount}),r.jsx("input",{type:"number",name:"stockCount",value:o.stockCount,onChange:f,placeholder:a.stockCount,className:"input",min:"0",step:"1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.warehouse}),r.jsxs("select",{name:"warehouse",value:o.warehouse,onChange:f,className:"input",children:[r.jsx("option",{value:"",children:a.warehouse}),v.map(b=>r.jsx("option",{value:b,children:b},b))]})]}),r.jsx("div",{className:"md:col-span-2",children:r.jsx("button",{type:"submit",className:"btn btn-primary",children:a.save})})]})]}),r.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[r.jsx("h2",{className:"text-xl font-medium mb-4",children:a.listTitle}),d.length===0?r.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:a.empty}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"nova-table w-full",children:[r.jsx("thead",{className:"thead-soft",children:r.jsxs("tr",{className:"text-gray-600 dark:text-gray-300",children:[r.jsx("th",{className:"text-start px-3 min-w-[180px]",children:a.itemName}),r.jsx("th",{className:"text-start px-3 min-w-[160px]",children:a.linkedProduct}),r.jsx("th",{className:"text-start px-3 min-w-[140px]",children:a.sku}),r.jsx("th",{className:"text-start px-3 min-w-[140px]",children:a.barcode}),r.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.costPrice}),r.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.sellingPrice}),r.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.stockCount}),r.jsx("th",{className:"text-start px-3 min-w-[160px]",children:a.warehouse}),r.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.actions})]})}),r.jsx("tbody",{children:d.map(b=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-3",children:r.jsx("span",{className:"font-medium",children:b.name})}),r.jsx("td",{className:"px-3",children:b.productName||"-"}),r.jsx("td",{className:"px-3",children:b.sku}),r.jsx("td",{className:"px-3",children:b.barcode}),r.jsx("td",{className:"px-3 text-center",children:(b.costPrice??0).toFixed(2)}),r.jsx("td",{className:"px-3 text-center",children:(b.sellingPrice??0).toFixed(2)}),r.jsx("td",{className:"px-3 text-center",children:b.stockCount??0}),r.jsx("td",{className:"px-3",children:b.warehouse}),r.jsx("td",{className:"px-3 text-center",children:r.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[r.jsx("button",{type:"button",className:"btn btn-outline btn-sm px-2 py-1",title:a.edit,"aria-label":a.edit,onClick:()=>g(b),children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:[r.jsx("path",{d:"M12 20h9"}),r.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 113 3L7 19l-4 1 1-4 12.5-12.5z"})]})}),r.jsx("button",{type:"button",className:"btn-icon-danger",title:a.delete,"aria-label":a.delete,onClick:()=>m(b.id),children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:[r.jsx("path",{d:"M3 6h18"}),r.jsx("path",{d:"M8 6V4h8v2"}),r.jsx("rect",{x:"5",y:"6",width:"14",height:"14",rx:"2"})]})})]})})]},b.id))})]})})]})]})})}function p6e(){const{i18n:e}=Dt(),t=e.language==="ar",a=w.useMemo(()=>({title:t?" > ":"Inventory > Categories",formTitle:t?" ":"Category Details",name:t?" ":"Category Name",parent:t?" ":"Parent Category",description:t?"":"Description",save:t?" ":"Save Category",listTitle:t?" ":"All Categories",empty:t?"   ":"No categories yet",actions:t?"":"Actions",delete:t?"":"Delete",edit:t?"":"Edit"}),[t]),s="inventoryCategories",[n,i]=w.useState({name:"",parent:"",description:""}),[l,o]=w.useState([]);w.useEffect(()=>{try{const m=localStorage.getItem(s);if(m){const g=JSON.parse(m);Array.isArray(g)&&o(g)}}catch(m){console.warn("Failed to load categories",m)}},[]),w.useEffect(()=>{try{localStorage.setItem(s,JSON.stringify(l))}catch{}},[l]);function c(m){const{name:g,value:v}=m.target;i(b=>({...b,[g]:v}))}function d(m){m.preventDefault();const g=n.name.trim();if(!g)return;const v={id:Date.now(),name:g,parent:n.parent||"",description:n.description.trim()};o(b=>[v,...b]),i({name:"",parent:"",description:""})}function u(m){o(g=>g.filter(v=>v.id!==m))}function f(m){i({name:m.name||"",parent:m.parent||"",description:m.description||""})}const x=w.useMemo(()=>[""].concat(l.map(m=>m.name)),[l]);return r.jsx(aa,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("h1",{className:"text-2xl font-semibold",children:a.title}),r.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[r.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitle}),r.jsxs("form",{onSubmit:d,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.name}),r.jsx("input",{name:"name",value:n.name,onChange:c,placeholder:a.name,className:"input",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.parent}),r.jsx("select",{name:"parent",value:n.parent,onChange:c,className:"input",children:x.map((m,g)=>r.jsx("option",{value:m,children:m||(t?"":"None")},g))})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm mb-1",children:a.description}),r.jsx("textarea",{name:"description",value:n.description,onChange:c,placeholder:a.description,className:"input h-24"})]}),r.jsx("div",{className:"md:col-span-2",children:r.jsx("button",{type:"submit",className:"btn btn-primary",children:a.save})})]})]}),r.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[r.jsx("h2",{className:"text-xl font-medium mb-4",children:a.listTitle}),l.length===0?r.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:a.empty}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"nova-table w-full",children:[r.jsx("thead",{className:"thead-soft",children:r.jsxs("tr",{className:"text-gray-600 dark:text-gray-300",children:[r.jsx("th",{className:"text-start px-3 min-w-[200px]",children:a.name}),r.jsx("th",{className:"text-start px-3 min-w-[160px]",children:a.parent}),r.jsx("th",{className:"text-start px-3 min-w-[220px]",children:a.description}),r.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.actions})]})}),r.jsx("tbody",{children:l.map(m=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-3",children:r.jsx("span",{className:"font-medium",children:m.name})}),r.jsx("td",{className:"px-3",children:m.parent||(t?"":"None")}),r.jsx("td",{className:"px-3",children:m.description}),r.jsx("td",{className:"px-3 text-center",children:r.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[r.jsx("button",{type:"button",className:"btn btn-outline btn-sm px-2 py-1",title:a.edit,"aria-label":a.edit,onClick:()=>f(m),children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:[r.jsx("path",{d:"M12 20h9"}),r.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 113 3L7 19l-4 1 1-4 12.5-12.5z"})]})}),r.jsx("button",{type:"button",className:"btn-icon-danger",title:a.delete,"aria-label":a.delete,onClick:()=>u(m.id),children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:[r.jsx("path",{d:"M3 6h18"}),r.jsx("path",{d:"M8 6V4h8v2"}),r.jsx("rect",{x:"5",y:"6",width:"14",height:"14",rx:"2"})]})})]})})]},m.id))})]})})]})]})})}function x6e(){const{i18n:e}=Dt(),t=e.language==="ar",a=w.useMemo(()=>({title:t?" > ":"Inventory > Brokers",formTitle:t?" ":"Broker Details",name:t?" ":"Broker Name",company:t?"":"Company",phone:t?"":"Phone",email:t?" ":"Email",license:t?" ":"License No.",status:t?"":"Status",save:t?" ":"Save Broker",listTitle:t?" ":"All Brokers",empty:t?"   ":"No records yet",actions:t?"":"Actions",delete:t?"":"Delete",edit:t?"":"Edit"}),[t]),s="inventoryBrokers",[n,i]=w.useState({name:"",company:"",phone:"",email:"",license:"",status:t?"":"Active"}),[l,o]=w.useState([]);w.useEffect(()=>{try{const m=localStorage.getItem(s);if(m){const g=JSON.parse(m);Array.isArray(g)&&o(g)}}catch{}},[]),w.useEffect(()=>{try{localStorage.setItem(s,JSON.stringify(l))}catch{}},[l]);function c(m){const{name:g,value:v}=m.target;i(b=>({...b,[g]:v}))}function d(m){if(m.preventDefault(),!n.name.trim())return;const v={id:Date.now(),...n};o(b=>[v,...b]),i({name:"",company:"",phone:"",email:"",license:"",status:t?"":"Active"})}function u(m){o(g=>g.filter(v=>v.id!==m))}function f(m){i({name:m.name||"",company:m.company||"",phone:m.phone||"",email:m.email||"",license:m.license||"",status:m.status||(t?"":"Active")})}const x=w.useMemo(()=>t?["",""]:["Active","Inactive"],[t]);return r.jsx(aa,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("h1",{className:"text-2xl font-semibold",children:a.title}),r.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[r.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitle}),r.jsxs("form",{onSubmit:d,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.name}),r.jsx("input",{name:"name",value:n.name,onChange:c,placeholder:a.name,className:"input",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.company}),r.jsx("input",{name:"company",value:n.company,onChange:c,placeholder:a.company,className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.phone}),r.jsx("input",{name:"phone",value:n.phone,onChange:c,placeholder:a.phone,className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.email}),r.jsx("input",{type:"email",name:"email",value:n.email,onChange:c,placeholder:a.email,className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.license}),r.jsx("input",{name:"license",value:n.license,onChange:c,placeholder:a.license,className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.status}),r.jsx("select",{name:"status",value:n.status,onChange:c,className:"input",children:x.map(m=>r.jsx("option",{value:m,children:m},m))})]}),r.jsx("div",{className:"md:col-span-2",children:r.jsx("button",{type:"submit",className:"btn btn-primary",children:a.save})})]})]}),r.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[r.jsx("h2",{className:"text-xl font-medium mb-4",children:a.listTitle}),l.length===0?r.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:a.empty}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"nova-table w-full",children:[r.jsx("thead",{className:"thead-soft",children:r.jsxs("tr",{className:"text-gray-600 dark:text-gray-300",children:[r.jsx("th",{className:"text-start px-3 min-w-[180px]",children:a.name}),r.jsx("th",{className:"text-start px-3 min-w-[160px]",children:a.company}),r.jsx("th",{className:"text-start px-3 min-w-[140px]",children:a.phone}),r.jsx("th",{className:"text-start px-3 min-w-[200px]",children:a.email}),r.jsx("th",{className:"text-start px-3 min-w-[140px]",children:a.license}),r.jsx("th",{className:"text-center px-3 min-w-[120px]",children:a.status}),r.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.actions})]})}),r.jsx("tbody",{children:l.map(m=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-3",children:r.jsx("span",{className:"font-medium",children:m.name})}),r.jsx("td",{className:"px-3",children:m.company}),r.jsx("td",{className:"px-3",children:m.phone}),r.jsx("td",{className:"px-3",children:m.email}),r.jsx("td",{className:"px-3",children:m.license}),r.jsx("td",{className:"px-3 text-center",children:m.status}),r.jsx("td",{className:"px-3 text-center",children:r.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[r.jsx("button",{type:"button",className:"btn btn-outline btn-sm px-2 py-1",title:a.edit,"aria-label":a.edit,onClick:()=>f(m),children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:[r.jsx("path",{d:"M12 20h9"}),r.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 113 3L7 19l-4 1 1-4 12.5-12.5z"})]})}),r.jsx("button",{type:"button",className:"btn-icon-danger",title:a.delete,"aria-label":a.delete,onClick:()=>u(m.id),children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:[r.jsx("path",{d:"M3 6h18"}),r.jsx("path",{d:"M8 6V4h8v2"}),r.jsx("rect",{x:"5",y:"6",width:"14",height:"14",rx:"2"})]})})]})})]},m.id))})]})})]})]})})}function g6e(){const{i18n:e}=Dt(),t=e.language==="ar",a=w.useMemo(()=>({title:t?" > ":"Inventory > Developers",formTitle:t?"  ":"Developer Company Details",companyName:t?" ":"Company Name",contactPerson:t?" ":"Contact Person",phone:t?"":"Phone",email:t?" ":"Email",city:t?"":"City",status:t?"":"Status",save:t?" ":"Save Company",listTitle:t?"  ":"All Developer Companies",empty:t?"   ":"No records yet",actions:t?"":"Actions",delete:t?"":"Delete",edit:t?"":"Edit"}),[t]),s="inventoryDevelopers",[n,i]=w.useState({companyName:"",contactPerson:"",phone:"",email:"",city:"",status:t?"":"Active"}),[l,o]=w.useState([]);w.useEffect(()=>{try{const m=localStorage.getItem(s);if(m){const g=JSON.parse(m);Array.isArray(g)&&o(g)}}catch{}},[]),w.useEffect(()=>{try{localStorage.setItem(s,JSON.stringify(l))}catch{}},[l]);function c(m){const{name:g,value:v}=m.target;i(b=>({...b,[g]:v}))}function d(m){if(m.preventDefault(),!n.companyName.trim())return;const v={id:Date.now(),...n};o(b=>[v,...b]),i({companyName:"",contactPerson:"",phone:"",email:"",city:"",status:t?"":"Active"})}function u(m){o(g=>g.filter(v=>v.id!==m))}function f(m){i({companyName:m.companyName||"",contactPerson:m.contactPerson||"",phone:m.phone||"",email:m.email||"",city:m.city||"",status:m.status||(t?"":"Active")})}const x=w.useMemo(()=>t?["",""]:["Active","Inactive"],[t]);return r.jsxs("div",{className:"space-y-6",children:[r.jsx("h1",{className:"text-2xl font-semibold",children:a.title}),r.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[r.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitle}),r.jsxs("form",{onSubmit:d,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.companyName}),r.jsx("input",{name:"companyName",value:n.companyName,onChange:c,placeholder:a.companyName,className:"input",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.contactPerson}),r.jsx("input",{name:"contactPerson",value:n.contactPerson,onChange:c,placeholder:a.contactPerson,className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.phone}),r.jsx("input",{name:"phone",value:n.phone,onChange:c,placeholder:a.phone,className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.email}),r.jsx("input",{type:"email",name:"email",value:n.email,onChange:c,placeholder:a.email,className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.city}),r.jsx("input",{name:"city",value:n.city,onChange:c,placeholder:a.city,className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.status}),r.jsx("select",{name:"status",value:n.status,onChange:c,className:"input",children:x.map(m=>r.jsx("option",{value:m,children:m},m))})]}),r.jsx("div",{className:"md:col-span-2",children:r.jsx("button",{type:"submit",className:"btn btn-primary",children:a.save})})]})]}),r.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[r.jsx("h2",{className:"text-xl font-medium mb-4",children:a.listTitle}),l.length===0?r.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:a.empty}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"nova-table w-full",children:[r.jsx("thead",{className:"thead-soft",children:r.jsxs("tr",{className:"text-gray-600 dark:text-gray-300",children:[r.jsx("th",{className:"text-start px-3 min-w-[200px]",children:a.companyName}),r.jsx("th",{className:"text-start px-3 min-w-[160px]",children:a.contactPerson}),r.jsx("th",{className:"text-start px-3 min-w-[140px]",children:a.phone}),r.jsx("th",{className:"text-start px-3 min-w-[200px]",children:a.email}),r.jsx("th",{className:"text-start px-3 min-w-[140px]",children:a.city}),r.jsx("th",{className:"text-center px-3 min-w-[120px]",children:a.status}),r.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.actions})]})}),r.jsx("tbody",{children:l.map(m=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-3",children:r.jsx("span",{className:"font-medium",children:m.companyName})}),r.jsx("td",{className:"px-3",children:m.contactPerson}),r.jsx("td",{className:"px-3",children:m.phone}),r.jsx("td",{className:"px-3",children:m.email}),r.jsx("td",{className:"px-3",children:m.city}),r.jsx("td",{className:"px-3 text-center",children:m.status}),r.jsx("td",{className:"px-3 text-center",children:r.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[r.jsx("button",{type:"button",className:"btn btn-outline btn-sm px-2 py-1",title:a.edit,"aria-label":a.edit,onClick:()=>f(m),children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:[r.jsx("path",{d:"M12 20h9"}),r.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 113 3L7 19l-4 1 1-4 12.5-12.5z"})]})}),r.jsx("button",{type:"button",className:"btn-icon-danger",title:a.delete,"aria-label":a.delete,onClick:()=>u(m.id),children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:[r.jsx("path",{d:"M3 6h18"}),r.jsx("path",{d:"M8 6V4h8v2"}),r.jsx("rect",{x:"5",y:"6",width:"14",height:"14",rx:"2"})]})})]})})]},m.id))})]})})]})]})}function v6e(){const{i18n:e}=Dt(),t=e.language==="ar",a=w.useMemo(()=>({title:t?" >  ":"Inventory > Stock Management",formTitle:t?"  ":"Stock Entry",itemOrSku:t?" / SKU":"Item / SKU",selectItem:t?" ":"Select Item",manualSku:t?" SKU ":"Enter SKU manually",qtyAvailable:t?" ":"Quantity Available",qtyReserved:t?" ":"Reserved Quantity",minAlert:t?"  ":"Minimum Quantity Alert",warehouse:t?"":"Warehouse location",save:t?" ":"Save Entry",listTitle:t?"  ":"Stock Records",empty:t?"   ":"No records yet",actions:t?"":"Actions",delete:t?"":"Delete",effective:t?" ":"Effective Available",status:t?"":"Status",lowStock:t?"":"Low",okStock:t?"":"OK"}),[t]),s="inventoryStock",n="inventoryItems",[i,l]=w.useState([]),[o,c]=w.useState([]),[d,u]=w.useState({itemId:"",manualSku:"",qtyAvailable:"",qtyReserved:"",minAlert:"",warehouse:""});w.useEffect(()=>{try{const b=localStorage.getItem(n);if(b){const j=JSON.parse(b);Array.isArray(j)&&l(j)}}catch(b){console.warn("Failed to load items",b)}try{const b=localStorage.getItem(s);if(b){const j=JSON.parse(b);Array.isArray(j)&&c(j)}}catch(b){console.warn("Failed to load stock records",b)}},[]),w.useEffect(()=>{try{localStorage.setItem(s,JSON.stringify(o))}catch{}},[o]);const f=w.useMemo(()=>t?[" "," "," "]:["Main Warehouse","Secondary Warehouse","Outdoor Storage"],[t]),x=b=>{const{name:j,value:S}=b.target;u(k=>({...k,[j]:S}))},m=b=>{b.preventDefault();const j=i.find(_=>String(_.id)===String(d.itemId)),S=Number(d.qtyAvailable||0),k=Number(d.qtyReserved||0),N=Number(d.minAlert||0),A={id:Date.now(),itemId:d.itemId||null,itemName:j?.name||"",sku:d.manualSku||j?.sku||"",qtyAvailable:S,qtyReserved:k,minAlert:N,warehouse:d.warehouse||""};c(_=>[A,..._]),u({itemId:"",manualSku:"",qtyAvailable:"",qtyReserved:"",minAlert:"",warehouse:""})},g=b=>{c(j=>j.filter(S=>S.id!==b))},v=b=>{const S=(b.qtyAvailable||0)-(b.qtyReserved||0)<=(b.minAlert||0),k=S?"text-red-600 bg-red-100 dark:text-red-300 dark:bg-red-900/40":"text-green-600 bg-green-100 dark:text-green-300 dark:bg-green-900/40";return r.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${k}`,children:S?a.lowStock:a.okStock})};return r.jsx(aa,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("h1",{className:"text-2xl font-semibold",children:a.title}),r.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[r.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitle}),r.jsxs("form",{onSubmit:m,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.itemOrSku}),r.jsxs("select",{name:"itemId",value:d.itemId,onChange:x,className:"input",children:[r.jsx("option",{value:"",children:a.selectItem}),i.map(b=>r.jsxs("option",{value:b.id,children:[b.name," ",b.sku?`(${b.sku})`:""]},b.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.manualSku}),r.jsx("input",{name:"manualSku",value:d.manualSku,onChange:x,placeholder:a.manualSku,className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.qtyAvailable}),r.jsx("input",{type:"number",name:"qtyAvailable",value:d.qtyAvailable,onChange:x,min:"0",step:"1",placeholder:a.qtyAvailable,className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.qtyReserved}),r.jsx("input",{type:"number",name:"qtyReserved",value:d.qtyReserved,onChange:x,min:"0",step:"1",placeholder:a.qtyReserved,className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.minAlert}),r.jsx("input",{type:"number",name:"minAlert",value:d.minAlert,onChange:x,min:"0",step:"1",placeholder:a.minAlert,className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.warehouse}),r.jsxs("select",{name:"warehouse",value:d.warehouse,onChange:x,className:"input",children:[r.jsx("option",{value:"",children:a.warehouse}),f.map(b=>r.jsx("option",{value:b,children:b},b))]})]}),r.jsx("div",{className:"md:col-span-2",children:r.jsx("button",{type:"submit",className:"btn btn-primary",children:a.save})})]})]}),r.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[r.jsx("h2",{className:"text-xl font-medium mb-4",children:a.listTitle}),o.length===0?r.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:a.empty}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"nova-table w-full",children:[r.jsx("thead",{className:"thead-soft",children:r.jsxs("tr",{className:"text-gray-600 dark:text-gray-300",children:[r.jsx("th",{className:"text-start px-3 min-w-[180px]",children:a.itemOrSku}),r.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.qtyAvailable}),r.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.qtyReserved}),r.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.effective}),r.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.minAlert}),r.jsx("th",{className:"text-start px-3 min-w-[160px]",children:a.warehouse}),r.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.status}),r.jsx("th",{className:"text-center px-3 min-w-[100px]",children:a.actions})]})}),r.jsx("tbody",{children:o.map(b=>{const j=(b.qtyAvailable||0)-(b.qtyReserved||0),S=j<=(b.minAlert||0);return r.jsxs("tr",{className:S?"bg-red-50 dark:bg-red-900/10":"",children:[r.jsx("td",{className:"px-3",children:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"font-medium",children:b.itemName||"-"}),r.jsx("span",{className:"text-xs text-[var(--muted-text)]",children:b.sku||"-"})]})}),r.jsx("td",{className:"px-3 text-center",children:b.qtyAvailable??0}),r.jsx("td",{className:"px-3 text-center",children:b.qtyReserved??0}),r.jsx("td",{className:"px-3 text-center",children:j}),r.jsx("td",{className:"px-3 text-center",children:b.minAlert??0}),r.jsx("td",{className:"px-3",children:b.warehouse||"-"}),r.jsx("td",{className:"px-3 text-center",children:v(b)}),r.jsx("td",{className:"px-3 text-center",children:r.jsx("button",{className:"btn btn-danger btn-xs",onClick:()=>g(b.id),children:a.delete})})]},b.id)})})]})})]})]})})}function b6e(){const{i18n:e}=Dt(),t=e.language==="ar",a=w.useMemo(()=>({title:t?" > ":"Inventory > Transactions",formTitle:t?"  ":"Record Stock Transaction",date:t?"":"Date",type:t?" (//)":"Type (in/out/transfer)",quantity:t?"":"Quantity",reference:t?" ( /)":"Reference (Sales/Purchase Order)",username:t?" ":"User name",save:t?" ":"Save Transaction",listTitle:t?" ":"Transaction Log",empty:t?"   ":"No transactions yet",actions:t?"":"Actions",delete:t?"":"Delete",type_in:t?"":"In",type_out:t?"":"Out",type_transfer:t?"":"Transfer"}),[t]),s="inventoryTransactions",[n,i]=w.useState({date:new Date().toISOString().slice(0,10),type:"in",quantity:"",reference:"",username:""}),[l,o]=w.useState([]);w.useEffect(()=>{try{const x=localStorage.getItem(s);if(x){const m=JSON.parse(x);Array.isArray(m)&&o(m)}}catch(x){console.warn("Failed to load transactions",x)}},[]),w.useEffect(()=>{try{localStorage.setItem(s,JSON.stringify(l))}catch{}},[l]);const c=x=>{const{name:m,value:g}=x.target;i(v=>({...v,[m]:g}))},d=x=>{x.preventDefault();const m=Number(n.quantity||0);if(!n.date||!n.type||m<=0)return;const g={id:Date.now(),date:n.date,type:n.type,quantity:m,reference:n.reference||"",username:n.username||""};o(v=>[g,...v]),i({date:new Date().toISOString().slice(0,10),type:"in",quantity:"",reference:"",username:""})},u=x=>o(m=>m.filter(g=>g.id!==x)),f=x=>{switch(x){case"in":return a.type_in;case"out":return a.type_out;case"transfer":return a.type_transfer;default:return x}};return r.jsx(aa,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("h1",{className:"text-2xl font-semibold",children:a.title}),r.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[r.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitle}),r.jsxs("form",{onSubmit:d,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.date}),r.jsx("input",{type:"date",name:"date",value:n.date,onChange:c,className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.type}),r.jsxs("select",{name:"type",value:n.type,onChange:c,className:"input",children:[r.jsx("option",{value:"in",children:a.type_in}),r.jsx("option",{value:"out",children:a.type_out}),r.jsx("option",{value:"transfer",children:a.type_transfer})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.quantity}),r.jsx("input",{type:"number",name:"quantity",value:n.quantity,onChange:c,min:"1",step:"1",placeholder:a.quantity,className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.reference}),r.jsx("input",{name:"reference",value:n.reference,onChange:c,placeholder:a.reference,className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.username}),r.jsx("input",{name:"username",value:n.username,onChange:c,placeholder:a.username,className:"input"})]}),r.jsx("div",{className:"md:col-span-2",children:r.jsx("button",{type:"submit",className:"btn btn-primary",children:a.save})})]})]}),r.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[r.jsx("h2",{className:"text-xl font-medium mb-4",children:a.listTitle}),l.length===0?r.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:a.empty}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"nova-table w-full",children:[r.jsx("thead",{className:"thead-soft",children:r.jsxs("tr",{className:"text-gray-600 dark:text-gray-300",children:[r.jsx("th",{className:"text-start px-3 min-w-[140px]",children:a.date}),r.jsx("th",{className:"text-start px-3 min-w-[160px]",children:a.type}),r.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.quantity}),r.jsx("th",{className:"text-start px-3 min-w-[220px]",children:a.reference}),r.jsx("th",{className:"text-start px-3 min-w-[160px]",children:a.username}),r.jsx("th",{className:"text-center px-3 min-w-[100px]",children:a.actions})]})}),r.jsx("tbody",{children:l.map(x=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-3",children:r.jsx("span",{className:"font-medium",children:x.date})}),r.jsx("td",{className:"px-3",children:f(x.type)}),r.jsx("td",{className:"px-3 text-center",children:x.quantity}),r.jsx("td",{className:"px-3",children:x.reference}),r.jsx("td",{className:"px-3",children:x.username}),r.jsx("td",{className:"px-3 text-center",children:r.jsx("div",{className:"flex items-center gap-2 justify-center",children:r.jsx("button",{type:"button",className:"btn btn-danger btn-sm",onClick:()=>u(x.id),children:a.delete})})})]},x.id))})]})})]})]})})}function y6e(){const{i18n:e}=Dt(),t=e.language==="ar",a=w.useMemo(()=>({title:t?" > /":"Inventory > Suppliers/Vendors",formTitleBasic:t?" ":"Basic Information",formTitleBusiness:t?" ":"Business Information",formTitleAttachments:t?"":"Attachments",supplierName:t?" ":"Supplier Name",supplierCode:t?" ":"Supplier Code",companyName:t?" ":"Company Name",contactPerson:t?" ":"Contact Person",phone:t?" ":"Phone Number",email:t?" ":"Email",website:t?" ":"Website",address:t?"":"Address",taxId:t?" ":"Tax ID",countryCity:t?"/":"Country/City",supplierType:t?" ":"Supplier Type",category:t?"":"Category",productLine:t?" ":"Product Line",paymentTerms:t?" ":"Payment Terms",currency:t?"":"Currency",creditLimit:t?" ":"Credit Limit",discountRate:t?"  (%)":"Discount Rate (%)",deliveryTime:t?"  ()":"Delivery Time (days)",contractDoc:t?" ":"Contract Document",certificates:t?" ":"Supplier Certificates",quotations:t?" ":"Quotations",previousBills:t?" ":"Previous Bills",save:t?" ":"Save Supplier",listTitle:t?" ":"Suppliers List",empty:t?"   ":"No suppliers yet",actions:t?"":"Actions",edit:t?"":"Edit",delete:t?"":"Delete"}),[t]),s=w.useMemo(()=>t?["","",""]:["Company","Individual","Agent"],[t]),n=w.useMemo(()=>t?[" ","",""]:["Raw Materials","Services","Hardware"],[t]),i=w.useMemo(()=>t?["","30 ","60 "]:["Cash","Net 30","Net 60"],[t]),l=w.useMemo(()=>t?["","",""]:["SAR","USD","EUR"],[t]),o=w.useMemo(()=>t?["","",""]:["Electronics","Construction","Services"],[t]),c="inventorySuppliers",[d,u]=w.useState({supplierName:"",supplierCode:"",companyName:"",contactPerson:"",phone:"",email:"",website:"",address:"",taxId:"",countryCity:"",supplierType:s[0]||"",category:n[0]||"",productLine:o[0]||"",paymentTerms:i[0]||"",currency:l[0]||"",creditLimit:"",discountRate:"",deliveryTime:"",attachments:{contractDoc:[],certificates:[],quotations:[],previousBills:[]}}),[f,x]=w.useState([]);w.useEffect(()=>{try{const S=localStorage.getItem(c);if(S){const k=JSON.parse(S);Array.isArray(k)&&x(k)}}catch(S){console.warn("Failed to load suppliers",S)}},[]),w.useEffect(()=>{try{localStorage.setItem(c,JSON.stringify(f))}catch{}},[f]);const m=S=>{const{name:k,value:N}=S.target;u(A=>({...A,[k]:N}))},g=(S,k)=>{const N=Array.from(k||[]).map(A=>A.name);u(A=>({...A,attachments:{...A.attachments,[S]:N}}))},v=S=>{if(S.preventDefault(),!(d.supplierName||"").trim())return;const N={id:Date.now(),...d,creditLimit:d.creditLimit?Number(d.creditLimit):0,discountRate:d.discountRate?Number(d.discountRate):0,deliveryTime:d.deliveryTime?Number(d.deliveryTime):0};x(A=>[N,...A]),u({supplierName:"",supplierCode:"",companyName:"",contactPerson:"",phone:"",email:"",website:"",address:"",taxId:"",countryCity:"",supplierType:s[0]||"",category:n[0]||"",productLine:o[0]||"",paymentTerms:i[0]||"",currency:l[0]||"",creditLimit:"",discountRate:"",deliveryTime:"",attachments:{contractDoc:[],certificates:[],quotations:[],previousBills:[]}});try{window.scrollTo({top:0,behavior:"smooth"})}catch{}},b=S=>x(k=>k.filter(N=>N.id!==S)),j=S=>{u({supplierName:S.supplierName||"",supplierCode:S.supplierCode||"",companyName:S.companyName||"",contactPerson:S.contactPerson||"",phone:S.phone||"",email:S.email||"",website:S.website||"",address:S.address||"",taxId:S.taxId||"",countryCity:S.countryCity||"",supplierType:S.supplierType||s[0]||"",category:S.category||n[0]||"",productLine:S.productLine||o[0]||"",paymentTerms:S.paymentTerms||i[0]||"",currency:S.currency||l[0]||"",creditLimit:S.creditLimit!=null?String(S.creditLimit):"",discountRate:S.discountRate!=null?String(S.discountRate):"",deliveryTime:S.deliveryTime!=null?String(S.deliveryTime):"",attachments:{contractDoc:S.attachments?.contractDoc||[],certificates:S.attachments?.certificates||[],quotations:S.attachments?.quotations||[],previousBills:S.attachments?.previousBills||[]}});try{window.scrollTo({top:0,behavior:"smooth"})}catch{}};return r.jsx(aa,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("h1",{className:"text-2xl font-semibold",children:a.title}),r.jsxs("form",{onSubmit:v,className:"space-y-6",children:[r.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[r.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitleBasic}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.supplierName}),r.jsx("input",{name:"supplierName",value:d.supplierName,onChange:m,placeholder:a.supplierName,className:"input",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.supplierCode}),r.jsx("input",{name:"supplierCode",value:d.supplierCode,onChange:m,placeholder:a.supplierCode,className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.companyName}),r.jsx("input",{name:"companyName",value:d.companyName,onChange:m,placeholder:a.companyName,className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.contactPerson}),r.jsx("input",{name:"contactPerson",value:d.contactPerson,onChange:m,placeholder:a.contactPerson,className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.phone}),r.jsx("input",{name:"phone",value:d.phone,onChange:m,placeholder:a.phone,className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.email}),r.jsx("input",{type:"email",name:"email",value:d.email,onChange:m,placeholder:a.email,className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.website}),r.jsx("input",{name:"website",value:d.website,onChange:m,placeholder:a.website,className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.address}),r.jsx("input",{name:"address",value:d.address,onChange:m,placeholder:a.address,className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.taxId}),r.jsx("input",{name:"taxId",value:d.taxId,onChange:m,placeholder:a.taxId,className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.countryCity}),r.jsx("input",{name:"countryCity",value:d.countryCity,onChange:m,placeholder:a.countryCity,className:"input"})]})]})]}),r.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[r.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitleBusiness}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.supplierType}),r.jsx("select",{name:"supplierType",value:d.supplierType,onChange:m,className:"input",children:s.map(S=>r.jsx("option",{value:S,children:S},S))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.category}),r.jsx("select",{name:"category",value:d.category,onChange:m,className:"input",children:n.map(S=>r.jsx("option",{value:S,children:S},S))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.productLine}),r.jsx("select",{name:"productLine",value:d.productLine,onChange:m,className:"input",children:o.map(S=>r.jsx("option",{value:S,children:S},S))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.paymentTerms}),r.jsx("select",{name:"paymentTerms",value:d.paymentTerms,onChange:m,className:"input",children:i.map(S=>r.jsx("option",{value:S,children:S},S))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.currency}),r.jsx("select",{name:"currency",value:d.currency,onChange:m,className:"input",children:l.map(S=>r.jsx("option",{value:S,children:S},S))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.creditLimit}),r.jsx("input",{type:"number",name:"creditLimit",value:d.creditLimit,onChange:m,placeholder:a.creditLimit,className:"input",min:"0",step:"0.01"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.discountRate}),r.jsx("input",{type:"number",name:"discountRate",value:d.discountRate,onChange:m,placeholder:a.discountRate,className:"input",min:"0",step:"0.01"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.deliveryTime}),r.jsx("input",{type:"number",name:"deliveryTime",value:d.deliveryTime,onChange:m,placeholder:a.deliveryTime,className:"input",min:"0",step:"1"})]})]})]}),r.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[r.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitleAttachments}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.contractDoc}),r.jsx("input",{type:"file",multiple:!0,onChange:S=>g("contractDoc",S.target.files),className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.certificates}),r.jsx("input",{type:"file",multiple:!0,onChange:S=>g("certificates",S.target.files),className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.quotations}),r.jsx("input",{type:"file",multiple:!0,onChange:S=>g("quotations",S.target.files),className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.previousBills}),r.jsx("input",{type:"file",multiple:!0,onChange:S=>g("previousBills",S.target.files),className:"input"})]})]})]}),r.jsx("div",{children:r.jsx("button",{type:"submit",className:"btn btn-primary",children:a.save})})]}),r.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[r.jsx("h2",{className:"text-xl font-medium mb-4",children:a.listTitle}),f.length===0?r.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:a.empty}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"nova-table w-full",children:[r.jsx("thead",{className:"thead-soft",children:r.jsxs("tr",{className:"text-gray-600 dark:text-gray-300",children:[r.jsx("th",{className:"text-start px-3 min-w-[180px]",children:a.supplierName}),r.jsx("th",{className:"text-start px-3 min-w-[140px]",children:a.companyName}),r.jsx("th",{className:"text-start px-3 min-w-[120px]",children:a.supplierCode}),r.jsx("th",{className:"text-start px-3 min-w-[160px]",children:a.contactPerson}),r.jsx("th",{className:"text-start px-3 min-w-[140px]",children:a.phone}),r.jsx("th",{className:"text-start px-3 min-w-[160px]",children:a.email}),r.jsx("th",{className:"text-start px-3 min-w-[160px]",children:a.countryCity}),r.jsx("th",{className:"text-start px-3 min-w-[140px]",children:a.supplierType}),r.jsx("th",{className:"text-start px-3 min-w-[140px]",children:a.category}),r.jsx("th",{className:"text-start px-3 min-w-[140px]",children:a.productLine}),r.jsx("th",{className:"text-start px-3 min-w-[120px]",children:a.currency}),r.jsx("th",{className:"text-center px-3 min-w-[120px]",children:a.creditLimit}),r.jsx("th",{className:"text-center px-3 min-w-[120px]",children:a.discountRate}),r.jsx("th",{className:"text-center px-3 min-w-[140px]",children:a.deliveryTime}),r.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.actions})]})}),r.jsx("tbody",{children:f.map(S=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-3",children:r.jsx("span",{className:"font-medium",children:S.supplierName})}),r.jsx("td",{className:"px-3",children:S.companyName}),r.jsx("td",{className:"px-3",children:S.supplierCode}),r.jsx("td",{className:"px-3",children:S.contactPerson}),r.jsx("td",{className:"px-3",children:S.phone}),r.jsx("td",{className:"px-3",children:S.email}),r.jsx("td",{className:"px-3",children:S.countryCity}),r.jsx("td",{className:"px-3",children:S.supplierType}),r.jsx("td",{className:"px-3",children:S.category}),r.jsx("td",{className:"px-3",children:S.productLine}),r.jsx("td",{className:"px-3",children:S.currency}),r.jsx("td",{className:"px-3 text-center",children:(S.creditLimit??0).toFixed(2)}),r.jsx("td",{className:"px-3 text-center",children:(S.discountRate??0).toFixed(2)}),r.jsx("td",{className:"px-3 text-center",children:S.deliveryTime??0}),r.jsx("td",{className:"px-3 text-center",children:r.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[r.jsx("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:()=>j(S),children:a.edit}),r.jsx("button",{type:"button",className:"btn btn-danger btn-sm",onClick:()=>b(S.id),children:a.delete})]})})]},S.id))})]})})]})]})})}function w6e(){const{i18n:e}=Dt(),t=e.language==="ar",a=w.useMemo(()=>({title:t?" > ":"Inventory > Warehouse",save:t?" ":"Save Warehouse",listTitle:t?" ":"Warehouses List",empty:t?"   ":"No warehouses yet",actions:t?"":"Actions",edit:t?"":"Edit",delete:t?"":"Delete",formTitleBasic:t?"1-  ":"1- Basic Information",warehouseName:t?" ":"Warehouse Name",warehouseCode:t?" ":"Warehouse Code",warehouseType:t?" ":"Warehouse Type",status:t?"":"Status",manager:t?"/ ":"Manager/Responsible Person",contactNumber:t?" ":"Contact Number",email:t?" ":"Email",address:t?"":"Address",city:t?"":"City",formTitleOperational:t?"2-  ":"2- Operational Details",storageCapacity:t?" ":"Storage Capacity",sections:t?"":"Sections",allowedUsers:t?"  ":"Allowed Users",temperatureControlled:t?" ":"Temperature Controlled",defaultSupplier:t?" ":"Default Supplier",operatingHours:t?" ":"Operating Hours",formTitleStock:t?"3-  ":"3- Stock & Inventory",currentStockValue:t?"  ":"Current Stock Value",minThreshold:t?" ":"Min Threshold",maxThreshold:t?" ":"Max Threshold",nextStockAudit:t?" ":"Next Stock Audit",totalSkusStored:t?"  ":"Total SKUs Stored",lastStockAudit:t?" ":"Last Stock Audit",formTitleAttachments:t?"4- ":"4- Attachments",validityCertificates:t?" ":"Validity Certificates",maintenanceReports:t?"  ":"Periodic Maintenance Reports",note:t?"":"Note"}),[t]),s=w.useMemo(()=>t?["","",""]:["Central","Regional","Cold Storage"],[t]),n=w.useMemo(()=>t?["",""]:["Active","Inactive"],[t]),i="inventoryWarehouses",[l,o]=w.useState({warehouseName:"",warehouseCode:"",warehouseType:s[0]||"",status:n[0]||"",manager:"",contactNumber:"",email:"",address:"",city:"",storageCapacity:"",sections:"",allowedUsers:"",temperatureControlled:!1,defaultSupplier:"",operatingHours:"",currentStockValue:"",minThreshold:"",maxThreshold:"",nextStockAudit:"",totalSkusStored:"",lastStockAudit:"",attachments:{validityCertificates:[],maintenanceReports:[]},note:""}),[c,d]=w.useState([]);w.useEffect(()=>{try{const v=localStorage.getItem(i);if(v){const b=JSON.parse(v);Array.isArray(b)&&d(b)}}catch(v){console.warn("Failed to load warehouses",v)}},[]),w.useEffect(()=>{try{localStorage.setItem(i,JSON.stringify(c))}catch{}},[c]);const u=v=>{const{name:b,value:j,type:S,checked:k}=v.target;o(N=>({...N,[b]:S==="checkbox"?k:j}))},f=(v,b)=>{const j=Array.from(b||[]).map(S=>S.name);o(S=>({...S,attachments:{...S.attachments,[v]:j}}))},x=v=>{if(v.preventDefault(),!(l.warehouseName||"").trim())return;const j={id:Date.now(),...l,storageCapacity:l.storageCapacity?Number(l.storageCapacity):0,currentStockValue:l.currentStockValue?Number(l.currentStockValue):0,minThreshold:l.minThreshold?Number(l.minThreshold):0,maxThreshold:l.maxThreshold?Number(l.maxThreshold):0,totalSkusStored:l.totalSkusStored?Number(l.totalSkusStored):0};d(S=>[j,...S]),o({warehouseName:"",warehouseCode:"",warehouseType:s[0]||"",status:n[0]||"",manager:"",contactNumber:"",email:"",address:"",city:"",storageCapacity:"",sections:"",allowedUsers:"",temperatureControlled:!1,defaultSupplier:"",operatingHours:"",currentStockValue:"",minThreshold:"",maxThreshold:"",nextStockAudit:"",totalSkusStored:"",lastStockAudit:"",attachments:{validityCertificates:[],maintenanceReports:[]},note:""});try{window.scrollTo({top:0,behavior:"smooth"})}catch{}},m=v=>d(b=>b.filter(j=>j.id!==v)),g=v=>{o({warehouseName:v.warehouseName||"",warehouseCode:v.warehouseCode||"",warehouseType:v.warehouseType||s[0]||"",status:v.status||n[0]||"",manager:v.manager||"",contactNumber:v.contactNumber||"",email:v.email||"",address:v.address||"",city:v.city||"",storageCapacity:v.storageCapacity!=null?String(v.storageCapacity):"",sections:v.sections||"",allowedUsers:v.allowedUsers||"",temperatureControlled:!!v.temperatureControlled,defaultSupplier:v.defaultSupplier||"",operatingHours:v.operatingHours||"",currentStockValue:v.currentStockValue!=null?String(v.currentStockValue):"",minThreshold:v.minThreshold!=null?String(v.minThreshold):"",maxThreshold:v.maxThreshold!=null?String(v.maxThreshold):"",nextStockAudit:v.nextStockAudit||"",totalSkusStored:v.totalSkusStored!=null?String(v.totalSkusStored):"",lastStockAudit:v.lastStockAudit||"",attachments:{validityCertificates:v.attachments?.validityCertificates||[],maintenanceReports:v.attachments?.maintenanceReports||[]},note:v.note||""});try{window.scrollTo({top:0,behavior:"smooth"})}catch{}};return r.jsx(aa,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("h1",{className:"text-2xl font-semibold",children:a.title}),r.jsxs("form",{onSubmit:x,className:"space-y-6",children:[r.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[r.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitleBasic}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.warehouseName}),r.jsx("input",{name:"warehouseName",value:l.warehouseName,onChange:u,placeholder:a.warehouseName,className:"input",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.warehouseCode}),r.jsx("input",{name:"warehouseCode",value:l.warehouseCode,onChange:u,placeholder:a.warehouseCode,className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.warehouseType}),r.jsx("select",{name:"warehouseType",value:l.warehouseType,onChange:u,className:"input",children:s.map(v=>r.jsx("option",{value:v,children:v},v))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.status}),r.jsx("select",{name:"status",value:l.status,onChange:u,className:"input",children:n.map(v=>r.jsx("option",{value:v,children:v},v))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.manager}),r.jsx("input",{name:"manager",value:l.manager,onChange:u,placeholder:a.manager,className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.contactNumber}),r.jsx("input",{name:"contactNumber",value:l.contactNumber,onChange:u,placeholder:a.contactNumber,className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.email}),r.jsx("input",{type:"email",name:"email",value:l.email,onChange:u,placeholder:a.email,className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.address}),r.jsx("input",{name:"address",value:l.address,onChange:u,placeholder:a.address,className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.city}),r.jsx("input",{name:"city",value:l.city,onChange:u,placeholder:a.city,className:"input"})]})]})]}),r.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[r.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitleOperational}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.storageCapacity}),r.jsx("input",{type:"number",name:"storageCapacity",value:l.storageCapacity,onChange:u,placeholder:a.storageCapacity,className:"input",min:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.sections}),r.jsx("input",{name:"sections",value:l.sections,onChange:u,placeholder:a.sections,className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.allowedUsers}),r.jsx("input",{name:"allowedUsers",value:l.allowedUsers,onChange:u,placeholder:a.allowedUsers,className:"input"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",id:"temperatureControlled",name:"temperatureControlled",checked:l.temperatureControlled,onChange:u}),r.jsx("label",{htmlFor:"temperatureControlled",className:"text-sm",children:a.temperatureControlled})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.defaultSupplier}),r.jsx("input",{name:"defaultSupplier",value:l.defaultSupplier,onChange:u,placeholder:a.defaultSupplier,className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.operatingHours}),r.jsx("input",{name:"operatingHours",value:l.operatingHours,onChange:u,placeholder:a.operatingHours,className:"input"})]})]})]}),r.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[r.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitleStock}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.currentStockValue}),r.jsx("input",{type:"number",name:"currentStockValue",value:l.currentStockValue,onChange:u,placeholder:a.currentStockValue,className:"input",min:"0",step:"0.01"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.totalSkusStored}),r.jsx("input",{type:"number",name:"totalSkusStored",value:l.totalSkusStored,onChange:u,placeholder:a.totalSkusStored,className:"input",min:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.minThreshold}),r.jsx("input",{type:"number",name:"minThreshold",value:l.minThreshold,onChange:u,placeholder:a.minThreshold,className:"input",min:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.maxThreshold}),r.jsx("input",{type:"number",name:"maxThreshold",value:l.maxThreshold,onChange:u,placeholder:a.maxThreshold,className:"input",min:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.nextStockAudit}),r.jsx("input",{type:"date",name:"nextStockAudit",value:l.nextStockAudit,onChange:u,className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.lastStockAudit}),r.jsx("input",{type:"date",name:"lastStockAudit",value:l.lastStockAudit,onChange:u,className:"input"})]})]})]}),r.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[r.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitleAttachments}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.validityCertificates}),r.jsx("input",{type:"file",multiple:!0,onChange:v=>f("validityCertificates",v.target.files),className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:a.maintenanceReports}),r.jsx("input",{type:"file",multiple:!0,onChange:v=>f("maintenanceReports",v.target.files),className:"input"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm mb-1",children:a.note}),r.jsx("textarea",{name:"note",value:l.note,onChange:u,placeholder:a.note,className:"input h-24"})]})]})]}),r.jsx("div",{className:"h-6"}),r.jsx("div",{className:"flex justify-center",children:r.jsx("button",{type:"submit",className:"btn bg-white text-blue-600 border border-blue-600 hover:bg-blue-50",children:a.save})}),r.jsx("div",{className:"h-6"})]}),r.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[r.jsx("h2",{className:"text-xl font-medium mb-4",children:a.listTitle}),c.length===0?r.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:a.empty}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"nova-table w-full",children:[r.jsx("thead",{className:"thead-soft",children:r.jsxs("tr",{className:"text-gray-600 dark:text-gray-300",children:[r.jsx("th",{className:"text-start",children:a.warehouseName}),r.jsx("th",{className:"text-start",children:a.warehouseCode}),r.jsx("th",{className:"text-start",children:a.city}),r.jsx("th",{className:"text-start",children:a.status}),r.jsx("th",{className:"text-start",children:a.actions})]})}),r.jsx("tbody",{children:c.map(v=>r.jsxs("tr",{children:[r.jsx("td",{children:v.warehouseName}),r.jsx("td",{children:v.warehouseCode}),r.jsx("td",{children:v.city}),r.jsx("td",{children:v.status}),r.jsx("td",{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{type:"button",className:"btn btn-xs",onClick:()=>g(v),children:a.edit}),r.jsx("button",{type:"button",className:"btn btn-xs btn-danger",onClick:()=>m(v.id),children:a.delete})]})})]},v.id))})]})})]})]})})}function j6e(){const{i18n:e}=Dt(),t=(e?.language||"").toLowerCase().startsWith("ar"),[a,s]=w.useState([]);return w.useEffect(()=>{try{const n=localStorage.getItem("marketingCampaigns");s(n?JSON.parse(n):[])}catch{s([])}},[]),a.length?r.jsx("ul",{className:"space-y-3",children:a.slice().reverse().map(n=>r.jsxs("li",{className:"border border-white/20 rounded-lg p-3 backdrop-blur-sm bg-white/5",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"font-medium",children:n.name}),r.jsx("span",{className:"text-xs opacity-70",children:n.platform})]}),r.jsxs("div",{className:"mt-1 text-xs opacity-75",children:[t?": ":"Budget: ",n.totalBudget||0,"  ",t?": ":"Type: ",n.budgetType]}),n.startDate||n.endDate?r.jsxs("div",{className:"mt-1 text-xs opacity-75",children:[t?": ":"Period: ",n.startDate||"","  ",n.endDate||""]}):null]},n.id))}):r.jsx("p",{className:"text-sm opacity-70",children:t?"   ":"No campaigns yet"})}function N6e(){const{i18n:e}=Dt(),t=(e?.language||"").toLowerCase().startsWith("ar"),[a,s]=w.useState({name:"",platform:"",budgetType:"daily",totalBudget:"",startDate:"",endDate:"",landingPage:"",notes:""}),[n,i]=w.useState(!1),[l,o]=w.useState(null),[c,d]=w.useState([]);w.useEffect(()=>{try{const x=localStorage.getItem("marketingLandingPages");if(x){const m=JSON.parse(x);d(Array.isArray(m)?m:[])}else d([{id:"lp1",name:"LP - Registration"},{id:"lp2",name:"LP - Pricing"},{id:"lp3",name:"LP - Webinar"}])}catch{d([{id:"lp1",name:"LP - Registration"},{id:"lp2",name:"LP - Pricing"},{id:"lp3",name:"LP - Webinar"}])}},[]);function u(x){const{name:m,value:g}=x.target;s(v=>({...v,[m]:g}))}function f(x){if(x.preventDefault(),!a.name||!a.platform){o({type:"error",text:t?"    ":"Please enter name and platform"});return}i(!0);try{const m={id:Date.now(),...a},g=localStorage.getItem("marketingCampaigns"),v=g?JSON.parse(g):[];v.push(m),localStorage.setItem("marketingCampaigns",JSON.stringify(v)),o({type:"success",text:t?"   ":"Campaign saved successfully"}),s({name:"",platform:"",budgetType:"daily",totalBudget:"",startDate:"",endDate:"",landingPage:"",notes:""})}catch{o({type:"error",text:t?"   ":"Error while saving"})}finally{i(!1)}}return r.jsxs("div",{className:"space-y-6",children:[r.jsx("h1",{className:"text-2xl font-semibold",children:t?"":"Campaigns"}),r.jsxs("div",{className:"card glass-card p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[r.jsx("h2",{className:"text-xl font-medium mb-4",children:t?" ":"Add Campaign"}),r.jsxs("form",{onSubmit:f,className:`space-y-4 ${t?"text-right":"text-left"}`,children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:t?" ":"Campaign Name"}),r.jsx("input",{name:"name",value:a.name,onChange:u,placeholder:t?"  ":"Enter campaign name",className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:t?"":"Platform"}),r.jsxs("select",{name:"platform",value:a.platform,onChange:u,className:"input",children:[r.jsx("option",{value:"",children:t?" ":"Select Platform"}),r.jsx("option",{value:"Meta",children:"Meta"}),r.jsx("option",{value:"Google",children:"Google"}),r.jsx("option",{value:"Manual",children:t?"":"Manual"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:t?" ":"Budget Type"}),r.jsxs("div",{className:`flex items-center gap-6 ${t?"justify-end":""}`,children:[r.jsxs("label",{className:"inline-flex items-center gap-2",children:[r.jsx("input",{type:"radio",name:"budgetType",value:"daily",checked:a.budgetType==="daily",onChange:u}),r.jsx("span",{children:t?"":"Daily"})]}),r.jsxs("label",{className:"inline-flex items-center gap-2",children:[r.jsx("input",{type:"radio",name:"budgetType",value:"lifetime",checked:a.budgetType==="lifetime",onChange:u}),r.jsx("span",{children:t?" ":"Lifetime"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:t?" ":"Total Budget"}),r.jsx("input",{type:"number",name:"totalBudget",value:a.totalBudget,onChange:u,className:"input",placeholder:"0"})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:t?" ":"Start Date"}),r.jsx("input",{type:"date",name:"startDate",value:a.startDate,onChange:u,className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:t?" ":"End Date"}),r.jsx("input",{type:"date",name:"endDate",value:a.endDate,onChange:u,className:"input"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:t?"  ":"Linked Landing Page"}),r.jsxs("select",{name:"landingPage",value:a.landingPage,onChange:u,className:"input",children:[r.jsx("option",{value:"",children:t?"  ":"Select Landing Page"}),c.map(x=>r.jsx("option",{value:x.id,children:x.name||x.title||`LP ${x.id}`},x.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-1",children:t?"":"Notes"}),r.jsx("textarea",{name:"notes",value:a.notes,onChange:u,className:"input",rows:3,placeholder:t?" ":"Additional notes"})]}),r.jsx("div",{className:`flex ${t?"justify-start":"justify-end"}`,children:r.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n,children:n?t?" ...":"Saving...":t?"":"Save"})}),l&&r.jsx("div",{className:`text-sm ${l.type==="success"?"text-green-600":"text-red-600"}`,children:l.text})]})]}),r.jsxs("div",{className:"card glass-card p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:t?" ":"Active Campaigns"}),r.jsx(j6e,{})]})]})}function S6e(){const{t:e,i18n:t}=Dt(),a=t.language==="ar",s=ti(),n=[{name:"Landing Page",url:"https://example.co",source:"Meta",campaign:"Conevecal",visitors:140,leads:120,conversion:"30.6%"},{name:"Product Demo Page",url:"https://google",source:"Google",campaign:"Spring Sale",visitors:30,leads:45,conversion:"14.5%"},{name:"Real Estate Lead",url:"https://man.ru",source:"Manual",campaign:"Somouse",visitors:20,leads:30,conversion:"12.5%"},{name:"Webinar Signup",url:"https://manuee",source:"Manual",campaign:"Summer Offer",visitors:20,leads:50,conversion:"13.0%"},{name:"Product Pela mcre",url:"https://example.c",source:"Meta",campaign:"Forris",visitors:10,leads:30,conversion:"Paused"},{name:"Running Ages",url:"https://example.co",source:"Maca",campaign:"Google",visitors:30,leads:10,conversion:"Active"}],[i,l]=w.useState(n),[o,c]=w.useState(!1),[d,u]=w.useState(!1),[f,x]=w.useState(""),[m,g]=w.useState(""),[v,b]=w.useState("All"),[j,S]=w.useState("All"),[k,N]=w.useState("All"),A=w.useMemo(()=>["All",...Array.from(new Set(i.map(R=>R.source)))],[i]),_=w.useMemo(()=>["All",...Array.from(new Set(i.map(R=>R.campaign)))],[i]),D=["All","Active","Paused","Percentage"],P=w.useMemo(()=>{const R=m.trim().toLowerCase();return i.filter(K=>{const V=!R||K.name.toLowerCase().includes(R)||K.url.toLowerCase().includes(R),Z=v==="All"||K.source===v,J=j==="All"||K.campaign===j,ee=String(K.conversion||"").toLowerCase(),W=ee.includes("%")?"Percentage":ee==="active"?"Active":ee==="paused"?"Paused":"Percentage";return V&&Z&&J&&(k==="All"||W===k)})},[i,m,v,j,k]),I=w.useMemo(()=>P.reduce((R,K)=>R+(Number(K.visitors)||0),0),[P]),B=w.useMemo(()=>P.reduce((R,K)=>R+(Number(K.leads)||0),0),[P]),O=w.useMemo(()=>`${(I>0?B/I*100:0).toFixed(1)}%`,[I,B]),U=()=>{d||(u(!0),x(""),setTimeout(()=>{l(R=>R.map(K=>{const V=Math.floor(Math.random()*20)+5,Z=Math.floor(Math.random()*10)-2,J=(Number(K.visitors)||0)+V;let ee=(Number(K.leads)||0)+Math.max(0,Z);ee>J&&(ee=Math.floor(J*.8));let W=`${J>0?(ee/J*100).toFixed(1):"0.0"}%`;return(K.conversion==="Paused"||K.conversion==="Active")&&(W=K.conversion),{...K,visitors:J,leads:ee,conversion:W}})),u(!1),x(e("Sync complete")),setTimeout(()=>x(""),2500)},1400))},E=()=>{g(""),b("All"),S("All"),N("All")};return r.jsxs("div",{className:"space-y-4 bg-transparent text-[var(--content-text)] overflow-y-auto",children:[r.jsx("h1",{className:"text-2xl font-bold",children:e("Landing Pages")}),r.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[r.jsxs("button",{className:`btn btn-primary inline-flex items-center gap-2 ${a?"flex-row-reverse":""}`,onClick:()=>s("/marketing/landing-pages/add"),children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:r.jsx("path",{d:"M12 5v14M5 12h14"})}),r.jsx("span",{children:e("Add Landing Page")})]}),r.jsxs("button",{className:`btn inline-flex items-center gap-2 ${a?"flex-row-reverse":""}`,onClick:U,disabled:d,children:[d?r.jsx("span",{className:"inline-block w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[r.jsx("path",{d:"M21 12a9 9 0 10-3.28 6.92"}),r.jsx("path",{d:"M21 12h-4"})]}),r.jsx("span",{children:e(d?"Syncing...":"Sync Data")})]}),r.jsxs("button",{className:`btn inline-flex items-center gap-2 ${a?"flex-row-reverse":""}`,onClick:()=>c(R=>!R),children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:r.jsx("path",{d:"M3 4h18l-7 8v6l-4 2v-8z"})}),r.jsx("span",{children:e("Filters")})]})]}),r.jsx("div",{className:"spacer-row w-full",children:r.jsx("div",{className:"h-2"})}),f&&r.jsx("div",{className:`card glass-card p-3 text-sm ${a?"text-right":"text-left"}`,children:f}),f&&r.jsx("div",{className:"spacer-row w-full",children:r.jsx("div",{className:"h-2"})}),o&&r.jsxs("section",{className:"card glass-card p-4",children:[r.jsxs("div",{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 ${a?"text-right":""}`,children:[r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Search")}),r.jsx("input",{value:m,onChange:R=>g(R.target.value),placeholder:e("Type to filter..."),className:"input"})]}),r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Source")}),r.jsx("select",{value:v,onChange:R=>b(R.target.value),className:"select",children:A.map(R=>r.jsx("option",{value:R,children:R},R))})]}),r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Campaign")}),r.jsx("select",{value:j,onChange:R=>S(R.target.value),className:"select",children:_.map(R=>r.jsx("option",{value:R,children:R},R))})]}),r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Status")}),r.jsx("select",{value:k,onChange:R=>N(R.target.value),className:"select",children:D.map(R=>r.jsx("option",{value:R,children:e(R)},R))})]})]}),r.jsxs("div",{className:`mt-4 flex items-center gap-2 ${a?"justify-start":"justify-end"}`,children:[r.jsx("button",{className:"btn",onClick:()=>c(!1),children:e("Apply")}),r.jsx("button",{className:"btn",onClick:E,children:e("Reset")}),r.jsx("button",{className:"btn",onClick:()=>c(!1),children:e("Close")})]})]}),o&&r.jsx("div",{className:"spacer-row w-full",children:r.jsx("div",{className:"h-2"})}),r.jsx("section",{className:"card glass-card p-4",children:r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"card glass-card p-4",children:[r.jsxs("div",{className:"text-sm text-[var(--muted-text)] inline-flex items-center gap-2",children:[r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[r.jsx("circle",{cx:"8",cy:"9",r:"2.5"}),r.jsx("circle",{cx:"16",cy:"9",r:"2.5"}),r.jsx("path",{d:"M3 20v-1a5 5 0 015-5h8a5 5 0 015 5v1"})]}),r.jsx("span",{children:e("Total Visitors")})]}),r.jsx("div",{className:"text-3xl font-semibold",children:I.toLocaleString()})]}),r.jsxs("div",{className:"card glass-card p-4",children:[r.jsxs("div",{className:"text-sm text-[var(--muted-text)] inline-flex items-center gap-2",children:[r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[r.jsx("rect",{x:"6",y:"4",width:"12",height:"16",rx:"2"}),r.jsx("path",{d:"M9 12l2 2 4-4"})]}),r.jsx("span",{children:e("Total Leads")})]}),r.jsx("div",{className:"text-3xl font-semibold",children:B.toLocaleString()})]}),r.jsxs("div",{className:"card glass-card p-4",children:[r.jsxs("div",{className:"text-sm text-[var(--muted-text)] inline-flex items-center gap-2",children:[r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[r.jsx("path",{d:"M3 17l6-6 4 4 8-8"}),r.jsx("path",{d:"M3 17h18"})]}),r.jsx("span",{children:e("Avg. Conversion %")})]}),r.jsx("div",{className:"text-3xl font-semibold",children:O})]}),r.jsx("div",{className:"card glass-card p-3 flex items-center justify-center",children:r.jsxs("svg",{viewBox:"0 0 120 60",className:"w-full h-20",children:[r.jsx("path",{d:"M0 45 L10 40 L20 42 L30 36 L40 38 L50 34 L60 35 L70 30 L80 35 L90 32 L100 28 L110 30 L120 27 L120 60 L0 60 Z",fill:"rgba(16,185,129,0.35)",stroke:"rgba(16,185,129,0.6)",strokeWidth:"1"}),r.jsx("path",{d:"M0 50 L10 48 L20 46 L30 47 L40 44 L50 43 L60 44 L70 41 L80 39 L90 38 L100 35 L110 36 L120 37",fill:"none",stroke:"rgba(59,130,246,0.8)",strokeWidth:"2"})]})})]})}),r.jsx("div",{className:"spacer-row w-full",children:r.jsx("div",{className:"h-2"})}),r.jsx("section",{className:"card glass-card p-4 max-[550px]:p-3",children:r.jsx("div",{className:"max-[550px]:-mx-3",children:r.jsxs("table",{className:"nova-table w-full table-fixed text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"glass-row text-left text-gray-600 dark:text-gray-300",children:[r.jsx("th",{className:"py-2 px-4",children:e("Page Name")}),r.jsx("th",{className:"py-2 px-4",children:"URL"}),r.jsx("th",{className:"py-2 px-4",children:e("Source")}),r.jsx("th",{className:"py-2 px-4",children:e("Linked Campaign")}),r.jsx("th",{className:"py-2 px-4",children:e("Visitors")}),r.jsx("th",{className:"py-2 px-4",children:e("Leads")}),r.jsx("th",{className:"py-2 px-4",children:e("Conversion %")})]})}),r.jsx("tbody",{className:"text-gray-800 dark:text-gray-100",children:P.map((R,K)=>r.jsxs(In.Fragment,{children:[r.jsxs("tr",{className:"glass-row border-t border-gray-200 dark:border-gray-800",children:[r.jsx("td",{className:"py-2 px-4",children:R.name}),r.jsx("td",{className:"py-2 px-4",children:r.jsx("a",{href:R.url,className:"text-blue-600 hover:underline",target:"_blank",rel:"noreferrer",children:R.url})}),r.jsx("td",{className:"py-2 px-4",children:R.source}),r.jsx("td",{className:"py-2 px-4",children:R.campaign}),r.jsx("td",{className:"py-2 px-4",children:R.visitors}),r.jsx("td",{className:"py-2 px-4",children:R.leads}),r.jsx("td",{className:"py-2 px-4",children:R.conversion})]}),K<P.length-1&&r.jsx("tr",{className:"spacer-row",children:r.jsx("td",{colSpan:7,children:r.jsx("div",{className:"h-2"})})})]},K))})]})})})]})}function k6e(){const{t:e}=Dt(),[t,a]=w.useState(()=>{try{return JSON.parse(localStorage.getItem("meta.integration")||"{}")}catch{return{}}}),[s,n]=w.useState(()=>t.events||{Lead:!0,Contact:!0,CompleteRegistration:!1,Purchase:!1}),[i,l]=w.useState(!!t.enableCapi),[o,c]=w.useState(!!t.autoSync),[d,u]=w.useState(()=>t.fieldMap||{name:"name",email:"email",phone:"phone",utm_source:"utm_source",utm_campaign:"utm_campaign"}),[f,x]=w.useState(null),[m,g]=w.useState(null),v="http://localhost:8787",b=`${v}/api/meta/webhook`,[j,S]=w.useState(null),[k,N]=w.useState(null),[A,_]=w.useState(!1),[D,P]=w.useState("default");w.useEffect(()=>{const W={...t,events:s,enableCapi:i,autoSync:o,fieldMap:d};localStorage.setItem("meta.integration",JSON.stringify(W))},[t,s,i,o,d]);const I=w.useMemo(()=>({account:!!t.businessManagerId&&!!t.adAccountId&&!!t.pageId,pixel:!!t.pixelId,leadAds:!!t.pageId&&o}),[t,o]),B=()=>{localStorage.removeItem("meta.integration"),a({}),n({Lead:!0,Contact:!0,CompleteRegistration:!1,Purchase:!1}),l(!1),c(!1),u({name:"name",email:"email",phone:"phone",utm_source:"utm_source",utm_campaign:"utm_campaign"}),x(null),g(null)},O=(W,le)=>a(M=>({...M,[W]:le})),U=()=>{const W={pixel_id:t.pixelId||"PIXEL_ID",event_name:Object.keys(s).find(le=>s[le])||"Lead",event_time:Math.floor(Date.now()/1e3),event_source_url:window.location.href,action_source:i?"website+capi":"website",user_data:{email:"lead@example.com",phone:"+201234567890"},custom_data:{value:0,currency:"USD"}};x(W)},E=()=>{const W={full_name:"Ahmed Ali",email:"ahmed@example.com",phone_number:"+201000000000",utm_source:"facebook",utm_campaign:"spring_campaign"},le={[d.name]:W.full_name,[d.email]:W.email,[d.phone]:W.phone_number,[d.utm_source]:W.utm_source,[d.utm_campaign]:W.utm_campaign};g({sampleLead:W,mapped:le})},R=async()=>{try{const W=f||{pixel_id:t.pixelId||"PIXEL_ID",event_name:"Lead"},M=await(await fetch(`${v}/api/meta/capi/test`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)})).json();N(M)}catch(W){N({ok:!1,error:W.message})}},K=async()=>{try{const W=`${v}/api/meta/webhook?hub.mode=subscribe&hub.verify_token=${encodeURIComponent(t.verifyToken||"")}&hub.challenge=TEST`,le=await fetch(W),M=await le.text();S({ok:le.ok,text:M})}catch(W){S({ok:!1,error:W.message})}},V=()=>{O("callbackUrl",b)},Z=async()=>{try{await navigator.clipboard.writeText(t.callbackUrl||b),_(!0),setTimeout(()=>_(!1),1500)}catch{_(!1)}},J=W=>{P(W),u(W==="facebook"?{name:"full_name",email:"email",phone:"phone_number",utm_source:"utm_source",utm_campaign:"utm_campaign"}:{name:"name",email:"email",phone:"phone",utm_source:"utm_source",utm_campaign:"utm_campaign"})},ee=({ok:W,label:le})=>r.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs rounded-full ${W?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300":"bg-rose-100 text-rose-700 dark:bg-rose-900/30 dark:text-rose-300"}`,children:[r.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${W?"bg-emerald-500":"bg-rose-500"}`}),le]});return r.jsxs("div",{className:"space-y-6 bg-transparent text-[var(--content-text)]",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-2xl font-semibold",children:e("Meta Integration")}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ee,{ok:I.account,label:e("Account Connected")}),r.jsx(ee,{ok:I.pixel,label:e("Pixel Configured")}),r.jsx(ee,{ok:I.leadAds,label:e("Lead Ads Auto-sync")})]})]}),r.jsxs("div",{className:"card glass-card p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h2",{className:"text-lg font-semibold",children:e("Meta Account")}),r.jsx("button",{className:"btn btn-outline",onClick:B,children:e("Reset Settings")})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"label",children:e("Business Manager ID")}),r.jsx("input",{className:"input",value:t.businessManagerId||"",onChange:W=>O("businessManagerId",W.target.value),placeholder:e("e.g., 1234567890")})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"label",children:e("Ad Account ID")}),r.jsx("input",{className:"input",value:t.adAccountId||"",onChange:W=>O("adAccountId",W.target.value),placeholder:e("e.g., act_1234567890")})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"label",children:e("Page ID")}),r.jsx("input",{className:"input",value:t.pageId||"",onChange:W=>O("pageId",W.target.value),placeholder:e("e.g., 1234567890")})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"label",children:e("App ID")}),r.jsx("input",{className:"input",value:t.appId||"",onChange:W=>O("appId",W.target.value),placeholder:e("e.g., 123456789012345")})]})]}),r.jsx("p",{className:"mt-2 text-xs text-[var(--muted-text)]",children:e("For production, store secrets on the server, not in the browser.")})]}),r.jsxs("div",{className:"card glass-card p-4",children:[r.jsx("h2",{className:"text-lg font-semibold mb-3",children:e("Facebook Pixel")}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"label",children:e("Pixel ID")}),r.jsx("input",{className:"input",value:t.pixelId||"",onChange:W=>O("pixelId",W.target.value),placeholder:e("e.g., 123456789012345")})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-6",children:[r.jsx("input",{id:"enableCapi",type:"checkbox",checked:i,onChange:W=>l(W.target.checked)}),r.jsx("label",{htmlFor:"enableCapi",className:"text-sm",children:e("Enable CAPI")})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-6",children:[r.jsx("label",{className:"text-sm",children:e("Events")}),r.jsx("div",{className:"flex flex-wrap gap-3",children:Object.keys(s).map(W=>r.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:!!s[W],onChange:le=>n(M=>({...M,[W]:le.target.checked}))}),r.jsx("span",{children:e(W)})]},W))})]})]}),r.jsxs("div",{className:"flex md:justify-end items-start gap-2",children:[r.jsx("button",{className:"btn btn-primary",onClick:U,children:e("Test Pixel Event")}),r.jsx("button",{className:"btn btn-outline",onClick:R,children:e("Send to Server (CAPI echo)")})]})]}),f&&r.jsxs("div",{className:"mt-4 rounded-lg ring-1 ring-gray-200 dark:ring-gray-800 p-3",children:[r.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mb-2",children:e("Payload Preview")}),r.jsx("pre",{className:"text-xs overflow-auto",children:JSON.stringify(f,null,2)})]}),k&&r.jsxs("div",{className:"mt-3 rounded-lg ring-1 ring-gray-200 dark:ring-gray-800 p-3",children:[r.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mb-2",children:e("Server Response")}),r.jsx("pre",{className:"text-xs overflow-auto",children:JSON.stringify(k,null,2)})]}),r.jsx("p",{className:"mt-2 text-xs text-[var(--muted-text)]",children:e("Use Events Manager to verify pixel firing and CAPI events.")})]}),r.jsxs("div",{className:"card glass-card p-4",children:[r.jsx("h2",{className:"text-lg font-semibold mb-3",children:e("Lead Ads Synchronization")}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mb-2",children:e("Webhook Settings")}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{id:"autoSync",type:"checkbox",checked:o,onChange:W=>c(W.target.checked)}),r.jsx("label",{htmlFor:"autoSync",className:"text-sm",children:e("Enable Auto-sync")})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"label",children:e("Verify Token")}),r.jsx("input",{className:"input",dir:"ltr",value:t.verifyToken||"",onChange:W=>O("verifyToken",W.target.value),placeholder:e("Webhook verify token")})]}),r.jsxs("div",{className:"flex flex-col lg:col-span-2",children:[r.jsx("label",{className:"label",children:e("Callback URL")}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{className:"input flex-1 w-full",dir:"ltr",value:t.callbackUrl||"",onChange:W=>O("callbackUrl",W.target.value),placeholder:e("https://your-domain.com/api/meta/webhook")}),r.jsx("button",{type:"button",className:"btn btn-xs",onClick:V,children:e("Set local server URL")}),r.jsx("button",{type:"button",className:"btn btn-outline btn-xs",onClick:Z,children:e("Copy")})]}),A&&r.jsx("div",{className:"text-xs text-emerald-600 mt-1",children:e("Copied")}),r.jsx("div",{className:"h-2","aria-hidden":"true"})]})]})]}),r.jsxs("div",{className:"flex md:justify-end items-start gap-2",children:[r.jsx("button",{className:"btn btn-outline",onClick:E,children:e("Simulate Lead Mapping")}),r.jsx("button",{className:"btn btn-primary",onClick:K,children:e("Test Verify Webhook")})]})]}),r.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"rounded-lg ring-1 ring-gray-200 dark:ring-gray-800 p-3",children:[r.jsxs("div",{className:"flex items-center justify-between text-xs font-semibold text-gray-600 dark:text-gray-300 mb-2",children:[r.jsx("span",{children:e("Field Mapping")}),r.jsxs("select",{className:"input input-xs w-auto",value:D,onChange:W=>J(W.target.value),children:[r.jsx("option",{value:"default",children:e("Default")}),r.jsx("option",{value:"facebook",children:e("Facebook Fields")})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"label",children:e("Full Name")}),r.jsx("input",{className:"input",value:d.name,onChange:W=>u(le=>({...le,name:W.target.value}))})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"label",children:e("Email")}),r.jsx("input",{className:"input",value:d.email,onChange:W=>u(le=>({...le,email:W.target.value}))})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"label",children:e("Phone")}),r.jsx("input",{className:"input",value:d.phone,onChange:W=>u(le=>({...le,phone:W.target.value}))})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"label",children:e("UTM Source")}),r.jsx("input",{className:"input",value:d.utm_source,onChange:W=>u(le=>({...le,utm_source:W.target.value}))})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"label",children:e("UTM Campaign")}),r.jsx("input",{className:"input",value:d.utm_campaign,onChange:W=>u(le=>({...le,utm_campaign:W.target.value}))})]})]})]}),m&&r.jsxs("div",{className:"rounded-lg ring-1 ring-gray-200 dark:ring-gray-800 p-3",children:[r.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mb-2",children:e("Mapping Preview")}),r.jsx("pre",{className:"text-xs overflow-auto",children:JSON.stringify(m,null,2)})]})]}),j&&r.jsxs("div",{className:"mt-3 rounded-lg ring-1 ring-gray-200 dark:ring-gray-800 p-3",children:[r.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mb-2",children:e("Webhook Verify Result")}),r.jsx("pre",{className:"text-xs overflow-auto",children:JSON.stringify(j,null,2)})]}),r.jsx("p",{className:"mt-2 text-xs text-[var(--muted-text)]",children:e("Subscribe Page to webhook via Meta settings; use the verify token above.")})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"card glass-card p-4",children:[r.jsx("h3",{className:"text-base font-semibold mb-2",children:e("Diagnostics")}),r.jsxs("ul",{className:"text-sm space-y-2",children:[r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(ee,{ok:I.account,label:e("Account Connected")}),r.jsx("span",{className:"text-[var(--muted-text)]",children:e("Business Manager, Ad Account, and Page configured")})]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(ee,{ok:I.pixel,label:e("Pixel Configured")}),r.jsx("span",{className:"text-[var(--muted-text)]",children:e("Pixel ID present; test event recommended")})]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(ee,{ok:I.leadAds,label:e("Lead Ads Auto-sync")}),r.jsx("span",{className:"text-[var(--muted-text)]",children:e("Webhook enabled and auto-sync active")})]})]})]}),r.jsxs("div",{className:"card glass-card p-4 md:col-span-2",children:[r.jsx("h3",{className:"text-base font-semibold mb-2",children:e("Marketing Tips")}),r.jsxs("ul",{className:"text-sm space-y-2 list-disc pl-5",children:[r.jsx("li",{children:e("Use CAPI + Pixel to reduce tracking loss and improve optimization.")}),r.jsx("li",{children:e("Map UTM parameters and campaigns to CRM for end-to-end attribution.")}),r.jsx("li",{children:e("Test events in Events Manager after any change to your funnel.")}),r.jsx("li",{children:e("Auto-sync Lead Ads and dedupe by phone/email to avoid duplicates.")}),r.jsx("li",{children:e("Retarget unconverted leads with Custom Audiences for higher ROAS.")})]})]})]})]})}function iN({startDate:e,endDate:t,onChange:a,className:s=""}){const{t:n,i18n:i}=Dt(),l=(i?.language||"").toLowerCase().startsWith("ar"),o=(u,f)=>{const x=m=>new Date(m).toISOString().split("T")[0];a?.({startDate:x(u),endDate:x(f)})},c=new Date,d=[{key:"today",label:n("Today"),range:[c,c]},{key:"last7",label:n("Last 7 Days"),range:[new Date(c.getFullYear(),c.getMonth(),c.getDate()-6),c]},{key:"last30",label:n("Last 30 Days"),range:[new Date(c.getFullYear(),c.getMonth(),c.getDate()-29),c]},{key:"thisMonth",label:n("This Month"),range:[new Date(c.getFullYear(),c.getMonth(),1),new Date(c.getFullYear(),c.getMonth()+1,0)]},{key:"lastMonth",label:n("Last Month"),range:[new Date(c.getFullYear(),c.getMonth()-1,1),new Date(c.getFullYear(),c.getMonth(),0)]},{key:"thisQuarter",label:n("This Quarter"),range:(()=>{const u=Math.floor(c.getMonth()/3)*3;return[new Date(c.getFullYear(),u,1),new Date(c.getFullYear(),u+3,0)]})()},{key:"thisYear",label:n("This Year"),range:[new Date(c.getFullYear(),0,1),new Date(c.getFullYear(),11,31)]}];return r.jsxs("div",{className:`rounded-lg border border-[var(--panel-border)] bg-[var(--dropdown-bg)] p-3 ${s}`,children:[r.jsxs("div",{className:`flex flex-wrap items-center gap-2 ${l?"flex-row-reverse":""}`,children:[r.jsx("span",{className:"text-sm opacity-70",children:n("Advanced Date Filter")}),r.jsx("div",{className:`flex flex-wrap items-center gap-2 ${l?"flex-row-reverse":""}`,children:d.map(u=>r.jsx("button",{onClick:()=>o(u.range[0],u.range[1]),className:"px-2 py-1 text-xs rounded-full border border-[var(--panel-border)] bg-white/60 dark:bg-gray-800/60 hover:bg-white dark:hover:bg-gray-800 transition-colors",children:u.label},u.key))})]}),r.jsxs("div",{className:`mt-3 grid grid-cols-1 sm:grid-cols-3 gap-2 ${l?"text-right":""}`,children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xs opacity-70",children:n("From")}),r.jsx("input",{type:"date",lang:l?"ar":"en",dir:l?"rtl":"ltr",placeholder:l?"//":"mm/dd/yyyy",value:e,onChange:u=>a?.({startDate:u.target.value,endDate:t}),className:"bg-transparent outline-none text-sm px-2 py-1 rounded-md border"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xs opacity-70",children:n("To")}),r.jsx("input",{type:"date",lang:l?"ar":"en",dir:l?"rtl":"ltr",placeholder:l?"//":"mm/dd/yyyy",value:t,onChange:u=>a?.({startDate:e,endDate:u.target.value}),className:"bg-transparent outline-none text-sm px-2 py-1 rounded-md border"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xs opacity-70",children:n("Month")}),r.jsx("input",{type:"month",value:`${(e||"").slice(0,7)}`,onChange:u=>{const[f,x]=u.target.value.split("-"),m=new Date(parseInt(f),parseInt(x)-1,1),g=new Date(parseInt(f),parseInt(x),0);o(m,g)},className:"bg-transparent outline-none text-sm px-2 py-1 rounded-md border"})]})]})]})}Sr.register(Cn,An,$n,xl,ai,rn,an);function i9(){const{t:e,i18n:t}=Dt(),a=(t?.language||"").toLowerCase().startsWith("ar"),[s,n]=w.useState("2024-01-01"),[i,l]=w.useState("2024-03-31"),[o,c]=w.useState(""),d=w.useMemo(()=>[{name:"Spring Launch",platform:"Facebook",spend:5e3,impressions:15e4,clicks:5200,ctr:3.47,cpc:.96,leads:240,cpl:20.8,qualifiedPct:42,roi:2.4},{name:"Brand Awareness",platform:"Instagram",spend:3600,impressions:18e4,clicks:3400,ctr:1.89,cpc:1.06,leads:120,cpl:30,qualifiedPct:28,roi:1.3},{name:"Referral Boost",platform:"Google Ads",spend:6200,impressions:12e4,clicks:6800,ctr:5.67,cpc:.91,leads:310,cpl:20,qualifiedPct:51,roi:2.9},{name:"Retargeting",platform:"Facebook",spend:2800,impressions:9e4,clicks:3200,ctr:3.56,cpc:.88,leads:130,cpl:21.5,qualifiedPct:37,roi:1.9},{name:"Holiday Promo",platform:"Google Ads",spend:4100,impressions:11e4,clicks:4500,ctr:4.09,cpc:.91,leads:210,cpl:19.5,qualifiedPct:46,roi:2.2}],[]),u=w.useMemo(()=>d.filter(b=>b.name.toLowerCase().includes(o.toLowerCase())||b.platform.toLowerCase().includes(o.toLowerCase())),[d,o]),f=()=>{const b=u.map(({name:P,platform:I,spend:B,impressions:O,clicks:U,ctr:E,cpc:R,leads:K,cpl:V,qualifiedPct:Z,roi:J})=>({"Campaign Name":P,Platform:I,Spend:B,Impressions:O,Clicks:U,CTR:E,CPC:R,"Leads Generated":K,CPL:V,"Qualified Leads %":Z,ROI:J})),j=Jt.json_to_sheet(b),S=u.map(({name:P,spend:I,roi:B,clicks:O,ctr:U,leads:E,qualifiedPct:R})=>({Campaign:P,Spend,ROI,Clicks,CTR:U,Leads,QualifiedPct:R})),k=Jt.json_to_sheet(S),N=[{"Start Date":s,"End Date":i,Query:o||"","Rows Exported":u.length,"Exported At":new Date().toISOString()}],A=Jt.json_to_sheet(N),_=Jt.book_new();Jt.book_append_sheet(_,j,"Summary"),Jt.book_append_sheet(_,k,"Charts Data"),Jt.book_append_sheet(_,A,"Metadata");const D=`campaign-summary-dashboard_${s}_to_${i}.xlsx`;gs(_,D)},x=()=>{const j=[["Campaign Name","Platform","Spend","Impressions","Clicks","CTR","CPC","Leads","CPL","Qualified Leads %","ROI"],...u.map(A=>[A.name,A.platform,A.spend,A.impressions,A.clicks,A.ctr,A.cpc,A.leads,A.cpl,A.qualifiedPct,A.roi])].map(A=>A.join(",")).join(`
`),S=new Blob([j],{type:"text/csv;charset=utf-8;"}),k=URL.createObjectURL(S),N=document.createElement("a");N.href=k,N.download="campaign-summary.csv",N.click(),URL.revokeObjectURL(k)},m=w.useMemo(()=>{const b={};for(const k of u){const N=k.platform;b[N]||(b[N]={spend:0,leads:0,roiSum:0,count:0}),b[N].spend+=k.spend,b[N].leads+=k.leads,b[N].roiSum+=k.roi,b[N].count+=1}const j=Object.entries(b).map(([k,N])=>({platform:k,avgRoi:+(N.roiSum/N.count).toFixed(2),spend:N.spend,leads:N.leads})),S=j.sort((k,N)=>N.avgRoi-k.avgRoi)[0];return{entries:j,best:S}},[u]),g=w.useMemo(()=>u.filter(b=>b.roi<1||b.cpl>30).slice(0,3),[u]),v=w.useMemo(()=>{const b=[];m.best&&b.push(` Boost budget on ${m.best.platform}  avg ROI ${m.best.avgRoi}`);for(const j of g)j.roi<1&&b.push(` Optimize ${j.name} (${j.platform}): ROI ${j.roi} < 1`),j.cpl>30&&b.push(` Reduce CPL for ${j.name}: CPL ${j.cpl}`);return b.length===0&&b.push(" All campaigns performing within targets"),b},[m,g]);return r.jsxs("div",{id:"report-root",className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-2xl font-semibold",children:e("Campaign Summary")}),r.jsxs("div",{className:`flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[r.jsxs("button",{onClick:f,className:"btn btn-primary px-3 py-2 rounded-md border",children:[r.jsx("span",{className:"mr-2",children:""})," ",e("Export Excel")]}),r.jsxs("button",{onClick:x,className:"btn btn-ghost px-3 py-2 rounded-md border",children:[r.jsx("span",{className:"mr-2",children:""})," ",e("Google Sheets CSV")]})]})]}),r.jsx("div",{className:"h-6","aria-hidden":"true"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-3 justify-items-start",children:r.jsx("div",{className:"px-3 py-2 rounded-lg border bg-[var(--dropdown-bg)] w-full sm:w-[280px] md:w-[360px]",children:r.jsx("input",{value:o,onChange:b=>c(b.target.value),placeholder:e("Search by Campaign or Source"),className:"bg-transparent outline-none text-sm w-full"})})}),r.jsx(iN,{startDate:s,endDate:i,onChange:({startDate:b,endDate:j})=>{n(b),l(j)},className:"mt-2"}),r.jsx("div",{className:"h-6","aria-hidden":"true"}),r.jsxs("section",{className:"glass-panel p-4",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Overview by Campaign")}),r.jsx("div",{className:"overflow-auto -mx-4",children:r.jsxs("table",{className:"w-full text-sm min-w-[1000px]",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left opacity-70",children:[r.jsx("th",{className:"px-4 py-2",children:e("Campaign Name")}),r.jsx("th",{className:"px-4 py-2",children:e("Platform")}),r.jsxs("th",{className:"px-4 py-2",children:[" ",e("Spend")]}),r.jsxs("th",{className:"px-4 py-2",children:[" ",e("Impressions")]}),r.jsx("th",{className:"px-4 py-2",children:e("Clicks")}),r.jsxs("th",{className:"px-4 py-2",children:[e("CTR")," %"]}),r.jsx("th",{className:"px-4 py-2",children:e("CPC")}),r.jsx("th",{className:"px-4 py-2",children:e("Leads Generated")}),r.jsx("th",{className:"px-4 py-2",children:e("CPL")}),r.jsx("th",{className:"px-4 py-2",children:e("Qualified Leads %")}),r.jsx("th",{className:"px-4 py-2",children:e("ROI")})]})}),r.jsx("tbody",{children:u.map(b=>r.jsxs("tr",{className:"border-t",children:[r.jsx("td",{className:"px-4 py-2 font-medium",children:b.name}),r.jsx("td",{className:"px-4 py-2",children:b.platform}),r.jsxs("td",{className:"px-4 py-2",children:["$",b.spend.toLocaleString()]}),r.jsx("td",{className:"px-4 py-2",children:b.impressions.toLocaleString()}),r.jsx("td",{className:"px-4 py-2",children:b.clicks.toLocaleString()}),r.jsxs("td",{className:"px-4 py-2",children:[b.ctr,"%"]}),r.jsxs("td",{className:"px-4 py-2",children:["$",b.cpc]}),r.jsx("td",{className:"px-4 py-2",children:b.leads}),r.jsxs("td",{className:"px-4 py-2",children:["$",b.cpl]}),r.jsxs("td",{className:"px-4 py-2",children:[b.qualifiedPct,"%"]}),r.jsxs("td",{className:"px-4 py-2",children:[b.roi,"x"]})]},b.name))})]})})]}),r.jsx("div",{className:"h-6","aria-hidden":"true"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("section",{className:"glass-panel p-4",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Spend vs ROI")}),r.jsx("div",{style:{height:"240px"},children:r.jsx(Ls,{data:{labels:u.map(b=>b.name),datasets:[{label:e("Spend"),data:u.map(b=>b.spend),backgroundColor:"#2563eb",borderRadius:6,yAxisID:"y"},{label:e("ROI"),data:u.map(b=>b.roi),type:"line",borderColor:"#22c55e",backgroundColor:"rgba(34,197,94,0.25)",tension:.3,yAxisID:"y1"}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{position:"left",grid:{display:!1}},y1:{position:"right",grid:{display:!1}}},plugins:{legend:{position:"bottom"}}}})})]}),r.jsxs("section",{className:"glass-panel p-4",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Clicks vs CTR")}),r.jsx("div",{style:{height:"240px"},children:r.jsx(Ls,{data:{labels:u.map(b=>b.name),datasets:[{label:e("Clicks"),data:u.map(b=>b.clicks),backgroundColor:"#8b5cf6",borderRadius:6,yAxisID:"y"},{label:e("CTR %"),data:u.map(b=>b.ctr),type:"line",borderColor:"#f59e0b",backgroundColor:"rgba(245,158,11,0.25)",tension:.3,yAxisID:"y1"}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{position:"left",grid:{display:!1}},y1:{position:"right",grid:{display:!1}}},plugins:{legend:{position:"bottom"}}}})})]}),r.jsxs("section",{className:"glass-panel p-4",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Leads vs Qualified Leads %")}),r.jsx("div",{style:{height:"240px"},children:r.jsx(Ls,{data:{labels:u.map(b=>b.name),datasets:[{label:e("Leads"),data:u.map(b=>b.leads),backgroundColor:"#22c55e",borderRadius:6,yAxisID:"y"},{label:e("Qualified %"),data:u.map(b=>b.qualifiedPct),type:"line",borderColor:"#2563eb",backgroundColor:"rgba(37,99,235,0.25)",tension:.3,yAxisID:"y1"}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{position:"left",grid:{display:!1}},y1:{position:"right",grid:{display:!1}}},plugins:{legend:{position:"bottom"}}}})})]}),r.jsx("div",{className:"col-span-1 md:col-span-3 h-6","aria-hidden":"true"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("section",{className:"glass-panel p-4",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("Best Performing Platform")}),m.best?r.jsxs("div",{className:"text-sm",children:[r.jsx("div",{className:"font-medium",children:m.best.platform}),r.jsxs("div",{className:"mt-1",children:[" Avg ROI: ",r.jsxs("span",{className:"font-semibold",children:[m.best.avgRoi,"x"]})]}),r.jsxs("div",{className:"mt-1",children:[" Spend: $",m.best.spend.toLocaleString()]}),r.jsxs("div",{className:"mt-1",children:[" Leads: ",m.best.leads]})]}):r.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("No data")})]}),r.jsxs("section",{className:"glass-panel p-4",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("Campaigns Needing Improvement")}),r.jsxs("ul",{className:"space-y-1 text-sm",children:[g.map(b=>r.jsxs("li",{children:[" ",b.name,"  ROI ",b.roi,"x, CPL $",b.cpl]},b.name)),g.length===0&&r.jsx("li",{className:"text-[var(--muted-text)]",children:e("None")})]})]}),r.jsxs("section",{className:"glass-panel p-4",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("Recommendations")}),r.jsx("ul",{className:"space-y-1 text-sm",children:v.map((b,j)=>r.jsx("li",{children:b},j))})]})]})]})}Sr.register(Cn,An,$n,rn,an);function C6e({sources:e,height:t=260,stacked:a=!0,horizontal:s=!1,showLeads:n=!0,showConverted:i=!0,subtitle:l="Last 30 Days",normalize:o=!1}){const{t:c}=Dt(),d=e?.map(A=>A.source)||["Facebook","Google Ads","Referral","Email"],u=e?.map(A=>A.leads)||[500,300,150,100],x=(e?.map(A=>A.converted)||[120,110,80,40]).map((A,_)=>Math.min(A,u[_])),m=u.map((A,_)=>Math.max(0,A-(x[_]||0))),g=u.map((A,_)=>A>0?x[_]/A*100:0),v=u.map((A,_)=>A>0?(A-x[_])/A*100:0),j=typeof document<"u"&&document.documentElement.classList.contains("dark")?"#e5e7eb":"#374151",S=[];n&&S.push({label:c("Unconverted"),data:o?v:m,backgroundColor:"rgba(99, 102, 241, 0.85)",borderRadius:6,stack:a?"leads":void 0,order:1}),i&&S.push({label:c("Converted"),data:o?g:x,backgroundColor:"rgba(14, 165, 233, 0.7)",borderRadius:6,stack:a?"leads":void 0,order:2});const k={labels:d,datasets:S},N={responsive:!0,maintainAspectRatio:!1,indexAxis:s?"y":"x",scales:{x:{grid:{display:!1},ticks:{color:j,font:{size:12}},stacked:a},y:{grid:{display:!1},ticks:{color:j,font:{size:12},callback:o?A=>`${A}%`:void 0},stacked:a,min:0,max:o?100:void 0}},plugins:{legend:{display:!0,labels:{color:j}},tooltip:{mode:"index",intersect:!1,callbacks:{title:A=>d[A[0].dataIndex],beforeBody:A=>{const _=A[0].dataIndex;return`${c("Total Leads")}: ${u[_].toLocaleString()}`},label:A=>{const _=A.dataIndex,D=u[_];if(A.dataset.label===c("Converted")){const B=x[_],O=D>0?B/D*100:0;return`${c("Converted")}: ${B.toLocaleString()} (${O.toFixed(1)}%)`}const P=m[_],I=D>0?P/D*100:0;return`${c("Unconverted")}: ${P.toLocaleString()} (${I.toFixed(1)}%)`},footer:A=>{const _=A[0].dataIndex,D=u[_],P=x[_],I=D>0?P/D*100:0;return`${c("Conversion Rate")}: ${I.toFixed(1)}%`}}}}};return r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-3 text-transparent bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 bg-clip-text",children:c("Lead Source Performance")}),r.jsx("div",{style:{height:typeof t=="number"?`${t}px`:t},children:r.jsx(Ls,{data:k,options:N})}),r.jsx("div",{className:"mt-3 text-xs text-[var(--muted-text)] dark:text-blue-200",children:c(l)})]})}function A6e(){const{t:e}=Dt(),t=[{source:"Facebook",leads:500,converted:120,revenue:9e4},{source:"Google Ads",leads:300,converted:110,revenue:11e4},{source:"Referral",leads:150,converted:80,revenue:13e4},{source:"Email",leads:100,converted:40,revenue:3e4}],[a,s]=w.useState("Leads"),[n,i]=w.useState(!0),[l,o]=w.useState(!0),[c,d]=w.useState(!1),[u,f]=w.useState(!0),[x,m]=w.useState(!0),[g,v]=w.useState(""),[b,j]=w.useState("2024-01-01"),[S,k]=w.useState("2024-03-31"),[N,A]=w.useState("Last 30 Days"),[_,D]=w.useState(t.map(V=>V.source)),[P,I]=w.useState(!1),[B,O]=w.useState(t.length),U=w.useMemo(()=>{const V=J=>J.leads>0?Math.min(J.converted,J.leads)/J.leads:0;let Z=t.filter(J=>_.includes(J.source));return g&&(Z=Z.filter(J=>J.source.toLowerCase().includes(g.toLowerCase()))),Z=Z.slice().sort((J,ee)=>{if(a==="Conversion Rate")return n?V(ee)-V(J):V(J)-V(ee);const W=a==="Leads"?"leads":a==="Converted"?"converted":"revenue";return n?ee[W]-J[W]:J[W]-ee[W]}),B&&B>0&&(Z=Z.slice(0,Math.min(B,Z.length))),Z},[t,_,g,a,n,B]),E=U.reduce((V,Z)=>V+Z.leads,0),R=V=>{D(Z=>Z.includes(V)?Z.filter(J=>J!==V):[...Z,V])},K=()=>{const V=["Source","Leads","Converted","Revenue"],Z=U.map(M=>[M.source,M.leads,M.converted,M.revenue]),J=[V.join(","),...Z.map(M=>M.join(","))].join(`
`),ee=new Blob([J],{type:"text/csv;charset=utf-8;"}),W=URL.createObjectURL(ee),le=document.createElement("a");le.href=W,le.download="lead-source-performance.csv",le.click(),URL.revokeObjectURL(W)};return r.jsxs("div",{className:"space-y-6 bg-transparent text-[var(--content-text)]",children:[r.jsx("h1",{className:"text-2xl font-semibold",children:e("Lead Source Performance")}),r.jsxs("div",{className:"card glass-card p-4",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"rounded-lg ring-1 ring-gray-200 dark:ring-gray-800 p-3",children:[r.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mb-2",children:e("Sorting")}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"label",children:e("Time Range")}),r.jsxs(Xa,{value:N,onChange:V=>A(V),children:[r.jsx("option",{value:"Last 30 Days",children:e("Last 30 Days")}),r.jsx("option",{value:"Last Quarter",children:e("Last Quarter")}),r.jsx("option",{value:"Last Year",children:e("Last Year")})]})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"label",children:e("Sort By")}),r.jsxs(Xa,{value:a,onChange:V=>s(V),children:[r.jsx("option",{value:"Leads",children:e("Leads")}),r.jsx("option",{value:"Converted",children:e("Converted")}),r.jsx("option",{value:"Revenue",children:e("Revenue")}),r.jsx("option",{value:"Conversion Rate",children:e("Conversion Rate")})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{id:"desc",type:"checkbox",checked:n,onChange:V=>i(V.target.checked)}),r.jsx("label",{htmlFor:"desc",className:"text-sm",children:e("Descending")})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"text-sm",htmlFor:"topN",children:e("Top N")}),r.jsx("input",{id:"topN",className:"input w-20",type:"number",min:"1",max:t.length,value:B,onChange:V=>O(Number(V.target.value))})]})]})]}),r.jsxs("div",{className:"rounded-lg ring-1 ring-gray-200 dark:ring-gray-800 p-3",children:[r.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mb-2",children:e("Chart")}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{id:"stacked",type:"checkbox",checked:l,onChange:V=>o(V.target.checked)}),r.jsx("label",{htmlFor:"stacked",className:"text-sm",children:e("Stacked")})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{id:"normalize",type:"checkbox",checked:P,onChange:V=>I(V.target.checked)}),r.jsx("label",{htmlFor:"normalize",className:"text-sm",children:e("100% Stacked")})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{id:"horizontal",type:"checkbox",checked:c,onChange:V=>d(V.target.checked)}),r.jsx("label",{htmlFor:"horizontal",className:"text-sm",children:e("Horizontal")})]})]})]}),r.jsxs("div",{className:"rounded-lg ring-1 ring-gray-200 dark:ring-gray-800 p-3",children:[r.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mb-2",children:e("Display")}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-indigo-500"}),r.jsx("input",{id:"showLeads",type:"checkbox",checked:u,onChange:V=>f(V.target.checked)}),r.jsx("label",{htmlFor:"showLeads",className:"text-sm",children:e("Show Unconverted")})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-sky-500"}),r.jsx("input",{id:"showConverted",type:"checkbox",checked:x,onChange:V=>m(V.target.checked)}),r.jsx("label",{htmlFor:"showConverted",className:"text-sm",children:e("Show Converted")})]})]})]})]}),r.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"label",children:e("Search")}),r.jsx("input",{className:"input",value:g,onChange:V=>v(V.target.value),placeholder:e("Search source...")})]}),r.jsx("div",{className:"flex md:justify-end",children:r.jsx("button",{className:"btn btn-outline",onClick:K,children:e("Export CSV")})})]}),r.jsx(iN,{startDate:b,endDate:S,onChange:({startDate:V,endDate:Z})=>{j(V),k(Z)},className:"mt-2"}),r.jsxs("div",{className:"mt-4 rounded-lg ring-1 ring-gray-200 dark:ring-gray-800 p-3",children:[r.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mb-2",children:e("Sources")}),r.jsx("div",{className:"flex flex-wrap gap-3",children:t.map(V=>r.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:_.includes(V.source),onChange:()=>R(V.source)}),r.jsx("span",{children:V.source})]},V.source))})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx("div",{className:"card glass-card p-4 md:col-span-2",children:r.jsxs("table",{className:"nova-table w-full text-sm min-w-[520px]",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left text-gray-600 dark:text-gray-300",children:[r.jsx("th",{className:"py-2 pr-4",children:e("Source")}),r.jsx("th",{className:"py-2 pr-4",children:e("Leads")}),r.jsx("th",{className:"py-2 pr-4",children:e("Converted")}),r.jsx("th",{className:"py-2 pr-4",children:e("Conversion Rate")}),r.jsx("th",{className:"py-2 pr-4",children:e("Revenue")})]})}),r.jsx("tbody",{className:"text-gray-800 dark:text-gray-100",children:U.map(V=>r.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-800",children:[r.jsx("td",{className:"py-2 pr-4",children:V.source}),r.jsx("td",{className:"py-2 pr-4",children:V.leads.toLocaleString()}),r.jsx("td",{className:"py-2 pr-4",children:V.converted.toLocaleString()}),r.jsxs("td",{className:"py-2 pr-4",children:[(Math.min(V.converted,V.leads)/(V.leads||1)*100).toFixed(1),"%"]}),r.jsxs("td",{className:"py-2 pr-4",children:["$",V.revenue.toLocaleString()]})]},V.source))})]})}),r.jsx("div",{className:"card glass-card p-6 flex flex-col items-start justify-between",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-semibold mb-1",children:e("Total Leads")}),r.jsx("div",{className:"text-5xl font-extrabold tracking-tight",children:E.toLocaleString()})]})})]}),r.jsx("div",{className:"card glass-card p-4",children:r.jsx(C6e,{sources:U,height:280,stacked:l,horizontal:c,showLeads:u,showConverted:x,subtitle:N,normalize:P})})]})}Sr.register(Cn,An,$n,rn,an);function _6e(){const{t:e,i18n:t}=Dt(),a=(t?.language||"").toLowerCase().startsWith("ar"),[s,n]=w.useState("2024-01-01"),[i,l]=w.useState("2024-03-31"),[o,c]=w.useState(""),d=w.useMemo(()=>[{platform:"Facebook",cost:580,revenue:1860},{platform:"Google Ads",cost:450,revenue:720},{platform:"Instagram",cost:420,revenue:540}],[]),u=w.useMemo(()=>d.filter(N=>N.platform.toLowerCase().includes(o.toLowerCase())),[d,o]),f=w.useMemo(()=>{const N=u.reduce((_,D)=>_+D.cost,0),A=u.reduce((_,D)=>_+D.revenue,0);return{totalCost:N,totalRevenue:A}},[u]),x=()=>{const N=Jt.json_to_sheet(u),A=[{"Total Cost (EGP)":f.totalCost,"Total Revenue (EGP)":f.totalRevenue,"ROI (x)":f.totalCost?f.totalRevenue/f.totalCost:0}],_=Jt.json_to_sheet(A),D=[{"Start Date":s,"End Date":i,Query:o||"","Rows Exported":u.length,"Exported At":new Date().toISOString()}],P=Jt.json_to_sheet(D),I=Jt.book_new();Jt.book_append_sheet(I,N,"Platforms"),Jt.book_append_sheet(I,_,"Totals"),Jt.book_append_sheet(I,P,"Metadata");const B=`cost-vs-revenue_${s}_to_${i}.xlsx`;gs(I,B)},m=()=>{const N=document.getElementById("report-root")?.innerHTML||"",A=window.open("","PRINT","height=800,width=1000");A&&(A.document.write(`<html><head><title>${e("Cost vs Revenue by Platform")}</title></head><body>${N}</body></html>`),A.document.close(),A.focus(),A.print())},v=typeof document<"u"&&document.documentElement.classList.contains("dark")?"#e5e7eb":"#374151",b=u.map(N=>N.platform),j={labels:b,datasets:[{label:e("Cost"),data:u.map(N=>N.cost),backgroundColor:"rgba(99, 102, 241, 0.85)",borderRadius:6},{label:e("Revenue"),data:u.map(N=>N.revenue),backgroundColor:"rgba(14, 165, 233, 0.85)",borderRadius:6}]},S={responsive:!0,maintainAspectRatio:!1,scales:{x:{grid:{display:!1},ticks:{color:v}},y:{grid:{display:!1},ticks:{color:v}}},plugins:{legend:{labels:{color:v}}}},k={labels:b,datasets:[{label:e("ROI (x)"),data:u.map(N=>N.cost?N.revenue/N.cost:0),backgroundColor:"rgba(34, 197, 94, 0.85)",borderRadius:6}]};return r.jsx(aa,{children:r.jsxs("div",{id:"report-root",className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-2xl font-semibold",children:e("Cost vs Revenue by Platform")}),r.jsxs("div",{className:`flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[r.jsxs("button",{onClick:m,"aria-label":e("Export PDF"),className:"group inline-flex items-center gap-2 px-3 py-2 rounded-full border border-[var(--panel-border)] bg-[var(--dropdown-bg)] hover:bg-[var(--dropdown-bg)]/80 shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400 dark:focus-visible:ring-indigo-300",children:[r.jsx(KU,{className:"text-red-500"}),r.jsx("span",{className:"font-medium",children:e("Export PDF")})]}),r.jsxs("button",{onClick:x,"aria-label":e("Export Excel"),className:"group inline-flex items-center gap-2 px-3 py-2 rounded-full border border-[var(--panel-border)] bg-[var(--dropdown-bg)] hover:bg-[var(--dropdown-bg)]/80 shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-400 dark:focus-visible:ring-emerald-300",children:[r.jsx(GU,{className:"text-emerald-500"}),r.jsx("span",{className:"font-medium",children:e("Export Excel")})]})]})]}),r.jsx("div",{className:"h-6","aria-hidden":"true"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:r.jsx("div",{className:"px-3 py-2 rounded-lg border bg-[var(--dropdown-bg)]",children:r.jsx("input",{value:o,onChange:N=>c(N.target.value),placeholder:e("Search by Campaign or Source"),className:"bg-transparent outline-none text-sm w-full"})})}),r.jsx("div",{className:"h-4","aria-hidden":"true"}),r.jsx(iN,{startDate:s,endDate:i,onChange:({startDate:N,endDate:A})=>{n(N),l(A)},className:"mt-2"}),r.jsx("div",{className:"px-3 py-2 rounded-lg border bg-[var(--dropdown-bg)]",children:r.jsxs("div",{className:`flex flex-wrap items-center gap-2 text-sm ${a?"flex-row-reverse":""}`,children:[r.jsxs("span",{className:"opacity-70",children:[e("Date Range"),":"]}),r.jsx("span",{className:"px-2 py-1 rounded-md bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-100 border border-gray-200 dark:border-gray-600",children:s}),r.jsx("span",{className:"opacity-60",children:""}),r.jsx("span",{className:"px-2 py-1 rounded-md bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-100 border border-gray-200 dark:border-gray-600",children:i}),r.jsxs("span",{className:`opacity-70 ${a?"mr-0 ml-3":"ml-3"}`,children:[e("Platforms"),":"]}),u.map(N=>r.jsx("span",{className:"px-2 py-1 rounded-full bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border border-blue-200 dark:border-blue-700",children:N.platform},N.platform))]})}),r.jsxs("section",{className:"glass-panel p-4",children:[r.jsxs("div",{className:`flex items-center gap-2 mb-3 ${a?"flex-row-reverse":""}`,children:[r.jsx("div",{className:`${a?"border-r-4":"border-l-4"} border-primary h-full`}),r.jsx("h3",{className:`${a?"text-right":""} text-lg font-semibold`,children:e("Platform Performance")})]}),r.jsx("div",{className:"overflow-auto -mx-4",children:r.jsxs("table",{className:"w-full text-sm min-w-[860px]",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left opacity-70",children:[r.jsx("th",{className:"px-4 py-2",children:e("Platform")}),r.jsxs("th",{className:"px-4 py-2",children:[" ",e("Spend")," (EGP)"]}),r.jsxs("th",{className:"px-4 py-2",children:[" ",e("Revenue")," (EGP)"]}),r.jsx("th",{className:"px-4 py-2",children:e("ROI")}),r.jsx("th",{className:"px-4 py-2",children:e("Profit / Loss")}),r.jsx("th",{className:"px-4 py-2",children:e("Cost %")}),r.jsx("th",{className:"px-4 py-2",children:e("Revenue %")})]})}),r.jsx("tbody",{children:u.map(N=>{const A=N.cost?N.revenue/N.cost:0,_=N.revenue-N.cost,D=f.totalCost?N.cost/f.totalCost*100:0,P=f.totalRevenue?N.revenue/f.totalRevenue*100:0;return r.jsxs("tr",{className:"border-t",children:[r.jsx("td",{className:"px-4 py-2 font-medium",children:N.platform}),r.jsxs("td",{className:"px-4 py-2",children:[N.cost.toLocaleString()," EGP"]}),r.jsxs("td",{className:"px-4 py-2",children:[N.revenue.toLocaleString()," EGP"]}),r.jsxs("td",{className:"px-4 py-2",children:[A.toFixed(1),"x"]}),r.jsxs("td",{className:`px-4 py-2 ${_>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[_>=0?"+":"",_.toLocaleString()," EGP"]}),r.jsxs("td",{className:"px-4 py-2",children:[D.toFixed(0),"%"]}),r.jsxs("td",{className:"px-4 py-2",children:[P.toFixed(0),"%"]})]},N.platform)})}),r.jsx("tfoot",{children:r.jsxs("tr",{className:"border-t font-semibold",children:[r.jsx("td",{className:"px-4 py-2",children:e("Total")}),r.jsxs("td",{className:"px-4 py-2",children:[f.totalCost.toLocaleString()," EGP"]}),r.jsxs("td",{className:"px-4 py-2",children:[f.totalRevenue.toLocaleString()," EGP"]}),r.jsxs("td",{className:"px-4 py-2",children:[(f.totalCost?f.totalRevenue/f.totalCost:0).toFixed(1),"x"]}),r.jsxs("td",{className:`px-4 py-2 ${f.totalRevenue-f.totalCost>=0?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:[f.totalRevenue-f.totalCost>=0?"+":"",(f.totalRevenue-f.totalCost).toLocaleString()," EGP"]}),r.jsx("td",{className:"px-4 py-2",children:"100%"}),r.jsx("td",{className:"px-4 py-2",children:"100%"})]})})]})})]}),r.jsx("div",{className:"h-6","aria-hidden":"true"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("section",{className:"glass-panel p-4",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Cost vs Revenue")}),r.jsx("div",{style:{height:"280px"},children:r.jsx(Ls,{data:j,options:S})}),r.jsx("div",{className:"mt-3 text-xs text-[var(--muted-text)]",children:e("Last 30 Days")})]}),r.jsxs("section",{className:"glass-panel p-4",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("ROI Comparison")}),r.jsx("div",{style:{height:"280px"},children:r.jsx(Ls,{data:k,options:S})}),r.jsx("div",{className:"mt-3 text-xs text-[var(--muted-text)]",children:e("Last 30 Days")})]})]}),r.jsx("div",{className:"h-6","aria-hidden":"true"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("section",{className:"glass-panel p-4",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("Best ROI Platform")}),(()=>{const N=u.map(A=>({...A,roi:A.cost?A.revenue/A.cost:0})).sort((A,_)=>_.roi-A.roi)[0];return N?r.jsxs("div",{className:"text-sm",children:[r.jsx("div",{className:"font-medium",children:N.platform}),r.jsxs("div",{className:"mt-1",children:["ROI: ",r.jsxs("span",{className:"font-semibold",children:[N.roi.toFixed(1),"x"]})]}),r.jsxs("div",{className:"mt-1",children:["Spend: ",N.cost.toLocaleString()," EGP"]}),r.jsxs("div",{className:"mt-1",children:["Revenue: ",N.revenue.toLocaleString()," EGP"]})]}):r.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("No data")})})()]}),r.jsxs("section",{className:"glass-panel p-4",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("Highest Revenue Contributor")}),(()=>{const N=u.map(A=>({...A,revenuePct:f.totalRevenue?A.revenue/f.totalRevenue:0})).sort((A,_)=>_.revenue-A.revenue)[0];return N?r.jsxs("div",{className:"text-sm",children:[r.jsx("div",{className:"font-medium",children:N.platform}),r.jsxs("div",{className:"mt-1",children:["Revenue: ",N.revenue.toLocaleString()," EGP"]}),r.jsxs("div",{className:"mt-1",children:["Contribution: ",(N.revenuePct*100).toFixed(0),"%"]})]}):r.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("No data")})})()]}),r.jsxs("section",{className:"glass-panel p-4",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("Recommendations")}),r.jsx("ul",{className:"text-sm space-y-1",children:u.map(N=>{const A=N.cost?N.revenue/N.cost:0,_=N.revenue-N.cost;return A>=2?r.jsxs("li",{children:[" ",e("Consider increasing budget for")," ",N.platform," (",A.toFixed(1),"x)"]},`rec-${N.platform}`):_<0?r.jsxs("li",{children:[" ",e("Reduce spend or optimize")," ",N.platform," (",_.toLocaleString()," EGP)"]},`rec-${N.platform}`):r.jsxs("li",{children:[" ",e("Monitor performance and test creatives for")," ",N.platform]},`rec-${N.platform}`)})})]})]})]})})}Sr.register(Cn,An,$n,xl,ai,Em,rn,an);function T6e(){const{t:e,i18n:t}=Dt(),a=t?.dir?.()==="rtl",[s,n]=w.useState("2025-11-01"),[i,l]=w.useState("2025-11-30"),[o,c]=w.useState(""),d="November 2025",u=w.useMemo(()=>({spend:1450,impressions:98e3,clicks:2700,leads:240,qualifiedPct:42,revenue:3100}),[]),f=w.useMemo(()=>u.impressions?u.clicks/u.impressions*100:0,[u]),x=w.useMemo(()=>u.clicks?u.spend/u.clicks:0,[u]),m=w.useMemo(()=>u.leads?u.spend/u.leads:0,[u]),g=w.useMemo(()=>u.spend?u.revenue/u.spend:0,[u]),v=w.useMemo(()=>({spend:1320,revenue:2800,leads:210,impressions:9e4,clicks:2500}),[]),b=w.useMemo(()=>[{platform:"Facebook",spend:580,leads:120,revenue:1860},{platform:"Google Ads",spend:450,leads:80,revenue:720},{platform:"Instagram",spend:420,leads:40,revenue:520}],[]),j=typeof document<"u"&&document.documentElement.classList.contains("dark"),S=j?"#e5e7eb":"#374151",k={labels:["Week 1","Week 2","Week 3","Week 4"],datasets:[{label:e("Spend"),data:[320,360,370,400],borderColor:"#6366f1",backgroundColor:"rgba(99,102,241,0.25)",tension:.3,fill:!0},{label:e("Revenue"),data:[700,760,780,860],borderColor:"#14b8a6",backgroundColor:"rgba(20,184,166,0.25)",tension:.3,fill:!0}]},N={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:S}}},scales:{x:{ticks:{color:S},grid:{display:!1}},y:{ticks:{color:S},grid:{display:!1}}}},A={labels:b.map(O=>O.platform),datasets:[{label:e("Leads"),data:b.map(O=>O.leads),backgroundColor:["#2563eb","#06b6d4","#22c55e"],borderRadius:6}]},_={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:S}}},scales:{x:{ticks:{color:S},grid:{display:!1}},y:{ticks:{color:S},grid:{display:!1}}}},D={labels:b.map(O=>O.platform),datasets:[{label:e("Spend"),data:b.map(O=>O.spend),backgroundColor:["#2563eb","#06b6d4","#22c55e"],borderColor:j?"#1f2937":"#ffffff",borderWidth:1}]},P={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{color:S}}}},I=()=>{const O=[{Month:d,Spend:u.spend,Impressions:u.impressions,Clicks:u.clicks,CTR:`${f.toFixed(1)}%`,AvgCPC:`${x.toFixed(2)} EGP`,Leads:u.leads,AvgCPL:`${m.toFixed(2)} EGP`,QualifiedPct:`${u.qualifiedPct}%`,Revenue:u.revenue,ROI:`${g.toFixed(1)}x`}],U=Jt.json_to_sheet(O),E=Jt.book_new();Jt.book_append_sheet(E,U,"MonthlyOverview"),gs(E,"monthly-marketing-overview.xlsx")},B=()=>{const O=document.getElementById("report-root")?.innerHTML||"",U=window.open("","PRINT","height=800,width=1000");U&&(U.document.write(`<html><head><title>${e("Monthly Marketing Overview")}</title></head><body>${O}</body></html>`),U.document.close(),U.focus(),U.print())};return r.jsxs("div",{id:"report-root",className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-2xl font-semibold",children:e("Monthly Marketing Overview")}),r.jsxs("div",{className:`flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[r.jsxs("button",{onClick:B,"aria-label":e("Export PDF"),className:"group inline-flex items-center gap-2 px-3 py-2 rounded-full border border-[var(--panel-border)] bg-[var(--dropdown-bg)] hover:bg-[var(--dropdown-bg)]/80 shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400 dark:focus-visible:ring-indigo-300",children:[r.jsx(KU,{className:"text-red-500"}),r.jsx("span",{className:"font-medium",children:e("Export PDF")})]}),r.jsxs("button",{onClick:I,"aria-label":e("Export Excel"),className:"group inline-flex items-center gap-2 px-3 py-2 rounded-full border border-[var(--panel-border)] bg-[var(--dropdown-bg)] hover:bg-[var(--dropdown-bg)]/80 shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-400 dark:focus-visible:ring-emerald-300",children:[r.jsx(GU,{className:"text-emerald-500"}),r.jsx("span",{className:"font-medium",children:e("Export Excel")})]})]})]}),r.jsx("div",{className:"h-6","aria-hidden":"true"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:r.jsx("div",{className:"px-3 py-2 rounded-lg border bg-[var(--dropdown-bg)]",children:r.jsx("input",{value:o,onChange:O=>c(O.target.value),placeholder:e("Search by Campaign or Source"),className:"bg-transparent outline-none text-sm w-full"})})}),r.jsx("div",{className:"h-6","aria-hidden":"true"}),r.jsx(iN,{startDate:s,endDate:i,onChange:({startDate:O,endDate:U})=>{n(O),l(U)}}),r.jsx("div",{className:"mt-3 px-3 py-2 rounded-lg border bg-[var(--dropdown-bg)]",children:r.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm",children:[r.jsxs("span",{className:"opacity-70",children:[e("Date Range"),":"]}),r.jsx("span",{className:"px-2 py-1 rounded-md bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-100 border border-gray-200 dark:border-gray-600",children:s}),r.jsx("span",{className:"opacity-60",children:""}),r.jsx("span",{className:"px-2 py-1 rounded-md bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-100 border border-gray-200 dark:border-gray-600",children:i})]})}),r.jsxs("section",{className:"glass-panel p-4",children:[r.jsxs("div",{className:`flex items-center gap-2 mb-3 ${a?"flex-row-reverse":""}`,children:[r.jsx("div",{className:`${a?"border-r-4":"border-l-4"} border-primary h-full`}),r.jsx("h3",{className:`${a?"text-right":""} text-lg font-semibold`,children:e("Monthly Summary")})]}),r.jsx("div",{children:r.jsxs("table",{className:"w-full table-fixed text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left opacity-70",children:[r.jsx("th",{className:"px-4 py-2",children:e("Month")}),r.jsxs("th",{className:"px-4 py-2",children:[" ",e("Total Spend")]}),r.jsxs("th",{className:"px-4 py-2",children:[" ",e("Impressions")]}),r.jsxs("th",{className:"px-4 py-2",children:[e("Clicks")," / ",e("CTR")]}),r.jsx("th",{className:"px-4 py-2",children:e("Avg. CPC")}),r.jsx("th",{className:"px-4 py-2",children:e("Leads")}),r.jsx("th",{className:"px-4 py-2",children:e("Avg. CPL")}),r.jsx("th",{className:"px-4 py-2",children:e("Qualified Leads %")}),r.jsxs("th",{className:"px-4 py-2",children:[" ",e("Revenue")]}),r.jsx("th",{className:"px-4 py-2",children:e("ROI")})]})}),r.jsx("tbody",{children:r.jsxs("tr",{className:"border-t",children:[r.jsx("td",{className:"px-4 py-2 font-medium",children:d}),r.jsxs("td",{className:"px-4 py-2",children:[u.spend.toLocaleString()," EGP"]}),r.jsx("td",{className:"px-4 py-2",children:u.impressions.toLocaleString()}),r.jsxs("td",{className:"px-4 py-2",children:[u.clicks.toLocaleString()," / ",f.toFixed(1),"%"]}),r.jsxs("td",{className:"px-4 py-2",children:[x.toFixed(2)," EGP"]}),r.jsx("td",{className:"px-4 py-2",children:u.leads.toLocaleString()}),r.jsxs("td",{className:"px-4 py-2",children:[m.toFixed(2)," EGP"]}),r.jsxs("td",{className:"px-4 py-2",children:[u.qualifiedPct,"%"]}),r.jsxs("td",{className:"px-4 py-2",children:[u.revenue.toLocaleString()," EGP"]}),r.jsxs("td",{className:"px-4 py-2",children:[g.toFixed(1),"x"]})]})}),r.jsx("tfoot",{children:r.jsx("tr",{className:"border-t text-xs text-[var(--muted-text)]",children:r.jsxs("td",{className:"px-4 py-2",colSpan:10,children:[e("Month-over-Month"),": ",e("Spend")," ",u.spend>=v.spend?"":""," ",Math.abs(u.spend-v.spend)," EGP, ",e("Revenue")," ",u.revenue>=v.revenue?"":""," ",Math.abs(u.revenue-v.revenue)," EGP, ",e("Leads")," ",u.leads>=v.leads?"":""," ",Math.abs(u.leads-v.leads)]})})})]})})]}),r.jsx("div",{className:"h-6","aria-hidden":"true"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("section",{className:"glass-panel p-4 md:col-span-2",children:[r.jsxs("div",{className:`flex items-center gap-2 mb-3 ${a?"flex-row-reverse":""}`,children:[r.jsx("div",{className:`${a?"border-r-4":"border-l-4"} border-primary h-full`}),r.jsx("h3",{className:`${a?"text-right":""} text-lg font-semibold`,children:e("Spend vs Revenue Trend")})]}),r.jsx("div",{style:{height:"280px"},children:r.jsx(no,{data:k,options:N})}),r.jsx("div",{className:"mt-3 text-xs text-[var(--muted-text)]",children:e("November Weekly")})]}),r.jsxs("section",{className:"glass-panel p-4",children:[r.jsxs("div",{className:`flex items-center gap-2 mb-3 ${a?"flex-row-reverse":""}`,children:[r.jsx("div",{className:`${a?"border-r-4":"border-l-4"} border-primary h-full`}),r.jsx("h3",{className:`${a?"text-right":""} text-lg font-semibold`,children:e("Leads by Platform")})]}),r.jsx("div",{style:{height:"280px"},children:r.jsx(Ls,{data:A,options:_})}),r.jsx("div",{className:"mt-3 text-xs text-[var(--muted-text)]",children:e("Platform Contribution")})]})]}),r.jsx("div",{className:"h-6","aria-hidden":"true"}),r.jsxs("section",{className:"glass-panel p-4",children:[r.jsxs("div",{className:`flex items-center gap-2 mb-3 ${a?"flex-row-reverse":""}`,children:[r.jsx("div",{className:`${a?"border-r-4":"border-l-4"} border-primary h-full`}),r.jsx("h3",{className:`${a?"text-right":""} text-lg font-semibold`,children:e("Spend Distribution by Platform")})]}),r.jsx("div",{style:{height:"280px"},children:r.jsx(zU,{data:D,options:P})})]}),r.jsx("div",{className:"h-6","aria-hidden":"true"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("section",{className:"glass-panel p-4",children:[r.jsxs("div",{className:`flex items-center gap-2 mb-2 ${a?"flex-row-reverse":""}`,children:[r.jsx("div",{className:`${a?"border-r-4":"border-l-4"} border-primary h-full`}),r.jsxs("h3",{className:`${a?"text-right":""} text-lg font-semibold`,children:[" ",e("Best Growth Area")]})]}),r.jsxs("div",{className:"text-sm",children:[e("Revenue growth vs last month"),": +",(u.revenue-v.revenue).toLocaleString()," EGP"]})]}),r.jsxs("section",{className:"glass-panel p-4",children:[r.jsxs("div",{className:`flex items-center gap-2 mb-2 ${a?"flex-row-reverse":""}`,children:[r.jsx("div",{className:`${a?"border-r-4":"border-l-4"} border-primary h-full`}),r.jsxs("h3",{className:`${a?"text-right":""} text-lg font-semibold`,children:[" ",e("Needs Improvement")]})]}),r.jsxs("div",{className:"text-sm",children:[e("Optimize CPC and CTR on lower-performing platforms")," (",b[2].platform,")"]})]}),r.jsxs("section",{className:"glass-panel p-4",children:[r.jsxs("div",{className:`flex items-center gap-2 mb-2 ${a?"flex-row-reverse":""}`,children:[r.jsx("div",{className:`${a?"border-r-4":"border-l-4"} border-primary h-full`}),r.jsxs("h3",{className:`${a?"text-right":""} text-lg font-semibold`,children:[" ",e("Recommendation")]})]}),r.jsxs("div",{className:"text-sm",children:[e("Increase budget for high-ROI platform"),": ",b[0].platform]})]})]})]})}function l9({titleKey:e,descKey:t}){const{t:a}=Dt();return r.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[r.jsx("p",{className:"text-gray-700 dark:text-gray-200 text-base",children:a(t)}),r.jsx("div",{className:"mt-6 text-gray-500 dark:text-gray-400 text-sm",children:a("Coming soon")})]})}function E6e(){const{t:e,i18n:t}=Dt(),a=t.language==="ar",[s,n]=w.useState({name:"",email:"",phone:"",subject:"",message:""}),[i,l]=w.useState(!1),[o,c]=w.useState(""),[d,u]=w.useState("Cairo, Egypt"),[f,x]=w.useState(null),[m,g]=w.useState(14),[v,b]=w.useState(""),j=t.language==="en"?"We'd love to hear from you":"   ";w.useEffect(()=>{const D=localStorage.getItem("contact_map_query");D&&u(D)},[]),w.useEffect(()=>{localStorage.setItem("contact_map_query",d)},[d]);const S=f?`https://www.google.com/maps?q=${f.lat},${f.lng}&z=${m}&output=embed`:`https://www.google.com/maps?q=${encodeURIComponent(d)}&z=${m}&output=embed`,k=()=>{const D=f?`https://www.google.com/maps/search/?api=1&query=${f.lat},${f.lng}`:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(d)}`;window.open(D,"_blank")},N=async()=>{const D=f?`${f.lat},${f.lng}`:d;try{await navigator.clipboard.writeText(D),b(e("Location copied to clipboard"))}catch{b(e("Unable to copy to clipboard"))}},A=D=>{const{name:P,value:I}=D.target;n(B=>({...B,[P]:I}))},_=async D=>{D.preventDefault(),!i&&(c(""),l(!0),await new Promise(P=>setTimeout(P,1200)),l(!1),c(e("Your message has been sent successfully")),n({name:"",email:"",phone:"",subject:"",message:""}))};return r.jsx(aa,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("h1",{className:"text-2xl font-semibold",children:e("Contact us")}),r.jsx("section",{className:`card glass-card p-4 ${a?"text-right":"text-left"}`,children:r.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:j})}),r.jsx("div",{className:"spacer-row w-full",children:r.jsx("div",{className:"h-2"})}),o&&r.jsxs("div",{className:`card glass-card p-3 text-sm inline-flex items-center gap-2 ${a?"justify-end text-right":"justify-start text-left"}`,children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4 text-green-600",children:r.jsx("path",{d:"M20 6L9 17l-5-5"})}),r.jsx("span",{children:o})]}),r.jsx("div",{className:"spacer-row w-full",children:r.jsx("div",{className:"h-2"})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 items-stretch gap-6",children:[r.jsx("section",{className:"lg:col-span-2 card glass-card p-4 h-full",children:r.jsxs("form",{onSubmit:_,className:`space-y-4 ${a?"text-right":""}`,children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsxs("label",{className:`text-xs text-[var(--muted-text)] inline-flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[r.jsx("circle",{cx:"12",cy:"8",r:"3"}),r.jsx("path",{d:"M6 21v-2a6 6 0 0112 0v2"})]}),r.jsx("span",{children:e("Your Name")})]}),r.jsx("input",{name:"name",value:s.name,onChange:A,className:"input",placeholder:e("Enter your name"),required:!0})]}),r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsxs("label",{className:`text-xs text-[var(--muted-text)] inline-flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[r.jsx("rect",{x:"4",y:"6",width:"16",height:"12",rx:"2"}),r.jsx("path",{d:"M4 8l8 6 8-6"})]}),r.jsx("span",{children:e("Email")})]}),r.jsx("input",{type:"email",name:"email",value:s.email,onChange:A,className:"input",placeholder:e("Enter your email"),required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsxs("label",{className:`text-xs text-[var(--muted-text)] inline-flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:r.jsx("path",{d:"M22 16.92v-3a2 2 0 00-2-2h-3l-2 3a16 16 0 01-7-7l3-2V4a2 2 0 00-2-2H3.08a2 2 0 00-2 2C1.08 13.91 10.09 22.92 22 22.92a2 2 0 002-2v-3z"})}),r.jsx("span",{children:e("Phone")})]}),r.jsx("input",{name:"phone",value:s.phone,onChange:A,className:"input",placeholder:e("Enter your phone")})]}),r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsxs("label",{className:`text-xs text-[var(--muted-text)] inline-flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:r.jsx("path",{d:"M4 6h16M4 12h16M4 18h10"})}),r.jsx("span",{children:e("Subject")})]}),r.jsx("input",{name:"subject",value:s.subject,onChange:A,className:"input",placeholder:e("Subject of your message")})]})]}),r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsxs("label",{className:`text-xs text-[var(--muted-text)] inline-flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[r.jsx("path",{d:"M22 2L11 13"}),r.jsx("path",{d:"M22 2l-7 20-4-9-9-4 20-7z"})]}),r.jsx("span",{children:e("Message")})]}),r.jsx("textarea",{name:"message",value:s.message,onChange:A,className:"input min-h-[120px]",placeholder:e("Write your message here"),required:!0})]}),r.jsx("div",{className:"spacer-row w-full",children:r.jsx("div",{className:"h-2"})}),r.jsxs("div",{className:`flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[r.jsxs("button",{type:"submit",className:`btn btn-primary inline-flex items-center gap-2 ${a?"flex-row-reverse":""}`,disabled:i,children:[i?r.jsx("span",{className:"inline-block w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[r.jsx("path",{d:"M22 2L11 13"}),r.jsx("path",{d:"M22 2l-7 20-4-9-9-4 20-7z"})]}),r.jsx("span",{children:e(i?"Sending...":"Send")})]}),r.jsx("button",{type:"button",className:"btn",onClick:()=>n({name:"",email:"",phone:"",subject:"",message:""}),children:e("Reset")})]})]})}),r.jsxs("section",{className:`card glass-card p-4 h-full ${a?"text-right":"text-left"}`,children:[r.jsx("div",{className:"text-base font-medium text-[var(--muted-text)] mb-2",children:a?" ":"Contact Methods"}),r.jsx("div",{className:"spacer-row w-full",children:r.jsx("div",{className:"h-4"})}),r.jsx("div",{className:"spacer-row w-full",children:r.jsx("div",{className:"h-4"})}),r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsxs("div",{className:"group flex items-start gap-3 cm-item cm-anim delay-100 p-2",children:[r.jsx("span",{className:"text-blue-500",children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4 transition-transform duration-300 group-hover:scale-110",children:[r.jsx("rect",{x:"4",y:"6",width:"16",height:"12",rx:"2"}),r.jsx("path",{d:"M4 8l8 6 8-6"})]})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("Support Email")}),r.jsx("a",{href:"mailto:support@example.com",className:"text-base hover:underline",target:"_blank",rel:"noopener noreferrer",children:"support@example.com"})]})]}),r.jsxs("div",{className:"group flex items-start gap-3 cm-item cm-anim delay-200 p-2",children:[r.jsx("span",{className:"text-green-600",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4 transition-transform duration-300 group-hover:scale-110",children:r.jsx("path",{d:"M22 16.92v-3a2 2 0 00-2-2h-3l-2 3a16 16 0 01-7-7l3-2V4a2 2 0 00-2-2H3.08a2 2 0 00-2 2C1.08 13.91 10.09 22.92 22 22.92a2 2 0 002-2v-3z"})})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("Phone")}),r.jsx("a",{href:"tel:+201000000000",className:"text-base hover:underline",children:"+20 10 000 0000"})]})]}),r.jsxs("div",{className:"group flex items-start gap-3 cm-item cm-anim delay-300 p-2",children:[r.jsx("span",{className:"text-green-500",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",className:"w-4 h-4 transition-transform duration-300 group-hover:scale-110",children:r.jsx("path",{d:"M6 12l4 4 8-8"})})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("WhatsApp")}),r.jsx("a",{href:"https://wa.me/201000000000",className:"text-base hover:underline",target:"_blank",rel:"noopener noreferrer",children:"+20 10 000 0000"})]})]}),r.jsxs("div",{className:"group flex items-start gap-3 cm-item cm-anim delay-400 p-2",children:[r.jsx("span",{className:"text-gray-600",children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4 transition-transform duration-300 group-hover:scale-110",children:[r.jsx("path",{d:"M3 10l9-7 9 7"}),r.jsx("path",{d:"M5 10v9h14v-9"})]})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("Address")}),r.jsx("a",{href:"https://www.google.com/maps/search/?api=1&query=Cairo%2C%20Egypt",className:"text-base hover:underline",target:"_blank",rel:"noopener noreferrer",children:"Cairo, Egypt"})]})]}),r.jsxs("div",{className:"pt-2 sm:col-span-2 border-t border-gray-200 dark:border-gray-800",children:[r.jsx("div",{className:"spacer-row w-full",children:r.jsx("div",{className:"h-2"})}),r.jsx("div",{className:"text-base font-medium text-[var(--muted-text)] mb-2",children:a?"":"Follow us"}),r.jsx("div",{className:"spacer-row w-full",children:r.jsx("div",{className:"h-2"})}),r.jsx("div",{className:"spacer-row w-full",children:r.jsx("div",{className:"h-2"})}),r.jsxs("div",{className:"flex items-center gap-3 justify-center",children:[r.jsx("a",{href:"#","aria-label":"Facebook",className:"inline-flex p-2 rounded-md hover:bg-white/10",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",className:"w-4 h-4",children:r.jsx("path",{d:"M22 12a10 10 0 10-11.5 9.9v-7h-2v-3h2V9.5a3 3 0 013-3h3v3h-2a1 1 0 00-1 1V12h3l-.5 3h-2.5v7A10 10 0 0022 12z"})})}),r.jsx("a",{href:"#","aria-label":"Twitter",className:"inline-flex p-2 rounded-md hover:bg-white/10",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",className:"w-4 h-4",children:r.jsx("path",{d:"M22 5.9a8.2 8.2 0 01-2.3.6 4 4 0 001.8-2.2 8.3 8.3 0 01-2.6 1 4 4 0 00-6.9 3.6A11.3 11.3 0 013 5.2a4 4 0 001.2 5.3 4 4 0 01-1.8-.5v.1a4 4 0 003.2 3.9 4 4 0 01-1.8.1 4 4 0 003.7 2.8A8.1 8.1 0 012 18.6 11.4 11.4 0 008.1 20c7.4 0 11.5-6.1 11.5-11.5v-.5A8.1 8.1 0 0022 5.9z"})})}),r.jsx("a",{href:"#","aria-label":"LinkedIn",className:"inline-flex p-2 rounded-md hover:bg-white/10",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",className:"w-4 h-4",children:r.jsx("path",{d:"M4 3a2 2 0 110 4 2 2 0 010-4zm0 6h4v12H4V9zm6 0h4v2.5h.1a4.4 4.4 0 013.9-2.2c4.1 0 4.8 2.7 4.8 6.2V21h-4v-5.2c0-1.3 0-3-1.8-3s-2.2 1.4-2.2 2.9V21h-4V9z"})})}),r.jsx("a",{href:"#","aria-label":"WhatsApp",className:"inline-flex p-2 rounded-md hover:bg-white/10",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",className:"w-4 h-4",children:r.jsx("path",{d:"M12 2a10 10 0 00-8.7 14.9L2 22l5.3-1.3A10 10 0 1012 2zm5.6 14.3c-.2.6-1.2 1.1-1.7 1.2-.4.1-.9.1-1.5-.1-1.5-.5-3.3-1.4-4.7-2.8-1.3-1.3-2.3-3.1-2.8-4.7-.2-.6-.2-1.1-.1-1.5.1-.5.6-1.5 1.2-1.7.3-.1.7-.1 1 .1.4.2.9.7 1 1.1l.2.4c.3.6.1.9-.2 1.3l-.3.3c-.1.1-.2.3-.1.5.1.4.6 1.3 1.4 2.1.8.8 1.7 1.3 2.1 1.4.2.1.4 0 .5-.1l.3-.3c.4-.3.7-.5 1.3-.2l.4.2c.4.1.9.6 1.1 1 .2.3.2.7.1 1z"})})})]})]})]})]})]}),r.jsx("div",{className:"spacer-row w-full",children:r.jsx("div",{className:"h-2"})}),r.jsxs("section",{className:"card glass-card p-4",children:[r.jsxs("div",{className:`flex items-center justify-between gap-3 ${a?"flex-row-reverse":""}`,children:[r.jsx("h2",{className:"text-lg font-semibold",children:e("Our Location")}),r.jsxs("div",{className:`flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[r.jsx("button",{type:"button",className:`btn ${a?"flex-row-reverse":""}`,onClick:k,children:e("Open in Maps")}),r.jsx("button",{type:"button",className:`btn ${a?"flex-row-reverse":""}`,onClick:N,children:e("Copy")})]})]}),r.jsxs("div",{className:`mt-3 flex items-center gap-3 ${a?"flex-row-reverse":""}`,children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Zoom")}),r.jsx("input",{type:"range",min:"3",max:"20",value:m,onChange:D=>g(Number(D.target.value))})]}),v&&r.jsx("div",{className:`mt-2 text-xs text-[var(--muted-text)] ${a?"text-right":"text-left"}`,children:v}),r.jsx("div",{className:"mt-3 rounded-lg overflow-hidden",children:r.jsx("iframe",{title:"map",src:S,className:"w-full h-64 rounded-lg border border-gray-200 dark:border-gray-800",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})]}),r.jsx("div",{className:"spacer-row w-full",children:r.jsx("div",{className:"h-2"})})]})})}function D6e(){const e=ti();return r.jsxs("div",{className:"relative min-h-screen flex flex-col pb-20 sm:pb-24 bg-[linear-gradient(120deg,_#f0f4ff,_#e8f7ff_30%,_#fff6f0_60%,_#f0faff_90%)] dark:bg-[linear-gradient(120deg,_#0b1220,_#101828_30%,_#1b2433_60%,_#0f172a_90%)]",children:[r.jsx(nh.header,{className:"w-full bg-white/20 dark:bg-gray-800/25 backdrop-blur-md border-b border-white/30 dark:border-gray-600 shadow",initial:{opacity:0,y:-12},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},children:r.jsxs("div",{className:"flex justify-between items-center w-full max-w-6xl mx-auto px-4 sm:px-6 py-2 sm:py-3",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("img",{src:qf,alt:"Be Souhola",className:"w-16 h-16 sm:w-20 sm:h-20 drop-shadow-lg"}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-xs sm:text-sm text-white/90 drop-shadow-md",children:"Make everything ....."}),r.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold bg-gradient-to-r from-white via-sky-100 to-cyan-200 text-transparent bg-clip-text drop-shadow-lg",children:"Be Souhola"})]})]}),r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs("nav",{className:"hidden sm:flex items-center gap-4 text-white/90",children:[r.jsx(Ut,{to:"/",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Home"}),r.jsx(Ut,{to:"/about",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"About"}),r.jsx(Ut,{to:"/welcome/contact",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Contact"}),r.jsx(Ut,{to:"/pricing",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Pricing"})]}),r.jsx("button",{onClick:()=>e("/login"),className:"px-8 py-3 rounded-full bg-white/25 backdrop-blur-md text-white font-semibold shadow-lg transition-all duration-200 hover:bg-white/40 hover:scale-105 hover:shadow-2xl hover:ring-2 hover:ring-white/40",children:"LOGIN "})]})]})}),r.jsx("main",{className:"flex-1 w-full",children:r.jsxs("div",{className:"mx-auto max-w-3xl px-6 sm:px-10 mt-8 sm:mt-12",children:[r.jsx("div",{className:"flex justify-end mb-3 sm:mb-4",children:r.jsx(gr,{to:"/",className:"text-xs sm:text-sm text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Back to Welcome "})}),r.jsxs("div",{className:"bg-white/30 dark:bg-gray-800/40 rounded-3xl p-5 sm:p-6 border border-gray-200/60 dark:border-gray-700/60 shadow-lg",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-center mb-3 sm:mb-4",children:"Privacy Policy"}),r.jsx("p",{className:"mb-3 sm:mb-4 text-sm sm:text-base",children:"We respect your privacy and are committed to protecting your personal data. This policy explains how we collect, use, and process information when you use our services."}),r.jsx("h3",{className:"text-xl font-semibold mt-5 mb-2",children:"Information We Collect"}),r.jsx("p",{className:"mb-3 sm:mb-4 text-sm sm:text-base",children:"We may collect basic identifying information such as name, email, and phone number, along with service usage data to improve performance and provide better support."}),r.jsx("h3",{className:"text-xl font-semibold mt-5 mb-2",children:"How We Use Information"}),r.jsx("p",{className:"mb-3 sm:mb-4 text-sm sm:text-base",children:"We use your data to provide core features, enhance your experience, communicate updates and support, and comply with legal requirements."}),r.jsx("h3",{className:"text-xl font-semibold mt-5 mb-2",children:"Data Sharing"}),r.jsx("p",{className:"mb-3 sm:mb-4 text-sm sm:text-base",children:"Your data is not shared with third parties except when legally required, with your explicit consent, or to deliver a complete service through trusted providers."}),r.jsx("h3",{className:"text-xl font-semibold mt-5 mb-2",children:"Your Rights"}),r.jsx("p",{className:"mb-3 sm:mb-4 text-sm sm:text-base",children:"You have the right to access, correct, and request deletion of your personal data. You can contact us to exercise these rights at any time."}),r.jsx("h3",{className:"text-xl font-semibold mt-5 mb-2",children:"Contact Us"}),r.jsx("p",{className:"text-sm sm:text-base",children:"For privacy-related inquiries, please reach out through the Contact page."})]})]})}),r.jsx("footer",{className:"fixed bottom-0 left-0 w-full border-t border-gray-200/60 dark:border-gray-700/60 bg-white/70 dark:bg-gray-900/40 backdrop-blur-md",children:r.jsxs("div",{className:"mx-auto max-w-7xl px-6 sm:px-10 py-2 sm:py-3 flex items-center justify-between text-xs sm:text-sm",children:[r.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:" 2024 Be Souhola"}),r.jsxs("nav",{className:"flex items-center gap-4",children:[r.jsx(gr,{to:"/privacy",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Privacy"}),r.jsx(gr,{to:"/terms",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Terms"}),r.jsx(gr,{to:"/welcome/contact",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Contact"})]})]})})]})}function M6e(){const e=ti();return r.jsxs("div",{className:"relative min-h-screen flex flex-col pb-20 sm:pb-24 bg-[linear-gradient(120deg,_#f0f4ff,_#e8f7ff_30%,_#fff6f0_60%,_#f0faff_90%)] dark:bg-[linear-gradient(120deg,_#0b1220,_#101828_30%,_#1b2433_60%,_#0f172a_90%)]",children:[r.jsx(nh.header,{className:"w-full bg-white/20 dark:bg-gray-800/25 backdrop-blur-md border-b border-white/30 dark:border-gray-600 shadow",initial:{opacity:0,y:-12},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},children:r.jsxs("div",{className:"flex justify-between items-center w-full max-w-6xl mx-auto px-4 sm:px-6 py-2 sm:py-3",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("img",{src:qf,alt:"Be Souhola",className:"w-16 h-16 sm:w-20 sm:h-20 drop-shadow-lg"}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-xs sm:text-sm text-white/90 drop-shadow-md",children:"Make everything ....."}),r.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold bg-gradient-to-r from-white via-sky-100 to-cyan-200 text-transparent bg-clip-text drop-shadow-lg",children:"Be Souhola"})]})]}),r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs("nav",{className:"hidden sm:flex items-center gap-4 text-white/90",children:[r.jsx(Ut,{to:"/",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Home"}),r.jsx(Ut,{to:"/about",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"About"}),r.jsx(Ut,{to:"/welcome/contact",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Contact"}),r.jsx(Ut,{to:"/pricing",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Pricing"})]}),r.jsx("button",{onClick:()=>e("/login"),className:"px-8 py-3 rounded-full bg-white/25 backdrop-blur-md text-white font-semibold shadow-lg transition-all duration-200 hover:bg-white/40 hover:scale-105 hover:shadow-2xl hover:ring-2 hover:ring-white/40",children:"LOGIN "})]})]})}),r.jsx("main",{className:"flex-1 w-full",children:r.jsxs("div",{className:"mx-auto max-w-3xl px-6 sm:px-10 mt-8 sm:mt-12",children:[r.jsx("div",{className:"flex justify-end mb-3 sm:mb-4",children:r.jsx(gr,{to:"/",className:"text-xs sm:text-sm text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Back to Welcome "})}),r.jsxs("div",{className:"bg-white/30 dark:bg-gray-800/40 rounded-3xl p-5 sm:p-6 border border-gray-200/60 dark:border-gray-700/60 shadow-lg",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-center mb-3 sm:mb-4",children:"Terms & Conditions"}),r.jsx("p",{className:"mb-3 sm:mb-4 text-sm sm:text-base",children:"These Terms & Conditions define the rules for using the service and your rights and responsibilities. By using the service, you agree to be bound by these terms."}),r.jsx("h3",{className:"text-xl font-semibold mt-5 mb-2",children:"Use of Service"}),r.jsx("p",{className:"mb-3 sm:mb-4 text-sm sm:text-base",children:"You must use the service lawfully and refrain from any activity that may negatively affect performance or put user data at risk."}),r.jsx("h3",{className:"text-xl font-semibold mt-5 mb-2",children:"Accounts & Responsibility"}),r.jsx("p",{className:"mb-3 sm:mb-4 text-sm sm:text-base",children:"You are responsible for keeping your login credentials confidential and for all activities that occur under your account."}),r.jsx("h3",{className:"text-xl font-semibold mt-5 mb-2",children:"Updates & Changes"}),r.jsx("p",{className:"mb-3 sm:mb-4 text-sm sm:text-base",children:"We may update these terms from time to time. Continuing to use the service after any update constitutes acceptance of the modified terms."}),r.jsx("h3",{className:"text-xl font-semibold mt-5 mb-2",children:"Termination"}),r.jsx("p",{className:"mb-3 sm:mb-4 text-sm sm:text-base",children:"We reserve the right to suspend or terminate access to the service upon violation of the terms or misuse."}),r.jsx("h3",{className:"text-xl font-semibold mt-5 mb-2",children:"Contact"}),r.jsx("p",{className:"text-sm sm:text-base",children:"For any inquiries regarding these terms, please contact us via the Contact page."})]})]})}),r.jsx("footer",{className:"fixed bottom-0 left-0 w-full border-t border-gray-200/60 dark:border-gray-700/60 bg-white/70 dark:bg-gray-900/40 backdrop-blur-md",children:r.jsxs("div",{className:"mx-auto max-w-7xl px-6 sm:px-10 py-2 sm:py-3 flex items-center justify-between text-xs sm:text-sm",children:[r.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:" 2024 Be Souhola"}),r.jsxs("nav",{className:"flex items-center gap-4",children:[r.jsx(gr,{to:"/privacy",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Privacy"}),r.jsx(gr,{to:"/terms",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Terms"}),r.jsx(gr,{to:"/welcome/contact",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Contact"})]})]})})]})}function P6e(){const e=t=>{t.preventDefault(),alert("Your message has been sent successfully (Welcome Contact)")};return r.jsxs("div",{className:"relative min-h-screen flex flex-col pb-20 sm:pb-24 bg-gradient-to-br from-cyan-200 via-sky-300 to-indigo-200 dark:from-gray-900 dark:via-indigo-900 dark:to-purple-900",children:[r.jsx(nh.header,{className:"w-full bg-white/20 dark:bg-gray-800/25 backdrop-blur-md border-b border-white/30 dark:border-gray-600 shadow",initial:{opacity:0,y:-12},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},children:r.jsxs("div",{className:"flex justify-between items-center w-full max-w-6xl mx-auto px-4 sm:px-6 py-2 sm:py-3",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("img",{src:qf,alt:"Be Souhola",className:"w-16 h-16 sm:w-20 sm:h-20 drop-shadow-lg"}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-xs sm:text-sm text-white/90 drop-shadow-md",children:"Make everything ....."}),r.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold bg-gradient-to-r from-white via-sky-100 to-cyan-200 text-transparent bg-clip-text drop-shadow-lg",children:"Be Souhola"})]})]}),r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs("nav",{className:"hidden sm:flex items-center gap-4 text-white/90",children:[r.jsx(Ut,{to:"/",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Home"}),r.jsx(Ut,{to:"/about",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"About"}),r.jsx(Ut,{to:"/welcome/contact",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Contact"}),r.jsx(Ut,{to:"/pricing",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Pricing"})]}),r.jsx(gr,{to:"/login",className:"px-8 py-3 rounded-full bg-white/25 backdrop-blur-md text-white font-semibold shadow-lg hover:bg-white/40 transition-all",children:"LOGIN "})]})]})}),r.jsxs("main",{className:"flex-1 w-full max-w-3xl mx-auto px-6 sm:px-10 mt-8 sm:mt-12",children:[r.jsx("div",{className:"flex justify-end mb-4",children:r.jsx(gr,{to:"/",className:"px-6 py-2 rounded-full bg-white/25 backdrop-blur-md text-white font-semibold shadow hover:bg-white/40 transition-all",children:"Back to Welcome "})}),r.jsxs("div",{className:"bg-white/30 dark:bg-gray-800/30 backdrop-blur-md rounded-3xl p-5 sm:p-6 border border-white/40 dark:border-gray-700 shadow",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white/90 mb-4 text-center",children:"contact us"}),r.jsxs("form",{onSubmit:e,className:"grid grid-cols-1 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-white/90 text-sm mb-1",children:"Name"}),r.jsx("input",{type:"text",required:!0,className:"w-full rounded-xl bg-white/60 dark:bg-gray-900/40 border border-white/40 dark:border-gray-700 px-3 py-2 text-gray-900 dark:text-gray-100"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-white/90 text-sm mb-1",children:"Email"}),r.jsx("input",{type:"email",required:!0,className:"w-full rounded-xl bg-white/60 dark:bg-gray-900/40 border border-white/40 dark:border-gray-700 px-3 py-2 text-gray-900 dark:text-gray-100"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-white/90 text-sm mb-1",children:"Phone"}),r.jsx("input",{type:"tel",className:"w-full rounded-xl bg-white/60 dark:bg-gray-900/40 border border-white/40 dark:border-gray-700 px-3 py-2 text-gray-900 dark:text-gray-100"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-white/90 text-sm mb-1",children:"Subject"}),r.jsx("input",{type:"text",className:"w-full rounded-xl bg-white/60 dark:bg-gray-900/40 border border-white/40 dark:border-gray-700 px-3 py-2 text-gray-900 dark:text-gray-100"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-white/90 text-sm mb-1",children:"Message"}),r.jsx("textarea",{rows:5,required:!0,className:"w-full rounded-xl bg-white/60 dark:bg-gray-900/40 border border-white/40 dark:border-gray-700 px-3 py-2 text-gray-900 dark:text-gray-100"})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{type:"submit",className:"px-6 py-2 rounded-full bg-white text-indigo-700 dark:bg-indigo-600 dark:text-white font-semibold shadow hover:bg-white/90 dark:hover:bg-indigo-700 transition-all",children:"Send"})})]})]})]}),r.jsx("footer",{className:"fixed bottom-0 left-0 w-full border-t border-gray-200/60 dark:border-gray-700/60 bg-white/70 dark:bg-gray-900/40 backdrop-blur-md",children:r.jsxs("div",{className:"mx-auto max-w-7xl px-6 sm:px-10 py-2 sm:py-3 flex items-center justify-between text-xs sm:text-sm",children:[r.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:" 2024 Be Souhola"}),r.jsxs("nav",{className:"flex items-center gap-4",children:[r.jsx(gr,{to:"/privacy",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Privacy"}),r.jsx(gr,{to:"/terms",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Terms"}),r.jsx(gr,{to:"/welcome/contact",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Contact"})]})]})})]})}function L6e(){const e=ti();return r.jsxs("div",{className:"relative min-h-screen flex flex-col pb-20 sm:pb-24 bg-gradient-to-br from-cyan-200 via-sky-300 to-indigo-200 dark:from-gray-900 dark:via-indigo-900 dark:to-purple-900",children:[r.jsx(nh.header,{className:"w-full bg-white/20 dark:bg-gray-800/25 backdrop-blur-md border-b border-white/30 dark:border-gray-600 shadow",initial:{opacity:0,y:-12},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},children:r.jsxs("div",{className:"flex justify-between items-center w-full max-w-6xl mx-auto px-4 sm:px-6 py-2 sm:py-3",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("img",{src:qf,alt:"Be Souhola",className:"w-16 h-16 sm:w-20 sm:h-20 drop-shadow-lg"}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-xs sm:text-sm text-white/90 drop-shadow-md",children:"Make everything ....."}),r.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold bg-gradient-to-r from-white via-sky-100 to-cyan-200 text-transparent bg-clip-text drop-shadow-lg",children:"Be Souhola"})]})]}),r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs("nav",{className:"hidden sm:flex items-center gap-4 text-white/90",children:[r.jsx(Ut,{to:"/",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Home"}),r.jsx(Ut,{to:"/about",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"About"}),r.jsx(Ut,{to:"/welcome/contact",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Contact"}),r.jsx(Ut,{to:"/pricing",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Pricing"})]}),r.jsx("button",{onClick:()=>e("/login"),className:"px-8 py-3 rounded-full bg-white/25 backdrop-blur-md text-white font-semibold shadow-lg transition-all duration-200 hover:bg-white/40 hover:scale-105 hover:shadow-2xl hover:ring-2 hover:ring-white/40",children:"LOGIN "})]})]})}),r.jsx("main",{className:"flex-1 w-full",children:r.jsxs("div",{className:"mx-auto max-w-3xl px-6 sm:px-10 mt-8 sm:mt-12",children:[r.jsx("div",{className:"flex justify-end mb-4",children:r.jsx(gr,{to:"/",className:"px-6 py-2 rounded-full bg-white/25 backdrop-blur-md text-white font-semibold shadow hover:bg-white/40 transition-all",children:"Back to Welcome "})}),r.jsxs("div",{className:"bg-white/30 dark:bg-gray-800/30 backdrop-blur-md rounded-3xl p-5 sm:p-6 border border-white/40 dark:border-gray-700 shadow",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white/90 mb-4 text-center",children:"About"}),r.jsx("p",{className:"text-sm sm:text-base text-white/90",children:"Be Souhola is a modern CRM designed to streamline client management, leads tracking, marketing campaigns, and analytics. Our mission is to make everything simpler and more efficient for teams."}),r.jsx("p",{className:"mt-3 text-sm sm:text-base text-white/90",children:"This project brings together powerful modules like Dashboard, Inventory, Projects, Reports, and Settings, all crafted for a smooth daily workflow."})]})]})}),r.jsx("footer",{className:"fixed bottom-0 left-0 w-full border-t border-gray-200/60 dark:border-gray-700/60 bg-white/70 dark:bg-gray-900/40 backdrop-blur-md",children:r.jsxs("div",{className:"mx-auto max-w-7xl px-6 sm:px-10 py-2 sm:py-3 flex items-center justify-between text-xs sm:text-sm",children:[r.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:" 2024 Be Souhola"}),r.jsxs("nav",{className:"flex items-center gap-4",children:[r.jsx(gr,{to:"/privacy",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Privacy"}),r.jsx(gr,{to:"/terms",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Terms"}),r.jsx(gr,{to:"/welcome/contact",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Contact"})]})]})})]})}function O6e(){const{t:e,i18n:t}=Dt(),a=t.language==="ar",s=ti(),[n,i]=w.useState("general"),[l,o]=w.useState(!1),[c,d]=w.useState(""),[u,f]=w.useState({title:"",channel:"",project:"",description:"",targetUrl:"",media:[],headerScript:"",bodyScript:"",enableTracking:!0}),x=b=>{const{name:j,value:S,type:k,checked:N}=b.target;f(A=>({...A,[j]:k==="checkbox"?N:S}))},m=b=>{const j=Array.from(b.target.files||[]);f(S=>({...S,media:j}))},g=()=>s("/marketing/landing-pages"),v=async()=>{l||(o(!0),d(""),await new Promise(b=>setTimeout(b,1e3)),o(!1),d(e("Saved successfully")),setTimeout(()=>s("/marketing/landing-pages"),900))};return r.jsx(aa,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("h1",{className:"text-2xl font-semibold",children:e("Add Landing Page")}),c&&r.jsx("div",{className:`card glass-card p-3 text-sm ${a?"text-right":"text-left"}`,children:c}),r.jsxs("section",{className:`card glass-card p-0 ${a?"text-right":"text-left"}`,children:[r.jsx("div",{className:"flex items-center gap-2 px-4 pt-4",children:["general","description","media","script"].map(b=>r.jsxs("button",{className:`btn !px-3 !py-1 text-sm ${n===b?"btn-primary":""}`,onClick:()=>i(b),children:[b==="general"&&e("General"),b==="description"&&e("Description"),b==="media"&&e("Media"),b==="script"&&e("Script")]},b))}),r.jsxs("div",{className:"p-4",children:[n==="general"&&r.jsxs("div",{className:`grid grid-cols-1 sm:grid-cols-2 gap-4 ${a?"text-right":""}`,children:[r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Title")}),r.jsx("input",{name:"title",value:u.title,onChange:x,className:"input",placeholder:e("Enter title")})]}),r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Channel")}),r.jsxs("select",{name:"channel",value:u.channel,onChange:x,className:"select",children:[r.jsx("option",{value:"",children:e("Select Channel")}),r.jsx("option",{value:"Meta",children:"Meta (Facebook/Instagram)"}),r.jsx("option",{value:"Google Ads",children:"Google Ads"}),r.jsx("option",{value:"TikTok Ads",children:"TikTok Ads"}),r.jsx("option",{value:"Twitter/X",children:"Twitter / X"}),r.jsx("option",{value:"LinkedIn",children:"LinkedIn"}),r.jsx("option",{value:"Manual",children:"Manual"})]})]}),r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Project")}),r.jsxs("select",{name:"project",value:u.project,onChange:x,className:"select",children:[r.jsx("option",{value:"",children:e("Select Project")}),r.jsx("option",{value:"Cairo Downtown",children:"Cairo Downtown"}),r.jsx("option",{value:"New Capital",children:"New Capital"}),r.jsx("option",{value:"Project A",children:"Project A"}),r.jsx("option",{value:"Project B",children:"Project B"})]})]}),r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Target URL")}),r.jsx("input",{name:"targetUrl",value:u.targetUrl,onChange:x,className:"input",placeholder:"https://example.com/landing"})]})]}),n==="description"&&r.jsx("div",{className:"grid grid-cols-1 gap-3",children:r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Short Description")}),r.jsx("textarea",{name:"description",value:u.description,onChange:x,className:"input min-h-[140px]",placeholder:e("Short Description")})]})}),n==="media"&&r.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Upload Media")}),r.jsx("input",{type:"file",multiple:!0,onChange:m,className:"input",accept:"image/*,video/*"})]}),u.media.length>0&&r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:u.media.map((b,j)=>r.jsxs("div",{className:"card glass-card p-3 text-sm",children:[r.jsx("div",{className:"font-medium truncate",children:b.name}),r.jsxs("div",{className:"text-[var(--muted-text)]",children:[(b.size/1024).toFixed(1)," KB"]})]},j))})]}),n==="script"&&r.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{id:"enableTracking",type:"checkbox",name:"enableTracking",checked:u.enableTracking,onChange:x}),r.jsx("label",{htmlFor:"enableTracking",className:"text-sm",children:"Meta Pixel / GTM"})]}),r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Header Script")}),r.jsx("textarea",{name:"headerScript",value:u.headerScript,onChange:x,className:"input min-h-[120px]",placeholder:"<!-- scripts in <head> -->"})]}),r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Body Script")}),r.jsx("textarea",{name:"bodyScript",value:u.bodyScript,onChange:x,className:"input min-h-[120px]",placeholder:"<!-- scripts before </body> -->"})]})]}),r.jsxs("div",{className:`mt-4 flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[r.jsx("button",{type:"button",className:"btn",onClick:g,children:e("Cancel")}),r.jsxs("button",{type:"button",className:"btn btn-primary inline-flex items-center gap-2",onClick:v,disabled:l,children:[l?r.jsx("span",{className:"inline-block w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:r.jsx("path",{d:"M12 5v14M5 12h14"})}),r.jsx("span",{children:e(l?"Saving...":"Create")})]})]})]})]})]})})}function R6e({isOpen:e,onClose:t,onSave:a}){const{t:s,i18n:n}=Dt(),i=(n?.language||"").toLowerCase().startsWith("ar"),[l,o]=w.useState(""),[c,d]=w.useState(""),[u,f]=w.useState(""),[x,m]=w.useState(""),[g,v]=w.useState(""),[b,j]=w.useState(""),[S,k]=w.useState("medium"),[N,A]=w.useState(""),[_,D]=w.useState(null),[P,I]=w.useState("Follow-up"),[B,O]=w.useState("Admin"),[U,E]=w.useState(""),[R,K]=w.useState(""),[V,Z]=w.useState(""),[J,ee]=w.useState(0),[W,le]=w.useState(""),[M,X]=w.useState("none"),z=w.useMemo(()=>["Ibrahim","Ahmed M","Semik L","Casad","Admin"],[]),Q=w.useMemo(()=>["Team A","Team B","Support","Sales","Admin","Ibrahim","Ahmed"],[]),ne=w.useMemo(()=>["Lead","Deal","Contact","Opportunity","Ticket","Project"],[]),re=w.useMemo(()=>["Call","Meeting","Email","Follow-up","Internal","Delivery","Support"],[]),oe=w.useMemo(()=>[{value:"",label:i?"":"None"},{value:"5m",label:i?" 5 ":"5 minutes before"},{value:"15m",label:i?" 15 ":"15 minutes before"},{value:"1h",label:i?" ":"1 hour before"},{value:"1d",label:i?" ":"1 day before"}],[i]),q=w.useMemo(()=>[{value:"none",label:i?"":"None"},{value:"daily",label:i?"":"Daily"},{value:"weekly",label:i?"":"Weekly"},{value:"monthly",label:i?"":"Monthly"}],[i]);if(!e)return null;const ie=()=>{if(!l.trim()){A(i?" ":"Title is required");return}const Y={title:l.trim(),description:c.trim(),salesman:u,assignedTo:x,due:g,endDate:g,startDate:b,priority:S,attachment:_,taskType:P,createdBy:B,relatedType:U,relatedRef:R,tags:V.split(",").map(ce=>ce.trim()).filter(Boolean),progress:J,reminderBefore:W,recurring:M};a?.(Y),o(""),d(""),f(""),m(""),v(""),j(""),k("medium"),D(null),I("Follow-up"),O("Admin"),E(""),K(""),Z(""),ee(0),le(""),X("none"),A("")},ye=Y=>{const ce=Y.target.files?.[0];if(!ce){D(null);return}const he=URL.createObjectURL(ce);D({name:ce.name,size:ce.size,type:ce.type,url:he})};return r.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center",children:[r.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),r.jsxs("div",{className:"relative w-full sm:w-[90%] sm:max-w-2xl sm:max-h-[90vh] overflow-y-auto bg-[var(--content-bg)] text-[var(--content-text)] border shadow-xl rounded-none sm:rounded-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[r.jsx("h2",{className:"text-xl font-semibold",children:i?" ":"New Task"}),r.jsx("button",{onClick:t,className:"p-2 rounded-md hover:bg-[var(--table-row-hover)]","aria-label":i?"":"Close",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:r.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),r.jsxs("div",{className:"px-6 py-5 space-y-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-sm opacity-80",children:i?"":"Title"}),r.jsx("input",{value:l,onChange:Y=>o(Y.target.value),placeholder:i?"":"Title",className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)]"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-sm opacity-80",children:i?"":"Description"}),r.jsx("textarea",{value:c,onChange:Y=>d(Y.target.value),placeholder:i?"":"Description",className:"w-full min-h-28 px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] resize-y"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-sm opacity-80",children:i?" ":"Select sales"}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{value:u,onChange:Y=>f(Y.target.value),className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] appearance-none pr-8",children:[r.jsx("option",{value:"",children:i?" ":"Select a salesman"}),z.map(Y=>r.jsx("option",{value:Y,children:Y},Y))]}),r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4 absolute right-2 top-1/2 -translate-y-1/2 opacity-70 pointer-events-none",children:r.jsx("path",{d:"M6 9l6 6 6-6"})})]})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-sm opacity-80",children:i?" ":"Assigned To"}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{value:x,onChange:Y=>m(Y.target.value),className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] appearance-none pr-8",children:[r.jsx("option",{value:"",children:i?" /":"Select person/team"}),Q.map(Y=>r.jsx("option",{value:Y,children:Y},Y))]}),r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4 absolute right-2 top-1/2 -translate-y-1/2 opacity-70 pointer-events-none",children:r.jsx("path",{d:"M6 9l6 6 6-6"})})]})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-sm opacity-80",children:i?"":"Priority"}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{value:S,onChange:Y=>k(Y.target.value),className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] appearance-none pr-8",children:[r.jsx("option",{value:"low",children:i?"":"Low"}),r.jsx("option",{value:"medium",children:i?"":"Medium"}),r.jsx("option",{value:"high",children:i?"":"High"})]}),r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4 absolute right-2 top-1/2 -translate-y-1/2 opacity-70 pointer-events-none",children:r.jsx("path",{d:"M6 9l6 6 6-6"})})]})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-sm opacity-80",children:i?" ":"Start date"}),r.jsx("input",{type:"date",value:b,onChange:Y=>j(Y.target.value),className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)]"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-sm opacity-80",children:i?" ":"Due date"}),r.jsx("input",{type:"date",value:g,onChange:Y=>v(Y.target.value),className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)]"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-sm opacity-80",children:i?" ":"Attached File"}),r.jsx("input",{type:"file",onChange:ye,className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)]"}),_?r.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs bg-[var(--dropdown-bg)] border rounded-md px-3 py-2",children:[r.jsxs("div",{className:"flex items-center gap-2 truncate",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:r.jsx("path",{d:"M21.44 11.05l-9.9 9.9a5.5 5.5 0 01-7.78-7.78l9.9-9.9a3.5 3.5 0 015 5l-9.2 9.2a1.5 1.5 0 01-2.12-2.12l8.49-8.49"})}),r.jsx("a",{href:_.url,target:"_blank",rel:"noreferrer",className:"truncate hover:underline",children:_.name})]}),r.jsx("button",{type:"button",onClick:()=>D(null),className:"px-2 py-1 rounded-md border bg-[var(--table-row-hover)]",children:i?"":"Remove"})]}):null]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-sm opacity-80",children:i?" ":"Task type"}),r.jsxs("div",{className:"relative",children:[r.jsx("select",{value:P,onChange:Y=>I(Y.target.value),className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] appearance-none pr-8",children:re.map(Y=>r.jsx("option",{value:Y,children:Y},Y))}),r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4 absolute right-2 top-1/2 -translate-y-1/2 opacity-70 pointer-events-none",children:r.jsx("path",{d:"M6 9l6 6 6-6"})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-sm opacity-80",children:i?" ":"Related to"}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{value:U,onChange:Y=>E(Y.target.value),className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] appearance-none pr-8",children:[r.jsx("option",{value:"",children:i?" ":"Select entity"}),ne.map(Y=>r.jsx("option",{value:Y,children:Y},Y))]}),r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4 absolute right-2 top-1/2 -translate-y-1/2 opacity-70 pointer-events-none",children:r.jsx("path",{d:"M6 9l6 6 6-6"})})]})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-sm opacity-80",children:i?"/":"Reference/ID"}),r.jsx("input",{value:R,onChange:Y=>K(Y.target.value),placeholder:i?": LEAD-102":"e.g., LEAD-102",className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)]"})]})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-sm opacity-80",children:i?" ":"Created by"}),r.jsx("input",{value:B,onChange:Y=>O(Y.target.value),className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)]"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-sm opacity-80",children:i?"/":"Tags/Labels"}),r.jsx("input",{value:V,onChange:Y=>Z(Y.target.value),placeholder:i?"   ":"Comma-separated tags",className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)]"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-sm opacity-80",children:i?" ":"Progress %"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"range",min:0,max:100,value:J,onChange:Y=>ee(Number(Y.target.value)),className:"flex-1"}),r.jsxs("span",{className:"text-sm w-12 text-right",children:[J,"%"]})]})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-sm opacity-80",children:i?"":"Reminder"}),r.jsxs("div",{className:"relative",children:[r.jsx("select",{value:W,onChange:Y=>le(Y.target.value),className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] appearance-none pr-8",children:oe.map(Y=>r.jsx("option",{value:Y.value,children:Y.label},Y.value))}),r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4 absolute right-2 top-1/2 -translate-y-1/2 opacity-70 pointer-events-none",children:r.jsx("path",{d:"M6 9l6 6 6-6"})})]})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-sm opacity-80",children:i?" ":"Recurring"}),r.jsxs("div",{className:"relative",children:[r.jsx("select",{value:M,onChange:Y=>X(Y.target.value),className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] appearance-none pr-8",children:q.map(Y=>r.jsx("option",{value:Y.value,children:Y.label},Y.value))}),r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4 absolute right-2 top-1/2 -translate-y-1/2 opacity-70 pointer-events-none",children:r.jsx("path",{d:"M6 9l6 6 6-6"})})]})]}),N&&r.jsx("div",{className:"text-red-500 text-sm",children:N})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 rounded-md border bg-[var(--dropdown-bg)] text-sm",children:i?"":"Cancel"}),r.jsx("button",{onClick:ie,className:"px-4 py-2 rounded-md bg-blue-600 hover:bg-blue-500 text-white text-sm",children:i?" ":"New Task"})]})]})]})}function F6e({isOpen:e,onClose:t,task:a}){const{i18n:s}=Dt(),n=(s?.language||"").toLowerCase().startsWith("ar");if(!e||!a)return null;const i={title:n?"":"Title",description:n?"":"Description",assigned:n?"":"Assigned",status:n?"":"Status",due:n?" ":"Due",start:n?" ":"Start",salesman:n?"":"Salesman",priority:n?"":"Priority",attachment:n?" ":"Attached File",createdBy:n?" ":"Created By",taskType:n?" ":"Task Type",relatedTo:n?" ":"Related To",reference:n?"/":"Reference",tags:n?"":"Tags",progress:n?" ":"Progress %",reminder:n?"":"Reminder",recurring:n?"":"Recurring",details:n?" ":"Task Details",close:n?"":"Close"};return r.jsxs("div",{className:"fixed inset-0 z-[100] flex items-stretch sm:items-center justify-center",children:[r.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),r.jsxs("div",{className:"relative w-full h-screen sm:w-[90%] sm:max-w-2xl sm:max-h-[90vh] sm:h-auto bg-[var(--content-bg)] text-[var(--content-text)] border shadow-xl rounded-none sm:rounded-2xl flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-6 py-3 sm:py-4 border-b sticky top-0 bg-[var(--content-bg)] z-10",children:[r.jsx("h2",{className:"text-xl font-semibold",children:i.details}),r.jsx("button",{onClick:t,className:"p-2 rounded-md hover:bg-[var(--table-row-hover)]","aria-label":i.close,children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:r.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto px-4 sm:px-6 py-4 sm:py-5 space-y-3",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xs opacity-70",children:i.title}),r.jsx("div",{className:"text-base font-medium",children:a.name})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs opacity-70",children:i.description}),r.jsx("div",{className:"text-sm whitespace-pre-wrap",children:a.sub||""})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xs opacity-70",children:i.assigned}),r.jsx("div",{className:"text-sm",children:a.assignee||""})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs opacity-70",children:i.salesman}),r.jsx("div",{className:"text-sm",children:a.salesman||""})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs opacity-70",children:i.status}),r.jsx("div",{className:"text-sm",children:a.status||""})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs opacity-70",children:i.priority}),r.jsx("div",{className:"text-sm",children:a.priority||""})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs opacity-70",children:i.due}),r.jsx("div",{className:"text-sm",children:a.due||""})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs opacity-70",children:i.start}),r.jsx("div",{className:"text-sm",children:a.startDate||""})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs opacity-70",children:i.createdBy}),r.jsx("div",{className:"text-sm",children:a.createdBy||""})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs opacity-70",children:i.taskType}),r.jsx("div",{className:"text-sm",children:a.taskType||""})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs opacity-70",children:i.relatedTo}),r.jsx("div",{className:"text-sm",children:a.relatedType||""})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs opacity-70",children:i.reference}),r.jsx("div",{className:"text-sm",children:a.relatedRef||""})]}),r.jsxs("div",{className:"sm:col-span-2",children:[r.jsx("div",{className:"text-xs opacity-70",children:i.tags}),r.jsx("div",{className:"text-sm",children:a.tags&&a.tags.length>0?a.tags.join(", "):""})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs opacity-70",children:i.progress}),r.jsx("div",{className:"text-sm",children:typeof a.progress=="number"?`${a.progress}%`:""})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs opacity-70",children:i.reminder}),r.jsx("div",{className:"text-sm",children:a.reminderBefore||""})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs opacity-70",children:i.recurring}),r.jsx("div",{className:"text-sm",children:a.recurring||""})]}),r.jsxs("div",{className:"sm:col-span-2",children:[r.jsx("div",{className:"text-xs opacity-70",children:i.attachment}),a.attachment?r.jsxs("div",{className:"mt-1 inline-flex items-center gap-2 px-2 py-1 rounded-md border bg-[var(--dropdown-bg)] text-xs",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:r.jsx("path",{d:"M21.44 11.05l-9.9 9.9a5.5 5.5 0 01-7.78-7.78l9.9-9.9a3.5 3.5 0 015 5l-9.2 9.2a1.5 1.5 0 01-2.12-2.12l8.49-8.49"})}),r.jsx("a",{href:a.attachment.url,target:"_blank",rel:"noreferrer",className:"hover:underline",children:a.attachment.name})]}):r.jsx("div",{className:"text-sm",children:""})]})]})]}),r.jsx("div",{className:"flex items-center justify-end gap-3 px-4 sm:px-6 py-3 sm:py-4 border-t bg-[var(--content-bg)]",children:r.jsx("button",{onClick:t,className:"px-4 py-2 rounded-md border bg-[var(--dropdown-bg)] text-sm",children:i.close})})]})]})}function o2({label:e,active:t,onClick:a,tone:s="default",count:n}){const i="inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium border transition-colors",l={default:"bg-[var(--dropdown-bg)] text-[var(--content-text)] border-[var(--divider)] hover:bg-[var(--table-row-hover)]",green:"bg-emerald-900/20 text-emerald-300 border-emerald-600/40 hover:bg-emerald-900/30",red:"bg-red-900/20 text-red-300 border-red-600/40 hover:bg-red-900/30",yellow:"bg-yellow-900/20 text-yellow-300 border-yellow-600/40 hover:bg-yellow-900/30",blue:"bg-sky-900/20 text-sky-300 border-sky-600/40 hover:bg-sky-900/30"},o=t?" ring-2 ring-indigo-500/40":"";return r.jsxs("button",{type:"button",onClick:a,className:`${i} ${l[s]}${o}`,children:[r.jsx("span",{className:"w-2 h-2 rounded-full",style:{background:s==="green"?"#10b981":s==="red"?"#ef4444":s==="yellow"?"#f59e0b":s==="blue"?"#0ea5e9":"var(--muted-text)"}}),e,typeof n=="number"?r.jsx("span",{className:"px-1.5 py-0.5 rounded border border-current text-[10px] opacity-80",children:n}):null]})}function c2({label:e,tone:t="yellow"}){const a={yellow:"bg-yellow-500/20 text-yellow-300 border-yellow-500/40",blue:"bg-sky-500/20 text-sky-300 border-sky-500/40",green:"bg-emerald-500/20 text-emerald-300 border-emerald-500/40",red:"bg-red-500/20 text-red-300 border-red-500/40"};return r.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs border ${a[t]}`,children:e})}function I6e(){const{t:e,i18n:t}=Dt(),a=(t?.language||"").toLowerCase().startsWith("ar"),[s,n]=w.useState(""),[i,l]=w.useState({status:{PENDING:!0,ACCEPTING:!0,FINISHED:!0,CANCELLED:!1}}),[o,c]=w.useState(!1),[d,u]=w.useState({search:"",createdAt:"",endDate:"",salesman:"",assignedTo:"",relatedType:"",status:"",priority:"",createdBy:"",useCreatedAt:!1,useEndDate:!1,overdueOnly:!1}),f=(ce,he)=>u(ue=>({...ue,[ce]:he})),x=()=>u({search:"",createdAt:"",endDate:"",salesman:"",assignedTo:"",relatedType:"",status:"",priority:"",createdBy:"",useCreatedAt:!1,useEndDate:!1,overdueOnly:!1}),m=(ce,he)=>l(ue=>({...ue,[ce]:{...ue[ce],[he]:!ue[ce][he]}})),g=w.useMemo(()=>[{id:101,name:"Initial Setup",sub:"Project structure and configs",assignee:"Ibrahim",state1:"Phase 1",state2:"Init",due:"Today",salesman:"Ibrahim",priority:"high",status:"PENDING"},{id:102,name:"Client Meeting",sub:"Requirements alignment",assignee:"Ahmed",state1:"Phase 2",state2:"Discuss",due:"Tomorrow",salesman:"Ahmed",priority:"medium",status:"PENDING"},{id:103,name:"Content Review",sub:"Marketing copy",assignee:"Semik",state1:"Review",state2:"Draft",due:"Soon",salesman:"Semik L",priority:"low",status:"PENDING"},{id:104,name:"Deployment Prep",sub:"CI/CD and smoke tests",assignee:"Admin",state1:"Release",state2:"Check",due:"Next week",salesman:"Admin",priority:"medium",status:"PENDING"}],[]),[v,b]=w.useState(g),j=(ce,he)=>b(ue=>ue.map(Fe=>Fe.id===ce?{...Fe,status:he}:Fe)),S=ce=>j(ce,"ACCEPTING"),k=ce=>j(ce,"FINISHED"),N=ce=>{window.confirm(a?"  ":"Confirm cancel task?")&&j(ce,"CANCELLED")},A=()=>b([]),_=ce=>{const he={id:Date.now(),name:ce.title,sub:ce.description||"",assignee:ce.assignedTo||ce.salesman||"",state1:"New",state2:"",due:ce.due||ce.endDate||"Soon",salesman:ce.salesman||"",priority:ce.priority||"medium",status:"PENDING",attachment:ce.attachment||null,startDate:ce.startDate||"",taskType:ce.taskType||"",createdBy:ce.createdBy||"Admin",relatedType:ce.relatedType||"",relatedRef:ce.relatedRef||"",tags:ce.tags||[],progress:typeof ce.progress=="number"?ce.progress:0,reminderBefore:ce.reminderBefore||"",recurring:ce.recurring||"none"};b(ue=>[...ue,he])},D=()=>{try{const ce=["id","name","sub","assignee","state1","state2","due","salesman","priority","status"],he=[ce.join(",")];v.forEach(Te=>{const ae=ce.map(De=>String(Te[De]??"").replace(/"/g,'""'));he.push(ae.map(De=>`"${De}"`).join(","))});const ue=new Blob([he.join(`
`)],{type:"text/csv;charset=utf-8;"}),Fe=URL.createObjectURL(ue),Ue=document.createElement("a");Ue.href=Fe,Ue.download="tasks.csv",document.body.appendChild(Ue),Ue.click(),document.body.removeChild(Ue),URL.revokeObjectURL(Fe)}catch(ce){console.error("Export failed",ce),alert("Export failed")}},P=w.useMemo(()=>{const ce=i?.status||{},he=d.status,ue=d.priority,Fe=d.salesman,Ue=d.assignedTo,Te=d.relatedType,ae=d.overdueOnly,De=new Date().toISOString().slice(0,10);return v.filter(Ce=>{const at=ce[Ce.status]??!0,ft=he?Ce.status===he:!0,zt=ue?Ce.priority===ue:!0,st=Fe?Ce.salesman===Fe:!0,$e=Ue?Ce.assignee===Ue:!0,qe=Te?Ce.relatedType===Te:!0;let ct=!0;return ae&&(ct=typeof Ce.due=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(Ce.due)&&Ce.due<De),at&&ft&&zt&&st&&$e&&qe&&ct})},[v,i,d.status,d.priority,d.salesman,d.assignedTo,d.relatedType,d.overdueOnly]),I=w.useMemo(()=>{const ce={PENDING:0,ACCEPTING:0,FINISHED:0,CANCELLED:0};return v.forEach(he=>{ce[he.status]!==void 0&&ce[he.status]++}),ce},[v]),[B,O]=w.useState(20),U=w.useMemo(()=>P.slice(0,B),[P,B]),[E,R]=w.useState({}),K=w.useMemo(()=>Object.values(E).filter(Boolean).length,[E]),V=ce=>R(he=>({...he,[ce]:!he[ce]})),Z=()=>R({}),J=w.useMemo(()=>U.length>0&&U.every(ce=>E[ce.id]),[U,E]),ee=()=>{if(J){const ce={...E};U.forEach(he=>{delete ce[he.id]}),R(ce)}else{const ce={...E};U.forEach(he=>{ce[he.id]=!0}),R(ce)}},W=()=>{const ce=Object.keys(E).filter(he=>E[he]).map(he=>Number(he));if(ce.length===0){alert(a?"   ":"No selected items");return}window.confirm(a?"   ":"Confirm delete selected?")&&(b(he=>he.filter(ue=>!ce.includes(ue.id))),Z())},[le,M]=w.useState(""),X=()=>{const ce=Object.keys(E).filter(he=>E[he]).map(he=>Number(he));if(ce.length===0){alert(a?"   ":"Select tasks to reassign");return}if(!le){alert(a?"  ":"Please choose a salesman");return}b(he=>he.map(ue=>ce.includes(ue.id)?{...ue,salesman:le}:ue)),Z()},[z,Q]=w.useState(!1),[ne,re]=w.useState(null),oe=ce=>re(ce),q=()=>re(null),[ie,ye]=w.useState(!0),Y=()=>{if(window.history&&window.history.length>1)try{window.history.back()}catch{}else try{window.location.href="/besouhoula/"}catch{window.location.href="/crm-ibrahim/"}};return r.jsxs("div",{className:"px-4 md:px-6 py-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-lg font-semibold tracking-wide",children:"ALL TASK"}),r.jsxs("button",{type:"button",onClick:Y,className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] hover:bg-[var(--table-row-hover)]",title:a?" ":"Close page","aria-label":a?"":"Close",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:r.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),r.jsx("span",{className:"hidden sm:inline text-sm",children:a?"":"Close"})]})]}),r.jsx("div",{className:"h-6"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("button",{onClick:()=>c(ce=>!ce),className:"inline-flex items-center gap-2 px-3.5 py-2.5 rounded-md bg-[var(--dropdown-bg)] text-[var(--content-text)]",title:a?"/  ":"Toggle advanced filters","aria-label":a?"":"Filter",children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:[r.jsx("path",{d:"M3 6h18"}),r.jsx("path",{d:"M6 12h12"}),r.jsx("path",{d:"M10 18h4"})]})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:()=>Q(!0),className:"inline-flex items-center gap-2 px-3.5 py-2.5 rounded-md bg-[var(--dropdown-bg)] text-[var(--content-text)]",title:a?" ":"New Task",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:r.jsx("path",{d:"M12 4v16M4 12h16"})}),a?"":"New"]}),r.jsxs("button",{onClick:D,className:"inline-flex items-center gap-2 px-3.5 py-2.5 rounded-md bg-[var(--dropdown-bg)] text-[var(--content-text)]",title:a?"":"Export",children:[r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:[r.jsx("path",{d:"M12 5v8m0 0l-3-3m3 3l3-3"}),r.jsx("path",{d:"M5 19h14"})]}),a?"":"Export"]})]})]}),o&&r.jsxs("div",{className:"mt-4 rounded-xl border bg-[var(--content-bg)] text-[var(--content-text)] p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-sm font-medium",children:a?" ":"Advanced Filters"}),r.jsx("button",{type:"button",onClick:x,className:"text-xs px-2 py-1 rounded-md border bg-[var(--dropdown-bg)]",children:a?" ":"Reset"})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-xs opacity-70 block mb-1",children:a?"":"Search"}),r.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg border bg-[var(--dropdown-bg)] w-full",children:[r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4 opacity-70",children:[r.jsx("circle",{cx:"11",cy:"11",r:"6"}),r.jsx("path",{d:"M21 21l-4.5-4.5"})]}),r.jsx("input",{value:s,onChange:ce=>n(ce.target.value),placeholder:a?"    ...":"Search task or project...",className:"bg-transparent outline-none text-sm flex-1 w-full"})]})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-xs opacity-70 mb-1",children:a?" ":"Creation"}),r.jsx("input",{type:"date",value:d.createdAt,onChange:ce=>f("createdAt",ce.target.value),className:"px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] text-sm w-full"})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-xs opacity-70 mb-1",children:a?" ":"End"}),r.jsx("input",{type:"date",value:d.endDate,onChange:ce=>f("endDate",ce.target.value),className:"px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] text-sm w-full"})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-xs opacity-70 mb-1",children:a?"":"Salesman"}),r.jsxs("select",{value:d.salesman,onChange:ce=>f("salesman",ce.target.value),className:"px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] text-sm w-full",children:[r.jsx("option",{value:"",children:a?"":"Select"}),r.jsx("option",{children:"Ibrahim"}),r.jsx("option",{children:"Admin"}),r.jsx("option",{children:"Ahmed"})]})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-xs opacity-70 mb-1",children:a?" ":"Assigned To"}),r.jsxs("select",{value:d.assignedTo,onChange:ce=>f("assignedTo",ce.target.value),className:"px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] text-sm w-full",children:[r.jsx("option",{value:"",children:a?"":"Select"}),r.jsx("option",{children:"Team A"}),r.jsx("option",{children:"Team B"}),r.jsx("option",{children:"Support"}),r.jsx("option",{children:"Sales"}),r.jsx("option",{children:"Admin"}),r.jsx("option",{children:"Ibrahim"}),r.jsx("option",{children:"Ahmed"})]})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-xs opacity-70 mb-1",children:a?"":"Status"}),r.jsxs("select",{value:d.status,onChange:ce=>f("status",ce.target.value),className:"px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] text-sm w-full",children:[r.jsx("option",{value:"",children:a?"":"Select"}),r.jsx("option",{children:"PENDING"}),r.jsx("option",{children:"ACCEPTING"}),r.jsx("option",{children:"FINISHED"}),r.jsx("option",{children:"CANCELLED"})]})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-xs opacity-70 mb-1",children:a?"":"Priority"}),r.jsxs("select",{value:d.priority,onChange:ce=>f("priority",ce.target.value),className:"px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] text-sm w-full",children:[r.jsx("option",{value:"",children:a?"":"Select"}),r.jsx("option",{value:"high",children:"High"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"low",children:"Low"})]})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-xs opacity-70 mb-1",children:a?" ":"Related Module"}),r.jsxs("select",{value:d.relatedType,onChange:ce=>f("relatedType",ce.target.value),className:"px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] text-sm w-full",children:[r.jsx("option",{value:"",children:a?"":"Select"}),r.jsx("option",{children:"Lead"}),r.jsx("option",{children:"Deal"}),r.jsx("option",{children:"Contact"}),r.jsx("option",{children:"Opportunity"}),r.jsx("option",{children:"Ticket"}),r.jsx("option",{children:"Project"})]})]})]}),r.jsxs("div",{className:"mt-4 flex justify-end",children:[r.jsxs("label",{className:"text-xs opacity-70 flex items-center gap-2",children:[a?" ":"Sort By",r.jsxs("select",{className:"px-2 py-1 rounded-md border bg-transparent text-sm",children:[r.jsx("option",{children:a?"":"Newest"}),r.jsx("option",{children:a?" ":"Due Soon"}),r.jsx("option",{children:a?"":"Priority"})]})]}),r.jsxs("label",{className:"text-xs opacity-70 flex items-center gap-2 ml-4",children:[r.jsx("input",{type:"checkbox",checked:d.overdueOnly,onChange:()=>f("overdueOnly",!d.overdueOnly)}),a?" ":"Overdue only"]})]})]}),r.jsx("div",{className:"w-full h-6"}),r.jsxs("div",{className:"mb-3 flex items-center justify-between gap-2",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsx(o2,{label:a?" ":"PENDING",tone:"yellow",active:!!i.status.PENDING,count:I.PENDING,onClick:()=>m("status","PENDING")}),r.jsx(o2,{label:a?"":"ACCEPTING",tone:"blue",active:!!i.status.ACCEPTING,count:I.ACCEPTING,onClick:()=>m("status","ACCEPTING")}),r.jsx(o2,{label:a?"":"FINISHED",tone:"green",active:!!i.status.FINISHED,count:I.FINISHED,onClick:()=>m("status","FINISHED")}),r.jsx(o2,{label:a?"":"CANCELLED",tone:"red",active:!!i.status.CANCELLED,count:I.CANCELLED,onClick:()=>m("status","CANCELLED")})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("button",{type:"button",onClick:A,className:"px-3 py-1.5 rounded-md border text-sm bg-[var(--dropdown-bg)]",children:a?" ":"Clear Data"})})]}),r.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[r.jsx("div",{className:"text-xs opacity-70",children:a?`: ${K}`:`Selected: ${K}`}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{type:"button",onClick:W,className:"px-3 py-1.5 rounded-md border text-sm bg-[var(--dropdown-bg)]",children:a?" ":"Delete Selected"}),r.jsx("label",{className:"text-xs opacity-70",children:a?"  ":"Reassign to"}),r.jsxs("select",{value:le,onChange:ce=>M(ce.target.value),className:"px-2 py-1 rounded-md border bg-[var(--dropdown-bg)] text-sm",children:[r.jsx("option",{value:"",children:a?"":"Select"}),r.jsx("option",{children:"Ibrahim"}),r.jsx("option",{children:"Admin"}),r.jsx("option",{children:"Ahmed"})]}),r.jsx("button",{type:"button",onClick:X,className:"px-3 py-1.5 rounded-md border text-sm bg-[var(--dropdown-bg)]",children:a?"":"Apply"})]})]}),r.jsxs("div",{className:"mt-2 rounded-xl border overflow-hidden md:hidden",children:[r.jsx("div",{className:"px-4 py-3 bg-[var(--table-header-bg)] border-b",children:r.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:J,onChange:ee}),a?" ":"Select all"]})}),U.length===0?r.jsx("div",{className:"px-4 py-6 text-center text-sm opacity-70",children:a?"   ":"No tasks right now"}):U.map(ce=>r.jsxs("div",{className:"px-4 py-3 border-b hover:bg-[var(--table-row-hover)] cursor-pointer",onClick:()=>oe(ce),children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[r.jsx("input",{type:"checkbox",checked:!!E[ce.id],onClick:he=>he.stopPropagation(),onChange:he=>{he.stopPropagation(),V(ce.id)}}),r.jsx("div",{className:"font-medium truncate",children:ce.name})]}),r.jsx("div",{className:"shrink-0",children:(()=>{const he=ce.status,ue=he==="PENDING"?"yellow":he==="ACCEPTING"?"blue":he==="FINISHED"?"green":he==="CANCELLED"?"red":"yellow",Fe=a?he==="PENDING"?" ":he==="ACCEPTING"?"":he==="FINISHED"?"":he==="CANCELLED"?"":he:he;return r.jsx(c2,{label:Fe,tone:ue})})()})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"opacity-70",children:a?"":"Assigned"}),r.jsx("div",{className:"truncate",children:ce.assignee})]}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"opacity-70",children:a?" ":"Due"}),r.jsx("div",{className:"truncate",children:ce.due})]}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"opacity-70",children:a?"":"Salesman"}),r.jsx("div",{className:"truncate",children:ce.salesman})]}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"opacity-70",children:a?"":"Priority"}),r.jsx("div",{children:(()=>{const he=ce.priority==="high"?"red":ce.priority==="medium"?"yellow":"green",ue=ce.priority==="high"?a?"":"High":ce.priority==="medium"?a?"":"Medium":a?"":"Low";return r.jsx(c2,{label:ue,tone:he})})()})]})]}),r.jsx("div",{className:"pt-2 mt-2 border-t border-[var(--divider)]",children:r.jsxs("div",{className:"flex items-center justify-end gap-2",children:[r.jsx("button",{type:"button",onClick:he=>{he.stopPropagation(),S(ce.id)},className:"px-2 py-1 rounded-md border text-xs bg-[var(--dropdown-bg)]",title:a?" ":"Start Task",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:r.jsx("path",{d:"M8 5v14l11-7z"})})}),r.jsx("button",{type:"button",onClick:he=>{he.stopPropagation(),k(ce.id)},className:"px-2 py-1 rounded-md border text-xs bg-[var(--dropdown-bg)]",title:a?" ":"Finish Task",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:r.jsx("path",{d:"M20 6L9 17l-5-5"})})}),r.jsx("button",{type:"button",onClick:he=>{he.stopPropagation(),N(ce.id)},className:"px-2 py-1 rounded-md border text-xs",title:a?" ":"Cancel Task",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:r.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]})})]},ce.id))]}),r.jsx("div",{className:"mt-2 rounded-xl border hidden md:block",children:r.jsxs("table",{className:"w-full table-fixed text-sm",children:[r.jsx("thead",{className:"bg-[var(--table-header-bg)]",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left",children:r.jsx("input",{type:"checkbox",checked:J,onChange:ee})}),r.jsx("th",{className:"px-4 py-3 text-left",children:a?"":"Task"}),r.jsx("th",{className:"px-4 py-3 text-left border-l border-[var(--divider)]",children:a?"":"Assigned"}),r.jsx("th",{className:"px-4 py-3 text-left border-l border-[var(--divider)]",children:a?"":"Status"}),r.jsx("th",{className:"px-4 py-3 text-left border-l border-[var(--divider)]",children:a?" ":"Due"}),r.jsx("th",{className:"px-4 py-3 text-left border-l border-[var(--divider)]",children:a?"":"Salesman"}),r.jsx("th",{className:"px-4 py-3 text-left border-l border-[var(--divider)]",children:a?"":"Priority"}),r.jsx("th",{className:"px-4 py-3 text-left border-l border-[var(--divider)]",children:a?"":"Actions"})]})}),r.jsx("tbody",{className:"bg-[var(--content-bg)]",children:U.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:"8",className:"px-4 py-6 text-center text-sm opacity-70",children:a?"   ":"No tasks right now"})}):U.map(ce=>r.jsxs("tr",{className:"hover:bg-[var(--table-row-hover)] cursor-pointer",onClick:()=>oe(ce),children:[r.jsx("td",{className:"px-4 py-3",children:r.jsx("input",{type:"checkbox",checked:!!E[ce.id],onClick:he=>he.stopPropagation(),onChange:he=>{he.stopPropagation(),V(ce.id)}})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("div",{className:"font-medium",children:ce.name})}),r.jsx("td",{className:"px-4 py-3 border-l border-[var(--divider)]",children:ce.assignee}),r.jsx("td",{className:"px-4 py-3 border-l border-[var(--divider)]",children:r.jsx("div",{className:"flex items-center gap-1",children:(()=>{const he=ce.status,ue=he==="PENDING"?"yellow":he==="ACCEPTING"?"blue":he==="FINISHED"?"green":he==="CANCELLED"?"red":"yellow",Fe=a?he==="PENDING"?" ":he==="ACCEPTING"?"":he==="FINISHED"?"":he==="CANCELLED"?"":he:he;return r.jsx(c2,{label:Fe,tone:ue})})()})}),r.jsx("td",{className:"px-4 py-3 border-l border-[var(--divider)]",children:ce.due}),r.jsx("td",{className:"px-4 py-3 border-l border-[var(--divider)]",children:ce.salesman}),r.jsx("td",{className:"px-4 py-3 border-l border-[var(--divider)]",children:(()=>{const he=ce.priority==="high"?"red":ce.priority==="medium"?"yellow":"green",ue=ce.priority==="high"?a?"":"High":ce.priority==="medium"?a?"":"Medium":a?"":"Low";return r.jsx(c2,{label:ue,tone:he})})()}),r.jsx("td",{className:"px-4 py-3 border-l border-[var(--divider)]",children:r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsx("button",{type:"button",onClick:he=>{he.stopPropagation(),S(ce.id)},className:"px-2 py-1 rounded-md border text-xs bg-[var(--dropdown-bg)]",title:a?" ":"Start Task",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:r.jsx("path",{d:"M8 5v14l11-7z"})})}),r.jsx("button",{type:"button",onClick:he=>{he.stopPropagation(),k(ce.id)},className:"px-2 py-1 rounded-md border text-xs bg-[var(--dropdown-bg)]",title:a?" ":"Finish Task",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:r.jsx("path",{d:"M20 6L9 17l-5-5"})})}),r.jsx("button",{type:"button",onClick:he=>{he.stopPropagation(),N(ce.id)},className:"px-2 py-1 rounded-md border text-xs",title:a?" ":"Cancel Task",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:r.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]})})]},ce.id))})]})}),r.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm opacity-70",children:a?"":"Show"}),r.jsxs("select",{value:B,onChange:ce=>O(Number(ce.target.value)),className:"px-2 py-1 rounded-md border bg-[var(--dropdown-bg)] text-sm",children:[r.jsx("option",{value:10,children:"10"}),r.jsx("option",{value:20,children:"20"}),r.jsx("option",{value:40,children:"40"}),r.jsx("option",{value:50,children:"50"}),r.jsx("option",{value:100,children:"100"})]})]}),r.jsx("div",{className:"text-sm opacity-70",children:a?` ${P.length}`:`of ${P.length}`})]}),r.jsx(R6e,{isOpen:z,onClose:()=>Q(!1),onSave:ce=>{_(ce),Q(!1)}}),r.jsx(F6e,{isOpen:!!ne,onClose:q,task:ne})]})}function B6e(){const{t:e,i18n:t}=Dt(),a=t.language==="ar",[s,n]=w.useState(""),[i,l]=w.useState(""),[o,c]=w.useState("opportunities"),[d,u]=w.useState(1),f=10,[x,m]=w.useState("all"),[g,v]=w.useState("all"),[b,j]=w.useState("all"),[S,k]=w.useState("all"),[N,A]=w.useState("all"),[_,D]=w.useState("all"),[P,I]=w.useState("all"),[B,O]=w.useState("all"),[U,E]=w.useState("all"),[R,K]=w.useState(""),[V,Z]=w.useState("all"),[J,ee]=w.useState("all"),W=[{id:1,name:"Opportunity A",customer:"Ahmed Ali",owner:"Sara Mohamed",value:12e3,status:"open",createdAt:"2025-10-01"},{id:2,name:"Opportunity B",customer:"Omar Hassan",owner:"Khaled Ibrahim",value:8e3,status:"open",createdAt:"2025-10-05"},{id:3,name:"Opportunity C",customer:"Layla Mohamed",owner:"Fatima Ali",value:15e3,status:"closed",createdAt:"2025-09-12"},{id:4,name:"Opportunity D",customer:"Yousef Nader",owner:"Nadia Fahd",value:9500,status:"missed",createdAt:"2025-10-07"},{id:5,name:"Opportunity E",customer:"Reem Saleh",owner:"Ahmed Ali",value:22e3,status:"open",createdAt:"2025-08-21"}],le=[{id:1,lead:"Hassan Ali",project:"Project X",date:"2025-09-30",status:"interested"},{id:2,lead:"Mona Saleh",project:"Project Y",date:"2025-10-02",status:"interested"}],M=[{id:1,lead:"Ola Sami",unit:"APT-12B",date:"2025-10-01",status:"confirmed"},{id:2,lead:"Karim Mostafa",unit:"APT-09A",date:"2025-10-06",status:"cancelled"}],X=[{id:1,customer:"Ahmed Ali",amount:45e3,date:"2025-10-05",status:"won"},{id:2,customer:"Sara Mohamed",amount:27e3,date:"2025-09-22",status:"lost"},{id:3,customer:"Omar Hassan",amount:18e3,date:"2025-10-04",status:"won"}],z=[{id:1,reason:a?" ":"High Price",count:6},{id:2,reason:a?" ":"Not Interested",count:4},{id:3,reason:a?" ":"Decision Delayed",count:3}],Q=new Date,ne=`${Q.getFullYear()}-${String(Q.getMonth()+1).padStart(2,"0")}`,re=W.filter(Ne=>(Ne.createdAt||"").startsWith(ne)).length,oe=W.filter(Ne=>Ne.status==="open").length,q=W.filter(Ne=>Ne.status==="missed").length,ie=W.filter(Ne=>Ne.status==="closed").length+X.filter(Ne=>Ne.status==="won"&&Ne.date.startsWith(ne)).length,ye=X.filter(Ne=>Ne.status==="won"&&Ne.date.startsWith(ne)).length,Y=Math.max(oe-ie,0),ce=[{key:"opportunities",label:e("Opportunities","Opportunities"),icon:Gle},{key:"cils",label:e("Cils","Cils"),icon:Jle},{key:"eoi",label:e("EOI","EOI"),icon:noe},{key:"reservation",label:e("Reservation","Reservation"),icon:Xle},{key:"deals",label:e("Deals","Deals"),icon:ioe},{key:"cancel_reasons",label:e("Cancel Reasons","Cancel Reasons"),icon:uoe}],he=w.useMemo(()=>{switch(o){case"opportunities":return"#2563eb";case"cils":return"#10b981";case"eoi":return"#f59e0b";case"reservation":return"#8b5cf6";case"deals":return"#14b8a6";case"cancel_reasons":return"#ef4444";default:return"#9ca3af"}},[o]),ue=w.useRef(null),Fe=w.useRef({}),[Ue,Te]=w.useState({left:0,width:0});w.useEffect(()=>{const Ne=()=>{const Mt=Fe.current[o],Ee=ue.current;if(!Mt||!Ee)return;const ze=Mt.getBoundingClientRect(),We=Ee.getBoundingClientRect();Te({left:ze.left-We.left,width:ze.width})};return Ne(),window.addEventListener("resize",Ne),()=>window.removeEventListener("resize",Ne)},[o]);const ae=Ne=>!s&&!i?Ne:Ne.filter(Mt=>{const Ee=Mt.date||Mt.createdAt||"";return!(!Ee||s&&Ee<s||i&&Ee>i)}),[De,Ce]=w.useState(()=>{try{const Ne=localStorage.getItem("sales_cils");if(Ne)return JSON.parse(Ne)}catch{}return[{id:1,client:"Ahmed Ali",phone:"0100000000",email:"ahmed@example.com",project:"Project X",developer:"DevCo",agent:"Sara Mohamed",date:"2025-10-09"},{id:2,client:"Fatima Ali",phone:"0111111111",email:"fatima@example.com",project:"Project Y",developer:"Alpha Dev",agent:"Khaled Ibrahim",date:"2025-10-08"}]});w.useEffect(()=>{try{localStorage.setItem("sales_cils",JSON.stringify(De))}catch{}},[De]);const at=w.useMemo(()=>{switch(o){case"opportunities":{let Ne=ae(W);return x!=="all"&&(Ne=Ne.filter(Mt=>Mt.status===x)),g!=="all"&&(Ne=Ne.filter(Mt=>Mt.owner===g)),Ne}case"cils":{let Ne=ae(De);return b!=="all"&&(Ne=Ne.filter(Mt=>Mt.project===b)),S!=="all"&&(Ne=Ne.filter(Mt=>Mt.developer===S)),N!=="all"&&(Ne=Ne.filter(Mt=>Mt.agent===N)),Ne}case"eoi":{let Ne=ae(le);return _!=="all"&&(Ne=Ne.filter(Mt=>Mt.status===_)),P!=="all"&&(Ne=Ne.filter(Mt=>Mt.project===P)),Ne}case"reservation":{let Ne=ae(M);return B!=="all"&&(Ne=Ne.filter(Mt=>Mt.status===B)),Ne}case"deals":{let Ne=ae(X);return U!=="all"&&(Ne=Ne.filter(Mt=>Mt.status===U)),Ne}case"cancel_reasons":{let Ne=z;if(R){const Mt=R.toLowerCase();Ne=Ne.filter(Ee=>String(Ee.reason).toLowerCase().includes(Mt))}return Ne}default:return[]}},[o,s,i,x,g,b,S,N,_,P,B,U,R]),ft=Math.max(1,Math.ceil(at.length/f)),zt=at.slice((d-1)*f,d*f),st=()=>{u(1)},$e=Ne=>{if(!Ne||!Ne.length)return"";const Mt=Object.keys(Ne[0]),Ee=Mt.join(","),ze=Ne.map(We=>Mt.map(xt=>JSON.stringify(We[xt]??"")).join(","));return[Ee,...ze].join(`
`)},qe=(Ne,Mt)=>{const Ee=new Blob([Mt],{type:"text/csv;charset=utf-8;"}),ze=URL.createObjectURL(Ee),We=document.createElement("a");We.href=ze,We.download=Ne,We.click(),URL.revokeObjectURL(ze)},ct=()=>{const Ne=[{metric:e("Opened This Month","Opened This Month"),value:re},{metric:e("Closed This Month","Closed This Month"),value:ye},{metric:e("Open Chances","Open Chances"),value:oe},{metric:e("Missed Chances","Missed Chances"),value:q},{metric:e("Remaining","Remaining"),value:Y},{metric:e("Closed Chances","Closed Chances"),value:ie}];qe("sales_report_summary.csv",$e(Ne))},dt=w.useMemo(()=>{const Ne=at;switch(o){case"opportunities":return[{label:e("Opened This Month","Opened This Month"),value:re,color:"bg-blue-500"},{label:e("Closed This Month","Closed This Month"),value:ye,color:"bg-green-500"},{label:e("Open Chances","Open Chances"),value:oe,color:"bg-indigo-500"},{label:e("Missed Chances","Missed Chances"),value:q,color:"bg-red-500"},{label:e("Remaining","Remaining"),value:Y,color:"bg-amber-500"},{label:e("Closed Chances","Closed Chances"),value:ie,color:"bg-teal-500"}];case"cils":{const Mt=Ne.length,Ee=Ne.filter(gt=>(gt.date||"").startsWith(ne)).length,ze=new Set(Ne.map(gt=>gt.project)).size,We=new Set(Ne.map(gt=>gt.developer)).size,xt=new Set(Ne.map(gt=>gt.agent)).size;return[{label:e("Total CILs","Total CILs"),value:Mt,color:"bg-blue-500"},{label:e("This Month","This Month"),value:Ee,color:"bg-amber-600"},{label:e("Projects","Projects"),value:ze,color:"bg-violet-600"},{label:e("Developers","Developers"),value:We,color:"bg-indigo-600"},{label:e("Agents","Agents"),value:xt,color:"bg-emerald-600"}]}case"eoi":{const Mt=Ne.length,Ee=Ne.filter(xt=>xt.status==="interested").length,ze=new Set(Ne.map(xt=>xt.project)).size,We=Ne.filter(xt=>(xt.date||"").startsWith(ne)).length;return[{label:e("Total EOI","Total EOI"),value:Mt,color:"bg-orange-500"},{label:e("Interested","Interested"),value:Ee,color:"bg-emerald-600"},{label:e("Projects","Projects"),value:ze,color:"bg-violet-600"},{label:e("This Month","This Month"),value:We,color:"bg-amber-600"}]}case"reservation":{const Mt=Ne.length,Ee=Ne.filter(xt=>xt.status==="confirmed").length,ze=Ne.filter(xt=>xt.status==="cancelled").length,We=Ne.filter(xt=>(xt.date||"").startsWith(ne)).length;return[{label:e("Total Reservations","Total Reservations"),value:Mt,color:"bg-purple-500"},{label:e("Confirmed","Confirmed"),value:Ee,color:"bg-emerald-600"},{label:e("Cancelled","Cancelled"),value:ze,color:"bg-red-600"},{label:e("This Month","This Month"),value:We,color:"bg-amber-600"}]}case"deals":{const Mt=Ne.length,Ee=Ne.filter(xt=>xt.status==="won").length,ze=Ne.filter(xt=>xt.status==="lost").length,We=Ne.filter(xt=>xt.status==="won"&&(xt.date||"").startsWith(ne)).length;return[{label:e("Total Deals","Total Deals"),value:Mt,color:"bg-teal-500"},{label:e("Won","Won"),value:Ee,color:"bg-emerald-600"},{label:e("Lost","Lost"),value:ze,color:"bg-red-600"},{label:e("Won This Month","Won This Month"),value:We,color:"bg-blue-600"}]}case"cancel_reasons":{const Mt=Ne.reduce((We,xt)=>We+(xt.count||0),0),Ee=Ne.length?Math.max(...Ne.map(We=>We.count||0)):0,ze=Ne.length;return[{label:e("Total Cancellations","Total Cancellations"),value:Mt,color:"bg-red-600"},{label:e("Top Reason Count","Top Reason Count"),value:Ee,color:"bg-pink-600"},{label:e("Unique Reasons","Unique Reasons"),value:ze,color:"bg-gray-600"}]}default:return[]}},[o,at]),Nt=()=>{qe(`sales_${o}_list.csv`,$e(at))},Ct=new Date().toISOString().slice(0,10),[Lt,Ht]=w.useState({client:"",phone:"",email:"",project:"",developer:"",agent:"",date:Ct}),Vt=()=>{const{client:Ne,project:Mt,agent:Ee}=Lt;if(!Ne||!Mt||!Ee){alert(t.language==="ar"?"    :   ":"Please fill required fields: client, project, agent");return}const ze=Date.now();Ce(We=>[{id:ze,...Lt},...We]),Ht({client:"",phone:"",email:"",project:"",developer:"",agent:"",date:Ct})};return r.jsxs(aa,{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:e("Sales Report")}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:ct,className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border btn-glass",children:e("Export Report")}),r.jsx("button",{onClick:Nt,className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border btn-glass",children:e("Export Data")})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"card glass-card p-4",children:r.jsxs("div",{className:"flex flex-wrap items-end gap-3",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("From")}),r.jsx("input",{type:"date",value:s,onChange:Ne=>n(Ne.target.value),className:"input",placeholder:e("Date Input Placeholder")})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("To")}),r.jsx("input",{type:"date",value:i,onChange:Ne=>l(Ne.target.value),className:"input",placeholder:e("Date Input Placeholder")})]}),o==="opportunities"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Status")}),r.jsxs("select",{value:x,onChange:Ne=>m(Ne.target.value),className:"input",children:[r.jsx("option",{value:"all",children:e("All","All")}),r.jsx("option",{value:"open",children:e("Open","Open")}),r.jsx("option",{value:"missed",children:e("Missed","Missed")}),r.jsx("option",{value:"closed",children:e("Closed","Closed")})]})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Owner")}),r.jsxs("select",{value:g,onChange:Ne=>v(Ne.target.value),className:"input",children:[r.jsx("option",{value:"all",children:e("All","All")}),[...new Set(W.map(Ne=>Ne.owner))].map(Ne=>r.jsx("option",{value:Ne,children:Ne},Ne))]})]})]}),o==="cils"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:"Project"}),r.jsxs("select",{value:b,onChange:Ne=>j(Ne.target.value),className:"input",children:[r.jsx("option",{value:"all",children:e("All","All")}),[...new Set(De.map(Ne=>Ne.project))].map(Ne=>r.jsx("option",{value:Ne,children:Ne},Ne))]})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Developer","Developer")}),r.jsxs("select",{value:S,onChange:Ne=>k(Ne.target.value),className:"input",children:[r.jsx("option",{value:"all",children:e("All","All")}),[...new Set(De.map(Ne=>Ne.developer))].map(Ne=>r.jsx("option",{value:Ne,children:Ne},Ne))]})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Agent","Agent")}),r.jsxs("select",{value:N,onChange:Ne=>A(Ne.target.value),className:"input",children:[r.jsx("option",{value:"all",children:e("All","All")}),[...new Set(De.map(Ne=>Ne.agent))].map(Ne=>r.jsx("option",{value:Ne,children:Ne},Ne))]})]})]}),o==="eoi"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Status")}),r.jsxs("select",{value:_,onChange:Ne=>D(Ne.target.value),className:"input",children:[r.jsx("option",{value:"all",children:e("All","All")}),r.jsx("option",{value:"interested",children:e("Interested","Interested")})]})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:"Project"}),r.jsxs("select",{value:P,onChange:Ne=>I(Ne.target.value),className:"input",children:[r.jsx("option",{value:"all",children:e("All","All")}),[...new Set(le.map(Ne=>Ne.project))].map(Ne=>r.jsx("option",{value:Ne,children:Ne},Ne))]})]})]}),o==="reservation"&&r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Status")}),r.jsxs("select",{value:B,onChange:Ne=>O(Ne.target.value),className:"input",children:[r.jsx("option",{value:"all",children:e("All","All")}),r.jsx("option",{value:"confirmed",children:e("Confirmed","Confirmed")}),r.jsx("option",{value:"cancelled",children:e("Cancelled","Cancelled")})]})]}),o==="deals"&&r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Status")}),r.jsxs("select",{value:U,onChange:Ne=>E(Ne.target.value),className:"input",children:[r.jsx("option",{value:"all",children:e("All","All")}),r.jsx("option",{value:"won",children:e("Won","Won")}),r.jsx("option",{value:"lost",children:e("Lost","Lost")})]})]}),o==="cancel_reasons"&&r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Reason")}),r.jsx("input",{type:"text",value:R,onChange:Ne=>K(Ne.target.value),className:"input",placeholder:e("Search","Search")})]}),r.jsx("button",{onClick:st,className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border btn-glass",children:e("Apply Filters")}),r.jsx("button",{onClick:()=>{n(""),l(""),u(1)},className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border btn-glass",children:e("Reset")})]})}),r.jsx("div",{className:"card glass-card p-3",children:r.jsxs("div",{ref:ue,className:"relative flex flex-wrap gap-4",children:[ce.map(Ne=>{const Mt=Ne.icon;return r.jsxs("button",{ref:Ee=>{Fe.current[Ne.key]=Ee},onClick:()=>{c(Ne.key),u(1)},className:`inline-flex items-center gap-2 px-4 py-2 rounded-md border text-sm ${o===Ne.key?"bg-blue-600 text-white border-blue-600":"btn-glass"}`,children:[Mt&&r.jsx(Mt,{className:"w-4 h-4"}),Ne.label]},Ne.key)}),r.jsx("div",{className:"absolute bottom-0 h-1 rounded transition-all",style:{left:Ue.left,width:Ue.width,background:he}})]})}),dt.length>0&&r.jsx("section",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mt-4",children:dt.map((Ne,Mt)=>r.jsxs("div",{className:"card glass-card p-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-[var(--muted-text)]",children:Ne.label}),r.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${Ne.color}`})]}),r.jsx("div",{className:"mt-2 text-2xl font-semibold",children:Ne.value})]},Mt))}),o==="cils"&&r.jsxs("div",{className:"card glass-card p-4",children:[r.jsx("h3",{className:"text-sm font-medium mb-3",children:e("Add CIL","Add CIL")}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[r.jsx("input",{className:"input",placeholder:e("Client","Client"),value:Lt.client,onChange:Ne=>Ht({...Lt,client:Ne.target.value})}),r.jsx("input",{className:"input",placeholder:e("Phone","Phone"),value:Lt.phone,onChange:Ne=>Ht({...Lt,phone:Ne.target.value})}),r.jsx("input",{className:"input",placeholder:e("Email","Email"),value:Lt.email,onChange:Ne=>Ht({...Lt,email:Ne.target.value})}),r.jsx("input",{className:"input",placeholder:"Project",value:Lt.project,onChange:Ne=>Ht({...Lt,project:Ne.target.value})}),r.jsx("input",{className:"input",placeholder:e("Developer","Developer"),value:Lt.developer,onChange:Ne=>Ht({...Lt,developer:Ne.target.value})}),r.jsx("input",{className:"input",placeholder:e("Agent","Agent"),value:Lt.agent,onChange:Ne=>Ht({...Lt,agent:Ne.target.value})}),r.jsx("input",{type:"date",className:"input",value:Lt.date,onChange:Ne=>Ht({...Lt,date:Ne.target.value})})]}),r.jsx("div",{className:"mt-3",children:r.jsx("button",{onClick:Vt,className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border btn-glass",children:e("Add","Add")})})]}),r.jsxs("div",{className:"card glass-card p-0",children:[r.jsxs("div",{className:"px-4 py-3 bg-transparent border-b flex items-center justify-between",children:[r.jsx("h2",{className:"text-sm font-medium",children:e("Data List")}),r.jsxs("span",{className:"text-xs text-[var(--muted-text)]",children:[e("Show Entries")," ",zt.length]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"nova-table nova-table--glass w-full text-sm min-w-[700px]",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[o==="opportunities"&&r.jsxs(r.Fragment,{children:[r.jsx("th",{children:e("Customer")}),r.jsx("th",{children:e("Assigned")}),r.jsx("th",{children:e("Value")}),r.jsx("th",{children:e("Status")}),r.jsx("th",{children:e("Last Contact")})]}),o==="cils"&&r.jsxs(r.Fragment,{children:[r.jsx("th",{children:e("Client","Client")}),r.jsx("th",{children:e("Phone","Phone")}),r.jsx("th",{children:e("Email","Email")}),r.jsx("th",{children:"Project"}),r.jsx("th",{children:e("Developer","Developer")}),r.jsx("th",{children:e("Agent","Agent")}),r.jsx("th",{children:e("Date","Date")})]}),o==="eoi"&&r.jsxs(r.Fragment,{children:[r.jsx("th",{children:e("Lead")}),r.jsx("th",{children:"Project"}),r.jsx("th",{children:e("Date Range")}),r.jsx("th",{children:e("Status")})]}),o==="reservation"&&r.jsxs(r.Fragment,{children:[r.jsx("th",{children:e("Lead")}),r.jsx("th",{children:"Unit"}),r.jsx("th",{children:e("Date Range")}),r.jsx("th",{children:e("Status")})]}),o==="deals"&&r.jsxs(r.Fragment,{children:[r.jsx("th",{children:e("Customer")}),r.jsx("th",{children:e("Value")}),r.jsx("th",{children:e("Date Range")}),r.jsx("th",{children:e("Status")})]}),o==="cancel_reasons"&&r.jsxs(r.Fragment,{children:[r.jsx("th",{children:e("Reason","Reason")}),r.jsx("th",{children:e("Count","Count")})]})]})}),r.jsxs("tbody",{children:[zt.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-[var(--muted-text)]",children:e("No data")})}),o==="opportunities"&&zt.map(Ne=>r.jsxs("tr",{children:[r.jsx("td",{children:Ne.customer}),r.jsx("td",{children:Ne.owner}),r.jsx("td",{children:Ne.value}),r.jsx("td",{children:Ne.status}),r.jsx("td",{children:Ne.createdAt})]},Ne.id)),o==="cils"&&zt.map(Ne=>r.jsxs("tr",{children:[r.jsx("td",{children:Ne.client}),r.jsx("td",{children:Ne.phone}),r.jsx("td",{children:Ne.email}),r.jsx("td",{children:Ne.project}),r.jsx("td",{children:Ne.developer}),r.jsx("td",{children:Ne.agent}),r.jsx("td",{children:Ne.date})]},Ne.id)),o==="eoi"&&zt.map(Ne=>r.jsxs("tr",{children:[r.jsx("td",{children:Ne.lead}),r.jsx("td",{children:Ne.project}),r.jsx("td",{children:Ne.date}),r.jsx("td",{children:Ne.status})]},Ne.id)),o==="reservation"&&zt.map(Ne=>r.jsxs("tr",{children:[r.jsx("td",{children:Ne.lead}),r.jsx("td",{children:Ne.unit}),r.jsx("td",{children:Ne.date}),r.jsx("td",{children:Ne.status})]},Ne.id)),o==="deals"&&zt.map(Ne=>r.jsxs("tr",{children:[r.jsx("td",{children:Ne.customer}),r.jsx("td",{children:Ne.amount}),r.jsx("td",{children:Ne.date}),r.jsx("td",{children:Ne.status})]},Ne.id)),o==="cancel_reasons"&&zt.map(Ne=>r.jsxs("tr",{children:[r.jsx("td",{children:Ne.reason}),r.jsx("td",{children:Ne.count})]},Ne.id))]})]})}),r.jsxs("nav",{className:"flex items-center justify-between p-4","aria-label":"Table navigation",children:[r.jsxs("span",{className:"text-sm text-[var(--muted-text)]",children:[e("Show Entries")," ",(d-1)*f+1,"-",Math.min(d*f,at.length)," / ",at.length]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{disabled:d<=1,onClick:()=>u(Ne=>Math.max(1,Ne-1)),className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] hover:bg-[var(--table-row-hover)] disabled:opacity-50",children:e("Previous")}),r.jsx("button",{disabled:d>=ft,onClick:()=>u(Ne=>Math.min(ft,Ne+1)),className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] hover:bg-[var(--table-row-hover)] disabled:opacity-50",children:e("Next")})]})]})]})]})]})}const $6e=[{name:"Jan",revenue:4e3},{name:"Feb",revenue:3e3},{name:"Mar",revenue:5e3},{name:"Apr",revenue:4500},{name:"May",revenue:6e3},{name:"Jun",revenue:5500}],U6e=[{name:"Answered",value:400},{name:"Not Answered",value:300},{name:"Busy",value:200},{name:"Wrong Number",value:100}],z6e=[{rank:1,team:"Team Alpha",accounts:25,conversion:"15%"},{rank:2,team:"Team Beta",accounts:22,conversion:"12%"},{rank:3,team:"Team Gamma",accounts:20,conversion:"10%"},{rank:4,team:"Team Delta",accounts:18,conversion:"9%"},{rank:5,team:"Team Epsilon",accounts:15,conversion:"8%"}],H6e=80,V6e=({activeTab:e,setActiveTab:t})=>{const a=["Sales Actions","Sales Leads","Assigned Report"];return r.jsx("div",{className:"flex gap-2 border-b border-gray-800",children:a.map(s=>r.jsx("button",{className:`px-3 py-2 rounded-t-md border-b-2 transition-colors ${e===s?"bg-primary text-white border-primary":"bg-gray-100 dark:bg-gray-800 text-[var(--content-text)] border-transparent hover:border-gray-600"}`,onClick:()=>t(s),children:s},s))})},W6e={id:0,name:"-",role:"-",department:"-",email:"-",phone:"-",join_date:"-",status:"Active",performance_score:0,tasks_assigned:0,tasks_completed_pct:0,avg_response_time:"-",attendance_rate:0,last_evaluation_date:"-",projects:[],permissions:[],region:"-",modules:[],last_activity:"-",photo_url:""},Hg=({active:e,onClick:t,children:a})=>r.jsx("button",{onClick:t,className:`px-3 py-2 text-sm rounded-t-lg transition-all duration-300 border-b-2 ${e?"border-blue-500 text-blue-600 font-medium bg-white/60 dark:bg-gray-800/60":"border-transparent text-gray-700 dark:text-gray-200 hover:text-blue-600"}`,children:a}),Mp=({label:e,value:t,icon:a})=>r.jsxs("div",{className:"p-3 rounded-lg border bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-[var(--muted-text)]",children:[a,e]}),r.jsx("div",{className:"mt-1 text-lg font-semibold",children:t})]}),o9=({active:e,children:t,onClick:a})=>r.jsx("button",{onClick:a,className:`px-2.5 py-1 rounded-full text-xs border ${e?"bg-emerald-100 text-emerald-700 border-emerald-200":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 border-gray-200 dark:border-gray-700"}`,children:t}),A0=({title:e,children:t,right:a})=>r.jsxs("div",{className:"glass-panel rounded-xl p-4 border border-white/20 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:e}),a]}),t]}),c9=e=>{const[t,a]=w.useState(!1),[s,n]=w.useState(!1);return w.useEffect(()=>{const i=e.current;if(!i)return;const l=()=>{a(i.scrollTop>0),n(i.scrollTop<i.scrollHeight-i.clientHeight)};return l(),i.addEventListener("scroll",l),()=>i.removeEventListener("scroll",l)},[e]),{showTop:t,showBottom:s}},q6e=({onClose:e,team:t,roster:a=[],onSearch:s})=>{const{t:n,i18n:i}=Dt(),[l,o]=w.useState("profile"),[c,d]=w.useState(""),[u,f]=w.useState(null),[x,m]=w.useState(W6e),[g,v]=w.useState(!1),[b,j]=w.useState(""),[S,k]=w.useState(!1),N=w.useRef(null),A=w.useRef(null),{showBottom:_}=c9(N),{showBottom:D}=c9(A),P=w.useMemo(()=>Array.isArray(a)&&a.length?a:[{id:1,name:"Ibrahim Mohamed",role:"Team Lead",department:"Sales",email:"ibrahim@example.com",phone:"+2010XXXXXXX",join_date:"2024-03-15",status:"Active",performance_score:89,tasks_assigned:120,tasks_completed_pct:86,avg_response_time:"1.8h",attendance_rate:92,last_evaluation_date:"2025-10-30",projects:[{name:"CRM System",start:"2025-05-01",status:"Ongoing",tasks:24},{name:"Portfolio Website",start:"2024-09-01",status:"Completed",tasks:12}],permissions:["CRM","Reports","Dashboard"],region:"Cairo",modules:["CRM","Projects","Reports"],last_activity:"2025-11-10 14:32",photo_url:""},{id:2,name:"Sara Hassan",role:"Sales Manager",department:"Sales",email:"sara@example.com",phone:"+2011XXXXXXX",join_date:"2023-08-01",status:"Active",performance_score:93,tasks_assigned:140,tasks_completed_pct:90,avg_response_time:"1.2h",attendance_rate:95,last_evaluation_date:"2025-10-10",projects:[{name:"Sales Ops Revamp",start:"2025-02-01",status:"Ongoing",tasks:30}],permissions:["CRM","Reports","Dashboard"],region:"Giza",modules:["CRM","Reports"],last_activity:"2025-11-10 12:05",photo_url:""}],[a]),I=w.useMemo(()=>{const E=c.trim().toLowerCase();return P.filter(R=>!E||R.name.toLowerCase().includes(E)||R.role.toLowerCase().includes(E)||R.department.toLowerCase().includes(E))},[P,c]);w.useEffect(()=>{t&&Array.isArray(t.members)&&t.members.length?(f(t.members[0]),m(t.members[0])):(f(P[0]),m(P[0]))},[t,P]),w.useEffect(()=>{if(!u)return;v(!0);const E=setTimeout(()=>{v(!1),j(i.language==="ar"?"  ":"Auto-saved"),setTimeout(()=>j(""),1500)},700);return()=>clearTimeout(E)},[x]);const B=(E,R)=>m(K=>({...K,[E]:R})),O=()=>{const E=[x],R=Jt.json_to_sheet(E),K=Jt.book_new();Jt.book_append_sheet(K,R,"Member"),gs(K,`member_${x.id||"unknown"}.xlsx`)},U=()=>{const E=new ma("p","pt","a4");E.setFontSize(14),E.text("Team Member Profile",40,40);const R=[["Name",x.name],["Role",x.role],["Department",x.department],["Employee ID",String(x.id)],["Email",x.email],["Phone",x.phone],["Join Date",x.join_date],["Status",x.status],["Performance Score",String(x.performance_score)],["Last Activity",x.last_activity]];E.autoTable({head:[["Field","Value"]],body:R,startY:60}),E.save(`member_${x.id||"unknown"}.pdf`)};return!t&&!P.length?null:r.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center",children:[r.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-lg transition-opacity",onClick:e}),r.jsx("div",{className:"relative z-[1001] w-[90vw] max-w-[1400px] h-[80vh]",children:r.jsxs("div",{className:"glass-panel rounded-2xl p-6 w-full h-full flex flex-col overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("h2",{className:"text-xl font-semibold",children:n("teamDetails.title")}),r.jsx("span",{className:"text-sm text-[var(--muted-text)]",children:t?.name||n("Team")}),g&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-amber-100 text-amber-700 border border-amber-200 text-xs",children:[r.jsx(yM,{}),n("Saving...")]}),b&&r.jsx("span",{className:"text-xs text-emerald-600",children:b})]}),r.jsxs("div",{className:"flex items-center gap-2 relative",children:[r.jsxs("button",{className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-blue-600 text-white",onClick:()=>k(E=>!E),children:[r.jsx(eh,{})," ",n("Export")]}),S&&r.jsxs("div",{className:"absolute right-0 top-full mt-2 w-40 rounded-lg border bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 shadow-lg p-2 z-10",children:[r.jsxs("button",{className:"w-full text-left px-3 py-2 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 inline-flex items-center gap-2",onClick:()=>{k(!1),O()},children:[r.jsx(eh,{})," ",n("Excel")]}),r.jsxs("button",{className:"w-full text-left px-3 py-2 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 inline-flex items-center gap-2",onClick:()=>{k(!1),U()},children:[r.jsx(aoe,{})," ",n("PDF")]}),r.jsxs("button",{className:"w-full text-left px-3 py-2 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 inline-flex items-center gap-2",onClick:()=>{k(!1),window.print()},children:[r.jsx(coe,{})," ",n("Print")]})]}),r.jsxs("button",{className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200",onClick:e,children:[r.jsx(ru,{})," ",n("Close")]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 flex-1 overflow-hidden",children:[r.jsxs("div",{className:"lg:col-span-1 space-y-4 overflow-hidden",children:[r.jsx(A0,{title:n("teamDetails.roster"),right:r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("input",{className:"px-3 py-2 border rounded-lg text-sm w-40",placeholder:n("teamDetails.search"),value:c,onChange:E=>{d(E.target.value),s&&s(E.target.value)}})}),children:r.jsxs("div",{className:"relative space-y-2 max-h-[60vh] overflow-auto",ref:N,children:[I.map(E=>r.jsx("button",{onClick:()=>{f(E),m(E)},className:`w-full text-left p-3 rounded-lg border hover:shadow-sm ${u?.id===E.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"}`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center",children:r.jsx(ew,{className:"text-gray-600 dark:text-gray-300"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium",children:E.name}),r.jsxs("div",{className:"text-xs text-[var(--muted-text)]",children:[E.role,"  ",E.department]})]}),r.jsx(dd,{className:"text-gray-400"})]})},E.id)),I.length===0&&r.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:n("teamDetails.noMembers")}),r.jsx("div",{className:`pointer-events-none absolute bottom-0 left-0 right-0 h-6 bg-gradient-to-t from-black/20 to-transparent transition-opacity ${_?"opacity-100":"opacity-0"}`})]})}),r.jsx(A0,{title:n("teamDetails.managerialControls"),children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("button",{className:"w-full px-3 py-2 rounded-lg bg-emerald-600 text-white inline-flex items-center gap-2",title:n("teamDetails.assignNewTask"),children:[r.jsx(jM,{})," ",n("teamDetails.assignNewTask")]}),r.jsxs("button",{className:"w-full px-3 py-2 rounded-lg bg-blue-600 text-white inline-flex items-center gap-2",title:n("teamDetails.sendNote"),children:[r.jsx(wf,{})," ",n("teamDetails.sendNote")]}),r.jsxs("button",{className:"w-full px-3 py-2 rounded-lg bg-amber-600 text-white inline-flex items-center gap-2",title:n("teamDetails.openPerformanceReview"),children:[r.jsx(gM,{})," ",n("teamDetails.openPerformanceReview")]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{className:"flex-1 px-3 py-2 rounded-lg bg-rose-600 text-white inline-flex items-center gap-2",title:n("teamDetails.suspend"),onClick:()=>{window.confirm(i.language==="ar"?"    ":"Suspend this member?")&&(B("status",i.language==="ar"?"":"Suspended"),j(i.language==="ar"?"  ":"Member suspended"),setTimeout(()=>j(""),1500))},children:[r.jsx(qle,{})," ",n("teamDetails.suspend")]}),r.jsxs("button",{className:"flex-1 px-3 py-2 rounded-lg bg-indigo-600 text-white inline-flex items-center gap-2",title:n("teamDetails.reactivate"),onClick:()=>{window.confirm(i.language==="ar"?"     ":"Reactivate this member?")&&(B("status",i.language==="ar"?"":"Active"),j(i.language==="ar"?"  ":"Member reactivated"),setTimeout(()=>j(""),1500))},children:[r.jsx(NM,{})," ",n("teamDetails.reactivate")]})]})]})})]}),r.jsxs("div",{className:"lg:col-span-2 relative overflow-auto",ref:A,children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(Hg,{active:l==="profile",onClick:()=>o("profile"),children:n("teamDetails.tabs.profile")}),r.jsx(Hg,{active:l==="performance",onClick:()=>o("performance"),children:n("teamDetails.tabs.performance")}),r.jsx(Hg,{active:l==="projects",onClick:()=>o("projects"),children:n("teamDetails.tabs.projects")}),r.jsx(Hg,{active:l==="permissions",onClick:()=>o("permissions"),children:n("teamDetails.tabs.permissions")}),r.jsx(Hg,{active:l==="logs",onClick:()=>o("logs"),children:n("teamDetails.tabs.activity")})]}),l==="profile"&&r.jsx(A0,{title:n("teamDetails.basicInfo"),children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:n("teamDetails.fields.fullName")}),r.jsx("input",{className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:x.name,onChange:E=>B("name",E.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:n("teamDetails.fields.jobTitle")}),r.jsx("input",{className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:x.role,onChange:E=>B("role",E.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:n("teamDetails.fields.department")}),r.jsx("input",{className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:x.department,onChange:E=>B("department",E.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:n("teamDetails.fields.employeeId")}),r.jsx("input",{className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:x.id,onChange:E=>B("id",E.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:n("teamDetails.fields.email")}),r.jsx("input",{className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:x.email,onChange:E=>B("email",E.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:n("teamDetails.fields.phone")}),r.jsx("input",{className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:x.phone,onChange:E=>B("phone",E.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:n("teamDetails.fields.joinDate")}),r.jsx("input",{type:"date",className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:x.join_date,onChange:E=>B("join_date",E.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:n("teamDetails.fields.status")}),r.jsxs("select",{className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:x.status,onChange:E=>B("status",E.target.value),children:[r.jsx("option",{children:n("Active")}),r.jsx("option",{children:n("On Leave")}),r.jsx("option",{children:n("Inactive")})]})]})]})}),l==="performance"&&r.jsx(A0,{title:n("teamDetails.performanceMetrics"),children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[r.jsx(Mp,{label:n("teamDetails.metrics.totalTasks"),value:x.tasks_assigned,icon:r.jsx(jM,{})}),r.jsx(Mp,{label:n("teamDetails.metrics.tasksCompletionRate"),value:`${x.tasks_completed_pct}%`,icon:r.jsx(Kle,{})}),r.jsx(Mp,{label:n("teamDetails.metrics.avgResponseTime"),value:x.avg_response_time,icon:r.jsx(yM,{})}),r.jsx(Mp,{label:n("teamDetails.metrics.attendanceRate"),value:`${x.attendance_rate}%`,icon:r.jsx(loe,{})}),r.jsx(Mp,{label:n("teamDetails.metrics.performanceScore"),value:x.performance_score,icon:r.jsx(gM,{})}),r.jsx(Mp,{label:n("teamDetails.metrics.lastEvaluation"),value:x.last_evaluation_date,icon:r.jsx(W1,{})})]})}),l==="projects"&&r.jsx(A0,{title:n("teamDetails.projectsAndResponsibilities"),right:r.jsxs("button",{className:"btn btn-glass inline-flex items-center gap-2",children:[r.jsx(wf,{})," ",n("Reset")]}),children:r.jsxs("div",{className:"space-y-2",children:[(x.projects||[]).map((E,R)=>r.jsxs("div",{className:"p-3 rounded-lg border bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:E.name}),r.jsxs("div",{className:"text-xs text-[var(--muted-text)]",children:[n("Started"),": ",E.start||"-","  ",n("Status"),": ",E.status]})]}),r.jsxs("div",{className:"text-sm text-[var(--muted-text)]",children:[n("Tasks"),": ",E.tasks||0]})]}),r.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[r.jsx("button",{className:"px-3 py-1 rounded-lg border text-xs",children:n("View Project")}),r.jsx("button",{className:"px-3 py-1 rounded-lg border text-xs",children:n("Reset")})]})]},R)),(!x.projects||x.projects.length===0)&&r.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:n("teamDetails.noProjects")})]})}),l==="permissions"&&r.jsx(A0,{title:n("teamDetails.permissionsAndAccess"),children:r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:["Admin","Manager","Sales","Support","Viewer"].map(E=>r.jsx(o9,{active:x.role===E,onClick:()=>B("role",E),children:E},E))}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:n("teamDetails.regionBranch")}),r.jsx("input",{className:"w-full px-3 py-2 rounded-lg border",value:x.region||"",onChange:E=>B("region",E.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:n("teamDetails.availableModules")}),r.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:["CRM","Projects","Reports","Dashboard"].map(E=>r.jsx(o9,{active:(x.modules||[]).includes(E),onClick:()=>{const R=(x.modules||[]).includes(E);B("modules",R?(x.modules||[]).filter(K=>K!==E):[...x.modules||[],E])},children:E},E))})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{className:"px-3 py-2 rounded-lg bg-blue-600 text-white inline-flex items-center gap-2",children:[r.jsx(ooe,{})," ",n("teamDetails.updateAccess")]}),r.jsxs("button",{className:"px-3 py-2 rounded-lg bg-rose-600 text-white inline-flex items-center gap-2",children:[r.jsx(NM,{})," ",n("teamDetails.restrictAccess")]})]})]})}),l==="logs"&&r.jsx(A0,{title:n("teamDetails.activityLog"),right:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{className:"px-2 py-1 border rounded-lg text-sm",placeholder:n("teamDetails.filterByDate"),type:"date"}),r.jsxs("select",{className:"px-2 py-1 border rounded-lg text-sm",children:[r.jsx("option",{children:n("All")}),r.jsx("option",{children:"CRM"}),r.jsx("option",{children:"Projects"}),r.jsx("option",{children:"Reports"})]})]}),children:r.jsx("div",{className:"space-y-2 max-h-[300px] overflow-auto",children:[{type:"lead",text:i.language==="ar"?"   ":n("activity.leadUpdated"),at:"2025-11-10 10:12"},{type:"deal",text:i.language==="ar"?"  ":n("activity.dealClosed"),at:"2025-11-09 16:44"},{type:"request",text:i.language==="ar"?"   ":n("activity.newRequestCreated"),at:"2025-11-08 09:25"}].map((E,R)=>r.jsxs("div",{className:"p-3 rounded-lg border bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:E.text}),r.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:E.at})]}),r.jsx("span",{className:"text-xs text-[var(--muted-text)]",children:E.type})]},R))})}),r.jsx("div",{className:`pointer-events-none absolute bottom-0 left-0 right-0 h-6 bg-gradient-to-t from-black/20 to-transparent transition-opacity ${D?"opacity-100":"opacity-0"}`})]})]})]})})]})},Vg=({icon:e,label:t,value:a,tone:s="default",tooltip:n})=>{const i=s==="success"?"text-green-400":s==="warning"?"text-amber-400":s==="info"?"text-blue-400":"text-[#f1f5f9]";return r.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220] hover:scale-105 transition",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"text-sm text-gray-400",title:n,children:t}),r.jsx("div",{className:"text-xl text-gray-300",children:e})]}),r.jsx("div",{className:`mt-2 text-2xl font-bold ${i}`,children:a})]})};function OG(e){var t,a,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(a=OG(e[t]))&&(s&&(s+=" "),s+=a)}else for(a in e)e[a]&&(s&&(s+=" "),s+=a);return s}function Qr(){for(var e,t,a=0,s="",n=arguments.length;a<n;a++)(e=arguments[a])&&(t=OG(e))&&(s&&(s+=" "),s+=t);return s}var G6e=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Y8(e){if(typeof e!="string")return!1;var t=G6e;return t.includes(e)}var K6e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function RG(e){if(typeof e!="string")return!1;var t=K6e;return t.includes(e)}function FG(e){return typeof e=="string"&&e.startsWith("data-")}function hd(e){var t=Object.entries(e).filter(a=>{var[s]=a;return RG(s)||FG(s)});return Object.fromEntries(t)}function eb(e){if(e==null)return null;if(w.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return hd(t)}return typeof e=="object"&&!Array.isArray(e)?hd(e):null}function Ll(e){var t=Object.entries(e).filter(a=>{var[s]=a;return RG(s)||FG(s)||Y8(s)});return Object.fromEntries(t)}function Y6e(e){return e==null?null:w.isValidElement(e)?Ll(e.props):typeof e=="object"&&!Array.isArray(e)?Ll(e):null}var X6e=["children","width","height","viewBox","className","style","title","desc"];function qC(){return qC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},qC.apply(null,arguments)}function J6e(e,t){if(e==null)return{};var a,s,n=Q6e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Q6e(e,t){if(e==null)return{};var a={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;a[s]=e[s]}return a}var IG=w.forwardRef((e,t)=>{var{children:a,width:s,height:n,viewBox:i,className:l,style:o,title:c,desc:d}=e,u=J6e(e,X6e),f=i||{width:s,height:n,x:0,y:0},x=Qr("recharts-surface",l);return w.createElement("svg",qC({},Ll(u),{className:x,width:s,height:n,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),w.createElement("title",null,c),w.createElement("desc",null,d),a)}),Z6e=["children","className"];function GC(){return GC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},GC.apply(null,arguments)}function eAe(e,t){if(e==null)return{};var a,s,n=tAe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function tAe(e,t){if(e==null)return{};var a={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;a[s]=e[s]}return a}var fd=w.forwardRef((e,t)=>{var{children:a,className:s}=e,n=eAe(e,Z6e),i=Qr("recharts-layer",s);return w.createElement("g",GC({className:i},Ll(n),{ref:t}),a)}),aAe=w.createContext(null);function os(e){return function(){return e}}const BG=Math.cos,Mw=Math.sin,bd=Math.sqrt,Pw=Math.PI,lN=2*Pw,KC=Math.PI,YC=2*KC,M0=1e-6,rAe=YC-M0;function $G(e){this._+=e[0];for(let t=1,a=e.length;t<a;++t)this._+=arguments[t]+e[t]}function sAe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return $G;const a=10**t;return function(s){this._+=s[0];for(let n=1,i=s.length;n<i;++n)this._+=Math.round(arguments[n]*a)/a+s[n]}}class nAe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?$G:sAe(t)}moveTo(t,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+a}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,a){this._append`L${this._x1=+t},${this._y1=+a}`}quadraticCurveTo(t,a,s,n){this._append`Q${+t},${+a},${this._x1=+s},${this._y1=+n}`}bezierCurveTo(t,a,s,n,i,l){this._append`C${+t},${+a},${+s},${+n},${this._x1=+i},${this._y1=+l}`}arcTo(t,a,s,n,i){if(t=+t,a=+a,s=+s,n=+n,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,o=this._y1,c=s-t,d=n-a,u=l-t,f=o-a,x=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=a}`;else if(x>M0)if(!(Math.abs(f*c-d*u)>M0)||!i)this._append`L${this._x1=t},${this._y1=a}`;else{let m=s-l,g=n-o,v=c*c+d*d,b=m*m+g*g,j=Math.sqrt(v),S=Math.sqrt(x),k=i*Math.tan((KC-Math.acos((v+x-b)/(2*j*S)))/2),N=k/S,A=k/j;Math.abs(N-1)>M0&&this._append`L${t+N*u},${a+N*f}`,this._append`A${i},${i},0,0,${+(f*m>u*g)},${this._x1=t+A*c},${this._y1=a+A*d}`}}arc(t,a,s,n,i,l){if(t=+t,a=+a,s=+s,l=!!l,s<0)throw new Error(`negative radius: ${s}`);let o=s*Math.cos(n),c=s*Math.sin(n),d=t+o,u=a+c,f=1^l,x=l?n-i:i-n;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>M0||Math.abs(this._y1-u)>M0)&&this._append`L${d},${u}`,s&&(x<0&&(x=x%YC+YC),x>rAe?this._append`A${s},${s},0,1,${f},${t-o},${a-c}A${s},${s},0,1,${f},${this._x1=d},${this._y1=u}`:x>M0&&this._append`A${s},${s},0,${+(x>=KC)},${f},${this._x1=t+s*Math.cos(i)},${this._y1=a+s*Math.sin(i)}`)}rect(t,a,s,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+a}h${s=+s}v${+n}h${-s}Z`}toString(){return this._}}function X8(e){let t=3;return e.digits=function(a){if(!arguments.length)return t;if(a==null)t=null;else{const s=Math.floor(a);if(!(s>=0))throw new RangeError(`invalid digits: ${a}`);t=s}return e},()=>new nAe(t)}function J8(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function UG(e){this._context=e}UG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function oN(e){return new UG(e)}function zG(e){return e[0]}function HG(e){return e[1]}function VG(e,t){var a=os(!0),s=null,n=oN,i=null,l=X8(o);e=typeof e=="function"?e:e===void 0?zG:os(e),t=typeof t=="function"?t:t===void 0?HG:os(t);function o(c){var d,u=(c=J8(c)).length,f,x=!1,m;for(s==null&&(i=n(m=l())),d=0;d<=u;++d)!(d<u&&a(f=c[d],d,c))===x&&((x=!x)?i.lineStart():i.lineEnd()),x&&i.point(+e(f,d,c),+t(f,d,c));if(m)return i=null,m+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:os(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:os(+c),o):t},o.defined=function(c){return arguments.length?(a=typeof c=="function"?c:os(!!c),o):a},o.curve=function(c){return arguments.length?(n=c,s!=null&&(i=n(s)),o):n},o.context=function(c){return arguments.length?(c==null?s=i=null:i=n(s=c),o):s},o}function d2(e,t,a){var s=null,n=os(!0),i=null,l=oN,o=null,c=X8(d);e=typeof e=="function"?e:e===void 0?zG:os(+e),t=typeof t=="function"?t:os(t===void 0?0:+t),a=typeof a=="function"?a:a===void 0?HG:os(+a);function d(f){var x,m,g,v=(f=J8(f)).length,b,j=!1,S,k=new Array(v),N=new Array(v);for(i==null&&(o=l(S=c())),x=0;x<=v;++x){if(!(x<v&&n(b=f[x],x,f))===j)if(j=!j)m=x,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=x-1;g>=m;--g)o.point(k[g],N[g]);o.lineEnd(),o.areaEnd()}j&&(k[x]=+e(b,x,f),N[x]=+t(b,x,f),o.point(s?+s(b,x,f):k[x],a?+a(b,x,f):N[x]))}if(S)return o=null,S+""||null}function u(){return VG().defined(n).curve(l).context(i)}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:os(+f),s=null,d):e},d.x0=function(f){return arguments.length?(e=typeof f=="function"?f:os(+f),d):e},d.x1=function(f){return arguments.length?(s=f==null?null:typeof f=="function"?f:os(+f),d):s},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:os(+f),a=null,d):t},d.y0=function(f){return arguments.length?(t=typeof f=="function"?f:os(+f),d):t},d.y1=function(f){return arguments.length?(a=f==null?null:typeof f=="function"?f:os(+f),d):a},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(a)},d.lineX1=function(){return u().x(s).y(t)},d.defined=function(f){return arguments.length?(n=typeof f=="function"?f:os(!!f),d):n},d.curve=function(f){return arguments.length?(l=f,i!=null&&(o=l(i)),d):l},d.context=function(f){return arguments.length?(f==null?i=o=null:o=l(i=f),d):i},d}class WG{constructor(t,a){this._context=t,this._x=a}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,a){switch(t=+t,a=+a,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,a):this._context.moveTo(t,a);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,a,t,a):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+a)/2,t,this._y0,t,a);break}}this._x0=t,this._y0=a}}function iAe(e){return new WG(e,!0)}function lAe(e){return new WG(e,!1)}const Q8={draw(e,t){const a=bd(t/Pw);e.moveTo(a,0),e.arc(0,0,a,0,lN)}},oAe={draw(e,t){const a=bd(t/5)/2;e.moveTo(-3*a,-a),e.lineTo(-a,-a),e.lineTo(-a,-3*a),e.lineTo(a,-3*a),e.lineTo(a,-a),e.lineTo(3*a,-a),e.lineTo(3*a,a),e.lineTo(a,a),e.lineTo(a,3*a),e.lineTo(-a,3*a),e.lineTo(-a,a),e.lineTo(-3*a,a),e.closePath()}},qG=bd(1/3),cAe=qG*2,dAe={draw(e,t){const a=bd(t/cAe),s=a*qG;e.moveTo(0,-a),e.lineTo(s,0),e.lineTo(0,a),e.lineTo(-s,0),e.closePath()}},uAe={draw(e,t){const a=bd(t),s=-a/2;e.rect(s,s,a,a)}},hAe=.8908130915292852,GG=Mw(Pw/10)/Mw(7*Pw/10),fAe=Mw(lN/10)*GG,mAe=-BG(lN/10)*GG,pAe={draw(e,t){const a=bd(t*hAe),s=fAe*a,n=mAe*a;e.moveTo(0,-a),e.lineTo(s,n);for(let i=1;i<5;++i){const l=lN*i/5,o=BG(l),c=Mw(l);e.lineTo(c*a,-o*a),e.lineTo(o*s-c*n,c*s+o*n)}e.closePath()}},O3=bd(3),xAe={draw(e,t){const a=-bd(t/(O3*3));e.moveTo(0,a*2),e.lineTo(-O3*a,-a),e.lineTo(O3*a,-a),e.closePath()}},nc=-.5,ic=bd(3)/2,XC=1/bd(12),gAe=(XC/2+1)*3,vAe={draw(e,t){const a=bd(t/gAe),s=a/2,n=a*XC,i=s,l=a*XC+a,o=-i,c=l;e.moveTo(s,n),e.lineTo(i,l),e.lineTo(o,c),e.lineTo(nc*s-ic*n,ic*s+nc*n),e.lineTo(nc*i-ic*l,ic*i+nc*l),e.lineTo(nc*o-ic*c,ic*o+nc*c),e.lineTo(nc*s+ic*n,nc*n-ic*s),e.lineTo(nc*i+ic*l,nc*l-ic*i),e.lineTo(nc*o+ic*c,nc*c-ic*o),e.closePath()}};function bAe(e,t){let a=null,s=X8(n);e=typeof e=="function"?e:os(e||Q8),t=typeof t=="function"?t:os(t===void 0?64:+t);function n(){let i;if(a||(a=i=s()),e.apply(this,arguments).draw(a,+t.apply(this,arguments)),i)return a=null,i+""||null}return n.type=function(i){return arguments.length?(e=typeof i=="function"?i:os(i),n):e},n.size=function(i){return arguments.length?(t=typeof i=="function"?i:os(+i),n):t},n.context=function(i){return arguments.length?(a=i??null,n):a},n}function Lw(){}function Ow(e,t,a){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+a)/6)}function KG(e){this._context=e}KG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ow(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ow(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function yAe(e){return new KG(e)}function YG(e){this._context=e}YG.prototype={areaStart:Lw,areaEnd:Lw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ow(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function wAe(e){return new YG(e)}function XG(e){this._context=e}XG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var a=(this._x0+4*this._x1+e)/6,s=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(a,s):this._context.moveTo(a,s);break;case 3:this._point=4;default:Ow(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function jAe(e){return new XG(e)}function JG(e){this._context=e}JG.prototype={areaStart:Lw,areaEnd:Lw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function NAe(e){return new JG(e)}function d9(e){return e<0?-1:1}function u9(e,t,a){var s=e._x1-e._x0,n=t-e._x1,i=(e._y1-e._y0)/(s||n<0&&-0),l=(a-e._y1)/(n||s<0&&-0),o=(i*n+l*s)/(s+n);return(d9(i)+d9(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(o))||0}function h9(e,t){var a=e._x1-e._x0;return a?(3*(e._y1-e._y0)/a-t)/2:t}function R3(e,t,a){var s=e._x0,n=e._y0,i=e._x1,l=e._y1,o=(i-s)/3;e._context.bezierCurveTo(s+o,n+o*t,i-o,l-o*a,i,l)}function Rw(e){this._context=e}Rw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:R3(this,this._t0,h9(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var a=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,R3(this,h9(this,a=u9(this,e,t)),a);break;default:R3(this,this._t0,a=u9(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=a}}};function QG(e){this._context=new ZG(e)}(QG.prototype=Object.create(Rw.prototype)).point=function(e,t){Rw.prototype.point.call(this,t,e)};function ZG(e){this._context=e}ZG.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,a,s,n,i){this._context.bezierCurveTo(t,e,s,a,i,n)}};function SAe(e){return new Rw(e)}function kAe(e){return new QG(e)}function eK(e){this._context=e}eK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,a=e.length;if(a)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),a===2)this._context.lineTo(e[1],t[1]);else for(var s=f9(e),n=f9(t),i=0,l=1;l<a;++i,++l)this._context.bezierCurveTo(s[0][i],n[0][i],s[1][i],n[1][i],e[l],t[l]);(this._line||this._line!==0&&a===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function f9(e){var t,a=e.length-1,s,n=new Array(a),i=new Array(a),l=new Array(a);for(n[0]=0,i[0]=2,l[0]=e[0]+2*e[1],t=1;t<a-1;++t)n[t]=1,i[t]=4,l[t]=4*e[t]+2*e[t+1];for(n[a-1]=2,i[a-1]=7,l[a-1]=8*e[a-1]+e[a],t=1;t<a;++t)s=n[t]/i[t-1],i[t]-=s,l[t]-=s*l[t-1];for(n[a-1]=l[a-1]/i[a-1],t=a-2;t>=0;--t)n[t]=(l[t]-n[t+1])/i[t];for(i[a-1]=(e[a]+n[a-1])/2,t=0;t<a-1;++t)i[t]=2*e[t+1]-n[t+1];return[n,i]}function CAe(e){return new eK(e)}function cN(e,t){this._context=e,this._t=t}cN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var a=this._x*(1-this._t)+e*this._t;this._context.lineTo(a,this._y),this._context.lineTo(a,t)}break}}this._x=e,this._y=t}};function AAe(e){return new cN(e,.5)}function _Ae(e){return new cN(e,0)}function TAe(e){return new cN(e,1)}function ux(e,t){if((l=e.length)>1)for(var a=1,s,n,i=e[t[0]],l,o=i.length;a<l;++a)for(n=i,i=e[t[a]],s=0;s<o;++s)i[s][1]+=i[s][0]=isNaN(n[s][1])?n[s][0]:n[s][1]}function JC(e){for(var t=e.length,a=new Array(t);--t>=0;)a[t]=t;return a}function EAe(e,t){return e[t]}function DAe(e){const t=[];return t.key=e,t}function MAe(){var e=os([]),t=JC,a=ux,s=EAe;function n(i){var l=Array.from(e.apply(this,arguments),DAe),o,c=l.length,d=-1,u;for(const f of i)for(o=0,++d;o<c;++o)(l[o][d]=[0,+s(f,l[o].key,d,i)]).data=f;for(o=0,u=J8(t(l));o<c;++o)l[u[o]].index=o;return a(l,u),l}return n.keys=function(i){return arguments.length?(e=typeof i=="function"?i:os(Array.from(i)),n):e},n.value=function(i){return arguments.length?(s=typeof i=="function"?i:os(+i),n):s},n.order=function(i){return arguments.length?(t=i==null?JC:typeof i=="function"?i:os(Array.from(i)),n):t},n.offset=function(i){return arguments.length?(a=i??ux,n):a},n}function PAe(e,t){if((s=e.length)>0){for(var a,s,n=0,i=e[0].length,l;n<i;++n){for(l=a=0;a<s;++a)l+=e[a][n][1]||0;if(l)for(a=0;a<s;++a)e[a][n][1]/=l}ux(e,t)}}function LAe(e,t){if((n=e.length)>0){for(var a=0,s=e[t[0]],n,i=s.length;a<i;++a){for(var l=0,o=0;l<n;++l)o+=e[l][a][1]||0;s[a][1]+=s[a][0]=-o/2}ux(e,t)}}function OAe(e,t){if(!(!((l=e.length)>0)||!((i=(n=e[t[0]]).length)>0))){for(var a=0,s=1,n,i,l;s<i;++s){for(var o=0,c=0,d=0;o<l;++o){for(var u=e[t[o]],f=u[s][1]||0,x=u[s-1][1]||0,m=(f-x)/2,g=0;g<o;++g){var v=e[t[g]],b=v[s][1]||0,j=v[s-1][1]||0;m+=b-j}c+=f,d+=m*f}n[s-1][1]+=n[s-1][0]=a,c&&(a-=d/c)}n[s-1][1]+=n[s-1][0]=a,ux(e,t)}}var F3={},I3={},m9;function RAe(){return m9||(m9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a==="__proto__"}e.isUnsafeProperty=t})(I3)),I3}var B3={},p9;function tK(){return p9||(p9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){switch(typeof a){case"number":case"symbol":return!1;case"string":return a.includes(".")||a.includes("[")||a.includes("]")}}e.isDeepKey=t})(B3)),B3}var $3={},x9;function Z8(){return x9||(x9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="string"||typeof a=="symbol"?a:Object.is(a?.valueOf?.(),-0)?"-0":String(a)}e.toKey=t})($3)),$3}var U3={},z3={},g9;function FAe(){return g9||(g9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){if(a==null)return"";if(typeof a=="string")return a;if(Array.isArray(a))return a.map(t).join(",");const s=String(a);return s==="0"&&Object.is(Number(a),-0)?"-0":s}e.toString=t})(z3)),z3}var v9;function e_(){return v9||(v9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FAe(),a=Z8();function s(n){if(Array.isArray(n))return n.map(a.toKey);if(typeof n=="symbol")return[n];n=t.toString(n);const i=[],l=n.length;if(l===0)return i;let o=0,c="",d="",u=!1;for(n.charCodeAt(0)===46&&(i.push(""),o++);o<l;){const f=n[o];d?f==="\\"&&o+1<l?(o++,c+=n[o]):f===d?d="":c+=f:u?f==='"'||f==="'"?d=f:f==="]"?(u=!1,i.push(c),c=""):c+=f:f==="["?(u=!0,c&&(i.push(c),c="")):f==="."?c&&(i.push(c),c=""):c+=f,o++}return c&&i.push(c),i}e.toPath=s})(U3)),U3}var b9;function t_(){return b9||(b9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RAe(),a=tK(),s=Z8(),n=e_();function i(o,c,d){if(o==null)return d;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return d;const u=o[c];return u===void 0?a.isDeepKey(c)?i(o,n.toPath(c),d):d:u}case"number":case"symbol":{typeof c=="number"&&(c=s.toKey(c));const u=o[c];return u===void 0?d:u}default:{if(Array.isArray(c))return l(o,c,d);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return d;const u=o[c];return u===void 0?d:u}}}function l(o,c,d){if(c.length===0)return d;let u=o;for(let f=0;f<c.length;f++){if(u==null||t.isUnsafeProperty(c[f]))return d;u=u[c[f]]}return u===void 0?d:u}e.get=i})(F3)),F3}var H3,y9;function IAe(){return y9||(y9=1,H3=t_().get),H3}var BAe=IAe();const hx=vh(BAe);var Zl=e=>e===0?0:e>0?1:-1,jc=e=>typeof e=="number"&&e!=+e,fh=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ca=e=>(typeof e=="number"||e instanceof Number)&&!jc(e),su=e=>Ca(e)||typeof e=="string",$Ae=0,gv=e=>{var t=++$Ae;return"".concat(e||"").concat(t)},md=function(t,a){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ca(t)&&typeof t!="string")return s;var i;if(fh(t)){if(a==null)return s;var l=t.indexOf("%");i=a*parseFloat(t.slice(0,l))/100}else i=+t;return jc(i)&&(i=s),n&&a!=null&&i>a&&(i=a),i},aK=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,a={},s=0;s<t;s++)if(!a[e[s]])a[e[s]]=!0;else return!0;return!1};function Fn(e,t,a){return Ca(e)&&Ca(t)?e+a*(t-e):t}function rK(e,t,a){if(!(!e||!e.length))return e.find(s=>s&&(typeof t=="function"?t(s):hx(s,t))===a)}var Os=e=>e===null||typeof e>"u",tb=e=>Os(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),UAe=["type","size","sizeType"];function QC(){return QC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},QC.apply(null,arguments)}function w9(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,s)}return a}function j9(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?w9(Object(a),!0).forEach(function(s){zAe(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w9(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function zAe(e,t,a){return(t=HAe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function HAe(e){var t=VAe(e,"string");return typeof t=="symbol"?t:t+""}function VAe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WAe(e,t){if(e==null)return{};var a,s,n=qAe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function qAe(e,t){if(e==null)return{};var a={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;a[s]=e[s]}return a}var sK={symbolCircle:Q8,symbolCross:oAe,symbolDiamond:dAe,symbolSquare:uAe,symbolStar:pAe,symbolTriangle:xAe,symbolWye:vAe},GAe=Math.PI/180,KAe=e=>{var t="symbol".concat(tb(e));return sK[t]||Q8},YAe=(e,t,a)=>{if(t==="area")return e;switch(a){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var s=18*GAe;return 1.25*e*e*(Math.tan(s)-Math.tan(s*2)*Math.tan(s)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},XAe=(e,t)=>{sK["symbol".concat(tb(e))]=t},nK=e=>{var{type:t="circle",size:a=64,sizeType:s="area"}=e,n=WAe(e,UAe),i=j9(j9({},n),{},{type:t,size:a,sizeType:s}),l="circle";typeof t=="string"&&(l=t);var o=()=>{var x=KAe(l),m=bAe().type(x).size(YAe(a,s,l)),g=m();if(g!==null)return g},{className:c,cx:d,cy:u}=i,f=Ll(i);return d===+d&&u===+u&&a===+a?w.createElement("path",QC({},f,{className:Qr("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(u,")"),d:o()})):null};nK.registerSymbol=XAe;var a_=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(w.isValidElement(e)&&(a=e.props),typeof a!="object"&&typeof a!="function")return null;var s={};return Object.keys(a).forEach(n=>{Y8(n)&&(s[n]=(i=>a[n](a,i)))}),s},JAe=(e,t,a)=>s=>(e(t,a,s),null),r_=(e,t,a)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var s=null;return Object.keys(e).forEach(n=>{var i=e[n];Y8(n)&&typeof i=="function"&&(s||(s={}),s[n]=JAe(i,t,a))}),s},V3={},W3={},N9;function QAe(){return N9||(N9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,s){const n=new Map;for(let i=0;i<a.length;i++){const l=a[i],o=s(l);n.has(o)||n.set(o,l)}return Array.from(n.values())}e.uniqBy=t})(W3)),W3}var q3={},S9;function iK(){return S9||(S9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a}e.identity=t})(q3)),q3}var G3={},K3={},Y3={},k9;function ZAe(){return k9||(k9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return Number.isSafeInteger(a)&&a>=0}e.isLength=t})(Y3)),Y3}var C9;function s_(){return C9||(C9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZAe();function a(s){return s!=null&&typeof s!="function"&&t.isLength(s.length)}e.isArrayLike=a})(K3)),K3}var X3={},A9;function e8e(){return A9||(A9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="object"&&a!==null}e.isObjectLike=t})(X3)),X3}var _9;function t8e(){return _9||(_9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s_(),a=e8e();function s(n){return a.isObjectLike(n)&&t.isArrayLike(n)}e.isArrayLikeObject=s})(G3)),G3}var J3={},Q3={},T9;function a8e(){return T9||(T9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=t_();function a(s){return function(n){return t.get(n,s)}}e.property=a})(Q3)),Q3}var Z3={},eS={},tS={},aS={},E9;function lK(){return E9||(E9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a!==null&&(typeof a=="object"||typeof a=="function")}e.isObject=t})(aS)),aS}var rS={},D9;function oK(){return D9||(D9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a==null||typeof a!="object"&&typeof a!="function"}e.isPrimitive=t})(rS)),rS}var sS={},M9;function cK(){return M9||(M9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,s){return a===s||Number.isNaN(a)&&Number.isNaN(s)}e.eq=t})(sS)),sS}var P9;function r8e(){return P9||(P9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lK(),a=oK(),s=cK();function n(u,f,x){return typeof x!="function"?n(u,f,()=>{}):i(u,f,function m(g,v,b,j,S,k){const N=x(g,v,b,j,S,k);return N!==void 0?!!N:i(g,v,m,k)},new Map)}function i(u,f,x,m){if(f===u)return!0;switch(typeof f){case"object":return l(u,f,x,m);case"function":return Object.keys(f).length>0?i(u,{...f},x,m):s.eq(u,f);default:return t.isObject(u)?typeof f=="string"?f==="":!0:s.eq(u,f)}}function l(u,f,x,m){if(f==null)return!0;if(Array.isArray(f))return c(u,f,x,m);if(f instanceof Map)return o(u,f,x,m);if(f instanceof Set)return d(u,f,x,m);const g=Object.keys(f);if(u==null)return g.length===0;if(g.length===0)return!0;if(m?.has(f))return m.get(f)===u;m?.set(f,u);try{for(let v=0;v<g.length;v++){const b=g[v];if(!a.isPrimitive(u)&&!(b in u)||f[b]===void 0&&u[b]!==void 0||f[b]===null&&u[b]!==null||!x(u[b],f[b],b,u,f,m))return!1}return!0}finally{m?.delete(f)}}function o(u,f,x,m){if(f.size===0)return!0;if(!(u instanceof Map))return!1;for(const[g,v]of f.entries()){const b=u.get(g);if(x(b,v,g,u,f,m)===!1)return!1}return!0}function c(u,f,x,m){if(f.length===0)return!0;if(!Array.isArray(u))return!1;const g=new Set;for(let v=0;v<f.length;v++){const b=f[v];let j=!1;for(let S=0;S<u.length;S++){if(g.has(S))continue;const k=u[S];let N=!1;if(x(k,b,v,u,f,m)&&(N=!0),N){g.add(S),j=!0;break}}if(!j)return!1}return!0}function d(u,f,x,m){return f.size===0?!0:u instanceof Set?c([...u],[...f],x,m):!1}e.isMatchWith=n,e.isSetMatch=d})(tS)),tS}var L9;function dK(){return L9||(L9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r8e();function a(s,n){return t.isMatchWith(s,n,()=>{})}e.isMatch=a})(eS)),eS}var nS={},iS={},lS={},O9;function s8e(){return O9||(O9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return Object.getOwnPropertySymbols(a).filter(s=>Object.prototype.propertyIsEnumerable.call(a,s))}e.getSymbols=t})(lS)),lS}var oS={},R9;function uK(){return R9||(R9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a==null?a===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(a)}e.getTag=t})(oS)),oS}var cS={},F9;function hK(){return F9||(F9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",a="[object String]",s="[object Number]",n="[object Boolean]",i="[object Arguments]",l="[object Symbol]",o="[object Date]",c="[object Map]",d="[object Set]",u="[object Array]",f="[object Function]",x="[object ArrayBuffer]",m="[object Object]",g="[object Error]",v="[object DataView]",b="[object Uint8Array]",j="[object Uint8ClampedArray]",S="[object Uint16Array]",k="[object Uint32Array]",N="[object BigUint64Array]",A="[object Int8Array]",_="[object Int16Array]",D="[object Int32Array]",P="[object BigInt64Array]",I="[object Float32Array]",B="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=x,e.arrayTag=u,e.bigInt64ArrayTag=P,e.bigUint64ArrayTag=N,e.booleanTag=n,e.dataViewTag=v,e.dateTag=o,e.errorTag=g,e.float32ArrayTag=I,e.float64ArrayTag=B,e.functionTag=f,e.int16ArrayTag=_,e.int32ArrayTag=D,e.int8ArrayTag=A,e.mapTag=c,e.numberTag=s,e.objectTag=m,e.regexpTag=t,e.setTag=d,e.stringTag=a,e.symbolTag=l,e.uint16ArrayTag=S,e.uint32ArrayTag=k,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=j})(cS)),cS}var dS={},I9;function n8e(){return I9||(I9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)}e.isTypedArray=t})(dS)),dS}var B9;function fK(){return B9||(B9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s8e(),a=uK(),s=hK(),n=oK(),i=n8e();function l(u,f){return o(u,void 0,u,new Map,f)}function o(u,f,x,m=new Map,g=void 0){const v=g?.(u,f,x,m);if(v!==void 0)return v;if(n.isPrimitive(u))return u;if(m.has(u))return m.get(u);if(Array.isArray(u)){const b=new Array(u.length);m.set(u,b);for(let j=0;j<u.length;j++)b[j]=o(u[j],j,x,m,g);return Object.hasOwn(u,"index")&&(b.index=u.index),Object.hasOwn(u,"input")&&(b.input=u.input),b}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const b=new RegExp(u.source,u.flags);return b.lastIndex=u.lastIndex,b}if(u instanceof Map){const b=new Map;m.set(u,b);for(const[j,S]of u)b.set(j,o(S,j,x,m,g));return b}if(u instanceof Set){const b=new Set;m.set(u,b);for(const j of u)b.add(o(j,void 0,x,m,g));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(i.isTypedArray(u)){const b=new(Object.getPrototypeOf(u)).constructor(u.length);m.set(u,b);for(let j=0;j<u.length;j++)b[j]=o(u[j],j,x,m,g);return b}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const b=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return m.set(u,b),c(b,u,x,m,g),b}if(typeof File<"u"&&u instanceof File){const b=new File([u],u.name,{type:u.type});return m.set(u,b),c(b,u,x,m,g),b}if(typeof Blob<"u"&&u instanceof Blob){const b=new Blob([u],{type:u.type});return m.set(u,b),c(b,u,x,m,g),b}if(u instanceof Error){const b=new u.constructor;return m.set(u,b),b.message=u.message,b.name=u.name,b.stack=u.stack,b.cause=u.cause,c(b,u,x,m,g),b}if(u instanceof Boolean){const b=new Boolean(u.valueOf());return m.set(u,b),c(b,u,x,m,g),b}if(u instanceof Number){const b=new Number(u.valueOf());return m.set(u,b),c(b,u,x,m,g),b}if(u instanceof String){const b=new String(u.valueOf());return m.set(u,b),c(b,u,x,m,g),b}if(typeof u=="object"&&d(u)){const b=Object.create(Object.getPrototypeOf(u));return m.set(u,b),c(b,u,x,m,g),b}return u}function c(u,f,x=u,m,g){const v=[...Object.keys(f),...t.getSymbols(f)];for(let b=0;b<v.length;b++){const j=v[b],S=Object.getOwnPropertyDescriptor(u,j);(S==null||S.writable)&&(u[j]=o(f[j],j,x,m,g))}}function d(u){switch(a.getTag(u)){case s.argumentsTag:case s.arrayTag:case s.arrayBufferTag:case s.dataViewTag:case s.booleanTag:case s.dateTag:case s.float32ArrayTag:case s.float64ArrayTag:case s.int8ArrayTag:case s.int16ArrayTag:case s.int32ArrayTag:case s.mapTag:case s.numberTag:case s.objectTag:case s.regexpTag:case s.setTag:case s.stringTag:case s.symbolTag:case s.uint8ArrayTag:case s.uint8ClampedArrayTag:case s.uint16ArrayTag:case s.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=o,e.copyProperties=c})(iS)),iS}var $9;function i8e(){return $9||($9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fK();function a(s){return t.cloneDeepWithImpl(s,void 0,s,new Map,void 0)}e.cloneDeep=a})(nS)),nS}var U9;function l8e(){return U9||(U9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dK(),a=i8e();function s(n){return n=a.cloneDeep(n),i=>t.isMatch(i,n)}e.matches=s})(Z3)),Z3}var uS={},hS={},fS={},z9;function o8e(){return z9||(z9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fK(),a=hK();function s(n,i){return t.cloneDeepWith(n,(l,o,c,d)=>{const u=i?.(l,o,c,d);if(u!==void 0)return u;if(typeof n=="object")switch(Object.prototype.toString.call(n)){case a.numberTag:case a.stringTag:case a.booleanTag:{const f=new n.constructor(n?.valueOf());return t.copyProperties(f,n),f}case a.argumentsTag:{const f={};return t.copyProperties(f,n),f.length=n.length,f[Symbol.iterator]=n[Symbol.iterator],f}default:return}})}e.cloneDeepWith=s})(fS)),fS}var H9;function c8e(){return H9||(H9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=o8e();function a(s){return t.cloneDeepWith(s)}e.cloneDeep=a})(hS)),hS}var mS={},pS={},V9;function mK(){return V9||(V9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function a(s,n=Number.MAX_SAFE_INTEGER){switch(typeof s){case"number":return Number.isInteger(s)&&s>=0&&s<n;case"symbol":return!1;case"string":return t.test(s)}}e.isIndex=a})(pS)),pS}var xS={},W9;function d8e(){return W9||(W9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uK();function a(s){return s!==null&&typeof s=="object"&&t.getTag(s)==="[object Arguments]"}e.isArguments=a})(xS)),xS}var q9;function u8e(){return q9||(q9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tK(),a=mK(),s=d8e(),n=e_();function i(l,o){let c;if(Array.isArray(o)?c=o:typeof o=="string"&&t.isDeepKey(o)&&l?.[o]==null?c=n.toPath(o):c=[o],c.length===0)return!1;let d=l;for(let u=0;u<c.length;u++){const f=c[u];if((d==null||!Object.hasOwn(d,f))&&!((Array.isArray(d)||s.isArguments(d))&&a.isIndex(f)&&f<d.length))return!1;d=d[f]}return!0}e.has=i})(mS)),mS}var G9;function h8e(){return G9||(G9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dK(),a=Z8(),s=c8e(),n=t_(),i=u8e();function l(o,c){switch(typeof o){case"object":{Object.is(o?.valueOf(),-0)&&(o="-0");break}case"number":{o=a.toKey(o);break}}return c=s.cloneDeep(c),function(d){const u=n.get(d,o);return u===void 0?i.has(d,o):c===void 0?u===void 0:t.isMatch(u,c)}}e.matchesProperty=l})(uS)),uS}var K9;function f8e(){return K9||(K9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iK(),a=a8e(),s=l8e(),n=h8e();function i(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?n.matchesProperty(l[0],l[1]):s.matches(l);case"string":case"symbol":case"number":return a.property(l)}}e.iteratee=i})(J3)),J3}var Y9;function m8e(){return Y9||(Y9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QAe(),a=iK(),s=t8e(),n=f8e();function i(l,o=a.identity){return s.isArrayLikeObject(l)?t.uniqBy(Array.from(l),n.iteratee(o)):[]}e.uniqBy=i})(V3)),V3}var gS,X9;function p8e(){return X9||(X9=1,gS=m8e().uniqBy),gS}var x8e=p8e();const J9=vh(x8e);function g8e(e,t,a){return t===!0?J9(e,a):typeof t=="function"?J9(e,t):e}var vS={exports:{}},bS={},yS={exports:{}},wS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q9;function v8e(){if(Q9)return wS;Q9=1;var e=vx();function t(f,x){return f===x&&(f!==0||1/f===1/x)||f!==f&&x!==x}var a=typeof Object.is=="function"?Object.is:t,s=e.useState,n=e.useEffect,i=e.useLayoutEffect,l=e.useDebugValue;function o(f,x){var m=x(),g=s({inst:{value:m,getSnapshot:x}}),v=g[0].inst,b=g[1];return i(function(){v.value=m,v.getSnapshot=x,c(v)&&b({inst:v})},[f,m,x]),n(function(){return c(v)&&b({inst:v}),f(function(){c(v)&&b({inst:v})})},[f]),l(m),m}function c(f){var x=f.getSnapshot;f=f.value;try{var m=x();return!a(f,m)}catch{return!0}}function d(f,x){return x()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:o;return wS.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u,wS}var Z9;function b8e(){return Z9||(Z9=1,yS.exports=v8e()),yS.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eF;function y8e(){if(eF)return bS;eF=1;var e=vx(),t=b8e();function a(d,u){return d===u&&(d!==0||1/d===1/u)||d!==d&&u!==u}var s=typeof Object.is=="function"?Object.is:a,n=t.useSyncExternalStore,i=e.useRef,l=e.useEffect,o=e.useMemo,c=e.useDebugValue;return bS.useSyncExternalStoreWithSelector=function(d,u,f,x,m){var g=i(null);if(g.current===null){var v={hasValue:!1,value:null};g.current=v}else v=g.current;g=o(function(){function j(_){if(!S){if(S=!0,k=_,_=x(_),m!==void 0&&v.hasValue){var D=v.value;if(m(D,_))return N=D}return N=_}if(D=N,s(k,_))return D;var P=x(_);return m!==void 0&&m(D,P)?(k=_,D):(k=_,N=P)}var S=!1,k,N,A=f===void 0?null:f;return[function(){return j(u())},A===null?void 0:function(){return j(A())}]},[u,f,x,m]);var b=n(d,g[0],g[1]);return l(function(){v.hasValue=!0,v.value=b},[b]),c(b),b},bS}var tF;function w8e(){return tF||(tF=1,vS.exports=y8e()),vS.exports}var j8e=w8e(),n_=w.createContext(null),N8e=e=>e,ri=()=>{var e=w.useContext(n_);return e?e.store.dispatch:N8e},B2=()=>{},S8e=()=>B2,k8e=(e,t)=>e===t;function Sa(e){var t=w.useContext(n_);return j8e.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:S8e,t?t.store.getState:B2,t?t.store.getState:B2,t?e:B2,k8e)}function C8e(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function A8e(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function _8e(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(a=>typeof a=="function")){const a=e.map(s=>typeof s=="function"?`function ${s.name||"unnamed"}()`:typeof s).join(", ");throw new TypeError(`${t}[${a}]`)}}var aF=e=>Array.isArray(e)?e:[e];function T8e(e){const t=Array.isArray(e[0])?e[0]:e;return _8e(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function E8e(e,t){const a=[],{length:s}=e;for(let n=0;n<s;n++)a.push(e[n].apply(null,t));return a}var D8e=class{constructor(e){this.value=e}deref(){return this.value}},M8e=typeof WeakRef<"u"?WeakRef:D8e,P8e=0,rF=1;function u2(){return{s:P8e,v:void 0,o:null,p:null}}function pK(e,t={}){let a=u2();const{resultEqualityCheck:s}=t;let n,i=0;function l(){let o=a;const{length:c}=arguments;for(let f=0,x=c;f<x;f++){const m=arguments[f];if(typeof m=="function"||typeof m=="object"&&m!==null){let g=o.o;g===null&&(o.o=g=new WeakMap);const v=g.get(m);v===void 0?(o=u2(),g.set(m,o)):o=v}else{let g=o.p;g===null&&(o.p=g=new Map);const v=g.get(m);v===void 0?(o=u2(),g.set(m,o)):o=v}}const d=o;let u;if(o.s===rF)u=o.v;else if(u=e.apply(null,arguments),i++,s){const f=n?.deref?.()??n;f!=null&&s(f,u)&&(u=f,i!==0&&i--),n=typeof u=="object"&&u!==null||typeof u=="function"?new M8e(u):u}return d.s=rF,d.v=u,u}return l.clearCache=()=>{a=u2(),l.resetResultsCount()},l.resultsCount=()=>i,l.resetResultsCount=()=>{i=0},l}function L8e(e,...t){const a=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,s=(...n)=>{let i=0,l=0,o,c={},d=n.pop();typeof d=="object"&&(c=d,d=n.pop()),C8e(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const u={...a,...c},{memoize:f,memoizeOptions:x=[],argsMemoize:m=pK,argsMemoizeOptions:g=[]}=u,v=aF(x),b=aF(g),j=T8e(n),S=f(function(){return i++,d.apply(null,arguments)},...v),k=m(function(){l++;const A=E8e(j,arguments);return o=S.apply(null,A),o},...b);return Object.assign(k,{resultFunc:d,memoizedResultFunc:S,dependencies:j,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>o,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:m})};return Object.assign(s,{withTypes:()=>s}),s}var bt=L8e(pK),O8e=Object.assign((e,t=bt)=>{A8e(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const a=Object.keys(e),s=a.map(i=>e[i]);return t(s,(...i)=>i.reduce((l,o,c)=>(l[a[c]]=o,l),{}))},{withTypes:()=>O8e}),jS={},NS={},SS={},sF;function R8e(){return sF||(sF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return typeof s=="symbol"?1:s===null?2:s===void 0?3:s!==s?4:0}const a=(s,n,i)=>{if(s!==n){const l=t(s),o=t(n);if(l===o&&l===0){if(s<n)return i==="desc"?1:-1;if(s>n)return i==="desc"?-1:1}return i==="desc"?o-l:l-o}return 0};e.compareValues=a})(SS)),SS}var kS={},CS={},nF;function xK(){return nF||(nF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="symbol"||a instanceof Symbol}e.isSymbol=t})(CS)),CS}var iF;function F8e(){return iF||(iF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xK(),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;function n(i,l){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(s.test(i)||!a.test(i))||l!=null&&Object.hasOwn(l,i)}e.isKey=n})(kS)),kS}var lF;function I8e(){return lF||(lF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R8e(),a=F8e(),s=e_();function n(i,l,o,c){if(i==null)return[];o=c?void 0:o,Array.isArray(i)||(i=Object.values(i)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(m=>String(m));const d=(m,g)=>{let v=m;for(let b=0;b<g.length&&v!=null;++b)v=v[g[b]];return v},u=(m,g)=>g==null||m==null?g:typeof m=="object"&&"key"in m?Object.hasOwn(g,m.key)?g[m.key]:d(g,m.path):typeof m=="function"?m(g):Array.isArray(m)?d(g,m):typeof g=="object"?g[m]:g,f=l.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||a.isKey(m)?m:{key:m,path:s.toPath(m)}));return i.map(m=>({original:m,criteria:f.map(g=>u(g,m))})).slice().sort((m,g)=>{for(let v=0;v<f.length;v++){const b=t.compareValues(m.criteria[v],g.criteria[v],o[v]);if(b!==0)return b}return 0}).map(m=>m.original)}e.orderBy=n})(NS)),NS}var AS={},oF;function B8e(){return oF||(oF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,s=1){const n=[],i=Math.floor(s),l=(o,c)=>{for(let d=0;d<o.length;d++){const u=o[d];Array.isArray(u)&&c<i?l(u,c+1):n.push(u)}};return l(a,0),n}e.flatten=t})(AS)),AS}var _S={},cF;function gK(){return cF||(cF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mK(),a=s_(),s=lK(),n=cK();function i(l,o,c){return s.isObject(c)&&(typeof o=="number"&&a.isArrayLike(c)&&t.isIndex(o)&&o<c.length||typeof o=="string"&&o in c)?n.eq(c[o],l):!1}e.isIterateeCall=i})(_S)),_S}var dF;function $8e(){return dF||(dF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I8e(),a=B8e(),s=gK();function n(i,...l){const o=l.length;return o>1&&s.isIterateeCall(i,l[0],l[1])?l=[]:o>2&&s.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(i,a.flatten(l),["asc"])}e.sortBy=n})(jS)),jS}var TS,uF;function U8e(){return uF||(uF=1,TS=$8e().sortBy),TS}var z8e=U8e();const dN=vh(z8e);var vK=e=>e.legend.settings,H8e=e=>e.legend.size,V8e=e=>e.legend.payload;bt([V8e,vK],(e,t)=>{var{itemSorter:a}=t,s=e.flat(1);return a?dN(s,a):s});var h2=1;function W8e(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,a]=w.useState({height:0,left:0,top:0,width:0}),s=w.useCallback(n=>{if(n!=null){var i=n.getBoundingClientRect(),l={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(l.height-t.height)>h2||Math.abs(l.left-t.left)>h2||Math.abs(l.top-t.top)>h2||Math.abs(l.width-t.width)>h2)&&a({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,s]}function Ii(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var q8e=typeof Symbol=="function"&&Symbol.observable||"@@observable",hF=q8e,ES=()=>Math.random().toString(36).substring(7).split("").join("."),G8e={INIT:`@@redux/INIT${ES()}`,REPLACE:`@@redux/REPLACE${ES()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ES()}`},Fw=G8e;function i_(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function bK(e,t,a){if(typeof e!="function")throw new Error(Ii(2));if(typeof t=="function"&&typeof a=="function"||typeof a=="function"&&typeof arguments[3]=="function")throw new Error(Ii(0));if(typeof t=="function"&&typeof a>"u"&&(a=t,t=void 0),typeof a<"u"){if(typeof a!="function")throw new Error(Ii(1));return a(bK)(e,t)}let s=e,n=t,i=new Map,l=i,o=0,c=!1;function d(){l===i&&(l=new Map,i.forEach((b,j)=>{l.set(j,b)}))}function u(){if(c)throw new Error(Ii(3));return n}function f(b){if(typeof b!="function")throw new Error(Ii(4));if(c)throw new Error(Ii(5));let j=!0;d();const S=o++;return l.set(S,b),function(){if(j){if(c)throw new Error(Ii(6));j=!1,d(),l.delete(S),i=null}}}function x(b){if(!i_(b))throw new Error(Ii(7));if(typeof b.type>"u")throw new Error(Ii(8));if(typeof b.type!="string")throw new Error(Ii(17));if(c)throw new Error(Ii(9));try{c=!0,n=s(n,b)}finally{c=!1}return(i=l).forEach(S=>{S()}),b}function m(b){if(typeof b!="function")throw new Error(Ii(10));s=b,x({type:Fw.REPLACE})}function g(){const b=f;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(Ii(11));function S(){const N=j;N.next&&N.next(u())}return S(),{unsubscribe:b(S)}},[hF](){return this}}}return x({type:Fw.INIT}),{dispatch:x,subscribe:f,getState:u,replaceReducer:m,[hF]:g}}function K8e(e){Object.keys(e).forEach(t=>{const a=e[t];if(typeof a(void 0,{type:Fw.INIT})>"u")throw new Error(Ii(12));if(typeof a(void 0,{type:Fw.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ii(13))})}function yK(e){const t=Object.keys(e),a={};for(let i=0;i<t.length;i++){const l=t[i];typeof e[l]=="function"&&(a[l]=e[l])}const s=Object.keys(a);let n;try{K8e(a)}catch(i){n=i}return function(l={},o){if(n)throw n;let c=!1;const d={};for(let u=0;u<s.length;u++){const f=s[u],x=a[f],m=l[f],g=x(m,o);if(typeof g>"u")throw o&&o.type,new Error(Ii(14));d[f]=g,c=c||g!==m}return c=c||s.length!==Object.keys(l).length,c?d:l}}function Iw(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,a)=>(...s)=>t(a(...s)))}function Y8e(...e){return t=>(a,s)=>{const n=t(a,s);let i=()=>{throw new Error(Ii(15))};const l={getState:n.getState,dispatch:(c,...d)=>i(c,...d)},o=e.map(c=>c(l));return i=Iw(...o)(n.dispatch),{...n,dispatch:i}}}function wK(e){return i_(e)&&"type"in e&&typeof e.type=="string"}var jK=Symbol.for("immer-nothing"),fF=Symbol.for("immer-draftable"),Ro=Symbol.for("immer-state");function rd(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var vv=Object.getPrototypeOf;function ym(e){return!!e&&!!e[Ro]}function mh(e){return e?NK(e)||Array.isArray(e)||!!e[fF]||!!e.constructor?.[fF]||ab(e)||hN(e):!1}var X8e=Object.prototype.constructor.toString(),mF=new WeakMap;function NK(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const a=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(a===Object)return!0;if(typeof a!="function")return!1;let s=mF.get(a);return s===void 0&&(s=Function.toString.call(a),mF.set(a,s)),s===X8e}function Bw(e,t,a=!0){uN(e)===0?(a?Reflect.ownKeys(e):Object.keys(e)).forEach(n=>{t(n,e[n],e)}):e.forEach((s,n)=>t(n,s,e))}function uN(e){const t=e[Ro];return t?t.type_:Array.isArray(e)?1:ab(e)?2:hN(e)?3:0}function ZC(e,t){return uN(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function SK(e,t,a){const s=uN(e);s===2?e.set(t,a):s===3?e.add(a):e[t]=a}function J8e(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function ab(e){return e instanceof Map}function hN(e){return e instanceof Set}function P0(e){return e.copy_||e.base_}function e6(e,t){if(ab(e))return new Map(e);if(hN(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const a=NK(e);if(t===!0||t==="class_only"&&!a){const s=Object.getOwnPropertyDescriptors(e);delete s[Ro];let n=Reflect.ownKeys(s);for(let i=0;i<n.length;i++){const l=n[i],o=s[l];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(s[l]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[l]})}return Object.create(vv(e),s)}else{const s=vv(e);if(s!==null&&a)return{...e};const n=Object.create(s);return Object.assign(n,e)}}function l_(e,t=!1){return fN(e)||ym(e)||!mh(e)||(uN(e)>1&&Object.defineProperties(e,{set:f2,add:f2,clear:f2,delete:f2}),Object.freeze(e),t&&Object.values(e).forEach(a=>l_(a,!0))),e}function Q8e(){rd(2)}var f2={value:Q8e};function fN(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Z8e={};function wm(e){const t=Z8e[e];return t||rd(0,e),t}var bv;function kK(){return bv}function e_e(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function pF(e,t){t&&(wm("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function t6(e){a6(e),e.drafts_.forEach(t_e),e.drafts_=null}function a6(e){e===bv&&(bv=e.parent_)}function xF(e){return bv=e_e(bv,e)}function t_e(e){const t=e[Ro];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function gF(e,t){t.unfinalizedDrafts_=t.drafts_.length;const a=t.drafts_[0];return e!==void 0&&e!==a?(a[Ro].modified_&&(t6(t),rd(4)),mh(e)&&(e=$w(t,e),t.parent_||Uw(t,e)),t.patches_&&wm("Patches").generateReplacementPatches_(a[Ro].base_,e,t.patches_,t.inversePatches_)):e=$w(t,a,[]),t6(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==jK?e:void 0}function $w(e,t,a){if(fN(t))return t;const s=e.immer_.shouldUseStrictIteration(),n=t[Ro];if(!n)return Bw(t,(i,l)=>vF(e,n,t,i,l,a),s),t;if(n.scope_!==e)return t;if(!n.modified_)return Uw(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let l=i,o=!1;n.type_===3&&(l=new Set(i),i.clear(),o=!0),Bw(l,(c,d)=>vF(e,n,i,c,d,a,o),s),Uw(e,i,!1),a&&e.patches_&&wm("Patches").generatePatches_(n,a,e.patches_,e.inversePatches_)}return n.copy_}function vF(e,t,a,s,n,i,l){if(n==null||typeof n!="object"&&!l)return;const o=fN(n);if(!(o&&!l)){if(ym(n)){const c=i&&t&&t.type_!==3&&!ZC(t.assigned_,s)?i.concat(s):void 0,d=$w(e,n,c);if(SK(a,s,d),ym(d))e.canAutoFreeze_=!1;else return}else l&&a.add(n);if(mh(n)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[s]===n&&o)return;$w(e,n),(!t||!t.scope_.parent_)&&typeof s!="symbol"&&(ab(a)?a.has(s):Object.prototype.propertyIsEnumerable.call(a,s))&&Uw(e,n)}}}function Uw(e,t,a=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&l_(t,a)}function a_e(e,t){const a=Array.isArray(e),s={type_:a?1:0,scope_:t?t.scope_:kK(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let n=s,i=o_;a&&(n=[s],i=yv);const{revoke:l,proxy:o}=Proxy.revocable(n,i);return s.draft_=o,s.revoke_=l,o}var o_={get(e,t){if(t===Ro)return e;const a=P0(e);if(!ZC(a,t))return r_e(e,a,t);const s=a[t];return e.finalized_||!mh(s)?s:s===DS(e.base_,t)?(MS(e),e.copy_[t]=s6(s,e)):s},has(e,t){return t in P0(e)},ownKeys(e){return Reflect.ownKeys(P0(e))},set(e,t,a){const s=CK(P0(e),t);if(s?.set)return s.set.call(e.draft_,a),!0;if(!e.modified_){const n=DS(P0(e),t),i=n?.[Ro];if(i&&i.base_===a)return e.copy_[t]=a,e.assigned_[t]=!1,!0;if(J8e(a,n)&&(a!==void 0||ZC(e.base_,t)))return!0;MS(e),r6(e)}return e.copy_[t]===a&&(a!==void 0||t in e.copy_)||Number.isNaN(a)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=a,e.assigned_[t]=!0),!0},deleteProperty(e,t){return DS(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,MS(e),r6(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const a=P0(e),s=Reflect.getOwnPropertyDescriptor(a,t);return s&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:s.enumerable,value:a[t]}},defineProperty(){rd(11)},getPrototypeOf(e){return vv(e.base_)},setPrototypeOf(){rd(12)}},yv={};Bw(o_,(e,t)=>{yv[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});yv.deleteProperty=function(e,t){return yv.set.call(this,e,t,void 0)};yv.set=function(e,t,a){return o_.set.call(this,e[0],t,a,e[0])};function DS(e,t){const a=e[Ro];return(a?P0(a):e)[t]}function r_e(e,t,a){const s=CK(t,a);return s?"value"in s?s.value:s.get?.call(e.draft_):void 0}function CK(e,t){if(!(t in e))return;let a=vv(e);for(;a;){const s=Object.getOwnPropertyDescriptor(a,t);if(s)return s;a=vv(a)}}function r6(e){e.modified_||(e.modified_=!0,e.parent_&&r6(e.parent_))}function MS(e){e.copy_||(e.copy_=e6(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var s_e=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,a,s)=>{if(typeof t=="function"&&typeof a!="function"){const i=a;a=t;const l=this;return function(c=i,...d){return l.produce(c,u=>a.call(this,u,...d))}}typeof a!="function"&&rd(6),s!==void 0&&typeof s!="function"&&rd(7);let n;if(mh(t)){const i=xF(this),l=s6(t,void 0);let o=!0;try{n=a(l),o=!1}finally{o?t6(i):a6(i)}return pF(i,s),gF(n,i)}else if(!t||typeof t!="object"){if(n=a(t),n===void 0&&(n=t),n===jK&&(n=void 0),this.autoFreeze_&&l_(n,!0),s){const i=[],l=[];wm("Patches").generateReplacementPatches_(t,n,i,l),s(i,l)}return n}else rd(1,t)},this.produceWithPatches=(t,a)=>{if(typeof t=="function")return(l,...o)=>this.produceWithPatches(l,c=>t(c,...o));let s,n;return[this.produce(t,a,(l,o)=>{s=l,n=o}),s,n]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){mh(e)||rd(8),ym(e)&&(e=ih(e));const t=xF(this),a=s6(e,void 0);return a[Ro].isManual_=!0,a6(t),a}finishDraft(e,t){const a=e&&e[Ro];(!a||!a.isManual_)&&rd(9);const{scope_:s}=a;return pF(s,t),gF(void 0,s)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let a;for(a=t.length-1;a>=0;a--){const n=t[a];if(n.path.length===0&&n.op==="replace"){e=n.value;break}}a>-1&&(t=t.slice(a+1));const s=wm("Patches").applyPatches_;return ym(e)?s(e,t):this.produce(e,n=>s(n,t))}};function s6(e,t){const a=ab(e)?wm("MapSet").proxyMap_(e,t):hN(e)?wm("MapSet").proxySet_(e,t):a_e(e,t);return(t?t.scope_:kK()).drafts_.push(a),a}function ih(e){return ym(e)||rd(10,e),AK(e)}function AK(e){if(!mh(e)||fN(e))return e;const t=e[Ro];let a,s=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,a=e6(e,t.scope_.immer_.useStrictShallowCopy_),s=t.scope_.immer_.shouldUseStrictIteration()}else a=e6(e,!0);return Bw(a,(n,i)=>{SK(a,n,AK(i))},s),t&&(t.finalized_=!1),a}var n_e=new s_e,_K=n_e.produce;function TK(e){return({dispatch:a,getState:s})=>n=>i=>typeof i=="function"?i(a,s,e):n(i)}var i_e=TK(),l_e=TK,o_e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Iw:Iw.apply(null,arguments)};function Nc(e,t){function a(...s){if(t){let n=t(...s);if(!n)throw new Error(Lo(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:s[0]}}return a.toString=()=>`${e}`,a.type=e,a.match=s=>wK(s)&&s.type===e,a}var EK=class l1 extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,l1.prototype)}static get[Symbol.species](){return l1}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new l1(...t[0].concat(this)):new l1(...t.concat(this))}};function bF(e){return mh(e)?_K(e,()=>{}):e}function m2(e,t,a){return e.has(t)?e.get(t):e.set(t,a(t)).get(t)}function c_e(e){return typeof e=="boolean"}var d_e=()=>function(t){const{thunk:a=!0,immutableCheck:s=!0,serializableCheck:n=!0,actionCreatorCheck:i=!0}=t??{};let l=new EK;return a&&(c_e(a)?l.push(i_e):l.push(l_e(a.extraArgument))),l},DK="RTK_autoBatch",Tl=()=>e=>({payload:e,meta:{[DK]:!0}}),yF=e=>t=>{setTimeout(t,e)},MK=(e={type:"raf"})=>t=>(...a)=>{const s=t(...a);let n=!0,i=!1,l=!1;const o=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:yF(10):e.type==="callback"?e.queueNotification:yF(e.timeout),d=()=>{l=!1,i&&(i=!1,o.forEach(u=>u()))};return Object.assign({},s,{subscribe(u){const f=()=>n&&u(),x=s.subscribe(f);return o.add(u),()=>{x(),o.delete(u)}},dispatch(u){try{return n=!u?.meta?.[DK],i=!n,i&&(l||(l=!0,c(d))),s.dispatch(u)}finally{n=!0}}})},u_e=e=>function(a){const{autoBatch:s=!0}=a??{};let n=new EK(e);return s&&n.push(MK(typeof s=="object"?s:void 0)),n};function h_e(e){const t=d_e(),{reducer:a=void 0,middleware:s,devTools:n=!0,preloadedState:i=void 0,enhancers:l=void 0}=e||{};let o;if(typeof a=="function")o=a;else if(i_(a))o=yK(a);else throw new Error(Lo(1));let c;typeof s=="function"?c=s(t):c=t();let d=Iw;n&&(d=o_e({trace:!1,...typeof n=="object"&&n}));const u=Y8e(...c),f=u_e(u);let x=typeof l=="function"?l(f):f();const m=d(...x);return bK(o,i,m)}function PK(e){const t={},a=[];let s;const n={addCase(i,l){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(Lo(28));if(o in t)throw new Error(Lo(29));return t[o]=l,n},addAsyncThunk(i,l){return l.pending&&(t[i.pending.type]=l.pending),l.rejected&&(t[i.rejected.type]=l.rejected),l.fulfilled&&(t[i.fulfilled.type]=l.fulfilled),l.settled&&a.push({matcher:i.settled,reducer:l.settled}),n},addMatcher(i,l){return a.push({matcher:i,reducer:l}),n},addDefaultCase(i){return s=i,n}};return e(n),[t,a,s]}function f_e(e){return typeof e=="function"}function m_e(e,t){let[a,s,n]=PK(t),i;if(f_e(e))i=()=>bF(e());else{const o=bF(e);i=()=>o}function l(o=i(),c){let d=[a[c.type],...s.filter(({matcher:u})=>u(c)).map(({reducer:u})=>u)];return d.filter(u=>!!u).length===0&&(d=[n]),d.reduce((u,f)=>{if(f)if(ym(u)){const m=f(u,c);return m===void 0?u:m}else{if(mh(u))return _K(u,x=>f(x,c));{const x=f(u,c);if(x===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return u},o)}return l.getInitialState=i,l}var p_e="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",x_e=(e=21)=>{let t="",a=e;for(;a--;)t+=p_e[Math.random()*64|0];return t},g_e=Symbol.for("rtk-slice-createasyncthunk");function v_e(e,t){return`${e}/${t}`}function b_e({creators:e}={}){const t=e?.asyncThunk?.[g_e];return function(s){const{name:n,reducerPath:i=n}=s;if(!n)throw new Error(Lo(11));const l=(typeof s.reducers=="function"?s.reducers(w_e()):s.reducers)||{},o=Object.keys(l),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(k,N){const A=typeof k=="string"?k:k.type;if(!A)throw new Error(Lo(12));if(A in c.sliceCaseReducersByType)throw new Error(Lo(13));return c.sliceCaseReducersByType[A]=N,d},addMatcher(k,N){return c.sliceMatchers.push({matcher:k,reducer:N}),d},exposeAction(k,N){return c.actionCreators[k]=N,d},exposeCaseReducer(k,N){return c.sliceCaseReducersByName[k]=N,d}};o.forEach(k=>{const N=l[k],A={reducerName:k,type:v_e(n,k),createNotation:typeof s.reducers=="function"};N_e(N)?k_e(A,N,d,t):j_e(A,N,d)});function u(){const[k={},N=[],A=void 0]=typeof s.extraReducers=="function"?PK(s.extraReducers):[s.extraReducers],_={...k,...c.sliceCaseReducersByType};return m_e(s.initialState,D=>{for(let P in _)D.addCase(P,_[P]);for(let P of c.sliceMatchers)D.addMatcher(P.matcher,P.reducer);for(let P of N)D.addMatcher(P.matcher,P.reducer);A&&D.addDefaultCase(A)})}const f=k=>k,x=new Map,m=new WeakMap;let g;function v(k,N){return g||(g=u()),g(k,N)}function b(){return g||(g=u()),g.getInitialState()}function j(k,N=!1){function A(D){let P=D[k];return typeof P>"u"&&N&&(P=m2(m,A,b)),P}function _(D=f){const P=m2(x,N,()=>new WeakMap);return m2(P,D,()=>{const I={};for(const[B,O]of Object.entries(s.selectors??{}))I[B]=y_e(O,D,()=>m2(m,D,b),N);return I})}return{reducerPath:k,getSelectors:_,get selectors(){return _(A)},selectSlice:A}}const S={name:n,reducer:v,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:b,...j(i),injectInto(k,{reducerPath:N,...A}={}){const _=N??i;return k.inject({reducerPath:_,reducer:v},A),{...S,...j(_,!0)}}};return S}}function y_e(e,t,a,s){function n(i,...l){let o=t(i);return typeof o>"u"&&s&&(o=a()),e(o,...l)}return n.unwrapped=e,n}var Fo=b_e();function w_e(){function e(t,a){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...a}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...a){return t(...a)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,a){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:a}},asyncThunk:e}}function j_e({type:e,reducerName:t,createNotation:a},s,n){let i,l;if("reducer"in s){if(a&&!S_e(s))throw new Error(Lo(17));i=s.reducer,l=s.prepare}else i=s;n.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,l?Nc(e,l):Nc(e))}function N_e(e){return e._reducerDefinitionType==="asyncThunk"}function S_e(e){return e._reducerDefinitionType==="reducerWithPrepare"}function k_e({type:e,reducerName:t},a,s,n){if(!n)throw new Error(Lo(18));const{payloadCreator:i,fulfilled:l,pending:o,rejected:c,settled:d,options:u}=a,f=n(e,i,u);s.exposeAction(t,f),l&&s.addCase(f.fulfilled,l),o&&s.addCase(f.pending,o),c&&s.addCase(f.rejected,c),d&&s.addMatcher(f.settled,d),s.exposeCaseReducer(t,{fulfilled:l||p2,pending:o||p2,rejected:c||p2,settled:d||p2})}function p2(){}var C_e="task",LK="listener",OK="completed",c_="cancelled",A_e=`task-${c_}`,__e=`task-${OK}`,n6=`${LK}-${c_}`,T_e=`${LK}-${OK}`,mN=class{constructor(e){this.code=e,this.message=`${C_e} ${c_} (reason: ${e})`}name="TaskAbortError";message},d_=(e,t)=>{if(typeof e!="function")throw new TypeError(Lo(32))},zw=()=>{},RK=(e,t=zw)=>(e.catch(t),e),FK=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),sm=(e,t)=>{const a=e.signal;a.aborted||("reason"in a||Object.defineProperty(a,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},nm=e=>{if(e.aborted){const{reason:t}=e;throw new mN(t)}};function IK(e,t){let a=zw;return new Promise((s,n)=>{const i=()=>n(new mN(e.reason));if(e.aborted){i();return}a=FK(e,i),t.finally(()=>a()).then(s,n)}).finally(()=>{a=zw})}var E_e=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(a){return{status:a instanceof mN?"cancelled":"rejected",error:a}}finally{t?.()}},Hw=e=>t=>RK(IK(e,t).then(a=>(nm(e),a))),BK=e=>{const t=Hw(e);return a=>t(new Promise(s=>setTimeout(s,a)))},{assign:Qp}=Object,wF={},pN="listenerMiddleware",D_e=(e,t)=>{const a=s=>FK(e,()=>sm(s,e.reason));return(s,n)=>{d_(s);const i=new AbortController;a(i);const l=E_e(async()=>{nm(e),nm(i.signal);const o=await s({pause:Hw(i.signal),delay:BK(i.signal),signal:i.signal});return nm(i.signal),o},()=>sm(i,__e));return n?.autoJoin&&t.push(l.catch(zw)),{result:Hw(e)(l),cancel(){sm(i,A_e)}}}},M_e=(e,t)=>{const a=async(s,n)=>{nm(t);let i=()=>{};const o=[new Promise((c,d)=>{let u=e({predicate:s,effect:(f,x)=>{x.unsubscribe(),c([f,x.getState(),x.getOriginalState()])}});i=()=>{u(),d()}})];n!=null&&o.push(new Promise(c=>setTimeout(c,n,null)));try{const c=await IK(t,Promise.race(o));return nm(t),c}finally{i()}};return(s,n)=>RK(a(s,n))},$K=e=>{let{type:t,actionCreator:a,matcher:s,predicate:n,effect:i}=e;if(t)n=Nc(t).match;else if(a)t=a.type,n=a.match;else if(s)n=s;else if(!n)throw new Error(Lo(21));return d_(i),{predicate:n,type:t,effect:i}},UK=Qp(e=>{const{type:t,predicate:a,effect:s}=$K(e);return{id:x_e(),effect:s,type:t,predicate:a,pending:new Set,unsubscribe:()=>{throw new Error(Lo(22))}}},{withTypes:()=>UK}),jF=(e,t)=>{const{type:a,effect:s,predicate:n}=$K(t);return Array.from(e.values()).find(i=>(typeof a=="string"?i.type===a:i.predicate===n)&&i.effect===s)},i6=e=>{e.pending.forEach(t=>{sm(t,n6)})},P_e=(e,t)=>()=>{for(const a of t.keys())i6(a);e.clear()},NF=(e,t,a)=>{try{e(t,a)}catch(s){setTimeout(()=>{throw s},0)}},zK=Qp(Nc(`${pN}/add`),{withTypes:()=>zK}),L_e=Nc(`${pN}/removeAll`),HK=Qp(Nc(`${pN}/remove`),{withTypes:()=>HK}),O_e=(...e)=>{console.error(`${pN}/error`,...e)},rb=(e={})=>{const t=new Map,a=new Map,s=m=>{const g=a.get(m)??0;a.set(m,g+1)},n=m=>{const g=a.get(m)??1;g===1?a.delete(m):a.set(m,g-1)},{extra:i,onError:l=O_e}=e;d_(l);const o=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),g=>{m.unsubscribe(),g?.cancelActive&&i6(m)}),c=m=>{const g=jF(t,m)??UK(m);return o(g)};Qp(c,{withTypes:()=>c});const d=m=>{const g=jF(t,m);return g&&(g.unsubscribe(),m.cancelActive&&i6(g)),!!g};Qp(d,{withTypes:()=>d});const u=async(m,g,v,b)=>{const j=new AbortController,S=M_e(c,j.signal),k=[];try{m.pending.add(j),s(m),await Promise.resolve(m.effect(g,Qp({},v,{getOriginalState:b,condition:(N,A)=>S(N,A).then(Boolean),take:S,delay:BK(j.signal),pause:Hw(j.signal),extra:i,signal:j.signal,fork:D_e(j.signal,k),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((N,A,_)=>{N!==j&&(sm(N,n6),_.delete(N))})},cancel:()=>{sm(j,n6),m.pending.delete(j)},throwIfCancelled:()=>{nm(j.signal)}})))}catch(N){N instanceof mN||NF(l,N,{raisedBy:"effect"})}finally{await Promise.all(k),sm(j,T_e),n(m),m.pending.delete(j)}},f=P_e(t,a);return{middleware:m=>g=>v=>{if(!wK(v))return g(v);if(zK.match(v))return c(v.payload);if(L_e.match(v)){f();return}if(HK.match(v))return d(v.payload);let b=m.getState();const j=()=>{if(b===wF)throw new Error(Lo(23));return b};let S;try{if(S=g(v),t.size>0){const k=m.getState(),N=Array.from(t.values());for(const A of N){let _=!1;try{_=A.predicate(v,k,b)}catch(D){_=!1,NF(l,D,{raisedBy:"predicate"})}_&&u(A,v,m,j)}}}finally{b=wF}return S},startListening:c,stopListening:d,clearListeners:f}};function Lo(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var R_e={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},VK=Fo({name:"chartLayout",initialState:R_e,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var a,s,n,i;e.margin.top=(a=t.payload.top)!==null&&a!==void 0?a:0,e.margin.right=(s=t.payload.right)!==null&&s!==void 0?s:0,e.margin.bottom=(n=t.payload.bottom)!==null&&n!==void 0?n:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:F_e,setLayout:I_e,setChartSize:B_e,setScale:$_e}=VK.actions,U_e=VK.reducer;function SF(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,s)}return a}function kF(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?SF(Object(a),!0).forEach(function(s){z_e(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):SF(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function z_e(e,t,a){return(t=H_e(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function H_e(e){var t=V_e(e,"string");return typeof t=="symbol"?t:t+""}function V_e(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vw=Math.PI/180,W_e=e=>e*180/Math.PI,Hi=(e,t,a,s)=>({x:e+Math.cos(-Vw*s)*a,y:t+Math.sin(-Vw*s)*a}),q_e=function(t,a){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(s.left||0)-(s.right||0)),Math.abs(a-(s.top||0)-(s.bottom||0)))/2},G_e=(e,t)=>{var{x:a,y:s}=e,{x:n,y:i}=t;return Math.sqrt((a-n)**2+(s-i)**2)},K_e=(e,t)=>{var{x:a,y:s}=e,{cx:n,cy:i}=t,l=G_e({x:a,y:s},{x:n,y:i});if(l<=0)return{radius:l,angle:0};var o=(a-n)/l,c=Math.acos(o);return s>i&&(c=2*Math.PI-c),{radius:l,angle:W_e(c),angleInRadian:c}},Y_e=e=>{var{startAngle:t,endAngle:a}=e,s=Math.floor(t/360),n=Math.floor(a/360),i=Math.min(s,n);return{startAngle:t-i*360,endAngle:a-i*360}},X_e=(e,t)=>{var{startAngle:a,endAngle:s}=t,n=Math.floor(a/360),i=Math.floor(s/360),l=Math.min(n,i);return e+l*360},J_e=(e,t)=>{var{x:a,y:s}=e,{radius:n,angle:i}=K_e({x:a,y:s},t),{innerRadius:l,outerRadius:o}=t;if(n<l||n>o||n===0)return null;var{startAngle:c,endAngle:d}=Y_e(t),u=i,f;if(c<=d){for(;u>d;)u-=360;for(;u<c;)u+=360;f=u>=c&&u<=d}else{for(;u>c;)u-=360;for(;u<d;)u+=360;f=u>=d&&u<=c}return f?kF(kF({},t),{},{radius:n,angle:X_e(u,t)}):null};function WK(e,t,a){return Array.isArray(e)&&e&&t+a!==0?e.slice(t,a+1):e}function CF(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,s)}return a}function mc(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?CF(Object(a),!0).forEach(function(s){Q_e(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):CF(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function Q_e(e,t,a){return(t=Z_e(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Z_e(e){var t=eTe(e,"string");return typeof t=="symbol"?t:t+""}function eTe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Si(e,t,a){return Os(e)||Os(t)?a:su(t)?hx(e,t,a):typeof t=="function"?t(e):a}var tTe=(e,t,a,s,n)=>{var i,l=-1,o=(i=t?.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(s==="angleAxis"&&n!=null&&Math.abs(Math.abs(n[1]-n[0])-360)<=1e-6)for(var c=0;c<o;c++){var d=c>0?a[c-1].coordinate:a[o-1].coordinate,u=a[c].coordinate,f=c>=o-1?a[0].coordinate:a[c+1].coordinate,x=void 0;if(Zl(u-d)!==Zl(f-u)){var m=[];if(Zl(f-u)===Zl(n[1]-n[0])){x=f;var g=u+n[1]-n[0];m[0]=Math.min(g,(g+d)/2),m[1]=Math.max(g,(g+d)/2)}else{x=d;var v=f+n[1]-n[0];m[0]=Math.min(u,(v+u)/2),m[1]=Math.max(u,(v+u)/2)}var b=[Math.min(u,(x+u)/2),Math.max(u,(x+u)/2)];if(e>b[0]&&e<=b[1]||e>=m[0]&&e<=m[1]){({index:l}=a[c]);break}}else{var j=Math.min(d,f),S=Math.max(d,f);if(e>(j+u)/2&&e<=(S+u)/2){({index:l}=a[c]);break}}}else if(t){for(var k=0;k<o;k++)if(k===0&&e<=(t[k].coordinate+t[k+1].coordinate)/2||k>0&&k<o-1&&e>(t[k].coordinate+t[k-1].coordinate)/2&&e<=(t[k].coordinate+t[k+1].coordinate)/2||k===o-1&&e>(t[k].coordinate+t[k-1].coordinate)/2){({index:l}=t[k]);break}}return l},aTe=(e,t,a)=>{if(t&&a){var{width:s,height:n}=a,{align:i,verticalAlign:l,layout:o}=t;if((o==="vertical"||o==="horizontal"&&l==="middle")&&i!=="center"&&Ca(e[i]))return mc(mc({},e),{},{[i]:e[i]+(s||0)});if((o==="horizontal"||o==="vertical"&&i==="center")&&l!=="middle"&&Ca(e[l]))return mc(mc({},e),{},{[l]:e[l]+(n||0)})}return e},Kf=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",qK=(e,t,a,s)=>{if(s)return e.map(o=>o.coordinate);var n,i,l=e.map(o=>(o.coordinate===t&&(n=!0),o.coordinate===a&&(i=!0),o.coordinate));return n||l.push(t),i||l.push(a),l},GK=(e,t,a)=>{if(!e)return null;var{duplicateDomain:s,type:n,range:i,scale:l,realScaleType:o,isCategorical:c,categoricalDomain:d,tickCount:u,ticks:f,niceTicks:x,axisType:m}=e;if(!l)return null;var g=o==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,v=n==="category"&&l.bandwidth?l.bandwidth()/g:0;if(v=m==="angleAxis"&&i&&i.length>=2?Zl(i[0]-i[1])*2*v:v,f||x){var b=(f||x||[]).map((j,S)=>{var k=s?s.indexOf(j):j;return{coordinate:l(k)+v,value:j,offset:v,index:S}});return b.filter(j=>!jc(j.coordinate))}return c&&d?d.map((j,S)=>({coordinate:l(j)+v,value:j,index:S,offset:v})):l.ticks&&u!=null?l.ticks(u).map((j,S)=>({coordinate:l(j)+v,value:j,offset:v,index:S})):l.domain().map((j,S)=>({coordinate:l(j)+v,value:s?s[j]:j,index:S,offset:v}))},AF=1e-4,rTe=e=>{var t=e.domain();if(!(!t||t.length<=2)){var a=t.length,s=e.range(),n=Math.min(s[0],s[1])-AF,i=Math.max(s[0],s[1])+AF,l=e(t[0]),o=e(t[a-1]);(l<n||l>i||o<n||o>i)&&e.domain([t[0],t[a-1]])}},sTe=(e,t)=>{if(!t||t.length!==2||!Ca(t[0])||!Ca(t[1]))return e;var a=Math.min(t[0],t[1]),s=Math.max(t[0],t[1]),n=[e[0],e[1]];return(!Ca(e[0])||e[0]<a)&&(n[0]=a),(!Ca(e[1])||e[1]>s)&&(n[1]=s),n[0]>s&&(n[0]=s),n[1]<a&&(n[1]=a),n},nTe=e=>{var t=e.length;if(!(t<=0))for(var a=0,s=e[0].length;a<s;++a)for(var n=0,i=0,l=0;l<t;++l){var o=jc(e[l][a][1])?e[l][a][0]:e[l][a][1];o>=0?(e[l][a][0]=n,e[l][a][1]=n+o,n=e[l][a][1]):(e[l][a][0]=i,e[l][a][1]=i+o,i=e[l][a][1])}},iTe=e=>{var t=e.length;if(!(t<=0))for(var a=0,s=e[0].length;a<s;++a)for(var n=0,i=0;i<t;++i){var l=jc(e[i][a][1])?e[i][a][0]:e[i][a][1];l>=0?(e[i][a][0]=n,e[i][a][1]=n+l,n=e[i][a][1]):(e[i][a][0]=0,e[i][a][1]=0)}},lTe={sign:nTe,expand:PAe,none:ux,silhouette:LAe,wiggle:OAe,positive:iTe},oTe=(e,t,a)=>{var s=lTe[a],n=MAe().keys(t).value((i,l)=>+Si(i,l,0)).order(JC).offset(s);return n(e)};function cTe(e){return e==null?void 0:String(e)}function _F(e){var{axis:t,ticks:a,bandSize:s,entry:n,index:i,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Os(n[t.dataKey])){var o=rK(a,"value",n[t.dataKey]);if(o)return o.coordinate+s/2}return a[i]?a[i].coordinate+s/2:null}var c=Si(n,Os(l)?t.dataKey:l);return Os(c)?null:t.scale(c)}var TF=e=>{var{axis:t,ticks:a,offset:s,bandSize:n,entry:i,index:l}=e;if(t.type==="category")return a[l]?a[l].coordinate+s:null;var o=Si(i,t.dataKey,t.scale.domain()[l]);return Os(o)?null:t.scale(o)-n/2+s},dTe=e=>{var{numericAxis:t}=e,a=t.scale.domain();if(t.type==="number"){var s=Math.min(a[0],a[1]),n=Math.max(a[0],a[1]);return s<=0&&n>=0?0:n<0?n:s}return a[0]},uTe=e=>{var t=e.flat(2).filter(Ca);return[Math.min(...t),Math.max(...t)]},hTe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],fTe=(e,t,a)=>{if(e!=null)return hTe(Object.keys(e).reduce((s,n)=>{var i=e[n],{stackedData:l}=i,o=l.reduce((c,d)=>{var u=WK(d,t,a),f=uTe(u);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],s[0]),Math.max(o[1],s[1])]},[1/0,-1/0]))},EF=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,DF=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wv=(e,t,a)=>{if(e&&e.scale&&e.scale.bandwidth){var s=e.scale.bandwidth();if(!a||s>0)return s}if(e&&t&&t.length>=2){for(var n=dN(t,u=>u.coordinate),i=1/0,l=1,o=n.length;l<o;l++){var c=n[l],d=n[l-1];i=Math.min((c.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return a?void 0:0};function MF(e){var{tooltipEntrySettings:t,dataKey:a,payload:s,value:n,name:i}=e;return mc(mc({},t),{},{dataKey:a,payload:s,value:n,name:i})}function xN(e,t){if(e)return String(e);if(typeof t=="string")return t}function mTe(e,t,a,s,n){if(a==="horizontal"||a==="vertical"){var i=e>=n.left&&e<=n.left+n.width&&t>=n.top&&t<=n.top+n.height;return i?{x:e,y:t}:null}return s?J_e({x:e,y:t},s):null}var pTe=(e,t,a,s)=>{var n=t.find(d=>d&&d.index===a);if(n){if(e==="horizontal")return{x:n.coordinate,y:s.y};if(e==="vertical")return{x:s.x,y:n.coordinate};if(e==="centric"){var i=n.coordinate,{radius:l}=s;return mc(mc(mc({},s),Hi(s.cx,s.cy,l,i)),{},{angle:i,radius:l})}var o=n.coordinate,{angle:c}=s;return mc(mc(mc({},s),Hi(s.cx,s.cy,o,c)),{},{angle:c,radius:o})}return{x:0,y:0}},xTe=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Nh=e=>e.layout.width,Sh=e=>e.layout.height,gTe=e=>e.layout.scale,KK=e=>e.layout.margin,gN=bt(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),vN=bt(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),vTe="data-recharts-item-index",bTe="data-recharts-item-data-key",sb=60;function PF(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,s)}return a}function x2(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?PF(Object(a),!0).forEach(function(s){yTe(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):PF(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function yTe(e,t,a){return(t=wTe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function wTe(e){var t=jTe(e,"string");return typeof t=="symbol"?t:t+""}function jTe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NTe=e=>e.brush.height;function STe(e){var t=vN(e);return t.reduce((a,s)=>{if(s.orientation==="left"&&!s.mirror&&!s.hide){var n=typeof s.width=="number"?s.width:sb;return a+n}return a},0)}function kTe(e){var t=vN(e);return t.reduce((a,s)=>{if(s.orientation==="right"&&!s.mirror&&!s.hide){var n=typeof s.width=="number"?s.width:sb;return a+n}return a},0)}function CTe(e){var t=gN(e);return t.reduce((a,s)=>s.orientation==="top"&&!s.mirror&&!s.hide?a+s.height:a,0)}function ATe(e){var t=gN(e);return t.reduce((a,s)=>s.orientation==="bottom"&&!s.mirror&&!s.hide?a+s.height:a,0)}var ki=bt([Nh,Sh,KK,NTe,STe,kTe,CTe,ATe,vK,H8e],(e,t,a,s,n,i,l,o,c,d)=>{var u={left:(a.left||0)+n,right:(a.right||0)+i},f={top:(a.top||0)+l,bottom:(a.bottom||0)+o},x=x2(x2({},f),u),m=x.bottom;x.bottom+=s,x=aTe(x,c,d);var g=e-x.left-x.right,v=t-x.top-x.bottom;return x2(x2({brushBottom:m},x),{},{width:Math.max(g,0),height:Math.max(v,0)})}),_Te=bt(ki,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),u_=bt(Nh,Sh,(e,t)=>({x:0,y:0,width:e,height:t})),TTe=w.createContext(null),Ol=()=>w.useContext(TTe)!=null,bN=e=>e.brush,yN=bt([bN,ki,KK],(e,t,a)=>({height:e.height,x:Ca(e.x)?e.x:t.left,y:Ca(e.y)?e.y:t.top+t.height+t.brushBottom-(a?.bottom||0),width:Ca(e.width)?e.width:t.width})),PS={},LS={},OS={},LF;function ETe(){return LF||(LF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,s,{signal:n,edges:i}={}){let l,o=null;const c=i!=null&&i.includes("leading"),d=i==null||i.includes("trailing"),u=()=>{o!==null&&(a.apply(l,o),l=void 0,o=null)},f=()=>{d&&u(),v()};let x=null;const m=()=>{x!=null&&clearTimeout(x),x=setTimeout(()=>{x=null,f()},s)},g=()=>{x!==null&&(clearTimeout(x),x=null)},v=()=>{g(),l=void 0,o=null},b=()=>{u()},j=function(...S){if(n?.aborted)return;l=this,o=S;const k=x==null;m(),c&&k&&u()};return j.schedule=m,j.cancel=v,j.flush=b,n?.addEventListener("abort",v,{once:!0}),j}e.debounce=t})(OS)),OS}var OF;function DTe(){return OF||(OF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ETe();function a(s,n=0,i={}){typeof i!="object"&&(i={});const{leading:l=!1,trailing:o=!0,maxWait:c}=i,d=Array(2);l&&(d[0]="leading"),o&&(d[1]="trailing");let u,f=null;const x=t.debounce(function(...v){u=s.apply(this,v),f=null},n,{edges:d}),m=function(...v){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(u=s.apply(this,v),f=Date.now(),x.cancel(),x.schedule(),u):(x.apply(this,v),u)},g=()=>(x.flush(),u);return m.cancel=x.cancel,m.flush=g,m}e.debounce=a})(LS)),LS}var RF;function MTe(){return RF||(RF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DTe();function a(s,n=0,i={}){const{leading:l=!0,trailing:o=!0}=i;return t.debounce(s,n,{leading:l,maxWait:n,trailing:o})}e.throttle=a})(PS)),PS}var RS,FF;function PTe(){return FF||(FF=1,RS=MTe().throttle),RS}var LTe=PTe();const OTe=vh(LTe);var Ww=function(t,a){for(var s=arguments.length,n=new Array(s>2?s-2:0),i=2;i<s;i++)n[i-2]=arguments[i]},YK=(e,t,a)=>{var{width:s="100%",height:n="100%",aspect:i,maxHeight:l}=a,o=fh(s)?e:Number(s),c=fh(n)?t:Number(n);return i&&i>0&&(o?c=o/i:c&&(o=c*i),l&&c>l&&(c=l)),{calculatedWidth:o,calculatedHeight:c}},RTe={width:0,height:0,overflow:"visible"},FTe={width:0,overflowX:"visible"},ITe={height:0,overflowY:"visible"},BTe={},$Te=e=>{var{width:t,height:a}=e,s=fh(t),n=fh(a);return s&&n?RTe:s?FTe:n?ITe:BTe};function UTe(e){var{width:t,height:a,aspect:s}=e,n=t,i=a;return n===void 0&&i===void 0?(n="100%",i="100%"):n===void 0?n=s&&s>0?void 0:"100%":i===void 0&&(i=s&&s>0?void 0:"100%"),{width:n,height:i}}function pl(e){return Number.isFinite(e)}function fx(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function l6(){return l6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},l6.apply(null,arguments)}function IF(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,s)}return a}function BF(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?IF(Object(a),!0).forEach(function(s){zTe(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):IF(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function zTe(e,t,a){return(t=HTe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function HTe(e){var t=VTe(e,"string");return typeof t=="symbol"?t:t+""}function VTe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XK=w.createContext({width:-1,height:-1});function JK(e){var{children:t,width:a,height:s}=e,n=w.useMemo(()=>({width:a,height:s}),[a,s]);return a<=0||s<=0?null:w.createElement(XK.Provider,{value:n},t)}var h_=()=>w.useContext(XK),WTe=w.forwardRef((e,t)=>{var{aspect:a,initialDimension:s={width:-1,height:-1},width:n,height:i,minWidth:l=0,minHeight:o,maxHeight:c,children:d,debounce:u=0,id:f,className:x,onResize:m,style:g={}}=e,v=w.useRef(null),b=w.useRef();b.current=m,w.useImperativeHandle(t,()=>v.current);var[j,S]=w.useState({containerWidth:s.width,containerHeight:s.height}),k=w.useCallback((P,I)=>{S(B=>{var O=Math.round(P),U=Math.round(I);return B.containerWidth===O&&B.containerHeight===U?B:{containerWidth:O,containerHeight:U}})},[]);w.useEffect(()=>{var P=U=>{var E,{width:R,height:K}=U[0].contentRect;k(R,K),(E=b.current)===null||E===void 0||E.call(b,R,K)};u>0&&(P=OTe(P,u,{trailing:!0,leading:!1}));var I=new ResizeObserver(P),{width:B,height:O}=v.current.getBoundingClientRect();return k(B,O),I.observe(v.current),()=>{I.disconnect()}},[k,u]);var{containerWidth:N,containerHeight:A}=j;Ww(!a||a>0,"The aspect(%s) must be greater than zero.",a);var{calculatedWidth:_,calculatedHeight:D}=YK(N,A,{width:n,height:i,aspect:a,maxHeight:c});return Ww(_>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,_,D,n,i,l,o,a),w.createElement("div",{id:f?"".concat(f):void 0,className:Qr("recharts-responsive-container",x),style:BF(BF({},g),{},{width:n,height:i,minWidth:l,minHeight:o,maxHeight:c}),ref:v},w.createElement("div",{style:$Te({width:n,height:i})},w.createElement(JK,{width:_,height:D},d)))}),qw=w.forwardRef((e,t)=>{var a=h_();if(fx(a.width)&&fx(a.height))return e.children;var{width:s,height:n}=UTe({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:l}=YK(void 0,void 0,{width:s,height:n,aspect:e.aspect,maxHeight:e.maxHeight});return Ca(i)&&Ca(l)?w.createElement(JK,{width:i,height:l},e.children):w.createElement(WTe,l6({},e,{width:s,height:n,ref:t}))}),wN=()=>{var e,t=Ol(),a=Sa(_Te),s=Sa(yN),n=(e=Sa(bN))===null||e===void 0?void 0:e.padding;return!t||!s||!n?a:{width:s.width-n.left-n.right,height:s.height-n.top-n.bottom,x:n.left,y:n.top}},qTe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},QK=()=>{var e;return(e=Sa(ki))!==null&&e!==void 0?e:qTe},ZK=()=>Sa(Nh),eY=()=>Sa(Sh),Or=e=>e.layout.layoutType,jN=()=>Sa(Or),NN=e=>{var t=ri(),a=Ol(),{width:s,height:n}=e,i=h_(),l=s,o=n;return i&&(l=i.width>0?i.width:s,o=i.height>0?i.height:n),w.useEffect(()=>{!a&&fx(l)&&fx(o)&&t(B_e({width:l,height:o}))},[t,a,l,o]),null},GTe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},tY=Fo({name:"legend",initialState:GTe,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Tl()},removeLegendPayload:{reducer(e,t){var a=ih(e).payload.indexOf(t.payload);a>-1&&e.payload.splice(a,1)},prepare:Tl()}}}),{setLegendSize:Cze,setLegendSettings:Aze,addLegendPayload:KTe,removeLegendPayload:YTe}=tY.actions,XTe=tY.reducer;function o6(){return o6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},o6.apply(null,arguments)}function $F(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,s)}return a}function FS(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?$F(Object(a),!0).forEach(function(s){JTe(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$F(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function JTe(e,t,a){return(t=QTe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function QTe(e){var t=ZTe(e,"string");return typeof t=="symbol"?t:t+""}function ZTe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eEe(e){return Array.isArray(e)&&su(e[0])&&su(e[1])?e.join(" ~ "):e}var tEe=e=>{var{separator:t=" : ",contentStyle:a={},itemStyle:s={},labelStyle:n={},payload:i,formatter:l,itemSorter:o,wrapperClassName:c,labelClassName:d,label:u,labelFormatter:f,accessibilityLayer:x=!1}=e,m=()=>{if(i&&i.length){var A={padding:0,margin:0},_=(o?dN(i,o):i).map((D,P)=>{if(D.type==="none")return null;var I=D.formatter||l||eEe,{value:B,name:O}=D,U=B,E=O;if(I){var R=I(B,O,D,P,i);if(Array.isArray(R))[U,E]=R;else if(R!=null)U=R;else return null}var K=FS({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},s);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(P),style:K},su(E)?w.createElement("span",{className:"recharts-tooltip-item-name"},E):null,su(E)?w.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,w.createElement("span",{className:"recharts-tooltip-item-value"},U),w.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:A},_)}return null},g=FS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),v=FS({margin:0},n),b=!Os(u),j=b?u:"",S=Qr("recharts-default-tooltip",c),k=Qr("recharts-tooltip-label",d);b&&f&&i!==void 0&&i!==null&&(j=f(u,i));var N=x?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",o6({className:S,style:g},N),w.createElement("p",{className:k,style:v},w.isValidElement(j)?j:"".concat(j)),m())},Wg="recharts-tooltip-wrapper",aEe={visibility:"hidden"};function rEe(e){var{coordinate:t,translateX:a,translateY:s}=e;return Qr(Wg,{["".concat(Wg,"-right")]:Ca(a)&&t&&Ca(t.x)&&a>=t.x,["".concat(Wg,"-left")]:Ca(a)&&t&&Ca(t.x)&&a<t.x,["".concat(Wg,"-bottom")]:Ca(s)&&t&&Ca(t.y)&&s>=t.y,["".concat(Wg,"-top")]:Ca(s)&&t&&Ca(t.y)&&s<t.y})}function UF(e){var{allowEscapeViewBox:t,coordinate:a,key:s,offsetTopLeft:n,position:i,reverseDirection:l,tooltipDimension:o,viewBox:c,viewBoxDimension:d}=e;if(i&&Ca(i[s]))return i[s];var u=a[s]-o-(n>0?n:0),f=a[s]+n;if(t[s])return l[s]?u:f;var x=c[s];if(x==null)return 0;if(l[s]){var m=u,g=x;return m<g?Math.max(f,x):Math.max(u,x)}if(d==null)return 0;var v=f+o,b=x+d;return v>b?Math.max(u,x):Math.max(f,x)}function sEe(e){var{translateX:t,translateY:a,useTranslate3d:s}=e;return{transform:s?"translate3d(".concat(t,"px, ").concat(a,"px, 0)"):"translate(".concat(t,"px, ").concat(a,"px)")}}function nEe(e){var{allowEscapeViewBox:t,coordinate:a,offsetTopLeft:s,position:n,reverseDirection:i,tooltipBox:l,useTranslate3d:o,viewBox:c}=e,d,u,f;return l.height>0&&l.width>0&&a?(u=UF({allowEscapeViewBox:t,coordinate:a,key:"x",offsetTopLeft:s,position:n,reverseDirection:i,tooltipDimension:l.width,viewBox:c,viewBoxDimension:c.width}),f=UF({allowEscapeViewBox:t,coordinate:a,key:"y",offsetTopLeft:s,position:n,reverseDirection:i,tooltipDimension:l.height,viewBox:c,viewBoxDimension:c.height}),d=sEe({translateX:u,translateY:f,useTranslate3d:o})):d=aEe,{cssProperties:d,cssClasses:rEe({translateX:u,translateY:f,coordinate:a})}}function zF(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,s)}return a}function g2(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?zF(Object(a),!0).forEach(function(s){c6(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):zF(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function c6(e,t,a){return(t=iEe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function iEe(e){var t=lEe(e,"string");return typeof t=="symbol"?t:t+""}function lEe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class oEe extends w.PureComponent{constructor(){super(...arguments),c6(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),c6(this,"handleKeyDown",t=>{if(t.key==="Escape"){var a,s,n,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.x)!==null&&a!==void 0?a:0,y:(n=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&n!==void 0?n:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,a;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:a,animationDuration:s,animationEasing:n,children:i,coordinate:l,hasPayload:o,isAnimationActive:c,offset:d,position:u,reverseDirection:f,useTranslate3d:x,viewBox:m,wrapperStyle:g,lastBoundingBox:v,innerRef:b,hasPortalFromProps:j}=this.props,{cssClasses:S,cssProperties:k}=nEe({allowEscapeViewBox:a,coordinate:l,offsetTopLeft:d,position:u,reverseDirection:f,tooltipBox:{height:v.height,width:v.width},useTranslate3d:x,viewBox:m}),N=j?{}:g2(g2({transition:c&&t?"transform ".concat(s,"ms ").concat(n):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),A=g2(g2({},N),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},g);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:S,style:A,ref:b},i)}}var cEe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Bm={devToolsEnabled:!1,isSsr:cEe()},aY=()=>Sa(e=>e.rootProps.accessibilityLayer);function d6(){return d6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},d6.apply(null,arguments)}function HF(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,s)}return a}function VF(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?HF(Object(a),!0).forEach(function(s){dEe(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):HF(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function dEe(e,t,a){return(t=uEe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function uEe(e){var t=hEe(e,"string");return typeof t=="symbol"?t:t+""}function hEe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WF={curveBasisClosed:wAe,curveBasisOpen:jAe,curveBasis:yAe,curveBumpX:iAe,curveBumpY:lAe,curveLinearClosed:NAe,curveLinear:oN,curveMonotoneX:SAe,curveMonotoneY:kAe,curveNatural:CAe,curveStep:AAe,curveStepAfter:TAe,curveStepBefore:_Ae},v2=e=>pl(e.x)&&pl(e.y),qg=e=>e.x,Gg=e=>e.y,fEe=(e,t)=>{if(typeof e=="function")return e;var a="curve".concat(tb(e));return(a==="curveMonotone"||a==="curveBump")&&t?WF["".concat(a).concat(t==="vertical"?"Y":"X")]:WF[a]||oN},mEe=e=>{var{type:t="linear",points:a=[],baseLine:s,layout:n,connectNulls:i=!1}=e,l=fEe(t,n),o=i?a.filter(v2):a,c;if(Array.isArray(s)){var d=i?s.filter(f=>v2(f)):s,u=o.map((f,x)=>VF(VF({},f),{},{base:d[x]}));return n==="vertical"?c=d2().y(Gg).x1(qg).x0(f=>f.base.x):c=d2().x(qg).y1(Gg).y0(f=>f.base.y),c.defined(v2).curve(l),c(u)}return n==="vertical"&&Ca(s)?c=d2().y(Gg).x1(qg).x0(s):Ca(s)?c=d2().x(qg).y1(Gg).y0(s):c=VG().x(qg).y(Gg),c.defined(v2).curve(l),c(o)},rY=e=>{var{className:t,points:a,path:s,pathRef:n}=e;if((!a||!a.length)&&!s)return null;var i=a&&a.length?mEe(e):s;return w.createElement("path",d6({},hd(e),a_(e),{className:Qr("recharts-curve",t),d:i===null?void 0:i,ref:n}))},pEe=["x","y","top","left","width","height","className"];function u6(){return u6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},u6.apply(null,arguments)}function qF(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,s)}return a}function xEe(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?qF(Object(a),!0).forEach(function(s){gEe(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):qF(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function gEe(e,t,a){return(t=vEe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function vEe(e){var t=bEe(e,"string");return typeof t=="symbol"?t:t+""}function bEe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yEe(e,t){if(e==null)return{};var a,s,n=wEe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function wEe(e,t){if(e==null)return{};var a={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;a[s]=e[s]}return a}var jEe=(e,t,a,s,n,i)=>"M".concat(e,",").concat(n,"v").concat(s,"M").concat(i,",").concat(t,"h").concat(a),NEe=e=>{var{x:t=0,y:a=0,top:s=0,left:n=0,width:i=0,height:l=0,className:o}=e,c=yEe(e,pEe),d=xEe({x:t,y:a,top:s,left:n,width:i,height:l},c);return!Ca(t)||!Ca(a)||!Ca(i)||!Ca(l)||!Ca(s)||!Ca(n)?null:w.createElement("path",u6({},Ll(d),{className:Qr("recharts-cross",o),d:jEe(t,a,i,l,s,n)}))};function SEe(e,t,a,s){var n=s/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-n:a.left+.5,y:e==="horizontal"?a.top+.5:t.y-n,width:e==="horizontal"?s:a.width-1,height:e==="horizontal"?a.height-1:s}}function GF(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,s)}return a}function kEe(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?GF(Object(a),!0).forEach(function(s){CEe(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):GF(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function CEe(e,t,a){return(t=AEe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function AEe(e){var t=_Ee(e,"string");return typeof t=="symbol"?t:t+""}function _Ee(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lo(e,t){var a=kEe({},e),s=t,n=Object.keys(t),i=n.reduce((l,o)=>(l[o]===void 0&&s[o]!==void 0&&(l[o]=s[o]),l),a);return i}function TEe(){}function EEe(e){return e!=null}function KF(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,s)}return a}function YF(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?KF(Object(a),!0).forEach(function(s){DEe(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):KF(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function DEe(e,t,a){return(t=MEe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function MEe(e){var t=PEe(e,"string");return typeof t=="symbol"?t:t+""}function PEe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LEe=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),sY=(e,t,a)=>e.map(s=>"".concat(LEe(s)," ").concat(t,"ms ").concat(a)).join(","),OEe=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((a,s)=>a.filter(n=>s.includes(n))),jv=(e,t)=>Object.keys(t).reduce((a,s)=>YF(YF({},a),{},{[s]:e(s,t[s])}),{});function XF(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,s)}return a}function $i(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?XF(Object(a),!0).forEach(function(s){REe(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):XF(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function REe(e,t,a){return(t=FEe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function FEe(e){var t=IEe(e,"string");return typeof t=="symbol"?t:t+""}function IEe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gw=(e,t,a)=>e+(t-e)*a,h6=e=>{var{from:t,to:a}=e;return t!==a},nY=(e,t,a)=>{var s=jv((n,i)=>{if(h6(i)){var[l,o]=e(i.from,i.to,i.velocity);return $i($i({},i),{},{from:l,velocity:o})}return i},t);return a<1?jv((n,i)=>h6(i)?$i($i({},i),{},{velocity:Gw(i.velocity,s[n].velocity,a),from:Gw(i.from,s[n].from,a)}):i,t):nY(e,s,a-1)};function BEe(e,t,a,s,n,i){var l,o=s.reduce((x,m)=>$i($i({},x),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>jv((x,m)=>m.from,o),d=()=>!Object.values(o).filter(h6).length,u=null,f=x=>{l||(l=x);var m=x-l,g=m/a.dt;o=nY(a,o,g),n($i($i($i({},e),t),c())),l=x,d()||(u=i.setTimeout(f))};return()=>(u=i.setTimeout(f),()=>{u()})}function $Ee(e,t,a,s,n,i,l){var o=null,c=n.reduce((f,x)=>$i($i({},f),{},{[x]:[e[x],t[x]]}),{}),d,u=f=>{d||(d=f);var x=(f-d)/s,m=jv((v,b)=>Gw(...b,a(x)),c);if(i($i($i($i({},e),t),m)),x<1)o=l.setTimeout(u);else{var g=jv((v,b)=>Gw(...b,a(1)),c);i($i($i($i({},e),t),g))}};return()=>(o=l.setTimeout(u),()=>{o()})}const UEe=(e,t,a,s,n,i)=>{var l=OEe(e,t);return a.isStepper===!0?BEe(e,t,a,l,n,i):$Ee(e,t,a,s,l,n,i)};var Kw=1e-4,iY=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],lY=(e,t)=>e.map((a,s)=>a*t**s).reduce((a,s)=>a+s),JF=(e,t)=>a=>{var s=iY(e,t);return lY(s,a)},zEe=(e,t)=>a=>{var s=iY(e,t),n=[...s.map((i,l)=>i*l).slice(1),0];return lY(n,a)},QF=function(){for(var t,a,s,n,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];if(l.length===1)switch(l[0]){case"linear":[t,s,a,n]=[0,0,1,1];break;case"ease":[t,s,a,n]=[.25,.1,.25,1];break;case"ease-in":[t,s,a,n]=[.42,0,1,1];break;case"ease-out":[t,s,a,n]=[.42,0,.58,1];break;case"ease-in-out":[t,s,a,n]=[0,0,.58,1];break;default:{var c=l[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,s,a,n]=c[1].split(")")[0].split(",").map(g=>parseFloat(g)))}}else l.length===4&&([t,s,a,n]=l);var d=JF(t,a),u=JF(s,n),f=zEe(t,a),x=g=>g>1?1:g<0?0:g,m=g=>{for(var v=g>1?1:g,b=v,j=0;j<8;++j){var S=d(b)-v,k=f(b);if(Math.abs(S-v)<Kw||k<Kw)return u(b);b=x(b-S/k)}return u(b)};return m.isStepper=!1,m},HEe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:a=100,damping:s=8,dt:n=17}=t,i=(l,o,c)=>{var d=-(l-o)*a,u=c*s,f=c+(d-u)*n/1e3,x=c*n/1e3+l;return Math.abs(x-o)<Kw&&Math.abs(f)<Kw?[o,0]:[x,f]};return i.isStepper=!0,i.dt=n,i},VEe=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return QF(e);case"spring":return HEe();default:if(e.split("(")[0]==="cubic-bezier")return QF(e)}return typeof e=="function"?e:null};function WEe(e){var t,a=()=>null,s=!1,n=null,i=l=>{if(!s){if(Array.isArray(l)){if(!l.length)return;var o=l,[c,...d]=o;if(typeof c=="number"){n=e.setTimeout(i.bind(null,d),c);return}i(c),n=e.setTimeout(i.bind(null,d));return}typeof l=="string"&&(t=l,a(t)),typeof l=="object"&&(t=l,a(t)),typeof l=="function"&&l()}};return{stop:()=>{s=!0},start:l=>{s=!1,n&&(n(),n=null),i(l)},subscribe:l=>(a=l,()=>{a=()=>null}),getTimeoutController:()=>e}}class qEe{setTimeout(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=performance.now(),n=null,i=l=>{l-s>=a?t(l):typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(i))};return n=requestAnimationFrame(i),()=>{cancelAnimationFrame(n)}}}function GEe(){return WEe(new qEe)}var KEe=w.createContext(GEe);function YEe(e,t){var a=w.useContext(KEe);return w.useMemo(()=>t??a(e),[e,t,a])}var XEe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},ZF={t:0},IS={t:1};function SN(e){var t=lo(e,XEe),{isActive:a,canBegin:s,duration:n,easing:i,begin:l,onAnimationEnd:o,onAnimationStart:c,children:d}=t,u=YEe(t.animationId,t.animationManager),[f,x]=w.useState(a?ZF:IS),m=w.useRef(null);return w.useEffect(()=>{a||x(IS)},[a]),w.useEffect(()=>{if(!a||!s)return TEe;var g=UEe(ZF,IS,VEe(i),n,x,u.getTimeoutController()),v=()=>{m.current=g()};return u.start([c,l,v,n,o]),()=>{u.stop(),m.current&&m.current(),o()}},[a,s,n,i,l,c,o,u]),d(f.t)}function kN(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",a=w.useRef(gv(t)),s=w.useRef(e);return s.current!==e&&(a.current=gv(t),s.current=e),a.current}var JEe=["radius"],QEe=["radius"];function eI(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,s)}return a}function tI(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?eI(Object(a),!0).forEach(function(s){ZEe(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):eI(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function ZEe(e,t,a){return(t=e7e(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function e7e(e){var t=t7e(e,"string");return typeof t=="symbol"?t:t+""}function t7e(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yw(){return Yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},Yw.apply(null,arguments)}function aI(e,t){if(e==null)return{};var a,s,n=a7e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function a7e(e,t){if(e==null)return{};var a={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;a[s]=e[s]}return a}var rI=(e,t,a,s,n)=>{var i=Math.min(Math.abs(a)/2,Math.abs(s)/2),l=s>=0?1:-1,o=a>=0?1:-1,c=s>=0&&a>=0||s<0&&a<0?1:0,d;if(i>0&&n instanceof Array){for(var u=[0,0,0,0],f=0,x=4;f<x;f++)u[f]=n[f]>i?i:n[f];d="M".concat(e,",").concat(t+l*u[0]),u[0]>0&&(d+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+o*u[0],",").concat(t)),d+="L ".concat(e+a-o*u[1],",").concat(t),u[1]>0&&(d+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,`,
        `).concat(e+a,",").concat(t+l*u[1])),d+="L ".concat(e+a,",").concat(t+s-l*u[2]),u[2]>0&&(d+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,`,
        `).concat(e+a-o*u[2],",").concat(t+s)),d+="L ".concat(e+o*u[3],",").concat(t+s),u[3]>0&&(d+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+s-l*u[3])),d+="Z"}else if(i>0&&n===+n&&n>0){var m=Math.min(i,n);d="M ".concat(e,",").concat(t+l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+o*m,",").concat(t,`
            L `).concat(e+a-o*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+a,",").concat(t+l*m,`
            L `).concat(e+a,",").concat(t+s-l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+a-o*m,",").concat(t+s,`
            L `).concat(e+o*m,",").concat(t+s,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+s-l*m," Z")}else d="M ".concat(e,",").concat(t," h ").concat(a," v ").concat(s," h ").concat(-a," Z");return d},r7e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},oY=e=>{var t=lo(e,r7e),a=w.useRef(null),[s,n]=w.useState(-1);w.useEffect(()=>{if(a.current&&a.current.getTotalLength)try{var Z=a.current.getTotalLength();Z&&n(Z)}catch{}},[]);var{x:i,y:l,width:o,height:c,radius:d,className:u}=t,{animationEasing:f,animationDuration:x,animationBegin:m,isAnimationActive:g,isUpdateAnimationActive:v}=t,b=w.useRef(o),j=w.useRef(c),S=w.useRef(i),k=w.useRef(l),N=w.useMemo(()=>({x:i,y:l,width:o,height:c,radius:d}),[i,l,o,c,d]),A=kN(N,"rectangle-");if(i!==+i||l!==+l||o!==+o||c!==+c||o===0||c===0)return null;var _=Qr("recharts-rectangle",u);if(!v){var D=Ll(t),{radius:P}=D,I=aI(D,JEe);return w.createElement("path",Yw({},I,{radius:typeof d=="number"?d:void 0,className:_,d:rI(i,l,o,c,d)}))}var B=b.current,O=j.current,U=S.current,E=k.current,R="0px ".concat(s===-1?1:s,"px"),K="".concat(s,"px 0px"),V=sY(["strokeDasharray"],x,typeof f=="string"?f:void 0);return w.createElement(SN,{animationId:A,key:A,canBegin:s>0,duration:x,easing:f,isActive:v,begin:m},Z=>{var J=Fn(B,o,Z),ee=Fn(O,c,Z),W=Fn(U,i,Z),le=Fn(E,l,Z);a.current&&(b.current=J,j.current=ee,S.current=W,k.current=le);var M;g?Z>0?M={transition:V,strokeDasharray:K}:M={strokeDasharray:R}:M={strokeDasharray:K};var X=Ll(t),{radius:z}=X,Q=aI(X,QEe);return w.createElement("path",Yw({},Q,{radius:typeof d=="number"?d:void 0,className:_,d:rI(W,le,J,ee,d),ref:a,style:tI(tI({},M),t.style)}))})};function cY(e){var{cx:t,cy:a,radius:s,startAngle:n,endAngle:i}=e,l=Hi(t,a,s,n),o=Hi(t,a,s,i);return{points:[l,o],cx:t,cy:a,radius:s,startAngle:n,endAngle:i}}function f6(){return f6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},f6.apply(null,arguments)}var s7e=(e,t)=>{var a=Zl(t-e),s=Math.min(Math.abs(t-e),359.999);return a*s},b2=e=>{var{cx:t,cy:a,radius:s,angle:n,sign:i,isExternal:l,cornerRadius:o,cornerIsExternal:c}=e,d=o*(l?1:-1)+s,u=Math.asin(o/d)/Vw,f=c?n:n+i*u,x=Hi(t,a,d,f),m=Hi(t,a,s,f),g=c?n-i*u:n,v=Hi(t,a,d*Math.cos(u*Vw),g);return{center:x,circleTangency:m,lineTangency:v,theta:u}},dY=e=>{var{cx:t,cy:a,innerRadius:s,outerRadius:n,startAngle:i,endAngle:l}=e,o=s7e(i,l),c=i+o,d=Hi(t,a,n,i),u=Hi(t,a,n,c),f="M ".concat(d.x,",").concat(d.y,`
    A `).concat(n,",").concat(n,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(i>c),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(s>0){var x=Hi(t,a,s,i),m=Hi(t,a,s,c);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(i<=c),`,
            `).concat(x.x,",").concat(x.y," Z")}else f+="L ".concat(t,",").concat(a," Z");return f},n7e=e=>{var{cx:t,cy:a,innerRadius:s,outerRadius:n,cornerRadius:i,forceCornerRadius:l,cornerIsExternal:o,startAngle:c,endAngle:d}=e,u=Zl(d-c),{circleTangency:f,lineTangency:x,theta:m}=b2({cx:t,cy:a,radius:n,angle:c,sign:u,cornerRadius:i,cornerIsExternal:o}),{circleTangency:g,lineTangency:v,theta:b}=b2({cx:t,cy:a,radius:n,angle:d,sign:-u,cornerRadius:i,cornerIsExternal:o}),j=o?Math.abs(c-d):Math.abs(c-d)-m-b;if(j<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):dY({cx:t,cy:a,innerRadius:s,outerRadius:n,startAngle:c,endAngle:d});var S="M ".concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(n,",").concat(n,",0,").concat(+(j>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(v.x,",").concat(v.y,`
  `);if(s>0){var{circleTangency:k,lineTangency:N,theta:A}=b2({cx:t,cy:a,radius:s,angle:c,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),{circleTangency:_,lineTangency:D,theta:P}=b2({cx:t,cy:a,radius:s,angle:d,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),I=o?Math.abs(c-d):Math.abs(c-d)-A-P;if(I<0&&i===0)return"".concat(S,"L").concat(t,",").concat(a,"Z");S+="L".concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(_.x,",").concat(_.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(I>180),",").concat(+(u>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(N.x,",").concat(N.y,"Z")}else S+="L".concat(t,",").concat(a,"Z");return S},i7e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},uY=e=>{var t=lo(e,i7e),{cx:a,cy:s,innerRadius:n,outerRadius:i,cornerRadius:l,forceCornerRadius:o,cornerIsExternal:c,startAngle:d,endAngle:u,className:f}=t;if(i<n||d===u)return null;var x=Qr("recharts-sector",f),m=i-n,g=md(l,m,0,!0),v;return g>0&&Math.abs(d-u)<360?v=n7e({cx:a,cy:s,innerRadius:n,outerRadius:i,cornerRadius:Math.min(g,m/2),forceCornerRadius:o,cornerIsExternal:c,startAngle:d,endAngle:u}):v=dY({cx:a,cy:s,innerRadius:n,outerRadius:i,startAngle:d,endAngle:u}),w.createElement("path",f6({},Ll(t),{className:x,d:v}))};function l7e(e,t,a){var s,n,i,l;if(e==="horizontal")s=t.x,i=s,n=a.top,l=a.top+a.height;else if(e==="vertical")n=t.y,l=n,s=a.left,i=a.left+a.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:o,cy:c,innerRadius:d,outerRadius:u,angle:f}=t,x=Hi(o,c,d,f),m=Hi(o,c,u,f);s=x.x,n=x.y,i=m.x,l=m.y}else return cY(t);return[{x:s,y:n},{x:i,y:l}]}var BS={},$S={},US={},sI;function o7e(){return sI||(sI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xK();function a(s){return t.isSymbol(s)?NaN:Number(s)}e.toNumber=a})(US)),US}var nI;function c7e(){return nI||(nI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=o7e();function a(s){return s?(s=t.toNumber(s),s===1/0||s===-1/0?(s<0?-1:1)*Number.MAX_VALUE:s===s?s:0):s===0?s:0}e.toFinite=a})($S)),$S}var iI;function d7e(){return iI||(iI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gK(),a=c7e();function s(n,i,l){l&&typeof l!="number"&&t.isIterateeCall(n,i,l)&&(i=l=void 0),n=a.toFinite(n),i===void 0?(i=n,n=0):i=a.toFinite(i),l=l===void 0?n<i?1:-1:a.toFinite(l);const o=Math.max(Math.ceil((i-n)/(l||1)),0),c=new Array(o);for(let d=0;d<o;d++)c[d]=n,n+=l;return c}e.range=s})(BS)),BS}var zS,lI;function u7e(){return lI||(lI=1,zS=d7e().range),zS}var h7e=u7e();const hY=vh(h7e);function _f(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function f7e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function f_(e){let t,a,s;e.length!==2?(t=_f,a=(o,c)=>_f(e(o),c),s=(o,c)=>e(o)-c):(t=e===_f||e===f7e?e:m7e,a=e,s=e);function n(o,c,d=0,u=o.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;a(o[f],c)<0?d=f+1:u=f}while(d<u)}return d}function i(o,c,d=0,u=o.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;a(o[f],c)<=0?d=f+1:u=f}while(d<u)}return d}function l(o,c,d=0,u=o.length){const f=n(o,c,d,u-1);return f>d&&s(o[f-1],c)>-s(o[f],c)?f-1:f}return{left:n,center:l,right:i}}function m7e(){return 0}function fY(e){return e===null?NaN:+e}function*p7e(e,t){for(let a of e)a!=null&&(a=+a)>=a&&(yield a)}const x7e=f_(_f),nb=x7e.right;f_(fY).center;class oI extends Map{constructor(t,a=b7e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:a}}),t!=null)for(const[s,n]of t)this.set(s,n)}get(t){return super.get(cI(this,t))}has(t){return super.has(cI(this,t))}set(t,a){return super.set(g7e(this,t),a)}delete(t){return super.delete(v7e(this,t))}}function cI({_intern:e,_key:t},a){const s=t(a);return e.has(s)?e.get(s):a}function g7e({_intern:e,_key:t},a){const s=t(a);return e.has(s)?e.get(s):(e.set(s,a),a)}function v7e({_intern:e,_key:t},a){const s=t(a);return e.has(s)&&(a=e.get(s),e.delete(s)),a}function b7e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function y7e(e=_f){if(e===_f)return mY;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,a)=>{const s=e(t,a);return s||s===0?s:(e(a,a)===0)-(e(t,t)===0)}}function mY(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const w7e=Math.sqrt(50),j7e=Math.sqrt(10),N7e=Math.sqrt(2);function Xw(e,t,a){const s=(t-e)/Math.max(0,a),n=Math.floor(Math.log10(s)),i=s/Math.pow(10,n),l=i>=w7e?10:i>=j7e?5:i>=N7e?2:1;let o,c,d;return n<0?(d=Math.pow(10,-n)/l,o=Math.round(e*d),c=Math.round(t*d),o/d<e&&++o,c/d>t&&--c,d=-d):(d=Math.pow(10,n)*l,o=Math.round(e/d),c=Math.round(t/d),o*d<e&&++o,c*d>t&&--c),c<o&&.5<=a&&a<2?Xw(e,t,a*2):[o,c,d]}function m6(e,t,a){if(t=+t,e=+e,a=+a,!(a>0))return[];if(e===t)return[e];const s=t<e,[n,i,l]=s?Xw(t,e,a):Xw(e,t,a);if(!(i>=n))return[];const o=i-n+1,c=new Array(o);if(s)if(l<0)for(let d=0;d<o;++d)c[d]=(i-d)/-l;else for(let d=0;d<o;++d)c[d]=(i-d)*l;else if(l<0)for(let d=0;d<o;++d)c[d]=(n+d)/-l;else for(let d=0;d<o;++d)c[d]=(n+d)*l;return c}function p6(e,t,a){return t=+t,e=+e,a=+a,Xw(e,t,a)[2]}function x6(e,t,a){t=+t,e=+e,a=+a;const s=t<e,n=s?p6(t,e,a):p6(e,t,a);return(s?-1:1)*(n<0?1/-n:n)}function dI(e,t){let a;for(const s of e)s!=null&&(a<s||a===void 0&&s>=s)&&(a=s);return a}function uI(e,t){let a;for(const s of e)s!=null&&(a>s||a===void 0&&s>=s)&&(a=s);return a}function pY(e,t,a=0,s=1/0,n){if(t=Math.floor(t),a=Math.floor(Math.max(0,a)),s=Math.floor(Math.min(e.length-1,s)),!(a<=t&&t<=s))return e;for(n=n===void 0?mY:y7e(n);s>a;){if(s-a>600){const c=s-a+1,d=t-a+1,u=Math.log(c),f=.5*Math.exp(2*u/3),x=.5*Math.sqrt(u*f*(c-f)/c)*(d-c/2<0?-1:1),m=Math.max(a,Math.floor(t-d*f/c+x)),g=Math.min(s,Math.floor(t+(c-d)*f/c+x));pY(e,t,m,g,n)}const i=e[t];let l=a,o=s;for(Kg(e,a,t),n(e[s],i)>0&&Kg(e,a,s);l<o;){for(Kg(e,l,o),++l,--o;n(e[l],i)<0;)++l;for(;n(e[o],i)>0;)--o}n(e[a],i)===0?Kg(e,a,o):(++o,Kg(e,o,s)),o<=t&&(a=o+1),t<=o&&(s=o-1)}return e}function Kg(e,t,a){const s=e[t];e[t]=e[a],e[a]=s}function S7e(e,t,a){if(e=Float64Array.from(p7e(e)),!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return uI(e);if(t>=1)return dI(e);var s,n=(s-1)*t,i=Math.floor(n),l=dI(pY(e,i).subarray(0,i+1)),o=uI(e.subarray(i+1));return l+(o-l)*(n-i)}}function k7e(e,t,a=fY){if(!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return+a(e[0],0,e);if(t>=1)return+a(e[s-1],s-1,e);var s,n=(s-1)*t,i=Math.floor(n),l=+a(e[i],i,e),o=+a(e[i+1],i+1,e);return l+(o-l)*(n-i)}}function C7e(e,t,a){e=+e,t=+t,a=(n=arguments.length)<2?(t=e,e=0,1):n<3?1:+a;for(var s=-1,n=Math.max(0,Math.ceil((t-e)/a))|0,i=new Array(n);++s<n;)i[s]=e+s*a;return i}function _c(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function kh(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const g6=Symbol("implicit");function m_(){var e=new oI,t=[],a=[],s=g6;function n(i){let l=e.get(i);if(l===void 0){if(s!==g6)return s;e.set(i,l=t.push(i)-1)}return a[l%a.length]}return n.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new oI;for(const l of i)e.has(l)||e.set(l,t.push(l)-1);return n},n.range=function(i){return arguments.length?(a=Array.from(i),n):a.slice()},n.unknown=function(i){return arguments.length?(s=i,n):s},n.copy=function(){return m_(t,a).unknown(s)},_c.apply(n,arguments),n}function p_(){var e=m_().unknown(void 0),t=e.domain,a=e.range,s=0,n=1,i,l,o=!1,c=0,d=0,u=.5;delete e.unknown;function f(){var x=t().length,m=n<s,g=m?n:s,v=m?s:n;i=(v-g)/Math.max(1,x-c+d*2),o&&(i=Math.floor(i)),g+=(v-g-i*(x-c))*u,l=i*(1-c),o&&(g=Math.round(g),l=Math.round(l));var b=C7e(x).map(function(j){return g+i*j});return a(m?b.reverse():b)}return e.domain=function(x){return arguments.length?(t(x),f()):t()},e.range=function(x){return arguments.length?([s,n]=x,s=+s,n=+n,f()):[s,n]},e.rangeRound=function(x){return[s,n]=x,s=+s,n=+n,o=!0,f()},e.bandwidth=function(){return l},e.step=function(){return i},e.round=function(x){return arguments.length?(o=!!x,f()):o},e.padding=function(x){return arguments.length?(c=Math.min(1,d=+x),f()):c},e.paddingInner=function(x){return arguments.length?(c=Math.min(1,x),f()):c},e.paddingOuter=function(x){return arguments.length?(d=+x,f()):d},e.align=function(x){return arguments.length?(u=Math.max(0,Math.min(1,x)),f()):u},e.copy=function(){return p_(t(),[s,n]).round(o).paddingInner(c).paddingOuter(d).align(u)},_c.apply(f(),arguments)}function xY(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return xY(t())},e}function A7e(){return xY(p_.apply(null,arguments).paddingInner(1))}function x_(e,t,a){e.prototype=t.prototype=a,a.constructor=e}function gY(e,t){var a=Object.create(e.prototype);for(var s in t)a[s]=t[s];return a}function ib(){}var Nv=.7,Jw=1/Nv,Zp="\\s*([+-]?\\d+)\\s*",Sv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",au="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_7e=/^#([0-9a-f]{3,8})$/,T7e=new RegExp(`^rgb\\(${Zp},${Zp},${Zp}\\)$`),E7e=new RegExp(`^rgb\\(${au},${au},${au}\\)$`),D7e=new RegExp(`^rgba\\(${Zp},${Zp},${Zp},${Sv}\\)$`),M7e=new RegExp(`^rgba\\(${au},${au},${au},${Sv}\\)$`),P7e=new RegExp(`^hsl\\(${Sv},${au},${au}\\)$`),L7e=new RegExp(`^hsla\\(${Sv},${au},${au},${Sv}\\)$`),hI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};x_(ib,kv,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:fI,formatHex:fI,formatHex8:O7e,formatHsl:R7e,formatRgb:mI,toString:mI});function fI(){return this.rgb().formatHex()}function O7e(){return this.rgb().formatHex8()}function R7e(){return vY(this).formatHsl()}function mI(){return this.rgb().formatRgb()}function kv(e){var t,a;return e=(e+"").trim().toLowerCase(),(t=_7e.exec(e))?(a=t[1].length,t=parseInt(t[1],16),a===6?pI(t):a===3?new eo(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):a===8?y2(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):a===4?y2(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=T7e.exec(e))?new eo(t[1],t[2],t[3],1):(t=E7e.exec(e))?new eo(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=D7e.exec(e))?y2(t[1],t[2],t[3],t[4]):(t=M7e.exec(e))?y2(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=P7e.exec(e))?vI(t[1],t[2]/100,t[3]/100,1):(t=L7e.exec(e))?vI(t[1],t[2]/100,t[3]/100,t[4]):hI.hasOwnProperty(e)?pI(hI[e]):e==="transparent"?new eo(NaN,NaN,NaN,0):null}function pI(e){return new eo(e>>16&255,e>>8&255,e&255,1)}function y2(e,t,a,s){return s<=0&&(e=t=a=NaN),new eo(e,t,a,s)}function F7e(e){return e instanceof ib||(e=kv(e)),e?(e=e.rgb(),new eo(e.r,e.g,e.b,e.opacity)):new eo}function v6(e,t,a,s){return arguments.length===1?F7e(e):new eo(e,t,a,s??1)}function eo(e,t,a,s){this.r=+e,this.g=+t,this.b=+a,this.opacity=+s}x_(eo,v6,gY(ib,{brighter(e){return e=e==null?Jw:Math.pow(Jw,e),new eo(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Nv:Math.pow(Nv,e),new eo(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new eo(im(this.r),im(this.g),im(this.b),Qw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xI,formatHex:xI,formatHex8:I7e,formatRgb:gI,toString:gI}));function xI(){return`#${U0(this.r)}${U0(this.g)}${U0(this.b)}`}function I7e(){return`#${U0(this.r)}${U0(this.g)}${U0(this.b)}${U0((isNaN(this.opacity)?1:this.opacity)*255)}`}function gI(){const e=Qw(this.opacity);return`${e===1?"rgb(":"rgba("}${im(this.r)}, ${im(this.g)}, ${im(this.b)}${e===1?")":`, ${e})`}`}function Qw(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function im(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function U0(e){return e=im(e),(e<16?"0":"")+e.toString(16)}function vI(e,t,a,s){return s<=0?e=t=a=NaN:a<=0||a>=1?e=t=NaN:t<=0&&(e=NaN),new sd(e,t,a,s)}function vY(e){if(e instanceof sd)return new sd(e.h,e.s,e.l,e.opacity);if(e instanceof ib||(e=kv(e)),!e)return new sd;if(e instanceof sd)return e;e=e.rgb();var t=e.r/255,a=e.g/255,s=e.b/255,n=Math.min(t,a,s),i=Math.max(t,a,s),l=NaN,o=i-n,c=(i+n)/2;return o?(t===i?l=(a-s)/o+(a<s)*6:a===i?l=(s-t)/o+2:l=(t-a)/o+4,o/=c<.5?i+n:2-i-n,l*=60):o=c>0&&c<1?0:l,new sd(l,o,c,e.opacity)}function B7e(e,t,a,s){return arguments.length===1?vY(e):new sd(e,t,a,s??1)}function sd(e,t,a,s){this.h=+e,this.s=+t,this.l=+a,this.opacity=+s}x_(sd,B7e,gY(ib,{brighter(e){return e=e==null?Jw:Math.pow(Jw,e),new sd(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Nv:Math.pow(Nv,e),new sd(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,a=this.l,s=a+(a<.5?a:1-a)*t,n=2*a-s;return new eo(HS(e>=240?e-240:e+120,n,s),HS(e,n,s),HS(e<120?e+240:e-120,n,s),this.opacity)},clamp(){return new sd(bI(this.h),w2(this.s),w2(this.l),Qw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Qw(this.opacity);return`${e===1?"hsl(":"hsla("}${bI(this.h)}, ${w2(this.s)*100}%, ${w2(this.l)*100}%${e===1?")":`, ${e})`}`}}));function bI(e){return e=(e||0)%360,e<0?e+360:e}function w2(e){return Math.max(0,Math.min(1,e||0))}function HS(e,t,a){return(e<60?t+(a-t)*e/60:e<180?a:e<240?t+(a-t)*(240-e)/60:t)*255}const g_=e=>()=>e;function $7e(e,t){return function(a){return e+a*t}}function U7e(e,t,a){return e=Math.pow(e,a),t=Math.pow(t,a)-e,a=1/a,function(s){return Math.pow(e+s*t,a)}}function z7e(e){return(e=+e)==1?bY:function(t,a){return a-t?U7e(t,a,e):g_(isNaN(t)?a:t)}}function bY(e,t){var a=t-e;return a?$7e(e,a):g_(isNaN(e)?t:e)}const yI=(function e(t){var a=z7e(t);function s(n,i){var l=a((n=v6(n)).r,(i=v6(i)).r),o=a(n.g,i.g),c=a(n.b,i.b),d=bY(n.opacity,i.opacity);return function(u){return n.r=l(u),n.g=o(u),n.b=c(u),n.opacity=d(u),n+""}}return s.gamma=e,s})(1);function H7e(e,t){t||(t=[]);var a=e?Math.min(t.length,e.length):0,s=t.slice(),n;return function(i){for(n=0;n<a;++n)s[n]=e[n]*(1-i)+t[n]*i;return s}}function V7e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function W7e(e,t){var a=t?t.length:0,s=e?Math.min(a,e.length):0,n=new Array(s),i=new Array(a),l;for(l=0;l<s;++l)n[l]=Mx(e[l],t[l]);for(;l<a;++l)i[l]=t[l];return function(o){for(l=0;l<s;++l)i[l]=n[l](o);return i}}function q7e(e,t){var a=new Date;return e=+e,t=+t,function(s){return a.setTime(e*(1-s)+t*s),a}}function Zw(e,t){return e=+e,t=+t,function(a){return e*(1-a)+t*a}}function G7e(e,t){var a={},s={},n;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(n in t)n in e?a[n]=Mx(e[n],t[n]):s[n]=t[n];return function(i){for(n in a)s[n]=a[n](i);return s}}var b6=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,VS=new RegExp(b6.source,"g");function K7e(e){return function(){return e}}function Y7e(e){return function(t){return e(t)+""}}function X7e(e,t){var a=b6.lastIndex=VS.lastIndex=0,s,n,i,l=-1,o=[],c=[];for(e=e+"",t=t+"";(s=b6.exec(e))&&(n=VS.exec(t));)(i=n.index)>a&&(i=t.slice(a,i),o[l]?o[l]+=i:o[++l]=i),(s=s[0])===(n=n[0])?o[l]?o[l]+=n:o[++l]=n:(o[++l]=null,c.push({i:l,x:Zw(s,n)})),a=VS.lastIndex;return a<t.length&&(i=t.slice(a),o[l]?o[l]+=i:o[++l]=i),o.length<2?c[0]?Y7e(c[0].x):K7e(t):(t=c.length,function(d){for(var u=0,f;u<t;++u)o[(f=c[u]).i]=f.x(d);return o.join("")})}function Mx(e,t){var a=typeof t,s;return t==null||a==="boolean"?g_(t):(a==="number"?Zw:a==="string"?(s=kv(t))?(t=s,yI):X7e:t instanceof kv?yI:t instanceof Date?q7e:V7e(t)?H7e:Array.isArray(t)?W7e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?G7e:Zw)(e,t)}function v_(e,t){return e=+e,t=+t,function(a){return Math.round(e*(1-a)+t*a)}}function J7e(e,t){t===void 0&&(t=e,e=Mx);for(var a=0,s=t.length-1,n=t[0],i=new Array(s<0?0:s);a<s;)i[a]=e(n,n=t[++a]);return function(l){var o=Math.max(0,Math.min(s-1,Math.floor(l*=s)));return i[o](l-o)}}function Q7e(e){return function(){return e}}function ej(e){return+e}var wI=[0,1];function Ml(e){return e}function y6(e,t){return(t-=e=+e)?function(a){return(a-e)/t}:Q7e(isNaN(t)?NaN:.5)}function Z7e(e,t){var a;return e>t&&(a=e,e=t,t=a),function(s){return Math.max(e,Math.min(t,s))}}function eDe(e,t,a){var s=e[0],n=e[1],i=t[0],l=t[1];return n<s?(s=y6(n,s),i=a(l,i)):(s=y6(s,n),i=a(i,l)),function(o){return i(s(o))}}function tDe(e,t,a){var s=Math.min(e.length,t.length)-1,n=new Array(s),i=new Array(s),l=-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<s;)n[l]=y6(e[l],e[l+1]),i[l]=a(t[l],t[l+1]);return function(o){var c=nb(e,o,1,s)-1;return i[c](n[c](o))}}function lb(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function CN(){var e=wI,t=wI,a=Mx,s,n,i,l=Ml,o,c,d;function u(){var x=Math.min(e.length,t.length);return l!==Ml&&(l=Z7e(e[0],e[x-1])),o=x>2?tDe:eDe,c=d=null,f}function f(x){return x==null||isNaN(x=+x)?i:(c||(c=o(e.map(s),t,a)))(s(l(x)))}return f.invert=function(x){return l(n((d||(d=o(t,e.map(s),Zw)))(x)))},f.domain=function(x){return arguments.length?(e=Array.from(x,ej),u()):e.slice()},f.range=function(x){return arguments.length?(t=Array.from(x),u()):t.slice()},f.rangeRound=function(x){return t=Array.from(x),a=v_,u()},f.clamp=function(x){return arguments.length?(l=x?!0:Ml,u()):l!==Ml},f.interpolate=function(x){return arguments.length?(a=x,u()):a},f.unknown=function(x){return arguments.length?(i=x,f):i},function(x,m){return s=x,n=m,u()}}function b_(){return CN()(Ml,Ml)}function aDe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function tj(e,t){if((a=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var a,s=e.slice(0,a);return[s.length>1?s[0]+s.slice(2):s,+e.slice(a+1)]}function mx(e){return e=tj(Math.abs(e)),e?e[1]:NaN}function rDe(e,t){return function(a,s){for(var n=a.length,i=[],l=0,o=e[0],c=0;n>0&&o>0&&(c+o+1>s&&(o=Math.max(1,s-c)),i.push(a.substring(n-=o,n+o)),!((c+=o+1)>s));)o=e[l=(l+1)%e.length];return i.reverse().join(t)}}function sDe(e){return function(t){return t.replace(/[0-9]/g,function(a){return e[+a]})}}var nDe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Cv(e){if(!(t=nDe.exec(e)))throw new Error("invalid format: "+e);var t;return new y_({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Cv.prototype=y_.prototype;function y_(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}y_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function iDe(e){e:for(var t=e.length,a=1,s=-1,n;a<t;++a)switch(e[a]){case".":s=n=a;break;case"0":s===0&&(s=a),n=a;break;default:if(!+e[a])break e;s>0&&(s=0);break}return s>0?e.slice(0,s)+e.slice(n+1):e}var yY;function lDe(e,t){var a=tj(e,t);if(!a)return e+"";var s=a[0],n=a[1],i=n-(yY=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,l=s.length;return i===l?s:i>l?s+new Array(i-l+1).join("0"):i>0?s.slice(0,i)+"."+s.slice(i):"0."+new Array(1-i).join("0")+tj(e,Math.max(0,t+i-1))[0]}function jI(e,t){var a=tj(e,t);if(!a)return e+"";var s=a[0],n=a[1];return n<0?"0."+new Array(-n).join("0")+s:s.length>n+1?s.slice(0,n+1)+"."+s.slice(n+1):s+new Array(n-s.length+2).join("0")}const NI={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:aDe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>jI(e*100,t),r:jI,s:lDe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function SI(e){return e}var kI=Array.prototype.map,CI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function oDe(e){var t=e.grouping===void 0||e.thousands===void 0?SI:rDe(kI.call(e.grouping,Number),e.thousands+""),a=e.currency===void 0?"":e.currency[0]+"",s=e.currency===void 0?"":e.currency[1]+"",n=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?SI:sDe(kI.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(f){f=Cv(f);var x=f.fill,m=f.align,g=f.sign,v=f.symbol,b=f.zero,j=f.width,S=f.comma,k=f.precision,N=f.trim,A=f.type;A==="n"?(S=!0,A="g"):NI[A]||(k===void 0&&(k=12),N=!0,A="g"),(b||x==="0"&&m==="=")&&(b=!0,x="0",m="=");var _=v==="$"?a:v==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",D=v==="$"?s:/[%p]/.test(A)?l:"",P=NI[A],I=/[defgprs%]/.test(A);k=k===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function B(O){var U=_,E=D,R,K,V;if(A==="c")E=P(O)+E,O="";else{O=+O;var Z=O<0||1/O<0;if(O=isNaN(O)?c:P(Math.abs(O),k),N&&(O=iDe(O)),Z&&+O==0&&g!=="+"&&(Z=!1),U=(Z?g==="("?g:o:g==="-"||g==="("?"":g)+U,E=(A==="s"?CI[8+yY/3]:"")+E+(Z&&g==="("?")":""),I){for(R=-1,K=O.length;++R<K;)if(V=O.charCodeAt(R),48>V||V>57){E=(V===46?n+O.slice(R+1):O.slice(R))+E,O=O.slice(0,R);break}}}S&&!b&&(O=t(O,1/0));var J=U.length+O.length+E.length,ee=J<j?new Array(j-J+1).join(x):"";switch(S&&b&&(O=t(ee+O,ee.length?j-E.length:1/0),ee=""),m){case"<":O=U+O+E+ee;break;case"=":O=U+ee+O+E;break;case"^":O=ee.slice(0,J=ee.length>>1)+U+O+E+ee.slice(J);break;default:O=ee+U+O+E;break}return i(O)}return B.toString=function(){return f+""},B}function u(f,x){var m=d((f=Cv(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(mx(x)/3)))*3,v=Math.pow(10,-g),b=CI[8+g/3];return function(j){return m(v*j)+b}}return{format:d,formatPrefix:u}}var j2,w_,wY;cDe({thousands:",",grouping:[3],currency:["$",""]});function cDe(e){return j2=oDe(e),w_=j2.format,wY=j2.formatPrefix,j2}function dDe(e){return Math.max(0,-mx(Math.abs(e)))}function uDe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(mx(t)/3)))*3-mx(Math.abs(e)))}function hDe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,mx(t)-mx(e))+1}function jY(e,t,a,s){var n=x6(e,t,a),i;switch(s=Cv(s??",f"),s.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return s.precision==null&&!isNaN(i=uDe(n,l))&&(s.precision=i),wY(s,l)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(i=hDe(n,Math.max(Math.abs(e),Math.abs(t))))&&(s.precision=i-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(i=dDe(n))&&(s.precision=i-(s.type==="%")*2);break}}return w_(s)}function Yf(e){var t=e.domain;return e.ticks=function(a){var s=t();return m6(s[0],s[s.length-1],a??10)},e.tickFormat=function(a,s){var n=t();return jY(n[0],n[n.length-1],a??10,s)},e.nice=function(a){a==null&&(a=10);var s=t(),n=0,i=s.length-1,l=s[n],o=s[i],c,d,u=10;for(o<l&&(d=l,l=o,o=d,d=n,n=i,i=d);u-- >0;){if(d=p6(l,o,a),d===c)return s[n]=l,s[i]=o,t(s);if(d>0)l=Math.floor(l/d)*d,o=Math.ceil(o/d)*d;else if(d<0)l=Math.ceil(l*d)/d,o=Math.floor(o*d)/d;else break;c=d}return e},e}function NY(){var e=b_();return e.copy=function(){return lb(e,NY())},_c.apply(e,arguments),Yf(e)}function SY(e){var t;function a(s){return s==null||isNaN(s=+s)?t:s}return a.invert=a,a.domain=a.range=function(s){return arguments.length?(e=Array.from(s,ej),a):e.slice()},a.unknown=function(s){return arguments.length?(t=s,a):t},a.copy=function(){return SY(e).unknown(t)},e=arguments.length?Array.from(e,ej):[0,1],Yf(a)}function kY(e,t){e=e.slice();var a=0,s=e.length-1,n=e[a],i=e[s],l;return i<n&&(l=a,a=s,s=l,l=n,n=i,i=l),e[a]=t.floor(n),e[s]=t.ceil(i),e}function AI(e){return Math.log(e)}function _I(e){return Math.exp(e)}function fDe(e){return-Math.log(-e)}function mDe(e){return-Math.exp(-e)}function pDe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function xDe(e){return e===10?pDe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function gDe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function TI(e){return(t,a)=>-e(-t,a)}function j_(e){const t=e(AI,_I),a=t.domain;let s=10,n,i;function l(){return n=gDe(s),i=xDe(s),a()[0]<0?(n=TI(n),i=TI(i),e(fDe,mDe)):e(AI,_I),t}return t.base=function(o){return arguments.length?(s=+o,l()):s},t.domain=function(o){return arguments.length?(a(o),l()):a()},t.ticks=o=>{const c=a();let d=c[0],u=c[c.length-1];const f=u<d;f&&([d,u]=[u,d]);let x=n(d),m=n(u),g,v;const b=o==null?10:+o;let j=[];if(!(s%1)&&m-x<b){if(x=Math.floor(x),m=Math.ceil(m),d>0){for(;x<=m;++x)for(g=1;g<s;++g)if(v=x<0?g/i(-x):g*i(x),!(v<d)){if(v>u)break;j.push(v)}}else for(;x<=m;++x)for(g=s-1;g>=1;--g)if(v=x>0?g/i(-x):g*i(x),!(v<d)){if(v>u)break;j.push(v)}j.length*2<b&&(j=m6(d,u,b))}else j=m6(x,m,Math.min(m-x,b)).map(i);return f?j.reverse():j},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=s===10?"s":","),typeof c!="function"&&(!(s%1)&&(c=Cv(c)).precision==null&&(c.trim=!0),c=w_(c)),o===1/0)return c;const d=Math.max(1,s*o/t.ticks().length);return u=>{let f=u/i(Math.round(n(u)));return f*s<s-.5&&(f*=s),f<=d?c(u):""}},t.nice=()=>a(kY(a(),{floor:o=>i(Math.floor(n(o))),ceil:o=>i(Math.ceil(n(o)))})),t}function CY(){const e=j_(CN()).domain([1,10]);return e.copy=()=>lb(e,CY()).base(e.base()),_c.apply(e,arguments),e}function EI(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function DI(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function N_(e){var t=1,a=e(EI(t),DI(t));return a.constant=function(s){return arguments.length?e(EI(t=+s),DI(t)):t},Yf(a)}function AY(){var e=N_(CN());return e.copy=function(){return lb(e,AY()).constant(e.constant())},_c.apply(e,arguments)}function MI(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function vDe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function bDe(e){return e<0?-e*e:e*e}function S_(e){var t=e(Ml,Ml),a=1;function s(){return a===1?e(Ml,Ml):a===.5?e(vDe,bDe):e(MI(a),MI(1/a))}return t.exponent=function(n){return arguments.length?(a=+n,s()):a},Yf(t)}function k_(){var e=S_(CN());return e.copy=function(){return lb(e,k_()).exponent(e.exponent())},_c.apply(e,arguments),e}function yDe(){return k_.apply(null,arguments).exponent(.5)}function PI(e){return Math.sign(e)*e*e}function wDe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function _Y(){var e=b_(),t=[0,1],a=!1,s;function n(i){var l=wDe(e(i));return isNaN(l)?s:a?Math.round(l):l}return n.invert=function(i){return e.invert(PI(i))},n.domain=function(i){return arguments.length?(e.domain(i),n):e.domain()},n.range=function(i){return arguments.length?(e.range((t=Array.from(i,ej)).map(PI)),n):t.slice()},n.rangeRound=function(i){return n.range(i).round(!0)},n.round=function(i){return arguments.length?(a=!!i,n):a},n.clamp=function(i){return arguments.length?(e.clamp(i),n):e.clamp()},n.unknown=function(i){return arguments.length?(s=i,n):s},n.copy=function(){return _Y(e.domain(),t).round(a).clamp(e.clamp()).unknown(s)},_c.apply(n,arguments),Yf(n)}function TY(){var e=[],t=[],a=[],s;function n(){var l=0,o=Math.max(1,t.length);for(a=new Array(o-1);++l<o;)a[l-1]=k7e(e,l/o);return i}function i(l){return l==null||isNaN(l=+l)?s:t[nb(a,l)]}return i.invertExtent=function(l){var o=t.indexOf(l);return o<0?[NaN,NaN]:[o>0?a[o-1]:e[0],o<a.length?a[o]:e[e.length-1]]},i.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let o of l)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(_f),n()},i.range=function(l){return arguments.length?(t=Array.from(l),n()):t.slice()},i.unknown=function(l){return arguments.length?(s=l,i):s},i.quantiles=function(){return a.slice()},i.copy=function(){return TY().domain(e).range(t).unknown(s)},_c.apply(i,arguments)}function EY(){var e=0,t=1,a=1,s=[.5],n=[0,1],i;function l(c){return c!=null&&c<=c?n[nb(s,c,0,a)]:i}function o(){var c=-1;for(s=new Array(a);++c<a;)s[c]=((c+1)*t-(c-a)*e)/(a+1);return l}return l.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},l.range=function(c){return arguments.length?(a=(n=Array.from(c)).length-1,o()):n.slice()},l.invertExtent=function(c){var d=n.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,s[0]]:d>=a?[s[a-1],t]:[s[d-1],s[d]]},l.unknown=function(c){return arguments.length&&(i=c),l},l.thresholds=function(){return s.slice()},l.copy=function(){return EY().domain([e,t]).range(n).unknown(i)},_c.apply(Yf(l),arguments)}function DY(){var e=[.5],t=[0,1],a,s=1;function n(i){return i!=null&&i<=i?t[nb(e,i,0,s)]:a}return n.domain=function(i){return arguments.length?(e=Array.from(i),s=Math.min(e.length,t.length-1),n):e.slice()},n.range=function(i){return arguments.length?(t=Array.from(i),s=Math.min(e.length,t.length-1),n):t.slice()},n.invertExtent=function(i){var l=t.indexOf(i);return[e[l-1],e[l]]},n.unknown=function(i){return arguments.length?(a=i,n):a},n.copy=function(){return DY().domain(e).range(t).unknown(a)},_c.apply(n,arguments)}const WS=new Date,qS=new Date;function si(e,t,a,s){function n(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return n.floor=i=>(e(i=new Date(+i)),i),n.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),n.round=i=>{const l=n(i),o=n.ceil(i);return i-l<o-i?l:o},n.offset=(i,l)=>(t(i=new Date(+i),l==null?1:Math.floor(l)),i),n.range=(i,l,o)=>{const c=[];if(i=n.ceil(i),o=o==null?1:Math.floor(o),!(i<l)||!(o>0))return c;let d;do c.push(d=new Date(+i)),t(i,o),e(i);while(d<i&&i<l);return c},n.filter=i=>si(l=>{if(l>=l)for(;e(l),!i(l);)l.setTime(l-1)},(l,o)=>{if(l>=l)if(o<0)for(;++o<=0;)for(;t(l,-1),!i(l););else for(;--o>=0;)for(;t(l,1),!i(l););}),a&&(n.count=(i,l)=>(WS.setTime(+i),qS.setTime(+l),e(WS),e(qS),Math.floor(a(WS,qS))),n.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?n.filter(s?l=>s(l)%i===0:l=>n.count(0,l)%i===0):n)),n}const aj=si(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);aj.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?si(t=>{t.setTime(Math.floor(t/e)*e)},(t,a)=>{t.setTime(+t+a*e)},(t,a)=>(a-t)/e):aj);aj.range;const Xu=1e3,xc=Xu*60,Ju=xc*60,ph=Ju*24,C_=ph*7,LI=ph*30,GS=ph*365,z0=si(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Xu)},(e,t)=>(t-e)/Xu,e=>e.getUTCSeconds());z0.range;const A_=si(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Xu)},(e,t)=>{e.setTime(+e+t*xc)},(e,t)=>(t-e)/xc,e=>e.getMinutes());A_.range;const __=si(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*xc)},(e,t)=>(t-e)/xc,e=>e.getUTCMinutes());__.range;const T_=si(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Xu-e.getMinutes()*xc)},(e,t)=>{e.setTime(+e+t*Ju)},(e,t)=>(t-e)/Ju,e=>e.getHours());T_.range;const E_=si(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ju)},(e,t)=>(t-e)/Ju,e=>e.getUTCHours());E_.range;const ob=si(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*xc)/ph,e=>e.getDate()-1);ob.range;const AN=si(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ph,e=>e.getUTCDate()-1);AN.range;const MY=si(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ph,e=>Math.floor(e/ph));MY.range;function $m(e){return si(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,a)=>{t.setDate(t.getDate()+a*7)},(t,a)=>(a-t-(a.getTimezoneOffset()-t.getTimezoneOffset())*xc)/C_)}const _N=$m(0),rj=$m(1),jDe=$m(2),NDe=$m(3),px=$m(4),SDe=$m(5),kDe=$m(6);_N.range;rj.range;jDe.range;NDe.range;px.range;SDe.range;kDe.range;function Um(e){return si(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,a)=>{t.setUTCDate(t.getUTCDate()+a*7)},(t,a)=>(a-t)/C_)}const TN=Um(0),sj=Um(1),CDe=Um(2),ADe=Um(3),xx=Um(4),_De=Um(5),TDe=Um(6);TN.range;sj.range;CDe.range;ADe.range;xx.range;_De.range;TDe.range;const D_=si(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());D_.range;const M_=si(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());M_.range;const xh=si(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());xh.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:si(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,a)=>{t.setFullYear(t.getFullYear()+a*e)});xh.range;const gh=si(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());gh.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:si(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,a)=>{t.setUTCFullYear(t.getUTCFullYear()+a*e)});gh.range;function PY(e,t,a,s,n,i){const l=[[z0,1,Xu],[z0,5,5*Xu],[z0,15,15*Xu],[z0,30,30*Xu],[i,1,xc],[i,5,5*xc],[i,15,15*xc],[i,30,30*xc],[n,1,Ju],[n,3,3*Ju],[n,6,6*Ju],[n,12,12*Ju],[s,1,ph],[s,2,2*ph],[a,1,C_],[t,1,LI],[t,3,3*LI],[e,1,GS]];function o(d,u,f){const x=u<d;x&&([d,u]=[u,d]);const m=f&&typeof f.range=="function"?f:c(d,u,f),g=m?m.range(d,+u+1):[];return x?g.reverse():g}function c(d,u,f){const x=Math.abs(u-d)/f,m=f_(([,,b])=>b).right(l,x);if(m===l.length)return e.every(x6(d/GS,u/GS,f));if(m===0)return aj.every(Math.max(x6(d,u,f),1));const[g,v]=l[x/l[m-1][2]<l[m][2]/x?m-1:m];return g.every(v)}return[o,c]}const[EDe,DDe]=PY(gh,M_,TN,MY,E_,__),[MDe,PDe]=PY(xh,D_,_N,ob,T_,A_);function KS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function YS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Yg(e,t,a){return{y:e,m:t,d:a,H:0,M:0,S:0,L:0}}function LDe(e){var t=e.dateTime,a=e.date,s=e.time,n=e.periods,i=e.days,l=e.shortDays,o=e.months,c=e.shortMonths,d=Xg(n),u=Jg(n),f=Xg(i),x=Jg(i),m=Xg(l),g=Jg(l),v=Xg(o),b=Jg(o),j=Xg(c),S=Jg(c),k={a:Z,A:J,b:ee,B:W,c:null,d:$I,e:$I,f:rMe,g:fMe,G:pMe,H:eMe,I:tMe,j:aMe,L:LY,m:sMe,M:nMe,p:le,q:M,Q:HI,s:VI,S:iMe,u:lMe,U:oMe,V:cMe,w:dMe,W:uMe,x:null,X:null,y:hMe,Y:mMe,Z:xMe,"%":zI},N={a:X,A:z,b:Q,B:ne,c:null,d:UI,e:UI,f:yMe,g:EMe,G:MMe,H:gMe,I:vMe,j:bMe,L:RY,m:wMe,M:jMe,p:re,q:oe,Q:HI,s:VI,S:NMe,u:SMe,U:kMe,V:CMe,w:AMe,W:_Me,x:null,X:null,y:TMe,Y:DMe,Z:PMe,"%":zI},A={a:B,A:O,b:U,B:E,c:R,d:II,e:II,f:XDe,g:FI,G:RI,H:BI,I:BI,j:qDe,L:YDe,m:WDe,M:GDe,p:I,q:VDe,Q:QDe,s:ZDe,S:KDe,u:BDe,U:$De,V:UDe,w:IDe,W:zDe,x:K,X:V,y:FI,Y:RI,Z:HDe,"%":JDe};k.x=_(a,k),k.X=_(s,k),k.c=_(t,k),N.x=_(a,N),N.X=_(s,N),N.c=_(t,N);function _(q,ie){return function(ye){var Y=[],ce=-1,he=0,ue=q.length,Fe,Ue,Te;for(ye instanceof Date||(ye=new Date(+ye));++ce<ue;)q.charCodeAt(ce)===37&&(Y.push(q.slice(he,ce)),(Ue=OI[Fe=q.charAt(++ce)])!=null?Fe=q.charAt(++ce):Ue=Fe==="e"?" ":"0",(Te=ie[Fe])&&(Fe=Te(ye,Ue)),Y.push(Fe),he=ce+1);return Y.push(q.slice(he,ce)),Y.join("")}}function D(q,ie){return function(ye){var Y=Yg(1900,void 0,1),ce=P(Y,q,ye+="",0),he,ue;if(ce!=ye.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(ie&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(he=YS(Yg(Y.y,0,1)),ue=he.getUTCDay(),he=ue>4||ue===0?sj.ceil(he):sj(he),he=AN.offset(he,(Y.V-1)*7),Y.y=he.getUTCFullYear(),Y.m=he.getUTCMonth(),Y.d=he.getUTCDate()+(Y.w+6)%7):(he=KS(Yg(Y.y,0,1)),ue=he.getDay(),he=ue>4||ue===0?rj.ceil(he):rj(he),he=ob.offset(he,(Y.V-1)*7),Y.y=he.getFullYear(),Y.m=he.getMonth(),Y.d=he.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),ue="Z"in Y?YS(Yg(Y.y,0,1)).getUTCDay():KS(Yg(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(ue+5)%7:Y.w+Y.U*7-(ue+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,YS(Y)):KS(Y)}}function P(q,ie,ye,Y){for(var ce=0,he=ie.length,ue=ye.length,Fe,Ue;ce<he;){if(Y>=ue)return-1;if(Fe=ie.charCodeAt(ce++),Fe===37){if(Fe=ie.charAt(ce++),Ue=A[Fe in OI?ie.charAt(ce++):Fe],!Ue||(Y=Ue(q,ye,Y))<0)return-1}else if(Fe!=ye.charCodeAt(Y++))return-1}return Y}function I(q,ie,ye){var Y=d.exec(ie.slice(ye));return Y?(q.p=u.get(Y[0].toLowerCase()),ye+Y[0].length):-1}function B(q,ie,ye){var Y=m.exec(ie.slice(ye));return Y?(q.w=g.get(Y[0].toLowerCase()),ye+Y[0].length):-1}function O(q,ie,ye){var Y=f.exec(ie.slice(ye));return Y?(q.w=x.get(Y[0].toLowerCase()),ye+Y[0].length):-1}function U(q,ie,ye){var Y=j.exec(ie.slice(ye));return Y?(q.m=S.get(Y[0].toLowerCase()),ye+Y[0].length):-1}function E(q,ie,ye){var Y=v.exec(ie.slice(ye));return Y?(q.m=b.get(Y[0].toLowerCase()),ye+Y[0].length):-1}function R(q,ie,ye){return P(q,t,ie,ye)}function K(q,ie,ye){return P(q,a,ie,ye)}function V(q,ie,ye){return P(q,s,ie,ye)}function Z(q){return l[q.getDay()]}function J(q){return i[q.getDay()]}function ee(q){return c[q.getMonth()]}function W(q){return o[q.getMonth()]}function le(q){return n[+(q.getHours()>=12)]}function M(q){return 1+~~(q.getMonth()/3)}function X(q){return l[q.getUTCDay()]}function z(q){return i[q.getUTCDay()]}function Q(q){return c[q.getUTCMonth()]}function ne(q){return o[q.getUTCMonth()]}function re(q){return n[+(q.getUTCHours()>=12)]}function oe(q){return 1+~~(q.getUTCMonth()/3)}return{format:function(q){var ie=_(q+="",k);return ie.toString=function(){return q},ie},parse:function(q){var ie=D(q+="",!1);return ie.toString=function(){return q},ie},utcFormat:function(q){var ie=_(q+="",N);return ie.toString=function(){return q},ie},utcParse:function(q){var ie=D(q+="",!0);return ie.toString=function(){return q},ie}}}var OI={"-":"",_:" ",0:"0"},Ci=/^\s*\d+/,ODe=/^%/,RDe=/[\\^$*+?|[\]().{}]/g;function Dr(e,t,a){var s=e<0?"-":"",n=(s?-e:e)+"",i=n.length;return s+(i<a?new Array(a-i+1).join(t)+n:n)}function FDe(e){return e.replace(RDe,"\\$&")}function Xg(e){return new RegExp("^(?:"+e.map(FDe).join("|")+")","i")}function Jg(e){return new Map(e.map((t,a)=>[t.toLowerCase(),a]))}function IDe(e,t,a){var s=Ci.exec(t.slice(a,a+1));return s?(e.w=+s[0],a+s[0].length):-1}function BDe(e,t,a){var s=Ci.exec(t.slice(a,a+1));return s?(e.u=+s[0],a+s[0].length):-1}function $De(e,t,a){var s=Ci.exec(t.slice(a,a+2));return s?(e.U=+s[0],a+s[0].length):-1}function UDe(e,t,a){var s=Ci.exec(t.slice(a,a+2));return s?(e.V=+s[0],a+s[0].length):-1}function zDe(e,t,a){var s=Ci.exec(t.slice(a,a+2));return s?(e.W=+s[0],a+s[0].length):-1}function RI(e,t,a){var s=Ci.exec(t.slice(a,a+4));return s?(e.y=+s[0],a+s[0].length):-1}function FI(e,t,a){var s=Ci.exec(t.slice(a,a+2));return s?(e.y=+s[0]+(+s[0]>68?1900:2e3),a+s[0].length):-1}function HDe(e,t,a){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(a,a+6));return s?(e.Z=s[1]?0:-(s[2]+(s[3]||"00")),a+s[0].length):-1}function VDe(e,t,a){var s=Ci.exec(t.slice(a,a+1));return s?(e.q=s[0]*3-3,a+s[0].length):-1}function WDe(e,t,a){var s=Ci.exec(t.slice(a,a+2));return s?(e.m=s[0]-1,a+s[0].length):-1}function II(e,t,a){var s=Ci.exec(t.slice(a,a+2));return s?(e.d=+s[0],a+s[0].length):-1}function qDe(e,t,a){var s=Ci.exec(t.slice(a,a+3));return s?(e.m=0,e.d=+s[0],a+s[0].length):-1}function BI(e,t,a){var s=Ci.exec(t.slice(a,a+2));return s?(e.H=+s[0],a+s[0].length):-1}function GDe(e,t,a){var s=Ci.exec(t.slice(a,a+2));return s?(e.M=+s[0],a+s[0].length):-1}function KDe(e,t,a){var s=Ci.exec(t.slice(a,a+2));return s?(e.S=+s[0],a+s[0].length):-1}function YDe(e,t,a){var s=Ci.exec(t.slice(a,a+3));return s?(e.L=+s[0],a+s[0].length):-1}function XDe(e,t,a){var s=Ci.exec(t.slice(a,a+6));return s?(e.L=Math.floor(s[0]/1e3),a+s[0].length):-1}function JDe(e,t,a){var s=ODe.exec(t.slice(a,a+1));return s?a+s[0].length:-1}function QDe(e,t,a){var s=Ci.exec(t.slice(a));return s?(e.Q=+s[0],a+s[0].length):-1}function ZDe(e,t,a){var s=Ci.exec(t.slice(a));return s?(e.s=+s[0],a+s[0].length):-1}function $I(e,t){return Dr(e.getDate(),t,2)}function eMe(e,t){return Dr(e.getHours(),t,2)}function tMe(e,t){return Dr(e.getHours()%12||12,t,2)}function aMe(e,t){return Dr(1+ob.count(xh(e),e),t,3)}function LY(e,t){return Dr(e.getMilliseconds(),t,3)}function rMe(e,t){return LY(e,t)+"000"}function sMe(e,t){return Dr(e.getMonth()+1,t,2)}function nMe(e,t){return Dr(e.getMinutes(),t,2)}function iMe(e,t){return Dr(e.getSeconds(),t,2)}function lMe(e){var t=e.getDay();return t===0?7:t}function oMe(e,t){return Dr(_N.count(xh(e)-1,e),t,2)}function OY(e){var t=e.getDay();return t>=4||t===0?px(e):px.ceil(e)}function cMe(e,t){return e=OY(e),Dr(px.count(xh(e),e)+(xh(e).getDay()===4),t,2)}function dMe(e){return e.getDay()}function uMe(e,t){return Dr(rj.count(xh(e)-1,e),t,2)}function hMe(e,t){return Dr(e.getFullYear()%100,t,2)}function fMe(e,t){return e=OY(e),Dr(e.getFullYear()%100,t,2)}function mMe(e,t){return Dr(e.getFullYear()%1e4,t,4)}function pMe(e,t){var a=e.getDay();return e=a>=4||a===0?px(e):px.ceil(e),Dr(e.getFullYear()%1e4,t,4)}function xMe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Dr(t/60|0,"0",2)+Dr(t%60,"0",2)}function UI(e,t){return Dr(e.getUTCDate(),t,2)}function gMe(e,t){return Dr(e.getUTCHours(),t,2)}function vMe(e,t){return Dr(e.getUTCHours()%12||12,t,2)}function bMe(e,t){return Dr(1+AN.count(gh(e),e),t,3)}function RY(e,t){return Dr(e.getUTCMilliseconds(),t,3)}function yMe(e,t){return RY(e,t)+"000"}function wMe(e,t){return Dr(e.getUTCMonth()+1,t,2)}function jMe(e,t){return Dr(e.getUTCMinutes(),t,2)}function NMe(e,t){return Dr(e.getUTCSeconds(),t,2)}function SMe(e){var t=e.getUTCDay();return t===0?7:t}function kMe(e,t){return Dr(TN.count(gh(e)-1,e),t,2)}function FY(e){var t=e.getUTCDay();return t>=4||t===0?xx(e):xx.ceil(e)}function CMe(e,t){return e=FY(e),Dr(xx.count(gh(e),e)+(gh(e).getUTCDay()===4),t,2)}function AMe(e){return e.getUTCDay()}function _Me(e,t){return Dr(sj.count(gh(e)-1,e),t,2)}function TMe(e,t){return Dr(e.getUTCFullYear()%100,t,2)}function EMe(e,t){return e=FY(e),Dr(e.getUTCFullYear()%100,t,2)}function DMe(e,t){return Dr(e.getUTCFullYear()%1e4,t,4)}function MMe(e,t){var a=e.getUTCDay();return e=a>=4||a===0?xx(e):xx.ceil(e),Dr(e.getUTCFullYear()%1e4,t,4)}function PMe(){return"+0000"}function zI(){return"%"}function HI(e){return+e}function VI(e){return Math.floor(+e/1e3)}var Pp,IY,BY;LMe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function LMe(e){return Pp=LDe(e),IY=Pp.format,Pp.parse,BY=Pp.utcFormat,Pp.utcParse,Pp}function OMe(e){return new Date(e)}function RMe(e){return e instanceof Date?+e:+new Date(+e)}function P_(e,t,a,s,n,i,l,o,c,d){var u=b_(),f=u.invert,x=u.domain,m=d(".%L"),g=d(":%S"),v=d("%I:%M"),b=d("%I %p"),j=d("%a %d"),S=d("%b %d"),k=d("%B"),N=d("%Y");function A(_){return(c(_)<_?m:o(_)<_?g:l(_)<_?v:i(_)<_?b:s(_)<_?n(_)<_?j:S:a(_)<_?k:N)(_)}return u.invert=function(_){return new Date(f(_))},u.domain=function(_){return arguments.length?x(Array.from(_,RMe)):x().map(OMe)},u.ticks=function(_){var D=x();return e(D[0],D[D.length-1],_??10)},u.tickFormat=function(_,D){return D==null?A:d(D)},u.nice=function(_){var D=x();return(!_||typeof _.range!="function")&&(_=t(D[0],D[D.length-1],_??10)),_?x(kY(D,_)):u},u.copy=function(){return lb(u,P_(e,t,a,s,n,i,l,o,c,d))},u}function FMe(){return _c.apply(P_(MDe,PDe,xh,D_,_N,ob,T_,A_,z0,IY).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function IMe(){return _c.apply(P_(EDe,DDe,gh,M_,TN,AN,E_,__,z0,BY).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function EN(){var e=0,t=1,a,s,n,i,l=Ml,o=!1,c;function d(f){return f==null||isNaN(f=+f)?c:l(n===0?.5:(f=(i(f)-a)*n,o?Math.max(0,Math.min(1,f)):f))}d.domain=function(f){return arguments.length?([e,t]=f,a=i(e=+e),s=i(t=+t),n=a===s?0:1/(s-a),d):[e,t]},d.clamp=function(f){return arguments.length?(o=!!f,d):o},d.interpolator=function(f){return arguments.length?(l=f,d):l};function u(f){return function(x){var m,g;return arguments.length?([m,g]=x,l=f(m,g),d):[l(0),l(1)]}}return d.range=u(Mx),d.rangeRound=u(v_),d.unknown=function(f){return arguments.length?(c=f,d):c},function(f){return i=f,a=f(e),s=f(t),n=a===s?0:1/(s-a),d}}function Xf(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function $Y(){var e=Yf(EN()(Ml));return e.copy=function(){return Xf(e,$Y())},kh.apply(e,arguments)}function UY(){var e=j_(EN()).domain([1,10]);return e.copy=function(){return Xf(e,UY()).base(e.base())},kh.apply(e,arguments)}function zY(){var e=N_(EN());return e.copy=function(){return Xf(e,zY()).constant(e.constant())},kh.apply(e,arguments)}function L_(){var e=S_(EN());return e.copy=function(){return Xf(e,L_()).exponent(e.exponent())},kh.apply(e,arguments)}function BMe(){return L_.apply(null,arguments).exponent(.5)}function HY(){var e=[],t=Ml;function a(s){if(s!=null&&!isNaN(s=+s))return t((nb(e,s,1)-1)/(e.length-1))}return a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let n of s)n!=null&&!isNaN(n=+n)&&e.push(n);return e.sort(_f),a},a.interpolator=function(s){return arguments.length?(t=s,a):t},a.range=function(){return e.map((s,n)=>t(n/(e.length-1)))},a.quantiles=function(s){return Array.from({length:s+1},(n,i)=>S7e(e,i/s))},a.copy=function(){return HY(t).domain(e)},kh.apply(a,arguments)}function DN(){var e=0,t=.5,a=1,s=1,n,i,l,o,c,d=Ml,u,f=!1,x;function m(v){return isNaN(v=+v)?x:(v=.5+((v=+u(v))-i)*(s*v<s*i?o:c),d(f?Math.max(0,Math.min(1,v)):v))}m.domain=function(v){return arguments.length?([e,t,a]=v,n=u(e=+e),i=u(t=+t),l=u(a=+a),o=n===i?0:.5/(i-n),c=i===l?0:.5/(l-i),s=i<n?-1:1,m):[e,t,a]},m.clamp=function(v){return arguments.length?(f=!!v,m):f},m.interpolator=function(v){return arguments.length?(d=v,m):d};function g(v){return function(b){var j,S,k;return arguments.length?([j,S,k]=b,d=J7e(v,[j,S,k]),m):[d(0),d(.5),d(1)]}}return m.range=g(Mx),m.rangeRound=g(v_),m.unknown=function(v){return arguments.length?(x=v,m):x},function(v){return u=v,n=v(e),i=v(t),l=v(a),o=n===i?0:.5/(i-n),c=i===l?0:.5/(l-i),s=i<n?-1:1,m}}function VY(){var e=Yf(DN()(Ml));return e.copy=function(){return Xf(e,VY())},kh.apply(e,arguments)}function WY(){var e=j_(DN()).domain([.1,1,10]);return e.copy=function(){return Xf(e,WY()).base(e.base())},kh.apply(e,arguments)}function qY(){var e=N_(DN());return e.copy=function(){return Xf(e,qY()).constant(e.constant())},kh.apply(e,arguments)}function O_(){var e=S_(DN());return e.copy=function(){return Xf(e,O_()).exponent(e.exponent())},kh.apply(e,arguments)}function $Me(){return O_.apply(null,arguments).exponent(.5)}const o1=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:p_,scaleDiverging:VY,scaleDivergingLog:WY,scaleDivergingPow:O_,scaleDivergingSqrt:$Me,scaleDivergingSymlog:qY,scaleIdentity:SY,scaleImplicit:g6,scaleLinear:NY,scaleLog:CY,scaleOrdinal:m_,scalePoint:A7e,scalePow:k_,scaleQuantile:TY,scaleQuantize:EY,scaleRadial:_Y,scaleSequential:$Y,scaleSequentialLog:UY,scaleSequentialPow:L_,scaleSequentialQuantile:HY,scaleSequentialSqrt:BMe,scaleSequentialSymlog:zY,scaleSqrt:yDe,scaleSymlog:AY,scaleThreshold:DY,scaleTime:FMe,scaleUtc:IMe,tickFormat:jY},Symbol.toStringTag,{value:"Module"}));var Jf=e=>e.chartData,UMe=bt([Jf],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),MN=(e,t,a,s)=>s?UMe(e):Jf(e);function jm(e){if(Array.isArray(e)&&e.length===2){var[t,a]=e;if(pl(t)&&pl(a))return!0}return!1}function WI(e,t,a){return a?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function GY(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[a,s]=e,n,i;if(pl(a))n=a;else if(typeof a=="function")return;if(pl(s))i=s;else if(typeof s=="function")return;var l=[n,i];if(jm(l))return l}}function zMe(e,t,a){if(!(!a&&t==null)){if(typeof e=="function"&&t!=null)try{var s=e(t,a);if(jm(s))return WI(s,t,a)}catch{}if(Array.isArray(e)&&e.length===2){var[n,i]=e,l,o;if(n==="auto")t!=null&&(l=Math.min(...t));else if(Ca(n))l=n;else if(typeof n=="function")try{t!=null&&(l=n(t?.[0]))}catch{}else if(typeof n=="string"&&EF.test(n)){var c=EF.exec(n);if(c==null||t==null)l=void 0;else{var d=+c[1];l=t[0]-d}}else l=t?.[0];if(i==="auto")t!=null&&(o=Math.max(...t));else if(Ca(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t?.[1]))}catch{}else if(typeof i=="string"&&DF.test(i)){var u=DF.exec(i);if(u==null||t==null)o=void 0;else{var f=+u[1];o=t[1]+f}}else o=t?.[1];var x=[l,o];if(jm(x))return t==null?x:WI(x,t,a)}}}var Px=1e9,HMe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},F_,Ms=!0,Sc="[DecimalError] ",lm=Sc+"Invalid argument: ",R_=Sc+"Exponent out of range: ",Lx=Math.floor,L0=Math.pow,VMe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Mo,bi=1e7,us=7,KY=9007199254740991,nj=Lx(KY/us),da={};da.absoluteValue=da.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};da.comparedTo=da.cmp=function(e){var t,a,s,n,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(s=i.d.length,n=e.d.length,t=0,a=s<n?s:n;t<a;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return s===n?0:s>n^i.s<0?1:-1};da.decimalPlaces=da.dp=function(){var e=this,t=e.d.length-1,a=(t-e.e)*us;if(t=e.d[t],t)for(;t%10==0;t/=10)a--;return a<0?0:a};da.dividedBy=da.div=function(e){return lh(this,new this.constructor(e))};da.dividedToIntegerBy=da.idiv=function(e){var t=this,a=t.constructor;return ns(lh(t,new a(e),0,1),a.precision)};da.equals=da.eq=function(e){return!this.cmp(e)};da.exponent=function(){return Bn(this)};da.greaterThan=da.gt=function(e){return this.cmp(e)>0};da.greaterThanOrEqualTo=da.gte=function(e){return this.cmp(e)>=0};da.isInteger=da.isint=function(){return this.e>this.d.length-2};da.isNegative=da.isneg=function(){return this.s<0};da.isPositive=da.ispos=function(){return this.s>0};da.isZero=function(){return this.s===0};da.lessThan=da.lt=function(e){return this.cmp(e)<0};da.lessThanOrEqualTo=da.lte=function(e){return this.cmp(e)<1};da.logarithm=da.log=function(e){var t,a=this,s=a.constructor,n=s.precision,i=n+5;if(e===void 0)e=new s(10);else if(e=new s(e),e.s<1||e.eq(Mo))throw Error(Sc+"NaN");if(a.s<1)throw Error(Sc+(a.s?"NaN":"-Infinity"));return a.eq(Mo)?new s(0):(Ms=!1,t=lh(Av(a,i),Av(e,i),i),Ms=!0,ns(t,n))};da.minus=da.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?JY(t,e):YY(t,(e.s=-e.s,e))};da.modulo=da.mod=function(e){var t,a=this,s=a.constructor,n=s.precision;if(e=new s(e),!e.s)throw Error(Sc+"NaN");return a.s?(Ms=!1,t=lh(a,e,0,1).times(e),Ms=!0,a.minus(t)):ns(new s(a),n)};da.naturalExponential=da.exp=function(){return XY(this)};da.naturalLogarithm=da.ln=function(){return Av(this)};da.negated=da.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};da.plus=da.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?YY(t,e):JY(t,(e.s=-e.s,e))};da.precision=da.sd=function(e){var t,a,s,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(lm+e);if(t=Bn(n)+1,s=n.d.length-1,a=s*us+1,s=n.d[s],s){for(;s%10==0;s/=10)a--;for(s=n.d[0];s>=10;s/=10)a++}return e&&t>a?t:a};da.squareRoot=da.sqrt=function(){var e,t,a,s,n,i,l,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(Sc+"NaN")}for(e=Bn(o),Ms=!1,n=Math.sqrt(+o),n==0||n==1/0?(t=Qd(o.d),(t.length+e)%2==0&&(t+="0"),n=Math.sqrt(t),e=Lx((e+1)/2)-(e<0||e%2),n==1/0?t="5e"+e:(t=n.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),s=new c(t)):s=new c(n.toString()),a=c.precision,n=l=a+3;;)if(i=s,s=i.plus(lh(o,i,l+2)).times(.5),Qd(i.d).slice(0,l)===(t=Qd(s.d)).slice(0,l)){if(t=t.slice(l-3,l+1),n==l&&t=="4999"){if(ns(i,a+1,0),i.times(i).eq(o)){s=i;break}}else if(t!="9999")break;l+=4}return Ms=!0,ns(s,a)};da.times=da.mul=function(e){var t,a,s,n,i,l,o,c,d,u=this,f=u.constructor,x=u.d,m=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,a=u.e+e.e,c=x.length,d=m.length,c<d&&(i=x,x=m,m=i,l=c,c=d,d=l),i=[],l=c+d,s=l;s--;)i.push(0);for(s=d;--s>=0;){for(t=0,n=c+s;n>s;)o=i[n]+m[s]*x[n-s-1]+t,i[n--]=o%bi|0,t=o/bi|0;i[n]=(i[n]+t)%bi|0}for(;!i[--l];)i.pop();return t?++a:i.shift(),e.d=i,e.e=a,Ms?ns(e,f.precision):e};da.toDecimalPlaces=da.todp=function(e,t){var a=this,s=a.constructor;return a=new s(a),e===void 0?a:(nu(e,0,Px),t===void 0?t=s.rounding:nu(t,0,8),ns(a,e+Bn(a)+1,t))};da.toExponential=function(e,t){var a,s=this,n=s.constructor;return e===void 0?a=Nm(s,!0):(nu(e,0,Px),t===void 0?t=n.rounding:nu(t,0,8),s=ns(new n(s),e+1,t),a=Nm(s,!0,e+1)),a};da.toFixed=function(e,t){var a,s,n=this,i=n.constructor;return e===void 0?Nm(n):(nu(e,0,Px),t===void 0?t=i.rounding:nu(t,0,8),s=ns(new i(n),e+Bn(n)+1,t),a=Nm(s.abs(),!1,e+Bn(s)+1),n.isneg()&&!n.isZero()?"-"+a:a)};da.toInteger=da.toint=function(){var e=this,t=e.constructor;return ns(new t(e),Bn(e)+1,t.rounding)};da.toNumber=function(){return+this};da.toPower=da.pow=function(e){var t,a,s,n,i,l,o=this,c=o.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(Mo);if(o=new c(o),!o.s){if(e.s<1)throw Error(Sc+"Infinity");return o}if(o.eq(Mo))return o;if(s=c.precision,e.eq(Mo))return ns(o,s);if(t=e.e,a=e.d.length-1,l=t>=a,i=o.s,l){if((a=u<0?-u:u)<=KY){for(n=new c(Mo),t=Math.ceil(s/us+4),Ms=!1;a%2&&(n=n.times(o),GI(n.d,t)),a=Lx(a/2),a!==0;)o=o.times(o),GI(o.d,t);return Ms=!0,e.s<0?new c(Mo).div(n):ns(n,s)}}else if(i<0)throw Error(Sc+"NaN");return i=i<0&&e.d[Math.max(t,a)]&1?-1:1,o.s=1,Ms=!1,n=e.times(Av(o,s+d)),Ms=!0,n=XY(n),n.s=i,n};da.toPrecision=function(e,t){var a,s,n=this,i=n.constructor;return e===void 0?(a=Bn(n),s=Nm(n,a<=i.toExpNeg||a>=i.toExpPos)):(nu(e,1,Px),t===void 0?t=i.rounding:nu(t,0,8),n=ns(new i(n),e,t),a=Bn(n),s=Nm(n,e<=a||a<=i.toExpNeg,e)),s};da.toSignificantDigits=da.tosd=function(e,t){var a=this,s=a.constructor;return e===void 0?(e=s.precision,t=s.rounding):(nu(e,1,Px),t===void 0?t=s.rounding:nu(t,0,8)),ns(new s(a),e,t)};da.toString=da.valueOf=da.val=da.toJSON=da[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Bn(e),a=e.constructor;return Nm(e,t<=a.toExpNeg||t>=a.toExpPos)};function YY(e,t){var a,s,n,i,l,o,c,d,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Ms?ns(t,f):t;if(c=e.d,d=t.d,l=e.e,n=t.e,c=c.slice(),i=l-n,i){for(i<0?(s=c,i=-i,o=d.length):(s=d,n=l,o=c.length),l=Math.ceil(f/us),o=l>o?l+1:o+1,i>o&&(i=o,s.length=1),s.reverse();i--;)s.push(0);s.reverse()}for(o=c.length,i=d.length,o-i<0&&(i=o,s=d,d=c,c=s),a=0;i;)a=(c[--i]=c[i]+d[i]+a)/bi|0,c[i]%=bi;for(a&&(c.unshift(a),++n),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=n,Ms?ns(t,f):t}function nu(e,t,a){if(e!==~~e||e<t||e>a)throw Error(lm+e)}function Qd(e){var t,a,s,n=e.length-1,i="",l=e[0];if(n>0){for(i+=l,t=1;t<n;t++)s=e[t]+"",a=us-s.length,a&&(i+=mf(a)),i+=s;l=e[t],s=l+"",a=us-s.length,a&&(i+=mf(a))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var lh=(function(){function e(s,n){var i,l=0,o=s.length;for(s=s.slice();o--;)i=s[o]*n+l,s[o]=i%bi|0,l=i/bi|0;return l&&s.unshift(l),s}function t(s,n,i,l){var o,c;if(i!=l)c=i>l?1:-1;else for(o=c=0;o<i;o++)if(s[o]!=n[o]){c=s[o]>n[o]?1:-1;break}return c}function a(s,n,i){for(var l=0;i--;)s[i]-=l,l=s[i]<n[i]?1:0,s[i]=l*bi+s[i]-n[i];for(;!s[0]&&s.length>1;)s.shift()}return function(s,n,i,l){var o,c,d,u,f,x,m,g,v,b,j,S,k,N,A,_,D,P,I=s.constructor,B=s.s==n.s?1:-1,O=s.d,U=n.d;if(!s.s)return new I(s);if(!n.s)throw Error(Sc+"Division by zero");for(c=s.e-n.e,D=U.length,A=O.length,m=new I(B),g=m.d=[],d=0;U[d]==(O[d]||0);)++d;if(U[d]>(O[d]||0)&&--c,i==null?S=i=I.precision:l?S=i+(Bn(s)-Bn(n))+1:S=i,S<0)return new I(0);if(S=S/us+2|0,d=0,D==1)for(u=0,U=U[0],S++;(d<A||u)&&S--;d++)k=u*bi+(O[d]||0),g[d]=k/U|0,u=k%U|0;else{for(u=bi/(U[0]+1)|0,u>1&&(U=e(U,u),O=e(O,u),D=U.length,A=O.length),N=D,v=O.slice(0,D),b=v.length;b<D;)v[b++]=0;P=U.slice(),P.unshift(0),_=U[0],U[1]>=bi/2&&++_;do u=0,o=t(U,v,D,b),o<0?(j=v[0],D!=b&&(j=j*bi+(v[1]||0)),u=j/_|0,u>1?(u>=bi&&(u=bi-1),f=e(U,u),x=f.length,b=v.length,o=t(f,v,x,b),o==1&&(u--,a(f,D<x?P:U,x))):(u==0&&(o=u=1),f=U.slice()),x=f.length,x<b&&f.unshift(0),a(v,f,b),o==-1&&(b=v.length,o=t(U,v,D,b),o<1&&(u++,a(v,D<b?P:U,b))),b=v.length):o===0&&(u++,v=[0]),g[d++]=u,o&&v[0]?v[b++]=O[N]||0:(v=[O[N]],b=1);while((N++<A||v[0]!==void 0)&&S--)}return g[0]||g.shift(),m.e=c,ns(m,l?i+Bn(m)+1:i)}})();function XY(e,t){var a,s,n,i,l,o,c=0,d=0,u=e.constructor,f=u.precision;if(Bn(e)>16)throw Error(R_+Bn(e));if(!e.s)return new u(Mo);for(Ms=!1,o=f,l=new u(.03125);e.abs().gte(.1);)e=e.times(l),d+=5;for(s=Math.log(L0(2,d))/Math.LN10*2+5|0,o+=s,a=n=i=new u(Mo),u.precision=o;;){if(n=ns(n.times(e),o),a=a.times(++c),l=i.plus(lh(n,a,o)),Qd(l.d).slice(0,o)===Qd(i.d).slice(0,o)){for(;d--;)i=ns(i.times(i),o);return u.precision=f,t==null?(Ms=!0,ns(i,f)):i}i=l}}function Bn(e){for(var t=e.e*us,a=e.d[0];a>=10;a/=10)t++;return t}function XS(e,t,a){if(t>e.LN10.sd())throw Ms=!0,a&&(e.precision=a),Error(Sc+"LN10 precision limit exceeded");return ns(new e(e.LN10),t)}function mf(e){for(var t="";e--;)t+="0";return t}function Av(e,t){var a,s,n,i,l,o,c,d,u,f=1,x=10,m=e,g=m.d,v=m.constructor,b=v.precision;if(m.s<1)throw Error(Sc+(m.s?"NaN":"-Infinity"));if(m.eq(Mo))return new v(0);if(t==null?(Ms=!1,d=b):d=t,m.eq(10))return t==null&&(Ms=!0),XS(v,d);if(d+=x,v.precision=d,a=Qd(g),s=a.charAt(0),i=Bn(m),Math.abs(i)<15e14){for(;s<7&&s!=1||s==1&&a.charAt(1)>3;)m=m.times(e),a=Qd(m.d),s=a.charAt(0),f++;i=Bn(m),s>1?(m=new v("0."+a),i++):m=new v(s+"."+a.slice(1))}else return c=XS(v,d+2,b).times(i+""),m=Av(new v(s+"."+a.slice(1)),d-x).plus(c),v.precision=b,t==null?(Ms=!0,ns(m,b)):m;for(o=l=m=lh(m.minus(Mo),m.plus(Mo),d),u=ns(m.times(m),d),n=3;;){if(l=ns(l.times(u),d),c=o.plus(lh(l,new v(n),d)),Qd(c.d).slice(0,d)===Qd(o.d).slice(0,d))return o=o.times(2),i!==0&&(o=o.plus(XS(v,d+2,b).times(i+""))),o=lh(o,new v(f),d),v.precision=b,t==null?(Ms=!0,ns(o,b)):o;o=c,n+=2}}function qI(e,t){var a,s,n;for((a=t.indexOf("."))>-1&&(t=t.replace(".","")),(s=t.search(/e/i))>0?(a<0&&(a=s),a+=+t.slice(s+1),t=t.substring(0,s)):a<0&&(a=t.length),s=0;t.charCodeAt(s)===48;)++s;for(n=t.length;t.charCodeAt(n-1)===48;)--n;if(t=t.slice(s,n),t){if(n-=s,a=a-s-1,e.e=Lx(a/us),e.d=[],s=(a+1)%us,a<0&&(s+=us),s<n){for(s&&e.d.push(+t.slice(0,s)),n-=us;s<n;)e.d.push(+t.slice(s,s+=us));t=t.slice(s),s=us-t.length}else s-=n;for(;s--;)t+="0";if(e.d.push(+t),Ms&&(e.e>nj||e.e<-nj))throw Error(R_+a)}else e.s=0,e.e=0,e.d=[0];return e}function ns(e,t,a){var s,n,i,l,o,c,d,u,f=e.d;for(l=1,i=f[0];i>=10;i/=10)l++;if(s=t-l,s<0)s+=us,n=t,d=f[u=0];else{if(u=Math.ceil((s+1)/us),i=f.length,u>=i)return e;for(d=i=f[u],l=1;i>=10;i/=10)l++;s%=us,n=s-us+l}if(a!==void 0&&(i=L0(10,l-n-1),o=d/i%10|0,c=t<0||f[u+1]!==void 0||d%i,c=a<4?(o||c)&&(a==0||a==(e.s<0?3:2)):o>5||o==5&&(a==4||c||a==6&&(s>0?n>0?d/L0(10,l-n):0:f[u-1])%10&1||a==(e.s<0?8:7))),t<1||!f[0])return c?(i=Bn(e),f.length=1,t=t-i-1,f[0]=L0(10,(us-t%us)%us),e.e=Lx(-t/us)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(s==0?(f.length=u,i=1,u--):(f.length=u+1,i=L0(10,us-s),f[u]=n>0?(d/L0(10,l-n)%L0(10,n)|0)*i:0),c)for(;;)if(u==0){(f[0]+=i)==bi&&(f[0]=1,++e.e);break}else{if(f[u]+=i,f[u]!=bi)break;f[u--]=0,i=1}for(s=f.length;f[--s]===0;)f.pop();if(Ms&&(e.e>nj||e.e<-nj))throw Error(R_+Bn(e));return e}function JY(e,t){var a,s,n,i,l,o,c,d,u,f,x=e.constructor,m=x.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new x(e),Ms?ns(t,m):t;if(c=e.d,f=t.d,s=t.e,d=e.e,c=c.slice(),l=d-s,l){for(u=l<0,u?(a=c,l=-l,o=f.length):(a=f,s=d,o=c.length),n=Math.max(Math.ceil(m/us),o)+2,l>n&&(l=n,a.length=1),a.reverse(),n=l;n--;)a.push(0);a.reverse()}else{for(n=c.length,o=f.length,u=n<o,u&&(o=n),n=0;n<o;n++)if(c[n]!=f[n]){u=c[n]<f[n];break}l=0}for(u&&(a=c,c=f,f=a,t.s=-t.s),o=c.length,n=f.length-o;n>0;--n)c[o++]=0;for(n=f.length;n>l;){if(c[--n]<f[n]){for(i=n;i&&c[--i]===0;)c[i]=bi-1;--c[i],c[n]+=bi}c[n]-=f[n]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--s;return c[0]?(t.d=c,t.e=s,Ms?ns(t,m):t):new x(0)}function Nm(e,t,a){var s,n=Bn(e),i=Qd(e.d),l=i.length;return t?(a&&(s=a-l)>0?i=i.charAt(0)+"."+i.slice(1)+mf(s):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(n<0?"e":"e+")+n):n<0?(i="0."+mf(-n-1)+i,a&&(s=a-l)>0&&(i+=mf(s))):n>=l?(i+=mf(n+1-l),a&&(s=a-n-1)>0&&(i=i+"."+mf(s))):((s=n+1)<l&&(i=i.slice(0,s)+"."+i.slice(s)),a&&(s=a-l)>0&&(n+1===l&&(i+="."),i+=mf(s))),e.s<0?"-"+i:i}function GI(e,t){if(e.length>t)return e.length=t,!0}function QY(e){var t,a,s;function n(i){var l=this;if(!(l instanceof n))return new n(i);if(l.constructor=n,i instanceof n){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(lm+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return qI(l,i.toString())}else if(typeof i!="string")throw Error(lm+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,VMe.test(i))qI(l,i);else throw Error(lm+i)}if(n.prototype=da,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.clone=QY,n.config=n.set=WMe,e===void 0&&(e={}),e)for(s=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<s.length;)e.hasOwnProperty(a=s[t++])||(e[a]=this[a]);return n.config(e),n}function WMe(e){if(!e||typeof e!="object")throw Error(Sc+"Object expected");var t,a,s,n=["precision",1,Px,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<n.length;t+=3)if((s=e[a=n[t]])!==void 0)if(Lx(s)===s&&s>=n[t+1]&&s<=n[t+2])this[a]=s;else throw Error(lm+a+": "+s);if((s=e[a="LN10"])!==void 0)if(s==Math.LN10)this[a]=new this(s);else throw Error(lm+a+": "+s);return this}var F_=QY(HMe);Mo=new F_(1);const Hr=F_;var qMe=e=>e,ZY={},eX=e=>e===ZY,KI=e=>function t(){return arguments.length===0||arguments.length===1&&eX(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},tX=(e,t)=>e===1?t:KI(function(){for(var a=arguments.length,s=new Array(a),n=0;n<a;n++)s[n]=arguments[n];var i=s.filter(l=>l!==ZY).length;return i>=e?t(...s):tX(e-i,KI(function(){for(var l=arguments.length,o=new Array(l),c=0;c<l;c++)o[c]=arguments[c];var d=s.map(u=>eX(u)?o.shift():u);return t(...d,...o)}))}),PN=e=>tX(e.length,e),w6=(e,t)=>{for(var a=[],s=e;s<t;++s)a[s-e]=s;return a},GMe=PN((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(a=>t[a]).map(e)),KMe=function(){for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];if(!a.length)return qMe;var n=a.reverse(),i=n[0],l=n.slice(1);return function(){return l.reduce((o,c)=>c(o),i(...arguments))}},j6=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),aX=e=>{var t=null,a=null;return function(){for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return t&&n.every((l,o)=>{var c;return l===((c=t)===null||c===void 0?void 0:c[o])})||(t=n,a=e(...n)),a}};function rX(e){var t;return e===0?t=1:t=Math.floor(new Hr(e).abs().log(10).toNumber())+1,t}function sX(e,t,a){for(var s=new Hr(e),n=0,i=[];s.lt(t)&&n<1e5;)i.push(s.toNumber()),s=s.add(a),n++;return i}PN((e,t,a)=>{var s=+e,n=+t;return s+a*(n-s)});PN((e,t,a)=>{var s=t-+e;return s=s||1/0,(a-e)/s});PN((e,t,a)=>{var s=t-+e;return s=s||1/0,Math.max(0,Math.min(1,(a-e)/s))});var nX=e=>{var[t,a]=e,[s,n]=[t,a];return t>a&&([s,n]=[a,t]),[s,n]},iX=(e,t,a)=>{if(e.lte(0))return new Hr(0);var s=rX(e.toNumber()),n=new Hr(10).pow(s),i=e.div(n),l=s!==1?.05:.1,o=new Hr(Math.ceil(i.div(l).toNumber())).add(a).mul(l),c=o.mul(n);return t?new Hr(c.toNumber()):new Hr(Math.ceil(c.toNumber()))},YMe=(e,t,a)=>{var s=new Hr(1),n=new Hr(e);if(!n.isint()&&a){var i=Math.abs(e);i<1?(s=new Hr(10).pow(rX(e)-1),n=new Hr(Math.floor(n.div(s).toNumber())).mul(s)):i>1&&(n=new Hr(Math.floor(e)))}else e===0?n=new Hr(Math.floor((t-1)/2)):a||(n=new Hr(Math.floor(e)));var l=Math.floor((t-1)/2),o=KMe(GMe(c=>n.add(new Hr(c-l).mul(s)).toNumber()),w6);return o(0,t)},lX=function(t,a,s,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((a-t)/(s-1)))return{step:new Hr(0),tickMin:new Hr(0),tickMax:new Hr(0)};var l=iX(new Hr(a).sub(t).div(s-1),n,i),o;t<=0&&a>=0?o=new Hr(0):(o=new Hr(t).add(a).div(2),o=o.sub(new Hr(o).mod(l)));var c=Math.ceil(o.sub(t).div(l).toNumber()),d=Math.ceil(new Hr(a).sub(o).div(l).toNumber()),u=c+d+1;return u>s?lX(t,a,s,n,i+1):(u<s&&(d=a>0?d+(s-u):d,c=a>0?c:c+(s-u)),{step:l,tickMin:o.sub(new Hr(c).mul(l)),tickMax:o.add(new Hr(d).mul(l))})};function XMe(e){var[t,a]=e,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(s,2),[l,o]=nX([t,a]);if(l===-1/0||o===1/0){var c=o===1/0?[l,...w6(0,s-1).map(()=>1/0)]:[...w6(0,s-1).map(()=>-1/0),o];return t>a?j6(c):c}if(l===o)return YMe(l,s,n);var{step:d,tickMin:u,tickMax:f}=lX(l,o,i,n,0),x=sX(u,f.add(new Hr(.1).mul(d)),d);return t>a?j6(x):x}function JMe(e,t){var[a,s]=e,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,l]=nX([a,s]);if(i===-1/0||l===1/0)return[a,s];if(i===l)return[i];var o=Math.max(t,2),c=iX(new Hr(l).sub(i).div(o-1),n,0),d=[...sX(new Hr(i),new Hr(l),c),l];return n===!1&&(d=d.map(u=>Math.round(u))),a>s?j6(d):d}var QMe=aX(XMe),ZMe=aX(JMe),oX=e=>e.rootProps.maxBarSize,ePe=e=>e.rootProps.barGap,cX=e=>e.rootProps.barCategoryGap,tPe=e=>e.rootProps.barSize,LN=e=>e.rootProps.stackOffset,I_=e=>e.options.chartName,B_=e=>e.rootProps.syncId,dX=e=>e.rootProps.syncMethod,$_=e=>e.options.eventEmitter,Hu={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Co={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},ON=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},aPe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Hu.angleAxisId,includeHidden:!1,name:void 0,reversed:Hu.reversed,scale:Hu.scale,tick:Hu.tick,tickCount:void 0,ticks:void 0,type:Hu.type,unit:void 0},rPe={allowDataOverflow:Co.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Co.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Co.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Co.scale,tick:Co.tick,tickCount:Co.tickCount,ticks:void 0,type:Co.type,unit:void 0},sPe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Hu.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Hu.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Hu.scale,tick:Hu.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},nPe={allowDataOverflow:Co.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Co.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Co.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Co.scale,tick:Co.tick,tickCount:Co.tickCount,ticks:void 0,type:"category",unit:void 0},U_=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?sPe:aPe,z_=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?nPe:rPe,RN=e=>e.polarOptions,H_=bt([Nh,Sh,ki],q_e),uX=bt([RN,H_],(e,t)=>{if(e!=null)return md(e.innerRadius,t,0)}),hX=bt([RN,H_],(e,t)=>{if(e!=null)return md(e.outerRadius,t,t*.8)}),iPe=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:a}=e;return[t,a]},fX=bt([RN],iPe);bt([U_,fX],ON);var mX=bt([H_,uX,hX],(e,t,a)=>{if(!(e==null||t==null||a==null))return[t,a]});bt([z_,mX],ON);var pX=bt([Or,RN,uX,hX,Nh,Sh],(e,t,a,s,n,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||a==null||s==null)){var{cx:l,cy:o,startAngle:c,endAngle:d}=t;return{cx:md(l,n,n/2),cy:md(o,i,i/2),innerRadius:a,outerRadius:s,startAngle:c,endAngle:d,clockWise:!1}}}),ni=(e,t)=>t,FN=(e,t,a)=>a;function V_(e){return e?.id}var ii=e=>{var t=Or(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Ox=e=>e.tooltip.settings.axisId,li=e=>{var t=ii(e),a=Ox(e);return cb(e,t,a)},xX=bt([li],e=>e?.dataKey);function gX(e,t,a){var{chartData:s=[]}=t,{allowDuplicatedCategory:n,dataKey:i}=a,l=new Map;return e.forEach(o=>{var c,d=(c=o.data)!==null&&c!==void 0?c:s;if(!(d==null||d.length===0)){var u=V_(o);d.forEach((f,x)=>{var m=i==null||n?x:String(Si(f,i,null)),g=Si(f,o.dataKey,0),v;l.has(m)?v=l.get(m):v={},Object.assign(v,{[u]:g}),l.set(m,v)})}}),Array.from(l.values())}function IN(e){return e.stackId!=null&&e.dataKey!=null}var BN=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function $N(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function YI(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,s)}return a}function ij(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?YI(Object(a),!0).forEach(function(s){lPe(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):YI(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function lPe(e,t,a){return(t=oPe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function oPe(e){var t=cPe(e,"string");return typeof t=="symbol"?t:t+""}function cPe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N6=[0,"auto"],No={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},vX=(e,t)=>e.cartesianAxis.xAxis[t],Ch=(e,t)=>{var a=vX(e,t);return a??No},So={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:N6,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:sb},bX=(e,t)=>e.cartesianAxis.yAxis[t],Ah=(e,t)=>{var a=bX(e,t);return a??So},dPe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},W_=(e,t)=>{var a=e.cartesianAxis.zAxis[t];return a??dPe},Rl=(e,t,a)=>{switch(t){case"xAxis":return Ch(e,a);case"yAxis":return Ah(e,a);case"zAxis":return W_(e,a);case"angleAxis":return U_(e,a);case"radiusAxis":return z_(e,a);default:throw new Error("Unexpected axis type: ".concat(t))}},uPe=(e,t,a)=>{switch(t){case"xAxis":return Ch(e,a);case"yAxis":return Ah(e,a);default:throw new Error("Unexpected axis type: ".concat(t))}},cb=(e,t,a)=>{switch(t){case"xAxis":return Ch(e,a);case"yAxis":return Ah(e,a);case"angleAxis":return U_(e,a);case"radiusAxis":return z_(e,a);default:throw new Error("Unexpected axis type: ".concat(t))}},yX=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function wX(e,t){return a=>{switch(e){case"xAxis":return"xAxisId"in a&&a.xAxisId===t;case"yAxis":return"yAxisId"in a&&a.yAxisId===t;case"zAxis":return"zAxisId"in a&&a.zAxisId===t;case"angleAxis":return"angleAxisId"in a&&a.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in a&&a.radiusAxisId===t;default:return!1}}}var UN=e=>e.graphicalItems.cartesianItems,hPe=bt([ni,FN],wX),jX=(e,t,a)=>e.filter(a).filter(s=>t?.includeHidden===!0?!0:!s.hide),db=bt([UN,Rl,hPe],jX,{memoizeOptions:{resultEqualityCheck:$N}}),NX=bt([db],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(IN)),SX=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),fPe=bt([db],SX),kX=e=>e.map(t=>t.data).filter(Boolean).flat(1),mPe=bt([db],kX,{memoizeOptions:{resultEqualityCheck:$N}}),CX=(e,t)=>{var{chartData:a=[],dataStartIndex:s,dataEndIndex:n}=t;return e.length>0?e:a.slice(s,n+1)},q_=bt([mPe,MN],CX),AX=(e,t,a)=>t?.dataKey!=null?e.map(s=>({value:Si(s,t.dataKey)})):a.length>0?a.map(s=>s.dataKey).flatMap(s=>e.map(n=>({value:Si(n,s)}))):e.map(s=>({value:s})),zN=bt([q_,Rl,db],AX);function _X(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function $2(e){if(su(e)||e instanceof Date){var t=Number(e);if(pl(t))return t}}function XI(e){if(Array.isArray(e)){var t=[$2(e[0]),$2(e[1])];return jm(t)?t:void 0}var a=$2(e);if(a!=null)return[a,a]}function Rx(e){return e.map($2).filter(EEe)}function pPe(e,t,a){return!a||typeof t!="number"||jc(t)?[]:a.length?Rx(a.flatMap(s=>{var n=Si(e,s.dataKey),i,l;if(Array.isArray(n)?[i,l]=n:i=l=n,!(!pl(i)||!pl(l)))return[t-i,t+l]})):[]}var xPe=bt([NX,MN,li],gX),TX=(e,t,a)=>{var s={},n=t.reduce((i,l)=>(l.stackId==null||(i[l.stackId]==null&&(i[l.stackId]=[]),i[l.stackId].push(l)),i),s);return Object.fromEntries(Object.entries(n).map(i=>{var[l,o]=i,c=o.map(V_);return[l,{stackedData:oTe(e,c,a),graphicalItems:o}]}))},S6=bt([xPe,NX,LN],TX),EX=(e,t,a,s)=>{var{dataStartIndex:n,dataEndIndex:i}=t;if(s==null&&a!=="zAxis"){var l=fTe(e,n,i);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},gPe=bt([Rl],e=>e.allowDataOverflow),G_=e=>{var t;if(e==null||!("domain"in e))return N6;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var a=Rx(e.ticks);return[Math.min(...a),Math.max(...a)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:N6},DX=bt([Rl],G_),MX=bt([DX,gPe],GY),vPe=bt([S6,Jf,ni,MX],EX,{memoizeOptions:{resultEqualityCheck:BN}}),K_=e=>e.errorBars,bPe=(e,t,a)=>e.flatMap(s=>t[s.id]).filter(Boolean).filter(s=>_X(a,s)),lj=function(){for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];var n=a.filter(Boolean);if(n.length!==0){var i=n.flat(),l=Math.min(...i),o=Math.max(...i);return[l,o]}},PX=(e,t,a,s,n)=>{var i,l;if(a.length>0&&e.forEach(o=>{a.forEach(c=>{var d,u,f=(d=s[c.id])===null||d===void 0?void 0:d.filter(j=>_X(n,j)),x=Si(o,(u=t.dataKey)!==null&&u!==void 0?u:c.dataKey),m=pPe(o,x,f);if(m.length>=2){var g=Math.min(...m),v=Math.max(...m);(i==null||g<i)&&(i=g),(l==null||v>l)&&(l=v)}var b=XI(x);b!=null&&(i=i==null?b[0]:Math.min(i,b[0]),l=l==null?b[1]:Math.max(l,b[1]))})}),t?.dataKey!=null&&e.forEach(o=>{var c=XI(Si(o,t.dataKey));c!=null&&(i=i==null?c[0]:Math.min(i,c[0]),l=l==null?c[1]:Math.max(l,c[1]))}),pl(i)&&pl(l))return[i,l]},yPe=bt([q_,Rl,fPe,K_,ni],PX,{memoizeOptions:{resultEqualityCheck:BN}});function wPe(e){var{value:t}=e;if(su(t)||t instanceof Date)return t}var jPe=(e,t,a)=>{var s=e.map(wPe).filter(n=>n!=null);return a&&(t.dataKey==null||t.allowDuplicatedCategory&&aK(s))?hY(0,e.length):t.allowDuplicatedCategory?s:Array.from(new Set(s))},LX=e=>e.referenceElements.dots,Fx=(e,t,a)=>e.filter(s=>s.ifOverflow==="extendDomain").filter(s=>t==="xAxis"?s.xAxisId===a:s.yAxisId===a),NPe=bt([LX,ni,FN],Fx),OX=e=>e.referenceElements.areas,SPe=bt([OX,ni,FN],Fx),RX=e=>e.referenceElements.lines,kPe=bt([RX,ni,FN],Fx),FX=(e,t)=>{var a=Rx(e.map(s=>t==="xAxis"?s.x:s.y));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},CPe=bt(NPe,ni,FX),IX=(e,t)=>{var a=Rx(e.flatMap(s=>[t==="xAxis"?s.x1:s.y1,t==="xAxis"?s.x2:s.y2]));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},APe=bt([SPe,ni],IX),BX=(e,t)=>{var a=Rx(e.map(s=>t==="xAxis"?s.x:s.y));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},_Pe=bt(kPe,ni,BX),TPe=bt(CPe,_Pe,APe,(e,t,a)=>lj(e,a,t)),$X=(e,t,a,s,n,i,l,o)=>{if(a!=null)return a;var c=l==="vertical"&&o==="xAxis"||l==="horizontal"&&o==="yAxis",d=c?lj(s,i,n):lj(i,n);return zMe(t,d,e.allowDataOverflow)},EPe=bt([Rl,DX,MX,vPe,yPe,TPe,Or,ni],$X,{memoizeOptions:{resultEqualityCheck:BN}}),DPe=[0,1],UX=(e,t,a,s,n,i,l)=>{if(!((e==null||a==null||a.length===0)&&l===void 0)){var{dataKey:o,type:c}=e,d=Kf(t,i);return d&&o==null?hY(0,a.length):c==="category"?jPe(s,e,d):n==="expand"?DPe:l}},Y_=bt([Rl,Or,q_,zN,LN,ni,EPe],UX),zX=(e,t,a,s,n)=>{if(e!=null){var{scale:i,type:l}=e;if(i==="auto")return t==="radial"&&n==="radiusAxis"?"band":t==="radial"&&n==="angleAxis"?"linear":l==="category"&&s&&(s.indexOf("LineChart")>=0||s.indexOf("AreaChart")>=0||s.indexOf("ComposedChart")>=0&&!a)?"point":l==="category"?"band":"linear";if(typeof i=="string"){var o="scale".concat(tb(i));return o in o1?o:"point"}}},ub=bt([Rl,Or,yX,I_,ni],zX);function MPe(e){if(e!=null){if(e in o1)return o1[e]();var t="scale".concat(tb(e));if(t in o1)return o1[t]()}}function X_(e,t,a,s){if(!(a==null||s==null)){if(typeof e.scale=="function")return e.scale.copy().domain(a).range(s);var n=MPe(t);if(n!=null){var i=n.domain(a).range(s);return rTe(i),i}}}var HX=(e,t,a)=>{var s=G_(t);if(!(a!=="auto"&&a!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(s)&&(s[0]==="auto"||s[1]==="auto")&&jm(e))return QMe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&jm(e))return ZMe(e,t.tickCount,t.allowDecimals)}},J_=bt([Y_,cb,ub],HX),VX=(e,t,a,s)=>{if(s!=="angleAxis"&&e?.type==="number"&&jm(t)&&Array.isArray(a)&&a.length>0){var n=t[0],i=a[0],l=t[1],o=a[a.length-1];return[Math.min(n,i),Math.max(l,o)]}return t},PPe=bt([Rl,Y_,J_,ni],VX),LPe=bt(zN,Rl,(e,t)=>{if(!(!t||t.type!=="number")){var a=1/0,s=Array.from(Rx(e.map(o=>o.value))).sort((o,c)=>o-c);if(s.length<2)return 1/0;var n=s[s.length-1]-s[0];if(n===0)return 1/0;for(var i=0;i<s.length-1;i++){var l=s[i+1]-s[i];a=Math.min(a,l)}return a/n}}),WX=bt(LPe,Or,cX,ki,(e,t,a,s)=>s,(e,t,a,s,n)=>{if(!pl(e))return 0;var i=t==="vertical"?s.height:s.width;if(n==="gap")return e*i/2;if(n==="no-gap"){var l=md(a,e*i),o=e*i/2;return o-l-(o-l)/i*l}return 0}),OPe=(e,t)=>{var a=Ch(e,t);return a==null||typeof a.padding!="string"?0:WX(e,"xAxis",t,a.padding)},RPe=(e,t)=>{var a=Ah(e,t);return a==null||typeof a.padding!="string"?0:WX(e,"yAxis",t,a.padding)},FPe=bt(Ch,OPe,(e,t)=>{var a,s;if(e==null)return{left:0,right:0};var{padding:n}=e;return typeof n=="string"?{left:t,right:t}:{left:((a=n.left)!==null&&a!==void 0?a:0)+t,right:((s=n.right)!==null&&s!==void 0?s:0)+t}}),IPe=bt(Ah,RPe,(e,t)=>{var a,s;if(e==null)return{top:0,bottom:0};var{padding:n}=e;return typeof n=="string"?{top:t,bottom:t}:{top:((a=n.top)!==null&&a!==void 0?a:0)+t,bottom:((s=n.bottom)!==null&&s!==void 0?s:0)+t}}),BPe=bt([ki,FPe,yN,bN,(e,t,a)=>a],(e,t,a,s,n)=>{var{padding:i}=s;return n?[i.left,a.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),$Pe=bt([ki,Or,IPe,yN,bN,(e,t,a)=>a],(e,t,a,s,n,i)=>{var{padding:l}=n;return i?[s.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-a.bottom,e.top+a.top]:[e.top+a.top,e.top+e.height-a.bottom]}),hb=(e,t,a,s)=>{var n;switch(t){case"xAxis":return BPe(e,a,s);case"yAxis":return $Pe(e,a,s);case"zAxis":return(n=W_(e,a))===null||n===void 0?void 0:n.range;case"angleAxis":return fX(e);case"radiusAxis":return mX(e,a);default:return}},qX=bt([Rl,hb],ON),Ix=bt([Rl,ub,PPe,qX],X_);bt([db,K_,ni],bPe);function GX(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var HN=(e,t)=>t,VN=(e,t,a)=>a,UPe=bt(gN,HN,VN,(e,t,a)=>e.filter(s=>s.orientation===t).filter(s=>s.mirror===a).sort(GX)),zPe=bt(vN,HN,VN,(e,t,a)=>e.filter(s=>s.orientation===t).filter(s=>s.mirror===a).sort(GX)),KX=(e,t)=>({width:e.width,height:t.height}),HPe=(e,t)=>{var a=typeof t.width=="number"?t.width:sb;return{width:a,height:e.height}},YX=bt(ki,Ch,KX),VPe=(e,t,a)=>{switch(t){case"top":return e.top;case"bottom":return a-e.bottom;default:return 0}},WPe=(e,t,a)=>{switch(t){case"left":return e.left;case"right":return a-e.right;default:return 0}},qPe=bt(Sh,ki,UPe,HN,VN,(e,t,a,s,n)=>{var i={},l;return a.forEach(o=>{var c=KX(t,o);l==null&&(l=VPe(t,s,e));var d=s==="top"&&!n||s==="bottom"&&n;i[o.id]=l-Number(d)*c.height,l+=(d?-1:1)*c.height}),i}),GPe=bt(Nh,ki,zPe,HN,VN,(e,t,a,s,n)=>{var i={},l;return a.forEach(o=>{var c=HPe(t,o);l==null&&(l=WPe(t,s,e));var d=s==="left"&&!n||s==="right"&&n;i[o.id]=l-Number(d)*c.width,l+=(d?-1:1)*c.width}),i}),KPe=(e,t)=>{var a=Ch(e,t);if(a!=null)return qPe(e,a.orientation,a.mirror)},YPe=bt([ki,Ch,KPe,(e,t)=>t],(e,t,a,s)=>{if(t!=null){var n=a?.[s];return n==null?{x:e.left,y:0}:{x:e.left,y:n}}}),XPe=(e,t)=>{var a=Ah(e,t);if(a!=null)return GPe(e,a.orientation,a.mirror)},JPe=bt([ki,Ah,XPe,(e,t)=>t],(e,t,a,s)=>{if(t!=null){var n=a?.[s];return n==null?{x:0,y:e.top}:{x:n,y:e.top}}}),XX=bt(ki,Ah,(e,t)=>{var a=typeof t.width=="number"?t.width:sb;return{width:a,height:e.height}}),JI=(e,t,a)=>{switch(t){case"xAxis":return YX(e,a).width;case"yAxis":return XX(e,a).height;default:return}},JX=(e,t,a,s)=>{if(a!=null){var{allowDuplicatedCategory:n,type:i,dataKey:l}=a,o=Kf(e,s),c=t.map(d=>d.value);if(l&&o&&i==="category"&&n&&aK(c))return c}},Q_=bt([Or,zN,Rl,ni],JX),QX=(e,t,a,s)=>{if(!(a==null||a.dataKey==null)){var{type:n,scale:i}=a,l=Kf(e,s);if(l&&(n==="number"||i!=="auto"))return t.map(o=>o.value)}},Z_=bt([Or,zN,cb,ni],QX),QI=bt([Or,uPe,ub,Ix,Q_,Z_,hb,J_,ni],(e,t,a,s,n,i,l,o,c)=>{if(t==null)return null;var d=Kf(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:n,isCategorical:d,niceTicks:o,range:l,realScaleType:a,scale:s}}),QPe=(e,t,a,s,n,i,l,o,c)=>{if(!(t==null||s==null)){var d=Kf(e,c),{type:u,ticks:f,tickCount:x}=t,m=a==="scaleBand"&&typeof s.bandwidth=="function"?s.bandwidth()/2:2,g=u==="category"&&s.bandwidth?s.bandwidth()/m:0;g=c==="angleAxis"&&i!=null&&i.length>=2?Zl(i[0]-i[1])*2*g:g;var v=f||n;if(v){var b=v.map((j,S)=>{var k=l?l.indexOf(j):j;return{index:S,coordinate:s(k)+g,value:j,offset:g}});return b.filter(j=>!jc(j.coordinate))}return d&&o?o.map((j,S)=>({coordinate:s(j)+g,value:j,index:S,offset:g})):s.ticks?s.ticks(x).map(j=>({coordinate:s(j)+g,value:j,offset:g})):s.domain().map((j,S)=>({coordinate:s(j)+g,value:l?l[j]:j,index:S,offset:g}))}},ZX=bt([Or,cb,ub,Ix,J_,hb,Q_,Z_,ni],QPe),ZPe=(e,t,a,s,n,i,l)=>{if(!(t==null||a==null||s==null||s[0]===s[1])){var o=Kf(e,l),{tickCount:c}=t,d=0;return d=l==="angleAxis"&&s?.length>=2?Zl(s[0]-s[1])*2*d:d,o&&i?i.map((u,f)=>({coordinate:a(u)+d,value:u,index:f,offset:d})):a.ticks?a.ticks(c).map(u=>({coordinate:a(u)+d,value:u,offset:d})):a.domain().map((u,f)=>({coordinate:a(u)+d,value:n?n[u]:u,index:f,offset:d}))}},If=bt([Or,cb,Ix,hb,Q_,Z_,ni],ZPe),Bf=bt(Rl,Ix,(e,t)=>{if(!(e==null||t==null))return ij(ij({},e),{},{scale:t})}),eLe=bt([Rl,ub,Y_,qX],X_);bt((e,t,a)=>W_(e,a),eLe,(e,t)=>{if(!(e==null||t==null))return ij(ij({},e),{},{scale:t})});var tLe=bt([Or,gN,vN],(e,t,a)=>{switch(e){case"horizontal":return t.some(s=>s.reversed)?"right-to-left":"left-to-right";case"vertical":return a.some(s=>s.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),eJ=e=>e.options.defaultTooltipEventType,tJ=e=>e.options.validateTooltipEventTypes;function aJ(e,t,a){if(e==null)return t;var s=e?"axis":"item";return a==null?t:a.includes(s)?s:t}function eT(e,t){var a=eJ(e),s=tJ(e);return aJ(t,a,s)}function aLe(e){return Sa(t=>eT(t,e))}var rJ=(e,t)=>{var a,s=Number(t);if(!(jc(s)||t==null))return s>=0?e==null||(a=e[s])===null||a===void 0?void 0:a.value:void 0},rLe=e=>e.tooltip.settings,gf={active:!1,index:null,dataKey:void 0,coordinate:void 0},sLe={itemInteraction:{click:gf,hover:gf},axisInteraction:{click:gf,hover:gf},keyboardInteraction:gf,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},sJ=Fo({name:"tooltip",initialState:sLe,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Tl()},removeTooltipEntrySettings:{reducer(e,t){var a=ih(e).tooltipItemPayloads.indexOf(t.payload);a>-1&&e.tooltipItemPayloads.splice(a,1)},prepare:Tl()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:nLe,removeTooltipEntrySettings:iLe,setTooltipSettingsState:lLe,setActiveMouseOverItemIndex:nJ,mouseLeaveItem:oLe,mouseLeaveChart:iJ,setActiveClickItemIndex:cLe,setMouseOverAxisIndex:lJ,setMouseClickAxisIndex:dLe,setSyncInteraction:k6,setKeyboardInteraction:C6}=sJ.actions,uLe=sJ.reducer;function ZI(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,s)}return a}function N2(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?ZI(Object(a),!0).forEach(function(s){hLe(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ZI(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function hLe(e,t,a){return(t=fLe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function fLe(e){var t=mLe(e,"string");return typeof t=="symbol"?t:t+""}function mLe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pLe(e,t,a){return t==="axis"?a==="click"?e.axisInteraction.click:e.axisInteraction.hover:a==="click"?e.itemInteraction.click:e.itemInteraction.hover}function xLe(e){return e.index!=null}var oJ=(e,t,a,s)=>{if(t==null)return gf;var n=pLe(e,t,a);if(n==null)return gf;if(n.active)return n;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(xLe(n)){if(i)return N2(N2({},n),{},{active:!0})}else if(s!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:s};return N2(N2({},gf),{},{coordinate:n.coordinate})},tT=(e,t)=>{var a=e?.index;if(a==null)return null;var s=Number(a);if(!pl(s))return a;var n=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(n,Math.min(s,i)))},cJ=(e,t,a,s,n,i,l,o)=>{if(!(i==null||o==null)){var c=l[0],d=c==null?void 0:o(c.positions,i);if(d!=null)return d;var u=n?.[Number(i)];if(u)switch(a){case"horizontal":return{x:u.coordinate,y:(s.top+t)/2};default:return{x:(s.left+e)/2,y:u.coordinate}}}},dJ=(e,t,a,s)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var n;return a==="hover"?n=e.itemInteraction.hover.dataKey:n=e.itemInteraction.click.dataKey,n==null&&s!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var l;return((l=i.settings)===null||l===void 0?void 0:l.dataKey)===n})},fb=e=>e.options.tooltipPayloadSearcher,Bx=e=>e.tooltip;function eB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,s)}return a}function tB(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?eB(Object(a),!0).forEach(function(s){gLe(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):eB(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function gLe(e,t,a){return(t=vLe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function vLe(e){var t=bLe(e,"string");return typeof t=="symbol"?t:t+""}function bLe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yLe(e,t){return e??t}var uJ=(e,t,a,s,n,i,l)=>{if(!(t==null||i==null)){var{chartData:o,computedData:c,dataStartIndex:d,dataEndIndex:u}=a,f=[];return e.reduce((x,m)=>{var g,{dataDefinedOnItem:v,settings:b}=m,j=yLe(v,o),S=Array.isArray(j)?WK(j,d,u):j,k=(g=b?.dataKey)!==null&&g!==void 0?g:s,N=b?.nameKey,A;if(s&&Array.isArray(S)&&!Array.isArray(S[0])&&l==="axis"?A=rK(S,s,n):A=i(S,t,c,N),Array.isArray(A))A.forEach(D=>{var P=tB(tB({},b),{},{name:D.name,unit:D.unit,color:void 0,fill:void 0});x.push(MF({tooltipEntrySettings:P,dataKey:D.dataKey,payload:D.payload,value:Si(D.payload,D.dataKey),name:D.name}))});else{var _;x.push(MF({tooltipEntrySettings:b,dataKey:k,payload:A,value:Si(A,k),name:(_=Si(A,N))!==null&&_!==void 0?_:b?.name}))}return x},f)}},aT=bt([li,Or,yX,I_,ii],zX),wLe=bt([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),jLe=bt([ii,Ox],wX),mb=bt([wLe,li,jLe],jX,{memoizeOptions:{resultEqualityCheck:$N}}),NLe=bt([mb],e=>e.filter(IN)),SLe=bt([mb],kX,{memoizeOptions:{resultEqualityCheck:$N}}),$x=bt([SLe,Jf],CX),kLe=bt([NLe,Jf,li],gX),rT=bt([$x,li,mb],AX),hJ=bt([li],G_),CLe=bt([li],e=>e.allowDataOverflow),fJ=bt([hJ,CLe],GY),ALe=bt([mb],e=>e.filter(IN)),_Le=bt([kLe,ALe,LN],TX),TLe=bt([_Le,Jf,ii,fJ],EX),ELe=bt([mb],SX),DLe=bt([$x,li,ELe,K_,ii],PX,{memoizeOptions:{resultEqualityCheck:BN}}),MLe=bt([LX,ii,Ox],Fx),PLe=bt([MLe,ii],FX),LLe=bt([OX,ii,Ox],Fx),OLe=bt([LLe,ii],IX),RLe=bt([RX,ii,Ox],Fx),FLe=bt([RLe,ii],BX),ILe=bt([PLe,FLe,OLe],lj),BLe=bt([li,hJ,fJ,TLe,DLe,ILe,Or,ii],$X),mJ=bt([li,Or,$x,rT,LN,ii,BLe],UX),$Le=bt([mJ,li,aT],HX),ULe=bt([li,mJ,$Le,ii],VX),pJ=e=>{var t=ii(e),a=Ox(e),s=!1;return hb(e,t,a,s)},xJ=bt([li,pJ],ON),gJ=bt([li,aT,ULe,xJ],X_),zLe=bt([Or,rT,li,ii],JX),HLe=bt([Or,rT,li,ii],QX),VLe=(e,t,a,s,n,i,l,o)=>{if(t){var{type:c}=t,d=Kf(e,o);if(s){var u=a==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,f=c==="category"&&s.bandwidth?s.bandwidth()/u:0;return f=o==="angleAxis"&&n!=null&&n?.length>=2?Zl(n[0]-n[1])*2*f:f,d&&l?l.map((x,m)=>({coordinate:s(x)+f,value:x,index:m,offset:f})):s.domain().map((x,m)=>({coordinate:s(x)+f,value:i?i[x]:x,index:m,offset:f}))}}},_h=bt([Or,li,aT,gJ,pJ,zLe,HLe,ii],VLe),sT=bt([eJ,tJ,rLe],(e,t,a)=>aJ(a.shared,e,t)),vJ=e=>e.tooltip.settings.trigger,nT=e=>e.tooltip.settings.defaultIndex,WN=bt([Bx,sT,vJ,nT],oJ),Sm=bt([WN,$x],tT),bJ=bt([_h,Sm],rJ),yJ=bt([WN],e=>{if(e)return e.dataKey}),wJ=bt([Bx,sT,vJ,nT],dJ),WLe=bt([Nh,Sh,Or,ki,_h,nT,wJ,fb],cJ),qLe=bt([WN,WLe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),GLe=bt([WN],e=>e.active),KLe=bt([wJ,Sm,Jf,xX,bJ,fb,sT],uJ),YLe=bt([KLe],e=>{if(e!=null){var t=e.map(a=>a.payload).filter(a=>a!=null);return Array.from(new Set(t))}});function aB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,s)}return a}function rB(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?aB(Object(a),!0).forEach(function(s){XLe(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):aB(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function XLe(e,t,a){return(t=JLe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function JLe(e){var t=QLe(e,"string");return typeof t=="symbol"?t:t+""}function QLe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZLe=()=>Sa(li),eOe=()=>{var e=ZLe(),t=Sa(_h),a=Sa(gJ);return wv(rB(rB({},e),{},{scale:a}),t)},tOe=()=>Sa(I_),iT=(e,t)=>t,jJ=(e,t,a)=>a,lT=(e,t,a,s)=>s,aOe=bt(_h,e=>dN(e,t=>t.coordinate)),oT=bt([Bx,iT,jJ,lT],oJ),NJ=bt([oT,$x],tT),rOe=(e,t,a)=>{if(t!=null){var s=Bx(e);return t==="axis"?a==="hover"?s.axisInteraction.hover.dataKey:s.axisInteraction.click.dataKey:a==="hover"?s.itemInteraction.hover.dataKey:s.itemInteraction.click.dataKey}},SJ=bt([Bx,iT,jJ,lT],dJ),oj=bt([Nh,Sh,Or,ki,_h,lT,SJ,fb],cJ),sOe=bt([oT,oj],(e,t)=>{var a;return(a=e.coordinate)!==null&&a!==void 0?a:t}),kJ=bt(_h,NJ,rJ),nOe=bt([SJ,NJ,Jf,xX,kJ,fb,iT],uJ),iOe=bt([oT],e=>({isActive:e.active,activeIndex:e.index})),lOe=(e,t,a,s,n,i,l,o)=>{if(!(!e||!t||!s||!n||!i)){var c=mTe(e.chartX,e.chartY,t,a,o);if(c){var d=xTe(c,t),u=tTe(d,l,i,s,n),f=pTe(t,i,u,c);return{activeIndex:String(u),activeCoordinate:f}}}};function A6(){return A6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},A6.apply(null,arguments)}function sB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,s)}return a}function S2(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?sB(Object(a),!0).forEach(function(s){oOe(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):sB(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function oOe(e,t,a){return(t=cOe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function cOe(e){var t=dOe(e,"string");return typeof t=="symbol"?t:t+""}function dOe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uOe(e){var{coordinate:t,payload:a,index:s,offset:n,tooltipAxisBandSize:i,layout:l,cursor:o,tooltipEventType:c,chartName:d}=e,u=t,f=a,x=s;if(!o||!u||d!=="ScatterChart"&&c!=="axis")return null;var m,g;if(d==="ScatterChart")m=u,g=NEe;else if(d==="BarChart")m=SEe(l,u,n,i),g=oY;else if(l==="radial"){var{cx:v,cy:b,radius:j,startAngle:S,endAngle:k}=cY(u);m={cx:v,cy:b,startAngle:S,endAngle:k,innerRadius:j,outerRadius:j},g=uY}else m={points:l7e(l,u,n)},g=rY;var N=typeof o=="object"&&"className"in o?o.className:void 0,A=S2(S2(S2(S2({stroke:"#ccc",pointerEvents:"none"},n),m),eb(o)),{},{payload:f,payloadIndex:x,className:Qr("recharts-tooltip-cursor",N)});return w.isValidElement(o)?w.cloneElement(o,A):w.createElement(g,A)}function hOe(e){var t=eOe(),a=QK(),s=jN(),n=tOe();return w.createElement(uOe,A6({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:a,layout:s,tooltipAxisBandSize:t,chartName:n}))}var CJ=w.createContext(null),fOe=()=>w.useContext(CJ),JS={exports:{}},nB;function mOe(){return nB||(nB=1,(function(e){var t=Object.prototype.hasOwnProperty,a="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(a=!1));function n(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,f,x){if(typeof u!="function")throw new TypeError("The listener must be a function");var m=new n(u,f||c,x),g=a?a+d:d;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function l(c,d){--c._eventsCount===0?c._events=new s:delete c._events[d]}function o(){this._events=new s,this._eventsCount=0}o.prototype.eventNames=function(){var d=[],u,f;if(this._eventsCount===0)return d;for(f in u=this._events)t.call(u,f)&&d.push(a?f.slice(1):f);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},o.prototype.listeners=function(d){var u=a?a+d:d,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var x=0,m=f.length,g=new Array(m);x<m;x++)g[x]=f[x].fn;return g},o.prototype.listenerCount=function(d){var u=a?a+d:d,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(d,u,f,x,m,g){var v=a?a+d:d;if(!this._events[v])return!1;var b=this._events[v],j=arguments.length,S,k;if(b.fn){switch(b.once&&this.removeListener(d,b.fn,void 0,!0),j){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,u),!0;case 3:return b.fn.call(b.context,u,f),!0;case 4:return b.fn.call(b.context,u,f,x),!0;case 5:return b.fn.call(b.context,u,f,x,m),!0;case 6:return b.fn.call(b.context,u,f,x,m,g),!0}for(k=1,S=new Array(j-1);k<j;k++)S[k-1]=arguments[k];b.fn.apply(b.context,S)}else{var N=b.length,A;for(k=0;k<N;k++)switch(b[k].once&&this.removeListener(d,b[k].fn,void 0,!0),j){case 1:b[k].fn.call(b[k].context);break;case 2:b[k].fn.call(b[k].context,u);break;case 3:b[k].fn.call(b[k].context,u,f);break;case 4:b[k].fn.call(b[k].context,u,f,x);break;default:if(!S)for(A=1,S=new Array(j-1);A<j;A++)S[A-1]=arguments[A];b[k].fn.apply(b[k].context,S)}}return!0},o.prototype.on=function(d,u,f){return i(this,d,u,f,!1)},o.prototype.once=function(d,u,f){return i(this,d,u,f,!0)},o.prototype.removeListener=function(d,u,f,x){var m=a?a+d:d;if(!this._events[m])return this;if(!u)return l(this,m),this;var g=this._events[m];if(g.fn)g.fn===u&&(!x||g.once)&&(!f||g.context===f)&&l(this,m);else{for(var v=0,b=[],j=g.length;v<j;v++)(g[v].fn!==u||x&&!g[v].once||f&&g[v].context!==f)&&b.push(g[v]);b.length?this._events[m]=b.length===1?b[0]:b:l(this,m)}return this},o.prototype.removeAllListeners=function(d){var u;return d?(u=a?a+d:d,this._events[u]&&l(this,u)):(this._events=new s,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=a,o.EventEmitter=o,e.exports=o})(JS)),JS.exports}var pOe=mOe();const xOe=vh(pOe);var _v=new xOe,_6="recharts.syncEvent.tooltip",iB="recharts.syncEvent.brush";function AJ(e,t){if(t){var a=Number.parseInt(t,10);if(!jc(a))return e?.[a]}}var gOe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},_J=Fo({name:"options",initialState:gOe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),vOe=_J.reducer,{createEventEmitter:bOe}=_J.actions;function yOe(e){return e.tooltip.syncInteraction}var wOe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},TJ=Fo({name:"chartData",initialState:wOe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:a,endIndex:s}=t.payload;a!=null&&(e.dataStartIndex=a),s!=null&&(e.dataEndIndex=s)}}}),{setChartData:lB,setDataStartEndIndexes:jOe,setComputedData:_ze}=TJ.actions,NOe=TJ.reducer,SOe=["x","y"];function oB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,s)}return a}function Lp(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?oB(Object(a),!0).forEach(function(s){kOe(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):oB(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function kOe(e,t,a){return(t=COe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function COe(e){var t=AOe(e,"string");return typeof t=="symbol"?t:t+""}function AOe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _Oe(e,t){if(e==null)return{};var a,s,n=TOe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function TOe(e,t){if(e==null)return{};var a={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;a[s]=e[s]}return a}var EJ=()=>{};function EOe(){var e=Sa(B_),t=Sa($_),a=ri(),s=Sa(dX),n=Sa(_h),i=jN(),l=wN(),o=Sa(c=>c.rootProps.className);w.useEffect(()=>{if(e==null)return EJ;var c=(d,u,f)=>{if(t!==f&&e===d){if(s==="index"){var x;if(l&&u!==null&&u!==void 0&&(x=u.payload)!==null&&x!==void 0&&x.coordinate&&u.payload.sourceViewBox){var m=u.payload.coordinate,{x:g,y:v}=m,b=_Oe(m,SOe),{x:j,y:S,width:k,height:N}=u.payload.sourceViewBox,A=Lp(Lp({},b),{},{x:l.x+(k?(g-j)/k:0)*l.width,y:l.y+(N?(v-S)/N:0)*l.height});a(Lp(Lp({},u),{},{payload:Lp(Lp({},u.payload),{},{coordinate:A})}))}else a(u);return}if(n!=null){var _;if(typeof s=="function"){var D={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},P=s(n,D);_=n[P]}else s==="value"&&(_=n.find(V=>String(V.value)===u.payload.label));var{coordinate:I}=u.payload;if(_==null||u.payload.active===!1||I==null||l==null){a(k6({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:B,y:O}=I,U=Math.min(B,l.x+l.width),E=Math.min(O,l.y+l.height),R={x:i==="horizontal"?_.coordinate:U,y:i==="horizontal"?E:_.coordinate},K=k6({active:u.payload.active,coordinate:R,dataKey:u.payload.dataKey,index:String(_.index),label:u.payload.label,sourceViewBox:u.payload.sourceViewBox});a(K)}}};return _v.on(_6,c),()=>{_v.off(_6,c)}},[o,a,t,e,s,n,i,l])}function DOe(){var e=Sa(B_),t=Sa($_),a=ri();w.useEffect(()=>{if(e==null)return EJ;var s=(n,i,l)=>{t!==l&&e===n&&a(jOe(i))};return _v.on(iB,s),()=>{_v.off(iB,s)}},[a,t,e])}function MOe(){var e=ri();w.useEffect(()=>{e(bOe())},[e]),EOe(),DOe()}function POe(e,t,a,s,n,i){var l=Sa(m=>rOe(m,e,t)),o=Sa($_),c=Sa(B_),d=Sa(dX),u=Sa(yOe),f=u?.active,x=wN();w.useEffect(()=>{if(!f&&c!=null&&o!=null){var m=k6({active:i,coordinate:a,dataKey:l,index:n,label:typeof s=="number"?String(s):s,sourceViewBox:x});_v.emit(_6,c,m,o)}},[f,a,l,n,s,o,c,d,i,x])}function cB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,s)}return a}function dB(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?cB(Object(a),!0).forEach(function(s){LOe(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):cB(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function LOe(e,t,a){return(t=OOe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function OOe(e){var t=ROe(e,"string");return typeof t=="symbol"?t:t+""}function ROe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FOe(e){return e.dataKey}function IOe(e,t){return w.isValidElement(e)?w.cloneElement(e,t):typeof e=="function"?w.createElement(e,t):w.createElement(tEe,t)}var uB=[],BOe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Bm.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function cj(e){var t=lo(e,BOe),{active:a,allowEscapeViewBox:s,animationDuration:n,animationEasing:i,content:l,filterNull:o,isAnimationActive:c,offset:d,payloadUniqBy:u,position:f,reverseDirection:x,useTranslate3d:m,wrapperStyle:g,cursor:v,shared:b,trigger:j,defaultIndex:S,portal:k,axisId:N}=t,A=ri(),_=typeof S=="number"?String(S):S;w.useEffect(()=>{A(lLe({shared:b,trigger:j,axisId:N,active:a,defaultIndex:_}))},[A,b,j,N,a,_]);var D=wN(),P=aY(),I=aLe(b),{activeIndex:B,isActive:O}=Sa(Q=>iOe(Q,I,j,_)),U=Sa(Q=>nOe(Q,I,j,_)),E=Sa(Q=>kJ(Q,I,j,_)),R=Sa(Q=>sOe(Q,I,j,_)),K=U,V=fOe(),Z=a??O,[J,ee]=W8e([K,Z]),W=I==="axis"?E:void 0;POe(I,j,R,W,B,Z);var le=k??V;if(le==null)return null;var M=K??uB;Z||(M=uB),o&&M.length&&(M=g8e(K.filter(Q=>Q.value!=null&&(Q.hide!==!0||t.includeHidden)),u,FOe));var X=M.length>0,z=w.createElement(oEe,{allowEscapeViewBox:s,animationDuration:n,animationEasing:i,isAnimationActive:c,active:Z,coordinate:R,hasPayload:X,offset:d,position:f,reverseDirection:x,useTranslate3d:m,viewBox:D,wrapperStyle:g,lastBoundingBox:J,innerRef:ee,hasPortalFromProps:!!k},IOe(l,dB(dB({},t),{},{payload:M,label:W,active:Z,coordinate:R,accessibilityLayer:P})));return w.createElement(w.Fragment,null,Cj.createPortal(z,le),Z&&w.createElement(hOe,{cursor:v,tooltipEventType:I,coordinate:R,payload:K,index:B}))}var cT=e=>null;cT.displayName="Cell";function $Oe(e,t,a){return(t=UOe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function UOe(e){var t=zOe(e,"string");return typeof t=="symbol"?t:t+""}function zOe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class HOe{constructor(t){$Oe(this,"cache",new Map),this.maxSize=t}get(t){var a=this.cache.get(t);return a!==void 0&&(this.cache.delete(t),this.cache.set(t,a)),a}set(t,a){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var s=this.cache.keys().next().value;this.cache.delete(s)}this.cache.set(t,a)}clear(){this.cache.clear()}size(){return this.cache.size}}function hB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,s)}return a}function VOe(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?hB(Object(a),!0).forEach(function(s){WOe(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):hB(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function WOe(e,t,a){return(t=qOe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function qOe(e){var t=GOe(e,"string");return typeof t=="symbol"?t:t+""}function GOe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KOe={cacheSize:2e3,enableCache:!0},DJ=VOe({},KOe),fB=new HOe(DJ.cacheSize),YOe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},mB="recharts_measurement_span";function XOe(e,t){var a=t.fontSize||"",s=t.fontFamily||"",n=t.fontWeight||"",i=t.fontStyle||"",l=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(a,"|").concat(s,"|").concat(n,"|").concat(i,"|").concat(l,"|").concat(o)}var pB=(e,t)=>{try{var a=document.getElementById(mB);a||(a=document.createElement("span"),a.setAttribute("id",mB),a.setAttribute("aria-hidden","true"),document.body.appendChild(a)),Object.assign(a.style,YOe,t),a.textContent="".concat(e);var s=a.getBoundingClientRect();return{width:s.width,height:s.height}}catch{return{width:0,height:0}}},L1=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Bm.isSsr)return{width:0,height:0};if(!DJ.enableCache)return pB(t,a);var s=XOe(t,a),n=fB.get(s);if(n)return n;var i=pB(t,a);return fB.set(s,i),i},xB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,JOe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,QOe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,MJ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ZOe=Object.keys(MJ),Vp="NaN";function eRe(e,t){return e*MJ[t]}class Xl{static parse(t){var a,[,s,n]=(a=QOe.exec(t))!==null&&a!==void 0?a:[];return new Xl(parseFloat(s),n??"")}constructor(t,a){this.num=t,this.unit=a,this.num=t,this.unit=a,jc(t)&&(this.unit=""),a!==""&&!JOe.test(a)&&(this.num=NaN,this.unit=""),ZOe.includes(a)&&(this.num=eRe(t,a),this.unit="px")}add(t){return this.unit!==t.unit?new Xl(NaN,""):new Xl(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Xl(NaN,""):new Xl(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Xl(NaN,""):new Xl(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Xl(NaN,""):new Xl(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return jc(this.num)}}function PJ(e){if(e.includes(Vp))return Vp;for(var t=e;t.includes("*")||t.includes("/");){var a,[,s,n,i]=(a=xB.exec(t))!==null&&a!==void 0?a:[],l=Xl.parse(s??""),o=Xl.parse(i??""),c=n==="*"?l.multiply(o):l.divide(o);if(c.isNaN())return Vp;t=t.replace(xB,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,u,f,x]=(d=gB.exec(t))!==null&&d!==void 0?d:[],m=Xl.parse(u??""),g=Xl.parse(x??""),v=f==="+"?m.add(g):m.subtract(g);if(v.isNaN())return Vp;t=t.replace(gB,v.toString())}return t}var vB=/\(([^()]*)\)/;function tRe(e){for(var t=e,a;(a=vB.exec(t))!=null;){var[,s]=a;t=t.replace(vB,PJ(s))}return t}function aRe(e){var t=e.replace(/\s+/g,"");return t=tRe(t),t=PJ(t),t}function rRe(e){try{return aRe(e)}catch{return Vp}}function QS(e){var t=rRe(e.slice(5,-1));return t===Vp?"":t}var sRe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],nRe=["dx","dy","angle","className","breakAll"];function T6(){return T6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},T6.apply(null,arguments)}function bB(e,t){if(e==null)return{};var a,s,n=iRe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function iRe(e,t){if(e==null)return{};var a={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;a[s]=e[s]}return a}var LJ=/[ \f\n\r\t\v\u2028\u2029]+/,OJ=e=>{var{children:t,breakAll:a,style:s}=e;try{var n=[];Os(t)||(a?n=t.toString().split(""):n=t.toString().split(LJ));var i=n.map(o=>({word:o,width:L1(o,s).width})),l=a?0:L1("",s).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},lRe=(e,t,a,s,n)=>{var{maxLines:i,children:l,style:o,breakAll:c}=e,d=Ca(i),u=l,f=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return O.reduce((U,E)=>{var{word:R,width:K}=E,V=U[U.length-1];if(V&&(s==null||n||V.width+K+a<Number(s)))V.words.push(R),V.width+=K+a;else{var Z={words:[R],width:K};U.push(Z)}return U},[])},x=f(t),m=B=>B.reduce((O,U)=>O.width>U.width?O:U);if(!d||n)return x;var g=x.length>i||m(x).width>Number(s);if(!g)return x;for(var v="",b=B=>{var O=u.slice(0,B),U=OJ({breakAll:c,style:o,children:O+v}).wordsWithComputedWidth,E=f(U),R=E.length>i||m(E).width>Number(s);return[R,E]},j=0,S=u.length-1,k=0,N;j<=S&&k<=u.length-1;){var A=Math.floor((j+S)/2),_=A-1,[D,P]=b(_),[I]=b(A);if(!D&&!I&&(j=A+1),D&&I&&(S=A-1),!D&&I){N=P;break}k++}return N||x},yB=e=>{var t=Os(e)?[]:e.toString().split(LJ);return[{words:t}]},oRe=e=>{var{width:t,scaleToFit:a,children:s,style:n,breakAll:i,maxLines:l}=e;if((t||a)&&!Bm.isSsr){var o,c,d=OJ({breakAll:i,children:s,style:n});if(d){var{wordsWithComputedWidth:u,spaceWidth:f}=d;o=u,c=f}else return yB(s);return lRe({breakAll:i,children:s,maxLines:l,style:n},o,c,t,a)}return yB(s)},wB="#808080",dT=w.forwardRef((e,t)=>{var{x:a=0,y:s=0,lineHeight:n="1em",capHeight:i="0.71em",scaleToFit:l=!1,textAnchor:o="start",verticalAnchor:c="end",fill:d=wB}=e,u=bB(e,sRe),f=w.useMemo(()=>oRe({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:l,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,l,u.style,u.width]),{dx:x,dy:m,angle:g,className:v,breakAll:b}=u,j=bB(u,nRe);if(!su(a)||!su(s)||f.length===0)return null;var S=a+(Ca(x)?x:0),k=s+(Ca(m)?m:0),N;switch(c){case"start":N=QS("calc(".concat(i,")"));break;case"middle":N=QS("calc(".concat((f.length-1)/2," * -").concat(n," + (").concat(i," / 2))"));break;default:N=QS("calc(".concat(f.length-1," * -").concat(n,")"));break}var A=[];if(l){var _=f[0].width,{width:D}=u;A.push("scale(".concat(Ca(D)?D/_:1,")"))}return g&&A.push("rotate(".concat(g,", ").concat(S,", ").concat(k,")")),A.length&&(j.transform=A.join(" ")),w.createElement("text",T6({},Ll(j),{ref:t,x:S,y:k,className:Qr("recharts-text",v),textAnchor:o,fill:d.includes("url")?wB:d}),f.map((P,I)=>{var B=P.words.join(b?"":" ");return w.createElement("tspan",{x:S,dy:I===0?N:n,key:"".concat(B,"-").concat(I)},B)}))});dT.displayName="Text";var cRe=["labelRef"];function dRe(e,t){if(e==null)return{};var a,s,n=uRe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function uRe(e,t){if(e==null)return{};var a={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;a[s]=e[s]}return a}function jB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,s)}return a}function vn(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?jB(Object(a),!0).forEach(function(s){hRe(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):jB(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function hRe(e,t,a){return(t=fRe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function fRe(e){var t=mRe(e,"string");return typeof t=="symbol"?t:t+""}function mRe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vu(){return Vu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},Vu.apply(null,arguments)}var RJ=w.createContext(null),pRe=e=>{var{x:t,y:a,width:s,height:n,children:i}=e,l=w.useMemo(()=>({x:t,y:a,width:s,height:n}),[t,a,s,n]);return w.createElement(RJ.Provider,{value:l},i)},FJ=()=>{var e=w.useContext(RJ),t=wN();return e||t},xRe=w.createContext(null),gRe=()=>{var e=w.useContext(xRe),t=Sa(pX);return e||t},vRe=e=>{var{value:t,formatter:a}=e,s=Os(e.children)?t:e.children;return typeof a=="function"?a(s):s},uT=e=>e!=null&&typeof e=="function",bRe=(e,t)=>{var a=Zl(t-e),s=Math.min(Math.abs(t-e),360);return a*s},yRe=(e,t,a,s,n)=>{var{offset:i,className:l}=e,{cx:o,cy:c,innerRadius:d,outerRadius:u,startAngle:f,endAngle:x,clockWise:m}=n,g=(d+u)/2,v=bRe(f,x),b=v>=0?1:-1,j,S;switch(t){case"insideStart":j=f+b*i,S=m;break;case"insideEnd":j=x-b*i,S=!m;break;case"end":j=x+b*i,S=m;break;default:throw new Error("Unsupported position ".concat(t))}S=v<=0?S:!S;var k=Hi(o,c,g,j),N=Hi(o,c,g,j+(S?1:-1)*359),A="M".concat(k.x,",").concat(k.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(S?0:1,`,
    `).concat(N.x,",").concat(N.y),_=Os(e.id)?gv("recharts-radial-line-"):e.id;return w.createElement("text",Vu({},s,{dominantBaseline:"central",className:Qr("recharts-radial-bar-label",l)}),w.createElement("defs",null,w.createElement("path",{id:_,d:A})),w.createElement("textPath",{xlinkHref:"#".concat(_)},a))},wRe=(e,t,a)=>{var{cx:s,cy:n,innerRadius:i,outerRadius:l,startAngle:o,endAngle:c}=e,d=(o+c)/2;if(a==="outside"){var{x:u,y:f}=Hi(s,n,l+t,d);return{x:u,y:f,textAnchor:u>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:n,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:n,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:n,textAnchor:"middle",verticalAnchor:"end"};var x=(i+l)/2,{x:m,y:g}=Hi(s,n,x,d);return{x:m,y:g,textAnchor:"middle",verticalAnchor:"middle"}},IJ=e=>"cx"in e&&Ca(e.cx),jRe=(e,t)=>{var{parentViewBox:a,offset:s,position:n}=e,i;a!=null&&!IJ(a)&&(i=a);var{x:l,y:o,width:c,height:d}=t,u=d>=0?1:-1,f=u*s,x=u>0?"end":"start",m=u>0?"start":"end",g=c>=0?1:-1,v=g*s,b=g>0?"end":"start",j=g>0?"start":"end";if(n==="top"){var S={x:l+c/2,y:o-u*s,textAnchor:"middle",verticalAnchor:x};return vn(vn({},S),i?{height:Math.max(o-i.y,0),width:c}:{})}if(n==="bottom"){var k={x:l+c/2,y:o+d+f,textAnchor:"middle",verticalAnchor:m};return vn(vn({},k),i?{height:Math.max(i.y+i.height-(o+d),0),width:c}:{})}if(n==="left"){var N={x:l-v,y:o+d/2,textAnchor:b,verticalAnchor:"middle"};return vn(vn({},N),i?{width:Math.max(N.x-i.x,0),height:d}:{})}if(n==="right"){var A={x:l+c+v,y:o+d/2,textAnchor:j,verticalAnchor:"middle"};return vn(vn({},A),i?{width:Math.max(i.x+i.width-A.x,0),height:d}:{})}var _=i?{width:c,height:d}:{};return n==="insideLeft"?vn({x:l+v,y:o+d/2,textAnchor:j,verticalAnchor:"middle"},_):n==="insideRight"?vn({x:l+c-v,y:o+d/2,textAnchor:b,verticalAnchor:"middle"},_):n==="insideTop"?vn({x:l+c/2,y:o+f,textAnchor:"middle",verticalAnchor:m},_):n==="insideBottom"?vn({x:l+c/2,y:o+d-f,textAnchor:"middle",verticalAnchor:x},_):n==="insideTopLeft"?vn({x:l+v,y:o+f,textAnchor:j,verticalAnchor:m},_):n==="insideTopRight"?vn({x:l+c-v,y:o+f,textAnchor:b,verticalAnchor:m},_):n==="insideBottomLeft"?vn({x:l+v,y:o+d-f,textAnchor:j,verticalAnchor:x},_):n==="insideBottomRight"?vn({x:l+c-v,y:o+d-f,textAnchor:b,verticalAnchor:x},_):n&&typeof n=="object"&&(Ca(n.x)||fh(n.x))&&(Ca(n.y)||fh(n.y))?vn({x:l+md(n.x,c),y:o+md(n.y,d),textAnchor:"end",verticalAnchor:"end"},_):vn({x:l+c/2,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},_)},NRe={offset:5};function pf(e){var t=lo(e,NRe),{viewBox:a,position:s,value:n,children:i,content:l,className:o="",textBreakAll:c,labelRef:d}=t,u=gRe(),f=FJ(),x=s==="center"?f:u??f,m=a||x;if(!m||Os(n)&&Os(i)&&!w.isValidElement(l)&&typeof l!="function")return null;var g=vn(vn({},t),{},{viewBox:m});if(w.isValidElement(l)){var{labelRef:v}=g,b=dRe(g,cRe);return w.cloneElement(l,b)}var j;if(typeof l=="function"){if(j=w.createElement(l,g),w.isValidElement(j))return j}else j=vRe(t);var S=IJ(m),k=Ll(t);if(S&&(s==="insideStart"||s==="insideEnd"||s==="end"))return yRe(t,s,j,k,m);var N=S?wRe(m,t.offset,t.position):jRe(t,m);return w.createElement(dT,Vu({ref:d,className:Qr("recharts-label",o)},k,N,{breakAll:c}),j)}pf.displayName="Label";var SRe=(e,t,a)=>{if(!e)return null;var s={viewBox:t,labelRef:a};return e===!0?w.createElement(pf,Vu({key:"label-implicit"},s)):su(e)?w.createElement(pf,Vu({key:"label-implicit",value:e},s)):w.isValidElement(e)?e.type===pf?w.cloneElement(e,vn({key:"label-implicit"},s)):w.createElement(pf,Vu({key:"label-implicit",content:e},s)):uT(e)?w.createElement(pf,Vu({key:"label-implicit",content:e},s)):e&&typeof e=="object"?w.createElement(pf,Vu({},e,{key:"label-implicit"},s)):null};function kRe(e){var{label:t,labelRef:a}=e,s=FJ();return SRe(t,s,a)||null}var ZS={},ek={},NB;function CRe(){return NB||(NB=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a[a.length-1]}e.last=t})(ek)),ek}var tk={},SB;function ARe(){return SB||(SB=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return Array.isArray(a)?a:Array.from(a)}e.toArray=t})(tk)),tk}var kB;function _Re(){return kB||(kB=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CRe(),a=ARe(),s=s_();function n(i){if(s.isArrayLike(i))return t.last(a.toArray(i))}e.last=n})(ZS)),ZS}var ak,CB;function TRe(){return CB||(CB=1,ak=_Re().last),ak}var ERe=TRe();const DRe=vh(ERe);var MRe=["valueAccessor"],PRe=["dataKey","clockWise","id","textBreakAll"];function dj(){return dj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},dj.apply(null,arguments)}function AB(e,t){if(e==null)return{};var a,s,n=LRe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function LRe(e,t){if(e==null)return{};var a={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;a[s]=e[s]}return a}var ORe=e=>Array.isArray(e.value)?DRe(e.value):e.value,BJ=w.createContext(void 0),$J=BJ.Provider,UJ=w.createContext(void 0);UJ.Provider;function RRe(){return w.useContext(BJ)}function FRe(){return w.useContext(UJ)}function O1(e){var{valueAccessor:t=ORe}=e,a=AB(e,MRe),{dataKey:s,clockWise:n,id:i,textBreakAll:l}=a,o=AB(a,PRe),c=RRe(),d=FRe(),u=c||d;return!u||!u.length?null:w.createElement(fd,{className:"recharts-label-list"},u.map((f,x)=>{var m,g=Os(s)?t(f,x):Si(f&&f.payload,s),v=Os(i)?{}:{id:"".concat(i,"-").concat(x)};return w.createElement(pf,dj({key:"label-".concat(x)},Ll(f),o,v,{fill:(m=a.fill)!==null&&m!==void 0?m:f.fill,parentViewBox:f.parentViewBox,value:g,textBreakAll:l,viewBox:f.viewBox,index:x}))}))}O1.displayName="LabelList";function zJ(e){var{label:t}=e;return t?t===!0?w.createElement(O1,{key:"labelList-implicit"}):w.isValidElement(t)||uT(t)?w.createElement(O1,{key:"labelList-implicit",content:t}):typeof t=="object"?w.createElement(O1,dj({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function E6(){return E6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},E6.apply(null,arguments)}var HJ=e=>{var{cx:t,cy:a,r:s,className:n}=e,i=Qr("recharts-dot",n);return t===+t&&a===+a&&s===+s?w.createElement("circle",E6({},hd(e),a_(e),{className:i,cx:t,cy:a,r:s})):null},IRe={radiusAxis:{},angleAxis:{}},VJ=Fo({name:"polarAxis",initialState:IRe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Tze,removeRadiusAxis:Eze,addAngleAxis:Dze,removeAngleAxis:Mze}=VJ.actions,BRe=VJ.reducer,rk={exports:{}},Xr={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _B;function $Re(){if(_B)return Xr;_B=1;var e=60103,t=60106,a=60107,s=60108,n=60114,i=60109,l=60110,o=60112,c=60113,d=60120,u=60115,f=60116,x=60121,m=60122,g=60117,v=60129,b=60131;if(typeof Symbol=="function"&&Symbol.for){var j=Symbol.for;e=j("react.element"),t=j("react.portal"),a=j("react.fragment"),s=j("react.strict_mode"),n=j("react.profiler"),i=j("react.provider"),l=j("react.context"),o=j("react.forward_ref"),c=j("react.suspense"),d=j("react.suspense_list"),u=j("react.memo"),f=j("react.lazy"),x=j("react.block"),m=j("react.server.block"),g=j("react.fundamental"),v=j("react.debug_trace_mode"),b=j("react.legacy_hidden")}function S(E){if(typeof E=="object"&&E!==null){var R=E.$$typeof;switch(R){case e:switch(E=E.type,E){case a:case n:case s:case c:case d:return E;default:switch(E=E&&E.$$typeof,E){case l:case o:case f:case u:case i:return E;default:return R}}case t:return R}}}var k=i,N=e,A=o,_=a,D=f,P=u,I=t,B=n,O=s,U=c;return Xr.ContextConsumer=l,Xr.ContextProvider=k,Xr.Element=N,Xr.ForwardRef=A,Xr.Fragment=_,Xr.Lazy=D,Xr.Memo=P,Xr.Portal=I,Xr.Profiler=B,Xr.StrictMode=O,Xr.Suspense=U,Xr.isAsyncMode=function(){return!1},Xr.isConcurrentMode=function(){return!1},Xr.isContextConsumer=function(E){return S(E)===l},Xr.isContextProvider=function(E){return S(E)===i},Xr.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===e},Xr.isForwardRef=function(E){return S(E)===o},Xr.isFragment=function(E){return S(E)===a},Xr.isLazy=function(E){return S(E)===f},Xr.isMemo=function(E){return S(E)===u},Xr.isPortal=function(E){return S(E)===t},Xr.isProfiler=function(E){return S(E)===n},Xr.isStrictMode=function(E){return S(E)===s},Xr.isSuspense=function(E){return S(E)===c},Xr.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===a||E===n||E===v||E===s||E===c||E===d||E===b||typeof E=="object"&&E!==null&&(E.$$typeof===f||E.$$typeof===u||E.$$typeof===i||E.$$typeof===l||E.$$typeof===o||E.$$typeof===g||E.$$typeof===x||E[0]===m)},Xr.typeOf=S,Xr}var TB;function URe(){return TB||(TB=1,rk.exports=$Re()),rk.exports}var zRe=URe(),EB=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",DB=null,sk=null,WJ=e=>{if(e===DB&&Array.isArray(sk))return sk;var t=[];return w.Children.forEach(e,a=>{Os(a)||(zRe.isFragment(a)?t=t.concat(WJ(a.props.children)):t.push(a))}),sk=t,DB=e,t};function HRe(e,t){var a=[],s=[];return Array.isArray(t)?s=t.map(n=>EB(n)):s=[EB(t)],WJ(e).forEach(n=>{var i=hx(n,"type.displayName")||hx(n,"type.name");s.indexOf(i)!==-1&&a.push(n)}),a}var qJ=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,nk={},MB;function VRe(){return MB||(MB=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){if(typeof a!="object"||a==null)return!1;if(Object.getPrototypeOf(a)===null)return!0;if(Object.prototype.toString.call(a)!=="[object Object]"){const n=a[Symbol.toStringTag];return n==null||!Object.getOwnPropertyDescriptor(a,Symbol.toStringTag)?.writable?!1:a.toString()===`[object ${n}]`}let s=a;for(;Object.getPrototypeOf(s)!==null;)s=Object.getPrototypeOf(s);return Object.getPrototypeOf(a)===s}e.isPlainObject=t})(nk)),nk}var ik,PB;function WRe(){return PB||(PB=1,ik=VRe().isPlainObject),ik}var qRe=WRe();const GRe=vh(qRe);function LB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,s)}return a}function OB(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?LB(Object(a),!0).forEach(function(s){KRe(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):LB(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function KRe(e,t,a){return(t=YRe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function YRe(e){var t=XRe(e,"string");return typeof t=="symbol"?t:t+""}function XRe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uj(){return uj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},uj.apply(null,arguments)}var RB=(e,t,a,s,n)=>{var i=a-s,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+a,",").concat(t),l+="L ".concat(e+a-i/2,",").concat(t+n),l+="L ".concat(e+a-i/2-s,",").concat(t+n),l+="L ".concat(e,",").concat(t," Z"),l},JRe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},QRe=e=>{var t=lo(e,JRe),{x:a,y:s,upperWidth:n,lowerWidth:i,height:l,className:o}=t,{animationEasing:c,animationDuration:d,animationBegin:u,isUpdateAnimationActive:f}=t,x=w.useRef(null),[m,g]=w.useState(-1),v=w.useRef(n),b=w.useRef(i),j=w.useRef(l),S=w.useRef(a),k=w.useRef(s),N=kN(e,"trapezoid-");if(w.useEffect(()=>{if(x.current&&x.current.getTotalLength)try{var R=x.current.getTotalLength();R&&g(R)}catch{}},[]),a!==+a||s!==+s||n!==+n||i!==+i||l!==+l||n===0&&i===0||l===0)return null;var A=Qr("recharts-trapezoid",o);if(!f)return w.createElement("g",null,w.createElement("path",uj({},Ll(t),{className:A,d:RB(a,s,n,i,l)})));var _=v.current,D=b.current,P=j.current,I=S.current,B=k.current,O="0px ".concat(m===-1?1:m,"px"),U="".concat(m,"px 0px"),E=sY(["strokeDasharray"],d,c);return w.createElement(SN,{animationId:N,key:N,canBegin:m>0,duration:d,easing:c,isActive:f,begin:u},R=>{var K=Fn(_,n,R),V=Fn(D,i,R),Z=Fn(P,l,R),J=Fn(I,a,R),ee=Fn(B,s,R);x.current&&(v.current=K,b.current=V,j.current=Z,S.current=J,k.current=ee);var W=R>0?{transition:E,strokeDasharray:U}:{strokeDasharray:O};return w.createElement("path",uj({},Ll(t),{className:A,d:RB(J,ee,K,V,Z),ref:x,style:OB(OB({},W),t.style)}))})},ZRe=["option","shapeType","propTransformer","activeClassName","isActive"];function e9e(e,t){if(e==null)return{};var a,s,n=t9e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function t9e(e,t){if(e==null)return{};var a={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;a[s]=e[s]}return a}function FB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,s)}return a}function hj(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?FB(Object(a),!0).forEach(function(s){a9e(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):FB(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function a9e(e,t,a){return(t=r9e(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r9e(e){var t=s9e(e,"string");return typeof t=="symbol"?t:t+""}function s9e(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n9e(e,t){return hj(hj({},t),e)}function i9e(e,t){return e==="symbols"}function IB(e){var{shapeType:t,elementProps:a}=e;switch(t){case"rectangle":return w.createElement(oY,a);case"trapezoid":return w.createElement(QRe,a);case"sector":return w.createElement(uY,a);case"symbols":if(i9e(t))return w.createElement(nK,a);break;default:return null}}function l9e(e){return w.isValidElement(e)?e.props:e}function o9e(e){var{option:t,shapeType:a,propTransformer:s=n9e,activeClassName:n="recharts-active-shape",isActive:i}=e,l=e9e(e,ZRe),o;if(w.isValidElement(t))o=w.cloneElement(t,hj(hj({},l),l9e(t)));else if(typeof t=="function")o=t(l);else if(GRe(t)&&typeof t!="boolean"){var c=s(t,l);o=w.createElement(IB,{shapeType:a,elementProps:c})}else{var d=l;o=w.createElement(IB,{shapeType:a,elementProps:d})}return i?w.createElement(fd,{className:n},o):o}var GJ=(e,t)=>{var a=ri();return(s,n)=>i=>{e?.(s,n,i),a(nJ({activeIndex:String(n),activeDataKey:t,activeCoordinate:s.tooltipPosition}))}},KJ=e=>{var t=ri();return(a,s)=>n=>{e?.(a,s,n),t(oLe())}},YJ=(e,t)=>{var a=ri();return(s,n)=>i=>{e?.(s,n,i),a(cLe({activeIndex:String(n),activeDataKey:t,activeCoordinate:s.tooltipPosition}))}};function XJ(e){var{fn:t,args:a}=e,s=ri(),n=Ol();return w.useLayoutEffect(()=>{if(!n){var i=t(a);return s(nLe(i)),()=>{s(iLe(i))}}},[t,a,s,n]),null}var c9e=()=>{};function JJ(e){var{legendPayload:t}=e,a=ri(),s=Ol();return w.useLayoutEffect(()=>s?c9e:(a(KTe(t)),()=>{a(YTe(t))}),[a,s,t]),null}var lk,d9e=()=>{var[e]=w.useState(()=>gv("uid-"));return e},u9e=(lk=BZ.useId)!==null&&lk!==void 0?lk:d9e;function h9e(e,t){var a=u9e();return t||(e?"".concat(e,"-").concat(a):a)}var f9e=w.createContext(void 0),QJ=e=>{var{id:t,type:a,children:s}=e,n=h9e("recharts-".concat(a),t);return w.createElement(f9e.Provider,{value:n},s(n))},m9e={cartesianItems:[],polarItems:[]},ZJ=Fo({name:"graphicalItems",initialState:m9e,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Tl()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:a,next:s}=t.payload,n=ih(e).cartesianItems.indexOf(a);n>-1&&(e.cartesianItems[n]=s)},prepare:Tl()},removeCartesianGraphicalItem:{reducer(e,t){var a=ih(e).cartesianItems.indexOf(t.payload);a>-1&&e.cartesianItems.splice(a,1)},prepare:Tl()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Tl()},removePolarGraphicalItem:{reducer(e,t){var a=ih(e).polarItems.indexOf(t.payload);a>-1&&e.polarItems.splice(a,1)},prepare:Tl()}}}),{addCartesianGraphicalItem:p9e,replaceCartesianGraphicalItem:x9e,removeCartesianGraphicalItem:g9e,addPolarGraphicalItem:Pze,removePolarGraphicalItem:Lze}=ZJ.actions,v9e=ZJ.reducer;function eQ(e){var t=ri(),a=w.useRef(null);return w.useLayoutEffect(()=>{a.current===null?t(p9e(e)):a.current!==e&&t(x9e({prev:a.current,next:e})),a.current=e},[t,e]),w.useLayoutEffect(()=>()=>{a.current&&(t(g9e(a.current)),a.current=null)},[t]),null}function BB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,s)}return a}function $B(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?BB(Object(a),!0).forEach(function(s){b9e(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):BB(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function b9e(e,t,a){return(t=y9e(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function y9e(e){var t=w9e(e,"string");return typeof t=="symbol"?t:t+""}function w9e(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j9e={xAxis:{},yAxis:{},zAxis:{}},tQ=Fo({name:"cartesianAxis",initialState:j9e,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Tl()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Tl()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Tl()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Tl()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Tl()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Tl()},updateYAxisWidth(e,t){var{id:a,width:s}=t.payload,n=e.yAxis[a];if(n){var i=n.widthHistory||[];if(i.length===3&&i[0]===i[2]&&s===i[1]&&s!==n.width&&Math.abs(s-i[0])<=1)return;var l=[...i,s].slice(-3);e.yAxis[a]=$B($B({},e.yAxis[a]),{},{width:s,widthHistory:l})}}}}),{addXAxis:N9e,removeXAxis:S9e,addYAxis:k9e,removeYAxis:C9e,addZAxis:Oze,removeZAxis:Rze,updateYAxisWidth:A9e}=tQ.actions,_9e=tQ.reducer,T9e=bt([ki],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),E9e=bt([T9e,Nh,Sh],(e,t,a)=>{if(!(!e||t==null||a==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,a-e.top-e.bottom)}}),hT=()=>Sa(E9e),D9e=()=>Sa(YLe);function UB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,s)}return a}function zB(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?UB(Object(a),!0).forEach(function(s){M9e(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):UB(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function M9e(e,t,a){return(t=P9e(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function P9e(e){var t=L9e(e,"string");return typeof t=="symbol"?t:t+""}function L9e(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var O9e=e=>{var{point:t,childIndex:a,mainColor:s,activeDot:n,dataKey:i}=e;if(n===!1||t.x==null||t.y==null)return null;var l=zB(zB({index:a,dataKey:i,cx:t.x,cy:t.y,r:4,fill:s??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},eb(n)),a_(n)),o;return w.isValidElement(n)?o=w.cloneElement(n,l):typeof n=="function"?o=n(l):o=w.createElement(HJ,l),w.createElement(fd,{className:"recharts-active-dot"},o)};function R9e(e){var{points:t,mainColor:a,activeDot:s,itemDataKey:n}=e,i=Sa(Sm),l=D9e();if(t==null||l==null)return null;var o=t.find(c=>l.includes(c.payload));return Os(o)?null:O9e({point:o,childIndex:Number(i),mainColor:a,dataKey:n,activeDot:s})}var F9e="Invariant failed";function I9e(e,t){throw new Error(F9e)}var B9e=["x","y"];function D6(){return D6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},D6.apply(null,arguments)}function HB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,s)}return a}function Qg(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?HB(Object(a),!0).forEach(function(s){$9e(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):HB(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function $9e(e,t,a){return(t=U9e(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function U9e(e){var t=z9e(e,"string");return typeof t=="symbol"?t:t+""}function z9e(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H9e(e,t){if(e==null)return{};var a,s,n=V9e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function V9e(e,t){if(e==null)return{};var a={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;a[s]=e[s]}return a}function W9e(e,t){var{x:a,y:s}=e,n=H9e(e,B9e),i="".concat(a),l=parseInt(i,10),o="".concat(s),c=parseInt(o,10),d="".concat(t.height||n.height),u=parseInt(d,10),f="".concat(t.width||n.width),x=parseInt(f,10);return Qg(Qg(Qg(Qg(Qg({},t),n),l?{x:l}:{}),c?{y:c}:{}),{},{height:u,width:x,name:t.name,radius:t.radius})}function fT(e){return w.createElement(o9e,D6({shapeType:"rectangle",propTransformer:W9e,activeClassName:"recharts-active-bar"},e))}var q9e=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(s,n)=>{if(Ca(t))return t;var i=Ca(s)||Os(s);return i?t(s,n):(i||I9e(),a)}},G9e={},aQ=Fo({name:"errorBars",initialState:G9e,reducers:{addErrorBar:(e,t)=>{var{itemId:a,errorBar:s}=t.payload;e[a]||(e[a]=[]),e[a].push(s)},replaceErrorBar:(e,t)=>{var{itemId:a,prev:s,next:n}=t.payload;e[a]&&(e[a]=e[a].map(i=>i.dataKey===s.dataKey&&i.direction===s.direction?n:i))},removeErrorBar:(e,t)=>{var{itemId:a,errorBar:s}=t.payload;e[a]&&(e[a]=e[a].filter(n=>n.dataKey!==s.dataKey||n.direction!==s.direction))}}}),{addErrorBar:Fze,replaceErrorBar:Ize,removeErrorBar:Bze}=aQ.actions,K9e=aQ.reducer,Y9e=["children"];function X9e(e,t){if(e==null)return{};var a,s,n=J9e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function J9e(e,t){if(e==null)return{};var a={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;a[s]=e[s]}return a}var Q9e={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Z9e=w.createContext(Q9e);function rQ(e){var{children:t}=e,a=X9e(e,Y9e);return w.createElement(Z9e.Provider,{value:a},t)}function mT(e,t){var a,s,n=Sa(d=>Ch(d,e)),i=Sa(d=>Ah(d,t)),l=(a=n?.allowDataOverflow)!==null&&a!==void 0?a:No.allowDataOverflow,o=(s=i?.allowDataOverflow)!==null&&s!==void 0?s:So.allowDataOverflow,c=l||o;return{needClip:c,needClipX:l,needClipY:o}}function sQ(e){var{xAxisId:t,yAxisId:a,clipPathId:s}=e,n=hT(),{needClipX:i,needClipY:l,needClip:o}=mT(t,a);if(!o)return null;var{x:c,y:d,width:u,height:f}=n;return w.createElement("clipPath",{id:"clipPath-".concat(s)},w.createElement("rect",{x:i?c:c-u/2,y:l?d:d-f/2,width:i?u:u*2,height:l?f:f*2}))}var eFe=["onMouseEnter","onMouseLeave","onClick"],tFe=["value","background","tooltipPosition"],aFe=["id"],rFe=["onMouseEnter","onClick","onMouseLeave"];function $f(){return $f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},$f.apply(null,arguments)}function VB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,s)}return a}function El(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?VB(Object(a),!0).forEach(function(s){sFe(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):VB(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function sFe(e,t,a){return(t=nFe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function nFe(e){var t=iFe(e,"string");return typeof t=="symbol"?t:t+""}function iFe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fj(e,t){if(e==null)return{};var a,s,n=lFe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function lFe(e,t){if(e==null)return{};var a={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;a[s]=e[s]}return a}var oFe=e=>{var{dataKey:t,name:a,fill:s,legendType:n,hide:i}=e;return[{inactive:i,dataKey:t,type:n,color:s,value:xN(a,t),payload:e}]};function cFe(e){var{dataKey:t,stroke:a,strokeWidth:s,fill:n,name:i,hide:l,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:a,strokeWidth:s,fill:n,dataKey:t,nameKey:void 0,name:xN(i,t),hide:l,type:e.tooltipType,color:e.fill,unit:o}}}function dFe(e){var t=Sa(Sm),{data:a,dataKey:s,background:n,allOtherBarProps:i}=e,{onMouseEnter:l,onMouseLeave:o,onClick:c}=i,d=fj(i,eFe),u=GJ(l,s),f=KJ(o),x=YJ(c,s);if(!n||a==null)return null;var m=eb(n);return w.createElement(w.Fragment,null,a.map((g,v)=>{var{value:b,background:j,tooltipPosition:S}=g,k=fj(g,tFe);if(!j)return null;var N=u(g,v),A=f(g,v),_=x(g,v),D=El(El(El(El(El({option:n,isActive:String(v)===t},k),{},{fill:"#eee"},j),m),r_(d,g,v)),{},{onMouseEnter:N,onMouseLeave:A,onClick:_,dataKey:s,index:v,className:"recharts-bar-background-rectangle"});return w.createElement(fT,$f({key:"background-bar-".concat(v)},D))}))}function uFe(e){var{showLabels:t,children:a,rects:s}=e,n=s?.map(i=>{var l={x:i.x,y:i.y,width:i.width,height:i.height};return El(El({},l),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:l,fill:i.fill})});return w.createElement($J,{value:t?n:void 0},a)}function hFe(e){var{shape:t,activeBar:a,baseProps:s,entry:n,index:i,dataKey:l}=e,o=Sa(Sm),c=Sa(yJ),d=a&&String(i)===o&&(c==null||l===c),u=d?a:t;return w.createElement(fT,$f({},s,{name:String(s.name)},n,{isActive:d,option:u,index:i,dataKey:l}))}function fFe(e){var{shape:t,baseProps:a,entry:s,index:n,dataKey:i}=e;return w.createElement(fT,$f({},a,{name:String(a.name)},s,{isActive:!1,option:t,index:n,dataKey:i}))}function mFe(e){var{data:t,props:a}=e,s=hd(a),{id:n}=s,i=fj(s,aFe),{shape:l,dataKey:o,activeBar:c}=a,{onMouseEnter:d,onClick:u,onMouseLeave:f}=a,x=fj(a,rFe),m=GJ(d,o),g=KJ(f),v=YJ(u,o);return t?w.createElement(w.Fragment,null,t.map((b,j)=>w.createElement(fd,$f({key:"rectangle-".concat(b?.x,"-").concat(b?.y,"-").concat(b?.value,"-").concat(j),className:"recharts-bar-rectangle"},r_(x,b,j),{onMouseEnter:m(b,j),onMouseLeave:g(b,j),onClick:v(b,j)}),c?w.createElement(hFe,{shape:l,activeBar:c,baseProps:i,entry:b,index:j,dataKey:o}):w.createElement(fFe,{shape:l,baseProps:i,entry:b,index:j,dataKey:o})))):null}function pFe(e){var{props:t,previousRectanglesRef:a}=e,{data:s,layout:n,isAnimationActive:i,animationBegin:l,animationDuration:o,animationEasing:c,onAnimationEnd:d,onAnimationStart:u}=t,f=a.current,x=kN(t,"recharts-bar-"),[m,g]=w.useState(!1),v=!m,b=w.useCallback(()=>{typeof d=="function"&&d(),g(!1)},[d]),j=w.useCallback(()=>{typeof u=="function"&&u(),g(!0)},[u]);return w.createElement(uFe,{showLabels:v,rects:s},w.createElement(SN,{animationId:x,begin:l,duration:o,isActive:i,easing:c,onAnimationEnd:b,onAnimationStart:j,key:x},S=>{var k=S===1?s:s?.map((N,A)=>{var _=f&&f[A];if(_)return El(El({},N),{},{x:Fn(_.x,N.x,S),y:Fn(_.y,N.y,S),width:Fn(_.width,N.width,S),height:Fn(_.height,N.height,S)});if(n==="horizontal"){var D=Fn(0,N.height,S);return El(El({},N),{},{y:N.y+N.height-D,height:D})}var P=Fn(0,N.width,S);return El(El({},N),{},{width:P})});return S>0&&(a.current=k??null),k==null?null:w.createElement(fd,null,w.createElement(mFe,{props:t,data:k}))}),w.createElement(zJ,{label:t.label}),t.children)}function xFe(e){var t=w.useRef(null);return w.createElement(pFe,{previousRectanglesRef:t,props:e})}var nQ=0,gFe=(e,t)=>{var a=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:a,errorVal:Si(e,t)}};class vFe extends w.PureComponent{render(){var{hide:t,data:a,dataKey:s,className:n,xAxisId:i,yAxisId:l,needClip:o,background:c,id:d}=this.props;if(t||a==null)return null;var u=Qr("recharts-bar",n),f=d;return w.createElement(fd,{className:u,id:d},o&&w.createElement("defs",null,w.createElement(sQ,{clipPathId:f,xAxisId:i,yAxisId:l})),w.createElement(fd,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(f,")"):void 0},w.createElement(dFe,{data:a,dataKey:s,background:c,allOtherBarProps:this.props}),w.createElement(xFe,this.props)))}}var bFe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Bm.isSsr,legendType:"rect",minPointSize:nQ,xAxisId:0,yAxisId:0};function yFe(e){var{xAxisId:t,yAxisId:a,hide:s,legendType:n,minPointSize:i,activeBar:l,animationBegin:o,animationDuration:c,animationEasing:d,isAnimationActive:u}=e,{needClip:f}=mT(t,a),x=jN(),m=Ol(),g=HRe(e.children,cT),v=Sa(S=>KFe(S,t,a,m,e.id,g));if(x!=="vertical"&&x!=="horizontal")return null;var b,j=v?.[0];return j==null||j.height==null||j.width==null?b=0:b=x==="vertical"?j.height/2:j.width/2,w.createElement(rQ,{xAxisId:t,yAxisId:a,data:v,dataPointFormatter:gFe,errorBarOffset:b},w.createElement(vFe,$f({},e,{layout:x,needClip:f,data:v,xAxisId:t,yAxisId:a,hide:s,legendType:n,minPointSize:i,activeBar:l,animationBegin:o,animationDuration:c,animationEasing:d,isAnimationActive:u})))}function wFe(e){var{layout:t,barSettings:{dataKey:a,minPointSize:s},pos:n,bandSize:i,xAxis:l,yAxis:o,xAxisTicks:c,yAxisTicks:d,stackedData:u,displayedData:f,offset:x,cells:m,parentViewBox:g}=e,v=t==="horizontal"?o:l,b=u?v.scale.domain():null,j=dTe({numericAxis:v});return f.map((S,k)=>{var N,A,_,D,P,I;u?N=sTe(u[k],b):(N=Si(S,a),Array.isArray(N)||(N=[j,N]));var B=q9e(s,nQ)(N[1],k);if(t==="horizontal"){var O,[U,E]=[o.scale(N[0]),o.scale(N[1])];A=TF({axis:l,ticks:c,bandSize:i,offset:n.offset,entry:S,index:k}),_=(O=E??U)!==null&&O!==void 0?O:void 0,D=n.size;var R=U-E;if(P=jc(R)?0:R,I={x:A,y:x.top,width:D,height:x.height},Math.abs(B)>0&&Math.abs(P)<Math.abs(B)){var K=Zl(P||B)*(Math.abs(B)-Math.abs(P));_-=K,P+=K}}else{var[V,Z]=[l.scale(N[0]),l.scale(N[1])];if(A=V,_=TF({axis:o,ticks:d,bandSize:i,offset:n.offset,entry:S,index:k}),D=Z-V,P=n.size,I={x:x.left,y:_,width:x.width,height:P},Math.abs(B)>0&&Math.abs(D)<Math.abs(B)){var J=Zl(D||B)*(Math.abs(B)-Math.abs(D));D+=J}}if(A==null||_==null||D==null||P==null)return null;var ee=El(El({},S),{},{x:A,y:_,width:D,height:P,value:u?N:N[1],payload:S,background:I,tooltipPosition:{x:A+D/2,y:_+P/2},parentViewBox:g},m&&m[k]&&m[k].props);return ee}).filter(Boolean)}function jFe(e){var t=lo(e,bFe),a=Ol();return w.createElement(QJ,{id:t.id,type:"bar"},s=>w.createElement(w.Fragment,null,w.createElement(JJ,{legendPayload:oFe(t)}),w.createElement(XJ,{fn:cFe,args:t}),w.createElement(eQ,{type:"bar",id:s,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:cTe(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:a}),w.createElement(yFe,$f({},t,{id:s}))))}var iQ=w.memo(jFe);iQ.displayName="Bar";function WB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,s)}return a}function k2(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?WB(Object(a),!0).forEach(function(s){NFe(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):WB(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function NFe(e,t,a){return(t=SFe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function SFe(e){var t=kFe(e,"string");return typeof t=="symbol"?t:t+""}function kFe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CFe=(e,t)=>t,AFe=(e,t,a)=>a,_Fe=(e,t,a,s)=>s,TFe=(e,t,a,s,n)=>n,pb=bt([UN,TFe],(e,t)=>e.filter(a=>a.type==="bar").find(a=>a.id===t)),EFe=bt([pb],e=>e?.maxBarSize),DFe=(e,t,a,s,n,i)=>i,qB=(e,t,a)=>{var s=a??e;if(!Os(s))return md(s,t,0)},MFe=bt([Or,UN,CFe,AFe,_Fe],(e,t,a,s,n)=>t.filter(i=>e==="horizontal"?i.xAxisId===a:i.yAxisId===s).filter(i=>i.isPanorama===n).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),PFe=(e,t,a,s)=>{var n=Or(e);return n==="horizontal"?S6(e,"yAxis",a,s):S6(e,"xAxis",t,s)},LFe=(e,t,a)=>{var s=Or(e);return s==="horizontal"?JI(e,"xAxis",t):JI(e,"yAxis",a)},OFe=(e,t,a)=>{var s={},n=e.filter(IN),i=e.filter(d=>d.stackId==null),l=n.reduce((d,u)=>(d[u.stackId]||(d[u.stackId]=[]),d[u.stackId].push(u),d),s),o=Object.entries(l).map(d=>{var[u,f]=d,x=f.map(g=>g.dataKey),m=qB(t,a,f[0].barSize);return{stackId:u,dataKeys:x,barSize:m}}),c=i.map(d=>{var u=[d.dataKey].filter(x=>x!=null),f=qB(t,a,d.barSize);return{stackId:void 0,dataKeys:u,barSize:f}});return[...o,...c]},RFe=bt([MFe,tPe,LFe],OFe),FFe=(e,t,a,s,n)=>{var i,l,o=pb(e,t,a,s,n);if(o!=null){var c=Or(e),d=oX(e),{maxBarSize:u}=o,f=Os(u)?d:u,x,m;return c==="horizontal"?(x=Bf(e,"xAxis",t,s),m=If(e,"xAxis",t,s)):(x=Bf(e,"yAxis",a,s),m=If(e,"yAxis",a,s)),(i=(l=wv(x,m,!0))!==null&&l!==void 0?l:f)!==null&&i!==void 0?i:0}},lQ=(e,t,a,s)=>{var n=Or(e),i,l;return n==="horizontal"?(i=Bf(e,"xAxis",t,s),l=If(e,"xAxis",t,s)):(i=Bf(e,"yAxis",a,s),l=If(e,"yAxis",a,s)),wv(i,l)};function IFe(e,t,a,s,n){var i=s.length;if(!(i<1)){var l=md(e,a,0,!0),o,c=[];if(pl(s[0].barSize)){var d=!1,u=a/i,f=s.reduce((j,S)=>j+(S.barSize||0),0);f+=(i-1)*l,f>=a&&(f-=(i-1)*l,l=0),f>=a&&u>0&&(d=!0,u*=.9,f=i*u);var x=(a-f)/2>>0,m={offset:x-l,size:0};o=s.reduce((j,S)=>{var k,N={stackId:S.stackId,dataKeys:S.dataKeys,position:{offset:m.offset+m.size+l,size:d?u:(k=S.barSize)!==null&&k!==void 0?k:0}},A=[...j,N];return m=A[A.length-1].position,A},c)}else{var g=md(t,a,0,!0);a-2*g-(i-1)*l<=0&&(l=0);var v=(a-2*g-(i-1)*l)/i;v>1&&(v>>=0);var b=pl(n)?Math.min(v,n):v;o=s.reduce((j,S,k)=>[...j,{stackId:S.stackId,dataKeys:S.dataKeys,position:{offset:g+(v+l)*k+(v-b)/2,size:b}}],c)}return o}}var BFe=(e,t,a,s,n,i,l)=>{var o=Os(l)?t:l,c=IFe(a,s,n!==i?n:i,e,o);return n!==i&&c!=null&&(c=c.map(d=>k2(k2({},d),{},{position:k2(k2({},d.position),{},{offset:d.position.offset-n/2})}))),c},$Fe=bt([RFe,oX,ePe,cX,FFe,lQ,EFe],BFe),UFe=(e,t,a,s)=>Bf(e,"xAxis",t,s),zFe=(e,t,a,s)=>Bf(e,"yAxis",a,s),HFe=(e,t,a,s)=>If(e,"xAxis",t,s),VFe=(e,t,a,s)=>If(e,"yAxis",a,s),WFe=bt([$Fe,pb],(e,t)=>{if(!(e==null||t==null)){var a=e.find(s=>s.stackId===t.stackId&&t.dataKey!=null&&s.dataKeys.includes(t.dataKey));if(a!=null)return a.position}}),qFe=(e,t)=>{var a=V_(t);if(!(!e||a==null||t==null)){var{stackId:s}=t;if(s!=null){var n=e[s];if(n){var{stackedData:i}=n;if(i)return i.find(l=>l.key===a)}}}},GFe=bt([PFe,pb],qFe),KFe=bt([ki,u_,UFe,zFe,HFe,VFe,WFe,Or,MN,lQ,GFe,pb,DFe],(e,t,a,s,n,i,l,o,c,d,u,f,x)=>{var{chartData:m,dataStartIndex:g,dataEndIndex:v}=c;if(!(f==null||l==null||t==null||o!=="horizontal"&&o!=="vertical"||a==null||s==null||n==null||i==null||d==null)){var{data:b}=f,j;if(b!=null&&b.length>0?j=b:j=m?.slice(g,v+1),j!=null)return wFe({layout:o,barSettings:f,pos:l,parentViewBox:t,bandSize:d,xAxis:a,yAxis:s,xAxisTicks:n,yAxisTicks:i,stackedData:u,displayedData:j,offset:e,cells:x})}}),YFe=e=>{var{chartData:t}=e,a=ri(),s=Ol();return w.useEffect(()=>s?()=>{}:(a(lB(t)),()=>{a(lB(void 0))}),[t,a,s]),null},GB={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},oQ=Fo({name:"brush",initialState:GB,reducers:{setBrushSettings(e,t){return t.payload==null?GB:t.payload}}}),{setBrushSettings:$ze}=oQ.actions,XFe=oQ.reducer;function JFe(e,t,a){return(t=QFe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function QFe(e){var t=ZFe(e,"string");return typeof t=="symbol"?t:t+""}function ZFe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class pT{static create(t){return new pT(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:a,position:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(s)switch(s){case"start":return this.scale(t);case"middle":{var n=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+n}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var a=this.range(),s=a[0],n=a[a.length-1];return s<=n?t>=s&&t<=n:t>=n&&t<=s}}JFe(pT,"EPS",1e-4);function eIe(e){return(e%180+180)%180}var tIe=function(t){var{width:a,height:s}=t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=eIe(n),l=i*Math.PI/180,o=Math.atan(s/a),c=l>o&&l<Math.PI-o?s/Math.sin(l):a/Math.cos(l);return Math.abs(c)},aIe={dots:[],areas:[],lines:[]},cQ=Fo({name:"referenceElements",initialState:aIe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var a=ih(e).dots.findIndex(s=>s===t.payload);a!==-1&&e.dots.splice(a,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var a=ih(e).areas.findIndex(s=>s===t.payload);a!==-1&&e.areas.splice(a,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var a=ih(e).lines.findIndex(s=>s===t.payload);a!==-1&&e.lines.splice(a,1)}}}),{addDot:Uze,removeDot:zze,addArea:Hze,removeArea:Vze,addLine:Wze,removeLine:qze}=cQ.actions,rIe=cQ.reducer,sIe=w.createContext(void 0),nIe=e=>{var{children:t}=e,[a]=w.useState("".concat(gv("recharts"),"-clip")),s=hT();if(s==null)return null;var{x:n,y:i,width:l,height:o}=s;return w.createElement(sIe.Provider,{value:a},w.createElement("defs",null,w.createElement("clipPath",{id:a},w.createElement("rect",{x:n,y:i,height:o,width:l}))),t)};function gx(e,t){for(var a in e)if({}.hasOwnProperty.call(e,a)&&(!{}.hasOwnProperty.call(t,a)||e[a]!==t[a]))return!1;for(var s in t)if({}.hasOwnProperty.call(t,s)&&!{}.hasOwnProperty.call(e,s))return!1;return!0}function dQ(e,t,a){if(t<1)return[];if(t===1&&a===void 0)return e;for(var s=[],n=0;n<e.length;n+=t)s.push(e[n]);return s}function iIe(e,t,a){var s={width:e.width+t.width,height:e.height+t.height};return tIe(s,a)}function lIe(e,t,a){var s=a==="width",{x:n,y:i,width:l,height:o}=e;return t===1?{start:s?n:i,end:s?n+l:i+o}:{start:s?n+l:i+o,end:s?n:i}}function mj(e,t,a,s,n){if(e*t<e*s||e*t>e*n)return!1;var i=a();return e*(t-e*i/2-s)>=0&&e*(t+e*i/2-n)<=0}function oIe(e,t){return dQ(e,t+1)}function cIe(e,t,a,s,n){for(var i=(s||[]).slice(),{start:l,end:o}=t,c=0,d=1,u=l,f=function(){var g=s?.[c];if(g===void 0)return{v:dQ(s,d)};var v=c,b,j=()=>(b===void 0&&(b=a(g,v)),b),S=g.coordinate,k=c===0||mj(e,S,j,u,o);k||(c=0,u=l,d+=1),k&&(u=S+e*(j()/2+n),c+=d)},x;d<=i.length;)if(x=f(),x)return x.v;return[]}function KB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,s)}return a}function al(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?KB(Object(a),!0).forEach(function(s){dIe(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):KB(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function dIe(e,t,a){return(t=uIe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function uIe(e){var t=hIe(e,"string");return typeof t=="symbol"?t:t+""}function hIe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fIe(e,t,a,s,n){for(var i=(s||[]).slice(),l=i.length,{start:o}=t,{end:c}=t,d=function(x){var m=i[x],g,v=()=>(g===void 0&&(g=a(m,x)),g);if(x===l-1){var b=e*(m.coordinate+e*v()/2-c);i[x]=m=al(al({},m),{},{tickCoord:b>0?m.coordinate-b*e:m.coordinate})}else i[x]=m=al(al({},m),{},{tickCoord:m.coordinate});var j=mj(e,m.tickCoord,v,o,c);j&&(c=m.tickCoord-e*(v()/2+n),i[x]=al(al({},m),{},{isShow:!0}))},u=l-1;u>=0;u--)d(u);return i}function mIe(e,t,a,s,n,i){var l=(s||[]).slice(),o=l.length,{start:c,end:d}=t;if(i){var u=s[o-1],f=a(u,o-1),x=e*(u.coordinate+e*f/2-d);l[o-1]=u=al(al({},u),{},{tickCoord:x>0?u.coordinate-x*e:u.coordinate});var m=mj(e,u.tickCoord,()=>f,c,d);m&&(d=u.tickCoord-e*(f/2+n),l[o-1]=al(al({},u),{},{isShow:!0}))}for(var g=i?o-1:o,v=function(S){var k=l[S],N,A=()=>(N===void 0&&(N=a(k,S)),N);if(S===0){var _=e*(k.coordinate-e*A()/2-c);l[S]=k=al(al({},k),{},{tickCoord:_<0?k.coordinate-_*e:k.coordinate})}else l[S]=k=al(al({},k),{},{tickCoord:k.coordinate});var D=mj(e,k.tickCoord,A,c,d);D&&(c=k.tickCoord+e*(A()/2+n),l[S]=al(al({},k),{},{isShow:!0}))},b=0;b<g;b++)v(b);return l}function xT(e,t,a){var{tick:s,ticks:n,viewBox:i,minTickGap:l,orientation:o,interval:c,tickFormatter:d,unit:u,angle:f}=e;if(!n||!n.length||!s)return[];if(Ca(c)||Bm.isSsr){var x;return(x=oIe(n,Ca(c)?c:0))!==null&&x!==void 0?x:[]}var m=[],g=o==="top"||o==="bottom"?"width":"height",v=u&&g==="width"?L1(u,{fontSize:t,letterSpacing:a}):{width:0,height:0},b=(k,N)=>{var A=typeof d=="function"?d(k.value,N):k.value;return g==="width"?iIe(L1(A,{fontSize:t,letterSpacing:a}),v,f):L1(A,{fontSize:t,letterSpacing:a})[g]},j=n.length>=2?Zl(n[1].coordinate-n[0].coordinate):1,S=lIe(i,j,g);return c==="equidistantPreserveStart"?cIe(j,S,b,n,l):(c==="preserveStart"||c==="preserveStartEnd"?m=mIe(j,S,b,n,l,c==="preserveStartEnd"):m=fIe(j,S,b,n,l),m.filter(k=>k.isShow))}var pIe=e=>{var{ticks:t,label:a,labelGapWithTick:s=5,tickSize:n=0,tickMargin:i=0}=e,l=0;if(t){Array.from(t).forEach(u=>{if(u){var f=u.getBoundingClientRect();f.width>l&&(l=f.width)}});var o=a?a.getBoundingClientRect().width:0,c=n+i,d=l+c+o+(a?s:0);return Math.round(d)}return 0},xIe=["axisLine","width","height","className","hide","ticks"],gIe=["viewBox"],vIe=["viewBox"];function M6(e,t){if(e==null)return{};var a,s,n=bIe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function bIe(e,t){if(e==null)return{};var a={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;a[s]=e[s]}return a}function km(){return km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},km.apply(null,arguments)}function YB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,s)}return a}function Xn(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?YB(Object(a),!0).forEach(function(s){yIe(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):YB(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function yIe(e,t,a){return(t=wIe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function wIe(e){var t=jIe(e,"string");return typeof t=="symbol"?t:t+""}function jIe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gT={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function NIe(e){var{x:t,y:a,width:s,height:n,orientation:i,mirror:l,axisLine:o,otherSvgProps:c}=e;if(!o)return null;var d=Xn(Xn(Xn({},c),hd(o)),{},{fill:"none"});if(i==="top"||i==="bottom"){var u=+(i==="top"&&!l||i==="bottom"&&l);d=Xn(Xn({},d),{},{x1:t,y1:a+u*n,x2:t+s,y2:a+u*n})}else{var f=+(i==="left"&&!l||i==="right"&&l);d=Xn(Xn({},d),{},{x1:t+f*s,y1:a,x2:t+f*s,y2:a+n})}return w.createElement("line",km({},d,{className:Qr("recharts-cartesian-axis-line",hx(o,"className"))}))}function SIe(e,t,a,s,n,i,l,o,c){var d,u,f,x,m,g,v=o?-1:1,b=e.tickSize||l,j=Ca(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":d=u=e.coordinate,x=a+ +!o*n,f=x-v*b,g=f-v*c,m=j;break;case"left":f=x=e.coordinate,u=t+ +!o*s,d=u-v*b,m=d-v*c,g=j;break;case"right":f=x=e.coordinate,u=t+ +o*s,d=u+v*b,m=d+v*c,g=j;break;default:d=u=e.coordinate,x=a+ +o*n,f=x+v*b,g=f+v*c,m=j;break}return{line:{x1:d,y1:f,x2:u,y2:x},tick:{x:m,y:g}}}function kIe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function CIe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function AIe(e){var{option:t,tickProps:a,value:s}=e,n,i=Qr(a.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(t))n=w.cloneElement(t,Xn(Xn({},a),{},{className:i}));else if(typeof t=="function")n=t(Xn(Xn({},a),{},{className:i}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=Qr(l,t?.className)),n=w.createElement(dT,km({},a,{className:l}),s)}return n}function _Ie(e){var{ticks:t=[],tick:a,tickLine:s,stroke:n,tickFormatter:i,unit:l,padding:o,tickTextProps:c,orientation:d,mirror:u,x:f,y:x,width:m,height:g,tickSize:v,tickMargin:b,fontSize:j,letterSpacing:S,getTicksConfig:k,events:N}=e,A=xT(Xn(Xn({},k),{},{ticks:t}),j,S),_=kIe(d,u),D=CIe(d,u),P=hd(k),I=eb(a),B={};typeof s=="object"&&(B=s);var O=Xn(Xn({},P),{},{fill:"none"},B),U=A.map((E,R)=>{var{line:K,tick:V}=SIe(E,f,x,m,g,d,v,u,b),Z=Xn(Xn(Xn(Xn({textAnchor:_,verticalAnchor:D},P),{},{stroke:"none",fill:n},I),V),{},{index:R,payload:E,visibleTicksCount:A.length,tickFormatter:i,padding:o},c);return w.createElement(fd,km({className:"recharts-cartesian-axis-tick",key:"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord)},r_(N,E,R)),s&&w.createElement("line",km({},O,K,{className:Qr("recharts-cartesian-axis-tick-line",hx(s,"className"))})),a&&w.createElement(AIe,{option:a,tickProps:Z,value:"".concat(typeof i=="function"?i(E.value,R):E.value).concat(l||"")}))});return U.length>0?w.createElement("g",{className:"recharts-cartesian-axis-ticks"},U):null}var TIe=w.forwardRef((e,t)=>{var{axisLine:a,width:s,height:n,className:i,hide:l,ticks:o}=e,c=M6(e,xIe),[d,u]=w.useState(""),[f,x]=w.useState(""),m=w.useRef(null);w.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var v;return pIe({ticks:m.current,label:(v=e.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=w.useCallback(v=>{if(v){var b=v.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=b;var j=b[0];if(j){var S=window.getComputedStyle(j),k=S.fontSize,N=S.letterSpacing;(k!==d||N!==f)&&(u(k),x(N))}}},[d,f]);return l||s!=null&&s<=0||n!=null&&n<=0?null:w.createElement(fd,{className:Qr("recharts-cartesian-axis",i),ref:g},w.createElement(NIe,{x:e.x,y:e.y,width:s,height:n,orientation:e.orientation,mirror:e.mirror,axisLine:a,otherSvgProps:hd(e)}),w.createElement(_Ie,{ticks:o,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:d,letterSpacing:f,getTicksConfig:e,events:c}),w.createElement(pRe,{x:e.x,y:e.y,width:e.width,height:e.height},w.createElement(kRe,{label:e.label,labelRef:e.labelRef}),e.children))}),EIe=w.memo(TIe,(e,t)=>{var{viewBox:a}=e,s=M6(e,gIe),{viewBox:n}=t,i=M6(t,vIe);return gx(a,n)&&gx(s,i)}),vT=w.forwardRef((e,t)=>{var a=lo(e,gT);return w.createElement(EIe,km({},a,{ref:t}))});vT.displayName="CartesianAxis";var DIe=["x1","y1","x2","y2","key"],MIe=["offset"],PIe=["xAxisId","yAxisId"],LIe=["xAxisId","yAxisId"];function XB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,s)}return a}function ll(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?XB(Object(a),!0).forEach(function(s){OIe(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):XB(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function OIe(e,t,a){return(t=RIe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function RIe(e){var t=FIe(e,"string");return typeof t=="symbol"?t:t+""}function FIe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H0(){return H0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},H0.apply(null,arguments)}function pj(e,t){if(e==null)return{};var a,s,n=IIe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function IIe(e,t){if(e==null)return{};var a={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;a[s]=e[s]}return a}var BIe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:a,x:s,y:n,width:i,height:l,ry:o}=e;return w.createElement("rect",{x:s,y:n,ry:o,width:i,height:l,stroke:"none",fill:t,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function uQ(e,t){var a;if(w.isValidElement(e))a=w.cloneElement(e,t);else if(typeof e=="function")a=e(t);else{var{x1:s,y1:n,x2:i,y2:l,key:o}=t,c=pj(t,DIe),d=hd(c),{offset:u}=d,f=pj(d,MIe);a=w.createElement("line",H0({},f,{x1:s,y1:n,x2:i,y2:l,fill:"none",key:o}))}return a}function $Ie(e){var{x:t,width:a,horizontal:s=!0,horizontalPoints:n}=e;if(!s||!n||!n.length)return null;var{xAxisId:i,yAxisId:l}=e,o=pj(e,PIe),c=n.map((d,u)=>{var f=ll(ll({},o),{},{x1:t,y1:d,x2:t+a,y2:d,key:"line-".concat(u),index:u});return uQ(s,f)});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function UIe(e){var{y:t,height:a,vertical:s=!0,verticalPoints:n}=e;if(!s||!n||!n.length)return null;var{xAxisId:i,yAxisId:l}=e,o=pj(e,LIe),c=n.map((d,u)=>{var f=ll(ll({},o),{},{x1:d,y1:t,x2:d,y2:t+a,key:"line-".concat(u),index:u});return uQ(s,f)});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function zIe(e){var{horizontalFill:t,fillOpacity:a,x:s,y:n,width:i,height:l,horizontalPoints:o,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var d=o.map(f=>Math.round(f+n-n)).sort((f,x)=>f-x);n!==d[0]&&d.unshift(0);var u=d.map((f,x)=>{var m=!d[x+1],g=m?n+l-f:d[x+1]-f;if(g<=0)return null;var v=x%t.length;return w.createElement("rect",{key:"react-".concat(x),y:f,x:s,height:g,width:i,stroke:"none",fill:t[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function HIe(e){var{vertical:t=!0,verticalFill:a,fillOpacity:s,x:n,y:i,width:l,height:o,verticalPoints:c}=e;if(!t||!a||!a.length)return null;var d=c.map(f=>Math.round(f+n-n)).sort((f,x)=>f-x);n!==d[0]&&d.unshift(0);var u=d.map((f,x)=>{var m=!d[x+1],g=m?n+l-f:d[x+1]-f;if(g<=0)return null;var v=x%a.length;return w.createElement("rect",{key:"react-".concat(x),x:f,y:i,width:g,height:o,stroke:"none",fill:a[v],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var VIe=(e,t)=>{var{xAxis:a,width:s,height:n,offset:i}=e;return qK(xT(ll(ll(ll({},gT),a),{},{ticks:GK(a),viewBox:{x:0,y:0,width:s,height:n}})),i.left,i.left+i.width,t)},WIe=(e,t)=>{var{yAxis:a,width:s,height:n,offset:i}=e;return qK(xT(ll(ll(ll({},gT),a),{},{ticks:GK(a),viewBox:{x:0,y:0,width:s,height:n}})),i.top,i.top+i.height,t)},qIe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function P6(e){var t=ZK(),a=eY(),s=QK(),n=ll(ll({},lo(e,qIe)),{},{x:Ca(e.x)?e.x:s.left,y:Ca(e.y)?e.y:s.top,width:Ca(e.width)?e.width:s.width,height:Ca(e.height)?e.height:s.height}),{xAxisId:i,yAxisId:l,x:o,y:c,width:d,height:u,syncWithTicks:f,horizontalValues:x,verticalValues:m}=n,g=Ol(),v=Sa(I=>QI(I,"xAxis",i,g)),b=Sa(I=>QI(I,"yAxis",l,g));if(!Ca(d)||d<=0||!Ca(u)||u<=0||!Ca(o)||o!==+o||!Ca(c)||c!==+c)return null;var j=n.verticalCoordinatesGenerator||VIe,S=n.horizontalCoordinatesGenerator||WIe,{horizontalPoints:k,verticalPoints:N}=n;if((!k||!k.length)&&typeof S=="function"){var A=x&&x.length,_=S({yAxis:b?ll(ll({},b),{},{ticks:A?x:b.ticks}):void 0,width:t,height:a,offset:s},A?!0:f);Ww(Array.isArray(_),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(k=_)}if((!N||!N.length)&&typeof j=="function"){var D=m&&m.length,P=j({xAxis:v?ll(ll({},v),{},{ticks:D?m:v.ticks}):void 0,width:t,height:a,offset:s},D?!0:f);Ww(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(N=P)}return w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(BIe,{fill:n.fill,fillOpacity:n.fillOpacity,x:n.x,y:n.y,width:n.width,height:n.height,ry:n.ry}),w.createElement(zIe,H0({},n,{horizontalPoints:k})),w.createElement(HIe,H0({},n,{verticalPoints:N})),w.createElement($Ie,H0({},n,{offset:s,horizontalPoints:k,xAxis:v,yAxis:b})),w.createElement(UIe,H0({},n,{offset:s,verticalPoints:N,xAxis:v,yAxis:b})))}P6.displayName="CartesianGrid";var hQ=(e,t,a,s)=>Bf(e,"xAxis",t,s),fQ=(e,t,a,s)=>If(e,"xAxis",t,s),mQ=(e,t,a,s)=>Bf(e,"yAxis",a,s),pQ=(e,t,a,s)=>If(e,"yAxis",a,s),GIe=bt([Or,hQ,mQ,fQ,pQ],(e,t,a,s,n)=>Kf(e,"xAxis")?wv(t,s,!1):wv(a,n,!1)),KIe=(e,t,a,s,n)=>n;function YIe(e){return e.type==="line"}var XIe=bt([UN,KIe],(e,t)=>e.filter(YIe).find(a=>a.id===t)),JIe=bt([Or,hQ,mQ,fQ,pQ,XIe,GIe,MN],(e,t,a,s,n,i,l,o)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:u}=o;if(!(i==null||t==null||a==null||s==null||n==null||s.length===0||n.length===0||l==null)){var{dataKey:f,data:x}=i,m;if(x!=null&&x.length>0?m=x:m=c?.slice(d,u+1),m!=null)return yBe({layout:e,xAxis:t,yAxis:a,xAxisTicks:s,yAxisTicks:n,dataKey:f,bandSize:l,displayedData:m})}});function QIe(e){var t=eb(e),a=3,s=2;if(t!=null){var{r:n,strokeWidth:i}=t,l=Number(n),o=Number(i);return(Number.isNaN(l)||l<0)&&(l=a),(Number.isNaN(o)||o<0)&&(o=s),{r:l,strokeWidth:o}}return{r:a,strokeWidth:s}}var ZIe=["id"],eBe=["type","layout","connectNulls","needClip"],tBe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function JB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,s)}return a}function To(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?JB(Object(a),!0).forEach(function(s){aBe(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):JB(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function aBe(e,t,a){return(t=rBe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function rBe(e){var t=sBe(e,"string");return typeof t=="symbol"?t:t+""}function sBe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bT(e,t){if(e==null)return{};var a,s,n=nBe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function nBe(e,t){if(e==null)return{};var a={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;a[s]=e[s]}return a}function Cm(){return Cm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},Cm.apply(null,arguments)}var iBe=e=>{var{dataKey:t,name:a,stroke:s,legendType:n,hide:i}=e;return[{inactive:i,dataKey:t,type:n,color:s,value:xN(a,t),payload:e}]};function lBe(e){var{dataKey:t,data:a,stroke:s,strokeWidth:n,fill:i,name:l,hide:o,unit:c}=e;return{dataDefinedOnItem:a,positions:void 0,settings:{stroke:s,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:xN(l,t),hide:o,type:e.tooltipType,color:e.stroke,unit:c}}}var xQ=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function oBe(e,t){for(var a=e.length%2!==0?[...e,0]:e,s=[],n=0;n<t;++n)s=[...s,...a];return s}var cBe=(e,t,a)=>{var s=a.reduce((f,x)=>f+x);if(!s)return xQ(t,e);for(var n=Math.floor(e/s),i=e%s,l=t-e,o=[],c=0,d=0;c<a.length;d+=a[c],++c)if(d+a[c]>i){o=[...a.slice(0,c),i-d];break}var u=o.length%2===0?[0,l]:[l];return[...oBe(a,n),...o,...u].map(f=>"".concat(f,"px")).join(", ")};function dBe(e,t){var a;if(w.isValidElement(e))a=w.cloneElement(e,t);else if(typeof e=="function")a=e(t);else{var s=Qr("recharts-line-dot",typeof e!="boolean"?e.className:"");a=w.createElement(HJ,Cm({},t,{className:s}))}return a}function uBe(e,t){return e==null?!1:t?!0:e.length===1}function hBe(e){var{clipPathId:t,points:a,props:s}=e,{dot:n,dataKey:i,needClip:l}=s;if(!uBe(a,n))return null;var{id:o}=s,c=bT(s,ZIe),d=qJ(n),u=hd(c),f=Y6e(n),x=a.map((g,v)=>{var b=To(To(To({key:"dot-".concat(v),r:3},u),f),{},{index:v,cx:g.x,cy:g.y,dataKey:i,value:g.value,payload:g.payload,points:a});return dBe(n,b)}),m={clipPath:l?"url(#clipPath-".concat(d?"":"dots-").concat(t,")"):void 0};return w.createElement(fd,Cm({className:"recharts-line-dots",key:"dots"},m),x)}function fBe(e){var{showLabels:t,children:a,points:s}=e,n=w.useMemo(()=>s?.map(i=>{var l={x:i.x,y:i.y,width:0,height:0};return To(To({},l),{},{value:i.value,payload:i.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[s]);return w.createElement($J,{value:t?n:null},a)}function QB(e){var{clipPathId:t,pathRef:a,points:s,strokeDasharray:n,props:i}=e,{type:l,layout:o,connectNulls:c,needClip:d}=i,u=bT(i,eBe),f=To(To({},Ll(u)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(t,")"):void 0,points:s,type:l,layout:o,connectNulls:c,strokeDasharray:n??i.strokeDasharray});return w.createElement(w.Fragment,null,s?.length>1&&w.createElement(rY,Cm({},f,{pathRef:a})),w.createElement(hBe,{points:s,clipPathId:t,props:i}))}function mBe(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function pBe(e){var{clipPathId:t,props:a,pathRef:s,previousPointsRef:n,longestAnimatedLengthRef:i}=e,{points:l,strokeDasharray:o,isAnimationActive:c,animationBegin:d,animationDuration:u,animationEasing:f,animateNewValues:x,width:m,height:g,onAnimationEnd:v,onAnimationStart:b}=a,j=n.current,S=kN(a,"recharts-line-"),[k,N]=w.useState(!1),A=!k,_=w.useCallback(()=>{typeof v=="function"&&v(),N(!1)},[v]),D=w.useCallback(()=>{typeof b=="function"&&b(),N(!0)},[b]),P=mBe(s.current),I=i.current;return w.createElement(fBe,{points:l,showLabels:A},a.children,w.createElement(SN,{animationId:S,begin:d,duration:u,isActive:c,easing:f,onAnimationEnd:_,onAnimationStart:D,key:S},B=>{var O=Fn(I,P+I,B),U=Math.min(O,P),E;if(c)if(o){var R="".concat(o).split(/[,\s]+/gim).map(Z=>parseFloat(Z));E=cBe(U,P,R)}else E=xQ(P,U);else E=o==null?void 0:String(o);if(j){var K=j.length/l.length,V=B===1?l:l.map((Z,J)=>{var ee=Math.floor(J*K);if(j[ee]){var W=j[ee];return To(To({},Z),{},{x:Fn(W.x,Z.x,B),y:Fn(W.y,Z.y,B)})}return x?To(To({},Z),{},{x:Fn(m*2,Z.x,B),y:Fn(g/2,Z.y,B)}):To(To({},Z),{},{x:Z.x,y:Z.y})});return n.current=V,w.createElement(QB,{props:a,points:V,clipPathId:t,pathRef:s,strokeDasharray:E})}return B>0&&P>0&&(n.current=l,i.current=U),w.createElement(QB,{props:a,points:l,clipPathId:t,pathRef:s,strokeDasharray:E})}),w.createElement(zJ,{label:a.label}))}function xBe(e){var{clipPathId:t,props:a}=e,s=w.useRef(null),n=w.useRef(0),i=w.useRef(null);return w.createElement(pBe,{props:a,clipPathId:t,previousPointsRef:s,longestAnimatedLengthRef:n,pathRef:i})}var gBe=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Si(e.payload,t)});class vBe extends w.Component{render(){var{hide:t,dot:a,points:s,className:n,xAxisId:i,yAxisId:l,top:o,left:c,width:d,height:u,id:f,needClip:x}=this.props;if(t)return null;var m=Qr("recharts-line",n),g=f,{r:v,strokeWidth:b}=QIe(a),j=qJ(a),S=v*2+b;return w.createElement(w.Fragment,null,w.createElement(fd,{className:m},x&&w.createElement("defs",null,w.createElement(sQ,{clipPathId:g,xAxisId:i,yAxisId:l}),!j&&w.createElement("clipPath",{id:"clipPath-dots-".concat(g)},w.createElement("rect",{x:c-S/2,y:o-S/2,width:d+S,height:u+S}))),w.createElement(rQ,{xAxisId:i,yAxisId:l,data:s,dataPointFormatter:gBe,errorBarOffset:0},w.createElement(xBe,{props:this.props,clipPathId:g}))),w.createElement(R9e,{activeDot:this.props.activeDot,points:s,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var gQ={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Bm.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function bBe(e){var t=lo(e,gQ),{activeDot:a,animateNewValues:s,animationBegin:n,animationDuration:i,animationEasing:l,connectNulls:o,dot:c,hide:d,isAnimationActive:u,label:f,legendType:x,xAxisId:m,yAxisId:g,id:v}=t,b=bT(t,tBe),{needClip:j}=mT(m,g),S=hT(),k=jN(),N=Ol(),A=Sa(B=>JIe(B,m,g,N,v));if(k!=="horizontal"&&k!=="vertical"||A==null||S==null)return null;var{height:_,width:D,x:P,y:I}=S;return w.createElement(vBe,Cm({},b,{id:v,connectNulls:o,dot:c,activeDot:a,animateNewValues:s,animationBegin:n,animationDuration:i,animationEasing:l,isAnimationActive:u,hide:d,label:f,legendType:x,xAxisId:m,yAxisId:g,points:A,layout:k,height:_,width:D,left:P,top:I,needClip:j}))}function yBe(e){var{layout:t,xAxis:a,yAxis:s,xAxisTicks:n,yAxisTicks:i,dataKey:l,bandSize:o,displayedData:c}=e;return c.map((d,u)=>{var f=Si(d,l);if(t==="horizontal"){var x=_F({axis:a,ticks:n,bandSize:o,entry:d,index:u}),m=Os(f)?null:s.scale(f);return{x,y:m,value:f,payload:d}}var g=Os(f)?null:a.scale(f),v=_F({axis:s,ticks:i,bandSize:o,entry:d,index:u});return g==null||v==null?null:{x:g,y:v,value:f,payload:d}}).filter(Boolean)}function wBe(e){var t=lo(e,gQ),a=Ol();return w.createElement(QJ,{id:t.id,type:"line"},s=>w.createElement(w.Fragment,null,w.createElement(JJ,{legendPayload:iBe(t)}),w.createElement(XJ,{fn:lBe,args:t}),w.createElement(eQ,{type:"line",id:s,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:a}),w.createElement(bBe,Cm({},t,{id:s}))))}var xj=w.memo(wBe);xj.displayName="Line";var jBe=["dangerouslySetInnerHTML","ticks"],NBe=["id"],SBe=["domain"],kBe=["domain"];function L6(){return L6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},L6.apply(null,arguments)}function gj(e,t){if(e==null)return{};var a,s,n=CBe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function CBe(e,t){if(e==null)return{};var a={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;a[s]=e[s]}return a}function ABe(e){var t=ri();return w.useLayoutEffect(()=>(t(N9e(e)),()=>{t(S9e(e))}),[e,t]),null}var _Be=e=>{var{xAxisId:t,className:a}=e,s=Sa(u_),n=Ol(),i="xAxis",l=Sa(b=>Ix(b,i,t,n)),o=Sa(b=>ZX(b,i,t,n)),c=Sa(b=>YX(b,t)),d=Sa(b=>YPe(b,t)),u=Sa(b=>vX(b,t));if(c==null||d==null||u==null)return null;var{dangerouslySetInnerHTML:f,ticks:x}=e,m=gj(e,jBe),{id:g}=u,v=gj(u,NBe);return w.createElement(vT,L6({},m,v,{scale:l,x:d.x,y:d.y,width:c.width,height:c.height,className:Qr("recharts-".concat(i," ").concat(i),a),viewBox:s,ticks:o}))},TBe={allowDataOverflow:No.allowDataOverflow,allowDecimals:No.allowDecimals,allowDuplicatedCategory:No.allowDuplicatedCategory,height:No.height,hide:!1,mirror:No.mirror,orientation:No.orientation,padding:No.padding,reversed:No.reversed,scale:No.scale,tickCount:No.tickCount,type:No.type,xAxisId:0},EBe=e=>{var t,a,s,n,i,l=lo(e,TBe);return w.createElement(w.Fragment,null,w.createElement(ABe,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(a=l.includeHidden)!==null&&a!==void 0?a:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(s=l.angle)!==null&&s!==void 0?s:0,minTickGap:(n=l.minTickGap)!==null&&n!==void 0?n:5,tick:(i=l.tick)!==null&&i!==void 0?i:!0,tickFormatter:l.tickFormatter}),w.createElement(_Be,l))},DBe=(e,t)=>{var{domain:a}=e,s=gj(e,SBe),{domain:n}=t,i=gj(t,kBe);return gx(s,i)?Array.isArray(a)&&a.length===2&&Array.isArray(n)&&n.length===2?a[0]===n[0]&&a[1]===n[1]:gx({domain:a},{domain:n}):!1},Tv=w.memo(EBe,DBe);Tv.displayName="XAxis";var MBe=["dangerouslySetInnerHTML","ticks"],PBe=["id"],LBe=["domain"],OBe=["domain"];function O6(){return O6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},O6.apply(null,arguments)}function vj(e,t){if(e==null)return{};var a,s,n=RBe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function RBe(e,t){if(e==null)return{};var a={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;a[s]=e[s]}return a}function FBe(e){var t=ri();return w.useLayoutEffect(()=>(t(k9e(e)),()=>{t(C9e(e))}),[e,t]),null}var IBe=e=>{var{yAxisId:t,className:a,width:s,label:n}=e,i=w.useRef(null),l=w.useRef(null),o=Sa(u_),c=Ol(),d=ri(),u="yAxis",f=Sa(A=>Ix(A,u,t,c)),x=Sa(A=>XX(A,t)),m=Sa(A=>JPe(A,t)),g=Sa(A=>ZX(A,u,t,c)),v=Sa(A=>bX(A,t));if(w.useLayoutEffect(()=>{if(!(s!=="auto"||!x||uT(n)||w.isValidElement(n)||v==null)){var A=i.current;if(A){var _=A.getCalculatedWidth();Math.round(x.width)!==Math.round(_)&&d(A9e({id:t,width:_}))}}},[g,x,d,n,t,s,v]),x==null||m==null||v==null)return null;var{dangerouslySetInnerHTML:b,ticks:j}=e,S=vj(e,MBe),{id:k}=v,N=vj(v,PBe);return w.createElement(vT,O6({},S,N,{ref:i,labelRef:l,scale:f,x:m.x,y:m.y,tickTextProps:s==="auto"?{width:void 0}:{width:s},width:x.width,height:x.height,className:Qr("recharts-".concat(u," ").concat(u),a),viewBox:o,ticks:g}))},BBe={allowDataOverflow:So.allowDataOverflow,allowDecimals:So.allowDecimals,allowDuplicatedCategory:So.allowDuplicatedCategory,hide:!1,mirror:So.mirror,orientation:So.orientation,padding:So.padding,reversed:So.reversed,scale:So.scale,tickCount:So.tickCount,type:So.type,width:So.width,yAxisId:0},$Be=e=>{var t,a,s,n,i,l=lo(e,BBe);return w.createElement(w.Fragment,null,w.createElement(FBe,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(a=l.includeHidden)!==null&&a!==void 0?a:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(s=l.angle)!==null&&s!==void 0?s:0,minTickGap:(n=l.minTickGap)!==null&&n!==void 0?n:5,tick:(i=l.tick)!==null&&i!==void 0?i:!0,tickFormatter:l.tickFormatter}),w.createElement(IBe,l))},UBe=(e,t)=>{var{domain:a}=e,s=vj(e,LBe),{domain:n}=t,i=vj(t,OBe);return gx(s,i)?Array.isArray(a)&&a.length===2&&Array.isArray(n)&&n.length===2?a[0]===n[0]&&a[1]===n[1]:gx({domain:a},{domain:n}):!1},Ev=w.memo($Be,UBe);Ev.displayName="YAxis";var ok={exports:{}},ck={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZB;function zBe(){if(ZB)return ck;ZB=1;var e=vx();function t(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var a=typeof Object.is=="function"?Object.is:t,s=e.useSyncExternalStore,n=e.useRef,i=e.useEffect,l=e.useMemo,o=e.useDebugValue;return ck.useSyncExternalStoreWithSelector=function(c,d,u,f,x){var m=n(null);if(m.current===null){var g={hasValue:!1,value:null};m.current=g}else g=m.current;m=l(function(){function b(A){if(!j){if(j=!0,S=A,A=f(A),x!==void 0&&g.hasValue){var _=g.value;if(x(_,A))return k=_}return k=A}if(_=k,a(S,A))return _;var D=f(A);return x!==void 0&&x(_,D)?(S=A,_):(S=A,k=D)}var j=!1,S,k,N=u===void 0?null:u;return[function(){return b(d())},N===null?void 0:function(){return b(N())}]},[d,u,f,x]);var v=s(c,m[0],m[1]);return i(function(){g.hasValue=!0,g.value=v},[v]),o(v),v},ck}var e$;function HBe(){return e$||(e$=1,ok.exports=zBe()),ok.exports}HBe();function VBe(e){e()}function WBe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){VBe(()=>{let a=e;for(;a;)a.callback(),a=a.next})},get(){const a=[];let s=e;for(;s;)a.push(s),s=s.next;return a},subscribe(a){let s=!0;const n=t={callback:a,next:null,prev:t};return n.prev?n.prev.next=n:e=n,function(){!s||e===null||(s=!1,n.next?n.next.prev=n.prev:t=n.prev,n.prev?n.prev.next=n.next:e=n.next)}}}}var t$={notify(){},get:()=>[]};function qBe(e,t){let a,s=t$,n=0,i=!1;function l(v){u();const b=s.subscribe(v);let j=!1;return()=>{j||(j=!0,b(),f())}}function o(){s.notify()}function c(){g.onStateChange&&g.onStateChange()}function d(){return i}function u(){n++,a||(a=e.subscribe(c),s=WBe())}function f(){n--,a&&n===0&&(a(),a=void 0,s.clear(),s=t$)}function x(){i||(i=!0,u())}function m(){i&&(i=!1,f())}const g={addNestedSub:l,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:d,trySubscribe:x,tryUnsubscribe:m,getListeners:()=>s};return g}var GBe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",KBe=GBe(),YBe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",XBe=YBe(),JBe=()=>KBe||XBe?w.useLayoutEffect:w.useEffect,QBe=JBe(),ZBe=Symbol.for("react-redux-context"),e$e=typeof globalThis<"u"?globalThis:{};function t$e(){if(!w.createContext)return{};const e=e$e[ZBe]??=new Map;let t=e.get(w.createContext);return t||(t=w.createContext(null),e.set(w.createContext,t)),t}var a$e=t$e();function r$e(e){const{children:t,context:a,serverState:s,store:n}=e,i=w.useMemo(()=>{const c=qBe(n);return{store:n,subscription:c,getServerState:s?()=>s:void 0}},[n,s]),l=w.useMemo(()=>n.getState(),[n]);QBe(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),l!==n.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,l]);const o=a||a$e;return w.createElement(o.Provider,{value:i},t)}var s$e=r$e,n$e=(e,t)=>t,yT=bt([n$e,Or,pX,ii,xJ,_h,aOe,ki],lOe),wT=e=>{var t=e.currentTarget.getBoundingClientRect(),a=t.width/e.currentTarget.offsetWidth,s=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/a),chartY:Math.round((e.clientY-t.top)/s)}},vQ=Nc("mouseClick"),bQ=rb();bQ.startListening({actionCreator:vQ,effect:(e,t)=>{var a=e.payload,s=yT(t.getState(),wT(a));s?.activeIndex!=null&&t.dispatch(dLe({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}});var R6=Nc("mouseMove"),yQ=rb();yQ.startListening({actionCreator:R6,effect:(e,t)=>{var a=e.payload,s=t.getState(),n=eT(s,s.tooltip.settings.shared),i=yT(s,wT(a));n==="axis"&&(i?.activeIndex!=null?t.dispatch(lJ({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(iJ()))}});var a$={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},wQ=Fo({name:"rootProps",initialState:a$,reducers:{updateOptions:(e,t)=>{var a;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(a=t.payload.barGap)!==null&&a!==void 0?a:a$.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),i$e=wQ.reducer,{updateOptions:l$e}=wQ.actions,jQ=Fo({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Gze}=jQ.actions,o$e=jQ.reducer,NQ=Nc("keyDown"),SQ=Nc("focus"),jT=rb();jT.startListening({actionCreator:NQ,effect:(e,t)=>{var a=t.getState(),s=a.rootProps.accessibilityLayer!==!1;if(s){var{keyboardInteraction:n}=a.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var l=Number(tT(n,$x(a))),o=_h(a);if(i==="Enter"){var c=oj(a,"axis","hover",String(n.index));t.dispatch(C6({active:!n.active,activeIndex:n.index,activeDataKey:n.dataKey,activeCoordinate:c}));return}var d=tLe(a),u=d==="left-to-right"?1:-1,f=i==="ArrowRight"?1:-1,x=l+f*u;if(!(o==null||x>=o.length||x<0)){var m=oj(a,"axis","hover",String(x));t.dispatch(C6({active:!0,activeIndex:x.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});jT.startListening({actionCreator:SQ,effect:(e,t)=>{var a=t.getState(),s=a.rootProps.accessibilityLayer!==!1;if(s){var{keyboardInteraction:n}=a.tooltip;if(!n.active&&n.index==null){var i="0",l=oj(a,"axis","hover",String(i));t.dispatch(C6({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:l}))}}}});var dc=Nc("externalEvent"),kQ=rb();kQ.startListening({actionCreator:dc,effect:(e,t)=>{if(e.payload.handler!=null){var a=t.getState(),s={activeCoordinate:qLe(a),activeDataKey:yJ(a),activeIndex:Sm(a),activeLabel:bJ(a),activeTooltipIndex:Sm(a),isTooltipActive:GLe(a)};e.payload.handler(s,e.payload.reactEvent)}}});var c$e=bt([Bx],e=>e.tooltipItemPayloads),d$e=bt([c$e,fb,(e,t,a)=>t,(e,t,a)=>a],(e,t,a,s)=>{var n=e.find(o=>o.settings.dataKey===s);if(n!=null){var{positions:i}=n;if(i!=null){var l=t(i,a);return l}}}),CQ=Nc("touchMove"),AQ=rb();AQ.startListening({actionCreator:CQ,effect:(e,t)=>{var a=e.payload,s=t.getState(),n=eT(s,s.tooltip.settings.shared);if(n==="axis"){var i=yT(s,wT({clientX:a.touches[0].clientX,clientY:a.touches[0].clientY,currentTarget:a.currentTarget}));i?.activeIndex!=null&&t.dispatch(lJ({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(n==="item"){var l,o=a.touches[0],c=document.elementFromPoint(o.clientX,o.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(vTe),u=(l=c.getAttribute(bTe))!==null&&l!==void 0?l:void 0,f=d$e(t.getState(),d,u);t.dispatch(nJ({activeDataKey:u,activeIndex:d,activeCoordinate:f}))}}});var u$e=yK({brush:XFe,cartesianAxis:_9e,chartData:NOe,errorBars:K9e,graphicalItems:v9e,layout:U_e,legend:XTe,options:vOe,polarAxis:BRe,polarOptions:o$e,referenceElements:rIe,rootProps:i$e,tooltip:uLe}),h$e=function(t){return h_e({reducer:u$e,preloadedState:t,middleware:a=>a({serializableCheck:!1}).concat([bQ.middleware,yQ.middleware,jT.middleware,kQ.middleware,AQ.middleware]),enhancers:a=>{var s=a;return typeof a=="function"&&(s=a()),s.concat(MK({type:"raf"}))},devTools:Bm.devToolsEnabled})};function f$e(e){var{preloadedState:t,children:a,reduxStoreName:s}=e,n=Ol(),i=w.useRef(null);if(n)return a;i.current==null&&(i.current=h$e(t));var l=n_;return w.createElement(s$e,{context:l,store:i.current},a)}function m$e(e){var{layout:t,margin:a}=e,s=ri(),n=Ol();return w.useEffect(()=>{n||(s(I_e(t)),s(F_e(a)))},[s,n,t,a]),null}function p$e(e){var t=ri();return w.useEffect(()=>{t(l$e(e))},[t,e]),null}var x$e=["children"];function g$e(e,t){if(e==null)return{};var a,s,n=v$e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function v$e(e,t){if(e==null)return{};var a={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;a[s]=e[s]}return a}function bj(){return bj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},bj.apply(null,arguments)}var b$e={width:"100%",height:"100%",display:"block"},y$e=w.forwardRef((e,t)=>{var a=ZK(),s=eY(),n=aY();if(!fx(a)||!fx(s))return null;var{children:i,otherAttributes:l,title:o,desc:c}=e,d,u;return typeof l.tabIndex=="number"?d=l.tabIndex:d=n?0:void 0,typeof l.role=="string"?u=l.role:u=n?"application":void 0,w.createElement(IG,bj({},l,{title:o,desc:c,role:u,tabIndex:d,width:a,height:s,style:b$e,ref:t}),i)}),w$e=e=>{var{children:t}=e,a=Sa(yN);if(!a)return null;var{width:s,height:n,y:i,x:l}=a;return w.createElement(IG,{width:s,height:n,x:l,y:i},t)},r$=w.forwardRef((e,t)=>{var{children:a}=e,s=g$e(e,x$e),n=Ol();return n?w.createElement(w$e,null,a):w.createElement(y$e,bj({ref:t},s),a)});function j$e(){var e=ri(),[t,a]=w.useState(null),s=Sa(gTe);return w.useEffect(()=>{if(t!=null){var n=t.getBoundingClientRect(),i=n.width/t.offsetWidth;pl(i)&&i!==s&&e($_e(i))}},[t,e,s]),a}function s$(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,s)}return a}function N$e(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?s$(Object(a),!0).forEach(function(s){S$e(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s$(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function S$e(e,t,a){return(t=k$e(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function k$e(e){var t=C$e(e,"string");return typeof t=="symbol"?t:t+""}function C$e(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Am(){return Am=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},Am.apply(null,arguments)}var A$e=()=>(MOe(),null);function yj(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var _$e=w.forwardRef((e,t)=>{var a,s,n=w.useRef(null),[i,l]=w.useState({containerWidth:yj((a=e.style)===null||a===void 0?void 0:a.width),containerHeight:yj((s=e.style)===null||s===void 0?void 0:s.height)}),o=w.useCallback((d,u)=>{l(f=>{var x=Math.round(d),m=Math.round(u);return f.containerWidth===x&&f.containerHeight===m?f:{containerWidth:x,containerHeight:m}})},[]),c=w.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:u,height:f}=d.getBoundingClientRect();o(u,f);var x=g=>{var{width:v,height:b}=g[0].contentRect;o(v,b)},m=new ResizeObserver(x);m.observe(d),n.current=m}},[t,o]);return w.useEffect(()=>()=>{var d=n.current;d?.disconnect()},[o]),w.createElement(w.Fragment,null,w.createElement(NN,{width:i.containerWidth,height:i.containerHeight}),w.createElement("div",Am({ref:c},e)))}),T$e=w.forwardRef((e,t)=>{var{width:a,height:s}=e,[n,i]=w.useState({containerWidth:yj(a),containerHeight:yj(s)}),l=w.useCallback((c,d)=>{i(u=>{var f=Math.round(c),x=Math.round(d);return u.containerWidth===f&&u.containerHeight===x?u:{containerWidth:f,containerHeight:x}})},[]),o=w.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:d,height:u}=c.getBoundingClientRect();l(d,u)}},[t,l]);return w.createElement(w.Fragment,null,w.createElement(NN,{width:n.containerWidth,height:n.containerHeight}),w.createElement("div",Am({ref:o},e)))}),E$e=w.forwardRef((e,t)=>{var{width:a,height:s}=e;return w.createElement(w.Fragment,null,w.createElement(NN,{width:a,height:s}),w.createElement("div",Am({ref:t},e)))}),D$e=w.forwardRef((e,t)=>{var{width:a,height:s}=e;return fh(a)||fh(s)?w.createElement(T$e,Am({},e,{ref:t})):w.createElement(E$e,Am({},e,{ref:t}))});function M$e(e){return e===!0?_$e:D$e}var P$e=w.forwardRef((e,t)=>{var{children:a,className:s,height:n,onClick:i,onContextMenu:l,onDoubleClick:o,onMouseDown:c,onMouseEnter:d,onMouseLeave:u,onMouseMove:f,onMouseUp:x,onTouchEnd:m,onTouchMove:g,onTouchStart:v,style:b,width:j,responsive:S,dispatchTouchEvents:k=!0}=e,N=w.useRef(null),A=ri(),[_,D]=w.useState(null),[P,I]=w.useState(null),B=j$e(),O=h_(),U=O?.width>0?O.width:j,E=O?.height>0?O.height:n,R=w.useCallback(q=>{B(q),typeof t=="function"&&t(q),D(q),I(q),q!=null&&(N.current=q)},[B,t,D,I]),K=w.useCallback(q=>{A(vQ(q)),A(dc({handler:i,reactEvent:q}))},[A,i]),V=w.useCallback(q=>{A(R6(q)),A(dc({handler:d,reactEvent:q}))},[A,d]),Z=w.useCallback(q=>{A(iJ()),A(dc({handler:u,reactEvent:q}))},[A,u]),J=w.useCallback(q=>{A(R6(q)),A(dc({handler:f,reactEvent:q}))},[A,f]),ee=w.useCallback(()=>{A(SQ())},[A]),W=w.useCallback(q=>{A(NQ(q.key))},[A]),le=w.useCallback(q=>{A(dc({handler:l,reactEvent:q}))},[A,l]),M=w.useCallback(q=>{A(dc({handler:o,reactEvent:q}))},[A,o]),X=w.useCallback(q=>{A(dc({handler:c,reactEvent:q}))},[A,c]),z=w.useCallback(q=>{A(dc({handler:x,reactEvent:q}))},[A,x]),Q=w.useCallback(q=>{A(dc({handler:v,reactEvent:q}))},[A,v]),ne=w.useCallback(q=>{k&&A(CQ(q)),A(dc({handler:g,reactEvent:q}))},[A,k,g]),re=w.useCallback(q=>{A(dc({handler:m,reactEvent:q}))},[A,m]),oe=M$e(S);return w.createElement(CJ.Provider,{value:_},w.createElement(aAe.Provider,{value:P},w.createElement(oe,{width:U??b?.width,height:E??b?.height,className:Qr("recharts-wrapper",s),style:N$e({position:"relative",cursor:"default",width:U,height:E},b),onClick:K,onContextMenu:le,onDoubleClick:M,onFocus:ee,onKeyDown:W,onMouseDown:X,onMouseEnter:V,onMouseLeave:Z,onMouseMove:J,onMouseUp:z,onTouchEnd:re,onTouchMove:ne,onTouchStart:Q,ref:R},w.createElement(A$e,null),a)))}),L$e=["width","height","responsive","children","className","style","compact","title","desc"];function O$e(e,t){if(e==null)return{};var a,s,n=R$e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function R$e(e,t){if(e==null)return{};var a={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;a[s]=e[s]}return a}var F$e=w.forwardRef((e,t)=>{var{width:a,height:s,responsive:n,children:i,className:l,style:o,compact:c,title:d,desc:u}=e,f=O$e(e,L$e),x=hd(f);return c?w.createElement(w.Fragment,null,w.createElement(NN,{width:a,height:s}),w.createElement(r$,{otherAttributes:x,title:d,desc:u},i)):w.createElement(P$e,{className:l,style:o,width:a,height:s,responsive:n,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},w.createElement(r$,{otherAttributes:x,title:d,desc:u,ref:t},w.createElement(nIe,null,i)))});function F6(){return F6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},F6.apply(null,arguments)}var I$e={top:5,right:5,bottom:5,left:5},B$e={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:I$e,reverseStackOrder:!1,syncMethod:"index",responsive:!1},_Q=w.forwardRef(function(t,a){var s,n=lo(t.categoricalChartProps,B$e),{chartName:i,defaultTooltipEventType:l,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,categoricalChartProps:d}=t,u={chartName:i,defaultTooltipEventType:l,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,eventEmitter:void 0};return w.createElement(f$e,{preloadedState:{options:u},reduxStoreName:(s=d.id)!==null&&s!==void 0?s:i},w.createElement(YFe,{chartData:d.data}),w.createElement(m$e,{layout:n.layout,margin:n.margin}),w.createElement(p$e,{accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),w.createElement(F$e,F6({},n,{ref:a})))}),$$e=["axis"],I6=w.forwardRef((e,t)=>w.createElement(_Q,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:$$e,tooltipPayloadSearcher:AJ,categoricalChartProps:e,ref:t})),U$e=["axis","item"],z$e=w.forwardRef((e,t)=>w.createElement(_Q,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:U$e,tooltipPayloadSearcher:AJ,categoricalChartProps:e,ref:t}));const n$={Answered:"#10b981","Not Answered":"#ef4444",Busy:"#f59e0b","Wrong Number":"#64748b"},H$e=({title:e,subtitle:t,data:a=[]})=>{const[s,n]=w.useState("desc"),i=w.useMemo(()=>(Array.isArray(a)?[...a]:[]).sort((c,d)=>s==="desc"?(d.value||0)-(c.value||0):(c.value||0)-(d.value||0)),[a,s]),l=w.useMemo(()=>i.reduce((o,c)=>o+(c.value||0),0),[i]);return r.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("h3",{className:"text-xl font-semibold",children:e}),t&&r.jsx("span",{className:"text-xs text-gray-400",children:t})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-xs text-gray-400",children:[": ",l]}),r.jsx("button",{className:`px-2 py-1 text-xs rounded-md border transition ${s==="desc"?"bg-gray-700 text-white border-gray-600":"bg-gray-800 text-gray-300 border-gray-700 hover:bg-gray-700"}`,onClick:()=>n(o=>o==="desc"?"asc":"desc"),title:s==="desc"?" ":" ",children:s==="desc"?" ":" "})]})]}),r.jsx("div",{style:{height:300},children:r.jsx(qw,{width:"100%",height:"100%",children:r.jsxs(z$e,{data:i,layout:"vertical",margin:{top:10,right:24,left:24,bottom:10},children:[r.jsx(Tv,{type:"number",hide:!0}),r.jsx(Ev,{type:"category",dataKey:"name",width:120,tick:{fill:"#94a3b8"}}),r.jsx(cj,{cursor:{fill:"rgba(148,163,184,0.15)"},formatter:(o,c)=>{const d=Math.round(Number(o)/Math.max(l,1)*100);return[`${o} (${d}%)`,c]}}),r.jsxs(iQ,{dataKey:"value",barSize:18,radius:[8,8,8,8],isAnimationActive:!0,animationDuration:500,children:[i.map((o,c)=>r.jsx(cT,{fill:n$[o.name]||"#3b82f6"},`cell-${c}`)),r.jsx(O1,{dataKey:"value",position:"right",formatter:o=>`${o} (${Math.round(o/Math.max(l,1)*100)}%)`,fill:"#e2e8f0"})]})]})})}),r.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:i.map((o,c)=>r.jsxs("span",{className:"inline-flex items-center gap-2 text-xs text-gray-300",children:[r.jsx("span",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:n$[o.name]||"#3b82f6"}}),r.jsx("span",{children:o.name})]},`legend-${c}`))})]})},V$e=({columns:e=[],rows:t=[],align:a=[]})=>r.jsx("div",{className:"rounded-xl border border-gray-800 bg-[#0b1220] overflow-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{className:"sticky top-0 bg-[#0b1220]",children:r.jsx("tr",{className:"text-left",children:e.map((s,n)=>r.jsx("th",{className:"px-3 py-2 font-medium text-gray-200",children:s},n))})}),r.jsxs("tbody",{children:[t.map((s,n)=>r.jsx("tr",{className:"odd:bg-gray-900 even:bg-gray-800 hover:bg-gray-700 transition",children:s.map((i,l)=>r.jsx("td",{className:`px-3 py-2 ${a[l]==="right"?"text-right":"text-left"}`,children:i},l))},n)),t.length===0&&r.jsx("tr",{children:r.jsx("td",{className:"px-3 py-3 text-center text-gray-400",colSpan:e.length,children:"No data"})})]})]})}),W$e=({title:e,subtitle:t,data:a=[]})=>{const s=a.slice(-6);return r.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"text-xl font-semibold",children:e}),t&&r.jsx("span",{className:"text-xs text-gray-400",children:t})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[r.jsx("div",{className:"overflow-auto",children:r.jsxs("table",{className:"min-w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"px-3 py-2 font-medium text-gray-200",children:"Month"}),r.jsx("th",{className:"px-3 py-2 font-medium text-gray-200",children:"Revenue"})]})}),r.jsxs("tbody",{children:[s.map((n,i)=>r.jsxs("tr",{className:"odd:bg-gray-900 even:bg-gray-800",children:[r.jsx("td",{className:"px-3 py-2",children:n.name}),r.jsx("td",{className:"px-3 py-2 text-right",children:n.revenue?.toLocaleString?.()??n.revenue})]},i)),s.length===0&&r.jsx("tr",{children:r.jsx("td",{className:"px-3 py-3 text-center text-gray-400",colSpan:2,children:"No data"})})]})]})}),r.jsx("div",{style:{height:220},children:r.jsx(qw,{width:"100%",height:"100%",children:r.jsxs(I6,{data:s,margin:{top:10,right:20,left:0,bottom:10},children:[r.jsx(Tv,{dataKey:"name",tick:{fill:"#94a3b8"}}),r.jsx(Ev,{tick:{fill:"#94a3b8"}}),r.jsx(cj,{}),r.jsx(xj,{type:"monotone",dataKey:"revenue",stroke:"#22c55e",strokeWidth:2,dot:!1})]})})})]}),r.jsx("div",{className:"mt-2 text-xs text-gray-400",children:"Last 6 months"})]})};function i$(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 2v4"},child:[]},{tag:"path",attr:{d:"M16 2v4"},child:[]},{tag:"rect",attr:{width:"18",height:"18",x:"3",y:"4",rx:"2"},child:[]},{tag:"path",attr:{d:"M3 10h18"},child:[]},{tag:"path",attr:{d:"m9 16 2 2 4-4"},child:[]}]})(e)}function q$e(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",x2:"12",y1:"2",y2:"22"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(e)}function TQ(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(e)}function G$e(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 2v4"},child:[]},{tag:"path",attr:{d:"m16.2 7.8 2.9-2.9"},child:[]},{tag:"path",attr:{d:"M18 12h4"},child:[]},{tag:"path",attr:{d:"m16.2 16.2 2.9 2.9"},child:[]},{tag:"path",attr:{d:"M12 18v4"},child:[]},{tag:"path",attr:{d:"m4.9 19.1 2.9-2.9"},child:[]},{tag:"path",attr:{d:"M2 12h4"},child:[]},{tag:"path",attr:{d:"m4.9 4.9 2.9 2.9"},child:[]}]})(e)}function K$e(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(e)}function Y$e(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"},child:[]},{tag:"path",attr:{d:"M21 3v5h-5"},child:[]},{tag:"path",attr:{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"},child:[]},{tag:"path",attr:{d:"M8 16H3v5"},child:[]}]})(e)}function X$e(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M22 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(e)}const J$e=({reservationData:e=[],callsData:t=[],teamsData:a=[],totalAccounts:s=0,lastUpdate:n,onUpdate:i})=>{const{t:l,i18n:o}=Dt(),c=ti(),[d,u]=w.useState(!1),[f,x]=w.useState(null),m=e.length;w.useMemo(()=>e.reduce((N,A)=>N+(A.revenue||0),0),[e]);const g=w.useMemo(()=>t.reduce((N,A)=>N+(A.value||0),0),[t]),v=w.useMemo(()=>[...a].sort((A,_)=>(_.accounts||0)-(A.accounts||0))[0]||null,[a]);w.useMemo(()=>{const N=t.map(A=>A.value||0);return Math.max(100,...N)},[t]);const b=w.useMemo(()=>t.filter(N=>/follow/i.test(N?.name||"")).reduce((N,A)=>N+(A.value||0),0),[t]),j=w.useMemo(()=>t.filter(N=>/(meeting|visit)/i.test(N?.name||"")).reduce((N,A)=>N+(A.value||0),0),[t]),S=w.useMemo(()=>g+b+j,[g,b,j]),k=w.useMemo(()=>g>0?`${Math.round(m/g*100)}%`:typeof v?.conversion=="string"?v.conversion:"",[m,g,v]);return r.jsxs("div",{className:"space-y-6 my-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsx("h2",{className:"text-xl font-semibold",children:l("Sales Actions Overview")})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[r.jsx(Vg,{label:l("Total Actions"),value:S,tone:"default",icon:r.jsx(X$e,{}),tooltip:"All tracked actions"}),r.jsx(Vg,{label:l("Calls Made"),value:g,tone:"warning",icon:r.jsx(K$e,{}),tooltip:"Total calls count"}),r.jsx(Vg,{label:l("Follow-ups Done"),value:b,tone:"info",icon:r.jsx(i$,{}),tooltip:"Follow-up actions"}),r.jsx(Vg,{label:l("Meetings Scheduled"),value:j,tone:"success",icon:r.jsx(i$,{}),tooltip:"Meetings count"}),r.jsx(Vg,{label:l("Conversion Rate %"),value:k,tone:"success",icon:r.jsx(q$e,{}),tooltip:"Leads converted vs calls"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2",children:[r.jsx(H$e,{title:l("Action Distribution"),subtitle:l("By type"),data:t}),r.jsx("div",{className:"mt-4",children:r.jsx("button",{className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border border-gray-700 bg-gray-800 hover:bg-gray-700 transition",onClick:()=>c("/reports/activity"),children:l("View Detailed Activity Report")})})]}),r.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[r.jsx("div",{className:"flex items-center justify-between mb-3",children:r.jsx("h3",{className:"text-xl font-semibold",children:l("salesActions.topTeam")})}),v?r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"text-sm text-gray-400",children:v.team}),r.jsxs("div",{className:"text-2xl font-bold text-green-400",children:[v.accounts," ",l("salesActions.accounts")]}),r.jsxs("div",{className:"text-xs text-gray-400",title:"Conversion Rate",children:[l("Conversion"),": ",v.conversion]}),r.jsx("div",{children:r.jsx("button",{className:"mt-2 inline-flex items-center gap-2 px-3 py-2 rounded-md border border-gray-700 bg-gray-800 hover:bg-gray-700 transition",onClick:()=>c(`/reports/team?team=${encodeURIComponent(v.team)}&manager=All`),children:l("salesActions.viewTeamDetails")})})]}):r.jsx("div",{className:"text-sm text-gray-400",children:l("salesActions.noTeamData")})]})]}),r.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"text-xl font-semibold",children:l("salesActions.leaderboard")}),r.jsx("span",{className:"text-xs text-gray-400",children:l("salesActions.byAccounts")})]}),r.jsx(V$e,{columns:[l("Rank"),l("Team"),l("salesActions.accounts"),l("Conversion Rate"),l("Details")],align:["right","left","right","right","left"],rows:a.map(N=>[N.rank,r.jsx("button",{className:"text-blue-400 hover:underline",onClick:()=>{x({name:N.team}),u(!0)},children:N.team},`team-${N.team}`),N.accounts,N.conversion,r.jsx("button",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md border border-gray-700 bg-gray-800 hover:bg-gray-700 transition text-xs",onClick:()=>c(`/reports/team?team=${encodeURIComponent(N.team)}&manager=All`),title:l("Details"),children:r.jsx(TQ,{className:"text-gray-200"})},`btn-${N.team}`)])})]}),r.jsx(W$e,{title:l("salesActions.monthlyReservationsSummary"),subtitle:l("salesActions.lastMonths",{months:Math.min(6,e.length)}),data:e}),d&&r.jsx(q6e,{onClose:()=>u(!1),team:f})]})},Q$e=e=>String(e||"").trim().toLowerCase(),Z$e=({leads:e=[],onExport:t,filters:a={},setFilters:s})=>{const{t:n}=Dt(),i=b=>s({...a,[b.target.name]:b.target.value}),l=e.filter(b=>{const j=!a.manager||(b.manager||"").toLowerCase().includes(a.manager.toLowerCase()),S=!a.employee||(b.employee||"").toLowerCase().includes(a.employee.toLowerCase()),k=!a.startDate||new Date(b.date||0)>=new Date(a.startDate),N=!a.endDate||new Date(b.date||0)<=new Date(a.endDate);return j&&S&&k&&N}),o=w.useMemo(()=>{const b={};return l.forEach(j=>{const S=j.employee||"Unassigned";b[S]||(b[S]={total:0,closed:0,inProgress:0,dept:j.manager||"-"}),b[S].total+=1;const k=Q$e(j.stage||j.status);k==="closed"||k==="converted"?b[S].closed+=1:b[S].inProgress+=1}),b},[l]),c=l.length,d=Object.values(o).reduce((b,j)=>b+j.closed,0),u=w.useMemo(()=>{const b=Object.values(o);if(!b.length)return 0;const j=b.reduce((S,k)=>S+(k.total?k.closed/k.total*100:0),0)/b.length;return Math.round(j)},[o]),[f,x]=w.useState({key:"total",dir:"desc"}),m=b=>{const{key:j,dir:S}=f,k=S==="asc"?1:-1;return[...b].sort((N,A)=>{const _=N[j],D=A[j];return typeof _=="number"&&typeof D=="number"?(_-D)*k:String(_).localeCompare(String(D))*k})},g=w.useMemo(()=>{const b=Object.entries(o).map(([j,S])=>({name:j,dept:S.dept,total:S.total,inProgress:S.inProgress,closed:S.closed,conversion:S.total?Math.round(S.closed/S.total*100):0}));return m(b)},[o,f]),v=w.useMemo(()=>(g.reduce((b,j)=>b+j.total,0),g.map(b=>({label:b.name,value:b.total,color:void 0}))),[g]);return r.jsxs("div",{className:"space-y-6 my-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-semibold",children:n("Assigned Leads Report")}),r.jsx("button",{className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border border-gray-700 bg-gray-800 hover:bg-gray-700 transition",onClick:t,children:n("Export")})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3",children:[r.jsx("input",{name:"manager",className:"px-3 py-2 rounded-md border border-gray-700 bg-gray-800 text-gray-100",placeholder:n("Manager"),value:a.manager||"",onChange:i}),r.jsx("input",{name:"employee",className:"px-3 py-2 rounded-md border border-gray-700 bg-gray-800 text-gray-100",placeholder:n("Salesperson"),value:a.employee||"",onChange:i}),r.jsx("input",{name:"startDate",type:"date",className:"px-3 py-2 rounded-md border border-gray-700 bg-gray-800 text-gray-100",value:a.startDate||"",onChange:i}),r.jsx("input",{name:"endDate",type:"date",className:"px-3 py-2 rounded-md border border-gray-700 bg-gray-800 text-gray-100",value:a.endDate||"",onChange:i}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("button",{className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border border-gray-700 bg-gray-800 hover:bg-gray-700 transition",onClick:t,children:n("Export")})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[r.jsx("div",{className:"text-sm text-gray-400",children:n("Total Assigned Leads")}),r.jsx("div",{className:"text-2xl font-bold text-green-400",children:c})]}),r.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[r.jsx("div",{className:"text-sm text-gray-400",children:n("Total Closed")}),r.jsx("div",{className:"text-2xl font-bold text-green-400",children:d})]}),r.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[r.jsx("div",{className:"text-sm text-gray-400",children:n("Team Average Conversion %")}),r.jsxs("div",{className:"text-2xl font-bold text-green-400",children:[u,"%"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[r.jsx("div",{className:"flex items-center justify-between mb-3",children:r.jsx("h3",{className:"text-lg font-semibold",children:n("Team Distribution")})}),r.jsx("div",{className:"overflow-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left border-b border-gray-800",children:[[{key:"name",label:n("Salesperson Name")},{key:"dept",label:n("Department / Region")},{key:"total",label:n("Total Leads Assigned")},{key:"inProgress",label:n("Leads in Progress")},{key:"closed",label:n("Leads Closed")},{key:"conversion",label:n("Conversion %")}].map(b=>r.jsx("th",{className:"px-3 py-2",children:r.jsx("button",{className:"inline-flex items-center gap-1 text-gray-200 hover:text-white",onClick:()=>x(j=>({key:b.key,dir:j.key===b.key&&j.dir==="asc"?"desc":"asc"})),title:n("Sort"),children:b.label})},b.key)),r.jsx("th",{className:"px-3 py-2",children:n("Details")})]})}),r.jsxs("tbody",{children:[g.map((b,j)=>r.jsxs("tr",{className:"border-t border-gray-800 hover:bg-gray-900",children:[r.jsx("td",{className:"px-3 py-2",children:b.name}),r.jsx("td",{className:"px-3 py-2",children:b.dept}),r.jsx("td",{className:"px-3 py-2 text-right",children:b.total}),r.jsx("td",{className:"px-3 py-2 text-right",children:b.inProgress}),r.jsx("td",{className:"px-3 py-2 text-right",children:b.closed}),r.jsxs("td",{className:"px-3 py-2 text-right",children:[b.conversion,"%"]}),r.jsx("td",{className:"px-3 py-2",children:r.jsx("button",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md border border-gray-700 bg-gray-800 hover:bg-gray-700 transition text-xs",title:n("View Details"),children:r.jsx(TQ,{className:"text-gray-200"})})})]},j)),g.length===0&&r.jsx("tr",{children:r.jsx("td",{className:"px-3 py-3 text-center text-[var(--muted-text)]",colSpan:7,children:n("No data")})})]})]})})]}),r.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[r.jsx("div",{className:"flex items-center justify-between mb-3",children:r.jsx("h3",{className:"text-lg font-semibold",children:n("Leads per Salesperson")})}),r.jsx("div",{className:"flex items-center justify-center",children:r.jsx(Zn,{segments:v,size:220,cutout:70,centerValue:g.reduce((b,j)=>b+j.total,0),centerLabel:n("Leads")})})]})]})]})},eUe={New:"#60a5fa",Contacted:"#34d399",Qualified:"#f59e0b",Proposal:"#a78bfa",Closed:"#22d3ee"},tUe=({stages:e=[]})=>{const t=e.reduce((a,s)=>a+(s.count||0),0)||1;return r.jsx("div",{className:"space-y-3",children:e.map((a,s)=>{const n=Math.round((a.count||0)/t*100),i=a.color||eUe[a.label]||"#64748b";return r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("div",{className:"text-sm text-gray-200",children:a.label}),r.jsxs("div",{className:"text-xs text-gray-400",children:[a.count,"  ",n,"%"]})]}),r.jsx("div",{className:"h-3 rounded-full bg-gray-800 overflow-hidden",children:r.jsx("div",{className:"h-full",style:{width:`${n}%`,backgroundColor:i}})})]},s)})})},dk=e=>String(e||"").trim().toLowerCase(),aUe=({leads:e=[]})=>{const{t}=Dt(),a=w.useMemo(()=>["All",...Array.from(new Set(e.map(A=>A.source).filter(Boolean)))],[e]),[s,n]=w.useState("All"),i=w.useMemo(()=>s==="All"?e:e.filter(A=>A.source===s),[e,s]),l=["new","contacted","qualified","proposal","closed"],o=w.useMemo(()=>{const A=Object.fromEntries(l.map(_=>[_,0]));return i.forEach(_=>{const D=dk(_.stage);D in A&&(A[D]=(A[D]||0)+1)}),A},[i]),c=i.length,d=o.qualified||0,u=o.closed||0,f=i.filter(A=>dk(A.status)==="lost").length,x=c>0?Math.round(u/c*100):0,m=c>0?Math.round(d/c*100):0,g=w.useMemo(()=>{const A=i.map(D=>{const P=D.createdAt?new Date(D.createdAt).getTime():null,I=D.lastContact?new Date(D.lastContact).getTime():null;return!P||!I?null:Math.max(0,(I-P)/36e5)}).filter(D=>D!=null);if(A.length===0)return 0;const _=A.reduce((D,P)=>D+P,0)/A.length;return Math.round(_)},[i]),v=w.useMemo(()=>{const A={};i.forEach(I=>{const B=I.source||"Unknown";A[B]||(A[B]={total:0,closed:0}),A[B].total+=1,dk(I.stage)==="closed"&&(A[B].closed+=1)});const _=Object.entries(A);if(_.length===0)return null;_.sort((I,B)=>B[1].closed-I[1].closed);const[D,P]=_[0];return{name:D,stats:P}},[i]),[b,j]=w.useState(!1),[S,k]=w.useState(null),N=A=>{k(A),j(!0)};return r.jsxs("div",{className:"space-y-6 my-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-semibold",children:t("Sales Leads Overview")}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"text-sm text-gray-400",children:t("Source")}),r.jsx("select",{value:s,onChange:A=>n(A.target.value),className:"px-3 py-2 rounded-md border border-gray-700 bg-gray-800 text-gray-100",children:a.map(A=>r.jsx("option",{value:A,children:A},A))})]})]}),r.jsx(tUe,{stages:[{key:"new",label:t("New"),value:o.new},{key:"contacted",label:t("Contacted"),value:o.contacted},{key:"qualified",label:t("Qualified"),value:o.qualified},{key:"proposal",label:t("Proposal"),value:o.proposal},{key:"closed",label:t("Closed"),value:o.closed}]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[r.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[r.jsx("div",{className:"text-sm text-gray-400",children:t("Total Leads")}),r.jsx("div",{className:"text-2xl font-bold text-green-400",children:c})]}),r.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[r.jsx("div",{className:"text-sm text-gray-400",children:t("Qualified Leads %")}),r.jsxs("div",{className:"text-2xl font-bold text-green-400",children:[m,"%"]})]}),r.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[r.jsx("div",{className:"text-sm text-gray-400",children:t("Average Response Time")}),r.jsxs("div",{className:"text-2xl font-bold text-green-400",children:[g,"h"]})]}),r.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[r.jsx("div",{className:"text-sm text-gray-400",children:t("Conversion Rate")}),r.jsxs("div",{className:"text-2xl font-bold text-green-400",children:[x,"%"]})]}),r.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[r.jsx("div",{className:"text-sm text-gray-400",children:t("Lost Leads")}),r.jsx("div",{className:"text-2xl font-bold text-green-400",children:f})]})]}),r.jsx("div",{className:"rounded-lg border border-gray-800 bg-[#0b1220] overflow-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-900",children:[r.jsx("th",{className:"px-3 py-2 text-left",children:t("Name")}),r.jsx("th",{className:"px-3 py-2 text-left",children:t("Phone")}),r.jsx("th",{className:"px-3 py-2 text-left",children:t("Source")}),r.jsx("th",{className:"px-3 py-2 text-left",children:t("Stage")}),r.jsx("th",{className:"px-3 py-2 text-left",children:t("Actions")})]})}),r.jsxs("tbody",{children:[i.map((A,_)=>r.jsxs("tr",{className:"border-t border-gray-800",children:[r.jsx("td",{className:"px-3 py-2",children:A.name||"-"}),r.jsx("td",{className:"px-3 py-2",children:A.phone||"-"}),r.jsx("td",{className:"px-3 py-2",children:A.source||"-"}),r.jsx("td",{className:"px-3 py-2",children:A.stage||"-"}),r.jsx("td",{className:"px-3 py-2",children:r.jsx("button",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-md border border-gray-700 bg-gray-800 hover:bg-gray-700 transition text-xs",onClick:()=>N(A),children:t("View Lead Details")})})]},_)),i.length===0&&r.jsx("tr",{children:r.jsx("td",{className:"px-3 py-3 text-center text-[var(--muted-text)]",colSpan:5,children:t("No leads")})})]})]})}),r.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"text-lg font-semibold",children:t("Top-performing Source")}),r.jsx("span",{className:"text-xs text-gray-400",children:t("Based on closed leads")})]}),v?r.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[r.jsx("span",{className:"px-2 py-1 rounded-md border border-gray-700 bg-gray-800",children:v.name}),r.jsxs("span",{className:"text-[var(--muted-text)]",children:[t("Closed"),":"]}),r.jsx("span",{className:"font-semibold text-green-400",children:v.stats.closed}),r.jsxs("span",{className:"text-[var(--muted-text)]",children:[t("Total"),":"]}),r.jsx("span",{className:"font-semibold",children:v.stats.total})]}):r.jsx("div",{className:"text-sm text-gray-400",children:t("No source data")})]}),b&&S&&r.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:r.jsxs("div",{className:"w-full max-w-lg rounded-xl border border-gray-700 bg-[#0b1220] p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"text-lg font-semibold",children:t("Lead Details")}),r.jsx("button",{className:"px-2 py-1 rounded-md border border-gray-700 hover:bg-gray-800",onClick:()=>j(!1),children:t("Close")})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{children:[r.jsxs("span",{className:"text-[var(--muted-text)]",children:[t("Name"),":"]})," ",r.jsx("span",{className:"font-semibold",children:S.name})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"text-[var(--muted-text)]",children:[t("Phone"),":"]})," ",r.jsx("span",{children:S.phone})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"text-[var(--muted-text)]",children:[t("Source"),":"]})," ",r.jsx("span",{children:S.source})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"text-[var(--muted-text)]",children:[t("Stage"),":"]})," ",r.jsx("span",{children:S.stage})]}),S.lastContact&&r.jsxs("div",{children:[r.jsxs("span",{className:"text-[var(--muted-text)]",children:[t("Last Contact"),":"]})," ",r.jsx("span",{children:new Date(S.lastContact).toLocaleString()})]}),S.createdAt&&r.jsxs("div",{children:[r.jsxs("span",{className:"text-[var(--muted-text)]",children:[t("Created At"),":"]})," ",r.jsx("span",{children:new Date(S.createdAt).toLocaleString()})]})]})]})})]})},l$=()=>new Promise(e=>{setTimeout(()=>{e({reservationData:$6e,callsData:U6e,teamsData:z6e,totalAccounts:H6e,leads:JSON.parse(localStorage.getItem("leads"))||[]})},1e3)}),rUe=()=>{const{t:e}=Dt(),[t,a]=w.useState("Sales Actions"),[s,n]=w.useState(!0),[i,l]=w.useState(null),[o,c]=w.useState({reservationData:[],callsData:[],teamsData:[],totalAccounts:0,leads:[]}),[d,u]=w.useState(new Date().toLocaleString()),[f,x]=w.useState(!1),[m,g]=w.useState({manager:"",employee:"",startDate:"",endDate:""});w.useEffect(()=>{n(!0),l$().then(j=>{c(j),n(!1)}).catch(j=>{l("Failed to fetch data"),n(!1)})},[]);const v=()=>{f||(x(!0),l$().then(j=>{c(j),u(new Date().toLocaleString()),x(!1)}).catch(j=>{l("Failed to fetch data"),x(!1)}))};w.useEffect(()=>{const j=S=>{S.key.toLowerCase()==="u"&&v()};return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[f]);const b=()=>{const j=Jt.json_to_sheet(o.leads),S=Jt.book_new();Jt.book_append_sheet(S,j,"Leads"),gs(S,"leads-report.xlsx")};return s?r.jsx(aa,{children:r.jsx("div",{children:"Loading..."})}):i?r.jsx(aa,{children:r.jsx("div",{children:i})}):r.jsx(aa,{children:r.jsxs("div",{className:"p-4 md:p-6 bg-[#0f172a] text-[#f1f5f9] rounded-lg shadow-lg",children:[r.jsxs("div",{className:"flex flex-col gap-2 md:flex-row items-start md:items-center md:justify-between",children:[r.jsx("div",{className:"self-start",children:r.jsx("h1",{className:"text-2xl font-semibold text-left",children:"Leads Report"})}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("span",{className:"text-xs text-gray-400",children:[e("salesActions.lastUpdate"),": ",d]}),r.jsxs("button",{onClick:v,title:e("Update"),"aria-label":e("Update"),"aria-busy":f,"aria-disabled":f,disabled:f,className:"relative overflow-hidden inline-flex items-center gap-2 px-4 py-2 rounded-md border border-blue-500 bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg shadow-blue-500/30 ring-1 ring-blue-400/40 hover:from-blue-500 hover:to-indigo-500 hover:shadow-blue-500/40 hover:scale-[1.02] active:scale-[0.98] transition disabled:opacity-60 disabled:cursor-not-allowed focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-1 focus-visible:ring-blue-400",children:[f?r.jsx(G$e,{className:"w-4 h-4 animate-spin"}):r.jsx(Y$e,{className:"w-4 h-4"}),e(f?"Updating...":"Update")]}),r.jsx("span",{className:"sr-only","aria-live":"polite",children:f?"Updating data":"Data up to date"})]})]}),r.jsx("div",{className:"mt-3 border-t border-gray-800"}),r.jsx("div",{className:"mt-4",children:r.jsx(V6e,{activeTab:t,setActiveTab:a})}),r.jsxs("div",{className:"mt-10",children:[t==="Sales Actions"&&r.jsx(J$e,{reservationData:o.reservationData,callsData:o.callsData,teamsData:o.teamsData,totalAccounts:o.totalAccounts,lastUpdate:d,onUpdate:v}),t==="Sales Leads"&&r.jsx(aUe,{leads:o.leads}),t==="Assigned Report"&&r.jsx(Z$e,{leads:o.leads,onExport:b,filters:m,setFilters:g})]})]})})};function sUe(){const{t:e,i18n:t}=Dt(),a=t.language==="ar",[s,n]=w.useState("Overall"),i=w.useMemo(()=>["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map((ye,Y)=>({day:ye,meetings:3+Y%4+(Y>3?2:0)})),[]),l=w.useMemo(()=>i.reduce((q,ie)=>q+ie.meetings,0),[i]),o=28,c=[{label:a?"":"WhatsApp",value:35,color:"#3b82f6"},{label:a?"":"Calls",value:15,color:"#8b5cf6"}],d=[{label:a?" ":"Project A",value:30,color:"#3b82f6"},{label:a?" ":"Project B",value:15,color:"#8b5cf6"}],u=[{name:"Alaa Mahamed",score:7},{name:"Mariam Salama",score:6},{name:"Mohamed Osama",score:6},{name:"Eman Anwar",score:6},{name:"Mohamed Mostafa",score:5}],f=({label:q,icon:ie})=>r.jsxs("button",{className:`px-5 py-2 rounded-md text-sm font-semibold transition-all inline-flex items-center gap-2 ${s===q?"bg-primary text-white shadow-lg ring-1 ring-primary/50":"btn-glass"}`,onClick:()=>n(q),children:[ie&&r.jsx("span",{className:"text-base",children:ie}),r.jsx("span",{children:q})]}),x=({title:q,desc:ie,icon:ye})=>r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:`flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[r.jsx("div",{className:`${a?"border-r-4":"border-l-4"} border-primary h-full`}),ye&&r.jsx("span",{className:"text-primary",children:ye}),r.jsx("h3",{className:`${a?"text-right":""} text-lg font-semibold`,children:q})]}),ie&&r.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:ie})]}),m=({title:q,value:ie,icon:ye})=>r.jsxs("div",{className:"glass-panel rounded-xl p-4 h-full",children:[r.jsx("div",{className:"flex items-center justify-between mb-2",children:r.jsxs("div",{className:"inline-flex items-center gap-2",children:[ye&&r.jsx("span",{className:"w-7 h-7 rounded-full bg-primary/10 text-primary flex items-center justify-center",children:ye}),r.jsx("span",{className:"text-sm text-[var(--muted-text)]",children:q})]})}),r.jsx("div",{className:"text-3xl font-bold",children:ie})]}),[g,v]=w.useState(10),[b,j]=w.useState(1),[S,k]=w.useState({key:"name",dir:"asc"}),[N,A]=w.useState(!1),[_,D]=w.useState({salesman:"",project:"",dateFrom:"",dateTo:""}),[P,I]=w.useState([]),B=w.useMemo(()=>[{date:"2025-11-01",status:"arranged"},{date:"2025-11-02",status:"arranged"},{date:"2025-11-03",status:"done"},{date:"2025-11-04",status:"arranged"},{date:"2025-11-05",status:"done"},{date:"2025-11-06",status:"done"},{date:"2025-11-07",status:"arranged"}],[]),O=q=>{const ie=_.dateFrom?new Date(_.dateFrom):null,ye=_.dateTo?new Date(_.dateTo):null,Y=new Date(q),ce=ie?Y>=ie:!0,he=ye?Y<=ye:!0;return ce&&he},U=w.useMemo(()=>B.filter(q=>q.status==="arranged"&&O(q.date)).length,[B,_]),E=w.useMemo(()=>B.filter(q=>q.status==="done"&&O(q.date)).length,[B,_]),R=w.useMemo(()=>[{date:"2025-11-01",name:"Abdullah Saleh",mobile:"1004******",meetings:1,project:"Crown Medical Center",salesman:"Mohamed"},{date:"2025-11-01",name:"",mobile:"1095******",meetings:1,project:"Crown Medical Center",salesman:"Mohamed"},{date:"2025-11-02",name:"Mohamed Zayed",mobile:"1012******",meetings:1,project:"Crown Plaza Mall",salesman:"Mohamed"},{date:"2025-11-02",name:"",mobile:"1094******",meetings:1,project:"Crown Plaza Mall",salesman:"Mina M"},{date:"2025-11-03",name:"ayman Shafie",mobile:"1033******",meetings:1,project:"Crown Medical Center",salesman:"Eman A"},{date:"2025-11-03",name:"Shady",mobile:"1005******",meetings:1,project:"Crown Plaza Mall",salesman:"Eman A"},{date:"2025-11-04",name:" ",mobile:"1147128208",meetings:1,project:"Crown Plaza Mall",salesman:"Mohamed"},{date:"2025-11-04",name:"Rawan Ahmed",mobile:"1006******",meetings:2,project:"Crown Medical Center",salesman:"Hossam"},{date:"2025-11-05",name:"Layla Saad",mobile:"1011******",meetings:1,project:"Crown Plaza Mall",salesman:"Khaled"},{date:"2025-11-06",name:"Omar Nabil",mobile:"1009******",meetings:3,project:"Crown Medical Center",salesman:"Nour"},{date:"2025-11-06",name:"Heba Adel",mobile:"1010******",meetings:1,project:"Crown Medical Center",salesman:"Mariam"}],[]),K=w.useMemo(()=>R.filter(q=>{const ie=_.salesman?String(q.salesman).toLowerCase().includes(String(_.salesman).toLowerCase().trim()):!0,ye=_.project?String(q.project).toLowerCase().includes(String(_.project).toLowerCase().trim()):!0,Y=_.dateFrom?q.date>=_.dateFrom:!0,ce=_.dateTo?q.date<=_.dateTo:!0;return ie&&ye&&(Y&&ce)}),[R,_]),V=w.useMemo(()=>{const q=[...K];return q.sort((ie,ye)=>{const Y=ie[S.key],ce=ye[S.key];return typeof Y=="number"&&typeof ce=="number"?S.dir==="asc"?Y-ce:ce-Y:S.dir==="asc"?String(Y).localeCompare(String(ce)):String(ce).localeCompare(String(Y))}),q},[K,S]),Z=Math.max(1,Math.ceil(V.length/g)),J=w.useMemo(()=>{const q=(b-1)*g;return V.slice(q,q+g)},[V,b,g]),ee=q=>`${q.name}|${q.mobile}`,W=w.useMemo(()=>J.length>0&&J.every(q=>P.includes(ee(q))),[J,P]),le=q=>{const ie=J.map(ee);I(q?ye=>Array.from(new Set([...ye,...ie])):ye=>ye.filter(Y=>!ie.includes(Y)))},M=q=>k(ie=>({key:q,dir:ie.key===q&&ie.dir==="asc"?"desc":"asc"})),X=()=>{const q=Jt.json_to_sheet(V),ie=Jt.book_new();Jt.book_append_sheet(ie,q,"Meetings"),gs(ie,"meetings_list.xlsx")},[z,Q]=w.useState("Day"),ne=[{name:"Amany Gamal",score:1}],re=[{salesman:"Amany Gamal",date:"11-01-2024 06:02 PM",location:"#"}],oe=w.useMemo(()=>re.filter(q=>{const ie=_.salesman?String(q.salesman).toLowerCase().includes(String(_.salesman).toLowerCase()):!0,ye=_.dateFrom?_.dateFrom:"",Y=_.dateTo?_.dateTo:"",ce=q.date?.split(" ")[0]||"",he=ae=>ae?ae.split("-").reverse().join("-"):"",ue=he(ce),Fe=he(ye),Ue=he(Y),Te=(Fe?ue>=Fe:!0)&&(Ue?ue<=Ue:!0);return ie&&Te}),[re,_]);return r.jsx(aa,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between relative",children:[r.jsx("h1",{className:"text-2xl font-semibold",children:e("Meetings Report")}),r.jsxs("button",{onClick:()=>A(q=>!q),className:"btn btn-glass inline-flex items-center gap-2",children:[r.jsx(Rle,{className:"text-base"}),r.jsx("span",{children:e("Filter")})]}),N&&r.jsxs("div",{className:"absolute right-0 top-full mt-2 z-20 glass-panel rounded-xl p-4 w-80 shadow-lg",children:[r.jsx("div",{className:"text-sm font-semibold mb-2",children:e("Filter Data")}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[r.jsxs("div",{className:"col-span-2",children:[r.jsx("label",{className:"text-xs mb-1 block",children:e("Salesman")}),r.jsx("input",{value:_.salesman,onChange:q=>D(ie=>({...ie,salesman:q.target.value})),className:"input w-full text-sm",placeholder:e("Type name")})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx("label",{className:"text-xs mb-1 block",children:e("Project")}),r.jsx("input",{value:_.project,onChange:q=>D(ie=>({...ie,project:q.target.value})),className:"input w-full text-sm",placeholder:e("Type project")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs mb-1 block",children:e("From Date")}),r.jsx("input",{type:"date",lang:a?"ar":"en",dir:a?"rtl":"ltr",placeholder:a?"//":"mm/dd/yyyy",value:_.dateFrom,onChange:q=>D(ie=>({...ie,dateFrom:q.target.value})),className:"input w-full text-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs mb-1 block",children:e("To Date")}),r.jsx("input",{type:"date",lang:a?"ar":"en",dir:a?"rtl":"ltr",placeholder:a?"//":"mm/dd/yyyy",value:_.dateTo,onChange:q=>D(ie=>({...ie,dateTo:q.target.value})),className:"input w-full text-sm"})]})]}),r.jsxs("div",{className:"flex items-center justify-end gap-2",children:[r.jsx("button",{className:"btn btn-glass",onClick:()=>D({salesman:"",project:"",dateFrom:"",dateTo:""}),children:e("Clear")}),r.jsx("button",{className:"btn bg-primary text-white",onClick:()=>A(!1),children:e("Apply")})]})]})]}),r.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("reports.meetings.desc")}),r.jsx("div",{className:"h-3"}),r.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[r.jsx(f,{label:"Overall",icon:r.jsx(dA,{})}),r.jsx(f,{label:"Checkin",icon:r.jsx(Ele,{})})]}),r.jsx("div",{className:"h-3"}),s==="Overall"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"glass-panel rounded-xl p-4 lg:col-span-2",children:[r.jsx(x,{title:a?"  ":"Meeting Over time"}),r.jsx("div",{className:"h-56",children:r.jsx(qw,{width:"100%",height:"100%",children:r.jsxs(I6,{data:i,children:[r.jsx(P6,{strokeDasharray:"3 3"}),r.jsx(Tv,{dataKey:"day"}),r.jsx(Ev,{allowDecimals:!1}),r.jsx(cj,{}),r.jsx(xj,{type:"monotone",dataKey:"meetings",stroke:"#3b82f6",strokeWidth:2,dot:{r:3}})]})})})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[r.jsx(m,{title:a?" ":"Total Of Meetings",value:l,icon:""}),r.jsx(m,{title:a?"  ":"Total Of Leads",value:o,icon:""}),r.jsx(m,{title:a?"  Arrange Meetings":"Arrange Meetings Count",value:U,icon:""}),r.jsx(m,{title:a?"  Done Meetings":"Done Meetings Count",value:E,icon:""})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:a?"":"Channels"}),r.jsx("div",{className:"flex items-center justify-center h-48",children:r.jsx(Zn,{segments:c,centerValue:c.reduce((q,ie)=>q+ie.value,0),centerLabel:a?"":"Total",size:180})})]}),r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:a?"":"Projects"}),r.jsx("div",{className:"flex items-center justify-center h-48",children:r.jsx(Zn,{segments:d,centerValue:d.reduce((q,ie)=>q+ie.value,0),centerLabel:a?"":"Total",size:180})})]}),r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"text-lg font-semibold",children:a?"":"The Best"}),r.jsx("button",{className:"btn-glass px-2 py-1 rounded-md text-xs",children:"All "})]}),r.jsx("div",{className:"space-y-2",children:u.map((q,ie)=>r.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg ${ie===0?"bg-yellow-100 dark:bg-yellow-900/30":"bg-transparent"}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 text-primary flex items-center justify-center text-xs",children:ie+1}),r.jsx("div",{className:"text-sm",children:q.name})]}),r.jsx("div",{className:"text-sm font-semibold",children:q.score})]},ie))})]})]}),r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"text-lg font-semibold",children:a?" ":"Data List"}),r.jsx("button",{onClick:X,className:"btn btn-glass",children:a?" ":"Export List"})]}),r.jsx("div",{className:"text-sm text-[var(--muted-text)] mb-3",children:a?"     .":"Manage your team members and their account permissions here."}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-3 py-2 text-left",children:r.jsx("input",{type:"checkbox","aria-label":"select all",checked:W,onChange:q=>le(q.target.checked)})}),r.jsxs("th",{className:"px-3 py-2 text-left cursor-pointer",onClick:()=>M("name"),children:[a?"":"Lead"," ",S.key==="name"?S.dir==="asc"?"":"":""]}),r.jsxs("th",{className:"px-3 py-2 text-left cursor-pointer",onClick:()=>M("mobile"),children:[a?"":"Mobile"," ",S.key==="mobile"?S.dir==="asc"?"":"":""]}),r.jsxs("th",{className:"px-3 py-2 text-left cursor-pointer",onClick:()=>M("meetings"),children:[a?" ":"Number Of Meetings"," ",S.key==="meetings"?S.dir==="asc"?"":"":""]}),r.jsxs("th",{className:"px-3 py-2 text-left cursor-pointer",onClick:()=>M("project"),children:[a?"":"Project"," ",S.key==="project"?S.dir==="asc"?"":"":""]}),r.jsxs("th",{className:"px-3 py-2 text-left cursor-pointer",onClick:()=>M("salesman"),children:[a?"":"Salesman"," ",S.key==="salesman"?S.dir==="asc"?"":"":""]})]})}),r.jsx("tbody",{children:J.map((q,ie)=>r.jsxs(In.Fragment,{children:[r.jsxs("tr",{className:"border-t",children:[r.jsx("td",{className:"px-3 py-2",children:r.jsx("input",{type:"checkbox","aria-label":"select row",checked:P.includes(ee(q)),onChange:ye=>{const Y=ee(q);I(ce=>ye.target.checked?Array.from(new Set([...ce,Y])):ce.filter(he=>he!==Y))}})}),r.jsx("td",{className:"px-3 py-2",children:q.name}),r.jsx("td",{className:"px-3 py-2",children:q.mobile}),r.jsx("td",{className:"px-3 py-2",children:q.meetings}),r.jsx("td",{className:"px-3 py-2",children:q.project}),r.jsx("td",{className:"px-3 py-2",children:q.salesman})]}),ie!==J.length-1&&r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"py-2"})})]},ie))})]})}),r.jsxs("div",{className:"flex items-center justify-between mt-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx("label",{children:a?"":"Show Entries"}),r.jsxs("select",{value:g,onChange:q=>{v(Number(q.target.value)),j(1)},className:"input text-sm",children:[r.jsx("option",{value:10,children:"10"}),r.jsx("option",{value:20,children:"20"}),r.jsx("option",{value:50,children:"50"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{disabled:b===1,onClick:()=>j(q=>Math.max(1,q-1)),className:"btn btn-glass",children:a?"":"Previous"}),r.jsx("div",{className:"px-3 py-1 rounded-md bg-gray-200 dark:bg-gray-700 text-sm",children:b}),r.jsx("button",{disabled:b===Z,onClick:()=>j(q=>Math.min(Z,q+1)),className:"btn btn-glass",children:a?"":"Next"})]})]})]})]}),s==="Checkin"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:a?" ":"Check In"}),r.jsx("div",{className:"text-sm text-[var(--muted-text)] mb-3",children:a?"    .":"Manage your team members and their account permissions here."}),r.jsx("div",{className:"flex items-center gap-3",children:["Day","Weekly","Monthly","Year"].map(q=>r.jsx("button",{onClick:()=>Q(q),className:`px-3 py-1 rounded-md text-sm ${z===q?"bg-primary text-white":"btn-glass"}`,children:a?{Day:"",Weekly:"",Monthly:"",Year:""}[q]:q},q))}),r.jsx("div",{className:"h-56 mt-3",children:r.jsx(qw,{width:"100%",height:"100%",children:r.jsxs(I6,{data:i,children:[r.jsx(P6,{strokeDasharray:"3 3"}),r.jsx(Tv,{dataKey:"day"}),r.jsx(Ev,{allowDecimals:!1}),r.jsx(cj,{}),r.jsx(xj,{type:"monotone",dataKey:"meetings",stroke:"#3b82f6",strokeWidth:2,dot:!1})]})})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[r.jsx("div",{className:"lg:col-span-2 space-y-4",children:r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:a?" ":"Data List"}),r.jsx("div",{className:"text-sm text-[var(--muted-text)] mb-3",children:a?"    .":"Manage your team members and their account permissions here."}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-3 py-2 text-left",children:r.jsx("input",{type:"checkbox","aria-label":"select all"})}),r.jsx("th",{className:"px-3 py-2 text-left",children:a?" ":"Salesman"}),r.jsx("th",{className:"px-3 py-2 text-left",children:a?"  ":"Check In Date"}),r.jsx("th",{className:"px-3 py-2 text-left",children:a?"":"Location"})]})}),r.jsx("tbody",{children:oe.map((q,ie)=>r.jsxs(In.Fragment,{children:[r.jsxs("tr",{className:"border-t",children:[r.jsx("td",{className:"px-3 py-2",children:r.jsx("input",{type:"checkbox","aria-label":"select row"})}),r.jsx("td",{className:"px-3 py-2",children:q.salesman}),r.jsx("td",{className:"px-3 py-2",children:q.date}),r.jsx("td",{className:"px-3 py-2",children:r.jsx("a",{href:q.location,className:"text-primary",children:a?"":"Location"})})]}),ie!==oe.length-1&&r.jsx("tr",{children:r.jsx("td",{colSpan:4,className:"py-2"})})]},ie))})]})}),r.jsxs("div",{className:"flex items-center justify-between mt-3",children:[r.jsx("div",{className:"text-sm",children:a?" 1":"Show Entries 1"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{className:"btn btn-glass",disabled:!0,children:"Previous"}),r.jsx("div",{className:"px-3 py-1 rounded-md bg-gray-200 dark:bg-gray-700 text-sm",children:"1"}),r.jsx("button",{className:"btn btn-glass",disabled:!0,children:"Next"})]})]})]})}),r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"text-lg font-semibold",children:a?"":"The Best"}),r.jsx("button",{className:"btn-glass px-2 py-1 rounded-md text-xs",children:"All "})]}),r.jsx("div",{className:"space-y-2",children:ne.map((q,ie)=>r.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg ${ie===0?"bg-yellow-100 dark:bg-yellow-900/30":"bg-transparent"}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 text-primary flex items-center justify-center text-xs",children:ie+1}),r.jsx("div",{className:"text-sm",children:q.name})]}),r.jsx("div",{className:"text-sm font-semibold",children:q.score})]},ie))})]})]})]})]})})}Sr.register(Cn,An,$n,xl,ai,rn,an);const nUe=()=>{const{t:e}=Dt(),t=Rs.dir()==="rtl",a=[{id:1,fileName:"clients_nov.csv",department:"Customers",performedBy:"Ahmed Ali",manager:"Maram Admin",dateTime:"2025-11-09T08:45:00",status:"Success",notes:""},{id:2,fileName:"orders_oct.xlsx",department:"Orders",performedBy:"Sara Hassan",manager:"Maram Admin",dateTime:"2025-11-08T15:10:00",status:"Failed",notes:"Missing column Order ID"},{id:3,fileName:"inventory_11_07.csv",department:"Inventory",performedBy:"Omar Ali",manager:"Maram Admin",dateTime:"2025-11-07T10:05:00",status:"Success",notes:""},{id:4,fileName:"leads_batch_oct.xlsx",department:"Leads",performedBy:"Mona Adel",manager:"Maram Admin",dateTime:"2025-11-06T13:30:00",status:"Success",notes:""},{id:5,fileName:"marketing_campaigns.csv",department:"Marketing",performedBy:"Ahmed Ali",manager:"Maram Admin",dateTime:"2025-11-05T09:15:00",status:"Failed",notes:"Unsupported date format in column Start Date"}],[s,n]=w.useState(a),[i,l]=w.useState("all"),[o,c]=w.useState("all"),[d,u]=w.useState("all"),[f,x]=w.useState("day"),[m,g]=w.useState(""),[v,b]=w.useState(""),[j,S]=w.useState(""),[k,N]=w.useState(""),[A,_]=w.useState(""),[D,P]=w.useState(!1),[I,B]=w.useState(null),[O,U]=w.useState("Customers"),[E,R]=w.useState("Ahmed Ali"),[K,V]=w.useState("Maram Admin"),[Z,J]=w.useState("Success"),[ee,W]=w.useState(""),le=w.useMemo(()=>Array.from(new Set(s.map(ae=>ae.department))),[s]),M=w.useMemo(()=>Array.from(new Set(s.map(ae=>ae.manager))),[s]),X=w.useMemo(()=>Array.from(new Set(s.map(ae=>ae.performedBy))),[s]),z=ae=>{const De=new Date(Date.UTC(ae.getFullYear(),ae.getMonth(),ae.getDate())),Ce=De.getUTCDay()||7;De.setUTCDate(De.getUTCDate()+4-Ce);const at=new Date(Date.UTC(De.getUTCFullYear(),0,1)),ft=Math.ceil(((De-at)/864e5+1)/7);return`${De.getUTCFullYear()}-W${String(ft).padStart(2,"0")}`},Q=ae=>{if(!f)return!0;if(f==="day")return!m||new Date(ae).toISOString().slice(0,10)===m;if(f==="week")return!v||z(new Date(ae))===v;if(f==="month")return!j||new Date(ae).toISOString().slice(0,7)===j;if(f==="range"){const De=new Date(ae),Ce=k?De>=new Date(k):!0,at=A?De<=new Date(A):!0;return Ce&&at}return!0},ne=w.useMemo(()=>s.filter(ae=>{const De=i==="all"||ae.manager===i,Ce=o==="all"||ae.performedBy===o,at=d==="all"||ae.department===d,ft=Q(ae.dateTime);return De&&Ce&&at&&ft}),[s,i,o,d,f,m,v,j,k,A]),re=ne.length,oe=ne.filter(ae=>ae.status==="Success").length,q=ne.filter(ae=>ae.status==="Failed").length,ie=w.useMemo(()=>{const ae=new Map;return ne.forEach(De=>{ae.set(De.department,(ae.get(De.department)||0)+1)}),ae},[ne]),ye=w.useMemo(()=>({Success:oe,Failed:q}),[oe,q]),Y=w.useMemo(()=>{const ae=new Map;ne.forEach(Ce=>{const at=new Date(Ce.dateTime).toISOString().slice(0,10);ae.set(at,(ae.get(at)||0)+1)});const De=Array.from(ae.entries()).sort((Ce,at)=>Ce[0].localeCompare(at[0]));return{labels:De.map(Ce=>Ce[0]),counts:De.map(Ce=>Ce[1])}},[ne]),ce=ae=>{const De={id:s.length?Math.max(...s.map(Ce=>Ce.id))+1:1,...ae,dateTime:ae.dateTime||new Date().toISOString()};n(Ce=>[De,...Ce])},he=ae=>{ae.preventDefault(),I&&(ce({fileName:I.name,department:O,performedBy:E,manager:K,status:Z,notes:ee||""}),P(!1),B(null),W(""),J("Success"))},ue=ae=>{ce({fileName:ae.fileName,department:ae.department,performedBy:ae.performedBy,manager:ae.manager,status:"Success",notes:"Re-run completed successfully"})},Fe=()=>{const ae=ne.map(at=>({FileName:at.fileName,Department:at.department,PerformedBy:at.performedBy,Manager:at.manager,DateTime:new Date(at.dateTime).toLocaleString(),Status:at.status,Notes:at.notes||""})),De=Jt.json_to_sheet(ae),Ce=Jt.book_new();Jt.book_append_sheet(Ce,De,"Imports"),gs(Ce,"imports_report.xlsx")},Ue=()=>window.print(),Te=({status:ae})=>r.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${ae==="Success"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300"}`,children:e(ae==="Success"?"Success":"Failed")});return r.jsxs(aa,{children:[r.jsx("div",{className:"mb-4",children:r.jsx("h1",{className:"text-2xl font-bold",children:t?" ":"Imports Report"})}),r.jsxs("div",{className:"flex justify-end gap-2 mb-4",children:[r.jsx("button",{onClick:Ue,className:"btn btn-primary",children:e("Download PDF","Download PDF")}),r.jsx("button",{onClick:Fe,className:"btn btn-secondary",children:e("Download Excel","Download Excel")}),r.jsxs("button",{onClick:()=>P(!0),className:"btn btn-accent inline-flex items-center gap-2",children:[r.jsx(xM,{})," ",e("Import","Import")]})]}),r.jsx("div",{className:"glass-panel p-4",children:r.jsx("div",{className:"flex items-center justify-between flex-wrap gap-3",children:r.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Manager","Manager")}),r.jsxs("select",{value:i,onChange:ae=>l(ae.target.value),className:"input min-w-[160px]",children:[r.jsx("option",{value:"all",children:e("All","All")}),M.map(ae=>r.jsx("option",{value:ae,children:ae},ae))]})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Employee","Employee")}),r.jsxs("select",{value:o,onChange:ae=>c(ae.target.value),className:"input min-w-[160px]",children:[r.jsx("option",{value:"all",children:e("All","All")}),X.map(ae=>r.jsx("option",{value:ae,children:ae},ae))]})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Department","Department")}),r.jsxs("select",{value:d,onChange:ae=>u(ae.target.value),className:"input min-w-[140px]",children:[r.jsx("option",{value:"all",children:e("All","All")}),le.map(ae=>r.jsx("option",{value:ae,children:ae},ae))]})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Date Filter")}),r.jsxs("select",{value:f,onChange:ae=>x(ae.target.value),className:"input min-w-[160px]",children:[r.jsx("option",{value:"day",children:e("Day")}),r.jsx("option",{value:"week",children:e("Week")}),r.jsx("option",{value:"month",children:e("Month")}),r.jsx("option",{value:"range",children:e("Custom Range")})]})]}),f==="day"&&r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Date")}),r.jsx("input",{type:"date",value:m,onChange:ae=>g(ae.target.value),className:"input"})]}),f==="week"&&r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Week")}),r.jsx("input",{type:"week",value:v,onChange:ae=>b(ae.target.value),className:"input"})]}),f==="month"&&r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Month")}),r.jsx("input",{type:"month",value:j,onChange:ae=>S(ae.target.value),className:"input"})]}),f==="range"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("From")}),r.jsx("input",{type:"date",value:k,onChange:ae=>N(ae.target.value),className:"input"})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("To")}),r.jsx("input",{type:"date",value:A,onChange:ae=>_(ae.target.value),className:"input"})]})]})]})})}),r.jsx("div",{className:"h-6","aria-hidden":"true"}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[{label:e("Total Imports"),value:re,color:"bg-blue-500"},{label:e("Successful"),value:oe,color:"bg-emerald-500"},{label:e("Failed"),value:q,color:"bg-rose-500"}].map((ae,De)=>r.jsxs("div",{className:"glass-panel p-4",children:[r.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:ae.label}),r.jsx("div",{className:"mt-1 text-2xl font-semibold",children:ae.value}),r.jsx("div",{className:`mt-2 h-1.5 rounded ${ae.color}`})]},De))}),r.jsx("div",{className:"h-6","aria-hidden":"true"}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"glass-panel p-4",children:[r.jsx("div",{className:"text-sm font-medium mb-2",children:e("Imports per Department")}),r.jsx(Ls,{data:{labels:Array.from(ie.keys()),datasets:[{label:e("Imports"),data:Array.from(ie.values()),backgroundColor:"rgba(59, 130, 246, 0.6)",borderRadius:6}]},options:{responsive:!0,plugins:{legend:{display:!1}},scales:{y:{ticks:{callback:ae=>`${ae}`}}}}})]}),r.jsxs("div",{className:"glass-panel p-4",children:[r.jsx("div",{className:"text-sm font-medium mb-2",children:e("Success vs Failed")}),r.jsx(Zn,{segments:[{label:e("Success"),value:ye.Success,color:"#10b981"},{label:e("Failed"),value:ye.Failed,color:"#ef4444"}],totalLabel:e("Imports")})]}),r.jsxs("div",{className:"glass-panel p-4",children:[r.jsx("div",{className:"text-sm font-medium mb-2",children:e("Imports Over Time")}),r.jsx(no,{data:{labels:Y.labels,datasets:[{label:e("Imports"),data:Y.counts,borderColor:"rgba(16, 185, 129, 0.9)",backgroundColor:"transparent",tension:.3,pointRadius:2}]},options:{responsive:!0,plugins:{legend:{position:"bottom"}},scales:{y:{ticks:{callback:ae=>`${ae}`}}}}})]})]}),r.jsx("div",{className:"h-6","aria-hidden":"true"}),r.jsxs("div",{className:"glass-panel p-4",children:[r.jsx("div",{className:"text-sm font-medium mb-3",children:e("Import Logs")}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm nova-table nova-table--glass",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left bg-[var(--table-header-bg)]",children:[r.jsx("th",{className:"px-3 py-2",children:e("File Name")}),r.jsx("th",{className:"px-3 py-2",children:e("Department")}),r.jsx("th",{className:"px-3 py-2",children:e("Performed By")}),r.jsx("th",{className:"px-3 py-2",children:e("Date & Time")}),r.jsx("th",{className:"px-3 py-2",children:e("Status")}),r.jsx("th",{className:"px-3 py-2",children:e("Notes / Errors")}),r.jsx("th",{className:"px-3 py-2",children:e("Action")})]})}),r.jsxs("tbody",{children:[ne.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-3 py-6 text-center text-[var(--muted-text)]",children:e("No data")})}),ne.map(ae=>r.jsxs("tr",{className:"border-t border-[var(--table-row-border)] odd:bg-[var(--table-row-bg)] hover:bg-[var(--table-row-hover)] transition-colors",children:[r.jsx("td",{className:"px-3 py-2",children:ae.fileName}),r.jsx("td",{className:"px-3 py-2",children:ae.department}),r.jsxs("td",{className:"px-3 py-2",children:[ae.performedBy," ",r.jsxs("span",{className:"text-[var(--muted-text)]",children:["(",ae.manager,")"]})]}),r.jsx("td",{className:"px-3 py-2",children:new Date(ae.dateTime).toLocaleString()}),r.jsx("td",{className:"px-3 py-2",children:r.jsx(Te,{status:ae.status})}),r.jsx("td",{className:"px-3 py-2",children:ae.notes||""}),r.jsx("td",{className:"px-3 py-2",children:r.jsx("div",{className:"flex items-center gap-2",children:ae.status==="Failed"&&r.jsxs("button",{onClick:()=>ue(ae),className:"btn btn-glass inline-flex items-center gap-1",children:[r.jsx(uA,{})," ",e("Re-run")]})})})]},ae.id))]})]})})]}),r.jsx("div",{className:"h-6","aria-hidden":"true"}),D&&r.jsxs("div",{className:"fixed inset-0 z-40 flex items-center justify-center",children:[r.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>P(!1)}),r.jsxs("form",{onSubmit:he,className:"relative z-50 glass-panel rounded-xl p-4 w-[560px] max-w-[95vw]",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h2",{className:"text-lg font-semibold",children:e("New Import")}),r.jsx("button",{type:"button",className:"btn btn-glass",onClick:()=>P(!1),children:e("Close")})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("File")}),r.jsx("input",{type:"file",onChange:ae=>B(ae.target.files?.[0]||null),className:"input",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Department")}),r.jsx("select",{value:O,onChange:ae=>U(ae.target.value),className:"input",children:le.map(ae=>r.jsx("option",{value:ae,children:ae},ae))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Performed By")}),r.jsx("select",{value:E,onChange:ae=>R(ae.target.value),className:"input",children:X.map(ae=>r.jsx("option",{value:ae,children:ae},ae))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Manager")}),r.jsx("select",{value:K,onChange:ae=>V(ae.target.value),className:"input",children:M.map(ae=>r.jsx("option",{value:ae,children:ae},ae))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Result")}),r.jsxs("select",{value:Z,onChange:ae=>J(ae.target.value),className:"input",children:[r.jsx("option",{value:"Success",children:e("Success")}),r.jsx("option",{value:"Failed",children:e("Failed")})]})]}),r.jsxs("div",{className:"sm:col-span-2",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Notes / Errors")}),r.jsx("textarea",{value:ee,onChange:ae=>W(ae.target.value),className:"input",rows:3,placeholder:e("Optional","Optional")})]})]}),r.jsx("div",{className:"mt-3 flex items-center justify-end gap-2",children:r.jsxs("button",{type:"submit",className:"btn btn-primary inline-flex items-center gap-2",children:[r.jsx(xM,{})," ",e("Import")]})})]})]})]})};Sr.register(Cn,An,xl,ai,$n,Em,wx,rn,an);const o$=()=>{const{t:e}=Dt(),t=Rs.dir()==="rtl",[a,s]=w.useState(""),[n,i]=w.useState(10),[l,o]=w.useState(1),[c,d]=w.useState(!1),[u,f]=w.useState(null),[x,m]=w.useState(!1),[g,v]=w.useState("All"),[b,j]=w.useState("All"),[S,k]=w.useState("All"),[N,A]=w.useState("month"),[_,D]=w.useState(""),[P,I]=w.useState(""),[B,O]=w.useState(""),U=["All","Ahmed Ali","Sara Hassan"],E=["All","Maram Admin","Ibrahim Manager","Lina Ops"],R=["All","Customers","Orders","Sales","Inventory"],[K,V]=w.useState(()=>{const Te=new Date,ae=(De,Ce,at,ft,zt,st)=>({fileName:De,department:Ce,performedBy:at,timestamp:new Date(Te.getTime()-ft*24*60*60*1e3),status:zt,notes:st});return[ae("clients_nov.csv","Customers","Ahmed Ali",0,"Success",""),ae("orders_oct.xlsx","Orders","Sara Hassan",1,"Failed","Connection timeout"),ae("sales_week_44.xlsx","Sales","Maram Admin",3,"Success",""),ae("inventory_snapshot.csv","Inventory","Lina Ops",6,"Failed","Auth token expired"),ae("clients_oct.csv","Customers","Ahmed Ali",8,"Success",""),ae("orders_sep.xlsx","Orders","Ibrahim Manager",11,"Success",""),ae("sales_q3.xlsx","Sales","Maram Admin",15,"Failed","Network drop")]}),[Z,J]=w.useState(()=>[]),ee=(Te,ae,De,Ce,at,ft="")=>{J(zt=>[{id:`${Date.now()}_${Math.random().toString(36).slice(2)}`,action:Te,status:ae,fileName:De,user:Ce,department:at,timestamp:new Date,notes:ft},...zt])},W=w.useMemo(()=>{const Te=K.length,ae=K.filter(Ce=>Ce.status==="Success").length,De=K.filter(Ce=>Ce.status==="Failed").length;return{total:Te,success:ae,failed:De}},[K]),le=(Te,ae)=>Te.getFullYear()===ae.getFullYear()&&Te.getMonth()===ae.getMonth()&&Te.getDate()===ae.getDate(),M=(Te,ae)=>{const De=new Date(ae),Ce=(Te-De)/(1e3*60*60*24);return Math.abs(Ce)<=3},X=(Te,ae)=>Te.getFullYear()===ae.getFullYear()&&Te.getMonth()===ae.getMonth(),z=w.useMemo(()=>{let Te=K;if(a&&(Te=Te.filter(ae=>ae.fileName.toLowerCase().includes(a.toLowerCase()))),g!=="All"&&(Te=Te.filter(ae=>ae.performedBy===g)),b!=="All"&&(Te=Te.filter(ae=>ae.performedBy===b)),S!=="All"&&(Te=Te.filter(ae=>ae.department===S)),N==="day"&&_){const ae=new Date(_);Te=Te.filter(De=>le(De.timestamp,ae))}if(N==="week"&&_){const ae=new Date(_);Te=Te.filter(De=>M(De.timestamp,ae))}if(N==="month"&&_){const ae=new Date(_);Te=Te.filter(De=>X(De.timestamp,ae))}if(N==="range"&&P&&B){const ae=new Date(P),De=new Date(B);Te=Te.filter(Ce=>Ce.timestamp>=ae&&Ce.timestamp<=De)}return Te},[K,a,g,b,S,N,_,P,B]),Q=Math.max(1,Math.ceil(z.length/n)),ne=w.useMemo(()=>{const Te=(l-1)*n;return z.slice(Te,Te+n)},[z,l,n]),re=Te=>{const ae=`File Name,Department,Performed By,Date & Time,Status,Notes
${Te.fileName},${Te.department},${Te.performedBy},${Te.timestamp.toLocaleString()},${Te.status},${Te.notes||""}`,De=new Blob([ae],{type:"text/csv;charset=utf-8;"}),Ce=URL.createObjectURL(De),at=document.createElement("a");at.href=Ce;const ft=Te.fileName?.replace(/\.(xlsx|csv)$/i,".csv")||"export.csv";at.download=ft,document.body.appendChild(at),at.click(),document.body.removeChild(at),URL.revokeObjectURL(Ce),ee("Download Row","Success",Te.fileName,Te.performedBy,Te.department,"")},oe=Te=>{V(ae=>{const De=[...ae],Ce={...De[Te]},at=Math.random()<.7;return Ce.status=at?"Success":"Failed",Ce.notes=at?"":"Retry failed",De[Te]=Ce,ee("Re-run Export",Ce.status,Ce.fileName,Ce.performedBy,Ce.department,Ce.notes),De})},q=()=>{const Te=z.map(Ce=>({"File Name":Ce.fileName,Department:Ce.department,"Performed By":Ce.performedBy,"Date & Time":Ce.timestamp.toLocaleString(),Status:Ce.status,"Notes / Errors":Ce.notes||""})),ae=Jt.json_to_sheet(Te),De=Jt.book_new();Jt.book_append_sheet(De,ae,"Exports"),gs(De,"exports_report.xlsx"),ee("Export Excel","Success","exports_report.xlsx","System",S==="All"?"Mixed":S)},ie=()=>{const Te=new ma("l","pt","a4");Te.setFontSize(14),Te.text(t?" ":"Exports Report",40,40);const ae=[[t?" ":"File Name",t?"":"Department",t?" ":"Performed By",t?" ":"Date & Time",t?"":"Status",t?"":"Notes"]],De=z.map(Ce=>[Ce.fileName,Ce.department,Ce.performedBy,Ce.timestamp.toLocaleString(),Ce.status,Ce.notes||""]);Te.autoTable({head:ae,body:De,startY:60}),Te.save("exports_report.pdf"),ee("Export PDF","Success","exports_report.pdf","System",S==="All"?"Mixed":S)},ye=w.useMemo(()=>{const Te=new Map;z.forEach(Ce=>Te.set(Ce.department,(Te.get(Ce.department)||0)+1));const ae=Array.from(Te.keys()),De=ae.map(Ce=>Te.get(Ce));return{labels:ae,data:De}},[z]),Y=w.useMemo(()=>{const Te=z.filter(De=>De.status==="Success").length,ae=z.filter(De=>De.status==="Failed").length;return{success:Te,failed:ae}},[z]),ce=w.useMemo(()=>{const Te=at=>new Date(at.getFullYear(),at.getMonth(),at.getDate()).toLocaleDateString(),ae=new Map;z.forEach(at=>{const ft=Te(at.timestamp);ae.set(ft,(ae.get(ft)||0)+1)});const De=Array.from(ae.keys()).sort((at,ft)=>new Date(at)-new Date(ft)),Ce=De.map(at=>ae.get(at));return{labels:De,data:Ce}},[z]),he=({status:Te})=>{const ae=Te==="Success",De=t?ae?"":"":Te,Ce=ae?"ring-emerald-200":"ring-rose-200",at=ae?"bg-emerald-100":"bg-rose-100",ft=ae?"text-emerald-700":"text-rose-700",zt=ae?"bg-emerald-600":"bg-rose-600";return r.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ${at} ${ft} ring-1 ${Ce}`,title:Te,children:[r.jsx("span",{className:`inline-block w-1.5 h-1.5 rounded-full ${zt}`}),De]})},[ue,Fe]=w.useState({fileName:"",department:"Customers"}),Ue=()=>{const Te="Maram Admin",ae=Math.random()<.85,De={fileName:ue.fileName||`export_${Date.now()}.csv`,department:ue.department,performedBy:Te,timestamp:new Date,status:ae?"Success":"Failed",notes:ae?"":"Service unavailable"};V(Ce=>[De,...Ce]),ee("Export",De.status,De.fileName,Te,De.department,De.notes),m(!1),Fe({fileName:"",department:"Customers"})};return r.jsx(aa,{children:r.jsxs("div",{className:"p-4 space-y-4",children:[r.jsx("div",{className:"glass-panel rounded-xl p-4",children:r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsx("h1",{className:"text-2xl font-semibold",children:t?"  ":"Exports Report"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{className:"btn btn-glass",onClick:ie,children:[r.jsx(y5,{className:"mr-1"})," ",t?" PDF":"Download PDF"]}),r.jsxs("button",{className:"btn btn-glass",onClick:q,children:[r.jsx(y5,{className:"mr-1"})," ",t?" Excel":"Download Excel"]}),r.jsx("button",{className:"btn btn-primary",onClick:()=>m(!0),children:t?"":"Export"})]})]})}),r.jsx("div",{className:"glass-panel rounded-xl p-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"label",children:t?"":"Manager"}),r.jsx("select",{className:"input w-full",value:g,onChange:Te=>{v(Te.target.value),o(1)},children:U.map(Te=>r.jsx("option",{value:Te,children:Te},Te))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:t?"":"Employee"}),r.jsx("select",{className:"input w-full",value:b,onChange:Te=>{j(Te.target.value),o(1)},children:E.map(Te=>r.jsx("option",{value:Te,children:Te},Te))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:t?"":"Department"}),r.jsx("select",{className:"input w-full",value:S,onChange:Te=>{k(Te.target.value),o(1)},children:R.map(Te=>r.jsx("option",{value:Te,children:Te},Te))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:t?" ":"Date Mode"}),r.jsxs("select",{className:"input w-full",value:N,onChange:Te=>{A(Te.target.value),o(1)},children:[r.jsx("option",{value:"day",children:t?"":"Day"}),r.jsx("option",{value:"week",children:t?"":"Week"}),r.jsx("option",{value:"month",children:t?"":"Month"}),r.jsx("option",{value:"range",children:t?"":"Range"})]})]}),N!=="range"&&r.jsxs("div",{children:[r.jsx("label",{className:"label",children:t?"":"Date"}),r.jsx("input",{type:"date",className:"input w-full",value:_,onChange:Te=>{D(Te.target.value),o(1)}})]}),N==="range"&&r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"label",children:t?"":"Start"}),r.jsx("input",{type:"date",className:"input w-full",value:P,onChange:Te=>{I(Te.target.value),o(1)}})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:t?"":"End"}),r.jsx("input",{type:"date",className:"input w-full",value:B,onChange:Te=>{O(Te.target.value),o(1)}})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:t?"":"Search"}),r.jsxs("div",{className:"relative",children:[r.jsx(Fle,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),r.jsx("input",{value:a,onChange:Te=>{s(Te.target.value),o(1)},placeholder:t?" ":"Search file name",className:"input w-full pl-9"})]})]})]})}),r.jsx("div",{className:"h-4","aria-hidden":"true"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsx("div",{className:"text-sm text-gray-500",children:t?"  ":"Total Exports"}),r.jsx("div",{className:"text-2xl font-semibold",children:W.total})]}),r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsx("div",{className:"text-sm text-gray-500",children:t?"":"Successful"}),r.jsx("div",{className:"text-2xl font-semibold text-emerald-600",children:W.success})]}),r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsx("div",{className:"text-sm text-gray-500",children:t?"":"Failed"}),r.jsx("div",{className:"text-2xl font-semibold text-rose-600",children:W.failed})]})]}),r.jsx("div",{className:"h-4","aria-hidden":"true"}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3",children:[r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsx("div",{className:"font-semibold mb-2",children:t?"  ":"Exports per Department"}),r.jsx(Ls,{data:{labels:ye.labels,datasets:[{label:t?"":"Count",data:ye.data,backgroundColor:"#4f46e5"}]},options:{responsive:!0,plugins:{legend:{display:!1}}}})]}),r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsx("div",{className:"font-semibold mb-2",children:t?"  ":"Successful vs Failed"}),r.jsx(Rj,{data:{labels:[t?"":"Successful",t?"":"Failed"],datasets:[{data:[Y.success,Y.failed],backgroundColor:["#10b981","#ef4444"],borderColor:["#ffffff","#ffffff"],borderWidth:2,hoverOffset:6}]},options:{responsive:!0,cutout:"70%",plugins:{legend:{position:"bottom",labels:{usePointStyle:!0}},tooltip:{callbacks:{label:Te=>`${Te.label}: ${Te.raw}`}}}}}),r.jsxs("div",{className:"mt-3 flex items-center gap-4 text-sm",children:[r.jsxs("div",{className:"inline-flex items-center gap-2",children:[r.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-emerald-600"}),r.jsxs("span",{className:"text-emerald-700",children:[t?"":"Successful",": ",Y.success]})]}),r.jsxs("div",{className:"inline-flex items-center gap-2",children:[r.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-rose-600"}),r.jsxs("span",{className:"text-rose-700",children:[t?"":"Failed",": ",Y.failed]})]})]})]}),r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsx("div",{className:"font-semibold mb-2",children:t?"  ":"Exports Over Time"}),r.jsx(no,{data:{labels:ce.labels,datasets:[{label:t?"":"Exports",data:ce.data,borderColor:"#4f46e5",backgroundColor:"#4f46e5"}]},options:{responsive:!0,plugins:{legend:{display:!1}}}})]})]}),r.jsx("div",{className:"h-4","aria-hidden":"true"}),r.jsxs("div",{className:"glass-panel rounded-xl p-0 overflow-hidden",children:[r.jsxs("table",{className:"nova-table nova-table--glass w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"nova-th"}),r.jsx("th",{className:"nova-th",children:t?" ":"File Name"}),r.jsx("th",{className:"nova-th",children:t?"":"Department"}),r.jsx("th",{className:"nova-th",children:t?" ":"Performed By"}),r.jsx("th",{className:"nova-th",children:t?" ":"Date & Time"}),r.jsx("th",{className:"nova-th",children:t?"":"Status"}),r.jsx("th",{className:"nova-th",children:t?"":"Notes"}),r.jsx("th",{className:"nova-th",children:t?"":"Action"})]})}),r.jsxs("tbody",{children:[ne.map((Te,ae)=>r.jsxs("tr",{className:"nova-tr",children:[r.jsx("td",{className:"nova-td",children:r.jsx("input",{type:"checkbox",checked:c,onChange:De=>d(De.target.checked),"aria-label":"select"})}),r.jsx("td",{className:"nova-td text-sm",children:Te.fileName}),r.jsx("td",{className:"nova-td text-sm",children:Te.department}),r.jsx("td",{className:"nova-td text-sm",children:Te.performedBy}),r.jsx("td",{className:"nova-td text-sm",children:Te.timestamp.toLocaleString()}),r.jsx("td",{className:"nova-td",children:r.jsx(he,{status:Te.status})}),r.jsx("td",{className:"nova-td text-sm",children:Te.notes||"-"}),r.jsx("td",{className:"nova-td",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>f(Te),className:"text-primary text-sm hover:underline",children:t?"":"Preview"}),r.jsx("button",{onClick:()=>re(Te),className:"btn btn-glass px-2 py-1",title:t?"":"Download",children:r.jsx(y5,{})}),Te.status==="Failed"&&r.jsx("button",{onClick:()=>oe((l-1)*n+ae),className:"btn btn-glass px-2 py-1",title:t?" ":"Re-run",children:r.jsx(uA,{})})]})})]},ae)),ne.length===0&&r.jsx("tr",{children:r.jsx("td",{className:"nova-td text-center text-sm text-gray-500",colSpan:8,children:t?"  ":"No results"})})]})]}),r.jsxs("div",{className:"p-3 flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:[t?"  ":"Entries per page",r.jsxs("select",{value:n,onChange:Te=>{i(Number(Te.target.value)),o(1)},className:"ml-2 input w-20",children:[r.jsx("option",{value:10,children:"10"}),r.jsx("option",{value:25,children:"25"}),r.jsx("option",{value:50,children:"50"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{className:"btn btn-glass",disabled:l===1,onClick:()=>o(Te=>Math.max(1,Te-1)),children:t?"":"Prev"}),r.jsxs("span",{className:"text-sm",children:[l," / ",Q]}),r.jsx("button",{className:"btn btn-glass",disabled:l===Q,onClick:()=>o(Te=>Math.min(Q,Te+1)),children:t?"":"Next"})]})]})]}),r.jsx("div",{className:"h-4","aria-hidden":"true"}),r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"font-semibold",children:t?" ":"Audit Trail"}),r.jsx("div",{className:"text-xs text-gray-500",children:t?"      ":"Logs all export, download, and re-run actions"})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"nova-table nova-table--glass w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"nova-th",children:t?"":"Time"}),r.jsx("th",{className:"nova-th",children:t?"":"Action"}),r.jsx("th",{className:"nova-th",children:t?" ":"File Name"}),r.jsx("th",{className:"nova-th",children:t?"":"Department"}),r.jsx("th",{className:"nova-th",children:t?"":"User"}),r.jsx("th",{className:"nova-th",children:t?"":"Status"}),r.jsx("th",{className:"nova-th",children:t?"":"Notes"})]})}),r.jsxs("tbody",{children:[Z.length===0&&r.jsx("tr",{children:r.jsx("td",{className:"nova-td text-center text-sm text-gray-500",colSpan:7,children:t?"   ":"No logs yet"})}),Z.map(Te=>r.jsxs("tr",{className:"nova-tr",children:[r.jsx("td",{className:"nova-td text-sm",children:new Date(Te.timestamp).toLocaleString()}),r.jsx("td",{className:"nova-td text-sm",children:Te.action}),r.jsx("td",{className:"nova-td text-sm",children:Te.fileName}),r.jsx("td",{className:"nova-td text-sm",children:Te.department}),r.jsx("td",{className:"nova-td text-sm",children:Te.user}),r.jsx("td",{className:"nova-td",children:r.jsx(he,{status:Te.status})}),r.jsx("td",{className:"nova-td text-sm",children:Te.notes||"-"})]},Te.id))]})]})})]}),u&&r.jsxs("div",{className:"fixed inset-0 z-40 flex items-center justify-center",children:[r.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>f(null)}),r.jsxs("div",{className:"relative z-50 glass-panel rounded-xl p-4 w-[560px] max-w-[95vw]",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h2",{className:"text-lg font-semibold",children:t?" ":"File Preview"}),r.jsx("button",{className:"btn btn-glass",onClick:()=>f(null),children:t?"":"Close"})]}),r.jsxs("div",{className:"text-sm space-y-2",children:[r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[t?"":"Name",":"]})," ",u.fileName]}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[t?"":"Department",":"]})," ",u.department]}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[t?"":"Status",":"]})," ",u.status]}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[t?" ":"Performed By",":"]})," ",u.performedBy]}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[t?"":"Date",":"]})," ",u.timestamp.toLocaleString()]})]}),r.jsx("div",{className:"mt-3 p-3 rounded-lg border border-gray-200 dark:border-gray-700 bg-transparent text-xs text-gray-600 dark:text-gray-300",children:t?"  .":"This is a descriptive preview."})]})]}),x&&r.jsxs("div",{className:"fixed inset-0 z-40 flex items-center justify-center",children:[r.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>m(!1)}),r.jsxs("div",{className:"relative z-50 glass-panel rounded-xl p-4 w-[560px] max-w-[95vw]",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h2",{className:"text-lg font-semibold",children:t?" ":"New Export"}),r.jsx("button",{className:"btn btn-glass",onClick:()=>m(!1),children:t?"":"Close"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"label",children:t?" ":"File Name"}),r.jsx("input",{className:"input w-full",value:ue.fileName,onChange:Te=>Fe(ae=>({...ae,fileName:Te.target.value})),placeholder:"clients_export.csv"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:t?"":"Department"}),r.jsx("select",{className:"input w-full",value:ue.department,onChange:Te=>Fe(ae=>({...ae,department:Te.target.value})),children:R.filter(Te=>Te!=="All").map(Te=>r.jsx("option",{value:Te,children:Te},Te))})]})]}),r.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[r.jsx("button",{className:"btn btn-glass",onClick:()=>m(!1),children:t?"":"Cancel"}),r.jsx("button",{className:"btn btn-primary",onClick:Ue,children:t?" ":"Perform Export"})]})]})]})]})})};Sr.register(Cn,An,$n,rn,an);function iUe(){const{t:e,i18n:t}=Dt(),a=(t?.language||"").toLowerCase().startsWith("ar"),s=[{name:"Ahmed Ali",calls:45,actions:30,delayed:3,stages:{lead:10,qualified:12,proposal:0,closed:8},revenue:82e3,target:1e5},{name:"Sara Hassan",calls:58,actions:40,delayed:1,stages:{lead:14,qualified:18,proposal:0,closed:8},revenue:105e3,target:1e5},{name:"Omar Mostafa",calls:32,actions:22,delayed:5,stages:{lead:8,qualified:9,proposal:3,closed:2},revenue:54e3,target:9e4},{name:"Mona Adel",calls:40,actions:27,delayed:2,stages:{lead:12,qualified:10,proposal:4,closed:6},revenue:76e3,target:11e4}],[n,i]=w.useState("all"),[l,o]=w.useState("month"),c=w.useMemo(()=>n==="all"?s:s.filter(j=>j.name===n),[n]),d=w.useMemo(()=>{const j=c.reduce((D,P)=>D+P.calls,0),S=c.reduce((D,P)=>D+P.actions,0),k=c.reduce((D,P)=>D+P.delayed,0),N=c.reduce((D,P)=>D+P.revenue,0),A=c.reduce((D,P)=>D+P.target,0),_=c.length?Math.round(c.reduce((D,P)=>D+P.revenue/P.target*100,0)/c.length):0;return{calls:j,actions:S,delayed:k,revenue:N,target:A,avgPct:_}},[c]),u=w.useMemo(()=>{const j=c.reduce((k,N)=>(k.lead+=N.stages.lead,k.qualified+=N.stages.qualified,k.proposal+=N.stages.proposal,k.closed+=N.stages.closed,k),{lead:0,qualified:0,proposal:0,closed:0}),S=typeof document<"u"&&document.documentElement.classList.contains("dark");return[{label:e("Lead"),value:j.lead,color:"#3b82f6"},{label:e("Qualified"),value:j.qualified,color:"#22c55e"},{label:e("Proposal"),value:j.proposal,color:"#f59e0b"},{label:e("Closed"),value:j.closed,color:"#8b5cf6"}]},[c,e]),f=typeof document<"u"&&document.documentElement.classList.contains("dark")?"#e5e7eb":"#374151",x={labels:c.map(j=>j.name),datasets:[{label:e("Calls"),data:c.map(j=>j.calls),backgroundColor:"#2563eb",borderRadius:6,barThickness:24},{label:e("Actions"),data:c.map(j=>j.actions),backgroundColor:"#22c55e",borderRadius:6,barThickness:24}]},m={responsive:!0,maintainAspectRatio:!1,scales:{x:{grid:{display:!1},ticks:{font:{size:12},color:f}},y:{grid:{display:!1},ticks:{font:{size:12},color:f}}},plugins:{legend:{display:!0}}},g=j=>j>=90?"bg-emerald-500":j>=60?"bg-yellow-500":"bg-red-500",v=()=>{const j=c.map(N=>({Salesperson:N.name,Calls:N.calls,Actions:N.actions,Delayed:N.delayed,Lead:N.stages.lead,Qualified:N.stages.qualified,Proposal:N.stages.proposal,Closed:N.stages.closed,RevenueAchieved:N.revenue,TargetPercent:Math.round(N.revenue/N.target*100)})),S=Jt.json_to_sheet(j),k=Jt.book_new();Jt.book_append_sheet(k,S,"SalesActivities"),gs(k,"sales-activities-dashboard.xlsx")},b=()=>{window.print()};return r.jsx(aa,{titleKey:"Sales Activities",children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsx("h1",{className:"text-2xl font-semibold",children:e("Sales Activities")})}),r.jsx("div",{className:"h-2","aria-hidden":"true"}),r.jsx("div",{className:"flex justify-end",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:b,className:"btn btn-primary",children:e("Download PDF")}),r.jsx("button",{onClick:v,className:"btn btn-secondary",children:e("Download Excel")})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4",children:r.jsxs("div",{className:"flex flex-wrap gap-3 items-end",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-300 mb-1",children:e("Salesperson")}),r.jsxs("select",{value:n,onChange:j=>i(j.target.value),className:"px-3 py-2 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-100",children:[r.jsx("option",{value:"all",children:e("All")}),s.map(j=>r.jsx("option",{value:j.name,children:j.name},j.name))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-300 mb-1",children:e("Date Range")}),r.jsx("div",{className:"flex gap-2",children:["day","week","month"].map(j=>r.jsx("button",{onClick:()=>o(j),className:`px-3 py-2 rounded-md border text-sm ${l===j?"bg-blue-600 text-white border-blue-600":"bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-100 border-gray-300 dark:border-gray-700"}`,children:e(j.charAt(0).toUpperCase()+j.slice(1))},j))})]})]})}),r.jsx("div",{className:"h-4","aria-hidden":"true"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{label:e("Total Calls"),value:d.calls,accent:"bg-blue-500"},{label:e("Total Actions"),value:d.actions,accent:"bg-emerald-500"},{label:e("Total Revenue"),value:`${d.revenue.toLocaleString()} EGP`,accent:"bg-purple-500"},{label:e("Average Achievement %"),value:`${d.avgPct}%`,accent:"bg-indigo-500"}].map(j=>r.jsx("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:`inline-block w-2 h-6 rounded ${j.accent}`}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-300",children:j.label}),r.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:j.value})]})]})},j.label))}),r.jsx("div",{className:"h-4","aria-hidden":"true"}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:`flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[r.jsx("div",{className:`${a?"border-r-4":"border-l-4"} border-primary h-full`}),r.jsx("h3",{className:`${a?"text-right":""} text-lg font-semibold text-gray-900 dark:text-gray-100`,children:e("Calls & Actions")})]}),r.jsx("span",{className:"text-xs text-[var(--muted-text)]",children:e("Per Salesperson")})]}),r.jsx("div",{style:{height:"260px"},children:r.jsx(Ls,{data:x,options:m})})]}),r.jsxs("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[r.jsx("div",{className:"flex items-center justify-between mb-3",children:r.jsxs("div",{className:`flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[r.jsx("div",{className:`${a?"border-r-4":"border-l-4"} border-primary h-full`}),r.jsx("h3",{className:`${a?"text-right":""} text-lg font-semibold text-gray-900 dark:text-gray-100`,children:e("Actions by Stage")})]})}),r.jsx(Zn,{segments:u,size:180,centerLabel:e("Stages")})]})]}),r.jsx("div",{className:"h-4","aria-hidden":"true"}),r.jsx("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full text-sm",children:[r.jsx("thead",{children:r.jsx("tr",{className:"text-left border-b border-gray-200 dark:border-gray-700",children:[e("Salesperson"),e("Calls"),e("Actions"),e("Delayed"),e("Actions by Stage"),e("Revenue Achieved"),e("Target %")].map((j,S)=>r.jsx("th",{className:"px-3 py-2 text-gray-700 dark:text-gray-200 font-medium",children:j},S))})}),r.jsx("tbody",{children:c.map((j,S)=>{const k=Math.round(j.revenue/j.target*100);return r.jsxs(In.Fragment,{children:[r.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-700",children:[r.jsx("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100",children:j.name}),r.jsx("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100",children:j.calls}),r.jsx("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100",children:j.actions}),r.jsx("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100",children:j.delayed}),r.jsx("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100",children:`${j.stages.lead} ${e("Lead")} / ${j.stages.qualified} ${e("Qualified")} / ${j.stages.closed} ${e("Closed")}`}),r.jsx("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100",children:`${j.revenue.toLocaleString()} EGP`}),r.jsx("td",{className:"px-3 py-2",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"flex-1 h-2 rounded bg-gray-200 dark:bg-gray-700 overflow-hidden",children:r.jsx("div",{className:`h-2 ${g(k)}`,style:{width:`${Math.min(100,k)}%`}})}),r.jsxs("span",{className:"text-xs text-gray-700 dark:text-gray-200 w-10 text-right",children:[k,"%"]})]})})]}),S!==c.length-1&&r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"py-2"})})]},j.name)})})]})})})]})})}function lUe({segments:e=[],width:t=380,sliceHeight:a=30,gap:s=10,showConversions:n=!0,formatValue:i}){const l=Math.max(...e.map(f=>f.value),1),o=e.reduce((f,x)=>f+x.value,0)||1,c=typeof document<"u"&&document.documentElement.classList.contains("dark"),d=c?"text-gray-100":"text-gray-900",u=c?"text-gray-300":"text-gray-600";return r.jsx("div",{style:{width:t},className:"mx-auto",children:e.map((f,x)=>{const m=Math.max(48,Math.round(f.value/l*t)),g=Math.round(f.value/o*100),v=i?i(f.value):f.value.toLocaleString(),b=f.colorStart||f.color||"#3b82f6",j=f.colorEnd||f.color||"#1e40af",S=e[x+1],k=S&&f.value>0?Math.round(S.value/f.value*100):null;return r.jsxs("div",{style:{marginBottom:s},children:[r.jsxs("div",{className:"relative",style:{height:a},children:[r.jsx("div",{style:{width:m,height:a,margin:"0 auto",clipPath:"polygon(6% 0%, 94% 0%, 100% 100%, 0% 100%)",backgroundImage:`linear-gradient(90deg, ${b}, ${j})`},className:"rounded-md shadow-sm transition-all duration-200 hover:shadow-md",title:`${f.label}: ${v} (${g}%)`}),r.jsxs("div",{className:"absolute inset-0 flex items-center justify-between px-3",children:[r.jsxs("span",{className:`text-xs ${d} flex items-center gap-2`,children:[f.icon?r.jsx("span",{className:"text-sm",children:f.icon}):r.jsx("span",{className:"inline-block w-2 h-2 rounded-full",style:{backgroundColor:b}}),f.label]}),r.jsxs("span",{className:`text-xs ${u}`,children:[v,"  ",g,"%"]})]})]}),n&&k!==null&&r.jsx("div",{className:"flex items-center justify-center mt-1",children:r.jsxs("span",{className:`text-[11px] ${u}`,children:[" ",k,"%"]})})]},f.label)})})}Sr.register(Cn,An,$n,rn,an);function oUe(){const{t:e,i18n:t}=Dt(),{stages:a}=Ov(),s=[{name:"ABC Pharma",stage:"Qualified",expectedValue:25e3,salesperson:"Ahmed Ali",dateCreated:"2025-11-02",expectedClose:"2025-12-10",status:"Active"},{name:"Delta Med",stage:"Proposal",expectedValue:42e3,salesperson:"Sara Hassan",dateCreated:"2025-11-04",expectedClose:"2025-12-15",status:"Pending"},{name:"Green Labs",stage:"Negotiation",expectedValue:33e3,salesperson:"Omar Tarek",dateCreated:"2025-11-06",expectedClose:"2025-12-22",status:"Active"},{name:"Sun Health",stage:"Contacted",expectedValue:18e3,salesperson:"Ahmed Ali",dateCreated:"2025-11-07",expectedClose:"2025-12-05",status:"Active"},{name:"Medix Co.",stage:"New",expectedValue:15e3,salesperson:"Mona Adel",dateCreated:"2025-11-05",expectedClose:"2025-12-01",status:"Active"},{name:"BioCure",stage:"Closed Won",expectedValue:7e4,salesperson:"Sara Hassan",dateCreated:"2025-10-28",expectedClose:"2025-11-08",status:"Closed"},{name:"LifeChem",stage:"Closed Lost",expectedValue:12e3,salesperson:"Omar Tarek",dateCreated:"2025-10-26",expectedClose:"2025-11-03",status:"Lost"},{name:"CarePlus",stage:"Proposal",expectedValue:38e3,salesperson:"Mona Adel",dateCreated:"2025-11-03",expectedClose:"2025-12-18",status:"Pending"},{name:"HealRight",stage:"Qualified",expectedValue:26e3,salesperson:"Ahmed Ali",dateCreated:"2025-11-01",expectedClose:"2025-12-12",status:"Active"},{name:"NovaMed",stage:"Negotiation",expectedValue:45e3,salesperson:"Sara Hassan",dateCreated:"2025-11-02",expectedClose:"2025-12-20",status:"Active"}],n=w.useMemo(()=>Array.from(new Set(s.map(O=>O.salesperson))),[]),[i,l]=w.useState("all"),[o,c]=w.useState("created"),[d,u]=w.useState(""),[f,x]=w.useState(""),m=w.useMemo(()=>s.filter(O=>{const U=i==="all"||O.salesperson===i,E=o==="created"?O.dateCreated:O.expectedClose,R=new Date(E),K=d?R>=new Date(d):!0,V=f?R<=new Date(f):!0;return U&&K&&V}),[i,o,d,f]),g=w.useMemo(()=>{const O=m.length,U=m.reduce((E,R)=>E+R.expectedValue,0);return{totalLeads:O,totalExpected:U}},[m]),v=O=>String(O||"").trim().toLowerCase(),b=w.useMemo(()=>{const O=Object.fromEntries((a||[]).map(U=>[v(U.name),0]));return m.forEach(U=>{const E=v(U.stage);E in O&&(O[E]=(O[E]||0)+1)}),O},[m,a]),j=w.useMemo(()=>{const O=Object.fromEntries((a||[]).map(U=>[v(U.name),0]));return m.forEach(U=>{const E=v(U.stage);E in O&&(O[E]=(O[E]||0)+U.expectedValue)}),O},[m,a]),S=w.useMemo(()=>{const O={};m.forEach(E=>{O[E.salesperson]=(O[E.salesperson]||0)+1}),typeof document<"u"&&document.documentElement.classList.contains("dark");const U=["#3b82f6","#22c55e","#f59e0b","#8b5cf6","#ef4444","#10b981","#6366f1"];return Object.entries(O).map(([E,R],K)=>({label:E,value:R,color:U[K%U.length]}))},[m]),k=typeof document<"u"&&document.documentElement.classList.contains("dark")?"#e5e7eb":"#374151",A={labels:(a||[]).map(O=>O.name),datasets:[{label:e("Total Expected Value"),data:(a||[]).map(O=>j[v(O.name)]),backgroundColor:"#2563eb",borderRadius:6,barThickness:24}]},_={responsive:!0,maintainAspectRatio:!1,scales:{x:{grid:{display:!1},ticks:{color:k}},y:{grid:{display:!1},ticks:{color:k}}},plugins:{legend:{display:!0}}},D=O=>(a||[]).find(E=>v(E.name)===v(O))?.color||"#3b82f6",P=()=>{const O=m.map(R=>({LeadName:R.name,SalesStage:R.stage,ExpectedValueEGP:R.expectedValue,Salesperson:R.salesperson,DateCreated:R.dateCreated,ExpectedClosing:R.expectedClose,Status:R.status})),U=Jt.json_to_sheet(O),E=Jt.book_new();Jt.book_append_sheet(E,U,"LeadsPipeline"),gs(E,"leads-pipeline-dashboard.xlsx")},I=()=>window.print(),B=O=>(a||[]).find(U=>v(U.name)===v(O));return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsx("h1",{className:"text-2xl font-semibold",children:e("Leads pipeline")})}),r.jsx("div",{className:"h-2","aria-hidden":"true"}),r.jsx("div",{className:"flex justify-end",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:I,className:"btn btn-primary",children:e("Download PDF")}),r.jsx("button",{onClick:P,className:"btn btn-secondary",children:e("Download Excel")})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4",children:r.jsxs("div",{className:"flex flex-wrap gap-3 items-end",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-300 mb-1",children:e("Salesperson")}),r.jsxs("select",{value:i,onChange:O=>l(O.target.value),className:"px-3 py-2 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-100",children:[r.jsx("option",{value:"all",children:e("All")}),n.map(O=>r.jsx("option",{value:O,children:O},O))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-300 mb-1",children:e("Date Type")}),r.jsxs("select",{value:o,onChange:O=>c(O.target.value),className:"px-3 py-2 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-100",children:[r.jsx("option",{value:"created",children:e("Created Date")}),r.jsx("option",{value:"expectedClose",children:e("Expected Close Date")})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-300 mb-1",children:e("From")}),r.jsx("input",{type:"date",lang:(t?.language||"").toLowerCase().startsWith("ar")?"ar":"en",dir:(t?.language||"").toLowerCase().startsWith("ar")?"rtl":"ltr",placeholder:(t?.language||"").toLowerCase().startsWith("ar")?"//":"mm/dd/yyyy",value:d,onChange:O=>u(O.target.value),className:"px-3 py-2 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-100"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-300 mb-1",children:e("To")}),r.jsx("input",{type:"date",lang:(t?.language||"").toLowerCase().startsWith("ar")?"ar":"en",dir:(t?.language||"").toLowerCase().startsWith("ar")?"rtl":"ltr",placeholder:(t?.language||"").toLowerCase().startsWith("ar")?"//":"mm/dd/yyyy",value:f,onChange:O=>x(O.target.value),className:"px-3 py-2 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-100"})]})]})}),r.jsx("div",{className:"h-4","aria-hidden":"true"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{label:e("Total Leads"),value:g.totalLeads,accent:"bg-blue-500"},{label:e("Total Expected Value"),value:`${g.totalExpected.toLocaleString()} EGP`,accent:"bg-emerald-500"}].map(O=>r.jsx("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:`inline-block w-2 h-6 rounded ${O.accent}`}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-300",children:O.label}),r.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:O.value})]})]})},O.label))}),r.jsx("div",{className:"h-4","aria-hidden":"true"}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[r.jsxs("div",{className:`flex items-center gap-2 mb-3 ${t?.dir?.()==="rtl"?"flex-row-reverse":""}`,children:[r.jsx("div",{className:`${t?.dir?.()==="rtl"?"border-r-4":"border-l-4"} border-primary h-full`}),r.jsx("h3",{className:`${t?.dir?.()==="rtl"?"text-right":""} text-lg font-semibold text-gray-900 dark:text-gray-100`,children:e("Funnel by Stage")})]}),(()=>{const O=(E,R=40)=>{try{const K=E.replace("#",""),V=parseInt(K,16);let Z=V>>16&255,J=V>>8&255,ee=V&255;return Z=Math.max(0,Z-R),J=Math.max(0,J-R),ee=Math.max(0,ee-R),`#${(Z<<16|J<<8|ee).toString(16).padStart(6,"0")}`}catch{return E}},U=(a||[]).map(E=>({label:e(E.nameAr||E.name),value:b[v(E.name)]||0,colorStart:E.color||"#3b82f6",colorEnd:O(E.color||"#3b82f6",40),icon:E.icon}));return r.jsx(lUe,{segments:U,width:460,sliceHeight:34,gap:12,showConversions:!0,formatValue:E=>E.toLocaleString()})})()]}),r.jsxs("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 lg:col-span-1",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3",children:e("Expected Value by Stage")}),r.jsx("div",{style:{height:"260px"},children:r.jsx(Ls,{data:A,options:_})})]}),r.jsxs("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3",children:e("Leads by Salesperson")}),r.jsx(Zn,{segments:S,size:200,centerLabel:e("Leads")})]})]}),r.jsx("div",{className:"h-4","aria-hidden":"true"}),r.jsx("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:r.jsx("div",{className:"w-full overflow-x-auto",children:r.jsxs("table",{className:"min-w-max table-fixed text-sm whitespace-nowrap",children:[r.jsx("thead",{children:r.jsx("tr",{className:"text-left border-b border-gray-200 dark:border-gray-700",children:[e("Lead Name"),e("Sales Stage"),e("Expected Value"),e("Salesperson"),e("Date Created"),e("Status")].map((O,U)=>r.jsx("th",{className:"px-3 py-2 text-gray-700 dark:text-gray-200 font-medium whitespace-nowrap",children:O},U))})}),r.jsx("tbody",{children:m.map((O,U)=>r.jsxs(In.Fragment,{children:[r.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-700",children:[r.jsx("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100 whitespace-nowrap",children:O.name}),r.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:(()=>{const E=B(O.stage),R=t.language==="ar"?E?.nameAr||E?.name||O.stage:E?.name||O.stage,K=E?.color||D(O.stage);return r.jsxs("span",{className:"inline-flex items-center gap-2 px-2 py-1 rounded text-white text-xs",style:{backgroundColor:K},children:[E?.icon&&r.jsx("span",{className:"text-sm",children:E.icon}),r.jsx("span",{children:R})]})})()}),r.jsx("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100 whitespace-nowrap",children:`${O.expectedValue.toLocaleString()} EGP`}),r.jsx("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100 whitespace-nowrap",children:O.salesperson}),r.jsx("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100 whitespace-nowrap",children:new Date(O.dateCreated).toLocaleDateString()}),r.jsx("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100 whitespace-nowrap",children:e(O.status)})]}),U!==m.length-1&&r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"py-2"})})]},`${O.name}-${U}`))})]})})})]})}Sr.register(Cn,An,$n,xl,ai,rn,an);function cUe(){const{t:e}=Dt(),t=[{id:1,customer:"Ahmed Hassan",contact:"+20 100 123 4567",reservationDateTime:"2025-11-09T20:00:00",type:"Table for 4",status:"confirmed",value:850,handledBy:"Omar Ali",createdOn:"2025-11-07"},{id:2,customer:"Mona Said",contact:"+20 101 555 0000",reservationDateTime:"2025-11-10T14:00:00",type:"Catering Order",status:"pending",value:1200,handledBy:"Sara Kamal",createdOn:"2025-11-08"},{id:3,customer:"Ola Sami",contact:"+20 120 222 3333",reservationDateTime:"2025-11-11T18:30:00",type:"Room",status:"confirmed",value:1800,handledBy:"Omar Ali",createdOn:"2025-11-08"},{id:4,customer:"Karim Mostafa",contact:"+20 111 777 8888",reservationDateTime:"2025-11-09T12:00:00",type:"Appointment",status:"cancelled",value:0,handledBy:"Nour El-Din",createdOn:"2025-11-07"},{id:5,customer:"Sara Hassan",contact:"+20 102 987 6543",reservationDateTime:"2025-11-12T16:00:00",type:"Table for 2",status:"completed",value:400,handledBy:"Sara Kamal",createdOn:"2025-11-09"},{id:6,customer:"Omar Mostafa",contact:"+20 103 321 0000",reservationDateTime:"2025-11-10T19:30:00",type:"Room",status:"confirmed",value:2200,handledBy:"Mona Adel",createdOn:"2025-11-08"},{id:7,customer:"Layla Ahmed",contact:"+20 104 888 1234",reservationDateTime:"2025-11-11T10:00:00",type:"Appointment",status:"pending",value:300,handledBy:"Nour El-Din",createdOn:"2025-11-09"},{id:8,customer:"Hussein Ali",contact:"+20 105 444 2222",reservationDateTime:"2025-11-12T21:00:00",type:"Table for 6",status:"cancelled",value:0,handledBy:"Mona Adel",createdOn:"2025-11-10"}],a=w.useMemo(()=>{const V=new Set(t.map(Z=>Z.handledBy));return["all",...Array.from(V)]},[]),[s,n]=w.useState("all"),[i,l]=w.useState("reservation"),[o,c]=w.useState(""),[d,u]=w.useState(""),[f,x]=w.useState("all"),m=V=>{if(!o&&!d)return!0;const Z=new Date(V),J=o?Z>=new Date(o):!0,ee=d?Z<=new Date(d):!0;return J&&ee},g=w.useMemo(()=>t.filter(V=>{const Z=i==="created"?V.createdOn:V.reservationDateTime.slice(0,10),J=s==="all"?!0:V.handledBy===s,ee=f==="all"?!0:V.status===f,W=m(Z);return J&&ee&&W}),[t,s,f,i,o,d]),v=g.length,b=g.filter(V=>V.status==="confirmed").length,j=g.filter(V=>V.status==="cancelled").length,S=g.reduce((V,Z)=>V+(Z.value||0),0),k=v?Math.round(S/v):0,N=g.filter(V=>V.type.toLowerCase().includes("room"));N.length&&Math.round(N.filter(V=>V.status==="confirmed").length/N.length*100);const A=V=>V.slice(0,10),_=Array.from(new Set(g.map(V=>A(V.reservationDateTime)))).sort(),D={labels:_,datasets:[{label:e("Reservations per day"),data:_.map(V=>g.filter(Z=>A(Z.reservationDateTime)===V).length),borderColor:"#3b82f6",backgroundColor:"rgba(59,130,246,0.2)"}]},P={responsive:!0,plugins:{legend:{display:!1}}},I=[{label:e("Confirmed"),value:g.filter(V=>V.status==="confirmed").length,color:"#10b981"},{label:e("Pending"),value:g.filter(V=>V.status==="pending").length,color:"#f59e0b"},{label:e("Cancelled"),value:g.filter(V=>V.status==="cancelled").length,color:"#ef4444"},{label:e("Completed"),value:g.filter(V=>V.status==="completed").length,color:"#64748b"}],B=Array.from(new Set(g.map(V=>V.handledBy))),O={labels:B,datasets:[{label:e("Revenue by staff"),data:B.map(V=>g.filter(Z=>Z.handledBy===V).reduce((Z,J)=>Z+(J.value||0),0)),backgroundColor:"#10b981"}]},U={responsive:!0,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0}}},E=()=>{const V=g.map(ee=>({Customer:ee.customer,Contact:ee.contact,ReservationDateTime:ee.reservationDateTime,Type:ee.type,Status:ee.status,ValueEGP:ee.value,HandledBy:ee.handledBy,CreatedOn:ee.createdOn})),Z=Jt.json_to_sheet(V),J=Jt.book_new();Jt.book_append_sheet(J,Z,"Reservations"),gs(J,"reservations-dashboard.xlsx")},R=()=>window.print(),K=V=>{switch(V){case"confirmed":return"bg-emerald-100 text-emerald-700 dark:bg-emerald-950 dark:text-emerald-300";case"pending":return"bg-amber-100 text-amber-700 dark:bg-amber-950 dark:text-amber-300";case"cancelled":return"bg-rose-100 text-rose-700 dark:bg-rose-950 dark:text-rose-300";case"completed":return"bg-slate-100 text-slate-700 dark:bg-slate-900 dark:text-slate-300";default:return"bg-gray-100 text-gray-700 dark:bg-gray-900 dark:text-gray-300"}};return r.jsx(aa,{titleKey:"Reservations",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-2xl font-semibold",children:e("Reservations")}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:R,className:"btn btn-primary",children:e("Download PDF")}),r.jsx("button",{onClick:E,className:"btn btn-secondary",children:e("Download Excel")})]})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4",children:r.jsxs("div",{className:"flex flex-wrap gap-3 items-end",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-300 mb-1",children:e("Staff")}),r.jsx(Xa,{value:s,onChange:V=>n(V),className:"px-3 py-2",children:a.map(V=>r.jsx("option",{value:V,children:V==="all"?e("All"):V},V))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-300 mb-1",children:e("Date Type")}),r.jsxs(Xa,{value:i,onChange:V=>l(V),className:"px-3 py-2",children:[r.jsx("option",{value:"reservation",children:e("Reservation Date")}),r.jsx("option",{value:"created",children:e("Created Date")})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-300 mb-1",children:e("From")}),r.jsx("input",{type:"date",value:o,onChange:V=>c(V.target.value),className:"px-3 py-2 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-100"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-300 mb-1",children:e("To")}),r.jsx("input",{type:"date",value:d,onChange:V=>u(V.target.value),className:"px-3 py-2 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-100"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-300 mb-1",children:e("Status")}),r.jsxs(Xa,{value:f,onChange:V=>x(V),className:"px-3 py-2",children:[r.jsx("option",{value:"all",children:e("All")}),r.jsx("option",{value:"confirmed",children:e("Confirmed")}),r.jsx("option",{value:"pending",children:e("Pending")}),r.jsx("option",{value:"cancelled",children:e("Cancelled")}),r.jsx("option",{value:"completed",children:e("Completed")})]})]})]})}),r.jsx("div",{className:"h-3","aria-hidden":"true"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{label:e("Total Reservations"),value:v,accent:"bg-blue-500"},{label:e("Confirmed vs Cancelled"),value:`${b} / ${j}`,accent:"bg-emerald-500"},{label:e("Total Revenue"),value:`${S.toLocaleString()} EGP`,accent:"bg-indigo-500"},{label:e("Average Value"),value:`${k.toLocaleString()} EGP`,accent:"bg-amber-500"}].map(V=>r.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-300",children:V.label}),r.jsx("div",{className:"text-lg font-semibold",children:V.value})]}),r.jsx("div",{className:`w-8 h-8 rounded-lg ${V.accent}`})]},V.label))}),r.jsx("div",{className:"h-3","aria-hidden":"true"}),r.jsx("div",{className:"h-3","aria-hidden":"true"}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4",children:[r.jsx("div",{className:"text-sm font-semibold mb-3",children:e("Reservations")}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left border-b border-gray-200 dark:border-gray-700",children:[r.jsx("th",{className:"py-2 px-3",children:e("Customer")}),r.jsx("th",{className:"py-2 px-3",children:e("Reservation Date")}),r.jsx("th",{className:"py-2 px-3",children:e("Type")}),r.jsx("th",{className:"py-2 px-3",children:e("Status")}),r.jsx("th",{className:"py-2 px-3",children:e("Value")}),r.jsx("th",{className:"py-2 px-3",children:e("Handled By")}),r.jsx("th",{className:"py-2 px-3",children:e("Created On")})]})}),r.jsxs("tbody",{children:[g.map(V=>r.jsxs(r.Fragment,{children:[r.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-700",children:[r.jsxs("td",{className:"py-2 px-3",children:[r.jsx("div",{className:"font-medium",children:V.customer}),r.jsx("div",{className:"text-xs text-gray-500",children:V.contact})]}),r.jsx("td",{className:"py-2 px-3",children:new Date(V.reservationDateTime).toLocaleString()}),r.jsx("td",{className:"py-2 px-3",children:V.type}),r.jsx("td",{className:"py-2 px-3",children:r.jsx("span",{className:`px-2 py-1 rounded-md text-xs ${K(V.status)}`,children:e(V.status.charAt(0).toUpperCase()+V.status.slice(1))})}),r.jsx("td",{className:"py-2 px-3",children:V.value?`${V.value.toLocaleString()} EGP`:"-"}),r.jsx("td",{className:"py-2 px-3",children:V.handledBy}),r.jsx("td",{className:"py-2 px-3",children:V.createdOn})]},V.id),r.jsx("tr",{"aria-hidden":"true",children:r.jsx("td",{colSpan:7,children:r.jsx("div",{className:"h-3"})})})]})),g.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"py-6 text-center text-gray-500",children:e("No reservations found for selected filters")})})]})]})})]}),r.jsx("div",{className:"h-3","aria-hidden":"true"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4",children:[r.jsx("div",{className:"text-sm font-semibold mb-2",children:e("Reservations per day")}),r.jsx("div",{className:"h-48",children:r.jsx(no,{data:D,options:P})})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4",children:[r.jsx("div",{className:"text-sm font-semibold mb-2",children:e("Distribution by status")}),r.jsx("div",{className:"h-48 flex items-center justify-center",children:r.jsx(Zn,{segments:I,size:170})})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4",children:[r.jsx("div",{className:"text-sm font-semibold mb-2",children:e("Revenue by staff")}),r.jsx("div",{className:"h-48",children:r.jsx(Ls,{data:O,options:U})})]})]})]})})}Sr.register(Cn,An,$n,xl,ai,rn,an);function dUe(){const{t:e,i18n:t}=Dt(),a=(t?.language||"").toLowerCase().startsWith("ar"),s=[{id:1,client:"ABC Pharma",value:48e3,product:"Digital Marketing Package",closedDate:"2025-11-02",salesperson:"Ahmed Ali",durationDays:7,paymentStatus:"Paid"},{id:2,client:"Delta Med",value:35e3,product:"Web Development",closedDate:"2025-11-04",salesperson:"Sara Hassan",durationDays:5,paymentStatus:"Pending"},{id:3,client:"Green Labs",value:6e4,product:"CRM System",closedDate:"2025-11-05",salesperson:"Omar Tarek",durationDays:9,paymentStatus:"Paid"},{id:4,client:"Sun Health",value:42e3,product:"SEO & Content",closedDate:"2025-11-06",salesperson:"Ahmed Ali",durationDays:8,paymentStatus:"Partial"},{id:5,client:"Medix Co.",value:28e3,product:"Landing Page + Ads",closedDate:"2025-11-07",salesperson:"Sara Hassan",durationDays:6,paymentStatus:"Paid"},{id:6,client:"BioCure",value:52e3,product:"Marketing Automation",closedDate:"2025-10-30",salesperson:"Omar Tarek",durationDays:10,paymentStatus:"Pending"},{id:7,client:"LifeChem",value:31e3,product:"Social Media Management",closedDate:"2025-10-28",salesperson:"Ahmed Ali",durationDays:4,paymentStatus:"Paid"},{id:8,client:"Nova Labs",value:65e3,product:"CRM + Training",closedDate:"2025-10-25",salesperson:"Mona Adel",durationDays:11,paymentStatus:"Partial"},{id:9,client:"HealthPro",value:47e3,product:"Web Revamp",closedDate:"2025-11-08",salesperson:"Ahmed Ali",durationDays:7,paymentStatus:"Paid"},{id:10,client:"CarePlus",value:33e3,product:"Content & Design",closedDate:"2025-11-03",salesperson:"Mona Adel",durationDays:6,paymentStatus:"Pending"}],i=Object.values({"Ahmed Ali":1e5,"Sara Hassan":9e4,"Omar Tarek":12e4,"Mona Adel":8e4}).reduce((J,ee)=>J+ee,0),[l,o]=w.useState("all"),[c,d]=w.useState("all"),[u,f]=w.useState("range"),[x,m]=w.useState(""),[g,v]=w.useState(""),[b,j]=w.useState(""),S=w.useMemo(()=>{let J=[...s];return l!=="all"&&(J=J.filter(ee=>ee.salesperson===l)),c!=="all"&&(J=J.filter(ee=>ee.paymentStatus===c)),u==="range"?(x&&(J=J.filter(ee=>ee.closedDate>=x)),g&&(J=J.filter(ee=>ee.closedDate<=g))):u==="month"&&b&&(J=J.filter(ee=>(ee.closedDate||"").startsWith(b))),J},[s,l,c,u,x,g,b]),k=S.length,N=S.reduce((J,ee)=>J+(ee.value||0),0),A=k?Math.round(N/k):0,_=k?Math.round(S.reduce((J,ee)=>J+(ee.durationDays||0),0)/k):0,D=i?Math.round(N/i*100):0,P=w.useMemo(()=>{const J=new Map;return S.forEach(ee=>{J.set(ee.salesperson,(J.get(ee.salesperson)||0)+ee.value)}),J},[S]),I=w.useMemo(()=>{const J={Paid:0,Pending:0,Partial:0};return S.forEach(ee=>{J[ee.paymentStatus]=(J[ee.paymentStatus]||0)+1}),J},[S]),B=w.useMemo(()=>{const J=new Map;S.forEach(W=>{J.set(W.closedDate,(J.get(W.closedDate)||0)+1)});const ee=Array.from(J.entries()).sort((W,le)=>W[0].localeCompare(le[0]));return{labels:ee.map(W=>W[0]),counts:ee.map(W=>W[1])}},[S]),O=()=>{const J=S.map(le=>({Client:le.client,Salesperson:le.salesperson,ProductService:le.product,ClosedDate:le.closedDate,DealValueEGP:le.value,DurationDays:le.durationDays,PaymentStatus:le.paymentStatus})),ee=Jt.json_to_sheet(J),W=Jt.book_new();Jt.book_append_sheet(W,ee,"ClosedDeals"),gs(W,"closed-deals-report.xlsx")},U=()=>{window.print()},E=J=>{const ee=J==="Paid"?"bg-emerald-50 text-emerald-700 border-emerald-200":J==="Partial"?"bg-amber-50 text-amber-700 border-amber-200":"bg-red-50 text-red-700 border-red-200";return r.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-md border ${ee}`,children:e(J)})},R={labels:Array.from(P.keys()),datasets:[{label:e("Deal Value (EGP)"),data:Array.from(P.values()),backgroundColor:"rgba(59, 130, 246, 0.6)",borderColor:"rgba(59, 130, 246, 1)",borderWidth:1}]},K={labels:B.labels,datasets:[{label:e("Closed Deals"),data:B.counts,fill:!1,borderColor:"rgba(16, 185, 129, 1)",backgroundColor:"rgba(16, 185, 129, 0.3)",tension:.3}]},V=[{label:e("Paid"),value:I.Paid,color:"#10b981"},{label:e("Partial"),value:I.Partial,color:"#f59e0b"},{label:e("Pending"),value:I.Pending,color:"#ef4444"}],Z=Array.from(new Set(s.map(J=>J.salesperson)));return r.jsxs(aa,{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:e("Closed Deals Report")}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:U,className:"btn btn-primary",children:e("Download PDF")}),r.jsx("button",{onClick:O,className:"btn btn-secondary",children:e("Download Excel")})]})]}),r.jsx("div",{className:"glass-panel rounded-xl p-4",children:r.jsxs("div",{className:"flex flex-wrap items-end gap-3",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Salesperson")}),r.jsxs(Xa,{value:l,onChange:J=>o(J),className:"min-w-[180px]",children:[r.jsx("option",{value:"all",children:e("All")}),Z.map(J=>r.jsx("option",{value:J,children:J},J))]})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Date Filter Type")}),r.jsxs(Xa,{value:u,onChange:J=>f(J),className:"min-w-[160px]",children:[r.jsx("option",{value:"range",children:e("By Date Range")}),r.jsx("option",{value:"month",children:e("By Month")})]})]}),u==="range"?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("From")}),r.jsx("input",{type:"date",lang:(t?.language||"").toLowerCase().startsWith("ar")?"ar":"en",dir:(t?.language||"").toLowerCase().startsWith("ar")?"rtl":"ltr",placeholder:(t?.language||"").toLowerCase().startsWith("ar")?"//":"mm/dd/yyyy",value:x,onChange:J=>m(J.target.value),className:"input"})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("To")}),r.jsx("input",{type:"date",lang:(t?.language||"").toLowerCase().startsWith("ar")?"ar":"en",dir:(t?.language||"").toLowerCase().startsWith("ar")?"rtl":"ltr",placeholder:(t?.language||"").toLowerCase().startsWith("ar")?"//":"mm/dd/yyyy",value:g,onChange:J=>v(J.target.value),className:"input"})]})]}):r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Month")}),r.jsx("input",{type:"month",value:b,onChange:J=>j(J.target.value),className:"input"})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Payment Status")}),r.jsxs(Xa,{value:c,onChange:J=>d(J),className:"min-w-[160px]",children:[r.jsx("option",{value:"all",children:e("All")}),r.jsx("option",{value:"Paid",children:e("Paid")}),r.jsx("option",{value:"Partial",children:e("Partial")}),r.jsx("option",{value:"Pending",children:e("Pending")})]})]})]})}),r.jsx("div",{className:"h-4","aria-hidden":"true"}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[{label:e("Total Closed Deals"),value:k,color:"bg-blue-500"},{label:e("Total Revenue (EGP)"),value:N.toLocaleString(),color:"bg-emerald-500"},{label:e("Average Deal Value"),value:A.toLocaleString(),color:"bg-indigo-500"},{label:e("Average Closing Time"),value:`${_} ${e("days")}`,color:"bg-amber-500"},{label:e("% of Target Achieved"),value:`${D}%`,color:"bg-teal-500"}].map((J,ee)=>r.jsx("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:J.label}),r.jsx("div",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:J.value})]}),r.jsx("div",{className:`w-10 h-10 rounded-lg ${J.color} opacity-80`})]})},ee))}),r.jsx("div",{className:"h-4","aria-hidden":"true"}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[r.jsx("div",{className:"flex items-center justify-between mb-3",children:r.jsxs("div",{className:`flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[r.jsx("div",{className:`${a?"border-r-4":"border-l-4"} border-primary h-full`}),r.jsx("h3",{className:`${a?"text-right":""} text-lg font-semibold text-gray-800 dark:text-gray-100`,children:e("Deal Value per Salesperson")})]})}),r.jsx(Ls,{data:R,options:{responsive:!0,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0}}}})]}),r.jsx("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[r.jsx("div",{className:"flex items-center justify-center",children:r.jsx(Zn,{segments:V,centerValue:k,centerLabel:e("Deals"),size:200,cutout:"70%",borderRadius:6})}),r.jsx("div",{className:"flex-1 md:ml-6 grid grid-cols-1 sm:grid-cols-3 gap-3",children:[{key:"Paid",color:"#10b981",value:I.Paid},{key:"Partial",color:"#f59e0b",value:I.Partial},{key:"Pending",color:"#ef4444",value:I.Pending}].map(J=>{const ee=k?Math.round(J.value/k*100):0;return r.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-gray-200 dark:border-gray-700",children:[r.jsx("span",{className:"inline-block w-3 h-3 rounded-full",style:{backgroundColor:J.color}}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-200",children:e(J.key)}),r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[J.value," / ",k," (",ee,"%)"]})]})]},J.key)})})]})}),r.jsxs("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[r.jsx("div",{className:"flex items-center justify-between mb-3",children:r.jsxs("div",{className:`flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[r.jsx("div",{className:`${a?"border-r-4":"border-l-4"} border-primary h-full`}),r.jsx("h3",{className:`${a?"text-right":""} text-lg font-semibold text-gray-800 dark:text-gray-100`,children:e("Closed Deals Trend")})]})}),r.jsx(no,{data:K,options:{responsive:!0,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,precision:0}}}})]})]}),r.jsx("div",{className:"h-4","aria-hidden":"true"}),r.jsx("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full text-sm",children:[r.jsx("thead",{children:r.jsx("tr",{className:"text-left border-b border-gray-200 dark:border-gray-700",children:[e("Client"),e("Deal Value"),e("Product / Service"),e("Closed Date"),e("Salesperson"),e("Duration (Days)"),e("Payment Status")].map((J,ee)=>r.jsx("th",{className:"px-3 py-2 text-gray-700 dark:text-gray-200 font-medium",children:J},ee))})}),r.jsx("tbody",{children:S.map((J,ee)=>r.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-700",children:[r.jsx("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100",children:J.client}),r.jsxs("td",{className:"px-3 py-2",children:[J.value.toLocaleString()," EGP"]}),r.jsx("td",{className:"px-3 py-2",children:J.product}),r.jsx("td",{className:"px-3 py-2",children:J.closedDate}),r.jsx("td",{className:"px-3 py-2",children:J.salesperson}),r.jsx("td",{className:"px-3 py-2",children:J.durationDays}),r.jsx("td",{className:"px-3 py-2",children:E(J.paymentStatus)})]},`${J.id}-${ee}`))})]})})})]})}Sr.register(Cn,An,$n,xl,ai,rn,an);function uUe(){const{t:e}=Dt(),t=w.useMemo(()=>[{id:1,property:"Villa A1",tenant:"Ahmed Hassan",start:"2025-11-01",end:"2026-10-31",monthlyRent:12e3,totalContractValue:144e3,amountPaid:12e3,balance:0,paymentStatus:"Paid",handledBy:"Sara Kamal",renewed:!0},{id:2,property:"Shop 4",tenant:"Mona Said",start:"2025-11-10",end:"2026-11-09",monthlyRent:8e3,totalContractValue:96e3,amountPaid:4e3,balance:4e3,paymentStatus:"Partial",handledBy:"Omar Ali",renewed:!1},{id:3,property:"Office 302",tenant:"Delta Group",start:"2025-09-15",end:"2026-09-14",monthlyRent:15e3,totalContractValue:18e4,amountPaid:0,balance:15e3,paymentStatus:"Pending",handledBy:"Ahmed Tarek",renewed:!1},{id:4,property:"Warehouse B2",tenant:"LogiX Co.",start:"2025-08-01",end:"2026-07-31",monthlyRent:22e3,totalContractValue:264e3,amountPaid:11e3,balance:11e3,paymentStatus:"Overdue",handledBy:"Nour El-Din",renewed:!1},{id:5,property:"Apartment 5C",tenant:"Yara Samir",start:"2025-12-01",end:"2026-11-30",monthlyRent:9e3,totalContractValue:108e3,amountPaid:9e3,balance:0,paymentStatus:"Paid",handledBy:"Omar Ali",renewed:!0},{id:6,property:"Kiosk K7",tenant:"Snack Hub",start:"2025-10-01",end:"2026-09-30",monthlyRent:4e3,totalContractValue:48e3,amountPaid:2e3,balance:2e3,paymentStatus:"Partial",handledBy:"Sara Kamal",renewed:!1},{id:7,property:"Studio S12",tenant:"Design House",start:"2025-07-01",end:"2026-06-30",monthlyRent:7e3,totalContractValue:84e3,amountPaid:0,balance:7e3,paymentStatus:"Pending",handledBy:"Omar Ali",renewed:!1},{id:8,property:"Office 101",tenant:"TechMinds",start:"2025-06-01",end:"2026-05-31",monthlyRent:13e3,totalContractValue:156e3,amountPaid:13e3,balance:0,paymentStatus:"Paid",handledBy:"Ahmed Tarek",renewed:!0},{id:9,property:"Shop 12",tenant:"Fashion Hub",start:"2025-05-15",end:"2026-05-14",monthlyRent:1e4,totalContractValue:12e4,amountPaid:5e3,balance:5e3,paymentStatus:"Overdue",handledBy:"Nour El-Din",renewed:!1},{id:10,property:"Villa B2",tenant:"Karim Mostafa",start:"2025-04-01",end:"2026-03-31",monthlyRent:11e3,totalContractValue:132e3,amountPaid:11e3,balance:0,paymentStatus:"Paid",handledBy:"Sara Kamal",renewed:!0},{id:11,property:"Office 405",tenant:"Alpha Corp",start:"2025-03-10",end:"2026-03-09",monthlyRent:2e4,totalContractValue:24e4,amountPaid:1e4,balance:1e4,paymentStatus:"Partial",handledBy:"Ahmed Tarek",renewed:!1},{id:12,property:"Warehouse C1",tenant:"AgriFoods",start:"2025-02-01",end:"2026-01-31",monthlyRent:18e3,totalContractValue:216e3,amountPaid:0,balance:18e3,paymentStatus:"Pending",handledBy:"Omar Ali",renewed:!1}],[]),[a,s]=w.useState(""),[n,i]=w.useState(""),[l,o]=w.useState(""),[c,d]=w.useState("all"),u=w.useMemo(()=>new Date().toISOString().slice(0,10),[]),f=O=>O.start<=u&&O.end>=u,x=O=>O.end<u,m=O=>O.start>u,g=w.useMemo(()=>t.filter(O=>{const U=a?String(O.handledBy).toLowerCase().includes(a.toLowerCase().trim()):!0,E=n?O.end>=n:!0,R=l?O.start<=l:!0,K=E&&R,V=c==="all"?!0:c==="active"?f(O):c==="expired"?x(O):c==="upcoming"?m(O):!0;return U&&K&&V}),[t,a,n,l,c]),v=w.useMemo(()=>g.reduce((O,U)=>O+(U.amountPaid||0),0),[g]),b=w.useMemo(()=>g.reduce((O,U)=>O+(U.balance||0),0),[g]),j=w.useMemo(()=>g.filter(f).length,[g]),S=w.useMemo(()=>g.filter(x).length,[g]),k=w.useMemo(()=>{const O=g.filter(E=>E.renewed).length,U=g.length||1;return Math.round(O/U*100)},[g]),N=w.useMemo(()=>{const O={Paid:0,Partial:0,Pending:0,Overdue:0};return g.forEach(U=>{O[U.paymentStatus]=(O[U.paymentStatus]||0)+1}),[{label:"Paid",value:O.Paid,color:"#10b981"},{label:"Partial",value:O.Partial,color:"#f59e0b"},{label:"Pending",value:O.Pending,color:"#9ca3af"},{label:"Overdue",value:O.Overdue,color:"#ef4444"}]},[g]),A=O=>{const U=new Date(O);return`${U.getFullYear()}-${String(U.getMonth()+1).padStart(2,"0")}`},_=w.useMemo(()=>{const O=new Map;g.forEach(E=>{const R=A(E.start);O.set(R,(O.get(R)||0)+(E.amountPaid||0))});const U=Array.from(O.entries()).sort((E,R)=>E[0].localeCompare(R[0]));return{labels:U.map(([E])=>E),values:U.map(([,E])=>E)}},[g]),D=w.useMemo(()=>{const O=new Map;g.forEach(E=>{const R=A(E.start);O.set(R,(O.get(R)||0)+(E.totalContractValue||0))});const U=Array.from(O.entries()).sort((E,R)=>E[0].localeCompare(R[0]));return{labels:U.map(([E])=>E),values:U.map(([,E])=>E)}},[g]),P=()=>{const O=g.map(R=>({Property:R.property,Tenant:R.tenant,StartDate:R.start,EndDate:R.end,MonthlyRent:R.monthlyRent,TotalContractValue:R.totalContractValue,AmountPaid:R.amountPaid,Balance:R.balance,PaymentStatus:R.paymentStatus,HandledBy:R.handledBy})),U=Jt.json_to_sheet(O),E=Jt.book_new();Jt.book_append_sheet(E,U,"RentReport"),gs(E,"rent_report.xlsx")},I=()=>{window.print()},B=({status:O})=>{const U="px-2 py-1 text-xs rounded-md",E=O==="Paid"?"bg-emerald-50 text-emerald-600":O==="Partial"?"bg-yellow-50 text-yellow-600":O==="Overdue"?"bg-red-50 text-red-600":"bg-gray-100 text-gray-600";return r.jsx("span",{className:`${U} ${E}`,children:O})};return r.jsx(aa,{titleKey:"Rent",children:r.jsxs("div",{className:"p-4 space-y-4",children:[r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx("button",{onClick:I,className:"btn btn-primary",children:e("Download PDF")}),r.jsx("button",{onClick:P,className:"btn btn-secondary",children:e("Download Excel")})]}),r.jsx("div",{className:"glass-panel rounded-xl p-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Salesperson / Manager")}),r.jsx("input",{value:a,onChange:O=>s(O.target.value),className:"input w-full",placeholder:e("e.g. Omar Ali")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Date From")}),r.jsx("input",{type:"date",value:n,onChange:O=>i(O.target.value),className:"input w-full"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Date To")}),r.jsx("input",{type:"date",value:l,onChange:O=>o(O.target.value),className:"input w-full"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Status")}),r.jsxs("select",{value:c,onChange:O=>d(O.target.value),className:"input w-full",children:[r.jsx("option",{value:"all",children:e("All")}),r.jsx("option",{value:"active",children:e("Active")}),r.jsx("option",{value:"expired",children:e("Expired")}),r.jsx("option",{value:"upcoming",children:e("Upcoming")})]})]})]})}),r.jsx("div",{"aria-hidden":"true",className:"h-6"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("Total Rent Collected")}),r.jsxs("div",{className:"text-3xl font-bold",children:[v.toLocaleString()," EGP"]})]}),r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("Total Outstanding Balance")}),r.jsxs("div",{className:"text-3xl font-bold",children:[b.toLocaleString()," EGP"]})]}),r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("Active Contracts")}),r.jsx("div",{className:"text-3xl font-bold",children:j})]}),r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("Expired Contracts")}),r.jsx("div",{className:"text-3xl font-bold",children:S})]}),r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("Renewal Rate %")}),r.jsxs("div",{className:"text-3xl font-bold",children:[k,"%"]})]})]}),r.jsx("div",{"aria-hidden":"true",className:"h-6"}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("Payment Status")}),r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsx(Zn,{segments:N,size:180,cutout:70,centerValue:g.length,centerLabel:e("Contracts")}),r.jsx("div",{className:"space-y-2 text-sm",children:N.map(O=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"inline-block w-3 h-3 rounded",style:{backgroundColor:O.color}}),r.jsx("span",{children:e(O.label)}),r.jsxs("span",{className:"ml-auto text-[var(--muted-text)]",children:[O.value," (",g.length?Math.round(O.value/g.length*100):0,"%)"]})]},O.label))})]})]}),r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("Rent Collected by Month")}),r.jsx(Ls,{data:{labels:_.labels,datasets:[{label:e("Collected (EGP)"),data:_.values,backgroundColor:"#3b82f6",borderRadius:6}]},options:{responsive:!0,plugins:{legend:{display:!0}},scales:{y:{ticks:{callback:O=>`${O}`}}}}})]}),r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("Total Rent Trend")}),r.jsx(no,{data:{labels:D.labels,datasets:[{label:e("Total Contract Value (EGP)"),data:D.values,borderColor:"#10b981",backgroundColor:"rgba(16,185,129,0.2)",tension:.3,fill:!0,pointRadius:3}]},options:{responsive:!0,plugins:{legend:{display:!0}}}})]})]}),r.jsx("div",{"aria-hidden":"true",className:"h-6"}),r.jsx("div",{className:"glass-panel rounded-xl p-4",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm nova-table nova-table--glass",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left bg-[var(--table-header-bg)]",children:[r.jsx("th",{className:"px-3 py-2",children:e("Property")}),r.jsx("th",{className:"px-3 py-2",children:e("Tenant")}),r.jsx("th",{className:"px-3 py-2",children:e("Start Date")}),r.jsx("th",{className:"px-3 py-2",children:e("End Date")}),r.jsx("th",{className:"px-3 py-2",children:e("Monthly Rent")}),r.jsx("th",{className:"px-3 py-2",children:e("Amount Paid")}),r.jsx("th",{className:"px-3 py-2",children:e("Balance")}),r.jsx("th",{className:"px-3 py-2",children:e("Payment Status")}),r.jsx("th",{className:"px-3 py-2",children:e("Handled By")})]})}),r.jsxs("tbody",{children:[g.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:9,className:"px-3 py-6 text-center text-[var(--muted-text)]",children:e("No data")})}),g.map(O=>r.jsxs("tr",{className:"border-t border-[var(--table-row-border)] odd:bg-[var(--table-row-bg)] hover:bg-[var(--table-row-hover)] transition-colors",children:[r.jsx("td",{className:"px-3 py-2",children:O.property}),r.jsx("td",{className:"px-3 py-2",children:O.tenant}),r.jsx("td",{className:"px-3 py-2",children:O.start}),r.jsx("td",{className:"px-3 py-2",children:O.end}),r.jsxs("td",{className:"px-3 py-2",children:[O.monthlyRent.toLocaleString()," EGP"]}),r.jsxs("td",{className:"px-3 py-2",children:[O.amountPaid.toLocaleString()," EGP"]}),r.jsxs("td",{className:"px-3 py-2",children:[O.balance.toLocaleString()," EGP"]}),r.jsx("td",{className:"px-3 py-2",children:r.jsx(B,{status:O.paymentStatus})}),r.jsx("td",{className:"px-3 py-2",children:O.handledBy})]},O.id))]})]})})}),r.jsx("div",{"aria-hidden":"true",className:"h-6"})]})})}Sr.register(Cn,An,$n,xl,ai,rn,an);function hUe(){const{t:e,i18n:t}=Dt(),a=t?.dir?.()==="rtl",s=w.useMemo(()=>[{id:1,name:"Ahmed Hassan",checkIn:"2025-11-09T08:00:00",checkOut:"2025-11-09T18:00:00",type:"Table Reservation",status:"Checked-in",handledBy:"Sara Kamal"},{id:2,name:"Mona Said",checkIn:"2025-11-10T14:00:00",checkOut:"2025-11-10T16:00:00",type:"Catering Appointment",status:"No-show",handledBy:"Omar Ali"},{id:3,name:"Delta Group",checkIn:"2025-11-09T10:00:00",checkOut:"2025-11-09T17:00:00",type:"Office Visit",status:"Completed",handledBy:"Ahmed Tarek"},{id:4,name:"Ola Sami",checkIn:"2025-11-11T09:30:00",checkOut:"",type:"Department Visit",status:"Pending",handledBy:"Sara Kamal"},{id:5,name:"Karim Mostafa",checkIn:"2025-11-08T11:15:00",checkOut:"",type:"Appointment",status:"Cancelled",handledBy:"Omar Ali"},{id:6,name:"Yara Samir",checkIn:"2025-11-12T13:00:00",checkOut:"2025-11-12T15:00:00",type:"Office Visit",status:"Completed",handledBy:"Ahmed Tarek"}],[]),[n,i]=w.useState(""),[l,o]=w.useState("day"),[c,d]=w.useState(()=>new Date().toISOString().slice(0,10)),[u,f]=w.useState("all"),x=J=>{const ee=new Date(J),W=ee.getDay(),le=(W===0?-6:1)-W;return ee.setDate(ee.getDate()+le),ee.setHours(0,0,0,0),ee},m=J=>{const ee=x(J),W=new Date(ee);return W.setDate(ee.getDate()+6),W.setHours(23,59,59,999),W},g=J=>{const ee=new Date(J);return ee.setHours(0,0,0,0),ee},v=J=>{const ee=new Date(J);return ee.setHours(23,59,59,999),ee},b=J=>{const ee=new Date(J);return ee.setDate(1),ee.setHours(0,0,0,0),ee},j=J=>{const ee=new Date(J);return ee.setMonth(ee.getMonth()+1),ee.setDate(0),ee.setHours(23,59,59,999),ee},[S,k]=w.useMemo(()=>l==="day"?[g(c),v(c)]:l==="week"?[x(c),m(c)]:[b(c),j(c)],[l,c]),N=J=>{const ee=new Date(J);return ee>=S&&ee<=k},A=w.useMemo(()=>s.filter(J=>{const ee=n?String(J.handledBy).toLowerCase().includes(n.toLowerCase().trim()):!0,W=u==="all"?!0:J.status===u,le=N(J.checkIn);return ee&&W&&le}),[s,n,u,S,k]),_=w.useMemo(()=>A.length,[A]),D=w.useMemo(()=>A.filter(J=>J.status==="No-show").length,[A]),P=w.useMemo(()=>A.filter(J=>J.status==="Completed").length,[A]),I=w.useMemo(()=>A.filter(J=>J.status==="Pending").length,[A]),B=w.useMemo(()=>{const J={Completed:0,Pending:0,"No-show":0,Cancelled:0,"Checked-in":0};return A.forEach(ee=>{J[ee.status]=(J[ee.status]||0)+1}),[{label:"Completed",value:J.Completed,color:"#10b981"},{label:"Pending",value:J.Pending,color:"#f59e0b"},{label:"No-show",value:J["No-show"],color:"#ef4444"},{label:"Cancelled",value:J.Cancelled,color:"#9ca3af"},{label:"Checked-in",value:J["Checked-in"],color:"#3b82f6"}]},[A]),O=J=>{const ee=new Date(J);return`${ee.getFullYear()}-${String(ee.getMonth()+1).padStart(2,"0")}-${String(ee.getDate()).padStart(2,"0")}`},U=w.useMemo(()=>{const J=new Map;A.forEach(W=>{const le=O(W.checkIn);J.set(le,(J.get(le)||0)+1)});const ee=Array.from(J.entries()).sort((W,le)=>W[0].localeCompare(le[0]));return{labels:ee.map(([W])=>W),values:ee.map(([,W])=>W)}},[A]),E=w.useMemo(()=>{const J=new Map;A.forEach(W=>{J.set(W.handledBy,(J.get(W.handledBy)||0)+1)});const ee=Array.from(J.entries()).sort((W,le)=>W[0].localeCompare(le[0]));return{labels:ee.map(([W])=>W),values:ee.map(([,W])=>W)}},[A]),R=()=>{const J=A.map(le=>({Name:le.name,CheckIn:le.checkIn,CheckOut:le.checkOut||"",DepartmentOrReservation:le.type,Status:le.status,HandledBy:le.handledBy})),ee=Jt.json_to_sheet(J),W=Jt.book_new();Jt.book_append_sheet(W,ee,"CheckIns"),gs(W,"check_in_report.xlsx")},K=()=>{window.print()},V=J=>{if(!J)return"";const ee=new Date(J),W=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],le=ee.getHours(),M=String(ee.getMinutes()).padStart(2,"0"),X=le>=12?"PM":"AM",z=le%12||12;return`${String(ee.getDate()).padStart(2,"0")}-${W[ee.getMonth()]}-${ee.getFullYear()}  ${String(z).padStart(2,"0")}:${M} ${X}`},Z=({status:J})=>{const ee="px-2 py-1 text-xs rounded-md",W=J==="Completed"?"bg-emerald-50 text-emerald-600":J==="Pending"?"bg-yellow-50 text-yellow-600":J==="No-show"?"bg-red-50 text-red-600":J==="Cancelled"?"bg-gray-100 text-gray-600":"bg-blue-50 text-blue-600";return r.jsx("span",{className:`${ee} ${W}`,children:e(J)})};return r.jsx(aa,{titleKey:"Check-in Report",children:r.jsxs("div",{className:"p-4 space-y-4",children:[r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx("button",{onClick:K,className:"btn btn-primary",children:e("Download PDF")}),r.jsx("button",{onClick:R,className:"btn btn-secondary",children:e("Download Excel")})]}),r.jsx("div",{className:"glass-panel rounded-xl p-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Staff / Manager")}),r.jsx("input",{value:n,onChange:J=>i(J.target.value),className:"input w-full",placeholder:e("e.g. Omar Ali")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Timeframe")}),r.jsxs("select",{value:l,onChange:J=>o(J.target.value),className:"input w-full",children:[r.jsx("option",{value:"day",children:e("Day")}),r.jsx("option",{value:"week",children:e("Week")}),r.jsx("option",{value:"month",children:e("Month")})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Reference Date")}),r.jsx("input",{type:"date",lang:a?"ar":"en",dir:a?"rtl":"ltr",placeholder:a?"//":"mm/dd/yyyy",value:c,onChange:J=>d(J.target.value),className:"input w-full"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Status")}),r.jsxs("select",{value:u,onChange:J=>f(J.target.value),className:"input w-full",children:[r.jsx("option",{value:"all",children:e("All")}),r.jsx("option",{value:"Checked-in",children:e("Checked-in")}),r.jsx("option",{value:"No-show",children:e("No-show")}),r.jsx("option",{value:"Cancelled",children:e("Cancelled")}),r.jsx("option",{value:"Completed",children:e("Completed")}),r.jsx("option",{value:"Pending",children:e("Pending")})]})]})]})}),r.jsx("div",{"aria-hidden":"true",className:"h-6"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("Total Check-ins")}),r.jsx("div",{className:"text-3xl font-bold",children:_})]}),r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("No-shows")}),r.jsx("div",{className:"text-3xl font-bold",children:D})]}),r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("Completed")}),r.jsx("div",{className:"text-3xl font-bold",children:P})]}),r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("Pending / Upcoming")}),r.jsx("div",{className:"text-3xl font-bold",children:I})]})]}),r.jsx("div",{"aria-hidden":"true",className:"h-6"}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsxs("div",{className:`flex items-center gap-2 mb-2 ${a?"flex-row-reverse":""}`,children:[r.jsx("div",{className:`${a?"border-r-4":"border-l-4"} border-primary h-full`}),r.jsx("h3",{className:`${a?"text-right":""} text-lg font-semibold`,children:e("Status Distribution")})]}),r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsx(Zn,{segments:B,size:180,cutout:70,centerValue:A.length,centerLabel:e("Check-ins")}),r.jsx("div",{className:"space-y-2 text-sm",children:B.map(J=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"inline-block w-3 h-3 rounded",style:{backgroundColor:J.color}}),r.jsx("span",{children:e(J.label)}),r.jsxs("span",{className:"ml-auto text-[var(--muted-text)]",children:[J.value," (",A.length?Math.round(J.value/A.length*100):0,"%)"]})]},J.label))})]})]}),r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsxs("div",{className:`flex items-center gap-2 mb-2 ${a?"flex-row-reverse":""}`,children:[r.jsx("div",{className:`${a?"border-r-4":"border-l-4"} border-primary h-full`}),r.jsx("h3",{className:`${a?"text-right":""} text-lg font-semibold`,children:e("Check-ins Trend")})]}),r.jsx(no,{data:{labels:U.labels,datasets:[{label:e("Check-ins"),data:U.values,borderColor:"#3b82f6",backgroundColor:"rgba(59,130,246,0.2)",tension:.3,fill:!0,pointRadius:3}]},options:{responsive:!0,plugins:{legend:{display:!0}}}})]}),r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsxs("div",{className:`flex items-center gap-2 mb-2 ${a?"flex-row-reverse":""}`,children:[r.jsx("div",{className:`${a?"border-r-4":"border-l-4"} border-primary h-full`}),r.jsx("h3",{className:`${a?"text-right":""} text-lg font-semibold`,children:e("Check-ins per Staff")})]}),r.jsx(Ls,{data:{labels:E.labels,datasets:[{label:e("Check-ins"),data:E.values,backgroundColor:"#10b981",borderRadius:6}]},options:{responsive:!0,plugins:{legend:{display:!0}}}})]})]}),r.jsx("div",{"aria-hidden":"true",className:"h-6"}),r.jsx("div",{className:"glass-panel rounded-xl p-4",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm nova-table nova-table--glass",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left bg-[var(--table-header-bg)]",children:[r.jsx("th",{className:"px-3 py-2",children:e("Name")}),r.jsx("th",{className:"px-3 py-2",children:e("Check-in Date")}),r.jsx("th",{className:"px-3 py-2",children:e("Check-out Date")}),r.jsx("th",{className:"px-3 py-2",children:e("Department / Reservation")}),r.jsx("th",{className:"px-3 py-2",children:e("Status")}),r.jsx("th",{className:"px-3 py-2",children:e("Handled By")})]})}),r.jsxs("tbody",{children:[A.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-3 py-6 text-center text-[var(--muted-text)]",children:e("No data")})}),A.map(J=>r.jsxs("tr",{className:"border-t border-[var(--table-row-border)] odd:bg-[var(--table-row-bg)] hover:bg-[var(--table-row-hover)] transition-colors",children:[r.jsx("td",{className:"px-3 py-2",children:J.name}),r.jsx("td",{className:"px-3 py-2",children:V(J.checkIn)}),r.jsx("td",{className:"px-3 py-2",children:V(J.checkOut)}),r.jsx("td",{className:"px-3 py-2",children:J.type}),r.jsx("td",{className:"px-3 py-2",children:r.jsx(Z,{status:J.status})}),r.jsx("td",{className:"px-3 py-2",children:J.handledBy})]},J.id))]})]})})}),r.jsx("div",{"aria-hidden":"true",className:"h-6"})]})})}Sr.register(Cn,An,$n,xl,ai,rn,an);function fUe(){const{t:e}=Dt(),t=[{id:1,name:"Ahmed Hassan",type:"VIP",phone:"01012345678",email:"ahmed.hassan@example.com",joinedDate:"2025-01-12",totalRevenue:12e4,orders:15,lastActivity:"2025-11-08",salesperson:"Sara Kamal",history:[{date:"2025-07",amount:15e3},{date:"2025-08",amount:18e3},{date:"2025-09",amount:25e3},{date:"2025-10",amount:32e3},{date:"2025-11",amount:3e4}]},{id:2,name:"Delta Group",type:"Regular",phone:"01234567890",email:"finance@deltagroup.com",joinedDate:"2024-11-20",totalRevenue:85e3,orders:10,lastActivity:"2025-11-05",salesperson:"Omar Ali",history:[{date:"2025-07",amount:12e3},{date:"2025-08",amount:16e3},{date:"2025-09",amount:18e3},{date:"2025-10",amount:19e3},{date:"2025-11",amount:2e4}]},{id:3,name:"Mona Said",type:"New",phone:"01122334455",email:"mona.said@example.com",joinedDate:"2025-09-02",totalRevenue:25e3,orders:3,lastActivity:"2025-11-09",salesperson:"Ahmed Tarek",history:[{date:"2025-09",amount:8e3},{date:"2025-10",amount:9e3},{date:"2025-11",amount:8e3}]},{id:4,name:"Green Labs",type:"VIP",phone:"01098765432",email:"info@greenlabs.com",joinedDate:"2023-07-15",totalRevenue:16e4,orders:22,lastActivity:"2025-10-28",salesperson:"Sara Kamal",history:[{date:"2025-07",amount:28e3},{date:"2025-08",amount:3e4},{date:"2025-09",amount:32e3},{date:"2025-10",amount:35e3},{date:"2025-11",amount:35e3}]},{id:5,name:"ABC Pharma",type:"Regular",phone:"01000099887",email:"contact@abcpharma.co",joinedDate:"2024-03-21",totalRevenue:72e3,orders:9,lastActivity:"2025-09-30",salesperson:"Mona Adel",history:[{date:"2025-07",amount:12e3},{date:"2025-08",amount:14e3},{date:"2025-09",amount:16e3},{date:"2025-10",amount:15e3},{date:"2025-11",amount:15e3}]},{id:6,name:"Nova Tech",type:"New",phone:"01500055544",email:"hello@novatech.io",joinedDate:"2025-08-05",totalRevenue:18e3,orders:2,lastActivity:"2025-10-12",salesperson:"Omar Ali",history:[{date:"2025-08",amount:8e3},{date:"2025-10",amount:1e4}]},{id:7,name:"Medix Co.",type:"Regular",phone:"01200033322",email:"sales@medix.co",joinedDate:"2024-06-11",totalRevenue:54e3,orders:7,lastActivity:"2025-11-03",salesperson:"Ahmed Tarek",history:[{date:"2025-07",amount:9e3},{date:"2025-08",amount:1e4},{date:"2025-10",amount:17e3},{date:"2025-11",amount:18e3}]},{id:8,name:"Sun Health",type:"VIP",phone:"01100998877",email:"support@sunhealth.com",joinedDate:"2023-12-01",totalRevenue:98e3,orders:12,lastActivity:"2025-08-24",salesperson:"Mona Adel",history:[{date:"2025-07",amount:18e3},{date:"2025-08",amount:2e4},{date:"2025-09",amount:22e3},{date:"2025-10",amount:19e3},{date:"2025-11",amount:19e3}]},{id:9,name:"LifeChem",type:"Regular",phone:"01011122233",email:"info@lifechem.org",joinedDate:"2024-10-01",totalRevenue:31e3,orders:4,lastActivity:"2025-10-28",salesperson:"Ahmed Tarek",history:[{date:"2025-09",amount:9e3},{date:"2025-10",amount:11e3},{date:"2025-11",amount:11e3}]},{id:10,name:"CarePlus",type:"New",phone:"01233445566",email:"care@careplus.org",joinedDate:"2025-10-12",totalRevenue:22e3,orders:3,lastActivity:"2025-11-07",salesperson:"Sara Kamal",history:[{date:"2025-10",amount:1e4},{date:"2025-11",amount:12e3}]}],[a,s]=w.useState("all"),[n,i]=w.useState("activity"),[l,o]=w.useState(""),[c,d]=w.useState(""),[u,f]=w.useState("all"),x=B=>{if(!l&&!c)return!0;const O=new Date(B),U=l?O>=new Date(l):!0,E=c?O<=new Date(c):!0;return U&&E},m=w.useMemo(()=>t.filter(B=>{const O=a==="all"||B.salesperson===a,U=u==="all"||B.type===u;let E=B.lastActivity;if(n==="joined"&&(E=B.joinedDate),n==="last"){const K=B.history?.[B.history.length-1]?.date;E=K?`${K}-01`:B.lastActivity}const R=x(E);return O&&U&&R}),[t,a,u,n,l,c]),g=B=>{const O=new Date(B.lastActivity);return Math.floor((new Date("2025-11-09")-O)/(1e3*60*60*24))<=60},v=m.length,b=m.reduce((B,O)=>B+(O.totalRevenue||0),0),j=m.reduce((B,O)=>B+(g(O)?1:0),0),S=Math.max(0,v-j),k=[...m].sort((B,O)=>(O.totalRevenue||0)-(B.totalRevenue||0)).slice(0,5),N=w.useMemo(()=>{const B=new Map;return m.forEach(O=>{B.set(O.type,(B.get(O.type)||0)+(O.totalRevenue||0))}),B},[m]),A=w.useMemo(()=>({Active:m.filter(g).length,Inactive:m.filter(B=>!g(B)).length}),[m]),_=w.useMemo(()=>{const B=new Set;k.forEach(E=>E.history?.forEach(R=>B.add(R.date)));const O=Array.from(B).sort((E,R)=>E.localeCompare(R)),U=k.map(E=>{const R=new Map(E.history.map(K=>[K.date,K.amount]));return{label:E.name,data:O.map(K=>R.get(K)||0),borderColor:`hsl(${E.id*57%360} 70% 45%)`,backgroundColor:"transparent",tension:.3,pointRadius:2}});return{labels:O,datasets:U}},[k]),D=()=>{const B=m.map(E=>({Name:E.name,Type:E.type,Phone:E.phone,Email:E.email,Joined:E.joinedDate,TotalRevenueEGP:E.totalRevenue,Orders:E.orders,LastActivity:E.lastActivity,Salesperson:E.salesperson,Status:g(E)?"Active":"Inactive"})),O=Jt.json_to_sheet(B),U=Jt.book_new();Jt.book_append_sheet(U,O,"Customers"),gs(U,"customers_report.xlsx")},P=()=>{window.print()},I=B=>r.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${B?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300":"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-300"}`,children:e(B?"Active":"Inactive")});return r.jsxs(aa,{titleKey:"Customers Report",children:[r.jsxs("div",{className:"flex justify-end gap-2 mb-4",children:[r.jsx("button",{onClick:P,className:"btn btn-primary",children:e("Download PDF")}),r.jsx("button",{onClick:D,className:"btn btn-secondary",children:e("Download Excel")})]}),r.jsx("div",{className:"glass-panel p-4",children:r.jsx("div",{className:"flex items-center justify-between flex-wrap gap-3",children:r.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Salesperson")}),r.jsxs(Xa,{value:a,onChange:B=>s(B),className:"min-w-[160px]",children:[r.jsx("option",{value:"all",children:e("All")}),[...new Set(t.map(B=>B.salesperson))].map(B=>r.jsx("option",{value:B,children:B},B))]})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Customer Type")}),r.jsxs(Xa,{value:u,onChange:B=>f(B),className:"min-w-[140px]",children:[r.jsx("option",{value:"all",children:e("All")}),[...new Set(t.map(B=>B.type))].map(B=>r.jsx("option",{value:B,children:B},B))]})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Date Mode")}),r.jsxs(Xa,{value:n,onChange:B=>i(B),className:"min-w-[180px]",children:[r.jsx("option",{value:"activity",children:e("Activity Date")}),r.jsx("option",{value:"joined",children:e("Join Date")}),r.jsx("option",{value:"last",children:e("Last Purchase Date")})]})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("From")}),r.jsx("input",{type:"date",value:l,onChange:B=>o(B.target.value),className:"input"})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("To")}),r.jsx("input",{type:"date",value:c,onChange:B=>d(B.target.value),className:"input"})]})]})})}),r.jsx("div",{className:"h-6","aria-hidden":"true"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[[{label:e("Total Customers"),value:v,color:"bg-blue-500"},{label:e("Total Revenue (EGP)"),value:b.toLocaleString(),color:"bg-emerald-500"},{label:e("Active Customers"),value:j,color:"bg-indigo-500"},{label:e("Inactive Customers"),value:S,color:"bg-rose-500"}].map((B,O)=>r.jsxs("div",{className:"glass-panel p-4",children:[r.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:B.label}),r.jsx("div",{className:"mt-1 text-2xl font-semibold",children:B.value}),r.jsx("div",{className:`mt-2 h-1.5 rounded ${B.color}`})]},O)),r.jsxs("div",{className:"glass-panel p-4",children:[r.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("Top 5 Customers by Revenue")}),r.jsxs("ul",{className:"mt-2 space-y-1 text-sm",children:[k.map(B=>r.jsxs("li",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"truncate max-w-[60%]",children:B.name}),r.jsxs("span",{className:"font-medium",children:[B.totalRevenue.toLocaleString()," EGP"]})]},B.id)),k.length===0&&r.jsx("li",{className:"text-[var(--muted-text)]",children:e("No data")})]})]})]}),r.jsx("div",{className:"h-6","aria-hidden":"true"}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"glass-panel p-4",children:[r.jsx("div",{className:"text-sm font-medium mb-2",children:e("Revenue by Customer Type")}),r.jsx(Ls,{data:{labels:Array.from(N.keys()),datasets:[{label:e("Revenue (EGP)"),data:Array.from(N.values()),backgroundColor:"rgba(16, 185, 129, 0.6)",borderRadius:6}]},options:{responsive:!0,plugins:{legend:{display:!1}},scales:{y:{ticks:{callback:B=>`${B}`}}}}})]}),r.jsxs("div",{className:"glass-panel p-4",children:[r.jsx("div",{className:"text-sm font-medium mb-2",children:e("Active vs Inactive")}),r.jsx(Zn,{segments:[{label:e("Active"),value:A.Active,color:"#10b981"},{label:e("Inactive"),value:A.Inactive,color:"#ef4444"}],totalLabel:e("Customers")})]}),r.jsxs("div",{className:"glass-panel p-4",children:[r.jsx("div",{className:"text-sm font-medium mb-2",children:e("Revenue Trend  Top Customers")}),r.jsx(no,{data:{labels:_.labels,datasets:_.datasets},options:{responsive:!0,plugins:{legend:{position:"bottom"}},scales:{y:{ticks:{callback:B=>`${B}`}}}}})]})]}),r.jsx("div",{className:"h-6","aria-hidden":"true"}),r.jsx("div",{className:"h-6","aria-hidden":"true"}),r.jsxs("div",{className:"glass-panel p-4",children:[r.jsx("div",{className:"text-sm font-medium mb-3",children:e("Customers")}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm nova-table nova-table--glass",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left bg-[var(--table-header-bg)]",children:[r.jsx("th",{className:"px-3 py-2",children:e("Customer Name")}),r.jsx("th",{className:"px-3 py-2",children:e("Type")}),r.jsx("th",{className:"px-3 py-2",children:e("Contact")}),r.jsx("th",{className:"px-3 py-2",children:e("Total Revenue")}),r.jsx("th",{className:"px-3 py-2",children:e("Orders")}),r.jsx("th",{className:"px-3 py-2",children:e("Last Activity")}),r.jsx("th",{className:"px-3 py-2",children:e("Status")}),r.jsx("th",{className:"px-3 py-2",children:e("Salesperson")})]})}),r.jsxs("tbody",{children:[m.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:8,className:"px-3 py-6 text-center text-[var(--muted-text)]",children:e("No data")})}),m.map(B=>r.jsxs("tr",{className:"border-t border-[var(--table-row-border)] odd:bg-[var(--table-row-bg)] hover:bg-[var(--table-row-hover)] transition-colors",children:[r.jsx("td",{className:"px-3 py-2",children:B.name}),r.jsx("td",{className:"px-3 py-2",children:B.type}),r.jsx("td",{className:"px-3 py-2",children:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{children:B.phone}),r.jsx("span",{className:"text-[var(--muted-text)]",children:B.email})]})}),r.jsxs("td",{className:"px-3 py-2",children:[B.totalRevenue.toLocaleString()," EGP"]}),r.jsx("td",{className:"px-3 py-2",children:B.orders}),r.jsx("td",{className:"px-3 py-2",children:new Date(B.lastActivity).toLocaleDateString()}),r.jsx("td",{className:"px-3 py-2",children:I(g(B))}),r.jsx("td",{className:"px-3 py-2",children:B.salesperson})]},B.id))]})]})})]}),r.jsx("div",{className:"h-6","aria-hidden":"true"})]})}Sr.register(Cn,An,xl,ai,$n,Em,wx,rn,an);const uk=e=>new Intl.NumberFormat("en-EG",{style:"currency",currency:"EGP",maximumFractionDigits:0}).format(e),hk=()=>{const{t:e}=Dt(),t=Rs.dir()==="rtl",a=Cc(),[s,n]=w.useState("All"),[i,l]=w.useState("All"),[o,c]=w.useState("month"),[d,u]=w.useState(""),[f,x]=w.useState(""),[m,g]=w.useState(""),[v,b]=w.useState(""),j=["All","Ahmed Ali","Sara Hassan"],S=["All","Sales","Operations"],[k]=w.useState(()=>{const R=new Date,K=(V,Z,J,ee,W,le,M,X,z,Q,ne,re,oe)=>({name:V,manager:Z,team:J,calls:ee,actions:W,delayed:le,stages:{lead:M,qualified:X,proposal:z,closed:Q},revenue:ne,targetPct:re,date:new Date(R.getTime()-oe*24*60*60*1e3)});return[K("Ahmed Ali","Ahmed Ali","Sales",45,30,3,10,12,0,8,82e3,82,2),K("Sara Hassan","Sara Hassan","Sales",58,40,1,14,18,0,8,105e3,105,1),K("Omar Tarek","Ahmed Ali","Operations",32,20,2,8,7,0,5,65e3,65,6),K("Lina Ops","Sara Hassan","Operations",50,35,4,15,12,3,5,73e3,88,10),K("Maram Admin","Ahmed Ali","Sales",62,43,2,20,15,5,3,98e3,91,15)]}),N=R=>{if(o==="day"&&d){const K=new Date(d);return R.toDateString()===K.toDateString()}if(o==="week"&&d){const K=new Date(d),V=new Date(K);V.setDate(K.getDate()-K.getDay());const Z=new Date(V);return Z.setDate(V.getDate()+6),R>=V&&R<=Z}if(o==="month"&&d){const K=new Date(d);return R.getFullYear()===K.getFullYear()&&R.getMonth()===K.getMonth()}if(o==="range"&&f&&m){const K=new Date(f),V=new Date(m);return R>=K&&R<=V}return!0},A=w.useMemo(()=>k.filter(R=>(s==="All"||R.manager===s)&&(i==="All"||R.team===i)&&N(R.date)&&(!v||R.name.toLowerCase().includes(v.toLowerCase()))),[k,s,i,o,d,f,m,v]);w.useEffect(()=>{try{const R=new URLSearchParams(a.search||""),K=R.get("team"),V=R.get("manager");K&&l(K),V&&n(V)}catch{}},[a.search]);const _=w.useMemo(()=>{const R=A.reduce((ee,W)=>ee+W.calls,0),K=A.reduce((ee,W)=>ee+W.actions,0),V=A.reduce((ee,W)=>ee+W.revenue,0),Z=A.length?Math.round(A.reduce((ee,W)=>ee+W.targetPct,0)/A.length):0,J=A.slice().sort((ee,W)=>W.targetPct-ee.targetPct)[0]||null;return{totalCalls:R,totalActions:K,totalRevenue:V,avgTarget:Z,top:J}},[A]),D=w.useMemo(()=>({labels:A.map(K=>K.name),datasets:[{label:t?"":"Calls",data:A.map(K=>K.calls),backgroundColor:"#4f46e5"},{label:t?"":"Actions",data:A.map(K=>K.actions),backgroundColor:"#10b981"}]}),[A,t]),P=w.useMemo(()=>{const R=A.reduce((J,ee)=>J+(ee.stages.lead||0),0),K=A.reduce((J,ee)=>J+(ee.stages.qualified||0),0),V=A.reduce((J,ee)=>J+(ee.stages.proposal||0),0),Z=A.reduce((J,ee)=>J+(ee.stages.closed||0),0);return{labels:[t?"":"Lead",t?"":"Qualified",t?"":"Proposal",t?"":"Closed"],datasets:[{data:[R,K,V,Z],backgroundColor:["#60a5fa","#f59e0b","#a78bfa","#10b981"]}]}},[A,t]),I=w.useMemo(()=>{const R=new Map;A.forEach(Z=>{const J=new Date(Z.date.getFullYear(),Z.date.getMonth(),Z.date.getDate()).toLocaleDateString();R.set(J,(R.get(J)||0)+Z.targetPct)});const K=Array.from(R.keys()).sort((Z,J)=>new Date(Z)-new Date(J)),V=K.map(Z=>Math.round((R.get(Z)||0)/A.length));return{labels:K,data:V}},[A]),B=({pct:R})=>{const K=R>=90?"text-emerald-700 bg-emerald-100 ring-emerald-200":R>=60?"text-amber-700 bg-amber-100 ring-amber-200":"text-rose-700 bg-rose-100 ring-rose-200";return r.jsxs("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ring-1 ${K}`,children:[R,"%"]})},O=({value:R,max:K=100})=>{const V=Math.min(100,Math.round(R/K*100)),Z=R>=90?"bg-emerald-600":R>=60?"bg-amber-600":"bg-rose-600";return r.jsx("div",{className:"w-full h-2.5 rounded-full bg-gray-200 dark:bg-gray-800",children:r.jsx("div",{className:`h-2.5 rounded-full ${Z}`,style:{width:`${V}%`}})})},U=()=>{const R=A.map(Z=>({"Employee Name":Z.name,Manager:Z.manager,Team:Z.team,Calls:Z.calls,Actions:Z.actions,Delayed:Z.delayed,Lead:Z.stages.lead,Qualified:Z.stages.qualified,Proposal:Z.stages.proposal,Closed:Z.stages.closed,Revenue:Z.revenue,"Target %":Z.targetPct,Date:Z.date.toLocaleDateString()})),K=Jt.json_to_sheet(R),V=Jt.book_new();Jt.book_append_sheet(V,K,"Team Performance"),gs(V,"team_performance_report.xlsx")},E=()=>{const R=new ma("l","pt","a4");R.setFontSize(14),R.text(t?"  ":"Team Performance Report",40,40);const K=[[t?"":"Employee",t?"":"Manager",t?"":"Team",t?"":"Calls",t?"":"Actions",t?"":"Delayed",t?"":"Lead",t?"":"Qualified",t?"":"Proposal",t?"":"Closed",t?"":"Revenue",t?" ":"Target %",t?"":"Date"]],V=A.map(Z=>[Z.name,Z.manager,Z.team,Z.calls,Z.actions,Z.delayed,Z.stages.lead,Z.stages.qualified,Z.stages.proposal,Z.stages.closed,uk(Z.revenue),`${Z.targetPct}%`,Z.date.toLocaleDateString()]);R.autoTable({head:K,body:V,startY:60}),R.save("team_performance_report.pdf")};return r.jsx(aa,{children:r.jsxs("div",{className:"p-4 space-y-4",children:[r.jsx("div",{className:"glass-panel rounded-xl p-4",children:r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsx("h1",{className:"text-2xl font-semibold",children:t?"  ":"Team Performance Report"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{className:"btn btn-glass",onClick:E,children:t?" PDF":"Download PDF"}),r.jsx("button",{className:"btn btn-glass",onClick:U,children:t?" Excel":"Download Excel"})]})]})}),r.jsx("div",{className:"glass-panel rounded-xl p-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"label",children:t?"":"Manager"}),r.jsx(Xa,{value:s,onChange:R=>n(R),children:j.map(R=>r.jsx("option",{value:R,children:R},R))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:t?" / ":"Team / Department"}),r.jsx(Xa,{value:i,onChange:R=>l(R),children:S.map(R=>r.jsx("option",{value:R,children:R},R))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:t?"":"Search"}),r.jsx("input",{className:"input w-full",placeholder:t?" ":"Employee name",value:v,onChange:R=>b(R.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:t?" ":"Period Mode"}),r.jsxs(Xa,{value:o,onChange:R=>{c(R),u(""),x(""),g("")},children:[r.jsx("option",{value:"day",children:t?"":"Day"}),r.jsx("option",{value:"week",children:t?"":"Week"}),r.jsx("option",{value:"month",children:t?"":"Month"}),r.jsx("option",{value:"range",children:t?" ":"Custom Range"})]})]}),o!=="range"&&r.jsxs("div",{children:[r.jsx("label",{className:"label",children:t?"":"Date"}),r.jsx("input",{type:"date",className:"input w-full",value:d,onChange:R=>u(R.target.value)})]}),o==="range"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"label",children:t?"":"Start"}),r.jsx("input",{type:"date",className:"input w-full",value:f,onChange:R=>x(R.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:t?"":"End"}),r.jsx("input",{type:"date",className:"input w-full",value:m,onChange:R=>g(R.target.value)})]})]})]})}),r.jsx("div",{className:"h-4","aria-hidden":"true"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3",children:[r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsx("div",{className:"text-sm text-gray-500",children:t?" ":"Total Calls"}),r.jsx("div",{className:"text-2xl font-semibold",children:_.totalCalls})]}),r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsx("div",{className:"text-sm text-gray-500",children:t?" ":"Total Actions Completed"}),r.jsx("div",{className:"text-2xl font-semibold",children:_.totalActions})]}),r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsx("div",{className:"text-sm text-gray-500",children:t?" ":"Total Revenue Achieved"}),r.jsx("div",{className:"text-2xl font-semibold text-indigo-600",children:uk(_.totalRevenue)})]}),r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsx("div",{className:"text-sm text-gray-500",children:t?"   ":"Avg Target Achievement %"}),r.jsx("div",{className:"text-2xl font-semibold",children:r.jsx(B,{pct:_.avgTarget})})]}),r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsx("div",{className:"text-sm text-gray-500",children:t?" ":"Top Performer of the Period"}),r.jsx("div",{className:"text-base font-semibold",children:_.top?_.top.name:t?" ":"N/A"})]})]}),r.jsx("div",{className:"h-4","aria-hidden":"true"}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3",children:[r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsx("div",{className:"font-semibold mb-2",children:t?"   ":"Calls & Actions per Employee"}),r.jsx(Ls,{data:D,options:{responsive:!0,plugins:{legend:{position:"bottom"}}}})]}),r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsx("div",{className:"font-semibold mb-2",children:t?"   ":"Actions Distribution by Stage"}),r.jsx(Rj,{data:P,options:{responsive:!0}})]}),r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsx("div",{className:"font-semibold mb-2",children:t?"   ":"Team Performance Trend Over Time"}),r.jsx(no,{data:{labels:I.labels,datasets:[{label:t?" ":"Target %",data:I.data,borderColor:"#4f46e5",backgroundColor:"#4f46e5"}]},options:{responsive:!0,plugins:{legend:{display:!1}}}})]})]}),r.jsx("div",{className:"h-4","aria-hidden":"true"}),r.jsx("div",{className:"glass-panel rounded-xl p-0",children:r.jsxs("table",{className:"nova-table nova-table--glass w-full",children:[r.jsx("thead",{className:"nova-thead bg-gray-50 dark:bg-gray-800/50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"nova-th",children:t?"":"Employee Name"}),r.jsx("th",{className:"nova-th",children:t?"":"Calls"}),r.jsx("th",{className:"nova-th",children:t?"":"Actions"}),r.jsx("th",{className:"nova-th",children:t?"":"Delayed"}),r.jsx("th",{className:"nova-th",children:t?" ":"Actions by Stage"}),r.jsx("th",{className:"nova-th",children:t?"":"Revenue"}),r.jsx("th",{className:"nova-th",children:t?"  ":"Target %"})]})}),r.jsxs("tbody",{className:"nova-tbody",children:[A.map((R,K)=>r.jsxs("tr",{className:"nova-tr",children:[r.jsxs("td",{className:"nova-td text-sm",children:[r.jsx("div",{className:"font-medium",children:R.name}),r.jsxs("div",{className:"text-xs text-gray-500",children:[R.team,"  ",R.manager]})]}),r.jsx("td",{className:"nova-td text-sm",children:R.calls}),r.jsx("td",{className:"nova-td text-sm",children:R.actions}),r.jsx("td",{className:"nova-td text-sm",children:R.delayed}),r.jsx("td",{className:"nova-td text-xs",children:r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-blue-50 text-blue-700 ring-1 ring-blue-200",children:[t?"":"Lead",": ",R.stages.lead]}),r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-amber-50 text-amber-700 ring-1 ring-amber-200",children:[t?"":"Qualified",": ",R.stages.qualified]}),r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-violet-50 text-violet-700 ring-1 ring-violet-200",children:[t?"":"Proposal",": ",R.stages.proposal]}),r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-emerald-50 text-emerald-700 ring-1 ring-emerald-200",children:[t?"":"Closed",": ",R.stages.closed]})]})}),r.jsxs("td",{className:"nova-td text-sm",children:[uk(R.revenue),r.jsx("div",{className:"mt-1",children:r.jsx(O,{value:R.targetPct})})]}),r.jsx("td",{className:"nova-td",children:r.jsx(B,{pct:R.targetPct})})]},K)),A.length===0&&r.jsx("tr",{children:r.jsx("td",{className:"nova-td text-center text-sm text-gray-500",colSpan:7,children:t?"  ":"No results"})})]})]})}),r.jsx("div",{className:"h-4","aria-hidden":"true"})]})})};Sr.register(Cn,An,xl,ai,$n,Em,wx,rn,an);const fk=e=>new Intl.NumberFormat("en-EG",{style:"currency",currency:"EGP",maximumFractionDigits:0}).format(e),mk=()=>{const{t:e}=Dt(),t=Rs.dir()==="rtl",[a,s]=w.useState("month"),[n,i]=w.useState(""),[l,o]=w.useState(""),[c,d]=w.useState(""),[u,f]=w.useState("All"),[x,m]=w.useState("All"),[g,v]=w.useState("All"),[b,j]=w.useState(""),S=["All","Sales","Operations","Marketing","Inventory"],k=["All","Ahmed Ali","Sara Hassan"],[N]=w.useState(()=>[{key:"campaign_summary",name:"Campaign Summary Overview",route:"/marketing/reports/campaign-summary",revenue:21e4,leads:320,actions:0,importsSuccess:0,exportsSuccess:0,dept:"Marketing",manager:"Sara Hassan",status:"Active"},{key:"cost_vs_revenue",name:"Cost vs Revenue",route:"/marketing/reports/cost-vs-revenue",revenue:42e4,leads:0,actions:0,importsSuccess:0,exportsSuccess:0,dept:"Marketing",manager:"Sara Hassan",status:"Active"},{key:"monthly_marketing",name:"Monthly Marketing Overview",route:"/marketing/reports/monthly-overview",revenue:18e4,leads:240,actions:0,importsSuccess:0,exportsSuccess:0,dept:"Marketing",manager:"Sara Hassan",status:"Active"},{key:"sales_activities",name:"Sales Activities Report",route:"/reports/sales/activities",revenue:31e4,leads:0,actions:1250,importsSuccess:0,exportsSuccess:0,dept:"Sales",manager:"Ahmed Ali",status:"Active"},{key:"pipeline",name:"Leads Pipeline Report",route:"/reports/sales/pipeline",revenue:53e4,leads:540,actions:0,importsSuccess:0,exportsSuccess:0,dept:"Sales",manager:"Ahmed Ali",status:"Active"},{key:"closed_deals",name:"Closed Deals Report",route:"/reports/sales/closed-deals",revenue:26e4,leads:0,actions:0,importsSuccess:0,exportsSuccess:0,dept:"Sales",manager:"Ahmed Ali",status:"Active"},{key:"reservations",name:"Reservations Report",route:"/reports/sales/reservations",revenue:145e3,leads:0,actions:0,importsSuccess:0,exportsSuccess:0,dept:"Sales",manager:"Ahmed Ali",status:"Active"},{key:"customers",name:"Customers Report",route:"/reports/sales/customers",revenue:195e3,leads:0,actions:0,importsSuccess:0,exportsSuccess:0,dept:"Sales",manager:"Ahmed Ali",status:"Active"},{key:"imports",name:"Imports Report",route:"/reports/sales/imports",revenue:0,leads:0,actions:0,importsSuccess:38,exportsSuccess:0,dept:"Operations",manager:"Sara Hassan",status:"Success"},{key:"exports",name:"Exports Report",route:"/reports/sales/exports",revenue:0,leads:0,actions:0,importsSuccess:0,exportsSuccess:41,dept:"Operations",manager:"Sara Hassan",status:"Success"},{key:"rent",name:"Rent Report",route:"/reports/sales/rent",revenue:87e3,leads:0,actions:0,importsSuccess:0,exportsSuccess:0,dept:"Operations",manager:"Sara Hassan",status:"Active"},{key:"check_in",name:"Check-in Report",route:"/reports/sales/check-in",revenue:0,leads:0,actions:0,importsSuccess:0,exportsSuccess:0,dept:"Operations",manager:"Sara Hassan",status:"Checked-in"},{key:"team_performance",name:"Team Performance Report",route:"/reports/team",revenue:0,leads:0,actions:0,importsSuccess:0,exportsSuccess:0,dept:"Sales",manager:"Ahmed Ali",status:"Active"}]),A=w.useMemo(()=>N.filter(E=>(u==="All"||E.dept===u)&&(x==="All"||E.manager===x)&&(g==="All"||E.status===g)&&(!b||E.name.toLowerCase().includes(b.toLowerCase()))),[N,u,x,g,b]),_=w.useMemo(()=>{const E=A.reduce((J,ee)=>J+(ee.revenue||0),0),R=A.reduce((J,ee)=>J+(ee.leads||0),0),K=A.reduce((J,ee)=>J+(ee.actions||0),0),V=A.reduce((J,ee)=>J+(ee.importsSuccess||0),0),Z=A.reduce((J,ee)=>J+(ee.exportsSuccess||0),0);return{totalRevenue:E,totalLeads:R,totalActions:K,successfulImports:V,successfulExports:Z}},[A]),D=w.useMemo(()=>({labels:A.map(E=>E.name),datasets:[{label:t?"":"Actions",data:A.map(E=>E.actions||0),backgroundColor:"#4f46e5"},{label:t?" ":"Leads",data:A.map(E=>E.leads||0),backgroundColor:"#10b981"}]}),[A,t]),P=w.useMemo(()=>({labels:[t?" ":"Successful Imports",t?" ":"Successful Exports"],datasets:[{data:[_.successfulImports,_.successfulExports],backgroundColor:["#60a5fa","#f59e0b"]}]}),[_,t]),I=w.useMemo(()=>({labels:A.map(E=>E.name),datasets:[{label:t?"":"Revenue",data:A.map(E=>E.revenue||0),borderColor:"#4f46e5",backgroundColor:"#4f46e5"}]}),[A,t]),B=({status:E})=>{const K={Success:"bg-emerald-100 text-emerald-700 ring-emerald-200",Active:"bg-blue-100 text-blue-700 ring-blue-200",Expired:"bg-amber-100 text-amber-700 ring-amber-200","Checked-in":"bg-indigo-100 text-indigo-700 ring-indigo-200","No-show":"bg-rose-100 text-rose-700 ring-rose-200",Failed:"bg-rose-100 text-rose-700 ring-rose-200"}[E]||"bg-gray-100 text-gray-700 ring-gray-200";return r.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ring-1 ${K}`,children:E})},O=()=>{const E=A.map(V=>({Module:V.name,Department:V.dept,Manager:V.manager,Revenue:V.revenue,Leads:V.leads,Actions:V.actions,"Successful Imports":V.importsSuccess,"Successful Exports":V.exportsSuccess,Status:V.status,Route:V.route})),R=Jt.json_to_sheet(E),K=Jt.book_new();Jt.book_append_sheet(K,R,"Reports Dashboard"),gs(K,"reports_dashboard.xlsx")},U=()=>{const E=new ma("l","pt","a4");E.setFontSize(14),E.text(t?" ":"Reports Dashboard",40,40);const R=[[t?"":"Module",t?"":"Department",t?"":"Manager",t?"":"Revenue",t?" ":"Leads",t?"":"Actions",t?" ":"Successful Imports",t?" ":"Successful Exports",t?"":"Status"]],K=A.map(V=>[V.name,V.dept,V.manager,fk(V.revenue||0),V.leads||0,V.actions||0,V.importsSuccess||0,V.exportsSuccess||0,V.status]);E.autoTable({head:R,body:K,startY:60}),E.save("reports_dashboard.pdf")};return r.jsx(aa,{children:r.jsxs("div",{className:"p-4 space-y-4",children:[r.jsx("div",{className:"glass-panel rounded-xl p-4",children:r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsx("h1",{className:"text-2xl font-semibold",children:t?" ":"Reports Dashboard"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{className:"btn btn-glass",onClick:U,children:t?" PDF":"Download PDF"}),r.jsx("button",{className:"btn btn-glass",onClick:O,children:t?" Excel":"Download Excel"})]})]})}),r.jsx("div",{className:"glass-panel rounded-xl p-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"label",children:t?" ":"Period Mode"}),r.jsxs(Xa,{value:a,onChange:E=>{s(E),i(""),o(""),d("")},children:[r.jsx("option",{value:"day",children:t?"":"Day"}),r.jsx("option",{value:"week",children:t?"":"Week"}),r.jsx("option",{value:"month",children:t?"":"Month"}),r.jsx("option",{value:"range",children:t?" ":"Custom Range"})]})]}),a!=="range"&&r.jsxs("div",{children:[r.jsx("label",{className:"label",children:t?"":"Date"}),r.jsx("input",{type:"date",className:"input w-full",value:n,onChange:E=>i(E.target.value)})]}),a==="range"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"label",children:t?"":"Start"}),r.jsx("input",{type:"date",className:"input w-full",value:l,onChange:E=>o(E.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:t?"":"End"}),r.jsx("input",{type:"date",className:"input w-full",value:c,onChange:E=>d(E.target.value)})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:t?" / ":"Department / Team"}),r.jsx(Xa,{value:u,onChange:E=>f(E),children:S.map(E=>r.jsx("option",{value:E,children:E},E))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:t?"":"Manager"}),r.jsx(Xa,{value:x,onChange:E=>m(E),children:k.map(E=>r.jsx("option",{value:E,children:E},E))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:t?"":"Status"}),r.jsx(Xa,{value:g,onChange:E=>v(E),children:["All","Active","Success","Failed","Expired","Checked-in","No-show"].map(E=>r.jsx("option",{value:E,children:E},E))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:t?"":"Search"}),r.jsx("input",{className:"input w-full",placeholder:t?" ":"Report name",value:b,onChange:E=>j(E.target.value)})]})]})}),r.jsx("div",{className:"h-4","aria-hidden":"true"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3",children:[r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsx("div",{className:"text-sm text-gray-500",children:t?" ":"Total Revenue"}),r.jsx("div",{className:"text-2xl font-semibold text-indigo-600",children:fk(_.totalRevenue)})]}),r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsx("div",{className:"text-sm text-gray-500",children:t?"  ":"Total Leads"}),r.jsx("div",{className:"text-2xl font-semibold",children:_.totalLeads})]}),r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsx("div",{className:"text-sm text-gray-500",children:t?" ":"Total Actions"}),r.jsx("div",{className:"text-2xl font-semibold",children:_.totalActions})]}),r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsx("div",{className:"text-sm text-gray-500",children:t?" ":"Successful Imports"}),r.jsx("div",{className:"text-2xl font-semibold text-emerald-600",children:_.successfulImports})]}),r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsx("div",{className:"text-sm text-gray-500",children:t?" ":"Successful Exports"}),r.jsx("div",{className:"text-2xl font-semibold text-amber-600",children:_.successfulExports})]})]}),r.jsx("div",{className:"h-4","aria-hidden":"true"}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3",children:[r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsxs("div",{className:`flex items-center gap-2 mb-2 ${t?"flex-row-reverse":""}`,children:[r.jsx("div",{className:`${t?"border-r-4":"border-l-4"} border-primary h-full`}),r.jsx("div",{className:`${t?"text-right":""} font-semibold`,children:t?"   ":"Actions & Leads Across Reports"})]}),r.jsx(Ls,{data:D,options:{responsive:!0,plugins:{legend:{position:"bottom"}}}})]}),r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsxs("div",{className:`flex items-center gap-2 mb-2 ${t?"flex-row-reverse":""}`,children:[r.jsx("div",{className:`${t?"border-r-4":"border-l-4"} border-primary h-full`}),r.jsx("div",{className:`${t?"text-right":""} font-semibold`,children:t?"/ ":"Successful Imports/Exports"})]}),r.jsx(Rj,{data:P,options:{responsive:!0}})]}),r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsxs("div",{className:`flex items-center gap-2 mb-2 ${t?"flex-row-reverse":""}`,children:[r.jsx("div",{className:`${t?"border-r-4":"border-l-4"} border-primary h-full`}),r.jsx("div",{className:`${t?"text-right":""} font-semibold`,children:t?"   ":"Revenue Trend by Report"})]}),r.jsx(no,{data:I,options:{responsive:!0,plugins:{legend:{display:!1}}}})]})]}),r.jsx("div",{className:"h-4","aria-hidden":"true"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:A.map(E=>r.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[r.jsxs("div",{className:"flex items-start justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-semibold",children:E.name}),r.jsxs("div",{className:"text-xs text-gray-500",children:[E.dept,"  ",E.manager]})]}),r.jsx(B,{status:E.status})]}),r.jsxs("div",{className:"mt-3 grid grid-cols-3 gap-3",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-gray-500",children:t?"":"Revenue"}),r.jsx("div",{className:"text-sm font-semibold",children:fk(E.revenue||0)})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-gray-500",children:t?" ":"Leads"}),r.jsx("div",{className:"text-sm font-semibold",children:E.leads||0})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-gray-500",children:t?"":"Actions"}),r.jsx("div",{className:"text-sm font-semibold",children:E.actions||0})]})]}),r.jsx("div",{className:"mt-4",children:r.jsx(gr,{to:E.route,className:"btn btn-primary",children:t?" ":"Open Report"})})]},E.key))})]})})};function mUe(){return r.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:r.jsxs("div",{className:"w-full max-w-md rounded-lg border border-gray-300 dark:border-gray-700 p-6 space-y-3",children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Subscription Expired"}),r.jsx("p",{children:"Your subscription has expired. Please renew to continue."})]})})}function pUe(){return r.jsxs("div",{className:"p-6",children:[r.jsx("h1",{className:"text-2xl font-semibold mb-2",children:"Upgrade Plan"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Your current plan limits access to this feature. Please upgrade to unlock advanced modules and settings."}),r.jsxs("div",{className:"mt-4 flex gap-3",children:[r.jsx("a",{href:"#",className:"px-4 py-2 rounded-md bg-indigo-600 text-white text-sm",children:"View Plans"}),r.jsx("a",{href:"#",className:"px-4 py-2 rounded-md border border-gray-300 dark:border-gray-700 text-sm",children:"Contact Sales"})]})]})}function xUe(){const e=ti(),t=[{key:"clients",title:"Client Management",desc:"Track clients and communication history with ease."},{key:"leads",title:"Leads Management",desc:"Manage lead stages smartly with quick filtering."},{key:"marketing",title:"Marketing & Campaigns",desc:"Launch campaigns and track landing results."},{key:"reports",title:"Reports & Analytics",desc:"Visualize performance with smart dashboards."},{key:"inventory",title:"Inventory",desc:"Manage products, stock, and transactions efficiently."},{key:"projects",title:"Projects",desc:"Track projects, timelines, and milestones with ease."},{key:"settings",title:"Settings",desc:"Configure modules, roles, and subscription details."},{key:"requests",title:"Requests",desc:"Manage requests and follow-ups efficiently."}],a=n=>{const i="w-12 h-12";switch(n){case"clients":return r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:`${i} text-teal-500`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[r.jsx("circle",{cx:"12",cy:"12",r:"6",strokeWidth:"2"}),r.jsx("path",{d:"M6 20c2-3 10-3 12 0",strokeWidth:"2"})]});case"leads":return r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`${i} text-orange-500`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:r.jsx("path",{d:"M5 13l4 4L19 7",strokeWidth:"2"})});case"marketing":return r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:`${i} text-purple-500`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[r.jsx("path",{d:"M3 8l9 6 9-6",strokeWidth:"2"}),r.jsx("path",{d:"M5 19h14",strokeWidth:"2"})]});case"reports":return r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:`${i} text-blue-500`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[r.jsx("rect",{x:"6",y:"12",width:"3",height:"8"}),r.jsx("rect",{x:"11",y:"9",width:"3",height:"11"}),r.jsx("rect",{x:"16",y:"6",width:"3",height:"14"})]});case"inventory":return r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`${i} text-yellow-500`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:r.jsx("rect",{x:"3",y:"7",width:"18",height:"14",rx:"2"})});case"projects":return r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:`${i} text-gray-500`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[r.jsx("rect",{x:"4",y:"7",width:"16",height:"12"}),r.jsx("path",{d:"M4 7l4-3h8l4 3"})]});case"settings":return r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:`${i} text-indigo-500`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[r.jsx("circle",{cx:"12",cy:"12",r:"3"}),r.jsx("path",{d:"M19 12a7 7 0 01-.3 2l2 1-2 3-2-1a7 7 0 01-2 1l-.3 2H9l-.3-2a7 7 0 01-2-1l-2 1-2-3 2-1A7 7 0 015 12a7 7 0 01.3-2L3 9l2-3 2 1a7 7 0 012-1L9 4h6l.3 2a7 7 0 012 1l2-1 2 3-2 1c.3.6.4 1.3.4 2z"})]});case"requests":return r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`${i} text-teal-600`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:r.jsx("path",{d:"M5 13l4 4L19 7",strokeWidth:"2"})});default:return null}},s={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.08}}};return r.jsxs("div",{className:"relative min-h-screen flex flex-col pb-20 sm:pb-24 bg-gradient-to-br from-cyan-200 via-sky-300 to-indigo-200 dark:from-gray-900 dark:via-indigo-900 dark:to-purple-900",children:[r.jsx(nh.header,{className:"w-full bg-white/20 dark:bg-gray-800/25 backdrop-blur-md border-b border-white/30 dark:border-gray-600 shadow",initial:{opacity:0,y:-12},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},children:r.jsxs("div",{className:"flex justify-between items-center w-full max-w-6xl mx-auto px-4 sm:px-6 py-2 sm:py-3",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("img",{src:qf,alt:"Be Souhola",className:"w-16 h-16 sm:w-20 sm:h-20 drop-shadow-lg"}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-xs sm:text-sm text-white/90 drop-shadow-md",children:"Make everything ....."}),r.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold bg-gradient-to-r from-white via-sky-100 to-cyan-200 text-transparent bg-clip-text drop-shadow-lg",children:"Be Souhola"})]})]}),r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs("nav",{className:"hidden sm:flex items-center gap-4 text-white/90",children:[r.jsx(Ut,{to:"/",className:({isActive:n})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${n?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Home"}),r.jsx(Ut,{to:"/about",className:({isActive:n})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${n?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"About"}),r.jsx(Ut,{to:"/welcome/contact",className:({isActive:n})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${n?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Contact"}),r.jsx(Ut,{to:"/pricing",className:({isActive:n})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${n?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Pricing"})]}),r.jsx("button",{onClick:()=>e("/login"),className:"px-8 py-3 rounded-full bg-white/25 backdrop-blur-md text-white font-semibold shadow-lg transition-all duration-200 hover:bg-white/40 hover:scale-105 hover:shadow-2xl hover:ring-2 hover:ring-white/40",children:"LOGIN "})]})]})}),r.jsx(nh.div,{variants:s,initial:"hidden",animate:"show",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 mt-12 sm:mt-16 w-full max-w-6xl mx-auto px-6 sm:px-10",children:t.map((n,i)=>r.jsxs(nh.div,{whileHover:{scale:1.05,y:-5},className:"bg-white/30 dark:bg-gray-800/30 backdrop-blur-md rounded-3xl p-6 flex flex-col gap-4 cursor-pointer transition-all border border-white/40 dark:border-gray-600 shadow-md",children:[a(n.key),r.jsx("h3",{className:"text-lg font-semibold text-white drop-shadow-md",children:n.title}),r.jsx("p",{className:"text-sm text-white/80",children:n.desc})]},i))}),r.jsx("footer",{className:"fixed bottom-0 left-0 w-full border-t border-gray-200/60 dark:border-gray-700/60 bg-white/70 dark:bg-gray-900/40 backdrop-blur-md",children:r.jsxs("div",{className:"mx-auto max-w-7xl px-6 sm:px-10 py-2 sm:py-3 flex items-center justify-between text-xs sm:text-sm",children:[r.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:" 2024 Be Souhola"}),r.jsxs("nav",{className:"flex items-center gap-4",children:[r.jsx(gr,{to:"/privacy",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Privacy"}),r.jsx(gr,{to:"/terms",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Terms"}),r.jsx(gr,{to:"/welcome/contact",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Contact"})]})]})})]})}function gUe(){const e=ti(),t=[{name:"Basic",price:"$19/mo",duration:"Monthly",features:["Up to 3 users","Email support","Basic reports"]},{name:"Pro",price:"$49/mo",duration:"Monthly",features:["Up to 10 users","Priority support","Advanced analytics"]},{name:"Enterprise",price:"Custom",duration:"Annual",features:["Unlimited users","Dedicated manager","Custom integrations"]}];return r.jsxs("div",{className:"relative min-h-screen flex flex-col pb-20 sm:pb-24 bg-gradient-to-br from-cyan-200 via-sky-300 to-indigo-200 dark:from-gray-900 dark:via-indigo-900 dark:to-purple-900",children:[r.jsx(nh.header,{className:"w-full bg-white/20 dark:bg-gray-800/25 backdrop-blur-md border-b border-white/30 dark:border-gray-600 shadow",initial:{opacity:0,y:-12},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},children:r.jsxs("div",{className:"flex justify-between items-center w-full max-w-6xl mx-auto px-4 sm:px-6 py-2 sm:py-3",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("img",{src:qf,alt:"Be Souhola",className:"w-16 h-16 sm:w-20 sm:h-20 drop-shadow-lg"}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-xs sm:text-sm text-white/90 drop-shadow-md",children:"Make everything ....."}),r.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold bg-gradient-to-r from-white via-sky-100 to-cyan-200 text-transparent bg-clip-text drop-shadow-lg",children:"Be Souhola"})]})]}),r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs("nav",{className:"hidden sm:flex items-center gap-4 text-white/90",children:[r.jsx(Ut,{to:"/",className:({isActive:a})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${a?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Home"}),r.jsx(Ut,{to:"/about",className:({isActive:a})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${a?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"About"}),r.jsx(Ut,{to:"/welcome/contact",className:({isActive:a})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${a?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Contact"}),r.jsx(Ut,{to:"/pricing",className:({isActive:a})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${a?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Pricing"})]}),r.jsx("button",{onClick:()=>e("/login"),className:"px-8 py-3 rounded-full bg-white/25 backdrop-blur-md text-white font-semibold shadow-lg transition-all duration-200 hover:bg-white/40 hover:scale-105 hover:shadow-2xl hover:ring-2 hover:ring-white/40",children:"LOGIN "})]})]})}),r.jsx("main",{className:"flex-1 w-full",children:r.jsxs("div",{className:"mx-auto max-w-6xl px-6 sm:px-10 mt-8 sm:mt-12",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white/90 mb-6 text-center",children:"Plans & Pricing"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:t.map((a,s)=>r.jsxs("div",{className:"bg-white/30 dark:bg-gray-800/30 backdrop-blur-md rounded-3xl p-6 border border-white/40 dark:border-gray-700 shadow",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"text-lg font-semibold text-white",children:a.name}),r.jsx("span",{children:""})]}),r.jsx("div",{className:"text-2xl font-bold mb-1 text-white/90",children:a.price}),r.jsx("div",{className:"text-sm text-white/80 mb-3",children:a.duration}),r.jsx("ul",{className:"text-sm text-white/90 space-y-1 mb-4",children:a.features.map((n,i)=>r.jsxs("li",{children:[" ",n]},i))}),r.jsx(gr,{to:"/upgrade",className:"inline-block px-4 py-2 rounded-lg bg-blue-600 text-white shadow hover:bg-blue-700",children:"Upgrade Plan"})]},s))})]})}),r.jsx("footer",{className:"fixed bottom-0 left-0 w-full border-t border-gray-200/60 dark:border-gray-700/60 bg-white/70 dark:bg-gray-900/40 backdrop-blur-md",children:r.jsxs("div",{className:"mx-auto max-w-7xl px-6 sm:px-10 py-2 sm:py-3 flex items-center justify-between text-xs sm:text-sm",children:[r.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:" 2024 Be Souhola"}),r.jsxs("nav",{className:"flex items-center gap-4",children:[r.jsx(gr,{to:"/privacy",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Privacy"}),r.jsx(gr,{to:"/terms",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Terms"}),r.jsx(gr,{to:"/welcome/contact",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Contact"})]})]})})]})}function EQ({onEdit:e,onChangePassword:t,onToggleActive:a,onDelete:s,onEnable:n,onRefresh:i,onAssignRotation:l,onDelayRotation:o}){return r.jsxs("div",{className:"action-toolbar",children:[r.jsx("button",{className:"btn-icon",title:"Edit",onClick:e,children:r.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M12 20h9"}),r.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"})]})}),r.jsx("button",{className:"btn-icon",title:"Change Password",onClick:t,children:r.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("rect",{x:"3",y:"11",width:"18",height:"10",rx:"2"}),r.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}),r.jsx("path",{d:"M12 16v3"}),r.jsx("path",{d:"M10 16h4"})]})}),r.jsx("button",{className:"btn-icon",title:"Toggle Active",onClick:a,children:r.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("rect",{x:"3",y:"7",width:"18",height:"10",rx:"5"}),r.jsx("circle",{cx:"9",cy:"12",r:"3"})]})}),r.jsx("button",{className:"btn-icon",title:"Delete",onClick:s,children:r.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("polyline",{points:"3 6 5 6 21 6"}),r.jsx("path",{d:"M19 6l-1 14a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2L5 6"}),r.jsx("path",{d:"M10 11v6"}),r.jsx("path",{d:"M14 11v6"}),r.jsx("path",{d:"M9 6V4a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2"})]})}),n&&r.jsx("button",{className:"btn-icon",title:"Enable",onClick:n,children:r.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("circle",{cx:"12",cy:"12",r:"9"}),r.jsx("path",{d:"M9 12l2 2 4-4"})]})}),i&&r.jsx("button",{className:"btn-icon",title:"Refresh",onClick:i,children:r.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("polyline",{points:"23 4 23 10 17 10"}),r.jsx("polyline",{points:"1 20 1 14 7 14"}),r.jsx("path",{d:"M3.51 9a10 10 0 0 1 14.88-3.36L23 10"}),r.jsx("path",{d:"M1 14l4.62 4.62A10 10 0 0 0 20.49 15"})]})}),l&&r.jsx("button",{className:"btn-icon",title:"Assign Rotation",onClick:l,children:r.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M12 2v5"}),r.jsx("path",{d:"M12 17v5"}),r.jsx("path",{d:"M2 12h5"}),r.jsx("path",{d:"M17 12h5"}),r.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),o&&r.jsx("button",{className:"btn-icon",title:"Delay Rotation",onClick:o,children:r.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M3 3v5h5"}),r.jsx("path",{d:"M21 21v-5h-5"}),r.jsx("path",{d:"M5 13a7 7 0 0 0 12 3"}),r.jsx("path",{d:"M19 11a7 7 0 0 0-12-3"})]})})]})}function vUe({open:e,onClose:t,onSubmit:a,context:s="task",teams:n=[],users:i=[],leads:l=[],defaultAssignType:o="team",defaultTargetId:c}){const{i18n:d}=Dt(),[u,f]=w.useState(o),[x,m]=w.useState(o==="team"?c||n[0]?.id:""),[g,v]=w.useState(o==="user"?c||i[0]?.id:""),[b,j]=w.useState(o==="team"&&c?[c]:[]),[S,k]=w.useState(o==="user"&&c?[c]:[]),[N,A]=w.useState(l[0]?.id||""),[_,D]=w.useState("Normal"),[P,I]=w.useState(""),[B,O]=w.useState(""),U=s==="task",E=d?.language==="ar",R=w.useMemo(()=>({title:E?" ":"Assignment Center",close:E?"":"Close",assignType:E?" ":"Assign Type",team:E?"":"Team",user:E?"":"User",teams:E?U?"":"":U?"Teams":"Team",users:E?U?"":"":U?"Users":"User",lead:E?"":"Lead",noLeads:E?"   ":"No leads available",priority:E?"":"Priority",priorityOptions:E?["","","",""]:["Low","Normal","High","Critical"],deadline:E?" ":"Deadline",notes:E?"":"Notes",cancel:E?"":"Cancel",assign:E?"":"Assign",selectedSuffix:E?"/":"selected",badgePrefixTeam:E?"":"Team",badgePrefixUser:E?"":"User",contextLabel:{task:E?"":"Task",lead:E?"":"Lead",ticket:E?"":"Ticket",user:E?"":"User"}}),[E,U]),K=w.useMemo(()=>{if(u==="team"){if(U){const z=n.filter(Q=>b.includes(Q.id));return z.length===0?"":z.length<=2?z.map(Q=>Q.name).join(", "):`${z.length} ${R.selectedSuffix}`}return n.find(z=>z.id===(x||c))?.name||""}if(U){const X=i.filter(z=>S.includes(z.id));return X.length===0?"":X.length<=2?X.map(z=>z.fullName).join(", "):`${X.length} ${R.selectedSuffix}`}return i.find(X=>X.id===(g||c))?.fullName||""},[u,x,g,n,i,c,U,b,S,R.selectedSuffix]),V=w.useMemo(()=>x?i.filter(M=>!M.team||M.team===x||M.team===n.find(X=>X.id===x)?.name):i,[i,x,n]),Z=w.useMemo(()=>{if(!N)return"";const M=l.find(X=>X.id===N);return M?.name||M?.full_name||""},[N,l]);if(!e)return null;const W=(u==="team"?U?b.length>0:!!x:U?S.length>0:!!g)&&(!(s==="lead")||!!N),le=()=>{a?.({context:s,assignType:u,teamId:u==="team"&&!U?x:void 0,userId:u==="user"&&!U?g:void 0,teamIds:u==="team"&&U?b:void 0,userIds:u==="user"&&U?S:void 0,targetName:K,leadId:s==="lead"?N:void 0,leadName:s==="lead"?Z:void 0,priority:_,deadline:P,notes:B}),t?.()};return r.jsxs("div",{className:"modal modal-open",children:[r.jsxs("div",{className:"modal-box glass-panel rounded-xl p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h3",{className:"font-semibold",children:R.title}),!!K&&r.jsxs("span",{className:"badge badge-outline",children:[u==="team"?R.badgePrefixTeam:R.badgePrefixUser,": ",K]})]}),r.jsx("button",{className:"btn btn-ghost btn-sm",onClick:t,children:R.close})]}),r.jsx("div",{className:"mb-2 text-sm opacity-70",children:E?`: ${R.contextLabel[s]}`:`Context: ${R.contextLabel[s]}`}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[r.jsxs("label",{className:"form-control",children:[r.jsx("span",{className:"label-text",children:R.assignType}),r.jsxs("select",{className:"select select-bordered bg-transparent",value:u,onChange:M=>f(M.target.value),children:[r.jsx("option",{value:"team",children:R.team}),r.jsx("option",{value:"user",children:R.user})]})]}),u==="team"&&r.jsxs("label",{className:"form-control",children:[r.jsx("span",{className:"label-text",children:R.teams}),r.jsx("select",{className:"select select-bordered bg-transparent",multiple:U,value:U?b:x,onChange:M=>{if(U){const X=Array.from(M.target.selectedOptions).map(z=>z.value);j(X)}else m(M.target.value)},children:n.map(M=>r.jsx("option",{value:M.id,children:M.name},M.id))})]}),u==="user"&&r.jsxs("label",{className:"form-control md:col-span-1",children:[r.jsx("span",{className:"label-text",children:R.users}),r.jsx("select",{className:"select select-bordered bg-transparent",multiple:U,value:U?S:g,onChange:M=>{if(U){const X=Array.from(M.target.selectedOptions).map(z=>z.value);k(X)}else v(M.target.value)},children:V.map(M=>r.jsxs("option",{value:M.id,children:[M.fullName," ",M.team?`(${M.team})`:""]},M.id))})]}),s==="lead"&&r.jsxs("label",{className:"form-control md:col-span-1",children:[r.jsx("span",{className:"label-text",children:R.lead}),r.jsxs("select",{className:"select select-bordered bg-transparent",value:N,onChange:M=>A(M.target.value),children:[l.length===0&&r.jsx("option",{value:"",disabled:!0,children:R.noLeads}),l.map(M=>r.jsx("option",{value:M.id,children:M.name||M.full_name||`Lead ${M.id}`},M.id))]})]}),s!=="user"&&r.jsxs(r.Fragment,{children:[r.jsxs("label",{className:"form-control",children:[r.jsx("span",{className:"label-text",children:R.priority}),r.jsx("select",{className:"select select-bordered bg-transparent",value:_,onChange:M=>D(M.target.value),children:R.priorityOptions.map(M=>r.jsx("option",{value:M,children:M},M))})]}),r.jsxs("label",{className:"form-control",children:[r.jsx("span",{className:"label-text",children:R.deadline}),r.jsx("input",{type:"date",className:"input input-bordered bg-transparent",value:P,onChange:M=>I(M.target.value)})]})]}),r.jsxs("label",{className:"form-control md:col-span-2",children:[r.jsx("span",{className:"label-text",children:R.notes}),r.jsx("textarea",{className:"textarea textarea-bordered bg-transparent",rows:3,value:B,onChange:M=>O(M.target.value),placeholder:`${E?"":"Context"}: ${R.contextLabel[s]}${K?`  ${E?" ":"Assigning to"} ${u==="team"?R.team:R.user}: ${K}`:""}`})]})]}),r.jsxs("div",{className:"mt-4 flex items-center justify-between gap-2",children:[r.jsx("div",{className:"text-sm opacity-70",children:u==="team"?U?`${(b||[]).length} ${R.selectedSuffix}`:x?`${R.badgePrefixTeam}: ${K}`:"":U?`${(S||[]).length} ${R.selectedSuffix}`:g?`${R.badgePrefixUser}: ${K}`:""}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{className:"btn btn-ghost",onClick:t,children:R.cancel}),r.jsx("button",{className:"btn btn-primary",onClick:le,disabled:!W,children:R.assign})]})]})]}),r.jsx("div",{className:"modal-backdrop",onClick:t})]})}const DQ=[{id:"d-3001",name:"Customer Support"},{id:"d-3002",name:"Sales"},{id:"d-3003",name:"Technical Support"},{id:"d-3004",name:"Marketing"},{id:"d-3005",name:"Operations"},{id:"d-3006",name:"Finance"},{id:"d-3007",name:"Human Resources"},{id:"d-3008",name:"Legal"},{id:"d-3009",name:"IT"},{id:"d-3010",name:"Warehouse"},{id:"d-3011",name:"Procurement"},{id:"d-3012",name:"Logistics"},{id:"d-3013",name:"Projects"},{id:"d-3014",name:"Inventory"},{id:"d-3015",name:"Quality Assurance"},{id:"d-3016",name:"Training"},{id:"d-3017",name:"Call Center"},{id:"d-3018",name:"Social Media"},{id:"d-3019",name:"CRM"},{id:"d-3020",name:"Business Development"},{id:"d-3021",name:"Partnerships"},{id:"d-3022",name:"Administration"},{id:"d-3023",name:"Facilities"},{id:"d-3024",name:"Security"},{id:"d-3025",name:"Compliance"},{id:"d-3026",name:"R&D"},{id:"d-3027",name:"Product"},{id:"d-3028",name:"Engineering"},{id:"d-3029",name:"Design"},{id:"d-3030",name:"Data Science"},{id:"d-3031",name:"Analytics"},{id:"d-3032",name:"Business Intelligence"},{id:"d-3033",name:"Content"},{id:"d-3034",name:"Public Relations"},{id:"d-3035",name:"Events"},{id:"d-3036",name:"Field Sales"},{id:"d-3037",name:"Inside Sales"},{id:"d-3038",name:"Account Management"},{id:"d-3039",name:"Retention"},{id:"d-3040",name:"Onboarding"},{id:"d-3041",name:"Implementation"},{id:"d-3042",name:"After Sales"},{id:"d-3043",name:"Billing"},{id:"d-3044",name:"Collections"},{id:"d-3045",name:"Vendor Relations"}],bUe=[{id:"u-1001",avatarUrl:"",fullName:"Ibrahim Hassan",email:"ibrahim@example.com",phone:"+20 100 000 0000",role:"Admin",status:"Active",team:"Support",department:"Customer Support",lastLogin:"2025-11-18 10:24",createdAt:"2025-10-02"},{id:"u-1002",avatarUrl:"",fullName:"Sara Ali",email:"sara.ali@example.com",phone:"+20 111 222 3333",role:"Agent",status:"Inactive",team:"Sales",department:"Sales",lastLogin:"2025-11-15 09:17",createdAt:"2025-09-12"},{id:"u-1003",avatarUrl:"",fullName:"Mohamed Salem",email:"msalem@example.com",phone:"+20 122 444 5555",role:"Manager",status:"Suspended",team:"Operations",department:"Technical Support",lastLogin:"2025-11-10 14:05",createdAt:"2025-08-20"}],yUe=["Admin","Manager","Agent","Viewer"],wUe=["Active","Inactive","Suspended"],c$=["Support","Sales","Operations","Finance"];function jUe(){const e=ti(),{i18n:t}=Dt(),a=t.language==="ar",[s,n]=w.useState(""),[i,l]=w.useState(""),[o,c]=w.useState(""),[d,u]=w.useState(""),[f,x]=w.useState(""),[m,g]=w.useState(""),[v,b]=w.useState(""),[j,S]=w.useState(bUe),[k,N]=w.useState([]),A=w.useMemo(()=>{try{return JSON.parse(localStorage.getItem("leads")||"[]")}catch{return[]}},[]),[_,D]=w.useState(!1),[P,I]=w.useState("task"),[B,O]=w.useState("user"),[U,E]=w.useState(""),R=w.useMemo(()=>j.filter(q=>{const ie=[q.fullName,q.email,q.phone].join(" ").toLowerCase().includes(s.toLowerCase()),ye=i?q.role===i:!0,Y=o?q.status===o:!0,ce=d?(q.team||"")===d:!0,he=f?(q.department||"")===f:!0,ue=m?(q.createdAt||"")>=m:!0,Fe=v?(q.createdAt||"")<=v:!0;return ie&&ye&&Y&&ce&&he&&ue&&Fe}),[j,s,i,o,d,f,m,v]),K=R.length>0&&R.every(q=>k.includes(q.id)),V=q=>{S(ie=>ie.map(ye=>ye.id===q?{...ye,status:ye.status==="Active"?"Inactive":"Active"}:ye))},Z=q=>{window.confirm("Delete this user?")&&S(ie=>ie.filter(ye=>ye.id!==q))},J=q=>{alert(`Change password dialog opened for ${q}`)},ee=q=>{alert(`Refreshed user ${q}`)},W=q=>{alert(`Assigned rotation to user ${q}`)},le=q=>{alert(`Delayed rotation for user ${q}`)},M=w.useMemo(()=>({title:a?"   ":"Bulk actions on selected",deleteSelected:"delete",assignTask:a?" ":"Assign task",assignLead:a?" ":"Assign lead",assignTicket:a?" ":"Assign ticket",selectUsersFirst:a?"  ":"Select users first",bulkAssignUsersFirst:a?"     ":"Select users first to perform bulk assignment",deletedMsg:a?"   ":"Selected users deleted",confirmDelete:a?`  ${k.length} ().   `:`This will delete ${k.length} user(s). Are you sure?`}),[a,k.length]),X=()=>{if(k.length===0)return alert(M.selectUsersFirst);window.confirm(M.confirmDelete)&&(S(q=>q.filter(ie=>!k.includes(ie.id))),N([]),alert(M.deletedMsg))},z=q=>{if(k.length===0)return alert(M.selectUsersFirst);I(q),O("user"),E(""),D(!0)},Q=()=>{N(K?[]:R.map(q=>q.id))},ne=q=>{N(ie=>ie.includes(q)?ie.filter(ye=>ye!==q):[...ie,q])},re=()=>{const q=["ID","Full Name","Email","Phone","Role","Status","Team","Created At"],ie=R.map(ue=>[ue.id,ue.fullName,ue.email,ue.phone,ue.role,ue.status,ue.team||"",ue.createdAt||""]),ye=[q.join(","),...ie.map(ue=>ue.map(Fe=>`"${String(Fe||"").replace(/"/g,'""')}"`).join(","))].join(`
`),Y=new Blob([ye],{type:"text/csv;charset=utf-8;"}),ce=URL.createObjectURL(Y),he=document.createElement("a");he.href=ce,he.download="users-export.csv",he.click(),URL.revokeObjectURL(ce)},oe=q=>{console.log("Assignment payload (Users):",{...q,selectedUserIds:k}),alert("   ")};return r.jsx(aa,{title:"User Management  Users",children:r.jsxs("div",{className:"w-full max-w-none px-0 py-0",children:[r.jsxs("div",{className:"glass-panel rounded-xl px-4 py-3 mb-4 flex items-center justify-between",children:[r.jsx("h1",{className:"text-xl font-semibold text-primary",children:"Users"}),r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsxs("label",{className:"btn btn-ghost cursor-pointer",children:["Import Users",r.jsx("input",{type:"file",accept:".csv,text/csv",className:"hidden",onChange:q=>{const ie=q.target.files?.[0];if(!ie)return;const ye=new FileReader;ye.onload=()=>{try{const ce=String(ye.result||"").split(/\r?\n/).filter(Boolean),he=ce[0].split(",").map(st=>st.trim().replace(/"/g,"")),ue=st=>he.findIndex($e=>$e.toLowerCase()===st.toLowerCase()),Fe=ue("id"),Ue=ue("full name"),Te=ue("email"),ae=ue("phone"),De=ue("role"),Ce=ue("status"),at=ue("team"),ft=ue("created at"),zt=ce.slice(1).map(st=>{const $e=st.split(",").map(qe=>qe.replace(/^\"|\"$/g,""));return{id:$e[Fe]||`u-${Date.now()}`,fullName:$e[Ue]||"",email:$e[Te]||"",phone:$e[ae]||"",role:$e[De]||"Viewer",status:$e[Ce]||"Active",team:$e[at]||"",createdAt:$e[ft]||""}}).filter(st=>st.fullName&&st.email);S(st=>[...st,...zt]),alert(`Imported ${zt.length} users`)}catch(Y){console.error(Y),alert("Failed to import CSV")}},ye.readAsText(ie)}})]}),r.jsx("button",{className:"btn",onClick:re,children:"Export Excel"}),r.jsx(gr,{to:"/user-management/users/new",className:"btn btn-primary",children:"Add New User"})]})]}),r.jsx("div",{className:"glass-panel rounded-xl p-3 mb-4 w-full",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-7 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:a?"":"Search"})}),r.jsx("input",{type:"text",className:"input-soft w-full",placeholder:a?" (  )":"Search (name, email, phone)",value:s,onChange:q=>n(q.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:a?"":"Role"})}),r.jsx(Xa,{className:"w-full",options:yUe,value:i,onChange:q=>l(q),placeholder:a?" ":"Select role"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:a?"":"Status"})}),r.jsx(Xa,{className:"w-full",options:wUe,value:o,onChange:q=>c(q),placeholder:a?" ":"Select status"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:a?"":"Team"})}),r.jsx(Xa,{className:"w-full",options:c$,value:d,onChange:q=>u(q),placeholder:a?" ":"Select team"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:a?"":"Department"})}),r.jsx(Xa,{className:"w-full",options:DQ.map(q=>q.name),value:f,onChange:q=>x(q),placeholder:a?" ":"Select department"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:a?" ":"Date From"})}),r.jsx("input",{type:"date",className:"input-soft w-full",value:m,onChange:q=>g(q.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:a?" ":"Date To"})}),r.jsx("input",{type:"date",className:"input-soft w-full",value:v,onChange:q=>b(q.target.value)})]})]})}),k.length>0&&r.jsxs("div",{className:"glass-panel rounded-xl px-3 py-2 mb-3 flex flex-wrap items-center gap-2",children:[r.jsxs("span",{className:"text-sm text-[var(--muted-text)]",children:[M.title,":"]}),r.jsx("button",{className:"btn btn-ghost",onClick:X,children:M.deleteSelected}),r.jsx("button",{className:"btn btn-ghost",onClick:()=>z("task"),children:M.assignTask}),r.jsx("button",{className:"btn btn-ghost",onClick:()=>z("lead"),children:M.assignLead}),r.jsx("button",{className:"btn btn-ghost",onClick:()=>z("ticket"),children:M.assignTicket})]}),r.jsx("div",{className:"glass-panel rounded-xl overflow-x-auto w-full",children:r.jsxs("table",{className:"nova-table w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"thead-soft",children:[r.jsx("th",{children:r.jsx("input",{type:"checkbox",className:"checkbox",checked:K,onChange:Q})}),r.jsx("th",{children:"Avatar"}),r.jsx("th",{children:"Full Name"}),r.jsx("th",{children:"Role"}),r.jsx("th",{children:"Status"}),r.jsx("th",{children:"Actions"}),r.jsx("th",{children:"Last Login"})]})}),r.jsx("tbody",{children:R.map(q=>r.jsxs("tr",{children:[r.jsx("td",{children:r.jsx("input",{type:"checkbox",className:"checkbox",checked:k.includes(q.id),onChange:()=>ne(q.id)})}),r.jsx("td",{children:r.jsx("div",{className:"avatar placeholder",children:r.jsx("div",{className:"bg-neutral text-neutral-content rounded-full w-10",children:r.jsx("span",{children:q.fullName?.[0]||"?"})})})}),r.jsx("td",{className:"font-medium",children:r.jsx(gr,{to:`/user-management/users/${q.id}`,children:q.fullName})}),r.jsx("td",{children:q.role}),r.jsx("td",{children:r.jsx("span",{className:`badge ${q.status==="Active"?"badge-success":q.status==="Suspended"?"badge-error":""}`,children:q.status})}),r.jsx("td",{children:r.jsx(EQ,{onEdit:()=>e(`/user-management/users/${q.id}?edit=1`),onChangePassword:()=>J(q.id),onToggleActive:()=>V(q.id),onDelete:()=>Z(q.id),onEnable:()=>V(q.id),onRefresh:()=>ee(q.id),onAssignRotation:()=>W(q.id),onDelayRotation:()=>le(q.id)})}),r.jsx("td",{children:q.lastLogin})]},q.id))})]})}),r.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[r.jsxs("div",{children:["Showing ",R.length," of ",j.length," users"]}),r.jsxs("div",{className:"join",children:[r.jsx("button",{className:"join-item btn",children:""}),r.jsx("button",{className:"join-item btn",children:"1"}),r.jsx("button",{className:"join-item btn",children:"2"}),r.jsx("button",{className:"join-item btn",children:"3"}),r.jsx("button",{className:"join-item btn",children:""})]})]}),_&&r.jsx(vUe,{open:_,onClose:()=>D(!1),onSubmit:oe,context:P,teams:c$.map(q=>({id:q,name:q})),users:j.map(q=>({id:q.id,fullName:q.fullName,team:q.team,role:q.role})),leads:A,defaultAssignType:B,defaultTargetId:U})]})})}const NUe=["Sales Admin","Operation Manager","Branch Manager","Director","Sales Manager","Team Leader","Sales Person","Marketing Manager","Marketing Moderator","Customer Manager","Customer Team Leader","Customer Agent","Support Manager","Support Team Leader","Support Agent","Custom"],SUe=["Active","Inactive","Suspended"],kUe={Leads:["addLead","importLeads","addInputs","showCreator","editInfo","editPhone"],Inventory:["addProducts","addItems","addSuppliers","addWarehouse","showTransaction","addProject","addUnits"],Marketing:["showCampaigns","addLandingPages","integrations","exportReports","showReports"],Customers:["convertFromLead","addCustomer","editInfo","deleteCustomer","showModule"],Support:["showModule","addTickets","sla","editInfo","exportReports","convertFromCustomer","convertFromLead","reports","deleteTickets"],Control:["addRegions","addArea","addStage","addSource","userManagement","multiAction","salesComment","allowActionOnTeam","assignLeads","importLeads","exportLeads","showReports","addDepartment","editConfigurationSettings"]},d$={groups:{Leads:"",Inventory:"",Marketing:"",Customers:"",Support:"",Control:""},actions:{view:"",create:"",assign:"",addLead:" ",addInputs:" ",showCreator:" ",editPhone:" ",showCampaigns:" ",addLandingPages:"  ",integrations:"",exportReports:" ",showReports:" ",convertFromLead:"  ",addCustomer:" ",editInfo:" ",deleteCustomer:" ",showModule:" ",addTickets:" ",sla:"  ",convertFromCustomer:"  ",reports:"",deleteTickets:" ",addRegions:" ",addArea:" ",addStage:" ",addSource:" ",userManagement:" ",multiAction:" ",salesComment:" ",allowActionOnTeam:"   ",assignLeads:" ",importLeads:" ",exportLeads:" ",addDepartment:" ",editConfigurationSettings:"  ",addProducts:" ",addItems:" ",addSuppliers:" ",addWarehouse:" ",showTransaction:" ",addProject:" ",addUnits:" "}};function CUe(){const{i18n:e}=Dt(),t=e.language==="ar",a=ti(),[s,n]=w.useState({fullName:"",firstName:"",lastName:"",email:"",phone:"",username:"",password:"",birthDate:"",avatar:"",sendInvite:!0,role:"",status:"Active",department:"",branch:"",region:"",area:"",notifEmail:!0,notifSms:!1}),[i,l]=w.useState({}),[o,c]=w.useState({}),[d,u]=w.useState("info"),f=w.useMemo(()=>s.role==="Custom",[s.role]);w.useMemo(()=>f||s.role==="Sales Admin",[f,s.role]);const x=w.useMemo(()=>["Sales Admin","Operation Manager","Branch Manager","Director"].includes(s.role),[s.role]);w.useEffect(()=>{s.role==="Sales Admin"?l({Leads:["addLead","importLeads"],Inventory:[],Marketing:["showCampaigns","addLandingPages","exportReports"],Customers:["convertFromLead","addCustomer","showModule"],Support:["showModule"],Control:["addRegions","addArea","addSource","userManagement","allowActionOnTeam","assignLeads","showReports","addDepartment"]}):s.role==="Operation Manager"?l({Leads:["addLead","importLeads","editInfo","editPhone"],Inventory:["addProducts","addItems","addSuppliers","addWarehouse","showTransaction"],Marketing:[],Customers:["editInfo","showModule"],Support:["showModule","addTickets","sla","reports"],Control:["allowActionOnTeam","showReports","addDepartment"]}):s.role==="Branch Manager"?l({Leads:["addLead","importLeads","editInfo"],Inventory:["addProducts","addItems","addWarehouse","showTransaction"],Customers:["addCustomer","editInfo","showModule"],Support:["showModule"],Control:["allowActionOnTeam","assignLeads","showReports"]}):s.role==="Director"?l({Leads:["addLead","importLeads","editInfo"],Inventory:[],Marketing:["showCampaigns","addLandingPages","integrations","exportReports","showReports"],Customers:["convertFromLead","addCustomer","editInfo","showModule"],Support:["showModule"],Control:["userManagement","assignLeads","exportLeads","showReports","multiAction","salesComment"]}):s.role==="Sales Manager"?l({Leads:["addLead","importLeads","editInfo"],Customers:["convertFromLead","addCustomer","editInfo","showModule"],Control:["assignLeads","showReports"]}):s.role==="Team Leader"?l({Leads:["addLead","importLeads"],Customers:["editInfo","showModule"],Control:["allowActionOnTeam","assignLeads"]}):s.role==="Sales Person"?l({Leads:["addLead","importLeads"],Customers:["showModule"]}):s.role==="Marketing Manager"?l({Marketing:["showCampaigns","addLandingPages","integrations","exportReports","showReports"]}):s.role==="Marketing Moderator"?l({Marketing:["showCampaigns","showReports"]}):s.role==="Customer Manager"?l({Customers:["convertFromLead","addCustomer","editInfo","deleteCustomer","showModule"],Control:["showReports"]}):s.role==="Customer Team Leader"?l({Customers:["editInfo","showModule"]}):s.role==="Customer Agent"?l({Customers:["showModule"]}):s.role==="Support Manager"?l({Support:["showModule","addTickets","sla","reports","exportReports","deleteTickets"],Control:["showReports"]}):s.role==="Support Team Leader"?l({Support:["showModule","addTickets","sla","reports"]}):s.role==="Support Agent"?l({Support:["showModule","addTickets"]}):s.role==="Custom"?l({}):l({})},[s.role]);const m=(j,S)=>{n(k=>({...k,[j]:S}))},g=(j,S)=>{l(k=>{const N=new Set(k[j]||[]);return N.has(S)?N.delete(S):N.add(S),{...k,[j]:Array.from(N)}})},v=()=>{const j={};return s.fullName?.trim()||s.firstName?.trim()&&s.lastName?.trim()||(j.fullName="Full Name is required"),s.email?.trim()||(j.email="Email is required"),s.username?.trim()||(j.username="Username is required"),s.role?.trim()||(j.role="Role is required"),(s.password?.length||0)<8&&(j.password="Password must be at least 8 characters"),c(j),Object.keys(j).length===0},b=j=>{if(j.preventDefault(),!v())return;const S={...s,fullName:s.fullName?.trim()||`${s.firstName||""} ${s.lastName||""}`.trim(),permissions:i};console.log("Create User payload",S),alert("User created (mock). Returning to Users list."),a("/user-management/users")};return r.jsx(aa,{title:"User Management  Add New User",children:r.jsxs("div",{className:"container mx-auto px-4 py-4",children:[r.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Add New User"}),r.jsxs("form",{onSubmit:b,className:"space-y-6",children:[r.jsx("div",{className:"glass-panel rounded-xl p-2 mb-2",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{type:"button",className:`btn btn-ghost ${d==="info"?"btn-active":""}`,onClick:()=>u("info"),children:t?"":"Info"}),r.jsx("button",{type:"button",className:`btn btn-ghost ${d==="account"?"btn-active":""}`,onClick:()=>u("account"),children:t?" ":"Account Setting"}),r.jsx("button",{type:"button",className:`btn btn-ghost ${d==="notifications"?"btn-active":""}`,onClick:()=>u("notifications"),children:t?"":"Notifications"})]})}),d==="info"&&r.jsx("div",{className:"glass-panel rounded-xl p-4",children:r.jsxs("div",{children:[r.jsx("h2",{className:"card-title",children:"1. Basic Info"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:"Full Name"})}),r.jsx("input",{className:"input input-bordered w-full bg-transparent",value:s.fullName,onChange:j=>m("fullName",j.target.value)}),o.fullName&&r.jsx("p",{className:"text-error text-sm mt-1",children:o.fullName})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:"First Name"})}),r.jsx("input",{className:"input input-bordered w-full bg-transparent",value:s.firstName,onChange:j=>m("firstName",j.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:"Last Name"})}),r.jsx("input",{className:"input input-bordered w-full bg-transparent",value:s.lastName,onChange:j=>m("lastName",j.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:"Email"})}),r.jsx("input",{type:"email",className:"input input-bordered w-full bg-transparent",value:s.email,onChange:j=>m("email",j.target.value)}),o.email&&r.jsx("p",{className:"text-error text-sm mt-1",children:o.email})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:"Phone (Optional)"})}),r.jsx("input",{className:"input input-bordered w-full bg-transparent",value:s.phone,onChange:j=>m("phone",j.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:"Username"})}),r.jsx("input",{className:"input input-bordered w-full bg-transparent",value:s.username,onChange:j=>m("username",j.target.value)}),o.username&&r.jsx("p",{className:"text-error text-sm mt-1",children:o.username})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:"Birth Date (Optional)"})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"date",className:"input input-bordered w-full bg-transparent",value:s.birthDate,onChange:j=>m("birthDate",j.target.value)}),r.jsx("button",{type:"button",className:"btn btn-ghost btn-square",onClick:()=>{},"aria-label":"Calendar",children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),r.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),r.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),r.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:"Profile Photo (Optional)"})}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-base-200 overflow-hidden",children:s.avatar?r.jsx("img",{src:s.avatar,alt:"avatar",className:"w-full h-full object-cover"}):null}),r.jsxs("label",{className:"btn btn-ghost cursor-pointer",children:["Upload",r.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:j=>{const S=j.target.files?.[0];if(!S)return;const k=new FileReader;k.onload=()=>m("avatar",k.result),k.readAsDataURL(S)}})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:"Password"})}),r.jsx("input",{type:"password",className:"input input-bordered w-full bg-transparent",value:s.password,onChange:j=>m("password",j.target.value)}),o.password&&r.jsx("p",{className:"text-error text-sm mt-1",children:o.password})]})]})]})}),d==="account"&&r.jsx("div",{className:"glass-panel rounded-xl p-4",children:r.jsxs("div",{children:[r.jsx("h2",{className:"card-title",children:"2. Account Settings"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mt-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:"Role *"})}),r.jsx(Xa,{className:"w-full",options:NUe,value:s.role,onChange:j=>m("role",j)}),o.role&&r.jsx("p",{className:"text-error text-sm mt-1",children:o.role})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:"Status *"})}),r.jsx(Xa,{className:"w-full",options:SUe,value:s.status,onChange:j=>m("status",j)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:"Department (Optional)"})}),r.jsx(Xa,{className:"w-full",options:DQ.map(j=>({value:j.name,label:j.name})),value:s.department,onChange:j=>{n(S=>({...S,department:j}))}})]})]}),x&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mt-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:t?" ()":"Branch (Optional)"})}),r.jsx("input",{className:"input input-bordered w-full bg-transparent",value:s.branch,onChange:j=>m("branch",j.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:t?" ()":"Region (Optional)"})}),r.jsx("input",{className:"input input-bordered w-full bg-transparent",value:s.region,onChange:j=>m("region",j.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:t?"/ ()":"Area (Optional)"})}),r.jsx("input",{className:"input input-bordered w-full bg-transparent",value:s.area,onChange:j=>m("area",j.target.value)})]})]})]})}),d==="account"&&r.jsx("div",{className:"glass-panel rounded-xl p-4",children:r.jsxs("div",{children:[r.jsx("h2",{className:"card-title",children:"3. Permissions"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-3",children:Object.entries(kUe).map(([j,S])=>r.jsxs("div",{className:"glass-panel rounded-lg p-3",children:[r.jsx("h3",{className:"font-medium mb-2",children:t&&d$.groups[j]||j}),r.jsx("div",{className:"flex flex-wrap gap-2",children:S.map(k=>{const N=(i[j]||[]).includes(k);return r.jsxs("label",{className:"cursor-pointer flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",className:"checkbox",checked:N,onChange:()=>g(j,k)}),r.jsx("span",{children:t&&d$.actions[k]||k})]},k)})})]},j))})]})}),d==="notifications"&&r.jsx("div",{className:"glass-panel rounded-xl p-4",children:r.jsxs("div",{children:[r.jsx("h2",{className:"card-title",children:"3. Notifications"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mt-3",children:[r.jsx("div",{className:"form-control",children:r.jsxs("label",{className:"label cursor-pointer",children:[r.jsx("span",{className:"label-text",children:"Email Notifications"}),r.jsx("input",{type:"checkbox",className:"toggle",checked:s.notifEmail,onChange:j=>m("notifEmail",j.target.checked)})]})}),r.jsx("div",{className:"form-control",children:r.jsxs("label",{className:"label cursor-pointer",children:[r.jsx("span",{className:"label-text",children:"SMS Notifications"}),r.jsx("input",{type:"checkbox",className:"toggle",checked:s.notifSms,onChange:j=>m("notifSms",j.target.checked)})]})})]})]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"}),r.jsx("button",{type:"button",className:"btn",onClick:()=>a("/user-management/users"),children:"Cancel"})]})]})]})})}const AUe=[{type:"Created",user:"Ibrahim",target:"Ticket #4531",description:"Created new ticket",ts:"2025-11-18 10:24",ip:"192.168.1.12",module:"Tickets"},{type:"Updated",user:"Sara",target:"Customer #100",description:"Updated address",ts:"2025-11-17 12:05",ip:"192.168.1.18",module:"Customers"},{type:"Login",user:"Ibrahim",target:"-",description:"Successful login",ts:"2025-11-17 08:12",ip:"192.168.1.12",module:"User Management"},{type:"Failed Login",user:"Unknown",target:"-",description:"Failed login attempt",ts:"2025-11-16 23:51",ip:"192.168.1.99",module:"User Management"}],_Ue=["Created","Updated","Deleted","Login","Failed Login","Permission Change"],TUe=["Tickets","Customers","SLA","Reports","User Management","Settings","Integrations","Custom Modules"];function EUe(){const[e,t]=w.useState(""),[a,s]=w.useState(""),[n,i]=w.useState(""),[l,o]=w.useState(""),[c,d]=w.useState(""),[u,f]=w.useState(""),x=w.useMemo(()=>AUe.filter(m=>{const g=e?m.user.toLowerCase().includes(e.toLowerCase()):!0,v=a?m.type===a:!0,b=n?m.module===n:!0,j=u?`${m.description} ${m.target}`.toLowerCase().includes(u.toLowerCase()):!0,S=l?m.ts>=l:!0,k=c?m.ts<=c:!0;return g&&v&&b&&j&&S&&k}),[e,a,n,l,c,u]);return r.jsx(aa,{title:"User Management  Activity Logs",children:r.jsxs("div",{className:"container mx-auto px-4 py-4",children:[r.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Activity Logs"}),r.jsxs("div",{className:"glass-panel rounded-xl p-3 mb-3 grid grid-cols-1 md:grid-cols-6 gap-3",children:[r.jsx("input",{className:"input-soft",placeholder:"Filter by user",value:e,onChange:m=>t(m.target.value)}),r.jsx(Xa,{className:"w-full",options:_Ue,value:a,onChange:m=>s(m),placeholder:"Action Type"}),r.jsx(Xa,{className:"w-full",options:TUe,value:n,onChange:m=>i(m),placeholder:"Module"}),r.jsx("input",{type:"date",className:"input-soft",value:l,onChange:m=>o(m.target.value)}),r.jsx("input",{type:"date",className:"input-soft",value:c,onChange:m=>d(m.target.value)}),r.jsx("input",{className:"input-soft",placeholder:"Search description/target",value:u,onChange:m=>f(m.target.value)})]}),r.jsxs("div",{className:"flex gap-2 mb-3",children:[r.jsx("button",{className:"btn btn-ghost",children:"Export PDF"}),r.jsx("button",{className:"btn btn-ghost",children:"Export Excel"})]}),r.jsx("div",{className:"glass-panel rounded-xl overflow-x-auto",children:r.jsxs("table",{className:"nova-table w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"thead-soft",children:[r.jsx("th",{children:"Action Type"}),r.jsx("th",{children:"Performed By"}),r.jsx("th",{children:"Target"}),r.jsx("th",{children:"Description"}),r.jsx("th",{children:"Timestamp"}),r.jsx("th",{children:"IP Address"})]})}),r.jsx("tbody",{children:x.map((m,g)=>r.jsxs("tr",{children:[r.jsx("td",{children:m.type}),r.jsx("td",{children:m.user}),r.jsx("td",{children:m.target}),r.jsx("td",{children:m.description}),r.jsx("td",{children:m.ts}),r.jsx("td",{children:m.ip})]},g))})]})})]})})}const DUe=[{user:"Ibrahim",login:"2025-11-18 10:24",logout:"2025-11-18 18:04",ip:"192.168.1.12",location:"Cairo",device:"Windows PC",browser:"Chrome"},{user:"Sara",login:"2025-11-17 09:14",logout:"2025-11-17 17:01",ip:"192.168.1.18",location:"Giza",device:"MacBook",browser:"Safari"},{user:"Mohamed",login:"2025-11-16 08:33",logout:"2025-11-16 16:22",ip:"192.168.1.21",location:"Alexandria",device:"iPhone",browser:"Safari"}],MUe=["Windows PC","MacBook","Linux PC","iPhone","Android"];function PUe(){const[e,t]=w.useState(""),[a,s]=w.useState(""),[n,i]=w.useState(""),[l,o]=w.useState(""),c=w.useMemo(()=>DUe.filter(d=>{const u=e?d.user.toLowerCase().includes(e.toLowerCase()):!0,f=l?d.device===l:!0,x=a?d.login>=a:!0,m=n?d.login<=n:!0;return u&&f&&x&&m}),[e,l,a,n]);return r.jsx(aa,{title:"User Management  User Access Logs",children:r.jsxs("div",{className:"container mx-auto px-4 py-4",children:[r.jsx("h1",{className:"text-xl font-semibold mb-4",children:"User Access Logs"}),r.jsxs("div",{className:"glass-panel rounded-xl p-3 mb-3 grid grid-cols-1 md:grid-cols-5 gap-3",children:[r.jsx("input",{className:"input-soft",placeholder:"Filter by user",value:e,onChange:d=>t(d.target.value)}),r.jsx("input",{type:"date",className:"input-soft",value:a,onChange:d=>s(d.target.value)}),r.jsx("input",{type:"date",className:"input-soft",value:n,onChange:d=>i(d.target.value)}),r.jsx(Xa,{className:"w-full",options:MUe,value:l,onChange:d=>o(d),placeholder:"Device Type"}),r.jsx("button",{className:"btn btn-ghost",children:"Export"})]}),r.jsx("div",{className:"glass-panel rounded-xl overflow-x-auto",children:r.jsxs("table",{className:"nova-table w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"thead-soft",children:[r.jsx("th",{children:"User"}),r.jsx("th",{children:"Login Time"}),r.jsx("th",{children:"Logout Time"}),r.jsx("th",{children:"IP Address"}),r.jsx("th",{children:"Location"}),r.jsx("th",{children:"Device"}),r.jsx("th",{children:"Browser"})]})}),r.jsx("tbody",{children:c.map((d,u)=>r.jsxs("tr",{children:[r.jsx("td",{children:d.user}),r.jsx("td",{children:d.login}),r.jsx("td",{children:d.logout}),r.jsx("td",{children:d.ip}),r.jsx("td",{children:d.location}),r.jsx("td",{children:d.device}),r.jsx("td",{children:d.browser})]},u))})]})})]})})}const LUe=[{name:"Admin",users:3,createdAt:"2025-01-01",updatedAt:"2025-11-10"},{name:"Manager",users:5,createdAt:"2025-02-12",updatedAt:"2025-11-09"},{name:"Agent",users:12,createdAt:"2025-03-05",updatedAt:"2025-10-30"},{name:"Viewer",users:4,createdAt:"2025-04-15",updatedAt:"2025-09-22"}];function OUe(){const e=ti(),[t,a]=w.useState(""),[s,n]=w.useState(LUe),i=w.useMemo(()=>s.filter(o=>o.name.toLowerCase().includes(t.toLowerCase())),[s,t]),l=o=>{window.confirm("Delete this role?")&&n(c=>c.filter(d=>d.name!==o))};return r.jsx(aa,{title:"User Management  Roles & Permissions",children:r.jsxs("div",{className:"container mx-auto px-4 py-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h1",{className:"text-xl font-semibold",children:"Roles & Permissions"}),r.jsx(gr,{to:"/user-management/roles/new",className:"btn btn-primary",children:"Add New Role"})]}),r.jsxs("div",{className:"glass-panel rounded-xl p-3 mb-3 flex gap-2",children:[r.jsx("input",{className:"input-soft",placeholder:"Search roles",value:t,onChange:o=>a(o.target.value)}),r.jsx("button",{className:"btn btn-ghost",children:"Export"})]}),r.jsx("div",{className:"glass-panel rounded-xl overflow-x-auto",children:r.jsxs("table",{className:"nova-table w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"thead-soft",children:[r.jsx("th",{children:"Role Name"}),r.jsx("th",{children:"Number of Users"}),r.jsx("th",{children:"Created At"}),r.jsx("th",{children:"Updated At"}),r.jsx("th",{children:"Actions"})]})}),r.jsx("tbody",{children:i.map(o=>r.jsxs("tr",{children:[r.jsx("td",{className:"font-medium",children:o.name}),r.jsx("td",{children:o.users}),r.jsx("td",{children:o.createdAt}),r.jsx("td",{children:o.updatedAt}),r.jsx("td",{children:r.jsx(EQ,{onEdit:()=>e(`/user-management/roles/${o.name}`),onToggleActive:()=>{},onDelete:()=>l(o.name)})})]},o.name))})]})})]})})}const RUe={Tickets:["view","create","update","delete","assign","close"],Customers:["view","create","update","delete"],SLA:["view","create","update","delete"],Reports:["view","export"],"User Management":["view","create","update","delete","changeRole"],Settings:["view","update"],Integrations:["view","configure"],"Custom Modules":["view","create","update","delete"]};function FUe(){const e=ti(),{id:t}=Jee(),[a,s]=w.useState(t||""),[n,i]=w.useState(""),[l,o]=w.useState({}),[c,d]=w.useState({}),u=(x,m)=>{o(g=>{const v=new Set(g[x]||[]);return v.has(m)?v.delete(m):v.add(m),{...g,[x]:Array.from(v)}})},f=x=>{x.preventDefault();const m={};if(a.trim()||(m.roleName="Role Name is required"),d(m),Object.keys(m).length)return;console.log("Save Role payload",{roleName:a,description:n,permissions:l}),alert("Role saved (mock)."),e("/user-management/roles")};return r.jsx(aa,{title:`Role  ${a||"New Role"}`,children:r.jsxs("div",{className:"container mx-auto px-4 py-4",children:[r.jsx("h1",{className:"text-xl font-semibold mb-4",children:t?"Edit Role":"Add Role"}),r.jsxs("form",{onSubmit:f,className:"space-y-6",children:[r.jsx("div",{className:"glass-panel rounded-xl p-4",children:r.jsx("div",{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:"Role Name"})}),r.jsx("input",{className:"input input-bordered w-full bg-transparent",value:a,onChange:x=>s(x.target.value)}),c.roleName&&r.jsx("p",{className:"text-error text-sm mt-1",children:c.roleName})]}),r.jsxs("div",{children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:"Description"})}),r.jsx("input",{className:"input input-bordered w-full bg-transparent",value:n,onChange:x=>i(x.target.value)})]})]})})}),r.jsx("div",{className:"glass-panel rounded-xl p-4",children:r.jsxs("div",{children:[r.jsx("h2",{className:"card-title",children:"Permissions"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-3",children:Object.entries(RUe).map(([x,m])=>r.jsxs("div",{className:"glass-panel rounded-lg p-3",children:[r.jsx("div",{className:"font-medium mb-2",children:x}),r.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(g=>{const v=(l[x]||[]).includes(g);return r.jsxs("label",{className:"cursor-pointer flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",className:"checkbox",checked:v,onChange:()=>u(x,g)}),r.jsx("span",{children:g})]},g)})})]},x))})]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"}),r.jsx("button",{type:"button",className:"btn",onClick:()=>e("/user-management/roles"),children:"Cancel"})]})]})]})})}function pk({moduleKey:e}){return r.jsx(Sj,{})}function IUe(){return r.jsx(Sj,{})}function BUe(){return r.jsx(Sj,{})}function $Ue(){const{i18n:e}=Dt();return r.jsx("div",{className:e.language==="ar"?"rtl":"ltr",children:r.jsxs(hte,{children:[r.jsx(Et,{path:"/",element:r.jsx(xUe,{})}),r.jsx(Et,{path:"/login",element:r.jsx(ude,{})}),r.jsx(Et,{path:"/subscription-expired",element:r.jsx(mUe,{})}),r.jsx(Et,{path:"/upgrade",element:r.jsx(pUe,{})}),r.jsx(Et,{path:"/pricing",element:r.jsx(gUe,{})}),r.jsx(Et,{path:"/about",element:r.jsx(L6e,{})}),r.jsx(Et,{path:"/privacy",element:r.jsx(D6e,{})}),r.jsx(Et,{path:"/terms",element:r.jsx(M6e,{})}),r.jsx(Et,{path:"/welcome/contact",element:r.jsx(P6e,{})}),r.jsx(Et,{element:r.jsx(IUe,{}),children:r.jsxs(Et,{element:r.jsx(aa,{}),children:[r.jsx(Et,{path:"/dashboard",element:r.jsx(koe,{})}),r.jsx(Et,{path:"/customers",element:r.jsx(hde,{})}),r.jsx(Et,{path:"/support",element:r.jsx(y4e,{})}),r.jsx(Et,{path:"/support/tickets",element:r.jsx(N4e,{})}),r.jsx(Et,{path:"/support/customers",element:r.jsx(S4e,{})}),r.jsx(Et,{path:"/support/sla",element:r.jsx(k4e,{})}),r.jsx(Et,{path:"/support/reports",element:r.jsx(C4e,{})}),r.jsx(Et,{path:"/support/feedbacks",element:r.jsx(A4e,{})}),r.jsx(Et,{path:"/sales",element:r.jsx(s5,{to:"/sales/opportunities",replace:!0})}),r.jsx(Et,{path:"/sales/opportunities",element:r.jsx(Oye,{})}),r.jsx(Et,{path:"/sales/quotations",element:r.jsx(Rye,{})}),r.jsx(Et,{path:"/sales/orders",element:r.jsx(Fye,{})}),r.jsx(Et,{path:"/sales/invoices",element:r.jsx(Iye,{})}),r.jsxs(Et,{element:r.jsx(pk,{moduleKey:"leads"}),children:[r.jsx(Et,{path:"/leads",element:r.jsx(fye,{})}),r.jsx(Et,{path:"/leads/new",element:r.jsx(gye,{})}),r.jsx(Et,{path:"/recycle",element:r.jsx(pye,{})})]}),r.jsx(Et,{path:"/inventory/projects",element:r.jsx(_4e,{})}),r.jsx(Et,{path:"/inventory/properties",element:r.jsx($4e,{})}),r.jsx(Et,{path:"/inventory/requests",element:r.jsx(G4e,{})}),r.jsx(Et,{path:"/inventory/buyer-requests",element:r.jsx(K4e,{})}),r.jsx(Et,{path:"/inventory/seller-requests",element:r.jsx(Y4e,{})}),r.jsx(Et,{path:"/inventory/dev-companies",element:r.jsx(X4e,{})}),r.jsxs(Et,{element:r.jsx(pk,{moduleKey:"campaigns"}),children:[r.jsx(Et,{path:"/marketing",element:r.jsx(e5e,{})}),r.jsx(Et,{path:"/marketing/campaigns",element:r.jsx(N6e,{})}),r.jsx(Et,{path:"/marketing/landing-pages",element:r.jsx(S6e,{})}),r.jsx(Et,{path:"/marketing/landing-pages/add",element:r.jsx(O6e,{})}),r.jsx(Et,{path:"/marketing/meta-integration",element:r.jsx(k6e,{})}),r.jsx(Et,{path:"/marketing/reports",element:r.jsx(i9,{})}),r.jsx(Et,{path:"/marketing/reports/campaign-summary",element:r.jsx(i9,{})}),r.jsx(Et,{path:"/marketing/reports/lead-source-performance",element:r.jsx(A6e,{})}),r.jsx(Et,{path:"/marketing/reports/cost-vs-revenue",element:r.jsx(_6e,{})}),r.jsx(Et,{path:"/marketing/reports/monthly-overview",element:r.jsx(T6e,{})})]}),r.jsx(Et,{path:"/reports",element:r.jsx(mk,{})}),r.jsx(Et,{path:"/reports/overview",element:r.jsx(mk,{})}),r.jsx(Et,{path:"/reports/dashboard",element:r.jsx(mk,{})}),r.jsx(Et,{path:"/reports/sales",element:r.jsx(B6e,{})}),r.jsx(Et,{path:"/reports/sales/activities",element:r.jsx(iUe,{})}),r.jsx(Et,{path:"/reports/sales/pipeline",element:r.jsx(oUe,{})}),r.jsx(Et,{path:"/reports/sales/reservations",element:r.jsx(cUe,{})}),r.jsx(Et,{path:"/reports/sales/closed-deals",element:r.jsx(dUe,{})}),r.jsx(Et,{path:"/reports/sales/rent",element:r.jsx(uUe,{})}),r.jsx(Et,{path:"/reports/sales/check-in",element:r.jsx(hUe,{})}),r.jsx(Et,{path:"/reports/sales/customers",element:r.jsx(fUe,{})}),r.jsx(Et,{path:"/reports/sales/imports",element:r.jsx(nUe,{})}),r.jsx(Et,{path:"/reports/sales/exports",element:r.jsx(o$,{})}),r.jsx(Et,{path:"/exports",element:r.jsx(o$,{})}),r.jsx(Et,{path:"/reports/sales/meetings",element:r.jsx(sUe,{})}),r.jsx(Et,{path:"/reports/leads",element:r.jsx(rUe,{})}),r.jsx(Et,{path:"/reports/team",element:r.jsx(hk,{})}),r.jsx(Et,{path:"/reports/sms",element:r.jsx(l9,{titleKey:"Sms Report",descKey:"reports.sms.desc"})}),r.jsx(Et,{path:"/reports/calls",element:r.jsx(l9,{titleKey:"Calls Report",descKey:"reports.calls.desc"})}),r.jsx(Et,{path:"/reports/performance",element:r.jsx(hk,{})}),r.jsx(Et,{path:"/team-performance",element:r.jsx(hk,{})}),r.jsxs(Et,{element:r.jsx(pk,{moduleKey:"settings"}),children:[r.jsx(Et,{path:"/settings",element:r.jsx(s5,{to:"/settings/profile",replace:!0})}),r.jsx(Et,{path:"/settings/profile",element:r.jsx(Uke,{})}),r.jsx(Et,{path:"/settings/profile/company",element:r.jsx(zke,{})}),r.jsx(Et,{path:"/settings/profile/contact-info",element:r.jsx(Gke,{})}),r.jsx(Et,{path:"/settings/system/preferences",element:r.jsx(Kke,{})}),r.jsx(Et,{path:"/settings/system/modules",element:r.jsx(Yke,{})}),r.jsx(Et,{path:"/settings/system/security",element:r.jsx(Xke,{})}),r.jsx(Et,{path:"/settings/system/custom-fields",element:r.jsx(Jke,{})}),r.jsx(Et,{path:"/settings/system/audit-logs",element:r.jsx(Qke,{})}),r.jsx(Et,{path:"/settings/company-setup",element:r.jsx(s5,{to:"/settings/company-setup/info",replace:!0})}),r.jsx(Et,{path:"/settings/company-setup/info",element:r.jsx(w.Suspense,{fallback:r.jsx("div",{className:"p-4 text-sm",children:"Loading"}),children:r.jsx(UUe,{})})}),r.jsx(Et,{path:"/settings/company-setup/subscription",element:r.jsx(w.Suspense,{fallback:r.jsx("div",{className:"p-4 text-sm",children:"Loading"}),children:r.jsx(zUe,{})})}),r.jsx(Et,{path:"/settings/company-setup/modules",element:r.jsx(w.Suspense,{fallback:r.jsx("div",{className:"p-4 text-sm",children:"Loading"}),children:r.jsx(HUe,{})})}),r.jsx(Et,{path:"/settings/company-setup/departments",element:r.jsx(w.Suspense,{fallback:r.jsx("div",{className:"p-4 text-sm",children:"Loading"}),children:r.jsx(VUe,{})})}),r.jsx(Et,{path:"/settings/company-setup/visibility",element:r.jsx(w.Suspense,{fallback:r.jsx("div",{className:"p-4 text-sm",children:"Loading"}),children:r.jsx(WUe,{})})}),r.jsxs(Et,{element:r.jsx(BUe,{}),children:[" ",r.jsx(Et,{path:"/settings/billing/subscription",element:r.jsx(Zke,{})})," "]}),r.jsx(Et,{path:"/settings/billing/payment-history",element:r.jsx(eCe,{})}),r.jsx(Et,{path:"/settings/billing/plans-upgrade",element:r.jsx(tCe,{})}),r.jsx(Et,{path:"/settings/integrations/api-keys",element:r.jsx(aCe,{})}),r.jsx(Et,{path:"/settings/integrations/webhooks",element:r.jsx(rCe,{})}),r.jsx(Et,{path:"/settings/integrations/whatsapp",element:r.jsx(lCe,{})}),r.jsx(Et,{path:"/settings/integrations/payment-gateway",element:r.jsx(oCe,{})}),r.jsx(Et,{path:"/settings/integrations/google-slack",element:r.jsx(cCe,{})}),r.jsx(Et,{path:"/settings/data/import",element:r.jsx(dCe,{})}),r.jsx(Et,{path:"/settings/data/export",element:r.jsx(uCe,{})}),r.jsx(Et,{path:"/settings/data/backup",element:r.jsx(hCe,{})}),r.jsx(Et,{path:"/settings/operations/scripting",element:r.jsx(pCe,{})}),r.jsx(Et,{path:"/settings/operations/eoi",element:r.jsx(vCe,{})}),r.jsx(Et,{path:"/settings/operations/reservation",element:r.jsx(wCe,{})}),r.jsx(Et,{path:"/settings/operations/rotation",element:r.jsx(HCe,{})}),r.jsx(Et,{path:"/settings/operations/contracts",element:r.jsx(qCe,{})}),r.jsx(Et,{path:"/settings/operations/buyer-request-reset",element:r.jsx(XCe,{})}),r.jsx(Et,{path:"/settings/operations/matching",element:r.jsx(r6e,{})}),r.jsx(Et,{path:"/settings/operations/rent",element:r.jsx(d6e,{})}),r.jsx(Et,{path:"/settings/operations/cil",element:r.jsx(h6e,{})})]}),r.jsx(Et,{path:"/user-management/users",element:r.jsx(jUe,{})}),r.jsx(Et,{path:"/user-management/users/new",element:r.jsx(CUe,{})}),r.jsx(Et,{path:"/user-management/activity-logs",element:r.jsx(EUe,{})}),r.jsx(Et,{path:"/user-management/access-logs",element:r.jsx(PUe,{})}),r.jsx(Et,{path:"/user-management/roles",element:r.jsx(OUe,{})}),r.jsx(Et,{path:"/user-management/roles/:name",element:r.jsx(FUe,{})}),r.jsx(Et,{path:"/inventory/products",element:r.jsx(f6e,{})}),r.jsx(Et,{path:"/inventory/items",element:r.jsx(m6e,{})}),r.jsx(Et,{path:"/inventory/categories",element:r.jsx(p6e,{})}),r.jsx(Et,{path:"/inventory/brokers",element:r.jsx(x6e,{})}),r.jsx(Et,{path:"/inventory/developers",element:r.jsx(g6e,{})}),r.jsx(Et,{path:"/inventory/stock-management",element:r.jsx(v6e,{})}),r.jsx(Et,{path:"/inventory/transactions",element:r.jsx(b6e,{})}),r.jsx(Et,{path:"/inventory/warehouse",element:r.jsx(w6e,{})}),r.jsx(Et,{path:"/inventory/suppliers",element:r.jsx(y6e,{})}),r.jsx(Et,{path:"/contact",element:r.jsx(E6e,{})}),r.jsx(Et,{path:"/tasks",element:r.jsx(I6e,{})}),r.jsx(Et,{path:"/notifications",element:r.jsx(Eye,{})})]})})]})})}const UUe=w.lazy(()=>yi(()=>import("./CompanyInfoPage-eYFYPOLj.js"),__vite__mapDeps([0,1]))),zUe=w.lazy(()=>yi(()=>import("./SubscriptionPage-PLgolSJQ.js"),__vite__mapDeps([2,1]))),HUe=w.lazy(()=>yi(()=>import("./ModulesPage-qMr5GVqN.js"),__vite__mapDeps([3,1]))),VUe=w.lazy(()=>yi(()=>import("./DepartmentsPage-ogt3bzB6.js"),__vite__mapDeps([4,1]))),WUe=w.lazy(()=>yi(()=>import("./VisibilityPage-295nGPPL.js"),__vite__mapDeps([5,1])));function qUe(){const{i18n:e}=Dt();return r.jsx("div",{className:e.language==="ar"?"rtl":"ltr",children:r.jsx($Ue,{})})}const GUe=w.createContext({show:()=>{}}),KUe=({children:e})=>{const[t,a]=w.useState([]),s=w.useCallback(i=>{const l=Math.random().toString(36).slice(2),o={id:l,type:i?.type||"info",message:i?.message||""};a(c=>[...c,o]),setTimeout(()=>{a(c=>c.filter(d=>d.id!==l))},3500)},[]);w.useEffect(()=>{const i=l=>s(l.detail);return window.addEventListener("app:toast",i),()=>window.removeEventListener("app:toast",i)},[s]);const n=w.useMemo(()=>({show:s}),[s]);return r.jsxs(GUe.Provider,{value:n,children:[e,r.jsx("div",{className:"fixed bottom-4 right-4 space-y-2 z-50",children:t.map(i=>r.jsx("div",{className:`${i.type==="error"?"bg-red-600":i.type==="success"?"bg-green-600":"bg-slate-700"} text-white px-4 py-2 rounded shadow`,children:i.message},i.id))})]})};class YUe extends In.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(t,a){try{const s=new CustomEvent("app:toast",{detail:{type:"error",message:t?.message||"Unexpected error"}});window.dispatchEvent(s)}catch{}}render(){return this.state.hasError?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"p-6 rounded-lg border bg-white/80 dark:bg-neutral-900",children:r.jsx("div",{className:"text-red-600 font-semibold",children:"Something went wrong"})})}):this.props.children}}const xb=e=>new Promise(t=>setTimeout(t,e));async function XUe(){return await xb(250),{companyInfo:{companyName:"Be Souhola",industry:"Real Estate",address:"123 Example St, Cairo",phone:"+20 111 222 3333",logoUrl:""},subscription:{plan:"Pro",features:["settings","leads","clients","deals","reservations","contracts","operations","matching","billing","reports","notifications","integrations"]},enabledModules:["settings","leads","clients","deals","reservations","contracts","operations","matching","billing","reports","notifications","integrations"],departments:[{id:"dept-sales",name:"Sales",role:"Sales",users:12},{id:"dept-ops",name:"Operations",role:"Ops",users:9},{id:"dept-fin",name:"Finance",role:"Finance",users:5}],visibility:{Sales:["settings","leads","deals","reports"],Operations:["settings","contracts","matching","reservations","operations"],Finance:["settings","billing","contracts","reports"]}}}async function JUe(e){return await xb(200),{status:200,data:{ok:!0,companyInfo:e}}}async function QUe(e){return await xb(200),{status:200,data:{ok:!0,enabledModules:e}}}async function u$(e){return await xb(200),{status:200,data:{ok:!0,departments:e}}}async function ZUe(e){return await xb(200),{status:200,data:{ok:!0,visibility:e}}}const MQ=w.createContext(null);function eze({children:e}){const[t,a]=w.useState({companyName:"",industry:"",address:"",phone:"",logoUrl:""}),[s,n]=w.useState({plan:"Free",features:[]}),[i,l]=w.useState([]),[o,c]=w.useState([]),[d,u]=w.useState({}),[f,x]=w.useState(!1),m=w.useMemo(()=>({modules:i,departments:d}),[i,d]),g=w.useCallback(async N=>{a(A=>({...A,...N}));try{await JUe(N)}catch{}},[]),v=w.useCallback(async N=>{l(A=>A.includes(N)?A.filter(P=>P!==N):[...A,N]);try{await QUe(i)}catch{}},[i]),b=w.useCallback(async N=>{c(A=>[...A,{...N,id:N.id||`dept-${Date.now()}`}]);try{await u$(o)}catch{}},[o]),j=w.useCallback(async(N,A)=>{c(_=>_.map(D=>D.id===N?{...D,...A}:D));try{await u$(o)}catch{}},[o]),S=w.useCallback(async N=>{u(N);try{await ZUe(N)}catch{}},[]);w.useEffect(()=>{let N=!0;return(async()=>{x(!0);try{const A=await XUe();if(!N)return;a(A.companyInfo||{}),n(A.subscription||{plan:"Free",features:[]}),l(Array.isArray(A.enabledModules)?A.enabledModules:[]),c(Array.isArray(A.departments)?A.departments:[]),u(A.visibility||{})}finally{N&&x(!1)}})(),()=>{N=!1}},[]);const k=w.useMemo(()=>({companySetup:{companyInfo:t,subscription:s,enabledModules:i,departments:o,visibility:d},permissions:m,loading:f,updateCompanyInfo:g,toggleModule:v,addDepartment:b,updateDepartment:j,updateVisibility:S}),[t,s,i,o,d,m,f,g,v,b,j,S]);return r.jsx(MQ.Provider,{value:k,children:e})}function Kze(){const e=w.useContext(MQ);if(!e)throw new Error("useCompanySetup must be used within CompanySetupProvider");return e}Sr.register(...vle);try{if(typeof window<"u"&&window.localStorage){const e=window.localStorage.getItem("systemPrefs");if(e){const t=JSON.parse(e);t&&(Sr.defaults.elements=Sr.defaults.elements||{},Sr.defaults.elements.bar={...Sr.defaults.elements.bar||{},borderRadius:t.chartsRounded?6:0},Sr.defaults.scales={...Sr.defaults.scales||{},x:{...Sr.defaults.scales?.x||{},stacked:!!t.chartsStacked},y:{...Sr.defaults.scales?.y||{},stacked:!!t.chartsStacked}})}}}catch{}const tze=new gee;WZ.createRoot(document.getElementById("root")).render(r.jsx(w.StrictMode,{children:r.jsx(nae,{i18n:Rs,children:r.jsx(bee,{client:tze,children:r.jsx(Ote,{children:r.jsx(KUe,{children:r.jsx(Hle,{children:r.jsx(dde,{children:r.jsx(eze,{children:r.jsx(YUe,{children:r.jsx(qUe,{})})})})})})})})})}));export{aa as L,Vr as _,aze as c,vh as g,r as j,w as r,Kze as u};
//# sourceMappingURL=index-Dt6TpL0Z.js.map
